[{"tags": ["javascript", "node.js", "heroku"], "comments": [{"owner": {"reputation": 35, "user_id": 12358220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab02be048ba82bf7c5f17f829295012?s=128&d=identicon&r=PG&f=1", "display_name": "TREX_SON", "link": "https://stackoverflow.com/users/12358220/trex-son"}, "edited": false, "score": 1, "creation_date": 1574901979, "post_id": 59079996, "comment_id": 104397546, "body": "Never mind all, i finally fixed it with this <code>app.use(express.static(path.join(__dirname, &#39;Views&#39;)));</code>. Now a new error is up."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 12358220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab02be048ba82bf7c5f17f829295012?s=128&d=identicon&r=PG&f=1", "display_name": "TREX_SON", "link": "https://stackoverflow.com/users/12358220/trex-son"}, "edited": false, "score": 0, "creation_date": 1575174357, "post_id": 59119885, "comment_id": 104474451, "body": "Yes i finally did that, any ideas why i can access directories on Heroku"}], "tags": [], "owner": {"reputation": 547, "user_id": 3396971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c75295766cfc6c5950bb398fa6c7e2?s=128&d=identicon&r=PG", "display_name": "NemyaNation", "link": "https://stackoverflow.com/users/3396971/nemyanation"}, "is_accepted": true, "score": 1, "last_activity_date": 1575145052, "creation_date": 1575145052, "answer_id": 59119885, "question_id": 59079996, "link": "https://stackoverflow.com/questions/59079996/heroku-has-issues-with-js-and-css/59119885#59119885", "title": "Heroku has issues with js and css", "body": "<p>Looks to me like you haven't told the app to include assets created within your Views directory.</p>\n\n<p>You want to join the path of your assets to the asset tree using:</p>\n\n<pre><code>yourappname.use(express.static(path.join(__dirname, 'Views')))\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 12358220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab02be048ba82bf7c5f17f829295012?s=128&d=identicon&r=PG&f=1", "display_name": "TREX_SON", "link": "https://stackoverflow.com/users/12358220/trex-son"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 59119885, "answer_count": 1, "score": 0, "last_activity_date": 1575145052, "creation_date": 1574898935, "last_edit_date": 1574901300, "question_id": 59079996, "link": "https://stackoverflow.com/questions/59079996/heroku-has-issues-with-js-and-css", "title": "Heroku has issues with js and css", "body": "<p>I'm totally new to deploying node websites and i swear i never knew it was so tough i think, to do, i am using Heroku, i wish could use something better, but the problem i have is, the site works on my local server, why am i getting error after error with this Heroku cli. After i deploy, the index page is off because the css and javascript never worked, and the other links dont work, only the index works. I have seen a couple of solutions online but th estage i am right now, there see,s to be none online. \nHeres the error Heroku shows me in Logs:</p>\n\n<pre><code>2019-11-27T22:47:18.864670+00:00 heroku[router]: at=info method=GET path=\"/\" host=mysterious-inlet-01420.herokuapp.com request_id=ec247278-53f7-42d7-a562-699f102bda83 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=18ms status=404 bytes=412 protocol=https\n2019-11-27T22:47:18.864800+00:00 app[web.1]: Error: ENOENT: no such file or directory, stat '/app/assets/bootstrap/js/bootstrap.min.js'\n2019-11-27T22:47:22.312692+00:00 app[web.1]: Error: ENOENT: no such file or directory, stat '/app/assets/bootstrap/js/bootstrap.min.js'\n2019-11-27T22:47:22.313735+00:00 heroku[router]: at=info method=GET path=\"/\" host=mysterious-inlet-01420.herokuapp.com request_id=fc2a26bb-8fdd-4eaf-bd3f-81808ad438d2 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=3ms status=404 bytes=412\n2019-11-27T22:48:56.275049+00:00 heroku[web.1]: Restarting\n2019-11-27T22:48:56.292904+00:00 heroku[web.1]: State changed from up to starting\n2019-11-27T22:48:56.000000+00:00 app[api]: Build succeeded\n2019-11-27T22:48:57.256875+00:00 heroku[web.1]: Stopping all processes with SIGTERM\n2019-11-27T22:48:57.335477+00:00 heroku[web.1]: Process exited with status 143\n2019-11-27T22:49:01.596770+00:00 heroku[web.1]: Starting process with command `node app.js`\n2019-11-27T22:49:04.690575+00:00 app[web.1]: Server is up and running on port number 36856\n2019-11-27T22:49:06.029401+00:00 heroku[web.1]: State changed from starting to up\n2019-11-27T22:49:10.502475+00:00 heroku[router]: at=info method=GET path=\"/\" host=mysterious-inlet-01420.herokuapp.com request_id=0fe4b625-8759-41fb-857a-3b155051c664 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=22ms status=200 bytes=65133 protocol=https\n2019-11-27T22:49:10.608984+00:00 heroku[router]: at=info method=GET path=\"/assets/images/mfm-logo-png-122x122.png\" host=mysterious-inlet-01420.herokuapp.com request_id=a98b035b-4cd3-4065-8019-3d9ad1f190c8 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=5ms status=404 bytes=453 protocol=https\n2019-11-27T22:49:10.702991+00:00 heroku[router]: at=info method=GET path=\"/assets/images/019.jpg\" host=mysterious-inlet-01420.herokuapp.com request_id=c5e1353e-15f4-477e-b392-d9cce88f424e fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=3ms status=404 bytes=436 protocol=https\n2019-11-27T22:49:10.807554+00:00 heroku[router]: at=info method=GET path=\"/assets/popper/popper.min.js\" host=mysterious-inlet-01420.herokuapp.com request_id=4ebedaea-5639-480e-982f-3d98b1aefb42 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=4ms status=404 bytes=442 protocol=https\n2019-11-27T22:49:10.805252+00:00 heroku[router]: at=info method=GET path=\"/assets/images/02.jpg\" host=mysterious-inlet-01420.herokuapp.com request_id=81652694-340b-430c-84d2-f9256448fbcb fwd=\"73.8.104.52\" dyno=web.1 connect=2ms service=3ms status=404 bytes=435 protocol=https\n2019-11-27T22:49:10.787920+00:00 heroku[router]: at=info method=GET path=\"/assets/index-additional/event-cards.js\" host=mysterious-inlet-01420.herokuapp.com request_id=18f4b82e-28f5-42d6-a239-833f142d62d5 fwd=\"73.8.104.52\" dyno=web.1 connect=1ms service=2ms status=404 bytes=453 protocol=https\n2019-11-27T22:49:10.803912+00:00 heroku[router]: at=info method=GET path=\"/assets/index-additional/church-slider.js\" host=mysterious-inlet-01420.herokuapp.com request_id=b2715c95-10de-4e65-80e7-3d1d80a44123 fwd=\"73.8.104.52\" dyno=web.1 connect=2ms service=3ms status=404 bytes=455 protocol=https...\n\n</code></pre>\n\n<p>Anybody with any solution to this, or another platform that would allow me to deploy seamlessly without much changes\nMy Folder tree is like:</p>\n\n<pre><code>-mfm web\n--Views\n---assets\n    **js files\n</code></pre>\n"}, {"tags": ["javascript", "database", "google-earth-engine", "landsat"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12448699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43c5fe1b797751d31757272fb2cd5890?s=128&d=identicon&r=PG&f=1", "display_name": "shekhar ", "link": "https://stackoverflow.com/users/12448699/shekhar"}, "edited": false, "score": 0, "creation_date": 1575597164, "post_id": 59157022, "comment_id": 104629373, "body": "It worked for me, but is there any possible code to calculate annual median data? And how to export that data into .csv file"}], "tags": [], "owner": {"reputation": 380, "user_id": 2503890, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/60d375a5448e3039b77985c2d33d3add?s=128&d=identicon&r=PG", "display_name": "Biplov Bhandari", "link": "https://stackoverflow.com/users/2503890/biplov-bhandari"}, "is_accepted": false, "score": 0, "last_activity_date": 1575375707, "creation_date": 1575375707, "answer_id": 59157022, "question_id": 59079987, "link": "https://stackoverflow.com/questions/59079987/is-there-any-code-for-developing-30-years-data-for-ndvi-through-landsat/59157022#59157022", "title": "Is there any code for developing 30 years data for NDVI through landsat?", "body": "<p>You can use the mapping function to calculate the annual NDVI as the Image Collection. Here's how you can do it using Google Earth Engine.</p>\n\n<pre><code>var point = ee.Geometry.Point([-122.44210030630455, 37.73518696319849]);\nMap.centerObject(point, 9);\n\nvar l8 = ee.ImageCollection('LANDSAT/LC08/C01/T1_TOA');\n\nvar years = ee.List.sequence(2013, 2019);\n\nvar leastCloudIC = ee.ImageCollection(years.map(function (y) {\n    return ee.Image(\n        l8.filterBounds(point)\n          .filterDate(ee.Date.fromYMD(ee.Number(y), 01, 01), \n                      ee.Date.fromYMD(ee.Number(y), 12, 31))\n          .sort('CLOUD_COVER').first()\n    );\n}));\n\nvar annualNDVI = leastCloudIC.map(function (img) {\n    return img.normalizedDifference(['B5', 'B4']).rename('NDVI').set('system:time_start', img.get('system:time_start'));\n});\n\nvar ndviParams = {min: -1, max: 1, palette: ['blue', 'white', 'green']};\nvar ndvi2015 = annualNDVI.filterDate('2015-01-01', '2015-12-31').first();\nMap.addLayer(annualNDVI.filterDate('2015-01-01', '2015-12-31').first(), ndviParams, 'ndvi 2015');\n</code></pre>\n\n<p><a href=\"https://code.earthengine.google.com/465a35c69dea56076f1d732c633e42c4\" rel=\"nofollow noreferrer\">Here's</a> the GEE script for the same.</p>\n"}], "owner": {"reputation": 11, "user_id": 12448699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43c5fe1b797751d31757272fb2cd5890?s=128&d=identicon&r=PG&f=1", "display_name": "shekhar ", "link": "https://stackoverflow.com/users/12448699/shekhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1575375707, "creation_date": 1574898896, "last_edit_date": 1574902895, "question_id": 59079987, "link": "https://stackoverflow.com/questions/59079987/is-there-any-code-for-developing-30-years-data-for-ndvi-through-landsat", "title": "Is there any code for developing 30 years data for NDVI through landsat?", "body": "<p>Is this possible to get 30 years of greenest pixel, NDVI annual mean and median data for a particular coordinate without changing the dates manually for every single year?</p>\n\n<p>Currently, I am using the following code and manually changing the annual time frame to get the value. And how to export this data set in.csv file.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var l8 = ee.ImageCollection('LANDSAT/LC08/C01/T1_TOA');\nvar spatialFiltered = l8.filterBounds(point);\nprint('spatialFiltered', spatialFiltered);\nvar temporalFiltered = spatialFiltered.filterDate('2015-01-01', '2015-12-31');\nprint('temporalFiltered', temporalFiltered);\nvar sorted = temporalFiltered.sort('CLOUD_COVER');\nvar scene = sorted.first();\n</code></pre>\n\n<p>// Get the least cloudy image for 2015.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var image = ee.Image(\n    l8.filterBounds(point)\n        .filterDate('2015-01-01', '2015-12-31')\n        .sort('CLOUD_COVER')\n        .first()\n);\n</code></pre>\n\n<p>// (NDVI).</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var nir = image.select('B5');\nvar red = image.select('B4');\nvar ndvi = nir.subtract(red).divide(nir.add(red)).rename('NDVI');\n</code></pre>\n\n<p>//the result.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Map.centerObject(image, 9);\nvar ndviParams = {min: -1, max: 1, palette: ['blue', 'white', 'green']};\nMap.addLayer(ndvi, ndviParams, 'NDVI image');\nvar ndvi = image.normalizedDifference(['B5', 'B4']).rename('NDVI');\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ajax", "jquery-ui"], "comments": [{"owner": {"reputation": 6767, "user_id": 130211, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/P1o4L.jpg?s=128&g=1", "display_name": "G-Man", "link": "https://stackoverflow.com/users/130211/g-man"}, "edited": false, "score": 1, "creation_date": 1574899453, "post_id": 59079975, "comment_id": 104397063, "body": "<a href=\"https://jqueryui.com/autocomplete/\" rel=\"nofollow noreferrer\">jqueryui.com/autocomplete</a> should be source not sources ?"}], "answers": [{"comments": [{"owner": {"reputation": 254, "user_id": 4892810, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f5472856c562ed1add1c670c687818d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lorza", "link": "https://stackoverflow.com/users/4892810/lorza"}, "edited": false, "score": 0, "creation_date": 1574899736, "post_id": 59080078, "comment_id": 104397130, "body": "I owe you my life. Thank you"}], "tags": [], "owner": {"reputation": 6767, "user_id": 130211, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/P1o4L.jpg?s=128&g=1", "display_name": "G-Man", "link": "https://stackoverflow.com/users/130211/g-man"}, "is_accepted": true, "score": 0, "last_activity_date": 1574899645, "creation_date": 1574899645, "answer_id": 59080078, "question_id": 59079975, "link": "https://stackoverflow.com/questions/59079975/this-source-is-not-a-function-error-with-jquery-ui/59080078#59080078", "title": "this.source is not a function. Error with jquery-ui", "body": "<p>Should be source not sources</p>\n\n<p><a href=\"https://codepen.io/ernerock/pen/ByoqVo\" rel=\"nofollow noreferrer\">https://codepen.io/ernerock/pen/ByoqVo</a></p>\n\n<pre><code>$(function() {\n    var availableTags = [\n      \"Rock\",\n      \"Rap\",\n      \"Trova\",\n      \"Blues\",\n      \"Country\",\n      \"Folk\",\n      \"Jass\",\n      \"POP\",\n      \"Electronic\"\n    ];\n    $( \"#tags\" ).autocomplete({\n      source: availableTags\n    });\n  });\n</code></pre>\n"}], "owner": {"reputation": 254, "user_id": 4892810, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f5472856c562ed1add1c670c687818d4?s=128&d=identicon&r=PG&f=1", "display_name": "Lorza", "link": "https://stackoverflow.com/users/4892810/lorza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 916, "favorite_count": 0, "accepted_answer_id": 59080078, "answer_count": 1, "score": 0, "last_activity_date": 1574899645, "creation_date": 1574898795, "last_edit_date": 1574899206, "question_id": 59079975, "link": "https://stackoverflow.com/questions/59079975/this-source-is-not-a-function-error-with-jquery-ui", "title": "this.source is not a function. Error with jquery-ui", "body": "<p>jQuery-ui is throwing an error when attempting to use the autocomplete method</p>\n\n<pre><code>jquery-ui.min.js:8 Uncaught TypeError: this.source is not a function\n    at t.&lt;computed&gt;.&lt;computed&gt;._search (jquery-ui.min.js:8)\n    at t.&lt;computed&gt;.&lt;computed&gt;._search (jquery-ui.min.js:6)\n    at t.&lt;computed&gt;.&lt;computed&gt;.search (jquery-ui.min.js:8)\n    at t.&lt;computed&gt;.&lt;computed&gt;.search (jquery-ui.min.js:6)\n    at t.&lt;computed&gt;.&lt;computed&gt;.&lt;anonymous&gt; (jquery-ui.min.js:8)\n    at i (jquery-ui.min.js:6)\n</code></pre>\n\n<p>Here is my code</p>\n\n<pre><code>$.get('https:/{{pretend there is a proper url here}}/hygiene.php', {op: 'search', business: val}, (res) =&gt; {\n    res = JSON.parse(res);\n    var businesses = res.map(r =&gt; {return r.business})\n\n    $('#search-form').autocomplete({\n        sources: businesses,\n        appendTo: '#search-form'\n    })\n})\n</code></pre>\n\n<p>op and business are simply paramters required from the API to work.\nThe API works and there's nothing wrong with the call.\nThe call returns a json string of businesses (hence the JSON.parse)\nCalling map on the parsed array is to return only the names of the businesses as that is what I would like to display in the autocomplete.</p>\n\n<p>search form is a text input</p>\n\n<pre><code>&lt;input type='text' id='search-form'/&gt;\n</code></pre>\n\n<p>Am pretty sure it is an issue with jQuery and not my code.\nUsing:\n<a href=\"https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js\" rel=\"nofollow noreferrer\">https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js</a> cdn </p>\n\n<p>Any help would be appreciated</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1574899202, "post_id": 59079972, "comment_id": 104397016, "body": "Let\u2019s get the input constraints clear. Base on your example, input is (1) always one-liner, no extra whitespace, (2) could be parent-child struct, but no sibling presents. Is this the case for your input?"}, {"owner": {"reputation": 280, "user_id": 10132321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a28e96e75ee142f21407dd3d07b4a01?s=128&d=identicon&r=PG&f=1", "display_name": "smolo", "link": "https://stackoverflow.com/users/10132321/smolo"}, "reply_to_user": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "edited": false, "score": 0, "creation_date": 1574899501, "post_id": 59079972, "comment_id": 104397075, "body": "One-liner, no extra whitespace, no parent-child construct"}], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 3, "last_activity_date": 1574898888, "creation_date": 1574898888, "answer_id": 59079983, "question_id": 59079972, "link": "https://stackoverflow.com/questions/59079972/remove-formatting-html-tags-of-string-and-add-it-again/59079983#59079983", "title": "Remove formatting (html tags) of string and add it again", "body": "<p>Consider using a regex and a replacer function instead - match digits and return the replaced substring:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var string = \"&lt;b&gt;&lt;i&gt;123.34&lt;/i&gt;&lt;/b&gt;\";\r\nconst newString = string.replace(/\\d+(?:\\.\\d+)?/, match =&gt; (match / 60).toFixed(5));\r\nconsole.log(newString);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 280, "user_id": 10132321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a28e96e75ee142f21407dd3d07b4a01?s=128&d=identicon&r=PG&f=1", "display_name": "smolo", "link": "https://stackoverflow.com/users/10132321/smolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 59079983, "answer_count": 1, "score": 0, "last_activity_date": 1574900271, "creation_date": 1574898757, "last_edit_date": 1574900271, "question_id": 59079972, "link": "https://stackoverflow.com/questions/59079972/remove-formatting-html-tags-of-string-and-add-it-again", "title": "Remove formatting (html tags) of string and add it again", "body": "<p>Let's say there is a string that looks like this:\n(number enclosed by HTML tags)</p>\n\n<p>Example 1:</p>\n\n<pre><code>var string = \"&lt;b&gt;123.34&lt;/b&gt;\";\n</code></pre>\n\n<p>It could also look something like that (enclosed by any other html tags)</p>\n\n<p>Example 2:</p>\n\n<pre><code>var string = \"&lt;b&gt;&lt;i&gt;123.34&lt;/i&gt;&lt;/b&gt;\";\n</code></pre>\n\n<p>This replace is going to extract the number (or remove the html tags)</p>\n\n<pre><code>var stringNoTags = string.replace(/&lt;\\/?[^&gt;]+(&gt;|$)/g, \"\"); \n</code></pre>\n\n<p>Next I will format the number with a custom function (e.g. divide the number by 60 or apply any other mathematical operation)</p>\n\n<p>What I want now is to put the number back into the HTML tags. What is the easiest way to do this?</p>\n\n<p>E.g. </p>\n\n<p>If I divided 123.34 by 60, I would get 2.055 and by adding the HTML tags again, I would get back a string with </p>\n\n<pre><code>\"&lt;b&gt;&lt;i&gt;2.055&lt;/i&gt;&lt;/b&gt;\" \n</code></pre>\n\n<p>(Example 2)</p>\n"}, {"tags": ["javascript", "image", "printing", "command", "escpos"], "comments": [{"owner": {"reputation": 1823, "user_id": 1132822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4aaef3b356db1335eb1301720ac326f7?s=128&d=identicon&r=PG", "display_name": "Fernando Santiago", "link": "https://stackoverflow.com/users/1132822/fernando-santiago"}, "edited": false, "score": 0, "creation_date": 1581986265, "post_id": 59079931, "comment_id": 106612628, "body": "I am having the same problem, any news?"}, {"owner": {"reputation": 11, "user_id": 12374100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e498812f152b4cdbd671d107c35740?s=128&d=identicon&r=PG&f=1", "display_name": "Jose", "link": "https://stackoverflow.com/users/12374100/jose"}, "reply_to_user": {"reputation": 1823, "user_id": 1132822, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/4aaef3b356db1335eb1301720ac326f7?s=128&d=identicon&r=PG", "display_name": "Fernando Santiago", "link": "https://stackoverflow.com/users/1132822/fernando-santiago"}, "edited": false, "score": 0, "creation_date": 1582124163, "post_id": 59079931, "comment_id": 106669724, "body": "nothing my friend"}], "owner": {"reputation": 11, "user_id": 12374100, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e498812f152b4cdbd671d107c35740?s=128&d=identicon&r=PG&f=1", "display_name": "Jose", "link": "https://stackoverflow.com/users/12374100/jose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574898443, "creation_date": 1574898443, "question_id": 59079931, "link": "https://stackoverflow.com/questions/59079931/print-image-using-esc-pos-commands-javascript", "title": "print image using ESC POS commands Javascript", "body": "<p>I'm trying print image date using ESC POS commands in Javascript, but until now just crap is printing out.</p>\n\n<p>Command ESC *</p>\n\n<p>I'm using Javascript, trying print direct to bluethoo a image in bit64string.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/14099239/printing-a-bit-map-image-to-pos-printer-via-comport-in-c-sharp\">I tried this example with ESC @, ESC * command in Javscript </a></p>\n\n<p>It only prints me characters, but not the image</p>\n\n<p>Thank in advance</p>\n\n<pre><code> // let image = context.getImageData(0, 0, width, height)\n  getImageData(image, Width, Height){\n\n     var dimensions = Width * Height\n     var dots = new Uint8Array(dimensions)\n     var index = 0\n     var threshold = 127;\n     for (var y = 0; y &lt; Height; y++)\n     {         \n         for (var x = 0; x &lt; Width; x++)\n         {             \n            var color =   this.getPixelI(image, x, y)           \n            //let luminance  \n            let luminance =  (0.2126* color[0] + 0.7152 * color[1] + 0.0722 * color[2]);\n            dots[index] = luminance &lt; threshold              \n            index++;\n         }\n     }      \n     return dots\n  }\n\n getPixelI(imgData, x, y) {   \n    var i = y * (imgData.width * 4) + x * 4;    \n    var d = imgData.data;\n\n    return [d[i],d[i+1],d[i+2], d[i+3]]  // returns array [R,G,B,A]\n  }\n\n\n</code></pre>\n"}, {"tags": ["javascript", "java", "regex"], "comments": [{"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 2, "creation_date": 1574898260, "post_id": 59079901, "comment_id": 104396786, "body": "Try double escaping the backslashes"}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1574898771, "post_id": 59079901, "comment_id": 104396916, "body": "Pattern.compile(&quot;(20\\\\d{2})([0-1]\\\\d)([0-3]\\\\d)&quot;) like this?"}, {"owner": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 0, "creation_date": 1574898914, "post_id": 59079901, "comment_id": 104396947, "body": "Yes, did you try it out? You can write <code>[0-1]</code> as <code>[01]</code>"}, {"owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "reply_to_user": {"reputation": 91458, "user_id": 5424988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0b4f91c20dcd87cbd58dd351455198c?s=128&d=identicon&r=PG&f=1", "display_name": "The fourth bird", "link": "https://stackoverflow.com/users/5424988/the-fourth-bird"}, "edited": false, "score": 1, "creation_date": 1574898983, "post_id": 59079901, "comment_id": 104396969, "body": "I don&#39;t know yet there&#39;s multiple other patterns will update once I have tested properly"}], "answers": [{"tags": [], "owner": {"reputation": 136042, "user_id": 5221149, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s4qlq.png?s=128&g=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/5221149/andreas"}, "is_accepted": true, "score": 1, "last_activity_date": 1574900982, "creation_date": 1574900982, "answer_id": 59080218, "question_id": 59079901, "link": "https://stackoverflow.com/questions/59079901/convert-js-regexp-object-into-a-pattern-object-in-java/59080218#59080218", "title": "Convert JS RegExp object into a Pattern object in Java", "body": "<p>Any <code>\\</code> or <code>\"</code> in the regex needs to be escaped for the Java string literal.</p>\n\n<pre><code>final Pattern itemModelRegEx = Pattern.compile(\n        \"^(item1|item2|item3|item4)(-)(\\\\d{4}((0[1-9])|(1[0-2]))(0[1-9]|[1-2][0-9]|3[0-1]))(?:.*)\",\n        Pattern.CASE_INSENSITIVE);\nfinal Pattern dateRegex = Pattern.compile(\n        \"(20\\\\d{2})([0-1]\\\\d)([0-3]\\\\d)\",\n        Pattern.CASE_INSENSITIVE);\n</code></pre>\n\n<p>The <code>i</code> flag is the <code>CASE_INSENSITIVE</code> flag, and can be specified separately as done in the JS code and in the Java code above. It can also be embedded in the regex itself as <code>(?i)</code>, though specifying it for the second pattern doesn't make sense, given that it only matches digits:</p>\n\n<pre><code>final Pattern itemModelRegEx = Pattern.compile(\n        \"(?i)^(item1|item2|item3|item4)(-)(\\\\d{4}((0[1-9])|(1[0-2]))(0[1-9]|[1-2][0-9]|3[0-1]))(?:.*)\");\nfinal Pattern dateRegex = Pattern.compile(\n        \"(20\\\\d{2})([0-1]\\\\d)([0-3]\\\\d)\");\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 6471558, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e692dc54be613fd108b9f82f8ba3c0a2?s=128&d=identicon&r=PG&f=1", "display_name": "Haq.H", "link": "https://stackoverflow.com/users/6471558/haq-h"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "closed_date": 1574901852, "accepted_answer_id": 59080218, "answer_count": 1, "score": 0, "last_activity_date": 1574900982, "creation_date": 1574898208, "question_id": 59079901, "link": "https://stackoverflow.com/questions/59079901/convert-js-regexp-object-into-a-pattern-object-in-java", "closed_reason": "Duplicate", "title": "Convert JS RegExp object into a Pattern object in Java", "body": "<p>So I have these Regex Objs in JS</p>\n\n<pre><code>const itemModelRegEx = new RegExp\n(/^(item1|item2|item3|item4)(-)(\\d{4}((0[1-9])|(1[0-2]))(0[1-9]|[1-2][0-9]|3[0-1]))(?:.*)/, 'i',);\n\nconst dateRegex = new RegExp(/(20\\d{2})([0-1]\\d)([0-3]\\d)/i);\n\n</code></pre>\n\n<p>currently I am trying to convert them to Java as such: </p>\n\n<pre><code>String regexOne = \"^(item1|item2|item3|item4)(-)(\\d{4}((0[1-9])|(1[0-2]))(0[1-9]|[1-2][0-9]|3[0-1]))(?:.*)\"\nPattern itemModelRegEx = Pattern.compile(regexOne);\n\nPattern dateRegex = Pattern.compile(\"(20\\d{2})([0-1]\\d)([0-3]\\d)\");\n</code></pre>\n\n<p>However, this doesn't seem to be correct. What would a proper conversion here look like? Would the same wildcards apply? I removed the \"/\" from start and end but should the \"\\\" in the pattern be set-up differently?</p>\n"}, {"tags": ["javascript", "reactjs", "rest", "api"], "comments": [{"owner": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574897816, "post_id": 59079828, "comment_id": 104396674, "body": "why are the headers embedded in the Url ?"}, {"owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "reply_to_user": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574897876, "post_id": 59079828, "comment_id": 104396686, "body": "I was just trying various things, that was my last hope haha"}, {"owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "reply_to_user": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574897908, "post_id": 59079828, "comment_id": 104396699, "body": "where should the headers be?"}, {"owner": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574897910, "post_id": 59079828, "comment_id": 104396700, "body": "Everything starting with Authorization should be in the headers, see here for how to set headers <a href=\"https://stackoverflow.com/questions/41790854/set-header-using-in-react-ajax\" title=\"set header using in react ajax\">stackoverflow.com/questions/41790854/&hellip;</a>"}, {"owner": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574898042, "post_id": 59079828, "comment_id": 104396729, "body": "Also it is a terrible idea to put your client secrets and tokens in public websites just FYI"}, {"owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "reply_to_user": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574898184, "post_id": 59079828, "comment_id": 104396757, "body": "I was thinking that, it&#39;s just for college anyway. Should the Auth and content-type also be put in the same as the headers?"}, {"owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "reply_to_user": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574898197, "post_id": 59079828, "comment_id": 104396762, "body": "Seriously though man, thanks for your help."}, {"owner": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574898560, "post_id": 59079828, "comment_id": 104396874, "body": "It doesn&#39;t matter why and how you are using it, you are putting the API provider&#39;s system at risk. Read about HTTP headers, what they mean and how they are used, the answer should be straight forward"}, {"owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "reply_to_user": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1574898613, "post_id": 59079828, "comment_id": 104396885, "body": "Noted, and deleted the tokens, and secrets. Have a good one sir!!!"}], "owner": {"reputation": 125, "user_id": 12400799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H1xMp.jpg?s=128&g=1", "display_name": "KeithNolo", "link": "https://stackoverflow.com/users/12400799/keithnolo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574898563, "creation_date": 1574897621, "last_edit_date": 1574898563, "question_id": 59079828, "link": "https://stackoverflow.com/questions/59079828/i-cant-figure-out-how-to-make-the-api-call-for-predicthq-api", "title": "I can&#39;t figure out how to make the api call for predictHQ api", "body": "<p>I am trying to make an API call to show events in the area. \nI am kind of new to API calls especially on react. I have trying to call this API for the past few hours I've tried various things, but I think I just don't understand the API docs fully. I was wondering if anyone could take a look?  I can make a call from postman, but I'm not sure how to do it in react.\nThe response I am getting back from the console is a 401 (Client authentication failed)</p>\n\n<p>I am just trying to call the API to the console for now. </p>\n\n<p>Heres the docs: <a href=\"https://developer.predicthq.com/oauth2/\" rel=\"nofollow noreferrer\">https://developer.predicthq.com/oauth2/</a></p>\n\n<p>I would really appreciate any help, even its a better API than the one i'm using.\nthanks</p>\n\n<pre><code>\nimport React, { Component } from 'react';\nimport axios from 'axios';\n\nexport default class Home extends Component {\n\n    constructor() {\n        super();\n        this.state = {\n            isLoading: true,\n            events: [],\n        };\n    }\n\n    componentDidMount() {\n        this.fetchApi();\n\n    }\n\n    fetchApi() {\n\n        axios.get('https://api.predicthq.com/v1/events/?q=music&amp;city=galway&amp;country=IE')\n            .then(response =&gt; response.json())\n            .then(parsedJSON =&gt; (parsedJSON.results))\n            .catch(error =&gt; console.log('parse failed', error\n            ))\n    }\n\n    render() {\n        const { isLoading, events } = this.state;\n\n        return (\n\n            &lt;div className={`content ${isLoading}? 'is-loading: ''`}&gt;\n                &lt;div&gt;\n                    {\n                        !isLoading &amp;&amp; events.length &gt; 0 ? events.map(event =&gt; {\n                            return &lt;div&gt;\n                                &lt;p&gt;Api: &lt;/p&gt;\n                            &lt;/div&gt;\n                        }) : null\n                    }\n                &lt;/div&gt;\n\n                &lt;div className=\"loader\"&gt;\n\n\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n\n        )\n    }\n}\n\n\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6"], "comments": [{"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1574898382, "post_id": 59079784, "comment_id": 104396829, "body": "Make sure your app setup supports &#39;class field declarations&#39; syntax if you want to initialise state this way: <a href=\"https://www.robinwieruch.de/react-state-without-constructor\" rel=\"nofollow noreferrer\">robinwieruch.de/react-state-without-constructor</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 2, "creation_date": 1574898964, "post_id": 59079928, "comment_id": 104396958, "body": "If you are going to use bind it is better to do it in a constructor if you are using a class so that it doesn&#39;t bind a new method every render: <code>this.removeElement = this.removeElement.bind(this)</code>"}], "tags": [], "owner": {"reputation": 11681, "user_id": 3617380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53b845bcd82ba802f57e2c8256fcba97?s=128&d=identicon&r=PG&f=1", "display_name": "hackape", "link": "https://stackoverflow.com/users/3617380/hackape"}, "is_accepted": true, "score": 1, "last_activity_date": 1574898411, "creation_date": 1574898411, "answer_id": 59079928, "question_id": 59079784, "link": "https://stackoverflow.com/questions/59079784/typeerror-cannot-read-property-characters-of-undefined/59079928#59079928", "title": "TypeError: Cannot read property &#39;characters&#39; of undefined", "body": "<p>That\u2019s a typical react <code>this</code> pitfall. When you pass a method of parent class to child components as prop, most of the time, you want its <code>this</code> bound.</p>\n\n<pre><code>&lt;Table\n    data={this.state.characters}\n    deleted={this.removeElement.bind(this)}\n/&gt;\n</code></pre>\n\n<p>Better, you can use arrow function syntax to declare the method in the first place, so you don\u2019t need to worry about the <code>this</code> problem later on. </p>\n\n<pre><code>removeElement = (index) =&gt; { ... }\n</code></pre>\n\n<p>Now <code>.bind(this)</code> is no longer necessary. </p>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "is_accepted": false, "score": 1, "last_activity_date": 1574898459, "creation_date": 1574898459, "answer_id": 59079934, "question_id": 59079784, "link": "https://stackoverflow.com/questions/59079784/typeerror-cannot-read-property-characters-of-undefined/59079934#59079934", "title": "TypeError: Cannot read property &#39;characters&#39; of undefined", "body": "<p>use arrow function as class method:</p>\n\n<pre><code>removeElement = (index)=&gt;{\n\n    this.setState({\n     characters: this.state.characters.filter(i=&gt;{\n        return i !== index\n      })\n\n    })\n    console.log(\"remove\"+this.state.characters)\n  }\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 11066242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/191e1b45376c47436934bc4ec53f8b97?s=128&d=identicon&r=PG&f=1", "display_name": "user11066242", "link": "https://stackoverflow.com/users/11066242/user11066242"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 59079928, "answer_count": 2, "score": 2, "last_activity_date": 1574898459, "creation_date": 1574897240, "last_edit_date": 1574897858, "question_id": 59079784, "link": "https://stackoverflow.com/questions/59079784/typeerror-cannot-read-property-characters-of-undefined", "title": "TypeError: Cannot read property &#39;characters&#39; of undefined", "body": "<p>I have added a method which I want to use on a button.I am trying to delete a field from the table but getting an error. I had initially declared the state with an array.I assume that this error is being generated while setting the state with the filtered array. I am not sure what's wrong here. </p>\n\n<p>Error:\n<code>TypeError: Cannot read property 'characters' of undefined</code>\n<a href=\"https://i.stack.imgur.com/RUWq7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RUWq7.png\" alt=\"enter image description here\"></a>\nApp.js:</p>\n\n<pre><code>import Table from './Table';\nimport React, { Component } from 'react'\n\nexport default class App extends Component {\n  state={\n    characters : [\n      {\n        name: 'Smit',\n        job: 'Theme Specialist',\n      },\n      {\n        name: 'Charlie',\n        job: 'Janitor',\n      },\n      {\n        name: 'Mac',\n        job: 'Bouncer',\n      },\n      {\n        name: 'Dee',\n        job: 'Aspring actress',\n      },\n      {\n        name: 'Dennis',\n        job: 'Bartender',\n      },\n    ]\n  }\n\n  removeElement(index){\n\n    this.setState({\n     characters: this.state.characters.filter(i=&gt;{\n        return i !== index\n      })\n\n    })\n    console.log(\"remove\"+this.state.characters)\n  }\n  render() {\n\n    return (\n      &lt;div&gt;\n           &lt;Table data={this.state.characters} deleted={this.removeElement}/&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n\n<p>Table.js:</p>\n\n<pre><code>import React, { Component } from 'react'\n\n\n\n\nfunction TableHeader() {\n    return (\n        &lt;thead&gt;\n        &lt;tr&gt;\n          &lt;th&gt;Name&lt;/th&gt;\n          &lt;th&gt;Job&lt;/th&gt;\n        &lt;/tr&gt;\n      &lt;/thead&gt;\n    )\n}\n\nfunction TableBody(props) {\n\n       const dataBody= props.data.map( (index)=&gt;{\n\n               return(\n\n                    &lt;tr key={index.data}&gt;\n\n                        &lt;td&gt;\n                         {index.name}\n                        &lt;/td&gt;\n                        &lt;td&gt;\n                         {index.job}\n                        &lt;/td&gt;\n                        &lt;button onClick={()=&gt;\n                            props.deleted(index)\n                        }&gt;\n                            Delete\n                        &lt;/button&gt;\n                    &lt;/tr&gt;\n\n               )\n           })\n    return(\n        &lt;tbody&gt;\n            {dataBody}\n        &lt;/tbody&gt;\n    ) \n\n\n}\n\nexport default class Table extends Component {\n    render() {\n\n\n        return (\n\n    &lt;table&gt;\n       &lt;TableHeader/&gt;\n       &lt;TableBody data={this.props.data} deleted={this.props.deleted}/&gt;\n\n      &lt;/table&gt;\n\n        )\n    }\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "html", "css", "vue.js"], "comments": [{"owner": {"reputation": 931, "user_id": 12305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zK6Rb.jpg?s=128&g=1", "display_name": "pensum", "link": "https://stackoverflow.com/users/12305676/pensum"}, "edited": false, "score": 0, "creation_date": 1574897131, "post_id": 59079730, "comment_id": 104396511, "body": "Hi! Welcome to Stack Overflow. What have you tried already? What don&#39;t you understand specifically? Please provide some code so that we can help you."}, {"owner": {"reputation": 11, "user_id": 12448734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBlikBeQSf1Nq-KwVqjfMAYw7S_xgZsTCyZBI1_pg=k-s128", "display_name": "Eko Bilske", "link": "https://stackoverflow.com/users/12448734/eko-bilske"}, "reply_to_user": {"reputation": 931, "user_id": 12305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zK6Rb.jpg?s=128&g=1", "display_name": "pensum", "link": "https://stackoverflow.com/users/12305676/pensum"}, "edited": false, "score": 0, "creation_date": 1574897442, "post_id": 59079730, "comment_id": 104396598, "body": "Thank you for the answer, I supplemented my question with ready-made code"}, {"owner": {"reputation": 11, "user_id": 12448734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBlikBeQSf1Nq-KwVqjfMAYw7S_xgZsTCyZBI1_pg=k-s128", "display_name": "Eko Bilske", "link": "https://stackoverflow.com/users/12448734/eko-bilske"}, "reply_to_user": {"reputation": 931, "user_id": 12305676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zK6Rb.jpg?s=128&g=1", "display_name": "pensum", "link": "https://stackoverflow.com/users/12305676/pensum"}, "edited": false, "score": 0, "creation_date": 1574897507, "post_id": 59079730, "comment_id": 104396615, "body": "I don\u2019t understand how to track the size of an open window, and snap it to the size of the tiles displayed"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 12448734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBlikBeQSf1Nq-KwVqjfMAYw7S_xgZsTCyZBI1_pg=k-s128", "display_name": "Eko Bilske", "link": "https://stackoverflow.com/users/12448734/eko-bilske"}, "edited": false, "score": 0, "creation_date": 1574926736, "post_id": 59079989, "comment_id": 104403630, "body": "Initially, there was an implementation on grids, but the task should be done on vue.js"}], "tags": [], "owner": {"reputation": 21, "user_id": 4301910, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0i-NvdQV29c/AAAAAAAAAAI/AAAAAAAAAGQ/7wuUGGhTYdY/photo.jpg?sz=128", "display_name": "lkjimy", "link": "https://stackoverflow.com/users/4301910/lkjimy"}, "is_accepted": false, "score": 0, "last_activity_date": 1574898902, "creation_date": 1574898902, "answer_id": 59079989, "question_id": 59079730, "link": "https://stackoverflow.com/questions/59079730/responsive-gallery-vue-js/59079989#59079989", "title": "Responsive gallery Vue.js", "body": "<p>As i understand, you want to make responsive square divs, right?</p>\n\n<p>A simple approach would be sizing the div with a viewport width (<code>vw</code>) value. You can see it in use on the values of hight and width of the <code>.cat</code> div bellow.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.wrapper{\r\n  display:flex;\r\n}\r\n\r\n.cat {\r\n  height: 25vw;\r\n  width: 25vw;\r\n  background-image: url(\"https://media.wired.com/photos/5cdefc28b2569892c06b2ae4/master/w_2560%2Cc_limit/Culture-Grumpy-Cat-487386121-2.jpg\");\r\n  background-size: cover;\r\n  background-position: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"wrapper\"&gt; \r\n  &lt;div class=\"cat\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"cat\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"cat\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"cat\"&gt;&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There are other methods around, but i think this one is pretty straightforward. You may find useful info here: <a href=\"https://stackoverflow.com/questions/19068070/how-to-style-a-div-to-be-a-responsive-square\">How to style a div to be a responsive square?</a></p>\n"}], "owner": {"reputation": 11, "user_id": 12448734, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBlikBeQSf1Nq-KwVqjfMAYw7S_xgZsTCyZBI1_pg=k-s128", "display_name": "Eko Bilske", "link": "https://stackoverflow.com/users/12448734/eko-bilske"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 157, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574898902, "creation_date": 1574896876, "last_edit_date": 1574897413, "question_id": 59079730, "link": "https://stackoverflow.com/questions/59079730/responsive-gallery-vue-js", "title": "Responsive gallery Vue.js", "body": "<p>Good evening everyone, I\u2019m doing a portfolio page, and you need to resize blocks on vue.js depending on the size of the window.<a href=\"https://i.stack.imgur.com/sznzr.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>The tile in the image should always be square, and when resizing it can decrease (to a certain size) or the number of tiles in a row simply changes. I do not understand how to do it</p>\n\n<p>Below I will present the entire layout that I have done, perhaps it needs to be changed. I want to clarify right away that I only comprehend web design, so the layout and the code itself may not be perfect</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener('load', () =&gt; {\r\n    const loadPhoto = new Vue({\r\n        el: '#app',\r\n        data: {\r\n            photos:[\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                    {name: 'photo1', url: 'assets/plate-photo/plate_one.jpg'},\r\n                    {name: 'photo2', url: 'assets/plate-photo/plate_two.jpg'},\r\n                    {name: 'photo3', url: 'assets/plate-photo/plate_three.jpg'},\r\n                    {name: 'photo4', url: 'assets/plate-photo/plate_four.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_five.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_six.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_seven.jpg'},\r\n                    {name: 'photo5', url: 'assets/plate-photo/plate_eate.jpg'},\r\n                    {name: 'photo6', url: 'assets/plate-photo/plate_nine.jpg'},\r\n                    {name: 'photo7', url: 'assets/plate-photo/plate_ten.jpg'},\r\n                ]\r\n        },\r\n    });\r\n    \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@media (max-width: 500px) {\r\n  .nav-wrap {\r\n    display: none;\r\n  }\r\n  .nav-wrap .container {\r\n    opacity: 1;\r\n  }\r\n}\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  font-family: 'Work Sans', sans-serif;\r\n  user-select: none;\r\n}\r\n\r\n.content-padding {\r\n  padding-right: 20px;\r\n}\r\n\r\n.wrap-body {\r\n  display: flex;\r\n}\r\n.wrap-body .nav-wrap {\r\n  width: 400px;\r\n  height: 100vh;\r\n  background-color: #242b2e;\r\n  box-shadow: 0px 4px 20px #3d3d3d;\r\n  z-index: 100;\r\n  position: sticky;\r\n  top: 0;\r\n  left: 0;\r\n}\r\n.wrap-body .nav-wrap .logo-wrap {\r\n  padding-top: 15px;\r\n  padding-bottom: 15px;\r\n  display: flex;\r\n  justify-content: center;\r\n  background-color: #fff;\r\n}\r\n.wrap-body .nav-wrap .logo-wrap .logo .logo-svg {\r\n  width: 250px;\r\n}\r\n.wrap-body .nav-wrap .nav-main-wrap .main-title li {\r\n  text-align: right;\r\n  padding: 20px;\r\n  background: linear-gradient(#333b3f, #2f363a);\r\n  transition: .5s;\r\n  transition-delay: .4s;\r\n  -webkit-transition: .5s;\r\n  -moz-transition: .5s;\r\n  -ms-transition: .5s;\r\n  -o-transition: .5s;\r\n}\r\n.wrap-body .nav-wrap .nav-main-wrap .main-title li a {\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  color: #fff;\r\n  font-weight: 400;\r\n  font-size: 18px;\r\n}\r\n.wrap-body .nav-wrap .nav-main-wrap .main-title li:hover {\r\n  background: none;\r\n  background-color: #2db8b7;\r\n}\r\n.wrap-body .nav-wrap .nav-main-wrap .main-title li:hover &gt; a {\r\n  text-shadow: 0px 0px 10px #464646;\r\n}\r\n.wrap-body .nav-wrap .nav-main-wrap .main-title li:focus {\r\n  background-color: #30383c;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap {\r\n  padding-top: 25px;\r\n  border-bottom: 1px solid #1e282b;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-title {\r\n  text-align: right;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-title .filter-title-text {\r\n  color: #2db8b7;\r\n  font-size: 18px;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-title .filter-img {\r\n  width: 20px;\r\n  margin-left: 12px;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list {\r\n  margin-top: 25px;\r\n  margin-bottom: 25px;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list li {\r\n  margin-bottom: 15px;\r\n  text-align: right;\r\n  transform: .8s;\r\n  -webkit-transform: .8s;\r\n  -moz-transform: .8s;\r\n  -ms-transform: .8s;\r\n  -o-transform: .8s;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list li .filter-btn {\r\n  font-size: 14px;\r\n  color: #6b7072;\r\n  text-decoration: none;\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list li .filter-btn:hover {\r\n  color: #929697;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list li .filter-btn:focus {\r\n  color: #ffffff;\r\n  text-transform: uppercase;\r\n}\r\n.wrap-body .nav-wrap .filter-wrap .filter-list li:last-child {\r\n  margin-bottom: 0;\r\n}\r\n.wrap-body .nav-wrap .nav-footer-wrap {\r\n  padding-top: 30px;\r\n}\r\n.wrap-body .nav-wrap .nav-footer-wrap .social-wrap {\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.wrap-body .nav-wrap .nav-footer-wrap .social-wrap .icon {\r\n  width: 25px;\r\n  height: 25px;\r\n  margin-left: 10px;\r\n}\r\n.wrap-body .nav-wrap .nav-footer-wrap .text-sub-footer {\r\n  text-align: right;\r\n  padding-top: 30px;\r\n  padding-bottom: 30px;\r\n}\r\n.wrap-body .nav-wrap .nav-footer-wrap .text-sub-footer .text-sub {\r\n  color: #929697;\r\n  font-size: 14px;\r\n}\r\n.wrap-body .main-wrap {\r\n  position: relative;\r\n}\r\n.wrap-body .main-wrap .info-tab {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  z-index: 100;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-btn {\r\n  width: 70px;\r\n  height: 70px;\r\n  padding: 4px;\r\n  background-color: #2db8b7;\r\n  border: none;\r\n  border-radius: 2px;\r\n  outline: none;\r\n  transition: .3s;\r\n  -webkit-transition: .3s;\r\n  -moz-transition: .3s;\r\n  -ms-transition: .3s;\r\n  -o-transition: .3s;\r\n  box-shadow: 0px -1px 3px #000000;\r\n  -webkit-border-radius: 2px;\r\n  -moz-border-radius: 2px;\r\n  -ms-border-radius: 2px;\r\n  -o-border-radius: 2px;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-btn .btn-logo {\r\n  border: 1px solid #ffffff;\r\n  padding: 5px;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-tab-wrap {\r\n  width: 100%;\r\n  height: 100%;\r\n  background-color: #1f1f1f;\r\n  padding: 10px;\r\n  opacity: 0;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-tab-wrap .info-tab-list {\r\n  height: 25px;\r\n  margin: 10px;\r\n  display: flex;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-tab-wrap .info-tab-list .info-tab-icon {\r\n  width: 25px;\r\n  height: 25px;\r\n  fill: #fff;\r\n  margin-right: 20px;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-tab-wrap .info-tab-list .info-tab-text {\r\n  font-size: 14px;\r\n  color: #fff;\r\n  font-weight: 600;\r\n}\r\n.wrap-body .main-wrap .info-tab .info-btn:active + .info-tab-wrap {\r\n  opacity: 1;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat {\r\n  width: 200px;\r\n  height: 200px;\r\n  position: relative;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .img {\r\n  width: 100%;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  position: absolute;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  opacity: 0;\r\n  transition: .2s;\r\n  -webkit-transition: .2s;\r\n  -moz-transition: .2s;\r\n  -ms-transition: .2s;\r\n  -o-transition: .2s;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-sup {\r\n  font-size: 1.2em;\r\n  color: #fff;\r\n  margin-bottom: 5px;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-sub {\r\n  font-size: 14px;\r\n  color: #fff;\r\n  margin-bottom: 10px;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-underline {\r\n  width: 140px;\r\n  height: 1px;\r\n  background-color: #fff;\r\n  margin-bottom: 10px;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-btn {\r\n  border: none;\r\n  background: none;\r\n  outline: none;\r\n  transition: .3s;\r\n  -webkit-transition: .3s;\r\n  -moz-transition: .3s;\r\n  -ms-transition: .3s;\r\n  -o-transition: .3s;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-btn .hover-title-right {\r\n  width: 15px;\r\n  height: 15px;\r\n  padding: 15px;\r\n  border: 1px solid #ffffff;\r\n  border-radius: 50%;\r\n  -webkit-border-radius: 50%;\r\n  -moz-border-radius: 50%;\r\n  -ms-border-radius: 50%;\r\n  -o-border-radius: 50%;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat .hover-title .hover-title-btn:focus &gt; .hover-title-right {\r\n  border: 2px solid #ffffff;\r\n}\r\n.wrap-body .main-wrap .portfolio-wrap .wrapper-plat:hover &gt; .hover-title {\r\n  background-color: rgba(45, 184, 183, 0.9);\r\n  opacity: 1;\r\n  -webkit-box-shadow: inset 0px 0px 17px -1px rgba(0, 0, 0, 0.49);\r\n  -moz-box-shadow: inset 0px 0px 17px -1px rgba(0, 0, 0, 0.49);\r\n  box-shadow: inset 0px 0px 17px -1px rgba(0, 0, 0, 0.49);\r\n}\r\n\r\n/*# sourceMappingURL=style.css.map */</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n    &lt;meta name=\"description\" content=\"portfolio\"&gt;\r\n    &lt;meta name=\"keywords\" content=\"HTML,CSS,XML,JavaScript,portfolio,girls,drugs\"&gt;\r\n    &lt;meta name=\"author\" content=\"Eko Bilske\"&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"style/style.css\"&gt;\r\n    &lt;script src=\"scripts/main.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/vue\"&gt;&lt;/script&gt;\r\n    &lt;link href=\"https://fonts.googleapis.com/css?family=Work+Sans:400,500,600,700,900&amp;display=swap\" rel=\"stylesheet\"&gt;\r\n    &lt;title&gt;Kappe For Creatives&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;section class=\"wrap-body\"&gt;\r\n        &lt;!--NAVIGATION--&gt;\r\n        &lt;section class=\"nav-wrap\"&gt;\r\n            &lt;!--logo wrap--&gt;\r\n            &lt;section class=\"logo-wrap\"&gt;\r\n                &lt;a href=\"index.html\" class=\"logo\"&gt;\r\n                    &lt;img src=\"assets/logo-01.svg\" alt=\"logo site\" class=\"logo-svg\"&gt;\r\n                &lt;/a&gt;\r\n            &lt;/section&gt;\r\n            &lt;!--/logo wrap--&gt;\r\n            &lt;!--main wrap--&gt;\r\n            &lt;section class=\"nav-main-wrap\"&gt;\r\n                &lt;ul class=\"main-title\"&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;home&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;work&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;about&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;blog&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;services&lt;/a&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;a href=\"###\"&gt;contact&lt;/a&gt;&lt;/li&gt;\r\n                &lt;/ul&gt;\r\n            &lt;/section&gt;\r\n            &lt;!--/main wrap--&gt;\r\n            &lt;!--filter wrap--&gt;\r\n            &lt;section class=\"filter-wrap\"&gt;\r\n                &lt;div class=\"filter-title content-padding\"&gt;\r\n                    &lt;span class=\"filter-title-text\"&gt;Filter&lt;/span&gt;\r\n                    &lt;img src=\"assets/filter.svg\" alt=\"filter img\" class=\"filter-img\"&gt;\r\n                &lt;/div&gt;\r\n                &lt;ul class=\"filter-list content-padding\"&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;All works&lt;/button&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;web-design&lt;/button&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;illustration&lt;/button&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;photography&lt;/button&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;wallpapers&lt;/button&gt;&lt;/li&gt;\r\n                    &lt;li&gt;&lt;button class=\"filter-btn\"&gt;brochures&lt;/button&gt;&lt;/li&gt;\r\n                &lt;/ul&gt;  \r\n            &lt;/section&gt;\r\n            &lt;!--/filter wrap--&gt;\r\n            &lt;!--nav footer wrap--&gt;\r\n            &lt;section class=\"nav-footer-wrap content-padding\"&gt;\r\n                &lt;section class=\"social-wrap\"&gt;\r\n                    &lt;a href=\"http://www.twiter.com\" target=\"_blank\"&gt;\r\n                        &lt;svg class=\"icon\"&gt;\r\n                            &lt;use xlink:href=\"#linked\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                    &lt;/a&gt;\r\n                    &lt;a href=\"http://www.google.com\" target=\"_blank\"&gt;\r\n                        &lt;svg class=\"icon\"&gt;\r\n                            &lt;use xlink:href=\"#twitter\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                    &lt;/a&gt;\r\n                    &lt;a href=\"http://www.twitter.com\" target=\"_blank\"&gt;\r\n                        &lt;svg class=\"icon\"&gt;\r\n                            &lt;use xlink:href=\"#google\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                    &lt;/a&gt;\r\n                    &lt;a href=\"http://www.flickr.com\" target=\"_blank\"&gt;\r\n                        &lt;svg class=\"icon\"&gt;\r\n                            &lt;use xlink:href=\"#flickr\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                    &lt;/a&gt;\r\n                    &lt;a href=\"http://www.facebook.com\" target=\"_blank\"&gt;\r\n                        &lt;svg class=\"icon\"&gt;\r\n                            &lt;use xlink:href=\"#facebook\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                    &lt;/a&gt;\r\n                &lt;/section&gt;\r\n                &lt;div class=\"text-sub-footer\"&gt;\r\n                    &lt;span class=\"text-sub\"&gt;\u00a9&lt;/span&gt;\r\n                    &lt;script type=\"text/javascript\"&gt;document.write(new Date().getFullYear());&lt;/script&gt;\r\n                    &lt;span class=\"text-sub\"&gt;Kappe, All Rights Reserved&lt;/span&gt;\r\n                &lt;/div&gt;\r\n            &lt;/section&gt;\r\n            &lt;!--/nav footer wrap--&gt;\r\n        &lt;/section&gt;\r\n        &lt;!--/NAVIGATION--&gt;\r\n        &lt;!--PORTFOLIO PLATE--&gt;\r\n        &lt;section class=\"main-wrap\"&gt;\r\n            &lt;!--info-tab--&gt;\r\n            &lt;section class=\"info-tab\"&gt;\r\n                &lt;button class=\"info-btn\"&gt;\r\n                    &lt;img src=\"assets/info-logo.png\" alt=\"Info\" class=\"btn-logo\"&gt;\r\n                &lt;/button&gt;\r\n                &lt;section class=\"info-tab-wrap\"&gt;\r\n                    &lt;div class=\"info-tab-list\"&gt;\r\n                        &lt;svg class=\"info-tab-icon\"&gt;\r\n                            &lt;use xlink:href=\"#phone\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                        &lt;p class=\"info-tab-text\"&gt;9930 1234 5679&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"info-tab-list\"&gt;\r\n                        &lt;svg class=\"info-tab-icon\"&gt;\r\n                            &lt;use xlink:href=\"#send\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                        &lt;p class=\"info-tab-text\"&gt;contact@domain.com&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"info-tab-list\"&gt;\r\n                        &lt;svg class=\"info-tab-icon\"&gt;\r\n                            &lt;use xlink:href=\"#home\"&gt;&lt;/use&gt;\r\n                        &lt;/svg&gt;\r\n                        &lt;p class=\"info-tab-text\"&gt;street address example&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/section&gt;\r\n            &lt;/section&gt;\r\n            &lt;!--/info-tab--&gt;\r\n            &lt;section class=\"portfolio-wrap\" id=\"app\"&gt;\r\n                &lt;div class=\"wrapper-plat\" v-for=\"photo in photos\"&gt;\r\n                        &lt;div class=\"hover-title\"&gt;\r\n                            &lt;div class=\"hover-title-sup\"&gt;Cool App Design&lt;/div&gt;\r\n                            &lt;div class=\"hover-title-sub\"&gt;development, mobile&lt;/div&gt;\r\n                            &lt;div class=\"hover-title-underline\"&gt;&lt;/div&gt;\r\n                            &lt;button class=\"hover-title-btn\"&gt;\r\n                                &lt;img src=\"assets/right.png\" alt=\"\" class=\"hover-title-right\"&gt;\r\n                            &lt;/button&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;img :src=\"photo.url\" class=\"img\"&gt;\r\n                &lt;/div&gt;\r\n            &lt;/section&gt;\r\n        &lt;/section&gt;\r\n        &lt;!--/PORTFOLIO PLATE--&gt;\r\n    &lt;/section&gt;  \r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css", "puppeteer"], "comments": [{"owner": {"reputation": 1701, "user_id": 827129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZKpWV.jpg?s=128&g=1", "display_name": "fredrivett", "link": "https://stackoverflow.com/users/827129/fredrivett"}, "edited": false, "score": 0, "creation_date": 1574901379, "post_id": 59079727, "comment_id": 104397430, "body": "I&#39;m not sure this is possible, from the things I&#39;ve looked at. What specifically do you want to achieve here? there may be other ways to do what you&#39;re after."}], "answers": [{"comments": [{"owner": {"reputation": 8383, "user_id": 3413723, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2848d4942bc960198a2bea7d0353464?s=128&d=identicon&r=PG&f=1", "display_name": "user3413723", "link": "https://stackoverflow.com/users/3413723/user3413723"}, "edited": false, "score": 0, "creation_date": 1575043061, "post_id": 59082933, "comment_id": 104447245, "body": "Wow!  That&#39;s amazing, I had no idea there was even a Range api in browsers.  Thank you!"}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1574923096, "last_edit_date": 1574923096, "creation_date": 1574922601, "answer_id": 59082933, "question_id": 59079727, "link": "https://stackoverflow.com/questions/59079727/get-bounding-box-of-div-split-by-column-count-in-chromium-puppeteer/59082933#59082933", "title": "Get bounding box of div split by column-count in chromium/puppeteer", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Range/getBoundingClientRect\" rel=\"nofollow noreferrer\">DOMRange's <code>getBoundingClientRect</code></a>, which unlike Element's one is able to get the BBox of rendered text directly.</p>\n\n<p>The basic idea is to select each character from the text-content of your element and then check its BBox to compose your columns' BBox manually. </p>\n\n<p>The first idea to check when a new column appeared is to verify if the current character's top position is below the previous one, however this will fail in case of single line elements (that at least Firefox and Safari produce).<br>\nSo to circumvent this, it seems better to rather check the distance between the right of the previous character and the left of the next one. It's sometime more than 1, so this solution is not perfect either as it requires some empiric value to be used, but it's still the one that seems to work the best based on the few tests I could do.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getRenderedColumns( node ) {\r\n  // we only deal with TextNodes\r\n  if( !node || !node.parentNode || node.nodeType !== 3 ) {\r\n    return [];\r\n  }\r\n  // our Range object form which we'll get the characters positions\r\n  const range = document.createRange();\r\n  // here we'll store all our columns\r\n  const columns = [];\r\n  // begin at the first character\r\n  range.setStart( node, 0 );\r\n\r\n  let str = node.textContent;\r\n  let { top, right, bottom, left } = range.getBoundingClientRect();\r\n  let lastRight = right;\r\n  \r\n  let current = 1; // we already have the first chars's rect\r\n\r\n  // iterate over all characters\r\n  while( current &lt;= str.length ) {\r\n    // move our cursor\r\n    range.setStart( node, current );\r\n    if( current &lt; str.length - 1 ) {\r\n      range.setEnd( node, current + 1 ); // wrap it (for Chrome...)\r\n    }\r\n    // get the BBox of this character\r\n    const rect = range.getBoundingClientRect();\r\n    // if we moved by more than 10px on x\r\n    const new_column = rect.left - lastRight &gt; 10;\r\n    lastRight = rect.right;\r\n    if( new_column ) {\r\n      columns.push( {\r\n        top,\r\n        left,\r\n        width: right - left,\r\n        height: bottom - top\r\n      } );\r\n      top = rect.top;\r\n      right = rect.right;\r\n      bottom = rect.bottom;  \r\n      left = rect.left;\r\n    }\r\n    else { // extend our column's rect\r\n      bottom = Math.max( bottom, rect.bottom );\r\n      right = Math.max( right, rect.right );\r\n    }\r\n    current++;\r\n  }\r\n  // push the last column\r\n  columns.push( {\r\n    top,\r\n    left,\r\n    width: right - left,\r\n    height: bottom - top\r\n  } );\r\n\r\n  return columns;\r\n}\r\n\r\nfunction test( selector, color ) {\r\n  const target = document.querySelector( selector );\r\n  // note we use the TextNode as input\r\n  const rects = getRenderedColumns( target.childNodes[0] ); \r\n  console.log( selector );\r\n  console.log( rects );\r\n  // make a visible marker for these rects\r\n  rects.forEach(  rect =&gt; {\r\n    const marker = document.createElement( 'div' );\r\n    marker.classList.add( 'position-marker' );\r\n    const style = marker.style;\r\n    Object.entries( rect ).forEach( ([ key, val ]) =&gt; \r\n      style[ key ] = val + 'px'\r\n    );\r\n    style.borderColor = color;\r\n    document.body.append( marker );\r\n  } );\r\n}\r\n\r\ntest( '.col-2 &gt; span', 'red' );\r\ntest( '.single-line', 'green' );\r\ntest( '.col-6 &gt; span', 'blue' );</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.col-2{\r\n  column-count: 2;\r\n}\r\n.col-6 {\r\n  column-count: 6;\r\n}\r\n.single-line {\r\n  width: 250px;\r\n}\r\n\r\n.position-marker {\r\n  border: 1px solid;\r\n  position: absolute;\r\n  pointer-events: none;\r\n}\r\ndiv[class^=col-] {\r\n  margin-bottom: 12px;\r\n}\r\nbody { margin-bottom: 102px; }\r\nbody &gt; .as-console-wrapper { max-height: 90px; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"col-2\"&gt;\r\n  &lt;h1&gt;Hello&lt;/h1&gt;\r\n  &lt;span&gt;text text text texttext text text text text text text text text text text text text text text text text text text text text texttext texttext text text text text text text text text text text text text text text text text text text text text text text text text text text text text texttext text text texttext texttext text text text text text text text\r\n&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"col-2 single-line\"&gt;single line test for Firefox and Safari&lt;/div&gt;\r\n&lt;div class=\"col-6\"&gt;\r\n  &lt;span&gt;text text text texttext text text text text text text text text text text text text text text text text text text text text texttext texttext text text text text text text text text text text text text text text text text text text text text text text text text text text text text texttext text text texttext texttext text text text text text text text\r\n&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8383, "user_id": 3413723, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d2848d4942bc960198a2bea7d0353464?s=128&d=identicon&r=PG&f=1", "display_name": "user3413723", "link": "https://stackoverflow.com/users/3413723/user3413723"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 59082933, "answer_count": 1, "score": 1, "last_activity_date": 1575042651, "creation_date": 1574896853, "last_edit_date": 1575042651, "question_id": 59079727, "link": "https://stackoverflow.com/questions/59079727/get-bounding-box-of-div-split-by-column-count-in-chromium-puppeteer", "title": "Get bounding box of div split by column-count in chromium/puppeteer", "body": "<p>When I have a column layout like the following, chrome only generates one bounding box for both columns, and the bounding box is the height that both would be if they weren't in a column.  I want to get bounding boxes for both columns separately.</p>\n\n<p>Take a layout like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container{\r\n  column-count: 2;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;h1&gt;Hello&lt;/h1&gt;\r\n  &lt;span&gt;text text text texttext text text text text text text text text text text text text text text text text text text text text texttext texttext text text text text text text text text text text text text text text text text text text text text text text text text text text text text texttext text text texttext texttext text text text text text text text&lt;/p&gt;\r\n&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Produces text in two columns.  This will split up the <code>span</code> into two parts, the part in the left column, and the part in the right column.  How can I get the bounding box of only the left part, and the bounding box of only the right part?  Then what if it was split into 3 columns?</p>\n\n<p>getBoundingClientRect() only returns the bounding rect as though it were all in one column.</p>\n"}, {"tags": ["javascript", "html", "hyperlink"], "comments": [{"owner": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 0, "creation_date": 1574896736, "post_id": 59079693, "comment_id": 104396438, "body": "<a href=\"https://www.rapidtables.com/web/html/link/html-anchor-link.html\" rel=\"nofollow noreferrer\">rapidtables.com/web/html/link/html-anchor-link.html</a> Anchor is what you&#39;re looking  for."}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "reply_to_user": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 1, "creation_date": 1574896944, "post_id": 59079693, "comment_id": 104396476, "body": "@dnunez32 Thank you for the speedy response :) however, I don&#39;t see quite how this answers my question, as I am using the anchor tag, but the problem is the target location is being cut off and I am looking how to change the resulting view. Unless you typed your answer before I edited in the &quot;&lt;a&gt;&quot; tag."}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1574897967, "post_id": 59079693, "comment_id": 104396714, "body": "shouldn&#39;t this be solved with css?"}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "reply_to_user": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1574898031, "post_id": 59079693, "comment_id": 104396728, "body": "@JonB that would be great. Would you know how? I wouldn&#39;t want to actually add margins to the elements as that will change how the page itself looks, but if there is a css solution I would love to hear it. Idk how that would work though"}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1574898303, "post_id": 59079693, "comment_id": 104396801, "body": "It really depends on your application setup but if you are loading some html into a page container in an SPA the loaded page html could have a class that adds margins to the inner container?"}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "reply_to_user": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 1, "creation_date": 1574902932, "post_id": 59079693, "comment_id": 104397717, "body": "@dnunez32 You were right, the anchor tag was used for the solution I used found here <a href=\"https://stackoverflow.com/questions/10732690/offsetting-an-html-anchor-to-adjust-for-fixed-header/13184714#13184714\" title=\"offsetting an html anchor to adjust for fixed header\">stackoverflow.com/questions/10732690/&hellip;</a>. I was thinking of only use the anchor tags for the link, but didn&#39;t know you can use them as targets. Thank you."}, {"owner": {"reputation": 226, "user_id": 4832558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pLb9W.jpg?s=128&g=1", "display_name": "dnunez32", "link": "https://stackoverflow.com/users/4832558/dnunez32"}, "edited": false, "score": 0, "creation_date": 1574905828, "post_id": 59079693, "comment_id": 104398193, "body": "@frownyface - You&#39;re welcome!"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574896999, "post_id": 59079714, "comment_id": 104396485, "body": "Thank you! Would it be possible to do this without jQuery? I am just contributing to this site and I wouldn&#39;t want them to download a jQuery unless absolutely necessary."}, {"owner": {"reputation": 635, "user_id": 9183974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_ost9B3oFU8/AAAAAAAAAAI/AAAAAAAAAPM/kqR6jpbuhk4/photo.jpg?sz=128", "display_name": "Armedin Kuka", "link": "https://stackoverflow.com/users/9183974/armedin-kuka"}, "reply_to_user": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574897163, "post_id": 59079714, "comment_id": 104396520, "body": "You can also use pure javascript, but that would be a much more work. jQuery is always an amazing library to have tho :)) You can do amazing things with it."}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574897229, "post_id": 59079714, "comment_id": 104396544, "body": "For sure, would you know what functions I should be using for the javascript solution? You don&#39;t have to type out the solution because I think if I know the concept I can find it online.   And I agree, jQuery is amazing :) I guess I&#39;m trying to minimize the content I add to the project, but maybe I&#39;ll bring it up to them"}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574897710, "post_id": 59079714, "comment_id": 104396655, "body": "Sorry, I think I didn&#39;t communicate clearly. I was asking for functions in javascript that would move the view of the page with an offset value (unless I din&#39;t read your link thoroughly). Thank you for the resources!"}, {"owner": {"reputation": 635, "user_id": 9183974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_ost9B3oFU8/AAAAAAAAAAI/AAAAAAAAAPM/kqR6jpbuhk4/photo.jpg?sz=128", "display_name": "Armedin Kuka", "link": "https://stackoverflow.com/users/9183974/armedin-kuka"}, "reply_to_user": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574898120, "post_id": 59079714, "comment_id": 104396744, "body": "I am not sure whether there is are specific functions about that, but you can consider adding a <code>padding-top:20px</code> to the sections that the page will jump to when a nav icon is clicked."}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574898238, "post_id": 59079714, "comment_id": 104396774, "body": "Would that permanently add padding to the sections? Like change the styling of the site even when the nav bar is not being used and the user is just scrolling?"}, {"owner": {"reputation": 635, "user_id": 9183974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_ost9B3oFU8/AAAAAAAAAAI/AAAAAAAAAPM/kqR6jpbuhk4/photo.jpg?sz=128", "display_name": "Armedin Kuka", "link": "https://stackoverflow.com/users/9183974/armedin-kuka"}, "reply_to_user": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574898313, "post_id": 59079714, "comment_id": 104396804, "body": "Unfortunately yes. I can&#39;t think of a better way currently. Sorry about that."}, {"owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "edited": false, "score": 0, "creation_date": 1574902979, "post_id": 59079714, "comment_id": 104397728, "body": "It&#39;s ok :) no worries, thank you for providing answers. I found a solution that is similar to what you mentioned here <a href=\"https://stackoverflow.com/questions/10732690/offsetting-an-html-anchor-to-adjust-for-fixed-header/13184714#13184714\" title=\"offsetting an html anchor to adjust for fixed header\">stackoverflow.com/questions/10732690/&hellip;</a> Idk if this was what you were thinking."}], "tags": [], "owner": {"reputation": 635, "user_id": 9183974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_ost9B3oFU8/AAAAAAAAAAI/AAAAAAAAAPM/kqR6jpbuhk4/photo.jpg?sz=128", "display_name": "Armedin Kuka", "link": "https://stackoverflow.com/users/9183974/armedin-kuka"}, "is_accepted": false, "score": 1, "last_activity_date": 1574896780, "creation_date": 1574896780, "answer_id": 59079714, "question_id": 59079693, "link": "https://stackoverflow.com/questions/59079693/change-on-screen-location-after-hyperlink-is-clicked/59079714#59079714", "title": "Change on screen location after hyperlink is clicked", "body": "<p>You can use jQuery to do that and make a smooth scrolling as well.</p>\n\n<pre><code>$('a[href*=\"#\"]').click(function(){\n $('html, body').animate({\n    scrollTop: $( $(this).attr('href') ).offset().top - 20\n }, 500);\nreturn false;\n</code></pre>\n\n<p>});</p>\n"}], "owner": {"reputation": 13, "user_id": 9174232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1639607b2cf60aa96d224e201770ed5c?s=128&d=identicon&r=PG&f=1", "display_name": "frownyface", "link": "https://stackoverflow.com/users/9174232/frownyface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "closed_date": 1574903097, "answer_count": 1, "score": 0, "last_activity_date": 1574903034, "creation_date": 1574896654, "last_edit_date": 1574903034, "question_id": 59079693, "link": "https://stackoverflow.com/questions/59079693/change-on-screen-location-after-hyperlink-is-clicked", "closed_reason": "Duplicate", "title": "Change on screen location after hyperlink is clicked", "body": "<p>I am working on a single page site that has a nav bar. When a nav icon is clicked, the view appropriately goes to the target location. However, the nav bar covers part of the desired section. So the goal is to change the target location of the hyperlink. For example, maybe to change it so that it is consistently 20px higher than usual. Is there a way to change the location that an <code>&lt;a&gt;</code> tag will take you?</p>\n\n<p>Edit: I have recently found the answer to my question elsewhere. I will be marking this as a duplicate. I think I didn't find it before because I didn't know what words to use to describe my problem.</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "firebase-authentication", "redux-thunk"], "comments": [{"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574898949, "post_id": 59079667, "comment_id": 104396956, "body": "You can await thunks - looks like it might just be typescript error on the part of the library? What if you just did an <code>async&#47;await</code> inside that function"}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574899102, "post_id": 59079667, "comment_id": 104396999, "body": "IDEALLY however, the thunk action would dispatch another action based on the <code>then</code> that you passed in, rather than doing it in your component."}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574899285, "post_id": 59079667, "comment_id": 104397035, "body": "That thunk is really gross by the way, you&#39;re using promises, but nesting them instead of returning them, you aren&#39;t returning your top level promise (which would also be a problem, even if the typescript error didn&#39;t exist).....yikes all over."}, {"owner": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "reply_to_user": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574900971, "post_id": 59079667, "comment_id": 104397347, "body": "I just need it to redirect after successful response."}], "answers": [{"comments": [{"owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "edited": false, "score": 0, "creation_date": 1574898448, "post_id": 59079917, "comment_id": 104396846, "body": "PS on a slightly related note you might find this interesting <a href=\"https://jrsinclair.com/articles/2017/indentation-is-the-enemy-less-complex-javascript/\" rel=\"nofollow noreferrer\">jrsinclair.com/articles/2017/&hellip;</a>"}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574898980, "post_id": 59079917, "comment_id": 104396965, "body": "Dispatching a <code>thunk</code> doesn&#39;t return a function, it returns whatever the <code>thunk</code> returns. Introducing the steep learning curve and crazy complexity of <code>redux-saga</code> is massive overkill for such a little issue."}, {"owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "reply_to_user": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 0, "creation_date": 1574899631, "post_id": 59079917, "comment_id": 104397104, "body": "Thunks just lead to crazy unmaintable code, that example has 10 levels of indentation in it! Sagas are pretty straight forward and the concepts behind them can be picked up in a day by any moderately competent coder. How would you write a unit test for that Thunk?"}, {"owner": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "edited": false, "score": 0, "creation_date": 1574900740, "post_id": 59079917, "comment_id": 104397310, "body": "Indentations are mainly from IF statements. I added them to avoid TS null checks. There are two functions there in that actions function. One for signing in one for DB check. Again I could separate them. But i will do it after get rid of my main problem."}, {"owner": {"reputation": 40515, "user_id": 954940, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/8VrIO.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/954940/adam"}, "edited": false, "score": 1, "creation_date": 1574901787, "post_id": 59079917, "comment_id": 104397508, "body": "Thunks don&#39;t lead to crazy unmaintanable code - crazy unmaintainable code leads to crazy unmaintainable code (like the OPs). It wasn&#39;t crazy unmaintainable just because it was a thunk. I&#39;ve never had a problem unit testing a thunk, keep it under 7-10 lines and you&#39;ll be fine."}], "tags": [], "owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "is_accepted": false, "score": -2, "last_activity_date": 1574898666, "last_edit_date": 1574898666, "creation_date": 1574898315, "answer_id": 59079917, "question_id": 59079667, "link": "https://stackoverflow.com/questions/59079667/how-to-return-a-promise-from-redux-thunk-action-and-consume-it-in-component/59079917#59079917", "title": "How to return a promise from redux thunk action and consume it in component", "body": "<p>Thunks return functions, not promises. For this you could look at <code>redux-promise</code>. But to be honest if your doing something this complex you would be much better off using <code>redux-saga</code>. </p>\n\n<p>Another approach would be to use the concepts behind <code>redux-api-middleware</code> to create your own custom redux middleware. I have done this in the past to connect a message queue to redux. </p>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "edited": false, "score": 2, "creation_date": 1574908480, "post_id": 59080858, "comment_id": 104398681, "body": "I tried that also. it didn&#39;t work. The problem is in return type of that action. I have it as <code>AppThunk</code>. But if i use <code>any</code> , the problem goes away and i can chain <code>.then()</code> on it"}, {"owner": {"reputation": 1622, "user_id": 2007038, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4929abc377f053538f6a1c5e137d9d8d?s=128&d=identicon&r=PG", "display_name": "jstice4all", "link": "https://stackoverflow.com/users/2007038/jstice4all"}, "reply_to_user": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "edited": false, "score": 0, "creation_date": 1574933250, "post_id": 59080858, "comment_id": 104406737, "body": "I am not familiar with TS type system but I think it should be Promise&lt;return_type&gt;, for example Promise&lt;number&gt;."}, {"owner": {"reputation": 1622, "user_id": 2007038, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4929abc377f053538f6a1c5e137d9d8d?s=128&d=identicon&r=PG", "display_name": "jstice4all", "link": "https://stackoverflow.com/users/2007038/jstice4all"}, "reply_to_user": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "edited": false, "score": 0, "creation_date": 1574933328, "post_id": 59080858, "comment_id": 104406774, "body": "and of course Promise type should be the type of your returned promise, not thunk."}], "tags": [], "owner": {"reputation": 1622, "user_id": 2007038, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4929abc377f053538f6a1c5e137d9d8d?s=128&d=identicon&r=PG", "display_name": "jstice4all", "link": "https://stackoverflow.com/users/2007038/jstice4all"}, "is_accepted": false, "score": 0, "last_activity_date": 1574907356, "creation_date": 1574907356, "answer_id": 59080858, "question_id": 59079667, "link": "https://stackoverflow.com/questions/59079667/how-to-return-a-promise-from-redux-thunk-action-and-consume-it-in-component/59080858#59080858", "title": "How to return a promise from redux thunk action and consume it in component", "body": "<p>Just add <code>return</code> before this line:</p>\n\n<pre><code>auth.signInWithEmailAndPassword(email, pasword).then(response=&gt;{\n</code></pre>\n\n<p>So it would be:</p>\n\n<pre><code>export const signInWithEmailAndPasword =(email:string, pasword:string): AppThunk=&gt;{\n  return async (dispatch)=&gt;{\n    return auth.signInWithEmailAndPassword(email, pasword).then(response=&gt;{\n</code></pre>\n\n<p>It should work. </p>\n"}], "owner": {"reputation": 106, "user_id": 7994155, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vj1wP.jpg?s=128&g=1", "display_name": "avardag", "link": "https://stackoverflow.com/users/7994155/avardag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2584, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1575050886, "creation_date": 1574896450, "last_edit_date": 1574908683, "question_id": 59079667, "link": "https://stackoverflow.com/questions/59079667/how-to-return-a-promise-from-redux-thunk-action-and-consume-it-in-component", "title": "How to return a promise from redux thunk action and consume it in component", "body": "<p>I am using React+Redux+Redux Thunk + Firebase authentication. Writing code in Typescript.\nMy action is: </p>\n\n<pre><code>//Type for redux-thunk. return type for rdux-thunk action creators\ntype AppThunk&lt;ReturnType = void&gt; = ThunkAction&lt;\n  ReturnType,\n  IStoreState, //my store state\n  null,\n  Action&lt;userActionTypes&gt;\n&gt;\n\nexport const signInWithEmailAndPasword =(email:string, pasword:string): AppThunk=&gt;{\n  return async (dispatch)=&gt;{\n    auth.signInWithEmailAndPassword(email, pasword).then(response=&gt;{\n      if(response.user){\n        const docRef = db.collection(\"users\").doc(response.user.uid);\n          docRef.get().then(function(doc) {\n            if (doc.exists) {\n              const userData = doc.data(); //user data from firebase DB\n               //if user exists in DB, dispatch\n               dispatch({\n                type: userActionTypes.SIGN_IN_USER,\n                payload: userData\n              })\n              return userData;\n            } else {\n                // doc.data() will be undefined in this case\n                console.log(\"No such document!\");\n            }\n        }).catch(function(error) {\n            console.log(\"Error getting document:\", error);\n        });\n      }\n    })\n    .catch(err=&gt; dispatch(setUserError(err.message)))\n  }\n}\n</code></pre>\n\n<p>My SignIn component, where i am dispatching this above action:</p>\n\n<pre><code>import React, { useState } from 'react'\n//some other imports\n//...\n//\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signInWithEmailAndPasword } from '../../redux/actions/userActions';\n\n\ninterface ISignInState {\n  email: string;\n  password: string;\n}\nconst SignIn = (props:any) =&gt; {\n\n  const [values, setValues] = useState&lt;ISignInState&gt;({ email: '', password: '' })\n\n  const dispatch = useDispatch();\n\n  const handleInputChange = (e: React.FormEvent&lt;HTMLInputElement&gt;): void =&gt; {\n    const { name, value } = e.currentTarget;\n    setValues({ ...values, [name]: value })\n  }\n\n  const handleFormSubmit = (e: React.FormEvent) =&gt; {\n    e.preventDefault()\n    const { email, password } = values;\n    dispatch(signInWithEmailAndPasword(email, password))\n//// -&gt; gives error: Property 'then' does not exist on \n//// type 'ThunkAction&lt;void, IStoreState, null, Action&lt;userActionTypes&gt;&gt;'\n    .then(()=&gt;{ \n      props.history.push('/');\n      setValues({ email: '', password: '' })\n    })\n\n  }\n\n  return (&lt;div&gt;Sign in UI JSX stuff&lt;/div&gt;)\n</code></pre>\n\n<p>So when i try to use <code>.then()</code> after <code>dispatch(signInWithEmailAndPasword(email, password))</code> it gives an error <code>Property 'then' does not exist on type 'ThunkAction&lt;void, IStoreState, null, Action&lt;userActionTypes&gt;&gt;'</code>\n  So how can i return promise from redux action and chain a <code>.then()</code> on it? I always assumed that thunk actions return promises by default.\n Thanks for your help\nEdit:\nTemporary soluton was to use <code>any</code> as return type of above action:</p>\n\n<pre><code>export const signInWithEmailAndPasword = (email:string, pasword:string):any =&gt;{\n  return async (dispatch: any)=&gt;{\n    try {\n      const response = await auth.signInWithEmailAndPassword(email, pasword)\n      if(response.user){\n        const userInDb = await getUserFromDB(response.user)\n        dispatch(userSignIn(userInDb))\n        return userInDb\n      }\n    } catch (error) {\n      dispatch(setUserError(error.message))\n    }\n  }\n}\n</code></pre>\n\n<p>But I don't want to use <code>any</code></p>\n"}, {"tags": ["javascript", "html", "css", "forms", "function"], "answers": [{"comments": [{"owner": {"reputation": 7914, "user_id": 2780711, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yeJ7R.jpg?s=128&g=1", "display_name": "icecub", "link": "https://stackoverflow.com/users/2780711/icecub"}, "edited": false, "score": 1, "creation_date": 1574897590, "post_id": 59079718, "comment_id": 104396632, "body": "Not sure who downvoted this as this answer is working perfectly fine, but perhaps you should expand upon it explaining how / why exactly it works"}, {"owner": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 1, "creation_date": 1574898137, "post_id": 59079718, "comment_id": 104396746, "body": "<code>$(&quot;.signIn, .signUp&quot;).toggle();</code>"}, {"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "reply_to_user": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 0, "creation_date": 1574898266, "post_id": 59079718, "comment_id": 104396790, "body": "@MrUpsidown yep, that;s even better, thanks. Edited"}, {"owner": {"reputation": 391, "user_id": 12032187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlSkY.jpg?s=128&g=1", "display_name": "icyNerd", "link": "https://stackoverflow.com/users/12032187/icynerd"}, "edited": false, "score": 0, "creation_date": 1574898315, "post_id": 59079718, "comment_id": 104396806, "body": "Actually i used the <code>name=SignIn</code> and <code>href=#SignIn</code> attributes to link within a page."}, {"owner": {"reputation": 391, "user_id": 12032187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlSkY.jpg?s=128&g=1", "display_name": "icyNerd", "link": "https://stackoverflow.com/users/12032187/icynerd"}, "edited": false, "score": 0, "creation_date": 1574899963, "post_id": 59079718, "comment_id": 104397166, "body": "Although the code works perfectly fine here, i still can&#39;t run it good. The good thing is, now only <b>sign in</b> <code>div</code> is displayed. The bad thing is, when I click on <i>create new account</i> nothing happens. It&#39;s just stuck there. What am I missing?"}, {"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "reply_to_user": {"reputation": 391, "user_id": 12032187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlSkY.jpg?s=128&g=1", "display_name": "icyNerd", "link": "https://stackoverflow.com/users/12032187/icynerd"}, "edited": false, "score": 0, "creation_date": 1574914413, "post_id": 59079718, "comment_id": 104399862, "body": "@EqraKhattak can you update with any error? or create a fiddle?"}, {"owner": {"reputation": 391, "user_id": 12032187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlSkY.jpg?s=128&g=1", "display_name": "icyNerd", "link": "https://stackoverflow.com/users/12032187/icynerd"}, "edited": false, "score": 0, "creation_date": 1574927811, "post_id": 59079718, "comment_id": 104404070, "body": "It got solved, thanks. I was having a syntax problem while linking the jQuery file."}], "tags": [], "owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "is_accepted": true, "score": 3, "last_activity_date": 1574898248, "last_edit_date": 1574898248, "creation_date": 1574896799, "answer_id": 59079718, "question_id": 59079615, "link": "https://stackoverflow.com/questions/59079615/calling-js-function-using-a-link-in-html/59079718#59079718", "title": "Calling JS function using a link in html", "body": "<p>Firstly, the code can be refactored to a single <code>document.ready</code> and you can use the <a href=\"https://api.jquery.com/toggle/\" rel=\"nofollow noreferrer\">toggle()</a> to <code>show/hide</code> the element. Secondly, the usage of <code>id</code> need to be fixed to <code>id=\"SignIn\"</code> and not <code>href=\"#SignIn\"</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"#signIn,#signUp\").click(function() {\r\n    $(\".signIn, .signUp\").toggle();\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>height: 100vh;\r\nwidth: 208vh;\r\n\r\n}\r\n.leftPanel {\r\n  background-color: #660033;\r\n  width: 70%;\r\n  height: 100%;\r\n  float: left;\r\n  position: absolute;\r\n}\r\n.rightPanel {\r\n  background-color: white;\r\n  width: 30%;\r\n  height: 100%;\r\n  float: right;\r\n}\r\n.signInClass {}\r\n.signInHide {}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.min.js\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"rightPanel\"&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n      &lt;label class=\"col-md-3\"&gt;&lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"signUp\" style=\"display:none;\"&gt;\r\n      &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;h1 class=\"col-md-10\"&gt;&lt;a name=\"SignUp\"&gt;Sign Up&lt;/a&gt;&lt;/h1&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;label&gt;or &lt;a href=\"#\" id=\"signUp\"&gt;sign in&lt;/a&gt; to your account&lt;/label&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;form action=\"bbSignUp.php\" method=\"post\"&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"text\" class=\"form-control col-md-8\" placeholder=\"Username\" name=\"user-name\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"email\" class=\"form-control col-md-8\" placeholder=\"Email\" name=\"e-mail\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"password\" class=\"form-control col-md-8\" placeholder=\"Password\" name=\"pass-word\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;label class=\"col-md-8\" style=\"font-size: 11px\"&gt;This page is protected by reCAPTCHA, and subject to the Google Privacy Policy and Terms of service.&lt;/label&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;div class=\"custom-control custom-checkbox\"&gt;\r\n            &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"defaultUnchecked\" onchange=\"document.getElementById('signUpButton').disabled = !this.checked;\"&gt;\r\n            &lt;label class=\"custom-control-label\" for=\"defaultUnchecked\"&gt;I agree to the Terms and Conditions&lt;/label&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;button type=\"submit\" class=\"btn btn-primary btn-block col-md-8\" name=\"signUpButton\" id=\"signUpButton\" disabled=\"true\"&gt;Sign Up&lt;/button&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"signIn\"&gt;\r\n\r\n      &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;h1 class=\"col-md-10\"&gt;&lt;a name=\"SignIn\"&gt;Sign In&lt;/a&gt;&lt;/h1&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;label&gt;or &lt;a href=\"#\" id=\"signIn\"&gt;create an account&lt;/a&gt;&lt;/label&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;form action=\"bbSignIn.php\" method=\"post\"&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"email\" class=\"form-control col-md-8\" placeholder=\"Email\" name=\"e-mail1\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"password\" class=\"form-control col-md-8\" placeholder=\"Password\" name=\"pass-word1\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;label class=\"col-md-8\" style=\"font-size: 11px\"&gt;This page is protected by reCAPTCHA, and subject to the Google Privacy Policy and Terms of service.&lt;/label&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;div class=\"custom-control custom-checkbox\"&gt;\r\n            &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"defaultUnchecked1\" onchange=\"document.getElementById('signInButton').disabled = !this.checked;\"&gt;\r\n            &lt;label class=\"custom-control-label\" for=\"defaultUnchecked1\"&gt;I agree to the Dropbox Terms&lt;/label&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;button type=\"submit\" class=\"btn btn-primary btn-block col-md-8\" name=\"signInButton\" id=\"signInButton\" disabled=\"true\"&gt;Sign In&lt;/button&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 391, "user_id": 12032187, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlSkY.jpg?s=128&g=1", "display_name": "icyNerd", "link": "https://stackoverflow.com/users/12032187/icynerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 59079718, "answer_count": 1, "score": 1, "last_activity_date": 1574898248, "creation_date": 1574896009, "last_edit_date": 1574897595, "question_id": 59079615, "link": "https://stackoverflow.com/questions/59079615/calling-js-function-using-a-link-in-html", "title": "Calling JS function using a link in html", "body": "<p>I want to style my <em>divs</em> as, if I call <strong>sign up</strong>, <strong>sign in</strong> hides and vice versa. I have written this JS code, but I'm unable to call these function to apply the above scenario. As it happens, both the <em>divs</em> appear on the window at the same time which is undesirable. What should I do so that whenever I press the <em>Sign In</em> link the <strong>sign up</strong> <code>div</code> hides and similarly, when I click <em>create new account</em>, the <strong>Sign in</strong> <code>div</code> hides.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"#signIn\").click(function() {\r\n    $(\".signUpHide\").hide(600);\r\n    $(\".signInShow\").show(600);\r\n    $(this).hide();\r\n    $(\"#signUp\").show();\r\n  });\r\n});\r\n\r\n$(document).ready(function() {\r\n  $(\"#signUp\").click(function() {\r\n    $(\".signInHide\").hide(600);\r\n    $(\".signUpShow\").show(600);\r\n    $(this).hide();\r\n    $(\"#signIn\").show();\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  height: 100vh;\r\n  width: 208vh;\r\n}\r\n\r\n.leftPanel {\r\n  background-color: #660033;\r\n  width: 70%;\r\n  height: 100%;\r\n  float: left;\r\n  position: absolute;\r\n}\r\n\r\n.rightPanel {\r\n  background-color: white;\r\n  width: 30%;\r\n  height: 100%;\r\n  float: right;\r\n}\r\n\r\n.signInClass {}\r\n\r\n.signInHide {}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"rightPanel\"&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n      &lt;label class=\"col-md-3\"&gt;&lt;/label&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"signUpHide signUpShow\"&gt;\r\n      &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;h1 class=\"col-md-10\"&gt;&lt;a name=\"SignUp\"&gt;Sign Up&lt;/a&gt;&lt;/h1&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;label&gt;or &lt;a href=\"#SignIn\"&gt;sign in&lt;/a&gt; to your account&lt;/label&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;form action=\"bbSignUp.php\" method=\"post\"&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"text\" class=\"form-control col-md-8\" placeholder=\"Username\" name=\"user-name\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"email\" class=\"form-control col-md-8\" placeholder=\"Email\" name=\"e-mail\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"password\" class=\"form-control col-md-8\" placeholder=\"Password\" name=\"pass-word\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;label class=\"col-md-8\" style=\"font-size: 11px\"&gt;This page is protected by reCAPTCHA, and subject to the Google Privacy Policy and Terms of service.&lt;/label&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;div class=\"custom-control custom-checkbox\"&gt;\r\n            &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"defaultUnchecked\" onchange=\"document.getElementById('signUpButton').disabled = !this.checked;\"&gt;\r\n            &lt;label class=\"custom-control-label\" for=\"defaultUnchecked\"&gt;I agree to the Terms and Conditions&lt;/label&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;button type=\"submit\" class=\"btn btn-primary btn-block col-md-8\" name=\"signUpButton\" id=\"signUpButton\" disabled=\"true\"&gt;Sign Up&lt;/button&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;div class=\"signInShow signInHide\"&gt;\r\n\r\n      &lt;div class=\"row\" style=\"margin-top: 30px\"&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;h1 class=\"col-md-10\"&gt;&lt;a name=\"SignIn\"&gt;Sign In&lt;/a&gt;&lt;/h1&gt;\r\n        &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;label&gt;or &lt;a href=\"#SignUp\"&gt;create an account&lt;/a&gt;&lt;/label&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;form action=\"bbSignIn.php\" method=\"post\"&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"email\" class=\"form-control col-md-8\" placeholder=\"Email\" name=\"e-mail1\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;input type=\"password\" class=\"form-control col-md-8\" placeholder=\"Password\" name=\"pass-word1\" required=\"true\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;label class=\"col-md-8\" style=\"font-size: 11px\"&gt;This page is protected by reCAPTCHA, and subject to the Google Privacy Policy and Terms of service.&lt;/label&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;div class=\"custom-control custom-checkbox\"&gt;\r\n            &lt;input type=\"checkbox\" class=\"custom-control-input\" id=\"defaultUnchecked1\" onchange=\"document.getElementById('signInButton').disabled = !this.checked;\"&gt;\r\n            &lt;label class=\"custom-control-label\" for=\"defaultUnchecked1\"&gt;I agree to the Dropbox Terms&lt;/label&gt;\r\n          &lt;/div&gt;\r\n\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n\r\n        &lt;div class=\"row\" style=\"margin-top: 20px\"&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n          &lt;button type=\"submit\" class=\"btn btn-primary btn-block col-md-8\" name=\"signInButton\" id=\"signInButton\" disabled=\"true\"&gt;Sign In&lt;/button&gt;\r\n          &lt;label class=\"col-md-2\"&gt;&lt;/label&gt;\r\n        &lt;/div&gt;\r\n      &lt;/form&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12448590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5720dba002f0fe2742779fd2779f18?s=128&d=identicon&r=PG&f=1", "display_name": "AskirNik", "link": "https://stackoverflow.com/users/12448590/askirnik"}, "edited": false, "score": 0, "creation_date": 1574927883, "post_id": 59080048, "comment_id": 104404093, "body": "Ty very much Thomas for the help!  I changed the code a bit u gave me to: ```         &lt;div class=&quot;form-row class1&quot;&gt;             &lt;div class=&quot;col-md-4 mb-3&quot;&gt;                 &lt;label&gt;&lt;/label&gt;             &lt;/div&gt;         &lt;/div&gt; ``` ```  $(&quot;#div3&quot;).click(() =&gt; {                 $(&quot;.class1 &gt; div&quot;).html(                      <code>&lt;label&gt;Select Student ID&lt;&#47;label&gt;         &lt;select class=&quot;form-control&quot;&gt;             &lt;option selected&gt;Choose Student you want to edit&lt;&#47;option&gt;             &lt;option&gt;Student 1&lt;&#47;option&gt;             &lt;option&gt;Student 2&lt;&#47;option&gt;         &lt;&#47;select&gt;</code>         );     }); ```"}, {"owner": {"reputation": 3, "user_id": 12448590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5720dba002f0fe2742779fd2779f18?s=128&d=identicon&r=PG&f=1", "display_name": "AskirNik", "link": "https://stackoverflow.com/users/12448590/askirnik"}, "edited": false, "score": 0, "creation_date": 1574928075, "post_id": 59080048, "comment_id": 104404180, "body": "aand this.   $(&quot;#div1&quot;).click(() =&gt; {                 $(&quot;.class1 &gt; div&quot;).html(                     ``);             });  and this inside the form   &lt;div class=&quot;form-row class1&quot;&gt;             &lt;div class=&quot;col-md-4 mb-3&quot;&gt;                 &lt;label&gt;&lt;/label&gt;             &lt;/div&gt;         &lt;/div&gt; ``` idk if its good or bad but it does the trick as u said :D"}], "tags": [], "owner": {"reputation": 73, "user_id": 9840099, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216551637404552/picture?type=large", "display_name": "Thomas Gr&#225;stein", "link": "https://stackoverflow.com/users/9840099/thomas-gr%c3%a1stein"}, "is_accepted": true, "score": 0, "last_activity_date": 1574899360, "creation_date": 1574899360, "answer_id": 59080048, "question_id": 59079606, "link": "https://stackoverflow.com/questions/59079606/how-to-use-several-divs-with-click-events-to-toggle-a-specific-div-in-a-form/59080048#59080048", "title": "How to use several divs with click events to toggle a specific div in a form", "body": "<p>There are usually a couple of ways to tackle things like such.\nI think the shortest way to what you are looking for is to simply replace the html inside the form using jQuery (<a href=\"https://www.w3schools.com/jquery/jquery_dom_set.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jquery/jquery_dom_set.asp</a>). This is not the nicest way to do it, but it does the trick without too much duplication.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n$(document).ready(() =&gt; {\n  $(\"#div1\").click(() =&gt; {\n    $(\".class1 &gt; div\").html(\n        `&lt;label&gt;Select Student ID&lt;/label&gt;\n        &lt;select class=\"form-control\"&gt;\n            &lt;option selected&gt;Choose Student you want to edit&lt;/option&gt;\n            &lt;option&gt;Student 1&lt;/option&gt;\n            &lt;option&gt;Student 2&lt;/option&gt;\n        &lt;/select&gt;`);\n  });\n  $(\"#div2\").click(() =&gt; {\n    $(\".class1 &gt; div\").html(\n      `&lt;label&gt;Select Student ID&lt;/label&gt;\n       &lt;input /&gt;`);\n  });\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;button id=\"div1\"&gt;Form 1&lt;/button&gt;\n&lt;button id=\"div2\"&gt;Form 2&lt;/button&gt;\n\n&lt;div class=\"form-row class1\"&gt;\n    &lt;div class=\"col-md-4 mb-3\"&gt;\n        &lt;label&gt;Empty&lt;/label&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Another way is, as you suggested, to <code>$(\"#form\").show()</code> on the relevant form, and call <code>$(\"#form\").hide()</code> on the others.</p>\n\n<p>Now if you'd want to make conditional renders a better way, I would suggest you venture in to <a href=\"https://reactjs.org\" rel=\"nofollow noreferrer\">https://reactjs.org</a>.</p>\n"}], "owner": {"reputation": 3, "user_id": 12448590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b5720dba002f0fe2742779fd2779f18?s=128&d=identicon&r=PG&f=1", "display_name": "AskirNik", "link": "https://stackoverflow.com/users/12448590/askirnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 59080048, "answer_count": 1, "score": 0, "last_activity_date": 1574899360, "creation_date": 1574895959, "question_id": 59079606, "link": "https://stackoverflow.com/questions/59079606/how-to-use-several-divs-with-click-events-to-toggle-a-specific-div-in-a-form", "title": "How to use several divs with click events to toggle a specific div in a form", "body": "<p>What im trying to do is following:</p>\n\n<p>I have three different divs with three different ids - #div1,#div2 and #div3.</p>\n\n<p>I have an click event for when i click on those divs.</p>\n\n<p>I have a form.</p>\n\n<p>All those are written in bootstrap </p>\n\n<p>So..  first of all i want to be able to toggle the form itself when clicking on a div AND if i click on #div2 and #div3 the form should show one more div which isnt needed on #div1.</p>\n\n<p>The idea behind this is \n<code>#div1</code> should show a form to register something.</p>\n\n<p><code>#div2</code> should show the same form but with a <code>&lt;select&gt;&lt;/select&gt;</code> since its supposed to edit existing entries .</p>\n\n<p><code>#div3</code> basically the same as <code>#div2</code></p>\n\n<p>When i click on <code>#div2</code> or <code>#div3</code> this div should be toggled on inside the form and when i click on <code>#div1</code> it shouldn be toggled off since i dont need that selection there.</p>\n\n<p><strong>form code which should be toggled depending on the div</strong></p>\n\n<pre><code>      &lt;div class=\"form-row class1\"&gt;\n            &lt;div class=\"col-md-4 mb-3\"&gt;\n                &lt;label&gt;Select Student ID&lt;/label&gt;\n                &lt;select class=\"form-control\"&gt;\n                    &lt;option selected&gt;Choose Student you want to edit&lt;/option&gt;\n                    &lt;option&gt;Student 1&lt;/option&gt;\n                    &lt;option&gt;Student 2&lt;/option&gt;\n                &lt;/select&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n\n<p>First i tried with having 2 different forms <code>#form1</code> and <code>#form2</code></p>\n\n<p>and did smth like this for the other form too</p>\n\n<pre><code> // $(\"#div1\").click(function () {\n             console.log(\"hello\");\n             let f1 = document.getElementById(\"form1\");\n             if (f1.style.display === \"none\") {\n                 f1.style.display = \"block\";\n             } else {\n                 f1.style.display = \"none\";\n          }\n\n             })\n</code></pre>\n\n<p>but that would lead to duplicated code and just looks overall bad</p>\n\n<p>so i think something like this</p>\n\n<pre><code>    $(\"#div1\").click(function () {\n                $(\"form\").toggleClass(\"div class1\")\n            });\n        });\n</code></pre>\n\n<p>would look better and be closer to what i want to have but as you can see im having some issues with how exactly the syntax should be. </p>\n\n<p>Grateful for every anwser! :D </p>\n\n<p>p.s im open to different ideas but as a beginner to front end those were the first ideas that came to my mind.</p>\n\n<p>Cheers, Askir </p>\n"}, {"tags": ["javascript", "function", "d3.js", "observablehq"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1574896169, "post_id": 59079573, "comment_id": 104396310, "body": "It&#39;s not JavaScript. It&#39;s not code. It&#39;s the <b>output</b> of the <a href=\"https://observablehq.com/@observablehq/user-manual\" rel=\"nofollow noreferrer\">notebook code</a> on observablehq.com, using a custom format to denote a function value."}], "answers": [{"tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 4, "last_activity_date": 1574904992, "last_edit_date": 1574904992, "creation_date": 1574899201, "answer_id": 59080030, "question_id": 59079573, "link": "https://stackoverflow.com/questions/59079573/in-javascript-what-does-%c6%92-mean/59080030#59080030", "title": "In Javascript, what does \u0192 mean?", "body": "<p>An <a href=\"https://observablehq.com\" rel=\"nofollow noreferrer\">Observable</a> cell contains two main components: the output goes in the white area above (next to the three dots), while the code goes in the gray area just below it (next to the pin). What you're seeing is just the output of the cell, and that <em><code>\u0192</code></em> is the way the Observable team chose to indicate a function.</p>\n\n<p>For instance, have a look at this function:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DnHiRm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DnHiRm.png\" alt=\"enter image description here\"></a></p>\n\n<p>As you can see, the output is just the function itself, not it's returned value. But if we call it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ukb5vm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ukb5vm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, if we pass a value:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ypbw0m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ypbw0m.png\" alt=\"enter image description here\"></a></p>\n\n<p>Also related to your question, pay attention to the title of this introductory page, which I'll reproduce in bold: <strong><a href=\"https://observablehq.com/@observablehq/observables-not-javascript\" rel=\"nofollow noreferrer\">Observable is not JavaScript</a></strong>. It's a bit exaggerated (the language used <strong>is</strong> JavaScript), but the author intent is to show that Observable has a lot of syntax peculiarities.</p>\n"}], "owner": {"reputation": 314, "user_id": 8419099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82a570be64887ef07e4a39f4ebad78a1?s=128&d=identicon&r=PG&f=1", "display_name": "Kyouma", "link": "https://stackoverflow.com/users/8419099/kyouma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 701, "favorite_count": 0, "accepted_answer_id": 59080030, "answer_count": 1, "score": 2, "last_activity_date": 1607784938, "creation_date": 1574895726, "last_edit_date": 1574899221, "question_id": 59079573, "link": "https://stackoverflow.com/questions/59079573/in-javascript-what-does-%c6%92-mean", "title": "In Javascript, what does \u0192 mean?", "body": "<p>I've seen this \u0192 symbol (an italics f with an undertail, if you can't see it properly), for example: here: <a href=\"https://observablehq.com/@d3/zoomable-sunburst\" rel=\"nofollow noreferrer\">https://observablehq.com/@d3/zoomable-sunburst</a></p>\n\n<p>He uses it with the following code, but I'm not sure what purpose it serves:</p>\n\n<pre><code>color = \u0192(i)    \ncolor = d3.scaleOrdinal(d3.quantize(d3.interpolateRainbow, data.children.length + 1))\n</code></pre>\n\n<p>What is the purpose of this? </p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "node.js", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3100570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71f8612a5f56afa8c849e08a031fd7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3100570/jeff"}, "edited": false, "score": 0, "creation_date": 1575270792, "post_id": 59134084, "comment_id": 104495898, "body": "But doesn&#39;t having the method Collections.insert inside a promise make that method call asynchronous? I tried your solution and it did not fix the issue :("}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 31, "user_id": 3100570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71f8612a5f56afa8c849e08a031fd7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3100570/jeff"}, "edited": false, "score": 0, "creation_date": 1575295953, "post_id": 59134084, "comment_id": 104508049, "body": "I\u2019ve fixed a mistake in my last example. Now passing <code>then</code> a function. Oops. This might still be broken. I\u2019ll take a closer look when I get settled today."}, {"owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "reply_to_user": {"reputation": 31, "user_id": 3100570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71f8612a5f56afa8c849e08a031fd7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3100570/jeff"}, "edited": false, "score": 0, "creation_date": 1575307640, "post_id": 59134084, "comment_id": 104513968, "body": "Answer updated with a few observations and some sample code."}], "tags": [], "owner": {"reputation": 15695, "user_id": 636077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7567fa8bd8d37173c923c75d259f104?s=128&d=identicon&r=PG", "display_name": "ray hatfield", "link": "https://stackoverflow.com/users/636077/ray-hatfield"}, "is_accepted": false, "score": 0, "last_activity_date": 1575307612, "last_edit_date": 1575307612, "creation_date": 1575270280, "answer_id": 59134084, "question_id": 59079563, "link": "https://stackoverflow.com/questions/59079563/node-js-mongodb-utilizing-promises-to-make-mongodb-method-calls/59134084#59134084", "title": "Node.js MongoDB Utilizing promises to make MongoDB method calls", "body": "<p>Not sure what the relationship between the first block and second is, but in the first block:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function insert(order, orders, db) {\n    return new Promise(function(resolve, reject) {\n        console.log('Inserting order into orders collection');\n        orders.insert(order);\n        resolve(db.collection('orders'));\n    });\n}\n</code></pre>\n\n<p>At a glance it seems like <code>orders.insert(order)</code> is asynchronous, but you're not waiting for it to finish before resolving.</p>\n\n<p>You could either make the function asynchronous and</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await orders.insert(order);\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>orders.insert(order)\n  .then(() =&gt; resolve(db.collection('orders')))\n</code></pre>\n\n<blockquote>\n  <p>But doesn't having the method Collections.insert inside a promise make that method call asynchronous?</p>\n</blockquote>\n\n<p>Yes, <code>Collections.insert</code> is implicitly asynchronous in that it returns a Promise. I was talking about declaring it <code>async</code> explicitly so you can <code>await</code> other async calls in the function body. Note the addition of <code>async</code> at the start and <code>await orders.insert()</code>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function insert(order, orders, db) {\n    return new Promise(function(resolve, reject) {\n        console.log('Inserting order into orders collection');\n        await orders.insert(order);\n        resolve(db.collection('orders'));\n    });\n}\n</code></pre>\n\n<p>If you don't await <code>orders.insert</code> (either via <code>await</code> or <code>.then</code>) you're calling <code>insert</code> and <em>immediately</em> returning the <code>db.collection</code> call, which creates a race condition where the new order may not be inserted yet. It's <em>possible</em> the new order could be there but it seems unlikely, and it's not going to be there reliably.</p>\n\n<p>There's also no need to create a new Promise here. <code>db.collection</code> already returns a Promise. Just return the one you already have:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function insert(order, orders, db) {\n    console.log('Inserting order into orders collection');\n    return orders.insert(order)\n        .then(() =&gt; db.collection('orders'));\n}\n\n</code></pre>\n\n<p>Take a look at this sample code snippet. I've mocked out the <code>orders.insert</code> and <code>db.collection</code> methods.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// mock orders.insert\r\nconst orders = {\r\n  insert: async() =&gt; {\r\n    return new Promise((resolve) =&gt; {\r\n      // wait a second then resolve\r\n      setTimeout(resolve, 1000);\r\n    });\r\n  }\r\n}\r\n\r\n// mock db.collection\r\nconst db = {\r\n  collection: async() =&gt; {\r\n    return new Promise((resolve) =&gt; {\r\n      // wait a second then resolve with mock data\r\n      setTimeout(() =&gt; resolve(['foo', 'bar', 'baz']), 1000);\r\n    });\r\n  }\r\n}\r\n\r\n\r\nfunction insert(order, orders, db) {\r\n  return orders.insert(order)\r\n    .then(() =&gt; db.collection('orders'));\r\n}\r\n\r\n// same as above, but with async/await\r\nasync function insertAsync(order, orders, db) {\r\n  await orders.insert(order);\r\n  return await db.collection('orders');\r\n}\r\n\r\nfunction go() {\r\n  // using then\r\n  insert(null, orders, db).then(console.log);\r\n\r\n  // using async/await;\r\n  insertAsync(null, orders, db).then(console.log);\r\n}\r\n\r\ngo();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 31, "user_id": 3100570, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c71f8612a5f56afa8c849e08a031fd7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/3100570/jeff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575307612, "creation_date": 1574895671, "last_edit_date": 1575269904, "question_id": 59079563, "link": "https://stackoverflow.com/questions/59079563/node-js-mongodb-utilizing-promises-to-make-mongodb-method-calls", "title": "Node.js MongoDB Utilizing promises to make MongoDB method calls", "body": "<p><strong>EDIT</strong></p>\n\n<p>So I am creating an e-commerce website and I'm running into a few road blocks. I have since updated my code to make it cleaner and easier to read and I somewhat pinpointed where my issue stems from (though there could be more). Here is the updated code:</p>\n\n<pre><code>StoreDB.prototype.addOrder = function(order) {\n    console.log('addOrder');\n    return this.connected.then(function(db) {\n        console.log(order);\n        var orders = db.collection('orders');\n        var products = db.collection('products');\n        return insert(order, orders, db)\n        .then(function(updatedOrdersList) {\n            return obtainOrders(updatedOrdersList);\n        })\n        .then(function(orderList) {\n            return updateProducts(orderList, products);\n        })\n        .catch((err) =&gt; console.log('There was an issue in the promise chain\\n' + err));\n    });\n}\n\nfunction insert(order, orders, db) {\n    return new Promise(function(resolve, reject) {\n        console.log('Inserting order into orders collection');\n        orders.insert(order);\n        resolve(db.collection('orders'));\n    });\n}\n\nfunction obtainOrders(orders) {\n    return new Promise(function(resolve, reject) {\n        console.log('Obtaining orders');\n        var orderList = orders.find({}).toArray();\n        resolve(orderList);\n    });\n}\n\nfunction updateProducts(orderList, products) {\n    return new Promise(function(resolve, reject) {\n        console.log('Getting the products that match the cart')\n        var promises = [];\n        var promises2 = [];\n        console.log('orderList', orderList);\n        for (var item in orderList[0].cart) {\n            console.log('item', item);\n            promises.push(products.find({$and : [{\"_id\" : item}, {\"quantity\" : {$gte: 0}}]}).toArray());\n        }\n        Promise.all(promises)\n            .then(() =&gt; {\n                console.log('Updating the cart quantity')\n                for (var i = 0; i &lt; promises.length; i++) {\n                    console.log(promises);\n                    // console.log(productList[item], productList[item]._id, productList[item].quantity, cart);\n                    promises2.push(products.update({\"_id\" : productList[item]._id}, {$set :{\"quantity\" : (productList[item].quantity - cart[productList[item]._id])}}));\n\n                    promises2.push(products.find({}).toArray());\n                    Promise.all(promises2)\n                        .then(() =&gt; promises[promises2.length-1]);                          \n                }                       \n            }); \n    });\n}\n</code></pre>\n\n<p>It appears that when <code>obtainOrders</code> is called in the promise chain, it returns an empty array. I'm not too sure why it does this because in the chain where:</p>\n\n<pre><code>return insert(order, orders, db)\n.then(function(updatedOrdersList) {\n    return obtainOrders(updatedOrdersList);\n})\n.then(function(orderList) {\n    return updateProducts(orderList, products);\n})\n</code></pre>\n\n<p>The function call to <code>obtainOrders</code> from above waits for the method call to Collections.find to be completed before it is resolved (returning an array of orders). Some reason it is returning an empty array.</p>\n\n<p>Any help would be greatly appreciated!</p>\n"}, {"tags": ["javascript", "setinterval", "keyevent"], "comments": [{"owner": {"reputation": 1159, "user_id": 5423850, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/71eb5c2772178a9564d83583595f5a1d?s=128&d=identicon&r=PG&f=1", "display_name": "oneturkmen", "link": "https://stackoverflow.com/users/5423850/oneturkmen"}, "edited": false, "score": 0, "creation_date": 1574895668, "post_id": 59079547, "comment_id": 104396181, "body": "Do you want it to move once? When do you want your interval to stop?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1574897037, "post_id": 59079547, "comment_id": 104396493, "body": "You don&#39;t need <code>setInterval</code> / <code>setTimeout</code>, only <code>requestAnimationFrame</code>: <a href=\"https://jsfiddle.net/khrismuc/cenkxu12/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/cenkxu12</a>"}, {"owner": {"reputation": 37, "user_id": 11156342, "user_type": "registered", "profile_image": "https://graph.facebook.com/2512398822121387/picture?type=large", "display_name": "Marcel Kr\u0119dzel", "link": "https://stackoverflow.com/users/11156342/marcel-kr%c4%99dzel"}, "edited": false, "score": 0, "creation_date": 1574897053, "post_id": 59079547, "comment_id": 104396498, "body": "How is it supposed to work?  1. If the same key is pressed twice, it works as it was pressed only once. 2. I want to stop setInterval, when the opposite key is pressed. 3. If there is a way of doing it in a different way, I&#39;ll take it! I just have to make it work properly. 4. Open console to see how bad it is right now :)"}, {"owner": {"reputation": 37, "user_id": 11156342, "user_type": "registered", "profile_image": "https://graph.facebook.com/2512398822121387/picture?type=large", "display_name": "Marcel Kr\u0119dzel", "link": "https://stackoverflow.com/users/11156342/marcel-kr%c4%99dzel"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1574898470, "post_id": 59079547, "comment_id": 104396852, "body": "@ChrisG, How can I make it keep moving up or down until I press opposite key?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1574899513, "post_id": 59079547, "comment_id": 104397079, "body": "I added a third dot which demonstrates that"}], "owner": {"reputation": 37, "user_id": 11156342, "user_type": "registered", "profile_image": "https://graph.facebook.com/2512398822121387/picture?type=large", "display_name": "Marcel Kr\u0119dzel", "link": "https://stackoverflow.com/users/11156342/marcel-kr%c4%99dzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574896792, "creation_date": 1574895533, "question_id": 59079547, "link": "https://stackoverflow.com/questions/59079547/how-can-i-make-the-result-consistent-setinterval-not-working-properly", "title": "How can I make the result consistent? SetInterval not working properly", "body": "<p>I'm working on a game in JavaScript and I'm trying to make a dot moving, however once it's been moved once it doesn't keep the same value. I have tried to set setInerval as var and then clear it, but it didn't work. </p>\n\n<p>Please let me know what I am doing wrong and how can I fix it? </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n    &lt;html lang=\"en\"&gt;\n        &lt;head&gt;\n        &lt;script&gt;\n    let x = 0;\n    let isKey = 0;\n\nfunction goingUp() {\n    x -= 1;\n}\n\nfunction goingDown() {\n    x += 1;\n}\n\ndocument.addEventListener('keydown', (event) =&gt; {\n\n    if (event.key === 'ArrowDown' &amp;&amp; isKey !== -1) {\n        setInterval(goingDown, 50);\n        isKey -= 1\n    } else if (event.key === 'ArrowUp' &amp;&amp; isKey !== 1) {\n        setInterval(goingUp, 50);\n        isKey += 1\n    }})\n\n\nlet lastFrameTimeMs = 0, // The last time the loop was run\n    maxFPS = 60; // The maximum FPS we want to allow\n\nfunction startGame(timestamp) {\n    // Throttle the frame rate.    \n    if (timestamp &lt; lastFrameTimeMs + (500 / maxFPS)) {\n        requestAnimationFrame(startGame);\n        return;\n    }\n\n    lastFrameTimeMs = timestamp;  \n    console.log(x)\n\n    requestAnimationFrame(startGame);\n}\n\nrequestAnimationFrame(startGame);\n\n        &lt;/script&gt;\n        &lt;/head&gt;\n    &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "svg"], "owner": {"reputation": 2787, "user_id": 2507197, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/2ltLG.jpg?s=128&g=1", "display_name": "Alter", "link": "https://stackoverflow.com/users/2507197/alter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1574898465, "creation_date": 1574895336, "last_edit_date": 1574898465, "question_id": 59079514, "link": "https://stackoverflow.com/questions/59079514/how-to-center-an-svg-element-based-on-another-element-using-js", "title": "How to center an SVG element based on another element using js?", "body": "<p>I made an SVG face and want to center each pupil in their respective eye. </p>\n\n<p>I tried doing this by getting the center of the eye using <code>getBoundingClientRect()</code>. However when I set the position of the pupil this way it didn't work as expected (it did not center, and changes location based on size of page).</p>\n\n<ul>\n<li>I'm guessing <code>getBoundingClientRect()</code> is related to a global position and the <code>cx</code>, <code>cy</code> attributes are local, but it's not clear to me what the attributes are local to or how I would fix it</li>\n</ul>\n\n<p>Any ideas why this doesn't work and what approach might fix it?</p>\n\n<h1>Code</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Center the pupil in the eye. Side param is \"left\" or \"right\"  \r\nfunction center_pupil(side) {\r\n    let eye = document.querySelector(`#${side}-eye`).getBoundingClientRect()\r\n    let pupil = document.querySelector(`#${side}-pupil`)\r\n    let pupil_radius = pupil.getAttribute(\"r\")\r\n\r\n    pupil.setAttribute(\"cx\", eye.left + eye.width / 2 - pupil_radius)\r\n    pupil.setAttribute(\"cy\", eye.top + eye.height / 2 - pupil_radius)\r\n}\r\n\r\ncenter_pupil(\"left\")\r\ncenter_pupil(\"right\")</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" viewBox=\"0 0 645.72 579.45\"&gt;\r\n            &lt;defs&gt;\r\n                &lt;clipPath id=\"clip-path\" transform=\"translate(-114.91 -242.55)\"&gt;\r\n                    &lt;path d=\"M544,377s9-21,54-25c0,0,114-7,150,25s-43,86-43,86-33.77,18.6-79.06,11.62C615.11,473,587.67,468.87,563,448c-10.53-8.91-25.76-21.79-27-42C535.2,393.05,540.49,382.61,544,377Z\"\r\n                        fill=\"none\" /&gt;\r\n                &lt;/clipPath&gt;\r\n                &lt;clipPath id=\"clip-path-2\" transform=\"translate(-114.91 -242.55)\"&gt;\r\n                    &lt;path d=\"M117.5,397.5a38.69,38.69,0,0,1,8-11c6.89-6.57,14.55-8.78,19-10,32.47-8.93,45-10,45-10,34.68-2.95,53.54-4.56,81-1,33.83,4.38,50.79,6.54,61,21,13.58,19.24,5,45.13,4,48-6.94,20.08-23.19,30.46-35,38a106,106,0,0,1-29.07,12.82,108,108,0,0,1-39.93,3.18c-4.63.72-54.1,7.55-88.32-28.91C120.39,435.31,117.91,406.25,117.5,397.5Z\"\r\n                        fill=\"none\" /&gt;\r\n                &lt;/clipPath&gt;\r\n            &lt;/defs&gt;\r\n            &lt;title&gt;face&lt;/title&gt;\r\n            &lt;g id=\"eyes\"&gt;\r\n                &lt;g id=\"right-eye\"&gt;\r\n                    &lt;path d=\"M540.89,375.37A28.23,28.23,0,0,1,548.4,367a24,24,0,0,1,2.19-1.6c.76-.5,1.5-1,2.26-1.48,1.56-.86,3.07-1.81,4.67-2.55s3.14-1.57,4.76-2.23c.8-.34,1.6-.69,2.39-1.06l2.42-.94c.81-.31,1.61-.65,2.42-1s1.64-.56,2.46-.85l2.46-.81a25.18,25.18,0,0,1,2.49-.73c1.68-.43,3.34-.91,5-1.36s3.38-.71,5.07-1.07l2.54-.55,2.56-.41,5.14-.82c1.81-.26,3.45-.36,5.17-.53l5.12-.43q5.12-.4,10.23-.65a289.41,289.41,0,0,1,41,.71c6.82.65,13.62,1.57,20.39,2.63s13.51,2.37,20.23,3.71,13.41,2.9,20.15,4.54c1.69.38,3.36.86,5,1.36l2.51.73c.83.26,1.65.58,2.48.87l2.47.9c.82.3,1.61.71,2.42,1.05a49,49,0,0,1,4.78,2.33,52.84,52.84,0,0,1,4.63,2.72l2.26,1.48c.75.49,1.44,1.12,2.16,1.68l2.12,1.72c.67.65,1.37,1.27,2,2a30,30,0,0,1,3.57,4.42c.57.78,1,1.65,1.5,2.47s.88,1.73,1.21,2.64a25.41,25.41,0,0,1,1.57,5.59,29.78,29.78,0,0,1-.37,11.31c-4.58,14.09-13,25.18-22.33,35.35a178.89,178.89,0,0,1-14.84,14.31q-3.88,3.39-8,6.53c-2.72,2.11-5.44,4.15-8.32,6.15l-.11.08-.1.05c-2.33,1.23-4.54,2.18-6.86,3.13s-4.62,1.77-7,2.58c-4.68,1.57-9.43,2.87-14.23,4a151.83,151.83,0,0,1-29.28,3.67c-2.46,0-4.93.12-7.39.07l-7.41-.31-7.38-.71c-2.46-.23-4.85-.58-7.3-.93a131.55,131.55,0,0,1-28.88-7.35,114.07,114.07,0,0,1-13.69-6.28c-2.25-1.13-4.38-2.49-6.55-3.78-1.08-.65-2.09-1.41-3.14-2.11s-2.12-1.4-3.1-2.19a143.74,143.74,0,0,1-11.34-9.74,83.58,83.58,0,0,1-10.05-11.51A57.13,57.13,0,0,1,535.46,420a53.51,53.51,0,0,1-2.89-15.38,48.4,48.4,0,0,1,2-15.44,50,50,0,0,1,2.7-7.28c.54-1.17,1.12-2.32,1.76-3.44.31-.56.64-1.11,1-1.65S540.59,375.83,540.89,375.37Zm6.22,3.26c-.75,1.3-1.25,2.21-1.77,3.23s-1,2-1.52,3a56.3,56.3,0,0,0-2.49,6.29,41.51,41.51,0,0,0-2,13.2,34.3,34.3,0,0,0,2.84,12.95,45.72,45.72,0,0,0,7.15,11.32,91.37,91.37,0,0,0,9.77,9.7c3.46,3.07,7.29,6.18,10.83,9a112.56,112.56,0,0,0,23.73,14.54,121.21,121.21,0,0,0,13.15,5,135,135,0,0,0,13.72,3.63c2.31.47,4.7,1,7,1.32s4.69.73,7,1l7.1.56c2.37.13,4.75.12,7.13.18a128.42,128.42,0,0,0,28.29-3.39,135,135,0,0,0,13.69-4c2.23-.81,4.46-1.64,6.63-2.57s4.39-1.91,6.33-3l-.21.13c5.43-3.8,10.71-8.06,15.86-12.34s10.1-8.85,14.78-13.63a103.24,103.24,0,0,0,12.64-15.43,47.41,47.41,0,0,0,4.69-8.65,40.34,40.34,0,0,0,2.28-9.25,33.29,33.29,0,0,0,.35-4.54,22.19,22.19,0,0,0-.46-4.4,20.11,20.11,0,0,0-1.34-4.15c-.25-.67-.64-1.3-1-1.95s-.74-1.27-1.2-1.86a29.21,29.21,0,0,0-6.38-6.48c-.62-.47-1.2-1-1.86-1.44l-2-1.34a46,46,0,0,0-4.12-2.49c-11.39-6-24.05-11.23-37.37-13.24-13.25-2.37-26.77-3-40.22-3.48s-26.92-1-40.43-1.38l-10.13-.24-5.07-.07c-1.66,0-3.42,0-5,0a108.23,108.23,0,0,0-19.78,2.72,24.43,24.43,0,0,0-2.41.65l-2.39.72a43.68,43.68,0,0,0-4.71,1.63c-.77.32-1.55.6-2.3.94s-1.48.75-2.21,1.14-1.47.74-2.17,1.18l-2.06,1.35-1,.68c-.33.24-.64.51-1,.76l-1.9,1.53c-.6.54-1.18,1.11-1.76,1.65a20.72,20.72,0,0,0-1.67,1.71c-.54.58-1.07,1.17-1.54,1.78a21.79,21.79,0,0,0-1.41,1.83l-.66.93-.59.93c-.21.31-.34.62-.52.93-.09.15-.15.29-.22.43Z\"\r\n                        transform=\"translate(-114.91 -242.55)\" /&gt;\r\n                &lt;/g&gt;\r\n                &lt;path d=\"M505,327\" transform=\"translate(-114.91 -242.55)\" /&gt;\r\n                &lt;g id=\"left-eye\"&gt;\r\n                    &lt;path d=\"M114.91,397a8.77,8.77,0,0,1,.41-1.29c.07-.21.14-.43.22-.65.15-.43.33-.85.52-1.27a23.67,23.67,0,0,1,1.3-2.43,33.63,33.63,0,0,1,3.35-4.38,39.68,39.68,0,0,1,8.37-7.14,45.38,45.38,0,0,1,9.88-4.59c3.45-1.11,6.75-1.8,10-2.64,6.64-1.59,13.29-3.11,20-4.49,3.35-.68,6.71-1.32,10.08-1.9,1.69-.29,3.38-.58,5.08-.84l2.56-.36,1.29-.16.66-.08.33,0,.17,0,.34,0h-.15l10-.79c3.36-.27,6.71-.48,10.05-1s6.66-1.26,10-1.68,6.74-.55,10.13-.72c6.78-.27,13.6-.4,20.41-.06s13.6.93,20.33,1.86,13.33,1.84,20,2.91a156,156,0,0,1,20.08,4.29c.83.26,1.66.55,2.49.83s1.65.56,2.47.91l2.45,1,2.4,1.19a37.88,37.88,0,0,1,8.79,6.29,39.43,39.43,0,0,1,6.43,8.62,19,19,0,0,1,1.21,2.38l1.11,2.43.86,2.52a18.46,18.46,0,0,1,.77,2.53,57.7,57.7,0,0,1,1.39,20.78,77.82,77.82,0,0,1-1.71,10.2c-.41,1.68-.84,3.35-1.38,5s-1.2,3.27-1.82,4.9a80.14,80.14,0,0,1-10.73,18l-.83,1-.87,1c-.6.64-1.17,1.32-1.79,1.94-1.24,1.23-2.49,2.46-3.82,3.59a93.34,93.34,0,0,1-8.31,6.24c-1.42.95-2.85,1.9-4.28,2.81s-2.82,1.81-4.32,2.74q-4.45,2.71-9.14,5a111.57,111.57,0,0,1-19.45,7.27,109.85,109.85,0,0,1-41.18,3l.81,0a96.63,96.63,0,0,1-10.64.84c-3.53.09-7.06,0-10.58-.18a118,118,0,0,1-20.88-3.16A104.42,104.42,0,0,1,170,482a97.9,97.9,0,0,1-18-11.15,94.11,94.11,0,0,1-26.21-32.74,104.55,104.55,0,0,1-7.36-19.73q-1.36-5.09-2.24-10.3c-.28-1.74-.57-3.48-.77-5.23-.12-.87-.2-1.75-.29-2.63l-.07-.66-.07-.86C114.94,398.15,114.92,397.55,114.91,397Zm5.18,1.08a7,7,0,0,1,.08.79l0,1.06c.05.83.09,1.67.17,2.5.11,1.68.31,3.34.51,5,.46,3.33,1.1,6.63,1.88,9.91.39,1.63.86,3.25,1.32,4.86s1,3.21,1.62,4.78c1.17,3.15,2.48,6.25,4,9.27a87.88,87.88,0,0,0,42.45,41.16,99.57,99.57,0,0,0,19,6.34,112.17,112.17,0,0,0,19.92,2.62c3.35.14,6.71.15,10.05,0a89,89,0,0,0,9.9-.94l.38-.06.43,0a105.31,105.31,0,0,0,19.53.1A110.47,110.47,0,0,0,270.55,482a104.55,104.55,0,0,0,18.21-6.92,96.58,96.58,0,0,0,8.52-4.71c1.36-.84,2.79-1.77,4.18-2.67s2.76-1.83,4.12-2.75c2.72-1.85,5.3-3.82,7.85-5.8s5-4,7.4-6.21a51.27,51.27,0,0,0,6.53-7.12,42.86,42.86,0,0,0,4.84-8.38,61.67,61.67,0,0,0,4.57-18.91,52.32,52.32,0,0,0-1.7-19.18,18.18,18.18,0,0,0-.76-2.26l-.84-2.22-1.06-2.12a16.05,16.05,0,0,0-1.13-2.08,35,35,0,0,0-5.82-7.29,34.22,34.22,0,0,0-7.68-5.19l-2.14-1-2.23-.86c-.73-.3-1.5-.55-2.27-.78s-1.53-.49-2.31-.71a160.49,160.49,0,0,0-19.39-3.74c-6.59-.93-13.26-1.73-19.92-2.52a264.5,264.5,0,0,0-39.7-1.74c-3.33.07-6.65.33-10,.27s-6.72-.28-10.08-.29a96.26,96.26,0,0,0-10.05.57l-10,.9h-.16l-2.26.33-2.48.41c-1.65.29-3.3.61-4.95.95-3.3.7-6.59,1.48-9.87,2.28-6.56,1.62-13.08,3.42-19.58,5.32-3.23,1-6.56,1.86-9.53,3a39,39,0,0,0-8.42,4.28,34.43,34.43,0,0,0-6.92,6.22,46.51,46.51,0,0,0-2.8,3.73l-1.37,1.92-.7,1-.37.48A.39.39,0,0,0,120.09,398Z\"\r\n                        transform=\"translate(-114.91 -242.55)\" /&gt;\r\n                &lt;/g&gt;\r\n            &lt;/g&gt;\r\n            &lt;g clip-path=\"url(#clip-path)\"&gt;\r\n                &lt;circle id=\"right-pupil\" cx=\"532.09\" cy=\"125.45\" r=\"31\" /&gt;\r\n            &lt;/g&gt;\r\n            &lt;g clip-path=\"url(#clip-path-2)\"&gt;\r\n                &lt;circle id=\"left-pupil\" cx=\"116.59\" cy=\"139.95\" r=\"31\" /&gt;\r\n            &lt;/g&gt;\r\n            &lt;g id=\"Layer_4\" data-name=\"Layer 4\"&gt;\r\n                &lt;path d=\"M505,264s120-29,194-10\" transform=\"translate(-114.91 -242.55)\" fill=\"none\" stroke=\"#000\"\r\n                    stroke-miterlimit=\"10\" stroke-width=\"10\" /&gt;\r\n                &lt;path d=\"M154,280s116-27,179,0\" transform=\"translate(-114.91 -242.55)\" fill=\"none\" stroke=\"#000\"\r\n                    stroke-miterlimit=\"10\" stroke-width=\"10\" /&gt;\r\n                &lt;path d=\"M390,401c9.15,143.49,6.63,190.63,2,205,0,0-6.53,20.28-2,41a35.35,35.35,0,0,0,4,10s1.3,2.14,8,10\"\r\n                    transform=\"translate(-114.91 -242.55)\" fill=\"none\" stroke=\"#000\" stroke-miterlimit=\"10\"\r\n                    stroke-width=\"10\" /&gt;\r\n                &lt;line x1=\"321.09\" y1=\"415.45\" x2=\"329.09\" y2=\"424.45\" fill=\"none\" stroke=\"#000\" stroke-miterlimit=\"10\"\r\n                    stroke-width=\"10\" /&gt;\r\n                &lt;path d=\"M363,774l146-4s-1,47-73,47S363,774,363,774Z\" transform=\"translate(-114.91 -242.55)\" fill=\"none\"\r\n                    stroke=\"#000\" stroke-miterlimit=\"10\" stroke-width=\"10\" /&gt;\r\n            &lt;/g&gt;\r\n        &lt;/svg&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>What I'm currently seeing</h1>\n\n<p>Note: pupil location changes based on screen size</p>\n\n<p><a href=\"https://i.stack.imgur.com/jIQ8e.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jIQ8e.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "jquery", "select", "calc"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1574895434, "post_id": 59079498, "comment_id": 104396126, "body": "Did you leave the <code>()</code> off of the <code>getPriceOption</code>?  Because that should log as a function, not undefined.  And if you did, the result is undefined because <code>optionprice</code> will not be defined until the change happens."}, {"owner": {"reputation": 1695, "user_id": 5855884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XVzN6.jpg?s=128&g=1", "display_name": "jishan siddique", "link": "https://stackoverflow.com/users/5855884/jishan-siddique"}, "edited": false, "score": 0, "creation_date": 1574915227, "post_id": 59079498, "comment_id": 104400022, "body": "So basically you want to perform operation automatic price calculation based on the dropdown change?"}, {"owner": {"reputation": 233, "user_id": 4173287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G8Udo.jpg?s=128&g=1", "display_name": "BartZalas", "link": "https://stackoverflow.com/users/4173287/bartzalas"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575145961, "post_id": 59079498, "comment_id": 104469659, "body": "I updated jsfidlle because wasnt working. When we type qty its updating number. @Taplar should be there optionprice, but its not working anyway. Jishan - Its now automaticlly update on type number but should include dropdown."}], "answers": [{"tags": [], "owner": {"reputation": 233, "user_id": 4173287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G8Udo.jpg?s=128&g=1", "display_name": "BartZalas", "link": "https://stackoverflow.com/users/4173287/bartzalas"}, "is_accepted": true, "score": 0, "last_activity_date": 1575240062, "creation_date": 1575240062, "answer_id": 59130645, "question_id": 59079498, "link": "https://stackoverflow.com/questions/59079498/update-price-on-change-inlcuding-on-select/59130645#59130645", "title": "Update price on change inlcuding on select", "body": "<p>This was enough:</p>\n\n<pre><code>var updateprice = $(\"#select_21 option:selected\").attr('price');\n</code></pre>\n\n<p>added in :</p>\n\n<pre><code>while (i--) {\n         if (qty &gt;= tierPrices[i]['price_qty']) {\n           var updateprice = $(\"#select_21 option:selected\").attr('price');\n           var calc_price = tierPrices[i]['price'] * qty + (updateprice*qty);\n           return (calc_price).toFixed(2)\n         }\n       }\n</code></pre>\n"}], "owner": {"reputation": 233, "user_id": 4173287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G8Udo.jpg?s=128&g=1", "display_name": "BartZalas", "link": "https://stackoverflow.com/users/4173287/bartzalas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 59130645, "answer_count": 1, "score": 0, "last_activity_date": 1575240062, "creation_date": 1574895235, "last_edit_date": 1575145802, "question_id": 59079498, "link": "https://stackoverflow.com/questions/59079498/update-price-on-change-inlcuding-on-select", "title": "Update price on change inlcuding on select", "body": "<p>This is my fiddle:\n<a href=\"https://jsfiddle.net/btekbtek/6gxztk4f/6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/btekbtek/6gxztk4f/6/</a></p>\n\n<p>When I type qty, I automatically calculate price.<br>\nI want also include select option that is adding<br>\n\u00a31 per 1 qty.   </p>\n\n<p>If someone type 10 qty - price should be qty10*(\u00a31*10)*price</p>\n\n<p>Currently when I add:</p>\n\n<pre><code> // update price if option change\n var optionprice = 0;\n var getPriceOption = function() {\n   jQuery(\"#select_21\").change(function() {\n     if (jQuery(this).val() === '63') {\n       optionprice = 0;\n     } else {\n       optionprice = 1;\n     }\n   }); //end update optionprice\n   return optionprice;\n }; //end get PriceOption\n\n console.log(getPriceOption);\n</code></pre>\n\n<p>getPriceOption is undefined. I was trying to add it after before and same result.</p>\n\n<p>I cannot change anything in HTML, just in jQuery. </p>\n"}, {"tags": ["javascript", "firebase-cloud-messaging", "service-worker"], "answers": [{"tags": [], "owner": {"reputation": 2519, "user_id": 1124993, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d52703725150fd3ed94e549cd3da32db?s=128&d=identicon&r=PG", "display_name": "Joshi", "link": "https://stackoverflow.com/users/1124993/joshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897218, "creation_date": 1574897218, "answer_id": 59079782, "question_id": 59079479, "link": "https://stackoverflow.com/questions/59079479/firebase-cloud-messageing-how-to-handle-data-message-and-notification-message/59079782#59079782", "title": "Firebase Cloud Messageing - how to handle data message and notification message in service worker", "body": "<p>Okay I was able to handle the message depending upon whether it is notification or not using if condition for checking key \"notification\"</p>\n\n<pre><code>if (eventData.hasOwnProperty(\"notification\")) {\n</code></pre>\n\n<p>but I think there must be other method from the <code>API</code> to handle this.</p>\n"}], "owner": {"reputation": 2519, "user_id": 1124993, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/d52703725150fd3ed94e549cd3da32db?s=128&d=identicon&r=PG", "display_name": "Joshi", "link": "https://stackoverflow.com/users/1124993/joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574897218, "creation_date": 1574895170, "question_id": 59079479, "link": "https://stackoverflow.com/questions/59079479/firebase-cloud-messageing-how-to-handle-data-message-and-notification-message", "title": "Firebase Cloud Messageing - how to handle data message and notification message in service worker", "body": "<p>for example </p>\n\n<pre><code>self.addEventListener('push', function(event) {\n  if (event.data) {\n    console.log('This push event has data: ', event.data.json());\n  } else {\n    console.log('This push event has no data.');\n  }\n});\n</code></pre>\n\n<p>so the same message if I am sending as type <code>data</code> or type <code>notification</code></p>\n\n<p>the json array structure is different.\nfor notification message the Json response looks like this:</p>\n\n<pre><code>{data: {\u2026}, from: \"630940678865\", notification: {\u2026}, collapse_key: \"do_not_collapse\"}\n</code></pre>\n\n<p>and if the same message is sent using as <code>data</code> message the response looks like this;</p>\n\n<pre><code>{data: {\u2026}, from: \"630940678865\", data: {\u2026}, collapse_key: \"do_not_collapse\"}\n</code></pre>\n\n<p>so to handle a notification message I need to use <code>eventData.notification.title</code> but for data message it will go like <code>eventData.data.title</code>\nbut at client level how I can check that the push is for <code>notification</code> or a simple <code>data message</code></p>\n"}, {"tags": ["javascript", "laravel", "material-design"], "comments": [{"owner": {"reputation": 573, "user_id": 7669797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HovkdxEem_8/AAAAAAAAAAI/AAAAAAAAABo/Rcq0IMFfWGM/photo.jpg?sz=128", "display_name": "Boss COTIGA", "link": "https://stackoverflow.com/users/7669797/boss-cotiga"}, "edited": false, "score": 0, "creation_date": 1574896788, "post_id": 59079426, "comment_id": 104396449, "body": "Show us your js/bootstrap.js code please"}, {"owner": {"reputation": 2504, "user_id": 10000772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Yhuy.jpg?s=128&g=1", "display_name": "zlatan", "link": "https://stackoverflow.com/users/10000772/zlatan"}, "reply_to_user": {"reputation": 573, "user_id": 7669797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HovkdxEem_8/AAAAAAAAAAI/AAAAAAAAABo/Rcq0IMFfWGM/photo.jpg?sz=128", "display_name": "Boss COTIGA", "link": "https://stackoverflow.com/users/7669797/boss-cotiga"}, "edited": false, "score": 0, "creation_date": 1574897423, "post_id": 59079426, "comment_id": 104396594, "body": "Updated my question."}, {"owner": {"reputation": 573, "user_id": 7669797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HovkdxEem_8/AAAAAAAAAAI/AAAAAAAAABo/Rcq0IMFfWGM/photo.jpg?sz=128", "display_name": "Boss COTIGA", "link": "https://stackoverflow.com/users/7669797/boss-cotiga"}, "edited": false, "score": 0, "creation_date": 1574898363, "post_id": 59079426, "comment_id": 104396821, "body": "You load jQuery and Popper 2 times. And maybe bootstrap conflicts with bootstrap-material-design. Trying to compile (npm run dev) after deleting the contents of bootstrap.js"}, {"owner": {"reputation": 573, "user_id": 7669797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HovkdxEem_8/AAAAAAAAAAI/AAAAAAAAABo/Rcq0IMFfWGM/photo.jpg?sz=128", "display_name": "Boss COTIGA", "link": "https://stackoverflow.com/users/7669797/boss-cotiga"}, "edited": false, "score": 0, "creation_date": 1574898465, "post_id": 59079426, "comment_id": 104396850, "body": "Or without require(&#39;./bootstrap&#39;); in app.js"}], "owner": {"reputation": 2504, "user_id": 10000772, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8Yhuy.jpg?s=128&g=1", "display_name": "zlatan", "link": "https://stackoverflow.com/users/10000772/zlatan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1576001331, "creation_date": 1574894681, "last_edit_date": 1576001331, "question_id": 59079426, "link": "https://stackoverflow.com/questions/59079426/laravel-material-design-theme-strange-behaviour", "title": "Laravel Material Design theme strange behaviour", "body": "<p>Recently I installed the <a href=\"https://www.creative-tim.com/product/material-dashboard-laravel\" rel=\"nofollow noreferrer\">Laravel Material Design</a> theme. I managed to setup everything nicely, and everything was working until I added some <code>vue.js templates</code>. When I imported my <code>app.js</code> file, where my templates are loaded, some of the features of the theme just stopped working, and I have no idea why. This is my <code>app.js</code> file: </p>\n\n<pre><code>require('./bootstrap');\n\nwindow.Vue = require('vue');\n\nVue.component('users-component', require('./components/UsersComponent').default);\nVue.component('blogs-component', require('./components/BlogsComponent').default);\nVue.component('news-component', require('./components/NewsComponent').default);\nVue.component('paginator', require('./components/Paginator.vue').default);\n\nconst app = new Vue({\n    el: '#vue',\n});\n</code></pre>\n\n<p>So, I compile the file, and I import it at the bottom of my <code>app.blade.php</code> layout: </p>\n\n<pre><code>....\n&lt;script src=\"{{ mix('/js/app.js') }}\" defer&gt;&lt;/script&gt;\n</code></pre>\n\n<p>When I load my page, my <code>vue.js templates</code> are working correctly. The problem is, the theme navigation just stops working, and I can't click the navigation list: </p>\n\n<p><a href=\"https://i.stack.imgur.com/jP7TQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jP7TQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>I begin to investigate, and in the browser console, I see the following errors: </p>\n\n<p><a href=\"https://i.stack.imgur.com/vgN5y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vgN5y.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I remove the <code>app.js</code> file from my layout, the navigation starts working again, and I don't see any errors in the console, but of course, my <code>vue.js templates</code> are not working. This is full list of imported scripts in my layout: </p>\n\n<pre><code>&lt;!--   Core JS Files   --&gt;\n&lt;script src=\"{{ asset('material') }}/js/core/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"{{ asset('material') }}/js/core/popper.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"{{ asset('material') }}/js/core/bootstrap-material-design.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/perfect-scrollbar.jquery.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Plugin for the momentJs  --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/moment.min.js\"&gt;&lt;/script&gt;\n&lt;!--  Plugin for Sweet Alert --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/sweetalert2.js\"&gt;&lt;/script&gt;\n&lt;!-- Forms Validations Plugin --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/jquery.validate.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/jquery.bootstrap-wizard.js\"&gt;&lt;/script&gt;\n&lt;!--    Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/bootstrap-selectpicker.js\"&gt;&lt;/script&gt;\n&lt;!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/bootstrap-datetimepicker.min.js\"&gt;&lt;/script&gt;\n&lt;!--  DataTables.net Plugin, full documentation here: https://datatables.net/  --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/jquery.dataTables.min.js\"&gt;&lt;/script&gt;\n&lt;!--    Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/bootstrap-tagsinput.js\"&gt;&lt;/script&gt;\n&lt;!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/jasny-bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/fullcalendar.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/jquery-jvectormap.js\"&gt;&lt;/script&gt;\n&lt;!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/nouislider.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert --&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js\"&gt;&lt;/script&gt;\n&lt;!-- Library for dynamically adding elements --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/arrive.min.js\"&gt;&lt;/script&gt;\n&lt;!-- Chartist JS --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/chartist.min.js\"&gt;&lt;/script&gt;\n&lt;!--  Notifications Plugin    --&gt;\n&lt;script src=\"{{ asset('material') }}/js/plugins/bootstrap-notify.js\"&gt;&lt;/script&gt;\n&lt;!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc --&gt;\n&lt;script src=\"{{ asset('material') }}/js/material-dashboard.js?v=2.1.1\" type=\"text/javascript\"&gt;&lt;/script&gt;\n&lt;script src=\"{{ mix('/js/app.js') }}\" defer&gt;&lt;/script&gt;\n@stack('js')\n\n@if(isset($scripts))\n    @foreach($scripts as $key =&gt; $value)\n        &lt;script src=\"{{ asset($value)}}\"&gt;&lt;/script&gt;\n    @endforeach\n@endif\n</code></pre>\n\n<p>What seems to be the problem here. Any help appreciated. </p>\n\n<p>UPDATE: </p>\n\n<p>This is the bootsrtap.js:</p>\n\n<pre><code>window._ = require('lodash');\n\n/**\n * We'll load jQuery and the Bootstrap jQuery plugin which provides support\n * for JavaScript based Bootstrap features such as modals and tabs. This\n * code may be modified to fit the specific needs of your application.\n */\n\ntry {\n    window.Popper = require('popper.js').default;\n    window.$ = window.jQuery = require('jquery');\n\n    require('bootstrap');\n} catch (e) {}\n\n/**\n * We'll load the axios HTTP library which allows us to easily issue requests\n * to our Laravel back-end. This library automatically handles sending the\n * CSRF token as a header based on the value of the \"XSRF\" token cookie.\n */\n\nwindow.axios = require('axios');\n\nwindow.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';\n</code></pre>\n"}, {"tags": ["javascript", "amazon-web-services", "amazon-s3", "pre-signed-url"], "answers": [{"comments": [{"owner": {"reputation": 996, "user_id": 6704320, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb8cbdc379bfa97bee49eb731e601134?s=128&d=identicon&r=PG&f=1", "display_name": "phoebus", "link": "https://stackoverflow.com/users/6704320/phoebus"}, "edited": false, "score": 1, "creation_date": 1574961137, "post_id": 59081443, "comment_id": 104421406, "body": "Since I don&#39;t want to have the AWS credentials in the frontend, I have to generate them on the backend. Generating the URLs every time the frontend requests them from the backend (1000s of URLs every 5 secs) seems like an overhead though. Also, does the browser still cache the image although the URL in the img tag changed?"}], "tags": [], "owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "is_accepted": true, "score": 6, "last_activity_date": 1574912788, "creation_date": 1574912788, "answer_id": 59081443, "question_id": 59079410, "link": "https://stackoverflow.com/questions/59079410/best-practice-to-handle-aws-s3-presigned-url-expiration-date/59081443#59081443", "title": "Best practice to handle aws s3 presigned URL expiration date", "body": "<p>The best practice is <strong>do not store pre-signed URLs</strong>.</p>\n\n<p>Instead, <strong>generate them on-the-fly</strong> when they are required. They only take a couple of lines of code to generate, and generation does not involve a call to AWS.</p>\n\n<p>So, whenever the app needs to reference a pre-signed URL, immediately generate and use it. There will be no need to worry about expiration times.</p>\n"}], "owner": {"reputation": 996, "user_id": 6704320, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/bb8cbdc379bfa97bee49eb731e601134?s=128&d=identicon&r=PG&f=1", "display_name": "phoebus", "link": "https://stackoverflow.com/users/6704320/phoebus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 817, "favorite_count": 0, "accepted_answer_id": 59081443, "answer_count": 1, "score": 1, "last_activity_date": 1574912796, "creation_date": 1574894548, "last_edit_date": 1574912796, "question_id": 59079410, "link": "https://stackoverflow.com/questions/59079410/best-practice-to-handle-aws-s3-presigned-url-expiration-date", "title": "Best practice to handle aws s3 presigned URL expiration date", "body": "<p>I'm saving images to my s3 bucket, generate a presigned URL and save that as a field in my model schema. When my frontend retrieves the model objects from the backend it uses that URL to retrieve the images.</p>\n\n<p>The max expiration date you can set with v4 is 7 days. So what is the best practice to handle the \"refreshing\" of those URLs?</p>\n\n<p>Things I thought about:</p>\n\n<ul>\n<li>Having a cron job in my backend that checks every e.g. every 24 hours if I have any URLs going invalid within the next 24h and generate a new one in case.</li>\n<li>Checking it everytime I receive a GET request and re-generate if it's invalid</li>\n<li>Not checking at all on the backend, and just try to the hit the URL on the frontend and if I get a 403 to then request the re-generation from the backend. I don't like this idea that much though as I couldn't simply use \"/> but have to wrap it in some other logic.</li>\n</ul>\n"}, {"tags": ["javascript", "php", "ajax", "braintree", "nonce"], "comments": [{"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1574894985, "post_id": 59079281, "comment_id": 104396029, "body": "Where is your hidden input for the nonce?  Is that part of the drop in container?  Please inspect the HTML for your rendered page and verify the input with <code>name=&quot;payment_method_nonce&quot;</code> exists inside your form."}, {"owner": {"reputation": 9, "user_id": 12448497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac492fc33a57ea9ad821da913c7996d?s=128&d=identicon&r=PG&f=1", "display_name": "ianarm11", "link": "https://stackoverflow.com/users/12448497/ianarm11"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1574897039, "post_id": 59079281, "comment_id": 104396494, "body": "@devlincarnate I did more testing and the solution was within re-structuring my HTML form. My old form structure (in post) was using JS to insert a submit button, my new form I actually add a &lt;button&gt; with type=submit, and this seemed to fix my issues."}], "owner": {"reputation": 9, "user_id": 12448497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ac492fc33a57ea9ad821da913c7996d?s=128&d=identicon&r=PG&f=1", "display_name": "ianarm11", "link": "https://stackoverflow.com/users/12448497/ianarm11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 197, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574903268, "creation_date": 1574893647, "last_edit_date": 1574903268, "question_id": 59079281, "link": "https://stackoverflow.com/questions/59079281/braintree-payment-method-nonce-returns-empty", "title": "Braintree &#39;payment_method_nonce&#39; returns empty", "body": "<p>I'm fairly new to Braintree. Im integrating the DropIn UI in the Sandbox environment. The 'payment_method_nonce' is returning empty after I submit my form, which makes the transaction fail. The DropIn UI displays correctly in the specific div, and to make sure everything was working correctly I added in a place holder for the PaymentMethodNonce which was 'fake-valid-nonce', which made the transaction valid. I am stuck on why the Braintree server is not sending back a Nonce value.</p>\n\n<p>I make an Ajax call to token.php to get the Client Token which enables the DropIn UI to render correctly.</p>\n\n<p>Ajax call below:</p>\n\n<pre><code>&lt;script&gt;\n    $.ajax({\n    url: \"/braintree/token.php\",\n    type: \"get\",\n    dataType: \"json\",\n    success: function (data) {\n        braintree.setup(data, 'dropin', {container: 'dropin-container'});\n    );\n&lt;/script&gt;\n</code></pre>\n\n<p>This is token.php which generates the Client Token:</p>\n\n<pre>\n\n    require (\"braintree.php\");\n\n    $clientToken = $gateway->clientToken()->generate();\n    echo json_encode($clientToken);\n\n</pre>\n\n<p>When I inspect the HTML, BrainTree shows a 'server-error-message' div, and it displays \"There was an error processing your request. Try again.\" Other posts regarding this issue have mentioned that the way a HTML form can be set up and submitted can cause this issue.</p>\n\n<p>Here is my Form:</p>\n\n<pre><code>    &lt;div class=\"container\"&gt;\n    &lt;div class=\"row flex-nowrap\"&gt;\n        &lt;div class=\"alpha-container col-12\"&gt;\n            &lt;div class=\"content-container\"&gt;\n                &lt;form id=\"infoForm\" method=\"post\" action=\"/congrats.php\"&gt;\n\n                    &lt;div class=\"tab\"&gt;\n                        &lt;h2&gt;Pick a Time&lt;/h2&gt;\n                        &lt;div&gt;\n                            &lt;!-- Google Schedule API goes here --&gt;\n                        &lt;/div&gt;\n                        &lt;div&gt;\n                            &lt;h4&gt;Distance:&lt;/h4&gt;\n                            &lt;p&gt;&lt;/p&gt;\n                            &lt;br&gt;\n                            &lt;h4&gt;Duration:&lt;/h4&gt;\n                            &lt;p&gt;&lt;/p&gt;\n                            &lt;h4&gt;Estimate:&lt;/h4&gt;\n                            &lt;p&gt;&lt;/p&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"tab\"&gt;\n                        &lt;h2&gt;Contact Information&lt;/h2&gt;\n                        &lt;div class=\"contact-form\"&gt;\n                            &lt;div class=\"contact-block\"&gt;\n                                &lt;label for=\"fullname\"&gt;&lt;/label&gt;\n                                &lt;input type=\"text\" name=\"Data[fullname]\" class=\"contact\" placeholder=\"Full Name\"&gt;\n                            &lt;/div&gt;\n\n                            &lt;div class=\"contact-block\"&gt;\n                                &lt;label for=\"email\"&gt;&lt;/label&gt;\n                                &lt;input type=\"email\" name=\"Data[email]\" class=\"contact\" placeholder=\"Email Address\"&gt;\n                            &lt;/div&gt;\n\n                            &lt;div class=\"contact-block\"&gt;\n                                &lt;label for=\"phonenumber\"&gt;&lt;/label&gt;\n                                &lt;input type=\"number\" name=\"Data[phonenumber]\" class=\"contact\" placeholder=\"Phone Number\"&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;div class=\"tab\"&gt;\n                        &lt;h2&gt;Payment Information&lt;/h2&gt;\n                        &lt;div class=\"payment-form\"&gt;\n                            &lt;label for=\"firstName\"&gt;&lt;/label&gt;\n                            &lt;input type=\"text\" placeholder=\"First Name\" name=\"Data[first_name]\"&gt;\n\n                            &lt;label for=\"lastName\"&gt;&lt;/label&gt;\n                            &lt;input type=\"text\" placeholder=\"Last Name\" name=\"Data[last_name]\"&gt;\n\n                            &lt;div id=\"dropin-container\"&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n\n                    &lt;!-- Next/Previous Buttons --&gt;\n                    &lt;div style=\"overflow:auto;\"&gt;\n                        &lt;div style=\"float:right;\"&gt;\n                            &lt;button type=\"button\" id=\"prevBtn\" onclick=\"nextPrev(-1)\"&gt;Previous&lt;/button&gt;\n                            &lt;button type=\"button\" id=\"nextBtn\" onclick=\"nextPrev(1)\"&gt;Next&lt;/button&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;!--Progress Bar --&gt;\n                    &lt;div style=\"text-align:center;margin-top:40px;\"&gt;\n                        &lt;span class=\"step\"&gt;&lt;/span&gt;\n                        &lt;span class=\"step\"&gt;&lt;/span&gt;\n                        &lt;span class=\"step\"&gt;&lt;/span&gt;\n                    &lt;/div&gt;\n\n                &lt;/form&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The form uses Javascript to hide the steps of the form and then adds a submit button then it has reached the last step. 'congrats.php' is where I'll be processing the transaction. I am including both jQuery and Braintree JS in my header.</p>\n\n<p>Edit: My solution was found by editing my HTML form. The form above used javascript to add a submit button once on the last step of the form. My new form now just has a button tag with type=submit and now the 'payment_method_nonce' is being created. For whatever reason, the Braintree server was not receiving my payment information upon submit.  </p>\n"}, {"tags": ["javascript", "function", "leaflet", "event-listener"], "answers": [{"comments": [{"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1574931926, "post_id": 59083627, "comment_id": 104406050, "body": "Rather a query selector by class name?"}, {"owner": {"reputation": 2272, "user_id": 3574481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jW3nCe2wOlU/AAAAAAAAAAI/AAAAAAAAVu4/a4SSbax7jbo/photo.jpg?sz=128", "display_name": "peeebeee", "link": "https://stackoverflow.com/users/3574481/peeebeee"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1574939217, "post_id": 59083627, "comment_id": 104410011, "body": "@ghybs Yep, that would be better practice, I went for the Id selector because the OP has already used one."}, {"owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1574941706, "post_id": 59083627, "comment_id": 104411428, "body": "OP targets <code>&lt;a href=&quot;#legend&quot; id=&quot;legend&quot;&gt;Legend&lt;&#47;a&gt;</code> with the id selector, but for their <code>L.DomUtil.create(&#39;div&#39;, &#39;info legend&#39;)</code> it will have only class"}, {"owner": {"reputation": 2272, "user_id": 3574481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jW3nCe2wOlU/AAAAAAAAAAI/AAAAAAAAVu4/a4SSbax7jbo/photo.jpg?sz=128", "display_name": "peeebeee", "link": "https://stackoverflow.com/users/3574481/peeebeee"}, "reply_to_user": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "edited": false, "score": 0, "creation_date": 1574942535, "post_id": 59083627, "comment_id": 104411843, "body": "Duh, yeah. Edited. Tnx."}], "tags": [], "owner": {"reputation": 2272, "user_id": 3574481, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jW3nCe2wOlU/AAAAAAAAAAI/AAAAAAAAVu4/a4SSbax7jbo/photo.jpg?sz=128", "display_name": "peeebeee", "link": "https://stackoverflow.com/users/3574481/peeebeee"}, "is_accepted": true, "score": 1, "last_activity_date": 1574942518, "last_edit_date": 1574942518, "creation_date": 1574925946, "answer_id": 59083627, "question_id": 59079272, "link": "https://stackoverflow.com/questions/59079272/toggle-leaflet-legend-on-off-via-eventlistener/59083627#59083627", "title": "Toggle leaflet legend on/off via eventListener", "body": "<p>You need a DOM element that specifies the element you want to style. </p>\n\n<pre><code>function openLegend(){\n    document.getElementByClass(\"legend\").style.display = 'block';\n}\n</code></pre>\n\n<p>should work for you.</p>\n"}], "owner": {"reputation": 641, "user_id": 9519968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28778103cf62fb400244ae0a3c353365?s=128&d=identicon&r=PG&f=1", "display_name": "prime90", "link": "https://stackoverflow.com/users/9519968/prime90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 59083627, "answer_count": 1, "score": 0, "last_activity_date": 1574942518, "creation_date": 1574893602, "question_id": 59079272, "link": "https://stackoverflow.com/questions/59079272/toggle-leaflet-legend-on-off-via-eventlistener", "title": "Toggle leaflet legend on/off via eventListener", "body": "<p>I'm trying to go for an on/off toggle when \"Legend\" is clicked in the navbar. However, when I'm constructing the function for <code>addEventListener</code>, I keep receiving a type error. I understand this is because <code>info</code> is not defined but I'm not sure how to define it so the <code>style display</code> can be changed to <code>block</code> and it will appear on the map when <code>Legend</code> is clicked in the nav bar. </p>\n\n<p>Any suggestions to point me in the right direction?</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;!--Navbar--&gt;\n    &lt;nav class=\"navbar\"&gt;\n        &lt;div class=\"logo\"&gt;\n            &lt;h4&gt; Earthquake Feed&lt;/h4&gt;\n        &lt;/div&gt;\n        &lt;ul class=\"nav-links\"&gt;\n            &lt;li&gt;&lt;a href=\"#simpleModal\" id=\"aboutModal\"&gt;About&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#legend\" id=\"legend\"&gt;Legend&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n</code></pre>\n\n<p><strong>CSS:</strong></p>\n\n<pre><code>/*CSS for legend*/\n.info {\n  padding: 6px 8px;\n  font: 14px/16px Arial, Helvetica, sans-serif;\n  background: white;\n  background: rgba(255,255,255,0.8);\n  box-shadow: 0 0 15px rgba(0,0,0,0.2);\n  border-radius: 5px;\n  display: none;\n  }\n\n.legend {\n  background-color: \u201cblack\u201d;\n  line-height: 26px;\n  color: #555;\n  width: auto;\n</code></pre>\n\n<p><strong>Javascript:</strong></p>\n\n<pre><code>// adds legend to map\nvar legend = L.control({position: 'bottomright'});\n\nlegend.onAdd = function(map) {\n    var div = L.DomUtil.create('div', 'info legend'),\n        magnitudes = [0,1,2,3,4,5];\n\n    div.innerHTML += \"&lt;h4 style='margin:5px'&gt;Magnitude&lt;/h4&gt;\" \n    div.innerHTML += '&lt;i class=\"circleR\" style=background:&gt;' + '&lt;/i&gt;' + \"Recent\" + '&lt;br&gt;'\n\n    // loop through color intervals and generate a lable\n    for (var i=0; i &lt; magnitudes.length; i++) {\n        div.innerHTML += \n                        '&lt;i class=\"circle\" style=background:' + getColor(magnitudes[i] + 1) + '&gt;&lt;/i&gt;' +\n                        magnitudes[i] + (magnitudes[i+1]?'&amp;ndash;' + magnitudes[i+1] + '&lt;br&gt;': '+');\n    }\n    return div;\n};\nlegend.addTo(map);\n\n// toggles legend on and off\nvar legendLink = document.getElementById(\"legend\");\nlegendLink.addEventListener('click', openLegend);\nfunction openLegend(){\n    info.style.display = 'block';\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "nginx", "websocket"], "comments": [{"owner": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 1, "creation_date": 1574940968, "post_id": 59079260, "comment_id": 104411036, "body": "Can you add <code>proxy_http_version 1.1;</code>"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1574945932, "post_id": 59079260, "comment_id": 104413658, "body": "@RolandStarke added but it doesn&#39;t works still :( <a href=\"https://i.gyazo.com/8ba137cbb2b829a8cb6d5edaefe3f7eb.png\" rel=\"nofollow noreferrer\">i.gyazo.com/8ba137cbb2b829a8cb6d5edaefe3f7eb.png</a>"}, {"owner": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "reply_to_user": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 1, "creation_date": 1575023606, "post_id": 59079260, "comment_id": 104438305, "body": "your screenshot shows that you have working websocket connection. your problem is not related to configuration of nginx. Did you restart nginx after the change suggested by @RolandStarke ?"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "edited": false, "score": 0, "creation_date": 1575024793, "post_id": 59079260, "comment_id": 104438817, "body": "@MaximSagaydachny yes, of course. Do you know what could be the problem cause? I believe that this is connected to nginx since everything is fine locally"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "edited": false, "score": 0, "creation_date": 1575024941, "post_id": 59079260, "comment_id": 104438909, "body": "@MaximSagaydachny I have found that at point I call <code>io.emit(...)</code> at <code>app.routes</code> there are no connected users to socket but there is no disconnection happening since I connect to it"}, {"owner": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "edited": false, "score": 0, "creation_date": 1575026652, "post_id": 59079260, "comment_id": 104439676, "body": "I wonder whether io.emit() is a problem... Try io.sockets.emit()"}, {"owner": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1575026765, "post_id": 59079260, "comment_id": 104439735, "body": "An other option would be a race condition. I I agree the screenshot looks like the connection is fine, so I guess some added delay and therefore other execution order could cause a problem."}, {"owner": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1575027290, "post_id": 59079260, "comment_id": 104440030, "body": "You are sending an image blob? Maybe try with a simple string first. Could you add the client side code? (Other problems could be: using multible nodejs instances or localhost vs live server (CORS or https restrictions that are not enforced by chrome on localhost, etc.))"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1575029810, "post_id": 59079260, "comment_id": 104441118, "body": "@RolandStarke nope, it&#39;s just an JSON string like <code>{ name: &#39;image.jpg&#39;, path: &#39;path&#47;to&#47;image.jpg&#39; }</code>"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1316, "user_id": 5378743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634a53a13a8a33706274e0f17c2c003e?s=128&d=identicon&r=PG&f=1", "display_name": "Roland Starke", "link": "https://stackoverflow.com/users/5378743/roland-starke"}, "edited": false, "score": 0, "creation_date": 1575029845, "post_id": 59079260, "comment_id": 104441135, "body": "@RolandStarke I will update question with angular code in ~20-30 minutes"}, {"owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "reply_to_user": {"reputation": 1669, "user_id": 12396017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nk8xz.png?s=128&g=1", "display_name": "Maxim Sagaydachny", "link": "https://stackoverflow.com/users/12396017/maxim-sagaydachny"}, "edited": false, "score": 0, "creation_date": 1575193032, "post_id": 59079260, "comment_id": 104477314, "body": "@MaximSagaydachny sorry, missed you comment. I tried <code>io.sockets.emit(...)</code> before but also doesn&#39;t work since there are no connected users at all. I think that users get disconnected at some moment but I don&#39;t know how to investigate it"}], "owner": {"reputation": 331, "user_id": 7450866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lbrHN.jpg?s=128&g=1", "display_name": "Nikita Popov", "link": "https://stackoverflow.com/users/7450866/nikita-popov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1575197187, "creation_date": 1574893522, "last_edit_date": 1575197187, "question_id": 59079260, "link": "https://stackoverflow.com/questions/59079260/how-to-serve-multiple-angular-express-js-apps-with-socket-io", "title": "How to serve multiple angular + express.js apps with socket.io", "body": "<p>I have server with NGINX serving express.js (+ socket.io) server and angular app. And both of this apps have dev versions so it's 4 apps served from one nginx config. Until I added socket.io to express app, everything worked with following config:</p>\n\n<pre><code>user www-data;\nworker_processes auto;\npid /run/nginx.pid;\n\nevents {\n    worker_connections  1024;\n}\n\n\nhttp {\n    include       mime.types;\n    default_type  application/octet-stream;\n\n    sendfile        on;\n    client_max_body_size 100m;\n\n    keepalive_timeout  65;\n\n    ##\n    # Logging Settings\n    ##\n\n    access_log /var/log/nginx/access.log;\n    error_log /var/log/nginx/error.log;\n\n\n    server {\n        listen       4200;\n        server_name  localhost;\n\n        # dev version of angular app\n        location /dev {\n            expires    -1;\n            add_header Pragma \"no-cache\";\n            add_header Cache-Control \"no-store, no-cache, must-revalicate, post-check=0 pre-check=0\";\n            alias      /home/user/angular_dev_app/frontend/dist/angular_dev_app;\n            try_files  $uri $uri/ /index.html =404;\n        }\n\n        # dev version of express server\n        location /dev/api {\n            rewrite          ^\\/dev/api(.*)$ $1 break;\n            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;\n            proxy_set_header Host $http_host;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection \"upgrade\";\n            proxy_redirect   off;\n            proxy_pass       http://localhost:9900/;\n            proxy_set_header X-Real-IP $remote_addr;\n        }\n\n        # dev version of angular app\n        location / {\n            expires    -1;\n            add_header Pragma \"no-cache\";\n            add_header Cache-Control \"no-store, no-cache, must-revalicate, post-check=0 pre-check=0\";\n            root       /home/user/angular_prod_app/frontend/dist/angular_prod_app;\n            try_files $uri $uri/ /index.html =404;\n        }\n\n        # prod version of express server\n        location /api {\n            rewrite          ^\\/api(.*)$ $1 break;\n\n            proxy_set_header Host $http_host;\n            proxy_set_header Upgrade $http_upgrade;\n            proxy_set_header Connection \"upgrade\";\n            proxy_redirect   off;\n            proxy_pass       http://localhost:9901;\n            proxy_set_header X-Real-IP $remote_addr;\n        }\n\n        gzip on;\n        gzip_disable \"msie6\";\n    }\n\n    include servers/*;\n}\n</code></pre>\n\n<p>But after I added socket.io logic to express app it acts very strange.\nAll connections excluding socket ones are work without any problems. If I run express and angular app without nginx, socket.io requests are also work without any problem. But when I run server from remote server with nginx, it starts to get called only on <code>on('connecting', ...)</code> and ignores any emitting from routes handlers.</p>\n\n<h1>BACKEND</h1>\n\n<h2>express.js app:</h2>\n\n<pre><code>const io = require(\"socket.io\").listen(server);\n\nio.origins(\"*:*\");\n\n\nio.on(\"connection\", socket =&gt; {\n    socket.emit(\"Hello\", `Hello, ${socket.handshake.session.passport.user}`); # gets to frontend locally and remotely\n\n    socket.on(\"sendImage\", (image) =&gt; {\n        console.log(image);\n        io.emit(\"addImage\", image);\n    });\n});\n\napp.use(require(\"app.routes\")(io));\n</code></pre>\n\n<h2>app.routes.js</h2>\n\n<pre><code>\nmodule.exports = io =&gt; {\n    const router = express.Router();\n\n    router.post(\n        \"/some-url\",\n        (req, res, next) =&gt; {\n              const result = 'something';\n              io.emit(\"sendImage\", result); # gets to frontend only locally\n\n              res.status(200).send({ body: [] });\n        }\n    );\n\n    return router;\n};\n</code></pre>\n\n<h1>FRONTEND</h1>\n\n<h2>socket.service.ts</h2>\n\n<pre><code>import { Injectable } from \"@angular/core\";\nimport { Observable } from \"rxjs/Observable\";\nimport * as io from \"socket.io-client\";\n// import { SocketIOClient } from \"socket.io-client\";\n\nimport { ConfigService } from \"./config.service\";\n\n@Injectable()\nexport class SocketService {\n    private socket: SocketIOClient.Socket;\n    private wsOriginUrl: string;\n    private wsPath: string;\n\n    constructor(private environment: ConfigService) {\n        this.wsOriginUrl = this.environment.config.wsOriginUrl;\n        this.wsPath = this.environment.config.wsPath;\n\n        this.socket = io(this.wsOriginUrl, {\n            path: this.wsPath,\n            transports: [\"websocket\"]\n        });\n        this.socket.on(\"connect\", () =&gt; this.connected());\n        // this.socket.on(\"disconnect\", () =&gt; this.disconnected());\n        this.socket.on(\"error\", (error: string) =&gt; {\n            console.log(`ERROR: \"${error}\" (${this.wsOriginUrl})`);\n        });\n    }\n\n    public connect() {\n        this.socket.connect();\n    }\n\n    public disconnect() {\n        this.socket.disconnect();\n    }\n\n    public emit(chanel, message) {\n        return new Observable&lt;any&gt;(observer =&gt; {\n            console.log(`emit to ${chanel}:`, message); // is called for 'addImage' when both are localhost only\n            this.socket.emit(chanel, message, function(data) {\n                if (data.success) {\n                    observer.next(data.msg);\n                } else {\n                    observer.error(data.msg);\n                }\n                observer.complete();\n            });\n        });\n    }\n\n    public on(event_name) {\n        // console.log(`listen to ${event_name}:`);\n        return new Observable&lt;any&gt;(observer =&gt; {\n            this.socket.off(event_name);\n            this.socket.on(event_name, data =&gt; {\n                observer.next(data);\n            });\n        });\n    }\n\n    private connected() {\n        console.log(\"Connected\"); // is called when both are localhost or angular local + express remote\n    }\n\n    private disconnected() {\n        console.log(\"Disconnected\");\n    }\n}\n</code></pre>\n\n<h2>images.service.ts</h2>\n\n<pre><code>@Injectable()\nexport class ImagesService {\n    private backendApiUrl: string;\n\n    constructor(\n        private http: HttpClient,\n        private environment: ConfigService,\n        private socketService: SocketService\n    ) {\n        this.backendApiUrl = environment.config.origin;\n    }\n\n    public getServerSentImage(): Observable&lt;any&gt; {\n        return this.socketService.on(\"addImage\").pipe(\n            map(response =&gt; {\n                console.log(response);\n                return response;\n            })\n        );\n    }\n}\n</code></pre>\n\n<h2>page.component.ts</h2>\n\n<pre><code>@Component({\n    selector: \"app-page\",\n    templateUrl: \"./page.component.html\",\n    animations: [fadeInOutTransition],\n    styleUrls: [\"./page.component.scss\"]\n})\nexport class PageComponent implements OnInit, OnDestroy {\n    private serverSentImageSubscription: Subscription = new Subscription();\n\n    constructor(\n        private imagesService: ImagesService,\n    ) {\n    }\n    ngOnInit() {\n        this.serverSentImageSubscription = this.imagesService\n            .getServerSentImage()\n            .subscribe(\n                image =&gt; {\n                    this.addImage(image);\n                },\n                error =&gt; {\n                    console.error(error);\n                }\n            );\n    }\n\n    ngOnDestroy() {\n        this.serverSentImageSubscription.unsubscribe();\n    }\n\n    public addImage(image: any) {\n        // do something\n    }\n}\n</code></pre>\n\n<p>Is there any problem with my NGINX config? Or I set up server (or client app?) incorrectly?</p>\n"}, {"tags": ["javascript", "reactjs", "material-ui", "speed-dial"], "answers": [{"tags": [], "owner": {"reputation": 2028, "user_id": 5225594, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4NKQ.jpg?s=128&g=1", "display_name": "Thai Duong Tran", "link": "https://stackoverflow.com/users/5225594/thai-duong-tran"}, "is_accepted": true, "score": 8, "last_activity_date": 1574895212, "creation_date": 1574895212, "answer_id": 59079491, "question_id": 59079254, "link": "https://stackoverflow.com/questions/59079254/can-i-disable-the-material-ui-speeddial-mouseover-event/59079491#59079491", "title": "Can I disable the Material-UI SpeedDial mouseover event", "body": "<p>This behaviour can be achieved by ignoring <code>onOpen</code> prop and control the component with <code>onClick</code> prop.</p>\n\n<pre><code>// Component code\n\nconst [open, setOpen] = React.useState(false);\n\nconst handleOpen = (event) =&gt; {\n  setOpen(!open);\n};\n\nreturn (\n   &lt;SpeedDial\n      onClick={handleOpen}\n      open={open}\n      ...\n   /&gt;\n);\n</code></pre>\n\n<p>You can see a working example here: <a href=\"https://codesandbox.io/s/material-demo-1lwci\" rel=\"noreferrer\">https://codesandbox.io/s/material-demo-1lwci</a></p>\n"}], "owner": {"reputation": 39, "user_id": 4959683, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28c6c54b9c5f510b412e143e17330845?s=128&d=identicon&r=PG&f=1", "display_name": "OJJ", "link": "https://stackoverflow.com/users/4959683/ojj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 1, "accepted_answer_id": 59079491, "answer_count": 1, "score": 1, "last_activity_date": 1574895212, "creation_date": 1574893495, "question_id": 59079254, "link": "https://stackoverflow.com/questions/59079254/can-i-disable-the-material-ui-speeddial-mouseover-event", "title": "Can I disable the Material-UI SpeedDial mouseover event", "body": "<p>I am wanting to disable the default mouseover/hover behaviour of Material-UI's SpeedDial component (<a href=\"https://material-ui.com/api/speed-dial/\" rel=\"nofollow noreferrer\">https://material-ui.com/api/speed-dial/</a>). Currently when you mouseover the primary icon, the SpeedDial component will open. It will also open on click. This has caused issues with some of our users as when they mouse over the button - it opens - and they immediately click and it closes.</p>\n\n<p>I would like to keep the just the click action for opening the SpeedDial for touch screen devices.</p>\n\n<p>Is there a simple way for me to disable the hover/mouseover event? As far as I can tell the API does not allow this.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "php", "jquery", "ajax"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1574893683, "post_id": 59079252, "comment_id": 104395639, "body": "<code>if(response != &#39;reachedMax&#39;) {</code> must never evaluate to false"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574893966, "post_id": 59079252, "comment_id": 104395735, "body": "Willing to bet you are returning more than the string <code>console.log(escape(response))</code>. This is a good example of why it is better to return JSON so you do not have to worry about whitespace and such in the response."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1574894097, "post_id": 59079252, "comment_id": 104395778, "body": "What gets appended? Your DB table doesn&#39;t have infinite rows, so what happens after all rows are appended? But yes, definitely use <code>console.log</code> for some very basic debugging."}, {"owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "edited": false, "score": 0, "creation_date": 1574894762, "post_id": 59079252, "comment_id": 104395956, "body": "When I console log the response I get my database once. Normal. So the problem is in my success: function(response) ... But there should not be  a problem :/"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1574894935, "post_id": 59079252, "comment_id": 104396014, "body": "<code>console.log(Date.now(), response)</code> inside your success callback.  Are you sure it&#39;s only executing once?  (the Date.now() is there to keep the browser from consolidating console logs into a single entry)"}, {"owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "edited": false, "score": 0, "creation_date": 1574895005, "post_id": 59079252, "comment_id": 104396033, "body": "Chris, my rows just keep appending. Round and round, infinite loop style."}, {"owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "edited": false, "score": 0, "creation_date": 1574895139, "post_id": 59079252, "comment_id": 104396066, "body": "Taplar different dates every loop. When I include console log after succes function, but if I only use console log the response it does not loop. One time, one output."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1574895155, "post_id": 59079252, "comment_id": 104396070, "body": "How about the second part?  The second part should be changing to be the advancing pages you are requesting."}, {"owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "edited": false, "score": 0, "creation_date": 1574895370, "post_id": 59079252, "comment_id": 104396109, "body": "I dont understand second part ? The whole ajax.php file (the one I am POSTING to) is looping in console.log and every time the time output is different."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575039284, "post_id": 59079252, "comment_id": 104445509, "body": "I had you log a time stamp and the response.  You should be seeing the response change as the server returns paging data, ending with the expected terminating string.  What are you seeing for the changing response?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "edited": false, "score": 0, "creation_date": 1574896140, "post_id": 59079569, "comment_id": 104396300, "body": "Thanks for the input, but it still the same infinite loop."}], "tags": [], "owner": {"reputation": 49, "user_id": 11300962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a70aa9820a09c732fd690878c02250?s=128&d=identicon&r=PG", "display_name": "Keynan", "link": "https://stackoverflow.com/users/11300962/keynan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895688, "creation_date": 1574895688, "answer_id": 59079569, "question_id": 59079252, "link": "https://stackoverflow.com/questions/59079252/jquery-ajax-creating-infinite-loop/59079569#59079569", "title": "jQuery ajax creating infinite loop", "body": "<blockquote>\n  <p>A response is html change datatype and response header</p>\n</blockquote>\n\n<pre><code>function displayLists(start, limit) {\n            $.ajax({\n                url:'http://localhost/acl/ajax.php',\n                        method:'POST',\n                        dataType:'HTML',\n                        data: {\n                            key:'displayLists',\n                            start:start,\n                            limit:limit\n                        }, success: function(response) {\n                            if(response != 'reachedMax') {\n                                $('#zaListeProstor').append(response);\n                                start += limit;\n                                displayLists(start, limit);\n                            } \n                        }\n            })  \n        }\n</code></pre>\n\n<p>set ajax.php response header</p>\n\n<pre><code>header('Content-type: text/javascript,text/html');\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11615585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d34006915f824c844cfd6f6721a427e?s=128&d=identicon&r=PG&f=1", "display_name": "njonjo", "link": "https://stackoverflow.com/users/11615585/njonjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574895688, "creation_date": 1574893491, "question_id": 59079252, "link": "https://stackoverflow.com/questions/59079252/jquery-ajax-creating-infinite-loop", "title": "jQuery ajax creating infinite loop", "body": "<p>I am trying to display data from Mysqli database via jQuery ajax but no matter how much I tinker the code I always get a infinite loop. Has anyone experienced similar situation while making ajax requests ?</p>\n\n<p>Here is the jQuery code: </p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#addList\").on('click', function () {\n       saveList('addNew');\n    });\n   displayLists(0,10);\n});\n\n        function displayLists(start, limit) {\n            $.ajax({\n                url:'http://localhost/acl/ajax.php',\n                        method:'POST',\n                        dataType:'text',\n                        data: {\n                            key:'displayLists',\n                            start:start,\n                            limit:limit\n                        }, success: function(response) {\n                            if(response != 'reachedMax') {\n                                $('#zaListeProstor').append(response);\n                                start += limit;\n                                displayLists(start, limit);\n                            } \n                        }\n            })  \n        }\n</code></pre>\n\n<p>Here is the PHP code :</p>\n\n<pre><code>if($_POST['key'] == 'displayLists') {\n\n            $individual_user_id = $_SESSION['user_id'];\n\n            $start = clean($_POST['start']);\n            $limit = clean($_POST['limit']);\n\n            $sql = \"SELECT * from liste WHERE lista_author = $individual_user_id LIMIT $start, $limit\";\n            $select_all_lists = query($sql);\n         if(row_count($select_all_lists) &gt; 0) {\n\n              $response = \"\";\n\n            while($row = fetch_array($select_all_lists)) {\n\n                  $response .= '\n                       &lt;tr&gt;\n                             &lt;td&gt;'.$row[\"lista_name\"].' &lt;/td&gt;\n                             &lt;td&gt; &lt;input type=\"button\" value=\"View List\" class=\"btn btn-primary\"&gt; &lt;/td&gt;\n                       &lt;/tr&gt;\n\n                  ';\n\n\n             } \n\n             exit($response);\n\n           } else {\n\n            exit('reachedMax');\n           }\n\n      }\n</code></pre>\n\n<p>And this is my functions for the database you see above:</p>\n\n<pre><code>function row_count($result){\n\nreturn mysqli_num_rows($result);\n\n}\n\n\n\nfunction escape($string) {\n    global $con;\n\n    return mysqli_real_escape_string($con, $string);\n\n\n}\n\nfunction confirm($result) {\n\n    global $con;\n\n    if(!$result) {\n\n        die(\"QUERY FAILED\" . mysqli_error($con));\n\n    }\n\n}\n\n\n\nfunction query($query) {\n\n    global $con;\n\n    $result =  mysqli_query($con, $query);\n\n    confirm($result);\n\n    return $result;\n\n\n}\n\n\n\n\n\nfunction fetch_array($result) {\n\n    global $con;\n\n\n    return mysqli_fetch_array($result);\n\n\n\n} \n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "forms", "click"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1574893222, "post_id": 59079200, "comment_id": 104395485, "body": "<code>if($(&#39;#buybutton&#39;).prop(&#39;disabled&#39;, true))</code> that is saying set disabled to true and it make sure the jQuery object is truthy.... It is not checking to see if it is disabled"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574893316, "post_id": 59079200, "comment_id": 104395513, "body": "Also not sure how you are clicking on a disabled button..... The event does not bubble up from the button."}, {"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1574894122, "post_id": 59079200, "comment_id": 104395786, "body": "Would you be better off using <code>&lt;input type=&quot;button&quot; class=&quot;buyButton&quot;  onclick=&quot;buyEvent()&quot;&#47;&gt;</code> where <code>.buyButton</code> in the <code>CSS</code> sets the background of the button to whatever &quot;buy&quot; image you want. From there, you can just create a <code>function buyEvent() { }</code> and do whatever logic you want?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1574895587, "post_id": 59079200, "comment_id": 104396162, "body": "Why wrap the image button in a div in the first place? Clicking a disabled button doesn&#39;t trigger a click event, so it looks like you&#39;re making this more complicated than it needs to be: <a href=\"https://jsfiddle.net/khrismuc/nrc809Ly/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/nrc809Ly</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1574904073, "post_id": 59079200, "comment_id": 104397916, "body": "@EGC <code>input type=&quot;image&quot;</code> was created for precisely the use case the OP is using it for; namely, an image with button semantics. You can add <code>onclick=&quot;buyEvent()&quot;</code> to an <code>input type=&quot;image&quot;</code> and it will work the same as adding the same to an <code>input type=&quot;button&quot;</code>."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1574904357, "post_id": 59079200, "comment_id": 104397962, "body": "It seems like what you want is a disabled button, but to allow the user to click on it, and then show a warning before the &quot;disabled&quot; part kicks in. If that&#39;s the case, just leave the button enabled, but set some other property (say, <code>.attr(&#39;data-disabled&#39;, true)</code> or <code>data-disabled=&quot;true&quot;</code> in HTML) and check that value in your click event handler. If it&#39;s true, show your warning and return. If it&#39;s false, do whatever your button is supposed to do when enabled."}], "answers": [{"tags": [], "owner": {"reputation": 659, "user_id": 3891283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/RoB3Y.gif?s=128&g=1", "display_name": "lm2a", "link": "https://stackoverflow.com/users/3891283/lm2a"}, "is_accepted": false, "score": 0, "last_activity_date": 1574958313, "creation_date": 1574958313, "answer_id": 59093013, "question_id": 59079200, "link": "https://stackoverflow.com/questions/59079200/div-click-event-when-div-is-inside-a-form/59093013#59093013", "title": "Div click event when div is inside a form", "body": "<p>best approach is Pat Dobson's recipe, is not exactly the same than I was trying to do, but can works:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/29913997/make-alert-window-when-clicking-a-disabled-button\">Make alert window when clicking a disabled button</a></p>\n\n<p>Thanks for your help, guys ;-)</p>\n"}], "owner": {"reputation": 659, "user_id": 3891283, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/RoB3Y.gif?s=128&g=1", "display_name": "lm2a", "link": "https://stackoverflow.com/users/3891283/lm2a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574958313, "creation_date": 1574893115, "last_edit_date": 1574919286, "question_id": 59079200, "link": "https://stackoverflow.com/questions/59079200/div-click-event-when-div-is-inside-a-form", "title": "Div click event when div is inside a form", "body": "<p>I have troubles to show an alert when a button (actually an input type=image object) is disabled because user should first to click on a terms checkbox. \nThis is my jQuery code:</p>\n\n<pre><code>$('#divButton').on(\"click\", function() {\n    if ($('#buybutton').prop('disabled', true)) {\n        alert('Please confirm . . .');\n    }\n});\n</code></pre>\n\n<p>And this is the HTML code:</p>\n\n<pre><code>    &lt;form&gt;\n      ...\n        &lt;div id=\"divButton\"&gt;\n            &lt;input type=\"image\" id=\"buybutton\"...\n\n        &lt;/div&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>When <code>buybutton</code> is disabled and I click inside <code>divButton</code> (over disabled button for example) nothing happens.</p>\n\n<p>I am a mobile developer trying to write JavaScript code, so be patient with me.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>EDIT: Debugging it on Chrome, when <code>buybutton</code> is disabled it is never entering inside divButton's click handler  function to check </p>\n\n<pre><code>if ($('#buybutton').prop('disabled', true)).\n</code></pre>\n\n<p>Looks like onClick event in that div be disabled. </p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 10013765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EyAC.jpg?s=128&g=1", "display_name": "qrsl", "link": "https://stackoverflow.com/users/10013765/qrsl"}, "edited": false, "score": 0, "creation_date": 1574894404, "post_id": 59079259, "comment_id": 104395857, "body": "I think with this solution every row will take the same result. At this case I&#39;m trying to set &#39;X&#39; or &#39;Y&#39; ,but if I set something state from context, context will share that value to other components too, am I right?"}, {"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "reply_to_user": {"reputation": 39, "user_id": 10013765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EyAC.jpg?s=128&g=1", "display_name": "qrsl", "link": "https://stackoverflow.com/users/10013765/qrsl"}, "edited": false, "score": 1, "creation_date": 1574894543, "post_id": 59079259, "comment_id": 104395893, "body": "Yes, you are correct. You may want to approach it in another way, we can guess what you trying to achieve here."}, {"owner": {"reputation": 39, "user_id": 10013765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EyAC.jpg?s=128&g=1", "display_name": "qrsl", "link": "https://stackoverflow.com/users/10013765/qrsl"}, "edited": false, "score": 0, "creation_date": 1574894849, "post_id": 59079259, "comment_id": 104395983, "body": "I&#39;n trying to set one unique value to each row. In Parent Component I&#39;m creating Div component, in which I&#39;m also creating ChildDiv&#39;s component for several time, and this way I&#39;m creating box. But after click on this box&#39;s each row, I wrote logic, according which I set X or O value to row, but I can&#39;t append it to div."}], "tags": [], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "is_accepted": false, "score": 0, "last_activity_date": 1574894019, "last_edit_date": 1574894019, "creation_date": 1574893515, "answer_id": 59079259, "question_id": 59079189, "link": "https://stackoverflow.com/questions/59079189/how-change-child-components-value-which-is-passed-from-parent-without-state/59079259#59079259", "title": "How change child components value which is passed from parent without state", "body": "<p>In react, props like the <code>value</code> you passing, are <a href=\"https://reactjs.org/docs/glossary.html#props\" rel=\"nofollow noreferrer\"><strong>Read-Only</strong></a>.</p>\n\n<blockquote>\n  <p>Remember that props are readonly. They should not be modified in any way.</p>\n</blockquote>\n\n<p>You may want to provide a setter:</p>\n\n<pre><code>&lt;MyContext.Provider value={{ dispatch: this.setState }}&gt;\n  &lt;ChildDiv key={el} width={i} value={value}&gt;&lt;/ChildDiv&gt;\n&lt;/MyContext.Provider&gt;\n\n&lt;MyContext.Consumer&gt;\n  {({ dispatch }) =&gt; (\n    &lt;button onClick={() =&gt; dispatch({value: 'New Value'})}&gt;Button&lt;/button&gt;\n  )}\n&lt;/MyContext.Consumer&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1574957961, "last_edit_date": 1574957961, "creation_date": 1574895115, "answer_id": 59079469, "question_id": 59079189, "link": "https://stackoverflow.com/questions/59079189/how-change-child-components-value-which-is-passed-from-parent-without-state/59079469#59079469", "title": "How change child components value which is passed from parent without state", "body": "<p>If you want context consumers to be able to update the context, it's better to expose a method within the context to perform the update; the component provider can then pass a new context object to consumers, provoking a re-render.</p>\n\n<p>Here's what the code could look like:</p>\n\n<p>Context (<code>./context.js</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { createContext } from 'react';\n\nconst Context = createContext({ value: null, setValue: () =&gt; {} });\n\nexport default Context;\n</code></pre>\n\n<p>Provider (<code>./provider.js</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { useState } from 'react';\nimport Context from './context';\n\nconst Provider = ({ value: startingValue, children }) =&gt; {\n  const [value, setValue] = useState(startingValue);\n  return (\n    &lt;Context.Provider value={{ value, setValue }}&gt;\n      {children}\n    &lt;/Context.Provider&gt;\n  );\n};\n</code></pre>\n\n<p>Sample consumer (<code>./consumer.js</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Context from './context';\n\nexport default Context.Consumer; \n</code></pre>\n\n<p>Now you can do this at your root (<code>./app.js</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import Provider from './provider';\nimport ChildComponent from './child-component';\n\nexport default function App() {\n  return (\n    &lt;Provider value={0}&gt;\n      &lt;ChildComponent/&gt;\n    &lt;/Provider&gt;\n  );\n}\n</code></pre>\n\n<p>...and this in child components (using hooks, <code>./child-component.js</code>):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { useContext } from 'react';\nimport Context from './context';\n\nexport default function ChildComponent() {\n  const { value, setValue } = useContext(Context);\n  return (\n    &lt;div&gt;\n      &lt;h1&gt;Counter: {value}&lt;/h1&gt;\n      &lt;button onClick={e =&gt; { e.preventDefault(); setValue(value - 1) }}&gt;-&lt;/button&gt;\n      &lt;button onClick={e =&gt; { e.preventDefault(); setValue(value + 1) }}&gt;+&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>...or without hooks:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nimport Consumer from './consumer';\n\nexport default function ChildComponent() {\n  return (\n    &lt;Consumer&gt;\n      ({ value, setValue }) =&gt; (\n        &lt;div&gt;\n          &lt;h1&gt;Counter: {value}&lt;/h1&gt;\n          &lt;button onClick={e =&gt; { e.preventDefault(); setValue(value - 1) }}&gt;-&lt;/button&gt;\n          &lt;button onClick={e =&gt; { e.preventDefault(); setValue(value + 1) }}&gt;+&lt;/button&gt;\n        &lt;/div&gt;\n      );\n    &lt;/Consumer&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10013765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7EyAC.jpg?s=128&g=1", "display_name": "qrsl", "link": "https://stackoverflow.com/users/10013765/qrsl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59079469, "answer_count": 2, "score": 0, "last_activity_date": 1574957961, "creation_date": 1574893039, "last_edit_date": 1574893685, "question_id": 59079189, "link": "https://stackoverflow.com/questions/59079189/how-change-child-components-value-which-is-passed-from-parent-without-state", "title": "How change child components value which is passed from parent without state", "body": "<p>I can't solve this case.<br>\nIt's from parent</p>\n\n<pre><code>  &lt;ChildDiv  key={el} width={i} value={' '}&gt;&lt;/ChildDiv&gt;\n</code></pre>\n\n<p>It's from Child</p>\n\n<pre><code>  &lt;MyContext.Consumer&gt;\n      {context =&gt; (\n        &lt;div onClick={() =&gt; test(value, context.ChangeTurn)} className=\"row\"&gt;\n   &lt;/div&gt;\n  )}\n &lt;/MyContext.Consumer&gt;\n\n   let test = (value, context) =&gt; {\nif (value !== \"X\" &amp;&amp; val !== \"O\") {\n  value = \"laslda\";\n }};\n</code></pre>\n\n<p>So I want change value from local function. </p>\n"}, {"tags": ["javascript", "primes"], "comments": [{"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1574892962, "post_id": 59079161, "comment_id": 104395404, "body": "I made you a snippet. Please expand it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1574893060, "post_id": 59079161, "comment_id": 104395431, "body": "You need to return flag and has7 from the functions"}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1574893451, "post_id": 59079161, "comment_id": 104395560, "body": "Also you need var here: <code>for (var i = 1; i &lt;= length; i++) {</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1574895594, "post_id": 59079161, "comment_id": 104396166, "body": "<code>&amp;</code> should be <code>&amp;&amp;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1574920814, "last_edit_date": 1574920814, "creation_date": 1574896258, "answer_id": 59079649, "question_id": 59079161, "link": "https://stackoverflow.com/questions/59079161/prime-number-subalgorithms/59079649#59079649", "title": "Prime number subalgorithms", "body": "<p>This line is wrong:</p>\n\n<pre><code>d = d++;\n</code></pre>\n\n<p><code>d++</code> is a post-increment, it increments the variable but evaluates to the old value. So when you assign the result back to the variable, it sets it back to the original value. As a result, you have an infinite loop.</p>\n\n<p>It should be either:</p>\n\n<pre><code>d = d + 1;\n</code></pre>\n\n<p>or just:</p>\n\n<pre><code>d++;\n</code></pre>\n\n<p>Another error is:</p>\n\n<pre><code>v = v % 10;\n</code></pre>\n\n<p>This is supposed to divide <code>v</code> by 10, but it's just setting <code>v</code> to its last digit. It should be:</p>\n\n<pre><code>v = Math.floor(v / 10);\n</code></pre>\n\n<p>In the code below, I've simplified all your loops. Rather than setting variables and continuing the loops, they return as soon as the loop can determine the answer. If the loop ends without returning, they return the opposite value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function P6() {\r\n  var n = parseInt(prompt(\"Please enter a value\"));\r\n\r\n  for (var i = 2; i &lt;= n; i++) {\r\n    if (prime(i) &amp;&amp; has7(i)) {\r\n      console.log(i);\r\n    }\r\n  }\r\n}\r\n\r\nfunction prime(s) {\r\n  for (var d = 2; d &lt;= s / 2; d++) {\r\n    if (s % d == 0) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction has7(v) {\r\n  while (v != 0) {\r\n    var last = v % 10;\r\n    if (last == 7) {\r\n      return true;\r\n    }\r\n    v = Math.floor(v / 10);\r\n  }\r\n  return false;\r\n}\r\n\r\nP6();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 10849058, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-O8eIsso_XeU/AAAAAAAAAAI/AAAAAAAAAB4/ZUl9AWfDwTw/photo.jpg?sz=128", "display_name": "Huseyn Akhundov", "link": "https://stackoverflow.com/users/10849058/huseyn-akhundov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 59079649, "answer_count": 1, "score": 0, "last_activity_date": 1574920814, "creation_date": 1574892865, "last_edit_date": 1574895824, "question_id": 59079161, "link": "https://stackoverflow.com/questions/59079161/prime-number-subalgorithms", "title": "Prime number subalgorithms", "body": "<p>Devise an algorithm to receive a positive number, n, and output all prime numbers that are smaller than n\nand have a digit 7. For example, if n is 100, the program should output 7, 17, 37, 47, 67, 71, 73, 79, and 97.</p>\n\n<p>Program freezes without giving output</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function P6() {\r\n  var n = parseInt(prompt(\"Please enter a value\"));\r\n\r\n  for (var i = 2; i &lt;= n; i++) {\r\n    if (prime(i) &amp;&amp; has7(i)) {\r\n      alert(i);\r\n    }\r\n  }\r\n}\r\n\r\nfunction prime(s) {\r\n  var flag = true;\r\n  var d = 2;\r\n  while (flag == true &amp;&amp; d &lt;= s / 2) {\r\n    if (s % d == 0) {\r\n      flag = false;\r\n    }\r\n    d = d++;\r\n  }\r\n  return flag;\r\n}\r\n\r\nfunction has7(v) {\r\n  var has7 = false;\r\n  var length = Math.log(v) + 1;\r\n  for (var i = 1; i &lt;= length; i++) {\r\n    var last = v % 10;\r\n    if (last == 7) {\r\n      has7 = true;\r\n    }\r\n    v = v % 10\r\n  }\r\n  return has7;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-native-svg", "react-native-svg-charts"], "comments": [{"owner": {"reputation": 2936, "user_id": 2765277, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000395317275/picture?type=large", "display_name": "Jo&#227;o Paulo Motta", "link": "https://stackoverflow.com/users/2765277/jo%c3%a3o-paulo-motta"}, "edited": false, "score": 0, "creation_date": 1582814771, "post_id": 59079119, "comment_id": 106913555, "body": "Did you figure a way to solve this?"}], "answers": [{"comments": [{"owner": {"reputation": 1069, "user_id": 11702825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a5c1d10b63308d00ead17320d48efc8?s=128&d=identicon&r=PG&f=1", "display_name": "octobus", "link": "https://stackoverflow.com/users/11702825/octobus"}, "edited": false, "score": 1, "creation_date": 1575614952, "post_id": 59207977, "comment_id": 104633542, "body": "Welcome to Stackoverflow. Please explain your answer so others can understand easily."}, {"owner": {"reputation": 2936, "user_id": 2765277, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000395317275/picture?type=large", "display_name": "Jo&#227;o Paulo Motta", "link": "https://stackoverflow.com/users/2765277/jo%c3%a3o-paulo-motta"}, "edited": false, "score": 1, "creation_date": 1582815118, "post_id": 59207977, "comment_id": 106913783, "body": "This answer works. I&#39;m wondering why it&#39;s not documented in the library."}, {"owner": {"reputation": 9387, "user_id": 1437016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fAN2Y.png?s=128&g=1", "display_name": "Bigood", "link": "https://stackoverflow.com/users/1437016/bigood"}, "edited": false, "score": 0, "creation_date": 1583409002, "post_id": 59207977, "comment_id": 107110842, "body": "Thanks a lot for this, I&#39;ll PR the docs, this is an incredibly important feature that <i>should</i> be documented."}, {"owner": {"reputation": 9387, "user_id": 1437016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fAN2Y.png?s=128&g=1", "display_name": "Bigood", "link": "https://stackoverflow.com/users/1437016/bigood"}, "edited": false, "score": 0, "creation_date": 1583420726, "post_id": 59207977, "comment_id": 107117732, "body": "I&#39;ve submitted <a href=\"https://github.com/JesperLekland/react-native-svg-charts-examples/pull/15\" rel=\"nofollow noreferrer\">a pull request</a>, thanks again!"}, {"owner": {"reputation": 9387, "user_id": 1437016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fAN2Y.png?s=128&g=1", "display_name": "Bigood", "link": "https://stackoverflow.com/users/1437016/bigood"}, "edited": false, "score": 0, "creation_date": 1583421183, "post_id": 59207977, "comment_id": 107118023, "body": "Correction: this behavior <a href=\"https://github.com/JesperLekland/react-native-svg-charts#props-2\" rel=\"nofollow noreferrer\"><b>is documented</b></a>: <i>It can however also be an array with several data sets.</i> - and <a href=\"https://snack.expo.io/SJdQf9A4U\" rel=\"nofollow noreferrer\">here&#39;s a snack to play with</a>"}], "tags": [], "owner": {"reputation": 111, "user_id": 12489693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC3sBmVB4BS96G-hZyOoPfAbUYivwZHdmKV8Zu-Tg=k-s128", "display_name": "Saman Kumara", "link": "https://stackoverflow.com/users/12489693/saman-kumara"}, "is_accepted": false, "score": 11, "last_activity_date": 1575613659, "creation_date": 1575613659, "answer_id": 59207977, "question_id": 59079119, "link": "https://stackoverflow.com/questions/59079119/multiple-line-charts-using-react-native-svg-charts/59207977#59207977", "title": "Multiple Line Charts using react-native-svg-charts", "body": "<pre><code>render() {\n\n    const data1 = [ 50, 10, 40, 95, -4, -24, 85, 91, 35, 53, -53, 24, 50, -20, -80 ]\n    const data2 = [ -87, 66, -69, 92, -40, -61, 16, 62, 20, -93, -54, 47, -89, -44, 18 ]\n\n    const data = [\n        {\n            data: data1,\n            svg: { stroke: '#8800cc' },\n        },\n        {\n            data: data2,\n            svg: { stroke: 'green' },\n        },\n    ]\n\n    return (\n        &lt;LineChart\n            style={{ height: 200 }}\n            data={ data }\n            contentInset={{ top: 20, bottom: 20 }}\n        &gt;\n            &lt;Grid /&gt;\n        &lt;/LineChart&gt;\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 12207791, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YEs6nyNCiuY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfhxV36Y3p8ATIIyU52Pe0CLm-GKg/photo.jpg?sz=128", "display_name": "xyz6675", "link": "https://stackoverflow.com/users/12207791/xyz6675"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2889, "favorite_count": 4, "answer_count": 1, "score": 6, "last_activity_date": 1583923783, "creation_date": 1574892634, "question_id": 59079119, "link": "https://stackoverflow.com/questions/59079119/multiple-line-charts-using-react-native-svg-charts", "title": "Multiple Line Charts using react-native-svg-charts", "body": "<p>I am trying to put multiple line charts showing different data in one graph but am unable to do so in react-native using react-native-svg-charts. </p>\n\n<pre><code>&lt;View style= {{height: 200}}&gt;\n      &lt;LineChart \n        style={{ flex:1 }}\n                data={this.state.data}\n                svg={{ stroke: 'rgb(134, 65, 244)' }}\n                contentInset={{ top: 20, bottom: 20 }}\n            &gt;\n            &lt;Grid/&gt;\n      &lt;/LineChart&gt;\n      &lt;LineChart \n        style={{position: 'absolute'}}\n                data={this.state.data1}\n                svg={{ stroke: 'rgb(168, 155, 50)' }}\n                contentInset={{ top: 20, bottom: 20 }}\n            &gt;\n            &lt;Grid/&gt;\n      &lt;/LineChart&gt;\n      &lt;/View&gt;\n</code></pre>\n\n<p>The above code was what I was trying but am unable to get the correct design as I get only the first data's line chart.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "dom-events"], "answers": [{"comments": [{"owner": {"reputation": 9755, "user_id": 183692, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8a47be619f9893c5377a9c1624eab3f7?s=128&d=identicon&r=PG", "display_name": "punkish", "link": "https://stackoverflow.com/users/183692/punkish"}, "edited": false, "score": 0, "creation_date": 1574894058, "post_id": 59079212, "comment_id": 104395766, "body": "damn man, how on earth would I have figured this out without your help? So many thanks. Yes, a short delay makes it work like a charm."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 2, "last_activity_date": 1574893929, "last_edit_date": 1574893929, "creation_date": 1574893182, "answer_id": 59079212, "question_id": 59079116, "link": "https://stackoverflow.com/questions/59079116/location-hash-gets-updated-with-value-of-a-links-new-hash-that-is-replaced-aft/59079212#59079212", "title": "location.hash gets updated with value of a link&#39;s new hash that is replaced *after* a click", "body": "<blockquote>\n  <p>What is the source of my error and how do I correct it?</p>\n</blockquote>\n\n<p>I believe the click event handler is executed <strong>before</strong> the default action (*) for the event happens. That means you are actually updating the hash abefore the URL is updated.</p>\n\n<p>Demo of issue:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const link = document.querySelector('#link &gt; a');\r\n\r\nlink.addEventListener('click', function(event) {\r\n  toggleFooBar(this.hash.substr(1));\r\n});\r\n\r\ntoggleFooBar = function(type) {\r\n\r\n  if (type === 'foo') {\r\n    link.hash = '#bar';\r\n    link.innerHTML = 'switch to bar';\r\n  } else if (type === 'bar') {\r\n    link.hash = '#foo';\r\n    link.innerHTML = 'switch to foo';\r\n  }\r\n\r\n  // Only used to show current hash since code is run in an iframe\r\n  setTimeout(() =&gt; console.log(window.location.hash), 100);\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"link\"&gt;&lt;a href=\"#foo\"&gt;switch to foo&lt;/a&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>A simple solution would be to delay the modification of the element by using <code>setTimeout</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const link = document.querySelector('#link &gt; a');\r\n\r\nlink.addEventListener('click', function(event) {\r\n  toggleFooBar(this.hash.substr(1));\r\n});\r\n\r\ntoggleFooBar = function(type) {\r\n\r\n  setTimeout(() =&gt; {\r\n    if (type === 'foo') {\r\n      link.hash = '#bar';\r\n      link.innerHTML = 'switch to bar';\r\n    } else if (type === 'bar') {\r\n      link.hash = '#foo';\r\n      link.innerHTML = 'switch to foo';\r\n    }\r\n  }, 0);\r\n\r\n  // Only used to show current hash since code is run in an iframe\r\n  setTimeout(() =&gt; console.log(window.location.hash), 100);\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"link\"&gt;&lt;a href=\"#foo\"&gt;switch to foo&lt;/a&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>*: Apparently \"default action\" is a legacy term. The latest spec uses the term \"activation behavior\". More information can be found on <a href=\"https://dom.spec.whatwg.org/#dispatching-events\" rel=\"nofollow noreferrer\">https://dom.spec.whatwg.org/#dispatching-events</a></p>\n"}], "owner": {"reputation": 9755, "user_id": 183692, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8a47be619f9893c5377a9c1624eab3f7?s=128&d=identicon&r=PG", "display_name": "punkish", "link": "https://stackoverflow.com/users/183692/punkish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 59079212, "answer_count": 1, "score": 1, "last_activity_date": 1574893929, "creation_date": 1574892619, "last_edit_date": 1574893596, "question_id": 59079116, "link": "https://stackoverflow.com/questions/59079116/location-hash-gets-updated-with-value-of-a-links-new-hash-that-is-replaced-aft", "title": "location.hash gets updated with value of a link&#39;s new hash that is replaced *after* a click", "body": "<p>There is weird JavaScript-\"HTML anchor hash\"-\"location hash\" interplay happening that I can't understand. Here goes</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div id=\"link\"&gt;&lt;a href=\"#foo\"&gt;switch to foo&lt;/a&gt;&lt;/div&gt;\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script&gt;\n    const link = document.querySelector('#link &gt; a');\n\n    link.addEventListener('click', function(event) {\n        toggleFooBar(this.hash.substr(1));\n    });\n\n    toggleFooBar = function(type) {\n\n        if (type === 'foo') {\n            link.hash = '#bar';\n            link.innerHTML = 'switch to bar';\n        }\n        else if (type === 'bar') {\n            link.hash = '#foo';\n            link.innerHTML = 'switch to foo';\n        }\n\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p>On page load, the link displays <strong>switch to foo</strong> as expected. When I click on the link, the text changes to <strong>switch to bar</strong> <em>but</em> the <code>location.hash</code> changes to <code>#bar</code>. I was expecting that only the <code>link.hash</code> in the HTML would change to <code>#bar</code> while the <code>location.hash</code> would display <code>#foo</code> because that is what I clicked on in the first place. Seems like the <code>link.hash</code> and the <code>location.hash</code> are linked so that changing the <code>link.hash</code> even <em>after</em> the click has happened updates the <code>location.hash</code>. Obviously, this is not what I want. I want the <code>location.hash</code> to display the <code>link.hash</code> value that existed at the time of the <code>click</code>. And then, I want the <code>link.hash</code> to change to the new value so if clicked again, it can toggle back correctly.</p>\n\n<p>What is the source of my error and how do I correct it?</p>\n"}, {"tags": ["javascript", "node.js", "async.js"], "answers": [{"tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 2, "last_activity_date": 1574892598, "creation_date": 1574892598, "answer_id": 59079111, "question_id": 59079068, "link": "https://stackoverflow.com/questions/59079068/how-to-wait-on-an-async-timeseries/59079111#59079111", "title": "How to wait on an async.timeseries()?", "body": "<p><a href=\"https://caolan.github.io/async/v3/docs.html#timesSeries\" rel=\"nofollow noreferrer\"><code>async.timesSeries()</code></a> returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\"><code>Promise</code></a> when the callback parameter is omitted, so just register <code>doSomethingElse</code> as the continuation using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\" rel=\"nofollow noreferrer\"><code>.then()</code></a>:</p>\n\n<pre><code>async.timesSeries(100, myFunction).then(doSomethingElse);\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 12430428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3298c8d238b75cd8abe5f922768fb6e?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Jones", "link": "https://stackoverflow.com/users/12430428/andrew-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574894614, "creation_date": 1574892286, "last_edit_date": 1574894614, "question_id": 59079068, "link": "https://stackoverflow.com/questions/59079068/how-to-wait-on-an-async-timeseries", "title": "How to wait on an async.timeseries()?", "body": "<p>Here is my code:  </p>\n\n<pre><code>function myFunction() {\n    // do stuff\n}   \n\nasync.timesSeries(100, myFunction);\n\ndoSomethingElse();\n</code></pre>\n\n<p>The problem is that doSomethingElse() is executing before every execution in async.timesSeries() has finished. Sorry for my ineptitude at NodeJS, but does anyone know a quick and easy fix for this? Thanks!</p>\n"}, {"tags": ["javascript", "html", "reactjs", "state"], "comments": [{"owner": {"reputation": 11449, "user_id": 6525724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CZEkk.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/6525724/nick"}, "edited": false, "score": 0, "creation_date": 1574895001, "post_id": 59079041, "comment_id": 104396032, "body": "It seems that <a href=\"https://dog.ceo/api/breeds/image/random\" rel=\"nofollow noreferrer\">dog.ceo/api/breeds/image/random</a> results in a single dog (you can navigate to the URL). Are you expecting multiple?"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 10791667, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nyqQGDcJk2A/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-g6SHeQw9GfgJx3Bafwawm2z0Gdhg/mo/photo.jpg?sz=128", "display_name": "Renan Ferreira", "link": "https://stackoverflow.com/users/10791667/renan-ferreira"}, "is_accepted": false, "score": 0, "last_activity_date": 1576131669, "last_edit_date": 1576131669, "creation_date": 1574892803, "answer_id": 59079142, "question_id": 59079041, "link": "https://stackoverflow.com/questions/59079041/issue-getting-api-to-render-in-react/59079142#59079142", "title": "Issue getting API to render in react", "body": "<p><code>map</code> is a function for JavaScript Array prototypes. If the API response is not an array type, it doesn't have a <code>map</code> function.</p>\n\n<p>It should work if you change your code to keep the \"dogs\" array and just push the API response to it like:</p>\n\n<pre><code>this.setState({ dogs: this.state.dogs.concat(data) })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1376, "user_id": 11637854, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8aJwv.jpg?s=128&g=1", "display_name": "judonguyen", "link": "https://stackoverflow.com/users/11637854/judonguyen"}, "is_accepted": true, "score": 0, "last_activity_date": 1574910024, "creation_date": 1574910024, "answer_id": 59081152, "question_id": 59079041, "link": "https://stackoverflow.com/questions/59079041/issue-getting-api-to-render-in-react/59081152#59081152", "title": "Issue getting API to render in react", "body": "<p>When you define <code>const data = await response.json()</code>, at here, data is an objective response. You have to access to <code>key</code> of <code>data</code> to get result from API</p>\n\n<p>Besides, URL <code>https://dog.ceo/api/breeds/image/random</code>, just return an image, not an array images. You can use URL <code>https://dog.ceo/api/breed/hound/afghan/images</code> to get an array of images:</p>\n\n<pre><code>(async () =&gt; {\n    try {\n        const response = await fetch('https://dog.ceo/api/breed/hound/afghan/images');\n        if (!response.ok) throw Error(response.status + ': ' + response.statusText);    \n        const data = await response.json();\n            this.setState({ dogs: data.message }) \n            // access to message to get an array of images\n        } catch(error) {\n            console.log('Fetch API error: ' + error);\n        }\n}) ();\n</code></pre>\n\n<p>Use map operator inside Component</p>\n\n<pre><code>return (\n    &lt;div&gt;\n        &lt;StyledTitle /&gt;\n        &lt;ol&gt;\n             {this.state.dogs.map((dog, key)=&gt; \n                  // dog here as a link\n                  &lt;StyledDog key={key} link={dog}/&gt;\n             )}\n        &lt;/ol&gt;\n    &lt;/div&gt;\n);\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12448479, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qGlyHFloN74/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reqgT7zF0NVnUNiWcapqeVKUrE4Fw/photo.jpg?sz=128", "display_name": "eric saddy", "link": "https://stackoverflow.com/users/12448479/eric-saddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 59081152, "answer_count": 2, "score": 0, "last_activity_date": 1576131669, "creation_date": 1574892159, "last_edit_date": 1574913034, "question_id": 59079041, "link": "https://stackoverflow.com/questions/59079041/issue-getting-api-to-render-in-react", "title": "Issue getting API to render in react", "body": "<p>I'm trying to get an image to be displayed from an API I found <a href=\"https://dog.ceo/dog-api/\" rel=\"nofollow noreferrer\">Here</a> and I'm getting the following error in the console..</p>\n\n<blockquote>\n  <p>Fetch API error: TypeError: this.state.dogs.map is not a function</p>\n</blockquote>\n\n<p>Here is the code:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;ICS 211 - React&lt;/title&gt;\n        &lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\n        &lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n        &lt;script crossorigin src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"https://unpkg.com/styled-components/dist/styled-components.min.js\"&gt;&lt;/script&gt;\n        &lt;meta charset=\"utf-8\"&gt;&lt;/meta&gt;\n\n        &lt;!-- google font --&gt;\n        &lt;link href=\"https://fonts.googleapis.com/css?family=Lato&amp;display=swap\" rel=\"stylesheet\"&gt;\n\n        &lt;style&gt;\n                html {\n                    background-color: #f8f8f8;\n                    font-family: 'Roboto', sans-serif;\n                }\n        &lt;/style&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;div id=\"container\"&gt;&lt;/div&gt;\n        &lt;script type=\"text/babel\"&gt;\n\n            class AppClassStateful extends React.Component {\n                constructor(props) {\n                    super(props);\n                    this.state = { dogs: [] };\n                };\n\n                componentDidMount() {\n                    (async () =&gt; {\n                        try {\n                            const response = await fetch('https://dog.ceo/api/breeds/image/random');\n                            if (!response.ok) throw Error(response.status + ': ' + response.statusText);    \n                            const data = await response.json();\n                            this.setState({ dogs: data })\n                        } catch(error) {\n                            console.log('Fetch API error: ' + error);\n                        }\n                    }) ();\n                }\n\n                render() {\n                    return (\n                        &lt;div&gt;\n                        &lt;StyledTitle /&gt;\n                            &lt;ol&gt;\n                                {this.state.dogs.map(dog =&gt; &lt;StyledDog key={dog.id} link={dog.message}/&gt;)}\n                            &lt;/ol&gt;\n                        &lt;/div&gt;\n                    );\n                }\n            }\n\n            const Title = ({ className }) =&gt; {\n                return (\n                    &lt;div className={ className }&gt;\n                        &lt;h1&gt;Pictures of Dogs&lt;/h1&gt;\n                        &lt;h3&gt;Greg Paul Simmons&lt;/h3&gt;\n                    &lt;/div&gt;\n                    );\n                }\n\n            const Dog = ({className, message}) =&gt; {\n                return &lt;img src={message} alt=\"Picture of dog\"/&gt;\n            }\n\n            const StyledTitle = styled(Title)`\n                font-size: 50pt;\n                font-family: sans-serif;\n                color: #FFF;\n                background: #e3d8aa;`;\n\n            const StyledDog = styled(Dog)`\n                font-family: \"Arial\", sans-serif;`;\n\n\n            ReactDOM.render(\n            &lt;AppClassStateful/&gt;,\n            document.getElementById('container')\n            );\n        &lt;/script&gt;\n    &lt;/body&gt;\n\n\n&lt;/html&gt;\n</code></pre>\n\n<p>If anyone can point me in the right direction I would be very grateful. At this point I'm completely stuck.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "google-apps-script", "gmail"], "answers": [{"comments": [{"owner": {"reputation": 467, "user_id": 2924526, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/14d532b1d62ddabc357af37f2c1b3cfe?s=128&d=identicon&r=PG", "display_name": "NictraSavios", "link": "https://stackoverflow.com/users/2924526/nictrasavios"}, "edited": false, "score": 0, "creation_date": 1575488441, "post_id": 59084705, "comment_id": 104587644, "body": "&quot;as you can quickly isolate which Threads contain messages with the &quot;incoming&quot; label.&quot;  .... how? You just casually mention this with no explanation."}, {"owner": {"reputation": 467, "user_id": 2924526, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/14d532b1d62ddabc357af37f2c1b3cfe?s=128&d=identicon&r=PG", "display_name": "NictraSavios", "link": "https://stackoverflow.com/users/2924526/nictrasavios"}, "edited": false, "score": 0, "creation_date": 1575488541, "post_id": 59084705, "comment_id": 104587687, "body": "Is there any way to do this without external services or bringing up servers on google cloud? I just want a simple email forward to a webhook. Gmail is making this much harder that it had to be. All It should have been was &quot;If message = new, send, now message = sent&quot;"}, {"owner": {"reputation": 2322, "user_id": 11869748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qh4YQ.jpg?s=128&g=1", "display_name": "ZektorH", "link": "https://stackoverflow.com/users/11869748/zektorh"}, "reply_to_user": {"reputation": 467, "user_id": 2924526, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/14d532b1d62ddabc357af37f2c1b3cfe?s=128&d=identicon&r=PG", "display_name": "NictraSavios", "link": "https://stackoverflow.com/users/2924526/nictrasavios"}, "edited": false, "score": 0, "creation_date": 1575533827, "post_id": 59084705, "comment_id": 104600815, "body": "@NictraSavios to get messages with a specific label you can look at the code on your quesiton. <code>GmailApp.getUserLabelByName(&#39;incomming&#39;);</code>. If instead of &#39;incoming&#39; you meant messages on the Inbox (received messages), then you can look for the label &#39;INBOX&#39;, as seen <a href=\"https://developers.google.com/gmail/api/guides/labels#types_of_labels\" rel=\"nofollow noreferrer\">here</a>.  As of your second question, Apps Script does not require a server on Google Cloud or an external service. My alternative solution would use it for long-term storage of which messages were sent or not, but that&#39;s not required for the action to happen."}], "tags": [], "owner": {"reputation": 2322, "user_id": 11869748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qh4YQ.jpg?s=128&g=1", "display_name": "ZektorH", "link": "https://stackoverflow.com/users/11869748/zektorh"}, "is_accepted": false, "score": 0, "last_activity_date": 1575533903, "last_edit_date": 1575533903, "creation_date": 1574930426, "answer_id": 59084705, "question_id": 59079037, "link": "https://stackoverflow.com/questions/59079037/google-apps-script-how-to-stop-new-messages-from-going-into-old-threads/59084705#59084705", "title": "Google Apps Script - How to stop new messages from going into old threads?", "body": "<p>I'd like to shed some light into Thread labels on Gmail.</p>\n\n<p>As of now (and for the perceivable future), a thread will have all the labels from it's messages.</p>\n\n<p>This is still helpful to you, as you can quickly isolate which Threads contain messages with the <em>\"incoming\"</em> label.</p>\n\n<p>If instead of 'incoming' you meant messages on the Inbox (received messages), then you can look for the label 'INBOX', as seen <a href=\"https://developers.google.com/gmail/api/guides/labels#types_of_labels\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>By having this sub-list of messages, you can then process the contained messages with <a href=\"https://developers.google.com/apps-script/reference/gmail/gmail-thread#getMessages()\" rel=\"nofollow noreferrer\"><code>thread.getMessages()</code></a>. Then you can use the <a href=\"https://developers.google.com/apps-script/guides/services/advanced\" rel=\"nofollow noreferrer\">Advanced Google services</a> for Gmail in order to call the <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages/get\" rel=\"nofollow noreferrer\"><code>Users.messages.get</code></a> to retrieve the <a href=\"https://developers.google.com/gmail/api/v1/reference/users/messages\" rel=\"nofollow noreferrer\"><code>Message</code></a> representation, including it's list of labels <code>labelIds[]</code>.</p>\n\n<p>You can then manipulate each message and add the labels to them when your messages are sent.</p>\n\n<hr>\n\n<h1>Alternative solution</h1>\n\n<p>Another solution would be to have some form of storage where you store the already processed <code>messageId</code>s, then check for those before sending them to you webhook.</p>\n\n<p>You can do this with a <a href=\"https://developers.google.com/apps-script/guides/jdbc\" rel=\"nofollow noreferrer\">JDBC connection</a> on Apps Script, <a href=\"https://sites.google.com/site/scriptsexamples/new-connectors-to-google-services/firebase\" rel=\"nofollow noreferrer\">Firebase Realtime Database</a> or even your own DIY Google Docs solution.</p>\n\n<p>This is not a requirement, but can be useful if you wish to store the messages for long-term querying outside of Gmail.</p>\n"}], "owner": {"reputation": 467, "user_id": 2924526, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/14d532b1d62ddabc357af37f2c1b3cfe?s=128&d=identicon&r=PG", "display_name": "NictraSavios", "link": "https://stackoverflow.com/users/2924526/nictrasavios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1612792813, "creation_date": 1574892141, "last_edit_date": 1574903497, "question_id": 59079037, "link": "https://stackoverflow.com/questions/59079037/google-apps-script-how-to-stop-new-messages-from-going-into-old-threads", "title": "Google Apps Script - How to stop new messages from going into old threads?", "body": "<p>I have a Google Apps script that parses through threads with a label \"incomming\", fires them off to a webhook, and then marks them as \"sent\".</p>\n\n<pre><code>    function send() {\n    var label = GmailApp.getUserLabelByName('incomming');\n    var sentlabel = GmailApp.getUserLabelByName('sent');\n    var messages = [];\n    var threads = label.getThreads();\n\n    for (var i = 0; i &lt; threads.length; i++) {\n        messages = messages.concat(threads[i].getMessages())\n    }\n\n    for (var i = 0; i &lt; messages.length; i++) {\n        var message = messages[i];\n        Logger.log(message);\n\n        var payload = {\n            \"from\": message.getFrom(),\n            \"to\": message.getTo(),\n            \"cc\": message.getCc(),\n            \"date\": message.getDate(),\n            \"subject\": message.getSubject(),\n            \"txtbody\": message.getPlainBody()\n        };\n\n        var options = {\n            'method': 'post',\n            'contentType': 'application/json',\n            'payload': JSON.stringify(payload),\n        };\n\n        var webhookUrl = '&lt;redacted&gt;';\n        UrlFetchApp.fetch(webhookUrl, options);\n    }\n\n    // remove the label from these threads so we don't send them to\n    // slack again next time the script is run\n    label.removeFromThreads(threads);\n    Utilities.sleep(200);\n    sentlabel.addToThreads(threads);\n    for (var i = 0; i &lt; threads.length; i++) {\n        threads[i].moveToArchive();\n    }\n}\n</code></pre>\n\n<p>The problem is, because these emails are generated by a service, they have similar subjects - sometimes the same subject (I can't change this in the service)</p>\n\n<p>Lets say the subject is \"Update on X1\"</p>\n\n<p>When an email comes in for \"Update on X1\" - the script works fine, sends it off no worries.\nBut, if a new \"Update on X1\" comes in, it sends both the new one and the old one since Gmail labels the whole thread.</p>\n\n<p>This results in heavy duplication. How can I fix this?</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks", "react-functional-component"], "comments": [{"owner": {"reputation": 3460, "user_id": 6787542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/795e29b773dc1a723b94bebd151b212c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin.a", "link": "https://stackoverflow.com/users/6787542/kevin-a"}, "edited": false, "score": 0, "creation_date": 1574892244, "post_id": 59079031, "comment_id": 104395168, "body": "because thats how useEffect works. Page loads and whatever is in useEffect will run on load."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574892498, "post_id": 59079071, "comment_id": 104395252, "body": "Thank you! that helps. I&#39;m a beginner to react so just learning. Would you say this a good way of coding so far or would you recommend any major improvements?"}, {"owner": {"reputation": 3460, "user_id": 6787542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/795e29b773dc1a723b94bebd151b212c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin.a", "link": "https://stackoverflow.com/users/6787542/kevin-a"}, "reply_to_user": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 1, "creation_date": 1574892673, "post_id": 59079071, "comment_id": 104395312, "body": "Actually I think it looks pretty decent so far . I would say instead of naming it getJoke,name it setJoke. Since you&#39;re setting it to the state and not getting from it. Less confusing for you. But so far so good keep it up @SharozeKhan"}, {"owner": {"reputation": 3460, "user_id": 6787542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/795e29b773dc1a723b94bebd151b212c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin.a", "link": "https://stackoverflow.com/users/6787542/kevin-a"}, "reply_to_user": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574892759, "post_id": 59079071, "comment_id": 104395338, "body": "and Also componentDidMount only works in class components I think. You&#39;re using functional components. If you use functional components you always use the useState hook"}, {"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574893480, "post_id": 59079071, "comment_id": 104395571, "body": "Thanks for you help and the info! appreciate it"}, {"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574893558, "post_id": 59079071, "comment_id": 104395595, "body": "you can improve this code by removing redundant  <code>.then</code>"}, {"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "reply_to_user": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574894223, "post_id": 59079071, "comment_id": 104395809, "body": "@sumit which line is this as I thought both <code>.then</code> are needed?"}, {"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574894281, "post_id": 59079071, "comment_id": 104395827, "body": "@Kevin.a quick question, can I implement error handling in functional components? i&#39;ve only seen examples in class components."}, {"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574898665, "post_id": 59079071, "comment_id": 104396891, "body": "you havent use useffect for side effect changes , so  this method will fetch data forever if there is any rendering issue"}], "tags": [], "owner": {"reputation": 3460, "user_id": 6787542, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/795e29b773dc1a723b94bebd151b212c?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin.a", "link": "https://stackoverflow.com/users/6787542/kevin-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1574892300, "creation_date": 1574892300, "answer_id": 59079071, "question_id": 59079031, "link": "https://stackoverflow.com/questions/59079031/how-to-stop-data-being-retrieved-when-my-component-is-loaded/59079071#59079071", "title": "How to stop data being retrieved when my component is loaded", "body": "<pre><code>`import React, { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [joke, getJoke] = useState(\" \")\n  const newJoke = () =&gt; {\n    fetch(\"http://api.icndb.com/jokes/random\")\n      .then(result =&gt; result.json())\n      .then(result2 =&gt; {\n        console.log(result2)\n        getJoke(result2.value.joke)\n      })\n  }\n  useEffect(() =&gt; {\n\n  }, [])\n\n  return (\n    &lt;div className=\"jokeSection\"&gt;\n      &lt;h1&gt;Chuck norris jokes&lt;/h1&gt;\n      &lt;h3&gt;{joke}&lt;/h3&gt;\n      &lt;button onClick={() =&gt; newJoke()}&gt;Click here for a chuckle&lt;/button&gt;\n    &lt;/div&gt;\n  )\n}\nexport default App;`\n</code></pre>\n\n<p>Remove it from useEffect and keep it onClick and that should do it.As mentioned in the comments , useEffect will run everytime the page loads basically.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574904034, "post_id": 59079780, "comment_id": 104397906, "body": "Hey, thank you for this but unfortunately I can not use axios the task requires me to purely use reactjs but I appreciate the advice."}, {"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "reply_to_user": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574905823, "post_id": 59079780, "comment_id": 104398191, "body": "&quot; the task requires me to purely use reactjs&quot; why  you cannot use axios? is it some coding test you are giving"}, {"owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574906308, "post_id": 59079780, "comment_id": 104398269, "body": "it&#39;s not a test, just a exercise that I am doing."}, {"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "reply_to_user": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "edited": false, "score": 0, "creation_date": 1574906639, "post_id": 59079780, "comment_id": 104398321, "body": "just replace axios with fetch , not an issue at all"}], "tags": [], "owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897209, "creation_date": 1574897209, "answer_id": 59079780, "question_id": 59079031, "link": "https://stackoverflow.com/questions/59079031/how-to-stop-data-being-retrieved-when-my-component-is-loaded/59079780#59079780", "title": "How to stop data being retrieved when my component is loaded", "body": "<p>I would rather like to maintain 2 states for joke toggle and joke data  like below. </p>\n\n<p>The effect hook called useEffect is used to fetch the data with axios from the API and to set the data in the local state of the component with the state hook's update function. The promise resolving happens with async/await.</p>\n\n<pre><code>import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport axios from \"axios\";\n\nfunction App() {\n  const [joke, setJoke] = useState(0);\n  const [jokeData, setJokeData] = useState(\"\");\n\n  function newJoke(){\n    setJoke(joke=&gt;joke+1);\n  }\n\n  useEffect( () =&gt; {\n    (async function loadJoke() {\n     if(joke&gt;0){ \n     const response=await axios.get('https://api.icndb.com/jokes/random');\n     setJokeData(response.data.value.joke);\n     }\n    })();\n    }, [joke]);\n\n  return (\n    &lt;div className=\"jokeSection\"&gt;\n      &lt;h1&gt;Chuck norris jokes&lt;/h1&gt;\n      &lt;h3&gt;{jokeData}&lt;/h3&gt;\n      &lt;button onClick={() =&gt; newJoke()}&gt;Click here for a chuckle&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\nexport default App;\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(&lt;App /&gt;, rootElement);\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 12448504, "user_type": "registered", "profile_image": "https://graph.facebook.com/3444272018946562/picture?type=large", "display_name": "Sharoze Khan", "link": "https://stackoverflow.com/users/12448504/sharoze-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 59079071, "answer_count": 2, "score": 2, "last_activity_date": 1575304215, "creation_date": 1574892101, "last_edit_date": 1575304215, "question_id": 59079031, "link": "https://stackoverflow.com/questions/59079031/how-to-stop-data-being-retrieved-when-my-component-is-loaded", "title": "How to stop data being retrieved when my component is loaded", "body": "<p>I only want the data to be displayed once the generate joke (click here for a chuckle) button is clicked, however it is retrieved once the page loads. How do I stop this?  </p>\n\n<pre><code>`import React, { useState, useEffect } from \"react\";\n\nfunction App() {\n  const [joke, getJoke] = useState(\" \")\n  const newJoke = () =&gt; {\n    fetch(\"http://api.icndb.com/jokes/random\")\n      .then(result =&gt; result.json())\n      .then(result2 =&gt; {\n        console.log(result2)\n        getJoke(result2.value.joke)\n      })\n  }\n  useEffect(() =&gt; {\n    newJoke()\n  }, [])\n\n  return (\n    &lt;div className=\"jokeSection\"&gt;\n      &lt;h1&gt;Chuck norris jokes&lt;/h1&gt;\n      &lt;h3&gt;{joke}&lt;/h3&gt;\n      &lt;button onClick={() =&gt; newJoke()}&gt;Click here for a chuckle&lt;/button&gt;\n    &lt;/div&gt;\n  )\n}\nexport default App;`\n</code></pre>\n\n<p>And is this a good way of coding? should I use a different function such as componentDidMount? </p>\n"}, {"tags": ["javascript", "html", "reactjs", "react-native"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 10076356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57a4af77d1b66c60ace5f65b668418e?s=128&d=identicon&r=PG&f=1", "display_name": "gevor", "link": "https://stackoverflow.com/users/10076356/gevor"}, "edited": false, "score": 0, "creation_date": 1574897694, "post_id": 59079712, "comment_id": 104396654, "body": "yeah it was indeed an issue with relative paths. but it didn&#39;t work changing it to the &lt;Button&gt; as you mention. i had to change it on the &lt;Link&gt;. the thing is that it treats <code>to={props.link}</code> attribute as an object and in this case it adds that to the current url. I had to pass a string in order to get it as an absolute path like this <code>&lt;Link       className={[         &#39;button&#39;,         </code>button--${props.design}<code>,         </code>button--${props.mode}`       ].join(&#39; &#39;)}       to={<code>&#47;${props.link}</code>}     &gt;`"}, {"owner": {"reputation": 69, "user_id": 10076356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57a4af77d1b66c60ace5f65b668418e?s=128&d=identicon&r=PG&f=1", "display_name": "gevor", "link": "https://stackoverflow.com/users/10076356/gevor"}, "edited": false, "score": 0, "creation_date": 1574897935, "post_id": 59079712, "comment_id": 104396705, "body": "yeah a lot of ` characters f***d up the way my comment is showing. i guess you understand what i changed though. i will also post it as an answer so everyone can read it more clear"}], "tags": [], "owner": {"reputation": 1206, "user_id": 1492782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b6fb24dd0509cf5958ca17577f5eb2b?s=128&d=identicon&r=PG", "display_name": "Josh Buchea", "link": "https://stackoverflow.com/users/1492782/josh-buchea"}, "is_accepted": false, "score": 2, "last_activity_date": 1574896758, "creation_date": 1574896758, "answer_id": 59079712, "question_id": 59079007, "link": "https://stackoverflow.com/questions/59079007/how-does-react-link-works-absolute-path-in-link/59079712#59079712", "title": "how does react &lt;Link&gt; works? Absolute path in &lt;Link&gt;", "body": "<p>I believe your issue is related to relative links. Try updating your use of <code>Button</code> to preface your \"link\" with a forward slash:</p>\n\n<pre><code>&lt;Button mode=\"flat\" link=`/${this.props.id}`&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 10076356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57a4af77d1b66c60ace5f65b668418e?s=128&d=identicon&r=PG&f=1", "display_name": "gevor", "link": "https://stackoverflow.com/users/10076356/gevor"}, "is_accepted": false, "score": 0, "last_activity_date": 1574898124, "creation_date": 1574898124, "answer_id": 59079887, "question_id": 59079007, "link": "https://stackoverflow.com/questions/59079007/how-does-react-link-works-absolute-path-in-link/59079887#59079887", "title": "how does react &lt;Link&gt; works? Absolute path in &lt;Link&gt;", "body": "<p>In the &lt; Link > it treats <code>to={props.link}</code> as an object and it does not create an absolute path. I had to change it like this</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    &lt;Link\n      className={[\n        'button',\n        `button--${props.design}`,\n        `button--${props.mode}`\n      ].join(' ')}\n      to={`/${props.link}`}\n    &gt;\n</code></pre>\n\n<p>in order to treat it like a string which represents an absolute path</p>\n"}], "owner": {"reputation": 69, "user_id": 10076356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57a4af77d1b66c60ace5f65b668418e?s=128&d=identicon&r=PG&f=1", "display_name": "gevor", "link": "https://stackoverflow.com/users/10076356/gevor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574898124, "creation_date": 1574891918, "question_id": 59079007, "link": "https://stackoverflow.com/questions/59079007/how-does-react-link-works-absolute-path-in-link", "title": "how does react &lt;Link&gt; works? Absolute path in &lt;Link&gt;", "body": "<p>fist of all i am sorry if the question seems dumb but i am still learning react and html. \nSo the thing is that i have a Button tag in my react code which provides me with some logic about going in a specific link i provide. My Button.js ultimately is a Link which is taking me to a link i provide:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    &lt;Link\n      className={[\n        'button',\n        `button--${props.design}`,\n        `button--${props.mode}`\n      ].join(' ')}\n      to={props.link}\n    &gt;\n</code></pre>\n\n<p>when i am in the route \"/\" and i call the Button tag with a link to a postId i go to \"/:postId\" page which is the post page i have in my backend</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Button mode=\"flat\" link={this.props.id}&gt;\n</code></pre>\n\n<p>but when i am in the route \"/profile/\" and i am executing the Button i am going to route \"/profile/:postId\" and this is not my post page in my backend so nothing happens and i cant see the post page.</p>\n\n<p>How can i go to \"/:postId\" even when i am in the \"/profile/\" route?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 850, "user_id": 8402168, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aQhWTDJB8-k/AAAAAAAAAAI/AAAAAAAAAWg/a4TiiD9QexU/photo.jpg?sz=128", "display_name": "ncesar", "link": "https://stackoverflow.com/users/8402168/ncesar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574972398, "creation_date": 1574972398, "answer_id": 59095698, "question_id": 59078984, "link": "https://stackoverflow.com/questions/59078984/how-to-call-two-onclick-events-from-different-places/59095698#59095698", "title": "How to call two onClick events from different places", "body": "<p>I have found the solution.</p>\n\n<p>On the main Button:</p>\n\n<pre><code>const Button = props =&gt; {\n  const { onClick } = props; //first i add onClick as a prop\n  const [pressed, setPressed] = useState(true);\n  const renderPressedButton = () =&gt; {\n    setPressed(!pressed);\n    if (onClick) {//then i check, if theres an onClick, execute it\n      onClick();\n    }\n  };\n  return (\n    &lt;StyledButton\n      pressed={pressed}\n      {...props}\n      onClick={renderPressedButton}\n    /&gt;\n  );\n};\n</code></pre>\n\n<p>And when using the Button:</p>\n\n<pre><code>&lt;Button onClick={justASimpleOnClickHandler}&gt;Toggle&lt;/Button&gt;\n</code></pre>\n\n<p>This way i can have my main onClick function and another one when using my component.</p>\n"}], "owner": {"reputation": 850, "user_id": 8402168, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aQhWTDJB8-k/AAAAAAAAAAI/AAAAAAAAAWg/a4TiiD9QexU/photo.jpg?sz=128", "display_name": "ncesar", "link": "https://stackoverflow.com/users/8402168/ncesar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574972398, "creation_date": 1574891843, "question_id": 59078984, "link": "https://stackoverflow.com/questions/59078984/how-to-call-two-onclick-events-from-different-places", "title": "How to call two onClick events from different places", "body": "<p>I have a button that is going to have a onClick that is hardcoded and another one that however uses the component, can create his custom onClick. I don't believe this is a duplicated since all the questions i was able to found advise to use both onClick's in a hardcoded way, that can't be changed when using the Button component.</p>\n\n<p>This the component:</p>\n\n<pre><code>const Button = props =&gt; {\n  const { children, toggle, ...other } = props;\n  const [pressed, setPressed] = useState(true);\n  const renderPressedButton = e =&gt; {\n    setPressed(!pressed);\n    onClick(); //here onClick should be called\n  };\n  return (\n    &lt;StyledButton\n      toggle={toggle}\n      pressed={toggle ? pressed : null}\n      onClick={toggle &amp;&amp; renderPressedButton}\n      {...other}&gt;\n      {children}\n    &lt;/StyledButton&gt;\n  );\n};\n</code></pre>\n\n<p>I have also tried this function on the onClick event:</p>\n\n<pre><code>const onClickHandler = () =&gt; {\n   renderPressedButton();\n   onClick();\n}\n</code></pre>\n\n<p>And using the component i would have my custom onClick</p>\n\n<pre><code>    const anotherClickHandler = () =&gt; {\n         console.log('Hey, this is a function outside Button component');\n    }\n\n&lt;Button onClick={anotherClickHandler}&gt;Button&lt;/Button&gt;\n</code></pre>\n\n<p>What i have tried is calling the <code>onClick();</code> inside the <code>renderPressedButton</code> from the first onClick but it did not work. The second onClick(<code>anotherClickHandler</code>) is called but not the first one(<code>renderPressedButton</code>).</p>\n\n<p>What i'm doing wrong?</p>\n"}, {"tags": ["javascript", "reactjs", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 1195, "user_id": 7451109, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/FcAjo.jpg?s=128&g=1", "display_name": "shaedrich", "link": "https://stackoverflow.com/users/7451109/shaedrich"}, "edited": false, "score": 0, "creation_date": 1618490746, "post_id": 67105146, "comment_id": 118620385, "body": "Hard to say if this is the case since the thread owner didn&#39;t disclose his file names let alone his project&#39;s folder structure."}], "tags": [], "owner": {"reputation": 1, "user_id": 15598714, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiGsIYw2dVNDzn5db_f_QoDS0mxhjhh4qRAAaEg=k-s128", "display_name": "Smiley Dev", "link": "https://stackoverflow.com/users/15598714/smiley-dev"}, "is_accepted": false, "score": -1, "last_activity_date": 1618476267, "creation_date": 1618476267, "answer_id": 67105146, "question_id": 59078940, "link": "https://stackoverflow.com/questions/59078940/reactjs-src-app-js-cannot-find-file-index-js-does-not-match-the-correspond/67105146#67105146", "title": "Reactjs - /src/App.js Cannot find file: &#39;index.js&#39; does not match the corresponding name on disk: &#39;.\\s rc\\Routes\\Detail\\routes&#39;", "body": "<p>Yeah. I think you should try to rename the Detail component of the import statement with lowercase.</p>\n<p>import Detail from './detail' instead of\nimport Detail from './Detail';</p>\n<p>\ud83d\ude0a</p>\n"}], "owner": {"reputation": 11, "user_id": 7070771, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-hAgnzI6JZBA/AAAAAAAAAAI/AAAAAAAAACs/piTRAin_qP0/photo.jpg?sz=128", "display_name": "Mehmet Canhoroz", "link": "https://stackoverflow.com/users/7070771/mehmet-canhoroz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2014, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1618476267, "creation_date": 1574891584, "question_id": 59078940, "link": "https://stackoverflow.com/questions/59078940/reactjs-src-app-js-cannot-find-file-index-js-does-not-match-the-correspond", "title": "Reactjs - /src/App.js Cannot find file: &#39;index.js&#39; does not match the corresponding name on disk: &#39;.\\s rc\\Routes\\Detail\\routes&#39;", "body": "<p>I developed a basic react app and it works on my laptop where is the first create-react-app. I created the app in my laptop but new clones are not working and I got error as title.</p>\n\n<p>I dont implement anything like routes under Details component. I need your help thanks!</p>\n\n<p>The repo = <a href=\"https://github.com/mehmetcanhoroz/NETASCOOP4424\" rel=\"nofollow noreferrer\">https://github.com/mehmetcanhoroz/NETASCOOP4424</a></p>\n\n<pre><code>import React, { Fragment } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport './App.css';\n\nimport { Header } from \"./Components/Shared/Header\";\nimport { Content } from \"./Components/Shared/Content\";\nimport { Footer } from \"./Components/Shared/Footer\";\n\nimport Home from   \"./Routes/Home\";\nimport Detail from \"./Routes/Detail\";\n\nfunction App() {\n\n  return (\n    &lt;Fragment&gt;\n      &lt;div className=\"App\"&gt;\n        &lt;BrowserRouter&gt;\n          &lt;Header /&gt;\n          &lt;Content&gt;\n            &lt;Switch&gt;\n              &lt;Route exact path=\"/\" component={Home} /&gt;\n              &lt;Route exact path=\"/movies/:id\" component={Detail} /&gt;\n            &lt;/Switch&gt;\n          &lt;/Content&gt;\n          &lt;Footer /&gt;\n        &lt;/BrowserRouter&gt;\n\n      &lt;/div&gt;\n    &lt;/Fragment&gt;\n  );\n}\n\nexport default App;\n\n</code></pre>\n\n<pre><code>import Detail from './Detail';\n\nexport default Detail;\n</code></pre>\n\n<pre><code>import React, { Fragment, Component } from './node_modules/react';\nimport { getMovie, makeComment, likeMovie } from '../../Services/Api/Movie';\nimport { ProgressBar, Button } from './node_modules/react-bootstrap';\nimport { FontAwesomeIcon } from './node_modules/@fortawesome/react-fontawesome'\nimport { faThumbsUp, faThumbsDown } from './node_modules/@fortawesome/free-solid-svg-icons';\n\nclass Detail extends Component {\n    constructor(props) {\n        super(props);\n        console.log('detay', [props]);\n        console.log('detay', props.match.params.id); this.state = {\n            movie: [],\n            movieId: this.props.match.params.id,\n            like_dislikes: [],\n            loaded: false\n        }\n        this.handleMakeComment = this.handleMakeComment.bind(this);\n    }\n    componentWillMount() {\n        console.log('detay willmount', this.state.movie);\n        this.getMovie();\n    }\n    componentDidUpdate() {\n        console.log('detay didmount', this.state.movie);\n\n        /*this.setState({\n            like_dislikes: {likes:totalLikes,dislikes:totalDislikes},\n        });*/\n\n    }\n    getMovie = () =&gt; {\n        //this.props.dispatch(loading());\n        getMovie({ id: this.props.match.params.id })\n            .then(res =&gt; {\n                console.log('Detail Response geldi', res);\n\n                let totalLikes = 0;\n                let totalDislikes = 0;\n\n                res.data.like_dislikes.map(element =&gt; {\n                    if (element.liked)\n                        totalLikes++;\n                    else\n                        totalDislikes++;\n                        return '';\n                });\n\n                this.setState({\n                    movie: res.data,\n                    like_dislikes: { likes: totalLikes, dislikes: totalDislikes, total: totalDislikes + totalLikes },\n                    loaded: true\n                });\n                /*this.props.dispatch(success());\n                ;*/\n            })\n            .catch(err =&gt; {\n                /*const error = {\n                  title: 'Connection Error',\n                  message:\n                    'We apologise but we have had an issue on our end. Please try again in a few moments.',\n                };*/\n                //this.props.dispatch(fail(error));\n            });\n    };\n    handleMakeComment = (event) =&gt; {\n        //this.props.dispatch(loading());\n        event.preventDefault();\n        console.log('Form gonderildi!');\n        const data = new FormData(event.target);\n\n        makeComment(\n            {\n                id: this.props.match.params.id,\n                email: data.get('email'),\n                full_name: data.get('full_name'),\n                comment: data.get('comment')\n\n            })\n            .then(res =&gt; {\n                console.log('Yorum Sonrasi Response geldi', res);\n                this.setState({\n                    movie: res.data,\n                    loaded: true\n                });\n\n                /*this.refs.email.value = \"\";\n                this.refs.full_name.value = \"\";*/\n                this.refs.comment.value = \"\";\n            })\n            .catch(err =&gt; {\n                /*const error = {\n                  title: 'Connection Error',\n                  message:\n                    'We apologise but we have had an issue on our end. Please try again in a few moments.',\n                };*/\n                //this.props.dispatch(fail(error));\n            });\n    };\n    handleLikeDislike = (liked) =&gt; {\n        //this.props.dispatch(loading());\n\n        likeMovie(\n            {\n                id: this.props.match.params.id,\n                liked: liked,\n            })\n            .then(res =&gt; {\n                console.log('Begeni Sonrasi Response geldi', res);\n                let totalLikes = 0;\n                let totalDislikes = 0;\n\n                res.data.like_dislikes.map(element =&gt; {\n                    if (element.liked)\n                        totalLikes++;\n                    else\n                        totalDislikes++;\n                    return '';\n                });\n\n                this.setState({\n                    movie: res.data,\n                    like_dislikes: { likes: totalLikes, dislikes: totalDislikes, total: totalDislikes + totalLikes },\n                    loaded: true\n                });\n            })\n            .catch(err =&gt; {\n            });\n    };\n    render() {\n        return (\n            &lt;Fragment&gt;\n                {this.state.loaded &amp;&amp;\n                    &lt;div className=\"row\"&gt;\n                        &lt;div className=\"col-lg-8\"&gt;\n                            &lt;h1 className=\"mt-4\"&gt;{this.state.movie.title}&lt;/h1&gt;\n                            &lt;hr /&gt;\n                            &lt;p&gt;Posted on {this.state.movie.created_at}&lt;/p&gt;\n                            &lt;hr /&gt;\n                            &lt;p&gt;{this.state.movie.description}&lt;/p&gt;\n                            &lt;hr /&gt;\n                            &lt;p&gt;&lt;span&gt;Like: {this.state.like_dislikes.likes}&lt;/span&gt;&lt;span style={{ float: 'right' }}&gt;Dislike: {this.state.like_dislikes.dislikes}&lt;/span&gt;&lt;/p&gt;\n                            &lt;ProgressBar&gt;\n                                &lt;ProgressBar variant=\"success\" now={this.state.like_dislikes.likes * 100 / this.state.like_dislikes.total} key={1} /&gt;\n                                &lt;ProgressBar variant=\"danger\" now={this.state.like_dislikes.dislikes * 100 / this.state.like_dislikes.total} key={2} /&gt;\n                            &lt;/ProgressBar&gt;\n                            &lt;div style={{ paddingTop: '10px' }}&gt;\n                                &lt;Button variant=\"success\" onClick={() =&gt; this.handleLikeDislike(true)}&gt; &lt;FontAwesomeIcon icon={faThumbsUp} /&gt; Do you like the movie?&lt;/Button&gt;\n                                &lt;Button style={{ float: 'right' }} variant=\"danger\" onClick={() =&gt; this.handleLikeDislike(false)}&gt; &lt;FontAwesomeIcon icon={faThumbsDown} /&gt; Don't you like the movie?&lt;/Button&gt;\n                            &lt;/div&gt;\n                            &lt;hr /&gt;\n                            &lt;div className=\"card my-4\"&gt;\n                                &lt;h5 className=\"card-header\"&gt;Leave a Comment:&lt;/h5&gt;\n                                &lt;form name=\"comment-form\" onSubmit={this.handleMakeComment}&gt;\n                                    &lt;div className=\"card-body\"&gt;\n                                        &lt;div className=\"form-group row\"&gt;\n                                            &lt;label htmlFor=\"full_name\" className=\"col-sm-2 col-form-label\"&gt;Full Name&lt;/label&gt;\n                                            &lt;div className=\"col-sm-10\"&gt;\n                                                &lt;input type=\"text\" className=\"form-control\" name=\"full_name\" id=\"full_name\" placeholder=\"Name Surname\" ref='full_name' /&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div className=\"form-group row\"&gt;\n                                            &lt;label htmlFor=\"email\" className=\"col-sm-2 col-form-label\"&gt;Email&lt;/label&gt;\n                                            &lt;div className=\"col-sm-10\"&gt;\n                                                &lt;input type=\"text\" className=\"form-control\" name=\"email\" id=\"email\" placeholder=\"email@example.com\" ref='email' /&gt;\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div className=\"form-group\"&gt;\n                                            &lt;textarea className=\"form-control\" name=\"comment\" rows=\"3\" ref='comment'&gt;&lt;/textarea&gt;\n                                        &lt;/div&gt;\n                                        &lt;button className=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n                                    &lt;/div&gt;\n                                &lt;/form&gt;\n                            &lt;/div&gt;\n                            {this.state.movie.comments.map((item, key) =&gt;\n                                &lt;div className=\"media mb-4\" key={key}&gt;\n                                    &lt;img className=\"d-flex mr-3 rounded-circle\" src={\"https://www.gravatar.com/avatar/\" + this.MD5(item.email)} alt=\"\" /&gt;\n                                    &lt;div className=\"media-body\"&gt;\n                                        &lt;h5 className=\"mt-0\"&gt;{item.full_name}&lt;/h5&gt;\n                                        {item.comment}\n                                    &lt;/div&gt;\n                                    &lt;p style={{ float: 'right' }}&gt;{item.created_at}&lt;/p&gt;\n                                &lt;/div&gt;\n                            )}\n                        &lt;/div&gt;\n                        &lt;div className=\"col-lg-4\"&gt;\n                            &lt;ul class=\"list-group\"&gt;\n                                &lt;li class=\"list-group-item\"&gt;&lt;b&gt;My Score:&lt;/b&gt; {this.state.movie.my_score}/10&lt;/li&gt;\n                                &lt;li class=\"list-group-item\"&gt;&lt;b&gt;IMDb Score:&lt;/b&gt; {this.state.movie.imdb_score}/10&lt;/li&gt;\n                                &lt;li class=\"list-group-item\"&gt;&lt;b&gt;Meta Score:&lt;/b&gt; {this.state.movie.meta_score}/10&lt;/li&gt;\n                            &lt;/ul&gt;\n                            &lt;hr /&gt;\n                            {this.state.movie.images.map((item, key) =&gt;\n                                &lt;img key={key} className=\"img-fluid mt-1 w-100\" src={item.image} alt={'Movie Image - ' + key} /&gt;\n                            )}\n                            &lt;hr /&gt;\n                            {this.state.movie.trailers.map((item, key) =&gt;\n                                &lt;div key={key} className=\"embed-responsive embed-responsive-16by9\"&gt;\n                                    &lt;iframe className=\"embed-responsive-item\" src={item.src} allowFullScreen title={\"Movie Trailer - \" + key}&gt;&lt;/iframe&gt;\n                                &lt;/div&gt;\n                            )}\n                            &lt;hr /&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                }\n            &lt;/Fragment&gt;\n        )\n    }\n\n    MD5 = function (string) {\n        function RotateLeft(lValue, iShiftBits) {\n            return (lValue &lt;&lt; iShiftBits) | (lValue &gt;&gt;&gt; (32 - iShiftBits));\n        } function AddUnsigned(lX, lY) {\n            var lX4, lY4, lX8, lY8, lResult;\n            lX8 = (lX &amp; 0x80000000);\n            lY8 = (lY &amp; 0x80000000);\n            lX4 = (lX &amp; 0x40000000);\n            lY4 = (lY &amp; 0x40000000);\n            lResult = (lX &amp; 0x3FFFFFFF) + (lY &amp; 0x3FFFFFFF);\n            if (lX4 &amp; lY4) {\n                return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n            }\n            if (lX4 | lY4) {\n                if (lResult &amp; 0x40000000) {\n                    return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n                } else {\n                    return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n                }\n            } else {\n                return (lResult ^ lX8 ^ lY8);\n            }\n        } function F(x, y, z) { return (x &amp; y) | ((~x) &amp; z); }\n        function G(x, y, z) { return (x &amp; z) | (y &amp; (~z)); }\n        function H(x, y, z) { return (x ^ y ^ z); }\n        function I(x, y, z) { return (y ^ (x | (~z))); }\n        function FF(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(F(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }; function GG(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(G(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        }; function HH(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(H(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        };\n        function II(a, b, c, d, x, s, ac) {\n            a = AddUnsigned(a, AddUnsigned(AddUnsigned(I(b, c, d), x), ac));\n            return AddUnsigned(RotateLeft(a, s), b);\n        };\n        function ConvertToWordArray(string) {\n            var lWordCount;\n            var lMessageLength = string.length;\n            var lNumberOfWords_temp1 = lMessageLength + 8;\n            var lNumberOfWords_temp2 = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64;\n            var lNumberOfWords = (lNumberOfWords_temp2 + 1) * 16;\n            var lWordArray = Array(lNumberOfWords - 1);\n            var lBytePosition = 0;\n            var lByteCount = 0;\n            while (lByteCount &lt; lMessageLength) {\n                lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n                lBytePosition = (lByteCount % 4) * 8;\n                lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) &lt;&lt; lBytePosition));\n                lByteCount++;\n            }\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 &lt;&lt; lBytePosition);\n            lWordArray[lNumberOfWords - 2] = lMessageLength &lt;&lt; 3;\n            lWordArray[lNumberOfWords - 1] = lMessageLength &gt;&gt;&gt; 29;\n            return lWordArray;\n        };\n        function WordToHex(lValue) {\n            var WordToHexValue = \"\", WordToHexValue_temp = \"\", lByte, lCount;\n            for (lCount = 0; lCount &lt;= 3; lCount++) {\n                lByte = (lValue &gt;&gt;&gt; (lCount * 8)) &amp; 255;\n                WordToHexValue_temp = \"0\" + lByte.toString(16);\n                WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\n            }\n            return WordToHexValue;\n        };\n        function Utf8Encode(string) {\n            string = string.replace(/\\r\\n/g, \"\\n\");\n            var utftext = \"\";\n            for (var n = 0; n &lt; string.length; n++) {\n                var c = string.charCodeAt(n);\n                if (c &lt; 128) {\n                    utftext += String.fromCharCode(c);\n                }\n                else if ((c &gt; 127) &amp;&amp; (c &lt; 2048)) {\n                    utftext += String.fromCharCode((c &gt;&gt; 6) | 192);\n                    utftext += String.fromCharCode((c &amp; 63) | 128);\n                }\n                else {\n                    utftext += String.fromCharCode((c &gt;&gt; 12) | 224);\n                    utftext += String.fromCharCode(((c &gt;&gt; 6) &amp; 63) | 128);\n                    utftext += String.fromCharCode((c &amp; 63) | 128);\n                }\n            }\n            return utftext;\n        };\n        var x = [];\n        var k, AA, BB, CC, DD, a, b, c, d;\n        var S11 = 7, S12 = 12, S13 = 17, S14 = 22;\n        var S21 = 5, S22 = 9, S23 = 14, S24 = 20;\n        var S31 = 4, S32 = 11, S33 = 16, S34 = 23;\n        var S41 = 6, S42 = 10, S43 = 15, S44 = 21;\n        string = Utf8Encode(string);\n        x = ConvertToWordArray(string);\n        a = 0x67452301; b = 0xEFCDAB89; c = 0x98BADCFE; d = 0x10325476;\n        for (k = 0; k &lt; x.length; k += 16) {\n            AA = a; BB = b; CC = c; DD = d;\n            a = FF(a, b, c, d, x[k + 0], S11, 0xD76AA478);\n            d = FF(d, a, b, c, x[k + 1], S12, 0xE8C7B756);\n            c = FF(c, d, a, b, x[k + 2], S13, 0x242070DB);\n            b = FF(b, c, d, a, x[k + 3], S14, 0xC1BDCEEE);\n            a = FF(a, b, c, d, x[k + 4], S11, 0xF57C0FAF);\n            d = FF(d, a, b, c, x[k + 5], S12, 0x4787C62A);\n            c = FF(c, d, a, b, x[k + 6], S13, 0xA8304613);\n            b = FF(b, c, d, a, x[k + 7], S14, 0xFD469501);\n            a = FF(a, b, c, d, x[k + 8], S11, 0x698098D8);\n            d = FF(d, a, b, c, x[k + 9], S12, 0x8B44F7AF);\n            c = FF(c, d, a, b, x[k + 10], S13, 0xFFFF5BB1);\n            b = FF(b, c, d, a, x[k + 11], S14, 0x895CD7BE);\n            a = FF(a, b, c, d, x[k + 12], S11, 0x6B901122);\n            d = FF(d, a, b, c, x[k + 13], S12, 0xFD987193);\n            c = FF(c, d, a, b, x[k + 14], S13, 0xA679438E);\n            b = FF(b, c, d, a, x[k + 15], S14, 0x49B40821);\n            a = GG(a, b, c, d, x[k + 1], S21, 0xF61E2562);\n            d = GG(d, a, b, c, x[k + 6], S22, 0xC040B340);\n            c = GG(c, d, a, b, x[k + 11], S23, 0x265E5A51);\n            b = GG(b, c, d, a, x[k + 0], S24, 0xE9B6C7AA);\n            a = GG(a, b, c, d, x[k + 5], S21, 0xD62F105D);\n            d = GG(d, a, b, c, x[k + 10], S22, 0x2441453);\n            c = GG(c, d, a, b, x[k + 15], S23, 0xD8A1E681);\n            b = GG(b, c, d, a, x[k + 4], S24, 0xE7D3FBC8);\n            a = GG(a, b, c, d, x[k + 9], S21, 0x21E1CDE6);\n            d = GG(d, a, b, c, x[k + 14], S22, 0xC33707D6);\n            c = GG(c, d, a, b, x[k + 3], S23, 0xF4D50D87);\n            b = GG(b, c, d, a, x[k + 8], S24, 0x455A14ED);\n            a = GG(a, b, c, d, x[k + 13], S21, 0xA9E3E905);\n            d = GG(d, a, b, c, x[k + 2], S22, 0xFCEFA3F8);\n            c = GG(c, d, a, b, x[k + 7], S23, 0x676F02D9);\n            b = GG(b, c, d, a, x[k + 12], S24, 0x8D2A4C8A);\n            a = HH(a, b, c, d, x[k + 5], S31, 0xFFFA3942);\n            d = HH(d, a, b, c, x[k + 8], S32, 0x8771F681);\n            c = HH(c, d, a, b, x[k + 11], S33, 0x6D9D6122);\n            b = HH(b, c, d, a, x[k + 14], S34, 0xFDE5380C);\n            a = HH(a, b, c, d, x[k + 1], S31, 0xA4BEEA44);\n            d = HH(d, a, b, c, x[k + 4], S32, 0x4BDECFA9);\n            c = HH(c, d, a, b, x[k + 7], S33, 0xF6BB4B60);\n            b = HH(b, c, d, a, x[k + 10], S34, 0xBEBFBC70);\n            a = HH(a, b, c, d, x[k + 13], S31, 0x289B7EC6);\n            d = HH(d, a, b, c, x[k + 0], S32, 0xEAA127FA);\n            c = HH(c, d, a, b, x[k + 3], S33, 0xD4EF3085);\n            b = HH(b, c, d, a, x[k + 6], S34, 0x4881D05);\n            a = HH(a, b, c, d, x[k + 9], S31, 0xD9D4D039);\n            d = HH(d, a, b, c, x[k + 12], S32, 0xE6DB99E5);\n            c = HH(c, d, a, b, x[k + 15], S33, 0x1FA27CF8);\n            b = HH(b, c, d, a, x[k + 2], S34, 0xC4AC5665);\n            a = II(a, b, c, d, x[k + 0], S41, 0xF4292244);\n            d = II(d, a, b, c, x[k + 7], S42, 0x432AFF97);\n            c = II(c, d, a, b, x[k + 14], S43, 0xAB9423A7);\n            b = II(b, c, d, a, x[k + 5], S44, 0xFC93A039);\n            a = II(a, b, c, d, x[k + 12], S41, 0x655B59C3);\n            d = II(d, a, b, c, x[k + 3], S42, 0x8F0CCC92);\n            c = II(c, d, a, b, x[k + 10], S43, 0xFFEFF47D);\n            b = II(b, c, d, a, x[k + 1], S44, 0x85845DD1);\n            a = II(a, b, c, d, x[k + 8], S41, 0x6FA87E4F);\n            d = II(d, a, b, c, x[k + 15], S42, 0xFE2CE6E0);\n            c = II(c, d, a, b, x[k + 6], S43, 0xA3014314);\n            b = II(b, c, d, a, x[k + 13], S44, 0x4E0811A1);\n            a = II(a, b, c, d, x[k + 4], S41, 0xF7537E82);\n            d = II(d, a, b, c, x[k + 11], S42, 0xBD3AF235);\n            c = II(c, d, a, b, x[k + 2], S43, 0x2AD7D2BB);\n            b = II(b, c, d, a, x[k + 9], S44, 0xEB86D391);\n            a = AddUnsigned(a, AA);\n            b = AddUnsigned(b, BB);\n            c = AddUnsigned(c, CC);\n            d = AddUnsigned(d, DD);\n        }\n        var temp = WordToHex(a) + WordToHex(b) + WordToHex(c) + WordToHex(d);\n        return temp.toLowerCase();\n    };\n}\n\nexport default Detail;\n</code></pre>\n"}, {"tags": ["javascript", "html", "canvas", "video"], "comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1574898262, "post_id": 59078937, "comment_id": 104396787, "body": "What do you mean by &quot;empty&quot;? Fully transparent? The console.log calls are triggered? Do you have error messages in the console? Did you do anyhting else to this canvas anywhere else? Could you set up a live example? You can use some <a href=\"https://upload.wikimedia.org/wikipedia/commons/2/22/Volcano_Lava_Sample.webm\" rel=\"nofollow noreferrer\">video files</a> from wikimedia and create a live snippet by clicking &lt;&gt; button in the editor."}], "owner": {"reputation": 11, "user_id": 12448443, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XswhfynkaNg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc63uEsRCrHx4JlC-qVnq09CLpH6Q/photo.jpg?sz=128", "display_name": "Jack", "link": "https://stackoverflow.com/users/12448443/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574895358, "creation_date": 1574891576, "question_id": 59078937, "link": "https://stackoverflow.com/questions/59078937/html5-how-to-get-first-frame-of-a-video", "title": "HTML5 How to get first frame of a video", "body": "<p>I am trying to get the first frame of a video in order to put it in a canvas, using this code but the canvas remains empty.</p>\n\n<pre><code>video.addEventListener(\"canplay\",function () {\n    var $this = this;\n    console.log(\"canplay\");\n    console.log(video.readyState);\n    canvas.getContext('2d').drawImage($this, 0, 0, canvas.width, canvas.height);\n});\n</code></pre>\n\n<p>I also use this code to mirror the video in a canvas and it works.</p>\n\n<pre><code>video.addEventListener('play', function() {\n    var $this = this;\n    (function loop() {\n        if (!$this.paused &amp;&amp; !$this.ended) {\n            context.save();\n            context.scale(-1, 1);\n            context.drawImage($this, 0, 0, mCanvas.width*-1, mCanvas.height);\n            context.restore();\n            setTimeout(loop, 1000 / 30); // drawing at 30fps\n        }\n    })();\n}, 0);\n</code></pre>\n\n<p>How can I get the first frame of the video? Morevoer I have the possibility to change the URL dynamically: what should I do to get the first frame of the new video?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1574891232, "post_id": 59078834, "comment_id": 104394829, "body": "Aren&#39;t components rerendered by default anyway? I think what you are describing only affects memoized components? I assume it&#39;s not the default for three reasons: 1) Components always rerender by default anyway (I might be wrong). 2) There is no way for React to know when to recreate a callback. That&#39;s what you are telling React by passing the list of dependencies. 3) Wrong application of memoization can lead to bugs (component doesn&#39;t rerender even though it should). By rerendering everything by default, bugs are less likely and developers still have a chance to fine tune the render process."}], "answers": [{"comments": [{"owner": {"reputation": 3486, "user_id": 2304751, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qEKVc.jpg?s=128&g=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/2304751/diesel"}, "edited": false, "score": 1, "creation_date": 1574912182, "post_id": 59078941, "comment_id": 104399440, "body": "I ran across that article in the past, but didn&#39;t fully read it until you recommended it. That clears it up."}], "tags": [], "owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "is_accepted": true, "score": 2, "last_activity_date": 1609543036, "last_edit_date": 1609543036, "creation_date": 1574891584, "answer_id": 59078941, "question_id": 59078834, "link": "https://stackoverflow.com/questions/59078834/should-usecallback-always-be-used-when-passing-a-function-as-a-prop/59078941#59078941", "title": "Should useCallback always be used when passing a function as a prop?", "body": "<p>UseCallback is just a special version of <code>useMemo</code> that is just for use with functions. The advantage is that is stops you recreating the function on each render, which can cause you to break any other memoization further down your component tree.</p>\n<p>Like any form of code optimisation the advantages may not be that great, it adds it\u2019s own overhead that may outweigh any advantages and also adds complexity to your code.</p>\n<p>To quote Knuth \u201cPremature optimisation is the route of all evil\u201d</p>\n<p>Kent C. Dodds has a much more detailed look at this on his blog\n<a href=\"https://kentcdodds.com/blog/usememo-and-usecallback\" rel=\"nofollow noreferrer\">https://kentcdodds.com/blog/usememo-and-usecallback</a></p>\n"}], "owner": {"reputation": 3486, "user_id": 2304751, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/qEKVc.jpg?s=128&g=1", "display_name": "Diesel", "link": "https://stackoverflow.com/users/2304751/diesel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 1, "accepted_answer_id": 59078941, "answer_count": 1, "score": 2, "last_activity_date": 1609543036, "creation_date": 1574890877, "question_id": 59078834, "link": "https://stackoverflow.com/questions/59078834/should-usecallback-always-be-used-when-passing-a-function-as-a-prop", "title": "Should useCallback always be used when passing a function as a prop?", "body": "<p>I have the below code. If I pass the props <code>onUpdate</code> and <code>onDelete</code> as just functions - function objects in javascript - the child components always re-renders due to a props change in the profiler. The function is recreated and <code>onUpdate</code> and <code>onDelete</code> are now new props, makes sense to me. </p>\n\n<p>However, if I add <code>useCallback</code>, they don't perceive a prop change, as this is the purpose of <code>useCallback</code>. So this leads to a few questions.</p>\n\n<ul>\n<li>What is the drawback to using <code>useCallback</code> for every function passed down to a child? </li>\n<li>Is there no benefit to using <code>useCallback</code> because the children will render because the parent rendered anyways? </li>\n<li><p>Why isn't this the default behavior? I know that this may not be answerable.</p>\n\n<pre><code>  &lt;UpdateGroupInput\n    onUpdate={useCallback(\n      group =&gt; {\n        const index = groups.findIndex(searchedGroup =&gt; searchedGroup.id === group.id);\n        const newGroups = groups.slice();\n        newGroups[index] = group;\n        onChange(items, newGroups);\n        hideAddItemModal();\n      },\n      [groups, items, onChange]\n    )}\n    onDelete={useCallback(\n      id =&gt; {\n        const newGroups = groups.filter(group =&gt; group.id !== id);\n        const newItems = items.filter(item =&gt; item.group !== id);\n        onChange(newItems, newGroups);\n      },\n      [groups, items, onChange]\n    )}\n    groups={groups}\n    visible={viewUpdateGroup}\n  &gt;&lt;/UpdateGroupInput&gt;\n</code></pre></li>\n</ul>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11846167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2182baff99e15f6f4a9dbc51bb54e9b2?s=128&d=identicon&r=PG&f=1", "display_name": "PostR", "link": "https://stackoverflow.com/users/11846167/postr"}, "edited": false, "score": 1, "creation_date": 1574896290, "post_id": 59079475, "comment_id": 104396338, "body": "Yes.  Your answer is really helpful. I don&#39;t have that much of practical experience with React, and you gave me a lot of ideas what to look for.   I&#39;ll try with that for now and try to adjust. Works almost as I wanted. Just need to figure it out, how to make setTimeout for little brake between changing texts.  I want to vote it up, but I need few more reputation points to do that. I will do it , after reaching 15 points.  Thank you very much. :)"}], "tags": [], "owner": {"reputation": 947, "user_id": 2728710, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4bcbb875888d938cc5786176337e4c19?s=128&d=identicon&r=PG&f=1", "display_name": "pom421", "link": "https://stackoverflow.com/users/2728710/pom421"}, "is_accepted": true, "score": 2, "last_activity_date": 1574895148, "creation_date": 1574895148, "answer_id": 59079475, "question_id": 59078824, "link": "https://stackoverflow.com/questions/59078824/typeerror-cannot-read-property-49-of-undefined-for-machinetyping-effect-comp/59079475#59079475", "title": "TypeError: Cannot read property &#39;49&#39; of undefined; for MachineTyping effect component in React", "body": "<p>Interesting problem! </p>\n\n<p>My advice is to write a function to know if there is a future character in the line and another to get the future line to display (and return to line 0 if we were on the last). </p>\n\n<p>Also, be aware of the <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">asynchronous nature</a> of <code>setState</code>. If the state you currently build is dependant of the precedent state, you need to use the syntax : </p>\n\n<pre><code>setState(previousState =&gt; { ... })\n</code></pre>\n\n<p>You can try <a href=\"https://codesandbox.io/s/exciting-pascal-plspk\" rel=\"nofollow noreferrer\">my solution</a> : </p>\n\n<pre><code>import React from \"react\";\n\nclass AnimationTypingText extends React.Component {\n  state = {\n    text: \"\",\n    indexText: 0,\n    activeLetter: -1,\n    activeText: 0\n  };\n\n  idInterval = setInterval(() =&gt; this.addLetter(), 50);\n\n  addLetter = () =&gt; {\n    const txt = [\n      \"HTML Lorem ipsum dolor sit amet consectetur\",\n      \"CSS adipisicing elit. Repellat, laudantium dolorum\",\n      \"JavaScript consequuntur dicta esse soluta aut assumenda\",\n      \"React error iusto qui atque necessitatibus \",\n      \"Node tempore dolor laborum.\",\n      \"MongoDB Aspernatur quam voluptatum quis possimus.\"\n    ];\n\n    const getNextLine = () =&gt; {\n      if (this.state.activeText &gt;= txt.length - 1) {\n        return 0;\n      } else return this.state.activeText + 1;\n    };\n\n    const hasNextChar = () =&gt; {\n      if (this.state.activeLetter &lt; txt[this.state.activeText].length - 1) {\n        return true;\n      } else return false;\n    };\n\n    if (hasNextChar()) {\n      this.setState(previousState =&gt; ({\n        text:\n          previousState.text +\n          txt[previousState.activeText][previousState.activeLetter + 1],\n        activeLetter: previousState.activeLetter + 1\n      }));\n    } else {\n      const nextLine = getNextLine();\n\n      this.setState({\n        activeText: nextLine,\n        text: \"\",\n        activeLetter: -1\n      });\n    }\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;div&gt;\n          &lt;p&gt;{this.state.text}&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default AnimationTypingText;\n</code></pre>\n\n<p>One last thing, if you don't want to run forever like my solution, be careful to clear the interval in a <a href=\"https://reactjs.org/docs/react-component.html#componentwillunmount\" rel=\"nofollow noreferrer\"><code>componentWillUnmount</code></a> method.</p>\n"}], "owner": {"reputation": 33, "user_id": 11846167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2182baff99e15f6f4a9dbc51bb54e9b2?s=128&d=identicon&r=PG&f=1", "display_name": "PostR", "link": "https://stackoverflow.com/users/11846167/postr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 59079475, "answer_count": 1, "score": 3, "last_activity_date": 1574895148, "creation_date": 1574890831, "question_id": 59078824, "link": "https://stackoverflow.com/questions/59078824/typeerror-cannot-read-property-49-of-undefined-for-machinetyping-effect-comp", "title": "TypeError: Cannot read property &#39;49&#39; of undefined; for MachineTyping effect component in React", "body": "<p>I have problem with this component. I've tried to convert it from Vanilla JavaScript one, which works perfectly. But that one not so much. I know there is something wrong with my usage of setState() method so many times, but I can't figure it out, what exactly. Can someone help me to make it to fully work?</p>\n\n<pre><code>\nclass AnimationTypingText extends Component {\n    state = {\n        text: '',\n        indexText: 0,\n        activeLetter: 0,\n        activeText: 0,\n    }\n\n    idInterval = setInterval(() =&gt; this.addLetter(), 50);\n\n    addLetter = () =&gt; {\n\n        const txt = [\n            'HTML Lorem ipsum dolor sit amet consectetur',\n            'CSS adipisicing elit. Repellat, laudantium dolorum',\n            'JavaScript consequuntur dicta esse soluta aut assumenda', \n            'React error iusto qui atque necessitatibus ', \n            'Node tempore dolor laborum.', \n            'MongoDB Aspernatur quam voluptatum quis possimus.'];     \n\n        if ( this.state.activeLetter &gt;= 0 ) {\n            this.setState({\n                text: this.state.text + txt[this.state.activeText][this.state.activeLetter],\n            });\n        }\n        this.setState({\n            activeLetter: this.state.activeLetter + 1,\n        });\n            console.log('check 1')\n        if ( this.state.activeLetter === txt[this.state.activeText].length ) {\n\n            console.log('check 2')\n            this.setState({\n                activeText: this.state.activeText + 1,\n            })\n            if ( this.state.activeText === txt.length ) return; \n\n\n                return setTimeout(() =&gt; {\n                    this.setState({\n                        activeLetter: 0,\n                        text: '',\n                    })\n                }, 2000)\n        }\n        setTimeout(this.idInterval, 100);\n    }\n\n    render() {\n        return(\n            &lt;div&gt;\n                &lt;div onLoad={this.idInterval}&gt;\n                    &lt;p&gt;{this.state.text}&lt;/p&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n\n// const indexTyping = setInterval(addLetter, 50);\n\nexport default AnimationTypingText;\n</code></pre>\n\n<pre><code>1 of 4030 errors on the page\nTypeError: Cannot read property '49' of undefined\nAnimationTypingText.addLetter\nsrc/components/AnimationTypingText.js:25\n  22 | \n  23 | if ( this.state.activeLetter &gt;= 0 ) {\n  24 |     this.setState({\n&gt; 25 |         text: this.state.text + txt[this.state.activeText][this.state.activeLetter],\n     | ^  26 |     });\n  27 | }\n  28 | this.setState({\nView compiled\n(anonymous function)\nsrc/components/AnimationTypingText.js:3\n  1 | import React, { Component } from 'react';\n  2 | \n&gt; 3 | class AnimationTypingText extends Component {\n  4 |     state = {\n  5 |         text: '',\n  6 |         indexText: 0,```\n</code></pre>\n"}, {"tags": ["javascript", "rxjs", "inquirer", "inquirerjs"], "comments": [{"owner": {"reputation": 5235, "user_id": 7910454, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/3Dlqb.jpg?s=128&g=1", "display_name": "leonheess", "link": "https://stackoverflow.com/users/7910454/leonheess"}, "edited": false, "score": 0, "creation_date": 1585587116, "post_id": 59078788, "comment_id": 107806924, "body": "Also see <a href=\"https://github.com/SBoudrias/Inquirer.js/blob/master/packages/inquirer/examples/rx-observable-array.js\" rel=\"nofollow noreferrer\">github.com/SBoudrias/Inquirer.js/blob/master/packages/inquir&zwnj;&#8203;er/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 8644091, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9TZGM.jpg?s=128&g=1", "display_name": "baburao", "link": "https://stackoverflow.com/users/8644091/baburao"}, "edited": false, "score": 1, "creation_date": 1601388698, "post_id": 59078789, "comment_id": 113388503, "body": "In newer versions, <code>askAnswered: true</code> is <b>required</b> for new prompts of the same question (<i><code>name</code></i>)"}], "tags": [], "owner": {"reputation": 421, "user_id": 7546562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glKig.jpg?s=128&g=1", "display_name": "William Bernting", "link": "https://stackoverflow.com/users/7546562/william-bernting"}, "is_accepted": false, "score": 2, "last_activity_date": 1574890661, "creation_date": 1574890661, "answer_id": 59078789, "question_id": 59078788, "link": "https://stackoverflow.com/questions/59078788/how-do-i-dynamically-add-questions-to-inquirer-js-during-execution-using-rxjs/59078789#59078789", "title": "How do I dynamically add questions to Inquirer JS during execution, using rxjs?", "body": "<p>So thanks to some inspiration from <a href=\"http://janabeck.com/blog/2017/02/05/infinite-interactivity-with-Inquirer/\" rel=\"nofollow noreferrer\">this blog post by jana e. beck</a>, I made the code I needed. The examples and tips from jana was a little out of date, where using Subject from rxjs would no longer work for some reason, at least it did not work for me. This was easily fixed however by storing the emitter outside the Observer creation callback. Remember to add rxjs as a dependency to your project (same as the one InquirerJS is currently using probably helps).</p>\n\n<pre><code>const inquirer = require(\"inquirer\");\nvar { Observable } = require(\"rxjs\");\n\nlet emitter;\n\nvar prompts = Observable.create(function(e) {\n  emitter = e;\n  // need to start with at least one question here\n  emitter.next({\n    type: \"list\",\n    name: \"fruits\",\n    message: \"What is your favorite fruit?\",\n    choices: [\n      {\n        name: \"Banana\"\n      },\n      {\n        name: \"Apple\"\n      },\n      {\n        name: \"Pear\"\n      }\n    ]\n  });\n});\n\nlet times = 0;\n\ninquirer.prompt(prompts).ui.process.subscribe(\n  q =&gt; {\n    let dots = new Array(times).fill(\".\").join(\"\");\n\n    if (q.answer.toLowerCase() === \"pear\") {\n      console.log(\"That's Great. I would never forget a Pear-eater.\");\n      emitter.complete();\n    }\n\n    emitter.next({\n      type: \"list\",\n      name: \"fruits\",\n      message:\n        \"Sorry, what is your favorite fruit? I forgot, was it \" +\n        q.answer +\n        \", or something else?\",\n      choices: [\n        {\n          name: \"Uh, Banana..\" + dots,\n          value: \"banana\"\n        },\n        {\n          name: \"Uh, Apple..\" + dots,\n          value: \"apple\"\n        },\n        {\n          name: \"Pear!\",\n          value: \"pear\"\n        }\n      ]\n    });\n\n    times++;\n  },\n  error =&gt; {\n    console.log(\"Hm, an error happened. Why?\");\n  },\n  complete =&gt; {\n    console.log(\"I think we are done now.\");\n  }\n);\n</code></pre>\n\n<p>This prompt along with the blog post should be what you need to get started. Remember that you can queue up multiple questions in one go, should you want to.</p>\n\n<p>When you are done, you put <code>emitter.complete();</code> somewhere to end the prompt.</p>\n"}], "owner": {"reputation": 421, "user_id": 7546562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glKig.jpg?s=128&g=1", "display_name": "William Bernting", "link": "https://stackoverflow.com/users/7546562/william-bernting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1025, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1600786369, "creation_date": 1574890661, "question_id": 59078788, "link": "https://stackoverflow.com/questions/59078788/how-do-i-dynamically-add-questions-to-inquirer-js-during-execution-using-rxjs", "title": "How do I dynamically add questions to Inquirer JS during execution, using rxjs?", "body": "<p>I want to ask questions to the user without having all the questions lined up immediately.</p>\n\n<p>The documentation mentions rxjs but I feel there is a gap in the documentation on how to properly add questions while prompts are being executed, or at least it did not quite work for me.</p>\n\n<p><a href=\"https://www.npmjs.com/package/inquirer#reactive-interface\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/inquirer#reactive-interface</a></p>\n\n<blockquote>\n  <p>Internally, Inquirer uses the JS reactive extension to handle events\n  and async flows.</p>\n  \n  <p>This mean you can take advantage of this feature to provide more\n  advanced flows. For example, you can dynamically add questions to be\n  asked:</p>\n</blockquote>\n\n<pre><code>var prompts = new Rx.Subject();\ninquirer.prompt(prompts);\n\n// At some point in the future, push new questions\nprompts.next({\n  /* question... */\n});\nprompts.next({\n  /* question... */\n});\n\n// When you're done\nprompts.complete();\n</code></pre>\n\n<blockquote>\n  <p>And using the return value process property, you can access more fine\n  grained callbacks:</p>\n</blockquote>\n\n<pre><code>inquirer.prompt(prompts).ui.process.subscribe(onEachAnswer, onError, onComplete);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "graph", "cytoscape.js"], "answers": [{"comments": [{"owner": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1576751063, "post_id": 59118413, "comment_id": 105003023, "body": "what were the properties needed? I&#39;m using that layout without any other parameters... maybe it was another problem?"}, {"owner": {"reputation": 31, "user_id": 11197376, "user_type": "registered", "profile_image": "https://graph.facebook.com/2369119356491350/picture?type=large", "display_name": "Jander Silva", "link": "https://stackoverflow.com/users/11197376/jander-silva"}, "reply_to_user": {"reputation": 7340, "user_id": 1146785, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/l51PO.jpg?s=128&g=1", "display_name": "dcsan", "link": "https://stackoverflow.com/users/1146785/dcsan"}, "edited": false, "score": 0, "creation_date": 1578675764, "post_id": 59118413, "comment_id": 105528856, "body": "@dcsan, I just added those properties that I writed on the answer above. I used the CytoscapeJs for a small project so I don&#39;t know much about it."}], "tags": [], "owner": {"reputation": 31, "user_id": 11197376, "user_type": "registered", "profile_image": "https://graph.facebook.com/2369119356491350/picture?type=large", "display_name": "Jander Silva", "link": "https://stackoverflow.com/users/11197376/jander-silva"}, "is_accepted": true, "score": 1, "last_activity_date": 1575133770, "creation_date": 1575133770, "answer_id": 59118413, "question_id": 59078742, "link": "https://stackoverflow.com/questions/59078742/problem-with-layouts-cystoscapejs-with-react/59118413#59118413", "title": "Problem with Layout&#39;s CystoscapeJs with React", "body": "<p>I have solved the problem. The React Cytoscape's documentation doesn't inform that it was necessary another props for the layout works. So I got an example from the Cytoscape official documentation.</p>\n\n<pre><code>const layout = {\n        name: 'cose',\n        ready: function(){},\n        stop: function(){},\n        animate: true,\n        animationEasing: undefined,\n        animationDuration: undefined,\n        animateFilter: function ( node, i ){ return true; },\n        animationThreshold: 250,\n        refresh: 20,\n        fit: true,\n        padding: 30,\n        boundingBox: undefined,\n        nodeDimensionsIncludeLabels: false,\n        randomize: false,\n        componentSpacing: 40,\n        nodeRepulsion: function( node ){ return 2048; },\n        nodeOverlap: 4,\n        edgeElasticity: function( edge ){ return 32; },\n        nestingFactor: 1.2,\n        gravity: 1,\n        numIter: 1000,\n        initialTemp: 1000,\n        coolingFactor: 0.99,\n        minTemp: 1.0\n    };\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11197376, "user_type": "registered", "profile_image": "https://graph.facebook.com/2369119356491350/picture?type=large", "display_name": "Jander Silva", "link": "https://stackoverflow.com/users/11197376/jander-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 59118413, "answer_count": 1, "score": 1, "last_activity_date": 1575279073, "creation_date": 1574890463, "last_edit_date": 1575279073, "question_id": 59078742, "link": "https://stackoverflow.com/questions/59078742/problem-with-layouts-cystoscapejs-with-react", "title": "Problem with Layout&#39;s CystoscapeJs with React", "body": "<p>I'm trying to use the \"cose\" or \"cose-bilkent\" for the Graph Layout, but when using \"cose\", nothing happens and using \"cose-bilkent\" says: </p>\n\n<p><em>\"Error: No such layout <code>cose-bilkent</code> found.  Did you forget to import it and <code>cytoscape.use()</code> it?\"</em></p>\n\n<p>And I did use it, and installed the cose-bilkent's package.</p>\n\n<pre><code>import React, { Component } from 'react';\nimport api from '../../services/api';\n\nimport Cytoscape from 'cytoscape';\nimport CytoscapeComponent from 'react-cytoscapejs';\nimport CoseBilkent from 'cytoscape-cose-bilkent';\n\nCytoscape.use( CoseBilkent );\n\nexport default class Demo extends Component {\n\n  state = {\n    w: 0,\n     h: 0,\n\n     elements: [],\n\n     allBooks: [],\n     allAuthors: [],\n  }\n\n  render() {\n\n    const layout = {\n        name: 'cose-bilkent',\n    };\n\n    return(\n         &lt;div&gt;\n        &lt;CytoscapeComponent\n                elements={this.state.elements}\n            style={{ width: this.state.w, height: this.state.h }}\n                cy={(cy) =&gt; {this.cy = cy}}\n                layout={layout}\n        /&gt;\n      &lt;/div&gt;\n\n\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets", "stack"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1574894891, "post_id": 59078734, "comment_id": 104395997, "body": "Although I&#39;m not sure whether I could correctly understand about your goal, for example, how about creating the action log with OnEdit event trigger and OnChange event trigger for Google Apps Script? When the event trigger is used, when users edit the Google Spreadsheet, the log for each action can be retrieved. How about creating the undo/redo function using this? If I misunderstood your goal, I apologize. <a href=\"https://developers.google.com/apps-script/guides/triggers\" rel=\"nofollow noreferrer\">Ref1</a>, <a href=\"https://developers.google.com/apps-script/guides/triggers/installable\" rel=\"nofollow noreferrer\">Ref2</a>"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1574901974, "post_id": 59078734, "comment_id": 104397544, "body": "@Tanaike yes, that would be great actually. Could you show an example script that logs the last undo/redo action?"}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 1, "creation_date": 1574902176, "post_id": 59078734, "comment_id": 104397585, "body": "Thank you for replying. Before I prepare the sample script, I have what I would like to confirm. In this case, Google Apps Script is used. Is this included in the direction you expect?"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 1, "creation_date": 1574902199, "post_id": 59078734, "comment_id": 104397590, "body": "@Tanaike that&#39;s fine -- I&#39;m more interested in just seeing the data structure that would be logged. Maybe just show a basic log for adding a cell value or doing a find-replace on multiple cells."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1574911075, "post_id": 59078734, "comment_id": 104399178, "body": "I proposed a sample script as an answer. Could you please confirm it? If I misunderstood your goal and that was not the direction you want, I apologize."}], "answers": [{"tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1574911983, "last_edit_date": 1574911983, "creation_date": 1574911072, "answer_id": 59081246, "question_id": 59078734, "link": "https://stackoverflow.com/questions/59078734/google-sheets-undo-redo-function/59081246#59081246", "title": "Google Sheets undo/redo function", "body": "<ul>\n<li>You want to achieve the functions for undo and redo for the Google Spreadsheet.</li>\n<li>You can use Google Apps Script.</li>\n</ul>\n\n<p>I could understand like above. For this, how about this sample script? So please think of this as just one of several possible answers.</p>\n\n<h2>Usage:</h2>\n\n<p>Please do the following flow for using the sample script.</p>\n\n<ol>\n<li>Create new Spreadsheet and open the script editor.\n\n<ul>\n<li>If the 1st tab is not the name of <code>Sheet1</code>, please change it to <code>Sheet1</code>. In this sample script, as a test situation, the undo and redo functions for running to the sheet of <code>Sheet1</code> in the active Spreadsheet. Please be careful this.</li>\n</ul></li>\n<li>Copy and paste the following sample script to the script editor, and save the script.</li>\n<li>Install the installable OnEdit event trigger to the function <code>installedOnEdit</code>.\n\n<ul>\n<li>You can see the document for doing this at <a href=\"https://developers.google.com/apps-script/guides/triggers/installable#managing_triggers_manually\" rel=\"nofollow noreferrer\">here</a>. Please set <code>installedOnEdit</code> as OnEdit event trigger.</li>\n<li>When you install the installable OnEdit event trigger, the authorization screen is opened. So please authorize the scopes.</li>\n</ul></li>\n<li>Please close the Spreadsheet and reopen the Spreadsheet. By this, <code>onOpen()</code> is run by the simple trigger. And <code>offset</code> is cleared. And then, please open the script editor.</li>\n<li>At the Spreadsheet, put manually \"foo\" to the cell \"A1\".\n\n<ul>\n<li>By this, the Spreadsheet of <code>logSpreadsheet</code> is created to the root folder. This is used as the log.</li>\n<li>So only this one time, please wait for creating the Spreadsheet.</li>\n</ul></li>\n<li>After you confirmed the created Spreadsheet at the root folder, put manually \"bar\" to the cell \"A1\".</li>\n<li><p>Put manually \"baz\" to the cell \"A1\".</p>\n\n<ul>\n<li><p>At this time, when you see the log Spreadsheet, you can see the following values to the cell \"A1:A3\". This is used for undo and redo function.</p>\n\n<pre><code>{\"range\":\"A1\",\"value\":\"foo\",\"oldValue\":\"\"}\n{\"range\":\"A1\",\"value\":\"bar\",\"oldValue\":\"foo\"}\n{\"range\":\"A1\",\"value\":\"baz\",\"oldValue\":\"bar\"}\n</code></pre></li>\n</ul></li>\n<li><p>Run the function <code>undo</code> at the script editor.</p>\n\n<ul>\n<li>By this, the value of cell \"A1\" is changed from <code>baz</code> to <code>bar</code>.</li>\n</ul></li>\n<li>Run the function <code>undo</code> at the script editor.\n\n<ul>\n<li>By this, the value of cell \"A1\" is changed from <code>bar</code> to <code>foo</code>.</li>\n</ul></li>\n<li>Run the function <code>undo</code> at the script editor.\n\n<ul>\n<li>By this, the value of cell \"A1\" is changed from <code>foo</code> to the empty. Because the initial situation is the empty.</li>\n</ul></li>\n<li>Run the function <code>redo</code> at the script editor.\n\n<ul>\n<li>By this, the value of cell \"A1\" is changed from <code>foo</code> to <code>bar</code>.</li>\n</ul></li>\n<li>Run the function <code>redo</code> at the script editor.\n\n<ul>\n<li>By this, the value of cell \"A1\" is changed from <code>bar</code> to <code>baz</code>.</li>\n</ul></li>\n<li>Run the function <code>redo</code> at the script editor.\n\n<ul>\n<li>By this, the value of cell \"A1\" is not changed. Because this situation is the latest one.</li>\n</ul></li>\n</ol>\n\n<h2>Sample script:</h2>\n\n<pre><code>var sheet = SpreadsheetApp.getActiveSpreadsheet().getSheetByName(\"Sheet1\");\nvar prop = PropertiesService.getScriptProperties();\n\nfunction onOpen() {\n  prop.setProperty(\"offset\", \"0\");\n}\n\nfunction getSheet() {\n  var logId = prop.getProperty(\"logSpreadsheetId\");\n  if (logId) {\n    return SpreadsheetApp.openById(logId).getSheets()[0];\n  }\n  throw new Error(\"Please edit a cell in the Spreadsheet. By this, the Spreadsheet for logging is created.\");\n}\n\n// Undo function\nfunction undo() {\n  var logsheet = getSheet();\n  var offset = Number(prop.getProperty(\"offset\"));\n  var lastRow = logsheet.getLastRow();\n  if (lastRow + offset &gt; 0) {\n    var log = logsheet.getRange(lastRow, 1).offset(offset, 0).getValue();\n    var obj = JSON.parse(log);\n    sheet.getRange(obj.range).setValue(obj.oldValue);\n    prop.setProperty(\"offset\", offset - 1);\n  }\n}\n\n// Redo function\nfunction redo() {\n  var logsheet = getSheet();\n  var offset = Number(prop.getProperty(\"offset\")) + 1;\n  var lastRow = logsheet.getLastRow();\n  if (lastRow + offset &lt;= lastRow) {\n    var log = logsheet.getRange(lastRow, 1).offset(offset, 0).getValue();\n    var obj = JSON.parse(log);\n    sheet.getRange(obj.range).setValue(obj.value);\n    prop.setProperty(\"offset\", offset);\n  }\n}\n\n// Please set the installable OnEdit event trigger to this function.\nfunction installedOnEdit(e) {\n  var logId = prop.getProperty(\"logSpreadsheetId\")\n  var ss;\n  if (logId) {\n    ss = SpreadsheetApp.openById(logId);\n  } else {\n    ss = SpreadsheetApp.create(\"logSpreadsheet\");\n    prop.setProperty(\"logSpreadsheetId\", ss.getId());\n  }\n  var log = {range: e.range.getA1Notation(), value: \"value\" in e ? e.value : \"\", oldValue: \"oldValue\" in e ? e.oldValue : \"\"};\n  ss.getSheets()[0].appendRow([JSON.stringify(log)]);\n}\n</code></pre>\n\n<h2>Note:</h2>\n\n<ul>\n<li>This is a simple sample script. Unfortunately, the complicated actions might not be able to be used. For example, in the current script cannot use to edit the multiple cells. I deeply apologize for this. When you want to add more complicated  actions, it is required to modify the script for each situation. Please be careful this.</li>\n<li>In the current stage, when the cell value is deleted by clicking the delete button, the old value is not included in the event object. So when you want to test the delete of value, please click the cell and delete each character in the cell by the backspace button. By this, the old value is included in the event object. Please be careful this.</li>\n<li>I think that if you want to make more complicated actions, to overwrite the Spreadsheet with the revision data might be suitable. <a href=\"https://developers.google.com/drive/api/v3/reference/revisions\" rel=\"nofollow noreferrer\">Ref</a></li>\n</ul>\n\n<h2>Reference:</h2>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/guides/triggers/installable\" rel=\"nofollow noreferrer\">Installable Triggers</a></li>\n</ul>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 1, "accepted_answer_id": 59081246, "answer_count": 1, "score": 1, "last_activity_date": 1595508764, "creation_date": 1574890404, "last_edit_date": 1595508764, "question_id": 59078734, "link": "https://stackoverflow.com/questions/59078734/google-sheets-undo-redo-function", "title": "Google Sheets undo/redo function", "body": "<p>I was looking through the network tab to see if redo/undo data is sent to the server in Google Sheets, and it seems it is not -- it seems it is local to the local user/device that is modifying the information.</p>\n\n<p>What might the data structure look like to implement the undo/redo functionality? My guess is it would be a stack (i.e., array) with the last undo-able action pushed to the stack, something like this:</p>\n\n<pre><code>actions = [\n    action_1,\n    action_2\n]\n</code></pre>\n\n<p>But what would the actual data structure look like for each of these actions? I suppose for a basic modification of a cell the text could be stored, but there are just so many possible things to do in Google Sheets, so it seems the 'action' could be almost infinitely complex.</p>\n"}, {"tags": ["javascript", "arrays", "json", "react-native", "axios"], "answers": [{"tags": [], "owner": {"reputation": 49, "user_id": 11319456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da223b47689c36265e59dee9b782c12?s=128&d=identicon&r=PG&f=1", "display_name": "leandror", "link": "https://stackoverflow.com/users/11319456/leandror"}, "is_accepted": true, "score": 1, "last_activity_date": 1575416434, "creation_date": 1575416434, "answer_id": 59167003, "question_id": 59078656, "link": "https://stackoverflow.com/questions/59078656/axios-return-a-strange-array-in-response-to-request/59167003#59167003", "title": "Axios return a strange array in response to request", "body": "<p>To make a query with the filter without Firebase it is necessary to use some different parameters. I wasn't using these parameters, so I got this weird data in response. To perform a query correctly and need to modify the same. Thus we have:</p>\n\n<pre><code>axios.get(`/posts.json?orderBy=\"userid\"&amp;equalTo=\"${this.props.myid}\"`)\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11319456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4da223b47689c36265e59dee9b782c12?s=128&d=identicon&r=PG&f=1", "display_name": "leandror", "link": "https://stackoverflow.com/users/11319456/leandror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 59167003, "answer_count": 1, "score": 0, "last_activity_date": 1575416434, "creation_date": 1574889960, "last_edit_date": 1574890406, "question_id": 59078656, "link": "https://stackoverflow.com/questions/59078656/axios-return-a-strange-array-in-response-to-request", "title": "Axios return a strange array in response to request", "body": "<p>I am trying to make a request on my database; I am using userid as an attribute to filter the response. The 'myid' used comes from my redux. When executing this request I have a somewhat strange array as an answer and I don't have the correct answer with the posts made by the user.</p>\n\n<p>Request Response: </p>\n\n<p><a href=\"https://i.stack.imgur.com/iO9Vh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iO9Vh.png\" alt=\"enter image description here\"></a></p>\n\n<pre><code>import axios from 'axios'\nimport { NavigationEvents } from 'react-navigation'\nimport Post from '../components/Posts/post'\n\nconst mapStateToProps =({user}) =&gt; {\n  return {\n    email:user.email,\n    name:user.name,\n    myid:user.id\n  }\n}\n\n class MyPosts extends Component {\n\n  state={\n    posts:[],\n  }\n\n  getPosts  = () =&gt;{\n    console.log(this.props.myid)\n    axios.get(`/posts?userid=${this.props.myid}.json`)\n      .then( res =&gt; {\n        console.log(res)\n        const rawPosts = res.data\n        const posts =[]\n          for (let key in rawPosts) {\n            posts.push({\n              ...rawPosts[key],\n              id: key\n            })\n          }\n          this.setState({ posts: posts})\n        }\n      )\n      .catch (err =&gt; console.log(err))\n\n  }\n  componentDidMount = () =&gt; {\n    this.getPosts()\n  }\n\n  render () {\n\n\n    return (\n      &lt;View style={styles.containerAll}&gt;\n        &lt;NavigationEvents onDidFocus={() =&gt; this.getPosts()} /&gt;\n        {console.log('Log do Return', this.state.posts)}\n        &lt;View&gt;\n          &lt;Header style={{ backgroundColor: '#006bb3' }}&gt;\n            &lt;Left&gt;\n              &lt;Icon\n                name=\"md-menu\"\n                type='Ionicons'\n                style={{ color: \"#FFF\" }}\n                onPress={() =&gt; this.props.navigation.openDrawer()}\n              /&gt;\n            &lt;/Left&gt;\n            &lt;Body&gt;\n              &lt;Title&gt;Meus an\u00fancios&lt;/Title&gt;\n            &lt;/Body&gt;\n            &lt;Right&gt;\n\n            &lt;/Right&gt;\n          &lt;/Header&gt;\n        &lt;/View&gt;\n        &lt;View style={styles.container}&gt;\n          &lt;View style={{marginLeft:0, marginTop:15}}&gt;\n            &lt;FlatList\n              data={this.state.posts}\n              keyExtractor={item =&gt;`${item.id}`}\n              renderItem={({item}) =&gt;\n              &lt;TouchableOpacity \n                activeOpacity={0.7}\n                onPress={() =&gt; this.props.navigation.navigate('Detail',{item :item})}&gt;\n                &lt;Post key={item.id} {...item} /&gt;\n              &lt;/TouchableOpacity&gt;\n              }\n            /&gt;\n          &lt;/View&gt;\n        &lt;/View&gt;\n      &lt;/View&gt;\n    )\n  }\n}\nexport default connect(mapStateToProps) (MyPosts)\n</code></pre>\n\n<p>I'm using:</p>\n\n<ul>\n<li>react-redux\": 7.1.1,</li>\n<li>redux\": 4.0.4,</li>\n<li>react\": 16.8.6,</li>\n<li>react-native\": 0.60.4\",</li>\n<li>axios\": 0.19.0,</li>\n</ul>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "is_accepted": false, "score": 0, "last_activity_date": 1574891844, "creation_date": 1574891844, "answer_id": 59078985, "question_id": 59078605, "link": "https://stackoverflow.com/questions/59078605/dynamically-add-button-d3-js/59078985#59078985", "title": "Dynamically add button d3.js", "body": "<p>What happens when you:</p>\n\n<pre><code>some_div_selection.append(\"button\").text(\"+\").on(\"click\", function(){console.log(\"You clicked me\")});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 165, "user_id": 4825206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-W4QVgGUUPgY/AAAAAAAAAAI/AAAAAAAAApg/fXCxdZNiI9k/photo.jpg?sz=128", "display_name": "Koala Bear", "link": "https://stackoverflow.com/users/4825206/koala-bear"}, "edited": false, "score": 0, "creation_date": 1575306052, "post_id": 59080172, "comment_id": 104513326, "body": "That makes a lot of sense now.  I&#39;m not particularly experienced with web development and couldn&#39;t figure out why the function was being immediately executed, this clicked the gears into place."}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 2, "last_activity_date": 1574910729, "last_edit_date": 1574910729, "creation_date": 1574900568, "answer_id": 59080172, "question_id": 59078605, "link": "https://stackoverflow.com/questions/59078605/dynamically-add-button-d3-js/59080172#59080172", "title": "Dynamically add button d3.js", "body": "<p>I'm a D3 programmer and I must say that in all those years I never saw a single D3 code using the approach you claim is the only one you have seen, which is setting the <code>onclick</code> attribute:</p>\n\n<pre><code>selection.attr(\"onclick\", \"foo()\")\n</code></pre>\n\n<p>It does work, but that's not idiomatic D3. In D3, we use the <code>on</code> method. However, the problem with your first snippet is that it's calling the function immediately:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>d3.select(\"body\")\r\n  .append(\"button\")\r\n  .html(\"Click me\")\r\n  .on(\"click\", console.log(\"you clicked me\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can see that the console displays <em>\"you clicked me\"</em> without any click. So, for that to work, we should not call the function. Funnily enough, <code>console.log</code> accepts 3 arguments, have a look at what happens if we don't call <code>console.log</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>d3.select(\"body\")\r\n  .append(\"button\")\r\n  .html(\"Click me\")\r\n  .on(\"click\", console.log);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now <code>console.log</code> works when you click the button, because you passed it as the function reference. However, the first value is <code>undefined</code> because you didn't pass any string to <code>console.log</code>. </p>\n\n<p>That being said, what you want is:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>d3.select(\"body\")\r\n  .append(\"button\")\r\n  .html(\"Click me\")\r\n  .on(\"click\", () =&gt; {\r\n    console.log(\"you clicked me\")\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now you're passing a proper function to the <code>click</code> event, which will be called when you click.</p>\n"}], "owner": {"reputation": 165, "user_id": 4825206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh4.googleusercontent.com/-W4QVgGUUPgY/AAAAAAAAAAI/AAAAAAAAApg/fXCxdZNiI9k/photo.jpg?sz=128", "display_name": "Koala Bear", "link": "https://stackoverflow.com/users/4825206/koala-bear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 59080172, "answer_count": 2, "score": 2, "last_activity_date": 1574910729, "creation_date": 1574889659, "question_id": 59078605, "link": "https://stackoverflow.com/questions/59078605/dynamically-add-button-d3-js", "title": "Dynamically add button d3.js", "body": "<p>This seems like a really trivial question, but I cannot for the life of me find a satisfying answer.</p>\n\n<p>How do I add a button with a bound function WITHOUT hardcoding it into the page or string-ifying the \"onclick\" attribute?</p>\n\n<p>i.e.</p>\n\n<pre><code>some_div_selection.append(\"button\").text(\"+\").on(\"click\", console.log(\"You clicked me\"));\n</code></pre>\n\n<p>instead the only way I've seen people do this is</p>\n\n<pre><code>some_div_selection.append(\"button\").attr(\"onclick\", \"foobar()\").text(\"+\")\n</code></pre>\n\n<p>Which seems very clunky and brittle.  Do I need to give the button some kind of data or what?</p>\n"}, {"tags": ["javascript", "macros", "applescript"], "comments": [{"owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1574892907, "post_id": 59078570, "comment_id": 104395386, "body": "Your <code>clickID</code> handler needs to define a parameter instead of a string, and then needs to use it.  Where are you getting the element ID?"}, {"owner": {"reputation": 1, "user_id": 12448169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf740d1828e17b4308a0ceb84d1d05a?s=128&d=identicon&r=PG&f=1", "display_name": "Crisp Lines", "link": "https://stackoverflow.com/users/12448169/crisp-lines"}, "reply_to_user": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "edited": false, "score": 0, "creation_date": 1574895051, "post_id": 59078570, "comment_id": 104396043, "body": "By inspecting the page and doing my best to decipher which ID it is that I need to click. U mean the first line of code that says: <code>to clickID(&quot;id&quot;)</code> If not a string there, then what?"}], "answers": [{"tags": [], "owner": {"reputation": 2282, "user_id": 10853463, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kg5ZZ.jpg?s=128&g=1", "display_name": "red_menace", "link": "https://stackoverflow.com/users/10853463/red-menace"}, "is_accepted": false, "score": 0, "last_activity_date": 1574895828, "creation_date": 1574895828, "answer_id": 59079586, "question_id": 59078570, "link": "https://stackoverflow.com/questions/59078570/applescript-clickid-script-problems/59079586#59079586", "title": "AppleScript clickID script problems", "body": "<p>In a handler definition, parameters (if any) are declared that will hold the values passed to it.  In your posted snippet, the string \"theID\" would be passed to the <code>clickID</code> handler, and the parameter variable would be used wherever you want to use that string, for example:</p>\n\n<pre><code>to clickID(someID)\n    tell application \"Safari\"\n        do JavaScript \"document.getElementById(\\\"\" &amp; someID &amp; \"\\\").firstElementChild.click();\" in document 1\n    end tell\nend clickID\n\nopen location \"url\" -- activates default application\n\ntell application \"System Events\"\n    tell application process \"Safari\" -- click element\n        delay 3\n        clickID(\"theid\")\n    end tell\nend tell\n</code></pre>\n\n<p>See the <a href=\"https://developer.apple.com/library/archive/documentation/AppleScript/Conceptual/AppleScriptLangGuide/conceptual/ASLR_about_handlers.html#//apple_ref/doc/uid/TP40000983-CH206-CJBIDBJH\" rel=\"nofollow noreferrer\">AppleScript Language Guide</a> for more information.</p>\n"}], "owner": {"reputation": 1, "user_id": 12448169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcf740d1828e17b4308a0ceb84d1d05a?s=128&d=identicon&r=PG&f=1", "display_name": "Crisp Lines", "link": "https://stackoverflow.com/users/12448169/crisp-lines"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574921012, "creation_date": 1574889483, "last_edit_date": 1574921012, "question_id": 59078570, "link": "https://stackoverflow.com/questions/59078570/applescript-clickid-script-problems", "title": "AppleScript clickID script problems", "body": "<p>Okay I've been tinkering on this for a week now to no avail. Note: I am a beginner at scripting. </p>\n\n<p>I am trying to make a script that navigates to a site, clicks the Search Button (which expands the search bar in order to type), &amp; then types a search word.</p>\n\n<p>Eventually, I want it to start exporting results to a document... but I cant seem to make the ID work or anything... Is it because it is a special type of search bar, not standard?</p>\n\n<p>I've used various guides over the Internet and here's what I have managed:</p>\n\n<pre><code>to clickID(\"id\")\n    tell application \"Safari\"\n        do JavaScript \"document.getElementById('theid').firstElementChild.click();\" in document 1\n    end tell\nend clickID\n\n-- Opening Safari to url\n\ntell application \"Safari\"\n    activate\nend tell\n\nopen location \"url\"\n\ndelay 3\n\ntell application \"System Events\"\n    -- Open URL\n    tell application process \"Safari\"\n        delay 3\n        clickID(\"theid\")\n    end tell\nend tell\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "module", "async-await"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1574892595, "post_id": 59078538, "comment_id": 104395282, "body": "Assign to <code>module.exports.IO</code>, instead of your local <code>io</code> variable - the exports property is not a getter or alias. On the other hand, that&#39;s useless as anyone who imports your module won&#39;t know when the value changes. So instead of having a boolean <code>IO</code> export, export a promise for the value."}, {"owner": {"reputation": 29, "user_id": 11986904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PLvcL_7awHA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcs9t-_zseq5VLwX--9Zc7dJhcPqA/photo.jpg?sz=128", "display_name": "Cu di", "link": "https://stackoverflow.com/users/11986904/cu-di"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1574894081, "post_id": 59078538, "comment_id": 104395773, "body": "io = false; i am using that for   if(io) io.to(socketId).emit()"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1574894272, "post_id": 59078538, "comment_id": 104395823, "body": "So you actually want to export <code>emitUser</code> instead of <code>io</code>, and have it fail silently when the initialisation isn&#39;t done yet?"}], "owner": {"reputation": 29, "user_id": 11986904, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-PLvcL_7awHA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcs9t-_zseq5VLwX--9Zc7dJhcPqA/photo.jpg?sz=128", "display_name": "Cu di", "link": "https://stackoverflow.com/users/11986904/cu-di"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574889299, "creation_date": 1574889299, "question_id": 59078538, "link": "https://stackoverflow.com/questions/59078538/how-use-module-export-variable-async-await-on-the-nodejs", "title": "How Use Module.Export Variable Async/Await on the NodeJs", "body": "<p>app.js</p>\n\n<pre><code>module.exports = {\n    IO: io,\n    SETTINGS: SETTINGS,\n    _ADMINSOCKETIDS: sys._TEMP._ADMINSOCKETIDS\n}\n</code></pre>\n\n<p>func.js</p>\n\n<pre><code>let io = false;\nsetTimeout(function () {\n    io =  require('../app.js').IO;\n    console.log(io); // works\n},300);\n\nfunction emitUser(socketId,text){\n    io.to(socketId).emit('sayHello', {data:text});\n}\n</code></pre>\n\n<p>how would be possible that turn it  async system, module.export &amp; require </p>\n\n<p>i must wait variable io from app.js for use in func.js module</p>\n"}, {"tags": ["javascript", "arrays", "recursion"], "comments": [{"owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "edited": false, "score": 0, "creation_date": 1574892047, "post_id": 59078536, "comment_id": 104395123, "body": "Take a look at this: <a href=\"https://jsfiddle.net/e3skjtrn/1\" rel=\"nofollow noreferrer\">jsfiddle.net/e3skjtrn/1</a>"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575303756, "post_id": 59078536, "comment_id": 104512192, "body": "Another <a href=\"https://stackoverflow.com/q/57946428\">Q</a> &amp; <a href=\"https://stackoverflow.com/a/57949870\">A</a> gives some good approaches.  (I like my solutions involving a slice-and-transpose recursion.)  And there are many other approaches in many languages in <a href=\"https://stackoverflow.com/questions/726756\">stackoverflow.com/questions/726756</a>"}], "answers": [{"comments": [{"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 0, "creation_date": 1574927769, "post_id": 59078608, "comment_id": 104404054, "body": "This seems like the only answer that actually attempts to answer the OP&#39;s question :)"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 1, "last_activity_date": 1574889687, "creation_date": 1574889687, "answer_id": 59078608, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59078608#59078608", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>One option is to define another function inside <code>snail</code>, which calls itself recursively, while also defining the <code>outputarray</code> inside <code>snail</code>. That way, <code>outputarray</code> isn't exposed to the outer scope, but the recursive function can still see it.</p>\n\n<p>Also note that <code>splice</code> returns an array, so right now, your <code>outputarray</code> gets composed of an array of arrays. Spread into <code>push</code> instead to fix it, so that the <code>outputarray</code> becomes an array of numbers:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\r\n  [1, 2, 3, 4],\r\n  [12, 13, 14, 5],\r\n  [11, 16, 15, 6],\r\n  [10, 9, 8, 7]\r\n];\r\n\r\nconst snail = (array) =&gt; {\r\n  const outputarray = [];\r\n  const iter = () =&gt; {\r\n    if (array.length == 0) {\r\n      return\r\n    }\r\n    var n = array[0].length - 1;\r\n    for (var i = 0; i &lt;= n; i++) {\r\n      outputarray.push(...array[0].splice(0, 1));\r\n    }\r\n    for (var i = 1; i &lt;= n; i++) {\r\n      outputarray.push(...array[i].splice(n, 1));\r\n    }\r\n    for (var i = n - 1; i &gt;= 0; i--) {\r\n      outputarray.push(...array[n].splice(i, 1));\r\n    }\r\n    for (var i = n - 1; i &gt; 0; i--) {\r\n      outputarray.push(...array[i].splice(0, 1));\r\n    }\r\n    array.pop();\r\n    array.shift();\r\n    iter(array);\r\n  };\r\n  iter(array);\r\n  return outputarray;\r\n}\r\n\r\nconsole.log(snail(input));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": false, "score": 1, "last_activity_date": 1574891873, "creation_date": 1574891873, "answer_id": 59078993, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59078993#59078993", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>Here's a non-recursive approach that doesn't mutate the input <code>array</code>. It works by keeping track of the top-left coordinate <code>x, y</code> and the size <code>n</code> of the spiral.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>snail = function(array) {\r\n  const { length } = array;\r\n  const result = [];\r\n  let x = 0;\r\n  let y = 0;\r\n  let n = length;\r\n\r\n  while (n &gt; 0) {\r\n    // travel right from top-left of spiral\r\n    for (let i = x; i &lt; x + n; ++i) result.push(array[y][i]);\r\n\r\n    // shrink spiral and move top of spiral down\r\n    n--; y++;\r\n\r\n    // travel down from top-right of spiral\r\n    for (let i = y; i &lt; y + n; ++i) result.push(array[i][x + n]);\r\n\r\n    // travel left from bottom-right of spiral\r\n    for (let i = x + n - 1; i &gt;= x; --i) result.push(array[y + n - 1][i]);\r\n\r\n    // shrink spiral\r\n    n--;\r\n\r\n    // travel up from bottom-left of spiral\r\n    for (let i = y + n - 1; i &gt;= y; --i) result.push(array[i][x]);\r\n\r\n    // move left of spiral right\r\n    x++;\r\n  }\r\n\r\n  return result;\r\n}\r\n\r\nconsole.log(snail([[1, 2, 3, 4], [12, 13, 14, 5], [11, 16, 15, 6], [10, 9, 8, 7]]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1574892480, "creation_date": 1574892480, "answer_id": 59079101, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59079101#59079101", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>You could take some borders for the left, right, upper and lower indices and loop until no more indices are available.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function snail(array) {\r\n    var upper = 0,\r\n        lower = array.length - 1,\r\n        left = 0,\r\n        right = array[0].length - 1,\r\n        i = upper,\r\n        j = left,\r\n        result = [];\r\n\r\n    while (true) {\r\n        if (upper++ &gt; lower) break;\r\n\r\n        for (; j &lt; right; j++) result.push(array[i][j]);\r\n        if (right-- &lt; left) break;\r\n\r\n        for (; i &lt; lower; i++) result.push(array[i][j]);\r\n        if (lower-- &lt; upper) break;\r\n\r\n        for (; j &gt; left; j--) result.push(array[i][j]);\r\n        if (left++ &gt; right) break;\r\n\r\n        for (; i &gt; upper; i--) result.push(array[i][j]);\r\n    }\r\n\r\n    result.push(array[i][j]);\r\n    return result;\r\n}\r\n\r\nconsole.log(...snail([[1, 2, 3, 4], [12, 13, 14, 5], [11, 16, 15, 6], [10, 9, 8, 7]]));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 12398384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fY8dx.jpg?s=128&g=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/12398384/fabien"}, "is_accepted": false, "score": 0, "last_activity_date": 1574894562, "last_edit_date": 1574894562, "creation_date": 1574893316, "answer_id": 59079235, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59079235#59079235", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p><strong>Try this:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\r\n  [1, 2, 3, 4],\r\n  [12, 13, 14, 5],\r\n  [11, 16, 15, 6],\r\n  [10, 9, 8, 7]\r\n];\r\n\r\nfunction snail(array) {\r\n  var res = [];\r\n  \r\n  if (!array.length) return res;\r\n  var next = array.shift();\r\n  if (next) res = res.concat(next);\r\n  for (var i = 0; i &lt; array.length; i++) {\r\n    res.push(array[i].pop());\r\n  }\r\n  next = array.pop()\r\n  if (next) res = res.concat(next.reverse());\r\n  for (var i = array.length - 1; i &gt;= 0; i--) {\r\n    res.push(array[i].shift());\r\n  }\r\n\r\n  return res.concat(snail(array));\r\n}\r\nconsole.log(snail(input));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "edited": false, "score": 2, "creation_date": 1574912328, "post_id": 59079331, "comment_id": 104399478, "body": "I think the point was to traverse in a path of a spiral, not return a sorted list of values (e.g., switching 4 and 3 should result in [1, 2, 4, 3...etc.)."}], "tags": [], "owner": {"reputation": 45871, "user_id": 451969, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/EuJtr.jpg?s=128&g=1", "display_name": "Jared Farrish", "link": "https://stackoverflow.com/users/451969/jared-farrish"}, "is_accepted": false, "score": 0, "last_activity_date": 1574893923, "creation_date": 1574893923, "answer_id": 59079331, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59079331#59079331", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>This may not be according to the rules (or spirit?) of the kata, however, you can just glue it all together and sort.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function snail(trail) {\r\n  const numeric = (a, b) =&gt; a - b\r\n  const gather = (items, item) =&gt; items.push(parseInt(item, 10)) &amp;&amp; items\r\n  const inline = (route, points) =&gt; points.reduce(gather, route) &amp;&amp; route\r\n  const order = paths =&gt; paths.reduce(inline, []).sort(numeric)\r\n\r\n  return order(trail)\r\n}\r\n\r\nconst trail = [\r\n    [1, 2, 3, 4], \r\n    [12, 13, 14, 5], \r\n    [11, 16, 15, 6], \r\n    [10, 9, 8, 7]\r\n]\r\n\r\nconsole.log(JSON.stringify(snail(trail)))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575304117, "post_id": 59083082, "comment_id": 104512384, "body": "It should be noted, though, that this solution mutates the original.  To my mind, that&#39;s disqualifying.  (And yes, I know that this is easy to fix.)"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575304226, "post_id": 59083082, "comment_id": 104512445, "body": "@ScottSauyet mine isn&#39;t the only answer here that mutates the original, is it?"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575304447, "post_id": 59083082, "comment_id": 104512556, "body": "@ScottSauyet this is for demonstration only. I would prefer a more efficient solution in practice without transposition :)"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575305064, "post_id": 59083082, "comment_id": 104512873, "body": "No, just the first one I read.  And I recall you <a href=\"https://stackoverflow.com/a/57949438/1243641\">answering</a> an earlier version of this question in a non-mutating manner.  And as this is mostly a puzzle, I imagine, and not likely to run out of stack space or other resources, I&#39;d usually prefer the cleanest solution unless it proves impractically slow."}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575305759, "post_id": 59083082, "comment_id": 104513187, "body": "@ScottSauyet how do you define &quot;clean?&quot;"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575305889, "post_id": 59083082, "comment_id": 104513242, "body": "@ScottSauyet that earlier answer looks like making the turns was more of a puzzle than the puzzle itself :)"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575306327, "post_id": 59083082, "comment_id": 104513445, "body": "I don&#39;t try to define &quot;clean&quot;.  Like <a href=\"https://en.wikipedia.org/wiki/Jacobellis_v._Ohio#Supreme_Court\" rel=\"nofollow noreferrer\">Judge Potter Stewart</a> said, I know it when I see it.  I really like code that is simple in the <a href=\"https://www.infoq.com/presentations/Simple-Made-Easy/\" rel=\"nofollow noreferrer\">Rich Hickey</a> sense.  For instance here, I would prefer to define and use a rotation function and build this atop that, rather than merge its implementation into the function.  (And of course <code>rotate</code> can be built atop <code>transpose</code> and <code>reverse</code>...)"}, {"owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1575306684, "post_id": 59083082, "comment_id": 104513604, "body": "@ScottSauyet that&#39;s fair. And I like to go against the grain. Where someone champions clean I sometimes like to throw in dirty and vice versa."}], "tags": [], "owner": {"reputation": 20860, "user_id": 2034787, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/78471a5b1bfa8b48d2056ff99a875f50?s=128&d=identicon&r=PG", "display_name": "\u05d2\u05dc\u05e2\u05d3 \u05d1\u05e8\u05e7\u05df", "link": "https://stackoverflow.com/users/2034787/%d7%92%d7%9c%d7%a2%d7%93-%d7%91%d7%a8%d7%a7%d7%9f"}, "is_accepted": false, "score": 0, "last_activity_date": 1574923621, "last_edit_date": 1574923621, "creation_date": 1574923276, "answer_id": 59083082, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail/59083082#59083082", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>Here's my two cents, using the customary recursion:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function f(A){\r\n  return A.length &gt; 1 ? A.splice(0,1)[0].concat(\r\n    f(A[0].map((c, i) =&gt; A.map(r =&gt; r[i])).reverse())) : A[0]\r\n}\r\n\r\nvar A = [[ 1, 2, 3, 4], [12,13,14, 5], [11,16,15, 6], [10, 9, 8, 7]]\r\n\r\nconsole.log(JSON.stringify(f(A)))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 61, "user_id": 5605398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a214a1e2d26f8736c1a056e2af76c3c?s=128&d=identicon&r=PG&f=1", "display_name": "FinnPegler", "link": "https://stackoverflow.com/users/5605398/finnpegler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 820, "favorite_count": 0, "answer_count": 6, "score": 3, "last_activity_date": 1574923621, "creation_date": 1574889287, "last_edit_date": 1574889847, "question_id": 59078536, "link": "https://stackoverflow.com/questions/59078536/recursion-problem-on-codewars-kata-snail-trail", "title": "Recursion problem on Codewars Kata - Snail Trail", "body": "<p>Very new to coding so please bear with me. I am attempting to solve this Kata on Codewars: <a href=\"https://www.codewars.com/kata/snail/train/javascript\" rel=\"nofollow noreferrer\">https://www.codewars.com/kata/snail/train/javascript</a></p>\n\n<p>Basically given an array like </p>\n\n<pre><code>[ \n    [1, 2, 3, 4], \n    [12,13,14,5], \n    [11,16,15,6], \n    [10,9, 8, 7]\n];\n</code></pre>\n\n<p>It would return <code>[1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]</code>.</p>\n\n<p>A snail trail spiraling around the outside of the matrix and inwards.</p>\n\n<p>I am just solving for the case where the matrix is n x n where n is > 1 and an even number for now.</p>\n\n<p>I got it working by declaring outputarray outside the function but I want that array to be declared within the function, hence the inclusion of this line: <code>var outputarray = outputarray || [];</code></p>\n\n<p>Not sure where I am going wrong. </p>\n\n<pre><code>snail = function(array) {\n  if (array.length == 0) {\n    return outputarray\n  }\n  var n = array[0].length - 1;\n  var outputarray = outputarray || [];\n  for (var i = 0; i &lt;= n; i++) {\n    outputarray.push(array[0].splice(0, 1));\n  }\n  for (var i = 1; i &lt;= n; i++) {\n    outputarray.push(array[i].splice(n, 1));\n  }\n  for (var i = n - 1; i &gt;= 0; i--) {\n    outputarray.push(array[n].splice(i, 1));\n  }\n  for (var i = n - 1; i &gt; 0; i--) {\n    outputarray.push(array[i].splice(0, 1));\n  }\n  array.pop();\n  array.shift();\n  snail(array);\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1574889404, "post_id": 59078534, "comment_id": 104394191, "body": "What is <code>Func</code>, is it another function? What would &quot;concatenating&quot; those functions (<code>e</code> and <code>func</code>) do?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1574889406, "post_id": 59078534, "comment_id": 104394193, "body": "What are the values of <code>e</code> and <code>Func</code>?  Also you&#39;re <code>callMe</code> isn&#39;t using <code>e</code> at all, so that&#39;s confusing too."}, {"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "edited": false, "score": 0, "creation_date": 1574889422, "post_id": 59078534, "comment_id": 104394203, "body": "Can you try to rephrase the question? It&#39;s not clear to me exactly what you&#39;re asking."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 2, "creation_date": 1574889684, "post_id": 59078534, "comment_id": 104394280, "body": "Your edit doesn&#39;t clarify things. Now what does <code>Argument</code> represent? Where does its value come from?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1574889874, "post_id": 59078534, "comment_id": 104394351, "body": "In the text of your question, you refer to <code>myArgument</code>, but in your code you have just <code>Argument</code>. Take some time to re-word your question and the code as it is still not clear as to what you are trying to do and where many of the apparent variables get their values from."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1574889914, "post_id": 59078534, "comment_id": 104394361, "body": "Please provide a <i>concrete</i> example of the arguments that <code>show</code> and <code>callMe</code> are supposed to get."}, {"owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1574889961, "post_id": 59078534, "comment_id": 104394378, "body": "guys let me clarify this with my original code..."}, {"owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574889993, "post_id": 59078534, "comment_id": 104394387, "body": "I&#39;m guessing the OP wants to add another argument (a string) to arguments. So if arguments is <code>{&#39;id&#39;: 0}</code> then the show function will get two arguments - one with the object and one with the string."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1574890234, "post_id": 59078534, "comment_id": 104394475, "body": "The original code doesn&#39;t help. If you don&#39;t want to place quotes around any value, then you would need to pass a variable the holds the string or you could pass a function call that returns a string."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1574890338, "post_id": 59078534, "comment_id": 104394527, "body": "Also, in your original code, you have <code>show(tutorial)</code>, but <code>tutorial</code> is not declared anywhere. This is what we&#39;re trying to say to you, your original premise doesn&#39;t make any sense, so we can&#39;t follow you to your ultimate goal."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1574890476, "post_id": 59078534, "comment_id": 104394576, "body": "And, your first <code>show()</code> function doesn&#39;t work simply because <code>Text</code>, <code>Sub</code>, and <code>Image</code> aren&#39;t declared as variables anywhere. It seems that this is your issue. You must declare all variables and give them values in order to use them."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1574890478, "post_id": 59078534, "comment_id": 104394577, "body": "I get the impression you don&#39;t want to concatenate anything but actually pass a second argument. It seems like you want to deduplicate your code and dynamically generate the class names based on the argument that is passed in. What I <i>think</i> you want: <code>function UpAnime(el, prefix) { el.classList.add(prefix + &quot;UpAnime&quot;); }</code> and elsewhere: <code>UpAnim(tutorialText, &#39;MainText&#39;); UpAnim(tutorialSub, &#39;SubText&#39;);</code>. I could be completely wrong though, your explanation of the problem and desired outcome are not clear."}, {"owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574890870, "post_id": 59078534, "comment_id": 104394718, "body": "You can&#39;t add strings to variable names in any programming language I know of. What you can do is to use strings to call properties inside objects or classes. So save your <code>tutorialText</code> element in the property <code>tutorial</code> inside the object <code>text</code>. Then you can refer to it inside method <code>show(e)</code> as <code>MainTextUpAnime(text[e]);</code>"}, {"owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1574891279, "post_id": 59078534, "comment_id": 104394848, "body": "Please have a look at my last update..."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1574891435, "post_id": 59078534, "comment_id": 104394908, "body": "<code>show(&quot;tutorial&quot;);</code> will always pass the same value to <code>show</code>. Unless you show us how <code>show</code> may be called with a different value, there isn&#39;t much we can do to help. Because as it is now, I would suggest to split the <code>show</code> function into two, <code>showTest()</code> and <code>showTutorial()</code>, and simple invoke one of those instead of <code>show</code>."}, {"owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "edited": false, "score": 0, "creation_date": 1574891523, "post_id": 59078534, "comment_id": 104394943, "body": "I can pass <code>show(&quot;test&quot;);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 1, "creation_date": 1574889881, "post_id": 59078629, "comment_id": 104394352, "body": "How do you know <code>arguments</code> is a string?"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574889916, "post_id": 59078629, "comment_id": 104394362, "body": "what is <code>arguments</code>?"}, {"owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574890088, "post_id": 59078629, "comment_id": 104394420, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "reply_to_user": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "edited": false, "score": 0, "creation_date": 1574890135, "post_id": 59078629, "comment_id": 104394428, "body": "I not operate on <code>arguments</code> object"}], "tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": -1, "last_activity_date": 1574890365, "last_edit_date": 1574890365, "creation_date": 1574889780, "answer_id": 59078629, "question_id": 59078534, "link": "https://stackoverflow.com/questions/59078534/pass-concatenated-argument-to-a-function/59078629#59078629", "title": "pass concatenated argument to a function", "body": "<p>You can concat arguments when you call your function (not inside it) so by</p>\n\n<pre><code>show(my + Argument);\n</code></pre>\n\n<h2>After question update</h2>\n\n<p>In your <code>show</code> function you use variables <code>Text, Sub, Image</code> which are not defined in code: </p>\n\n<pre><code>function show(e){\n  MainTextUpAnime(e+Text);\n  SubTextDownAnime(e+Sub);\n  ImageShowAnime(e+Image);\n}\n</code></pre>\n\n<p>this is one reason what it doesn't work. However is not good to use external variables inside function. If you want concat strings then try to use this:</p>\n\n<pre><code>function show(e, Text, Sub, Image){\n  MainTextUpAnime(e+Text);\n  SubTextDownAnime(e+Sub);\n  ImageShowAnime(e+Image);\n}\n</code></pre>\n\n<p>If you want to concat arrays, use</p>\n\n<pre><code>function show(e, Text, Sub, Image){\n  MainTextUpAnime(e.concat(Text));\n  SubTextDownAnime(e.concat(Sub));\n  ImageShowAnime(e.concat(Image));\n}\n</code></pre>\n"}], "owner": {"reputation": 2640, "user_id": 10715551, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8x4H1HHVIAo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hc2CYqXQnqd3r2sWKJNmN5NkurzQ/mo/photo.jpg?sz=128", "display_name": "Sara Ree", "link": "https://stackoverflow.com/users/10715551/sara-ree"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574918280, "creation_date": 1574889282, "last_edit_date": 1574891236, "question_id": 59078534, "link": "https://stackoverflow.com/questions/59078534/pass-concatenated-argument-to-a-function", "title": "pass concatenated argument to a function", "body": "<p>I know we can pass an argument to a function like this:</p>\n\n<pre><code>show(myArgument);\nfunction show(e){\n    callMe(e);\n}\n\nfunction callMe(e){\n    console.log('I got myArgument as the callMe argument');\n}\n</code></pre>\n\n<p>How can I concat myArgument as <code>callMe</code> argument here:</p>\n\n<pre><code>show(my);\nfunction show(e){\n    callMe(e+Argument);\n}\n\nfunction callMe(e){\n    console.log('I got myArgument as the callMe argument');\n}\n</code></pre>\n\n<p><strong>Note:</strong> I don't want myArgument as string like this:  <code>show(\"myArgument\")</code></p>\n\n<p>i want it to be like this: <code>show(myArgument)</code> </p>\n\n<p>Here is my original code: </p>\n\n<pre><code>let tutorialText = document.getElementById(\"tutorialText\");\nlet tutorialSub = document.getElementById(\"tutorialSub\");\nlet tutorialImage = document.getElementById(\"tutorialImage\");\n\nsetTimeout(function(){\n  show(tutorial); // we may pass `test` instead of `tutorial` in order to invoke this function `MainTextUpAnime(testText);` \n}, 1000);\n\n//this function doesn't work \nfunction show(e){\n  MainTextUpAnime(e+Text);\n  SubTextDownAnime(e+Sub);\n  ImageShowAnime(e+Image);\n}\n//this one works as expected\nfunction show(e){\n  MainTextUpAnime(tutorialText);\n  SubTextDownAnime(tutorialSub);\n  ImageShowAnime(tutorialImage);\n}\n\nsetTimeout(function(){\n  MainTextDownAnime(tutorialText);\n  SubTextUpAnime(tutorialSub);\n  ImageHideAnime(tutorialImage);\n\n}, 4000)\n\n\n\nfunction MainTextUpAnime(el){\n     el.classList.add(\"MainTextUpAnime\");\n     el.classList.remove(\"MainTextDownAnime\");\n};\n\nfunction MainTextDownAnime(el){\n     el.classList.remove(\"MainTextUpAnime\");\n     el.classList.add(\"MainTextDownAnime\");\n};\n\n\nfunction SubTextUpAnime(el){\n     el.classList.add(\"SubTextUpAnime\");\n     el.classList.remove(\"SubTextDownAnime\");\n};\n\nfunction SubTextDownAnime(el){\n     el.classList.remove(\"SubTextUpAnime\");\n     el.classList.add(\"SubTextDownAnime\");\n};\n\n\nfunction ImageShowAnime(el){\n     el.classList.add(\"ImageShowAnime\");\n     el.classList.remove(\"ImageHideAnime\");\n};\n\nfunction ImageHideAnime(el){\n     el.classList.remove(\"ImageShowAnime\");\n     el.classList.add(\"ImageHideAnime\");\n};\n</code></pre>\n\n<p><strong>Here is the last update:</strong></p>\n\n<p>I can do what I want like this but it doesn't seem good!</p>\n\n<pre><code>setTimeout(function(){\n  show(\"tutorial\");\n}, 1000);\n\n//this function do the job  \nfunction show(e){\n\n  if(e == \"tutorial\"){\n     MainTextDownAnime(tutorialText);\n     SubTextUpAnime(tutorialSub);\n     ImageHideAnime(tutorialImage);\n  } else if(e == \"test\"){\n     MainTextDownAnime(testText);\n     SubTextUpAnime(testSub);\n     ImageHideAnime(testImage);\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "d3.js", "svg", "tween"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 9560593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155329430324715/picture?type=large", "display_name": "StupidQuestionGuy", "link": "https://stackoverflow.com/users/9560593/stupidquestionguy"}, "edited": false, "score": 0, "creation_date": 1575378024, "post_id": 59080265, "comment_id": 104539468, "body": "Thanks! That worked. I&#39;m now trying to attach that data to circles that vary in size as the value of the text tweens, any advice for that?"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 171, "user_id": 9560593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155329430324715/picture?type=large", "display_name": "StupidQuestionGuy", "link": "https://stackoverflow.com/users/9560593/stupidquestionguy"}, "edited": false, "score": 0, "creation_date": 1575427823, "post_id": 59080265, "comment_id": 104559906, "body": "@StupidQuestionGuy no, I&#39;m not following it. The best idea is posting a new question, with all the relevant details."}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": true, "score": 1, "last_activity_date": 1575014478, "last_edit_date": 1575014478, "creation_date": 1574901395, "answer_id": 59080265, "question_id": 59078495, "link": "https://stackoverflow.com/questions/59078495/how-to-oscillate-and-tween-between-multiple-number-states/59080265#59080265", "title": "How to oscillate and tween between multiple number states?", "body": "<p>If I correctly understand what you want, all you need is two <code>textTween</code> functions. For instance, going from <code>300</code> to <code>1000</code> and back:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var svg = d3.select(\"body\")\r\n  .append(\"svg\");\r\n\r\nfunction textrepeat() {\r\n\r\n  var textrepeat = svg.append(\"text\")\r\n    .attr(\"fill\", \"steelblue\")\r\n    .attr(\"x\", 30)\r\n    .attr(\"y\", 50);\r\n\r\n  repeat();\r\n\r\n  function repeat() {\r\n    textrepeat.transition()\r\n      .duration(2000)\r\n      .textTween(function() {\r\n        return function(t) {\r\n          return ~~d3.interpolate(300, 1001)(t)\r\n        };\r\n      })\r\n      .transition()\r\n      .duration(2000)\r\n      .textTween(function() {\r\n        return function(t) {\r\n          return ~~d3.interpolate(1001, 300)(t)\r\n        };\r\n      })\r\n      .on(\"end\", repeat);\r\n  };\r\n\r\n};\r\n\r\ntextrepeat();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>text {\r\n  font-size: 46px;\r\n  font-weight: 700;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://d3js.org/d3.v5.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>PS: <code>transition.textTween</code> was added in D3 v5.14. If you're using a previous version, change it for <code>.tween(\"text\", function() { etc...</code>.</p>\n"}], "owner": {"reputation": 171, "user_id": 9560593, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155329430324715/picture?type=large", "display_name": "StupidQuestionGuy", "link": "https://stackoverflow.com/users/9560593/stupidquestionguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 59080265, "answer_count": 1, "score": 1, "last_activity_date": 1575014493, "creation_date": 1574889103, "last_edit_date": 1575014493, "question_id": 59078495, "link": "https://stackoverflow.com/questions/59078495/how-to-oscillate-and-tween-between-multiple-number-states", "title": "How to oscillate and tween between multiple number states?", "body": "<p>I would like to be able to do something similair to what Mike Bostock does in his second example in the documentation for .textTween. I've managed to do a lot of work towards solving this, but I can't quite get it right. I'm completely new to JavaScript so perhaps thats the problem.</p>\n\n<p>In the case of the <a href=\"https://observablehq.com/@d3/transition-texttween\" rel=\"nofollow noreferrer\">observable notebook</a>, the number oscilates between different random variables, which are assigned to the _current parameter for the next oscillation. How would I do this with only two numbers, which I would like to go back and forth between?</p>\n\n<p>I tried working it into some code like this but to no avail - </p>\n\n<pre><code>var svg = d3.select(\"body\")\n        .append(\"svg\")\n        .attr(\"width\", 960)\n        .attr(\"height\", 500);\n\nfunction textrepeat() {\n\n    var textrepeat = svg.append(\"text\")\n        .attr(\"fill\", \"steelblue\")\n        .attr(\"class\", \"txt\")\n        .attr(\"x\", 30)\n        .attr(\"y\", 30)\n    repeat();\n\n    function repeat() {\n      textrepeat\n        .text(\"300\")      \n        .transition()        \n        .duration(2000)\n        .tweening ???   //here is where to insert it?\n        .text(\"1000\")    \n        .transition()        \n        .duration(2000)      \n        .text(\"300\")    \n        .on(\"end\", repeat);  \n    };\n\n};\n\ntextrepeat();\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "reactjs", "infinite-scroll"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6387422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/791660e408208c52a8910052526a65fd?s=128&d=identicon&r=PG", "display_name": "sotos bic", "link": "https://stackoverflow.com/users/6387422/sotos-bic"}, "edited": false, "score": 0, "creation_date": 1574889780, "post_id": 59078579, "comment_id": 104394321, "body": "I am setting it to false in Redux file dataActions while I am updating the state. When the state is updated and when I get at the last post it seems like the loadMore isn&#39;t being called again (but handleScroll still works). I checked that because I console.log(e) and it still gets the window in console"}], "tags": [], "owner": {"reputation": 173187, "user_id": 128165, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdef5bd2099545a776ee86fb8049bdc6?s=128&d=identicon&r=PG", "display_name": "Gabriele Petrioli", "link": "https://stackoverflow.com/users/128165/gabriele-petrioli"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889531, "creation_date": 1574889531, "answer_id": 59078579, "question_id": 59078479, "link": "https://stackoverflow.com/questions/59078479/infinite-scroll-only-works-one-time/59078579#59078579", "title": "Infinite scroll only works one time", "body": "<p>You are setting <code>loading</code> to true in your <code>loadMore</code> method, but one of the conditions to call <code>loadMore</code> again is if the <code>loading</code> is false (<code>!this.state.loading</code>)</p>\n\n<p>You will need to set <code>loading</code> to false again at some point (<em>if there is api calls involved</em>) or just skip the <code>loading:true</code> part if you work with local data.</p>\n"}], "owner": {"reputation": 71, "user_id": 6387422, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/791660e408208c52a8910052526a65fd?s=128&d=identicon&r=PG", "display_name": "sotos bic", "link": "https://stackoverflow.com/users/6387422/sotos-bic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574889531, "creation_date": 1574889036, "question_id": 59078479, "link": "https://stackoverflow.com/questions/59078479/infinite-scroll-only-works-one-time", "title": "Infinite scroll only works one time", "body": "<p>I am building this webapp with React, in which there is a page with posts. I am trying to implement Infinite Scroll functionality manually and it seems to be working only one time. </p>\n\n<p>When I have the last element on my window, it calls the api to fetch more posts, but when I update the state and get to \"new\" last post, it doesn't fetch any more posts. I believe I am really close to fixing this but I need a little guidance from you guys.</p>\n\n<p>Thanks in advance</p>\n\n<p>Here is my code</p>\n\n<pre><code> this.props.getPosts(this.state.page); //for the first load of the page \n\n this.scrollListener = window.addEventListener('scroll', (e) =&gt; {\n        this.handleScroll(e)\n })\n\nhandleScroll = (e) =&gt; {\n        let loadMoreElement = document.querySelector('.postGrid &gt; div:last-child');\n        var rect = loadMoreElement.offsetTop + loadMoreElement.clientHeight;\n        var pageOffset = window.pageYOffset + window.innerHeight + 200;\n        if(pageOffset &gt; rect &amp;&amp; !finished &amp;&amp; !this.state.loading) {\n            this.loadMore()\n            this.props.getPosts(this.state.page)\n            if(!this.state.has_more){ //has_more it's been set by the API when you get to the last page\n                finished = true\n                console.log(\"done\")\n            }\n        } else if (finished){\n            console.log(\"done\")\n        }}\n\n    loadMore = () =&gt; {\n        this.setState((prevState) =&gt; ({\n            page: prevState.page + 1,\n            loading: true,\n        }))}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "semantic-ui-react"], "owner": {"reputation": 937, "user_id": 1208144, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/9dfbf2d6b6ef44f45d6f92ecf4414163?s=128&d=identicon&r=PG", "display_name": "John Rogerson", "link": "https://stackoverflow.com/users/1208144/john-rogerson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574888886, "creation_date": 1574888886, "question_id": 59078452, "link": "https://stackoverflow.com/questions/59078452/search-input-with-semantic-ui-react-onchange-very-slow", "title": "Search Input with Semantic UI React OnChange Very Slow", "body": "<p>I'm doing a simple filter on my data using the Semantic UI React 'Input' Component.  The data loads first, and then i apply the search filter to narrow down the data based on the user input.</p>\n\n<p>It works, but when typing, it's very slow.  I saw another user with a similar issue and someone mentioned onBlur but that doesn't seem to be working for me.   Here is my Search component, which is passing a search state back to one of my other components which updates the data.  Anyone have any recommendations here?</p>\n\n<pre><code> import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Input } from \"semantic-ui-react\";\nimport { searchChange, clearSearch } from \"../reducers/searchReducer\";\n\nconst Search = props =&gt; {\n  const handleSearch = event =&gt; {\n    props.searchChange(event.target.value.toLowerCase());\n  };\n\n  const style = {\n    marginBottom: 10\n  };\n\n  return (\n    &lt;div style={style}&gt;\n      &lt;Input\n        icon=\"search\"\n        placeholder=\"Enter filter...\"\n        onChange={handleSearch}\n      /&gt;\n\n    &lt;/div&gt;\n  );\n};\n\nconst mapStateToProps = state =&gt; {\n  return {\n    search: state.search,\n    filter: state.filter\n  };\n};\n\nexport default connect(mapStateToProps, {\n  searchChange,\n  //   filterChange,\n  clearSearch\n})(Search);\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1574888419, "post_id": 59078341, "comment_id": 104393804, "body": "These are equivalent, neither is more performant than the other."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574888423, "post_id": 59078341, "comment_id": 104393805, "body": "It won&#39;t affect performance by any reasonable amount, but having so many buttons will make the code ugly, and code clarity should be the most important thing to strive for in most situations. Consider using a different method to make the code more DRY"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1574888530, "post_id": 59078341, "comment_id": 104393854, "body": "If you have lots of buttons that need the same listener, give them all the same class, use <code>querySelectorAll()</code>, and use a <code>forEach</code> loop to add the listener to each of them."}, {"owner": {"reputation": 436, "user_id": 9755590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90191b4a895a85a1d747d27c8de5cbb9?s=128&d=identicon&r=PG&f=1", "display_name": "Dimabytes", "link": "https://stackoverflow.com/users/9755590/dimabytes"}, "edited": false, "score": 0, "creation_date": 1574888608, "post_id": 59078341, "comment_id": 104393889, "body": "I had different buttons and different functions for them"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1574889169, "post_id": 59078341, "comment_id": 104394113, "body": "As mentioned by Barmar, you cannot use v1 for 30 elements.  <code>querySelector()</code> only returns one Element, so that criteria is a mute point.  Worst case scenario, the variable is in a global scope and you arbitrarialy have a lingering variable that you&#39;re not using.  Not a big performance concern."}], "answers": [{"tags": [], "owner": {"reputation": 2366, "user_id": 6327086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RCUf1.gif?s=128&g=1", "display_name": "Max Alexander Hanna", "link": "https://stackoverflow.com/users/6327086/max-alexander-hanna"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888906, "creation_date": 1574888906, "answer_id": 59078456, "question_id": 59078341, "link": "https://stackoverflow.com/questions/59078341/best-way-for-addeventlistener/59078456#59078456", "title": "Best way for addEventListener", "body": "<p>v2 is perfectly fine, no performance will be noticeably lost even if u had 100 buttons and v1, but v2 is generally more edit-friendly and will require less time to maintain, re-read and/or change your code.\nuse v2. less code is always better IFF you can read it fine.</p>\n"}, {"comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1574889307, "post_id": 59078503, "comment_id": 104394158, "body": "This does not answer the question, and making code look like jQuery, when it isn&#39;t <i>actually</i> jQuery, is setting yourself up for future defects.  See the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\">Principle of Least Astonishment</a>"}], "tags": [], "owner": {"reputation": 15, "user_id": 12398384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fY8dx.jpg?s=128&g=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/12398384/fabien"}, "is_accepted": false, "score": -2, "last_activity_date": 1574889122, "creation_date": 1574889122, "answer_id": 59078503, "question_id": 59078341, "link": "https://stackoverflow.com/questions/59078341/best-way-for-addeventlistener/59078503#59078503", "title": "Best way for addEventListener", "body": "<p>What about this:</p>\n\n<pre><code>const $ = document.querySelector; // Since you don't use jquery\n$('.back').addEventListener('click', load_from_breackpoint);\n</code></pre>\n"}], "owner": {"reputation": 436, "user_id": 9755590, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90191b4a895a85a1d747d27c8de5cbb9?s=128&d=identicon&r=PG&f=1", "display_name": "Dimabytes", "link": "https://stackoverflow.com/users/9755590/dimabytes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59078456, "answer_count": 2, "score": 0, "last_activity_date": 1574889122, "creation_date": 1574888342, "question_id": 59078341, "link": "https://stackoverflow.com/questions/59078341/best-way-for-addeventlistener", "title": "Best way for addEventListener", "body": "<p>I have button and want to add EventListener to this button. \nQuestion is: what is the best way to code it?</p>\n\n<p>v1:</p>\n\n<pre><code>let BackBtn = document.querySelector('.back');\nBackBtn.addEventListener('click', load_from_breackpoint);\n</code></pre>\n\n<p>v2:</p>\n\n<pre><code>document.querySelector('.back').addEventListener('click', load_from_breackpoint);\n</code></pre>\n\n<p>Note: BackBtn dont used in code bellow. In my project so much buttons like this and may it affect performance if I use v1 for 30 buttons?</p>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 658, "user_id": 11852419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d56aa57fc20376e457df7a50be0a54?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11852419/michael"}, "edited": false, "score": 0, "creation_date": 1575035971, "post_id": 59078905, "comment_id": 104444016, "body": "I mean I know how to do this with an onClick() event in react, but I guess this doesn&#39;t really answer my question.  Also my images are dynamically allocated not static, so there&#39;s some differences here.  I do appreciate the answer though."}], "tags": [], "owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "is_accepted": false, "score": 0, "last_activity_date": 1574891306, "creation_date": 1574891306, "answer_id": 59078905, "question_id": 59078319, "link": "https://stackoverflow.com/questions/59078319/display-modal-on-img-hover-in-css/59078905#59078905", "title": "Display modal on img hover in CSS", "body": "<p>This is how I would implement a gallery-style display with a <code>click</code> event opening a modal. </p>\n\n<p>Hopefully this gives you somewhere to start!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[].forEach.call(document.getElementsByTagName(\"img\"), function(elem) {\r\n  elem.addEventListener(\"click\", function() {\r\n      var modal = document.getElementById('modal');\r\n      modal.classList.remove('hidden');\r\n      modal.classList.add('show');\r\n      modal.getElementsByTagName('img')[0].src = this.src;     \r\n  });\r\n});\r\n\r\n document.getElementById('modal').addEventListener(\"click\", function() {\r\n   \tvar modal = document.getElementById('modal');\r\n      modal.classList.add('hidden');\r\n      modal.classList.remove('show');\r\n });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>img {\r\n  height: 100px;\r\n  width: auto;\r\n}\r\n\r\n#modal {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 30%;\r\n  min-height: 300px;\r\n  min-width: 300px;\r\n  padding: 20px;\r\n  background-color: darkblue;\r\n}\r\n\r\n#modal img {\r\n  height: 300px;\r\n  width: 300px;\r\n}\r\n\r\n.modal-state.hidden {\r\n  display: none;\r\n}\r\n\r\n.modal-state.show {\r\n  display: block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;table&gt;\r\n      &lt;tr&gt;\r\n        &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/restaurant-view.jpg\"/&gt;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/plane.jpg\"/&gt;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/anchors.jpg\"/&gt;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/hand-water.jpg\"/&gt;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/graf.jpg\"/&gt;&lt;/td&gt;\r\n         &lt;td&gt;&lt;img src=\"http://writingexercises.co.uk/images2/randomimage/cyclists.jpg\"/&gt;&lt;/td&gt;\r\n      &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"modal\" class=\"modal-state hidden\"&gt;\r\n  &lt;img src=\"#\" /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What I would do from here:</p>\n\n<ul>\n<li>Look into how you would change this from a <code>click</code> triggered event, to a <code>hover</code> / <code>mouseenter</code> / <code>mouseleave</code> / <code>mouseover</code> effect</li>\n<li>Style your modal appropriately</li>\n<li>Implement recursive HTML output if necessary for your HTML structure</li>\n</ul>\n\n<p>If the images don't load, view this on <a href=\"https://jsfiddle.net/4mzt8ejd/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n\n<p>Let me know if this helps you any / clarifies any questions. If not, let me know and I'll try to provide you a more specific answer!</p>\n"}], "owner": {"reputation": 658, "user_id": 11852419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d56aa57fc20376e457df7a50be0a54?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/11852419/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574891306, "creation_date": 1574888243, "question_id": 59078319, "link": "https://stackoverflow.com/questions/59078319/display-modal-on-img-hover-in-css", "title": "Display modal on img hover in CSS", "body": "<p>This might be confusing but I'm essentially trying to open a modal with an image when someone hovers over that specific image in say a table or something.  I have it where if you hover over that image it makes it larger, but I want it to open within a modal.</p>\n\n<p>Here is a snippet of my code</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>RenderItems(){\nvar items = this.state.ItemList;\nvar allItems = this.state.AllItems;\nvar rows = [];\n\nfor(let i = 0; i &lt; items.length; i++){\n            if(this.state.ItemSelected == \"All Items\"){\n                rows.push(\n                    &lt;tr style={{backgroundColor: '#B7BCDF'}} id={items[i].ID} onClick={this.RowClick.bind(this)} key={i}&gt;\n                        &lt;td  className=\"PartImage\" style={{width: '100px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            &lt;img src={PartImage} alt=\"\" width=\"50%\"&gt;&lt;/img&gt;\n                        &lt;/td&gt;\n\n                        &lt;td style={{width: '111px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            {items[i].PartName}\n                        &lt;/td&gt;\n\n                        &lt;td  style={{width: '94px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            {items[i].Vendor}\n                        &lt;/td&gt;\n\n                        &lt;td  style={{width: '100px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            {items[i].PartNumber}\n                        &lt;/td&gt;\n\n                        &lt;td  style={{width: '100px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            ${items[i].Price.toFixed(2)}\n                        &lt;/td&gt;\n\n                        &lt;td  style={{width: '100px'}} id={items[i].ID} onClick={this.RowClick.bind(this)}&gt;\n                            {items[i].QuantityOnHand}\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                )\n            }\n\nreturn (\n\n            &lt;div className=\"TableScroll\"&gt;\n                &lt;table className=\"TableRows\"&gt;\n                    &lt;tbody&gt;\n                        {rows}\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n\n        );\n\n\n}\n\n  render(){\n   return(\n    &lt;div className=\"container\"&gt;\n      &lt;div className=\"PartImageModal\"&gt;\n         &lt;div className=\"ImageModalContent\"&gt;\n             &lt;img src=\"\"&gt;I'm an Image in a modal&lt;/img&gt;\n         &lt;/div&gt;\n       &lt;/div&gt;\n    &lt;/div&gt;\n   );\n\n  }\n</code></pre>\n\n<p>And here is my css for this portion</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.PartImage img:hover{\n\n}\n\n.PartImageModal{\n    position: relative;\n    width: 35%;\n    height: 45%;\n    margin-right: auto;\n    margin-left: auto;\n    margin-top: 10%;\n    background-color: white;\n    display: none;\n}\n\n.ImageModalContent{\n    width: 100%;\n    height: 100%;\n    display: block;\n}\n\n</code></pre>\n\n<p>My first thought was that I could change my class PartImage img:hover to:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>.PartImage img:hover{\n .PartImageModal{\n   display: block;\n }\n}\n</code></pre>\n\n<p>but this is not allowed in CSS.</p>\n\n<p>If anyone has any ideas on how I could accomplish this, I would appreciate it! Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "html", "mysql", "node.js"], "comments": [{"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574888219, "post_id": 59078304, "comment_id": 104393728, "body": "check this out <a href=\"http://knexjs.org/\" rel=\"nofollow noreferrer\">knexjs.org</a>"}, {"owner": {"reputation": 33, "user_id": 10309210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de299aef7a762e832638eac903827ef1?s=128&d=identicon&r=PG&f=1", "display_name": "FakeRune", "link": "https://stackoverflow.com/users/10309210/fakerune"}, "reply_to_user": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574888607, "post_id": 59078304, "comment_id": 104393888, "body": "cool, but this seems more like another way to go about the database part?"}, {"owner": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574888656, "post_id": 59078304, "comment_id": 104393911, "body": "exactly .........."}, {"owner": {"reputation": 33, "user_id": 10309210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de299aef7a762e832638eac903827ef1?s=128&d=identicon&r=PG&f=1", "display_name": "FakeRune", "link": "https://stackoverflow.com/users/10309210/fakerune"}, "reply_to_user": {"reputation": 12928, "user_id": 1355249, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XbT1a.jpg?s=128&g=1", "display_name": "sumit", "link": "https://stackoverflow.com/users/1355249/sumit"}, "edited": false, "score": 0, "creation_date": 1574888837, "post_id": 59078304, "comment_id": 104393980, "body": "Yeah but I would like to know why I would do that for this specific question that I&#39;m asking?"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 12383690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ccb80d198b2b5674ba7d6bcec157f4?s=128&d=identicon&r=PG&f=1", "display_name": "Momo", "link": "https://stackoverflow.com/users/12383690/momo"}, "is_accepted": false, "score": 1, "last_activity_date": 1574892018, "creation_date": 1574892018, "answer_id": 59079022, "question_id": 59078304, "link": "https://stackoverflow.com/questions/59078304/other-ways-to-connect-and-display-mysql-with-node-js-through-html/59079022#59079022", "title": "Other ways to connect and display mysql with node.js through html", "body": "<p>You're looking for the modern <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\" rel=\"nofollow noreferrer\">Fetch API</a>. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">How to use it</a>. </p>\n\n<p>You already have your route set up which will process all HTTP GET requests to <code>/api</code>, so you can have a function like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>async function getData(url = '') {\r\n    const response = await fetch(url, {\r\n        method: 'GET',\r\n    });\r\n\r\n    return response.json();\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And you can call it:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const url = '/api';\r\nconst response = getData(url);\r\n\r\nresponse.then((items) =&gt; {        \r\n    // construct your table nodes here\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You're probably going to get confused about the usage of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow noreferrer\">await</a>, but it's good to know them if you want to work with the Fetch API, since a call to <code>fetch</code> returns a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">promise</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 10309210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de299aef7a762e832638eac903827ef1?s=128&d=identicon&r=PG&f=1", "display_name": "FakeRune", "link": "https://stackoverflow.com/users/10309210/fakerune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574894370, "creation_date": 1574888162, "last_edit_date": 1574894370, "question_id": 59078304, "link": "https://stackoverflow.com/questions/59078304/other-ways-to-connect-and-display-mysql-with-node-js-through-html", "title": "Other ways to connect and display mysql with node.js through html", "body": "<p>Hey I'm trying to learn how to use node.js with mysql. I'm at the point where I can display data from mysql in the browser. I was wondering if there is another way (smarter way) to do this than what I've have done so far. </p>\n\n<p>To be more specific i'm looking for a different way to process the data other than Jquery which I use in my index.html. I would rather avoid Jquery all together. Of course only if this is not the optinal way to go about this. </p>\n\n<p>I had seen some using sendFile, but I can't seem to get it to work at all probably because I don't know how to process it on the html side.  </p>\n\n<p>this is my app.js</p>\n\n<pre><code>// moduels\nvar express = require('express');\nvar app = express();\nvar mysql = require('mysql');\nvar bodyParser = require('body-Parser')\nvar urlencodedParser = bodyParser.urlencoded({ extended: false });\n\n// sends data to html side \napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({extended: false}));\napp.use('/', express.static(__dirname + '/'));\napp.set('view engine', 'html');\n\n// connect to database\nvar con = mysql.createConnection({\n    host: \"localhost\",\n    user: \"root\",\n    password: \"1234\",\n    database: \"BathBombs_DB\"\n});\n\ncon.connect();\n\n// routes\napp.get('/api', function(request, response){\n    console.log('GET request received at /') \n    con.query(\"SELECT * FROM customers\", function (err, result) {\n        if (err) throw err;\n        else{\n            response.json(result);\n            //response.sendFile(__dirname + \"/index.html\");\n        }\n\n    });\n});\n\n// listen for trafic and display on localhost:9000\napp.listen(9000, function () {\n    console.log('Connected to port 9000');\n});\n</code></pre>\n\n<p>and this is my index.html. </p>\n\n<pre><code>  &lt;!DOCTYPE html&gt;\n  &lt;html lang=\"en\"&gt;\n  &lt;head&gt;\n      &lt;meta charset=\"UTF-8\"&gt;\n      &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n      &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n      &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n      &lt;title&gt;Document&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n     &lt;table id=\"table\"&gt;\n       &lt;tr&gt;\n         &lt;td&gt;&lt;/td&gt;\n       &lt;/tr&gt;\n     &lt;/table&gt;\n\n  &lt;script&gt;\n\n    $(document).ready(function(){\n\n      $.get(\"http://localhost:9000/api\", function(data){\n        var html = '';\n        for (var i = 0; i &lt; data.length; i++) {  \n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].id + '&lt;/td&gt;&lt;td&gt;'   \n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].firstname + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].lastname + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].address + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].postal_code + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].city + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].country + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].email + '&lt;/td&gt;&lt;td&gt;'\n          html += '&lt;tr&gt;&lt;td&gt;' + data[i].tlf + '&lt;/td&gt;&lt;td&gt;'        \n        }\n        $('#table').empty().append(html);\n      });\n    });\n\n  &lt;/script&gt;\n\n  &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "asp.net-core", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 3588944, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aadef40fad9b6a25a65a665bf3bee48e?s=128&d=identicon&r=PG&f=1", "display_name": "Auo", "link": "https://stackoverflow.com/users/3588944/auo"}, "edited": false, "score": 0, "creation_date": 1575409130, "post_id": 59083491, "comment_id": 104555333, "body": "I had to setup the CICD and that resolved the issue, when i use -u it did not work unfortunately. Two solutions to the issue  1) remove cross-env CI=true from package.json  OR 2) Setup the CICD to run the unit tests."}, {"owner": {"reputation": 233, "user_id": 1004145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c210b522fb75d337c7aab3884f0064d?s=128&d=identicon&r=PG", "display_name": "Yarik", "link": "https://stackoverflow.com/users/1004145/yarik"}, "edited": false, "score": 1, "creation_date": 1585837889, "post_id": 59083491, "comment_id": 107908883, "body": "While it sounds like a great idea to have <code>npm run test</code> update the snapshots automatically, it will make it easy to overwrite broken components and not notice it. Would be better to keep it as a separate command, so if the test fail, you have an opportunity to examine the error."}], "tags": [], "owner": {"reputation": 674, "user_id": 6592928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7ai9.jpg?s=128&g=1", "display_name": "akhil choudhary", "link": "https://stackoverflow.com/users/6592928/akhil-choudhary"}, "is_accepted": false, "score": 7, "last_activity_date": 1574925319, "creation_date": 1574925319, "answer_id": 59083491, "question_id": 59078246, "link": "https://stackoverflow.com/questions/59078246/jest-react-new-snapshot-was-not-written-the-update-flag-must-be-explicitly-pa/59083491#59083491", "title": "Jest React - New snapshot was not written. The update flag must be explicitly passed to write a new snapshot", "body": "<p>In your package.json script which runs the tests append <code>-u</code> to update the snapshot while running the test like <code>react-scripts test -u</code>. This should fix the snapshot test in CI.</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 3588944, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aadef40fad9b6a25a65a665bf3bee48e?s=128&d=identicon&r=PG&f=1", "display_name": "Auo", "link": "https://stackoverflow.com/users/3588944/auo"}, "is_accepted": false, "score": 0, "last_activity_date": 1575409352, "creation_date": 1575409352, "answer_id": 59165803, "question_id": 59078246, "link": "https://stackoverflow.com/questions/59078246/jest-react-new-snapshot-was-not-written-the-update-flag-must-be-explicitly-pa/59165803#59165803", "title": "Jest React - New snapshot was not written. The update flag must be explicitly passed to write a new snapshot", "body": "<p>Two solutions to the issue \n1) remove cross-env CI=true from package.json \nOR \n2) Setup the CICD to run the unit tests.--- To do this add a npm task within the build pipeline and select the option within the task as \"custom\" and provide the command as test</p>\n\n<p>that should trigger the unit tests whenever there is a build triggered. </p>\n"}, {"comments": [{"owner": {"reputation": 425, "user_id": 6245268, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204676103820840/picture?type=large", "display_name": "Till Kolter", "link": "https://stackoverflow.com/users/6245268/till-kolter"}, "edited": false, "score": 2, "creation_date": 1594833485, "post_id": 59418478, "comment_id": 111268249, "body": "why would you update a snapshot in CI, this is just so wrong. Failing tests are what CI test builds are made for."}, {"owner": {"reputation": 759, "user_id": 1141936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aIWZV.jpg?s=128&g=1", "display_name": "ImLeo", "link": "https://stackoverflow.com/users/1141936/imleo"}, "reply_to_user": {"reputation": 425, "user_id": 6245268, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204676103820840/picture?type=large", "display_name": "Till Kolter", "link": "https://stackoverflow.com/users/6245268/till-kolter"}, "edited": false, "score": 0, "creation_date": 1596107628, "post_id": 59418478, "comment_id": 111708235, "body": "New snapshot was not written. The update flag must be explicitly passed to write a new snapshot.  This is likely because this test is run in a continuous integration (CI) environment in which snapshots are not written by default."}, {"owner": {"reputation": 425, "user_id": 6245268, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204676103820840/picture?type=large", "display_name": "Till Kolter", "link": "https://stackoverflow.com/users/6245268/till-kolter"}, "edited": false, "score": 0, "creation_date": 1596184185, "post_id": 59418478, "comment_id": 111736625, "body": "Fixing a snapshot without supervision (i.e. through an automatic CI job) is really bad design. Manually updating them is the key.   This comment here is correct: <a href=\"https://stackoverflow.com/questions/59078246/jest-react-new-snapshot-was-not-written-the-update-flag-must-be-explicitly-pa/59418478?noredirect=1#comment107908883_59083491\" title=\"jest react new snapshot was not written the update flag must be explicitly pa\">stackoverflow.com/questions/59078246/&hellip;</a>"}], "tags": [], "owner": {"reputation": 759, "user_id": 1141936, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aIWZV.jpg?s=128&g=1", "display_name": "ImLeo", "link": "https://stackoverflow.com/users/1141936/imleo"}, "is_accepted": false, "score": 3, "last_activity_date": 1576801269, "creation_date": 1576801269, "answer_id": 59418478, "question_id": 59078246, "link": "https://stackoverflow.com/questions/59078246/jest-react-new-snapshot-was-not-written-the-update-flag-must-be-explicitly-pa/59418478#59418478", "title": "Jest React - New snapshot was not written. The update flag must be explicitly passed to write a new snapshot", "body": "<p>Just explicitly pass it in your CI configuration, like:</p>\n\n<pre><code>- yarn test -- --coverage --updateSnapshot\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 3588944, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/aadef40fad9b6a25a65a665bf3bee48e?s=128&d=identicon&r=PG&f=1", "display_name": "Auo", "link": "https://stackoverflow.com/users/3588944/auo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6812, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1576801269, "creation_date": 1574887884, "question_id": 59078246, "link": "https://stackoverflow.com/questions/59078246/jest-react-new-snapshot-was-not-written-the-update-flag-must-be-explicitly-pa", "title": "Jest React - New snapshot was not written. The update flag must be explicitly passed to write a new snapshot", "body": "<p>I have a asp.net core project created with React template, trying to unit test a simple component with Jest snapshot and I am receiving below error.Can any one suggest how to fix it.</p>\n\n<h1><strong>index.js</strong></h1>\n\n<pre><code>import { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\nimport { Button } from 'reactstrap'\n\nconst CloseHistoryButton = ({ onClick }) =&gt;\n    &lt;div className=\"d-flex justify-content-end\"&gt;\n        &lt;Button color=\"danger\" size=\"sm\" onClick={onClick}&gt;\n            &lt;FontAwesomeIcon icon=\"times\" /&gt; Close History\n        &lt;/Button&gt;\n    &lt;/div&gt;\n\nexport default CloseHistoryButton  \n</code></pre>\n\n<h1><strong>CloseHistoryButton.test</strong></h1>\n\n<pre><code>import ReactDOM from 'react-dom';\nimport { shallow, mount, render } from 'enzyme';\nimport { cleanup } from '@testing-library/react';\nimport renderer from 'react-test-renderer';\nimport CloseHistoryButton from '../CloseHistoryButton/index';\nimport registerIcons from './../../../../icons/registerIcons';\nimport Enzyme from 'enzyme';\nimport Adapter from 'enzyme-adapter-react-16';\nEnzyme.configure({ adapter: new Adapter() });\n\n// automatically unmount and cleanup DOM after the test is finished.\nafterEach(cleanup);\nregisterIcons();\ntest('renders correctly', () =&gt; {\n    const tree = renderer.create(\n                                &lt;CloseHistoryButton /&gt;\n                                ).toJSON();\n    expect(tree).toMatchSnapshot();\n});\n\n</code></pre>\n\n<h1>Error Log:</h1>\n\n<p>expect(received).toMatchSnapshot()</p>\n\n<pre><code>New snapshot was not written. The update flag must be explicitly passed to write a new snapshot.\n\nThis is likely because this test is run in a continuous integration (CI) environment in which snapshots are not written by default.\n\nReceived value\n&lt;div\n  className=\"d-flex justify-content-end\"\n&gt;\n  &lt;button\n    aria-label={null}\n    className=\"btn btn-danger btn-sm\"\n    onClick={[Function]}\n  &gt;\n    &lt;svg\n      aria-hidden=\"true\"\n      className=\"svg-inline--fa fa-times fa-w-11 \"\n      data-icon=\"times\"\n      data-prefix=\"fas\"\n      focusable=\"false\"\n      role=\"img\"\n      style={Object {}}\n      viewBox=\"0 0 352 512\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    &gt;\n      &lt;path\n        d=\"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z\"\n        fill=\"currentColor\"\n        style={Object {}}\n      /&gt;\n    &lt;/svg&gt;\n     Close History\n  &lt;/button&gt;\n&lt;/div&gt;\n\n  27 |                                 &lt;CloseHistoryButton /&gt;\n  28 |                                 ).toJSON();\n&gt; 29 |     expect(tree).toMatchSnapshot();\n     |                  ^\n  30 | });\n  31 |\n  32 | describe('Test Button component', () =&gt; {\n\n  at Object.toMatchSnapshot (src/features/FleetImport/Results/CloseHistoryButton/CloseHistoryButton.test.js:29:18)\n</code></pre>\n\n<p>\u203a 1 snapshot failed.\nSnapshot Summary\n \u203a 1 snapshot failed from 1 test suite. Inspect your code changes or re-run jest with <code>-u</code> to update them.</p>\n\n<p>Test Suites: 1 failed, 1 passed, 2 total\nTests:       1 failed, 3 passed, 4 total\nSnapshots:   1 failed, 1 total\nTime:        4.338s\nRan all test suites.\nnpm ERR! Test failed.  See above for more details.</p>\n"}, {"tags": ["javascript", "fizzbuzz"], "comments": [{"owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "edited": false, "score": 0, "creation_date": 1574888706, "post_id": 59078245, "comment_id": 104393935, "body": "It would be better to use <code>switch(i)</code> rather than lots of <code>else if</code> statements"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "edited": false, "score": 2, "creation_date": 1574888755, "post_id": 59078245, "comment_id": 104393959, "body": "@DavidBradshaw Highly disagree, <code>switch</code> is unnecessarily more verbose and error-prone (for newbies who often forget to <code>break</code>). Guess it&#39;s opinion-based"}, {"owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574888935, "post_id": 59078245, "comment_id": 104394022, "body": "@CertainPerformance, that is why we have esLint to spot mistakes like that. When I interview candidates I would expect them to be at a level where they can use a <code>switch</code> statement"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "edited": false, "score": 0, "creation_date": 1574889022, "post_id": 59078245, "comment_id": 104394053, "body": "@DavidBradshaw Sure, knowing <i>how</i> it can be used is good, since the syntax exists, and knowing syntax is useful, but that doesn&#39;t mean that it <i>should</i> be used, IMO"}, {"owner": {"reputation": 2358, "user_id": 5730279, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9GYwj.jpg?s=128&g=1", "display_name": "hc_dev", "link": "https://stackoverflow.com/users/5730279/hc-dev"}, "edited": false, "score": 0, "creation_date": 1574889107, "post_id": 59078245, "comment_id": 104394087, "body": "Your issue focused: in order to test the function <code>printFizzBuzz</code> JS (or, which test-script, test-framework exactly?) needs a <code>string</code> as return? The you need something like a <a href=\"https://stackoverflow.com/questions/2087522/does-javascript-have-a-built-in-stringbuilder-class\">string-builder</a> instead of <code>console.log</code>. Then after loop finished you can return the built string."}, {"owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1574889928, "post_id": 59078245, "comment_id": 104394368, "body": "@CertainPerformance I posted how I would answer this below for comparison"}], "answers": [{"tags": [], "owner": {"reputation": 1286, "user_id": 7919626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c59n5.png?s=128&g=1", "display_name": "Word Rearranger", "link": "https://stackoverflow.com/users/7919626/word-rearranger"}, "is_accepted": false, "score": 1, "last_activity_date": 1574888507, "creation_date": 1574888507, "answer_id": 59078371, "question_id": 59078245, "link": "https://stackoverflow.com/questions/59078245/fizz-buzz-question-with-extra-difficulty-layer/59078371#59078371", "title": "Fizz Buzz question with extra difficulty layer", "body": "<p>You can use <code>.toString()</code> (<a href=\"https://www.w3schools.com/jsref/jsref_tostring_number.asp\" rel=\"nofollow noreferrer\">JS toString</a>) to change the number in string:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function printFizzBuzz(input) {\r\n\r\n  // Your code goes here\r\n  for (var i = 1; i &lt;= 20; i++) {\r\n\r\n    if (i % 3 === 0 &amp;&amp; i % 5 === 0) {\r\n      console.log(\"FizzBuzz\");\r\n    } else if (i % 3 === 0) {\r\n      console.log(\"FizzBuzz\");\r\n    } else if (i % 5 === 0) {\r\n      console.log(\"Buzz\");\r\n    } else {\r\n      console.log(i.toString());\r\n    }\r\n  }\r\n};\r\n\r\nprintFizzBuzz();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889866, "creation_date": 1574889866, "answer_id": 59078639, "question_id": 59078245, "link": "https://stackoverflow.com/questions/59078245/fizz-buzz-question-with-extra-difficulty-layer/59078639#59078639", "title": "Fizz Buzz question with extra difficulty layer", "body": "<p>If I was the interviewer, I would prefer the answer to look more like this </p>\n\n<pre><code>function printFizzBuzz(input) {\n\n  // Your code goes here\n\n  for (var i = 1; i &lt;= 20; i++) {\n\n    let by3 = i % 3\n    let by5 = i % 5\n\n    switch(0) {\n      case by3 + by5:\n        console.log(\"FizzBuzz\")\n        break\n\n      case by3:\n        console.log(\"Fizz\")\n        break\n\n       case by5:\n         console.log(\"Buzz\")\n         break\n\n       default:\n         console.log(i.toString())\n      }\n    }\n  }\n}\n\nprintFizzBuzz()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9556, "user_id": 2087070, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3rIV2.jpg?s=128&g=1", "display_name": "David Bradshaw", "link": "https://stackoverflow.com/users/2087070/david-bradshaw"}, "is_accepted": true, "score": 0, "last_activity_date": 1574890769, "creation_date": 1574890769, "answer_id": 59078807, "question_id": 59078245, "link": "https://stackoverflow.com/questions/59078245/fizz-buzz-question-with-extra-difficulty-layer/59078807#59078807", "title": "Fizz Buzz question with extra difficulty layer", "body": "<p>Looking at the question, it is not asking for a loop, it is asking for any value passed to the function. So the answer should look more like this</p>\n\n<pre><code>function printFizzBuzz(input) {\n\n  // Your code goes here\n\n  if (typeof input !== \u2018number\u2019) {\n    return String(input)\n  }\n\n  let by3 = input % 3\n  let by5 = input % 5\n\n  switch(0) {\n    case by3 + by5:\n      return \"FizzBuzz\"\n\n    case by3:\n      return \"Fizz\"\n\n    case by5:\n      return \"Buzz\"\n\n    default:\n      return input.toString()\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12448265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7b7a47c3808c61b20786b5b8fe87cbc?s=128&d=identicon&r=PG&f=1", "display_name": "beast3372", "link": "https://stackoverflow.com/users/12448265/beast3372"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 59078807, "answer_count": 3, "score": -2, "last_activity_date": 1574891744, "creation_date": 1574887881, "last_edit_date": 1574891744, "question_id": 59078245, "link": "https://stackoverflow.com/questions/59078245/fizz-buzz-question-with-extra-difficulty-layer", "title": "Fizz Buzz question with extra difficulty layer", "body": "<p>I am trying to solve the Fizz Buzz question with an extra layer.</p>\n\n<p>This is what I have so far. All this works fine but I need one more extra condition. </p>\n\n<p>It's JS Unit testing</p>\n\n<blockquote>\n  <p>For any other input (valid or otherwise) return a string representation of the input</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>printFizzBuzz = function(input) {\r\n\r\n  // Your code goes here\r\n  for (var i = 1; i &lt;= 20; i++) {\r\n\r\n    if (i % 3 === 0 &amp;&amp; i % 5 === 0) {\r\n      console.log(\"FizzBuzz\");\r\n    } else if (i % 3 === 0) {\r\n      console.log(\"FizzBuzz\");\r\n    } else if (i % 5 === 0) {\r\n      console.log(\"Buzz\");\r\n    } else {\r\n      console.log(i);\r\n    }\r\n  }\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "edited": false, "score": 0, "creation_date": 1574888177, "post_id": 59078216, "comment_id": 104393706, "body": "What is <code>.mobile-nav li {padding: .3rem 0;}</code> ? It looks like it&#39;s adding top and bottom padding to your <code>li</code>."}, {"owner": {"reputation": 15, "user_id": 12394040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c070d4c4733c59354e5f651f844b8e?s=128&d=identicon&r=PG&f=1", "display_name": "atbkellum01", "link": "https://stackoverflow.com/users/12394040/atbkellum01"}, "reply_to_user": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "edited": false, "score": 0, "creation_date": 1574888357, "post_id": 59078216, "comment_id": 104393784, "body": "Yes it&#39;s adding top and bottom padding to the lis to give them more vertical space."}, {"owner": {"reputation": 915, "user_id": 1666308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xf3Ag.jpg?s=128&g=1", "display_name": "VPaul", "link": "https://stackoverflow.com/users/1666308/vpaul"}, "edited": false, "score": 0, "creation_date": 1574888636, "post_id": 59078216, "comment_id": 104393900, "body": "Why don&#39;t you make <code>display:none</code> instead of <code>height: 0px</code>?"}, {"owner": {"reputation": 20905, "user_id": 3897775, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/STmqq.jpg?s=128&g=1", "display_name": "Rounin", "link": "https://stackoverflow.com/users/3897775/rounin"}, "edited": false, "score": 0, "creation_date": 1574899056, "post_id": 59078216, "comment_id": 104396984, "body": "You need to read up on the <a href=\"https://developer.mozilla.org/en-US/docs/Learn/CSS/Building_blocks/The_box_model#What_is_the_CSS_box_model\" rel=\"nofollow noreferrer\">CSS Box Model</a>, @atbkellum01. If an element has a <code>height</code> of <code>0</code> and <code>padding-top</code> of <code>.3rem</code> and <code>padding-bottom</code> of <code>.3rem</code>, then it has a computed height of <code>.6rem</code>."}], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 4056395, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/dd905348fdc682796f2afb6f35bc8b6e?s=128&d=identicon&r=PG&f=1", "display_name": "Ted Fitzpatrick", "link": "https://stackoverflow.com/users/4056395/ted-fitzpatrick"}, "is_accepted": true, "score": 0, "last_activity_date": 1574888339, "creation_date": 1574888339, "answer_id": 59078340, "question_id": 59078216, "link": "https://stackoverflow.com/questions/59078216/why-does-my-div-still-display-when-its-height-is-set-to-0/59078340#59078340", "title": "Why does my div still display when its height is set to 0?", "body": "<p>How about making the default for the menu your hidden state and removing the hidden class. Block is the default display for a div so that's not needed. Try setting padding on #mobileMenu to 0, and setting margin on .mobile-nav to .8rem 0</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91516976c13b283109758faf9ee1cda8?s=128&d=identicon&r=PG&f=1", "display_name": "Rane", "link": "https://stackoverflow.com/users/12447998/rane"}, "is_accepted": false, "score": 1, "last_activity_date": 1574888853, "creation_date": 1574888853, "answer_id": 59078443, "question_id": 59078216, "link": "https://stackoverflow.com/questions/59078216/why-does-my-div-still-display-when-its-height-is-set-to-0/59078443#59078443", "title": "Why does my div still display when its height is set to 0?", "body": "<p>Try to set hidden property on mobileMenu div, and update accordingly on button click. This way you avoid messing with css classes</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const openBtn = document.querySelector('.open');\r\nconst closeBtn = document.querySelector('.close');\r\nconst mobileMenu = document.getElementById('mobileMenu');\r\n\r\nopenBtn.addEventListener('click', e =&gt; {\r\n  mobileMenu.hidden = false;\r\n  //mobileMenu.classList.add('active');\r\n  openBtn.style.display = 'none';\r\n  closeBtn.style.display = 'block';\r\n});\r\n\r\ncloseBtn.addEventListener('click', e =&gt; {\r\n  //mobileMenu.classList.remove('active');\r\n  mobileMenu.hidden = true;\r\n  openBtn.style.display = 'block';\r\n  closeBtn.style.display = 'none';\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  position: relative;\r\n}\r\n\r\n\r\n/* Header */\r\n\r\nheader {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: .5rem;\r\n  height: 60px;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\nheader h2 {\r\n  font-family: 'Calistoga';\r\n  letter-spacing: 2px;\r\n}\r\n\r\nheader i {\r\n  font-size: 1.5rem;\r\n}\r\n\r\nheader i:hover {\r\n  cursor: pointer;\r\n}\r\n\r\nheader i.close {\r\n  display: none;\r\n}\r\n\r\n\r\n/* Mobile Nav */\r\n\r\n#mobileMenu {\r\n  padding: .8rem 0;\r\n  border-top: 1px solid #000;\r\n  border-bottom: 1px solid #000;\r\n  position: fixed;\r\n  top: 92px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow: hidden;\r\n  transition: height .7s ease-in-out;\r\n}\r\n\r\n#mobileMenu.hidden {\r\n  height: 0;\r\n  line-height: 0;\r\n  display: block;\r\n}\r\n\r\n#mobileMenu.active {\r\n  height: 154px;\r\n}\r\n\r\n.mobile-nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  list-style: none;\r\n}\r\n\r\n.mobile-nav li {\r\n  padding: .3rem 0;\r\n}\r\n\r\n.mobile-nav li a {\r\n  text-decoration: none;\r\n  font-size: 1.2rem;\r\n  color: #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;\r\n  &lt;h2&gt;Website Header&lt;/h2&gt;\r\n  &lt;i class=\"fas fa-chevron-down open\"&gt;&lt;/i&gt;\r\n  &lt;i class=\"fas fa-chevron-up close\"&gt;&lt;/i&gt;\r\n&lt;/header&gt;\r\n\r\n&lt;div id=\"mobileMenu\" hidden&gt;\r\n  &lt;ul class=\"mobile-nav\"&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Home&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Services&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;About&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Contact&lt;/a&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15, "user_id": 12398384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fY8dx.jpg?s=128&g=1", "display_name": "Fabien", "link": "https://stackoverflow.com/users/12398384/fabien"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890250, "creation_date": 1574890250, "answer_id": 59078711, "question_id": 59078216, "link": "https://stackoverflow.com/questions/59078216/why-does-my-div-still-display-when-its-height-is-set-to-0/59078711#59078711", "title": "Why does my div still display when its height is set to 0?", "body": "<p>Using your logic but with this only change will fix it:</p>\n\n<pre class=\"lang-css prettyprint-override\"><code>#mobileMenu.hidden {\n  height: 0;\n+ padding: 0; /*the initial padding: .8rem 0; creates the 27.59px height (0.8rem top + 0.8rem bottom)*/\n  line-height: 0;\n  display: block;\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 12394040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c070d4c4733c59354e5f651f844b8e?s=128&d=identicon&r=PG&f=1", "display_name": "atbkellum01", "link": "https://stackoverflow.com/users/12394040/atbkellum01"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 59078340, "answer_count": 3, "score": 0, "last_activity_date": 1574890250, "creation_date": 1574887749, "last_edit_date": 1574888018, "question_id": 59078216, "link": "https://stackoverflow.com/questions/59078216/why-does-my-div-still-display-when-its-height-is-set-to-0", "title": "Why does my div still display when its height is set to 0?", "body": "<p>I understand this is probably a question that has been asked before, but I haven't found a post or another question that has solved this issue.</p>\n\n<p>I want to make a drop down mobile menu with Javascript by toggling the height of the #mobileMenu div. I wanted the div to have an initial height of 0 when the document loads, and add its full height when the triggering button is clicked. The only issue is when I set the div's initial height to 0, the document still displays the div with a height of <code>27.59px</code> which doesn't make much sense to me.</p>\n\n<p>I've tried adding: <code>overflow: hidden; / line-height: 0; / display: block</code> but no matter what I do, the div will not go below 27.59px in height. I even completed the Javascript functionality and the div will open to 154px in height, but when closed it goes back to <code>27.59px</code> instead of 0.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const openBtn = document.querySelector('.open');\r\nconst closeBtn = document.querySelector('.close');\r\nconst mobileMenu = document.getElementById('mobileMenu');\r\n\r\nopenBtn.addEventListener('click', e =&gt; {\r\n  mobileMenu.classList.remove('hidden');\r\n  mobileMenu.classList.add('active');\r\n  openBtn.style.display = 'none';\r\n  closeBtn.style.display = 'block';\r\n});\r\n\r\ncloseBtn.addEventListener('click', e =&gt; {\r\n  mobileMenu.classList.remove('active');\r\n  mobileMenu.classList.add('hidden');\r\n  openBtn.style.display = 'block';\r\n  closeBtn.style.display = 'none';\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n  position: relative;\r\n}\r\n\r\n\r\n/* Header */\r\n\r\nheader {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  align-items: center;\r\n  padding: .5rem;\r\n  height: 60px;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\nheader h2 {\r\n  font-family: 'Calistoga';\r\n  letter-spacing: 2px;\r\n}\r\n\r\nheader i {\r\n  font-size: 1.5rem;\r\n}\r\n\r\nheader i:hover {\r\n  cursor: pointer;\r\n}\r\n\r\nheader i.close {\r\n  display: none;\r\n}\r\n\r\n\r\n/* Mobile Nav */\r\n\r\n#mobileMenu {\r\n  padding: .8rem 0;\r\n  border-top: 1px solid #000;\r\n  border-bottom: 1px solid #000;\r\n  position: fixed;\r\n  top: 92px;\r\n  left: 0;\r\n  right: 0;\r\n  overflow: hidden;\r\n  transition: height .7s ease-in-out;\r\n}\r\n\r\n#mobileMenu.hidden {\r\n  height: 0;\r\n  line-height: 0;\r\n  display: block;\r\n}\r\n\r\n#mobileMenu.active {\r\n  height: 154px;\r\n}\r\n\r\n.mobile-nav {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  list-style: none;\r\n}\r\n\r\n.mobile-nav li {\r\n  padding: .3rem 0;\r\n}\r\n\r\n.mobile-nav li a {\r\n  text-decoration: none;\r\n  font-size: 1.2rem;\r\n  color: #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;header&gt;\r\n  &lt;h2&gt;Website Header&lt;/h2&gt;\r\n  &lt;i class=\"fas fa-chevron-down open\"&gt;&lt;/i&gt;\r\n  &lt;i class=\"fas fa-chevron-up close\"&gt;&lt;/i&gt;\r\n&lt;/header&gt;\r\n\r\n&lt;div id=\"mobileMenu\" class=\"hidden\"&gt;\r\n  &lt;ul class=\"mobile-nav\"&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Home&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Services&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;About&lt;/a&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;a href=\"#\"&gt;Contact&lt;/a&gt;\r\n    &lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>With or without the <code>overflow: hidden; / line-height: 0; / display: block</code> the result remains the same. </p>\n\n<p>Any help would be much appreciated. Thank you for your time.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1574887686, "post_id": 59078198, "comment_id": 104393516, "body": "The posted question does not appear to include any attempt at all to solve the problem. Stack Overflow expects you to <a href=\"https://meta.stackoverflow.com/questions/261592/\">try to solve your own problem first</a>, as your attempts help us to better understand what you want. Please edit the question to show what you&#39;ve tried, so as to illustrate a specific roadblock you&#39;re running into in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For more information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 11094319, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-clqrKpZYGVo/AAAAAAAAAAI/AAAAAAAAAyI/em9AiO6TSz8/photo.jpg?sz=128", "display_name": "Abhishek Shastri", "link": "https://stackoverflow.com/users/11094319/abhishek-shastri"}, "is_accepted": false, "score": -1, "last_activity_date": 1574888156, "creation_date": 1574888156, "answer_id": 59078301, "question_id": 59078198, "link": "https://stackoverflow.com/questions/59078198/get-a-sub-object-for-every-object-in-json-using-javascript/59078301#59078301", "title": "Get a sub-object for every object in JSON using Javascript", "body": "<p>Consider your data as <strong>data</strong> variable and design the way you want your new data to be structured</p>\n\n<pre><code>Object.keys(data).reduce((acc, val) =&gt; {\n    acc[val] = data[val]['2008']\n    return acc;\n}, {})\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>Object.keys(data).reduce((acc, val) =&gt; {\n    acc[val] = {'2008':  data[val]['2008']}\n    return acc;\n}, {})\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 12097920, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wHFZNU7Gewo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf_vbeuSNQGh9LOstXXDnehZjaO7Q/photo.jpg?sz=128", "display_name": "Ben", "link": "https://stackoverflow.com/users/12097920/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1574888156, "creation_date": 1574887628, "question_id": 59078198, "link": "https://stackoverflow.com/questions/59078198/get-a-sub-object-for-every-object-in-json-using-javascript", "title": "Get a sub-object for every object in JSON using Javascript", "body": "<p>I have JSON that is a list of county objects with several year sub-objects. The format is like this:</p>\n\n<pre><code>{\ncounty1: {\n  \"2007\": {\n    \"data1\": 5,\n    \"data2\": 58\n  },\n  \"2008\": {\n    \"data1\": 12,\n    \"data2\": 63\n  },\n},\n\ncounty2: {\n  \"2007\": {\n    \"data1\": 75,\n    \"data2\": 3\n  },\n  \"2008\": {\n    \"data1\": 9,\n    \"data2\": 8\n  },\n}\n\n}\n\n</code></pre>\n\n<p>Is there an easy way in javascript to return a similar structure, but with only a single year for each county i.e. 2008?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "edited": false, "score": 2, "creation_date": 1574887498, "post_id": 59078154, "comment_id": 104393430, "body": "map returns an array. If you have more roles, the array will contain more values. If you want to access the first item, you just call arr[0]."}, {"owner": {"reputation": 1276, "user_id": 7992204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OrY6A.jpg?s=128&g=1", "display_name": "lankovova", "link": "https://stackoverflow.com/users/7992204/lankovova"}, "edited": false, "score": 0, "creation_date": 1574887520, "post_id": 59078154, "comment_id": 104393440, "body": "<code>user.roles[0].displayText</code>"}, {"owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "reply_to_user": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "edited": false, "score": 0, "creation_date": 1574887623, "post_id": 59078154, "comment_id": 104393484, "body": "@Trace let&#39;s assume if I have more roles, then how would I display those without the brackets?"}, {"owner": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "edited": false, "score": 1, "creation_date": 1574887678, "post_id": 59078154, "comment_id": 104393511, "body": "@user10248088 Well not, because it would be an array... in what format would you want to receive multiple values otherwise? To concatenate string or stuff like that you would reduce."}, {"owner": {"reputation": 20397, "user_id": 3965631, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/T7nII.png?s=128&g=1", "display_name": "Tim Lewis", "link": "https://stackoverflow.com/users/3965631/tim-lewis"}, "edited": false, "score": 0, "creation_date": 1574887848, "post_id": 59078154, "comment_id": 104393578, "body": "Your question is confusing... Take your variable naming; <code>selectedRole</code> suggests you want to target a single role, but your comments conflict with that intent. Should that be <code>selectedRoles</code>? Should your output be <code>&quot;accountant, other, another&quot;</code> if there are multiple? Try to clarify your issue."}, {"owner": {"reputation": 19939, "user_id": 325727, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e098b1ade159310d7a4d6405eebd930a?s=128&d=identicon&r=PG&f=1", "display_name": "JK.", "link": "https://stackoverflow.com/users/325727/jk"}, "edited": false, "score": 0, "creation_date": 1574887958, "post_id": 59078154, "comment_id": 104393615, "body": "Arrays are a fundamental and basic part of javascript.  If you do not recognise that square brackets are an array, then you are most likely attempting to do something way above your ability level."}, {"owner": {"reputation": 5248, "user_id": 3435414, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5yW7T.jpg?s=128&g=1", "display_name": "Vitaliy Terziev", "link": "https://stackoverflow.com/users/3435414/vitaliy-terziev"}, "edited": false, "score": 0, "creation_date": 1574888715, "post_id": 59078154, "comment_id": 104393941, "body": "json dot stringify and parse after"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574887677, "post_id": 59078175, "comment_id": 104393510, "body": "if I have more roles, then it won&#39;t be 0 index anymore. How would I display the rest of the roles then?"}, {"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "reply_to_user": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574887807, "post_id": 59078175, "comment_id": 104393558, "body": "How would you want to &quot;display the rest of the roles&quot; without an array? You said you wanted a string."}, {"owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574888340, "post_id": 59078175, "comment_id": 104393780, "body": "I just updated my post. Please see the recent update."}, {"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "reply_to_user": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574888369, "post_id": 59078175, "comment_id": 104393787, "body": "Then you do need to use <code>.map</code>, and return a string inside the callback, then <code>.join</code>"}, {"owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "reply_to_user": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574896717, "post_id": 59078175, "comment_id": 104396435, "body": "If your desired output is as you&#39;ve said in your question, <code>Role 1: program manager Role 2: account Role 3: admin</code>, I&#39;m pretty sure my answer produces that much better than the answer you&#39;ve accepted, nor does my answer deserve a downvote, can you double-check?"}], "tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": -1, "last_activity_date": 1574888500, "last_edit_date": 1574888500, "creation_date": 1574887505, "answer_id": 59078175, "question_id": 59078154, "link": "https://stackoverflow.com/questions/59078154/in-javascript-how-can-i-store-an-array-of-object-value-into-string-variable/59078175#59078175", "title": "In JavaScript, how can I store an array of object value into string variable?", "body": "<p>If you don't need an array, but just the string, then don't use <code>.map</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const user = [\r\n  {\r\n    firstname: 'John',\r\n    lastname: 'Doe',\r\n    roles: [\r\n      {\r\n        roleId: 18,\r\n        displayText: 'accountant',\r\n        description: 'accountant'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst selectedRole = user[0].roles[0].displayText;\r\nconsole.log(selectedRole);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to join all roles into a string, use <code>.join</code> by whatever delimiter you want:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const user = [\r\n  {\r\n    firstname: 'John',\r\n    lastname: 'Doe',\r\n    roles: [\r\n      {\r\n        roleId: 18,\r\n        displayText: 'accountant',\r\n        description: 'accountant'\r\n      },\r\n      {\r\n        roleId: 20,\r\n        displayText: 'somethingElse',\r\n        description: 'somethingElse'\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\nconst selectedRole = user[0].roles.map((r, i) =&gt; `Role ${i + 1}: ${r.displayText}`).join('\\n');\r\nconsole.log(selectedRole);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "reply_to_user": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "edited": false, "score": 0, "creation_date": 1574889567, "post_id": 59078250, "comment_id": 104394247, "body": "I added the <code>index</code> functionality as well, in case that&#39;s desired. Also, why was my answer downvoted?"}], "tags": [], "owner": {"reputation": 3302, "user_id": 12431728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5fb7b733c152599fa38023820400e9b?s=128&d=identicon&r=PG&f=1", "display_name": "Matt U", "link": "https://stackoverflow.com/users/12431728/matt-u"}, "is_accepted": true, "score": -1, "last_activity_date": 1574889537, "last_edit_date": 1574889537, "creation_date": 1574887910, "answer_id": 59078250, "question_id": 59078154, "link": "https://stackoverflow.com/questions/59078154/in-javascript-how-can-i-store-an-array-of-object-value-into-string-variable/59078250#59078250", "title": "In JavaScript, how can I store an array of object value into string variable?", "body": "<p>If you want to get all elements of the array as a delimited string, you can use <code>Array.prototype.join</code>: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/join</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let selectedRoles = user.roles.map((role, index) =&gt; {\n  return role.displayText\n});\n\nlet rolesString = selectedRoles.join();\n</code></pre>\n\n<p>If <code>selectedRoles</code> is <code>['accountant', 'admin']</code> then the value of <code>rolesString</code> will be <code>accountant, admin</code>. The parameter of <code>join</code> is optional, but its value is the delimiter (comma is default).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>So if you don't want them as one string, but instead you want to display them individually on the screen. How are you displaying them? Are you using Angular or some other library/framework, or are you using plain JavaScript?</p>\n\n<p>If you're using Angular, for example, you'll use its mechanisms for looping over a collection. So:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul *ngFor=\"let role of selectedRoles; let idx = index\"&gt;\n    &lt;li&gt;Role {{idx}}: {{role}}&lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 10248088, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ccb909b1e21d56313faf8f6cdeaefb?s=128&d=identicon&r=PG&f=1", "display_name": "user10248088", "link": "https://stackoverflow.com/users/10248088/user10248088"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 59078250, "answer_count": 2, "score": -3, "last_activity_date": 1574889537, "creation_date": 1574887404, "last_edit_date": 1574888281, "question_id": 59078154, "link": "https://stackoverflow.com/questions/59078154/in-javascript-how-can-i-store-an-array-of-object-value-into-string-variable", "title": "In JavaScript, how can I store an array of object value into string variable?", "body": "<p>I have this object with the following data that I need to store in a variable:</p>\n\n<pre><code>user: [\n  {\n    firstname: 'John',\n    lastname: 'Doe',\n    roles: [\n      {\n        roleId: 18,\n        displayText: 'accountant',\n        description: 'accountant'\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>I am looping through this object as such:</p>\n\n<pre><code>let selectedRole = user.roles.map((role, index) =&gt; {\n  return role.displayText\n})\n</code></pre>\n\n<p><em>selectedRole</em> returns me the following output: [\"accountant\"]</p>\n\n<p><strong>For example:</strong>\nJohn Doe has only 1 role assigned to him -> account\nSam Williams has 3 roles assigned -> program manager, account, admin</p>\n\n<p>let's say if I click on Sam William's details then I want to see all the roles that I assigned to him in not comma separated but in the following layout:</p>\n\n<p>Role 1: program manager</p>\n\n<p>Role 2: account</p>\n\n<p>Role 3: admin</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11001732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bfNJQs51ajE/AAAAAAAAAAI/AAAAAAAAFEo/akmtvJCYRI4/photo.jpg?sz=128", "display_name": "Mihai824 HD", "link": "https://stackoverflow.com/users/11001732/mihai824-hd"}, "edited": false, "score": 0, "creation_date": 1574887736, "post_id": 59078165, "comment_id": 104393537, "body": "will  setValue() be my function and does this need to be inside of a class"}, {"owner": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "reply_to_user": {"reputation": 33, "user_id": 11001732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bfNJQs51ajE/AAAAAAAAAAI/AAAAAAAAFEo/akmtvJCYRI4/photo.jpg?sz=128", "display_name": "Mihai824 HD", "link": "https://stackoverflow.com/users/11001732/mihai824-hd"}, "edited": false, "score": 0, "creation_date": 1574888938, "post_id": 59078165, "comment_id": 104394026, "body": "@Mihai824HD I&#39;ve updated my answer to show it either way"}], "tags": [], "owner": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "is_accepted": false, "score": 1, "last_activity_date": 1574890634, "last_edit_date": 1574890634, "creation_date": 1574887462, "answer_id": 59078165, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react/59078165#59078165", "title": "How to change a innerHtml of an div in React?", "body": "<p>You would use state to hold the value and then display the value of that variable.</p>\n\n<p>If you're using functional components:</p>\n\n<pre><code>const App = () =&gt; {\n    const [values, setValues] = React.useState([0, 0, 0, 0, 0, 0]);\n    const [index, setIndex] = React.useState(0);\n\n    const foo = () =&gt; {\n        const tempValues = [...values];\n        tempValues[index] = index;\n        setValues(tempValues);\n        setIndex((index + 1) % values.length);\n    }\n\n    return (\n        &lt;div&gt;\n            { values.map((value) =&gt; &lt;div key={`square-${value}`}&gt;{value}&lt;/div&gt;) }\n            &lt;button onClick={ foo }&gt;Click me&lt;/button&gt;\n        &lt;/div&gt;\n    );\n};\n</code></pre>\n\n<p>In class-based components:</p>\n\n<pre><code>constructor(props) {\n    super(props);\n\n    this.state = {\n        values: [0, 0, 0, 0, 0, 0],\n        index: 0 \n    };\n\n    this.foo = this.foo.bind(this);\n}\n\nfoo() {\n    const tempValues = [...values];\n    const newIndex = index + 1;\n    tempValues[newIndex] = newIndex;\n\n    this.setState({\n        values: tempValues,\n        index: newIndex\n    });\n}\n\nrender() {\n    return (\n        &lt;div&gt;\n            { values.map((value) =&gt; &lt;div key={`square-${value}`&gt;value&lt;/div&gt;) }\n            &lt;button onClick={ this.foo}&gt;Click me&lt;/button&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1574889659, "post_id": 59078354, "comment_id": 104394271, "body": "You may want to include how OP would have to change <code>foo</code> to make it work with this approach."}, {"owner": {"reputation": 1555, "user_id": 6114445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uSwiF.jpg?s=128&g=1", "display_name": "Jonathan Rys", "link": "https://stackoverflow.com/users/6114445/jonathan-rys"}, "edited": false, "score": 0, "creation_date": 1574890716, "post_id": 59078354, "comment_id": 104394667, "body": "Note the name <code>dangerouslySetInnerHTML</code> indicates a potential vulnerability in your code."}], "tags": [], "owner": {"reputation": 135, "user_id": 12448148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2Zze9.jpg?s=128&g=1", "display_name": "Zinho", "link": "https://stackoverflow.com/users/12448148/zinho"}, "is_accepted": false, "score": 1, "last_activity_date": 1574892329, "last_edit_date": 1574892329, "creation_date": 1574888388, "answer_id": 59078354, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react/59078354#59078354", "title": "How to change a innerHtml of an div in React?", "body": "<p>If you need to set the <code>innerHTML</code> of a React component, you can try this:</p>\n\n<pre><code>return &lt;div dangerouslySetInnerHTML={foo()} /&gt;;\n</code></pre>\n\n<p>the <code>foo()</code> here returns the value you want to post in the div.</p>\n\n<p>But in my opinion, your way of thinking on this problem is wrong.</p>\n\n<p>React is cool, but the logic is a bit different of common programming :D</p>\n"}, {"tags": [], "owner": {"reputation": 915, "user_id": 1666308, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Xf3Ag.jpg?s=128&g=1", "display_name": "VPaul", "link": "https://stackoverflow.com/users/1666308/vpaul"}, "is_accepted": false, "score": 0, "last_activity_date": 1574889169, "creation_date": 1574889169, "answer_id": 59078516, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react/59078516#59078516", "title": "How to change a innerHtml of an div in React?", "body": "<p>The ideal approach would be to have the divs created by React (using its render method). Then you can pass a variable from array, which is stored in your state. You then just need to change this array within the state and it'll reflect in your view. If you need a working example, just let me know.</p>\n\n<p>However, if you want to update the divs that are not created using react, then you need to use a dirty approach. I would suggest not to use react if you can't generate the view from react.</p>\n"}, {"tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": false, "score": 2, "last_activity_date": 1574889608, "last_edit_date": 1574889608, "creation_date": 1574889285, "answer_id": 59078535, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react/59078535#59078535", "title": "How to change a innerHtml of an div in React?", "body": "<p>The \"React way\" is to think about this is:</p>\n\n<ol>\n<li>What should the UI look like for the given data?</li>\n<li>How to update the data?</li>\n</ol>\n\n<p>Converting your problem description to this kind of thinking, we would start with an array with six values. For each of these values we are going to render a div:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [0,0,0,0,0,0];\r\n  \r\nfunction MyComponent() {  \r\n  return (\r\n    &lt;div&gt;\r\n      {data.map((value, i) =&gt; &lt;div key={i}&gt;{value}&lt;/div&gt;)}\r\n    &lt;/div&gt;\r\n );\r\n}\r\n\r\nReactDOM.render(&lt;MyComponent /&gt;, document.body);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now that we can render the data, how are we going to change it? From your description it sounds like every time a function is called, you want change the first <code>0</code> value in the array to another value. This can easily be done with:</p>\n\n<pre><code>// Find the index of the first 0 value\nconst index = data.indexOf(0);\nif (index &gt; -1) {\n  // if it exists, update the value\n  data[index] = index + 1;\n}\n</code></pre>\n\n<p>To make this work properly with React we have to do two things: Keep track of the updated data in state, so that React rerenders the component when it changes, and update the data in a way that creates a new array instead of mutating the existing array.</p>\n\n<p>You are not explaining how/when the function is called, so I'm going to add a button that would trigger such a function. If the function is triggered differently then the component needs to be adjusted accordingly of course.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function update(data) {\r\n  const index = data.indexOf(0);\r\n  if (index &gt; -1) {\r\n    data = Array.from(data); // create a copy of the array\r\n    data[index] = index + 1;\r\n    return data;\r\n  }\r\n  return data;\r\n}\r\n  \r\nfunction MyComponent() {\r\n  var [data, setData] = React.useState([0,0,0,0,0,0]);\r\n  \r\n  return (\r\n    &lt;div&gt;\r\n      {data.map((value, i) =&gt; &lt;div key={i}&gt;{value}&lt;/div&gt;)}\r\n      &lt;button onClick={() =&gt; setData(update(data))}&gt;Update&lt;/button&gt;\r\n    &lt;/div&gt;\r\n );\r\n}\r\n\r\nReactDOM.render(&lt;MyComponent /&gt;, document.body);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.8.0/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.8.0/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 947, "user_id": 2728710, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4bcbb875888d938cc5786176337e4c19?s=128&d=identicon&r=PG&f=1", "display_name": "pom421", "link": "https://stackoverflow.com/users/2728710/pom421"}, "is_accepted": false, "score": 0, "last_activity_date": 1574897412, "last_edit_date": 1574897412, "creation_date": 1574896986, "answer_id": 59079746, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react/59079746#59079746", "title": "How to change a innerHtml of an div in React?", "body": "<p>React is good to separate the concerns between the view and the data.\nSo the concept of <code>state</code> for this example is useful to store the data. \nAnd the <code>JSX</code>, the React \"template\" language, to display the view.</p>\n\n<p>I propose this <a href=\"https://codesandbox.io/s/infallible-dawn-e0rl7\" rel=\"nofollow noreferrer\">solution</a>:</p>\n\n<pre><code>import React from \"react\";\n\nclass Boxes extends React.Component {\n  state = {\n    divs: [1, 2, 3, 0, 0, 0]\n  };\n\n  add() {\n    // get the index of the first element equals to the condition\n    const index = this.state.divs.findIndex(elt =&gt; elt === 0);\n    // clone the array (best practice)\n    const newArray = [...this.state.divs];\n    // splice, i.e. remove the element at index AND add the new character\n    newArray.splice(index, 1, \"X\");\n\n    // update the state\n    // this is responsible, under the hood, to call the render method\n    this.setState({ divs: newArray });\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;h1&gt;Boxes&lt;/h1&gt;\n        {/* iterate over the state.divs array */}\n        {this.state.divs.map(function(elt, index) {\n          return (\n            &lt;div\n              key={index}\n              style={{ border: \"1px solid gray\", marginBottom: 10 }}\n            &gt;\n              {elt}\n            &lt;/div&gt;\n          );\n        })}\n\n        &lt;button onClick={() =&gt; this.add()}&gt;Add a value&lt;/button&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Boxes;\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11001732, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bfNJQs51ajE/AAAAAAAAAAI/AAAAAAAAFEo/akmtvJCYRI4/photo.jpg?sz=128", "display_name": "Mihai824 HD", "link": "https://stackoverflow.com/users/11001732/mihai824-hd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136, "favorite_count": 0, "answer_count": 5, "score": 1, "last_activity_date": 1574899585, "creation_date": 1574887146, "last_edit_date": 1574899585, "question_id": 59078097, "link": "https://stackoverflow.com/questions/59078097/how-to-change-a-innerhtml-of-an-div-in-react", "title": "How to change a innerHtml of an div in React?", "body": "<p>I'm a newbie in React. I have 6 divs and whenever I call <code>foo()</code> I want to add a number to the first div that's empty.</p>\n\n<p>For example, let's say that the values of the six divs are 1,2,0,0,0,0 and when I call <code>foo()</code>, I want to have 1,2,3,0,0,0.</p>\n\n<p><strong>Here is what I've tried:</strong></p>\n\n<pre><code>var index = 1;\n\nfunction foo() {\n    let var x = document.getElementsByClassName(\"square\") // square is the class of my div\n    x[index-1].innerHTML = index.toString() \n    index++;\n}\n</code></pre>\n\n<p>I don't know when I should call <code>foo()</code>, and I don't know how should I write <code>foo()</code>.</p>\n"}, {"tags": ["javascript", "typescript", "vue.js", "npm", "webpack"], "comments": [{"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 1, "creation_date": 1574888243, "post_id": 59078090, "comment_id": 104393739, "body": "There probably is a race condition. In the moment the <code>console.log()</code>s are called the <code>baseURL</code> is not there yet. But when you expand the display in the console, it had enough time to load (whoever loads it had time to complete)."}, {"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 1, "creation_date": 1574888384, "post_id": 59078090, "comment_id": 104393795, "body": "I would need to see the rest of your Vuex code, but normally you can inject the state (and other methods) into the action like this <code>getUsers({ commit, state, rootState, rootGetters }) { console.log(state.baseURL) }</code>"}, {"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 1, "creation_date": 1574888496, "post_id": 59078090, "comment_id": 104393835, "body": "Also if it is a race condition you can wrap the method like so <code>getUsers(context) { this.$nextTick(() =&gt; { .console.log(&#39;getUsers().context.state.baseURL=&#39;, context.state.baseURL) }) }</code>"}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1574969014, "post_id": 59078090, "comment_id": 104423966, "body": "@acdcjunior, Thank you for the suggestion. But the value has been set before the code is running."}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1574969118, "post_id": 59078090, "comment_id": 104423998, "body": "@TimWickstrom, I am sure it is not a race condition. I will try your other suggestion. Thanks."}, {"owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "edited": false, "score": 0, "creation_date": 1574975229, "post_id": 59078090, "comment_id": 104425684, "body": "The code that supposedly updates the value may have been triggered, but it probably hasn&#39;t been fulfilled (if it is a promise). The race condition is not in your code per se, but in it with relation to the dev tool&#39;s console. If the <code>$nextTick()</code> suggestion works, then it is a race condition (again, in relation to the console)"}, {"owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "reply_to_user": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1575315889, "post_id": 59078090, "comment_id": 104517324, "body": "Hi @TimWickstrom, and acdcjunior, both of you are correct. I tried Tim&#39;s another comment, and found the value is not ready when the function called. -- So,it is a race condition. I will answer this post to give more details, and how did I fix it; just in case, someone also meets the same situation. Thank you once again."}], "answers": [{"tags": [], "owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1575316813, "creation_date": 1575316813, "answer_id": 59145858, "question_id": 59078090, "link": "https://stackoverflow.com/questions/59078090/cannot-get-vue-states-element-vue-js-js-ts/59145858#59145858", "title": "Cannot get Vue state&#39;s element (Vue.js/JS/TS)", "body": "<p>Thanks @acdcjunior and @TimWickstrom, <br>\nI finally found the cause and a solution. Here are the codes comparison. The main difference is where to load the config value.\n<br> \n<br> <strong>The original code (problematic)</strong>:</p>\n\n<pre><code>new Vue({\n  router,\n  store,\n  vuetify,\n  render: h =&gt; h(App),\n}).$mount('#app');\n\nstore.commit(UPDATE_BASE_URL, {\n  baseURL: process.env.VUE_APP_BASE_URL,\n});\n</code></pre>\n\n<p><br> <strong>The working code:</strong></p>\n\n<pre><code>  new Vue({\n  router,\n  store,\n  vuetify,\n  created() {\n    this.$store.commit(UPDATE_BASE_URL, {\n      baseURL: process.env.VUE_APP_BASE_URL,\n    });\n  },\n  render: h =&gt; h(App),\n}).$mount('#app');\n</code></pre>\n\n<p><br>S<strong>creenshot for the working code</strong>:<br>\n<a href=\"https://i.stack.imgur.com/8NMzH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8NMzH.png\" alt=\"enter image description here\"></a>\n<br>Hope it helps who meets a similar issue.</p>\n"}], "owner": {"reputation": 499, "user_id": 3836941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AkyiG.png?s=128&g=1", "display_name": "Leo.W", "link": "https://stackoverflow.com/users/3836941/leo-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1575316813, "creation_date": 1574887105, "question_id": 59078090, "link": "https://stackoverflow.com/questions/59078090/cannot-get-vue-states-element-vue-js-js-ts", "title": "Cannot get Vue state&#39;s element (Vue.js/JS/TS)", "body": "<p>I met an issue today with Vue.</p>\n\n<p>In a function, I cannot get an element from a state.\nBut when I console.log() the state, the element is there.\nHow to fix it?</p>\n\n<p>The code:</p>\n\n<pre><code>export const actions: ActionTree&lt;IState, IState&gt; = {\n    getUsers(context) {\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context=', context);\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context.state=', context.state);\n      // eslint-disable-next-line no-console\n      console.log('getUsers().context.state.baseURL=', context.state.baseURL);\n      // do something...\n    }\n}\n</code></pre>\n\n<p>The console's log:<br><br>\nThe 1st log is OK. I can see the value of the <strong>baseURL</strong>.\n<a href=\"https://i.stack.imgur.com/yZRGI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yZRGI.png\" alt=\"enter image description here\"></a></p>\n\n<p>The 2nd log is OK too. can see the value of the <strong>baseURL</strong>.\n<a href=\"https://i.stack.imgur.com/sIDzW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sIDzW.png\" alt=\"enter image description here\"></a></p>\n\n<p>The 3rd log is the problem. I cannot get the value of the <strong>baseURL</strong>!!!\n<a href=\"https://i.stack.imgur.com/KpHBK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpHBK.png\" alt=\"enter image description here\"></a></p>\n\n<p>package.json file:</p>\n\n<pre><code>{\n  \"name\": \"ui\",\n  \"version\": \"2.0.0-rc\",\n  \"private\": true,\n  \"author\": \"Leo Wu &lt;wudongyin@gmail.com&gt;\",\n  \"scripts\": {\n    \"serve\": \"vue-cli-service serve\",\n    \"build\": \"vue-cli-service build\",\n    \"lint\": \"vue-cli-service lint\"\n  },\n  \"dependencies\": {\n    \"axios\": \"^0.19.0\",\n    \"core-js\": \"^3.3.2\",\n    \"qs\": \"^6.9.1\",\n    \"uuid\": \"^3.3.3\",\n    \"vue\": \"^2.6.10\",\n    \"vue-class-component\": \"^7.0.2\",\n    \"vue-property-decorator\": \"^8.3.0\",\n    \"vue-router\": \"^3.1.3\",\n    \"vuetify\": \"^2.1.0\",\n    \"vuex\": \"^3.0.1\",\n    \"vuex-class\": \"^0.3.2\"\n  },\n  \"devDependencies\": {\n    \"@vue/cli-plugin-babel\": \"^4.0.0\",\n    \"@vue/cli-plugin-eslint\": \"^4.0.0\",\n    \"@vue/cli-plugin-typescript\": \"^4.0.0\",\n    \"@vue/cli-service\": \"^4.0.0\",\n    \"@vue/eslint-config-airbnb\": \"^4.0.0\",\n    \"@vue/eslint-config-typescript\": \"^4.0.0\",\n    \"eslint\": \"^5.16.0\",\n    \"eslint-plugin-vue\": \"^5.0.0\",\n    \"node-sass\": \"^4.12.0\",\n    \"sass\": \"^1.19.0\",\n    \"sass-loader\": \"^8.0.0\",\n    \"typescript\": \"~3.5.3\",\n    \"vue-cli-plugin-vuetify\": \"^2.0.2\",\n    \"vue-template-compiler\": \"^2.6.10\",\n    \"vuetify-loader\": \"^1.3.0\"\n  },\n  \"eslintConfig\": {\n    \"root\": true,\n    \"env\": {\n      \"node\": true\n    },\n    \"extends\": [\n      \"plugin:vue/essential\",\n      \"@vue/airbnb\",\n      \"@vue/typescript\"\n    ],\n    \"rules\": {\n      \"max-len\": \"off\",\n      \"no-param-reassign\": \"off\"\n    },\n    \"parserOptions\": {\n      \"parser\": \"@typescript-eslint/parser\"\n    }\n  },\n  \"postcss\": {\n    \"plugins\": {\n      \"autoprefixer\": {}\n    }\n  },\n  \"browserslist\": [\n    \"&gt; 1%\",\n    \"last 2 versions\"\n  ]\n}\n</code></pre>\n\n<p>Please let me know if you need more information.<br>\nAny help will be appreciated.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1574887001, "post_id": 59078059, "comment_id": 104393241, "body": "You can use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions\" rel=\"nofollow noreferrer\">regular expression</a> to see if a string matches a specific format. However, whether that is &quot;good enough&quot; depends on your requirements. See <a href=\"https://stackoverflow.com/q/15491894/218196\">stackoverflow.com/q/15491894/218196</a> for details."}, {"owner": {"reputation": 2061, "user_id": 2359858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/judcA.jpg?s=128&g=1", "display_name": "diogenesgg", "link": "https://stackoverflow.com/users/2359858/diogenesgg"}, "edited": false, "score": 0, "creation_date": 1574887729, "post_id": 59078059, "comment_id": 104393531, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15491894/regex-to-validate-date-format-dd-mm-yyyy\">Regex to validate date format dd/mm/yyyy</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 2, "last_activity_date": 1574887490, "creation_date": 1574887490, "answer_id": 59078174, "question_id": 59078059, "link": "https://stackoverflow.com/questions/59078059/javascript-ensure-date-is-formatted-yyyy-mm-dd/59078174#59078174", "title": "Javascript - Ensure Date is Formatted YYYY-MM-DD", "body": "<p>You can use <code>regex</code> to ensure the <strong>structure</strong>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = ['2019-99-99', 'bla-bal-bla', '2019-11-20'];\r\n\r\nconst wrongdates = dates.filter(date =&gt; !/\\d{4}\\-[01]\\d\\-[0-3]\\d/.test(date));\r\n\r\nconsole.log(wrongdates);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1928, "user_id": 10549827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XGgBZ.png?s=128&g=1", "display_name": "matthew-e-brown", "link": "https://stackoverflow.com/users/10549827/matthew-e-brown"}, "is_accepted": false, "score": 1, "last_activity_date": 1574967716, "last_edit_date": 1574967716, "creation_date": 1574887788, "answer_id": 59078224, "question_id": 59078059, "link": "https://stackoverflow.com/questions/59078059/javascript-ensure-date-is-formatted-yyyy-mm-dd/59078224#59078224", "title": "Javascript - Ensure Date is Formatted YYYY-MM-DD", "body": "<p>I would use a regular expression. This one should work for you:</p>\n\n<pre class=\"lang-regex prettyprint-override\"><code>\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])\n</code></pre>\n\n<p>This checks for:</p>\n\n<pre><code>\\d{4}\n  - four digits  \n-\n  - followed by a hyphen  \n(?:0[1-9]|1[0-2])\n  - one of:\n    a. a zero followed by any number 1 to 9 (months 01 to 09)\n    b. a one followed by any number 0 to 2 (months 10 to 12)\n-\n  - followed by a hyphen\n(?:0[1-9]|[12][0-9]|3[01])\n  - using the same logic as above, any number from 01 to 31.\n</code></pre>\n\n<p><strong>These more complex groups will mean that dates outside of the acceptable range (things like 2019-49-40) will also fail.</strong></p>\n\n<p>If you want to accept dates like 2019-1-4 (which, given you're working with SQL, is probably a bad plan, but just in case), simply put a <code>?</code> after the zeroes in the day and month sections (<code>\\d{4}-(?:0?[1-9]|1?[0-2])-(?:0?[1-9]|[12]?[0-9]|3?[01])</code>), to allow them to match <code>0</code> or <code>1</code> times (make them optional).</p>\n\n<p>Hopefully you notice that if your only data source is a plain-old string, it is impossible to verify whether someone enters a date incorrectly (ie, Feb 9th, 2019 &rarr; 2019-02-09 and 2019-09-02 will both be \"correct\").</p>\n\n<hr>\n\n<p>To do this in Javascript, you can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp/test\" rel=\"nofollow noreferrer\"><code>RegExp.prototype.test</code></a> method. You can also leverage <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array.prototype.filter</code></a> if you're making a new array (and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array.prototype.map</code></a> if you're working with DOM elements).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = [...document.querySelectorAll('input')];\r\n\r\nconst wrongdates = dates.map(el =&gt; el.value).filter(date =&gt; !/\\d{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])/.test(date));\r\n\r\nconsole.log(wrongdates)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" value=\"2019-01-31\"&gt;\r\n&lt;input type=\"text\" value=\"2019-15-52\"&gt;\r\n&lt;input type=\"text\" value=\"2005-09-17\"&gt;\r\n&lt;input type=\"text\" value=\"2001-06-13\"&gt;\r\n&lt;input type=\"text\" value=\"2001-06-13\"&gt;\r\n&lt;input type=\"text\" value=\"2001-06-13\"&gt;\r\n&lt;input type=\"text\" value=\"06-28-13\"&gt;\r\n&lt;input type=\"text\" value=\"Jan-12-2019\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You need the <code>!</code> because <code>RegExp.test</code> returns <code>true</code> when it matches, and you're trying to make a list of <strong>incorrect</strong> dates.</p>\n"}], "owner": {"reputation": 23, "user_id": 12414208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24e867b80b92e16a65d343eb8b3c2d91?s=128&d=identicon&r=PG&f=1", "display_name": "Anna", "link": "https://stackoverflow.com/users/12414208/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574967716, "creation_date": 1574886947, "question_id": 59078059, "link": "https://stackoverflow.com/questions/59078059/javascript-ensure-date-is-formatted-yyyy-mm-dd", "title": "Javascript - Ensure Date is Formatted YYYY-MM-DD", "body": "<p>I am working with a mysql database that takes dates as YYYY-MM-DD. I have an array named dates that contains so inputted values, I am trying to check to see if the inputted values are in the format YYYY-MM-DD and if they aren't then add them to the wrongdates array however i am completely lost on the logic that goes in the if statement to check if the format is correct</p>\n\n<pre><code>var wrongdates = [];\nfor(x=0;x&lt;dates.length&lt;x++){\n    if(.........){\n        wrongdates.push(dates[x].value);\n    }\n}\nwindow.alert(wrongdates);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "puppeteer"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 3383670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c78ab57587afc2f9c1ba6ad7fc4707?s=128&d=identicon&r=PG&f=1", "display_name": "silvakle", "link": "https://stackoverflow.com/users/3383670/silvakle"}, "edited": false, "score": 1, "creation_date": 1574893087, "post_id": 59078709, "comment_id": 104395439, "body": "Thanks a bunch! I&#39;m getting awfully confused with all the different ways to pass parameters in puppeteer (migrating from casperjs and phantomjs), so this sure helps (I also just discovered I can invoke the eval methods directly on my JSHandle object,which will definitely help (need to build an agGrid library to manipulate agGrid objects to test with jestJS)"}], "tags": [], "owner": {"reputation": 12868, "user_id": 2373249, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/byIOk.jpg?s=128&g=1", "display_name": "hardkoded", "link": "https://stackoverflow.com/users/2373249/hardkoded"}, "is_accepted": true, "score": 2, "last_activity_date": 1574890238, "creation_date": 1574890238, "answer_id": 59078709, "question_id": 59078005, "link": "https://stackoverflow.com/questions/59078005/puppeteer-evaluate-functions-not-accepting-jshandles-or-elementhandles-as-variab/59078709#59078709", "title": "puppeteer evaluate functions not accepting JSHandles or ElementHandles as variables", "body": "<p>The problem is that when you build your first argument like this <code>{grid}</code>, the resulting object is not an instance of <code>JSHandle</code>, so the evaluate won't treat that correctly.</p>\n\n<p>This should work</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const detectedColumns = await this.page.evaluate(grid =&gt; {\n//Some code\n}, grid);\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 3383670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c78ab57587afc2f9c1ba6ad7fc4707?s=128&d=identicon&r=PG&f=1", "display_name": "silvakle", "link": "https://stackoverflow.com/users/3383670/silvakle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 59078709, "answer_count": 1, "score": 0, "last_activity_date": 1574890238, "creation_date": 1574886633, "last_edit_date": 1574889204, "question_id": 59078005, "link": "https://stackoverflow.com/questions/59078005/puppeteer-evaluate-functions-not-accepting-jshandles-or-elementhandles-as-variab", "title": "puppeteer evaluate functions not accepting JSHandles or ElementHandles as variables", "body": "<p>I can pass native objects (strings, lists, numbers, etc) just fine, but whenever I try to pass in a JSHandle or ElementHandle, I get this error msg: \"<strong>TypeError: Converting circular structure to JSON Are you passing a nested JSHandle? at JSON.stringify ()</strong>\"</p>\n\n<p>This is my code:</p>\n\n<pre><code>    async getColumnsNames(id='dashboardGrid') {\n    await this.loadObjects();\n    const grid = this.table\n    const detectedColumns = await this.page.evaluate(({grid}) =&gt; {\n        //const grid = document.getElementById(id)\n        const header = grid.getElementsByClassName('ag-header-viewport')[0]\n        const labelRow = header.getElementsByClassName('ag-header-row')[0]\n        const cells = labelRow.getElementsByClassName('ag-header-cell-text')\n        var children = []\n        for(x = 0; x &lt; cells.length; x++) {\n             cells[x].innerText.length &gt; 0 ? children.push(cells[x].innerText) : null\n        }\n        return children\n    }, {grid});\n    console.log(detectedColumns)\n}\n</code></pre>\n\n<p>So if I pass 'id' to obtain inside the 'grid' element, no problem (it's a CSS selector), but if I try to pass a handle (grid) directly, I get that error msg.</p>\n\n<p>Said handle is exactly this:</p>\n\n<pre><code>this.table = await this.page.$(this.tableID);\n</code></pre>\n\n<p>Which totally works elsewhere for detecting the corresponding DOM element (this.tableID is '[id=\"dashboardGrid\"]'), so I know the handle is NOT the problem.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 659, "user_id": 12347754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qqes7.jpg?s=128&g=1", "display_name": "V.Volkov", "link": "https://stackoverflow.com/users/12347754/v-volkov"}, "edited": false, "score": 0, "creation_date": 1574887781, "post_id": 59077977, "comment_id": 104393550, "body": "Do U want to hide or disable all ~similar elements, if one of them is clicked?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8209573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab823af9a1c3ac27d82e9be5feee12f2?s=128&d=identicon&r=PG&f=1", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0434\u044b\u043d\u0446\u0435\u0432", "link": "https://stackoverflow.com/users/8209573/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d0%b4%d1%8b%d0%bd%d1%86%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1574887111, "post_id": 59078022, "comment_id": 104393286, "body": "$(&#39;[class*=&quot;button&quot;][href*=&quot;/contact/&quot;]:visible&#39;) is not helping. For some reason it still see the object  here is the link <a href=\"https://www.thedigitalinsights.com/\" rel=\"nofollow noreferrer\">thedigitalinsights.com</a>"}, {"owner": {"reputation": 1159, "user_id": 3443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfkEC.jpg?s=128&g=1", "display_name": "MarkSkayff", "link": "https://stackoverflow.com/users/3443551/markskayff"}, "reply_to_user": {"reputation": 11, "user_id": 8209573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab823af9a1c3ac27d82e9be5feee12f2?s=128&d=identicon&r=PG&f=1", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0434\u044b\u043d\u0446\u0435\u0432", "link": "https://stackoverflow.com/users/8209573/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d0%b4%d1%8b%d0%bd%d1%86%d0%b5%d0%b2"}, "edited": false, "score": 0, "creation_date": 1574887963, "post_id": 59078022, "comment_id": 104393617, "body": "You want the click event only to be applied on elements that aren&#39;t hidden. The selector logic to target not hidden elements is the :visible selector. If you can further explain what are you after it&#39;d help."}], "tags": [], "owner": {"reputation": 1159, "user_id": 3443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfkEC.jpg?s=128&g=1", "display_name": "MarkSkayff", "link": "https://stackoverflow.com/users/3443551/markskayff"}, "is_accepted": false, "score": 1, "last_activity_date": 1574886772, "creation_date": 1574886772, "answer_id": 59078022, "question_id": 59077977, "link": "https://stackoverflow.com/questions/59077977/how-to-do-on-click-tracking-only-on-css-not-hidden-elements/59078022#59078022", "title": "how to do on click tracking only on css not hidden elements", "body": "<p>You may use the <code>:visible</code> jQuery selector.</p>\n\n<pre><code>$('[class*=\"button\"][href*=\"/contact/\"]:visible').on('click', function(){\n  var clicked = this;\n  $('[class*=\"button\"][href*=\"/contact/\"]').each(function(i){\n    if (this == clicked) dataLayer.push({ 'event':'Contact Us Click','Number':i});\n  });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8246956"}, "is_accepted": false, "score": 0, "last_activity_date": 1574886930, "creation_date": 1574886930, "answer_id": 59078055, "question_id": 59077977, "link": "https://stackoverflow.com/questions/59077977/how-to-do-on-click-tracking-only-on-css-not-hidden-elements/59078055#59078055", "title": "how to do on click tracking only on css not hidden elements", "body": "<p>Another option is to use ID's (provided each class element has an ID):</p>\n\n<pre><code>$('[class*=\"button\"][href*=\"/contact/\"]').on('click', function(){\n  var id = this.id;\n  $('[class*=\"button\"][href*=\"/contact/\"]').each(function(){\n    // find some way to get the value of i\n    if (this.id == id) dataLayer.push({ 'event':'Contact Us Click','Number':i});\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8209573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab823af9a1c3ac27d82e9be5feee12f2?s=128&d=identicon&r=PG&f=1", "display_name": "\u041c\u0430\u043a\u0441\u0438\u043c \u0410\u0434\u044b\u043d\u0446\u0435\u0432", "link": "https://stackoverflow.com/users/8209573/%d0%9c%d0%b0%d0%ba%d1%81%d0%b8%d0%bc-%d0%90%d0%b4%d1%8b%d0%bd%d1%86%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574886930, "creation_date": 1574886533, "question_id": 59077977, "link": "https://stackoverflow.com/questions/59077977/how-to-do-on-click-tracking-only-on-css-not-hidden-elements", "title": "how to do on click tracking only on css not hidden elements", "body": "<p>Partly done, but don't know how to do on click only on css not hidden elements</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('[class*=\"button\"][href*=\"/contact/\"]').on('click', function(){\n  var clicked = this;\n  $('[class*=\"button\"][href*=\"/contact/\"]').each(function(i){\n    if (this == clicked) dataLayer.push({ 'event':'Contact Us Click','Number':i});\n  });\n});\n</code></pre>\n\n\n"}, {"tags": ["javascript", "visual-studio-code", "eslint", "vscode-settings"], "answers": [{"comments": [{"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1575317246, "post_id": 59135671, "comment_id": 104517864, "body": "sorry but can this problem be fixed via changing extension settings?"}, {"owner": {"reputation": 3825, "user_id": 5062890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iqsaw.jpg?s=128&g=1", "display_name": "Masih Jahangiri", "link": "https://stackoverflow.com/users/5062890/masih-jahangiri"}, "reply_to_user": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1575363301, "post_id": 59135671, "comment_id": 104531081, "body": "No, you should remove TSLint and install ESLint vscode extension."}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1575481547, "post_id": 59135671, "comment_id": 104584685, "body": "I already installed ESLint but is it able to deal with TS yet?"}, {"owner": {"reputation": 3825, "user_id": 5062890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iqsaw.jpg?s=128&g=1", "display_name": "Masih Jahangiri", "link": "https://stackoverflow.com/users/5062890/masih-jahangiri"}, "reply_to_user": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 1, "creation_date": 1575520316, "post_id": 59135671, "comment_id": 104596261, "body": "Yes, you can use TSLint but it will deprecate soon. I recommend not use it because not support in future."}], "tags": [], "owner": {"reputation": 3825, "user_id": 5062890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Iqsaw.jpg?s=128&g=1", "display_name": "Masih Jahangiri", "link": "https://stackoverflow.com/users/5062890/masih-jahangiri"}, "is_accepted": true, "score": 7, "last_activity_date": 1575277933, "creation_date": 1575277933, "answer_id": 59135671, "question_id": 59077906, "link": "https://stackoverflow.com/questions/59077906/setting-up-vs-code-linting-for-for-tslint-nestjs-and-eslint-vuejs/59135671#59135671", "title": "setting up VS Code linting for for TSLint (NestJs) and ESLint (VueJs)", "body": "<p>According to <a href=\"https://github.com/palantir/tslint/issues/4534#issue-413722441\" rel=\"noreferrer\">this post</a> TSLint Deprecated in 2019. You must use ESLint for typescript.\nI share my config and you can use that or edit some part of it.</p>\n\n<p>tsconfig.json:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n      // Target latest version of ECMAScript.\n      \"target\": \"esnext\",\n      // path to output directory\n      \"outDir\": \"./dist\",\n      // enable strict null checks as a best practice\n      \"strictNullChecks\": true,\n      // Search under node_modules for non-relative imports.\n      \"moduleResolution\": \"node\",\n      // Process &amp; infer types from .js files.\n      \"allowJs\": true,\n      // Don't emit; allow Babel to transform files.\n      \"noEmit\": true,\n      // Enable strictest settings like strictNullChecks &amp; noImplicitAny.\n      \"strict\": true,\n      // Import non-ES modules as default imports.\n      \"esModuleInterop\": true,\n      // use typescript to transpile jsx to js\n      \"baseUrl\": \"./src\",\n      \"module\": \"esnext\",\n      \"removeComments\": true,\n      \"alwaysStrict\": true,\n      \"allowUnreachableCode\": false,\n      \"noImplicitAny\": true,\n      \"noImplicitThis\": true,\n      \"noUnusedLocals\": true,\n      \"noUnusedParameters\": true,\n      \"noImplicitReturns\": true,\n      \"noFallthroughCasesInSwitch\": true,\n      \"forceConsistentCasingInFileNames\": true,\n      \"importHelpers\": true,\n      \"typeRoots\": [\n        \"src/@types\",\n        \"node_modules/@types\"\n      ]\n  }\n}\n</code></pre>\n\n<p>.eslintrc.js</p>\n\n<pre><code>module.exports = {\n    parser: '@typescript-eslint/parser',\n    plugins: ['@typescript-eslint'],\n    extends: [\n        \"eslint:recommended\",\n        \"plugin:@typescript-eslint/eslint-recommended\",\n        \"plugin:@typescript-eslint/recommended\",\n        \"plugin:react/recommended\",\n        \"plugin:prettier/recommended\",\n        \"prettier/@typescript-eslint\",\n    ],\n    env: {\n        \"browser\": true,\n        \"es6\": true,\n        \"node\": true\n    },\n    overrides: [\n        {\n            \"files\": [\"*.tsx\"],\n            \"rules\": {\n                \"react/prop-types\": \"off\"\n            }\n        },\n        {\n            \"files\": [\"*.js\"],\n            \"rules\": {\n                \"@typescript-eslint/no-var-requires\": \"off\"\n            }\n        }\n    ]\n}\n</code></pre>\n\n<p>.prettierrc.js</p>\n\n<pre><code>module.exports =  {\n  semi:  true,\n  trailingComma:  'all',\n  singleQuote:  true,\n  printWidth:  120,\n  tabWidth:  2,\n};\n</code></pre>\n"}], "owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5362, "favorite_count": 1, "accepted_answer_id": 59135671, "answer_count": 1, "score": 9, "last_activity_date": 1575277933, "creation_date": 1574886168, "last_edit_date": 1574955786, "question_id": 59077906, "link": "https://stackoverflow.com/questions/59077906/setting-up-vs-code-linting-for-for-tslint-nestjs-and-eslint-vuejs", "title": "setting up VS Code linting for for TSLint (NestJs) and ESLint (VueJs)", "body": "<p>I'm using NestJs with Typescript / TSLint and VueJs with Javascript / ESLint. My VSCode extensions are ESLint, TSLint, Prettier and Vetur. When developing the backend everything is fine, the code gets formatted well. When developing with Vue, I use the airbnb linter config and I'm having problems with it. </p>\n\n<p>Let's say I have this vue instance</p>\n\n<pre><code>&lt;script&gt;\nexport default {\n  components: {},\n  data() {\n    return {\n      foo: '',\n    };\n  },\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>and I save the file, the formatter updates the code to</p>\n\n<pre><code>&lt;script&gt;\nexport default {\n  components: {},\n  data() {\n    return {\n      foo: \"\"\n    };\n  }\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>I can't run the code because the linter throws errors based on the airbnb linter config. Although it shouldn't fix the code because I've already used the airbnb style guide.</p>\n\n<p>I use settings sync so I could share my whole VSCode settings for reproduction. These are my settings</p>\n\n<pre><code>{\n    \"vetur.validation.template\": true,\n    \"eslint.autoFixOnSave\": true,\n    // ...\n    \"javascript.updateImportsOnFileMove.enabled\": \"always\",\n    // ...\n    \"typescript.updateImportsOnFileMove.enabled\": \"always\",\n    \"prettier.singleQuote\": true,\n    \"prettier.trailingComma\": \"es5\",\n    \"prettier.useTabs\": true,\n    \"editor.formatOnSave\": true,\n    // ...\n    \"vetur.format.defaultFormatter.html\": \"prettier\"\n}\n</code></pre>\n\n<p>You can see the whole gist here</p>\n\n<p><a href=\"https://gist.github.com/matthiashermsen/9620a315960fa7b9e31bf6cda8583e84\" rel=\"noreferrer\">https://gist.github.com/matthiashermsen/9620a315960fa7b9e31bf6cda8583e84</a></p>\n\n<p>So is Prettier struggling with TSLint and ESLint? I would like to have a standard setup for Typescript and Javascript projects.</p>\n\n<p>I also tried to create a new Vue project using prettier as a linter and there everything worked fine. So it seems it's just struggling with the airbnb linter config.</p>\n\n<p>Any ideas? Thanks for help!</p>\n"}, {"tags": ["javascript", "click", "firebase-cloud-messaging", "action"], "comments": [{"owner": {"reputation": 1728, "user_id": 1104292, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d4c62c50b5b95f47b3e9a2f869041bef?s=128&d=identicon&r=PG", "display_name": "PHP User", "link": "https://stackoverflow.com/users/1104292/php-user"}, "edited": false, "score": 0, "creation_date": 1574931123, "post_id": 59077901, "comment_id": 104405616, "body": "Any help guys opening the click_action url?"}], "owner": {"reputation": 1728, "user_id": 1104292, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/d4c62c50b5b95f47b3e9a2f869041bef?s=128&d=identicon&r=PG", "display_name": "PHP User", "link": "https://stackoverflow.com/users/1104292/php-user"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1042, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574933028, "creation_date": 1574886147, "last_edit_date": 1574933028, "question_id": 59077901, "link": "https://stackoverflow.com/questions/59077901/javascript-fcm-web-push-notification-click-action-not-working", "title": "JavaScript FCM web push notification click_action not working", "body": "<p><strong>[UPDATE]</strong></p>\n\n<p>Now I'm using <a href=\"https://github.com/firebase/quickstart-js/tree/master/messaging\" rel=\"nofollow noreferrer\">this official code</a> and it's working for push notification but same thing regarding click_action still not working</p>\n\n<hr>\n\n<p>I'm sending test notification from the console with the click-action parameter set</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lgh2A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lgh2A.png\" alt=\"enter image description here\"></a></p>\n\n<p>I'm having this HTML code</p>\n\n<pre><code>&lt;div id=\"token\"&gt;&lt;/div&gt;\n&lt;div id=\"msg\"&gt;&lt;/div&gt;\n&lt;div id=\"notis\"&gt;&lt;/div&gt;\n&lt;div id=\"err\"&gt;&lt;/div&gt;\n&lt;script src=\"https://www.gstatic.com/firebasejs/7.2.1/firebase-app.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://www.gstatic.com/firebasejs/7.2.1/firebase-messaging.js\"&gt;&lt;/script&gt;\n&lt;!-- For an optimal experience using Cloud Messaging, also add the Firebase SDK for Analytics. --&gt;\n&lt;script src=\"https://www.gstatic.com/firebasejs/7.2.1/firebase-analytics.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    MsgElem = document.getElementById(\"msg\");\n    TokenElem = document.getElementById(\"token\");\n    NotisElem = document.getElementById(\"notis\");\n    ErrElem = document.getElementById(\"err\");\n    // Initialize Firebase\n    // TODO: Replace with your project's customized code snippet\n    var config = {\n        apiKey: \"AIz**************yKA\",\n        authDomain: \"DOMAIN.firebaseapp.com\",\n        databaseURL: \"https://URL.firebaseio.com\",\n        projectId: \"PROJECT_ID\",\n        storageBucket: \"BUCKET_ID.appspot.com\",\n        messagingSenderId: \"SENDER_ID\",\n        appId: \"1********************6\"\n    };\n    firebase.initializeApp(config);\n\n    const messaging = firebase.messaging();\n    messaging\n        .requestPermission()\n        .then(function () {\n            MsgElem.innerHTML = \"Notification permission granted.\" \n            console.log(\"Notification permission granted.\");\n\n            // get the token in the form of promise\n            return messaging.getToken()\n        })\n        .then(function(token) {\n            TokenElem.innerHTML = \"token is : \" + token\n        })\n        .catch(function (err) {\n            ErrElem.innerHTML =  ErrElem.innerHTML + \"; \" + err\n            console.log(\"Unable to get permission to notify.\", err);\n        });\n\n    messaging.onMessage(function(payload) {\n        console.log(\"Message received. \", payload);\n        NotisElem.innerHTML = NotisElem.innerHTML + JSON.stringify(payload);\n        //kenng - foreground notifications\n        const {title, ...options} = payload.notification;\n        navigator.serviceWorker.ready.then(registration =&gt; {\n            registration.showNotification(title, options);\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>firebase-messaging-sw.js</p>\n\n<pre><code>importScripts('https://www.gstatic.com/firebasejs/7.2.1/firebase-app.js');\nimportScripts('https://www.gstatic.com/firebasejs/7.2.1/firebase-messaging.js');\n// For an optimal experience using Cloud Messaging, also add the Firebase SDK for Analytics. \nimportScripts('https://www.gstatic.com/firebasejs/7.2.1/firebase-analytics.js');\n\n// Initialize the Firebase app in the service worker by passing in the\n// messagingSenderId.\nfirebase.initializeApp({\n  'messagingSenderId': 'SENDER_ID'\n});\n\n// Retrieve an instance of Firebase Messaging so that it can handle background\n// messages.\nconst messaging = firebase.messaging();\n\nmessaging.setBackgroundMessageHandler(function(payload) {\n  console.log('[firebase-messaging-sw.js] Received background message ', payload);\n  // Customize notification here\n  const notificationTitle = 'Background Message Title';\n  const notificationOptions = {\n    body: 'Background Message body.',\n    icon: '/itwonders-web-logo.png'\n  };\n\n  return self.registration.showNotification(notificationTitle,\n  notificationOptions);\n});\n</code></pre>\n\n<p>I get the notification but clicking it opens the same domain of the website in a new tab it doesn't open the value of the click_action parameter</p>\n"}, {"tags": ["javascript", "react-native", "searchbar"], "comments": [{"owner": {"reputation": 8966, "user_id": 1842294, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/6d25f036774c988f92c5acc6a629fbf9?s=128&d=identicon&r=PG", "display_name": "Seth", "link": "https://stackoverflow.com/users/1842294/seth"}, "edited": false, "score": 0, "creation_date": 1574888010, "post_id": 59077876, "comment_id": 104393637, "body": "The fat arrow function syntax should auto bind this to the parent context"}, {"owner": {"reputation": 47, "user_id": 5142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463940430567831/picture?type=large", "display_name": "Patrick Bartlett", "link": "https://stackoverflow.com/users/5142946/patrick-bartlett"}, "edited": false, "score": 0, "creation_date": 1574888591, "post_id": 59077876, "comment_id": 104393879, "body": "in updateSearch, console.log(&quot;text&quot;, text); and console.log(&quot;text&quot;, this.state.query); are both printing the same thing, but it&#39;s not &quot;adding up&quot; its just the single key i press each time"}, {"owner": {"reputation": 47, "user_id": 5142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463940430567831/picture?type=large", "display_name": "Patrick Bartlett", "link": "https://stackoverflow.com/users/5142946/patrick-bartlett"}, "edited": false, "score": 0, "creation_date": 1574905319, "post_id": 59077876, "comment_id": 104398098, "body": "sorry, i misunderstood your comment. i used <code>console.log(this)</code> and <code>console.log(this.state)</code> and it appears to be in the context of the search class. but from my understanding, i should be able to type in the searchbar even if i hadn&#39;t set up anything. also, one weird thing in the printout was <code>&quot;updateSearch&quot;: [Function anonymous]</code> and im not sure what that means"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463940430567831/picture?type=large", "display_name": "Patrick Bartlett", "link": "https://stackoverflow.com/users/5142946/patrick-bartlett"}, "edited": false, "score": 0, "creation_date": 1575078081, "post_id": 59085019, "comment_id": 104456034, "body": "I didn&#39;t know the header didn&#39;t get re-rendered, thank you!"}], "tags": [], "owner": {"reputation": 3522, "user_id": 10410126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bnm7w.png?s=128&g=1", "display_name": "Auticcat", "link": "https://stackoverflow.com/users/10410126/auticcat"}, "is_accepted": false, "score": 1, "last_activity_date": 1574931554, "creation_date": 1574931554, "answer_id": 59085019, "question_id": 59077876, "link": "https://stackoverflow.com/questions/59077876/why-cant-i-type-in-my-react-native-searchbar/59085019#59085019", "title": "Why can&#39;t I type in my react-native SearchBar?", "body": "<p>The problem is with the <code>ListHeaderComponent</code>.</p>\n\n<p>I did a demo project to see what was happening :</p>\n\n<pre><code>import React, { Component } from 'react'\nimport { SafeAreaView, FlatList, TextInput } from 'react-native'\n\nexport default class Test extends Component {\n    constructor(props){\n        super(props)\n        this.state={value:\"\"}\n    }\n\n    renderHeader = () =&gt;{\n        console.log(\"rendering\") \n        return (&lt;TextInput style={{backgroundColor:\"green\"}}value={this.state.value} placeholder={\"Placeholder\"}onChangeText={(text)=&gt; this.setState({value : text})}&gt;&lt;/TextInput&gt;)\n    }\n    render() {\n        console.log(this.state.value) //Logs the value\n        return (\n            &lt;SafeAreaView style={{flex:1}}&gt;\n                &lt;FlatList\n                ListHeaderComponent={this.renderHeader}\n                /&gt;\n            &lt;/SafeAreaView&gt;\n        )\n    }\n\n}\n</code></pre>\n\n<p>It looks like once the component has rendered, it does not update anymore. The log inside the render does actually update, but the  component do not re-render himself (probably cause the <code>FlatList</code> do not update the <code>ListHeaderComponent</code> once it is done with the first render)</p>\n\n<p>I would suggest to move the SearchBar above the FlatList and enclose everything inside a <code>ScrollView</code>.</p>\n\n<p>EDIT,</p>\n\n<p>To confirm that it was actually updating, i created another <code>TextInput</code> and put it outside the FlatList, and it worked normally:</p>\n\n<pre><code>import React, { Component } from 'react'\nimport { SafeAreaView, FlatList, TextInput } from 'react-native'\n\nexport default class Test extends Component {\n    constructor(props){\n        super(props)\n        this.state={value:\"\"}\n    }\n\n    renderHeader = () =&gt;{\n        console.log(\"rendering\") \n        return (&lt;TextInput style={{backgroundColor:\"green\"}}value={this.state.value} placeholder={\"Placeholder\"}onChangeText={(text)=&gt; this.setState({value : text})}&gt;&lt;/TextInput&gt;)\n    }\n    render() {\n        console.log(this.state.value) //Logs the value\n        return (\n            &lt;SafeAreaView style={{flex:1}}&gt;\n                &lt;TextInput style={{backgroundColor:\"red\"}}value={this.state.value} placeholder={\"Placeholder\"}onChangeText={(text)=&gt; this.setState({value : text})}&gt;&lt;/TextInput&gt;\n                &lt;FlatList\n                ListHeaderComponent={this.renderHeader}\n                /&gt;\n            &lt;/SafeAreaView&gt;\n        )\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 5142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463940430567831/picture?type=large", "display_name": "Patrick Bartlett", "link": "https://stackoverflow.com/users/5142946/patrick-bartlett"}, "edited": false, "score": 0, "creation_date": 1575078054, "post_id": 59087896, "comment_id": 104456030, "body": "Thank you! AnyProp did&#39;t seem to work, but <code>extraData={this.state}</code> did."}], "tags": [], "owner": {"reputation": 156, "user_id": 2391283, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/43fa0808cad8540e2cdcb1a4bfbf8ac4?s=128&d=identicon&r=PG", "display_name": "Gyepesto", "link": "https://stackoverflow.com/users/2391283/gyepesto"}, "is_accepted": false, "score": 2, "last_activity_date": 1574940688, "creation_date": 1574940688, "answer_id": 59087896, "question_id": 59077876, "link": "https://stackoverflow.com/questions/59077876/why-cant-i-type-in-my-react-native-searchbar/59087896#59087896", "title": "Why can&#39;t I type in my react-native SearchBar?", "body": "<p>If you want to update your UI with render, you have to update your state.\nIn your FlatList component, you don't update state. So it never renders again.\nYou have to use state in your FlatList.</p>\n\n<pre><code>render() {\n    return (\n      &lt;SafeAreaView style={styles.container}&gt;\n        &lt;Header text={\"Search\"} /&gt;\n        &lt;FlatList\n          ListHeaderComponent={this.renderHeader}\n          AnyProp={this.state.anyState}\n        /&gt;\n      &lt;/SafeAreaView&gt;\n    );\n  }\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5142946, "user_type": "registered", "profile_image": "https://graph.facebook.com/1463940430567831/picture?type=large", "display_name": "Patrick Bartlett", "link": "https://stackoverflow.com/users/5142946/patrick-bartlett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1004, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1574940688, "creation_date": 1574885981, "last_edit_date": 1574886230, "question_id": 59077876, "link": "https://stackoverflow.com/questions/59077876/why-cant-i-type-in-my-react-native-searchbar", "title": "Why can&#39;t I type in my react-native SearchBar?", "body": "<p>When I type, nothing shows up in the search bar, but it knows that I'm typing (from the print statements in my updateSearch function). From my understanding of the react-native searchBar, there isn't even anything I need to do for text to be showing up there, so I really have no idea how I could have screwed this up. This is a part of a larger project.. but I'm praying this issue doesn't have anything to do with the rest of it.</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport {\n  View,\n  Text,\n  FlatList,\n  ActivityIndicator,\n  SafeAreaView,\n  StyleSheet\n} from \"react-native\";\nimport Header from \"../components/Header\";\nimport { SearchBar, List, ListItem } from 'react-native-elements';\n\nexport default class Search extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      query: \"\",\n      data: []\n    };\n\n  }\n\n  renderHeader = () =&gt; {\n    return (\n    &lt;SearchBar\n    placeholder=\"Type Here...\"\n    onChangeText={this.updateSearch}\n    value={this.state.query}\n    lightTheme={true}\n    /&gt;\n    );\n  }\n\n  updateSearch = text =&gt; {\n    console.log(\"text\", text);\n    const formattedSearch = text.toLowerCase();\n    this.setState({ query: formattedSearch });\n    console.log(\"text\", this.state.query);\n  };\n\n  render() {\n    return (\n      &lt;SafeAreaView style={styles.container}&gt;\n        &lt;Header text={\"Search\"} /&gt;\n        &lt;FlatList\n          ListHeaderComponent={this.renderHeader}\n        /&gt;\n      &lt;/SafeAreaView&gt;\n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingTop: Expo.Constants.statusBarHeight\n  }\n});\n</code></pre>\n"}, {"tags": ["javascript", "php", "html", "html-table"], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 1706846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY89w.jpg?s=128&g=1", "display_name": "seasick", "link": "https://stackoverflow.com/users/1706846/seasick"}, "is_accepted": false, "score": 0, "last_activity_date": 1574887453, "creation_date": 1574887453, "answer_id": 59078162, "question_id": 59077857, "link": "https://stackoverflow.com/questions/59077857/filling-an-html-table-through-javascript/59078162#59078162", "title": "Filling an html table through javascript", "body": "<p>You could add an <code>id</code> element to your paragraphs like this </p>\n\n<pre><code>\"&lt;p id='id_{$j}'&gt;\"\n</code></pre>\n\n<p>The <code>'id_{$j}'</code> part will lead to to strings like <code>id_0</code>, <code>id_1</code>, etc. </p>\n\n<p>Then you'd have to iterate through all columns in the JavaScript part and using those ids to set their <code>innerHtml</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 2228105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38b15b6671adca3fb0c04f22c5e9011?s=128&d=identicon&r=PG", "display_name": "ChrisM", "link": "https://stackoverflow.com/users/2228105/chrism"}, "is_accepted": false, "score": 1, "last_activity_date": 1574889221, "creation_date": 1574889221, "answer_id": 59078523, "question_id": 59077857, "link": "https://stackoverflow.com/questions/59077857/filling-an-html-table-through-javascript/59078523#59078523", "title": "Filling an html table through javascript", "body": "<p>Since this is a homework assignment from school, I won't share any code samples.</p>\n\n<p><strong>Solution 1:</strong>\nI would consider that the php loop already knows which rows are odd and even, so leveraging this with a class attribute would be easy enough.</p>\n\n<p>Then use getElementsByClassName() to create a variable that can be iterated over in the javascript to fill in the values.</p>\n\n<p><strong>Solution 2:</strong>\nUse getElementsByTagName() in your javascript to iterate over the TR's and calculate which rows are even or odd and make changes accordingly to the TD elements within .</p>\n\n<p>This requires more work but will teach you more about how the getElement-style functions work.</p>\n"}, {"tags": [], "owner": {"reputation": 947, "user_id": 2728710, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4bcbb875888d938cc5786176337e4c19?s=128&d=identicon&r=PG&f=1", "display_name": "pom421", "link": "https://stackoverflow.com/users/2728710/pom421"}, "is_accepted": false, "score": 0, "last_activity_date": 1574891070, "creation_date": 1574891070, "answer_id": 59078863, "question_id": 59077857, "link": "https://stackoverflow.com/questions/59077857/filling-an-html-table-through-javascript/59078863#59078863", "title": "Filling an html table through javascript", "body": "<p>The difficulty you can meet, is that <code>getElementByClassName</code> renders an <code>HTMLCollection</code>, that is a pseudo collection but not something you can easily iterates over.</p>\n\n<p>But you can steal (JS power!) the behavior of Array to that purpose. Like that:</p>\n\n<pre><code>  const allCells = document.getElementsByClassName(\"first\");\n\n  Array.prototype.forEach.call(allCells, function(elt) {\n    elt.innerHTML = choice;\n  });\n</code></pre>\n\n<p>So you just have to add a class name (\"first\" in my example) in the table cell you want (= the odd lines cells).</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9808285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HScti.jpg?s=128&g=1", "display_name": "Zeshan", "link": "https://stackoverflow.com/users/9808285/zeshan"}, "edited": false, "score": 0, "creation_date": 1574896256, "post_id": 59079644, "comment_id": 104396328, "body": "let me know if you need any further help. happy coding"}], "tags": [], "owner": {"reputation": 1, "user_id": 9808285, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HScti.jpg?s=128&g=1", "display_name": "Zeshan", "link": "https://stackoverflow.com/users/9808285/zeshan"}, "is_accepted": false, "score": 0, "last_activity_date": 1574899658, "last_edit_date": 1574899658, "creation_date": 1574896211, "answer_id": 59079644, "question_id": 59077857, "link": "https://stackoverflow.com/questions/59077857/filling-an-html-table-through-javascript/59079644#59079644", "title": "Filling an html table through javascript", "body": "<p>This can be achieved in different ways. Here i am giving you simple solution which simply add two classes even and odd in paragraph tag and using querySelector we can get all odd rows and add innerHtml easily.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"btn\").onclick = function() {\r\n  f()\r\n}\r\n\r\nfunction f() {\r\n  var x = prompt(\"Give input\");\r\n\r\n  document.querySelectorAll('.odd').forEach(p =&gt; {\r\n    p.innerHTML = x;\r\n    p.style.color='black';\r\n  });\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n\r\n  &lt;p class=\"p1\"&gt;5th excercise Php&lt;/p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\r\n  &lt;input type=\"button\" id=\"btn\" value=\"Give Input\"&gt;&lt;br&gt;&lt;br&gt;\r\n  &lt;table&gt;\r\n    &lt;tr&gt;\r\n      &lt;td style='background-color:green;color:green;'&gt;\r\n        &lt;p class='even'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td style='background-color:red;color:red;'&gt;\r\n        &lt;p class='odd'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n      &lt;td style='background-color:green;color:green;'&gt;\r\n        &lt;p class='even'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td style='background-color:red;color:red;'&gt;\r\n        &lt;p class='odd'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n      &lt;tr&gt;\r\n      &lt;td style='background-color:green;color:green;'&gt;\r\n        &lt;p class='even'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td style='background-color:red;color:red;'&gt;\r\n        &lt;p class='odd'&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here i have removed php code as i am not aware how to add it on stackoverflow but you can add your rows using php and it will work for you.</p>\n"}], "owner": {"reputation": 35, "user_id": 12448120, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ojSpdOKBcmU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdF-liEUaYGQX0cQsSYXYGA0maOyA/photo.jpg?sz=128", "display_name": "Toxicone 7", "link": "https://stackoverflow.com/users/12448120/toxicone-7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1574899658, "creation_date": 1574885807, "last_edit_date": 1574889148, "question_id": 59077857, "link": "https://stackoverflow.com/questions/59077857/filling-an-html-table-through-javascript", "title": "Filling an html table through javascript", "body": "<p>This is a project for uni for PHP/JavaScript. The concept is that we create an empty table, then get an input from the user and put this text in the odd lines of the table. Thing is, I've created the table and I can't get to pass the text to multiple paragraphs located inside the cells of the odd lines. I tried with <code>getElementById</code> to fill the cell's paragraph but I found out that each paragraph needs a unique id and so it fills only the first cell. Then I tried <code>getElementsByClassName</code> but this doesn't work cause there's no <code>.innerHTML</code> for it. Basically, all I want to do is take the same input and distribute it to multiple paragraphs or directly to the cells if there's a way. Code is at the bottom. The script doesn't work right now, I just left it in.</p>\n\n<p>Thank you</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;body&gt;\n\n    &lt;p class=\"p1\"&gt;5th excercise Php&lt;/p&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;\n    &lt;input type=\"button\" id=\"btn\" value=\"Give Input\"&gt;&lt;br&gt;&lt;br&gt;\n    &lt;?php\n    echo \"&lt;table&gt;\"; \n\nfor($i=1;$i&lt;=10;$i++){ \n\n    echo \"&lt;tr&gt;\"; \n        for($j=1;$j&lt;=10;$j++){\n            if($i % 2 == 0){\n               echo \"&lt;td style='background-color:green;color:green;'&gt;\".\"&lt;p&gt;\".\".\".\"&lt;/p&gt;\".\"&lt;/td&gt;\";\n                }\n            else{\n                echo \"&lt;td style='background-color:red; color:red;'&gt;\".\"&lt;p&gt;\".\".\".\"&lt;/p&gt;\".\"&lt;/td&gt;\";\n            }\n        } \n    echo \"&lt;/tr&gt;\"; \n} \n\necho \"&lt;/table&gt;\";\n    ?&gt;\n&lt;script&gt;\ndocument.getElementById(\"btn\").onclick= function(){f()}\nfunction f(){\n    var x= prompt(\"Give input\");\n    document.getElementById(\"\").style.color = \"black\";\n    document.getElementById(\"\").innerHTML= x;\n\n}\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "browser"], "comments": [{"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1574885430, "post_id": 59077783, "comment_id": 104392638, "body": "F12 -&gt; Application tab -&gt; Storage -&gt; Session/Local storage.. on chrome. It is a SQLite db native in the browser."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574885752, "post_id": 59077783, "comment_id": 104392774, "body": "It is stored on the user&#39;s computer."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1574885760, "post_id": 59077783, "comment_id": 104392779, "body": "@DontVoteMeDown Are you sure it goes onto the file system? Local Storage does, obviously, since it&#39;s persistent, but Session Storage isn&#39;t"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1574885771, "post_id": 59077783, "comment_id": 104392782, "body": "It is stored locally, not remotely. Where <i>exactly</i> it&#39;s stored is browser-dependent, and doesn&#39;t particularly matter to the developer as long as it&#39;s understood that it&#39;s <i>local</i> and <i>temporary</i>."}, {"owner": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1574885859, "post_id": 59077783, "comment_id": 104392826, "body": "@CertainPerformance I&#39;m not sure what the browser does behind the scenes, but both local and session storage are accessible in that tab I mentioned. I presume session storage has the same structure as local, but it is cleared upon browser/tab closing..."}, {"owner": {"reputation": 25, "user_id": 8149065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a270990ba98d511fc932acf622576b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Sangames Kumar", "link": "https://stackoverflow.com/users/8149065/sangames-kumar"}, "reply_to_user": {"reputation": 19485, "user_id": 1267304, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/oK2WD.jpg?s=128&g=1", "display_name": "DontVoteMeDown", "link": "https://stackoverflow.com/users/1267304/dontvotemedown"}, "edited": false, "score": 0, "creation_date": 1575187539, "post_id": 59077783, "comment_id": 104476378, "body": "It is accessible in the browser. The question was where it is stored. Anyways, thanks I got the answer now. @DontVoteMeDown"}], "answers": [{"tags": [], "owner": {"reputation": 51813, "user_id": 860099, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/125k3.jpg?s=128&g=1", "display_name": "Kamil Kie\u0142czewski", "link": "https://stackoverflow.com/users/860099/kamil-kie%c5%82czewski"}, "is_accepted": false, "score": 0, "last_activity_date": 1574886386, "creation_date": 1574886386, "answer_id": 59077955, "question_id": 59077783, "link": "https://stackoverflow.com/questions/59077783/where-is-sessionstorage-data-stored/59077955#59077955", "title": "Where is sessionStorage data stored?", "body": "<p>The values are stored by browser in the user's computer. You can test it in e.g. chrome console. To read value use</p>\n\n<pre><code>sessionStorage.getItem(\"number\");\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 122, "user_id": 12383690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ccb80d198b2b5674ba7d6bcec157f4?s=128&d=identicon&r=PG&f=1", "display_name": "Momo", "link": "https://stackoverflow.com/users/12383690/momo"}, "is_accepted": true, "score": 0, "last_activity_date": 1574887742, "last_edit_date": 1574887742, "creation_date": 1574886678, "answer_id": 59078009, "question_id": 59077783, "link": "https://stackoverflow.com/questions/59077783/where-is-sessionstorage-data-stored/59078009#59078009", "title": "Where is sessionStorage data stored?", "body": "<p>It's not stored on the server, since we're still in client side when you're talking about <code>Window.sessionStorage</code>. It's stored in a file called \"sessionstore.jsonlz4\". In any case, this question has an answer <a href=\"https://stackoverflow.com/a/7581138/12383690\">here</a>.</p>\n"}], "owner": {"reputation": 25, "user_id": 8149065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a270990ba98d511fc932acf622576b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Sangames Kumar", "link": "https://stackoverflow.com/users/8149065/sangames-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 59078009, "answer_count": 2, "score": -1, "last_activity_date": 1574921246, "creation_date": 1574885353, "last_edit_date": 1574921246, "question_id": 59077783, "link": "https://stackoverflow.com/questions/59077783/where-is-sessionstorage-data-stored", "title": "Where is sessionStorage data stored?", "body": "<p>When sessionStorage.setItem(\"number\",2) is executed, where does number gets stored? Is it in the local browser or the server where application is hosted? Please mention the path/file for Chrome browser, if it is local.</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1574885659, "post_id": 59077778, "comment_id": 104392735, "body": "can you post the CSS for your transition?"}, {"owner": {"reputation": 17, "user_id": 11223128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KQmH9yLBqD0/AAAAAAAAAAI/AAAAAAAAAM0/D5Acg1f8G4U/photo.jpg?sz=128", "display_name": "\uc800Nash", "link": "https://stackoverflow.com/users/11223128/%ec%a0%80nash"}, "reply_to_user": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1574886016, "post_id": 59077778, "comment_id": 104392895, "body": "@TimWickstrom sure"}, {"owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "edited": false, "score": 0, "creation_date": 1574887978, "post_id": 59077778, "comment_id": 104393624, "body": "Thanks. See below for the solution and a working example."}, {"owner": {"reputation": 10335, "user_id": 772868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dt3Kv.jpg?s=128&g=1", "display_name": "false", "link": "https://stackoverflow.com/users/772868/false"}, "edited": false, "score": 0, "creation_date": 1581412710, "post_id": 59077778, "comment_id": 106414963, "body": "@\uc800Nash: Why delete <a href=\"https://stackoverflow.com/q/60161596/772868\">this</a>?"}, {"owner": {"reputation": 17, "user_id": 11223128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KQmH9yLBqD0/AAAAAAAAAAI/AAAAAAAAAM0/D5Acg1f8G4U/photo.jpg?sz=128", "display_name": "\uc800Nash", "link": "https://stackoverflow.com/users/11223128/%ec%a0%80nash"}, "reply_to_user": {"reputation": 10335, "user_id": 772868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dt3Kv.jpg?s=128&g=1", "display_name": "false", "link": "https://stackoverflow.com/users/772868/false"}, "edited": false, "score": 0, "creation_date": 1581463170, "post_id": 59077778, "comment_id": 106440379, "body": "@false I thought it was better to try to solve alone and not bother with that question :/"}, {"owner": {"reputation": 10335, "user_id": 772868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dt3Kv.jpg?s=128&g=1", "display_name": "false", "link": "https://stackoverflow.com/users/772868/false"}, "edited": false, "score": 0, "creation_date": 1581463839, "post_id": 59077778, "comment_id": 106440536, "body": "@\uc800Nash: The idea on SO is to show others your questions, too.. you were not that far amiss anyway..."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 11223128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KQmH9yLBqD0/AAAAAAAAAAI/AAAAAAAAAM0/D5Acg1f8G4U/photo.jpg?sz=128", "display_name": "\uc800Nash", "link": "https://stackoverflow.com/users/11223128/%ec%a0%80nash"}, "edited": false, "score": 1, "creation_date": 1574894683, "post_id": 59078072, "comment_id": 104395926, "body": "It works perfectly, thank you so much... really thank you."}], "tags": [], "owner": {"reputation": 4336, "user_id": 787796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d25e7ddda1b06661b915c8b5fd4188f?s=128&d=identicon&r=PG", "display_name": "Tim Wickstrom", "link": "https://stackoverflow.com/users/787796/tim-wickstrom"}, "is_accepted": true, "score": 0, "last_activity_date": 1574887011, "creation_date": 1574887011, "answer_id": 59078072, "question_id": 59077778, "link": "https://stackoverflow.com/questions/59077778/vuejs-transition-inside-a-for-loop/59078072#59078072", "title": "vuejs transition inside a for loop", "body": "<p>The key here is to add the appear attribute on the transition tag to force Vue to apply the transition when it is initially rendered.</p>\n\n<p>Here is a working example:\n<a href=\"https://codesandbox.io/s/vue-template-rjmi9?fontsize=14&amp;hidenavigation=1&amp;theme=dark\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/vue-template-rjmi9?fontsize=14&amp;hidenavigation=1&amp;theme=dark</a></p>\n\n<p>You may need to click \"refresh\" in the IDE browser to see the transition. Depends on the speed in which your browser loads the IDE itself.</p>\n\n<p>More information can be found at: <a href=\"https://vuejs.org/v2/guide/transitions.html#Transitions-on-Initial-Render\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/transitions.html#Transitions-on-Initial-Render</a></p>\n\n<p>You may also want to consider using <code>&lt;transition-group&gt;</code> depending on your needs. Info can be found here: <a href=\"https://vuejs.org/v2/guide/transitions.html#List-Transitions\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/transitions.html#List-Transitions</a></p>\n"}], "owner": {"reputation": 17, "user_id": 11223128, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KQmH9yLBqD0/AAAAAAAAAAI/AAAAAAAAAM0/D5Acg1f8G4U/photo.jpg?sz=128", "display_name": "\uc800Nash", "link": "https://stackoverflow.com/users/11223128/%ec%a0%80nash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 59078072, "answer_count": 1, "score": 0, "last_activity_date": 1574894893, "creation_date": 1574885332, "last_edit_date": 1574894893, "question_id": 59077778, "link": "https://stackoverflow.com/questions/59077778/vuejs-transition-inside-a-for-loop", "title": "vuejs transition inside a for loop", "body": "<p>I'm trying to make a transition in vuejs but this one only work when for ends, and only the leave transition works, the enter transition doesn't </p>\n\n<pre><code>&lt;template v-for=\"(item, index) in imagesList\"&gt;\n  &lt;transition name=\"fade\"&gt;\n    &lt;div class=\"ctn\"&gt;\n      &lt;div class=\"thumbnail\"&gt;\n        &lt;img :src=\"item.url\" :alt=\"item.alt\" :title=\"item.title\"&gt;\n      &lt;/div&gt;\n      &lt;div class=\"info\"&gt;\n        &lt;p&gt;{{ item.info }}&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/transition&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>The css code is the one from the vuejs documentation:</p>\n\n<pre><code>.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to {\n  opacity: 0;\n}\n</code></pre>\n"}, {"tags": ["javascript", "sql", "node.js", "reactjs", "express"], "answers": [{"tags": [], "owner": {"reputation": 431, "user_id": 1706846, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oY89w.jpg?s=128&g=1", "display_name": "seasick", "link": "https://stackoverflow.com/users/1706846/seasick"}, "is_accepted": true, "score": 0, "last_activity_date": 1574886675, "last_edit_date": 1574886675, "creation_date": 1574886323, "answer_id": 59077939, "question_id": 59077766, "link": "https://stackoverflow.com/questions/59077766/sql-node-js-express-react-load-behavior/59077939#59077939", "title": "SQL - node.js express - react load behavior", "body": "<blockquote>\n  <p>or do i completely misunderstand how this works? </p>\n</blockquote>\n\n<p>It works the way you are going to make it work, and it seems you are on a good way.</p>\n\n<p>The technique you are describing is called \"caching\" or at least some kind of, and is a good way to take load of your database. Instead of piping every request to the express server into the database, you store the result of the first request into memory (e.g. an object) of your express server. The next request will get served directly from memory, without asking the database.</p>\n\n<p>Apart from polling you could use other communication channels too, but the same techniques would apply to avoid hammering the database</p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Server-sent_events\" rel=\"nofollow noreferrer\">Server Sent Events</a></li>\n<li>Websockets</li>\n<li>Streaming (HTTP request does not close immediately, but server continues to send data every n seconds)</li>\n</ul>\n"}], "owner": {"reputation": 75, "user_id": 11145748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b29faf181f1ee14c51222006052d29c?s=128&d=identicon&r=PG&f=1", "display_name": "Nikita Voevodin", "link": "https://stackoverflow.com/users/11145748/nikita-voevodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 59077939, "answer_count": 1, "score": 0, "last_activity_date": 1574886675, "creation_date": 1574885269, "question_id": 59077766, "link": "https://stackoverflow.com/questions/59077766/sql-node-js-express-react-load-behavior", "title": "SQL - node.js express - react load behavior", "body": "<p>I am relatively new to programming and i have a general question about the relationship between the server and client sides of a react on any other js app. </p>\n\n<p>I have a mysql db with a table that i expose as an api (every n seconds) with nodejs express running on aws instance. That api is pulled as json and displayed every n seconds by the react app.</p>\n\n<p>In my head, the connection between sql and nodejs is separate from the connection between nodejs and react. I think of that the sql is only connected to one thing (node express server) and therefore is not under a heavy load ever. Then node express server exposes the sql table through a few queries as 3-4 jsons. And finally, lets say, a 100 people open my react app and pull those jsons. So the only loaded area of the server is the node express. </p>\n\n<p>Im i correct? or do i completely misunderstand how this works? </p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["javascript", "vue.js", "components"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12448086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2952d4cff6c9f0b4cefb4206f4324641?s=128&d=identicon&r=PG&f=1", "display_name": "INTONIGHT", "link": "https://stackoverflow.com/users/12448086/intonight"}, "edited": false, "score": 0, "creation_date": 1574888614, "post_id": 59077968, "comment_id": 104393892, "body": "So I would emit the method proper, modify it in the other component and use it there or how would that work?"}, {"owner": {"reputation": 3290, "user_id": 9176232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMukO.jpg?s=128&g=1", "display_name": "Hans Felix Ramos", "link": "https://stackoverflow.com/users/9176232/hans-felix-ramos"}, "reply_to_user": {"reputation": 1, "user_id": 12448086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2952d4cff6c9f0b4cefb4206f4324641?s=128&d=identicon&r=PG&f=1", "display_name": "INTONIGHT", "link": "https://stackoverflow.com/users/12448086/intonight"}, "edited": false, "score": 0, "creation_date": 1574894043, "post_id": 59077968, "comment_id": 104395757, "body": "Yes!, check this fiddle that I made: <a href=\"https://jsfiddle.net/hansfelix50/ukrz98x3/\" rel=\"nofollow noreferrer\">jsfiddle.net/hansfelix50/ukrz98x3</a>"}], "tags": [], "owner": {"reputation": 3290, "user_id": 9176232, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMukO.jpg?s=128&g=1", "display_name": "Hans Felix Ramos", "link": "https://stackoverflow.com/users/9176232/hans-felix-ramos"}, "is_accepted": false, "score": 0, "last_activity_date": 1574886447, "creation_date": 1574886447, "answer_id": 59077968, "question_id": 59077749, "link": "https://stackoverflow.com/questions/59077749/vue-js-component-issue-manipulating-data/59077968#59077968", "title": "Vue Js Component issue- manipulating data", "body": "<p>You can\u00b4t change the prop value directly from the child component, instead use <a href=\"https://es.vuejs.org/v2/guide/components-custom-events.html\" rel=\"nofollow noreferrer\">emit</a> to call a method created in the parent components</p>\n"}], "owner": {"reputation": 1, "user_id": 12448086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2952d4cff6c9f0b4cefb4206f4324641?s=128&d=identicon&r=PG&f=1", "display_name": "INTONIGHT", "link": "https://stackoverflow.com/users/12448086/intonight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574886447, "creation_date": 1574885191, "question_id": 59077749, "link": "https://stackoverflow.com/questions/59077749/vue-js-component-issue-manipulating-data", "title": "Vue Js Component issue- manipulating data", "body": "<p>I've been devloping a project for a class and run into a problem where the components arent communicating well together as intended. The goal is that if there is one false in any component that it sends the message dont go to the location.\nThis is some of the code I currently have:</p>\n\n<pre><code>    &lt;template&gt;\n    &lt;div class=\"component\"&gt;\n        &lt;h3&gt;Temperature Sensor&lt;/h3&gt;\n\n        &lt;input v-model = 'temperature' @keyup.enter = \"checkTemp\"&gt; &lt;/input&gt;\n        &lt;p&gt; Action to take : {{ action }} &lt;/p&gt;\n\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport { eventBus } from '../main.js';\nexport default {\n\n    props :{ \n        action : String\n    },\n    computed () {\n        return {\n            //defines a movement value that we will use.\n            movement : true,\n        };\n    },\n    mounted(){\n        eventBus.$on('move',(movement) =&gt;{\n           this.movement = movement;\n           if(movement == true){\n               this.action = \"Go to Location\";\n           }else{\n               this.action = \"Dont go There\";\n           }\n        })\n    },\n    methods : {\n\n        checkTemp(){\n            if(this.temperature &gt;=50){\n                this.movement = false;\n                console.log(this.movement);\n                eventBus.$emit('move', this.movement);\n            }else {\n                this.movement = true;\n                console.log(this.movement);\n                eventBus.$emit('move', this.movement);\n            }\n        }\n    },\n\n};\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n    div {\n        background-color: lightcoral;\n    }\n&lt;/style&gt;\n</code></pre>\n\n<p>And for the second component:</p>\n\n<pre><code>    &lt;template&gt;\n    &lt;div class=\"component\"&gt;\n        &lt;h3&gt; Radiation Drone&lt;/h3&gt;\n       &lt;input v-model = 'radiation' @keyup.enter = \"checkRadiation\"&gt;&lt;/input&gt;\n        &lt;p &gt; Action : {{ action }} &lt;/p&gt;\n\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport { eventBus } from '../main.js';\n\nexport default {\n    props : {\n\n        action : String\n    },\n    computed () {\n        return {\n            movement : true,\n        }\n    },\n    mounted(){\n        eventBus.$on('move',(movement) =&gt;{\n           this.movement = movement;\n           if(movement == true){\n               this.action = \"Go to Location\";\n           }else{\n               this.action = \"Dont go There\";\n           }\n        })\n    },\n    methods : { \n      checkRadiation(){\n\n              if(this.radiation &gt;=34){\n                  this.movement = false;\n                  console.log(this.movement);\n                 eventBus.$emit('dontGo',this.movement);\n              }\n                else {\n                  this.movement = true;\n                  console.log(this.movement);\n                  this.$root.$emit('goThere',this.movement);\n              }\n\n          }\n      },\n};\n\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n    div {\n        background-color: lightgreen;\n    }\n&lt;/style&gt;\n</code></pre>\n\n<p>It is showing an error of not manipulating the prop directly I just dont know how to refactor my code.\nAny suggestions?</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1574885521, "post_id": 59077731, "comment_id": 104392677, "body": "What&#39;s wrong with what you&#39;re showing now?  Please edit the question to be specific."}, {"owner": {"reputation": 21, "user_id": 11889862, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FKl5Z4h_Gx0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reK5KjVmvQaRZGwvaNfDBe7UG4CrQ/photo.jpg?sz=128", "display_name": "\u0415\u0433\u043e\u0440 \u0427\u0435\u043f\u0440\u0430\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/11889862/%d0%95%d0%b3%d0%be%d1%80-%d0%a7%d0%b5%d0%bf%d1%80%d0%b0%d1%81%d0%be%d0%b2"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1574885788, "post_id": 59077731, "comment_id": 104392788, "body": "@DougStevenson I added the full code. When I try to move my document, it does not move with a new name."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 2, "creation_date": 1574885955, "post_id": 59077731, "comment_id": 104392872, "body": "What does it do instead?  Are you getting any errors?  Please read about asking a good question, so that your question has everything we need to know to help you out: <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a>"}, {"owner": {"reputation": 373, "user_id": 5921021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/419FT.png?s=128&g=1", "display_name": "PYB", "link": "https://stackoverflow.com/users/5921021/pyb"}, "edited": false, "score": 0, "creation_date": 1574964150, "post_id": 59077731, "comment_id": 104422478, "body": "Does the function gets triggered? If so, what does it return? Check the functions logs. If it doesn&#39;t trigger, make sure that the onCreate method is used to properly respond to document creations. For some general guidance on using Cloud Functions with Firestore, refer to [1]. Otherwise, more details about the errors are needed. [1] <a href=\"https://firebase.google.com/docs/firestore/extend-with-functions\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/extend-with-functions</a>"}], "owner": {"reputation": 21, "user_id": 11889862, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FKl5Z4h_Gx0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reK5KjVmvQaRZGwvaNfDBe7UG4CrQ/photo.jpg?sz=128", "display_name": "\u0415\u0433\u043e\u0440 \u0427\u0435\u043f\u0440\u0430\u0441\u043e\u0432", "link": "https://stackoverflow.com/users/11889862/%d0%95%d0%b3%d0%be%d1%80-%d0%a7%d0%b5%d0%bf%d1%80%d0%b0%d1%81%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574887492, "creation_date": 1574885104, "last_edit_date": 1574887492, "question_id": 59077731, "link": "https://stackoverflow.com/questions/59077731/how-can-i-get-the-data-of-another-document-in-the-firebase-function", "title": "How can I get the data of another document in the firebase function?", "body": "<p>How do I get firestore data in firebase functions?</p>\n\n<pre><code>  var number;\n  await db.collection(\"users\").doc(uid).collection(\"info\").doc(\"info\").get().then(doc =&gt; {\n      number = doc.data().get(\"countUnMutable\").toString;\n      return db;\n  });\n</code></pre>\n\n<p>I want to write the document to a different address using the received value, but it is not written.</p>\n\n<pre><code>exports.changeLocation = functions.region('europe-west1').firestore.document('users/{userId}/firstNotes/{noteId}').onCreate(async (snap,context) =&gt; {\n  const uid = context.params.userId;\n  const data = snap.data();\n  const noteId = context.params.noteId;\n  var number;\n  await db.collection(\"users\").doc(uid).collection(\"info\").doc(\"info\").get().then(doc =&gt; {\n      number = doc.data().get(\"countUnMutable\").toString;\n      return db;\n  });\n\n  await db.collection('users').doc(uid).collection(\"notes\").doc(\"firebaseNote:\".concat(number)).set(data);\n\n  const alreadyExistedDocument = db.collection('users').doc(uid).collection('notes').doc(noteId);\n  await alreadyExistedDocument.delete();\n});\n</code></pre>\n"}, {"tags": ["javascript", "wordpress", "advanced-custom-fields", "wordpress-gutenberg"], "comments": [{"owner": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575349825, "post_id": 59077728, "comment_id": 104526231, "body": "may i know which style of image you want to create from editor ?"}, {"owner": {"reputation": 105, "user_id": 3213509, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/B2iDO.jpg?s=128&g=1", "display_name": "esd", "link": "https://stackoverflow.com/users/3213509/esd"}, "reply_to_user": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575448140, "post_id": 59077728, "comment_id": 104565820, "body": "The image is created as an image block, using WordPress 5.0+ Gutenberg. It is being added in a page."}, {"owner": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575448654, "post_id": 59077728, "comment_id": 104566050, "body": "Oh ya that i know but you will see there are default and circle mask style but in your case which style of image you are applying?"}, {"owner": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575449077, "post_id": 59077728, "comment_id": 104566217, "body": "look at the link (<a href=\"https://prnt.sc/q5yrls\" rel=\"nofollow noreferrer\">prnt.sc/q5yrls</a>) i have applied style as top triangle on image"}, {"owner": {"reputation": 105, "user_id": 3213509, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/B2iDO.jpg?s=128&g=1", "display_name": "esd", "link": "https://stackoverflow.com/users/3213509/esd"}, "reply_to_user": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575482859, "post_id": 59077728, "comment_id": 104585360, "body": "Right, I have removed the two default styles (Default &amp; Circle Mask), and I trying to add a custom style ( &#39;retailResidential&#39;, &#39;weddingsEvents&#39;, or &#39;advertisingEditorial&#39;) which is set to default (i.e. user doesn&#39;t have to click on it, it is applied to an image when the image is created)."}, {"owner": {"reputation": 105, "user_id": 3213509, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/B2iDO.jpg?s=128&g=1", "display_name": "esd", "link": "https://stackoverflow.com/users/3213509/esd"}, "reply_to_user": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575482958, "post_id": 59077728, "comment_id": 104585418, "body": "I am able to update the styles (remove styles, add styles) but having issues setting them/updating the styles to default when created new image blocks."}, {"owner": {"reputation": 105, "user_id": 3213509, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/B2iDO.jpg?s=128&g=1", "display_name": "esd", "link": "https://stackoverflow.com/users/3213509/esd"}, "reply_to_user": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "edited": false, "score": 0, "creation_date": 1575483260, "post_id": 59077728, "comment_id": 104585575, "body": "As mentioned in my original question - I have a select drop down field in the editor using the ACF plugin, when a user updates the dropdown select, JS picks up on the event, and updates the image style &amp; default style, which is not updating."}], "answers": [{"tags": [], "owner": {"reputation": 869, "user_id": 11901310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qx9PM.jpg?s=128&g=1", "display_name": "Krishna Savani", "link": "https://stackoverflow.com/users/11901310/krishna-savani"}, "is_accepted": false, "score": 2, "last_activity_date": 1575526857, "creation_date": 1575526857, "answer_id": 59189351, "question_id": 59077728, "link": "https://stackoverflow.com/questions/59077728/can-i-use-javascript-to-update-a-default-class-in-the-wordpress-editor/59189351#59189351", "title": "Can I use Javascript to update a default class in the Wordpress Editor?", "body": "<p>I have Worked on Your Requirements for that I have done Below things:\nI am working on twenty-twenty theme</p>\n\n<p>1) In javascript file <strong>editor-script-block.js</strong></p>\n\n<pre><code>wp.domReady( function() {\n  wp.blocks.unregisterBlockStyle( 'core/image', 'circle-mask' );\n} );\n\nwp.domReady( function() {\n  wp.blocks.unregisterBlockStyle( 'core/image', 'default' );\n} );\n\nwp.domReady(function(){\n     wp.blocks.registerBlockStyle( 'core/image', {\n        name: 'retailResidential',\n        label: 'Retail &amp; Residential',\n\n      });\n\n      wp.blocks.registerBlockStyle( 'core/image', {\n        name: 'weddingsEvents',\n        label: 'Wedding &amp; Events',\n      });\n\n      wp.blocks.registerBlockStyle( 'core/image', {\n        name: 'advertisingEditorial',\n        label: 'Advertising &amp; Editorial'\n\n      });\n});\n</code></pre>\n\n<p>Now I am giving some style css to image like i want to add top triangle over image to \"retailResidential\" style see image here(<a href=\"https://prnt.sc/q6esxq\" rel=\"nofollow noreferrer\">https://prnt.sc/q6esxq</a>) for that i have to apply css for back-end and front-end also because there are different classes applying so </p>\n\n<p><strong>Admin side</strong></p>\n\n<pre><code>&lt;style&gt;\n.is-style-retailResidential &gt;div &gt; div.components-resizable-box__container:after {\n    content: '';\n    width: 0;\n    height: 0;\n    border-left: 50px solid transparent;\n    border-right: 50px solid transparent;\n    border-top: 50px solid #170606;\n    position: absolute;\n    left: 50%;\n    top: 0;\n    transform: translatex(-50%);\n}\n&lt;/style&gt;\n</code></pre>\n\n<p><strong>Fornt-end Side</strong></p>\n\n<pre><code>&lt;style&gt;\n.is-style-retailResidential{\n    position: relative;\n}\n.is-style-retailResidential:after {\n    content: '';\n    width: 0;\n    height: 0;\n    border-left: 50px solid transparent;\n    border-right: 50px solid transparent;\n    border-top: 50px solid #170606;\n    position: absolute;\n    left: 50%;\n    top: 0;\n    transform: translatex(-50%);\n}\n\n&lt;/style&gt;\n</code></pre>\n\n<p>For setting style is as default you have used Custom Field Plugin but wordpress Already giving option see here(<a href=\"https://prnt.sc/q6ew4k\" rel=\"nofollow noreferrer\">https://prnt.sc/q6ew4k</a>) I have set default style as \"Retail &amp; Residential\" and its working as you want </p>\n\n<p>still i am uploading video please check <a href=\"https://vimeo.com/377479542?utm_source=email&amp;utm_medium=vimeo-cliptranscode-201504&amp;utm_campaign=28749\" rel=\"nofollow noreferrer\">here</a> </p>\n\n<p>let me know if anything i misunderstood things!</p>\n"}], "owner": {"reputation": 105, "user_id": 3213509, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/B2iDO.jpg?s=128&g=1", "display_name": "esd", "link": "https://stackoverflow.com/users/3213509/esd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1575526857, "creation_date": 1574885091, "last_edit_date": 1575069506, "question_id": 59077728, "link": "https://stackoverflow.com/questions/59077728/can-i-use-javascript-to-update-a-default-class-in-the-wordpress-editor", "title": "Can I use Javascript to update a default class in the Wordpress Editor?", "body": "<p>In the WordPress Gutenberg Editor, I am trying to programmatically set a default class on an image block, which is applied without the user manually adding it via the 'Additional CSS' field.</p>\n\n<p>I have tried applying a default style on image blocks, which works initially -</p>\n\n<pre><code>wp.blocks.registerBlockStyle( 'core/image', {\n  name: 'retailResidential',\n  label: 'Retail &amp; Residential',\n  isDefault: true\n});\n</code></pre>\n\n<p>But I need to update this default class after a user changes a field on a custom dropdown.\nWhen this dropdown is changed, I am unregistering the block style, then registering a new default block style -  but it has no effect for additionally created images (does not create an image with the updated default style, still uses the old).</p>\n\n<pre><code>wp.blocks.unregisterBlockStyle(\n  'core/image',\n  [ 'retailResidential', 'weddingsEvents', 'advertisingEditorial']\n);\n</code></pre>\n\n<p>Does the editor need to be refreshed after updating the default image block style? or is there an alternative, better way of doing this?</p>\n\n<p><a href=\"https://developer.wordpress.org/block-editor/developers/filters/block-filters/#block-style-variations\" rel=\"noreferrer\">reference</a> for updating block styles</p>\n"}, {"tags": ["javascript", "node.js", "axios", "feedly"], "answers": [{"tags": [], "owner": {"reputation": 14452, "user_id": 917467, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a2ac78fe7434fd99ce7a484a47e7c337?s=128&d=identicon&r=PG&f=1", "display_name": "html_programmer", "link": "https://stackoverflow.com/users/917467/html-programmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1574887200, "creation_date": 1574887200, "answer_id": 59078111, "question_id": 59077631, "link": "https://stackoverflow.com/questions/59077631/setting-up-the-feedly-refresh-token/59078111#59078111", "title": "Setting Up the Feedly Refresh Token", "body": "<p>Different developers will use different strategie regarding refreshing an access token. While some will return a new token on every request, other will do it over a term of days or longer.<br>\nThe idea is to reduce the window of risk in which an access token can be abused but it is sort of a subjective topic imo. Obviously there is a performance penalty when you generate a new access token on every request. Sometimes this may be acceptable, but I really don't think it's necessary in many cases. Measure the tradeoff between the penalty and the sensitivity of the token in your case.  </p>\n\n<p>The docs explain it well: </p>\n\n<p>Endpoint: </p>\n\n<pre><code>POST /v3/auth/token\n</code></pre>\n\n<p>It does say that using url parameters is not recommended, so why not just do it the way they recommend it? Either: </p>\n\n<ul>\n<li>using a x-www-form-urlencoded POST request (standard)</li>\n<li>as a JSON object (make sure you set the Content-Type header to \u201capplication/json\u201d)</li>\n</ul>\n\n<p>You have more questions around this? </p>\n"}], "owner": {"reputation": 2971, "user_id": 7477670, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/056ba64092f251a72995b5c57eb351f2?s=128&d=identicon&r=PG&f=1", "display_name": "Moshe", "link": "https://stackoverflow.com/users/7477670/moshe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574887200, "creation_date": 1574884584, "question_id": 59077631, "link": "https://stackoverflow.com/questions/59077631/setting-up-the-feedly-refresh-token", "title": "Setting Up the Feedly Refresh Token", "body": "<p>I have successfully set up the <a href=\"https://developer.feedly.com/\" rel=\"nofollow noreferrer\">feedly developer access</a> token using the javascript library Axios on a NuxtJS site.  I am having trouble, though, figuring out how to set up the refresh token.  </p>\n\n<p>This is the process I have used for the developer token</p>\n\n<pre><code>export default function({ $axios }) {\n  $axios.onRequest((config) =&gt; {\n    config.headers.common['Authorization'] = [FEEDLY_ACCESS_TOKEN]\n  })\n}\n</code></pre>\n\n<p>This code gets run whenever I make the relevant axios request.</p>\n\n<p>What I am wondering, now, is what I need to do for the refresh token.  I have taken a look at the instructions on these two pages:</p>\n\n<ul>\n<li><a href=\"https://developer.feedly.com/v3/developer/#what-happens-once-the-developer-access-token-expires\" rel=\"nofollow noreferrer\">https://developer.feedly.com/v3/developer/#what-happens-once-the-developer-access-token-expires</a></li>\n<li><a href=\"https://developer.feedly.com/v3/auth/#refreshing-an-access-token\" rel=\"nofollow noreferrer\">https://developer.feedly.com/v3/auth/#refreshing-an-access-token</a></li>\n</ul>\n\n<p>However, I'm still not 100% clear as to what I am supposed to do.  In particular, I have two questions:</p>\n\n<ol>\n<li><p>Do I also run the refresh token each time I make an axios call -- or should I create a function that runs every thirty days and runs the code.</p></li>\n<li><p>How exactly do I make the axios call for the refresh token.  My initial guess is something like this:</p></li>\n</ol>\n\n<pre><code>$axios.$post('https://cloud.feedly.com/v3/auth/token/?refresh_token=FEEDLY_REFRESH_TOKEN&amp;client_id=feedlydev&amp;client_secret=feedlydev&amp;grant_type=refresh_token')\n</code></pre>\n\n<p>Is that correct?  If not, what do I need to change.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "eslint"], "comments": [{"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "edited": false, "score": 1, "creation_date": 1574884508, "post_id": 59077610, "comment_id": 104392282, "body": "This is a <code>jsx</code> behavior: &quot;JSX removes whitespace at the beginning and ending of a line. It also removes blank lines.&quot;  <a href=\"https://reactjs.org/docs/jsx-in-depth.html#string-literals-1\" rel=\"nofollow noreferrer\">reactjs.org/docs/jsx-in-depth.html#string-literals-1</a> . I&#39;m not aware of any lint rule which ensure this, since they will be removed anyway"}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574884942, "post_id": 59077610, "comment_id": 104392458, "body": "I think the reason why this lint rule doesn&#39;t exist is because useless whitespaces will be removed anyway when the code is minified. Meanwhile you can use code formatters like <code>prettier</code> to achieve that: <a href=\"https://prettier.io/docs/en/options.html#html-whitespace-sensitivity\" rel=\"nofollow noreferrer\">prettier.io/docs/en/options.html#html-whitespace-sensitivity</a>"}], "owner": {"reputation": 18601, "user_id": 599184, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tjsXC.jpg?s=128&g=1", "display_name": "Leo Jiang", "link": "https://stackoverflow.com/users/599184/leo-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574884466, "creation_date": 1574884466, "question_id": 59077610, "link": "https://stackoverflow.com/questions/59077610/eslint-rule-to-catch-useless-spaces-in-jsx", "title": "Eslint rule to catch useless spaces in JSX?", "body": "<p>E.g. <code>&lt;img /&gt; &lt;img /&gt;</code> or <code>&lt;span&gt; text &lt;/span&gt;</code></p>\n\n<p>Is there a rule that catches these spaces, which are ignored by React?</p>\n"}, {"tags": ["javascript", "javascript-scope"], "comments": [{"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1574884620, "post_id": 59077595, "comment_id": 104392326, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574884935, "post_id": 59077595, "comment_id": 104392453, "body": "Why would it not persist? Guessing I am missing why you would think the value would/would not persist."}, {"owner": {"reputation": 1159, "user_id": 2158478, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aab8eb00b849fd0797099e958c0c8494?s=128&d=identicon&r=PG", "display_name": "bunny", "link": "https://stackoverflow.com/users/2158478/bunny"}, "edited": false, "score": 0, "creation_date": 1574885115, "post_id": 59077595, "comment_id": 104392524, "body": "I think it is a global variable inside this shared.js file. Every time a call from other files call this function, isSignIn should be set to its initial value which false. Does javascript maintain its state somewhere so that it persist?"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1574885202, "post_id": 59077595, "comment_id": 104392556, "body": "When a file is required, it is cached. Since this file exports a function (and, as per the linked dupe target, the function&#39;s closure), every time the file is required the same cached copy is returned with references to the same portions of memory. This is required for modules to have consistent behavior when needed in multiple files."}, {"owner": {"reputation": 1159, "user_id": 2158478, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aab8eb00b849fd0797099e958c0c8494?s=128&d=identicon&r=PG", "display_name": "bunny", "link": "https://stackoverflow.com/users/2158478/bunny"}, "edited": false, "score": 0, "creation_date": 1574885350, "post_id": 59077595, "comment_id": 104392607, "body": "I see. I also tried to modify the value of this variable in other files by exporting it and import it in other files. It is importalble, however, it gives me error like this: &#39;Cannot assign to &#39;isSignIn&#39; because it is not a variable&#39; when I tried to assign a new value to it. Why is that?"}, {"owner": {"reputation": 8797, "user_id": 12270289, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-f90bXHFopV0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfStPF8S5OWF3hBzDu-oJeTx3xOfQ/photo.jpg?sz=128", "display_name": "Klaycon", "link": "https://stackoverflow.com/users/12270289/klaycon"}, "edited": false, "score": 1, "creation_date": 1574885574, "post_id": 59077595, "comment_id": 104392690, "body": "Imported values are read-only. If you&#39;d like to modify state in the file, you can export an object containing <code>isSignIn</code> - you should be able to change it then. Failing that, export a function that modifies the value."}, {"owner": {"reputation": 1159, "user_id": 2158478, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aab8eb00b849fd0797099e958c0c8494?s=128&d=identicon&r=PG", "display_name": "bunny", "link": "https://stackoverflow.com/users/2158478/bunny"}, "edited": false, "score": 0, "creation_date": 1574885638, "post_id": 59077595, "comment_id": 104392723, "body": "Right now I use the second approach to export a function that modifies the value. Thank you so much!"}], "owner": {"reputation": 1159, "user_id": 2158478, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/aab8eb00b849fd0797099e958c0c8494?s=128&d=identicon&r=PG", "display_name": "bunny", "link": "https://stackoverflow.com/users/2158478/bunny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574885083, "creation_date": 1574884378, "question_id": 59077595, "link": "https://stackoverflow.com/questions/59077595/javascript-variable-scope-across-multiple-files", "title": "JavaScript variable scope across multiple files", "body": "<p>I have a question about the if a variable value persist between different calls.</p>\n\n<p>I have a file called shared.ts which contains a variable isSignIn and a function signIn like below:</p>\n\n<pre><code>let isSignIn = false \n\nexport function signIn() {   \n  if (isSignIn) {\n     // do nothing \n  }   else {\n    // do actual sign in  \n  } \n}\n</code></pre>\n\n<p>This signIn function is called by other files. During tests, it seems the value of isSignIn persist between different calls. I would like to know why.</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574885158, "post_id": 59077587, "comment_id": 104392540, "body": "because <code>queue.addPlayer(new Player(5,&#39;test6&#39;,75));</code> is not going to run until <code>queue.addPlayer(new Player(3,&#39;test3&#39;,1050));</code> is done running. Also your code with <code>const playerTwo </code> inside the while loop is not going to update the playerTwo outside the loop."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574885340, "post_id": 59077587, "comment_id": 104392602, "body": "If you want it to be able to find things afterwards, then you need to make it asynchronous."}, {"owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574885691, "post_id": 59077587, "comment_id": 104392750, "body": "How would I do that could you help me?  I tried to do async and await on player 2, but I don&#39;t know what to do next  Can you answer so that I vote positive on your answer?"}, {"owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574887189, "post_id": 59077587, "comment_id": 104393315, "body": "I made my function async and use await in my find, but I don&#39;t know what I can do later"}], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "edited": false, "score": 0, "creation_date": 1574889363, "post_id": 59078271, "comment_id": 104394178, "body": "Oops bro thanks I was a little doubtful about this:  Math.abs (p.mmr - mmr) &lt;= 10)  What would this code do?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "edited": false, "score": 0, "creation_date": 1574889589, "post_id": 59078271, "comment_id": 104394254, "body": "I did not do whatever your calculation did... I made something up. It is saying if the result is plus or minus 10 from the players. Change the logic, just a basic idea of how to use promises."}, {"owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "edited": false, "score": 0, "creation_date": 1574890388, "post_id": 59078271, "comment_id": 104394545, "body": "Would instead of using setTimout I do a while so that while there is no match it remains in the loop?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "edited": false, "score": 0, "creation_date": 1574892956, "post_id": 59078271, "comment_id": 104395401, "body": "The while loop will not work because of JavaScript being single threaded."}, {"owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "edited": false, "score": 0, "creation_date": 1574894435, "post_id": 59078271, "comment_id": 104395865, "body": "I understand I am using nodejs as I would replace window?"}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": true, "score": 1, "last_activity_date": 1574888000, "creation_date": 1574888000, "answer_id": 59078271, "question_id": 59077587, "link": "https://stackoverflow.com/questions/59077587/queue-logic-and-a-while/59078271#59078271", "title": "Queue logic and a while", "body": "<p>You need to make the searching happen in an asynchronous manner. There are a bunch of ways to accomplish it. Personally I am a fan of promises. Below is showing a basic way of creating a way to wait until a player is added in the range. I also added the ability to cancel the search.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const players = [\r\n  { id: 1, name: 'spt', mmr: 970 },\r\n  { id: 2, name: 'test2', mmr: 1000 },\r\n  { id: 3, name: 'test3', mmr: 1050 },\r\n  { id: 4, name: 'test4', mmr: 70 }\r\n]\r\n\r\nconst makeMatch = (id) =&gt; {\r\n  let timer\r\n  let promiseResolve\r\n  let promiseReject      \r\n  const promise = new Promise((resolve, reject) =&gt; {\r\n    promiseResolve = resolve\r\n    promiseReject = reject\r\n  });\r\n\r\n  const playerDetails = players.find(p =&gt; p.id == id)\r\n  const { mmr } = playerDetails\r\n\r\n  const findMatchup = () =&gt; {\r\n    const secondPlayer = players.find(p =&gt; \r\n      p.id !== id &amp;&amp; \r\n      Math.abs(p.mmr - mmr) &lt;= 10)\r\n    if (secondPlayer) {\r\n      console.log(\"match!\", id)\r\n      promiseResolve({ player1: playerDetails, player2: secondPlayer })\r\n    } else {\r\n      console.log(\"no matches\", id)\r\n      timer = window.setTimeout(findMatchup, 1000)\r\n    }\r\n  }\r\n  \r\n  findMatchup()\r\n  \r\n  return {\r\n    kill: () =&gt; {\r\n      timer &amp;&amp; window.clearTimeout(timer)\r\n      promiseReject('cancelled')\r\n    },\r\n    promise\r\n  }\r\n}\r\n\r\n\r\n\r\n// Make up a match with player 4\r\n// There are no matches so it will loop for awhile\r\nvar matchMaking = makeMatch(4)\r\nmatchMaking.promise.then( ({ player1, player2 }) =&gt; {\r\n  console.log(player1, player2)\r\n})\r\n\r\n// Act like a new player signed on, push in the player\r\n// We should be a match after this happens\r\nwindow.setTimeout(() =&gt; { \r\n  console.log(\"Player is added\");\r\n  players.push({ id: 5, name: 'test5', mmr: 75 })\r\n}, 5500)\r\n\r\n\r\n//Example showing killing off\r\n\r\n// Make up a match with player 1\r\n// There are no matches so it will loop for awhile\r\nvar matchMaking2 = makeMatch(1)\r\nmatchMaking2.promise.then( ({ player1, player2 }) =&gt; {\r\n  console.log(player1, player2)\r\n}).catch((details) =&gt; {\r\n  console.log(details);\r\n})\r\n\r\n// Acting like user clicked cancel button to stop playing\r\nwindow.setTimeout(() =&gt; { \r\n  console.log(\"Player has cancelled\");\r\n  matchMaking2.kill()\r\n}, 10000)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 334, "user_id": 12409665, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtX5lsctUak/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX-AGSRifwl_1XJ9KHFen9QqcCCYA/mo/photo.jpg?sz=128", "display_name": "Felipe", "link": "https://stackoverflow.com/users/12409665/felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 59078271, "answer_count": 1, "score": 2, "last_activity_date": 1574888000, "creation_date": 1574884336, "question_id": 59077587, "link": "https://stackoverflow.com/questions/59077587/queue-logic-and-a-while", "title": "Queue logic and a while", "body": "<p>Hi I have a row of players,\nand from this row of players I get a player that matches two conditions</p>\n\n<pre><code>const condition = (5 / 100) * playerOne.mmr + playerOne.mmr\nconst condition2 = playerOne.mmr - ((5 / 100) * playerOne.mmr);\n</code></pre>\n\n<p>find another player who is between 5% less and 5% more than my player's mmr value</p>\n\n<p>and then I did it</p>\n\n<pre><code>  searching(playerOne) {\n    const condition = (5 / 100) * playerOne.mmr + playerOne.mmr\n    const condition2 = playerOne.mmr - ((5 / 100) * playerOne.mmr);\n\n    const player = playerOne;\n    const playerTwo = this.players.find((playerTwo) =&gt; playerTwo.mmr &lt; condition &amp;&amp; playerTwo.mmr &gt; condition2 &amp;&amp; playerTwo.id != playerOne.id);\n\n    while(!this.players.find((playerTwo) =&gt; playerTwo.mmr &lt; condition &amp;&amp; playerTwo.mmr &gt; condition2 &amp;&amp; playerTwo.id != playerOne.id)){\n      const playerTwo = this.players.find((playerTwo) =&gt; playerTwo.mmr &lt; condition &amp;&amp; playerTwo.mmr &gt; condition2 &amp;&amp; playerTwo.id != playerOne.id);\n      console.log(this.players);\n    }\n\n    const matchedPlayers = [\n      player,\n      playerTwo\n    ]\n    // remove matched players from this.players\n    this.removePlayers(matchedPlayers);\n    // return new Match with matched players\n    return matchedPlayers;\n  }\n}\n</code></pre>\n\n<p>Good if I can't find a compatible mmr I go into the while forever</p>\n\n<p>And even on my server I adding a player to the queue after</p>\n\n<p>inside my while my queue continues with the same players and the new player I added in the queue does not appear</p>\n\n<pre><code>queue.addPlayer(new Player(1,'spt',970));\nqueue.addPlayer(new Player(2,'test2',1000));\nqueue.addPlayer(new Player(3,'test3',1050));\nqueue.addPlayer(new Player(4,'test4',70));\n\nconst playerOne = queue.players.find((playerOne) =&gt; playerOne.mmr === 70);\nconst players = queue.searching(playerOne);\nqueue.addPlayer(new Player(5,'test6',75));\n</code></pre>\n\n<p>I added my 5 player after I called my search function\nand inside my whilei I put to give console.log in my queue, but only 4 players appear and not my 5 player so it is in the infinite loop and I don't know where I went wrong or how I can fix or if my logic is very failed</p>\n\n<pre><code>[\n  Player { id: 1, name: 'spt', mmr: 970 },\n  Player { id: 2, name: 'test2', mmr: 1000 },\n  Player { id: 3, name: 'test3', mmr: 1050 },\n  Player { id: 4, name: 'test4', mmr: 70 }\n]\n</code></pre>\n"}, {"tags": ["javascript", "lodash"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 0, "creation_date": 1574884651, "post_id": 59077575, "comment_id": 104392342, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/286141/remove-blank-attributes-from-an-object-in-javascript\">Remove blank attributes from an Object in Javascript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "is_accepted": false, "score": 0, "last_activity_date": 1574884665, "creation_date": 1574884665, "answer_id": 59077647, "question_id": 59077575, "link": "https://stackoverflow.com/questions/59077575/remove-null-empty-values-from-object/59077647#59077647", "title": "Remove null/empty values from object", "body": "<p>Use Object.keys to iterate through the keys. Use the <code>delete</code> operator when encountering an empty/null value. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/delete</a></p>\n\n<p>Make sure to handle cases where an object is nested indeterminately deep.</p>\n"}], "owner": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1574884665, "creation_date": 1574884295, "question_id": 59077575, "link": "https://stackoverflow.com/questions/59077575/remove-null-empty-values-from-object", "title": "Remove null/empty values from object", "body": "<p>I have the following object</p>\n\n<pre><code>params: {\n  filter: {\n     status: '',\n     color: 'red'\n  }\n}\n</code></pre>\n\n<p>And I need to remove empty/null values from the params object.\nHow can I do that ?</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "answers": [{"tags": [], "owner": {"reputation": 261, "user_id": 4202951, "user_type": "registered", "profile_image": "https://graph.facebook.com/818409169/picture?type=large", "display_name": "Gilad Tamam", "link": "https://stackoverflow.com/users/4202951/gilad-tamam"}, "is_accepted": true, "score": 0, "last_activity_date": 1574890147, "creation_date": 1574890147, "answer_id": 59078693, "question_id": 59077443, "link": "https://stackoverflow.com/questions/59077443/how-to-change-these-two-functional-componentstabledata-js-and-tablesearch-js-t/59078693#59078693", "title": "How to change these two functional components(TableData.js and TableSearch.js) to class components?", "body": "<p>I don't know why you want to do it hope you have a good reason\nbut this how you should do it</p>\n\n<p>TableSearch.jsx</p>\n\n<pre><code>import React from \"react\";\nexport default class TableSearch extends React.Component {\n\n    render() {\n        const { value, onChange, onSearch } = this.props;\n        return (\n            &lt;div className=\"tableSearch\"&gt;\n                &lt;input type=\"text\" className=\"searchInput\" onChange={onChange} value={value} placeholder=\"Search by flight\" /&gt;\n                &lt;button className=\"buttonSearch\" onClick={() =&gt; onSearch(value)}&gt;Search&lt;/button&gt;\n            &lt;/div&gt;\n        );\n    }\n};\n</code></pre>\n\n<p>TableData.jsx</p>\n\n<pre><code>import React from \"react\";\nexport default class TableData extends React.Component {\n\n    render() {\n        const { data } = this.props;\n        return (\n            &lt;div className=\"tableContainer\"&gt;\n                &lt;table className=\"table\"&gt;\n                    &lt;thead&gt;\n                        &lt;tr&gt;\n                            &lt;th&gt;Terminal&lt;/th&gt;\n                            &lt;th&gt;Gate&lt;/th&gt;\n                            &lt;th&gt;Time&lt;/th&gt;\n                            &lt;th&gt;Destination&lt;/th&gt;\n                            &lt;th&gt;Airline&lt;/th&gt;\n                            &lt;th&gt;Flight&lt;/th&gt;\n                            &lt;th&gt;Status&lt;/th&gt;\n                        &lt;/tr&gt;\n                    &lt;/thead&gt;\n                    &lt;tbody&gt;\n                        {data.map(item =&gt; {\n                            const dt = new Date(item.actual);\n                            const mins = dt.getMinutes();\n                            return (\n                                &lt;tr key={item.ID}&gt;\n                                    &lt;td&gt;{item.term}&lt;/td&gt;\n                                    &lt;td&gt;{item.gateNo}&lt;/td&gt;\n                                    &lt;td&gt;{`${dt.getHours()}:${mins &lt; 10 ? '0' : ''}${mins}`}&lt;/td&gt;\n                                    &lt;td&gt;\n                                        {item[\"airportToID.city_en\"]\n                                            ? item[\"airportToID.city_en\"]\n                                            : item[\"airportFromID.city_en\"]}\n                                    &lt;/td&gt;\n                                    &lt;td&gt;{item.airline.en.name}&lt;/td&gt;\n                                    &lt;td&gt;{item[\"planeTypeID.code\"]}&lt;/td&gt;\n                                    &lt;td&gt;{item.status}&lt;/td&gt;\n                                &lt;/tr&gt;\n                            );\n                        })}\n                    &lt;/tbody&gt;\n                &lt;/table&gt;\n            &lt;/div&gt;\n        );\n    }\n}   \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11872637"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 59078693, "answer_count": 1, "score": -1, "last_activity_date": 1574890147, "creation_date": 1574883757, "question_id": 59077443, "link": "https://stackoverflow.com/questions/59077443/how-to-change-these-two-functional-componentstabledata-js-and-tablesearch-js-t", "title": "How to change these two functional components(TableData.js and TableSearch.js) to class components?", "body": "<p>I need to make the functional components (TableSearch.js and TableData.js ) to class components, first class component should be called <strong>TableSearch</strong> and second <strong>TableData</strong>. I just started to study the React and Redux, so it's still hard for me, also the complexity is that in these functions the object is passed by an argument (destructuring).</p>\n\n<p>TableSearch.js:</p>\n\n<pre><code>import React from \"react\";\nexport default ({ value, onChange, onSearch }) =&gt; {\n  return (\n    &lt;div className=\"tableSearch\"&gt;\n        &lt;input type=\"text\" className=\"searchInput\" onChange={onChange} value={value} placeholder=\"Search by flight\"/&gt;\n        &lt;button className=\"buttonSearch\" onClick={() =&gt; onSearch(value)}&gt;Search&lt;/button&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n\n<p>TableData.js:</p>\n\n<pre><code>import React from \"react\";\nexport default ({ data }) =&gt; (\n     &lt;div className=\"tableContainer\"&gt;\n  &lt;table className=\"table\"&gt;\n    &lt;thead&gt;\n      &lt;tr&gt;\n        &lt;th&gt;Terminal&lt;/th&gt;\n        &lt;th&gt;Gate&lt;/th&gt;\n        &lt;th&gt;Time&lt;/th&gt;\n        &lt;th&gt;Destination&lt;/th&gt;\n        &lt;th&gt;Airline&lt;/th&gt;\n        &lt;th&gt;Flight&lt;/th&gt;\n        &lt;th&gt;Status&lt;/th&gt;\n      &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n      {data.map(item =&gt; {\n         const dt = new Date(item.actual);\n         const mins = dt.getMinutes();\n        return (\n          &lt;tr key={item.ID}&gt;\n            &lt;td&gt;{item.term}&lt;/td&gt;\n            &lt;td&gt;{item.gateNo}&lt;/td&gt;\n            &lt;td&gt;{`${dt.getHours()}:${mins &lt; 10 ? '0' : ''}${mins}`}&lt;/td&gt;\n            &lt;td&gt;\n              {item[\"airportToID.city_en\"]\n                ? item[\"airportToID.city_en\"]\n                : item[\"airportFromID.city_en\"]}\n            &lt;/td&gt;\n            &lt;td&gt;{item.airline.en.name}&lt;/td&gt;\n            &lt;td&gt;{item[\"planeTypeID.code\"]}&lt;/td&gt;\n            &lt;td&gt;{item.status}&lt;/td&gt;\n          &lt;/tr&gt;\n        );\n      })}\n    &lt;/tbody&gt;\n  &lt;/table&gt;\n&lt;/div&gt;\n);           \n</code></pre>\n\n<p>How to change these two functional components(TableData.js and TableSearch.js) to class components?\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////</p>\n\n<p>I will also write the main component App.js(for more information)</p>\n\n<pre><code>import React from \"react\";\nimport { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { fetchData } from \"../actions\";\nimport { filter } from \"../actions\";\nimport { setSearch } from \"../actions\";\nimport TableData from \"../components/TableData\";\nimport TableSearch from \"../components/TableSearch\";\nimport Header from \"../components/Header\";\nimport Footer from \"../components/Footer\";\nimport \"../components/app.css\";\n\nexport function searchFilter(search, data) {\n  return data.filter(n =&gt; n[\"planeTypeID.code\"].toLowerCase().includes(search));\n}\n\nconst days = [\"12-11-2019\", \"13-11-2019\", \"14-11-2019\"];\n\nclass Root extends React.Component {\n  componentDidMount() {\n    this.props.onFetchData(days[this.props.propsReducer.day]);\n  }\n\n  render() {\n    const { onFilter, onSetSearch, onFetchData } = this.props;\n    const { search, shift, data, filteredData } = this.props.propsReducer;\n\n    return (\n      &lt;div&gt;\n        &lt;div className=\"content\"&gt;\n\n        &lt;Header/&gt;\n        &lt;br/&gt;\n        &lt;div className=\"searchTitle\"&gt;SEARCH FLIGHT&lt;/div&gt;\n             &lt;br/&gt;\n        &lt;TableSearch value={search} onChange={e =&gt; onSetSearch(e.target.value)} \n         onSearch={value =&gt; onFilter({ search: value })}/&gt;\n             &lt;br/&gt;\n             &lt;br/&gt;\n        &lt;div className=\"buttonShift\"&gt;\n          {data &amp;&amp; Object.keys(data).map(n =&gt; (\n            &lt;button data-shift={n} onClick={e =&gt; onFilter({ shift: e.target.dataset.shift })} className={n === shift ? \"active\" : \"noActive\"}&gt;\n                {n}\n            &lt;/button&gt;\n          ))}\n        &lt;/div&gt;\n\n        &lt;div className=\"row\"&gt;\n        &lt;span className=\"title\"&gt;Yesterday: &lt;/span&gt;&lt;span className=\"title\"&gt;Today: &lt;/span&gt;&lt;span className=\"title\"&gt;Tomorrow: &lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div className=\"buttonDays\"&gt;\n          {days &amp;&amp; days.map((day, i) =&gt; (\n            &lt;button  key={day} onClick={() =&gt; onFetchData(day)} className=\"buttonDaysOne\"&gt;\n                {day} \n            &lt;/button&gt;\n          ))}\n        &lt;/div&gt;\n\n        {data &amp;&amp; &lt;TableData data={filteredData} /&gt;}\n          &lt;/div&gt;\n        &lt;Footer/&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nconst mapStateToProps = state =&gt; state;\n\nconst matchDispatchToProps = dispatch =&gt; ({\n    onFilter: args =&gt; dispatch(filter(args)),\n    onSetSearch: search =&gt; dispatch(setSearch(search)),\n    onFetchData: day =&gt; dispatch(fetchData(day))\n});\n\nexport const ConnectedRoot = connect(\n  mapStateToProps,\n  matchDispatchToProps\n)(Root);\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "dom"], "comments": [{"owner": {"reputation": 10267, "user_id": 529024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HKvlX.png?s=128&g=1", "display_name": "Kalimah", "link": "https://stackoverflow.com/users/529024/kalimah"}, "edited": false, "score": 0, "creation_date": 1574891125, "post_id": 59077436, "comment_id": 104394794, "body": "Does this help: <a href=\"https://stackoverflow.com/questions/2655925/how-to-apply-important-using-css\" title=\"how to apply important using css\">stackoverflow.com/questions/2655925/&hellip;</a>"}, {"owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "reply_to_user": {"reputation": 10267, "user_id": 529024, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HKvlX.png?s=128&g=1", "display_name": "Kalimah", "link": "https://stackoverflow.com/users/529024/kalimah"}, "edited": false, "score": 0, "creation_date": 1574920065, "post_id": 59077436, "comment_id": 104401303, "body": "it will change in element style, which will again changed by 3rd party app, how can it help."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575060157, "post_id": 59077436, "comment_id": 104452673, "body": "It sounds like you are wanting to re-define a css class?  If that&#39;s the case, there&#39;s nothing stopping you from writing js logic that inserts and manipulates a &lt;style&gt; tag on the page."}, {"owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1575060627, "post_id": 59077436, "comment_id": 104452809, "body": "inserting a class with &lt;style&gt; tag will insert same class again and again, what I want is to manipulate the property of class instead of defining it again and again. Because this event occurs many many time"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575061545, "post_id": 59077436, "comment_id": 104453047, "body": "It will only insert again and again if you write it that way.  You could either change the existing one, or replace it entirely.  <code>&lt;style&gt;</code> tags can be selected just like any other element in the DOM."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575061992, "post_id": 59077436, "comment_id": 104453169, "body": "<a href=\"https://jsfiddle.net/y6cj9eou/\" rel=\"nofollow noreferrer\">jsfiddle.net/y6cj9eou</a>  Dummy little example showing the concept."}, {"owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1575063151, "post_id": 59077436, "comment_id": 104453456, "body": "@Taplar thanks a lot, you saved me."}, {"owner": {"reputation": 651, "user_id": 9650803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SmX47.png?s=128&g=1", "display_name": "PoorlyWrittenCode", "link": "https://stackoverflow.com/users/9650803/poorlywrittencode"}, "edited": false, "score": 0, "creation_date": 1575590981, "post_id": 59077436, "comment_id": 104627957, "body": "I&#39;m not sure fully I understand the question. <b>C</b>ascading <b>S</b>tyle <b>S</b>heets are, well, cascading. If you want to override style rules from a class, apply the style rules directly to the element. <a href=\"https://www.w3schools.com/css/css_specificity.asp\" rel=\"nofollow noreferrer\">CSS Specificity</a>"}, {"owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "reply_to_user": {"reputation": 651, "user_id": 9650803, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SmX47.png?s=128&g=1", "display_name": "PoorlyWrittenCode", "link": "https://stackoverflow.com/users/9650803/poorlywrittencode"}, "edited": false, "score": 0, "creation_date": 1575666886, "post_id": 59077436, "comment_id": 104656143, "body": "@PoorlyWrittenCode element style is getting changed by 3rd party js application, that&#39;s why I need to change the of CSS class property"}], "answers": [{"comments": [{"owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "edited": false, "score": 0, "creation_date": 1574947052, "post_id": 59089443, "comment_id": 104414220, "body": "how this can help me ?"}], "tags": [], "owner": {"reputation": 40, "user_id": 12416248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--CAf0LxOvEc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rewCbwjBo4HEpDfwkjrBa11Vkqcvg/photo.jpg?sz=128", "display_name": "Sarah Sundar", "link": "https://stackoverflow.com/users/12416248/sarah-sundar"}, "is_accepted": false, "score": -1, "last_activity_date": 1574945825, "creation_date": 1574945825, "answer_id": 59089443, "question_id": 59077436, "link": "https://stackoverflow.com/questions/59077436/dynamically-change-css-class-property-with-javascript/59089443#59089443", "title": "dynamically change css class property with javascript", "body": "<pre><code>$(\"body\").mousemove(function(e) {\n        window.mx = e.pageX;\n        window.my = e.pageY;\n        if (window.dragging) {\n            // Calculate drag distance difference\n            let diffX =\n    window.drag_width =\nparseInt((window.item_width + (window.mx - window.drag_x) * 1.75));\n            let diffY =\n   window.drag_height =\nparseInt((window.item_height + (window.my - window.drag_y) * 1.75));\n            // Absolute values ensure the item dimensions\n            // never become negative\n            $(window.dragging_target).css(\"width\",\n                Math.abs(diffX) + 'px');\n            $(window.dragging_target).css(\"height\",\n                Math.abs(diffY) + 'px');\n            $(window.dragging_target).css(\"lineHeight\",\n                Math.abs(diffY) + 'px');\n            // Change cursor to either left-right or up-down arrow,\n            // based on which direction the drag is the greatest\n            if (diffX &gt; diffY) {\n                /* Optional, maybe a future feature... */\n            }\n        }\n    })\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "is_accepted": true, "score": -1, "last_activity_date": 1575063016, "creation_date": 1575063016, "answer_id": 59111165, "question_id": 59077436, "link": "https://stackoverflow.com/questions/59077436/dynamically-change-css-class-property-with-javascript/59111165#59111165", "title": "dynamically change css class property with javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//let this is third party app which is changing the paragraph width and html which code can't be manipulated\r\nfunction changeHeight(e) {\r\n  var x = e.clientX;\r\n  var y = e.clientY;\r\n  $('p').html(y);\r\n  $('p').css('width',x+\"px\");\r\n}\r\n\r\n// Here we need to write Js code so that any change in paragraph css will not be effective, if zoom is yes\r\n\r\n      let styleOverride = document.querySelector('#styleOverride');\r\n  \r\n  if (!styleOverride) {\r\n  \tstyleOverride = document.createElement('style');\r\n    styleOverride.id = 'styleOverride';\r\n    document.body.appendChild(styleOverride);\r\n  }\r\n     styleOverride.innerHTML = '';\r\n$('[name=\"zoom\"]').on('change',function(){\r\n  if($(this).val()=='y'){\r\n    // Here need to change to the .zoomed propery as widht: current_width!improtant so that paragraph width get fixed to lastly it have.\r\n    let wid= $('p').css('width')+\"!important\";\r\n    styleOverride.innerHTML = `\r\n\t.zoomed{\r\n    \twidth: ${wid};\r\n    }\r\n  `;\r\n    $('p').addClass('zoomed');\r\n  }\r\n  else{\r\n    $('p').removeClass('zoomed');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;style&gt;\r\n  .zoomed{\r\n    width: 50px!important;\r\n  }\r\n &lt;/style&gt;\r\n&lt;label&gt;zoom yes&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"y\" /&gt;\r\n&lt;label&gt;zoom no&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"n\" checked/&gt;\r\n\r\n&lt;div style=\"height:70px;border:1px solid #000000;\" onmousemove=\"changeHeight(event)\"&gt;\r\n&lt;/div&gt;\r\n&lt;p style=\"background-color:red;\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 346, "user_id": 8662476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dd078c2968905415c8b7579f4230649?s=128&d=identicon&r=PG", "display_name": "Maurici Abad", "link": "https://stackoverflow.com/users/8662476/maurici-abad"}, "is_accepted": false, "score": 1, "last_activity_date": 1575449618, "last_edit_date": 1575449618, "creation_date": 1575414730, "answer_id": 59166773, "question_id": 59077436, "link": "https://stackoverflow.com/questions/59077436/dynamically-change-css-class-property-with-javascript/59166773#59166773", "title": "dynamically change css class property with javascript", "body": "<p>You can use <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/Using_CSS_custom_properties\" rel=\"nofollow noreferrer\">CSS custom properties</a></strong>.</p>\n\n<p>The idea is that the custom property <code>--last-p-width</code> is set to the element's <code>width</code> property value when you add the class <code>zoom</code>. Making it stay with the same value.</p>\n\n<p>This post goes more into detail: <a href=\"https://css-tricks.com/updating-a-css-variable-with-javascript/\" rel=\"nofollow noreferrer\">https://css-tricks.com/updating-a-css-variable-with-javascript/</a></p>\n\n<h3>CSS</h3>\n\n<pre class=\"lang-css prettyprint-override\"><code>::root {\n  --last-p-width: 50px;\n}\n\n.zoomed{\n  width: var(--last-p-width) !important;\n}\n</code></pre>\n\n<h3>JS</h3>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('[name=\"zoom\"]').on('change',function() {\n  if ($(this).val() === 'y') {\n    $(\":root\").css(\"--last-p-width\", $('p').css('width'));    // &lt;-- HERE\n    $('p').addClass('zoomed');\n  }\n  else {\n    $('p').removeClass('zoomed');\n  }\n});\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeHeight(e) {\r\n  var x = e.clientX;\r\n  var y = e.clientY;\r\n  $('p').html(y);\r\n  $('p').css('width',x+\"px\");\r\n}\r\n\r\n$('[name=\"zoom\"]').on('change',function() {\r\n  if ($(this).val() === 'y') {\r\n    $(\":root\").css(\"--last-p-width\", $('p').css('width'));    // &lt;-- HERE\r\n    $('p').addClass('zoomed');\r\n  }\r\n  else {\r\n    $('p').removeClass('zoomed');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;style&gt;\r\n  ::root {\r\n    --last-p-width: 50px;\r\n  }\r\n  \r\n  .zoomed{\r\n    width: var(--last-p-width) !important;\r\n  }\r\n &lt;/style&gt;\r\n&lt;label&gt;zoom yes&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"y\" /&gt;\r\n&lt;label&gt;zoom no&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"n\" checked/&gt;\r\n\r\n&lt;div style=\"height:70px;border:1px solid #000000;\" onmousemove=\"changeHeight(event)\"&gt;\r\n&lt;/div&gt;\r\n&lt;p style=\"background-color:red;\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1533, "user_id": 9140438, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/RTxOb.jpg?s=128&g=1", "display_name": "Pankaj Sharma", "link": "https://stackoverflow.com/users/9140438/pankaj-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 1, "accepted_answer_id": 59111165, "answer_count": 3, "score": 3, "last_activity_date": 1575449618, "creation_date": 1574883722, "last_edit_date": 1574944184, "question_id": 59077436, "link": "https://stackoverflow.com/questions/59077436/dynamically-change-css-class-property-with-javascript", "title": "dynamically change css class property with javascript", "body": "<p>I have div which transform property is getting changed by 3rd party Js application, what I want is to fix the transform property at some instance according to current transform property it have.</p>\n\n<p>For that I need to add class with property <code>transform: current_transform!important</code> here with <code>!important</code> if any change in element style by 3rd party app will not be effective.</p>\n\n<p>here I created a example snippet for better explanation </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//let this is third party app which is changing the paragraph width and html which code can't be manipulated\r\nfunction changeHeight(e) {\r\n  var x = e.clientX;\r\n  var y = e.clientY;\r\n  $('p').html(y);\r\n  $('p').css('width',x+\"px\");\r\n}\r\n\r\n// Here we need to write Js code so that any change in paragraph css will not be effective, if zoom is yes\r\n\r\n$('[name=\"zoom\"]').on('change',function(){\r\n  if($(this).val()=='y'){\r\n    // Here need to change to the .zoomed propery as widht: current_width!improtant so that paragraph width get fixed to lastly it have.\r\n    \r\n    $('p').addClass('zoomed');\r\n  }\r\n  else{\r\n    $('p').removeClass('zoomed');\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;style&gt;\r\n  .zoomed{\r\n    width: 50px!important;\r\n  }\r\n &lt;/style&gt;\r\n&lt;label&gt;zoom yes&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"y\" /&gt;\r\n&lt;label&gt;zoom no&lt;/label&gt;\r\n&lt;input type=\"radio\" name=\"zoom\" value=\"n\" checked/&gt;\r\n\r\n&lt;div style=\"height:70px;border:1px solid #000000;\" onmousemove=\"changeHeight(event)\"&gt;\r\n&lt;/div&gt;\r\n&lt;p style=\"background-color:red;\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is only for example only, real scenario is different(about transform property and zoom) but the key is to change the class property dynamically so that change in style by third party is not effective.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1729, "user_id": 10763202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqJ1D.png?s=128&g=1", "display_name": "Claire Lin", "link": "https://stackoverflow.com/users/10763202/claire-lin"}, "edited": false, "score": 0, "creation_date": 1574885815, "post_id": 59077427, "comment_id": 104392806, "body": "Are <code>page</code> and <code>initialPage</code> props or variables inside the component? If they are props, why are you fiddling with their values?"}], "answers": [{"tags": [], "owner": {"reputation": 974, "user_id": 10719564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389a0f44307d1c137d141f7d7025c009?s=128&d=identicon&r=PG&f=1", "display_name": "mph85", "link": "https://stackoverflow.com/users/10719564/mph85"}, "is_accepted": false, "score": 0, "last_activity_date": 1574884620, "creation_date": 1574884620, "answer_id": 59077639, "question_id": 59077427, "link": "https://stackoverflow.com/questions/59077427/react-avoid-re-render-usestate/59077639#59077639", "title": "React avoid re render useState", "body": "<p>Not sure if this is what you're looking for, but maybe something with <code>useEffect</code> could help? </p>\n\n<pre><code>useEffect(() =&gt; {\n  setFirstRender(false);\n}, []);\n</code></pre>\n\n<p>The array at the end is a dependency and tells the function to only run once, you could also add a value in there that runs only when that value changes as well. </p>\n"}, {"tags": [], "owner": {"reputation": 237, "user_id": 10925789, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H269v-nA8Kg/AAAAAAAAAAI/AAAAAAAAAME/YVQo4a4KM_o/photo.jpg?sz=128", "display_name": "Oliver", "link": "https://stackoverflow.com/users/10925789/oliver"}, "is_accepted": false, "score": 0, "last_activity_date": 1574884857, "creation_date": 1574884857, "answer_id": 59077685, "question_id": 59077427, "link": "https://stackoverflow.com/questions/59077427/react-avoid-re-render-usestate/59077685#59077685", "title": "React avoid re render useState", "body": "<p>It appears you aren't checking the value of your state anywhere.</p>\n\n<p>e.g this conditional:</p>\n\n<pre><code>if(first){\n   page = undefined;\n   setFirstRender(false);\n}else{\n  initialPage = undefined;\n}\n</code></pre>\n\n<p>should be changed to rely on the value of state, which you declare as: \n<code>(const [firstRender, setFirstRender] = useState(true);)</code></p>\n\n<p>so </p>\n\n<pre><code>if(firstRender){\n   page = undefined;\n   setFirstRender(false);\n}else{\n  initialPage = undefined;\n}\n</code></pre>\n\n<p>Additionally, you will probably need to move this conditional into a useEffect where it will update only after the first initial page render. </p>\n\n<pre><code>useEffect(() =&gt; {\nif (firstRender) {\nsetFirstRender(false) ...etc\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 12291827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caad278e77959cc2472701469972c361?s=128&d=identicon&r=PG&f=1", "display_name": "aabcabca12", "link": "https://stackoverflow.com/users/12291827/aabcabca12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 324, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574884857, "creation_date": 1574883680, "question_id": 59077427, "link": "https://stackoverflow.com/questions/59077427/react-avoid-re-render-usestate", "title": "React avoid re render useState", "body": "<p>I have a component which uses <code>react-native-scrollable-tabview</code>. I'm having a problem though.</p>\n\n<p>The component has 2 props: <code>page</code> and <code>initialPage</code>.</p>\n\n<p>When rendering the component for the first time, I should set <code>initialPage</code>, otherwise it doesn't work. </p>\n\n<p>However when rendering the component again, if I change this <code>initialPage</code> it goes the new page (tab) but it doesn't render it. BUT, if I set the <code>page</code> then it works.</p>\n\n<p>So the idea is:</p>\n\n<p>First render? Set <code>page</code> to undefined and <code>initialPage</code> to N.\nSubsequent renders? Set <code>page</code> to N and <code>initialPage</code> to undefined.</p>\n\n<p>I tried using a flag state variable like this:</p>\n\n<pre><code>const [firstRender, setFirstRender] = useState(true);\n\nlet page = n;\nlet initialPage = n;\n\nif(first){\n   page = undefined;\n   setFirstRender(false);\n}else{\n  initialPage = undefined;\n}\n</code></pre>\n\n<p>Thing is, the <code>setFirstRender</code> triggers a re render so it doesn't work. However when I go to another screen (using react navigation) and I come back then it works fine.</p>\n\n<p>Is there any way to update this <code>firstRender</code> without it triggering a re render?</p>\n"}, {"tags": ["javascript", "cytoscape.js"], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9061479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vSJ7fUuTby0/AAAAAAAAAAI/AAAAAAAAAdM/NiQXIMC2Qbo/photo.jpg?sz=128", "display_name": "ovae", "link": "https://stackoverflow.com/users/9061479/ovae"}, "edited": false, "score": 0, "creation_date": 1574936001, "post_id": 59078877, "comment_id": 104408325, "body": "thank you so much, you are absolutely right. I had my levels in the wrong order and I had to remove the levelWidth. And I myself found another error in my code. I create the graphs on a express server and cytoscape is used inside and angular app to display the graph. For some reason the concentric function in the layout went missing, inside my http request from the angular app to get the graph from the server. but now its all fine :)"}], "tags": [], "owner": {"reputation": 823, "user_id": 6892480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25adf12743087f7691af31c5f55ecd98?s=128&d=identicon&r=PG&f=1", "display_name": "Hasan Balc\u0131", "link": "https://stackoverflow.com/users/6892480/hasan-balc%c4%b1"}, "is_accepted": true, "score": 3, "last_activity_date": 1574891139, "creation_date": 1574891139, "answer_id": 59078877, "question_id": 59077386, "link": "https://stackoverflow.com/questions/59077386/how-to-create-layers-with-cytoscape-concentric-layout/59078877#59078877", "title": "How to create layers with cytoscape concentric layout", "body": "<p>First of all, layout places higher level nodes towards the center, therefore your inner nodes should have level 2, while outer ones should have level 1. Secondly, I don't know how levelWidth option works, but using default value instead of 2 works. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var cy = window.cy = cytoscape({\r\n  container: document.getElementById('cy'),\r\n\r\n  style: [{\r\n      selector: 'node',\r\n      css: {\r\n        'content': 'data(id)'\r\n      }\r\n    },\r\n    {\r\n      selector: 'edge',\r\n      css: {\r\n        'curve-style': 'straight',\r\n      }\r\n    }\r\n  ],\r\n  elements: [\r\n  {data: {\r\n    id: 'innerA', level: 2 },\r\n    group: 'nodes'\r\n  },\r\n  {data: {\r\n    id: 'innerB', level: 2 },\r\n    group: 'nodes'\r\n  },\r\n  {data: {\r\n    id: 'innerC', level: 2 },\r\n    group: 'nodes'\r\n  },\r\n  {data: {\r\n    id: 'innerD', level: 2 },\r\n    group: 'nodes'\r\n  },  \r\n  {data: {\r\n    id: 'outA', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outB', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outC', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outD', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outE', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outF', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outG', level: 1 },\r\n    group: 'nodes'\r\n   },\r\n  {data: {\r\n    id: 'outH', level: 1 },\r\n    group: 'nodes'\r\n   },   \r\n  {\r\n    data: { source: 'innerA', target: 'outA' },\r\n    group: 'edges',\r\n  },\r\n  {\r\n    data: { source: 'innerB', target: 'outC' },\r\n    group: 'edges',\r\n  },\r\n  {\r\n    data: { source: 'innerC', target: 'outE' },\r\n    group: 'edges',\r\n  },\r\n  {\r\n    data: { source: 'innerD', target: 'outG' },\r\n    group: 'edges',\r\n  },  \r\n  ],\r\n  layout: {\r\n    name: 'concentric',\r\n    concentric: function( node ){\r\n      return node.data(\"level\");\r\n    },\r\n    minNodeSpacing: 50\r\n  }  \r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  font: 14px helvetica neue, helvetica, arial, sans-serif;\r\n}\r\n\r\n#cy {\r\n  height: 95%;\r\n  width: 95%;\r\n  left: 0;\r\n  top: 0;\r\n  position: absolute;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=utf-8 /&gt;\r\n  &lt;meta name=\"viewport\" content=\"user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, minimal-ui\"&gt;\r\n  &lt;script src=\"https://unpkg.com/cytoscape@3.10.0/dist/cytoscape.min.js\"&gt;\r\n  &lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id=\"cy\"&gt;&lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 99, "user_id": 9061479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vSJ7fUuTby0/AAAAAAAAAAI/AAAAAAAAAdM/NiQXIMC2Qbo/photo.jpg?sz=128", "display_name": "ovae", "link": "https://stackoverflow.com/users/9061479/ovae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 59078877, "answer_count": 1, "score": 3, "last_activity_date": 1574891139, "creation_date": 1574883416, "question_id": 59077386, "link": "https://stackoverflow.com/questions/59077386/how-to-create-layers-with-cytoscape-concentric-layout", "title": "How to create layers with cytoscape concentric layout", "body": "<p>I tried to create a inner and outer layer with the concentric layout.\nBut I don't get it to work.</p>\n\nThis is how it looks for me:\n\n<p>The inner and outer nodes get mixed up.</p>\n\n<p><a href=\"https://i.stack.imgur.com/rVYZe.png?s=512\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVYZe.png?s=512\" alt=\"current graph\"></a></p>\n\nAnd this is what I have expected:\n\n<p><a href=\"https://i.stack.imgur.com/bpdUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bpdUb.png\" alt=\"expected\"></a></p>\n\n<p>My data:</p>\n\n<pre><code>{\n data: [\n  {data: {\n    id: 'innerA', level: 1 },\n    group: 'nodes'\n  },\n  ....\n  {data: {\n    id: 'outA', level: 2 },\n    group: 'nodes'\n   },\n  ....\n  {\n    data: { source: 'innerA', target: 'outA' },\n    group: 'edges',\n  },\n  ....\n  ],\n}\n</code></pre>\n\n<p>And my layout</p>\n\n<pre><code>layout: {\n  concentric: function( node ){\n    return node.data(\"level\");\n  },\n  levelWidth: function( ){\n    return 2;\n  },\n  name: 'concentric',\n  minNodeSpacing: 50,\n  }\n}\n</code></pre>\n\n<p>From what I have expected the concentric function in the layout, would assign the nodes\ndepending on the layer attribute in the node.</p>\n\n<p>Hope someone has an idea.\nThank you in advance.</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "vue-component", "vue-cli"], "answers": [{"tags": [], "owner": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "is_accepted": true, "score": 2, "last_activity_date": 1574884444, "creation_date": 1574884444, "answer_id": 59077605, "question_id": 59077378, "link": "https://stackoverflow.com/questions/59077378/vue-create-component-in-same-component/59077605#59077605", "title": "Vue create component in same component", "body": "<p>Create a wrapper component that shows all <code>SelectForm</code> components.  When the button is clicked on the first form, <code>emit</code> an event, listen for it in the wrapper, and create a new one there.</p>\n\n<pre><code>Vue.component('Wrapper', {\n    template: `&lt;div&gt;\n        &lt;SelectForm v-for=\"(form, index) in numForms\" @new=\"numForms++\" /&gt;\n    &lt;/div&gt;`,\n    data() {\n        return {\n            numForms: 1\n        }\n    }\n})\n\nVue.component('SelectForm', {\n    template: `&lt;div&gt;\n        The Form&lt;br /&gt;\n        &lt;button @click=\"$emit('new')\"&gt;Duplicate&lt;/button&gt;\n    &lt;/div&gt;`\n});\n\nnew Vue({\n    el: \"#app\"\n})\n</code></pre>\n\n<p>Here is a <a href=\"https://jsfiddle.net/sh0ber/nhqmtf9a/\" rel=\"nofollow noreferrer\">fiddle</a></p>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 6189651, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-M9NYrnU6Zn4/AAAAAAAAAAI/AAAAAAAAJ3o/SP14PIThnLM/photo.jpg?sz=128", "display_name": "Josh Stabback", "link": "https://stackoverflow.com/users/6189651/josh-stabback"}, "is_accepted": false, "score": 1, "last_activity_date": 1574904726, "creation_date": 1574904726, "answer_id": 59080578, "question_id": 59077378, "link": "https://stackoverflow.com/questions/59077378/vue-create-component-in-same-component/59080578#59080578", "title": "Vue create component in same component", "body": "<p>If a component must render itself, Vue does allow recursive components.</p>\n\n<p><a href=\"https://vuejs.org/v2/guide/components-edge-cases.html#Recursive-Components\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/guide/components-edge-cases.html#Recursive-Components</a></p>\n"}], "owner": {"reputation": 115, "user_id": 10797018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mfBJqZ652nI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hIXF6gJI8gDInh6dJdv6DcCtx1_g/mo/photo.jpg?sz=128", "display_name": "Micha\u0142 Kruk", "link": "https://stackoverflow.com/users/10797018/micha%c5%82-kruk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 59077605, "answer_count": 2, "score": -1, "last_activity_date": 1586111091, "creation_date": 1574883392, "last_edit_date": 1586111091, "question_id": 59077378, "link": "https://stackoverflow.com/questions/59077378/vue-create-component-in-same-component", "title": "Vue create component in same component", "body": "<p>I have a quick question that I can't find an answer for. I have a problem.</p>\n\n<p>I have a component SelectForm.vue (it is a form with buttons), and now I want on button click in this SelectForm.vue component, to make another SelectForm below it. Is it possible?</p>\n"}, {"tags": ["javascript", "dom-events", "microsoft-edge"], "comments": [{"owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "edited": false, "score": 0, "creation_date": 1574923177, "post_id": 59077359, "comment_id": 104402318, "body": "I tested and reproduced the issue in Microsoft Edge. The workaround I can find now is just tracking the button status by yourself. I think the behavior is by-design in Microsoft Edge. We&#39;ll report the issue to Microsoft Edge Team. Thanks for your understanding."}], "answers": [{"comments": [{"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1574883909, "post_id": 59077449, "comment_id": 104392030, "body": "I&#39;d love to say so ). But it is not my decision to support Edge. At least I&#39;m happy that don&#39;t support IE10-"}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1574955108, "post_id": 59077449, "comment_id": 104418586, "body": "I end up tracking button state by additional flag as don&#39;t see other workarounds."}], "tags": [], "owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "is_accepted": true, "score": 1, "last_activity_date": 1574883785, "creation_date": 1574883785, "answer_id": 59077449, "question_id": 59077359, "link": "https://stackoverflow.com/questions/59077359/edge-does-not-see-button-press-on-mouseleave-mouseenter/59077449#59077449", "title": "Edge does not see button press on mouseleave / mouseenter", "body": "<p>The #1 best answer: Tell your users that you do not support MS Edge.</p>\n\n<p>If that is not an option, then you'll need to track the mouse button status yourself, like</p>\n\n<pre><code>var leftPressed;\n\nfunction init() {\n  document.body.addEventListener(\"mousedown mouseup\") {\n    //update leftPressed\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 59077449, "answer_count": 1, "score": 0, "last_activity_date": 1574960333, "creation_date": 1574883283, "last_edit_date": 1574960333, "question_id": 59077359, "link": "https://stackoverflow.com/questions/59077359/edge-does-not-see-button-press-on-mouseleave-mouseenter", "title": "Edge does not see button press on mouseleave / mouseenter", "body": "<p>Left mouse button was pressed or not - <code>Edge</code> always shows <code>.buttons</code> and <code>.button</code> as <strong>0</strong>. <code>.which</code> is always <strong>1</strong>.\nOther browsers work fine. Other events like <code>click</code> work fine in <code>Edge</code> too. Trouble is with <code>mouseleave</code> and <code>mouseenter</code>.</p>\n\n<p>So how can I detect in <code>Edge</code> on <code>mouseleave</code> event if left mouse button was pressed or not?</p>\n\n<p><a href=\"https://i.stack.imgur.com/S0dQ1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/S0dQ1.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>P.S.</strong> I can solve it with ugly flag like \"<code>isClicked</code>\" and update it in all related events like <code>mousedown</code>, <code>mouseup</code>. But it is ugly and bug prone.</p>\n"}, {"tags": ["javascript", "arrays", "key-value"], "comments": [{"owner": {"reputation": 2044, "user_id": 6790744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ika8-LBDpT8/AAAAAAAAAAI/AAAAAAAAANk/OXjEetrtAWc/photo.jpg?sz=128", "display_name": "Akshay Bande", "link": "https://stackoverflow.com/users/6790744/akshay-bande"}, "edited": false, "score": 0, "creation_date": 1574883754, "post_id": 59077356, "comment_id": 104391962, "body": "You want an array of elements like this <code>&quot;A:T&quot;</code>, this is string, not an object. You said you want to assign keys, that does not make any sense."}, {"owner": {"reputation": 2044, "user_id": 6790744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ika8-LBDpT8/AAAAAAAAAAI/AAAAAAAAANk/OXjEetrtAWc/photo.jpg?sz=128", "display_name": "Akshay Bande", "link": "https://stackoverflow.com/users/6790744/akshay-bande"}, "edited": false, "score": 0, "creation_date": 1574884591, "post_id": 59077356, "comment_id": 104392318, "body": "You should say I want to modify array elements in <code>&quot;key:value&quot;</code> form. where <code>key</code> is in alphabetical order as shown below."}, {"owner": {"reputation": 505, "user_id": 12447888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToluL.png?s=128&g=1", "display_name": "homerThinking", "link": "https://stackoverflow.com/users/12447888/homerthinking"}, "reply_to_user": {"reputation": 2044, "user_id": 6790744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ika8-LBDpT8/AAAAAAAAAAI/AAAAAAAAANk/OXjEetrtAWc/photo.jpg?sz=128", "display_name": "Akshay Bande", "link": "https://stackoverflow.com/users/6790744/akshay-bande"}, "edited": false, "score": 0, "creation_date": 1574884791, "post_id": 59077356, "comment_id": 104392403, "body": "Thank you very much, I&#39;m a beginner and I&#39;m still a little insecure about the terminology."}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1574885386, "last_edit_date": 1574885386, "creation_date": 1574884205, "answer_id": 59077549, "question_id": 59077356, "link": "https://stackoverflow.com/questions/59077356/how-can-i-assign-keys-to-existing-values-in-a-javascript-array/59077549#59077549", "title": "How can I assign keys to existing values in a JavaScript array", "body": "<p>By having single elements, you could just map the values with a prefix.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"],\r\n    result = data.map((v, i) =&gt; `${(i + 10).toString(36).toUpperCase()}:${v}`);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2044, "user_id": 6790744, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ika8-LBDpT8/AAAAAAAAAAI/AAAAAAAAANk/OXjEetrtAWc/photo.jpg?sz=128", "display_name": "Akshay Bande", "link": "https://stackoverflow.com/users/6790744/akshay-bande"}, "is_accepted": true, "score": 2, "last_activity_date": 1574884315, "creation_date": 1574884315, "answer_id": 59077580, "question_id": 59077356, "link": "https://stackoverflow.com/questions/59077356/how-can-i-assign-keys-to-existing-values-in-a-javascript-array/59077580#59077580", "title": "How can I assign keys to existing values in a JavaScript array", "body": "<p>You can achieve it by using <code>Array.prototype.map</code> function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let a = [\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"];\r\n\r\na = a.map((val,index)=&gt;{ return `${String.fromCharCode(65 + index )}:${val}`; } ) ;\r\n\r\nconsole.log(a);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 505, "user_id": 12447888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToluL.png?s=128&g=1", "display_name": "homerThinking", "link": "https://stackoverflow.com/users/12447888/homerthinking"}, "edited": false, "score": 0, "creation_date": 1575472023, "post_id": 59077738, "comment_id": 104579189, "body": "&quot;T, C&quot; and &quot;T(linked), C&quot; are supposed to be elements.  perfect, this works ! thank you so much!"}], "tags": [], "owner": {"reputation": 96, "user_id": 8682668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zWOFp.png?s=128&g=1", "display_name": "J F Fitch", "link": "https://stackoverflow.com/users/8682668/j-f-fitch"}, "is_accepted": false, "score": 1, "last_activity_date": 1574885132, "creation_date": 1574885132, "answer_id": 59077738, "question_id": 59077356, "link": "https://stackoverflow.com/questions/59077356/how-can-i-assign-keys-to-existing-values-in-a-javascript-array/59077738#59077738", "title": "How can I assign keys to existing values in a JavaScript array", "body": "<p>In your input array:<br/></p>\n\n<pre><code>[\"T, C\", \"\u03b1\", \"T(linked), C\"]\n</code></pre>\n\n<p>are \"T, C\" and \"T(linked), C\" supposed to be elements as is, or are you missing quotation marks? In other words, did you mean this?</p>\n\n<pre><code>[\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"]\n</code></pre>\n\n<p>You can use the map function. Using the code</p>\n\n<pre><code>newArray = array.map((value, index) =&gt; ...)\n</code></pre>\n\n<p>will generate a new array with a function done for each value and index of the old array.</p>\n\n<pre><code>array = [\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"];\nnewArray = array.map((value, index) =&gt; `${String.fromCharCode(index + 65)}:${value}`);\n</code></pre>\n\n<p>newArray will be set to </p>\n\n<pre><code>[\"A:T\", \"B:C\", \"C:\u03b1\", \"D:T(linked)\", \"E:C\"]\n</code></pre>\n\n<p>If you don't understand that method of concatenating strings, use this instead.</p>\n\n<pre><code>array = [\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"];\nnewArray = array.map((value, index) =&gt; String.fromCharCode(index + 65) + \":\" + value);\n</code></pre>\n"}], "owner": {"reputation": 505, "user_id": 12447888, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ToluL.png?s=128&g=1", "display_name": "homerThinking", "link": "https://stackoverflow.com/users/12447888/homerthinking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 59077580, "answer_count": 3, "score": -1, "last_activity_date": 1574885386, "creation_date": 1574883280, "last_edit_date": 1574884544, "question_id": 59077356, "link": "https://stackoverflow.com/questions/59077356/how-can-i-assign-keys-to-existing-values-in-a-javascript-array", "title": "How can I assign keys to existing values in a JavaScript array", "body": "<p>I recovered an array with values from a previous method and I need to go through it and assign each of the values a key in alphabetical order.</p>\n\n<pre><code>[\"T\", \"C\", \"\u03b1\", \"T(linked)\", \"C\"]\n</code></pre>\n\n<p>This is my array, previously mentioned. I want to know how, when crossing the array will I be able to assign it a key of alphabetical form, so that the final result was:</p>\n\n<pre><code>[\"A:T\", \"B:C\", \"C:\u03b1\", \"D:T(linked), \"E:C\"]\n\n</code></pre>\n\n<p>Any advice will be welcome. Thank you in advance.</p>\n"}, {"tags": ["javascript", "html", "css", "dom", "dom-manipulation"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1574883425, "post_id": 59077347, "comment_id": 104391809, "body": "simple debugging will tell you why: <code>console.log($(&#39;moreBenefits&#39;).style.display)</code>"}, {"owner": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "edited": false, "score": 0, "creation_date": 1574883434, "post_id": 59077347, "comment_id": 104391813, "body": "if you use class , it might work better (toggle it) <a href=\"https://api.jquery.com/toggle/\" rel=\"nofollow noreferrer\">api.jquery.com/toggle</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "edited": false, "score": 0, "creation_date": 1574883592, "post_id": 59077347, "comment_id": 104391888, "body": "@G-Cyr there is no jQuery here."}, {"owner": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1574883826, "post_id": 59077347, "comment_id": 104391994, "body": "@epascarello oups <code>$(&#39;moreBenefits&#39;).style.display = &#39;block&#39;;</code> confused me, my bad . A good practice is to set class instead style on the fly . inititate first the class inside HTML , so no need to run twice"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1574883910, "post_id": 59077347, "comment_id": 104392032, "body": "<a href=\"https://stackoverflow.com/questions/2298813/why-wont-this-style-display-work\" title=\"why wont this style display work\">stackoverflow.com/questions/2298813/&hellip;</a>"}], "owner": {"reputation": 187, "user_id": 10510191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a175664a52bcbc0eaac3b81c98482fcc?s=128&d=identicon&r=PG&f=1", "display_name": "Aj96", "link": "https://stackoverflow.com/users/10510191/aj96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574883243, "creation_date": 1574883243, "question_id": 59077347, "link": "https://stackoverflow.com/questions/59077347/why-do-i-have-to-click-the-button-twice-in-order-to-make-text-appear", "title": "Why do I have to click the button twice in order to make text appear?", "body": "<p>I have two buttons that display and hide text when clicked using vanilla JavaScript. Only when the page is first loaded is when you have to click on the button twice. Otherwise, it works without having to click the second time. Why is this? I'm fairly new to programming and would love an explanation. I have tried to search for answers to guide me but I haven't found anything that has helped yet. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var $ = function (id) {\r\n\t\"use strict\";\r\n\treturn window.document.getElementById(id);\r\n};\r\n\r\nfunction hideShowCommuniTea() {\r\n\t\"use strict\";\r\n\tif ($('communiteaText').style.display === 'none') {\r\n\t\t$('communiteaText').style.display = 'block';\r\n\r\n\t} else {\r\n\t\t$('communiteaText').style.display = 'none';\r\n\r\n\t}\r\n}\r\n\r\nfunction hideShowBenefits() {\r\n\t\"use strict\";\r\n\tif ($('moreBenefits').style.display === 'none') {\r\n\t\t$('moreBenefits').style.display = 'block';\r\n\t} else {\r\n\t\t$('moreBenefits').style.display = 'none';\r\n\r\n\t}\r\n}\r\n\r\n\r\n//HANDLES ALL EVENT LISTENERS\r\nfunction init() {\r\n\t\"use strict\";\r\n\t$('benefitsButton').addEventListener('click', hideShowBenefits);\r\n\t$('communitea').addEventListener('click', hideShowCommuniTea);\r\n\r\n}\r\nwindow.addEventListener('load', init);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n  font-family: \"roboto\", sans-serif;\r\n  font-size: 1em;\r\n  width: 100%;\r\n}\r\nnav{\r\n  background-color: teal;\r\n  width: auto;\r\n  height: 50px;\r\n\r\n  \r\n}\r\nnav ul{\r\n  list-style: none;\r\n}\r\nli{\r\n  float: left;\r\n  padding: 1em;\r\n  \r\n}\r\na{\r\ntext-decoration: none;\r\ncolor: white;\r\n}\r\nnav ul li a:hover{\r\n\tcolor: hotpink;\r\n}\r\nheader{\r\n  clear: both;\r\n  text-align: center;\r\n  background-color: hotpink;\r\n  border-top: 3px solid #B0FFB0;\r\n  border-bottom: 3px solid #B0FFB0;\r\n\r\n}\r\nh1{\r\ncolor: white;\r\n}\r\nsection{\r\n\twidth: 960px;\r\n\tmargin: 0 auto;\r\n}\r\n\r\narticle{\r\n  width: 47%;\r\n  float: left;\r\n  padding: 0 10px 0 10px;\r\n  \r\n}\r\narticle p{\r\n\t  line-height: 2em;\r\n}\r\nbutton{\r\n\tmargin-bottom: 20px;\r\n}\r\n#moreBenefits, #communiteaText{\r\n\tdisplay: none;\r\n}\r\nfooter{\r\n  clear: both;\r\n  background-color: teal;\r\n  height: 50px;\r\n\r\n}\r\nfooter p{\r\n  text-align: center;\r\n  padding: 1em;\r\n\tcolor: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n &lt;head&gt;\r\n\t&lt;link href=\"styles/styles.css\" rel=\"stylesheet\"&gt;\r\n\t\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\t&lt;nav&gt;\r\n\t\t&lt;ul&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"index.html\"&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"../pages/shop.html\"&gt;Shop&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"../pages/about.html\"&gt;About&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"../pages/contact.html\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\r\n\t\t&lt;/ul&gt;\r\n\t&lt;/nav&gt;\r\n\t&lt;header&gt;\r\n\t\t&lt;h1&gt;Welcome to the Tea Shop!&lt;/h1&gt;\r\n\t&lt;/header&gt;\r\n\t&lt;section&gt;\r\n\t\t&lt;article&gt;\r\n\t\t\t&lt;h2&gt;Benefits of Tea&lt;/h2&gt;\r\n\t\t\t&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\r\n\t\t\t&lt;button id=\"benefitsButton\"&gt;Full Benefits&lt;/button&gt;\r\n\t\t\t&lt;p id=\"moreBenefits\"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\r\n\t\t&lt;/article&gt;\r\n\t\t&lt;article&gt;\r\n\t\t\t&lt;h2&gt;Why Choose Us&lt;/h2&gt;\r\n\t\t\t&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\r\n\t\t\t&lt;button id=\"communitea\"&gt;CommuniTea&lt;/button&gt;\r\n\t\t\t&lt;p id=\"communiteaText\"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\r\n\t\t&lt;/article&gt;\r\n\t&lt;/section&gt;\r\n\t&lt;footer&gt;\r\n\t\t&lt;p&gt;Copyright &amp;copy; 2019 - All Rights Researved.&lt;/p&gt;\r\n\t&lt;/footer&gt;\r\n\t&lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "sql", "node.js", "postgresql"], "answers": [{"tags": [], "owner": {"reputation": 29, "user_id": 12438914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79967a8edd7dbec7074e921cefeca09b?s=128&d=identicon&r=PG&f=1", "display_name": "Kllicks", "link": "https://stackoverflow.com/users/12438914/kllicks"}, "is_accepted": true, "score": 0, "last_activity_date": 1574884538, "creation_date": 1574884538, "answer_id": 59077621, "question_id": 59077315, "link": "https://stackoverflow.com/questions/59077315/node-js-and-postgressql-query-issue-with-pattern-matching/59077621#59077621", "title": "Node.JS and PostgresSQL query issue with pattern matching", "body": "<p>Nevermind I found a way around my problem. On the JavaScript side I just added %% to the variable when I defined it and then I passed that value into the query for location.</p>\n"}], "owner": {"reputation": 29, "user_id": 12438914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79967a8edd7dbec7074e921cefeca09b?s=128&d=identicon&r=PG&f=1", "display_name": "Kllicks", "link": "https://stackoverflow.com/users/12438914/kllicks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 59077621, "answer_count": 1, "score": 0, "last_activity_date": 1575664095, "creation_date": 1574883151, "last_edit_date": 1575664095, "question_id": 59077315, "link": "https://stackoverflow.com/questions/59077315/node-js-and-postgressql-query-issue-with-pattern-matching", "title": "Node.JS and PostgresSQL query issue with pattern matching", "body": "<p>I would like to write a query that selects a list of companies based on type and location. The type will be a dropdown. So it wouldn't be case sensitive or anything. However, for company location I'd like to be able to find any location containing the string put in the form field. Here's what I have:</p>\n\n<pre><code>static getCompanyByLocation(company_type, company_location) {\n        return db.any(\n            `select * from companies where company_type=$1 and company_location ilike $2`, [company_type, company_location]\n        )\n}\n</code></pre>\n\n<p>If I search for %$2%, which I'd hoped it would search for anything containing the string that replaces $2. Instead I get an error. Not sure of the syntax here and would appreciate any help.</p>\n"}, {"tags": ["javascript", "html", "css", "if-statement", "iframe"], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 9919201, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/286547ea8d3f74c35ce483a0e9b263bc?s=128&d=identicon&r=PG", "display_name": "Gabriel Melo", "link": "https://stackoverflow.com/users/9919201/gabriel-melo"}, "is_accepted": true, "score": 0, "last_activity_date": 1574883405, "creation_date": 1574883405, "answer_id": 59077384, "question_id": 59077305, "link": "https://stackoverflow.com/questions/59077305/why-does-the-2nd-script-prevent-the-1st-script-from-redirecting-and-how-can-i-fi/59077384#59077384", "title": "Why does the 2nd script prevent the 1st script from redirecting and how can I fix it?", "body": "<p>You don't need (<em>actually, it does not make sense</em>) two definitions of the same function. Just wrap up in an single implementation, like this:</p>\n\n<pre><code>function check_frame() {\n     if( top === self ) { // not in a frame\n          location.href = \"https://xyz.any\"; // either the frameset or an error.\n     }\n\n     else {\n          document.body.classList.add('framed');\n     }\n}     \n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 12423586, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hosg2AlPmgo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcVSRSW7hAzQRoNvRK2W-SYMzTkuw/photo.jpg?sz=128", "display_name": "AmRy", "link": "https://stackoverflow.com/users/12423586/amry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10, "favorite_count": 0, "accepted_answer_id": 59077384, "answer_count": 1, "score": 0, "last_activity_date": 1574883405, "creation_date": 1574883121, "question_id": 59077305, "link": "https://stackoverflow.com/questions/59077305/why-does-the-2nd-script-prevent-the-1st-script-from-redirecting-and-how-can-i-fi", "title": "Why does the 2nd script prevent the 1st script from redirecting and how can I fix it?", "body": "<p>Everything works properly EXCEPT the redirection. If I remove the 2nd script the redirection works. Is there something I need to do to get both working?</p>\n\n<pre><code>&lt;script&gt;\nfunction check_frame() {\n     if( top === self ) { // not in a frame\n          location.href = \"https://xyz.any\"; // either the frameset or an error.\n}\n\n     }\n&lt;/script&gt;\n\n&lt;script&gt;\nfunction check_frame() {\n     if( top !== self ) { //  in a frame\n          document.body.classList.add('framed');\n}     \n\n     }\n\n&lt;/script&gt;\n\n&lt;body onLoad=\"check_frame()\"&gt;\n&lt;/body&gt;\n\n&lt;style&gt;\nbody {\n  opacity: 0;\n  transition: opacity 2s ease-in;\n}\nbody.framed {\n  opacity: 1;\n}\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sass", "gulp", "ubuntu-18.04"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4440336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d132f58a3d3cbeea2fb7c115a83783?s=128&d=identicon&r=PG&f=1", "display_name": "Nickey22", "link": "https://stackoverflow.com/users/4440336/nickey22"}, "is_accepted": false, "score": 1, "last_activity_date": 1575382057, "creation_date": 1575382057, "answer_id": 59158947, "question_id": 59077254, "link": "https://stackoverflow.com/questions/59077254/gulp-watch-not-working-for-new-ubuntu-setup/59158947#59158947", "title": "Gulp Watch not working for new ubuntu setup", "body": "<p>It was because i was using a shared folder between windows &amp;&amp; linux. just needed to add the <code>usePolling:true</code> to my watch functions.</p>\n\n<p><code>\ngulp.watch('./styles/*.sass',{ usePolling: true }, gulp.series('sass'));\n</code></p>\n"}], "owner": {"reputation": 11, "user_id": 4440336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73d132f58a3d3cbeea2fb7c115a83783?s=128&d=identicon&r=PG&f=1", "display_name": "Nickey22", "link": "https://stackoverflow.com/users/4440336/nickey22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1575382057, "creation_date": 1574882889, "last_edit_date": 1574885630, "question_id": 59077254, "link": "https://stackoverflow.com/questions/59077254/gulp-watch-not-working-for-new-ubuntu-setup", "title": "Gulp Watch not working for new ubuntu setup", "body": "<p>I installed a fresh ubuntu 18.04  box and tried to use gulp for a new project but i'm running into issues with gulp.watch() not watching for changes.</p>\n\n<p>gulpfile.js:</p>\n\n<pre><code>var gulp = require('gulp');\nvar sass = require('gulp-sass');\nsass.compiler = require('node-sass');\n\ngulp.task('sass', function () {\n  return gulp.src('./css/*.sass')\n    .pipe(sass().on('error', sass.logError))\n    .pipe(concat('main.css'))\n    .pipe(gulp.dest('./css/compiled'))\n    .pipe(browserSync.reload({stream:true}));\n});\ngulp.task('watch',function(){\n    gulp.watch('./css/*.sass', gulp.series('sass'));\n    gulp.watch('./css/*.sass',browserSync.reload);\n})\ngulp.task('watchAll', gulp.series('watch'));\n</code></pre>\n\n<p>folder structure:</p>\n\n<pre><code>-css\n   -compiled\n       main.css\n   all-pages.sass\n-images\nindex.html\ngulpfile.js\npackage.json\npackage-lock.json\n</code></pre>\n\n<pre><code>$ node -v\nv13.2.0\n\n$ npm -v\n6.13.1\n\n$ gulp -v\nCLI version: 2.2.0\nLocal version: 4.0.2\n\n$ lsb_release -a\nDistributor ID: Ubuntu\nDescription: Ubuntu 18.04.3 LTS\nRelease: 18.04\nCodename: bionic\n</code></pre>\n\n<p>This gulpfile i reuse for many different projects and it usually works out of the box except for this instance when i have it on a new Ubuntu installation. \nIs i just run the task 'sass', it works. it will look through the sass files and compile them down to css and put them into a main.css, but watch will not work, it just does not detect any changes i make.</p>\n\n<p>I created my Ubuntu instance with vagrant + VMBox</p>\n\n<p>Any Ideas?</p>\n"}, {"tags": ["javascript", "firebase", "vue.js", "google-cloud-firestore", "settimeout"], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 12020486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZYpA.png?s=128&g=1", "display_name": "Yewla", "link": "https://stackoverflow.com/users/12020486/yewla"}, "edited": false, "score": 0, "creation_date": 1574884352, "post_id": 59077442, "comment_id": 104392214, "body": "Okay thanks! This definitely gives me some direction. Would this be better than doing something on the app that triggers a write operation to firestore after some period of time?"}, {"owner": {"reputation": 21333, "user_id": 226391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69dc78b59ef008c58e6e842f9f3e0624?s=128&d=identicon&r=PG", "display_name": "Michael Bleigh", "link": "https://stackoverflow.com/users/226391/michael-bleigh"}, "reply_to_user": {"reputation": 149, "user_id": 12020486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZYpA.png?s=128&g=1", "display_name": "Yewla", "link": "https://stackoverflow.com/users/12020486/yewla"}, "edited": false, "score": 0, "creation_date": 1574884853, "post_id": 59077442, "comment_id": 104392429, "body": "This would be more reliable because it will work even if the user goes away and closes the browser tab (something that seems pretty likely if you&#39;re looking for some kind of &quot;idle timeout&quot; functionality)."}, {"owner": {"reputation": 149, "user_id": 12020486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZYpA.png?s=128&g=1", "display_name": "Yewla", "link": "https://stackoverflow.com/users/12020486/yewla"}, "edited": false, "score": 0, "creation_date": 1574889404, "post_id": 59077442, "comment_id": 104394192, "body": "My database is organized with userProfiles&gt;One doc per user&gt;4 subcollections per doc. I am trying to implement this and I am wondering if I have to use wildcards to detect which doc changes or what I am doing wrong. It says I need to create an index but I already have. I updated pic of database in post for reference. Thanks"}], "tags": [], "owner": {"reputation": 21333, "user_id": 226391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69dc78b59ef008c58e6e842f9f3e0624?s=128&d=identicon&r=PG", "display_name": "Michael Bleigh", "link": "https://stackoverflow.com/users/226391/michael-bleigh"}, "is_accepted": true, "score": 3, "last_activity_date": 1574883754, "creation_date": 1574883754, "answer_id": 59077442, "question_id": 59077203, "link": "https://stackoverflow.com/questions/59077203/overwrite-firestore-field-after-5-minutes-of-no-update/59077442#59077442", "title": "Overwrite firestore field after 5 minutes of no update", "body": "<p>To do this reliably, you will need to have a server-side process periodically checking and updating documents. A straightforward way would be to use a <a href=\"https://firebase.google.com/docs/functions/schedule-functions\" rel=\"nofollow noreferrer\">scheduled Cloud Function</a>. It would look something like this:</p>\n\n<pre><code>// functions/index.js\n\nconst admin = require('firebase-admin');\nadmin.initializeApp();\nconst db = admin.firestore();\n\nexports.updateIdle = functions.pubsub.schedule('* * * * *').onRun(async () =&gt; {\n  const snap = await db.collection(\"MX\")\n    .where(\"Status\", \"=\", \"On\")\n    .where(\"Timestamp\", \"&lt;\", admin.firestore.Timestamp.fromMillis(Date.now() - 5 * 60000))\n    .get();\n\n  await Promise.all(snap.docs.map(doc =&gt; doc.ref.update({Status: 'Off'})));\n});\n</code></pre>\n\n<p>The above function will run every minute, look for any documents that have a timestamp from more than five minutes ago, and update each of those documents to have an <code>\"Off\"</code> status.</p>\n\n<p>This is just an example, you might need to do it a little differently for your specific needs.</p>\n"}], "owner": {"reputation": 149, "user_id": 12020486, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VZYpA.png?s=128&g=1", "display_name": "Yewla", "link": "https://stackoverflow.com/users/12020486/yewla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 791, "favorite_count": 0, "accepted_answer_id": 59077442, "answer_count": 1, "score": 1, "last_activity_date": 1575292616, "creation_date": 1574882649, "last_edit_date": 1575292616, "question_id": 59077203, "link": "https://stackoverflow.com/questions/59077203/overwrite-firestore-field-after-5-minutes-of-no-update", "title": "Overwrite firestore field after 5 minutes of no update", "body": "<p>I am displaying cards that hold data from Google firestore. One of the fields is \"Status\". The Status can get turned on and off remotely from outside the app. I would like the Status to automatically turn to \"Off'  after 5 minutes or after 5 minutes of no updates to the document. </p>\n\n<p>I would like to do this in the case a user loses connection and can no longer send the \"Status\": \"Off\" message. I don't want the card to just say \"On\" forever.</p>\n\n<p>I am using Vue.js and have tried some various things but I am not quite sure how to accomplish this. I apologize if this question would be better suited for a different site. I have looked up similar questions but couldn't find anything.</p>\n\n<p>Here is a screenshot to visualize what I am asking. I want the Status to turn to \"Off\" if not updated within 5 minutes. Or any amount of time.</p>\n\n<p><a href=\"https://i.stack.imgur.com/XytV5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XytV5.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PUYOo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PUYOo.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cJ71V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJ71V.png\" alt=\"DB\"></a></p>\n\n<pre><code>\n&lt;div &gt;\n    &lt;div class=\"ma-4\"&gt;\n        &lt;div  centered class=\"text-lg-center headline\"&gt; \n            Live Middleware Status \n            &lt;p v-bind=\"allig\"&gt;{{ seconds }}&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n        &lt;v-card  slow v-bind=\"allig\" :class=\"`mx-4 my-4 ${user.Status}`\" v-for=\"user in users\" :key=\"user.id\"&gt;\n          &lt;v-card-title flat class=\"pa-n3\"&gt;\n            &lt;v-flex class=\"mx-auto\" xs6 sm4 md2 lg2&gt;\n              &lt;div class=\"caption grey--text\"&gt;Location Site ID&lt;/div&gt;\n              &lt;div class=\"title\"&gt;{{user.id}}&lt;/div&gt;\n            &lt;/v-flex&gt;\n            &lt;v-flex class=\"mr-auto \" xs6 sm4 md2 lg2&gt;\n              &lt;div class=\"caption grey--text\"&gt;ID&lt;/div&gt;\n              &lt;div class=\" ml-n12 title\"&gt;{{user.CustomerID}}&lt;/div&gt;\n            &lt;/v-flex&gt;\n            &lt;v-flex style :class=\"`mx-auto ${user.Status}`\" xs6 sm4 md2 lg2&gt;\n              &lt;div class=\"caption grey--text\"&gt;Current Status&lt;/div&gt;\n              &lt;div class=\"status title mx-2\"&gt;{{user.Status}}&lt;/div&gt;\n            &lt;/v-flex&gt;\n            &lt;v-flex style class=\"mx-auto caption green--text\" xs6 sm4 md2 lg2&gt;\n              &lt;div class=\"caption grey--text\"&gt;Last Message&lt;/div&gt;\n              &lt;div class=\"Green my-2 title\"&gt;{{user.TimeStamp}}&lt;/div&gt;\n            &lt;/v-flex&gt;\n          &lt;/v-card-title&gt;\n        &lt;/v-card&gt;\n\n      &lt;/div&gt;\n      &lt;/template&gt;\n\n\n      &lt;script&gt;\n// eslint-disable-next-line\nimport firestore from \"firestore\";\n// eslint-disable-next-line\nimport db from \"@/components/fbInit\";\nimport firebase from \"firebase\";\n\nexport default {\n  // eslint-disable-next-line\n  components: { },\n  data() {\n    return {\n      wide: false,\n      ToggleDelete: false,\n      card: true,\n      light: true,\n\n      seconds: \"\",\n\n      users: [],\n\n      links: [{ route: \"/logs\" }]\n\n    };\n  },\n\n  created() {\n\n    var user = firebase.auth().currentUser;\n    var employeeRef = db\n      .collection(\"userProfiles\")\n      .doc(user.uid)\n      .collection(\"MX\")\n      .orderBy(\"TimeStamp\", \"desc\")\n\n    employeeRef.onSnapshot(snap =&gt; {\n      // eslint-disable-next-line\n      console.log(snap.size);\n      this.users = [];\n      snap.forEach(doc =&gt; {\n        const data = \n        {\n          id: doc.id,\n          Name: doc.data().Name,\n          GroupHex: doc.data().GroupHex,\n          DeviceType: doc.data().DeviceType,\n          UserIDInt: doc.data().UserIDInt,\n          CustomerID: doc.data().CustomerID,\n          SiteID: doc.data().SiteID,\n          SuperID: doc.data().SuperID,\n          Status: doc.data().Status,\n          TimeStamp: doc.data().TimeStamp,\n          Original: doc.data().Original\n          };\n        this.users.push(data);\n      });\n    });\n  },\n\n  methods: {   }\n\n};\n&lt;/script&gt;\n\n\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "math", "react-hooks"], "comments": [{"owner": {"reputation": 974, "user_id": 10719564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389a0f44307d1c137d141f7d7025c009?s=128&d=identicon&r=PG&f=1", "display_name": "mph85", "link": "https://stackoverflow.com/users/10719564/mph85"}, "edited": false, "score": 1, "creation_date": 1574882843, "post_id": 59077197, "comment_id": 104391540, "body": "what errors are showing? can you add that so we can see?"}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574883022, "post_id": 59077197, "comment_id": 104391616, "body": "Why dont you initialize you prices with <code>0</code> instead of <code>null</code>, that way the type will always be <code>number</code> and it can never fail."}, {"owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "edited": false, "score": 0, "creation_date": 1574883049, "post_id": 59077197, "comment_id": 104391637, "body": "Im actually not getting any errors, its just that when i call setBasePrice(339.998); it doesnt set the basePrice"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574883151, "post_id": 59077197, "comment_id": 104391691, "body": "There&#39;s really no need to have a state in this component. I don&#39;t understand why you&#39;d want to change a working component only to use hooks?"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574883213, "post_id": 59077197, "comment_id": 104391715, "body": "Also, the reason it doesn&#39;t work is because you were misusing the state in the class component to begin with. <code>this.state.basePrice = 249.998;</code> mutates the state and is an anti-pattern."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574883234, "post_id": 59077197, "comment_id": 104391726, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/54069253/usestate-set-method-not-reflecting-change-immediately\">useState set method not reflecting change immediately</a>"}, {"owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574883244, "post_id": 59077197, "comment_id": 104391730, "body": "@oemera When I initialize with 0 it stays 0 the whole time for some reason. the setBasePrice is completely ignored it seems like."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574883304, "post_id": 59077197, "comment_id": 104391757, "body": "<a href=\"https://stackoverflow.com/q/37755997/1218980\">Why can&#39;t I directly modify a component&#39;s state, really?</a>"}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "reply_to_user": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574883432, "post_id": 59077197, "comment_id": 104391812, "body": "@Emile Bergeron It&#39;s always better to migrate to the recommended way and keep your code consistent."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574883536, "post_id": 59077197, "comment_id": 104391862, "body": "@oemera Class components aren&#39;t deprecated, there&#39;s no reason to migrate. Hooks are solving a really specific issue with shared behaviour composition in huge applications, otherwise completely unnecessary."}, {"owner": {"reputation": 974, "user_id": 10719564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389a0f44307d1c137d141f7d7025c009?s=128&d=identicon&r=PG&f=1", "display_name": "mph85", "link": "https://stackoverflow.com/users/10719564/mph85"}, "edited": false, "score": 2, "creation_date": 1574883605, "post_id": 59077197, "comment_id": 104391897, "body": "I think he&#39;s now learning React hooks and just wants to know how a class component would directly translate to a functional component"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "reply_to_user": {"reputation": 974, "user_id": 10719564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/389a0f44307d1c137d141f7d7025c009?s=128&d=identicon&r=PG&f=1", "display_name": "mph85", "link": "https://stackoverflow.com/users/10719564/mph85"}, "edited": false, "score": 1, "creation_date": 1574883763, "post_id": 59077197, "comment_id": 104391970, "body": "@mph85 I agree that learning is the only other situation where it would make sense to translate a class component to a function component with hooks."}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574883861, "post_id": 59077197, "comment_id": 104392012, "body": "I never said it&#39;s deprecated. Dan Abramov recommended to use functional components with hooks and use hooks in existing project, when you create new components. Considering that, my main point was to keep the code consistent.You don&#39;t have to migrate, I just think it&#39;s better if you have the time."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574883977, "post_id": 59077197, "comment_id": 104392066, "body": "@oemera <i>&quot;We recommend avoiding any \u201cbig rewrites\u201d, especially for existing, complex class components.&quot;</i> directly taken from the <a href=\"https://reactjs.org/docs/hooks-intro.html#gradual-adoption-strategy\" rel=\"nofollow noreferrer\">documentation on hooks</a>."}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574884380, "post_id": 59077197, "comment_id": 104392226, "body": "The same paragraph implies that it would be good to migrate, but that you shouldn&#39;t do right away =&gt; &quot;There is no rush to migrate to hooks.&quot; Otherwise migrating wouldn&#39;t even be mentioned. &quot;we will keep supporting class components for the foreseeable future&quot; =&gt; Main focus will be hooks."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574884755, "post_id": 59077197, "comment_id": 104392386, "body": "@oemera you&#39;re incorrectly implying things. They mention that there&#39;s no rush to migrate since it&#39;s not meant as a replacement to class components and then they ensure that class components will be kept and they&#39;re not planning to deprecate them. They wrote this explicitly to avoid the confusion that everyone should use hooks and that class components shouldn&#39;t be used. Hooks are definitely clean and improve reusability."}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 1, "creation_date": 1574885237, "post_id": 59077197, "comment_id": 104392573, "body": "I think we both at least agree that this is not the right place to discuss this any further :) I see your point, tho"}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "reply_to_user": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1574887425, "post_id": 59077197, "comment_id": 104393399, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/203203/discussion-between-oemera-and-emile-bergeron\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1060, "user_id": 7080032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc11eaa19b84176ef3b4c06136f5182?s=128&d=identicon&r=PG", "display_name": "Chris Chen", "link": "https://stackoverflow.com/users/7080032/chris-chen"}, "edited": false, "score": 1, "creation_date": 1574883950, "post_id": 59077332, "comment_id": 104392054, "body": "@Agney, great answer! Just a quick question. Do you think to use a callback to setState within useEffect is the simplest way to handle component wide async states?"}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "edited": false, "score": 0, "creation_date": 1574884214, "post_id": 59077332, "comment_id": 104392165, "body": "yes, that would be the declarative way to go about it"}, {"owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "edited": false, "score": 0, "creation_date": 1574884506, "post_id": 59077332, "comment_id": 104392280, "body": "So for some reason the base price still comes up as 0 or undefined. Im not sure what im doing wrong."}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574885413, "post_id": 59077332, "comment_id": 104392631, "body": "Are you sure <code>checkPrice</code> is getting called? If so, you might update your post with the corresponding code including the suggested changes from @Agney"}, {"owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "edited": false, "score": 0, "creation_date": 1574887315, "post_id": 59077332, "comment_id": 104393354, "body": "Yes it is getting called and I just updated thanks for reminding me! The price is coming up as the wrong price now just need to figure out why."}, {"owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "edited": false, "score": 0, "creation_date": 1574887362, "post_id": 59077332, "comment_id": 104393373, "body": "I wonder if the  += has anything to do with why it isnt working properly."}, {"owner": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574889080, "post_id": 59077332, "comment_id": 104394074, "body": "You are right @Agney &#39;s code doesn&#39;t replicate the functionality 100%. It has to be <code>setBasePrice(basePrice =&gt; {return basePrice + (basePrice * (percentage &#47; 100)})</code>"}, {"owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "reply_to_user": {"reputation": 1782, "user_id": 10520343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QjS3j.png?s=128&g=1", "display_name": "oemera", "link": "https://stackoverflow.com/users/10520343/oemera"}, "edited": false, "score": 0, "creation_date": 1574917425, "post_id": 59077332, "comment_id": 104400523, "body": "@oemera Good catch, hadn&#39;t noted the <code>+=</code>"}], "tags": [], "owner": {"reputation": 13638, "user_id": 4374566, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/61d5ab25523e9e65cec29bb4fa303bd3?s=128&d=identicon&r=PG", "display_name": "Agney", "link": "https://stackoverflow.com/users/4374566/agney"}, "is_accepted": true, "score": 5, "last_activity_date": 1574917466, "last_edit_date": 1574917466, "creation_date": 1574883186, "answer_id": 59077332, "question_id": 59077197, "link": "https://stackoverflow.com/questions/59077197/switching-from-class-component-to-functional-components/59077332#59077332", "title": "Switching from class component to functional components", "body": "<ol>\n<li>When you want to set the base price depending on the value of base price earlier, you can use the callback version of <code>setBasePrice</code> function:</li>\n</ol>\n\n<pre><code>setBasePrice(basePrice =&gt; (basePrice + (basePrice * (percentage / 100)));\n</code></pre>\n\n<p>This way you know that <code>basePrice</code> value would be calculated from the latest. </p>\n\n<p><a href=\"https://reactjs.org/docs/hooks-reference.html#functional-updates\" rel=\"nofollow noreferrer\">Docs</a></p>\n\n<ol start=\"2\">\n<li>From what I understand, you need to calculate total amount whenever the base price changes. Instead of calculating this everywhere <code>basePrice</code> changes, you can add this to a <code>useEffect</code></li>\n</ol>\n\n<pre><code>useEffect(() =&gt; {\n  setTotalPrice(Math.round(basePrice * 100) / 100);\n}, [basePrice]);\n</code></pre>\n\n<p>In your current code, because <code>setBasePrice</code> is async, it will not have completed execution when <code>setTotalPrice</code> runs and hence will be a step behind. \nHere, <code>basePrice</code> is added as a dependency to <code>useEffect</code> and it will be updated once <code>basePrice</code> changes. </p>\n\n<p>PS: Your class component is also setting a value directly to state which is wrong, it should be using a <code>setState</code> to perform that update.</p>\n"}], "owner": {"reputation": 183, "user_id": 12258937, "user_type": "registered", "profile_image": "https://graph.facebook.com/2270046729952570/picture?type=large", "display_name": "Jordan Spackman", "link": "https://stackoverflow.com/users/12258937/jordan-spackman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 59077332, "answer_count": 1, "score": 0, "last_activity_date": 1574917466, "creation_date": 1574882625, "last_edit_date": 1574887188, "question_id": 59077197, "link": "https://stackoverflow.com/questions/59077197/switching-from-class-component-to-functional-components", "title": "Switching from class component to functional components", "body": "<p>So I have code here that is supposed to calculate a price based off of property sqft and the package selected.</p>\n\n<p>The code used to work with class components when I had it written like so... but Im now using react JS and Functional components.</p>\n\n<p>The current issue I am having right now is getting the <code>setBasePrice(1234);</code> to actually set the base price so it can be calculated in the function. </p>\n\n<p>Im also having an issue with getting the <code>basePrice += basePrice * (percentage / 100);</code> to work properly in the functional component. </p>\n\n<p>I know I have this totally wrong right now just hoping someone can point me in the right direction and possibly show me how to clean up my code.</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>I added the useEffect hook and the total price is coming up incorrectly. at 5500 sqft the price should be $272 but comes up as $112. My old code doesnt do this so im not sure whats going on. </p>\n\n<p><strong>Class Component</strong></p>\n\n<pre><code> this.state = {\n      propertySqft: \"\",\n      packageSelected: this.props.location.state,\n      totalPrice: null,\n      basePrice: null\n    };\n  }\n\n  checkPrice = () =&gt; { \n      debugger;\n       if(this.state.packageSelected === \"Photography\"){\n        this.state.basePrice = 159.998;\n       }else if(this.state.packageSelected === \"Video\"){\n            this.state.basePrice = 416.998;\n       }else if(this.state.packageSelected === \"Drone Aerial Photos Only\"){\n            this.state.basePrice = 199.998;\n       }else if(this.state.packageSelected === \"Drone Aerial Video Only\"){\n            this.state.basePrice = 249.998;\n       }else if(this.state.packageSelected === \"Drone Aerials Photo &amp; Video\"){\n            this.state.basePrice = 299.998;\n       }else if(this.state.packageSelected === \"Photography, Video, Drone Aerials\"){\n            this.state.basePrice = 559.998;\n       }if(this.state.propertySqft &gt; 2500){\n   let overage = this.state.propertySqft - 2000;\n   let percentage = Math.floor(overage / 500) * 10;\n   this.state.basePrice += this.state.basePrice * (percentage / 100);\n\n\n  }\n     this.setState({ totalPrice: Math.round(this.state.basePrice * 100) / 100 }); \n  }\n</code></pre>\n\n<p><strong>Functional Component</strong></p>\n\n<pre><code>const [basePrice, setBasePrice] = useState(0);\nconst [newPrice, setNewPrice] = useState(null);\nconst [totalPrice, setTotalPrice] = useState(null);\n\nuseEffect(() =&gt; {\n  setTotalPrice(basePrice =&gt; (Math.round(basePrice * 100) / 100));\n}, [basePrice]); \n\nconst checkPrice = () =&gt; { \n      debugger;\n       if(packageSelected.packages === \"Photography\"){\n         setBasePrice(159.998);\n       }else if(packageSelected.packages === \"Video\"){\n         setBasePrice(516.998);\n       }else if(packageSelected.packages === \"Drone Aerial Photos Only\"){\n         setBasePrice(119.998);\n       }else if(packageSelected.packages === \"Drone Aerial Video Only\"){\n         setBasePrice(269.998);\n       }else if(packageSelected.packages === \"Drone Aerials Photo &amp; Video\"){\n         setBasePrice(549.998);\n       }else if(packageSelected.packages === \"Photography, Video, Drone Aerials\"){\n         setBasePrice(566.998);   \n       }if(propertySqft &gt; 2000){\n   const overage = propertySqft - 2000;\n   const percentage = Math.floor(overage / 500) * 10;\n    setBasePrice(basePrice =&gt; (basePrice * (percentage / 100)));\n }\n  };\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "jestjs", "jsdom"], "comments": [{"owner": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 0, "creation_date": 1574889926, "post_id": 59077184, "comment_id": 104394365, "body": "can you provide the stacktrace of the error - message ?"}, {"owner": {"reputation": 1, "user_id": 12176144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcVlO.jpg?s=128&g=1", "display_name": "maadc", "link": "https://stackoverflow.com/users/12176144/maadc"}, "reply_to_user": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 0, "creation_date": 1575988820, "post_id": 59077184, "comment_id": 104746503, "body": "@MatthiasGwiozda No, i don&#39;t know what this is honestly."}, {"owner": {"reputation": 402, "user_id": 6458608, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/M5X40.jpg?s=128&g=1", "display_name": "Matthias Gwiozda", "link": "https://stackoverflow.com/users/6458608/matthias-gwiozda"}, "edited": false, "score": 0, "creation_date": 1576076579, "post_id": 59077184, "comment_id": 104782198, "body": "Just make a screenshot of the error - Message an post it here please"}], "owner": {"reputation": 1, "user_id": 12176144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZcVlO.jpg?s=128&g=1", "display_name": "maadc", "link": "https://stackoverflow.com/users/12176144/maadc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574884829, "creation_date": 1574882536, "last_edit_date": 1574884829, "question_id": 59077184, "link": "https://stackoverflow.com/questions/59077184/importing-function-with-jest-jsdom", "title": "Importing Function with JEST + JSDOM", "body": "<p>I want to test function which manipulate my DOM. Thus I use jsdom + jest.</p>\n\n<p>If I import the function, then the DOM loads not correctly and I receive a TypeError. The Error tells my that an element is not defined. Which would be defined in the beginning of my main.js.</p>\n\n<p>If I don't import the function, then I could not run the test, because the function is not defined.</p>\n\n<p><strong>the test.js:</strong></p>\n\n<pre><code>const { JSDOM,VirtualConsole} = require('jsdom')\n\n//the function i want to import\nconst round = require(\"./main.js\").round;\n\ndescribe('calculate', () =&gt; {\n    let dom\n    let document\n\n    //load the DOM before all tests\n    beforeAll(async () =&gt; {\n        dom = await initDom('index.html')\n        document = dom.window.document\n    })\n\n    //my test to test the \"round\"-function\n    test(`round`, () =&gt; {\n        expect(round(0.12345)).toEqual(0.12)\n    })\n})\n</code></pre>\n\n<p><strong>important part of main.js:</strong></p>\n\n<pre><code> module.exports = {\n    round: round,\n}\n\nconst pongbar_right = document.getElementById(\"pongbar_right\");\npongbar_right.style.top = 250;\n-&gt; here is be the Error: TypeError: Cannot read property 'style' of null\n</code></pre>\n\n<p><strong>initDom:</strong> </p>\n\n<pre><code>const {JSDOM, VirtualConsole}  = require('jsdom')\n\nglobal.initDom = (htmlFile) =&gt; {\n    const virtualConsole = new VirtualConsole();\n    virtualConsole.on('log', (...args) =&gt; {console.log(`&amp;${args}`)})\n    return JSDOM.fromFile(htmlFile, {\n        resources: 'usable',\n        runScripts: \"outside-only\",\n        virtualConsole\n    })\n}\n</code></pre>\n"}, {"tags": ["javascript", "gamepad-api"], "comments": [{"owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1575065761, "post_id": 59077159, "comment_id": 104454085, "body": "What browser do you test on?"}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "reply_to_user": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1575102307, "post_id": 59077159, "comment_id": 104459440, "body": "Hey, I&#39;m using chrome"}, {"owner": {"reputation": 1419, "user_id": 10681461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/guqc8.jpg?s=128&g=1", "display_name": "Temo Tchanukvadze", "link": "https://stackoverflow.com/users/10681461/temo-tchanukvadze"}, "edited": false, "score": 0, "creation_date": 1575226467, "post_id": 59077159, "comment_id": 104485712, "body": "Hey, I was messing around with my Logitech G29 and Twin joystick and these events triggered without any problem on my Chrome(78.0.3904.108). Is the controller recognized by the system? What is your OS? Try running navigator.getGamepads() in the console when the gamepad is connected."}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1575232683, "post_id": 59077159, "comment_id": 104487335, "body": "Hey :) I updated my post .. unfortunately it didn&#39;t help.."}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 3, "creation_date": 1575232805, "post_id": 59077159, "comment_id": 104487369, "body": "Have you read this question: <a href=\"https://stackoverflow.com/questions/10839310/html5-gamepad-api-on-chrome\" title=\"html5 gamepad api on chrome\">stackoverflow.com/questions/10839310/&hellip;</a>?"}, {"owner": {"reputation": 12196, "user_id": 923720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c726e1c3ef253fa63110f41c9cfef5b?s=128&d=identicon&r=PG", "display_name": "Darkhogg", "link": "https://stackoverflow.com/users/923720/darkhogg"}, "edited": false, "score": 1, "creation_date": 1575232952, "post_id": 59077159, "comment_id": 104487419, "body": "This is working for me perfectly on Firefox 70.0.1 on Arch Linux with an Xbox 360 USB gamepad. Does your controller work in other applications?"}, {"owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "edited": false, "score": 0, "creation_date": 1575267720, "post_id": 59077159, "comment_id": 104494920, "body": "Ok I installed Firefox 68.0.1 (64-bit) and it worked there ..."}, {"owner": {"reputation": 1218, "user_id": 7912447, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b6a4b65085a4a73b13356f53a815916b?s=128&d=identicon&r=PG&f=1", "display_name": "Nasiruddin Saiyed", "link": "https://stackoverflow.com/users/7912447/nasiruddin-saiyed"}, "edited": false, "score": 0, "creation_date": 1575272042, "post_id": 59077159, "comment_id": 104496329, "body": "Did you tried <a href=\"https://github.com/thinkpixellab/PxGamepad\" rel=\"nofollow noreferrer\">github.com/thinkpixellab/PxGamepad</a>  try to register first than bind all events with window"}, {"owner": {"reputation": 336, "user_id": 6529658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97bf3d7e68c07d0fd0b93b05511ee1db?s=128&d=identicon&r=PG&f=1", "display_name": "nondebug", "link": "https://stackoverflow.com/users/6529658/nondebug"}, "edited": false, "score": 3, "creation_date": 1575344880, "post_id": 59077159, "comment_id": 104525188, "body": "As mentioned above, you need to press a gamepad button before Gamepad API will expose any information about connected gamepads. This includes gamepadconnected events. Info about connected devices can be used to fingerprint the user, so to protect your privacy, Chrome won&#39;t tell the page about your gamepads unless you&#39;re actually using one of them."}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 6255000, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CsYl8.jpg?s=128&g=1", "display_name": "DenverCoder9", "link": "https://stackoverflow.com/users/6255000/denvercoder9"}, "is_accepted": false, "score": 0, "last_activity_date": 1608117604, "creation_date": 1608117604, "answer_id": 65322237, "question_id": 59077159, "link": "https://stackoverflow.com/questions/59077159/listen-for-gamepad-connection-and-input/65322237#65322237", "title": "listen for gamepad connection and input", "body": "<p>There's a lot of outdated information out there on the Gamepad API. I have recently published an <a href=\"https://web.dev/gamepad/\" rel=\"nofollow noreferrer\">article</a> that focuses exclusively on the new API. For the concrete question: most likely you need to wake your gamepad by pressing any of its buttons, as was pointed out <a href=\"https://stackoverflow.com/questions/59077159/listen-for-gamepad-connection-and-input#comment104525188_59077159\">earlier</a>.</p>\n"}], "owner": {"reputation": 2488, "user_id": 7764329, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/0dbb5b33bbcd830553cc0b7b050abc8c?s=128&d=identicon&r=PG&f=1", "display_name": "Question3r", "link": "https://stackoverflow.com/users/7764329/question3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1608117604, "creation_date": 1574882427, "last_edit_date": 1575267478, "question_id": 59077159, "link": "https://stackoverflow.com/questions/59077159/listen-for-gamepad-connection-and-input", "title": "listen for gamepad connection and input", "body": "<p>I would like to provide gamepad support for my web application. This application is a socket client (using socket.io) and it should also being able to deal with gamepad input.</p>\n\n<p>So when plugging in a gamepad via USB or Bluetooth I would like to fire an event, same for input. I was hoping that the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Gamepad_API/Using_the_Gamepad_API\" rel=\"nofollow noreferrer\">Gamepad API</a> would solve it. Unfortunately it didn't. </p>\n\n<p>I created this example</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(() =&gt; {\r\n  window.addEventListener(\"gamepadconnected\", e =&gt; {\r\n    console.log(\"connected gamepad\");\r\n  });\r\n\r\n  window.addEventListener(\"gamepaddisconnected\", e =&gt; {\r\n    console.log(\"disconnected gamepad\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I plug in my XBox360 controller but unfortunately no event was fired. Am I missing something?</p>\n\n<p>I use Chrome Version 76.0.3809.132 (Official Build) on Manjaro Linux (64-bit)</p>\n\n<p>When running <code>navigator.getGamepads()</code> in the console I get this result <code>GamepadList\u00a0{0: null, 1: null, 2: null, 3: null, length: 4}</code></p>\n\n<p>And btw. of course my controller is working on other applications e.g. games :)</p>\n\n<hr>\n\n<p><strong>Update</strong></p>\n\n<p>I installed Firefox 68.0.1 (64-bit) and it worked... but Chromium seems to struggle</p>\n"}, {"tags": ["javascript", "xampp", "chat", "openfire", "converse.js"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8086146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44159785813790a570114dbcb6c30b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Kumar", "link": "https://stackoverflow.com/users/8086146/dheeraj-kumar"}, "edited": false, "score": 0, "creation_date": 1575112633, "post_id": 59079288, "comment_id": 104461511, "body": "Can we add converse plugins via inVerse ?"}, {"owner": {"reputation": 2796, "user_id": 189203, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db7ecb1147eed6d02c204f2e4c12cb34?s=128&d=identicon&r=PG", "display_name": "Guus", "link": "https://stackoverflow.com/users/189203/guus"}, "reply_to_user": {"reputation": 1, "user_id": 8086146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44159785813790a570114dbcb6c30b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Kumar", "link": "https://stackoverflow.com/users/8086146/dheeraj-kumar"}, "edited": false, "score": 0, "creation_date": 1575127727, "post_id": 59079288, "comment_id": 104465067, "body": "No, that is not supported."}], "tags": [], "owner": {"reputation": 2796, "user_id": 189203, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/db7ecb1147eed6d02c204f2e4c12cb34?s=128&d=identicon&r=PG", "display_name": "Guus", "link": "https://stackoverflow.com/users/189203/guus"}, "is_accepted": false, "score": 0, "last_activity_date": 1574893680, "creation_date": 1574893680, "answer_id": 59079288, "question_id": 59077133, "link": "https://stackoverflow.com/questions/59077133/issue-running-converse-with-openfire/59079288#59079288", "title": "Issue running converse with openfire", "body": "<p>Openfire has a plugin called inVerse. This plugin is a simple wrapper around Converse, that gives you a fully functional web client. I advice that you use this plugin, of only as an example for proper configuration.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12450196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BWsEN.png?s=128&g=1", "display_name": "Dele Olajide", "link": "https://stackoverflow.com/users/12450196/dele-olajide"}, "is_accepted": false, "score": 0, "last_activity_date": 1574925735, "creation_date": 1574925735, "answer_id": 59083585, "question_id": 59077133, "link": "https://stackoverflow.com/questions/59077133/issue-running-converse-with-openfire/59083585#59083585", "title": "Issue running converse with openfire", "body": "<p>Configuring Openfire with \"localhost\" as the xmpp domain name leads to network issues. Try using the server name instead.</p>\n"}], "owner": {"reputation": 1, "user_id": 8086146, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44159785813790a570114dbcb6c30b4d?s=128&d=identicon&r=PG&f=1", "display_name": "Dheeraj Kumar", "link": "https://stackoverflow.com/users/8086146/dheeraj-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 220, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574925735, "creation_date": 1574882331, "question_id": 59077133, "link": "https://stackoverflow.com/questions/59077133/issue-running-converse-with-openfire", "title": "Issue running converse with openfire", "body": "<p>I have configured openfire with xampp and checked the default 7443 and 5222 ports for http-bind and c2s connections respectively. I have registered users adam,levine on openfire. \nNow I am trying to open control box for the registered users but I am facing issues.\nhtml file to run converse</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n    &lt;head&gt;\n    &lt;title&gt;Converse&lt;/title&gt;\n    &lt;link type=\"text/css\" rel=\"stylesheet\" media=\"screen\" href=\"https://cdn.conversejs.org/5.0.4/dist/converse.min.css\" /&gt;\n    &lt;script src=\"https://cdn.conversejs.org/5.0.4/dist/converse.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n    &lt;script&gt;\n         converse.plugins.add('myplugin', {\n      initialize: function() {\n        var _converse = this._converse;\n        Promise.all([\n            _converse.api.waitUntil('rosterContactsFetched'),\n            _converse.api.waitUntil('chatBoxesFetched')\n        ]).then(function() {\n          _converse.api.chats.open('adam@localhost.resource');\n        });\n      }\n    });\n\n    converse.initialize({\n      bosh_service_url: 'https://localhost:7443/http-bind/',\n      show_controlbox_by_default: true,\n      whitelisted_plugins: ['myplugin'],\n      debug: true\n    });\n    &lt;/script&gt;\n&lt;/html&gt;\n\n</code></pre>\n\n<p>Now on running this nothing is happening (control box is also not opening )and I am getting this error</p>\n\n<pre><code>converse-core.js:284  2019-11-27T19:12:11.257Z WARNING: Disconnect was called because: undefined \nconverse-core.js:284  2019-11-27T19:12:11.257Z WARNING: Disconnect was called before Strophe connected to the server \nconverse-chatboxviews.js:103 Uncaught (in promise) DOMException: Failed to execute 'appendChild' on 'Node': Only one element on document allowed.\n    at i._ensureElement (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:152:10339)\n    at i.t.View (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:44153)\n    at i.constructor (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:100544)\n    at i.Backbone.Overview (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:152:526)\n    at new i (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:53600)\n    at Object.&lt;anonymous&gt; (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:152:11125)\n    at g (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:33025)\n    at p (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:32873)\n    at l (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:30789)\n    at Object.a.trigger (https://cdn.conversejs.org/5.0.4/dist/converse.min.js:55:32766)\nconverse-minimize.js:575 Uncaught TypeError: Cannot read property 'trimChats' of undefined\n    at converse-minimize.js:575\n    at g (lodash.js:10377)\n    at _ (lodash.js:10426)\n    at v (lodash.js:10337)\n</code></pre>\n\n<p>Can someone help me how to resolve this ? </p>\n"}, {"tags": ["javascript", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 9061479, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vSJ7fUuTby0/AAAAAAAAAAI/AAAAAAAAAdM/NiQXIMC2Qbo/photo.jpg?sz=128", "display_name": "ovae", "link": "https://stackoverflow.com/users/9061479/ovae"}, "is_accepted": false, "score": 0, "last_activity_date": 1574890614, "creation_date": 1574890614, "answer_id": 59078779, "question_id": 59077107, "link": "https://stackoverflow.com/questions/59077107/mongodb-group-and-get-other-fields-from-documents/59078779#59078779", "title": "Mongodb Group and get other fields from documents", "body": "<p>If you don't have to use $group this will solve your problem:</p>\n\n<pre><code>db.projects.aggregate([\n  {$sort:{likes:-1}},\n  {$limit:1} \n]).pretty()\n</code></pre>\n\n<p>the result would be </p>\n\n<pre><code>{\n  \"_id\" : ObjectId(\"5ddee7f63cee7cdf247059db\"),\n  \"projectname\" : \"thechosenone\",\n  \"username\" : \"easy\",\n  \"likes\" : 30,\n  \"links\" : [\"ssss\"]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 150, "user_id": 2720256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba9a2d2e41f725319d806a619c84025?s=128&d=identicon&r=PG&f=1", "display_name": "youllbehaunted", "link": "https://stackoverflow.com/users/2720256/youllbehaunted"}, "edited": false, "score": 0, "creation_date": 1575006512, "post_id": 59087281, "comment_id": 104431451, "body": "hey thanks for the solution.However now there&#39;s another issue with this code. which is if there&#39;s a document modified or added it just referes to the last array ;/"}, {"owner": {"reputation": 150, "user_id": 2720256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba9a2d2e41f725319d806a619c84025?s=128&d=identicon&r=PG&f=1", "display_name": "youllbehaunted", "link": "https://stackoverflow.com/users/2720256/youllbehaunted"}, "edited": false, "score": 0, "creation_date": 1575010029, "post_id": 59087281, "comment_id": 104432449, "body": "hey thanks to you i modified your solution ``` [   {     &#39;$sort&#39;: {       &#39;likes&#39;: -1     }   }, {     &#39;$group&#39;: {       &#39;_id&#39;: {         &#39;username&#39;: &#39;$username&#39;       },        &#39;likes&#39;: {         &#39;$max&#39;: &#39;$likes&#39;       },        &#39;projectname&#39;: {         &#39;$push&#39;: &#39;$projectname&#39;       },        &#39;link&#39;: {         &#39;$push&#39;: &#39;$link&#39;       }     }   }, {     &#39;$project&#39;: {       &#39;username&#39;: &#39;$_id.username&#39;,        &#39;projectname&#39;: {         &#39;$arrayElemAt&#39;: [           &#39;$projectname&#39;, 0         ]       },       ]"}], "tags": [], "owner": {"reputation": 1190, "user_id": 9993322, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rnANl0i9X0g/AAAAAAAAAAI/AAAAAAAAABk/T_ETnB_Rato/photo.jpg?sz=128", "display_name": "Mohammad Faisal", "link": "https://stackoverflow.com/users/9993322/mohammad-faisal"}, "is_accepted": false, "score": 0, "last_activity_date": 1582031504, "last_edit_date": 1582031504, "creation_date": 1574938708, "answer_id": 59087281, "question_id": 59077107, "link": "https://stackoverflow.com/questions/59077107/mongodb-group-and-get-other-fields-from-documents/59087281#59087281", "title": "Mongodb Group and get other fields from documents", "body": "<p>Try this:-</p>\n\n<pre><code>db.collection(\"projects\").aggregate([\n  {\n    $group: {\n      _id: { username: \"$username\" },\n      likes: { $max: \"$likes\" },\n      projectname: { $push : { $cond: [  { $max: \"$likes\" }, \"$projectname\", \"\" ]}}\n    }\n  }\n  ,\n  {\n    $project:{\n       username:\"$_id.username\",\n       projectname:{\"$reduce\": {\n            \"input\": \"$projectname\",\n            \"initialValue\": { \"$arrayElemAt\": [\"$projectname\", 0] },\n            \"in\": { \"$cond\": [{ \"$ne\": [\"$$this\", \"\"] }, \"$$this\", \"$$value\"] }\n        }},\n       likes:1\n    }\n  }\n])\n</code></pre>\n"}], "owner": {"reputation": 150, "user_id": 2720256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba9a2d2e41f725319d806a619c84025?s=128&d=identicon&r=PG&f=1", "display_name": "youllbehaunted", "link": "https://stackoverflow.com/users/2720256/youllbehaunted"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1582031504, "creation_date": 1574882226, "last_edit_date": 1575130635, "question_id": 59077107, "link": "https://stackoverflow.com/questions/59077107/mongodb-group-and-get-other-fields-from-documents", "title": "Mongodb Group and get other fields from documents", "body": "<p>update so Mohammad Faisal has the best solution.However it breaks when a new document is added lol! so i learned a lot from his code and modified it and it Works! =) the code is all the way in the bottom.</p>\n\n<p>But here's what i said..\nSo i have this document</p>\n\n<pre><code>{\"_id\":\"5ddea2e44eb407059828d740\",\n\"projectname\":\"wdym\",\n\"username\":\"easy\",\n\"likes\":0,\n\"link\":[\"ssss\"]\n}\n\n\n{\"_id\":\"5ddea2e44eb407059822d740\",\n\"projectname\":\"thechosenone\",\n\"username\":\"easy\",\n\"likes\":30,\n\"link\":[\"ssss\"]\n}\n\n{\"_id\":\"5ddea2e44eb407059828d740\",\n\"projectname\":\"thanos\",\n\"username\":\"wiley\",\n\"likes\":10,\n\"link\":[\"ssss\"]\n}\n</code></pre>\n\n<p>and basically what i want is the document that contains the highest\nlikes with it's associated project name</p>\n\n<p>For example the output would be </p>\n\n<pre><code>\"projectname\":\"thechosenone\",\n\"username\":\"easy\",\n\"likes\":30\n}\n,\n{\n\"projectname\":\"thanos\",\n\"username\":\"wiley\",\n\"likes\":10,\n}\n</code></pre>\n\n<p>the code i have for this is the following</p>\n\n<pre><code>db\n    .collection(\"projects\")\n    .aggregate([\n      {\n        $group: {\n          _id: { username: \"$username\" },\n          likes: { $max: \"$likes\" }\n        }\n      },\n      {\n        $project:{projectname:1}\n      }\n    ])\n</code></pre>\n\n<p>$project gives me a strange output. However, \nthe output was correct without the $project.\nBut i wanted to project the projectname, the user and the highest likes. Thanks for hearing me out :)</p>\n\n<blockquote>\n  <p>heres the solution =)</p>\n</blockquote>\n\n<pre><code>db\n    .collection(\"projects\")\n    .aggregate([\n      {\n        $sort: {\n          likes: -1\n        }\n      },\n      {\n        $group: {\n          _id: {\n            username: \"$username\"\n          },\n          likes: {\n            $max: \"$likes\"\n          },\n          projectname: {\n            $push: \"$projectname\"\n          },\n          link: {\n            $push: \"$link\"\n          }\n        }\n      },\n      {\n        $project: {\n          username: \"$_id.username\",\n          projectname: {\n            $arrayElemAt: [\"$projectname\", 0]\n          },\n          link: {\n            $arrayElemAt: [\"$link\", 0]\n          }\n        }\n      }\n    ])\n    .toArray()\n\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "web", "backend"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12447755, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAeiBi7CRAI47OxkRiDrmMDE_84dluSPxyNhxOi=k-s128", "display_name": "orsetto-bruno", "link": "https://stackoverflow.com/users/12447755/orsetto-bruno"}, "is_accepted": false, "score": 0, "last_activity_date": 1574883935, "creation_date": 1574883935, "answer_id": 59077486, "question_id": 59077061, "link": "https://stackoverflow.com/questions/59077061/how-to-serve-singular-static-files-in-express-without-exposing-full-static-fo/59077486#59077486", "title": "How to serve singular static files in express without exposing full &#39;/static&#39; folder?", "body": "<p>If you want to selectively serve assets from the express server, you could do something like this: </p>\n\n<pre><code>let secrets = ['secrets.html', 'my_diary.html']\n\napp.use((req, res, next) =&gt; {\n    let shouldBeAuthorised = secrets.some(s =&gt; req.url.includes(s))\n    if (shouldBeAuthorized)\n        // check they are authorized to be served this content\n    else\n        // just serve the content, carry on... no need to worry\n})\n\napp.use(express.static('static'))\n</code></pre>\n\n<p>My use of <code>req.url.includes</code> is very shaky, and with a more complicated list of files, could result in you requiring authorization for files that aren't explicitly in the blacklist... but the basic structure of the above code should achieve what you're looking to achieve. </p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 8841367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdrQv.jpg?s=128&g=1", "display_name": "Jake Chambers", "link": "https://stackoverflow.com/users/8841367/jake-chambers"}, "edited": false, "score": 1, "creation_date": 1574954725, "post_id": 59083453, "comment_id": 104418377, "body": "this doesnt work, when you do this you&#39;re publicly exposing that directory from your root endpoint. I said this in the question, you don&#39;t want to have everything in that directory publicly accessible"}, {"owner": {"reputation": 941, "user_id": 2720042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POX9o.png?s=128&g=1", "display_name": "vun", "link": "https://stackoverflow.com/users/2720042/vun"}, "reply_to_user": {"reputation": 161, "user_id": 8841367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdrQv.jpg?s=128&g=1", "display_name": "Jake Chambers", "link": "https://stackoverflow.com/users/8841367/jake-chambers"}, "edited": false, "score": 0, "creation_date": 1574999027, "post_id": 59083453, "comment_id": 104430062, "body": "The issue is if you refer css, js in html, you can&#39;t make it being protected by JWT token as browser mechanism doesn&#39;t support it."}], "tags": [], "owner": {"reputation": 941, "user_id": 2720042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POX9o.png?s=128&g=1", "display_name": "vun", "link": "https://stackoverflow.com/users/2720042/vun"}, "is_accepted": false, "score": -1, "last_activity_date": 1574925154, "creation_date": 1574925154, "answer_id": 59083453, "question_id": 59077061, "link": "https://stackoverflow.com/questions/59077061/how-to-serve-singular-static-files-in-express-without-exposing-full-static-fo/59083453#59083453", "title": "How to serve singular static files in express without exposing full &#39;/static&#39; folder?", "body": "<p>You can solve this by having a folder called public, which you can put all the css, js in that folder. And use static middleware to serve the public folder</p>\n\n<pre><code>app.use(express.static('public'))\n</code></pre>\n\n<p>Then there is another folder called secret, which you will build routes, validate JWT token and serving html files based on user permission</p>\n"}], "owner": {"reputation": 161, "user_id": 8841367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AdrQv.jpg?s=128&g=1", "display_name": "Jake Chambers", "link": "https://stackoverflow.com/users/8841367/jake-chambers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574925154, "creation_date": 1574881935, "last_edit_date": 1574883702, "question_id": 59077061, "link": "https://stackoverflow.com/questions/59077061/how-to-serve-singular-static-files-in-express-without-exposing-full-static-fo", "title": "How to serve singular static files in express without exposing full &#39;/static&#39; folder?", "body": "<p>I am creating a very simple project that uses JWT. I am serving everything via express, I do not have a frontend and backend. What I want to do is serve SPECIFIC html files based on the user's authorization (serving on <a href=\"https://localhost:3000\" rel=\"nofollow noreferrer\">https://localhost:3000</a> entry point server.js)</p>\n\n<p>People keep recommending to use (server.js):</p>\n\n<pre><code>app.use(express.static('static'))\n</code></pre>\n\n<p>but this of course does not work as I can access ANY of those files by going to <a href=\"https://localhost:3000/whatever.i.want\" rel=\"nofollow noreferrer\">https://localhost:3000/whatever.i.want</a>.</p>\n\n<p>I have also tried (server.js): </p>\n\n<pre><code>app.use( '/secret' , authMiddleware, function(req,res){\n    if(auth){\n      res.sendFile(__dirname + '/static/secret.html')\n    }\n});\n</code></pre>\n\n<p>but gives 404s on my stylesheet and script, as well as some weird MIME type error</p>\n\n<p><strong><em>Refused to execute <a href=\"https://localhost:3000/script.js\" rel=\"nofollow noreferrer\">https://localhost:3000/script.js</a> as script because \"X-Content-Type: nosniff\" was given and its Content-Type is not a script MIME type.</em></strong></p>\n\n<p>It works if I add:</p>\n\n<pre><code>app.get( '/styles.css' , function(req,res){\n  res.sendFile(__dirname + '/static/styles.css')\n});\n\napp.get( '/script.js' , function(req,res){\n  res.sendFile(__dirname + '/static/script.js')\n});\n\n</code></pre>\n\n<p>But do I really have to do this for every single stylesheet and script I use? There has to be a better way!!!</p>\n\n<p>1.) What is the best way that people do this? Specifically, is it possible to create authorized web-apps without using a frontend and serving all your static files from the backend?</p>\n\n<p>2.) Is it necessary that your static directory is publicly accessible? Meaning you can only cast authorization constraints on certain endpoints, then use a script file that calls those endpoints? Which would still allow you to view the base HTML, just not any results of the API calls. Which in effect works but is gross.</p>\n\n<p><strong><em>File system</em></strong></p>\n\n<pre><code>server.js\n/static\n  /blah.html\n  /secret.html\n  /secret.css\n  /secret.js\n\n</code></pre>\n"}]