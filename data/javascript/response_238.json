[{"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 426, "user_id": 9328334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee164473a78dc22bcb651892b8b99aa?s=128&d=identicon&r=PG", "display_name": "vivalldi", "link": "https://stackoverflow.com/users/9328334/vivalldi"}, "edited": false, "score": 0, "creation_date": 1564617769, "post_id": 57300240, "comment_id": 101094096, "body": "You&#39;re calling <code>renderGrafica</code> from the main <code>render</code> function. Maybe try adding a check before calling <code>renderGrafica</code>"}, {"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "reply_to_user": {"reputation": 426, "user_id": 9328334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee164473a78dc22bcb651892b8b99aa?s=128&d=identicon&r=PG", "display_name": "vivalldi", "link": "https://stackoverflow.com/users/9328334/vivalldi"}, "edited": false, "score": 0, "creation_date": 1564617894, "post_id": 57300240, "comment_id": 101094115, "body": "But is not supposed that the render function executes after componentDidMount?"}], "answers": [{"comments": [{"owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1564619043, "post_id": 57300370, "comment_id": 101094311, "body": "So it doesn&#39;t matters that is the first time rendering the component, I have to add the flag to wait for the response of the request?"}, {"owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "reply_to_user": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "edited": false, "score": 0, "creation_date": 1564619184, "post_id": 57300370, "comment_id": 101094333, "body": "The thing is, even if you run it before the <code>render</code>, say at the <code>constructor</code> method, you are triggering a race condition. Since there is no way of being certain that the network request will resolve before the <code>render</code> is made. So, yes. You should add a flag (or some other logic) to avoid this issue."}], "tags": [], "owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "is_accepted": true, "score": 0, "last_activity_date": 1564618930, "creation_date": 1564618930, "answer_id": 57300370, "question_id": 57300240, "link": "https://stackoverflow.com/questions/57300240/why-function-inside-a-component-is-executing-before-componentdidmount/57300370#57300370", "title": "Why function inside a component is executing before componentDidMount?", "body": "<p>No, <code>componentDidMount</code> is run after the first render of the component. <a href=\"https://reactjs.org/docs/react-component.html#componentdidmount\" rel=\"nofollow noreferrer\">From React's docs</a>:</p>\n\n<blockquote>\n  <p><code>componentDidMount()</code> is invoked immediately after a component is mounted (inserted into the tree). Initialization that requires DOM nodes should go here. If you need to load data from a remote endpoint, this is a good place to instantiate the network request.</p>\n</blockquote>\n\n<p>Take a look at <a href=\"https://reactjs.org/docs/react-component.html#the-component-lifecycle\" rel=\"nofollow noreferrer\">\"The Component Lifecycle\"</a> of React's Docs to learn more about it. Here is the list of functions called in order when mounting a component:</p>\n\n<ul>\n<li><code>constructor()</code></li>\n<li><code>static getDerivedStateFromProps()</code></li>\n<li><code>render()</code></li>\n<li><code>componentDidMount()</code></li>\n</ul>\n\n<p><code>componentDidMount()</code> is still the best place to make a network request, as the docs say. So, if you need the data from the <code>this.props.getMyConnections()</code> call to return before rendering the component from <code>renderGrafica</code> you should add a flag that waits for them to be available, before running the function.</p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 562, "user_id": 9890009, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MIRMAmZuGMo/AAAAAAAAAAI/AAAAAAAAADQ/ljYNRj4WEYY/photo.jpg?sz=128", "display_name": "Paul Miranda", "link": "https://stackoverflow.com/users/9890009/paul-miranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 57300370, "answer_count": 1, "score": 0, "last_activity_date": 1564618930, "creation_date": 1564617588, "last_edit_date": 1564618299, "question_id": 57300240, "link": "https://stackoverflow.com/questions/57300240/why-function-inside-a-component-is-executing-before-componentdidmount", "title": "Why function inside a component is executing before componentDidMount?", "body": "<p>I have the next component:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport Navbar from \"../Navbar\";\nimport Modelado from \"../app/ModeladoDeDatos\";\nimport Grafica from \"./Grafica\";\nimport { Grid, Paper } from \"@material-ui/core\";\nimport { borrarConfig } from \"../../actions/config.actions\";\nimport history from \"../../history\";\n\nimport \"../../static/css/Graficas.css\";\nimport { getMyConnections } from \"../../actions/connection.actions\";\n\nclass Graficas extends Component {\n  componentDidMount() {\n    this.props.getMyConnections();\n  }\n\n  renderGrafica = () =&gt; {\n    return this.props.conexiones.map(conexion =&gt; {\n      return Object.values(conexion.configurations).map((config, index) =&gt; {\n        const modelo = new Modelado(config.result, config.values);\n        return (\n          &lt;Grid\n            key={index}\n            item\n            xs={6}\n            onDoubleClick={() =&gt;\n              history.push(`/grafica/${conexion.id}/${config.id}`)\n            }\n          &gt;\n            &lt;Paper&gt;\n              &lt;Grafica\n                configId={config.id}\n                conexionId={conexion.id}\n                nombre={config.name}\n                modelo={modelo.construirDatos()}\n                borrar={this.props.borrarConfig}\n                menu={[\"A\u00f1adir al dashboard\", \"Eliminar\"]}\n              /&gt;\n            &lt;/Paper&gt;\n          &lt;/Grid&gt;\n        );\n      });\n    });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;Navbar /&gt;\n        &lt;Grid container spacing={3} className=\"graficas\"&gt;\n          {this.renderGrafica()}\n        &lt;/Grid&gt;\n      &lt;/div&gt;\n    );\n  }\n}\nconst mapStateToProps = state =&gt; {\n  return { conexiones: Object.values(state.conexiones) };\n};\n\nexport default connect(\n  mapStateToProps,\n  { borrarConfig, getMyConnections }\n)(Graficas);\n</code></pre>\n\n<p>When I try to render this component, the <code>renderGrafica</code> method is executed before the <code>componentDidMount</code> method, and this makes my application fail because I can't get the data from the redux store because the fetching occurs in the <code>componentDidMount</code>  call.\nThe redux action method where the fetching occurs looks like this:</p>\n\n<pre><code>export const getMyConnections = () =&gt; {\n  console.log(\"me activo\");\n  return async dispatch =&gt; {\n    const response = await requireAuthActions.get(\"/db/conexion\");\n    dispatch({ type: GET_MY_CONNECTIONS, payload: response.data });\n  };\n};\n</code></pre>\n\n<p><code>componentDidMount</code> method calls a redux action who is a async call to an API.</p>\n\n<p>Shouldn't the <code>componentDidMount</code> call execute before the component gets rendered?</p>\n"}, {"tags": ["javascript", "jquery", "jakarta-ee"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10660652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iIjkZ-qhllo/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDpv9PW2AFjqQ-MPk6FJdANaRBukg/mo/photo.jpg?sz=128", "display_name": "\ub95c\ub514\uc544", "link": "https://stackoverflow.com/users/10660652/%eb%a5%9c%eb%94%94%ec%95%84"}, "is_accepted": false, "score": 0, "last_activity_date": 1564622224, "creation_date": 1564622224, "answer_id": 57300674, "question_id": 57300238, "link": "https://stackoverflow.com/questions/57300238/add-jquery-to-my-dynamic-web-project-in-eclipse/57300674#57300674", "title": "Add jquery to my &quot;dynamic web project&quot; in eclipse", "body": "<p>I think u should check linked path of jquery in your file. \nif u use the eclipse, u can check this path whether it linked well with ctrl+click.\nand another way, u should clean or refresh your project.</p>\n"}], "owner": {"reputation": 1, "user_id": 9547976, "user_type": "registered", "profile_image": "https://graph.facebook.com/1751759938261221/picture?type=large", "display_name": "mehdi ", "link": "https://stackoverflow.com/users/9547976/mehdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "closed_date": 1564659516, "answer_count": 1, "score": 0, "last_activity_date": 1564622224, "creation_date": 1564617583, "last_edit_date": 1564617946, "question_id": 57300238, "link": "https://stackoverflow.com/questions/57300238/add-jquery-to-my-dynamic-web-project-in-eclipse", "closed_reason": "Duplicate", "title": "Add jquery to my &quot;dynamic web project&quot; in eclipse", "body": "<p>To add my jquery file : \nI created a folder named script (inside the folder \"WebContent\")\nI added the jquery file \nAnd in the html file  that uses jquery i linked it\nAnd it didn lt work : the page is loaded perfectly in the web browser but the \"javascript\" part is not working wich is \" getting my current position\" .\nMy link is :  </p>\n\n<p>Sorry i couldnt upload photos because of a bug </p>\n"}, {"tags": ["javascript", "jquery", "tooltip"], "comments": [{"owner": {"reputation": 300, "user_id": 2435124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b1d76fc64c16192b2ee024bf4f756?s=128&d=identicon&r=PG", "display_name": "radcore", "link": "https://stackoverflow.com/users/2435124/radcore"}, "edited": false, "score": 0, "creation_date": 1564623144, "post_id": 57300200, "comment_id": 101095043, "body": "Try calling $.on() from a parent and passing the selector as a parameter. I&#39;m not familiar with how LiteTooltip works but if its dynamically recreating the ihotspot divs each click then the handler will either need to be re-added each time, or on an element further up the chain that isnt removed.  try: $(&#39;.hotspots&#39;).on(&#39;click&#39;, &#39;.redhotspot&#39;, function() { // ...  failing that go further up like: $(&#39;body&#39;).on(&#39;click&#39;, &#39;.redhotspot&#39;, function() { // ...  Hopefully that helps."}, {"owner": {"reputation": 541, "user_id": 1793274, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56dbccb88311557dd5c8f283a43a250c?s=128&d=identicon&r=PG", "display_name": "Trisha", "link": "https://stackoverflow.com/users/1793274/trisha"}, "reply_to_user": {"reputation": 300, "user_id": 2435124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b1d76fc64c16192b2ee024bf4f756?s=128&d=identicon&r=PG", "display_name": "radcore", "link": "https://stackoverflow.com/users/2435124/radcore"}, "edited": false, "score": 0, "creation_date": 1564635964, "post_id": 57300200, "comment_id": 101097401, "body": "@radcore I&#39;ve tried implementing both of your solutions, and neither are working."}, {"owner": {"reputation": 300, "user_id": 2435124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b1d76fc64c16192b2ee024bf4f756?s=128&d=identicon&r=PG", "display_name": "radcore", "link": "https://stackoverflow.com/users/2435124/radcore"}, "edited": false, "score": 0, "creation_date": 1564637890, "post_id": 57300200, "comment_id": 101097913, "body": "OK. It was worth a try."}, {"owner": {"reputation": 541, "user_id": 1793274, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56dbccb88311557dd5c8f283a43a250c?s=128&d=identicon&r=PG", "display_name": "Trisha", "link": "https://stackoverflow.com/users/1793274/trisha"}, "reply_to_user": {"reputation": 300, "user_id": 2435124, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a54b1d76fc64c16192b2ee024bf4f756?s=128&d=identicon&r=PG", "display_name": "radcore", "link": "https://stackoverflow.com/users/2435124/radcore"}, "edited": false, "score": 0, "creation_date": 1564670496, "post_id": 57300200, "comment_id": 101115331, "body": "I&#39;ve updated my code to reflect everything I&#39;ve tried to get the gallery to stay on every click. So far the only thing that is partially working is the simple on click event."}], "answers": [{"tags": [], "owner": {"reputation": 541, "user_id": 1793274, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56dbccb88311557dd5c8f283a43a250c?s=128&d=identicon&r=PG", "display_name": "Trisha", "link": "https://stackoverflow.com/users/1793274/trisha"}, "is_accepted": false, "score": 0, "last_activity_date": 1564689176, "creation_date": 1564689176, "answer_id": 57316124, "question_id": 57300200, "link": "https://stackoverflow.com/questions/57300200/run-jquery-after-dynamic-content-is-generated-every-time/57316124#57316124", "title": "run jQuery after dynamic content is generated every time", "body": "<p>After a lot of digging, I've found a resolution! Seems a bit hackish, though.</p>\n\n<p>I broke my click event into two separate functions - one for the actual click event <code>RefreshEventListener()</code>, and another for the image gallery <code>ImageGallery()</code>.\nThen, after wrapping everything with document.ready, I added a <code>setInterval</code> to the click event function.</p>\n\n<p>Below is the updated code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//All tooltip content lives below\r\n$('#ihotspot1').LiteTooltip({\r\n\ttextalign: 'left',\r\n\ttrigger: 'click',\r\n\topacity: 1,\r\n\tpadding: 0,\r\n\tshadow: 0,\r\n\tcontainer: 'tooltips',\r\n\tissticky: false,\r\n\ttitle:\r\n\t'&lt;div class=\"template ihotspot1\"&gt;' +\r\n\t'&lt;h4&gt;Waterproofing Membrane&lt;/h4&gt;' +\r\n\t'&lt;div class=\"item-gallery\"&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.1Waterproofing.jpg\" class=\"image_1_0\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.2Waterproofing.jpg\" class=\"image_1_1\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.3Waterproofing.jpg\" class=\"image_1_2\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.4Waterproofing.jpg\" class=\"image_1_3\" alt=\"\" /&gt;' +\r\n'&lt;/div&gt;' +\r\n\t'&lt;p&gt;We start by broom sweeping the footing then spray a EPRO rubber polymer membrane to fill in all of the crevices. This goes far beyond building code, but we know this is a key factor in keeping your living space dry. This first step along with the 15 year warranty is just one way we prepare the foundation for years to come.&lt;/p&gt;  ' +\r\n\t'&lt;/div&gt;'\r\n});\r\n$('#ihotspot2').LiteTooltip({\r\n\ttextalign: 'left',\r\n\ttrigger: 'click',\r\n\topacity: 1,\r\n\tpadding: 0,\r\n\tshadow: 0,\r\n\tcontainer: 'tooltips',\r\n\tissticky: false,\r\n\ttitle:\r\n\t'&lt;div class=\"template ihotspot2\"&gt;' +\r\n\t'&lt;h4&gt;Waterproofing Membrane&lt;/h4&gt;' +\r\n\t'&lt;div class=\"item-gallery\"&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.1Waterproofing.jpg\" class=\"image_1_0\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.2Waterproofing.jpg\" class=\"image_1_1\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.3Waterproofing.jpg\" class=\"image_1_2\" alt=\"\" /&gt;' +\r\n'&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.4Waterproofing.jpg\" class=\"image_1_3\" alt=\"\" /&gt;' +\r\n'&lt;/div&gt;' +\r\n\t'&lt;p&gt;We start by broom sweeping the footing then spray a EPRO rubber polymer membrane to fill in all of the crevices. This goes far beyond building code, but we know this is a key factor in keeping your living space dry. This first step along with the 15 year warranty is just one way we prepare the foundation for years to come.&lt;/p&gt;  ' +\r\n\t'&lt;/div&gt;'\r\n});\r\n\r\n\r\n\t  $(document).ready(function() {\r\n\t\tRefreshEventListener();\r\n\t\t  \r\n\t\tfunction RefreshEventListener() {\r\n\t\t  // Re-add event handler for all matching elements\r\n\t\t  $(\".redhotspot\").one(\"click\", function() {\r\n\t\t\t//alert(\"clicked\");\r\n\r\n\t\t\t//update tooltip content with gallery if necessary\r\n\t\t\tif ($(\".template\").is(\":visible\")) {\r\n\t\t\t  ImageGallery();\r\n\t\t\t}\r\n\t\t  });\r\n\t\t}\r\n\t\tsetInterval(RefreshEventListener, 0);\r\n\t\t  \r\n\t\tfunction ImageGallery() {\r\n\t\t  //Display first each image\r\n\t\t  $(\".item-gallery img:first-child\").addClass(\"active\");\r\n\r\n\t\t  var imageCounter = 0;\r\n\t\t  imageCounter = $(\".item-gallery img\").length;\r\n\r\n\t\t  //Arrows\r\n\t\t  if (imageCounter != 1) {\r\n\t\t\t$(\".item-gallery\").after(\r\n\t\t\t  '&lt;div class=\"left-arrow\"&gt;&lt;/div&gt;&lt;div class=\"right-arrow\"&gt;&lt;/div&gt;'\r\n\t\t\t);\r\n\t\t  }\r\n\r\n\t\t  //Arrows click\r\n\t\t  $(\".right-arrow\").click(function() {\r\n\t\t\tvar currentParent = $(this)\r\n\t\t\t.parent()\r\n\t\t\t.attr(\"class\");\r\n\t\t\tcurrentParent = currentParent.split(\" \")[1];\r\n\t\t\tif (\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:last-child\").hasClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  )\r\n\t\t\t) {\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:last-child\").removeClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  );\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:first-child\").addClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  );\r\n\t\t\t} else {\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery .active\")\r\n\t\t\t\t.next()\r\n\t\t\t\t.addClass(\"active\");\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery .active\")\r\n\t\t\t\t.prev()\r\n\t\t\t\t.removeClass(\"active\");\r\n\t\t\t}\r\n\t\t  });\r\n\r\n\t\t  $(\".left-arrow\").click(function() {\r\n\t\t\tvar currentParent = $(this)\r\n\t\t\t.parent()\r\n\t\t\t.attr(\"class\");\r\n\t\t\tcurrentParent = currentParent.split(\" \")[1];\r\n\t\t\tif (\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:first-child\").hasClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  )\r\n\t\t\t) {\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:first-child\").removeClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  );\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery img:last-child\").addClass(\r\n\t\t\t\t\"active\"\r\n\t\t\t  );\r\n\t\t\t} else {\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery .active\")\r\n\t\t\t\t.prev()\r\n\t\t\t\t.addClass(\"active\");\r\n\t\t\t  $(\".\" + currentParent + \" .item-gallery .active\")\r\n\t\t\t\t.next()\r\n\t\t\t\t.removeClass(\"active\");\r\n\t\t\t}\r\n\t\t  });\r\n\t\t}\r\n\t  });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/**** look inside tooltip CSS ****/\r\n\r\n.litetooltip-wrapper {\r\n  font: inherit;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-arrow {\r\n  border: none !important;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-content {\r\n  padding: 10px !important;\r\n  background: #fff !important;\r\n  color: inherit !important;\r\n  min-width: 90px;\r\n  width: 100%;\r\n  border-radius: 0 !important;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-content .clear {\r\n  clear: both;\r\n}\r\n\r\n.litetooltip-wrapper .template {\r\n  position: relative;\r\n  }\r\n.litetooltip-wrapper .template h4 {\r\n  font-size: 150%;\r\n  color: #154734;\r\n  padding: 0 0 .5em;\r\n}\r\n\r\n.litetooltip-wrapper .template p {\r\n  margin: 0;\r\n  padding: 0;\r\n  display: block;\r\n}\r\n\r\n.redhotspot {\r\n  color: #fff;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  line-height: 22px;\r\n  position: absolute;\r\n  z-index: 103;\r\n  width: 22px;\r\n  height: 22px;\r\n  background: #d11947;\r\n  border-radius: 60px;\r\n}\r\n\r\n.look-inside {\r\n  position: relative;\r\n  max-width: 1280px;\r\n  /* actual width of image*/\r\n  width: 100%;\r\n  height: auto;\r\n  z-index: 101;\r\n  overflow: hidden;\r\n}\r\n\r\n.look-inside .img-wrap {\r\n  position: relative;\r\n  height: 0px;\r\n  padding-bottom: 62.5%;\r\n  /* image-height / width * 100 */\r\n}\r\n\r\n.look-inside img {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 102;\r\n}\r\n\r\n@media screen and (max-width: 980px) {\r\n  .redhotspot {\r\n    font-size: 11px !important;\r\n    width: 14px;\r\n    height: 14px;\r\n    line-height: 14px;\r\n  }\r\n}\r\n\r\n#tooltip-clickoutside {\r\n  z-index: 100;\r\n}\r\n\r\n.item-gallery img {\r\n  display: none;\r\n}\r\n\r\n.item-gallery img.active {\r\n  display: block;\r\n}\r\n\r\n.left-arrow:before {\r\n  content: \"&lt;\";\r\n}\r\n\r\n.right-arrow:before {\r\n  content: \"&gt;\";\r\n}\r\n\r\n.left-arrow,\r\n.right-arrow {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  left: 0;\r\n  top: 44px;\r\n  height: 180px;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 90px;\r\n   background: #000;\r\n}\r\n\r\n.right-arrow {\r\n  left: 220px;\r\n}\r\n\r\n.left-arrow:before,\r\n.right-arrow:before {\r\n  position: absolute;\r\n  top: 25%;\r\n  font-family: 'ETmodules';\r\n  font-size: 90px;\r\n  height: 90px;\r\n  width: 90px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.item-gallery {\r\n  position: relative;\r\n  left: 60px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"look-inside\"&gt;\r\n&lt;div class=\"img-wrap\"&gt;\r\n    &lt;img alt=\"Look Inside\" src=\"https://paynefh.wpengine.com/wp-content/uploads/Breckenridge.jpg\"&gt;\r\n  &lt;/div&gt;\r\n&lt;div class=\"hotspots\"&gt;\r\n&lt;div id=\"ihotspot1\" class=\"redhotspot\" style=\"top: 80%; left: 44.5%;\"&gt;1&lt;/div&gt;\r\n&lt;div id=\"ihotspot2\" class=\"redhotspot\" style=\"top: 91.5%; left: 32.5%;\"&gt;2&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"tooltips\"&gt;&lt;/div&gt;\r\n\r\n&lt;script src=\"https://www.inabrains.com/tooltip/js/libs/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://www.inabrains.com/tooltip/js/libs/jquery.app.ui.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"https://www.inabrains.com/tooltip/js/libs/eacd7d071f342c3d2855e17915b4c5223bd87f3b5778cf4bd630459a330ed1aa.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 541, "user_id": 1793274, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/56dbccb88311557dd5c8f283a43a250c?s=128&d=identicon&r=PG", "display_name": "Trisha", "link": "https://stackoverflow.com/users/1793274/trisha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564689176, "creation_date": 1564617210, "last_edit_date": 1564671046, "question_id": 57300200, "link": "https://stackoverflow.com/questions/57300200/run-jquery-after-dynamic-content-is-generated-every-time", "title": "run jQuery after dynamic content is generated every time", "body": "<p>I have an image map with tooltips that when clicked open the tooltip content in the right hand side of the page. The tooltip functionality is from litetooltip.js, and is working fine.</p>\n\n<p>Inside the tooltip content will be a gallery that I've created, and will use jQuery to determine how many images are in the content, and if more than one, add the gallery arrows, add an 'active' class on the first image, then toggle the class through each image on left/right arrow click (I have not coded toggling the class as of yet).</p>\n\n<p>The issue I'm having is that the jQuery I'm trying to use is not being applied after the tooltip click event. I've tried using .on() which will work on the first click, but once you click off the tooltip and back into it, it does not run again. I need for the script to run each time the tooltip is clicked.</p>\n\n<p>I've also tried using delegate() which you can see commented out in the code, this did not run anything.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//All tooltip content lives below\r\n$('#ihotspot1').LiteTooltip({\r\n  location: 'top',\r\n  textalign: 'left',\r\n  trigger: 'click',\r\n  opacity: 1,\r\n  padding: 0,\r\n  shadow: 0,\r\n  container: 'tooltips',\r\n  issticky: true,\r\n  title: '&lt;div class=\"template ihotspot1\"&gt;' +\r\n    '&lt;h4&gt;Waterproofing Membrane&lt;/h4&gt;' +\r\n    '&lt;div class=\"item-gallery\"&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.1Waterproofing.jpg\" class=\"image_1_0\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.2Waterproofing.jpg\" class=\"image_1_1\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.3Waterproofing.jpg\" class=\"image_1_2\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.4Waterproofing.jpg\" class=\"image_1_3\" alt=\"\" /&gt;' +\r\n    '&lt;/div&gt;' +\r\n    '&lt;p&gt;We start by broom sweeping the footing then spray a EPRO rubber polymer membrane to fill in all of the crevices. This goes far beyond building code, but we know this is a key factor in keeping your living space dry. This first step along with the 15 year warranty is just one way we prepare the foundation for years to come.&lt;/p&gt; ' +\r\n    '&lt;/div&gt;'\r\n});\r\n$('#ihotspot2').LiteTooltip({\r\n  location: 'top',\r\n  textalign: 'left',\r\n  trigger: 'click',\r\n  opacity: 1,\r\n  padding: 0,\r\n  shadow: 0,\r\n  container: 'tooltips',\r\n  issticky: true,\r\n  title: '&lt;div class=\"template ihotspot2\"&gt;' +\r\n    '&lt;h4&gt;Waterproofing Membrane&lt;/h4&gt;' +\r\n    '&lt;div class=\"item-gallery\"&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.1Waterproofing.jpg\" class=\"image_1_0\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.2Waterproofing.jpg\" class=\"image_1_1\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.3Waterproofing.jpg\" class=\"image_1_2\" alt=\"\" /&gt;' +\r\n    '&lt;img src=\"https://paynefh.wpengine.com/wp-content/uploads/1.4Waterproofing.jpg\" class=\"image_1_3\" alt=\"\" /&gt;' +\r\n    '&lt;/div&gt;' +\r\n    '&lt;p&gt;We start by broom sweeping the footing then spray a EPRO rubber polymer membrane to fill in all of the crevices. This goes far beyond building code, but we know this is a key factor in keeping your living space dry. This first step along with the 15 year warranty is just one way we prepare the foundation for years to come.&lt;/p&gt; ' +\r\n    '&lt;/div&gt;'\r\n});\r\n\r\n\r\n\r\n//$('.look-inside').delegate('click', '.redhotspot', function(){\r\n//$('.hotspots').on('click', '.redhotspot', function() {\r\n//$(document.body).on('click', '.redhotspot', function() {\r\n$('.redhotspot').on('click', function() {\r\n  var imageCounter = 0;\r\n  $.each($('.template'), function(i) {\r\n    //Display first each image\r\n    $('.item-gallery img:first-child').addClass('active');\r\n    imageCounter = $('.item-gallery img').length;\r\n    //Arrows\r\n    if (imageCounter != 1) {\r\n      $('.item-gallery').after('&lt;div class=\"left-arrow\"&gt;&lt;/div&gt;&lt;div class=\"right-arrow\"&gt;&lt;/div&gt;');\r\n\r\n    }\r\n    //Arrows click\r\n    $('.right-arrow').click(function() {\r\n      var currentParent = $(this).parent().attr('class');\r\n      currentParent = currentParent.split(' ')[1];\r\n      if ($('.' + currentParent + ' .item-gallery img:last-child').hasClass('active')) {\r\n        $('.' + currentParent + ' .item-gallery img:last-child').removeClass('active');\r\n        $('.' + currentParent + ' .item-gallery img:first-child').addClass('active');\r\n      } else {\r\n        $('.' + currentParent + ' .item-gallery .active').next().addClass('active');\r\n        $('.' + currentParent + ' .item-gallery .active').prev().removeClass('active');\r\n      }\r\n    });\r\n\r\n    $('.left-arrow').click(function() {\r\n      var currentParent = $(this).parent().attr('class');\r\n      currentParent = currentParent.split(' ')[1];\r\n      if ($('.' + currentParent + ' .item-gallery img:first-child').hasClass('active')) {\r\n        $('.' + currentParent + ' .item-gallery img:first-child').removeClass('active');\r\n        $('.' + currentParent + ' .item-gallery img:last-child').addClass('active');\r\n      } else {\r\n        $('.' + currentParent + ' .item-gallery .active').prev().addClass('active');\r\n        $('.' + currentParent + ' .item-gallery .active').next().removeClass('active');\r\n      }\r\n    });\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/**** look inside tooltip CSS ****/\r\n\r\n.litetooltip-wrapper {\r\n  font: inherit;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-arrow {\r\n  border: none !important;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-content {\r\n  padding: 10px !important;\r\n  background: #fff !important;\r\n  color: inherit !important;\r\n  min-width: 90px;\r\n  width: 100%;\r\n  border-radius: 0 !important;\r\n}\r\n\r\n.litetooltip-wrapper .tooltip-content .clear {\r\n  clear: both;\r\n}\r\n\r\n.litetooltip-wrapper .template {\r\n  position: relative;\r\n}\r\n\r\n.litetooltip-wrapper .template h4 {\r\n  font-size: 150%;\r\n  color: #154734;\r\n  padding: 0 0 .5em;\r\n}\r\n\r\n.litetooltip-wrapper .template p {\r\n  margin: 0;\r\n  padding: 0;\r\n  display: block;\r\n}\r\n\r\n.redhotspot {\r\n  color: #fff;\r\n  text-align: center;\r\n  font-size: 14px;\r\n  line-height: 22px;\r\n  position: absolute;\r\n  z-index: 103;\r\n  width: 22px;\r\n  height: 22px;\r\n  background: #d11947;\r\n  border-radius: 60px;\r\n}\r\n\r\n.look-inside {\r\n  position: relative;\r\n  max-width: 1280px;\r\n  /* actual width of image*/\r\n  width: 100%;\r\n  height: auto;\r\n  z-index: 101;\r\n  overflow: hidden;\r\n}\r\n\r\n.look-inside .img-wrap {\r\n  position: relative;\r\n  height: 0px;\r\n  padding-bottom: 62.5%;\r\n  /* image-height / width * 100 */\r\n}\r\n\r\n.look-inside img {\r\n  position: absolute;\r\n  top: 0px;\r\n  left: 0px;\r\n  z-index: 102;\r\n}\r\n\r\n@media screen and (max-width: 980px) {\r\n  .redhotspot {\r\n    font-size: 11px !important;\r\n    width: 14px;\r\n    height: 14px;\r\n    line-height: 14px;\r\n  }\r\n}\r\n\r\n#tooltip-clickoutside {\r\n  z-index: 100;\r\n}\r\n\r\n.item-gallery img {\r\n  display: none;\r\n}\r\n\r\n.item-gallery img.active {\r\n  display: block;\r\n}\r\n\r\n.left-arrow:before {\r\n  content: \"&lt;\";\r\n}\r\n\r\n.right-arrow:before {\r\n  content: \"&gt;\";\r\n}\r\n\r\n.left-arrow,\r\n.right-arrow {\r\n  position: absolute;\r\n  cursor: pointer;\r\n  left: 0;\r\n  top: 44px;\r\n  height: 180px;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 90px;\r\n  background: #000;\r\n}\r\n\r\n.right-arrow {\r\n  left: 220px;\r\n}\r\n\r\n.left-arrow:before,\r\n.right-arrow:before {\r\n  position: absolute;\r\n  top: 25%;\r\n  font-family: 'ETmodules';\r\n  font-size: 90px;\r\n  height: 90px;\r\n  width: 90px;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n}\r\n\r\n.item-gallery {\r\n  position: relative;\r\n  left: 60px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"look-inside\"&gt;\r\n  &lt;div class=\"img-wrap\"&gt;\r\n    &lt;img alt=\"Look Inside\" src=\"https://paynefh.wpengine.com/wp-content/uploads/Breckenridge.jpg\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"hotspots\"&gt;\r\n    &lt;div id=\"ihotspot1\" class=\"redhotspot\" style=\"top: 80%; left: 44.5%; cursor: pointer;\"&gt;1&lt;/div&gt;\r\n    &lt;div id=\"ihotspot2\" class=\"redhotspot\" style=\"top: 91.5%; left: 32.5%; cursor: pointer;\"&gt;2&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"tooltips\"&gt;&lt;/div&gt;\r\n\r\n&lt;script src=\"https://www.inabrains.com/tooltip/js/libs/jquery-1.9.0.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://www.inabrains.com/tooltip/js/libs/jquery.app.ui.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\r\n&lt;script type=\"text/javascript\" src=\"https://www.inabrains.com/tooltip/js/libs/eacd7d071f342c3d2855e17915b4c5223bd87f3b5778cf4bd630459a330ed1aa.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "wordpress", "click", "anchor"], "answers": [{"comments": [{"owner": {"reputation": 15224, "user_id": 2397327, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b1b4bb1ed29f123c55b9c916212f47ed?s=128&d=identicon&r=PG", "display_name": "Jonathan Lam", "link": "https://stackoverflow.com/users/2397327/jonathan-lam"}, "edited": false, "score": 0, "creation_date": 1565189082, "post_id": 57300186, "comment_id": 101275733, "body": "@JoseLuisLujan Did this answer help you?"}, {"owner": {"reputation": 13, "user_id": 3788172, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1091924063/picture?type=large", "display_name": "Jose Luis Lujan", "link": "https://stackoverflow.com/users/3788172/jose-luis-lujan"}, "edited": false, "score": 0, "creation_date": 1565370262, "post_id": 57300186, "comment_id": 101346700, "body": "It doesn&#39;t  response <code>VM144:1 Uncaught DOMException: Failed to execute &#39;querySelector&#39; on &#39;Document&#39;: &#39;[data-q_id=#nos-eligen]&#39; is not a valid selector.     at &lt;anonymous&gt;:1:22</code>"}, {"owner": {"reputation": 15224, "user_id": 2397327, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b1b4bb1ed29f123c55b9c916212f47ed?s=128&d=identicon&r=PG", "display_name": "Jonathan Lam", "link": "https://stackoverflow.com/users/2397327/jonathan-lam"}, "reply_to_user": {"reputation": 13, "user_id": 3788172, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1091924063/picture?type=large", "display_name": "Jose Luis Lujan", "link": "https://stackoverflow.com/users/3788172/jose-luis-lujan"}, "edited": false, "score": 0, "creation_date": 1565382187, "post_id": 57300186, "comment_id": 101350902, "body": "@JoseLuisLujan What happens if you put the id in quotes, i.e., <code>[data-q_id=&#39;#nos-eligen&#39;]</code>"}], "tags": [], "owner": {"reputation": 15224, "user_id": 2397327, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b1b4bb1ed29f123c55b9c916212f47ed?s=128&d=identicon&r=PG", "display_name": "Jonathan Lam", "link": "https://stackoverflow.com/users/2397327/jonathan-lam"}, "is_accepted": false, "score": 0, "last_activity_date": 1564617100, "creation_date": 1564617100, "answer_id": 57300186, "question_id": 57300148, "link": "https://stackoverflow.com/questions/57300148/need-a-line-to-work-in-native-jquery-to-go-to-anchor/57300186#57300186", "title": "Need a line to work in native JQuery to go to ANCHOR", "body": "<p>Rather than <code>id</code>, select by (the data-property) <code>data-q_id</code> attribute:</p>\n\n<pre><code>var elmnt = document.querySelector(\"[data-q_id=#nos-eligen]\");\nelmnt.scrollIntoView(); \n</code></pre>\n\n<p>(Doesn't require jQuery)</p>\n"}], "owner": {"reputation": 13, "user_id": 3788172, "user_type": "registered", "accept_rate": 25, "profile_image": "https://graph.facebook.com/1091924063/picture?type=large", "display_name": "Jose Luis Lujan", "link": "https://stackoverflow.com/users/3788172/jose-luis-lujan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564617159, "creation_date": 1564616669, "last_edit_date": 1564617159, "question_id": 57300148, "link": "https://stackoverflow.com/questions/57300148/need-a-line-to-work-in-native-jquery-to-go-to-anchor", "title": "Need a line to work in native JQuery to go to ANCHOR", "body": "<p>I have a site with wordpress, slider revolution and bridge theme.</p>\n\n<p>I am setting up a contact button on slider revolution that have to go to an anchor on the same window.</p>\n\n<p>When i setup the anchor on Bridge theme it set up like this data-<code>q_id=\"#nos-eligen\"</code></p>\n\n<pre><code>&lt;div data-q_id=\"#nos-eligen\" class=\"vc_row wpb_row section vc_row-fluid  vc_custom_1563900392108 grid_section\" style=\" text-align:center;\"&gt;\n</code></pre>\n\n<p>I try this line</p>\n\n<pre><code>var elmnt = document.getElementById(\"nos-eligen\");\nelmnt.scrollIntoView();\n</code></pre>\n\n<p>but it doesnt work because <code>id=\"nos-eligen\"</code> is not defined.</p>\n\n<p>I need a line that works with <code>data-q_id</code> tag</p>\n\n<p>Does anyone know how to do it?\nRegards!</p>\n"}, {"tags": ["javascript", "mongodb"], "answers": [{"tags": [], "owner": {"reputation": 1636, "user_id": 7357263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pJdB7.png?s=128&g=1", "display_name": "Shivam Mishra", "link": "https://stackoverflow.com/users/7357263/shivam-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1564641836, "creation_date": 1564641836, "answer_id": 57303167, "question_id": 57300027, "link": "https://stackoverflow.com/questions/57300027/data-schema-consistency-check/57303167#57303167", "title": "Data schema consistency check", "body": "<p>Mongodb is schema less but still if you want to achieve what you desire use can use mongodb driver ODM like mongoose to manage the schema and that will help to achieve your desired outcome.</p>\n\n<p>Here is an example in nodejs</p>\n\n<h3>Schema A</h3>\n\n<pre><code>const collectionA = mongoose.Schema({\n    a: String,\n    b: String\n});\nconst colA = mongoose.model('col-a', collectionA);\n</code></pre>\n\n<h3>Schema B</h3>\n\n<pre><code>const collectionB = mongoose.Schema({\n    a: String,\n    b: String\n});\nconst colB = mongoose.model('col-b', collectionB);\n</code></pre>\n\n<h3>getting all properties defined</h3>\n\n<pre><code>const propertyOfColA = Object.keys(colA.schema.paths); // [ 'a', 'b', '_id', '__v' ]\nconst propertyOfColB = Object.keys(colB.schema.paths); // [ 'a', 'b', '_id', '__v' ]\n\nconst isCompleteMatched = matchProperties(propertyOfColA, propertyOfColB);\nif(isCompleteMatched) console.log(\"Col-A matched with Col-B\");\nelse console.log(\"Col-A does not matched with Col-B\");\n</code></pre>\n\n<h3>matching function</h3>\n\n<pre><code>function matchProperties(colA = [], colB = []) {\n    if (colA.length !== colB.length) return false;\n    return colA.every(property =&gt; colB.includes(property)); // return true if all properties of colA matches with colB;\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 11866375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8444761f2f9cb7ce492b4c2823e2c79c?s=128&d=identicon&r=PG&f=1", "display_name": "Vishnu Kumar", "link": "https://stackoverflow.com/users/11866375/vishnu-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1564641836, "creation_date": 1564615700, "last_edit_date": 1564624005, "question_id": 57300027, "link": "https://stackoverflow.com/questions/57300027/data-schema-consistency-check", "title": "Data schema consistency check", "body": "<p>I want to check the whether collection in database A has the same structure as that of B and C. </p>\n\n<p>For example, collection <code>xyz</code> in database A has <code>id, name and salary</code> and it has to exactly match with collection <code>xyz</code> in databases B and C. </p>\n\n<p>Also please note, I'm trying to achieve this using <a href=\"https://www.mongodb.com/\" rel=\"nofollow noreferrer\">MongoDB</a> /JavaScript. </p>\n\n<p>Can someone help me how to start with this?</p>\n"}, {"tags": ["javascript", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 1, "creation_date": 1564646979, "post_id": 57299970, "comment_id": 101101904, "body": "To get all your elements where no modal has to be shown, give them a dynamically generated tag or id. Then you can simply <code>return false</code>. in the <code>ShowModalPopup</code> for all those elements.  A better solution, IMO, is to not call the function in the HTML click attribute."}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "reply_to_user": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 0, "creation_date": 1564685300, "post_id": 57299970, "comment_id": 101122436, "body": "Can you show me how to do that with my code?"}, {"owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 1, "creation_date": 1564724780, "post_id": 57299970, "comment_id": 101131922, "body": "This thread will help you - <a href=\"https://stackoverflow.com/questions/7347786/html-anchor-tag-with-javascript-onclick-event\" title=\"html anchor tag with javascript onclick event\">stackoverflow.com/questions/7347786/&hellip;</a>"}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "reply_to_user": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 0, "creation_date": 1564752441, "post_id": 57299970, "comment_id": 101144810, "body": "It is not a rea html &lt;a&gt;&lt;/a&gt; it is generated in code behind with asp.net. The &lt;a&gt;&lt;/a&gt; is actually a LinkButton sorry for the confusion."}, {"owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 1, "creation_date": 1564812320, "post_id": 57299970, "comment_id": 101161030, "body": "The cleaner way is to create two functions - one that simply returns false on click, and other that actually shows the popup. I can see in your updated code you have a way of dynamically generating IDs. Can you figure out which IDs do not need to show popup and which need to show? Then simply call a suitable method to show popup or just return false."}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "reply_to_user": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 0, "creation_date": 1564843366, "post_id": 57299970, "comment_id": 101167112, "body": "I have added the rest of the code wish generates the kanban I have very little knowledge of javascript. I only want the  LinkButton not to expand the popup. But am unsure how to do it in javascript."}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "reply_to_user": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "edited": false, "score": 0, "creation_date": 1565220453, "post_id": 57299970, "comment_id": 101288245, "body": "I have added the tutorial I am following witch will make it easier for you to see  how my code works."}], "answers": [{"comments": [{"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "edited": false, "score": 0, "creation_date": 1565291960, "post_id": 57418819, "comment_id": 101318135, "body": "Thank you thank you It is almost what I want. However when I try it in code pen and I click on the button it redirects to other url which is what I want but it still opens the popup."}, {"owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "reply_to_user": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "edited": false, "score": 1, "creation_date": 1565784615, "post_id": 57418819, "comment_id": 101458492, "body": "Here is your code edited to demonstrate above changes <a href=\"https://codepen.io/maloomadhur/pen/wvwMLWx\" rel=\"nofollow noreferrer\">codepen.io/maloomadhur/pen/wvwMLWx</a>"}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "edited": false, "score": 0, "creation_date": 1565788919, "post_id": 57418819, "comment_id": 101460866, "body": "I am sorry but it is not want I want I want a button inside Task Content... that dosent open the popup but the rest of the div should still open the popup on click."}, {"owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "edited": false, "score": 0, "creation_date": 1566322423, "post_id": 57418819, "comment_id": 101617605, "body": "Thank you very much for all your help I figured out i needed to add event.stopPropagation(); in the button"}], "tags": [], "owner": {"reputation": 497, "user_id": 5358763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2e343eb866651cf649d90595fc2b0b9?s=128&d=identicon&r=PG&f=1", "display_name": "M M", "link": "https://stackoverflow.com/users/5358763/m-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1565289364, "creation_date": 1565289364, "answer_id": 57418819, "question_id": 57299970, "link": "https://stackoverflow.com/questions/57299970/do-not-display-popup-modal-on-a-certain-button-click/57418819#57418819", "title": "Do not display popup modal on a certain button click", "body": "<p>After going through your codepen, here is what I think will help you achieve what you are seeking.</p>\n\n<p>Replace this code </p>\n\n<p><code>&lt;div id=\"task1\" class=\"task\" onclick=\"expandCard(this, event)\"&gt;</code></p>\n\n<p>with this code</p>\n\n<p><code>&lt;div id=\"task1\" class=\"task\" onclick=\"newWindow('www.google.com')\"&gt;</code></p>\n\n<p>and create a new function in your JS code as below</p>\n\n<pre><code>function newWindow(url){\n  window.open(url);\n}\n</code></pre>\n\n<p>The idea is to create two functions - one for when you want to open the popup and another when you want to redirect to a new url. If you want a third option which does nothing, create a third function similar to the above and simply <code>return false</code> from the function.\nE.g.</p>\n\n<pre><code>function doNothing(){\n  return false;\n}\n</code></pre>\n"}], "owner": {"reputation": 530, "user_id": 10152435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e83aa7d5228f4d334366a40ee19f47a3?s=128&d=identicon&r=PG&f=1", "display_name": "Junior Cortenbach", "link": "https://stackoverflow.com/users/10152435/junior-cortenbach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 57418819, "answer_count": 1, "score": 0, "last_activity_date": 1565289364, "creation_date": 1564615260, "last_edit_date": 1565220393, "question_id": 57299970, "link": "https://stackoverflow.com/questions/57299970/do-not-display-popup-modal-on-a-certain-button-click", "title": "Do not display popup modal on a certain button click", "body": "<p>I do not want the modual popup to expand on a certain button click  a PageContent_btnContractDiagnostico + incrementalNumber.</p>\n\n<p>Here is the exemple I am followin <a href=\"https://codepen.io/PavelStrashevskiy/pen/JJRObL\" rel=\"nofollow noreferrer\">https://codepen.io/PavelStrashevskiy/pen/JJRObL</a> I have changed the following code </p>\n\n<pre><code>        &lt;div class=\"content\"&gt;Task Content...\n     &lt;button onclick=\"myFunction()\"&gt;Click Me!&lt;/button&gt; \n</code></pre>\n\n<p>add I have added the following code in the java-script section</p>\n\n<pre><code>     function myFunction() {\n      alert(\"Hello! I am an alert box!\");\n}\n</code></pre>\n\n<p>But insted of    alert(\"Hello! I am an alert box!\"); I want the function to prevent the popup from opening.</p>\n\n<p>This my actual code </p>\n\n<p>Here is how my button is generated.</p>\n\n<pre><code> LinkButton btnContract = new LinkButton();\n            btnContract.OnClientClick = \"return check()\";\n            btnContract.Attributes.Add(\"class\", \"task-text\");\n            btnContract.ID = \"btnContract\" + i_contractColumn.stepColumnName + i_contractColumn.contractTasks.IndexOf(contract_task);\n            btnContract.Click += new EventHandler(contract_Click);\n            btnContract.Text = contract_details.numero_contrato;\n            taskContent.Controls.Add(btnContract);\n</code></pre>\n\n<p>Here is how the rest of my kanban is generated. </p>\n\n<pre><code> public void PopulateKanban()\n    {\n        foreach (contractStepColumn i_contractColumn in kanban.kanbanBoard)\n        {\n            match_collapsedHeaders_with_view(i_contractColumn, kanban.kanbanBoard.IndexOf(i_contractColumn));\n        }\n\n        // KanbanBoard is the list of relevant columns for this page\n        foreach (contractStepColumn i_contractColumn in kanban.kanbanBoard)\n        {\n            // Display the header of a given column\n            //  match_columnHeaders_with_view(i_contractColumn, kanban.kanbanBoard.IndexOf(i_contractColumn));\n\n            System.Web.UI.HtmlControls.HtmlGenericControl columnInKanban = new System.Web.UI.HtmlControls.HtmlGenericControl(\"li\");\n            columnInKanban.Attributes.Add(\"ID\", \"kanbanColumnID\" + kanban.kanbanBoard.IndexOf(i_contractColumn));  // + kanban.kanbanBoard.IndexOf(i_contractColumn);\n            columnInKanban.Attributes.Add(\"class\", \"drag-column drag-column drag-column-step\");\n\n            kanbanBoardHtml.Controls.Add(columnInKanban);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl columnSpan = new System.Web.UI.HtmlControls.HtmlGenericControl(\"span\");\n            columnSpan.ID = \"kanbanColumnSpan\" + kanban.kanbanBoard.IndexOf(i_contractColumn);\n            columnSpan.Attributes.Add(\"class\", \"kanban-column-header\");\n            columnInKanban.Controls.Add(columnSpan);\n\n            Label ColumnStepName = new Label();\n            ColumnStepName.Text = i_contractColumn.stepColumnName;\n            columnSpan.Controls.Add(ColumnStepName);\n        ImageButton collapseImage = new ImageButton();\n        collapseImage.ImageUrl = \"~/images/minimize.png\";\n        collapseImage.Height = 20;\n        collapseImage.Width = 20;\n        collapseImage.Attributes.Add(\"class\", \"second-menu-icon\");\n        collapseImage.OnClientClick = \"hideFunction\"+ (kanban.kanbanBoard.IndexOf(i_contractColumn)).ToString() + \"(); return false;\";\n        columnSpan.Controls.Add(collapseImage);\n\n        // Display all contracts of a given column\n        System.Web.UI.HtmlControls.HtmlGenericControl columnContractList = new System.Web.UI.HtmlControls.HtmlGenericControl(\"ul\");\n        //columnContractList.ID = \"columnContractList\" + kanban.kanbanBoard.IndexOf(i_contractColumn);\n        columnContractList.Attributes.Add(\"class\", \"drag-inner-list\");\n        columnInKanban.Controls.Add(columnContractList);\n\n        foreach (contractTask contract_task in i_contractColumn.contractTasks)\n        {\n            //        match_contractTask_with_view(contract_task, i_contractColumn.contractTasks.IndexOf(contract_task));\n\n            string txtUrgencyColor = \"\";\n\n            contrato contract_details = new contrato(contract_task.contract_id, 1);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl ColumnContainingTasks = new System.Web.UI.HtmlControls.HtmlGenericControl(\"li\");\n            columnContractList.Controls.Add(ColumnContainingTasks);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl dragBox = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            dragBox.Attributes.Add(\"class\", \"dragBox\");\n\n            ColumnContainingTasks.Controls.Add(dragBox);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl task = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            task.Attributes.Add(\"class\", \"task\");\n            task.Attributes.Add(\"id\", \"task\"+ (kanban.kanbanBoard.IndexOf(i_contractColumn)).ToString());\n            task.Attributes.Add(\"onclick\", \"expandCard(this, event)\");\n\n            dragBox.Controls.Add(task);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl taskMini = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            taskMini.Attributes.Add(\"class\", \"cardMini\");\n\n            task.Controls.Add(taskMini);\n\n            txtUrgencyColor = contract_task.getColor().ToString();\n\n            switch (txtUrgencyColor)\n            {\n                case \"Color [Green]\":\n                    txtUrgencyColor = \"header color-green\";\n                    break;\n                case \"Color [Red]\":\n                    txtUrgencyColor = \"header color-red\";\n                    break;\n                case \"Color [Yellow]\":\n                    txtUrgencyColor = \"header color-yellow\";\n                    break;\n                case \"Color [Orange]\":\n                    txtUrgencyColor = \"header color-orange\";\n                    break;\n                default:\n                    txtUrgencyColor = \"header color-silver\";\n                    break;\n            }\n\n            System.Web.UI.HtmlControls.HtmlGenericControl taskMiniHeaderColor = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            taskMiniHeaderColor.Attributes.Add(\"class\", txtUrgencyColor);\n\n            taskMini.Controls.Add(taskMiniHeaderColor);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl taskContent = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            taskContent.Attributes.Add(\"class\", \"content\");\n\n            taskMini.Controls.Add(taskContent);\n\n            LinkButton btnContract = new LinkButton();\n            btnContract.Attributes.Add(\"class\", \"task-text\");\n            btnContract.ID = \"btnContract\" + i_contractColumn.stepColumnName + i_contractColumn.contractTasks.IndexOf(contract_task);\n            btnContract.Click += new EventHandler(contract_Click);\n            // btnContract.Text = contract_task.contract_number;\n            btnContract.Text = contract_details.numero_contrato;\n            taskContent.Controls.Add(btnContract);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl emptyDiv = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            taskContent.Controls.Add(emptyDiv);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl calenderSection = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            calenderSection.Attributes.Add(\"class\", \"contractCalendarSection\");\n\n            emptyDiv.Controls.Add(calenderSection);\n\n            Image imgCalendarTask = new Image();\n            imgCalendarTask.Height = 25;\n            imgCalendarTask.Width = 25;\n            imgCalendarTask.ImageUrl = \"~/images/calendar.png\";\n            calenderSection.Controls.Add(imgCalendarTask);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl calendarText = new System.Web.UI.HtmlControls.HtmlGenericControl(\"p\");\n            calendarText.Attributes.Add(\"class\", \"task-calendar-text\");\n            calendarText.InnerText = dateConverter(contract_task.start_date.ToString());\n            emptyDiv.Controls.Add(calendarText);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopup = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            expandPopup.Attributes.Add(\"class\", \"cardFull\");\n            task.Controls.Add(expandPopup);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopupHeaderColor = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            expandPopupHeaderColor.Attributes.Add(\"class\", txtUrgencyColor);\n            expandPopup.Controls.Add(expandPopupHeaderColor);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopupHeaderText = new System.Web.UI.HtmlControls.HtmlGenericControl(\"p\");\n            expandPopupHeaderText.Attributes.Add(\"class\", \"popupHeader\");\n            expandPopupHeaderText.InnerText = contract_task.contract_number;\n            expandPopup.Controls.Add(expandPopupHeaderText);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopupTextContent = new System.Web.UI.HtmlControls.HtmlGenericControl(\"div\");\n            expandPopupTextContent.Attributes.Add(\"class\", \"popupText\");\n            expandPopup.Controls.Add(expandPopupTextContent);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl contractStartDate = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            contractStartDate.InnerText = PoppupLineTextBuilder(\"Fecha de Llegada\", contract_details.historial.arrivalDate().ToShortDateString() );\n            expandPopupTextContent.Controls.Add(contractStartDate);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl StepDeadline = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            StepDeadline.InnerText = PoppupLineTextBuilder(\"Fecha Plazo\", contract_details.historial.currentStep().deadline.ToShortDateString());\n            expandPopupTextContent.Controls.Add(StepDeadline);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopupTextHeaderOne = new System.Web.UI.HtmlControls.HtmlGenericControl(\"p\");\n            expandPopupTextHeaderOne.InnerText = \"Informaci\u00f3n t\u00e9cnica\";\n            expandPopupTextContent.Controls.Add(expandPopupTextHeaderOne);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl componentFamily = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            componentFamily.InnerText = PoppupLineTextBuilder(\"Familia\", contract_details.familia);\n            expandPopupTextContent.Controls.Add(componentFamily);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl componentBrand= new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            componentBrand.InnerText = PoppupLineTextBuilder(\"Marca\", contract_details.marca);\n            expandPopupTextContent.Controls.Add(componentBrand);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl componentType = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            componentType.InnerText = PoppupLineTextBuilder(\"Tipo\", contract_details.tipo);\n            expandPopupTextContent.Controls.Add(componentType);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl componentSerial = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            componentSerial.InnerText = PoppupLineTextBuilder(\"Serial\", contract_details.serial_number);\n            expandPopupTextContent.Controls.Add(componentSerial);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl expandPopupTextHeaderTwo = new System.Web.UI.HtmlControls.HtmlGenericControl(\"p\");\n            expandPopupTextHeaderTwo.InnerText = \"Informaci\u00f3n al cliente\";\n            expandPopupTextContent.Controls.Add(expandPopupTextHeaderTwo);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl clientName = new System.Web.UI.HtmlControls.HtmlGenericControl(\"pre\");\n            clientName.InnerText = PoppupLineTextBuilder(\"Cliente\", contract_details.cliente.nombre_cliente);\n            expandPopupTextContent.Controls.Add(clientName);\n\n            Button btnMoreDetails = new Button();\n            btnMoreDetails.Attributes.Add(\"class\", \"btnPopup\");\n            btnMoreDetails.ID =\"btnContractPopup\" + i_contractColumn.stepColumnName + i_contractColumn.contractTasks.IndexOf(contract_task);\n            btnMoreDetails.Text = \"M\u00e1s Detalles\";\n            btnMoreDetails.Attributes.Add(\"runat\", \"server\");\n            btnMoreDetails.Click += new EventHandler(this.open_contract_click);\n            expandPopup.Controls.Add(btnMoreDetails);\n\n            System.Web.UI.HtmlControls.HtmlGenericControl LineBreak1 = new System.Web.UI.HtmlControls.HtmlGenericControl(\"br\");\n            System.Web.UI.HtmlControls.HtmlGenericControl LineBreak2 = new System.Web.UI.HtmlControls.HtmlGenericControl(\"br\");\n\n            expandPopupTextContent.Controls.Add(LineBreak1);\n            expandPopupTextContent.Controls.Add(LineBreak2);\n        }\n    }\n}\n</code></pre>\n\n<p>Here is part of the html generated</p>\n\n<pre><code>    &lt;div class=\"task\" id=\"task0\" onclick=\"expandCard(this, event)\"&gt;&lt;div class=\"cardMini\"&gt;\n&lt;div class=\"header color-red\"&gt;&lt;/div&gt;&lt;div class=\"content\"&gt;\n&lt;a id=\"PageContent_btnContractDiagnostico0\" class=\"task-text\" href=\"javascript:__doPostBack('ctl00$PageContent$btnContractDiagnostico0','')\"&gt;19050001&lt;/a&gt;\n&lt;div&gt;\n&lt;div class=\"contractCalendarSection\"&gt;&lt;img src=\"../images/calendar.png\" style=\"height:25px;width:25px;\"&gt;&lt;/div&gt;\n&lt;p class=\"task-calendar-text\"&gt;5/26/2019&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;\n&lt;div class=\"cardFull\"&gt;\n&lt;div class=\"header color-red\"&gt;&lt;/div&gt;\n&lt;p class=\"popupHeader\"&gt;19050001&lt;/p&gt;&lt;div class=\"popupText\"&gt;&lt;pre&gt;Fecha de Llegada:           5/2/2019&lt;/pre&gt;&lt;pre&gt;Fecha Plazo:                5/31/2019&lt;/pre&gt;&lt;p&gt;Informaci\u00f3n t\u00e9cnica&lt;/p&gt;&lt;pre&gt;Familia:                    Tarjeta&lt;/pre&gt;&lt;pre&gt;Marca:                      Texas&lt;/pre&gt;&lt;pre&gt;Tipo:                       Amp&lt;/pre&gt;&lt;pre&gt;Serial:                     244e2&lt;/pre&gt;&lt;p&gt;Informaci\u00f3n al cliente&lt;/p&gt;&lt;pre&gt;Cliente:                    Junior Cortenbach&lt;/pre&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;&lt;input type=\"submit\" name=\"ctl00$PageContent$btnContractPopupDiagnostico0\" value=\"M\u00e1s Detalles\" id=\"PageContent_btnContractPopupDiagnostico0\" class=\"btnPopup\" runat=\"server\"&gt;&lt;/div&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Here is a visual representation of the were I dont want the popup to expand.\n<a href=\"https://i.stack.imgur.com/mq9jX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mq9jX.png\" alt=\"button clicked\"></a></p>\n\n<p>The reason is when the user clicks on that button it redirects directly to the detailed page so there is no need to show the popup. The javascript I have tried with check prevents the button from redirecting. </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 2, "creation_date": 1564615322, "post_id": 57299956, "comment_id": 101093634, "body": "The comparison function provided is not consistent, so the output is implementation-defined. A consistent comparison function should have: for two elements being compared <code>a</code> and <code>b</code>, if <code>compareFn(a, b) &lt; 0</code> then also <code>compareFn(b, a) &gt; 0</code>, which is not the case here. A return value of 0 for the compare function indicates &quot;these two elements may as well be next to each other when sorted, in any order&quot; (which is contradictory for, when <code>(b, a)</code> is checked rather than <code>(a, b)</code>, a return value of 1 is supplied, which indicates that one should come before the other)"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1564615400, "post_id": 57299956, "comment_id": 101093646, "body": "<code>sort()</code> takes <i>two</i> arguments, so you&#39;re returning <code>0</code> for each, as in &quot;don&#39;t care about the order&quot;"}, {"owner": {"reputation": 2684, "user_id": 3171100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/457ebc3fdf64f6b24e968e3d6a1316db?s=128&d=identicon&r=PG", "display_name": "Chris Smith", "link": "https://stackoverflow.com/users/3171100/chris-smith"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1564615997, "post_id": 57299956, "comment_id": 101093757, "body": "@CertainPerformance Thanks, that answered my question. I suppose a proper implementation would be this: <code>[1, 2].sort((a, b) =&gt; a == 1 ? 1 : (b == 1 ? -1 : 0))</code>"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1564616051, "post_id": 57299956, "comment_id": 101093764, "body": "Sure, or to make things easier, just return the difference, eg <code>(a, b) =&gt; a - b</code> or <code>(a, b) =&gt; b - a</code>"}], "owner": {"reputation": 2684, "user_id": 3171100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/457ebc3fdf64f6b24e968e3d6a1316db?s=128&d=identicon&r=PG", "display_name": "Chris Smith", "link": "https://stackoverflow.com/users/3171100/chris-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1564615289, "answer_count": 0, "score": 0, "last_activity_date": 1564615162, "creation_date": 1564615162, "question_id": 57299956, "link": "https://stackoverflow.com/questions/57299956/why-does-this-sort-code-result-in-different-values-between-chrome-and-firefox", "closed_reason": "Duplicate", "title": "Why does this sort code result in different values between Chrome and Firefox?", "body": "<p>Given this code:</p>\n\n<pre><code>[1, 2].sort(a =&gt; a == 1 ? 1 : 0)\n</code></pre>\n\n<p>If I run it in Chromium (v75) I get <code>[1, 2]</code>. However, if I run the same code in Firefox (Nightly) I get <code>[2, 1]</code>.</p>\n\n<p>Similar differences exist between Node v10 (<code>[2, 1]</code>) and v12 (<code>[1, 2]</code>).</p>\n\n<p>Why is this?</p>\n"}, {"tags": ["javascript", "bootstrap-datepicker"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1564615474, "post_id": 57299894, "comment_id": 101093660, "body": "Why are you concatenating a single quote to the beginning of the date? That&#39;s not part of date syntax."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564615734, "post_id": 57299894, "comment_id": 101093706, "body": "The <code>for</code> loop is going outside the <code>between</code> array. The condition should be <code>i &lt; number</code>. Array indexes go from <code>0</code> to <code>number-1</code>, not <code>number+1</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1564615802, "post_id": 57299894, "comment_id": 101093718, "body": "Why are you splitting <code>str</code> on <code>-</code> characters and then putting it back together with the same delimiter? Why not just <code>return str</code>?"}, {"owner": {"reputation": 8235, "user_id": 1284760, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2f0d151197270b75a2c5e5bf6a2a6583?s=128&d=identicon&r=PG", "display_name": "see sharper", "link": "https://stackoverflow.com/users/1284760/see-sharper"}, "edited": false, "score": 1, "creation_date": 1564615973, "post_id": 57299894, "comment_id": 101093749, "body": "Well first of all, that is a very inefficient way to do what you want. Think about it. There are always 5 non-weekend days in a week (though to me, Saturday and Sunday are weekend days, not Friday and Saturday, but whatever). In working out how many working days there are between two dates, you only need to know how many full weeks the date range contains, and then work out whether or not you need to subtract some days based on the ends of the selected period being weekend days..."}], "owner": {"reputation": 17, "user_id": 10046797, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FiNbtghV9ck/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pHkjMxWUmCNE6uQGQYw3OYUeDGcQ/mo/photo.jpg?sz=128", "display_name": "Ziyad Mhmd", "link": "https://stackoverflow.com/users/10046797/ziyad-mhmd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1564617226, "creation_date": 1564614528, "last_edit_date": 1564617226, "question_id": 57299894, "link": "https://stackoverflow.com/questions/57299894/why-is-condition-not-working-when-i-select-more-than-10-days", "title": "Why is condition not working when I select more than 10 days?", "body": "<p>This is my code what i am trying is to make a datepicker to select number of days selected without Saturday and Friday it is working correctly but when I select more than one weekend (2 Friday or 2 sat) and the last day is weekend it escapes the last weekend like if day 30 is Saturday and i select from day 1 to day 30 it gives me 23 how ever if I select 1 to 28 it gives me 22.</p>\n\n<pre><code>var date = new Date();\nvar tomorrow = new Date();\ntomorrow.setDate(date.getDate() + 1);\n$('#picker').daterangepicker({\n  \"linkedCalendars\": true,\n  \"showCustomRangeLabel\": false,\n  \"startDate\": date.getDate(),\n  \"endDate\": tomorrow,\n  \"cancelClass\": \"btn-danger\",\n  \"minDate\": date.getDate(),\n  \"opens\": \"center\",\n  \"autoApply\": true\n}, function(start, end) {\n  function parseDate(str) {\n    var mdy = str.split('-');\n    var x = new Date(\"'\" + mdy[0] + \"-\" + mdy[1] + \"-\" + mdy[2]);\n    return x;\n  }\n  var between = [];\n\n  function datediff(first, second) {\n    var currentDate = new Date(first);\n    between = [];\n    while (currentDate &lt;= second) {\n      between.push(\"'\" + currentDate.getFullYear() + \"-\" + (currentDate.getMonth() + 1) + \"-\" + currentDate.getDate() + \"'\");\n      currentDate.setDate(currentDate.getDate() + 1);\n    }\n    //return Math.round((second-first)/(1000*60*60*24))+1;\n  }\n  datediff(parseDate(start.format('YYYY-MM-DD')), parseDate(end.format('YYYY-MM-DD')));\n  var s = \"\",\n    n = \"\",\n    fri = \"\",\n    sat = \"\",\n    i;\n  var number = between.length;\n\n  function getweekend() {\n    for (i = 0; i &lt;= number + 1; i++) {\n      s = new Date(between[i]);\n      n = s.getDay();\n      fri = (n === 5);\n      sat = (n === 6);\n      if (fri) {\n        console.log(\"fri\");\n        number = number - 1;\n        continue;\n      } else if (sat) {\n        console.log(\"sat\");\n        number = number - 1;\n        continue;\n      } else {\n        console.log(n);\n        continue;\n      }\n    }\n    console.log(\"after minus:\" + number);\n  }\n  console.log(\"plus minus:\" + number);\n  getweekend();\n});\n</code></pre>\n"}, {"tags": ["javascript", "angular", "rxjs", "angular-httpclient", "rxjs-observables"], "comments": [{"owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "edited": false, "score": 0, "creation_date": 1564614397, "post_id": 57299849, "comment_id": 101093446, "body": "what do you mean by &quot;debounce&quot; the function.. debouncing usually refers to putting a minimum time frame between successive function calls. Not clear what that would mean here as there seems to only be one function call."}, {"owner": {"reputation": 647, "user_id": 2779773, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/4acc51b185ad5b5efba0ad204f15e373?s=128&d=identicon&r=PG&f=1", "display_name": "lucifer63", "link": "https://stackoverflow.com/users/2779773/lucifer63"}, "edited": false, "score": 0, "creation_date": 1564615760, "post_id": 57299849, "comment_id": 101093708, "body": "Just put debounce on alertuser, what&#39;s the problem?"}], "answers": [{"tags": [], "owner": {"reputation": 21922, "user_id": 4855306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a6aabb85641845de100ab0b0b87463a?s=128&d=identicon&r=PG&f=1", "display_name": "bryan60", "link": "https://stackoverflow.com/users/4855306/bryan60"}, "is_accepted": false, "score": 0, "last_activity_date": 1564615566, "last_edit_date": 1564615566, "creation_date": 1564614922, "answer_id": 57299935, "question_id": 57299849, "link": "https://stackoverflow.com/questions/57299849/how-to-debounce-a-plain-function-call-without-lodash-inside-angular-httpclient/57299935#57299935", "title": "How to debounce a plain function call without &quot;lodash&quot; inside Angular httpClient errorCatch", "body": "<p>Not totally sure what you want... if you mean you want to delay the function for some reason, this is easy to do with <code>timer</code></p>\n\n<pre><code>return timer(1000).pipe( // 1000 ms delay\n  tap(t =&gt; alertUser(err)), // call this in tap\n  switchMapTo(throwError(err)) // then throw the error again\n);\n</code></pre>\n\n<p>if you truly want to debounce it with rxjs, and ensure it's only run every x number of seconds, you'll need to add in a subject to use, supposing you had some AlertService like:</p>\n\n<pre><code>private alertSource = new Subject();\nalert$ = this.alertSource.pipe(debounceTime(1000)); //debounce the subject\nconstructor() {\n  this.alert$.subscribe(err =&gt; alert(err)); // subscribe to it\n}\n\nalertUser(err) {\n  this.alertSource.next(err); // send through subject\n}\n</code></pre>\n\n<p>then just call your alert services alertUser function as needed.</p>\n"}], "owner": {"reputation": 207, "user_id": 1546005, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/c2ad1f971c9a03fe4790c564bebd11a5?s=128&d=identicon&r=PG", "display_name": "snakepitbean", "link": "https://stackoverflow.com/users/1546005/snakepitbean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564615566, "creation_date": 1564614189, "question_id": 57299849, "link": "https://stackoverflow.com/questions/57299849/how-to-debounce-a-plain-function-call-without-lodash-inside-angular-httpclient", "title": "How to debounce a plain function call without &quot;lodash&quot; inside Angular httpClient errorCatch", "body": "<p>I have a function that gets called inside Angular HttpClient catchError. I want to debounce the call to the function <strong>without using Lodash</strong>.\nCannot use <strong>debounceTime</strong> here since the function is not a subject. \nIs there a ES5/ES6 equivalent?</p>\n\n<pre><code>this.http.get(`api/test`)\n  .pipe(\n    catchError((err) =&gt; {\n      alertUser(err); // Option 1 - debounce here \n      return throwError(err);\n    }),\n  );\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>alertUser(err) {\n  alert(err.text); // Option 2 - debounce here\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript", "filter"], "comments": [{"owner": {"reputation": 1173, "user_id": 7881234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6cb0dea4bda1e3667ef29d6e878d273?s=128&d=identicon&r=PG&f=1", "display_name": "doobean", "link": "https://stackoverflow.com/users/7881234/doobean"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1564614939, "post_id": 57299831, "comment_id": 101093560, "body": "@CertainPerformance oh I&#39;m going to edit the question. It was supposed to be an object. But feel free to suggest a better structure if you have an idea. Thanks for the comment."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1564615059, "post_id": 57299831, "comment_id": 101093579, "body": "Yep, an object is probably the most easily understandable structure, that&#39;s the sort of thing I&#39;d do as well."}], "answers": [{"comments": [{"owner": {"reputation": 1173, "user_id": 7881234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6cb0dea4bda1e3667ef29d6e878d273?s=128&d=identicon&r=PG&f=1", "display_name": "doobean", "link": "https://stackoverflow.com/users/7881234/doobean"}, "edited": false, "score": 0, "creation_date": 1564630714, "post_id": 57299921, "comment_id": 101096302, "body": "It works wonderfully, thank you so much. But could you briefly explain the block of code where occurrencesOfId variable is? I am trying to understand how does that reduce function works there. Thank you."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 1173, "user_id": 7881234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6cb0dea4bda1e3667ef29d6e878d273?s=128&d=identicon&r=PG&f=1", "display_name": "doobean", "link": "https://stackoverflow.com/users/7881234/doobean"}, "edited": false, "score": 1, "creation_date": 1564641072, "post_id": 57299921, "comment_id": 101098985, "body": "It&#39;s an object indexed by <code>id</code>, whose values are the number of occurrences of each ID. Eg, for <code>A</code>, it&#39;s <code>{ 0: 2, 1: 1 }</code>. For <code>C</code>, it&#39;s <code>{ 2: 3 }</code>. The <code>(a[id] || 0)</code> looks up the existing count-in-progress for that ID on the accumulator, and if it doesn&#39;t exist, resolves to 0 instead. Then, 1 is added to the whole expression, and assigned back to the accumulator. It&#39;s a pretty common pattern <a href=\"https://www.google.com/search?q=how+to+count+up+occurrences+into+object+reduce+javascript+stackoverflow+site:stackoverflow.com\" rel=\"nofollow noreferrer\">google.com/&hellip;</a>"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 3, "last_activity_date": 1564640402, "last_edit_date": 1564640402, "creation_date": 1564614854, "answer_id": 57299921, "question_id": 57299831, "link": "https://stackoverflow.com/questions/57299831/filtering-the-complicated-data-in-an-array-and-return-a-new-one/57299921#57299921", "title": "Filtering the complicated data in an array and return a new one", "body": "<p>Assuming that your output <code>accounts</code> property is meant to be an object:</p>\n\n<p>I'd split the problem into chunks first. If you can figure out a way to transform an individual <code>accounts</code> array into the desired output structure, you're most of the way there (and the rest is just a simple <code>.map</code>). So, we just need to turn</p>\n\n<pre><code>[{id: 0, data: {}}, {id: 1, data: {}}, {id: 0, data: {}}]\n</code></pre>\n\n<p>into</p>\n\n<pre><code>{joint: [{id: 0, data: {}}, {id: 0, data: {}}], individual: [{id: 1, data: {}}]}\n</code></pre>\n\n<p>One option is to iterate over the input objects, and just count up the number of occurrences of each id. Then, once you have a count, just iterate over the input objects again, looking up the count for each one. If the count is 1, push it to an <code>individual</code> array, else push it to a <code>joint</code> array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  { name: 'A', accounts: [{id: 0, data: {}}, {id: 1, data: {}}, {id: 0, data: {}}]},\r\n  { name: 'B', accounts: [{id: 0, data: {}}, {id: 1, data: {}}]},\r\n  { name: 'C', accounts: [{id: 2, data: {}}, {id: 2, data: {}}, {id: 2, data: {}}]},\r\n];\r\n\r\nconst transformAccounts = (inputAccounts) =&gt; {\r\n  const occurrencesOfId = inputAccounts.reduce((a, { id }) =&gt; {\r\n    a[id] = (a[id] || 0) + 1;\r\n    return a;\r\n  }, {});\r\n  const joint = [];\r\n  const individual = [];\r\n  inputAccounts.forEach((obj) =&gt; {\r\n    if (occurrencesOfId[obj.id] &gt; 1) {\r\n      joint.push(obj);\r\n    } else {\r\n      individual.push(obj);\r\n    }\r\n  });\r\n  return { joint, individual };\r\n};\r\n\r\nconst output = arr.map(({ name, accounts }) =&gt; ({\r\n  name,\r\n  accounts: transformAccounts(accounts)\r\n}));\r\nconsole.log(output);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1061, "user_id": 9196467, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hNr2MsW0o_M/AAAAAAAAAAI/AAAAAAAAAAk/yQ0PJK_IojU/photo.jpg?sz=128", "display_name": "Sampson Crowley", "link": "https://stackoverflow.com/users/9196467/sampson-crowley"}, "edited": false, "score": 0, "creation_date": 1564616636, "post_id": 57299990, "comment_id": 101093887, "body": "While this code may work for the question, It is better to provide <b><i>why</i></b> this answers the question. this is a site built on <b>learning</b>, not just wring code for other people"}], "tags": [], "owner": {"reputation": 1, "user_id": 11866445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb8a4f18ce0c253b0a0d5470a3578dcc?s=128&d=identicon&r=PG", "display_name": "OrangeJedi", "link": "https://stackoverflow.com/users/11866445/orangejedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1564615389, "creation_date": 1564615389, "answer_id": 57299990, "question_id": 57299831, "link": "https://stackoverflow.com/questions/57299831/filtering-the-complicated-data-in-an-array-and-return-a-new-one/57299990#57299990", "title": "Filtering the complicated data in an array and return a new one", "body": "<p>I tried this out and it worked:</p>\n\n<pre><code>const arr = [\n    { name: 'A', accounts: [{id: 0, data: {}}, {id: 1, data: {}}, {id: 0, data: {}}]},\n    { name: 'B', accounts: [{id: 0, data: {}}, {id: 1, data: {}}]},\n    { name: 'C', accounts: [{id: 2, data: {}}, {id: 2, data: {}}, {id: 2, data: {}}]},\n];\n\n\nlet newArr = [];\nfor(let i = 0;i &lt; arr.length;i++){\n    let join = [];\n    let individual = [];\n    for(let j = 0;j&lt;arr[i].accounts.length;j++){\n        console.log(idInArrayCount(arr[i].accounts,arr[i].accounts[j].id));\n        if(idInArrayCount(arr[i].accounts,arr[i].accounts[j].id) &gt; 1){\n            join.push(arr[i].accounts[j]);\n        }else{\n            individual.push(arr[i].accounts[j]);\n        }\n    }\n    newArr.push({\n        \"name\" : arr[i].name,\n        accounts : {\n            \"join\" : join,\n            \"individual\" : individual\n        }\n    });\n    function idInArrayCount(array,ID){\n        let count = 0;\n        for(let i = 0;i &lt; array.length;i++){\n            if(array[i].id === ID){\n                count++;\n            }\n        }\n        return count;\n    }\n}\nconsole.log(newArr);\n</code></pre>\n\n<p>The variable  <code>newArr</code> contains the wanted value.</p>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 8672473, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gO4c9y23pIM/AAAAAAAAAAI/AAAAAAAAHOI/vX-gzoV0O8E/photo.jpg?sz=128", "display_name": "user8672473", "link": "https://stackoverflow.com/users/8672473/user8672473"}, "is_accepted": false, "score": 1, "last_activity_date": 1564619100, "creation_date": 1564619100, "answer_id": 57300391, "question_id": 57299831, "link": "https://stackoverflow.com/questions/57299831/filtering-the-complicated-data-in-an-array-and-return-a-new-one/57300391#57300391", "title": "Filtering the complicated data in an array and return a new one", "body": "<p>Uses really similar logic as above answer, just the code is little different, it might help you better understand how you can work with data.</p>\n\n<p>So first step is that you must create some sort of table of occurrences.\nThen based on that sort the accounts between joint and individual. \nYou did not specify if you want to merge the data or they are just duplicates.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n    { name: 'A', accounts: [{id: 0, data: {}}, {id: 1, data: {}}, {id: 0, data: {}}]},\r\n    { name: 'B', accounts: [{id: 0, data: {}}, {id: 1, data: {}}]},\r\n    { name: 'C', accounts: [{id: 2, data: {}}, {id: 2, data: {}}, {id: 2, data: {}}]},\r\n];\r\n\r\nlet newArray = arr.map( value =&gt; {\r\n    let accounts = {\r\n        joint: [],\r\n        individual: [],\r\n    };\r\n    let table = {};\r\n    \r\n    for ( let acc of value.accounts ) {\r\n        if ( table.hasOwnProperty(acc.id) ) {\r\n            table[acc.id] += 1;\r\n        } else {\r\n            table[acc.id] = 1;\r\n        }\r\n    }\r\n\r\n    let finder = id =&gt; a =&gt; a.id === Number(id);\r\n\r\n    for ( let id in table ) {\r\n        let f = finder(id);\r\n        let account = value.accounts.find( f );\r\n        if (table[id] === 1) {\r\n            accounts.individual.push( account );\r\n        } else {\r\n            accounts.joint.push( account );\r\n        }\r\n    }\r\n\r\n    return {\r\n        ...value,\r\n        accounts\r\n    }\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1173, "user_id": 7881234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6cb0dea4bda1e3667ef29d6e878d273?s=128&d=identicon&r=PG&f=1", "display_name": "doobean", "link": "https://stackoverflow.com/users/7881234/doobean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 57299921, "answer_count": 3, "score": 1, "last_activity_date": 1564640402, "creation_date": 1564614101, "last_edit_date": 1564615137, "question_id": 57299831, "link": "https://stackoverflow.com/questions/57299831/filtering-the-complicated-data-in-an-array-and-return-a-new-one", "title": "Filtering the complicated data in an array and return a new one", "body": "<p>I have an array like this :</p>\n\n<pre><code>const arr = [\n              { name: 'A', accounts: [{id: 0, data: {}}, {id: 1, data: {}}, {id: 0, data: {}}]},\n              { name: 'B', accounts: [{id: 0, data: {}}, {id: 1, data: {}}]},\n              { name: 'C', accounts: [{id: 2, data: {}}, {id: 2, data: {}}, {id: 2, data: {}}]},\n];\n\n</code></pre>\n\n<p>and I would like to modify this array like this :</p>\n\n<pre><code>const arr = [\n              { name: 'A', accounts: {joint: [{id: 0, data: {}}, {id: 0, data: {}}], individual: [{id: 1, data: {}}]}},\n              { name: 'B', accounts: {joint: [], individual: [{id: 0, data: {}}, {id: 1, data: {}}]}},\n              { name: 'C', accounts: {joint: [{id: 2, data: {}}, {id: 2, data: {}}, {id: 2, data: {}}], individual: []}},\n];\n</code></pre>\n\n<p>which means, putting the same accounts id in an joint and non repeated id object in an individual.</p>\n\n<p>This is how I tried :</p>\n\n<pre><code>              for (let i = 0; i &lt; arr.length - 1; i++) {\n                const compareValue = test[standard].id;\n                if (compareValue === test[i].id) {\n                   joint.push(test[i]);\n                }\n                standard++;\n            }\n            if (joint.length &gt; 0) {\n                if (joint.filter(account =&gt; account.id === test[standard].id).length &gt; 0) {\n                    joint.push(test[standard]);\n                } else {\n                    individual.push(test[standard]);\n                }\n            }\n            if (joint.length === 1) {\n                const item = joint[0];\n                individual.push(item);\n                joint.pop();\n            }\n        } else {\n            individual.push(test[0]);\n        }\n</code></pre>\n\n<p>Could you help me to figure out what i have missed?\nThanks.</p>\n"}, {"tags": ["javascript", "arrays", "typescript", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 2, "last_activity_date": 1564614147, "creation_date": 1564614147, "answer_id": 57299840, "question_id": 57299813, "link": "https://stackoverflow.com/questions/57299813/filtering-the-data-in-an-array-and-return-the-adjusted-array/57299840#57299840", "title": "Filtering the data in an array and return the adjusted array", "body": "<p>You're unconditionally reassigning a <code>name</code>'s accumulator property on every iteration.</p>\n\n<p>To fix that, and to avoid mutating the input, create a new array for the name if it doesn't exist yet, and then push to it. Then transform it back into an array of objects by mapping its <code>Object.entries</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  { name: 'A', accounts: ['a', 'b']},\r\n  { name: 'B', accounts: ['c', 'd']},\r\n  { name: 'C', accounts: ['e', 'f']},\r\n  { name: 'A', accounts: ['g', 'h']},\r\n  { name: 'B', accounts: ['i', 'j']}\r\n];\r\n\r\nconst groupedObj = arr.reduce((a, { name, accounts }) =&gt; {\r\n  if (!a[name]) {\r\n    a[name] = [];\r\n  }\r\n  a[name].push(...accounts);\r\n  return a;\r\n}, {});\r\nconst grouped = Object.entries(groupedObj)\r\n  .map(([name, accounts]) =&gt; ({ name, accounts }));\r\n\r\nconsole.log(grouped);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4173, "user_id": 7428434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1348497625208827/picture?type=large", "display_name": "Shanon Jackson", "link": "https://stackoverflow.com/users/7428434/shanon-jackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1564623074, "last_edit_date": 1564623074, "creation_date": 1564615407, "answer_id": 57299994, "question_id": 57299813, "link": "https://stackoverflow.com/questions/57299813/filtering-the-data-in-an-array-and-return-the-adjusted-array/57299994#57299994", "title": "Filtering the data in an array and return the adjusted array", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    const data = [\r\n                  { name: 'A', accounts: [\"a\", \"b\"]},\r\n                  { name: 'B', accounts: [\"c\", \"d\"]},\r\n                  { name: 'C', accounts: [\"e\", \"f\"]},\r\n                  { name: 'A', accounts: [\"g\", \"h\"]},\r\n                  { name: 'B', accounts: [\"i\", \"j\"]}\r\n    ];\r\n    \r\n    \r\n    const newData = data.reduce((accum, curr, i) =&gt; {\r\n        const atIndex = accum.findIndex((entry) =&gt; entry.name === curr.name);\r\n        if(i !== atIndex &amp;&amp; atIndex !== -1) {\r\n            const mergedAccounts = accum[atIndex].accounts.concat(curr.accounts);\r\n            return Object.assign([], accum, {[atIndex]: {...accum[atIndex], accounts: mergedAccounts}})\r\n        }\r\n        return accum.concat(curr);\r\n    }, []);\r\n    \r\n    console.log(newData);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It's really just a Merge/De-Dupe in 1 loop</p>\n"}], "owner": {"reputation": 1173, "user_id": 7881234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6cb0dea4bda1e3667ef29d6e878d273?s=128&d=identicon&r=PG&f=1", "display_name": "doobean", "link": "https://stackoverflow.com/users/7881234/doobean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 57299840, "answer_count": 2, "score": 0, "last_activity_date": 1564623074, "creation_date": 1564613884, "question_id": 57299813, "link": "https://stackoverflow.com/questions/57299813/filtering-the-data-in-an-array-and-return-the-adjusted-array", "title": "Filtering the data in an array and return the adjusted array", "body": "<p>I have an array like this :</p>\n\n<pre><code>const arr = [\n              { name: 'A', accounts: [a, b]},\n              { name: 'B', accounts: [c, d]},\n              { name: 'C', accounts: [e, f]},\n              { name: 'A', accounts: [g, h]},\n              { name: 'B', accounts: [i, j]}\n];\n\n</code></pre>\n\n<p>and I would like to modify this array like this :</p>\n\n<pre><code>const arr = [\n              { name: 'A', accounts: [a, b, g, h]},\n              { name: 'B', accounts: [c, d, i, j]},\n              { name: 'C', accounts: [e, f]}\n]\n</code></pre>\n\n<p>which means combining the account items with the object has same name.</p>\n\n<p>This is how I tried :</p>\n\n<pre><code>returnGroupedArr = (arr) =&gt; {\n              const result = arr.reduce((f, s) =&gt; {\n                           f[s.name] = s[f.name];\n                           f[s.name].push(s);\n                           return f;\n              }\n}\n</code></pre>\n\n<p>Could you help me to figure out what i have missed?\nThanks.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1564614243, "post_id": 57299790, "comment_id": 101093404, "body": "You&#39;ll need to use some sort of browser storage to track if the JS has been run/advert viewed. Most commonly that would be a cookie.. See here: <a href=\"https://stackoverflow.com/questions/4825683/how-do-i-create-and-read-a-value-from-cookie\" title=\"how do i create and read a value from cookie\">stackoverflow.com/questions/4825683/&hellip;</a>"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1564615450, "post_id": 57299790, "comment_id": 101093653, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29986657/persist-variables-between-page-loads\">Persist variables between page loads</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11866268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nu9mInYYGUE/AAAAAAAAAAI/AAAAAAAAAA8/ApRaUw30jRM/photo.jpg?sz=128", "display_name": "Instant Raptors", "link": "https://stackoverflow.com/users/11866268/instant-raptors"}, "is_accepted": false, "score": 1, "last_activity_date": 1564614307, "creation_date": 1564614307, "answer_id": 57299868, "question_id": 57299790, "link": "https://stackoverflow.com/questions/57299790/load-javascript-only-once-even-after-reloading-page/57299868#57299868", "title": "Load javascript only once, even after reloading page", "body": "<p>This may be a job for a cookie :} <a href=\"https://www.tutorialspoint.com/javascript/javascript_cookies\" rel=\"nofollow noreferrer\">This obligatory tutorialpoint link</a> may be able to help you out try something like:</p>\n\n<pre><code>function showAd(){\n    **if(!document.cookie){**\n        var adShownTel = false;\n        **document.cookie = \"visited\";**\n        jQuery(window).scroll(function() {\n            var currentScroll = jQuery(window).scrollTop();\n            if (currentScroll &gt; 1600 &amp;&amp; !adShownTel) {    \n                var screenWidth = jQuery( document ).width();\n                    adShownTel = true;\n                    var $bannTel = jQuery(\"&lt;div&gt;\", {id: \"sticky_banner_tel_UTM\", \"class\":\"sticky_banner_tel_UTM\"});\n                    if(sssp.displaySeznamAds()) {\n                        if(screenWidth &lt; 737){\n                        $bannTel.append('&lt;div style=\"display:inline-block;\"&gt;&lt;div id=\"ssp-zone-97408\"&gt;&lt;/div&gt;&lt;script&gt;sssp.getAds([{\"zoneId\": 97408, \"id\": \"ssp-zone-97408\",\"width\": 320,\"height\": 100}]);&lt;/script&gt;&lt;/div&gt;');\n                    }\n                    var $bannElClose = jQuery(\"&lt;div&gt;\", {id: \"sticky_banner_close\", \"class\": \"sticky_banner_close\"});\n                    $bannElClose.append('&lt;span&gt;Zav\u0159\u00edt reklamu&lt;/span&gt;');\n                    $bannElClose.click(function(){\n                        if(screenWidth &lt; 737){\n                            $bannTel.slideToggle(\"slow\");\n                        }\n                    });\n                        if(screenWidth &lt; 737){\n                            $bannTel.append($bannElClose);\n                            jQuery('body').append($bannTel);\n                        }\n                }\n            }\n        });\n    }\n    }\n    jQuery(document).ready(function(){  \n        showAd();\n    });\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}, {"comments": [{"owner": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1564616496, "post_id": 57299877, "comment_id": 101093858, "body": "<code>Boolean</code> won&#39;t work as expected here as <code>Boolean(&quot;false&quot;);</code> will return <code>true</code>, not <code>false</code>"}, {"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "reply_to_user": {"reputation": 30872, "user_id": 5648954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14063c1678fb488df9da599458b0aef1?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Parsons", "link": "https://stackoverflow.com/users/5648954/nick-parsons"}, "edited": false, "score": 0, "creation_date": 1564664996, "post_id": 57299877, "comment_id": 101111837, "body": "@NickParsons In this example <code>window.localStorage.getItem(&#39;adShownTel&#39;)</code> will never be <code>false</code>. It will be <code>null</code> though and <code>Boolean(null) === false</code>"}], "tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1564614351, "creation_date": 1564614351, "answer_id": 57299877, "question_id": 57299790, "link": "https://stackoverflow.com/questions/57299790/load-javascript-only-once-even-after-reloading-page/57299877#57299877", "title": "Load javascript only once, even after reloading page", "body": "<p>You could use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/cookie\" rel=\"nofollow noreferrer\">cookie</a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">local storage</a>. Something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function showAd(){\n        ...\n        adShownTel = true;\n        window.localStorage.setItem('adShownTel', true)\n        ...\n}\n\njQuery(document).ready(function(){  \n        if (Boolean(window.localStorage.getItem('adShownTel'))) {\n                showAd();\n        }\n});\n</code></pre>\n\n<p>But if you're not comfortable with these things then maybe it would be better to try to find a library rather than implementing this functionality yourself.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 1, "user_id": 11866389, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cbaf386641c115cece29478d90ed74d?s=128&d=identicon&r=PG&f=1", "display_name": "Vaclav Kotesovec", "link": "https://stackoverflow.com/users/11866389/vaclav-kotesovec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1564614351, "creation_date": 1564613613, "question_id": 57299790, "link": "https://stackoverflow.com/questions/57299790/load-javascript-only-once-even-after-reloading-page", "title": "Load javascript only once, even after reloading page", "body": "<p>I have a wordpress page and I need to edit my JS function to load only one, even if I click to reload page or go to another post. Is it possible to avoid rerun of function with page reloading?</p>\n\n<pre><code>function showAd(){\n        var adShownTel = false;\n        jQuery(window).scroll(function() {\n            var currentScroll = jQuery(window).scrollTop();\n            if (currentScroll &gt; 1600 &amp;&amp; !adShownTel) { \u00a0 \u00a0\n                var screenWidth = jQuery( document ).width();\n                    adShownTel = true;\n                 \u00a0 \u00a0var $bannTel = jQuery(\"&lt;div&gt;\", {id: \"sticky_banner_tel_UTM\", \"class\":\"sticky_banner_tel_UTM\"});\n                    if(sssp.displaySeznamAds()) {\n                        if(screenWidth &lt; 737){\n                        $bannTel.append('&lt;div style=\"display:inline-block;\"&gt;&lt;div id=\"ssp-zone-97408\"&gt;&lt;/div&gt;&lt;script&gt;sssp.getAds([{\"zoneId\": 97408, \"id\": \"ssp-zone-97408\",\"width\": 320,\"height\": 100}]);&lt;/script&gt;&lt;/div&gt;');\n                    }\n                    var $bannElClose = jQuery(\"&lt;div&gt;\", {id: \"sticky_banner_close\", \"class\": \"sticky_banner_close\"});\n                    $bannElClose.append('&lt;span&gt;Zav\u0159\u00edt reklamu&lt;/span&gt;');\n                    $bannElClose.click(function(){\n                        if(screenWidth &lt; 737){\n                            $bannTel.slideToggle(\"slow\");\n                        }\n                    });\n                        if(screenWidth &lt; 737){\n                            $bannTel.append($bannElClose);\n                            jQuery('body').append($bannTel);\n                        }\n                }\n            }\n        });\n    }\n    jQuery(document).ready(function(){  \n        showAd();\n    });\n</code></pre>\n"}, {"tags": ["javascript", "html", "file", "firefox-addon-webextensions"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564615569, "post_id": 57299784, "comment_id": 101093681, "body": "If you use a template literal, i.e. <code>`&lt;html&gt;here&lt;&#47;html&gt;`</code> you won&#39;t have to mess around with special characters."}], "answers": [{"tags": [], "owner": {"reputation": 4917, "user_id": 3529456, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TBpkz.png?s=128&g=1", "display_name": "erosman", "link": "https://stackoverflow.com/users/3529456/erosman"}, "is_accepted": false, "score": 0, "last_activity_date": 1564753179, "last_edit_date": 1564753179, "creation_date": 1564640652, "answer_id": 57302921, "question_id": 57299784, "link": "https://stackoverflow.com/questions/57299784/webextension-insert-html-file-content-in-web-page-content/57302921#57302921", "title": "Webextension - Insert HTML file content in web page content", "body": "<p>Here are some options:</p>\n\n<ul>\n<li><p>You can create the local HTML file, then read it with <code>new FileReader()</code> or <code>XMLHttpRequest()</code> or <code>fetch()</code> (probably the easiest) then convert to DOM with <code>new DOMParser().parseFromString(str, 'text/html')</code> </p></li>\n<li><p>You can also keep the HTML in a string in the js file and then convert to DOM with <code>new DOMParser().parseFromString(str, 'text/html')</code> </p></li>\n<li><p><strong>I have NOT tested this</strong> (I never use bg HTML). You add a <code>background.html</code> and load <code>background.js</code> from it. Then having your DOM there, you can get it from bg script</p></li>\n</ul>\n\n<p>However, if you want to programmatically inject the DOM, all above methods require <code>tabs.executeScript()</code> which requires strings and then it has to be converted to DOM in content.</p>\n\n<p>PS. I would advise not using <code>innerHTML</code> (or JQuery <code>.html()</code>) for string to DOM conversion.</p>\n"}], "owner": {"reputation": 21816, "user_id": 499417, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4926053f9238c44da0ea8dc27ce113ba?s=128&d=identicon&r=PG", "display_name": "Oliver", "link": "https://stackoverflow.com/users/499417/oliver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564753179, "creation_date": 1564613571, "question_id": 57299784, "link": "https://stackoverflow.com/questions/57299784/webextension-insert-html-file-content-in-web-page-content", "title": "Webextension - Insert HTML file content in web page content", "body": "<p>I'm starting to port a script to a Firefox WebExtension. I'd like to insert into the currently displayed web page some HTML content, that I would like to store into a separate \"local\" .html file (so I don't have to rewrite it into an \"impossible to debug\" javascript variable, with all the special characters that comes with this kind of rewrite).</p>\n\n<p>Is this possible, and if it is, how can I achieve loading the .html file content into a variable that I can reuse in the code to insert its content in the code ?</p>\n\n<p>As a comparison, I think about the include statement in PHP that does about what I'd want to do here into the Webextension.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "perfect-scrollbar"], "comments": [{"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1564615123, "post_id": 57299782, "comment_id": 101093588, "body": "You have spaces between attribute and values. Try <code>&lt;p contenteditable=&quot;true&quot; id=&quot;expand&quot; class=&quot;editable&quot;&gt;&lt;&#47;p&gt;</code> without the spaces?"}, {"owner": {"reputation": 203, "user_id": 11769090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb45aab61b40ec221ad590a73332914?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanga", "link": "https://stackoverflow.com/users/11769090/priyanga"}, "reply_to_user": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1564615296, "post_id": 57299782, "comment_id": 101093625, "body": "It&#39;s my typing mistake. Sorry it was correct in my code."}], "owner": {"reputation": 203, "user_id": 11769090, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fb45aab61b40ec221ad590a73332914?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanga", "link": "https://stackoverflow.com/users/11769090/priyanga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1564613902, "creation_date": 1564613563, "last_edit_date": 1564613902, "question_id": 57299782, "link": "https://stackoverflow.com/questions/57299782/expandable-p-tag-does-not-expands-as-expecting-manner-while-copy-pasting-the-con", "title": "Expandable p tag does not expands as expecting manner while copy pasting the content", "body": "<p>I have a contenteditable p tag which expands til a particular height and then it will have a scrollbar. When copy pasting the content inside that expandable p tag it does not expand or sometimes it will expands beyond the height limit.</p>\n\n<p>HTML:</p>\n\n<p><code>&lt;p contenteditable = true id = \"expand\" class = \"editable\"&gt;</code></p>\n\n<p>CSS:</p>\n\n<pre><code>     .editable{\n         min-height: 60px;\n         ...\n     }\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1564614081, "post_id": 57299771, "comment_id": 101093378, "body": "You should just run <code>findParticipant(match)</code> on load and then keep the result in a new property on match. <code>match.participant = findParticipant(match)</code> then you can just use <code>{{ match.participant.championId }}</code> edit - added an answer."}, {"owner": {"reputation": 39638, "user_id": 8690857, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-47_HcdolAr0/AAAAAAAAAAI/AAAAAAAAB30/lD6xAXOWlu4/photo.jpg?sz=128", "display_name": "Drew Reese", "link": "https://stackoverflow.com/users/8690857/drew-reese"}, "edited": false, "score": 0, "creation_date": 1564614087, "post_id": 57299771, "comment_id": 101093380, "body": "I&#39;m not versed in Vue, but can you do an inner loop over some lookup keys? <code>&lt;div v-for=&quot;key in [&#39;championId&#39;, &#39;spell1Id&#39;, ...]&#39;&gt;{{ findParticipant(match)[key] }}&lt;&#47;div&gt;</code>?"}, {"owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "reply_to_user": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1564614395, "post_id": 57299771, "comment_id": 101093443, "body": "@Zze So you mean that when the component is loaded, I should loop once through all matches and create a new property for each match that is equal to the result from the findParticipant() function?"}, {"owner": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "reply_to_user": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1564614611, "post_id": 57299771, "comment_id": 101093489, "body": "@Zze Is right. Use a <code>computed</code> property that stores all participants in an array. Then you can loop over participants directly instead."}, {"owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "reply_to_user": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "edited": false, "score": 0, "creation_date": 1564614721, "post_id": 57299771, "comment_id": 101093517, "body": "@HusamIbrahim Can you provide some sort of example please so I can get a clearer picture?"}, {"owner": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "edited": false, "score": 0, "creation_date": 1564614818, "post_id": 57299771, "comment_id": 101093538, "body": "Okay I&#39;ll post an answer shortly."}], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 6103905, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/W23kI.jpg?s=128&g=1", "display_name": "Vitorlui", "link": "https://stackoverflow.com/users/6103905/vitorlui"}, "is_accepted": false, "score": 1, "last_activity_date": 1564614258, "creation_date": 1564614258, "answer_id": 57299858, "question_id": 57299771, "link": "https://stackoverflow.com/questions/57299771/i-have-a-function-inside-a-loop-that-takes-the-currently-looped-match-and-return/57299858#57299858", "title": "I have a function inside a loop that takes the currently looped match and returns a participant with certain name. How to avoid duplication?", "body": "<p>You should do a loop of a object list already loaded with the \"participant\" information.</p>\n\n<p>I'm typing from my mobile, let's see if It is possible to explain..</p>\n\n<p>Best approach would be do a query in the back end filtering and loading the object participants whitout duplication. The view should only print things, don't do any processing... </p>\n\n<p>If you only don't want duplicate the div you could create the divs using the IDs of \"participant\" in the property ID, in this way you would avoid to create new ones just checking if it already exists in the HTML page...  </p>\n"}, {"comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 1, "creation_date": 1564615438, "post_id": 57299952, "comment_id": 101093651, "body": "I&#39;m not really versed in Vue, so I am going to delete my answer as it looks like this is the way to go &amp; is the same as mine. Nice."}], "tags": [], "owner": {"reputation": 5795, "user_id": 10341614, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jsGfY.jpg?s=128&g=1", "display_name": "Husam Ibrahim", "link": "https://stackoverflow.com/users/10341614/husam-ibrahim"}, "is_accepted": true, "score": 3, "last_activity_date": 1564615127, "creation_date": 1564615127, "answer_id": 57299952, "question_id": 57299771, "link": "https://stackoverflow.com/questions/57299771/i-have-a-function-inside-a-loop-that-takes-the-currently-looped-match-and-return/57299952#57299952", "title": "I have a function inside a loop that takes the currently looped match and returns a participant with certain name. How to avoid duplication?", "body": "<p>Use a <code>computed</code> property that stores all participants in an array. For example ..</p>\n\n<pre><code>data() {\n...\n},\ncomputed: {\n    participants() {\n        return this.summonerMatches.matches.map(match =&gt; this.findParticipant(match))\n    }\n}\n</code></pre>\n\n<p>Then in your template you can loop over the <code>participants</code> instead ..</p>\n\n<pre><code>&lt;div v-for=\"participant in participants\"&gt;\n    {{ participant.championId }}\n    {{ participant.spell1Id }}\n    {{ participant.spell12d }}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 57299952, "answer_count": 2, "score": 3, "last_activity_date": 1564615127, "creation_date": 1564613486, "last_edit_date": 1564613825, "question_id": 57299771, "link": "https://stackoverflow.com/questions/57299771/i-have-a-function-inside-a-loop-that-takes-the-currently-looped-match-and-return", "title": "I have a function inside a loop that takes the currently looped match and returns a participant with certain name. How to avoid duplication?", "body": "<p>Couldn't fit my entire question in the title so I'll add it here as well. </p>\n\n<p>I currently have a loop that creates a div element for each match and in that div I want to display the information of ONE of the 10 match participants. For this, I use a function that returns the object of a participant with a certain name. However, as you can see below, every time I want to access a property of that participant, I have to use the function again and again for each property.</p>\n\n<p>I don't think that is the right course of action right? I'm using Vue.js as a front-end framework.</p>\n\n<p>Currently I have the following code:</p>\n\n<p>Loop:</p>\n\n<pre><code>&lt;div v-for='match in summonerMatches.matches'&gt;\n    {{ findParticipant(match).championId }}\n    {{ findParticipant(match).spell1Id }}\n    {{ findParticipant(match).spell12d }}\n&lt;/div&gt;\n</code></pre>\n\n<p>Function:</p>\n\n<pre><code>findParticipant(match){\n    let participantId = match.details.participantIdentities.find(x =&gt; x.player.summonerName === this.summonerInfo.name).participantId;\n    let participant = match.details.participants.find(x =&gt; x.participantId === participantId)\n\n    return participant\n}\n</code></pre>\n\n<p>Obviously if this function wasn't in a loop, I'd just save the participant object and then access it, however, since it's inside a loop I've no idea how this would happen.</p>\n"}, {"tags": ["javascript", "gulp"], "answers": [{"tags": [], "owner": {"reputation": 397, "user_id": 3272852, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c87a508872d5d97e9304a6352b3e38e7?s=128&d=identicon&r=PG&f=1", "display_name": "alireza.salemian", "link": "https://stackoverflow.com/users/3272852/alireza-salemian"}, "is_accepted": false, "score": 1, "last_activity_date": 1564613937, "creation_date": 1564613937, "answer_id": 57299816, "question_id": 57299743, "link": "https://stackoverflow.com/questions/57299743/get-gulp-version-in-gulpfile/57299816#57299816", "title": "get gulp version in gulpfile", "body": "<p>You can read package.json and find gulp version</p>\n\n<pre><code>const pkgJson = fs.readFileSync('./package.json', { encoding: 'utf8' });\nconst pkg = JSON.parse(pkgJson);\nconst gulpVersion = pkg['devDependencies']['gulp'];\n</code></pre>\n\n<p>It may not be the best solution, but you can quickly determine the gulp version.</p>\n"}, {"tags": [], "owner": {"reputation": 662, "user_id": 11725460, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCnBJ.jpg?s=128&g=1", "display_name": "avgJoe", "link": "https://stackoverflow.com/users/11725460/avgjoe"}, "is_accepted": true, "score": 2, "last_activity_date": 1564699334, "last_edit_date": 1564699334, "creation_date": 1564614192, "answer_id": 57299850, "question_id": 57299743, "link": "https://stackoverflow.com/questions/57299743/get-gulp-version-in-gulpfile/57299850#57299850", "title": "get gulp version in gulpfile", "body": "<p>Alternatively to @alireza.salemian's solution, you could try to run the command line version command in javascript:</p>\n\n<p>Depending on your JavaScript backend, your code may vary slightly, but inspired by <a href=\"https://stackoverflow.com/questions/1880198/how-to-execute-shell-command-in-javascript/52575123#52575123\">this post</a> you could run it as below:</p>\n\n<pre><code>    const execSync = require('child_process').execSync;\n    // import { execSync } from 'child_process';  // replace ^ if using ES modules\n    const output = execSync('gulp -v', { encoding: 'utf-8' });  // the default is 'buffer'\n    const str_pos = output.search('Local version') + 14;\n    const gulp_version = output.substring( str_pos, str_pos + 5 );\n    console.log( 'Gulp version: ' + gulp_version );\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 6450661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7f81c7d500540a988a5506c2b4521812?s=128&d=identicon&r=PG&f=1", "display_name": "Talk Nerdy To Me", "link": "https://stackoverflow.com/users/6450661/talk-nerdy-to-me"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 57299850, "answer_count": 2, "score": 2, "last_activity_date": 1564699334, "creation_date": 1564613242, "question_id": 57299743, "link": "https://stackoverflow.com/questions/57299743/get-gulp-version-in-gulpfile", "title": "get gulp version in gulpfile", "body": "<p>Is there a way to detect what version of Gulp is running (available to utilize in a gulpfile)?</p>\n\n<p>I've got two separate gulpfile's I'm using amongst different environments, some that require v3 and some v4.  For easier version control, I would prefer it if I could combine those files and not have to deal with different file names in different environments to eliminate confusion between multiple developers. Obviously to accomplish this I would need the script to differentiate between versions.</p>\n"}, {"tags": ["javascript", "sqlite"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1564614739, "post_id": 57299721, "comment_id": 101093521, "body": "It would be better if you didn&#39;t have 3 columns in the first place. Use another table that has a separate row for each position number, and a foreign key to this table."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11866303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jULaxlp_Agk/AAAAAAAAAAI/AAAAAAAAAAA/QJznAowlO4k/photo.jpg?sz=128", "display_name": "KarnEdge", "link": "https://stackoverflow.com/users/11866303/karnedge"}, "edited": false, "score": 0, "creation_date": 1564622279, "post_id": 57299925, "comment_id": 101094887, "body": "You are right, I went ahead made a positions table as described and its much easier to work. I was way over complicating it. Thanks!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1564614856, "creation_date": 1564614856, "answer_id": 57299925, "question_id": 57299721, "link": "https://stackoverflow.com/questions/57299721/if-i-use-select-where-to-find-data-how-do-i-return-the-columns-name-that-data/57299925#57299925", "title": "If I use SELECT WHERE to find data, how do I return the column&#39;s name that data was under?", "body": "<p>Use a <code>CASE</code> expression.</p>\n\n<pre><code>SELECT CASE 'Janitor'\n        WHEN Position1 THEN 'Position1'\n        WHEN Position2 THEN 'Position2'\n        ELSE 'Position3'\n    END AS columnname\nFROM table\nWHERE 'Janitor' IN (Position1, Position2, Position3)\n</code></pre>\n\n<p>But it would be better to normalize your data, with a table like this. <code>table1_id</code> is a foreign key to your original table.</p>\n\n<pre><code>table1_id   PositionNum Position\n1           1           Tech\n1           2           Survey\n1           3           Phone\n2           1           Stocker\n2           2           Maintenance\n2           3           Trucker\n3           1           Logger\n3           2           Janitor\n\nSELECT PositionNum\nFROM thisTable\nWHERE Position = 'Janitor'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 11860228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecfb3d8120e4267137c66b1a9ea989d9?s=128&d=identicon&r=PG&f=1", "display_name": "Gurcan", "link": "https://stackoverflow.com/users/11860228/gurcan"}, "is_accepted": false, "score": 0, "last_activity_date": 1564615148, "creation_date": 1564615148, "answer_id": 57299954, "question_id": 57299721, "link": "https://stackoverflow.com/questions/57299721/if-i-use-select-where-to-find-data-how-do-i-return-the-columns-name-that-data/57299954#57299954", "title": "If I use SELECT WHERE to find data, how do I return the column&#39;s name that data was under?", "body": "<p>Try this :</p>\n\n<pre><code>Select\n   ID,\n   Environment,\n   (\n        Case\n            When Position1 = N'Janitor' Then N'Position1'\n            When Position2 = N'Janitor' Then N'Position2'\n            When Position3 = N'Janitor' Then N'Position3'\n            When Position4 = N'Janitor' Then N'Position4'\n            Else N'none'\n        End\n    ) As ColumnName\nFrom Table\nWHERE Position1 = N'Janitor' Or Position2 = N'Janitor' Or Position3 = N'Janitor' Or Position4 = N'Janitor'\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11866303, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jULaxlp_Agk/AAAAAAAAAAI/AAAAAAAAAAA/QJznAowlO4k/photo.jpg?sz=128", "display_name": "KarnEdge", "link": "https://stackoverflow.com/users/11866303/karnedge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 57299925, "answer_count": 2, "score": 0, "last_activity_date": 1564615148, "creation_date": 1564613067, "last_edit_date": 1564614701, "question_id": 57299721, "link": "https://stackoverflow.com/questions/57299721/if-i-use-select-where-to-find-data-how-do-i-return-the-columns-name-that-data", "title": "If I use SELECT WHERE to find data, how do I return the column&#39;s name that data was under?", "body": "<p>I'm not even sure where to start with the SELECT query itself but imagine I have a table below:</p>\n\n<pre><code>ID   Environment  Position1  Position2   Position3\n1    Operations   Tech       Survey      Phone\n2    Warehouse    Stocker    Maintenance Trucker\n3    Office       Logger     Janitor\n</code></pre>\n\n<p>How would I do a SELECT query to give me the column name when I search for particular position name but I need to know which column its under?</p>\n\n<p>Example: </p>\n\n<pre><code>SELECT columnname \nFROM table \nWHERE Position1 = 'Janitor' OR Position2 = 'Janitor' OR Position3 = 'Janitor'\n</code></pre>\n\n<p>I don't know if there is a better way to do this but the idea is each user is assigned Position1-3 and an Environment. If they are moved to another environment, they keep Position# but the label for it changes. </p>\n\n<p>This data is bogus and honestly more confusing as I don't want to give away the real data. It's possible I have my tables set up bad.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "reply_to_user": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "edited": false, "score": 0, "creation_date": 1564614262, "post_id": 57299709, "comment_id": 101093407, "body": "@EliasSoares not really, OP is not asking eventlistener  vs onclick"}, {"owner": {"reputation": 7547, "user_id": 3429323, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/fc5012a49b4671fdf8c473ee90190fc0?s=128&d=identicon&r=PG", "display_name": "Elias Soares", "link": "https://stackoverflow.com/users/3429323/elias-soares"}, "reply_to_user": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "edited": false, "score": 0, "creation_date": 1564621797, "post_id": 57299709, "comment_id": 101094804, "body": "@Nidhin Joseph it&#39;s the same answer for different events."}], "answers": [{"tags": [], "owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1564613458, "creation_date": 1564613458, "answer_id": 57299766, "question_id": 57299709, "link": "https://stackoverflow.com/questions/57299709/when-should-you-add-an-event-listener/57299766#57299766", "title": "When should you add an event listener?", "body": "<p>You should <em>always</em> use <code>window.addEventListener(\"load\", someFunction)</code> as the event will not be overwritten.</p>\n\n<p>Using <code>window.onload</code> is subject to being overwritten by other code if you are using libraries who are not careful with your event listeners.</p>\n\n<p>You can see that demonstrated below, where 3 is never displayed nor executed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.addEventListener(\"load\", function(){ console.log(1); });\r\nwindow.addEventListener(\"load\", function(){ console.log(2); });\r\n\r\nwindow.onload = function(){ console.log(3); };\r\nwindow.onload = function(){ console.log(4); };</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In general, the same principle will apply to using other types of event listeners such as input events (click, mouse, keyboard, etc).</p>\n"}], "owner": {"reputation": 1, "user_id": 11866384, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-KbFupV31O0Q/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfBQeiEXHMp5b8tHvi9O7ZsI9QsHg/photo.jpg?sz=128", "display_name": "thebrownknight1", "link": "https://stackoverflow.com/users/11866384/thebrownknight1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "closed_date": 1564615729, "answer_count": 1, "score": 0, "last_activity_date": 1564613458, "creation_date": 1564612981, "question_id": 57299709, "link": "https://stackoverflow.com/questions/57299709/when-should-you-add-an-event-listener", "closed_reason": "Duplicate", "title": "When should you add an event listener?", "body": "<p>When should I use window.onload and when should I use window.addEventListener(\"load\", someFunction()) ?</p>\n"}, {"tags": ["javascript", "html", "node.js", "apache", "web"], "comments": [{"owner": {"reputation": 2080, "user_id": 242029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b0af6ec0e2b09283faefe2ed892d44f?s=128&d=identicon&r=PG", "display_name": "nixkuroi", "link": "https://stackoverflow.com/users/242029/nixkuroi"}, "edited": false, "score": 0, "creation_date": 1564612661, "post_id": 57299662, "comment_id": 101093122, "body": "That&#39;s right.  Node can be your whole web server."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1564612709, "post_id": 57299662, "comment_id": 101093137, "body": "Node can do everything for you - it&#39;s technically known as a web application (server side) rather than a website (client side), but it&#39;ll do what you want."}, {"owner": {"reputation": 1, "user_id": 9431275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywqyT.jpg?s=128&g=1", "display_name": "Daniel B&#246;rg", "link": "https://stackoverflow.com/users/9431275/daniel-b%c3%b6rg"}, "edited": false, "score": 0, "creation_date": 1564612743, "post_id": 57299662, "comment_id": 101093145, "body": "But can i still use it just for an web app in an apache environment?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1564612774, "post_id": 57299662, "comment_id": 101093151, "body": "You&#39;ll want to look into a web framework like <code>Express.js</code> to handle routing the urls and mapping them to functions. Then it becomes very convenient to host it on something like Heroku and you don&#39;t need to worry about server infrastructure."}, {"owner": {"reputation": 1304, "user_id": 3853300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/640302f2d86df84fdf1b4916718b96e8?s=128&d=identicon&r=PG&f=1", "display_name": "Sheki", "link": "https://stackoverflow.com/users/3853300/sheki"}, "edited": false, "score": 0, "creation_date": 1564612988, "post_id": 57299662, "comment_id": 101093190, "body": "If you want to create a website you should maybe focus on client side technology because you can create a website without node.js but you can not create a website without javascript/css/html. node.js is actually javascript used in the backend."}], "answers": [{"tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": false, "score": 1, "last_activity_date": 1564613694, "creation_date": 1564613694, "answer_id": 57299799, "question_id": 57299662, "link": "https://stackoverflow.com/questions/57299662/do-i-use-node-js-to-build-a-whole-website/57299799#57299799", "title": "Do I use Node.js to build a whole website?", "body": "<blockquote>\n  <p>Do I don't have to use a apache installation on my server anymore?</p>\n</blockquote>\n\n<p>Correct.  You create your whole web server in node.js.  You generally don't use or need Apache with it.</p>\n\n<blockquote>\n  <p>Do I create the whole website and all it's pages with Node.js like the index or about page?</p>\n</blockquote>\n\n<p>Yes, you create the whole web server in node.js and use it to serve all your web pages.  Typically one might use a number of libraries with node.js such as Express for mapping all the routes in your web app and your favorite template engine to help with filling in data in HTML pages before serving them to the client.  At very high scale, one might consider using some other infrastructure (like nginx) to offload static resources from your node.js server to increase scalability, but that is not necessary at small or medium scale as node.js scales really well.</p>\n\n<blockquote>\n  <p>If I use Node.js just for a web application, how can I add the web app to an already existing Apache website's page?</p>\n</blockquote>\n\n<p>You can run one of the two web servers on a different port and have two web servers that are part of your web-site liking to each as needed.  But, typically you would move everything you currently have in Apache over to your node.js app.  You don't have to do that, but most people wouldn't start out with an objective to build a web-site out of both node.js and Apache.</p>\n\n<hr>\n\n<p>One thing to keep in mind is that node.js/Express are conceptually a bit different from Apache in how you build a simple web-site.  A node.js/Express web server serves NO content at all by default.  So, you don't just drop a directory hierarchy of web pages on your node.js server and expect it to serve those pages by default.  You can do that pretty easily with <code>express.static()</code> (a feature of the Express library) if that's part of your site design, but you have to consciously configure that in node.js (it takes just two lines of code to do so).</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 7165158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/884f9903f18efff01a92f05f4769b5a1?s=128&d=identicon&r=PG&f=1", "display_name": "Brian T Brennglass", "link": "https://stackoverflow.com/users/7165158/brian-t-brennglass"}, "is_accepted": false, "score": 0, "last_activity_date": 1564615472, "last_edit_date": 1564615472, "creation_date": 1564615090, "answer_id": 57299945, "question_id": 57299662, "link": "https://stackoverflow.com/questions/57299662/do-i-use-node-js-to-build-a-whole-website/57299945#57299945", "title": "Do I use Node.js to build a whole website?", "body": "<p>If you want to write a \"simple\" chess game, you're best bet is to start learning Canvas. This <a href=\"https://developer.mozilla.org/en-US/docs/Games/Tutorials/2D_Breakout_game_pure_JavaScript\" rel=\"nofollow noreferrer\">tutorial</a> by the Mozilla Foundation is one I personally used and enjoyed a lot. If you want the computer to play as CPU opponent, then you would likely need to use a server(node.js!). </p>\n\n<p>You can use Node.js to build a simple website, but that would be like using a screwdriver as a hammer. Node.js is used for making desktop apps and for programming servers. Servers(backend) analyze user inputs and provide some sort of feedback. Let's use StackOverflow as an example. The frontend(HTML, CSS, Javascript) is what you see. All of that is done in the browser. The way you get that code to someone's computer so they can render your website is via a server. Servers do other cool things. When you do a search on a website or save a post, the server is dealing with storing that data or finding you the right results. If you want to build an API, like the one used for Google maps, or for Yahoo Finance, you'd use a server.</p>\n\n<p>If you want to make your own server using Node.js, I'd recommend using Digital Ocean or Heroku. They are beginner-friendly and are respected in the industry. Heroku is free and owned by Salesforce if that makes a difference. However, this is unnecessary, for beginners. I recommend using a free or low-cost hosting platform that deals with that for you. </p>\n\n<p>The thing about Node.js is you can use it to create websites via template engines, but I wouldn't recommend that. You are essentially writing server-side javascript to create HTML. That's foolish most of the time when you can just write the HTML itself. Just have node.js deploy it.</p>\n"}], "owner": {"reputation": 1, "user_id": 9431275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ywqyT.jpg?s=128&g=1", "display_name": "Daniel B&#246;rg", "link": "https://stackoverflow.com/users/9431275/daniel-b%c3%b6rg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 598, "favorite_count": 0, "closed_date": 1564648001, "answer_count": 2, "score": -2, "last_activity_date": 1564615472, "creation_date": 1564612604, "question_id": 57299662, "link": "https://stackoverflow.com/questions/57299662/do-i-use-node-js-to-build-a-whole-website", "closed_reason": "Needs more focus", "title": "Do I use Node.js to build a whole website?", "body": "<p>The last couple of days I began to teach myself how to create a Website from scratch.</p>\n\n<p>I bought a webspace and fooled around with html, css and javascript and when I wanted to build a online chess game I learned about Node.js</p>\n\n<p>But I don't understand what Node.js is used for because the <a href=\"https://nodejs.org/dist/latest-v10.x/docs/api/http.html#http_http\" rel=\"nofollow noreferrer\">documentation</a> shows how to install and create a fresh server(!) with Node.js and handle requests. </p>\n\n<ul>\n<li><p>Do I don't have to use a apache installation on my server anymore? </p></li>\n<li><p>Do I create the whole website and all it's pages with Node.js like the index or about page? </p></li>\n<li><p>If I use Node.js just for a web application, how can I add the web app to an already existing Apache website's page?</p></li>\n</ul>\n\n<p>I think I really got confused and need some help to understand Node.js better since so many are using it.</p>\n"}, {"tags": ["javascript", "html", "css", "hover", "queryselector"], "comments": [{"owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "edited": false, "score": 3, "creation_date": 1564612718, "post_id": 57299602, "comment_id": 101093141, "body": "did you try <code>:hover</code> css?"}, {"owner": {"reputation": 176, "user_id": 2001841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XSKcb.jpg?s=128&g=1", "display_name": "SmujMaiku", "link": "https://stackoverflow.com/users/2001841/smujmaiku"}, "edited": false, "score": 1, "creation_date": 1564613432, "post_id": 57299602, "comment_id": 101093276, "body": "Do you mean to skip the first element in your array by starting at <code>i = 1</code>"}, {"owner": {"reputation": 337, "user_id": 3727785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227253587fc88d350c43b8d78dd81a8a?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaCWebDeveloper", "link": "https://stackoverflow.com/users/3727785/joshuacwebdeveloper"}, "reply_to_user": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "edited": false, "score": 0, "creation_date": 1564614444, "post_id": 57299602, "comment_id": 101093453, "body": "My answer addresses the issue with the JavaScript; however, after taking a closer look, @NidhinJoseph correctly points out that the same thing could be achieved with just CSS with only minor changes to your markup."}], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 3727785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/227253587fc88d350c43b8d78dd81a8a?s=128&d=identicon&r=PG&f=1", "display_name": "JoshuaCWebDeveloper", "link": "https://stackoverflow.com/users/3727785/joshuacwebdeveloper"}, "is_accepted": false, "score": 1, "last_activity_date": 1564614294, "creation_date": 1564614294, "answer_id": 57299865, "question_id": 57299602, "link": "https://stackoverflow.com/questions/57299602/how-to-change-the-state-of-an-element-while-hovering-on-another-element-using-va/57299865#57299865", "title": "How to Change The State Of An Element While hovering on Another Element Using Vanilla JS", "body": "<p>The problem is likely that you are adding an event listener in a for loop. Generally this is considered bad practice, and your case is a good reason why, as it causes a bug.</p>\n\n<p>See: <a href=\"https://gomakethings.com/why-you-shouldnt-attach-event-listeners-in-a-for-loop-with-vanilla-javascript/\" rel=\"nofollow noreferrer\">https://gomakethings.com/why-you-shouldnt-attach-event-listeners-in-a-for-loop-with-vanilla-javascript/</a></p>\n\n<blockquote>\n  <p>The i variable isn\u2019t scoped to the loop # After each iteration of the loop, the i variable increases by 1. The value does not remain constant within the scope of your event listener callback function. It changes.</p>\n</blockquote>\n\n<p>Refactor your code so that the event handler does not reference the counter variable in the parent scope. In your handler you can use <code>this</code> to refer to the target element (you can also use <code>Event.target</code>):</p>\n\n<pre><code>var navBar = document.getElementById('nav');\nvar navLiAnchor = navBar.querySelectorAll('ul &gt; li &gt; a');\nvar navIcons = navBar.querySelectorAll('ul &gt; li &gt; span &gt; i');\n\nfor (var i = 0; i &lt; navIcons.length; i++) {\n    navIcons[i].addEventListener(\"mouseover\", function() {\n        var idx = navIcons.indexOf(this);\n        if(this.style.color == 'gray'){\n            navLiAnchor[idx].style.color = 'gray';\n        } else {\n            navLiAnchor[idx].style.color = 'lightgray';\n        }\n    });\n}\n</code></pre>\n\n<p>(Also, as @SmujMaiku pointed out, you probably intended your loop to start at the first element, index <code>0</code>.)</p>\n"}], "owner": {"reputation": 1, "user_id": 9430062, "user_type": "registered", "profile_image": "https://graph.facebook.com/1649740218407646/picture?type=large", "display_name": "ostryuser", "link": "https://stackoverflow.com/users/9430062/ostryuser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564617273, "creation_date": 1564612145, "last_edit_date": 1564617273, "question_id": 57299602, "link": "https://stackoverflow.com/questions/57299602/how-to-change-the-state-of-an-element-while-hovering-on-another-element-using-va", "title": "How to Change The State Of An Element While hovering on Another Element Using Vanilla JS", "body": "<p>I am trying to change an item while hovering on another one, using <code>mouseover</code> event and <code>querySelectorAll</code> methods. Frankly I don't know what is wrong with my code, anyone help?</p>\n\n<pre><code>var navBar = document.getElementById('nav');\nvar navLiAnchor = navBar.querySelectorAll('ul &gt; li &gt; a');\nvar navIcons = navBar.querySelectorAll('ul &gt; li &gt; span &gt; i');\n\nfor (var i = 1; i &lt; navIcons.length; i++) {\n    navIcons[i].addEventListener(\"mouseover\", function() {\n        if(navIcons[i].style.color == 'gray'){\n        navLiAnchor[i].style.color = 'gray';\n        } else {\n            navLiAnchor[i].style.color = 'lightgray';\n        }\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 626, "user_id": 11483646, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-vTe0Wd47AJY/AAAAAAAAAAI/AAAAAAAAAQM/5QyQ79IsAz8/photo.jpg=k-s128", "display_name": "Andrei", "link": "https://stackoverflow.com/users/11483646/andrei"}, "edited": false, "score": 0, "creation_date": 1564619484, "post_id": 57299544, "comment_id": 101094385, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/5570017/how-to-delay-calling-of-javascript-function\">How to delay calling of javascript function?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1066, "user_id": 368393, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/M1XfJ.gif?s=128&g=1", "display_name": "Blueboye", "link": "https://stackoverflow.com/users/368393/blueboye"}, "edited": false, "score": 0, "creation_date": 1564612282, "post_id": 57299561, "comment_id": 101093030, "body": "Oh my god. Why do I need to wrap it in function if I am calling a function? Ah. That&#39;s so confusing. I was looking at W3Schools and it had setInterval(function, milliseconds, param1, param2, ...), where &quot;function&quot; is the function that will be executed. So, I just used the function name there. Didn&#39;t realise I need to wrap it in a &quot;function(){}&quot; Ah...that&#39;s so unintuitive."}, {"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "reply_to_user": {"reputation": 1066, "user_id": 368393, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/M1XfJ.gif?s=128&g=1", "display_name": "Blueboye", "link": "https://stackoverflow.com/users/368393/blueboye"}, "edited": false, "score": 0, "creation_date": 1564612589, "post_id": 57299561, "comment_id": 101093108, "body": "@Blueboye But you aren&#39;t &quot;just using the function name&quot;, you&#39;re outright <i>calling</i> the function and passing its return value to <code>setTimeout</code> - in this situation, the browser is calling the function immediately and passing nothing to <code>setTimeout</code>."}, {"owner": {"reputation": 1066, "user_id": 368393, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/M1XfJ.gif?s=128&g=1", "display_name": "Blueboye", "link": "https://stackoverflow.com/users/368393/blueboye"}, "reply_to_user": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1564613189, "post_id": 57299561, "comment_id": 101093224, "body": "@NiettheDarkAbsol I am not sure if I follow this. I provided the function to be executed &quot;update&quot; and added the parameters to the function that it requires. This is why it executed it right away? How can I make this work if I need to send parameters? Just wrapping it within a function(){}? Where can I read more about how this works conceptually?"}, {"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1564621731, "post_id": 57299561, "comment_id": 101094791, "body": "<code>setTimeout(update, 5000, document.querySelector(&#39;#text-box-1&#39;).value);</code> would do it, as it passes the argument to the function."}], "tags": [], "owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "is_accepted": true, "score": 1, "last_activity_date": 1564611797, "creation_date": 1564611797, "answer_id": 57299561, "question_id": 57299544, "link": "https://stackoverflow.com/questions/57299544/how-to-call-a-function-in-a-delayed-manner/57299561#57299561", "title": "How to call a function in a delayed manner", "body": "<p>You need to wrap your call to your update function in setTimeout within a function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function update(textValue) {\r\n  document.querySelector(\"#results\").innerHTML = textValue;\r\n}\r\n\r\ndocument.querySelector(\"#text-box-1\").onkeyup = function(e) {\r\n  setInterval(function(){update(document.querySelector(\"#text-box-1\").value)}, 5000);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" id=\"text-box-1\" /&gt;\r\n&lt;span id=\"results\"&gt;&lt;/span&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11866268, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nu9mInYYGUE/AAAAAAAAAAI/AAAAAAAAAA8/ApRaUw30jRM/photo.jpg?sz=128", "display_name": "Instant Raptors", "link": "https://stackoverflow.com/users/11866268/instant-raptors"}, "is_accepted": false, "score": 1, "last_activity_date": 1564612474, "creation_date": 1564612474, "answer_id": 57299641, "question_id": 57299544, "link": "https://stackoverflow.com/questions/57299544/how-to-call-a-function-in-a-delayed-manner/57299641#57299641", "title": "How to call a function in a delayed manner", "body": "<p>The setInterval() function takes two arguments, a function and a value for timeout. You have given it a statement, which is getting executed immediately and then the setInterval() function does nothing for 5 seconds, because it has not been given a true function to execute. </p>\n\n<p>Simply wrap the statement in an anonymous function to get your desired result. :)</p>\n\n<pre><code>document.querySelector(\"#text-box-1\").onkeyup = function(e){\n    setInterval(function(){update(document.querySelector(\"#text-box-1\").value)}, 5000);\n}\n</code></pre>\n\n<p>Hope this helped!</p>\n"}], "owner": {"reputation": 1066, "user_id": 368393, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/M1XfJ.gif?s=128&g=1", "display_name": "Blueboye", "link": "https://stackoverflow.com/users/368393/blueboye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 57299561, "answer_count": 2, "score": 1, "last_activity_date": 1564612474, "creation_date": 1564611670, "question_id": 57299544, "link": "https://stackoverflow.com/questions/57299544/how-to-call-a-function-in-a-delayed-manner", "title": "How to call a function in a delayed manner", "body": "<p>I have a text box and whenever the user types something, I want to update the contents of a span. However, I do want to wait for sometime before I update the span. I tried using setTimeout and even setInterval but it doesn't seem to work. </p>\n\n<p>Here is my html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Sample Title&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;input type=\"text\" id=\"text-box-1\" /&gt;\n&lt;span id=\"results\"&gt;&lt;/span&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And my JS:</p>\n\n<pre><code>function update(textValue){\n    document.querySelector(\"#results\").innerHTML = textValue;\n}\n\ndocument.querySelector(\"#text-box-1\").onkeyup = function(e){\n    setInterval(update(document.querySelector(\"#text-box-1\").value), 5000);\n}\n</code></pre>\n\n<p>When I type in the textbox it starts showing up inside the span instead of waiting for 5 secs. What am I missing here?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "vue.js", "vuetify.js"], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 9632345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nODkNITkmTk/AAAAAAAAAAI/AAAAAAAAACg/MyXHe7pBPog/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9632345/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1564619478, "creation_date": 1564619478, "answer_id": 57300422, "question_id": 57299505, "link": "https://stackoverflow.com/questions/57299505/data-is-recognized-but-not-rendered-vuetify/57300422#57300422", "title": "Data is recognized but not rendered Vuetify", "body": "<p>I figured out the new syntax after moving to vuetify v2:</p>\n\n<pre><code>           &lt;v-data-table\n              :headers=\"headers\"\n              :items=\"stocks\"\n              hide-default-footer\n              class=\"elevation-1\"\n              fixed\n              style=\"max-height: 300px; overflow-y: auto\"\n            &gt;\n              &lt;template v-slot:item=\"props\"&gt;\n                &lt;tr&gt;\n                  &lt;td&gt;{{ props.item.customer }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;{{ props.item.symbol }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;{{ props.item.name }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;{{ props.item.shares }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;{{ props.item.purchase_price }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;{{ props.item.purchase_date }}&lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;\n                    &lt;v-icon @click=\"updateStock(props.item)\"&gt;edit&lt;/v-icon&gt;\n                  &lt;/td&gt;\n                  &lt;td nowrap=\"true\"&gt;\n                    &lt;v-icon @click=\"deleteStock(props.item)\"&gt;delete&lt;/v-icon&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/template&gt;\n            &lt;/v-data-table&gt;\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 9632345, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nODkNITkmTk/AAAAAAAAAAI/AAAAAAAAACg/MyXHe7pBPog/photo.jpg?sz=128", "display_name": "Andrew", "link": "https://stackoverflow.com/users/9632345/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564619478, "creation_date": 1564611372, "question_id": 57299505, "link": "https://stackoverflow.com/questions/57299505/data-is-recognized-but-not-rendered-vuetify", "title": "Data is recognized but not rendered Vuetify", "body": "<p>I have an assignment that uses Vuetify and I want to render a table of \"customer\" data. My code worked fine with Vuetify 1.5, but now I am supposed to update to the newest version, which is 2.0.</p>\n\n<p>The problem I'm running into is that my data is recognized by the program, but none of it actually shows up in the table. The exact number of rows are rendered to match my number of records, and Vue DevTools shows that my data is there, but The rendered html is just empty  elements. I attached screenshots below to illustrate my point a little better:</p>\n\n<p><a href=\"https://i.stack.imgur.com/7xVNg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xVNg.png\" alt=\"Rendered webpage\"></a>\n<a href=\"https://i.stack.imgur.com/ppWNB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ppWNB.png\" alt=\"Vue DevTools\"></a>\n<a href=\"https://i.stack.imgur.com/Qtmwu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Qtmwu.png\" alt=\"Regular DevTools\"></a></p>\n\n<p>The project can be found at: <a href=\"https://github.com/apalmesano2/assign3_frontend.git\" rel=\"nofollow noreferrer\">https://github.com/apalmesano2/assign3_frontend.git</a></p>\n\n<p>Here is a snippet of what my Vue template for the list of customers:</p>\n\n<p><strong>CustomerList.vue</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;main&gt;\n    &lt;br /&gt;\n    &lt;v-container fluid grid-list-md&gt;\n      &lt;v-layout column align-left&gt;\n        &lt;blockquote&gt;\n          Welcome {{validUserName}}!\n          &lt;footer&gt;\n            &lt;small&gt;\n              &lt;em&gt;&amp;mdash;Eagle Financial Services, your Midwest Financial Services Partner.&lt;/em&gt;\n            &lt;/small&gt;\n          &lt;/footer&gt;\n        &lt;/blockquote&gt;\n      &lt;/v-layout&gt;\n\n      &lt;v-layout column align-center&gt;\n        &lt;v-flex xs6 sm8 md7&gt;\n          &lt;v-alert\n            v-if=\"showMsg === 'new'\"\n            dismissible\n            :value=\"true\"\n            type=\"success\"\n          &gt;New customer has been added.&lt;/v-alert&gt;\n          &lt;v-alert\n            v-if=\"showMsg === 'update'\"\n            dismissible\n            :value=\"true\"\n            type=\"success\"\n          &gt;Customer information has been updated.&lt;/v-alert&gt;\n          &lt;v-alert\n            v-if=\"showMsg === 'deleted'\"\n            dismissible\n            :value=\"true\"\n            type=\"success\"\n          &gt;Selected Customer has been deleted.&lt;/v-alert&gt;\n        &lt;/v-flex&gt;\n      &lt;/v-layout&gt;\n      &lt;br /&gt;\n      &lt;v-container fluid grid-list-md fill-height&gt;\n        &lt;v-layout column&gt;\n          &lt;v-flex md6&gt;\n            &lt;v-data-table\n              :headers=\"headers\"\n              :items=\"customers\"\n              hide-default-footer\n              class=\"elevation-1\"\n              fixed\n              style=\"max-height: 300px; overflow-y: auto\"\n            &gt;\n              &lt;template slot=\"items\" slot-scope=\"props\"&gt;\n                &lt;td&gt;{{ props.item.pk }}&lt;/td&gt;\n                &lt;td&gt;{{ props.item.cust_number }}&lt;/td&gt;\n                &lt;td&gt;{{ props.item.name }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.address }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.city }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.state }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.zipcode }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.email }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;{{ props.item.cell_phone }}&lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;\n                  &lt;v-icon @click=\"updateCustomer(props.item)\"&gt;edit&lt;/v-icon&gt;\n                &lt;/td&gt;\n                &lt;td nowrap=\"true\"&gt;\n                  &lt;v-icon @click=\"deleteCustomer(props.item)\"&gt;delete&lt;/v-icon&gt;\n                &lt;/td&gt;\n              &lt;/template&gt;\n            &lt;/v-data-table&gt;\n          &lt;/v-flex&gt;\n        &lt;/v-layout&gt;\n      &lt;/v-container&gt;\n\n      &lt;v-btn class=\"blue white--text\" @click=\"addNewCustomer\"&gt;Add Customer&lt;/v-btn&gt;\n    &lt;/v-container&gt;\n  &lt;/main&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>And the script, although I don't think there is an issue here because the data is being fetched just fine according to the Vue DevTools:</p>\n\n<pre><code>&lt;script&gt;\nimport router from \"../router\";\nimport { APIService } from \"../http/APIService\";\nconst apiService = new APIService();\n\nexport default {\n  name: \"CustomerList\",\n  data: () =&gt; ({\n    customers: [],\n    validUserName: \"Guest\",\n    customerSize: 0,\n    showMsg: \"\",\n    headers: [\n      { text: \"Record Number\", sortable: false, align: \"left\" },\n      { text: \"Customer Number\", align: \"left\", sortable: false },\n      { text: \"Name\", sortable: false, align: \"left\" },\n      { text: \"Address\", sortable: false, align: \"left\" },\n      { text: \"City\", sortable: false, align: \"left\" },\n      { text: \"State\", sortable: false, align: \"left\" },\n      { text: \"ZipCode\", sortable: false, align: \"left\" },\n      { text: \"Email\", sortable: false, align: \"left\" },\n      { text: \"Phone\", sortable: false, align: \"left\" },\n      { text: \"Update\", sortable: false, align: \"left\" },\n      { text: \"Delete\", sortable: false, align: \"left\" }\n    ]\n  }),\n  mounted() {\n    this.getCustomers();\n    this.showMessages();\n  },\n  methods: {\n    showMessages() {\n      console.log(this.$route.params.msg);\n      if (this.$route.params.msg) {\n        this.showMsg = this.$route.params.msg;\n      }\n    },\n    getCustomers() {\n      apiService\n        .getCustomerList()\n        .then(response =&gt; {\n          this.customers = response.data.data;\n          this.customerSize = this.customers.length;\n          if (\n            localStorage.getItem(\"isAuthenticates\") &amp;&amp;\n            JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\n          ) {\n            this.validUserName = JSON.parse(localStorage.getItem(\"log_user\"));\n          }\n        })\n        .catch(error =&gt; {\n          if (error.response.status === 401) {\n            localStorage.removeItem(\"isAuthenticates\");\n            localStorage.removeItem(\"log_user\");\n            localStorage.removeItem(\"token\");\n            router.push(\"/auth\");\n          }\n        });\n    },\n    addNewCustomer() {\n      if (\n        localStorage.getItem(\"isAuthenticates\") &amp;&amp;\n        JSON.parse(localStorage.getItem(\"isAuthenticates\")) === true\n      ) {\n        router.push(\"/customer-create\");\n      } else {\n        router.push(\"/auth\");\n      }\n    },\n    updateCustomer(customer) {\n      router.push(\"/customer-create/\" + customer.pk);\n    },\n    deleteCustomer(customer) {\n      apiService\n        .deleteCustomer(customer.pk)\n        .then(response =&gt; {\n          if (response.status === 204) {\n            alert(\"Customer deleted\");\n            this.showMsg = \"deleted\";\n            this.$router.go();\n          }\n        })\n        .catch(error =&gt; {\n          if (error.response.status === 401) {\n            localStorage.removeItem(\"isAuthenticates\");\n            localStorage.removeItem(\"log_user\");\n            localStorage.removeItem(\"token\");\n            router.push(\"/auth\");\n          }\n        });\n    }\n  }\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>I have a hunch I'm doing something wrong with my v-data-table and the template where I'm passing the props in but I can't figure out what's going wrong or how to fix it because even just hardcoded text in the  tags won't render in the table.</p>\n\n<p>To access the page where the screenshots are after cloning the project, you would need to log in with the following credentials:</p>\n\n<p>Username: instructor</p>\n\n<p>Password: instructor1a</p>\n\n<p>Thanks to anyone who can help!</p>\n"}, {"tags": ["javascript", "typescript", "jestjs"], "comments": [{"owner": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 1, "creation_date": 1564612516, "post_id": 57299503, "comment_id": 101093086, "body": "How exactly are you planning on using this? You could store it in a closure variable, but not sure if that&#39;ll meet your needs? However, in terms of the describe block, use an actual <code>function () {}</code> instead of an arrow function and you can call <code>this.description</code>. For example, <code>describe(&#39;hi&#39;, function () { console.log(this.description); })</code> However this does not work with a <code>test</code>/<code>it</code> block."}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 0, "creation_date": 1564613315, "post_id": 57299503, "comment_id": 101093250, "body": "I want to create a helper method for snapshot naming based on dynamic data/env variables as well as the Test + Description name"}, {"owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "reply_to_user": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 0, "creation_date": 1564614370, "post_id": 57299503, "comment_id": 101093436, "body": "I might be able to use <code>expect.extend()</code> which binds <code>this</code> and has <code>testPath: &quot;&#47;index.test.ts&quot;</code> and <code>currentTestName: &quot;Description Test&quot;</code>"}, {"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 1, "creation_date": 1593685820, "post_id": 57299503, "comment_id": 110869528, "body": "Dupe of <a href=\"https://stackoverflow.com/questions/52788380/how-to-get-the-current-spec-name\">How to get the current spec name</a>, and I&#39;ve just posted a new answer over there."}], "answers": [{"comments": [{"owner": {"reputation": 108811, "user_id": 1269037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/mMk1e.jpg?s=128&g=1", "display_name": "Dan Dascalescu", "link": "https://stackoverflow.com/users/1269037/dan-dascalescu"}, "edited": false, "score": 0, "creation_date": 1593685941, "post_id": 57300457, "comment_id": 110869603, "body": "Yeah but you have to define a constant for every test. There&#39;s an <a href=\"https://stackoverflow.com/questions/52788380/get-the-current-test-spec-name-in-jest/62694295#62694295\">easier way</a>."}], "tags": [], "owner": {"reputation": 806, "user_id": 9173317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nhji1.jpg?s=128&g=1", "display_name": "Viacheslav Moskalenko", "link": "https://stackoverflow.com/users/9173317/viacheslav-moskalenko"}, "is_accepted": false, "score": 2, "last_activity_date": 1564621273, "last_edit_date": 1564621273, "creation_date": 1564619894, "answer_id": 57300457, "question_id": 57299503, "link": "https://stackoverflow.com/questions/57299503/jest-get-test-and-description-name/57300457#57300457", "title": "Jest - Get Test and Description Name", "body": "<p>Perhaps, the most obvious solution is what you want. Instead of passing literals to <code>describe</code> and <code>it</code> just store them in a respective constants which could then be easily accessed inside the respective test cases though the outer scope.</p>\n\n<p>These constants could be easily initialized either by values from the environmental variables or by literal defaults.</p>\n\n<pre><code>const suiteA = 'Description';\ndescribe(suiteA, () =&gt; {\n  const testA = 'Test';\n  it(testA, () =&gt; {\n    expect(`${suiteA} - ${testA}`).toBe(\"Description - Test\");\n  });\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 917, "user_id": 9130688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fj5U2.jpg?s=128&g=1", "display_name": "Coding Edgar", "link": "https://stackoverflow.com/users/9130688/coding-edgar"}, "is_accepted": false, "score": 3, "last_activity_date": 1564623884, "creation_date": 1564623884, "answer_id": 57300836, "question_id": 57299503, "link": "https://stackoverflow.com/questions/57299503/jest-get-test-and-description-name/57300836#57300836", "title": "Jest - Get Test and Description Name", "body": "<p>You can achieve this using a custom matcher</p>\n\n<pre><code>expect.extend({\n  testName(exp) {\n      return {\n          pass: this.currentTestName === exp,\n          message: () =&gt; '',\n      };\n  },\n});\n\ndescribe(\"Description\", () =&gt; {\n  it(\"Test\", () =&gt; {\n      expect(`Description Test`).testName();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 12228, "user_id": 271106, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/RN48w.jpg?s=128&g=1", "display_name": "Michal Ciechan", "link": "https://stackoverflow.com/users/271106/michal-ciechan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1535, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1564623884, "creation_date": 1564611335, "last_edit_date": 1564613424, "question_id": 57299503, "link": "https://stackoverflow.com/questions/57299503/jest-get-test-and-description-name", "title": "Jest - Get Test and Description Name", "body": "<p>I am trying to get the name of the test name that was passed into <code>it(name: string)</code> Jest function, as well as the description name that was passed into <code>describe(name: string, ....)</code>.</p>\n\n<p>Is there a way to access this somehow?</p>\n\n<p>E.g.</p>\n\n<pre><code>describe(\"Description\", () =&gt; {\n  it(\"Test\", () =&gt; {\n\n    const description = \"How do I get the description name?\"\n    const test = \"How do I get the test name?\";\n\n    expect(`${description} - ${test}`).toBe(\"Description - Test\");\n  });\n})\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/keen-moser-hjjke?fontsize=14&amp;module=%2Findex.test.ts&amp;previewwindow=tests&amp;view=editor\" rel=\"nofollow noreferrer\">CodeSandbox Link</a></p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Underlying reason why I want this is because I want to do some custom snapshot naming conventions based on describe, test, and some environment variables (e.g. viewport sizes + mock/real data).</p>\n"}, {"tags": ["javascript", "node.js", "node-modules", "browserify", "uglifyjs"], "comments": [{"owner": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1564612167, "post_id": 57299478, "comment_id": 101093006, "body": "Mangleing changes variable names and keys. So if you have part of your app build mangled and the other on not but depends on it you cant expect the modules to be named same. If you want to debug you should rebuild your complete app with debug settings."}, {"owner": {"reputation": 5534, "user_id": 1335209, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/530651078602108f4a6a950a94d1ec92?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1335209/andres"}, "reply_to_user": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1564617147, "post_id": 57299478, "comment_id": 101093990, "body": "The program where I&#39;m including the library is not mangled and if I mangle it I get the same error, so the problem is when the library is NOT mangled, it doesn&#39;t matter if the program where I&#39;m including it is mangled or not, I get the error anyways."}], "answers": [{"tags": [], "owner": {"reputation": 5534, "user_id": 1335209, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/530651078602108f4a6a950a94d1ec92?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1335209/andres"}, "is_accepted": true, "score": 0, "last_activity_date": 1564787883, "creation_date": 1564787883, "answer_id": 57334367, "question_id": 57299478, "link": "https://stackoverflow.com/questions/57299478/cannot-find-module-in-browserify-when-not-mangling-the-bundle/57334367#57334367", "title": "&quot;Cannot find module&quot; in browserify when not mangling the bundle", "body": "<p>After some more searching, I finally found the reason, when using browserify you can't add libraries that were bundled with browserify, see <a href=\"https://github.com/browserify/browserify/issues/1773\" rel=\"nofollow noreferrer\">this</a> issue. </p>\n\n<p>This feature is coming in browserify 17 so, for now, I switched to webpack to build my library.</p>\n"}], "owner": {"reputation": 5534, "user_id": 1335209, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/530651078602108f4a6a950a94d1ec92?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/1335209/andres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 57334367, "answer_count": 1, "score": 0, "last_activity_date": 1564787883, "creation_date": 1564611141, "question_id": 57299478, "link": "https://stackoverflow.com/questions/57299478/cannot-find-module-in-browserify-when-not-mangling-the-bundle", "title": "&quot;Cannot find module&quot; in browserify when not mangling the bundle", "body": "<p>I have a custom library I'm trying to build with Browserify. The library uses <code>fabric.js</code>, extends it with some custom classes and exposes it globally to be used in the browser and in node.js. This is the main entry point for the library:</p>\n\n<pre><code>(function () {\n    \"use strict\";\n\n    // Make fabric global in browsers and node\n    this.fabric = require('./libs/fabric.canvasex.js');\n    this.fabric.internal_version = \"1.0.0\";\n\n    require('./libs/BoundedText/BoundedText.js');\n    require('./libs/BoundedText/PathText/PathIText.js');\n    require('./libs/VectorPlaceholder/fabricVectorPlaceholder.js');\n    require('./libs/ImagePlaceholder/fabricImagePlaceholder.js');\n\n}).call(this);\n</code></pre>\n\n<p>The file structure for this library is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/T5Y52.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T5Y52.png\" alt=\"enter image description here\"></a></p>\n\n<p>To build this library to a single file I'm using this command:</p>\n\n<p><code>browserify --full-paths js/main.js | uglifyjs --compress --mangle safari10 &gt; dist/my-lib.js</code></p>\n\n<p>This works great and I can include this in browser and require it in node.js and it becomes a global variable too which is what I need. The problem starts when I have to debug something and the minified code is obviously not ideal for this so I bundle the library like this instead:</p>\n\n<p><code>browserify --full-paths js/main.js &gt; dist/my-lib.js</code></p>\n\n<p>Now, when I try to include this build in another node program using <code>browserify</code> too, like this:</p>\n\n<p><code>require('./customily-fabric.js');</code></p>\n\n<p>I get these errors when bundling my program with the library:</p>\n\n<pre><code>[1] Error: Cannot find module '../fabric.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './OpentypeIText.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'      \n[1] Error: Cannot find module './startsWith-polyfill.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './Font.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module '../../fabric.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './ctxtextpath.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'        \n[1] Error: Cannot find module './path-properties.min.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module '../potrace.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './fabricMaskFilter.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'   \n[1] Error: Cannot find module './fabric.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './libs/BoundedText/BoundedText.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './libs/BoundedText/PathText/PathIText.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './libs/VectorPlaceholder/fabricVectorPlaceholder.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './libs/ImagePlaceholder/fabricImagePlaceholder.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n[1] Error: Cannot find module './libs/fabric.canvasex.js' from 'D:\\Git-Repos\\Customily\\CustomilyFabric\\dist'\n</code></pre>\n\n<p>I discovered that if I remove only the <code>--mangle</code> option from my library build, I get these errors when trying to include it in another node program. Why is this happening? Shouldn't all the modules be contained inside the bundle?</p>\n"}, {"tags": ["javascript", "php", "html", "node.js", "windows"], "comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 1, "creation_date": 1564611119, "post_id": 57299460, "comment_id": 101092780, "body": "It&#39;s not very clear what you&#39;re asking for help with?  Do you want real-time updating for some value in a web page based on some change on the server?  Or are you just asking for how to use Jade/Express in node.js to render a template?  And, completely unclear what Puppeteer has to do with this at all since that is typically used for a server to get information from other web-sites."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1564611308, "post_id": 57299460, "comment_id": 101092831, "body": "aka how do I screen scrape with node."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564611470, "post_id": 57299460, "comment_id": 101092858, "body": "Clarifications: Real-time updating for some values (card-title) of restockcrc.com/all. I was under the impression that &quot;get information from other web-site&quot; was the whole point(?). Unless I&#39;m not using the correct terms. Try the php code in a basic php file. This output needs to be generated, in real time, from the restock url provided above."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564611748, "post_id": 57299460, "comment_id": 101092918, "body": "1. <a href=\"https://stackoverflow.com/a/1732454/5734311\">parsing html with regex is of the devil</a> 2. you don&#39;t need puppeteer to load a webpage from a domain 3. use the <code>http</code> module to grab the document, use jsdom to parse it"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564612682, "post_id": 57299460, "comment_id": 101093126, "body": "Would I use: var request = require(&quot;request&quot;); \trequest(&quot;<a href=\"http://www.google.com&quot;,function(error,response,body)\" rel=\"nofollow noreferrer\">google.com&quot;,function(error,response,body)</a> and then filter with jsdom?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564613639, "post_id": 57299460, "comment_id": 101093313, "body": "Basically yes, or <code>node-fetch</code>, or <code>https</code>, whatever you prefer. If you get stuck, put your attempt in the question and describe how it fails."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564614189, "post_id": 57299460, "comment_id": 101093393, "body": "Thank you for clarifying. Could you point me to a template of how to filter the output of request to only show h4 class of &quot;card-title&quot;? Soon as I have a lead I can start."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564614750, "post_id": 57299460, "comment_id": 101093524, "body": "<code>const links = new JSDOM(html).window.document.querySelectorAll(&#39;.card-title a&#39;);</code>"}, {"owner": {"reputation": 2808, "user_id": 11805688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kZ1Zb.png?s=128&g=1", "display_name": "atymic", "link": "https://stackoverflow.com/users/11805688/atymic"}, "edited": false, "score": 0, "creation_date": 1564614913, "post_id": 57299460, "comment_id": 101093555, "body": "That code looks familiar :P Can you post your node code?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564615062, "post_id": 57299460, "comment_id": 101093580, "body": "Let&#39;s cut this short: <a href=\"https://pastebin.com/FGnpTM38\" rel=\"nofollow noreferrer\">pastebin.com/FGnpTM38</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564615149, "post_id": 57299460, "comment_id": 101093591, "body": "Hahaha, Atymic, wow."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564615821, "post_id": 57299460, "comment_id": 101093724, "body": "&gt;Chris This works fine. Is there a command to load as soon as it finished loaded? (loop it)"}], "owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564610989, "creation_date": 1564610989, "question_id": 57299460, "link": "https://stackoverflow.com/questions/57299460/outputting-an-external-html-element-via-javascript", "title": "Outputting an external HTML element via JavaScript", "body": "<p>I'm looking for a javascript template/lead that would accomplish the same thing as this PHP script below, but in an async way (?) so that the information is always accurately the same as the targeted website's... with no delay.</p>\n\n<pre><code>&lt;?php\n    $html = file_get_contents('https://www.restockcrc.com/all/');\n\n        $re = '/&lt;h4 class=\"card-title\"&gt;.+?&lt;a href=\"(\\S+)\"&gt;(.*?)&lt;\\/a&gt;/ms';\n        preg_match_all($re, $html, $matches, PREG_SET_ORDER, 0);\n\n        foreach ($matches as $item) {\n        echo sprintf('&lt;a href=\"%s\"&gt;%s&lt;/a&gt;&lt;br&gt;', $item[1], $item[2]); // Print results\n}\n</code></pre>\n\n<p>I've been playing with Puppeteer but the documentation is huge and it's hard to find what I need.</p>\n\n<p>I have NodeJS installed and Jade/Express.</p>\n"}, {"tags": ["javascript", "jquery", "forms", "dropdown"], "comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1564611118, "post_id": 57299417, "comment_id": 101092779, "body": "I see no form here.  Please provide a full example of each select element.  There are various ways to do this, what have you tried?"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1564611433, "post_id": 57299417, "comment_id": 101092850, "body": "There are various ways to do this, what have you tried?  Note this seems to require a LOT of values for the selects, you will first want to define all those with some sort of a way to link them together via data - basically what you started to describe but for all of them;  This could be in a JavaScript object, a fixed set of hidden SELECT elements, stuff like that"}, {"owner": {"reputation": 107, "user_id": 5645089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8e31836e88bae29a8736ac0a946d44f9?s=128&d=identicon&r=PG&f=1", "display_name": "VderKaiser", "link": "https://stackoverflow.com/users/5645089/vderkaiser"}, "reply_to_user": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1564611665, "post_id": 57299417, "comment_id": 101092898, "body": "@MarkSchultheiss I&#39;ve edited question and paste the exact code I&#39;m using."}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1564612409, "post_id": 57299417, "comment_id": 101093066, "body": "I think I see where you are going with this and you are not so far off."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 5645089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8e31836e88bae29a8736ac0a946d44f9?s=128&d=identicon&r=PG&f=1", "display_name": "VderKaiser", "link": "https://stackoverflow.com/users/5645089/vderkaiser"}, "edited": false, "score": 0, "creation_date": 1564643651, "post_id": 57299905, "comment_id": 101100102, "body": "Awesome, thanks! Because it&#39;s gonna be part of contact form, is it possible to do something that all those values shows up in message that user submits?  For example, user selects England/Premier League/Barnsley, and submits the form. And then I got the email where I can see that he selected England/Premier League/Barnsley."}, {"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "reply_to_user": {"reputation": 107, "user_id": 5645089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8e31836e88bae29a8736ac0a946d44f9?s=128&d=identicon&r=PG&f=1", "display_name": "VderKaiser", "link": "https://stackoverflow.com/users/5645089/vderkaiser"}, "edited": false, "score": 0, "creation_date": 1564656181, "post_id": 57299905, "comment_id": 101106869, "body": "Of course. So long as the <code>select</code> elements have the <code>name</code> attribute and options have a <code>value</code> attribute I can&#39;t see why you couldn&#39;t submit the data in a form."}], "tags": [], "owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "is_accepted": true, "score": 1, "last_activity_date": 1564614639, "creation_date": 1564614639, "answer_id": 57299905, "question_id": 57299417, "link": "https://stackoverflow.com/questions/57299417/how-to-create-form-when-second-dropdown-depends-on-the-first-dropdown-selection/57299905#57299905", "title": "How to create form when second dropdown depends on the first dropdown selection", "body": "<p>What about grouping each select with a numeric value in an ascending fashion and filtering by value as reference?</p>\n\n<p>Each select can be grouped in sequential order using <code>data-group=\"N\"</code>. This can be targeted by <code>data-target=\"N\"</code> where target is the group number you wish to show next. When each list changes state, the target group is filtered by the group being targeted, furthermore by the <code>data-ref</code> which is referenced by the value of the current list. Thus, the corresponding list is shown.</p>\n\n<p>Here's an example, only I've populated the first tier divisions and clubs out of good will. But you get the gist...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var groups = $(\"select[data-group]\");\r\n\r\n$(\"select[data-target]\").on(\"change\", function () {\r\n  var selectedRef = $(this).val();\r\n  if (!selectedRef) {\r\n    groups.hide();\r\n    return;\r\n  }\r\n\r\n  var targetGroup = Number($(this).data('target'));\r\n  if (targetGroup) {\r\n    groups.filter(function() {\r\n      var group = Number($(this).data('group'));\r\n      return (group === targetGroup || group &gt; targetGroup);\r\n    }).hide();\r\n    \r\n    groups.filter(`[data-ref=\"${selectedRef}\"]`).show();\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>[data-group=\"1\"],\r\n[data-group=\"2\"] {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;select data-target=\"1\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option value=\"England\"&gt;England&lt;/option&gt;\r\n  &lt;option value=\"Spain\"&gt;Spain&lt;/option&gt;\r\n  &lt;option value=\"Italy\"&gt;Italy&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;!-- Tiers by country --&gt;\r\n&lt;select data-group=\"1\" data-target=\"2\" data-ref=\"England\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option value=\"PremierLeague\"&gt;Premier League&lt;/option&gt;\r\n  &lt;option value=\"Championship\"&gt;Championship&lt;/option&gt;\r\n  &lt;option value=\"LeagueOne\"&gt;League One&lt;/option&gt;\r\n  &lt;option value=\"LeagueTwo\"&gt;League One&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;select data-group=\"1\" data-target=\"2\" data-ref=\"Spain\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option value=\"LaLiga\"&gt;La Liga&lt;/option&gt;\r\n  &lt;option value=\"SegundaDivision\"&gt;Segunda Divisi\u00f3n&lt;/option&gt;\r\n  &lt;option value=\"SegundaDivision B\"&gt;Segunda Divisi\u00f3n B&lt;/option&gt;\r\n  &lt;option value=\"TerceraDivision\"&gt;Tercera Divisi\u00f3n&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;select data-group=\"1\" data-target=\"2\" data-ref=\"Italy\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option value=\"SerieA\"&gt;Serie A&lt;/option&gt;\r\n  &lt;option value=\"SerieB\"&gt;Serie B&lt;/option&gt;\r\n  &lt;option value=\"SerieC\"&gt;Serie C&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;!-- Teams by tier --&gt;\r\n&lt;select data-group=\"2\" data-ref=\"PremierLeague\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option&gt;Arsenal&lt;/option&gt;\r\n  &lt;option&gt;Aston Villa&lt;/option&gt;\r\n  &lt;option&gt;Barnsley&lt;/option&gt;\r\n  &lt;option&gt;...&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;select data-group=\"2\" data-ref=\"LaLiga\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option&gt;Alav\u00e9s&lt;/option&gt;\r\n  &lt;option&gt;Athletic Bilbao&lt;/option&gt;\r\n  &lt;option&gt;Atl\u00e9tico Madrid&lt;/option&gt;\r\n  &lt;option&gt;...&lt;/option&gt;\r\n&lt;/select&gt;\r\n&lt;select data-group=\"2\" data-ref=\"SerieA\"&gt;\r\n  &lt;option value=\"\"&gt;-- Select --&lt;/option&gt;\r\n  &lt;option&gt;Atalanta&lt;/option&gt;\r\n  &lt;option&gt;Bologna&lt;/option&gt;\r\n  &lt;option&gt;Brescia&lt;/option&gt;\r\n  &lt;option&gt;...&lt;/option&gt;\r\n&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "is_accepted": false, "score": 0, "last_activity_date": 1564614656, "creation_date": 1564614656, "answer_id": 57299906, "question_id": 57299417, "link": "https://stackoverflow.com/questions/57299417/how-to-create-form-when-second-dropdown-depends-on-the-first-dropdown-selection/57299906#57299906", "title": "How to create form when second dropdown depends on the first dropdown selection", "body": "<p>Just set the data like you started to, here I use the values you set.  Add more.</p>\n\n<p>Hide the values that do not match.  Un-select if you change the parent.  I will leave it up to you to determine how to handle the case where nothing is selected at first, I did put in the code to trigger it.  I will also leave it to you to determine how to handle the sub group when nothing is selected - like at first, it lets you pick from either of the second and third selects - probably disable those and enable when the parent gets a value selected?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $('#select-container').on('change', '.select-group', function(event) {\r\n    let groupNext = $(this).data(\"next\");\r\n    let next = $(groupNext);\r\n    next.find(\"option:selected\").prop(\"selected\", false);\r\n    next.trigger('change');//clears child when unset\r\n    let options = next.find('option');\r\n    let selectedValue = $(this).find(\":selected\").val();\r\n    options.hide();\r\n    let nextOptions = options.filter(function() {\r\n      return $(this).data(\"group\") == selectedValue;\r\n    }).show();\r\n  }).first().trigger('change');\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"select-container\"&gt;\r\n  &lt;select class=\"select-group\" id=\"groups\" data-next=\"#sub_groups\"&gt;\r\n    &lt;option value='England'&gt;England&lt;/option&gt;\r\n    &lt;option value='Spain'&gt;Spain&lt;/option&gt;\r\n    &lt;option value='Italy'&gt;Italy&lt;/option&gt;\r\n  &lt;/select&gt;\r\n  &lt;select class=\"select-group\" id=\"sub_groups\" data-next=\"#sub_sub_groups\"&gt;\r\n    &lt;option data-group='SHOW' value='0'&gt;-- Select --&lt;/option&gt;\r\n    &lt;option data-group='England' value='Premier'&gt;Premier&lt;/option&gt;\r\n    &lt;option data-group='England' value='Championship'&gt;Championship&lt;/option&gt;\r\n    &lt;option data-group='England' value='League One'&gt;League One&lt;/option&gt;\r\n    &lt;option data-group='Spain' value='La Liga'&gt;La Liga&lt;/option&gt;\r\n    &lt;option data-group='Spain' value='Second Division'&gt;Second Division&lt;/option&gt;\r\n    &lt;option data-group='Spain' value='Third Division'&gt;Third Division&lt;/option&gt;\r\n    &lt;option data-group='Italy' value='Seria A'&gt;Seria A&lt;/option&gt;\r\n    &lt;option data-group='Italy' value='Seria B'&gt;Seria B&lt;/option&gt;\r\n  &lt;/select&gt;\r\n  &lt;select class=\"select-group\" id=\"sub_sub_groups\"&gt;\r\n    &lt;option data-group='SHOW' value='0'&gt;-- Select --&lt;/option&gt;\r\n    &lt;option data-group='Premier' value='Premier'&gt;Chelsea&lt;/option&gt;\r\n    &lt;option data-group='La Liga' value='La Liga'&gt;Sevilla&lt;/option&gt;\r\n    &lt;option data-group='Seria A' value='Seria A'&gt;Juventus&lt;/option&gt;\r\n  &lt;/select&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 107, "user_id": 5645089, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8e31836e88bae29a8736ac0a946d44f9?s=128&d=identicon&r=PG&f=1", "display_name": "VderKaiser", "link": "https://stackoverflow.com/users/5645089/vderkaiser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 57299905, "answer_count": 2, "score": 1, "last_activity_date": 1564614656, "creation_date": 1564610733, "last_edit_date": 1564611634, "question_id": 57299417, "link": "https://stackoverflow.com/questions/57299417/how-to-create-form-when-second-dropdown-depends-on-the-first-dropdown-selection", "title": "How to create form when second dropdown depends on the first dropdown selection", "body": "<p>How to create form that options on second dropdown depends on the selection of the option on first dropdown? The problem is that I have 4 dropdowns and every dropdown depends on the previous one.</p>\n\n<p>For example:</p>\n\n<p>DROPDOWN #1 Options:\nEngland\n/ Spain\n/ Italy</p>\n\n<p>DROPDOWN #2 Options:\n(if England is selected)\nPremier League\n/ Championship\n/ League One</p>\n\n<p>(if Italy is selected)\nSerie A\n/ Serie B</p>\n\n<p>DROPDOWN #3 Options:\n(if Premier League is selected)\nChelsea\n/ Man City\n/ Everton</p>\n\n<p>.... ( I hope you get the point)</p>\n\n<p>I tried using this code from another question, but I couldn't find solution for including third or even fourth dropdown options.</p>\n\n<pre><code>&lt;select id=\"groups\"&gt;\n&lt;option value='England'&gt;England&lt;/option&gt;\n&lt;option value='Spain'&gt;Spain&lt;/option&gt;\n&lt;option value='Italy'&gt;Italy&lt;/option&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;select id=\"sub_groups\"&gt;\n&lt;option data-group='SHOW' value='0'&gt;-- Select --&lt;/option&gt;\n&lt;option data-group='England' value='Premier'&gt;Premier&lt;/option&gt;\n&lt;option data-group='England' value='Championship'&gt;Championship&lt;/option&gt;\n&lt;option data-group='England' value='League One'&gt;League One&lt;/option&gt;\n&lt;option data-group='Spain' value='La Liga'&gt;La Liga&lt;/option&gt;\n&lt;option data-group='Spain' value='Second Division'&gt;Second Division&lt;/option&gt;\n&lt;option data-group='Spain' value='Third Division'&gt;Third Division&lt;/option&gt;\n&lt;option data-group='Italy' value='Seria A'&gt;Seria A&lt;/option&gt;\n&lt;option data-group='Italy' value='Seria B'&gt;Seria B&lt;/option&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;select id=\"sub_sub_groups\"&gt;\n    &lt;option data-group='SHOW' value='0'&gt;-- Select --&lt;/option&gt;\n    &lt;option data-group='Premier' value='Premier'&gt;Chelsea&lt;/option&gt;\n    &lt;option data-group='La Liga' value='La Liga'&gt;Sevilla&lt;/option&gt;\n    &lt;option data-group='Seria A' value='Seria A'&gt;Juventus&lt;/option&gt;\n&lt;select&gt;\n\n\n\n$(function(){\n$('#groups').on('change', function(){\n    var val = $(this).val();\n    var sub = $('#sub_groups');\n    $('option', sub).filter(function(){\n        if (\n             $(this).attr('data-group') === val \n          || $(this).attr('data-group') === 'SHOW'\n        ) {\n          if ($(this).parent('span').length) {\n            $(this).unwrap();\n          }\n        } else {\n          if (!$(this).parent('span').length) {\n            $(this).wrap( \"&lt;span&gt;\" ).parent().hide();\n          }\n        };\n    });\n\n});\n$('#groups').trigger('change'); {\n\n$('#sub_groups').on('change', function(){\n\n var subsub = $('#sub_sub_groups');\n    $('option', subsub).filter(function(){\n        if (\n             $(this).attr('data-group') === val \n          || $(this).attr('data-group') === 'SHOW'\n        ) {\n          if ($(this).parent('span').length) {\n            $(this).unwrap();\n          }\n        } else {\n          if (!$(this).parent('span').length) {\n            $(this).wrap( \"&lt;span&gt;\" ).parent().hide();\n          }\n        }\n    });\n});\n$('#sub_groups').trigger('change');\n\n}\n</code></pre>\n\n<p>});</p>\n"}, {"tags": ["javascript", "ajax", "express"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 7686911, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--YHUaZqvlNc/AAAAAAAAAAI/AAAAAAAABf4/OQsjXj7-0GI/photo.jpg?sz=128", "display_name": "Santiago Semhan", "link": "https://stackoverflow.com/users/7686911/santiago-semhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1564616242, "creation_date": 1564616242, "answer_id": 57300102, "question_id": 57299387, "link": "https://stackoverflow.com/questions/57299387/how-to-retrieve-information-from-formdata/57300102#57300102", "title": "How to Retrieve Information from FormData", "body": "<p>Assuming that you are using express 4. You can use <a href=\"https://github.com/expressjs/body-parser\" rel=\"nofollow noreferrer\">body-parser</a> middleware in order to get your data into <code>req.body</code> property. </p>\n\n<p>For example: (Extracted from official doc)</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var express = require('express')\nvar bodyParser = require('body-parser')\n\nvar app = express()\n\n// parse application/x-www-form-urlencoded\napp.use(bodyParser.urlencoded({ extended: false }))\n\n// parse application/json\napp.use(bodyParser.json())\n\napp.use(function (req, res) {\n  res.setHeader('Content-Type', 'text/plain')\n  res.write('you posted:\\n')\n  res.end(JSON.stringify(req.body, null, 2))\n})\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 11843328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c578850f4b2d58edd2d1f0735fcb041?s=128&d=identicon&r=PG&f=1", "display_name": "MCM13", "link": "https://stackoverflow.com/users/11843328/mcm13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564616242, "creation_date": 1564610512, "question_id": 57299387, "link": "https://stackoverflow.com/questions/57299387/how-to-retrieve-information-from-formdata", "title": "How to Retrieve Information from FormData", "body": "<p>I'm uploading a picture on change from an input, and I want to send the information to my database.</p>\n\n<p>Apart from the picture, I need to get the id of my item and because I'm working on a picture (formData) I appended also this information (id).</p>\n\n<pre><code>var promoId = 37\nvar formData = new FormData();\nformData.append('promoId', promoId)\n\nconsole.log('formData -', formData.get(\"promoId\")) // Gives me the correct number\n</code></pre>\n\n<p>The problem is that I'm trying to retrieve it on the back-end but is coming as 'undefined'</p>\n\n<p>This is what I have tried so far.</p>\n\n<pre><code>AJAX\n$.ajax({\n     type: 'POST',\n     url: `/api/Upload-second-promo`,\n     crossDomain: true,\n     data: formData,\n     cache: false,\n     processData: false,\n     contentType: false,\n     enctype: 'multipart/form-data',\n     mimeType: 'multipart/form-data',\n})\n\nBACK-END\nrouter.post('/Upload-second-promo', function(req, res) {\n     promoId = req.body.promoId // undefined\n     promoId = req.promoId // undefined\n     promoId = req.query.promoId // undefined\n}\n</code></pre>\n\n<p>How do you get the information out of formData on the back-end?</p>\n"}, {"tags": ["javascript", "arrays", "json", "object", "destructuring"], "comments": [{"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564610795, "post_id": 57299384, "comment_id": 101092686, "body": "&quot;Dynamically&quot; means through an Asynchronous activity, like <code>onclick</code>. I&#39;m not seeing anything dynamic here."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564610891, "post_id": 57299384, "comment_id": 101092715, "body": "I think <code>dynamically</code> in this context means <code>col</code> or <code>person</code> might not be known until run time @StackSlave."}, {"owner": {"reputation": 59, "user_id": 8990423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e684d77136d0a7f576015f48b4bc2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Bilal", "link": "https://stackoverflow.com/users/8990423/imran-bilal"}, "edited": false, "score": 0, "creation_date": 1564610968, "post_id": 57299384, "comment_id": 101092738, "body": "i want to get values inside:  return [         values from object [&#39;firstName&#39;,&#39;age&#39;] ]"}, {"owner": {"reputation": 59, "user_id": 8990423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e684d77136d0a7f576015f48b4bc2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Bilal", "link": "https://stackoverflow.com/users/8990423/imran-bilal"}, "edited": false, "score": 0, "creation_date": 1564611105, "post_id": 57299384, "comment_id": 101092774, "body": "After that columns can also change, here I want to make it dynamically configure, how many column values should be display."}, {"owner": {"reputation": 59, "user_id": 8990423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e684d77136d0a7f576015f48b4bc2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Bilal", "link": "https://stackoverflow.com/users/8990423/imran-bilal"}, "edited": false, "score": 0, "creation_date": 1564611150, "post_id": 57299384, "comment_id": 101092786, "body": "<b>Mark Meyer</b> yes"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 8990423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e684d77136d0a7f576015f48b4bc2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Bilal", "link": "https://stackoverflow.com/users/8990423/imran-bilal"}, "edited": false, "score": 0, "creation_date": 1564611590, "post_id": 57299397, "comment_id": 101092883, "body": "Good brother.you saved my day.Thanks"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 3, "last_activity_date": 1564610602, "creation_date": 1564610602, "answer_id": 57299397, "question_id": 57299384, "link": "https://stackoverflow.com/questions/57299384/how-can-i-extract-all-the-element-from-object-dynamically/57299397#57299397", "title": "How can i extract all the element from object dynamically", "body": "<p>Just iterate over the <code>col</code> properties and <code>.map</code> to a new array. You could also consider changing the <code>person</code> variable name to <code>people</code> (or something like that), because it's a <em>collection</em> of persons, not a singular person, reducing the chance of confusion:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const people = [{\r\n    firstName: \"Nick\",\r\n    lastName: \"Anderson\",\r\n    age: 35,\r\n    sex: \"M\"\r\n  },\r\n  {\r\n    firstName: \"yopm\",\r\n    lastName: \"Geyun\",\r\n    age: 36,\r\n    sex: \"M\"\r\n  }\r\n]\r\n\r\nconst col = ['firstName', 'age']\r\n\r\nconsole.log(\r\n  people.map(\r\n    person =&gt; col.map(prop =&gt; person[prop])\r\n  )\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 59, "user_id": 8990423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e684d77136d0a7f576015f48b4bc2f4?s=128&d=identicon&r=PG&f=1", "display_name": "Imran Bilal", "link": "https://stackoverflow.com/users/8990423/imran-bilal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 57299397, "answer_count": 1, "score": 0, "last_activity_date": 1564610602, "creation_date": 1564610458, "question_id": 57299384, "link": "https://stackoverflow.com/questions/57299384/how-can-i-extract-all-the-element-from-object-dynamically", "title": "How can i extract all the element from object dynamically", "body": "<p>How can I extract the specific column from an object, I have a column array and I want these fields extracted from an object which will be constructed by map loop function which is the item.\nNow here, how can check my fields dynamically. i don't want item[col[0]] like this.\nplease tell me a short cut.</p>\n\n<pre><code>const person = [{\n  firstName: \"Nick\",\n  lastName: \"Anderson\",\n  age: 35,\n  sex: \"M\"\n},\n{\n  firstName: \"yopm\",\n  lastName: \"Geyun\",\n  age: 36,\n  sex: \"M\"\n}]\n\nconst col=['firstName' , 'age']\n\nreturn person.map(item=&gt;{\n     var i=0;        \n     return [\n         //How can i confgure here , that i show stop increment or not.\n        item[col[i]],\n        item[col[i+1]]\n//here i want to fetch my colums['firstName' , 'age] from item {\n//{firstName: \"Nick\",lastName: \"Anderson\",age: 35,sex: \"M\"} dynamically.\n]   \n})\n}\n\nconsole.log(func())\n</code></pre>\n\n<p>How can I configure here, that I show stop increment or not.\n        item[col[i]],\n        item[col[i+1]]\ni want it dynamically</p>\n"}, {"tags": ["javascript", "node.js", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564661896, "post_id": 57302996, "comment_id": 101110081, "body": "thanks for the prompt reply however the public attribute returns blank in all instances even though the Likes collection has Boolean: true"}, {"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "reply_to_user": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564662186, "post_id": 57302996, "comment_id": 101110262, "body": "Can you try to debug and find out what values you are getting in &#39;likeDoc&#39;?"}, {"owner": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564663105, "post_id": 57302996, "comment_id": 101110801, "body": "likeDoc returns undefined in all instances"}, {"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "reply_to_user": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564663540, "post_id": 57302996, "comment_id": 101111031, "body": "const likeDoc = results.find(({     likeId }) =&gt; {     console.log(&#39;likeId is: &#39;, likeId);     console.log(&#39;_id is: &#39;, post._id);     return (likeId === post._id); }); can you try this and check what values you&#39;re getting in console"}, {"owner": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564663819, "post_id": 57302996, "comment_id": 101111189, "body": "discovered the problem.  The post._id required converting .toString().  const likeDoc = results.find(data =&gt; data.likeId === post._id.toString());"}, {"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "reply_to_user": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564664248, "post_id": 57302996, "comment_id": 101111415, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/197349/discussion-between-mohammed-amir-ansari-and-user601935\">continue this discussion in chat</a>."}, {"owner": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "edited": false, "score": 0, "creation_date": 1564664720, "post_id": 57302996, "comment_id": 101111669, "body": "Mohammed Amir Ansari That&#39;s correct the _id field is type ObjectId so needed converting to string in find() query. Thanks for your help"}], "tags": [], "owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "is_accepted": true, "score": 0, "last_activity_date": 1564664086, "last_edit_date": 1564664086, "creation_date": 1564641040, "answer_id": 57302996, "question_id": 57299338, "link": "https://stackoverflow.com/questions/57299338/how-to-retrieve-value-from-another-mongoose-collection/57302996#57302996", "title": "How to retrieve value from another mongoose collection", "body": "<p>I think, this is how you could achieve what you are looking for:</p>\n\n<pre><code>exports.findAllLikes = function(req, res) {\n    Likes.find({\n        'userId': req.body.userId\n    }, (err, results) =&gt; {\n        if (err) {\n            console.log('Error while fetching likes: ', err);\n            return res.status(500).json({\n                Error: 'Error while fetching likes.'\n            });\n        }\n        const likeIds = results.map(({\n            likeId\n        }) =&gt; likeId);\n\n        Instances.find({\n            '_id': {\n                $in: likeIds\n            }\n        }, (err, favs) =&gt; {\n            if (err) {\n                console.log('Error while fetching likes: ', err);\n                return res.status(500).json({\n                    Error: 'Error while fetching Instances.'\n                });\n            }\n            let newArr = [];\n            favs.forEach((elem) =&gt; {\n                let post = elem.toObject();\n                const likeDoc = results.find(({\n                    likeId\n                }) =&gt; likeId === post._id.toString());\n                post.public = (likeDoc &amp;&amp; likeDoc.public) ? likeDoc.public : '';\n                newArr.push(post);\n            });\n            console.log(post);\n            return res.status(200).send(newArr);\n        });\n    });\n};\n</code></pre>\n\n<p>You shouldn't ever play with indexes for mapping stuff, until and unless you are sure that you have same length arrays.</p>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 133, "user_id": 601935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d71d660a57a40540f76e9371dbed374?s=128&d=identicon&r=PG", "display_name": "user601935", "link": "https://stackoverflow.com/users/601935/user601935"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57302996, "answer_count": 1, "score": 0, "last_activity_date": 1564664086, "creation_date": 1564610181, "question_id": 57299338, "link": "https://stackoverflow.com/questions/57299338/how-to-retrieve-value-from-another-mongoose-collection", "title": "How to retrieve value from another mongoose collection", "body": "<p>I'm attempting to find() in one collection and concatenate that value to the correct object returned by subsequent find(). However I cannot guarantee the value retrieved in the first find() will match the index . How do I ensure the first value (Boolean) is attached to the correct instance of the second find()?</p>\n\n<p>What I have so far is to use the indexes of the first condition but it may not match if an instance has been removed</p>\n\n<p>My Model:</p>\n\n<pre><code>let Instance= new Schema({\n  imgName: String,\n  offer: String,\n  brand: String,\n  desc: String,\n  keywords: Array,\n  loc: String,\n  location: {\n    type: {\n      type: String, // Don't do `{ location: { type: String } }`\n      enum: ['Point'], // 'location.type' must be 'Point'\n      required: true\n    },\n    coordinates: {\n      type: [Number],\n      required: true\n    }\n  },\n  categories: Array,\n  userId: String,\n  active: Boolean,\n  stockPic: String,\n  startTime: Number,\n  endTime: Number,\n  range: Boolean\n});\n\nmongoose.model('Beams2', Instance);\n\nlet LikesSchema = new Schema({\n  userId: String,\n  likeId: String,\n  categories: Array,\n  public: Boolean\n});\n\nmongoose.model('Likes', LikesSchema);\n\n//My query:\n\nexports.findAllLikes = function(req, res){\n  Likes.find({'userId': req.body.userId}, function(err, results) {\n    let likeIds = results.map((currentValue, index, array) =&gt; {\n        return currentValue.likeId;\n    });\n\n    let statusArr = results.map((currentValue, index, array) =&gt; {\n        return currentValue.public;\n    });\n\n    Instances.find({'_id': { $in: likeIds }}, function(err, favs){\n      if (err) return console.log(err);\n\n      let newArr = [];\n      favs.forEach(function(element, i) { \n        //console.log(statusArr[i]);\n        let post = element.toObject();\n        post.public = statusArr[i]; //need to guarantee correct value\n        newArr.push(post);\n        console.log(post);\n      });\n\n      return res.send(newArr);\n    });\n\n  });\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 85012, "user_id": 2442099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jtx0O.jpg?s=128&g=1", "display_name": "G-Cyrillus", "link": "https://stackoverflow.com/users/2442099/g-cyrillus"}, "edited": false, "score": 0, "creation_date": 1564612060, "post_id": 57299334, "comment_id": 101092985, "body": "can you clarify what you have and what goes wrong ?  from this <a href=\"https://codepen.io/anon/pen/PMjWdR\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/PMjWdR</a>  or a jsfiddle or the snippet from your question"}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1564612339, "post_id": 57299334, "comment_id": 101093044, "body": "what do you mean by a grid ? Is a matrix for example."}], "answers": [{"tags": [], "owner": {"reputation": 2172, "user_id": 8043806, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gX8NW.jpg?s=128&g=1", "display_name": "Giddy Naya", "link": "https://stackoverflow.com/users/8043806/giddy-naya"}, "is_accepted": false, "score": 1, "last_activity_date": 1564615382, "creation_date": 1564615382, "answer_id": 57299988, "question_id": 57299334, "link": "https://stackoverflow.com/questions/57299334/creating-a-grid-of-divs-from-two-input-fields/57299988#57299988", "title": "Creating a grid of divs from two input fields", "body": "<p>Try this snippet</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#btnInsert').click(function(){\r\n$('#mtable tbody').html('');\r\nvar row_count = $('#row').val();\r\nvar col_count = $('#col').val();\r\n    if(row_count &amp;&amp; col_count){\r\n     //entry is valid\r\n    while(row_count &gt; 0){\r\n     //add new row\r\n        $('#mtable tbody').append($(\"&lt;tr&gt;\"));  \r\n      row_count--;\r\n        }\r\n        while(col_count &gt; 0){\r\n        //add new column\r\n        $('#mtable tr').append($(\"&lt;td&gt;\")); \r\n        $('#mtable tbody tr').each(function(){$(this).children('td:last').append($('&lt;input type=\"checkbox\"&gt;'))});\r\n      col_count--;\r\n        }\r\n    }else{alert('Invalid entry');}\r\n}); \r\n\r\n$('#btnInsert2').click(function(){\r\n$('#mDiv').html('');\r\nvar row_count = $('#row2').val();\r\nvar col_count = $('#col2').val();\r\n    if(row_count &amp;&amp; col_count){\r\n     //entry is valid\r\n    while(row_count &gt; 0){\r\n     //add new row\r\n        $('#mDiv').append($(\"&lt;div class='row'&gt;\"));  \r\n      row_count--;\r\n        }\r\n        while(col_count &gt; 0){ \r\n        //add new column\r\n        $('#mDiv').children('.row').each(function(){$(this).append($('&lt;div class=\"col col-md-4\"&gt;'))});\r\n      col_count--;\r\n        }\r\n    }else{alert('Invalid entry');}\r\n}); </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>td{padding:5px;}\r\n.col{margin:5px;\r\n     min-height: 50px;\r\n     background: #aaaaaa;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.7.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h3&gt;For Tables &lt;/h3&gt;\r\n&lt;input id=\"row\" type=\"number\" max=\"20\" placeholder=\"Enter no. of rows\"/&gt; \r\n&lt;input id=\"col\" type=\"number\" max=\"20\" placeholder=\"Enter no. of columns\"/&gt;\r\n&lt;button id=\"btnInsert\"&gt;Generate Grid&lt;/button&gt;\r\n&lt;table border=\"1\" id=\"mtable\"&gt; \r\n    &lt;tbody&gt;&lt;/tbody&gt;\r\n&lt;/table&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;\r\n\r\n\r\n&lt;h3&gt;For Divs &lt;/h3&gt;\r\n&lt;input id=\"row2\" type=\"number\" max=\"20\" placeholder=\"Enter no. of rows\"/&gt; \r\n&lt;input id=\"col2\" type=\"number\" max=\"20\" placeholder=\"Enter no. of columns\"/&gt;\r\n&lt;button id=\"btnInsert2\"&gt;Generate Grid&lt;/button&gt;\r\n&lt;br&gt;\r\n&lt;div class=\"container\" id=\"mDiv\"&gt;&lt;/div&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;&lt;br/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11866260, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-o_Z35fuWvvE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re-klv-86TbjiVqJh0EIKhSbd668w/photo.jpg?sz=128", "display_name": "Robert Freeman", "link": "https://stackoverflow.com/users/11866260/robert-freeman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1564615382, "creation_date": 1564610145, "last_edit_date": 1564612122, "question_id": 57299334, "link": "https://stackoverflow.com/questions/57299334/creating-a-grid-of-divs-from-two-input-fields", "title": "Creating a grid of divs from two input fields", "body": "<p>Given two input fields, I would like to create a grid that takes the first input as the rows, and second input as the columns, and appears once a separate button is clicked. </p>\n\n<p>I know how to make a grid NxN, but I want a grid NxY, that specifically gets created via a button. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const grid = document.querySelector(\"#gridDiv\");\r\nconst rowSize = document.querySelector(\"#rowInput\");\r\nconst colSize = document.querySelector(\"columnInput\");\r\nconst button = document.querySelector(\"button\");\r\n\r\nfunction NxY(n, y) {\r\n  let rowsArr = [];\r\n  let columnArr = [];\r\n  for (let i = 0; i &lt; n; i++) {\r\n    columnArr.push(i);\r\n  }\r\n  for (let i = 0; i &lt; y; i++) {\r\n    rowsArr.push(columnArr);\r\n  }\r\n  render(rowsArr)\r\n}\r\n\r\nfunction render(arr) {\r\n  arr.forEach((items) =&gt; {\r\n    let outerDiv = document.createElement(\"div\")\r\n    outerDiv.classList.add(\"row\");\r\n    items.forEach((item) =&gt; {\r\n      let dv = document.createElement(\"div\");\r\n      dv.classList.add(\"cell\");\r\n      outerDiv.appendChild(dv);\r\n    });\r\n    grid.appendChild(outerDiv);\r\n  });\r\n}\r\nNxY(3, 4);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will automatically produce the grid specified at the bottom, but my issue is figuring out how to add an eventListener to the button that will correctly guide it to creating the proper grid.</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 5261430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba730c920839c918114571f6672e5a5?s=128&d=identicon&r=PG", "display_name": "Devin Metivier", "link": "https://stackoverflow.com/users/5261430/devin-metivier"}, "is_accepted": false, "score": 0, "last_activity_date": 1564680801, "creation_date": 1564680801, "answer_id": 57314244, "question_id": 57299292, "link": "https://stackoverflow.com/questions/57299292/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-type-number-di/57314244#57314244", "title": "Cannot invoke an expression whose type lacks a call signature. Type &#39;number | Dispatch&lt;SetStateAction&lt;number&gt;&gt;&#39; has no compatible call signatures", "body": "<p>Needed explicitly defined type:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>type UpdateState = React.Dispatch&lt;React.SetStateAction&lt;number&gt;&gt;;\n\nconst [pats, givePats] = React.useState&lt;number&gt;(0);\nconst value = React.useMemo&lt;[number, UpdateState]&gt;(() =&gt; [pats, givePats], [pats]);\nconst PatsContext = React.createContext(value);\n\nfunction PatsProvider({ children }) {\n  return &lt;PatsContext.Provider value={value}&gt;{children}&lt;/PatsContext.Provider&gt;;\n}\n</code></pre>\n\n<p>Passing <code>children</code> inside of the context provider infers the type <code>any</code> to children - as I think it should be? This solves the second error.</p>\n\n<p>Alternatively I could've passed the <code>initialValue</code> as an object with my <code>state</code> and <code>updater</code>. Type inference would've been more explicitly <code>number</code> for the state and <code>React.Dispatch&lt;React.SetStateAction&lt;number&gt;&gt;</code> for the updater instead of being infered as <code>(number | Dispatch&lt;SetStateAction&lt;number&gt;&gt;)</code>. However, the second error's solution remains the same.</p>\n"}], "owner": {"reputation": 16, "user_id": 5261430, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ba730c920839c918114571f6672e5a5?s=128&d=identicon&r=PG", "display_name": "Devin Metivier", "link": "https://stackoverflow.com/users/5261430/devin-metivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564680801, "creation_date": 1564609922, "question_id": 57299292, "link": "https://stackoverflow.com/questions/57299292/cannot-invoke-an-expression-whose-type-lacks-a-call-signature-type-number-di", "title": "Cannot invoke an expression whose type lacks a call signature. Type &#39;number | Dispatch&lt;SetStateAction&lt;number&gt;&gt;&#39; has no compatible call signatures", "body": "<p>I'm setting up state to be passed through context in React (with hooks). When using the dispatched state updater function, I get this error:</p>\n\n<p><code>Cannot invoke an expression whose type lacks a call signature. Type 'number | Dispatch&lt;SetStateAction&lt;number&gt;&gt;' has no compatible call signatures</code></p>\n\n<p>I'm pretty new to TypeScript, and I think that I might be just missing a type somewhere, but I'm stuck \ud83d\ude05</p>\n\n<p>Initially I was trying to pass the <code>defaultValue</code> (which in my case is a <code>number</code>) and then tried passing the state and updater into the Provider's value. BUT... the type is inferred from that context's <code>defaultValue</code> - which is required (for some reason). So that doesn't work...</p>\n\n<p>I'm passing the <code>value</code> to both <code>React.createContext()</code> and <code>PatsContext.Provider</code>. Again, because a defaultValue is required in <code>React.createContext()</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import * as React from 'react';\n\nconst [pats, givePats] = React.useState(0);\nconst value = React.useMemo(() =&gt; [pats, givePats], [pats]);\nconst PatsContext = React.createContext(value);\n\nfunction PatsProvider() {\n  return &lt;PatsContext.Provider value={value} /&gt;;\n}\n\nfunction GoodBoi() {\n  const [, givePats] = React.useContext(PatsContext);\n\n  return (\n    &lt;button onClick={() =&gt; givePats(prevPats =&gt; prevPats + 1)} type='button'&gt;\n      Good Boi!\n    &lt;/button&gt;\n  );\n}\n\nfunction PatsDisplay() {\n  const [pats] = React.useContext(PatsContext);\n  return &lt;div&gt;The good boi has received {pats} pats.&lt;/div&gt;;\n}\n\nfunction GoodBoiExample() {\n  return (\n    &lt;PatsProvider&gt;\n      &lt;PatsDisplay /&gt;\n      &lt;GoodBoi /&gt;\n    &lt;/PatsProvider&gt;\n  );\n}\n\nexport default GoodBoiExample;\n</code></pre>\n\n<p>Trying to use <code>givePats()</code> yields the TypeScript error as described above.</p>\n\n<p>Also, using <code>&lt;PatsProvider /&gt;</code> in the <code>&lt;GoodBoiExample /&gt;</code> component yields this error as well:</p>\n\n<p><code>Type '{ children: Element[]; }' has no properties in common with type 'IntrinsicAttributes'.</code></p>\n\n<p>Not sure what that means. But I like to think that once I get passed the first error this will fall in line? \u00af_(\u30c4)_/\u00af Thanks!</p>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-firestore", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564610114, "post_id": 57299291, "comment_id": 101092503, "body": "The error message is suggesting that your call to the function timed out on the client.  You&#39;re going to have to give more information about what you&#39;re observing on both the function and client side."}, {"owner": {"reputation": 145, "user_id": 1293220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e8f05d8834e665aebe1d8b474f19326?s=128&d=identicon&r=PG", "display_name": "Chronnie", "link": "https://stackoverflow.com/users/1293220/chronnie"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564681004, "post_id": 57299291, "comment_id": 101120566, "body": "Hey Doug! Thank you very much for your reply. Love you firebase videos on youtube. :D I edited my question. Maybe this will help."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564683190, "post_id": 57299291, "comment_id": 101121494, "body": "I don&#39;t understand what <code>failAfter</code> is or how you&#39;re using it."}, {"owner": {"reputation": 145, "user_id": 1293220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e8f05d8834e665aebe1d8b474f19326?s=128&d=identicon&r=PG", "display_name": "Chronnie", "link": "https://stackoverflow.com/users/1293220/chronnie"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564685691, "post_id": 57299291, "comment_id": 101122615, "body": "<code>failAfter</code> is a method from the firebase-functions package I installed (@firebase/functions/dist/index.cjs.js, ). I don&#39;t use is it. But is seems to produce the Promise. I use this firebase version: <code>&quot;firebase&quot;: &quot;^6.3.1&quot;, &quot;firebase-admin&quot;: &quot;^8.3.0&quot;, &quot;firebase-functions&quot;: &quot;^3.1.0&quot;</code>"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1564687394, "post_id": 57299291, "comment_id": 101123301, "body": "Yeah, that&#39;s what&#39;s causing your timeout.  Something is stuck with the network connection, but I can&#39;t tell what it is."}, {"owner": {"reputation": 145, "user_id": 1293220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e8f05d8834e665aebe1d8b474f19326?s=128&d=identicon&r=PG", "display_name": "Chronnie", "link": "https://stackoverflow.com/users/1293220/chronnie"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1577278405, "post_id": 57299291, "comment_id": 105134110, "body": "Well, I just restarted Chrome and the error is gone. I can&#39;t reproduce the issue."}], "answers": [{"tags": [], "owner": {"reputation": 356, "user_id": 11153582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2g5DQ.png?s=128&g=1", "display_name": "rphlmr", "link": "https://stackoverflow.com/users/11153582/rphlmr"}, "is_accepted": false, "score": 0, "last_activity_date": 1564858154, "creation_date": 1564858154, "answer_id": 57341246, "question_id": 57299291, "link": "https://stackoverflow.com/questions/57299291/error-deadline-exceeded-when-working-with-firebase-cloud-functions/57341246#57341246", "title": "Error: deadline-exceeded when working with firebase cloud functions", "body": "<p>Is it \"useEffect\" from React Hooks ?</p>\n\n<p>If yes, your firebase init (in useEffect) is done every render.</p>\n\n<p>If you want that useEffect apply only once (like componentDidMount) you should pass an empty array in second param.</p>\n\n<pre><code>useEffect(() =&gt; {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig)\n    } else {\n      console.log(firebase.apps)\n    }\n}, []);\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 1293220, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/2e8f05d8834e665aebe1d8b474f19326?s=128&d=identicon&r=PG", "display_name": "Chronnie", "link": "https://stackoverflow.com/users/1293220/chronnie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 834, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564858154, "creation_date": 1564609920, "last_edit_date": 1564683057, "question_id": 57299291, "link": "https://stackoverflow.com/questions/57299291/error-deadline-exceeded-when-working-with-firebase-cloud-functions", "title": "Error: deadline-exceeded when working with firebase cloud functions", "body": "<p>I have written a small contact form, that calls a firebase cloud function to store the request to cloud firestore. Everything works fine, except that after 60seconds the website throws the following error:</p>\n\n<p><code>Error: deadline-exceeded</code></p>\n\n<p>I used this reference:<a href=\"https://github.com/firebase/quickstart-js/blob/7d514fb4700d3a1681c47bf3e0ff0fa3d7c91910/functions/functions/index.js\" rel=\"nofollow noreferrer\">https://github.com/firebase/quickstart-js/blob/7d514fb4700d3a1681c47bf3e0ff0fa3d7c91910/functions/functions/index.js</a></p>\n\n<p>This is my cloud function:</p>\n\n<pre><code>exports.newRequest = functions.https.onCall((data, context) =&gt; {\n  return admin\n    .firestore()\n    .collection(\"requests\")\n    .add(data)\n    .then(ref =&gt; {\n        console.log(`New request written. ${ref}`)\n        return ref.id\n    })\n    .catch(err =&gt; {\n      throw new functions.https.HttpsError(\"unknown\", error.message, error)\n    })\n})\n</code></pre>\n\n<p>This is the function call:</p>\n\n<pre><code>const functions = firebase.functions()\n    const addMessage = functions.httpsCallable(`newRequest`)\n    addMessage({\n      name: name,\n      contact: contact,\n      message: message,\n      timestamp: new Date(Date.now()).toLocaleString(),\n    })\n      .then(result =&gt; {\n        console.log(`Cloud function called successfully. Ref: ${result.data}`)\n      })\n      .catch(error =&gt; {\n        // Getting the Error details.\n        var code = error.code\n        var message = error.message\n        var details = error.details\n        console.log(code, message, details)\n      })\n</code></pre>\n\n<p>Does anybody know how to fix this?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Here is the cloud function log:</p>\n\n<pre><code>7:19:33.751 PM newRequest Function execution started\n7:19:33.751 PM newRequest Billing account not configured. External network is not accessible and quotas are severely limited. Configure billing account to remove these restrictions\n7:19:33.755 PM newRequest Function execution took 5 ms, finished with status code: 204\n7:19:33.896 PM newRequest Function execution started\n7:19:33.896 PM newRequest Billing account not configured. External network is not accessible and quotas are severely limited. Configure billing account to remove these restrictions\n7:19:34.744 PM newRequest New request written. [object Object]\n7:19:34.746 PM newRequest Function execution took 851 ms, finished with status code: 200\n</code></pre>\n\n<p>My setup in detail:</p>\n\n<ul>\n<li>I got a gatsby page, where I init firebase.</li>\n</ul>\n\n<pre><code>import * as firebase from \"firebase/app\"\nconst firebaseConfig = {}\nuseEffect(() =&gt; {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(firebaseConfig)\n    } else {\n      console.log(firebase.apps)\n    }\n  })\n</code></pre>\n\n<ul>\n<li>I got a contact form react component with the following handleSubmit method. </li>\n</ul>\n\n<pre><code>import * as firebase from \"firebase/app\"\nimport \"firebase/functions\"\n\nconst handleSubmit = evt =&gt; {\n    evt.preventDefault()\n    const addMessage = firebase.functions().httpsCallable(`newRequest`)\n    addMessage({\n      name: name,\n      contact: contact,\n      message: message,\n      timestamp: new Date(Date.now()).toLocaleString(),\n    })\n      .then(result =&gt; {\n        console.log(`Cloud function called successfully. Ref: ${result.data}`)\n      })\n      .catch(error =&gt; {\n        // Getting the Error details.\n        var code = error.code\n        var message = error.message\n        var details = error.details\n        console.log(code, message, details)\n      })\n    resetName()\n    resetContact()\n    resetMessage()\n  }\n\n</code></pre>\n\n<p>This is what the chrome dev tools say:</p>\n\n<pre><code>Exception: Error: deadline-exceeded at new HttpsErrorImpl (http://localhost:8000/commons.js:4409:28) at http://localhost:8000/commons.js:4715:20\ncode: \"deadline-exceeded\"\ndetails: undefined\nmessage: \"deadline-exceeded\"\nstack: \"Error: deadline-exceeded\u21b5    at new HttpsErrorImpl (http://localhost:8000/commons.js:4409:28)\u21b5    at http://localhost:8000/commons.js:4715:20\"\n__proto__: Error\n</code></pre>\n\n<p>And this is the promise creator:</p>\n\n<pre><code>/**\n * Returns a Promise that will be rejected after the given duration.\n * The error will be of type HttpsErrorImpl.\n *\n * @param millis Number of milliseconds to wait before rejecting.\n */\nfunction failAfter(millis) {\n    return new Promise(function (_, reject) {\n        setTimeout(function () {\n            reject(new HttpsErrorImpl('deadline-exceeded', 'deadline-exceeded'));\n        }, millis);\n    });\n}\n</code></pre>\n\n<p>I'm experiencing this problem since several days now and I don't know where it is comming from :(</p>\n"}, {"tags": ["javascript", "php", "jquery", "ajax", "file-upload"], "comments": [{"owner": {"reputation": 14167, "user_id": 1580044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y2S7p.jpg?s=128&g=1", "display_name": "Felippe Duarte", "link": "https://stackoverflow.com/users/1580044/felippe-duarte"}, "edited": false, "score": 0, "creation_date": 1564609879, "post_id": 57299252, "comment_id": 101092443, "body": "Which file / line is this error coming from?"}, {"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1564610337, "post_id": 57299252, "comment_id": 101092552, "body": "The error is probably coming from your php file. Please share the code in php file."}, {"owner": {"reputation": 2172, "user_id": 6770305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMWLL.png?s=128&g=1", "display_name": "Code Spirit", "link": "https://stackoverflow.com/users/6770305/code-spirit"}, "edited": false, "score": 0, "creation_date": 1564610501, "post_id": 57299252, "comment_id": 101092594, "body": "Because its <code>upload</code> not <code>Upload</code>, if you try to access the file."}, {"owner": {"reputation": 11, "user_id": 11866228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e18040f3b3400b0aacd2123ab09ddc?s=128&d=identicon&r=PG&f=1", "display_name": "locklock123", "link": "https://stackoverflow.com/users/11866228/locklock123"}, "edited": false, "score": 0, "creation_date": 1564610727, "post_id": 57299252, "comment_id": 101092660, "body": "I added the PHP Code"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1564610948, "post_id": 57299252, "comment_id": 101092732, "body": "did you inspect what is being sent to the server? Is it what you expect?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10051234"}, "edited": false, "score": 0, "creation_date": 1564611025, "post_id": 57299252, "comment_id": 101092752, "body": "file uploads with ajax dont work like this"}, {"owner": {"reputation": 11, "user_id": 11866228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e18040f3b3400b0aacd2123ab09ddc?s=128&d=identicon&r=PG&f=1", "display_name": "locklock123", "link": "https://stackoverflow.com/users/11866228/locklock123"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1564612147, "post_id": 57299252, "comment_id": 101093000, "body": "@epascarello , I added a image"}], "answers": [{"tags": [], "owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "is_accepted": false, "score": 0, "last_activity_date": 1564619092, "creation_date": 1564619092, "answer_id": 57300389, "question_id": 57299252, "link": "https://stackoverflow.com/questions/57299252/undefined-index-upload/57300389#57300389", "title": "Undefined Index Upload", "body": "<p>The issue lie in your php code, I've test your <code>html</code> code, excepts your code have one more <code>})</code>.</p>\n\n<p>And I <code>print_r</code> <code>$_FILES</code> in my php code, which works well.</p>\n\n<pre><code>[2019-08-01 08:20:34][INFO] Files:---&gt;: Array\n(\n    [upload] =&gt; Array\n        (\n            [name] =&gt; test.html\n            [type] =&gt; text/html\n            [tmp_name] =&gt; /tmp/php4ZbAqB\n            [error] =&gt; 0\n            [size] =&gt; 647\n        )\n\n)\n\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.inputfile').on('change', function(event) {\r\n// var upload = event.target.value;\r\n$.ajax({\r\n    type: 'POST',\r\n    method: 'POST',\r\n    url: 'https://example.com/upload_cache.php',\r\n    data: new FormData($(\".formphoto\")[0]),\r\n    cache: false,\r\n    contentType: false,\r\n    processData: false,\r\n    success: function(data) {\r\n        $('.imgshow').html(data);\r\n    },\r\n    });\r\n}); </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form method=\"POST\" class=\"formphoto\" enctype=\"multipart/form-data\"&gt;\r\n\r\n&lt;input type=\"file\" name=\"upload\" class=\"inputfile\" id=\"file1\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11866228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e18040f3b3400b0aacd2123ab09ddc?s=128&d=identicon&r=PG&f=1", "display_name": "locklock123", "link": "https://stackoverflow.com/users/11866228/locklock123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564619261, "creation_date": 1564609703, "last_edit_date": 1564619261, "question_id": 57299252, "link": "https://stackoverflow.com/questions/57299252/undefined-index-upload", "title": "Undefined Index Upload", "body": "<p>why it shows me this error: \"Undefined index: Upload\" ?</p>\n\n<p>I have found many posts on this topic and have revised my code but it does not work</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form method=\"POST\" class=\"formphoto\" enctype=\"multipart/form-data\"&gt;\n\n&lt;input type=\"file\" name=\"upload\" class=\"inputfile\" id=\"file1\"&gt;\n</code></pre>\n\n<p></p>\n\n<p>Ajax</p>\n\n<pre><code>$('.inputfile').on('change', function(event) {\n\n// var upload = event.target.value;\n\n$.ajax({\n    type: 'POST',\n    method: 'POST',\n    url: '../MeetBlog/pages/upload_cache/upload_cache.php',\n    data: new FormData($(\".formphoto\")[0]),\n    cache: false,\n    contentType: false,\n    processData: false,\n    success: function(data) {\n        $('.imgshow').html(data);\n    },\n    });\n}); \n});\n</code></pre>\n\n<p>PHP</p>\n\n<pre><code>&lt;?php\nsession_start();\nrequire_once __DIR__ . '/../../config/connect.php'; \n\nvar_dump($_FILES['upload']['tmp_name']);\n\n?&gt;\n</code></pre>\n\n<p>This comes to the Server:</p>\n\n<p><a href=\"https://i.stack.imgur.com/9M6ag.png\" rel=\"nofollow noreferrer\">This comes to the Server</a></p>\n"}, {"tags": ["javascript", "typescript", "internationalization"], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "edited": false, "score": 0, "creation_date": 1564609985, "post_id": 57299140, "comment_id": 101092473, "body": "Thanks a lot, works great. I have not been aware of the normalize function."}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "reply_to_user": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "edited": false, "score": 0, "creation_date": 1564610011, "post_id": 57299140, "comment_id": 101092481, "body": "glad I could help !"}], "tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": true, "score": 1, "last_activity_date": 1564608872, "creation_date": 1564608872, "answer_id": 57299140, "question_id": 57299098, "link": "https://stackoverflow.com/questions/57299098/how-to-detect-special-unicode-characters-as-equal-to-their-base-character/57299140#57299140", "title": "How to detect special Unicode characters as equal to their base character?", "body": "<p>You can use this method to sanitize your string:</p>\n\n<pre><code>str = str.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase();\n</code></pre>\n\n<p>The normalize part separate the characters and their accents. Then the replace remove the accents. And finally we transform the string to lowercase characters.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize\" rel=\"nofollow noreferrer\">Normalize</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace\" rel=\"nofollow noreferrer\">Replace</a></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toLowerCase\" rel=\"nofollow noreferrer\">toLowerCase</a></p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "edited": false, "score": 0, "creation_date": 1565096700, "post_id": 57363279, "comment_id": 101237867, "body": "I totally agree that your solution should be used if you know the locale. Unfortunately in my case I don&#39;t know the locale and in fact it can be mixed - not within a single string, but within the strings that I want to search. Fortunately the strings are limited to only a few different locales and for these cases the solution of @Morphyish works well enough. I&#39;ll integrate the &#223;/SS case though."}, {"owner": {"reputation": 5148, "user_id": 53276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330bc82a1e67a4fcbd08ebe471212440?s=128&d=identicon&r=PG", "display_name": "Mihai Nita", "link": "https://stackoverflow.com/users/53276/mihai-nita"}, "reply_to_user": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "edited": false, "score": 0, "creation_date": 1565170981, "post_id": 57363279, "comment_id": 101264994, "body": "The lack of locale info only affects item 3, the others are still handled better with the Collator. \u2022 Even if you don&#39;t know the locale, you can use the default locale, or even &quot;en&quot;, and you will get better results than NFC + lowercase. For default locale use Intl.Collator([], {sensitivity:&quot;base&quot;}). \u2022 The  &#223;/SS is just an example, you should not &quot;solve&quot; it by treating it as a special case. I can give you examples from Greek, if you want :-) \u2022 If you really-really want  to go the NFD way (why?), at least use uppercase."}, {"owner": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "edited": false, "score": 0, "creation_date": 1565281084, "post_id": 57363279, "comment_id": 101313564, "body": "I&#39;m trying to make Intl.Collator work, but always get an empty result:    ```   const myStrings = [&quot;\u010covjek&quot;, &quot;hello&quot;];   const searchText = &quot;co&quot;;   const collator = Intl.Collator(undefined, { sensitivity: &quot;base&quot;, usage: &quot;search&quot; });   const filteredStrings = myStrings.filter((s) =&gt; { return collator.compare(s, this.searchText) === 0; });   ```      I guess I&#39;m misunderstanding <code>usage: &quot;search&quot;</code>. This option does not seem to enable partial matches."}], "tags": [], "owner": {"reputation": 5148, "user_id": 53276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/330bc82a1e67a4fcbd08ebe471212440?s=128&d=identicon&r=PG", "display_name": "Mihai Nita", "link": "https://stackoverflow.com/users/53276/mihai-nita"}, "is_accepted": false, "score": 1, "last_activity_date": 1565025438, "creation_date": 1565025438, "answer_id": 57363279, "question_id": 57299098, "link": "https://stackoverflow.com/questions/57299098/how-to-detect-special-unicode-characters-as-equal-to-their-base-character/57363279#57363279", "title": "How to detect special Unicode characters as equal to their base character?", "body": "<p><strong>Better solution (TLDR):</strong></p>\n\n<pre><code>Intl.Collator(locale, {sensitivity:\"base\"}).compare(str1, str2)\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Collator\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Collator</a></p>\n\n<p>It is less error-prone than NFD / replace accents / lowercase.</p>\n\n<p>You can of course create the collator and reuse it:</p>\n\n<pre><code>var col = new Intl.Collator(\"cz\", {sensitivity:\"base\"});\nvar result = col.compare(\"\u010covjek\", \"covjek\")\n</code></pre>\n\n<hr>\n\n<p><strong>Details</strong></p>\n\n<p>Some problems with the NFD approach:\n1. the differences can consistent of more than accents\n2. the regexp does not cover all accents\n3. lowercase conversion should be locale sensitive, not using the generic one\n4. uppercase would be better than uppercase</p>\n\n<p><strong>1. There is more than accents (example)</strong></p>\n\n<p>In Japanese there are \"narrow\" and \"wide\" forms for Kana, so \"\uff7d\" == \"\u30b9\"\nBut</p>\n\n<pre><code>\"\uff7d\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\uff7d\"\n\"\u30b9\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\u30b9\"\n</code></pre>\n\n<p>Not equal</p>\n\n<p>But using Collator</p>\n\n<pre><code>Intl.Collator(\"jp\", {sensitivity:\"base\"}).compare(\"\uff7d\", \"\u30b9\") =&gt; 0 (equal, correct)\n</code></pre>\n\n<p><strong>2. The regexp does not cover all accents (example)</strong></p>\n\n<p>Or Hebrew vowels (Niqqud) (<a href=\"https://en.wikipedia.org/wiki/Niqqud\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Niqqud</a>)</p>\n\n<pre><code>\"\u05db\u05b0\u05bc\u05ea\u05b4\u05d9\u05d1 \u05de\u05b8\u05dc\u05b5\u05d0\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\u05db\u05b0\u05bc\u05ea\u05b4\u05d9\u05d1 \u05de\u05b8\u05dc\u05b5\u05d0\"\n\"\u05db\u05ea\u05d9\u05d1 \u05de\u05dc\u05d0\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\u05db\u05ea\u05d9\u05d1 \u05de\u05dc\u05d0\"\n</code></pre>\n\n<p>Not equal</p>\n\n<p>But using Collator</p>\n\n<pre><code>Intl.Collator(\"he\", {sensitivity:\"base\"}).compare(\"\u05db\u05ea\u05d9\u05d1 \u05de\u05dc\u05d0\", \"\u05db\u05b0\u05bc\u05ea\u05b4\u05d9\u05d1 \u05de\u05b8\u05dc\u05b5\u05d0\")\n</code></pre>\n\n<p>The result is 0 (equal, correct)</p>\n\n<p>Similar for Arabic (<a href=\"https://en.wikipedia.org/wiki/Arabic_diacritics\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Arabic_diacritics</a>)</p>\n\n<p><strong>3. Locale sensitivity example</strong></p>\n\n<p>Take the \"well known Turkish I problem\" (<a href=\"https://en.wikipedia.org/wiki/Dotted_and_dotless_I\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Dotted_and_dotless_I</a>)</p>\n\n<pre><code>\"\u0131\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\u0131\"\n\"I\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"i\"\n</code></pre>\n\n<p>So the result would be \"not equal\"</p>\n\n<p>Using the collator, with bad a non-Turkish locale:</p>\n\n<pre><code>Intl.Collator(\"fr\", {sensitivity:\"base\"}).compare(\"\u0131\", \"I\") =&gt; 1 // not equal\n</code></pre>\n\n<p>Using the (correct) Turkish locale:</p>\n\n<pre><code>Intl.Collator(\"tr\", {sensitivity:\"base\"}).compare(\"\u0131\", \"I\") =&gt; 0 // equal\n</code></pre>\n\n<p>So the locale matters</p>\n\n<p><strong>4. \"Why uppercase\" example</strong></p>\n\n<p>In German \"\u00df\" uppercases to \"SS\" so \"\u00df\" == \"SS\" ignoring case\nBut</p>\n\n<pre><code>str1 = \"\u00df\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"\u00df\"\nstr2 = \"SS\".normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\").toLowerCase(); =&gt; \"SS\"\n</code></pre>\n\n<p>So the result would be \"not equal\"</p>\n\n<p>But</p>\n\n<pre><code>Intl.Collator(\"de\", {sensitivity:\"base\"}).compare(\"SS\", \"\u00df\") =&gt; 0 (equal, correct)\n</code></pre>\n\n<p><strong>Note:</strong> These are just some examples. Even if you say <em>\"I don't care about Japanese / Hebrew / Turkish\"</em> the proposed answer (with NFD) will fail in other locales. It is just not a good approach. Collator was designed to compare strings in an i18n aware way.</p>\n"}], "owner": {"reputation": 125, "user_id": 6532551, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2571fd64dd346bbecdac857c99600c09?s=128&d=identicon&r=PG&f=1", "display_name": "Timo Kunze", "link": "https://stackoverflow.com/users/6532551/timo-kunze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 57299140, "answer_count": 2, "score": 0, "last_activity_date": 1565025438, "creation_date": 1564608609, "question_id": 57299098, "link": "https://stackoverflow.com/questions/57299098/how-to-detect-special-unicode-characters-as-equal-to-their-base-character", "title": "How to detect special Unicode characters as equal to their base character?", "body": "<p>I want to implement a search field that will also find strings like \"\u010covjek\" when entering \"covjek\". Of course I could hard-code every pair of a special character and its base character, but I guess there is a better way. Does anybody know how to achieve such kind of string comparison with Typescript/Javascript?</p>\n"}, {"tags": ["javascript", "node.js", "json"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 1, "creation_date": 1564608600, "post_id": 57299085, "comment_id": 101092051, "body": "What&#39;s an example of the data? And which line does the error occur on?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9790607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9118d5826320e94e402dd5c611a702a7?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9790607/dan"}, "edited": false, "score": 0, "creation_date": 1564645751, "post_id": 57299108, "comment_id": 101101240, "body": "That&#39;s the thing - it is not"}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "reply_to_user": {"reputation": 31, "user_id": 9790607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9118d5826320e94e402dd5c611a702a7?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9790607/dan"}, "edited": false, "score": 0, "creation_date": 1564646082, "post_id": 57299108, "comment_id": 101101406, "body": "What&#39;s the value of <code>databaseData</code> and <code>json</code> when you have an error then ? because it&#39;s not a valid JSON format for sure, and we won&#39;t be able to help you further without knowing why it&#39;s not a valid JSON format."}, {"owner": {"reputation": 31, "user_id": 9790607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9118d5826320e94e402dd5c611a702a7?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9790607/dan"}, "edited": false, "score": 0, "creation_date": 1564647586, "post_id": 57299108, "comment_id": 101102239, "body": "You were right. It was a wrong database pull."}], "tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": true, "score": 2, "last_activity_date": 1564608663, "creation_date": 1564608663, "answer_id": 57299108, "question_id": 57299085, "link": "https://stackoverflow.com/questions/57299085/json-parsejson-stringifydata-returning-an-error/57299108#57299108", "title": "JSON.parse(JSON.stringify(data)) returning an error", "body": "<p>The unexpected <code>u</code> is the <code>u</code> of <code>undefined</code>. Check the value of <code>databaseData</code> because it's probably empty.</p>\n"}], "owner": {"reputation": 31, "user_id": 9790607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9118d5826320e94e402dd5c611a702a7?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/9790607/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "closed_date": 1564609935, "accepted_answer_id": 57299108, "answer_count": 1, "score": -1, "last_activity_date": 1564609014, "creation_date": 1564608543, "last_edit_date": 1564609014, "question_id": 57299085, "link": "https://stackoverflow.com/questions/57299085/json-parsejson-stringifydata-returning-an-error", "closed_reason": "Duplicate", "title": "JSON.parse(JSON.stringify(data)) returning an error", "body": "<p><code>JSON.parse(JSON.stringify(data))</code> returns an error: \"Unexpected token u in JSON at position 0\".</p>\n\n<p>I suspect <code>JSON.parse(JSON.stringify(data))</code> returns an error because <code>JSON.parse()</code> ends before <code>JSON.stringify(data)</code>. I tried to run the code on another file and it worked, so I really don't know how to solve it. </p>\n\n<p>I tried promises and whiles between the acts.</p>\n\n<pre><code>getDataInArray = databaseData =&gt; {\n    console.log(databaseData);\n\n    let json = JSON.stringify(databaseData);\n    console.log(json);\n\n    let array = JSON.parse(json);\n    console.log(array);\n\n    return array;\n};\n</code></pre>\n\n<p>The expected type of result from <code>getDataInArray</code>: array.\nThe result: error (Unexpected token u in JSON at position 0)</p>\n"}, {"tags": ["javascript", "html", "css", "border", "padding"], "answers": [{"tags": [], "owner": {"reputation": 364, "user_id": 10103803, "user_type": "registered", "profile_image": "https://graph.facebook.com/2106886832718024/picture?type=large", "display_name": "marzique", "link": "https://stackoverflow.com/users/10103803/marzique"}, "is_accepted": true, "score": 3, "last_activity_date": 1564610785, "last_edit_date": 1564610785, "creation_date": 1564609793, "answer_id": 57299271, "question_id": 57299084, "link": "https://stackoverflow.com/questions/57299084/is-there-a-property-or-workaround-for-padding-radius/57299271#57299271", "title": "Is there a property or workaround for padding-radius?", "body": "<p>add <code>overflow: hidden;</code> to your parent button, so child's content will be hidden</p>\n\n<pre><code>button {\n    height:200px;\n    width:200px;\n    background-color:gold;\n    border-radius: 50%;\n    overflow: hidden;\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/nd5po7rg/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nd5po7rg/1/</a> I updated your fiddle</p>\n\n<p><strong>EDIT:</strong>\nI applied some more styles to make text more centered\ntake a look: <a href=\"https://jsfiddle.net/1fd5rksg/19/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/1fd5rksg/19/</a></p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 10981876, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F3kfi.jpg?s=128&g=1", "display_name": "rominakandrachoff", "link": "https://stackoverflow.com/users/10981876/rominakandrachoff"}, "is_accepted": false, "score": 2, "last_activity_date": 1564615472, "creation_date": 1564615472, "answer_id": 57300002, "question_id": 57299084, "link": "https://stackoverflow.com/questions/57299084/is-there-a-property-or-workaround-for-padding-radius/57300002#57300002", "title": "Is there a property or workaround for padding-radius?", "body": "<p>Hi If I understand correctly, what you're looking for is something like that: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Show an element\r\nvar show = function (elem) {\r\n\telem.classList.add('is-visible');\r\n};\r\n\r\n// Hide an element\r\nvar hide = function (elem) {\r\n\telem.classList.remove('is-visible');\r\n};\r\n\r\n// Toggle element visibility\r\nvar toggle = function (elem) {\r\n\telem.classList.toggle('is-visible');\r\n};\r\n\r\n// Listen for click events\r\ndocument.addEventListener('click', function (event) {\r\n\r\n\t// Make sure clicked element is our toggle\r\n\tif (!event.target.classList.contains('toggle')) return;\r\n\r\n\t// Prevent default link behavior\r\n\tevent.preventDefault();\r\n\r\n\t// Get the content\r\n\tvar content = document.querySelector(event.target.hash);\r\n\tif (!content) return;\r\n\r\n\t// Toggle the content\r\n\ttoggle(content);\r\n\r\n}, false);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.toggle-content {\r\n\tdisplay: none;\r\n}\r\n\r\n.toggle-content.is-visible {\r\n\tdisplay: block;\r\n}\r\n\r\nbutton {\r\n\theight:200px;\r\n\twidth:200px;\r\n\tbackground-color:gold;\r\n\tborder-radius: 50%;\r\n  cursor: pointer;\r\n\r\n}\r\n.with-padding {\r\n\tpadding:50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>\t\t\t&lt;button&gt;\r\n\t\t\t\t\t&lt;a class=\"toggle with-padding\" href=\"#example\"&gt;\r\n\t\t\t\t\t\t\tClick me to make my friend appear/disappear\r\n\t\t\t\t\t&lt;/a&gt;\r\n\t\t\t&lt;/button&gt;\r\n\t\t\t&lt;button class=\"toggle-content\" id=\"example\"&gt;\r\n        I am friend&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope this will help you.</p>\n"}], "owner": {"reputation": 95, "user_id": 9065675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/446609a82a60b6f03e6dc02c4470cc36?s=128&d=identicon&r=PG&f=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9065675/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57299271, "answer_count": 2, "score": 1, "last_activity_date": 1564615472, "creation_date": 1564608542, "question_id": 57299084, "link": "https://stackoverflow.com/questions/57299084/is-there-a-property-or-workaround-for-padding-radius", "title": "Is there a property or workaround for padding-radius?", "body": "<p>I am using a circular button,\n<code>border-radius:50%;</code></p>\n\n<p>And I have an  element inside of my  element, in order to make the entire button clickable, and not just the content inside of my  element.</p>\n\n<p>When I add padding to the  element, it makes it so that the entire button is clickable, but due to the fact that the border-radius is 50%, the corners of the button that shouldn't be clickable, are clickable. </p>\n\n<p>I hope this outlines my problem enough, I'll include a jsfiddle if possible.</p>\n\n<p><a href=\"https://jsfiddle.net/nmcloota/7c95q1ov/5/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nmcloota/7c95q1ov/5/</a></p>\n"}, {"tags": ["javascript", "angular", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564639494, "post_id": 57302306, "comment_id": 101098402, "body": "How do I create the form controls"}, {"owner": {"reputation": 81, "user_id": 9590799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5ce107a05655d38901bf6ecce92865?s=128&d=identicon&r=PG&f=1", "display_name": "vinod krishna", "link": "https://stackoverflow.com/users/9590799/vinod-krishna"}, "reply_to_user": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564640190, "post_id": 57302306, "comment_id": 101098632, "body": "Can you please upload your code in stackblitz and share the link"}], "tags": [], "owner": {"reputation": 81, "user_id": 9590799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a5ce107a05655d38901bf6ecce92865?s=128&d=identicon&r=PG&f=1", "display_name": "vinod krishna", "link": "https://stackoverflow.com/users/9590799/vinod-krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1564637141, "creation_date": 1564637141, "answer_id": 57302306, "question_id": 57299068, "link": "https://stackoverflow.com/questions/57299068/dynamically-creating-a-form-of-checkboxes-from-nested-json-with-reactiveforms/57302306#57302306", "title": "Dynamically creating a form of checkboxes from nested JSON with ReactiveForms", "body": "<p>Rather than putting children as a separate array you can mention inside parent.</p>\n\n<pre><code>var hobbies = [{\n        \"parent\": {\n            \"parentId\": \"dMGkZuB8JV\",\n            \"title\": \"Music\",\n            \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\"\n            \"children\": [{\n                 \"title\": \"Jazz\",\n                 \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n                 \"about\": \"\",\n                  \"selected\": false\n                  }, {\n            \"title\": \"Rock\",\n            \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n            \"about\": \"\",\n            \"selected\": false\n        }, {\n            \"title\": \"Classical\",\n            \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n            \"about\": \"\",\n            \"selected\": false\n        }, {\n            \"title\": \"Soul\",\n            \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n            \"about\": \"\",\n            \"selected\": false\n        }]\n\n        }\n\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564645509, "post_id": 57303928, "comment_id": 101101100, "body": "Wow this is fantastic!"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564645605, "post_id": 57303928, "comment_id": 101101161, "body": "K@Kravitz, no, it&#39;s not good, I mkae with heck, and you&#39;re using ion-select. I supouse multiple. Let me a time to update my answer with ion-select multiple"}, {"owner": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564646109, "post_id": 57303928, "comment_id": 101101420, "body": "Awesome thanks, also how would you go about validating to make sure at least 2/3 are selected"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564647829, "post_id": 57303928, "comment_id": 101102368, "body": "I updated my answer using ion-select. I don&#39;t know what do you want to say &quot;at leas 2/3 are selected&quot; form all or at least one on each option? If you want that was select 2/3 of all, you need that the validator was over all the form"}, {"owner": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564648239, "post_id": 57303928, "comment_id": 101102551, "body": "Also its not an ion select :) its just ion-input checkboxes but awesome to have that example too... Im trying to use this min validator with the checkboxes but it doesnt work, the form stays invalid"}, {"owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "reply_to_user": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "edited": false, "score": 0, "creation_date": 1564649950, "post_id": 57303928, "comment_id": 101103464, "body": "update answer and the first stackblitz (you need create a customValidator). It&#39;s only a function that return null or an object"}], "tags": [], "owner": {"reputation": 28589, "user_id": 8558186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af66bb1af6d1875a2dd7be9dd1c8d2b?s=128&d=identicon&r=PG&f=1", "display_name": "Eliseo", "link": "https://stackoverflow.com/users/8558186/eliseo"}, "is_accepted": true, "score": 1, "last_activity_date": 1565353893, "last_edit_date": 1565353893, "creation_date": 1564644832, "answer_id": 57303928, "question_id": 57299068, "link": "https://stackoverflow.com/questions/57299068/dynamically-creating-a-form-of-checkboxes-from-nested-json-with-reactiveforms/57303928#57303928", "title": "Dynamically creating a form of checkboxes from nested JSON with ReactiveForms", "body": "<p>Kravitz, first think about what do you want to change. You can planning change only selected, or all the object.</p>\n\n<p>I supouse you want to change only the \"check\", so you need a formArray of formArrays</p>\n\n<pre><code>  hobbiesForm: FormArray\n  ngOnInit() {\n    this.hobbiesForm = new FormArray(this.hobbies.map(x =&gt; new FormArray([], this.customValidator())))\n\n    //this give so formArray as hobbies you get\n    this.hobbies.forEach((x, index) =&gt; {  //for each hobiee\n        const array=this.hobbiesForm.at(index) as FormArray\n        x.children.forEach(c=&gt;{\n          array.push(new FormControl(c.selected))\n        })\n      })\n  }\n</code></pre>\n\n<p>It's a few complex manage a formArray of FormArrays, but you only need take account that when we make <code>*ngFor=\"let control of formArray.controls\"</code>, \"control\" is the element in the array. So in <code>hobbiesForm.controls</code> will be a FormArray and inside the formArray will be a control.</p>\n\n<p>Well, better in code</p>\n\n<pre><code>&lt;form [formGroup]=\"hobbiesForm\" (submit)=\"submit(hobbiesForm)\"&gt;\n  &lt;!--array is the inner FormArray---&gt;\n  &lt;div *ngFor=\"let array of hobbiesForm.controls;let i=index\"&gt;\n    &lt;b&gt;{{hobbies[i].parent.title}}:&lt;/b&gt;\n    &lt;!--control is the inner control of the array--&gt;\n    &lt;div *ngFor=\"let control of array.controls;let j=index\"&gt;\n    &lt;label&gt;{{hobbies[i].children[j].title}}&lt;/label&gt;\n    &lt;input  type=\"checkbox\" [formControl]=\"control\"&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;button&gt;submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Well, in submit we perhafs want to change the \"hobbies\" object, remember that we only has in value some like <code>[[true,false,false,true],[false],[true,false,false]]</code></p>\n\n<pre><code>submit(form)\n  {\n    if (form.valid)\n    {\n      form.value.forEach((x,i)=&gt;\n      {\n         x.forEach((c,j)=&gt;{\n            this.hobbies[i].children[j].selected=c;\n         })\n      })\n      console.log(this.hobbies)\n    }\n  }\n</code></pre>\n\n<p>A customValidator can be like</p>\n\n<pre><code>customValidator() {\n    return (formArray: FormArray) =&gt; {\n      return formArray.value.filter(x=&gt;x).length&gt;0?null:{error:\"at leat one\"}\n    }\n  }\n</code></pre>\n\n<p>If is over all the form</p>\n\n<pre><code>customValidatorOverAll(min)\n  {\n    return (formArray: FormArray) =&gt; {\n      let count=0;\n\n      formArray.value.forEach(x=&gt;{\n         count+=x?x.filter(c=&gt;c).length:0;\n      })\n      return count&gt;=min?null:{error:\"At least select \"+min}\n    }\n  }\n</code></pre>\n\n<p>you can see it in this <a href=\"https://stackblitz.com/edit/angular-nxjadq?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n\n<p><strong>Update</strong> well, this question is about ion-select. A ion-select multiple return an array with the values, so the things are very different. We are goin to obtain some like\n<code>[[\"Jazz\",\"Rock\"][\"dat aprocessing\"],[\"camping\"]]</code></p>\n\n<p>Thats an array of array but, we need an array of FormControls only. yes a FormControl can store any thing even an array. So</p>\n\n<pre><code>  ngOnInit() {\n    this.hobbiesForm = new FormArray(\n      this.hobbies.map(x =&gt; new FormControl('', this.customValidator())))\n  }\n</code></pre>\n\n<p>And our .html some like</p>\n\n<pre><code>&lt;form [formGroup]=\"hobbiesForm\" (submit)=\"submit(hobbiesForm)\"&gt;\n    &lt;ion-item *ngFor=\"let control of hobbiesForm.controls;let i=index\"&gt;\n        &lt;ion-label&gt;{{hobbies[i].parent.title}}:&lt;/ion-label&gt;\n\n        &lt;ion-select [formControl]=\"control\" multiple=\"true\" cancelText=\"cancel\" okText=\"ok\"&gt;\n            &lt;ion-option *ngFor=\"let hobbiee of hobbies[i].children; let i = index\" \n               [value]=\"hobbiee.title\" selected=\"false\"&gt;{{hobbiee.title}}&lt;/ion-option&gt;\n        &lt;/ion-select&gt;\n    &lt;/ion-item&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Again we iterate over <code>hobbiesForm.controls</code>. But in this case, the select gives us an array.</p>\n\n<p>Well, I put a customValidator. If we want that at least was select one it's only that our customValidator was like</p>\n\n<pre><code>customValidator() {\n    return (formControl: FormControl) =&gt; {\n      return formControl.value &amp;&amp; formControl.value.length&gt;0?null:{error:\"At least select one\"}\n    }\n  }\n</code></pre>\n\n<p>If we want a customValidator over All the form, we can use some like</p>\n\n<pre><code>customValidatorOverAll(min)\n  {\n    return (formArray: FormArray) =&gt; {\n      let count=0;\n      formArray.value.forEach(x=&gt;{\n         count+=x.length;\n      })\n      return count&gt;=min?null:{error:\"At least select \"+min}\n    }\n  }\n</code></pre>\n\n<p>And when we create the formArray </p>\n\n<pre><code>this.hobbiesForm = new FormArray(this.hobbies.map(x =&gt; new FormControl(''))\n,this.customValidatorOverAll(2))\n</code></pre>\n\n<p>The <a href=\"https://stackblitz.com/edit/ionic-select-multiple-jan8x5?file=pages%2Fhome%2Fhome.html\" rel=\"nofollow noreferrer\">ion-select stackblitz</a></p>\n\n<p>NOTE: See that we iterate over <code>formArray.controls</code>, not over hobbies object, and use two index i,j and hobbies object to show the \"labels\", but this don't belong to the formArray</p>\n"}], "owner": {"reputation": 1977, "user_id": 3461985, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/7117984bdaa3bbb4167960100304734e?s=128&d=identicon&r=PG&f=1", "display_name": "Kravitz", "link": "https://stackoverflow.com/users/3461985/kravitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 57303928, "answer_count": 2, "score": 0, "last_activity_date": 1565353893, "creation_date": 1564608451, "question_id": 57299068, "link": "https://stackoverflow.com/questions/57299068/dynamically-creating-a-form-of-checkboxes-from-nested-json-with-reactiveforms", "title": "Dynamically creating a form of checkboxes from nested JSON with ReactiveForms", "body": "<p>I have a data structure which consists of a parent category such as music. its title is defines in the object under <code>hobbies[0].parent.title</code> I want to have a ngFor which outputs this title out (I have no issues here), then under that there will be another nested ngFor dealing with the sub-genres which is under the <code>hobbies[0].children[i]</code> as an array - I would like to output these as checkboxes which is again no problem but the issue arises when I try to make them a reactive form, my basic need is to validate that at least 1 or 2 have been checked and to get the info of the checked item, with ReactiveForms I have a good idea how to achieve this without a nested json struct, its really throwing me off</p>\n\n<p>I have tried a ton of different approaches in these articles but I cant seem to get it to work, any help much appreciated.</p>\n\n<p><a href=\"https://stackblitz.com/edit/form-array-3-levels\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/form-array-3-levels</a></p>\n\n<p><a href=\"https://medium.com/hashtaagco/3-levels-of-nested-form-arrays-including-reactive-validations-we-decided-to-go-inception-mode-on-4fffe667fb2a\" rel=\"nofollow noreferrer\">https://medium.com/hashtaagco/3-levels-of-nested-form-arrays-including-reactive-validations-we-decided-to-go-inception-mode-on-4fffe667fb2a</a></p>\n\n<p><a href=\"https://www.toptal.com/angular-js/angular-4-forms-validation\" rel=\"nofollow noreferrer\">https://www.toptal.com/angular-js/angular-4-forms-validation</a></p>\n\n<p><a href=\"https://jenniferwadella.com/blog/managing-dynamic-and-nested-forms-angular\" rel=\"nofollow noreferrer\">https://jenniferwadella.com/blog/managing-dynamic-and-nested-forms-angular</a></p>\n\n<p>Ive been playing around with this for a few hours by my html has stayed the same </p>\n\n<pre><code>  &lt;form [formGroup]=\"form\"  action=\"\"&gt;\n    &lt;label *ngFor=\"let parent of fetchInterests; let i = index\"&gt;\n      &lt;div  *ngFor=\"let item of parent.children; let i = index\"&gt;\n        &lt;ion-checkbox &gt;&lt;/ion-checkbox&gt;  {{  item.title }} {{  item.selected }}\n      &lt;/div&gt;\n    &lt;/label&gt;\n  &lt;/form&gt; \n</code></pre>\n\n<p>my json demo data is  below</p>\n\n<pre><code>var hobbies = [{\n            \"parent\": {\n                \"parentId\": \"dMGkZuB8JV\",\n                \"title\": \"Music\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\"\n            },\n            \"children\": [{\n                \"title\": \"Jazz\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }, {\n                \"title\": \"Rock\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }, {\n                \"title\": \"Classical\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }, {\n                \"title\": \"Soul\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/music/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }]\n        }, {\n            \"parent\": {\n                \"parentId\": \"19h2yOfZaq\",\n                \"title\": \"computers and systems\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/it/placeholder.jpg\"\n            },\n            \"children\": [{\n                \"title\": \"data processing\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/it/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }]\n        }, {\n            \"parent\": {\n                \"parentId\": \"m2zQkAgOog\",\n                \"title\": \"African planes\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/outdoors/placeholder.jpg\"\n            },\n            \"children\": [{\n                \"title\": \"camping\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/outdoors/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }, {\n                \"title\": \"swimming\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/outdoors/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }, {\n                \"title\": \"hunting\",\n                \"hero\": \"https://s3-eu-west-1.amazonaws.com/outdoors/placeholder.jpg\",\n                \"about\": \"\",\n                \"selected\": false\n            }]\n        }]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1778, "user_id": 9750662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b512d0e6e73b0b01c8a0ea6e94df6bf2?s=128&d=identicon&r=PG&f=1", "display_name": "remeus", "link": "https://stackoverflow.com/users/9750662/remeus"}, "edited": false, "score": 0, "creation_date": 1564610069, "post_id": 57299027, "comment_id": 101092494, "body": "If you want only one popup then it should be a child of &lt;Board /&gt; and not of &lt;BoardClue /&gt;. You could still open it from the latter by passing a handleClick prop to it."}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 5469101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2738c169c4128329a56b067ffaf47df?s=128&d=identicon&r=PG", "display_name": "Atom", "link": "https://stackoverflow.com/users/5469101/atom"}, "edited": false, "score": 0, "creation_date": 1564614310, "post_id": 57299385, "comment_id": 101093420, "body": "Thank you so much! You are a genius! :D"}], "tags": [], "owner": {"reputation": 1446, "user_id": 1930817, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/66Aja.jpg?s=128&g=1", "display_name": "guzmonne", "link": "https://stackoverflow.com/users/1930817/guzmonne"}, "is_accepted": true, "score": 0, "last_activity_date": 1564610463, "creation_date": 1564610463, "answer_id": 57299385, "question_id": 57299027, "link": "https://stackoverflow.com/questions/57299027/how-to-open-a-single-popup-in-react-on-click-and-pass-props-to-it/57299385#57299385", "title": "How to open a single popup in React on click and pass props to it", "body": "<p>There are many ways and libraries that can help you build a modal, but, you can do it just with React and CSS. Here is my take on your case:</p>\n\n<p><a href=\"https://codesandbox.io/embed/board-popup-7tyir\" rel=\"nofollow noreferrer\">CodeSandbox - Board Popup</a></p>\n\n<p>Using <code>React.useState</code> We generate the local state to manage the <code>Popup</code> visibility. We toggle it by clicking on the question boxes. The overlay <code>div</code> is to bring the <code>Panel</code> in to focus and to make it impossible to click another box. To close it you can click on the <code>overlay</code> or the <code>clue</code>.</p>\n\n<p>Please check <a href=\"https://reactjs.org/docs/hooks-reference.html\" rel=\"nofollow noreferrer\">React's Hooks documentation page</a> to learn how to use them. They are not the only way to handle state, but it's one of the easiest.</p>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 51, "user_id": 5469101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2738c169c4128329a56b067ffaf47df?s=128&d=identicon&r=PG", "display_name": "Atom", "link": "https://stackoverflow.com/users/5469101/atom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "accepted_answer_id": 57299385, "answer_count": 1, "score": 1, "last_activity_date": 1564610463, "creation_date": 1564608199, "question_id": 57299027, "link": "https://stackoverflow.com/questions/57299027/how-to-open-a-single-popup-in-react-on-click-and-pass-props-to-it", "title": "How to open a single popup in React on click and pass props to it", "body": "<p>I'm fairly inexperienced in React, so I'm building a Jeopardy game in it. Right now, my idea is to open a popup by clicking on the boxes on the Jeopardy board and displaying the clue of the clicked box component in the popup. I don't want to have multiple popups for each clue, since I just want the popup to update its contents with the specific clue selected.  </p>\n\n<p>I'm stuck on how to implement this, I initially attempted this by including the BoardPopup component in the BoardClue component, but that didn't seem to be an ideal way of doing this as it obviously just created multiple popups.  </p>\n\n<p>My idea is to click the BoardClue component and pass the clue props to a single BoardPopup component. </p>\n\n<pre><code>function BoardPopup(props) {\n  return (\n    &lt;div className=\"popup\"&gt;\n      {props.clue}\n    &lt;/div&gt;\n  );\n}\n\nclass BoardClue extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      showPopup: false\n    }\n  }\n  handleClick = () =&gt; {\n    this.setState({\n      showPopup: !this.state.showPopup\n    })\n  }\n  render() {\n    return (\n      &lt;div className=\"board-clue\" onClick={this.handleClick}&gt;\n        &lt;div&gt;${this.props.value}&lt;/div&gt;\n        &lt;div style={{display:'none'}}&gt;{this.props.clue}&lt;/div&gt;\n        &lt;div style={{display:'none'}}&gt;{this.props.answer}&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>The render function of the Board component. Questions are fetched from a JSON file and mapped into BoardClue components.</p>\n\n<pre><code>  render() {\n    const error = this.state.error;\n    const isLoaded = this.state.isLoaded;\n    const questions = this.state.data.questions;\n\n    if (error) {\n      return &lt;div&gt;Error {error.message}&lt;/div&gt;;\n    } else if (!isLoaded) {\n      return &lt;div&gt;Loading...&lt;/div&gt;\n    } else {\n      const clues = questions.map((question, index) =&gt; {\n        return (\n          &lt;BoardClue key={index} value={question.value} clue={question.clue} answer={question.answer} /&gt;\n        );\n      });\n      return (\n        &lt;div className=\"board\"&gt;\n          {clues}\n        &lt;/div&gt;\n      );\n\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "paypal", "paypal-sandbox"], "comments": [{"owner": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "edited": false, "score": 1, "creation_date": 1564610042, "post_id": 57298890, "comment_id": 101092488, "body": "Have you considered something like the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API\" rel=\"nofollow noreferrer\">broadcast channel API</a>? If <code>&lt;RETURN_URL&gt;</code> has the same origin as your SPA, could you set up a channel listener in your SPA, have your <code>&lt;RETURN_URL&gt;</code> page post a message back to your SPA containing <code>window.location.search</code> for the queryparams, and then close itself on successful transmission?"}], "answers": [{"comments": [{"owner": {"reputation": 7249, "user_id": 4651083, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tFGST.png?s=128&g=1", "display_name": "Dimitris Karagiannis", "link": "https://stackoverflow.com/users/4651083/dimitris-karagiannis"}, "edited": false, "score": 0, "creation_date": 1564613682, "post_id": 57299689, "comment_id": 101093320, "body": "Nice, I didn&#39;t know about the Broadcast API at all, and I didn&#39;t know that storage modifications emit a <code>storage</code> event. I feel a better person."}], "tags": [], "owner": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "is_accepted": true, "score": 2, "last_activity_date": 1564613161, "last_edit_date": 1564613161, "creation_date": 1564612820, "answer_id": 57299689, "question_id": 57298890, "link": "https://stackoverflow.com/questions/57298890/passing-back-redirect-url-parameters-to-main-window-after-successful-paypal-logi/57299689#57299689", "title": "Passing back redirect url parameters to main window after successful Paypal login in popup window", "body": "<p>There are a lot of ways to share this data. I am assuming <em>your <code>{RETURN_URL}</code> and SPA are on the same origin.</em> Here are two approaches I came up with to communicate between your SPA and the pop-up.</p>\n\n<p>1) Use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Broadcast_Channel_API\" rel=\"nofollow noreferrer\">Broadcast Channel API</a> if the API is supported on browsers and versions you require <a href=\"https://caniuse.com/#feat=broadcastchannel\" rel=\"nofollow noreferrer\">(caniuse)</a>. No Safari, and limited Edge! Polyfills also exist.</p>\n\n<p>Here's some sample code you can use to try out the different approaches. Two pages (one's your SPA, the other one's the RETURN_URL you give for PayPal to send you to on completion).</p>\n\n<p>Your SPA <code>index.html</code>:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;My SPA&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script&gt;\n      const bc = new BroadcastChannel(\"my_spa_listener\");\n      window.open(\"./newpage.html?some=true&amp;query=hi&amp;params=cat\", \"_new\");\n      bc.onmessage = function(ev) {\n        console.log(\"Got a message from the pop-up: \", ev.data);\n      };\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>the pop-up <code>newpage.html</code>:</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;PayPal redirected me here&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;script&gt;\n      setTimeout(function() {\n        const bc = new BroadcastChannel(\"my_spa_listener\");\n        bc.postMessage(window.location.search);\n        bc.close();\n        window.close();\n      }, 2500);\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>2) Good old <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">localStorage</a>. You <a href=\"https://caniuse.com/#search=localstorage\" rel=\"nofollow noreferrer\">can use it</a> pretty much anywhere!</p>\n\n<p><code>index.html</code>:</p>\n\n<pre><code>const targetKey = \"popup-queryparams\";\nwindow.addEventListener(\"storage\", function(ev) {\n    if (ev.key === targetKey) {\n        console.log(\"Got the data: \", ev.newValue);\n        // clear key in case it conatins sensitive info\n        localStorage.removeItem(targetKey);\n    }\n});\nwindow.open(\"./newpage.html?some=true&amp;query=hi&amp;params=cat\", \"_new\");\n</code></pre>\n\n<p>Then in the pop-up, before you close the window, just do:</p>\n\n<p><code>localStorage.setItem(\"popup-queryparams\", window.location.search);</code></p>\n"}], "owner": {"reputation": 7249, "user_id": 4651083, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tFGST.png?s=128&g=1", "display_name": "Dimitris Karagiannis", "link": "https://stackoverflow.com/users/4651083/dimitris-karagiannis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 57299689, "answer_count": 1, "score": 0, "last_activity_date": 1564613161, "creation_date": 1564607480, "question_id": 57298890, "link": "https://stackoverflow.com/questions/57298890/passing-back-redirect-url-parameters-to-main-window-after-successful-paypal-logi", "title": "Passing back redirect url parameters to main window after successful Paypal login in popup window", "body": "<p>I have to implement a \"Connect with Paypal\" feature in a React SPA application. </p>\n\n<p>The login is implemented by using the Paypal provided code</p>\n\n<pre><code>paypal.use( [\"login\"], function(login) {\n        login.render ({\n            \"appid\": MYAPPID,\n            \"authend\": \"sandbox\",\n            \"scopes\": &lt;SCOPES&gt;,\n            \"containerid\": \"paypalButton\",\n            \"locale\": \"en-us\",\n            \"returnurl\": &lt;RETURN_URL&gt;\n        });\n    });\n</code></pre>\n\n<p>This opens a new popup window, which happens completely out of my control. The popup opens the Paypal login form, which after successful login, redirects to the <code>&lt;RETURN_URL&gt;</code>. </p>\n\n<p>All this happens in the popup window. Since this is a SPA, I don't want to refresh the page. </p>\n\n<p>What I need is a way to close the redirected popup, while also preserving the URL params that were passed back to it from Paypal, and have that information (the URL params) transferred to the main app window. </p>\n\n<p>Is this possible and if so how? The Paypal documentation is pretty outdated from what I can tell.</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-directive"], "comments": [{"owner": {"reputation": 6746, "user_id": 630614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d839f4ae809107700e1895cadd3591f5?s=128&d=identicon&r=PG", "display_name": "Charlie Schliesser", "link": "https://stackoverflow.com/users/630614/charlie-schliesser"}, "edited": false, "score": 0, "creation_date": 1564607478, "post_id": 57298837, "comment_id": 101091716, "body": "What&#39;s the code for the parent controller where <code>getObject()</code> is defined?"}, {"owner": {"reputation": 315, "user_id": 1951580, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/418476de0839ae460e061b3e106df7d5?s=128&d=identicon&r=PG&f=1", "display_name": "patbuh", "link": "https://stackoverflow.com/users/1951580/patbuh"}, "reply_to_user": {"reputation": 6746, "user_id": 630614, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d839f4ae809107700e1895cadd3591f5?s=128&d=identicon&r=PG", "display_name": "Charlie Schliesser", "link": "https://stackoverflow.com/users/630614/charlie-schliesser"}, "edited": false, "score": 0, "creation_date": 1564608482, "post_id": 57298837, "comment_id": 101092020, "body": "<code>getObject()</code> binds to <code>$scope.object</code> in the parent controller. It&#39;s not something I implement, it&#39;s just the nature of how I used <code>&amp;object</code>, but calling <code>getObject()</code> simply returns <code>$parent.$scope.object</code>. I know it works through debugging, or simply using it in other local directive scope functions."}], "answers": [{"tags": [], "owner": {"reputation": 158, "user_id": 9386152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eba3ee96c016995140bc372ccdada8f3?s=128&d=identicon&r=PG&f=1", "display_name": "nima amr", "link": "https://stackoverflow.com/users/9386152/nima-amr"}, "is_accepted": false, "score": 0, "last_activity_date": 1564646032, "creation_date": 1564646032, "answer_id": 57304268, "question_id": 57298837, "link": "https://stackoverflow.com/questions/57298837/angularjs-initialise-local-variable-in-directive-controller-from-scope/57304268#57304268", "title": "AngularJS: Initialise local variable in directive controller from scope", "body": "<p>There are several ways can get data inside the parent controller  :</p>\n\n<blockquote>\n  <p>The first way :</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function () {\r\n  \"use strict\";\r\n      angular.module('yourApp',[])\r\n        .controller('parent',parentOptions)\r\n        .controller('child',childOptions)\r\n        \r\n          function parentOptions($scope){\r\n              function \r\n            console.log('hello parent');\r\n          }\r\n          \r\n           function childOptions($scope){\r\n            console.log('hello child');\r\n          }\r\n      \r\n\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.5/angular.min.js\"&gt;&lt;/script&gt;\r\n&lt;section data-ng-app=\"yourApp\"&gt;\r\n  &lt;div data-ng-controller=\"parent\"&gt;\r\n     &lt;div data-ng-controller=\"child\"&gt;\r\n     \r\n     &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<blockquote>\n  <p>Second way</p>\n</blockquote>\n\n<p>can use $controller and call parent controller inside child controller</p>\n\n<blockquote>\n  <p>Third way</p>\n</blockquote>\n\n<p>cat set getObject() inside $rootSope and call  $rootScope.getObject();</p>\n"}], "owner": {"reputation": 315, "user_id": 1951580, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/418476de0839ae460e061b3e106df7d5?s=128&d=identicon&r=PG&f=1", "display_name": "patbuh", "link": "https://stackoverflow.com/users/1951580/patbuh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564646032, "creation_date": 1564607176, "question_id": 57298837, "link": "https://stackoverflow.com/questions/57298837/angularjs-initialise-local-variable-in-directive-controller-from-scope", "title": "AngularJS: Initialise local variable in directive controller from scope", "body": "<p>Imagine a typical scenario where you have a parent controller and a directive with its own controller. From the parent controller, I am passing a one-way binding method that acts as a getter for some object (using &amp;) and I need to initialise a variable in the directive locally. First it will be initialised with what's in the parent (i.e. calls the getter), then it will be modified locally in the directive, and finally on destroy return it back to the parent. Here's is a snippet.</p>\n\n<pre><code>app.directive('myDirective', [..., function(...) {\n    return {\n        scope: {\n           getObject: '&amp;object',\n           onDestroy: '&amp;'\n        },\n        templateURL: .....,\n        controller: ['$scope', function($scope) {\n            // The problem is that when I do this, innerObject is {}.\n            // $scope.getObject() does return something correctly, not \n            // a question of bad binding, but because in the lifecycle \n            // it initialises innerObject before binding $scope.getObject()\n            var innerObject = deep_copy($scope.getObject());\n\n            $scope.someFunction = function() {\n                // alters innerObject, but not the parent Object\n            }\n\n            ... // on destroying the directive\n                onDestroy(innerObject)\n                // this basically updates the object in the parent controller\n\n        }\n    }\n}\n</code></pre>\n\n<p>My problem is that <code>innerObject</code> gets initialised too quickly, before <code>$scope.getObject</code> binds to the actual object value, thus it initialises as <code>{}</code> and not the object in the parent. If this were React, I'd have initialised it in a constructor with a prop.</p>\n\n<p>What am I missing here? </p>\n\n<p>Before anyone mentions it:</p>\n\n<ul>\n<li>No, I don't want to use two way binding. I only want to update the parent controller when the directive finishes a certain flow. </li>\n<li>I have a very good reason to be using <code>controller</code> and not <code>link</code></li>\n<li>I'm aware of <code>let</code> and <code>const</code>, but this is an old project</li>\n<li>I'd rather avoid events</li>\n</ul>\n"}, {"tags": ["javascript", "pushstate"], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 8631727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81f75774e00b8f5e55b9a1f0eef7e89b?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub Szymsza", "link": "https://stackoverflow.com/users/8631727/jakub-szymsza"}, "is_accepted": true, "score": 1, "last_activity_date": 1581029046, "creation_date": 1581029046, "answer_id": 60104666, "question_id": 57298797, "link": "https://stackoverflow.com/questions/57298797/javascript-pushstate-back-forward-button-not-working-as-expected/60104666#60104666", "title": "Javascript pushState - back / forward button not working as expected", "body": "<p>You will have to take care of rendering the content yourself using data pushed to history. </p>\n\n<p>You should provide first argument to <code>pushState</code> function with data. This can be some page ID or plain HTML content. For example:</p>\n\n<pre><code>window.history.pushState(currentPageID, null, qstring);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>window.history.pushState($(\"main\").html(), null, qstring);\n</code></pre>\n\n<p>Then in the event listener, you can get access to this data and use it to render your page, for example:</p>\n\n<pre><code>$(window).on(\"popstate\", e =&gt; {\n    alert(\"Back/Forward button was pressed.\");\n\n    // \"e.originalEvent.state\" contains the data passed in the first argument\n    console.log(e.originalEvent.state);\n    $(\"main\").html(e.originalEvent.state);\n});\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 11114587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1dqm8.png?s=128&g=1", "display_name": "mvanolden", "link": "https://stackoverflow.com/users/11114587/mvanolden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 60104666, "answer_count": 1, "score": 0, "last_activity_date": 1581029046, "creation_date": 1564606975, "last_edit_date": 1564607390, "question_id": 57298797, "link": "https://stackoverflow.com/questions/57298797/javascript-pushstate-back-forward-button-not-working-as-expected", "title": "Javascript pushState - back / forward button not working as expected", "body": "<p>I'm able to successfully push a url into the browser history using javascript window.history.pushState.  </p>\n\n<p>I can click the browser's back and forward buttons and the urls change as expected. However, it does not actually bring back the previous page's content.</p>\n\n<p>I can, manually, make this happen by clicking into the url bar and hitting the enter key, but I want to do this programmatically when the back or forward browser buttons are clicked.</p>\n\n<p>I've already tried:</p>\n\n<pre><code>$(window).on(\"popstate\", function() {\n  alert(\"Back/Forward button was pressed.\");\n  window.location.reload(); // &lt;-- brings back the page, but ruins the browser history stack. \n});\n</code></pre>\n\n<p>and</p>\n\n<pre><code>$(window).on(\"popstate\", function() {\n  alert(\"Back/Forward button was pressed.\");\n  window.location.href = window.location.href;\n});\n</code></pre>\n\n<p>My function to pushState:</p>\n\n<pre><code>var qstring = \"?q=mysearchquery\";\n\nfunction addURLToHistoryAPI(qstring) {\n  if (window.history &amp;&amp; window.history.pushState) {\n    window.history.pushState(null, null, qstring);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "html5-canvas"], "answers": [{"comments": [{"owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564626568, "post_id": 57300267, "comment_id": 101095655, "body": "Thanks for the help! Unfortunately it still isn&#39;t working... canvas.current is currently <code>null</code>. Is there something else that needs to be done so that it isn&#39;t null at that point in the render function?"}, {"owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564628455, "post_id": 57300267, "comment_id": 101095930, "body": "I should also note that with these changes I now get a <code>DOMException</code> in the try/catch block on the <code>componentWillMount</code>. If I do remove the try/catch block the error I get in the console is <code>Uncaught Error: The error you provided does not contain a stack trace.</code> Any idea what is up with that?"}, {"owner": {"reputation": 28, "user_id": 5184883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80a7cb40e3bd72445a5224bfbc338931?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.eggplant", "link": "https://stackoverflow.com/users/5184883/mr-eggplant"}, "reply_to_user": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564629402, "post_id": 57300267, "comment_id": 101096060, "body": "Yeah, sorry, I forgot to mention that you have to set the ref in your render function.  <code>&lt;canvas ref={this.canvasRef}&#47;&gt; </code>. I&#39;ll edit the answer"}, {"owner": {"reputation": 28, "user_id": 5184883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80a7cb40e3bd72445a5224bfbc338931?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.eggplant", "link": "https://stackoverflow.com/users/5184883/mr-eggplant"}, "reply_to_user": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564629529, "post_id": 57300267, "comment_id": 101096086, "body": "Not sure what exactly is causing the error without some more error logging. Try printing it with <code>console.error(err)</code> and see if that helps?"}, {"owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564629894, "post_id": 57300267, "comment_id": 101096146, "body": "<code>DOMException</code> is all I get in <code>console.error</code>. I have updated the code to reflect your suggested changes. This is happening when I try to get the stream from <code>navigator.mediaDevices.getUserMedia</code>"}, {"owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "edited": false, "score": 0, "creation_date": 1564630246, "post_id": 57300267, "comment_id": 101096220, "body": "Update: please ignore my previous comments, this has to do with the access of the camera being denied. Not sure when that happened. But now I can move on. unfortunately the whole issue with not being able to do this.canvasRed.current.getContext still stands"}], "tags": [], "owner": {"reputation": 28, "user_id": 5184883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80a7cb40e3bd72445a5224bfbc338931?s=128&d=identicon&r=PG&f=1", "display_name": "Mr.eggplant", "link": "https://stackoverflow.com/users/5184883/mr-eggplant"}, "is_accepted": false, "score": 1, "last_activity_date": 1564629445, "last_edit_date": 1564629445, "creation_date": 1564617904, "answer_id": 57300267, "question_id": 57298794, "link": "https://stackoverflow.com/questions/57298794/cant-display-canvas-element-for-react-picture-app/57300267#57300267", "title": "Can&#39;t display canvas element for react picture app", "body": "<p>As far as I can tell, imperative animations is still a very valid use case for refs:\n<a href=\"https://reactjs.org/docs/refs-and-the-dom.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/refs-and-the-dom.html</a>.</p>\n\n<p>In your constructor, declare your canvas: </p>\n\n<pre><code>this.canvasRef = React.createRef();\n</code></pre>\n\n<p>Then use it like so</p>\n\n<pre><code>const canvas = this.canvasRef.current;\nconst ctx = canvas.getContext(\"2d\");\n</code></pre>\n\n<p>And in your render function, assign the ref to your canvas element: </p>\n\n<pre><code>&lt;canvas ref={this.canvasRef} /&gt; \n</code></pre>\n\n<p>I personally found it pretty tricky to work Canvas into the react lifecycle but it definitely can be done. Good luck!</p>\n"}], "owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564629819, "creation_date": 1564606957, "last_edit_date": 1564629819, "question_id": 57298794, "link": "https://stackoverflow.com/questions/57298794/cant-display-canvas-element-for-react-picture-app", "title": "Can&#39;t display canvas element for react picture app", "body": "<p>I am trying to create a simple app to take a picture using reactJS.</p>\n\n<p>It seems that all of the examples I can find are old school using refs and all that fun stuff that we don't use anymore, which I am trying to avoid.</p>\n\n<p>But regardless, currently it is not working. According to the tutorials I have seen, I need to pass in my video element into the canvas, which I do not understand.</p>\n\n<p>Anyway my current component is as follows:</p>\n\n<pre><code>export default class Camera extends Component {\n constructor (props) {\n    super(props)\n\n    this.canvasRef = React.createRef()\n    this.videoRef = React.createRef()\n    this.state = {\n      stream: {}\n    }\n  }\n\n  async componentDidMount () {\n    try {\n      const stream = await navigator.mediaDevices.getUserMedia({ video: { width: 640, height: 480 } })\n\n      if (stream) {\n        this.setState({\n          stream\n        })\n      }\n    } catch (err) {\n      console.error(err)\n    }\n  }\n\n  render () {\n    const video = document.getElementById('video')\n    const context = (this.canvasRef &amp;&amp; this.canvasRef.getContext('2d'))\n    context &amp;&amp; context.drawImage(document.getElementById('video'), 0, 0, 640, 480)\n    return (\n      &lt;&gt;\n        &lt;video id='video' width='640' heigh='480' src={this.state.stream} autoPlay={true}/&gt;\n        &lt;button onClick={(evt) =&gt; console.warn('take photo')}&gt;Take photo!&lt;/button&gt;\n        &lt;div&gt;\n          &lt;canvas id='canvas' width='640' height='480' ref={ref =&gt; (this.canvasRef = ref)} /&gt;\n        &lt;/div&gt;\n      &lt;/&gt;\n    )\n  }\n}\n</code></pre>\n\n<p>As it stands all I am getting is a blank screen. The issue seems to be with the canvas, but I don't know what I did wrong.\nI should also mention that ideally I don't even want to use refs. I would like to just use props and maybe the state, but I suppose first I have to get it to work as it is right now.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 2760, "user_id": 3593896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJpxY.jpg?s=128&g=1", "display_name": "Webber", "link": "https://stackoverflow.com/users/3593896/webber"}, "edited": false, "score": 3, "creation_date": 1564606866, "post_id": 57298763, "comment_id": 101091474, "body": "uhm.. you forgot to ask a question."}, {"owner": {"reputation": 48290, "user_id": 209259, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/bSPBw.jpg?s=128&g=1", "display_name": "Erik Philips", "link": "https://stackoverflow.com/users/209259/erik-philips"}, "edited": false, "score": 2, "creation_date": 1564606913, "post_id": 57298763, "comment_id": 101091505, "body": "You question should include <b>all relevant code</b> to the question (this means Javascript AND HTML in this case)."}], "answers": [{"comments": [{"owner": {"reputation": 478, "user_id": 4996481, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4801ee1ff8b2a5787ba82f291f8655e0?s=128&d=identicon&r=PG&f=1", "display_name": "MasterNone", "link": "https://stackoverflow.com/users/4996481/masternone"}, "edited": false, "score": 0, "creation_date": 1564610013, "post_id": 57299048, "comment_id": 101092482, "body": "It sometimes doesnt slide back, new appears instantly? Also any way to stop fast clicking before the animations are complete, right now it breaks?"}], "tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": true, "score": 2, "last_activity_date": 1564608290, "creation_date": 1564608290, "answer_id": 57299048, "question_id": 57298763, "link": "https://stackoverflow.com/questions/57298763/slider-like-animation-of-divs-back-and-forth/57299048#57299048", "title": "Slider like animation of divs back and forth?", "body": "<p>To achieve expected result, use below option of adding .visible class and adding .hidden class to .visible class</p>\n\n<pre><code>var dataItem = $(this).attr(\"id\");\nvar hideDataItem = $(\".visible\").attr(\"id\");\n\n      $(\".visible\").removeClass(\"visible\");\n      $(\"#\" + dataItem).addClass(\"visible\");\n\n      $(\"#\" + hideDataItem).addClass(\"hidden\");\n</code></pre>\n\n<p>working code for reference</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"li\").on(\"click\", function() {\r\n  //alert('clicked');\r\n  var dataShow = $(this)\r\n    .children(\"a\")\r\n    .data(\"show\");\r\n\r\n  console.log(dataShow);\r\n  $(\"li\").removeClass(\"active\");\r\n  $(this).addClass(\"active\");\r\n  $(\".data-inner &gt; div\").each(function() {\r\n    var dataItem = $(this).attr(\"id\");\r\n    var hideDataItem = $(\".visible\").attr(\"id\");\r\n    if (dataShow === dataItem) {\r\n      $(\".visible\").animate(\r\n        {\r\n          left: \"-=500\"\r\n        },\r\n        1000,\r\n        function() {\r\n          // Animation complete.\r\n          //console.log('1anim complete');\r\n          $(\".visible\").removeClass(\"visible\");\r\n          $(\"#\" + dataItem).addClass(\"visible\");\r\n\r\n          $(\"#\" + hideDataItem).addClass(\"hidden\");\r\n          $(\"#\" + dataItem)\r\n            .attr(\"class\", \"visible\")\r\n            .animate(\r\n              {\r\n                left: \"0\"\r\n              },\r\n              1000,\r\n              function() {\r\n                // Animation complete.\r\n                //console.log('2anim complete');\r\n              }\r\n            );\r\n        }\r\n      );\r\n    }\r\n  }); // each\r\n}); //click</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  background: #666;\r\n  color: #ccc;\r\n}\r\n.hidden {\r\n  display: none;\r\n  left:-400px;\r\n}\r\n.visible {\r\n  display: block;\r\n  left:0;\r\n}\r\n.navigation-container {\r\n  display:inline-block;\r\n}\r\n.active {\r\n  color: red;\r\n}\r\n.data-container {\r\n  max-width:400px;\r\n  min-height: 310px;\r\n  width: 100%;\r\n  display: inline-block;\r\n  padding: 10px;\r\n  background: #535353;\r\n  margin-left: 40px;\r\n  .data-inner {\r\n    position:relative;\r\n    &gt; div {\r\n      position:absolute;\r\n      width:100%;\r\n      top:0;\r\n    }\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"eda-module-content\"&gt;\r\n\r\n  &lt;div class=\"navigation-container\"&gt;\r\n    &lt;ul class=\"navigation\"&gt;\r\n      &lt;li class=\"nav-item active\"&gt;&lt;a data-show=\"dataitem0\"&gt;\r\n            Lorem ipsum         &lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item\"&gt;&lt;a data-show=\"dataitem1\"&gt;\r\n\r\n            Lorem ipsum  11111111111111       &lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item\"&gt;&lt;a data-show=\"dataitem2\"&gt;\r\n            Lorem ipsum   22222      &lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item\"&gt;&lt;a data-show=\"dataitem3\"&gt;\r\n            Lorem ipsum    333     &lt;/a&gt;&lt;/li&gt;\r\n      &lt;li class=\"nav-item\"&gt;&lt;a data-show=\"dataitem4\"&gt;\r\n            Lorem ipsum     444    &lt;/a&gt;&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"data-container\"&gt;\r\n    &lt;div class=\"data-inner\"&gt;\r\n      &lt;div id=\"dataitem0\" class=\"visible\"&gt;\r\n        &lt;h2&gt;11111Lorem ipsum dolor sit amet&lt;/h2&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tempus nisi non sapien laoreet volutpat. Nulla iaculis mi sed felis ultrices, non consequat risus gravida. Donec ut quam at dui eleifend consectetur. Duis consectetur commodo ex\r\n          vel varius. Donec id tincidunt est. Sed lorem velit, rhoncus non lectus vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"dataitem1\" class=\"hidden\"&gt;\r\n        &lt;h2&gt;22222Lorem ipsum dolor sit amet&lt;/h2&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tempus nisi non sapien laoreet volutpat. Nulla iaculis mi sed felis ultrices, non consequat risus gravida. Donec ut quam at dui eleifend consectetur. Duis consectetur commodo ex\r\n          vel varius. Donec id tincidunt est. Sed lorem velit, rhoncus non lectus vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"dataitem2\" class=\"hidden\"&gt;\r\n        &lt;h2&gt;33333Lorem ipsum dolor sit amet&lt;/h2&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tempus nisi non sapien laoreet volutpat. Nulla iaculis mi sed felis ultrices, non consequat risus gravida. Donec ut quam at dui eleifend consectetur. Duis consectetur commodo ex\r\n          vel varius. Donec id tincidunt est. Sed lorem velit, rhoncus non lectus vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"dataitem3\" class=\"hidden\"&gt;\r\n        &lt;h2&gt;44444Lorem ipsum dolor sit amet&lt;/h2&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tempus nisi non sapien laoreet volutpat. Nulla iaculis mi sed felis ultrices, non consequat risus gravida. Donec ut quam at dui eleifend consectetur. Duis consectetur commodo ex\r\n          vel varius. Donec id tincidunt est. Sed lorem velit, rhoncus non lectus vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"dataitem4\" class=\"hidden\"&gt;\r\n        &lt;h2&gt;555555Lorem ipsum dolor sit amet&lt;/h2&gt;\r\n        &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque tempus nisi non sapien laoreet volutpat. Nulla iaculis mi sed felis ultrices, non consequat risus gravida. Donec ut quam at dui eleifend consectetur. Duis consectetur commodo ex\r\n          vel varius. Donec id tincidunt est. Sed lorem velit, rhoncus non lectus vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>codepen - <a href=\"https://codepen.io/nagasai/pen/GVENxp\" rel=\"nofollow noreferrer\">https://codepen.io/nagasai/pen/GVENxp</a></p>\n"}], "owner": {"reputation": 478, "user_id": 4996481, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/4801ee1ff8b2a5787ba82f291f8655e0?s=128&d=identicon&r=PG&f=1", "display_name": "MasterNone", "link": "https://stackoverflow.com/users/4996481/masternone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 57299048, "answer_count": 1, "score": 0, "last_activity_date": 1564608533, "creation_date": 1564606749, "last_edit_date": 1564608533, "question_id": 57298763, "link": "https://stackoverflow.com/questions/57298763/slider-like-animation-of-divs-back-and-forth", "title": "Slider like animation of divs back and forth?", "body": "<p>I want to create a slider, when a corresponding link is clicked the already active slide will animate left and a new slide will animate in after that.</p>\n\n<p><strong>How to accomplish that with the html given?</strong></p>\n\n<p>I'm unable make this work properly using .visible to animate will break the $(this) animate later on. Tried some other way arranging this but still not getting it to work. Maybe i'm going at this the wrong and there are more better ways to accomplish this.</p>\n\n<p>html</p>\n\n<pre><code>  &lt;div class=\"navigation-container\"&gt;\n    &lt;ul class=\"navigation\"&gt;\n      &lt;li class=\"nav-item active\"&gt;&lt;a data-show=\"dataitem0\"&gt;\n            Lorem ipsum         &lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"nav-item\"&gt;&lt;a data-show=\"dataitem1\"&gt;\n    &lt;/ul&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"data-container\"&gt;\n    &lt;div class=\"data-inner\"&gt;\n      &lt;div id=\"dataitem0\" class=\"visible\"&gt;\n        &lt;h2&gt;11111Lorem ipsum dolor sit amet&lt;/h2&gt;\n        &lt;p&gt;Lorem ipsumed lorems vel, tempor ornare leo. In bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\n      &lt;/div&gt;\n      &lt;div id=\"dataitem1\" class=\"hidden\"&gt;\n        &lt;h2&gt;22222Lorem ipsum dolor sit amet&lt;/h2&gt;\n        &lt;p&gt;Lorem ipsum dolor sit bibendum nunc eu rhoncus ornare. Proin id pulvinar ex.&lt;/p&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n\n.hidden {\n  display: none;\n  left:-400px;\n}\n.visible {\n  display: block;\n  left:0;\n}\n.data-container {\n  .data-inner {\n    position:relative;\n    &gt; div {\n      position:absolute;\n      width:100%;\n      top:0;\n    }\n  }\n}\n\n\n\n$('li').on('click', function () {\n  //alert('clicked');\n  var dataShow = $(this).children('a').data('show');\n\n  //console.log(dataShow);\n  $('li').removeClass('active');\n  $(this).addClass('active');\n\n  $('.data-inner &gt; div').each( function(){\n    var dataItem = $(this).attr('id');\n\n    if (dataShow === dataItem) {\n      $('.visible').animate({\n        left: \"-=400\"\n      }, 1000, function() {\n        // Animation complete.\n        console.log('1anim complete');\n        //$(this).attr('class', 'hidden');\n\n        $(this).attr('class', 'visible').animate({\n          left: \"0\"\n        }, 1000, function() {\n          // Animation complete.\n          console.log('2anim complete');\n        });\n      });\n    }\n\n  }); // each\n}); //click\n</code></pre>\n\n<p><strong>Codepen:</strong> <a href=\"https://codepen.io/rKaiser/pen/LwLEqB\" rel=\"nofollow noreferrer\">https://codepen.io/rKaiser/pen/LwLEqB</a>    Many thanks.</p>\n"}, {"tags": ["javascript", "angular", "opentracing", "elastic-apm"], "answers": [{"comments": [{"owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "edited": false, "score": 0, "creation_date": 1564607944, "post_id": 57298815, "comment_id": 101091856, "body": "Tested this with <code>transaction.startSpan</code>. Now an entire transaction is missing. <code>const transaction = this.apm.startTransaction(&#39;transaction-scene-loaded&#39;, &#39;custom&#39;);     const span = transaction.startSpan(&#39;span-scene-loaded&#39;);</code> Nested spans are a separate issue. It seems like we cannot nest spans with this Elastic&#39;s API?"}, {"owner": {"reputation": 151, "user_id": 639333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621?s=128&d=identicon&r=PG", "display_name": "Andoni", "link": "https://stackoverflow.com/users/639333/andoni"}, "reply_to_user": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "edited": false, "score": 0, "creation_date": 1564608788, "post_id": 57298815, "comment_id": 101092106, "body": "You have to end() the transaction to let the library is ready to be sent. You can create several spans in the same transaction, but they cannot be nested.  They will be shown in this way:  <a href=\"https://images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/blt2017694f3195a750/5cb8428dc5f3a89f49185119/sip-of-rum-5.jpg\" rel=\"nofollow noreferrer\">images.contentstack.io/v3/assets/bltefdd0b53724fa2ce/&hellip;</a>"}, {"owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "edited": false, "score": 0, "creation_date": 1564612240, "post_id": 57298815, "comment_id": 101093024, "body": "<code>end()</code> has been called, but I omitted it here because of the spacing. I tried a few variations here as well. End span then transaction, just the transaction, on timeout, on destroy, on before unload. Some transactions and some spans are recorded, but nested spans are not always recorded. Some transactions and spans are never recorded, even through the code block ran."}], "tags": [], "owner": {"reputation": 151, "user_id": 639333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9afa9f6e729cc343affa6e1391bcb621?s=128&d=identicon&r=PG", "display_name": "Andoni", "link": "https://stackoverflow.com/users/639333/andoni"}, "is_accepted": false, "score": 0, "last_activity_date": 1564607056, "creation_date": 1564607056, "answer_id": 57298815, "question_id": 57298727, "link": "https://stackoverflow.com/questions/57298727/elastic-apm-rum-missing-nested-spans/57298815#57298815", "title": "Elastic APM RUM Missing nested spans", "body": "<p>To include spans into the transactions you should start the spans from the transaction object</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>...\r\nvar span = transaction.startSpan('My custom span')\r\n...</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And ending the parent transaction object all the nested spans will be also ended in cascade</p>\n\n<p><a href=\"https://www.elastic.co/guide/en/apm/agent/js-base/4.x/transaction-api.html#transaction-start-span\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/apm/agent/js-base/4.x/transaction-api.html#transaction-start-span</a></p>\n"}], "owner": {"reputation": 1441, "user_id": 6713596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f07ad4b23e67e07fd8a00a0dd164b5f2?s=128&d=identicon&r=PG&f=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/6713596/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564607056, "creation_date": 1564606546, "question_id": 57298727, "link": "https://stackoverflow.com/questions/57298727/elastic-apm-rum-missing-nested-spans", "title": "Elastic APM RUM Missing nested spans", "body": "<p>When nesting spans in Elsatic APM through either the Opentracing API or Elastic APM's API. Some spans are never recorded.</p>\n\n<p>Using <code>import * as apm from '@elastic/apm-rum';</code>:</p>\n\n<pre><code>const transaction = this.apm.startTransaction('transaction-scene-loaded', 'custom'); // recorded\nconst span = this.apm.startSpan('span-scene-loaded', 'custom'); // recorded\nconst span2 = this.apm.startSpan('span-loading-state-updated', 'custom'); // Not recorded\n\nspan2.end();\nspan.end();\ntransaction.end();\n</code></pre>\n\n<p>Using Elastic's OpenTracing API:</p>\n\n<pre><code>const {\n  init: initApm,\n  createTracer\n} = require('@elastic/apm-rum/dist/bundles/elastic-apm-opentracing.umd.js');\n</code></pre>\n\n<p>The behavior for spans are just as inconsistent. It is unclear when a transaction begins or ends. Some spans are translated into transactions, and nested spans may not be recorded. If I declare a page wide transaction, Angular's <code>ngOnInit</code> can be recorded by a span, but other event hooks are never recorded.</p>\n\n<pre><code>onLoaded() {\n  const span = this.tracer.startSpan('span-scene-loaded'); // Not recorded\n  // ...\n  span.end();\n}\n</code></pre>\n\n<p>I have tried variations of this. Wrapping span in span, childOf, app-level span, individual instances of span.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "jqgrid"], "owner": {"reputation": 81, "user_id": 10806781, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6gLEVt62Xf0/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hUVzOxXdif88r23Y7iToKQ01ebUw/mo/photo.jpg?sz=128", "display_name": "user10806781", "link": "https://stackoverflow.com/users/10806781/user10806781"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1564624170, "creation_date": 1564606492, "last_edit_date": 1564624170, "question_id": 57298717, "link": "https://stackoverflow.com/questions/57298717/jqgrid-not-reloading-refreshing-on-ajax-post-request", "title": "jqGrid not reloading/refreshing on ajax post request", "body": "<p>I have a ajax post request and on success I am calling jqgrid to populate the data. On the first request I am getting right data on my grid but when I choose some filter(search options) and hit search button again the grid is not reloading , its displaying same old data. I tested using  alert and alert is getting right data its just that grid is not reloading to display new data. I spent all day and applied too many reload option suggested by other people but non worked. It's been 2 days I could not figure out this issue. I am still stuck any help please.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = $(\"name\").val;\r\n\r\n$.ajax({\r\n\r\n    url: 'someurl',\r\n    type: 'post',\r\n    data: a,\r\n    cache:false,\r\n    contentType:false,\r\n    dataType:false,\r\n    processData: false,\r\n    \r\n    sucess: function(response){\r\n    \r\n        alert(response);\r\n        test(response);\r\n        $(\"#divval\").jqGrid('setGridParam',{datatype: 'json', data:response}).trigger(\"reloadGrid\");\r\n    }\r\n\r\n});\r\n\r\n//grid\r\nfunction test(data){\r\n  datatype:\"jsonstring\",\r\n  datastr:response,\r\n  jsonReader:{\r\n    repeatitiveitems:false,\r\n    ...\r\n    ..\r\n  },\r\n  colNames:[],\r\n  colModel:[],\r\n  loadonce:true,\r\n  ...\r\n  ...\r\n\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"divval\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "vue.js", "nuxt.js"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1564606405, "post_id": 57298670, "comment_id": 101091313, "body": "Please include error messages as text, not as images. Search engines don&#39;t crawl text in images, which means people searching for the same error message won&#39;t find your question (and its answers) easily."}, {"owner": {"reputation": 777, "user_id": 9693461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P141W.png?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/9693461/zac"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564606527, "post_id": 57298670, "comment_id": 101091351, "body": "@HereticMonkey ok i did thank you, I never thought about that before, that&#39;s a good point"}], "owner": {"reputation": 777, "user_id": 9693461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P141W.png?s=128&g=1", "display_name": "Zac", "link": "https://stackoverflow.com/users/9693461/zac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 621, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1564606512, "creation_date": 1564606292, "last_edit_date": 1564606512, "question_id": 57298670, "link": "https://stackoverflow.com/questions/57298670/vuejs-ul-throws-mismatched-html-caveat", "title": "VueJS &lt;ul&gt; Throws Mismatched HTML - Caveat?", "body": "<p>VueJS is giving me this error on every page due to something in my header:</p>\n\n<pre><code>warn Parent:  \n&lt;ul class=\"nav\"&gt;\nwarn Mismatching childNodes vs. VNodes:  \nNodeList(13) [ &lt;!--  --&gt;, #text, &lt;!--  --&gt;, #text, li.nav-item, #text, li.nav-item, #text, li.nav-item.account, #text, \u2026 ]\n\nerror [Vue warn]: The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside &lt;p&gt;, or missing &lt;tbody&gt;. Bailing hydration and performing full client-side render. consola.browser.js:1:7123\nerror [Vue warn]: The client-side rendered virtual DOM tree is not matching server-rendered content. This is likely caused by incorrect HTML markup, for example nesting block-level elements inside &lt;p&gt;, or missing &lt;tbody&gt;. Bailing hydration and performing full client-side render. (repeated 1 times) consola.browser.js:1:7123\n</code></pre>\n\n<p>This is the source code for the header:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul v-bind:class=\"{nav: true, toggled : bshow_nav }\"&gt;           \n    &lt;li v-if=\"authd\" class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" href=\"/profile\"&gt;My Profile&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li v-if=\"authd\" class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" href=\"/payment\"&gt;Payment Options&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" href=\"site.com/privacy\"&gt;Privacy Policy&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class=\"nav-item\"&gt;\n        &lt;a class=\"nav-link\" href=\"www.site.com/faq\"&gt;F.A.Q.&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li v-if=\"!authd\" class=\"nav-item account\"&gt;\n        &lt;a href=\"/signup\" class=\"nav-link\"&gt;Sign Up&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li :class=\"{'nav-item' : true, 'account' : authd}\"&gt;\n        &lt;a v-if=\"authd\" href=\"#\" class=\"nav-link\" @click=\"logout\"&gt;Logout&lt;/a&gt;\n        &lt;a v-else class=\"nav-link\" href=\"/login\"&gt;Login&lt;/a&gt;\n    &lt;/li&gt;\n    &lt;li class='nav-item nav-footer'&gt;\n        &lt;img src=\"~/assets/images/logo.svg\" alt=\"logo\" width=\"60\" height=\"60\" /&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>this is it while rendered:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;li class=\"nav-item\"&gt;&lt;a href=\"/profile\" class=\"nav-link\"&gt;My Profile&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;&lt;a href=\"/payment\" class=\"nav-link\"&gt;Payment Options&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;&lt;a href=\"https://mysitecom/privacy\" class=\"nav-link\"&gt;Privacy Policy&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"nav-item\"&gt;&lt;a href=\"https://mysitecom/faq\" class=\"nav-link\"&gt;F.A.Q.&lt;/a&gt;&lt;/li&gt;\n&lt;!----&gt;\n&lt;li class=\"nav-item account\"&gt;&lt;a href=\"#\" class=\"nav-link\"&gt;Logout&lt;/a&gt;&lt;/li&gt;\n&lt;li class=\"nav-item nav-footer\"&gt;&lt;img src=\"/_nuxt/assets/images/logo.svg\" alt=\"logo\" width=\"60\" height=\"60\"&gt;&lt;/li&gt;\n</code></pre>\n\n<p>My theory is that the <code>&lt;!----&gt;</code> is the reason because it expects all tags within the <code>&lt;ul&gt;</code> to be <code>&lt;li&gt;</code> tags.</p>\n\n<p>Is there any way to ignore this or do some funky work around?</p>\n"}, {"tags": ["javascript", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "is_accepted": false, "score": 0, "last_activity_date": 1564609962, "last_edit_date": 1564609962, "creation_date": 1564609183, "answer_id": 57299183, "question_id": 57298581, "link": "https://stackoverflow.com/questions/57298581/vuex-accessing-state-from-anther-module-inside-different-module-getter/57299183#57299183", "title": "Vuex: Accessing state from anther module inside different module getter", "body": "<p>When defined in a module, a getter receives <code>rootState</code> as <a href=\"https://vuex.vuejs.org/api/#getters\" rel=\"nofollow noreferrer\">a third argument</a>:</p>\n\n<pre><code>const getters = {\n    authorizedAdminLinks: (state, getters, rootState) =&gt;  _.filter(rootState.globals.adminLinks, link =&gt; link.seePrivilege &gt;= rootState.globals.auth.privileges),\n}\n</code></pre>\n"}], "owner": {"reputation": 1349, "user_id": 10646944, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a80e354761f942058d4b0b975e6ccdd?s=128&d=identicon&r=PG&f=1", "display_name": "gabogabans", "link": "https://stackoverflow.com/users/10646944/gabogabans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564609962, "creation_date": 1564605864, "question_id": 57298581, "link": "https://stackoverflow.com/questions/57298581/vuex-accessing-state-from-anther-module-inside-different-module-getter", "title": "Vuex: Accessing state from anther module inside different module getter", "body": "<p>I'm trying to access state from another namespaced vuex modue inside getter in a different module, this is what I'm trying:</p>\n\n<pre><code>//GETTERS\nconst getters = {\n\n    authorizedAdminLinks: ({ rootState }) =&gt;  _.filter(rootState.globals.adminLinks, link =&gt; link.seePrivilege &gt;= rootState.globals.auth.privileges),\n}\n</code></pre>\n\n<p>I'm getting the following error:</p>\n\n<pre><code>[Vue warn]: Error in render: \"TypeError: rootState is undefined\"\n</code></pre>\n"}, {"tags": ["javascript", "nightwatch.js"], "comments": [{"owner": {"reputation": 2906, "user_id": 3641164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1R4q4.png?s=128&g=1", "display_name": "chrismillah", "link": "https://stackoverflow.com/users/3641164/chrismillah"}, "edited": false, "score": 0, "creation_date": 1564607664, "post_id": 57298564, "comment_id": 101091784, "body": "I think all you need to do is instantiate that variable outside the function scope so it&#39;s global.  Also, notice that your parentheses after the else is not necessary, and must be moved to the last bracket to close the foreach -- unless this is incomplete code and there is more to that function, let us know"}, {"owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 1, "creation_date": 1564610272, "post_id": 57298564, "comment_id": 101092541, "body": "Scope isn&#39;t the issue. I suspect <code>elementIdText</code> is asynchronous, and your verification runs before the callbacks do."}, {"owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "reply_to_user": {"reputation": 2906, "user_id": 3641164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1R4q4.png?s=128&g=1", "display_name": "chrismillah", "link": "https://stackoverflow.com/users/3641164/chrismillah"}, "edited": false, "score": 0, "creation_date": 1564660857, "post_id": 57298564, "comment_id": 101109493, "body": "@chrismillah the parenthesis is necessary. It closes the browser.element call preceeding it. The else has no brackets at all since it is one line. JS allows you to no put curly brackets on conditionals if the condition is only one line."}, {"owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "reply_to_user": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "edited": false, "score": 0, "creation_date": 1564660910, "post_id": 57298564, "comment_id": 101109528, "body": "@AuxTaco DO you happen to know how to make a Nightwatch command run synchronously?"}, {"owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "reply_to_user": {"reputation": 2906, "user_id": 3641164, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/1R4q4.png?s=128&g=1", "display_name": "chrismillah", "link": "https://stackoverflow.com/users/3641164/chrismillah"}, "edited": false, "score": 0, "creation_date": 1564661523, "post_id": 57298564, "comment_id": 101109845, "body": "@chrismillah I put an extra curly in there by mistake, my bad"}], "answers": [{"tags": [], "owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "is_accepted": true, "score": 0, "last_activity_date": 1564662160, "creation_date": 1564662160, "answer_id": 57308976, "question_id": 57298564, "link": "https://stackoverflow.com/questions/57298564/nightwatch-variable-scope-and-accessing-outside-element-call/57308976#57308976", "title": "Nightwatch variable scope and accessing outside .element call", "body": "<p>Apparently, in Nightwatch, there is no 'document' or 'window' object. There is a 'browser' object that seems to be similar. Here is how I solved it:</p>\n\n<pre><code>function checkCategoryRows(browser, theOptionText, rows) {\n     browser.isGood = true;\n     rows.value.forEach(function (row) {\n         browser.elementIdText(row.ELEMENT, function (categoryText) {\n             //console.info(categoryText)\n             if (categoryText.value != theOptionText) {\n                 browser.verify.ok(0 == 1, categoryText.value + ' = ' + theOptionText);\n                 browser.isGood = false;\n             }\n             //else\n             //    browser.isGood = false; // for testing\n             console.log('browser.isGood=' + browser.isGood);\n         })\n     })\n     browser.verify.ok(browser.isGood == true, theOptionText + ' category is good...');\n}\n</code></pre>\n\n<p>Setting <code>browser.isGood = true;</code> initially made it available to the rest of the method.</p>\n"}], "owner": {"reputation": 2384, "user_id": 1744254, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/98aab7a3f842690589dfed234c145ce5?s=128&d=identicon&r=PG&f=1", "display_name": "Beau D&#39;Amore", "link": "https://stackoverflow.com/users/1744254/beau-damore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "accepted_answer_id": 57308976, "answer_count": 1, "score": 0, "last_activity_date": 1564662160, "creation_date": 1564605802, "last_edit_date": 1564661548, "question_id": 57298564, "link": "https://stackoverflow.com/questions/57298564/nightwatch-variable-scope-and-accessing-outside-element-call", "title": "Nightwatch variable scope and accessing outside .element call", "body": "<p>I have the following method in my Nightwatch test that does not work as expected:</p>\n\n<pre><code>function checkCategoryRows(browser, theOptionText, rows) {\n    var isGood = true;\n    rows.value.forEach(function (row) {\n        browser.elementIdText(row.ELEMENT, function (categoryText) {\n            if (categoryText.value != theOptionText) {\n                browser.verify.ok(0 == 1, categoryText.value + ' = ' + theOptionText);\n                isGood = false;\n            } else \n                isGood = false; //&lt;-- Manually making sure it sets either way\n        })\n    })\n    browser.verify.ok(isGood == true, theOptionText + ' category is good...');\n}\n</code></pre>\n\n<blockquote>\n  <p>isGood</p>\n</blockquote>\n\n<p>is always true; even if I set it manually. It appears that anything inside the <code>browser.element(){}</code> call is only scoped inside that call.\nHow do I get this to work so at the end of the <code>for loop</code> I can show that something was 'not good' in that particular set of rows?</p>\n"}, {"tags": ["javascript", "node.js", "kubectl", "graphql-js"], "answers": [{"tags": [], "owner": {"reputation": 2062, "user_id": 2898919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10df96d2d1b61c5e52c46a4ad55f5794?s=128&d=identicon&r=PG&f=1", "display_name": "FL3SH", "link": "https://stackoverflow.com/users/2898919/fl3sh"}, "is_accepted": false, "score": 0, "last_activity_date": 1565011523, "creation_date": 1565011523, "answer_id": 57359576, "question_id": 57298543, "link": "https://stackoverflow.com/questions/57298543/is-it-possible-to-output-logs-in-json-format-for-graphql-yoga/57359576#57359576", "title": "Is it possible to output logs in JSON format for graphql-yoga?", "body": "<p>You can't change log format using <code>kubectl</code> but you could change logging driver in your container runtime, for example <a href=\"https://docs.docker.com/config/containers/logging/json-file/\" rel=\"nofollow noreferrer\">docker</a>.</p>\n"}], "owner": {"reputation": 451, "user_id": 11683051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b18e9d9abf184a87b7bef2d82c841bac?s=128&d=identicon&r=PG&f=1", "display_name": "A. Karnaval", "link": "https://stackoverflow.com/users/11683051/a-karnaval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565011523, "creation_date": 1564605709, "question_id": 57298543, "link": "https://stackoverflow.com/questions/57298543/is-it-possible-to-output-logs-in-json-format-for-graphql-yoga", "title": "Is it possible to output logs in JSON format for graphql-yoga?", "body": "<p>I use <a href=\"https://github.com/prisma/graphql-yoga\" rel=\"nofollow noreferrer\">graphql-yoga</a> and I'd like the format of my logs to be JSON. How can I do it?</p>\n\n<p>The current state is the following:</p>\n\n<pre><code>$ kubectl logs ...\n(node:21) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing ...\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 151, "user_id": 6133944, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TbWfO.jpg?s=128&g=1", "display_name": "Vitaly Protasov", "link": "https://stackoverflow.com/users/6133944/vitaly-protasov"}, "is_accepted": false, "score": 0, "last_activity_date": 1564605927, "creation_date": 1564605927, "answer_id": 57298595, "question_id": 57298483, "link": "https://stackoverflow.com/questions/57298483/ajax-or-post-jquery-method-do-refresh-for-page-anyways/57298595#57298595", "title": "ajax or post jquery method do refresh for page anyways", "body": "<p>The problem was in using jquery slim instead standard. it hangs on $ajax unknown method :( shame on me....</p>\n"}], "owner": {"reputation": 151, "user_id": 6133944, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TbWfO.jpg?s=128&g=1", "display_name": "Vitaly Protasov", "link": "https://stackoverflow.com/users/6133944/vitaly-protasov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564605927, "creation_date": 1564605358, "question_id": 57298483, "link": "https://stackoverflow.com/questions/57298483/ajax-or-post-jquery-method-do-refresh-for-page-anyways", "title": "ajax or post jquery method do refresh for page anyways", "body": "<p>Have problem with snipped of jquery handler for email form submission:</p>\n\n<p>Seems like submission 'hang on' when I use e.preventDefault otherwise it just load email.php page. So Any search, even add to html onSubmit=\"reutn false;\" doesn't help. What's wrong?</p>\n\n<p>if comment out preventDefault then everything works fine, but load email.php, if leave seems $ajax or $post dont do anything...</p>\n\n<p>Search for prevent default, read documentation try to return false directly from script, I use jquery 3.4.1</p>\n\n<pre><code> $(function() {\n        var form = $('#email_form1');\n        form.submit( function(e) {\n            // problematic string\n            e.preventDefault();\n\n            $.ajax({\n                type: form.attr('method'),\n                url: form.attr('action'),\n                data: form.serialize(),\n                success: function(data) {\n                    window.alert(data);\n                    form[0].reset();\n                    $('#mail_popup').magnificPopup('close');\n\n                }\n            });\n\n        });\n    });\n</code></pre>\n\n<p>I expect that ajax request will execute email.php in background but it loads this page...</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 3466, "user_id": 1964418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d933b1144b7dd1ec63e2d809ac2d7060?s=128&d=identicon&r=PG", "display_name": "Snowmonkey", "link": "https://stackoverflow.com/users/1964418/snowmonkey"}, "edited": false, "score": 3, "creation_date": 1564605486, "post_id": 57298473, "comment_id": 101090975, "body": "you&#39;re saying &quot;loop as long as inVal isn&#39;t zero&quot; -- but if you keep incrementing it from zero, by the time it hits the while, it will never reach zero. It starts at one, and only goes up from there."}, {"owner": {"reputation": 6856, "user_id": 828864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0031af6f469d31621363e4fdf14601f?s=128&d=identicon&r=PG", "display_name": "skyline3000", "link": "https://stackoverflow.com/users/828864/skyline3000"}, "edited": false, "score": 2, "creation_date": 1564605524, "post_id": 57298473, "comment_id": 101090988, "body": "Your loop is set to run as long as <code>inVal</code> is not 0. Once you reach <code>inVal++</code>, it&#39;s always greater than 0."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 4805867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d895ffb1263e9048aee71605f6ae1e78?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Yoo", "link": "https://stackoverflow.com/users/4805867/andrew-yoo"}, "edited": false, "score": 0, "creation_date": 1564606430, "post_id": 57298505, "comment_id": 101091325, "body": "I added a console.log and i think i see the problem. thank you."}], "tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": true, "score": -1, "last_activity_date": 1564605503, "creation_date": 1564605503, "answer_id": 57298505, "question_id": 57298473, "link": "https://stackoverflow.com/questions/57298473/why-is-my-do-while-loop-gets-infinite-loop/57298505#57298505", "title": "Why is my do-while loop gets infinite loop?", "body": "<p>It is a bit difficult to evaluate without the rest of the code. But i'd say you either never enter the internal <code>each</code> loop because the selector returns nothing or an empty array, or the <code>if</code> condition is never met.</p>\n\n<p>I would suggest putting <code>console.logs</code> into both to evaluate where the issue is.</p>\n"}, {"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564606527, "post_id": 57298601, "comment_id": 101091352, "body": "There would be no difference between having <code>inVal</code> inside or outside the loop in this case. Well, aside from being reset all the time but that&#39;s not where the problem lies."}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564606611, "post_id": 57298601, "comment_id": 101091380, "body": "While is this case you are right and it&#39;s not the issue, I think he was still right to point it out as it will most likely be an issue is most cases."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564606814, "post_id": 57298601, "comment_id": 101091459, "body": "@Morphyish but saying that <code>inVal</code> will be <code>undefined</code> when the condition is checked is absolutely wrong - this will <i>never</i> happen. And the suggestion that stems from that assumption is actively <i>misleading</i>. It&#39;s a good suggestion, yes, but not when it actively misinforms in how the language operates."}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564606892, "post_id": 57298601, "comment_id": 101091490, "body": "fair enough, the explanation that goes with it isn&#39;t great"}], "tags": [], "owner": {"reputation": 422, "user_id": 11429218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/881847601ff3e3cd3b3393b1862d8c8c?s=128&d=identicon&r=PG&f=1", "display_name": "Yasiel Cabrera", "link": "https://stackoverflow.com/users/11429218/yasiel-cabrera"}, "is_accepted": false, "score": -1, "last_activity_date": 1564605965, "creation_date": 1564605965, "answer_id": 57298601, "question_id": 57298473, "link": "https://stackoverflow.com/questions/57298473/why-is-my-do-while-loop-gets-infinite-loop/57298601#57298601", "title": "Why is my do-while loop gets infinite loop?", "body": "<p>That's because you decalre <code>inVal</code> var inside the do/while scope, so <code>inVal</code> will have <code>undefine</code> value when the while compare its value with <code>0</code>, anyway you're starting the counter with 0 and increasing it so it alway will be != 0, in fact, will be <code>&gt; 0</code></p>\n\n<pre><code>var inVal = 0;  // declare it outside the do/while scope\ndo\n{\n    ...\n} while ( inVal != 0 );\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 4805867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d895ffb1263e9048aee71605f6ae1e78?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Yoo", "link": "https://stackoverflow.com/users/4805867/andrew-yoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57298505, "answer_count": 2, "score": -1, "last_activity_date": 1564607025, "creation_date": 1564605331, "last_edit_date": 1564607025, "question_id": 57298473, "link": "https://stackoverflow.com/questions/57298473/why-is-my-do-while-loop-gets-infinite-loop", "title": "Why is my do-while loop gets infinite loop?", "body": "<p>I'm checking if inputs are empty and increment integer whenever I find one. I thought I set my do-while loop right, but it keeps getting into an infinite loop.</p>\n\n<pre><code>do\n{\n    var inVal = 0;\n    $(\".inErr\").text(\"\");\n    $(\".info\").each(function() {\n        var e = $(this);\n        if (e.val() == \"\") {\n            $(\"#\"+e.attr(\"data-err\")).text(\"*Field is empty\");\n            inVal++;\n        }\n    });\n} while ( inVal != 0 );\n</code></pre>\n\n<p>I expect to escape do-while loop once all e.val()'s are filled.</p>\n\n<p>[Edit]\nJust found out I didn't need a do-while loop to begin with... sorry for the poor question and thank you all for helping me.</p>\n"}, {"tags": ["javascript", "node.js", "windows", "express"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564605373, "post_id": 57298462, "comment_id": 101090931, "body": "Did you mean <code>app.route().get().post().put()</code>?  Because <code>post</code> and <code>put</code> aren&#39;t defined in your example.  In fact your example won&#39;t run.  Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564605750, "post_id": 57298462, "comment_id": 101091081, "body": "<a href=\"https://www.guru99.com/node-js-express.html\" rel=\"nofollow noreferrer\">guru99.com/node-js-express.html</a> I&#39;m literally just following this guy&#39;s steps. Trying to accustom myself to js."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "edited": false, "score": 0, "creation_date": 1564605982, "post_id": 57298521, "comment_id": 101091176, "body": "Thanks a lot. Perfect answer. Sorry for your time."}], "tags": [], "owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "is_accepted": true, "score": 1, "last_activity_date": 1564605558, "creation_date": 1564605558, "answer_id": 57298521, "question_id": 57298462, "link": "https://stackoverflow.com/questions/57298462/nodejs-windows-syntaxerror-missing-x/57298521#57298521", "title": "NodeJS (Windows) - SyntaxError: missing X", "body": "<p>The syntax is wrong,\nPlease refer the <a href=\"https://expressjs.com/en/guide/routing.html\" rel=\"nofollow noreferrer\">doc</a> for more info:</p>\n\n<blockquote>\n<pre><code>app.route('/book')\n  .get(function (req, res) {\n    res.send('Get a random book')\n  })\n  .post(function (req, res) {\n    res.send('Add a book')\n  })\n  .put(function (req, res) {\n    res.send('Update the book')\n  })\n</code></pre>\n</blockquote>\n\n<p>So, in your case it will be:</p>\n\n<pre><code>var express = require('express');\nvar app = express();\napp.route('/Node')\n.get(function (req, res) {\n  res.send(\"Tutorial on Node\");\n})\n.post(function (req, res) {\n  res.send(\"Tutorial on Angular\");\n})\n.put(function (req, res) {\n  res.send('Welcome to Guru99 Tutorials');\n});\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8734728"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57298521, "answer_count": 1, "score": 1, "last_activity_date": 1564605624, "creation_date": 1564605264, "last_edit_date": 1564605624, "question_id": 57298462, "link": "https://stackoverflow.com/questions/57298462/nodejs-windows-syntaxerror-missing-x", "title": "NodeJS (Windows) - SyntaxError: missing X", "body": "<p>Unless there's something I don't understand, this seems to say \")\" is missing and it point to \")\".</p>\n\n<pre><code>});\n ^\n\nSyntaxError: missing ) after argument list\n</code></pre>\n\n<p>This is generated from Guru99's Express.js tutorial file:</p>\n\n<pre><code>var express = require('express');\nvar app = express();\napp.route('/Node',get(function(req,res)\n{\n    res.send(\"Tutorial on Node\");\n});\npost(function(req,res)\n{\n    res.send(\"Tutorial on Angular\");\n});\nput(function(req,res)\n{\n    res.send('Welcome to Guru99 Tutorials');\n}));\n</code></pre>\n\n<p>The code looks ok to me.</p>\n\n<p>Edit:</p>\n\n<p>The resulting webpage says: Cannot get Node</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1564605159, "post_id": 57298403, "comment_id": 101090856, "body": "You never update that array. That&#39;s why you get its value unchanged - you just pass it around three times and never change it."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564605222, "post_id": 57298403, "comment_id": 101090878, "body": "And why would you pass global vars into function calls anyway? The whole point of having a global variable is that it can be accessed from any function."}, {"owner": {"reputation": 655, "user_id": 6672165, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ba2a9d8a1101c3d5452a09f3f0ff088a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Burzakovskiy", "link": "https://stackoverflow.com/users/6672165/ivan-burzakovskiy"}, "edited": false, "score": 0, "creation_date": 1564605542, "post_id": 57298403, "comment_id": 101090995, "body": "Because I call the function <b>updateNews()</b> several times with different set of arguments. I&#39;ve shown the first call of it. After it&#39;s been finished I call it again but with another variables."}], "answers": [{"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564606911, "post_id": 57298773, "comment_id": 101091504, "body": "<a href=\"https://stackoverflow.com/questions/57298403/update-the-global-variable#comment101090856_57298403\">As I said</a> - you never actually updated the contents of the array."}], "tags": [], "owner": {"reputation": 655, "user_id": 6672165, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ba2a9d8a1101c3d5452a09f3f0ff088a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Burzakovskiy", "link": "https://stackoverflow.com/users/6672165/ivan-burzakovskiy"}, "is_accepted": false, "score": 0, "last_activity_date": 1564606797, "creation_date": 1564606797, "answer_id": 57298773, "question_id": 57298403, "link": "https://stackoverflow.com/questions/57298403/update-the-global-variable/57298773#57298773", "title": "Update the global variable", "body": "<p>The solution for me was to update the Global variable with <em>push()</em> method inside <strong>updateNews()</strong></p>\n"}], "owner": {"reputation": 655, "user_id": 6672165, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ba2a9d8a1101c3d5452a09f3f0ff088a?s=128&d=identicon&r=PG&f=1", "display_name": "Ivan Burzakovskiy", "link": "https://stackoverflow.com/users/6672165/ivan-burzakovskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564606797, "creation_date": 1564604985, "last_edit_date": 1564605985, "question_id": 57298403, "link": "https://stackoverflow.com/questions/57298403/update-the-global-variable", "title": "Update the global variable", "body": "<p>My code snippet first:    </p>\n\n<pre><code>let GLOBAL_VAR_A = 'string1';\nlet GLOBAL_VAR_B = 'string2';\nlet GLOBAL_VAR_C = []; // Empty array\nlet GLOBAL_VAR_D = []; // Empty array\n\n...\n\nstart = async () =&gt; {  \n    ...\n    if(...) {\n        await updateNews(GLOBAL_VAR_A, GLOBAL_VAR_B, GLOBAL_VAR_C, GLOBAL_VAR_D);\n        console.log(GLOBAL_VAR_C); // =&gt; [] (empty) (NOT OK)\n        console.log(GLOBAL_VAR_D); // =&gt; [object Object] = nextNews (OK!!)\n    ...\n}\n};\n\nupdateNews = async (sourcePath, webResource, previousNews, nextNews) =&gt; {\n    previousNews = await getPreviousNews(sourcePath, previousNews);\n    console.log('FFF = ' + previousNews); // =&gt; FFF = [object Object] (Ok)\n    ...\n    nextNews.push({\n            id: i + 1,\n            title: justGottenNews[i].title,\n            url: justGottenNews[i].link\n    });   \n}\n\ngetPreviousNews = async (sourcePath, previousNews) =&gt; {\n    let data = await fs.readFileSync(sourcePath, 'utf8');\n    prevNews = previousNews.concat(JSON.parse(data));\n    return prevNews;\n};\n\n...\n</code></pre>\n\n<p>My question (issue) is the following:</p>\n\n<p>When I call the function <strong>updateNews()</strong> I pass there some arguments - global variables. <strong>GLOBAL_VAR_C</strong> by default is an empty array which is passed to the <strong>updateNews()</strong> function. Further this variable is passed to <strong>getPreviousNews()</strong> function. This function returns a new array (<strong>prevNews</strong>) - concatenation of the empty one and received from the file.</p>\n\n<p>Then I want to re-define a value of the variable <strong>previousNews</strong>. Inside the function <strong>updateNews()</strong> its value is correct (returned array).</p>\n\n<p>How can I re-define a value of passed <strong>GLOBAL_VAR_C</strong> variable further? It should be equal to <strong>previousNews</strong>. But when I console log it still empty array is returned.</p>\n\n<p>Interesting point is that <strong>nextNews</strong> is updated inside <strong>updateNews()</strong> function (method <em>push()</em>) and <strong>GLOBAL_VAR_D</strong> is updated as well</p>\n"}, {"tags": ["javascript", "object", "methods"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1564605305, "post_id": 57298397, "comment_id": 101090907, "body": "I&#39;ve edited the question to remove references to JSON. JSON is a data serialization format. The objects in your code are just JavaScript objects."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 4126917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22ed3ae4f5e90ca31c09ec1b04bebb6e?s=128&d=identicon&r=PG&f=1", "display_name": "dKorosec", "link": "https://stackoverflow.com/users/4126917/dkorosec"}, "is_accepted": false, "score": 1, "last_activity_date": 1564608115, "creation_date": 1564608115, "answer_id": 57299012, "question_id": 57298397, "link": "https://stackoverflow.com/questions/57298397/can-an-object-method-be-used-to-create-an-object/57299012#57299012", "title": "Can an object method be used to create an object?", "body": "<p>You can use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get\" rel=\"nofollow noreferrer\">get syntax</a> on the object:</p>\n\n<pre><code>Communications = {\n  \"PhoneInfo\" : {\n    \"PhoneTypeCd\": \"Cell\",\n    \"PhoneNumber\": Contact.CommPhone,\n    \"PhoneNumberValidInd\": \"N\",\n    \"ContactPreferenceType\": \"Primary\",\n    \"ConsentCd\": Contact.CommPhoneConsentCd,\n    get \"ConsentDt\"() {\n      if (Contact.hasOwnProperty(\"CommPhoneConsentDt\")) {\n        return Contact.CommPhoneConsentDt\n      } else {\n        return\n      }\n    }  \n  }\n}\n\nconsole.log(Communications.PhoneInfo.ConsentDt);\nConsentDt of 2019/8/1 is printed out \n\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 10496897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9922f9cb750f66c9c3de10e5d34fe2eb?s=128&d=identicon&r=PG&f=1", "display_name": "Hank", "link": "https://stackoverflow.com/users/10496897/hank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564608115, "creation_date": 1564604955, "last_edit_date": 1564605220, "question_id": 57298397, "link": "https://stackoverflow.com/questions/57298397/can-an-object-method-be-used-to-create-an-object", "title": "Can an object method be used to create an object?", "body": "<p>Based on the initial object <code>Contact</code>, I have to create a second object. Sometimes the <code>Contact</code> object will not have certain properties. I wanted to know if there was a way to print value of <code>ConsentDt</code> using a method within an object. </p>\n\n<p>I know that I could simply code <code>\"ConsentDt\": Contact.CommPhoneConsentDt</code> and if that key is not available, <code>ConsentDt</code> will not be printed in the final output. However, sometimes determining if certain keys should be printed are a little bit more complicated, e.g. only include <code>Email</code> in the final object if <code>EmailConsentDt == 'Y'</code>. I also know that I could write functions outside of the object to make these determinations, but I wasn't sure if there was a way to keep the logic all in one object. Thanks in advance!</p>\n\n<pre><code>let Contact = {\n  \"Name\": \"Kyle Gass\",\n  \"CommPhone\": \"+9-999-999-9999\",\n  \"Email\": \"tenacious@d.org\",\n  \"CommPhoneConsentCd\": \"Y\",\n  \"CommPhoneConsentDt\": \"2019/8/1\",\n  \"EmailConsentCd\": \"N\"\n}\n\nlet Communications = {\n  \"PhoneInfo\" : {\n    \"PhoneTypeCd\": \"Cell\",\n    \"PhoneNumber\": Contact.CommPhone,\n    \"PhoneNumberValidInd\": \"N\",\n    \"ContactPreferenceType\": \"Primary\",\n    \"ConsentCd\": Contact.CommPhoneConsentCd,\n    \"ConsentDt\": function(Contact) {\n      if (Contact.hasOwnProperty(\"CommPhoneConsentDt\")) {\n        return Contact.CommPhoneConsentDt\n      } else {\n        return\n      }\n    }  \n  }\n}\n\nconsole.log(Communications.PhoneInfo.ConsentDt);\n//I want ConsentDt of 2019/8/1 to print out \n</code></pre>\n"}, {"tags": ["javascript", "html", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": true, "score": 1, "last_activity_date": 1564605061, "creation_date": 1564605061, "answer_id": 57298420, "question_id": 57298380, "link": "https://stackoverflow.com/questions/57298380/not-allowed-to-load-local-resource-image-thumbnail/57298420#57298420", "title": "Not allowed to load local resource (image thumbnail)", "body": "<p>You cannot access local files from your computer with an absolute link from your browser using Javascript as it would be a potential security breach.</p>\n\n<p>You need a relative link from your server.</p>\n"}], "owner": {"reputation": 27, "user_id": 9660059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/253a48689aee33d33ea4864023921e71?s=128&d=identicon&r=PG&f=1", "display_name": "Mora O.", "link": "https://stackoverflow.com/users/9660059/mora-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57298420, "answer_count": 1, "score": 0, "last_activity_date": 1564605061, "creation_date": 1564604879, "question_id": 57298380, "link": "https://stackoverflow.com/questions/57298380/not-allowed-to-load-local-resource-image-thumbnail", "title": "Not allowed to load local resource (image thumbnail)", "body": "<p>I'm making an app that allows one to change the image associated with an mp3 file. Once the image is chosen, a small thumbnail of that image appears on the screen. When choosing an image from outside of the project folder, I run into the security error. This is new territory for me. What is the protocol for working around this?</p>\n\n<p>I'm also using Vue.js with a simple live server. The only way to make this not happen is to have the image in my project folder, but obviously, people using this app won't have that.</p>\n\n<p><code>&lt;div v-bind:style=\"styleObject\" class=\"square\"&gt;&lt;/div&gt;</code></p>\n\n<pre><code>var app = new Vue({\n    el: '#app',\n    data: {\n      styleObject: {\n        'background-color': 'white',\n        'background-image': 'none'\n\n      }\n    },\n    methods: {\n      updateBG: function(){\n        var fullPath = document.getElementById(\"mp3Artwork\").value\n        this.styleObject['background-image'] = 'url(' + fullPath + ')'\n        console.log(this.styleObject['background-image'])\n      }\n    },\n  })\n</code></pre>\n\n<p>The console output is: url(C:\\fakepath\\image.jpg)\nBut, the error gives: Not allowed to load local resource: file:///C:/%C3%BAkepath%0image.jpg</p>\n"}, {"tags": ["javascript", "d3.js", "svg"], "answers": [{"tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": false, "score": 0, "last_activity_date": 1564622511, "creation_date": 1564622511, "answer_id": 57300699, "question_id": 57298320, "link": "https://stackoverflow.com/questions/57298320/how-to-group-elements-by-row/57300699#57300699", "title": "How to group elements by row?", "body": "<p>First of all, <strong>do not</strong> use a <code>for</code> loop to append elements in a D3 code. We do use <code>for</code> loops (and similar methods), but in very specific situations. Explaining how to refactor your second snippet requires a new answer (here at S.O. we keep just 1 issue per post).</p>\n\n<p>If I understand your question correctly, by <em>group</em> you mean <code>&lt;g&gt;</code> elements. In that case, you should separate the data (in inner arrays) according to the desired groups. For instance:</p>\n\n<pre><code>let myData=[[{x:30,y:40},{x:50,y:70}],\n    [{x:70,y:80},{x:90,y:90}]\n];\n</code></pre>\n\n<p>And here is a demo, <em>using only enter selections</em>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const svgViewport = d3.select(\"body\")\r\n  .append(\"svg\")\r\n  .attr(\"width\", 150)\r\n  .attr(\"height\", 150);\r\n\r\nlet myData = [\r\n  [{\r\n      x: 30,\r\n      y: 40\r\n    },\r\n    {\r\n      x: 50,\r\n      y: 70\r\n    }\r\n  ],\r\n  [{\r\n      x: 70,\r\n      y: 80\r\n    },\r\n    {\r\n      x: 90,\r\n      y: 90\r\n    }\r\n  ]\r\n];\r\n\r\nconst groups = svgViewport.selectAll(null)\r\n  .data(myData)\r\n  .enter()\r\n  .append(\"g\");\r\n\r\nconst circles = groups.selectAll(null)\r\n  .data(d =&gt; d)\r\n  .enter()\r\n  .append(\"circle\")\r\n  .attr(\"cx\", (d) =&gt; d.x)\r\n  .attr(\"cy\", (d) =&gt; d.y)\r\n  .attr(\"r\", 10);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This generates the following structure:</p>\n\n<pre><code>&lt;svg width=\"150\" height=\"150\"&gt;\n  &lt;g&gt;\n    &lt;circle cx=\"30\" cy=\"40\" r=\"10\"&gt;&lt;/circle&gt;\n    &lt;circle cx=\"50\" cy=\"70\" r=\"10\"&gt;&lt;/circle&gt;\n  &lt;/g&gt;\n  &lt;g&gt;\n    &lt;circle cx=\"70\" cy=\"80\" r=\"10\"&gt;&lt;/circle&gt;\n    &lt;circle cx=\"90\" cy=\"90\" r=\"10\"&gt;&lt;/circle&gt;\n  &lt;/g&gt;\n&lt;/svg&gt;\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 11847780, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-hLP2epaiBDg/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAy4gLN_4tXbm4TS4z4OIZA9FLhUg/mo/photo.jpg?sz=128", "display_name": "Marius", "link": "https://stackoverflow.com/users/11847780/marius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1564622624, "creation_date": 1564604552, "last_edit_date": 1564622624, "question_id": 57298320, "link": "https://stackoverflow.com/questions/57298320/how-to-group-elements-by-row", "title": "How to group elements by row?", "body": "<p>Hi I just started to learn d3.js and I have a problem, how do I group every row together? </p>\n\n<p>Lets assume that I have that simple array and I want to create 2 groups the first group contains the elements at 0,1 position and the second group contains the elements at 2,3 position.</p>\n\n<pre><code>var svgViewport = d3.select(\"body\").append(\"svg\").attr(\"width\", 1000).attr(\"height\", 1000);\n\nlet myData = [{\n    x: 30,\n    y: 40\n  },\n  {\n    x: 50,\n    y: 70\n  },\n  {\n    x: 70,\n    y: 80\n  },\n  {\n    x: 90,\n    y: 90\n  }\n];\n\nvar circleSelect = svgViewport.selectAll(\"circle\").data(myData);\n\nvar circles = circleSelect.enter().append(\"circle\");\n\ncircles\n  .attr(\"cx\", (d) =&gt; {\n    return d.x\n  })\n  .attr(\"cy\", (d) =&gt; {\n    return d.y\n  })\n  .attr(\"r\", 10);\n</code></pre>\n\n<p>I also tried to give each one a class but in this case I am having a problem selecting by class name</p>\n\n<pre><code>for (let i = 0; i &lt; 2; i++) {\n  for (let j = 0; j &lt; 2; j++) {\n    svgViewport.append(\"g\")\n      .append(\"circle\")\n      .attr(\"class\", i);\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 3466, "user_id": 1964418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d933b1144b7dd1ec63e2d809ac2d7060?s=128&d=identicon&r=PG", "display_name": "Snowmonkey", "link": "https://stackoverflow.com/users/1964418/snowmonkey"}, "edited": false, "score": 1, "creation_date": 1564604689, "post_id": 57298311, "comment_id": 101090694, "body": "This has been asked before, you would want to look at Promises. <a href=\"https://stackoverflow.com/questions/34638221/load-jquery-with-javascript-using-promises\" title=\"load jquery with javascript using promises\">stackoverflow.com/questions/34638221/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 11845248, "user_type": "registered", "profile_image": "https://graph.facebook.com/2800789923325518/picture?type=large", "display_name": "user11845248", "link": "https://stackoverflow.com/users/11845248/user11845248"}, "edited": false, "score": 0, "creation_date": 1564607267, "post_id": 57298339, "comment_id": 101091631, "body": "Thank you, work like a charm"}], "tags": [], "owner": {"reputation": 553, "user_id": 4259351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f717d69fb6d3dbc5490d47369aca3e0?s=128&d=identicon&r=PG", "display_name": "Mauricio Sipmann", "link": "https://stackoverflow.com/users/4259351/mauricio-sipmann"}, "is_accepted": true, "score": 4, "last_activity_date": 1602191557, "last_edit_date": 1602191557, "creation_date": 1564604650, "answer_id": 57298339, "question_id": 57298311, "link": "https://stackoverflow.com/questions/57298311/how-can-i-know-when-the-library-is-fully-loaded/57298339#57298339", "title": "How can i know when the library is fully loaded", "body": "<p>What you are looking for is the onLoad method. Take a look <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLScriptElement\" rel=\"nofollow noreferrer\">here at the api</a>, It's gonna look like</p>\n<p><code>imported.onload = function() { alert('loaded'); }</code></p>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 11845248, "user_type": "registered", "profile_image": "https://graph.facebook.com/2800789923325518/picture?type=large", "display_name": "user11845248", "link": "https://stackoverflow.com/users/11845248/user11845248"}, "edited": false, "score": 0, "creation_date": 1564607349, "post_id": 57298389, "comment_id": 101091663, "body": "Thank you so much, i accepted the answer of @Mauricio because he replied first"}], "tags": [], "owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "is_accepted": false, "score": 1, "last_activity_date": 1564604920, "creation_date": 1564604920, "answer_id": 57298389, "question_id": 57298311, "link": "https://stackoverflow.com/questions/57298311/how-can-i-know-when-the-library-is-fully-loaded/57298389#57298389", "title": "How can i know when the library is fully loaded", "body": "<p>Do like:</p>\n\n<pre><code>var imported = document.createElement('script');\nimported.onload = function(){\n  /* it's loaded - do stuff here */;\n}\nimported.src = 'https://pastebin.com/raw/dRap1YD8';\ndocument.head.appendChild(imported);\n</code></pre>\n\n<p>Make sure you put your <code>load</code> Event before you assign the <code>.src</code>, otherwise it may never fire.</p>\n"}], "owner": {"reputation": 127, "user_id": 11845248, "user_type": "registered", "profile_image": "https://graph.facebook.com/2800789923325518/picture?type=large", "display_name": "user11845248", "link": "https://stackoverflow.com/users/11845248/user11845248"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "closed_date": 1564615747, "accepted_answer_id": 57298339, "answer_count": 2, "score": 0, "last_activity_date": 1602191557, "creation_date": 1564604531, "question_id": 57298311, "link": "https://stackoverflow.com/questions/57298311/how-can-i-know-when-the-library-is-fully-loaded", "closed_reason": "Duplicate", "title": "How can i know when the library is fully loaded", "body": "<p>how can i t change this code to run the function when the js library finish loading? uisng vanilla javascript</p>\n\n<p>because i'm using a timer that didn't worked for slow internet connection</p>\n\n<pre><code>imported = document.createElement('script');\nimported.src = 'https://pastebin.com/raw/dRap1YD8';\ndocument.head.appendChild(imported);\n\n    var delayInMilliseconds = 1000; \n\nsetTimeout(function() {\n.\n.\n.\n}, delayInMilliseconds);\n</code></pre>\n\n<p>Note that pastebin is just for test</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 426, "user_id": 9328334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ee164473a78dc22bcb651892b8b99aa?s=128&d=identicon&r=PG", "display_name": "vivalldi", "link": "https://stackoverflow.com/users/9328334/vivalldi"}, "edited": false, "score": 0, "creation_date": 1564604540, "post_id": 57298289, "comment_id": 101090639, "body": "Is <code>renderData</code> being called before the state is updated?"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 4, "creation_date": 1564604661, "post_id": 57298289, "comment_id": 101090685, "body": "Please, do not post a question again in the hope that it gets better reception. <a href=\"https://stackoverflow.com/q/57298168/1218980\">Original question from another user</a>."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564605101, "post_id": 57298289, "comment_id": 101090834, "body": "Apparently <code>someData</code> is not getting populated until after <code>renderData</code> is getting called. <a href=\"https://stackoverflow.com/q/41446560/215552\">Remember that <code>setState</code> is asynchronous</a>."}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1564605562, "post_id": 57298289, "comment_id": 101091001, "body": "Another <a href=\"https://stackoverflow.com/q/30782948/1218980\">question about async <code>setState</code></a>."}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1564605203, "post_id": 57298344, "comment_id": 101090869, "body": "<code>this.state.somData</code> is unlikely to ever be truthy (missing the &quot;e&quot;) :). Also, the OP could just initialize <code>someData</code> to <code>[]</code> instead of <code>null</code> as they are now."}, {"owner": {"reputation": 81, "user_id": 11865168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48ae2a6a9c0f05dbc989d2be84dbe110?s=128&d=identicon&r=PG&f=1", "display_name": "pyQueen", "link": "https://stackoverflow.com/users/11865168/pyqueen"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1564605581, "post_id": 57298344, "comment_id": 101091009, "body": "@Heretic Monkey: The code from OP is just a snippet. Maybe there&#39;s a setState somewhere. And then my code should work."}], "tags": [], "owner": {"reputation": 81, "user_id": 11865168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48ae2a6a9c0f05dbc989d2be84dbe110?s=128&d=identicon&r=PG&f=1", "display_name": "pyQueen", "link": "https://stackoverflow.com/users/11865168/pyqueen"}, "is_accepted": false, "score": 0, "last_activity_date": 1564605411, "last_edit_date": 1564605411, "creation_date": 1564604681, "answer_id": 57298344, "question_id": 57298289, "link": "https://stackoverflow.com/questions/57298289/cannot-get-pass-this-error-while-attempting-to-read-data-from-an-array-cannot/57298344#57298344", "title": "Cannot get pass this error while attempting to read data from an array - Cannot read property &#39;map&#39; of null", "body": "<p>Try something like that:</p>\n\n<pre><code>render() {\n    const someData = this.state.someData ? this.state.someData : [];\n    return someData.map(...)\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10875744, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FYZ9kIn-rNs/AAAAAAAAAAI/AAAAAAAAAbo/qFObQaj-vlk/photo.jpg?sz=128", "display_name": "RFCP89", "link": "https://stackoverflow.com/users/10875744/rfcp89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1564608138, "answer_count": 1, "score": -5, "last_activity_date": 1564605411, "creation_date": 1564604426, "last_edit_date": 1564604729, "question_id": 57298289, "link": "https://stackoverflow.com/questions/57298289/cannot-get-pass-this-error-while-attempting-to-read-data-from-an-array-cannot", "closed_reason": "Duplicate", "title": "Cannot get pass this error while attempting to read data from an array - Cannot read property &#39;map&#39; of null", "body": "<p>I am trying to print an ID that i got from an array retrived from an api, but it throws \"Cannot read property 'map' of null\". I am using code that has worked before in the same project.</p>\n\n<p>It is supposed to render an ID, can't figure out the problem.</p>\n\n<pre><code>renderData  = () =&gt;{\n          return this.state.someData.map(t=&gt;{\n            return(\n              &lt;h3&gt;Hello t.id&lt;/h3&gt;\n            )\n          })\n        }\n\n    state = {\n       someData: null\n      }\n</code></pre>\n\n<p>It is expected to print an ID. The same code has worked before in another page. I can't figure out the problem because an API array is successfuly loaded into someData.</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1564604494, "post_id": 57298276, "comment_id": 101090617, "body": "Arrays are objects. If you want a plain object but not an array, then your condition is correct. Although it will fail for <code>data = null</code> because <code>typeof null === &quot;object&quot;</code>"}, {"owner": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 0, "creation_date": 1564604538, "post_id": 57298276, "comment_id": 101090637, "body": "Array is both an <code>instanceOf</code> an object and an array. Can <code>data</code> ever not be an array? Can it be a number or undefined?"}, {"owner": {"reputation": 9029, "user_id": 791022, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba56795046c628c77b3eb81c329cb049?s=128&d=identicon&r=PG", "display_name": "I&#39;ll-Be-Back", "link": "https://stackoverflow.com/users/791022/ill-be-back"}, "edited": false, "score": 0, "creation_date": 1564604552, "post_id": 57298276, "comment_id": 101090643, "body": "&quot;Arrays are objects&quot;  and then &quot;If you want a plain object but not an array&quot; - that is confusing but I understood what you mean."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564604631, "post_id": 57298276, "comment_id": 101090675, "body": "Plain object - <code>{key: &quot;value&quot;}</code>, an array - <code>[1, 2, 3]</code>. Your condition checks if the input is the former but not the latter. So, it checks if it&#39;s a plain object not an array."}, {"owner": {"reputation": 9029, "user_id": 791022, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba56795046c628c77b3eb81c329cb049?s=128&d=identicon&r=PG", "display_name": "I&#39;ll-Be-Back", "link": "https://stackoverflow.com/users/791022/ill-be-back"}, "reply_to_user": {"reputation": 32248, "user_id": 1558171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XPmqF.jpg?s=128&g=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/1558171/dom"}, "edited": false, "score": 0, "creation_date": 1564604647, "post_id": 57298276, "comment_id": 101090678, "body": "@Dom Yes, <code>data</code> can not ever be an array. I don&#39;t know why it&#39;s still an instanceOf   object. Misleading right?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564604700, "post_id": 57298276, "comment_id": 101090699, "body": "Because <i>array</i> is a type of object. The inheritance goes <code>Object</code> -&gt; <code>Array</code>. So all arrays <i>are</i> objects, not all objects are arrays."}], "answers": [{"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564604859, "post_id": 57298329, "comment_id": 101090751, "body": "This is not a foolproof methods - <code>Object.create(null)</code> will create a plain object but it will not have a <code>constructor</code> property. Also. it still fails if the variable is simply <code>null</code> or <code>undefined</code>."}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564605397, "post_id": 57298329, "comment_id": 101090942, "body": "@VLAZ, to support both scenarios, adding typeof will provide valid output..updated my answer"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1564617002, "post_id": 57298329, "comment_id": 101093954, "body": "I don&#39;t know why you&#39;re going to such great lengths to avoid <code>Array.isArray()</code>."}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1564620359, "post_id": 57298329, "comment_id": 101094542, "body": "@jfriend00, with Array.isArray is one of the option to check whether variable is array or not and it will not help to check whether null is is object or not and for function as well.. for only array verification Array.isArray is the best option"}], "tags": [], "owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "is_accepted": false, "score": 2, "last_activity_date": 1564606884, "last_edit_date": 1564606884, "creation_date": 1564604598, "answer_id": 57298329, "question_id": 57298276, "link": "https://stackoverflow.com/questions/57298276/how-to-validate-it-must-be-an-object/57298329#57298329", "title": "How to validate it must be an object?", "body": "<p>To achieve expected result, use below option of verifying whether data is object or array by constructor name</p>\n\n<p>In Javascript, there is no separate data type for array and they are list-like objects </p>\n\n<p>As per MDN- <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array</a></p>\n\n<blockquote>\n  <p>The JavaScript Array object is a global object that is used in the\n  construction of arrays; which are high-level, list-like objects.</p>\n</blockquote>\n\n<p>Refer this link for more details - <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/constructor</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data1 = [1,2,3]\r\nvar data2= {\r\na:1,\r\nb:2\r\n}\r\n\r\nvar data3= Object.create(null)\r\nvar data4= null;\r\n\r\nconsole.log(\"data1-type\", data1.constructor &amp;&amp; data1.constructor.name || typeof data1)\r\nconsole.log(\"data2-type\", data2.constructor &amp;&amp; data2.constructor.name || typeof data2)\r\nconsole.log(\"data3-type\", data3.constructor &amp;&amp; data3.constructor.name || typeof data3)\r\nconsole.log(\"data4-type\", data4 &amp;&amp; data4.constructor &amp;&amp; data4.constructor.name || typeof data4)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": true, "score": 2, "last_activity_date": 1564616852, "creation_date": 1564616852, "answer_id": 57300164, "question_id": 57298276, "link": "https://stackoverflow.com/questions/57298276/how-to-validate-it-must-be-an-object/57300164#57300164", "title": "How to validate it must be an object?", "body": "<p>In addition to a regular object, both <code>null</code> and <code>Array</code> will also have typeof as \"object\" so if you're trying to make sure it's only a regular object and not <code>null</code> or <code>Array</code>, then you would just add one more check to what you already had:</p>\n\n<pre><code>if (!data || typeof data !== \"object\" || Array.isArray(data)) {\n    throw new Error(`data is not an object`);\n}\n</code></pre>\n"}], "owner": {"reputation": 9029, "user_id": 791022, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba56795046c628c77b3eb81c329cb049?s=128&d=identicon&r=PG", "display_name": "I&#39;ll-Be-Back", "link": "https://stackoverflow.com/users/791022/ill-be-back"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "accepted_answer_id": 57300164, "answer_count": 2, "score": 0, "last_activity_date": 1564616852, "creation_date": 1564604373, "question_id": 57298276, "link": "https://stackoverflow.com/questions/57298276/how-to-validate-it-must-be-an-object", "title": "How to validate it must be an object?", "body": "<p>Is it necessary two use two conditions to check if <code>data</code> is an object otherwise throw an error?</p>\n\n<pre><code>if (typeof data !== \"object\" || Array.isArray(data)) {\n    throw new Error(`data is not an object`);\n}\n</code></pre>\n\n<p>It appear <code>typeof data !== \"object\"</code> treated as array as well.</p>\n"}, {"tags": ["javascript", "node.js", "typescript", "asynchronous", "axios"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1564604264, "post_id": 57298221, "comment_id": 101090550, "body": "Your first <code>await</code> is simply awaiting the result of the <code>map</code> function, which is synchronous and returns immediately. If you want to wait for all of the promises to return, use <code>Promise.all</code>."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564604320, "post_id": 57298221, "comment_id": 101090566, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/37360567/how-do-i-await-a-list-of-promises-in-javascript-typescript\">How do I await a list of Promises in JavaScript/TypeScript?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 348, "user_id": 973085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e6b51973fea232649d3008016bc15d?s=128&d=identicon&r=PG", "display_name": "Evvo", "link": "https://stackoverflow.com/users/973085/evvo"}, "edited": false, "score": 0, "creation_date": 1614633071, "post_id": 57298958, "comment_id": 117439575, "body": "I tried this but got an error because the get() returns string|Promise and it doesn&#39;t match the function&#39;s return type"}], "tags": [], "owner": {"reputation": 54, "user_id": 9291797, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3A3MxOFlCXs/AAAAAAAAAAI/AAAAAAAAAB4/vMvVCko6vDI/photo.jpg?sz=128", "display_name": "Berkay Bindebir", "link": "https://stackoverflow.com/users/9291797/berkay-bindebir"}, "is_accepted": false, "score": 1, "last_activity_date": 1564607836, "creation_date": 1564607836, "answer_id": 57298958, "question_id": 57298221, "link": "https://stackoverflow.com/questions/57298221/how-can-i-wait-for-a-response-using-axios-and-typescript/57298958#57298958", "title": "How can I wait for a response using Axios and Typescript?", "body": "<p>Your \"<strong>create</strong>\" function is not returning a promise, its a void return type function.\nAlso, you need to add await before async task like \"<strong>Axios</strong>\". Object.values is not an async task.</p>\n\n<pre><code>class PlaylistController {\n    // Metodo inicial para criacao da playlist\n    public create(req: Request, res: Response): void {\n      let artists = req.body.bands;\n      artists = artists.split(',');\n\n      search = Object.values(artists).map((artistsName): any =&gt; this.searchArtists(artistsName));\n      console.log(search)\n    }\n\n    private searchArtists = async (artistName): Promise&lt;AxiosResponse&gt; =&gt; {\n        return await axios.get(`${API_URL}/search`, {\n            params: {\n              q: artistName,\n              type: 'artist',\n            },\n            headers: {\n              Authorization: `${TOKEN_TYPE} ${REFRESH_TOKEN}`,\n            }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 7742993, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/265179737193e8f7f5d92a46ff9ffed4?s=128&d=identicon&r=PG&f=1", "display_name": "DouglasNickson", "link": "https://stackoverflow.com/users/7742993/douglasnickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8155, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564607836, "creation_date": 1564604099, "question_id": 57298221, "link": "https://stackoverflow.com/questions/57298221/how-can-i-wait-for-a-response-using-axios-and-typescript", "title": "How can I wait for a response using Axios and Typescript?", "body": "<p>I need your help to adjust my methods to wait for a axios response. Basically, I send a request to an WebService and I need wait the response to catch the return and call another method.</p>\n\n<p>I've tried to use async/await on my calls but I probably used it wrong.</p>\n\n<pre><code>class PlaylistController {\n  // Metodo inicial para criacao da playlist\n  public async create(req: Request, res: Response): Promise&lt;Response&gt; {\n    let artists = req.body.bands;\n    artists = artists.split(',');\n\n    const search = await Object.values(artists)\n      .map((artistsName): Promise&lt;AxiosResponse&gt; =&gt; this.searchArtists(artistsName));\n    console.log(search);\n\n  }\n\n  private searchArtists = async (artistName): Promise&lt;AxiosResponse&gt; =&gt; axios.get(`${API_URL}/search`, {\n    params: {\n      q: artistName,\n      type: 'artist',\n    },\n    headers: {\n      Authorization: `${TOKEN_TYPE} ${REFRESH_TOKEN}`,\n    },\n  }).then((response): AxiosResponse =&gt; { console.log(response.data.artists); return response; })\n    .catch((error) =&gt; { console.log(error.response.data); return error; });\n}\n</code></pre>\n\n<p>This code first log the result of the \"console.log(search);\" with this output:</p>\n\n<pre><code>[Promise { pending },\n Promise { pending },\n Promise { pending } ]\n</code></pre>\n\n<p>After that is showed the axios response.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "callback"], "comments": [{"owner": {"reputation": 9, "user_id": 3976619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab54bd2562bda46bf666bd49407f6b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey Jason", "link": "https://stackoverflow.com/users/3976619/mickey-jason"}, "reply_to_user": {"reputation": 2769, "user_id": 11343720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kHKkF.png?s=128&g=1", "display_name": "MERN", "link": "https://stackoverflow.com/users/11343720/mern"}, "edited": false, "score": 0, "creation_date": 1564604874, "post_id": 57298220, "comment_id": 101090760, "body": "Logically, every login is sync activity. You can&#39;t do anything until you log in to your sistem. Right? So windows cannot let you play tetris while checking for your credentials in background. That&#39;s what I mean with can&#39;t be async. But some clever developer write it async and I&#39;m in trouble. :-)"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1564604901, "post_id": 57298220, "comment_id": 101090769, "body": "that&#39;s not possible."}, {"owner": {"reputation": 9, "user_id": 3976619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab54bd2562bda46bf666bd49407f6b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey Jason", "link": "https://stackoverflow.com/users/3976619/mickey-jason"}, "edited": false, "score": 0, "creation_date": 1564605225, "post_id": 57298220, "comment_id": 101090879, "body": "King Stone, just after login I use some params for getting token for session...What is the possible solution Kevin B? Is async design of function ajax_oauth completely wrong?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1564605331, "post_id": 57298220, "comment_id": 101090917, "body": "@MickeyJason getToken simply cannot return the value, it must return a promise or accept a callback."}, {"owner": {"reputation": 9, "user_id": 3976619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab54bd2562bda46bf666bd49407f6b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey Jason", "link": "https://stackoverflow.com/users/3976619/mickey-jason"}, "edited": false, "score": 0, "creation_date": 1564605673, "post_id": 57298220, "comment_id": 101091047, "body": "How can it accept callback?"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564606181, "post_id": 57298220, "comment_id": 101091245, "body": "Anytime you access the Server it should be Asynchronously. In this case your Client clicks a button which calls your AJAX function. You do something with the response on <code>success</code>."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 3976619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab54bd2562bda46bf666bd49407f6b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey Jason", "link": "https://stackoverflow.com/users/3976619/mickey-jason"}, "edited": false, "score": 0, "creation_date": 1564680832, "post_id": 57299354, "comment_id": 101120507, "body": "Thank you guys. This workaround did the job. Entire code will be rewritten soon, so intercept is accepted."}], "tags": [], "owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "is_accepted": false, "score": 0, "last_activity_date": 1564681754, "last_edit_date": 1564681754, "creation_date": 1564610265, "answer_id": 57299354, "question_id": 57298220, "link": "https://stackoverflow.com/questions/57298220/calling-sync-ready-made-async-ajax-javascript-function/57299354#57299354", "title": "Calling sync ready made async ajax javascript function", "body": "<p>For whatever reason you can't tap into the original ajax response, you could intercept the request using <a href=\"https://api.jquery.com/jQuery.ajaxPrefilter/\" rel=\"nofollow noreferrer\"><code>$.ajaxPrefilter</code></a>.</p>\n\n<p>From your code it looks like <code>auth_token_url</code> has a global reference. You could use this to intercept the call by matching the outgoing request on the resource URL.</p>\n\n<pre><code>$.ajaxPrefilter('json', function(options, originalOptions, jqXHR) {\n  if (options.url === auth_token_url) {\n    jqXHR.done(function(response) {\n      try {\n        var decoded = jwt_decode(response.token);\n        console.log(decoded);\n      } catch (err) {\n        APP.error(\"unable to decode token \" + JSON.stringify(err));\n      }\n    });\n  }\n});\n\n</code></pre>\n\n<p>Note that this needs to be declared well before the request is made preferably after jQuery is loaded.</p>\n"}], "owner": {"reputation": 9, "user_id": 3976619, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab54bd2562bda46bf666bd49407f6b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mickey Jason", "link": "https://stackoverflow.com/users/3976619/mickey-jason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564681754, "creation_date": 1564604097, "last_edit_date": 1564604464, "question_id": 57298220, "link": "https://stackoverflow.com/questions/57298220/calling-sync-ready-made-async-ajax-javascript-function", "title": "Calling sync ready made async ajax javascript function", "body": "<p>I want to call this function on button click after login and wait for result, to get token value. This function cannot be changed, it is async and supplied from other currently unavailable team.</p>\n\n<p>I already tried something like this, but with no success. I get web service results, but I can't write appropriate sync call to wait to return token.</p>\n\n<pre><code>function getToken() {\n\n    param1 = \"123456\";\n\n    ajax_oauth(param1, function (success, response) {\n        success: return response.token;    \n    }); \n\n}\n\nfunction ajax_oauth(param1, callback) {\n    APP.debug(\"oauth login with param1 \" + param1);\n    try {\n        APP.blockUI();\n        var DeviceID = APP.readRegistry(APP_CONFIG.REGISTRY.DeviceID);\n        //---------------------------------------------------------------\n        $.ajax(\n            auth_token_url,\n            {\n                method: \"GET\",\n                accept: 'application/json',\n                contentType: \"application/json; charset=utf-8\",\n                dataType: 'json',\n                data: JSON.stringify({\n                    'param1': param1,\n                    'deviceId': DeviceID\n                }),\n                xhrFields: {\n                    withCredentials: false\n                },\n                statusCode: {\n                    201: function (response) {\n                        APP_STATE.hasOauth = true;\n                        APP.debug('got response 200 from oauth');\n                        auth.login(response.token); //TODO read expiration from token\n                        try {\n                            var decoded = jwt_decode(response.token);\n                            APP_STATE.uid = decoded.uid;\n                        } catch (err) {\n                            APP.error(\"unable to decode token \" + JSON.stringify(err));\n                        }\n                    },\n                    401: function () {\n\n                    },\n                    500: function () {\n\n                    },\n                    503: function () {\n\n                    }\n                },\n                success: function (response) {\n                    APP.unblockUI();\n                    APP_STATE.restAvailable = true;\n                },\n                error: function (jqXHR, textStatus, errorThrown) {\n                    APP.unblockUI();\n                    APP_STATE.restAvailable = false;\n                    APP.restError(auth_token_url, jqXHR, errorThrown, textStatus);\n                    APP.callback(callback, false);\n                }\n            }\n        );\n    } catch (err) {\n        APP.error(\"unable to do oauth login, \" + err);\n    }\n};\n</code></pre>\n\n<p>After user clicks on login button, I want to call function <code>ajax_oauth</code> and to return token if params ok. If not, to return login error. Login can't be async, as far as I can see.</p>\n"}, {"tags": ["javascript", "django-rest-framework"], "comments": [{"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 1, "creation_date": 1564604104, "post_id": 57298203, "comment_id": 101090489, "body": "<code>forEach</code> works with arrays. Is <code>data.results</code> actually an array?"}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1564604106, "post_id": 57298203, "comment_id": 101090491, "body": "what is <code>data.results</code>?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564604118, "post_id": 57298203, "comment_id": 101090494, "body": "Apparently <code>data</code> does not have a <code>results</code> property on it. You should consider learning to use a debugger where you can set a breakpoint on that line with <code>data.results.forEach...</code>. Then you could examine what <code>data</code> has."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564604512, "post_id": 57298203, "comment_id": 101090628, "body": "As far as I can tell, you need <code>data.forEach</code>, not <code>data.results.forEach</code>. This also looks like a syntax error, but that&#39;s probably from removing some of the inner code."}], "answers": [{"comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564604374, "post_id": 57298253, "comment_id": 101090584, "body": "OP&#39;s way of parsing the response is fine (see here: <a href=\"https://jsfiddle.net/khrismuc/04326cLn/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/04326cLn</a>)"}, {"owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564604516, "post_id": 57298253, "comment_id": 101090632, "body": "@ChrisG Actually, when the OP originally posted the question the syntax was wrong and he didn&#39;t include the entire code. By the time I posted the answer OP edited the question."}, {"owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564604688, "post_id": 57298253, "comment_id": 101090693, "body": "@ChrisG I have anyway edited the answer and it solves the problem"}], "tags": [], "owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "is_accepted": false, "score": 1, "last_activity_date": 1564604401, "last_edit_date": 1564604401, "creation_date": 1564604221, "answer_id": 57298253, "question_id": 57298203, "link": "https://stackoverflow.com/questions/57298203/non-empty-api-is-not-processed-foreach-cannot-read-property-foreach/57298253#57298253", "title": "Non-empty API is not processed forEach (Cannot read property &#39;forEach&#39; )", "body": "<p>You have incorrectly used the API.\nIt should not be <code>data.results.forEach(...)</code>, it should be,\n<code>data.forEach(...)</code>.\nTry to refactor your code to the following format and check,</p>\n\n<pre><code>fetch('http://127.0.0.1:8080/api/RES/?format=json')\n  .then(function(response) {\n    return response.json();\n  })\n  .then(function(data) {\n      data.forEach(function (item, index) {\n            //...\n            };\n  });\n</code></pre>\n\n<p>Whenever in doubt regarding Web(HTML, CSS, JS) always refer MDN! Here is an explanation of <code>fetch</code>,\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11865680, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-FeWhnRWCcow/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf6qvK70Ki-HdiowbOuHDmwH_Zpag/mo/photo.jpg?sz=128", "display_name": "\u041b\u0451\u043b\u044f \u0416\u0443\u0436\u0435\u0432\u043d\u0430", "link": "https://stackoverflow.com/users/11865680/%d0%9b%d1%91%d0%bb%d1%8f-%d0%96%d1%83%d0%b6%d0%b5%d0%b2%d0%bd%d0%b0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1564604401, "creation_date": 1564603951, "last_edit_date": 1564604261, "question_id": 57298203, "link": "https://stackoverflow.com/questions/57298203/non-empty-api-is-not-processed-foreach-cannot-read-property-foreach", "title": "Non-empty API is not processed forEach (Cannot read property &#39;forEach&#39; )", "body": "<p>The error is probably stupid, but I'm just learning to program.\nI want to display the contents of the API in a tabular form</p>\n\n<p>Local Server: <a href=\"http://127.0.0.1:8080/api/RES/?format=json\" rel=\"nofollow noreferrer\">http://127.0.0.1:8080/api/RES/?format=json</a><br>\nAPI: </p>\n\n<pre><code>[{\"id\":1,\"name\":\"\u041e\u0410\u041e \\\"\u041f\u0435\u043b\u0435\u043d\u0433\\\"  \u0443\u043b. \u041c\u0430\u043a\u0430\u0435\u043d\u043a\u0430, 23\",\"adress\":\"\u0413. \u041d-\u0441\u043a\",\"remarks\":\"\"}]\n</code></pre>\n\n<p>But the screen remains empty, and in the console - an error:\nWell_new.html: 24 Uncaught (in promise) TypeError: Cannot read property 'forEach'</p>\n\n<pre><code>fetch('http://127.0.0.1:8080/api/RES/').then(function(response) {\n    response.json().then(function(data) {\n        data.results.forEach(function (item, index) {\n            //...\n        };\n        })\n    })\n})\n</code></pre>\n\n<p>may not be properly formed API?</p>\n"}, {"tags": ["javascript", "html", "http"], "comments": [{"owner": {"reputation": 25458, "user_id": 1253312, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a90b6864bbc87b210758cc70cdb03a5?s=128&d=identicon&r=PG", "display_name": "Joe Frambach", "link": "https://stackoverflow.com/users/1253312/joe-frambach"}, "edited": false, "score": 0, "creation_date": 1564603826, "post_id": 57298143, "comment_id": 101090391, "body": "Could you specify if you intend this to collect metrics on your users&#39; machines, or is this for your development purposes? If for development purposes, you could use a proxy like Charles, or you could intercept the requests by using Puppeteer. The answers to this question depend on your use-case."}, {"owner": {"reputation": 119, "user_id": 9124495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e95615174db9c8f890a457a9142ad2?s=128&d=identicon&r=PG&f=1", "display_name": "ISAAC", "link": "https://stackoverflow.com/users/9124495/isaac"}, "reply_to_user": {"reputation": 25458, "user_id": 1253312, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a90b6864bbc87b210758cc70cdb03a5?s=128&d=identicon&r=PG", "display_name": "Joe Frambach", "link": "https://stackoverflow.com/users/1253312/joe-frambach"}, "edited": false, "score": 0, "creation_date": 1564604250, "post_id": 57298143, "comment_id": 101090541, "body": "@JoeFrambach It is for development purposes for my website. I need to get all the URLs to see if there is any URL that sends more then X amount of requests"}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 5764634, "user_type": "registered", "accept_rate": 86, "profile_image": "https://graph.facebook.com/167383233626312/picture?type=large", "display_name": "Carlos Montiel", "link": "https://stackoverflow.com/users/5764634/carlos-montiel"}, "is_accepted": false, "score": 0, "last_activity_date": 1564604990, "last_edit_date": 1564604990, "creation_date": 1564604377, "answer_id": 57298278, "question_id": 57298143, "link": "https://stackoverflow.com/questions/57298143/create-a-list-of-network-requests-shown-in-the-developer-tools-using-javascript/57298278#57298278", "title": "Create a list of network requests shown in the developer tools using Javascript?", "body": "<p>To do that you can try to use XMLHttpRequest to make a request to the url you want then, handle the response with the status code of your needs.</p>\n\n<pre><code>    var req = new XMLHttpRequest();\nreq.open('GET', 'http://www.mozilla.org/', true);\nreq.onreadystatechange = function (aEvt) {\n  if (req.readyState == 4) {\n     if(req.status == 200)\n      dump(req.responseText);\n     else\n      dump(\"Error loading page\\n\");\n  }\n};\nreq.send(null);\n</code></pre>\n\n<p>Source <a href=\"https://developer.mozilla.org/es/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\" rel=\"nofollow noreferrer\">using xmlhttp request</a></p>\n\n<p>As you posted a comment above, I will teach you how you can navigate through a website gathering all external or internal links parsing the html.</p>\n\n<p>Get the link somehow then send to getHtml() function, I suggest you to try this\n Index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n    &lt;title&gt;Document&lt;/title&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"main.js\"&gt;&lt;/script&gt;\n    &lt;style&gt;\n        p{\n            margin: 0px;\n            margin-block-end: 0px;\n            margin-bottom: 0px;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n    &lt;input type=\"text\" id=\"link\"&gt;Ingrese enlace\n    &lt;button onclick=\"getHtml(document.getElementById('link').value)\"&gt;Get External Content&lt;/button&gt;\n\n    &lt;div id=\"div1\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>main.js</p>\n\n<pre><code>function getHref(links, as){\n    var as_length = as.length;\n    var links_length = links.length;\n    for (let index = 0; index &lt; as_length; index++) {\n        var element = as[index].href;\n        $(\"#div1\").html($(\"#div1\").html()+`&lt;br&gt;&gt; ${element}`);\n\n        if(element.indexOf(window.location.href)&gt;-1){\n            $(\"#div1\").html($(\"#div1\").html()+` - &lt;p style='color:purple;'&gt; current path DETECTED action: discarting... &lt;/p&gt;`);\n            element=\"0\";\n\n         } \n\n        if(element.indexOf(\"file:///C:/\") &gt; -1) {\n            element = element.replace(\"file:///C:/\", initiator);\n            $(\"#div1\").html($(\"#div1\").html()+` -   ${element}`);\n         }\n         else if(element.indexOf(initiator)&gt; -1){\n            $(\"#div1\").html($(\"#div1\").html()+` - ${element}`);\n\n         }\n         else if(element.indexOf(\"file://\") &gt; -1) {\n            element = element.replace(\"file://\", initiator);\n            $(\"#div1\").html($(\"#div1\").html()+` - &lt;p style='color:red;'&gt; External domain DETECTED action: discarting...&lt;/p&gt;`);\n\n         }\n         else if(element.indexOf(\"mailto:\") &gt; -1) {\n           element =0;\n            $(\"#div1\").html($(\"#div1\").html()+` - &lt;p style='color:cyan;'&gt; External action DETECTED action: discarting... &lt;/p&gt;`);\n         }\n         else if(element.indexOf(\"tel:\") &gt; -1) {\n            element=0;\n            $(\"#div1\").html($(\"#div1\").html()+` - &lt;p style='color:cyan;'&gt; External action DETECTED action: discarting...&lt;/p&gt;`);\n         }\n\n\n         getHtmlChild(element);\n\n\n\n\n    } \n}\nfunction parseHtml(htmls)\n{  // console.log(html);\n\n    $(\"#div1\").html($(\"#div1\").html()+\"&lt;br&gt;&gt;Parsing...\");\n    var ele = document.createElement('div');\n    ele.innerHTML = htmls;\n    console.log(ele);\n    var link_tag = ele.getElementsByTagName('link');\n    var a_tag = ele.getElementsByTagName('a');\n    $(\"#div1\").html($(\"#div1\").html()+`&lt;br&gt;&gt;found ${link_tag.length} &lt;b&gt;&lt;u&gt;link&lt;/u&gt;&lt;/b&gt; tags and ${a_tag.length} &lt;b&gt;&lt;u&gt;a&lt;/u&gt;&lt;/b&gt; tags., BAD TAGS ARE ELIMINATED! `);\n    getHref(link_tag, a_tag);\n    //console.log(link_tag[0].href);\n}\nfunction getHtml(urls){\n    console.log(\"INICIADOR:\" + urls);\n    if(urls[urls.length-1]!=\"/\"){\n        urls = urls+\"/\";\n\n    }    \n    initiator=urls;\n    proceses++;\n    $.ajax({\n        url: `${urls}`,\n        method: \"GET\",\n        crossDomain: true,\n        success: function(data) {\n            $(\"#div1\").html(\"&gt;Content is succefull gathered....\");\n            parseHtml(data);\n        }\n    });\n}\n</code></pre>\n\n<p>It will display all the links :)</p>\n"}, {"tags": [], "owner": {"reputation": 25458, "user_id": 1253312, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/8a90b6864bbc87b210758cc70cdb03a5?s=128&d=identicon&r=PG", "display_name": "Joe Frambach", "link": "https://stackoverflow.com/users/1253312/joe-frambach"}, "is_accepted": false, "score": 0, "last_activity_date": 1564682895, "creation_date": 1564682895, "answer_id": 57314738, "question_id": 57298143, "link": "https://stackoverflow.com/questions/57298143/create-a-list-of-network-requests-shown-in-the-developer-tools-using-javascript/57314738#57314738", "title": "Create a list of network requests shown in the developer tools using Javascript?", "body": "<p>Use Puppeteer in non-headless mode (headed? headful?), using the interception to log the network requests. See the Puppeteer documentation at <a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pagesetrequestinterceptionvalue\" rel=\"nofollow noreferrer\">https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pagesetrequestinterceptionvalue</a>.</p>\n\n<p>Copied and modified:</p>\n\n<pre><code>const puppeteer = require('puppeteer');\n\npuppeteer.launch().then(async browser =&gt; {\n  const page = await browser.newPage();\n  await page.setRequestInterception(true);\n  page.on('request', interceptedRequest =&gt; {\n    console.log(interceptedRequest.url());\n    interceptedRequest.continue();\n  });\n  await page.goto('https://example.com');\n  await browser.close();\n});\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9124495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e95615174db9c8f890a457a9142ad2?s=128&d=identicon&r=PG&f=1", "display_name": "ISAAC", "link": "https://stackoverflow.com/users/9124495/isaac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 471, "favorite_count": 1, "answer_count": 2, "score": -3, "last_activity_date": 1564682895, "creation_date": 1564603645, "last_edit_date": 1564604275, "question_id": 57298143, "link": "https://stackoverflow.com/questions/57298143/create-a-list-of-network-requests-shown-in-the-developer-tools-using-javascript", "title": "Create a list of network requests shown in the developer tools using Javascript?", "body": "<p>I am trying to create a list of all the URLs of the requests that are listed below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mNKte.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mNKte.png\" alt=\"enter image description here\"></a></p>\n\n<p>I found a similar question without the exact results I\u2019m looking for here: <a href=\"https://stackoverflow.com/questions/20621084/how-to-get-list-of-network-requests-done-by-html\">How to get list of network requests done by HTML</a>. I want to create a function that listens in the background and continues to add new requests to the list. The closest answer I\u2019ve found is not a complete list.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564603545, "post_id": 57298104, "comment_id": 101090276, "body": "You are missing some HTML, which leads to an error."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 2, "creation_date": 1564603565, "post_id": 57298104, "comment_id": 101090284, "body": "A 7 year old book is <i>ancient</i> in programming-time.  I strongly suggest getting something much newer."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564603575, "post_id": 57298104, "comment_id": 101090291, "body": "There&#39;s no element with an id of &quot;soFar&quot;, for instance."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1564603592, "post_id": 57298104, "comment_id": 101090299, "body": "Open the Console in your browser&#39;s developer tools and <i>read the error message</i>."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564603600, "post_id": 57298104, "comment_id": 101090305, "body": "<code>script</code> tags must go inside <code>body</code> or <code>head</code>.  They cannot be direct children of <code>html</code>."}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1564603624, "post_id": 57298104, "comment_id": 101090310, "body": "Also read <a href=\"https://stackoverflow.com/questions/6081560/is-there-ever-a-good-reason-to-pass-a-string-to-settimeout\" title=\"is there ever a good reason to pass a string to settimeout\">stackoverflow.com/questions/6081560/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11793133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IglTJ.png?s=128&g=1", "display_name": "RocketScience", "link": "https://stackoverflow.com/users/11793133/rocketscience"}, "edited": false, "score": 0, "creation_date": 1564603709, "post_id": 57298104, "comment_id": 101090346, "body": "I am new to this forum and it was just marked as a duplicate, that is fine but where do I find his original question?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564603720, "post_id": 57298104, "comment_id": 101090352, "body": "At the top of the question."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564603817, "post_id": 57298104, "comment_id": 101090388, "body": "Your HTML does not contain a <code>soFar</code> element, so you can&#39;t set its content."}, {"owner": {"reputation": 1, "user_id": 11793133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IglTJ.png?s=128&g=1", "display_name": "RocketScience", "link": "https://stackoverflow.com/users/11793133/rocketscience"}, "edited": false, "score": 0, "creation_date": 1564603951, "post_id": 57298104, "comment_id": 101090440, "body": "So the example is outdated? Where would soFar element be inserted?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564604005, "post_id": 57298104, "comment_id": 101090458, "body": "Probably after the <code>Seconds you have spent viewing this page so far:</code> bit."}, {"owner": {"reputation": 1, "user_id": 11793133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IglTJ.png?s=128&g=1", "display_name": "RocketScience", "link": "https://stackoverflow.com/users/11793133/rocketscience"}, "edited": false, "score": 0, "creation_date": 1564605005, "post_id": 57298104, "comment_id": 101090805, "body": "Yes. &lt;span id = &quot;soFar&quot;&gt;0&lt;/span&gt; made it happen. Thanks Yall."}], "owner": {"reputation": 1, "user_id": 11793133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IglTJ.png?s=128&g=1", "display_name": "RocketScience", "link": "https://stackoverflow.com/users/11793133/rocketscience"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1564603574, "answer_count": 0, "score": 0, "last_activity_date": 1564603534, "creation_date": 1564603416, "last_edit_date": 1564603534, "question_id": 57298104, "link": "https://stackoverflow.com/questions/57298104/javascript-event-handling-this-code-is-supposed-to-demonstrate-the-load-event", "closed_reason": "Duplicate", "title": "JavaScript Event Handling: This code is supposed to demonstrate the load event", "body": "<p>Was reviewing this example but it is not working in the browser. The book is over 7 years old, some examples work and others don't. Not really sure what to think at the moment. Can anyone clarify?</p>\n\n<p>Unfortunately, this is supposed to run as an example for learning purposes, but it is not functioning, any suggestions or comments?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n\r\n\r\n&lt;!-- Demonstrating the load event. --&gt;\r\n\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset = \"utf-8\"&gt;\r\n    &lt;title&gt;load Event&lt;/title&gt;\r\n    &lt;link rel = \"stylesheet\" type = \"text/css\" href = \"style.css\"&gt;\r\n    &lt;/head&gt;\r\n\r\n\r\n    &lt;body&gt;\r\n    &lt;p&gt;Seconds you have spent viewing this page so far:\r\n    &lt;/p&gt;\r\n    &lt;/body&gt;\r\n\r\n&lt;script type = \"text/javascript\"&gt;\r\n\r\nvar seconds = 0;\r\n\r\nfunction startTimer()\r\n{\r\n window.setInterval( \"updateTime()\", 1000 );\r\n} \r\n\r\n\r\nfunction updateTime()\r\n{\r\n ++seconds;\r\n document.getElementById( \"soFar\" ).innerHTML = seconds;\r\n} \r\n\r\nwindow.addEventListener( \"load\", startTimer, false );\r\n&lt;/script&gt;\r\n\r\n\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The browser displays \"Seconds you have spent viewing this page so far:\" but does not calculate. Is something outdated?</p>\n"}, {"tags": ["javascript", "typescript", "typedoc"], "answers": [{"tags": [], "owner": {"reputation": 474, "user_id": 4397574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9cd76535237833a23d22c2a2ac1fd59?s=128&d=identicon&r=PG", "display_name": "ozm", "link": "https://stackoverflow.com/users/4397574/ozm"}, "is_accepted": false, "score": 0, "last_activity_date": 1591525177, "creation_date": 1591525177, "answer_id": 62243905, "question_id": 57298054, "link": "https://stackoverflow.com/questions/57298054/linking-to-external-library-documentation-with-typedoc/62243905#62243905", "title": "Linking to external library documentation with TypeDoc", "body": "<p>Yes you can use following syntax by putting text between square brackets <code>[]</code> and url between parenthesis <code>()</code>.</p>\n\n<pre><code>[Text to be displayed](URL)\n</code></pre>\n\n<p>For example: Link to an <code>npm</code> module called <code>pg-structure</code>.</p>\n\n<p><code>[pg-structure](https://www.npmjs.com/package/pg-structure)</code></p>\n\n<p>I also usually link to related paragraph by copying from <code>npm</code> link icon left to title. (See icon left to <code>Synopsis</code> title in example picture below)</p>\n\n<p><a href=\"https://i.stack.imgur.com/KVYha.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KVYha.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 181, "user_id": 11838788, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C0n5QyAf0M8/AAAAAAAAAAI/AAAAAAAAkIE/_Ehbr0cjYWk/photo.jpg?sz=128", "display_name": "Erik Macik", "link": "https://stackoverflow.com/users/11838788/erik-macik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 265, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1591525177, "creation_date": 1564603195, "question_id": 57298054, "link": "https://stackoverflow.com/questions/57298054/linking-to-external-library-documentation-with-typedoc", "title": "Linking to external library documentation with TypeDoc", "body": "<p>I have a TypeScript project, and I'm using TypeDoc to generate documentation for it. In my project I am using an external library that has its own existing documentation. In the TypeDoc output for my project I want to link the reader to the documentation for the external library without having to manually insert a URL.</p>\n\n<p>The closest I've come to a solution is placing double brackets in the code comments around what I want to link to, like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/** I want to link to something called [[Foo]] */\n</code></pre>\n\n<p>But this doesn't seem to work for types in an external library.</p>\n\n<p>Is this possible to achieve?</p>\n"}, {"tags": ["javascript", "node.js", "unit-testing", "integration-testing", "nock"], "answers": [{"comments": [{"owner": {"reputation": 311, "user_id": 6305306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9565f191823ccaf23161dd9054d97ab?s=128&d=identicon&r=PG&f=1", "display_name": "laurent exsteens", "link": "https://stackoverflow.com/users/6305306/laurent-exsteens"}, "edited": false, "score": 0, "creation_date": 1564683435, "post_id": 57298551, "comment_id": 101121599, "body": "As for the testing. What matters to me is that my tests ar lean while helping me to detect regressions quickly on each feature addition. I&#39;m therefore wondering if this code is really meaningful and could not be replaced by a test fireing up a json-server, therefore being more of an integration test that would also test the very little logic inside my DAO (basically adding an ID), so also partly unit testing. Would you think that would make more sense than a test with nock in this case?"}, {"owner": {"reputation": 787, "user_id": 1162903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e645c4d21d9b74b07b105648cad42d5a?s=128&d=identicon&r=PG", "display_name": "yoz", "link": "https://stackoverflow.com/users/1162903/yoz"}, "reply_to_user": {"reputation": 311, "user_id": 6305306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9565f191823ccaf23161dd9054d97ab?s=128&d=identicon&r=PG&f=1", "display_name": "laurent exsteens", "link": "https://stackoverflow.com/users/6305306/laurent-exsteens"}, "edited": false, "score": 0, "creation_date": 1564702970, "post_id": 57298551, "comment_id": 101127721, "body": "@laurentexsteens I think that&#39;s a more general question - you can find a lot of advice on integration testing vs. unit testing; generally, integration tests will be slower and require more infrastructure to run, but unit tests only cover one component of your system."}], "tags": [], "owner": {"reputation": 787, "user_id": 1162903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e645c4d21d9b74b07b105648cad42d5a?s=128&d=identicon&r=PG", "display_name": "yoz", "link": "https://stackoverflow.com/users/1162903/yoz"}, "is_accepted": true, "score": 2, "last_activity_date": 1564605750, "creation_date": 1564605750, "answer_id": 57298551, "question_id": 57298046, "link": "https://stackoverflow.com/questions/57298046/how-to-make-nock-js-reply-posted-data/57298551#57298551", "title": "how to make nock.js reply posted data?", "body": "<p>Yes, this is supported by nock. See this section of the documentation:\n<a href=\"https://github.com/nock/nock#specifying-replies\" rel=\"nofollow noreferrer\">https://github.com/nock/nock#specifying-replies</a></p>\n\n<p>The example given there does exactly what you're asking for:</p>\n\n<pre><code>const scope = nock('http://www.google.com')\n  .post('/echo')\n  .reply(201, (uri, requestBody) =&gt; requestBody)\n</code></pre>\n\n<p>Though as for what test makes sense to write, it's important to consider what behavior you're trying to test. nock makes the most sense for testing the client (without needing to set up a real server), whereas other mocking libraries like <a href=\"https://github.com/howardabrams/node-mocks-http\" rel=\"nofollow noreferrer\">node-mocks-http</a> are better suited for testing server endpoints (without needing to set up a real client).</p>\n"}], "owner": {"reputation": 311, "user_id": 6305306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9565f191823ccaf23161dd9054d97ab?s=128&d=identicon&r=PG&f=1", "display_name": "laurent exsteens", "link": "https://stackoverflow.com/users/6305306/laurent-exsteens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1272, "favorite_count": 0, "accepted_answer_id": 57298551, "answer_count": 1, "score": 1, "last_activity_date": 1564605750, "creation_date": 1564603144, "question_id": 57298046, "link": "https://stackoverflow.com/questions/57298046/how-to-make-nock-js-reply-posted-data", "title": "how to make nock.js reply posted data?", "body": "<p>Given this function:</p>\n\n<pre><code>createTrip: function(trip, userId) {\n  trip.userId = userId\n  trip.id = uuid()\n  return axios\n    .post(`${url}/trips`, trip)\n    .then(res =&gt; res.data)\n    .catch(error =&gt; error)\n}\n</code></pre>\n\n<p>And this test:</p>\n\n<pre><code>tripToCreate = {\n    \"name\": \"Iceland 2017\",\n    \"start\": \"2017-04-07\",\n    \"end\": \"2017-04-29\",\n    \"parts\": []\n}\n\ndescribe('#createTrip', function() {\n  it('should post the trips to the REST API', async function() {\n    nock(baseUrl)\n     .post('/trips')\n     .reply(201)\n\n    data = await tripDao.createTrip(tripToCreate, 'u1')\n    console.log(data)\n    expect(data.id).to.match(/^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/)\n    expect(data.userId).to.equal(tripToCreate.userId)\n    expect(data.name).to.equal(tripToCreate.name)\n    expect(data.start).to.equal(tripToCreate.start)\n    expect(data.end).to.equal(tripToCreate.end)\n  })\n})\n</code></pre>\n\n<p>I would like nock to reply with the posted data (therefore mocking the behavior of json-server).\nSince the data is posted by the createTrip() function after adding 2 fields, I can't simply return hardcoded data.\nIs it possible using nock (or another \"mocking\" tool)?</p>\n\n<p>Bonus question: does it actually make sense to make this test? Or a true integration test with a dedicated json-server for integration tests would be better?</p>\n\n<p>Thanks in advance for your help!</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 735, "user_id": 5199960, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153515457791798/picture?type=large", "display_name": "Reverend Pete", "link": "https://stackoverflow.com/users/5199960/reverend-pete"}, "edited": false, "score": 0, "creation_date": 1564603431, "post_id": 57298007, "comment_id": 101090231, "body": "This might point you in the right direction:  <a href=\"https://stackoverflow.com/questions/38499530/how-can-i-generate-a-random-sequence-of-numbers-in-javascript-with-conditions\" title=\"how can i generate a random sequence of numbers in javascript with conditions\">stackoverflow.com/questions/38499530/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "is_accepted": true, "score": 3, "last_activity_date": 1564603252, "creation_date": 1564603252, "answer_id": 57298064, "question_id": 57298007, "link": "https://stackoverflow.com/questions/57298007/how-to-place-126-pairs-of-images-inside-12-divs-randomly/57298064#57298064", "title": "How to place 12(6 pairs) of images inside 12 &lt;div&gt;s randomly", "body": "<p>You're almost there. Instead of using <code>document.getElementById(\"image0\")</code>, you should use <code>document.getElementById(\"image\" + i)</code> -- this way you're not just replacing the same image over and over, but instead replacing image number i. </p>\n"}, {"tags": [], "owner": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "is_accepted": false, "score": 0, "last_activity_date": 1564603482, "creation_date": 1564603482, "answer_id": 57298112, "question_id": 57298007, "link": "https://stackoverflow.com/questions/57298007/how-to-place-126-pairs-of-images-inside-12-divs-randomly/57298112#57298112", "title": "How to place 12(6 pairs) of images inside 12 &lt;div&gt;s randomly", "body": "<p>Picking up randomly from the image array, will result in the same image being picked twice. Instead, you can <a href=\"https://stackoverflow.com/a/2450976/2618606\">shuffle</a> the array and then just display them using a <code>for</code> loop.</p>\n"}], "owner": {"reputation": 35, "user_id": 11865887, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hIY4axy_9x0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rebnfeLJbLxj_mG3LlIB9WLY07QaA/photo.jpg?sz=128", "display_name": "Turgay Umudzada", "link": "https://stackoverflow.com/users/11865887/turgay-umudzada"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57298064, "answer_count": 2, "score": 0, "last_activity_date": 1564605688, "creation_date": 1564602891, "last_edit_date": 1564605688, "question_id": 57298007, "link": "https://stackoverflow.com/questions/57298007/how-to-place-126-pairs-of-images-inside-12-divs-randomly", "title": "How to place 12(6 pairs) of images inside 12 &lt;div&gt;s randomly", "body": "<p>i am making a memory card game which has a structure like this,and i need to place this 6 pairs of images inside the divs randomly ,and make sure there are 2 of each and not more</p>\n\n<p>heres my code i have 12 of this divs:</p>\n\n<pre><code>&lt;div class=\"card\"&gt;\n    &lt;div class=\"frontCard\"&gt;\n        &lt;img id=\"image0\" src=\"images/frontCard.jpg\" alt=\"\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"backCard\"&gt;\n        &lt;img src=\"images/CardBack.png\" alt=\"\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"card\"&gt;\n    &lt;div class=\"frontCard\"&gt;\n        &lt;img id=\"image1\" src=\"images/frontCard.jpg\" alt=\"\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"backCard\"&gt;\n        &lt;img src=\"images/CardBack.png\" alt=\"\"&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and js </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var imgArray = new Array();\n\nimgArray[0] = new Image();\nimgArray[0].src = 'images/frontCard.jpg';\n\nimgArray[1] = new Image();\nimgArray[1].src = 'images/frontCard2.jpg';\n\nimgArray[2] = new Image();\nimgArray[2].src = 'images/frontCard3.jpg';\n\nimgArray[3] = new Image();\nimgArray[3].src = 'images/frontCard4.jpg';\n\nimgArray[4] = new Image();\nimgArray[4].src = 'images/frontCard5.jpg';\n\nimgArray[5] = new Image();\nimgArray[5].src = 'images/frontCard6.png';\nmax = 12;\nfor (i = 0; i &lt; max; i++) {\n\n     document.getElementById(\"image0\").src = imgArray[Math.floor((Math.random() * 5))].src;\n     //???\n}\n</code></pre>\n\n<p>i have no idea how to do this in a short way without repeating myself</p>\n"}, {"tags": ["javascript", "jestjs", "ts-jest"], "comments": [{"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564674845, "post_id": 57297986, "comment_id": 101117822, "body": "would it be easier to use mocking package like <a href=\"https://www.npmjs.com/package/firebase-mock\" rel=\"nofollow noreferrer\"><code>firebase-mock</code></a>? to me mocking such variety of methods manually might be really hard"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564677467, "post_id": 57297986, "comment_id": 101119027, "body": "@skyboyer I tried to use that, it mocks the methods (<a href=\"https://github.com/danleavitt0/firebase-mock/blob/master/src/firebase.js\" rel=\"nofollow noreferrer\">github.com/danleavitt0/firebase-mock/blob/master/src/&hellip;</a>), but none of them are jest.fn, so I am not able to check if they are called or not, see this <a href=\"https://github.com/soumak77/firebase-mock/issues/150\" rel=\"nofollow noreferrer\">github.com/soumak77/firebase-mock/issues/150</a>"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564683574, "post_id": 57297986, "comment_id": 101121652, "body": "but do you really need that? I mean if API is mocked - so you know what it responds - and component renders as expected - does it really matter what exact API calls has been done and when?"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564683734, "post_id": 57297986, "comment_id": 101121731, "body": "@skyboyer good point, what is the best practice? do we need to check if dependencies are called with specific args or just receiving mock response is enough?"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564684041, "post_id": 57297986, "comment_id": 101121881, "body": "don&#39;t have 100% confidence on that but since I&#39;ve migrated from asserting everything to asserting only outcomes(wherever it component, independent function or model class) my tests stop breaking on each internal refactoring :) so I believe it&#39;s so named implementation details we should ignore for better unit testing. Just personal opinion though."}], "answers": [{"comments": [{"owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "reply_to_user": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 1, "creation_date": 1564603549, "post_id": 57298031, "comment_id": 101090278, "body": "You can define the entire returned object as spy. you can iterate over it, and call <code>jest.spyOn(obj, &#39;methodName&#39;)</code>."}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1564604442, "post_id": 57298031, "comment_id": 101090602, "body": "you can describe object separately <code>mockPrototype = { init: jest.fn().mockReturnThis(), getA: jest.fn(), ... }</code> and then describe module factory: <code>firebaseService = jest.fn().mockReturnValue(mockPrototype);</code>. Don&#39;t forget to <code>.mockClear</code> each method in <code>beforeEach</code> or <code>afterEach</code> otherwise your test may fail or pass when they should not."}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564605166, "post_id": 57298031, "comment_id": 101090857, "body": "@skyboyer would you please explain it more, I didn&#39;t get what is the purpose of mockPrototype and methods inside"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564606363, "post_id": 57298031, "comment_id": 101091298, "body": "actually I mean something close to flixmosh answer update but instead of <code>method1: &#39;returnValue&#39;</code> you may have <code>method1: jest.fn(), method2: jest.fn()</code> and on per-test basis you may mock return values by your needs: <code>firebaseMock.method1.mockReturnValue(111);</code> etc"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1564606494, "post_id": 57298031, "comment_id": 101091343, "body": "key thing: <code>beforeEach(() =&gt; { firebaseMock.method1.mockClear(); firebaseMock.method2.mockClear(); ... })</code> or <code>for(const item of firebaseMock) item.mockClear();</code> to reset <code>.calls</code> prop so <code>toHaveBeenCalled</code> don&#39;t lie you"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1564672034, "post_id": 57298031, "comment_id": 101116220, "body": "@felixmosh thanks for updated answer, also would you please add some code how to <code>expect</code> if <code>method1</code> has been called"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "edited": false, "score": 0, "creation_date": 1564673600, "post_id": 57298031, "comment_id": 101117089, "body": "@felixmosh please see my updated question with real scenario"}, {"owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "edited": false, "score": 0, "creation_date": 1564684019, "post_id": 57298031, "comment_id": 101121873, "body": "You can do the same thing that I&#39;ve mentioned on a nested object as well."}], "tags": [], "owner": {"reputation": 19724, "user_id": 6539317, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/feded6c8f60453abde4e6bf81a877693?s=128&d=identicon&r=PG&f=1", "display_name": "felixmosh", "link": "https://stackoverflow.com/users/6539317/felixmosh"}, "is_accepted": false, "score": 4, "last_activity_date": 1564605636, "last_edit_date": 1564605636, "creation_date": 1564603051, "answer_id": 57298031, "question_id": 57297986, "link": "https://stackoverflow.com/questions/57297986/how-to-check-if-a-method-is-called-in-nested-jest-mock-functions/57298031#57298031", "title": "How to check if a method is called in nested jest mock functions", "body": "<p>You can define the inner spy as a variable.</p>\n\n<pre><code>const initializeAppSpy = jest.fn(() =&gt; { /*do nothing*/});\n\nconst firebaseService = jest.fn(() =&gt; ({\n    initializeApp: initializeAppSpy,\n}))\n</code></pre>\n\n<p>Then you can use the reference in order to <code>expect</code> on it:</p>\n\n<pre><code>it('should be called', () =&gt; {\n   expect(initializeAppSpy).toHaveBeenCalledTimes(1);\n});\n</code></pre>\n\n<p><strong>EDIT</strong>\nYou can create a mock to the entire service</p>\n\n<pre><code>const firebaseMock = {\n   method1: 'returnValue1',\n   method2: 'returnValue2'\n}\n\nObject.keys(firebaseMock).forEach(key =&gt; {\n   firebaseMock[key] = jest.fn().mockReturnValue(firebaseMock[key]);\n});\n\nconst firebaseService = jest.fn(() =&gt; firebaseMock);\n</code></pre>\n\n<p>now, you will have a <code>firebaseMock</code> object that all the methods are mocked.\nyou can expect on each one of those methods.</p>\n"}], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7045, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1564680746, "creation_date": 1564602734, "last_edit_date": 1564680746, "question_id": 57297986, "link": "https://stackoverflow.com/questions/57297986/how-to-check-if-a-method-is-called-in-nested-jest-mock-functions", "title": "How to check if a method is called in nested jest mock functions", "body": "<p>I have a mock service like below</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  const firebaseService = jest.fn(() =&gt; ({\n    initializeApp: jest.fn(() =&gt; { /*do nothing*/}),\n  }))\n</code></pre>\n\n<p>in my test I want to <code>expect</code> if <code>initializeApp</code> has been called.\nHow can I check that?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it('should be called', () =&gt; {\n   expect(???).toHaveBeenCalledTimes(1);\n});\n</code></pre>\n\n<h2>Update : Real scenario</h2>\n\n<pre><code>  const collection = jest.fn(() =&gt; {\n    return {\n      doc: jest.fn(() =&gt; {\n        return {\n          collection: collection,\n          update: jest.fn(() =&gt; Promise.resolve(true)),\n          onSnapshot: jest.fn(() =&gt; Promise.resolve(true)),\n          get: jest.fn(() =&gt; Promise.resolve(true))\n        }\n      }),\n      where: jest.fn(() =&gt; {\n        return {\n          get: jest.fn(() =&gt; Promise.resolve(true)),\n          onSnapshot: jest.fn(() =&gt; Promise.resolve(true)),\n          limit: jest.fn(() =&gt; {\n            return {\n              onSnapshot: jest.fn(() =&gt; Promise.resolve(true)),\n              get: jest.fn(() =&gt; Promise.resolve(true)),\n            }\n          }),\n        }\n      }),\n      limit: jest.fn(() =&gt; {\n        return {\n          onSnapshot: jest.fn(() =&gt; Promise.resolve(true)),\n          get: jest.fn(() =&gt; Promise.resolve(true)),\n        }\n      })\n    }\n  });\n\n  const Firestore = {\n    collection: collection\n  }\n\n    firebaseService = {\n      initializeApp() {\n        // do nothing\n      },\n      firestore: Firestore\n    };\n</code></pre>\n\n<p>and I want to check below</p>\n\n<pre><code> expect(firebaseService.firestore.collection).toHaveBeenCalled();\n expect(firebaseService.firestore.collection.where).toHaveBeenCalled();    \n expect(firebaseService.firestore.collection.where).toHaveBeenCalledWith(`assignedNumbers.123`, '==', true);\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1564603986, "post_id": 57297961, "comment_id": 101090452, "body": "It&#39;s not clear what you&#39;re expecting to happen in a function that you are not showing. Please show us how you&#39;ve written the <code>setInterval</code> code. Also, please consider using <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippets</a> to create an example that can be run."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564604320, "post_id": 57297961, "comment_id": 101090567, "body": "Maybe you want <a href=\"https://jsfiddle.net/uota5c6e\" rel=\"nofollow noreferrer\">this</a>"}], "answers": [{"comments": [{"owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "edited": false, "score": 0, "creation_date": 1564606470, "post_id": 57298023, "comment_id": 101091336, "body": "Thank you so much just what I needed!!"}], "tags": [], "owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "is_accepted": false, "score": 1, "last_activity_date": 1564603009, "creation_date": 1564603009, "answer_id": 57298023, "question_id": 57297961, "link": "https://stackoverflow.com/questions/57297961/i-would-like-to-insert-each-list-item-into-a-div-at-particular-intervals/57298023#57298023", "title": "I would like to insert each list item into a div at particular intervals", "body": "<p>You could add an index multiplier to the timeout.</p>\n\n<pre><code>selected.forEach((element, index) =&gt; {\n  setTimeout(() =&gt; {\n    steps.insertAdjacentHTML('beforeend', `&lt;li&gt;${element}&lt;/li&gt;` );\n  }, index * 500);\n});\n</code></pre>\n"}], "owner": {"reputation": 297, "user_id": 9100910, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155886857833433/picture?type=large", "display_name": "Angela Inniss", "link": "https://stackoverflow.com/users/9100910/angela-inniss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564603009, "creation_date": 1564602621, "question_id": 57297961, "link": "https://stackoverflow.com/questions/57297961/i-would-like-to-insert-each-list-item-into-a-div-at-particular-intervals", "title": "I would like to insert each list item into a div at particular intervals", "body": "<p>Hello I have a div and I would like that when then customer clicks on a button a list item from my list is inserted into the div at a particular interval.</p>\n\n<p>I know I have to use setInterval or setTimeout but i am not sure how.\nI have provided code below here is my js fiddle for more clarity <a href=\"https://jsfiddle.net/angie11/2d9cb8oq/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/angie11/2d9cb8oq/</a></p>\n\n<p>At the moment the list just displays in one block rather than line by line...</p>\n\n<p>Tried to write a setinterval function and failed.</p>\n\n<pre><code>recipe = {\n  coffee: [\"Boil some water\", \"Brew the coffee grounds\", \"Pour coffee in the cup\", \"Add sugar and milk\"],\n  lemonTea: [\"Boil some water\", \"Steep the water in the tea\", \"Pour tea in the cup\", \"Add lemon\"],\n  chocolate: [\"Boil some water\", \"Add drinking chocolate powder to the water\", \"Pour chocolate in the cup\"]\n}\n\nconst lemonTea = document.getElementById(\"lemon\");\nconst coffee = document.getElementById(\"coffee\");\nconst chocolate = document.getElementById(\"chocolate\");\n\n\nlemonTea.addEventListener(\"click\", () =&gt; { prepareDrink(\"lemonTea\")});\n\ncoffee.addEventListener(\"click\", () =&gt; { prepareDrink(\"coffee\")});\n\nchocolate.addEventListener(\"click\", () =&gt; {prepareDrink(\"chocolate\")});\n\n\nfunction prepareDrink(drink) {\n  const steps = document.getElementById('steps');\n  const selected = recipe[drink];\n\n  selected.forEach(function(element, index, array) {\n    steps.insertAdjacentHTML('beforeend', `&lt;li&gt;${element}&lt;/li&gt;` );\n\n});\n\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "async-await"], "comments": [{"owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "edited": false, "score": 1, "creation_date": 1564603291, "post_id": 57297926, "comment_id": 101090188, "body": "<a href=\"https://tinkerylabs.com/ajax-calls-with-react-hooks/\" rel=\"nofollow noreferrer\">tinkerylabs.com/ajax-calls-with-react-hooks</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10342, "user_id": 2736919, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05e0c9fe1dea89cf9a4c502f680d9377?s=128&d=identicon&r=PG&f=1", "display_name": "dee zg", "link": "https://stackoverflow.com/users/2736919/dee-zg"}, "is_accepted": true, "score": 2, "last_activity_date": 1564603837, "creation_date": 1564603837, "answer_id": 57298178, "question_id": 57297926, "link": "https://stackoverflow.com/questions/57297926/doing-an-asynchronous-operation-inside-a-functional-component/57298178#57298178", "title": "Doing an asynchronous operation inside a functional component", "body": "<p>you need Hooks; namely Effects hook.</p>\n\n<p>there you can send http request within <code>useEffect(() =&gt;{ callMyApi()})</code> block.</p>\n\n<p>you can see an example here:\n<a href=\"https://stackoverflow.com/questions/53332321/react-hook-warnings-for-async-function-in-useeffect-useeffect-function-must-ret\">React Hook Warnings for async function in useEffect: useEffect function must return a cleanup function or nothing</a></p>\n"}], "owner": {"reputation": 4540, "user_id": 1676032, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eaf882ee0297c0fee18dbbcbad225130?s=128&d=identicon&r=PG&f=1", "display_name": "theJuls", "link": "https://stackoverflow.com/users/1676032/thejuls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2039, "favorite_count": 0, "accepted_answer_id": 57298178, "answer_count": 1, "score": 1, "last_activity_date": 1564603837, "creation_date": 1564602454, "question_id": 57297926, "link": "https://stackoverflow.com/questions/57297926/doing-an-asynchronous-operation-inside-a-functional-component", "title": "Doing an asynchronous operation inside a functional component", "body": "<p>I usually take care of any promises or asynchronous operations in the <code>componentDidMount</code> or <code>componentWillMount</code> lifecycle methods, but now I am using only functional components.</p>\n\n<p>So I have something like this:</p>\n\n<pre><code>export async function MyComponent () {\n  const data = await myPromiseFunction()\n\n  return (\n    &lt;&gt;\n      DO SOMETHING!\n    &lt;/&gt;\n  )\n}\n</code></pre>\n\n<p>This obviously cannot be done because we are returning a promise when using <code>MyComponent</code>. So my question becomes how can I do asynchronous operations within the functional component?</p>\n\n<p>Do I just have to accept that they have to be done elsewhere and receive my necessary data as props? Or is there a cleaner way to get around this?</p>\n"}, {"tags": ["javascript", "unit-testing", "react-redux", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 0, "creation_date": 1564606577, "post_id": 57298216, "comment_id": 101091371, "body": "My concern is this may be a good way to test the end redux state, but I&#39;ll be missing the line coverage for the <code>.catch</code>. Your <code>mockReturnValue</code> gave me the idea to add this in my mock file tho, and with that I&#39;m able to test the sad path :D thoughts?"}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "reply_to_user": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "edited": false, "score": 1, "creation_date": 1564607623, "post_id": 57298216, "comment_id": 101091772, "body": "whatever works to you. testing actions also works but I found it be quite time-consuming and kind of less maintainable. but I&#39;d be set value explicitly instead of using helper from mock - better readability, easier to update, extending with new response versions for free..."}], "tags": [], "owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "is_accepted": false, "score": 1, "last_activity_date": 1564604079, "creation_date": 1564604079, "answer_id": 57298216, "question_id": 57297920, "link": "https://stackoverflow.com/questions/57297920/how-to-test-catch-statement-in-async-await-action/57298216#57298216", "title": "How to test catch statement in async await Action", "body": "<p>You can mock <code>getRoles</code> API on per-test basis instead:</p>\n\n<pre><code>// getRoles will be just jest.fn() stub\nimport {getRoles} from '../../shared/services/api'; \nimport rolesJson from '../../shared/services/__mocks__/roles.json';\n\n// without __mocks__/api.js it will mock each exported function as jest.fn();\njest.mock('../../shared/services/api'); \n\nit('sets something if loaded successfully', async ()=&gt; {\n  getRoles.mockReturnValue(Promise.resolve(rolesJson));\n  dispatch(fetchRoles());\n  await Promise.resolve(); // so mocked API Promise could resolve\n  expect(someSelector(store)).toEqual(...);\n});\n\nit('sets something else on error', async () =&gt; {\n  getRoles.mockReturnValue(Promise.reject(someErrorObject));\n  dispatch(fetchRoles());\n  await Promise.resolve();\n  expect(someSelector(store)).toEqual(someErrornessState);\n})\n</code></pre>\n\n<p>I also propose you concentrate on store state after a call not a list of actions dispatched. Why? Because actually we don't care what actions in what order has been dispatched while we get store with data expected, right? </p>\n\n<p>But sure, you still could assert against <code>dispatch</code> calls. The main point: don't mock result returned in <code>__mocks__</code> automocks but do that on peer-basis.</p>\n"}, {"tags": [], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "is_accepted": true, "score": 0, "last_activity_date": 1564606506, "creation_date": 1564606506, "answer_id": 57298720, "question_id": 57297920, "link": "https://stackoverflow.com/questions/57297920/how-to-test-catch-statement-in-async-await-action/57298720#57298720", "title": "How to test catch statement in async await Action", "body": "<p>I resolved the test and got the line coverage for the <code>.catch</code> by adding a function called <code>mockGetRolesError</code> in the mock api file:</p>\n\n<p>Thanks to @skyboyer for the idea to have a method on the mocked file.</p>\n\n<pre><code>import {getRoles} from '../shared/services/api';\n\nexport const Actions = {\n    SET_ROLES: 'SET_ROLES'\n};\n\nexport const fetchRoles = () =&gt; async dispatch =&gt; {\n    try {\n        const response = await getRoles();\n        const roles = response.data;\n        // console.log('ACTION roles:', roles);\n\n        dispatch({\n            type: Actions.SET_ROLES,\n            roles\n        });\n    } catch (error) {\n        dispatch({\n            type: Actions.SET_ROLES,\n            roles: []\n        });\n    }\n};\n</code></pre>\n\n<p>Now in the test for the sad path, I just have to call <code>mockGetRolesError</code> to set the internal state of the mocked api to be in a return error mode.</p>\n\n<pre><code>import {fetchRoles} from '../party-actions';\nimport rolesJson from '../../shared/services/__mocks__/roles.json';\nimport {mockGetRolesError} from '../../shared/services/api';\njest.mock('../../shared/services/api');\n\ndescribe('Roles Actions', () =&gt; {\n    it('should set roles when getRoles() res returns', async () =&gt; {\n        const mockDispatch = jest.fn();\n\n        try {\n            await fetchRoles()(mockDispatch);\n            expect(mockDispatch).toHaveBeenCalledWith({\n                type: 'SET_ROLES',\n                roles: rolesJson\n            });\n        } catch (e) {\n            return e;\n        }\n    });\n\n    it('should return empty roles if error', async () =&gt; {\n        const mockDispatch = jest.fn();\n\n        mockGetRolesError();\n        await fetchRoles()(mockDispatch);\n\n        expect(mockDispatch).toHaveBeenCalledWith({\n            type: 'SET_ROLES',\n            roles: []\n        });\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 305, "favorite_count": 0, "accepted_answer_id": 57298720, "answer_count": 2, "score": 1, "last_activity_date": 1564606506, "creation_date": 1564602411, "last_edit_date": 1564604090, "question_id": 57297920, "link": "https://stackoverflow.com/questions/57297920/how-to-test-catch-statement-in-async-await-action", "title": "How to test catch statement in async await Action", "body": "<h2>Problem</h2>\n\n<p>I have an Action which awaits an API function. The happy path in the try is easily testable with my mocked API. However, unsure as to the best way to test and cover the <code>.catch</code>.</p>\n\n<h3>Actions</h3>\n\n<pre><code>import {getRoles} from '../shared/services/api';\n\nexport const Actions = {\n    SET_ROLES: 'SET_ROLES'\n};\n\nexport const fetchRoles = () =&gt; async dispatch =&gt; {\n    try {\n        const response = await getRoles();\n        const roles = response.data;\n\n        dispatch({\n            type: Actions.SET_ROLES,\n            roles\n        });\n    } catch (error) {\n        dispatch({\n            type: Actions.SET_ROLES,\n            roles: []\n        });\n    }\n};\n</code></pre>\n\n<h3>Actions Test</h3>\n\n<pre><code>import {fetchRoles} from '../party-actions';\nimport rolesJson from '../../shared/services/__mocks__/roles.json';\njest.mock('../../shared/services/api');\n\ndescribe('Roles Actions', () =&gt; {\n    it('should set roles when getRoles() res returns', async () =&gt; {\n        const mockDispatch = jest.fn();\n\n        await fetchRoles()(mockDispatch);\n        try {\n            expect(mockDispatch).toHaveBeenCalledWith({\n                type: 'SET_ROLES',\n                roles: rolesJson\n            });\n        } catch (e) {\n            // console.log('fetchRoles error: ', e)\n        }\n    });\n\n    // Here is the problem test, how do we intentionally cause\n    // getRoles() inside of fetchRoles() to throw an error?\n    it('should return empty roles if error', async () =&gt; {\n        const mockDispatch = jest.fn();\n\n        await fetchRoles('throwError')(mockDispatch);\n\n        expect(mockDispatch).toHaveBeenCalledWith({\n            type: 'SET_ROLES',\n            roles: []\n        });\n    });\n});\n</code></pre>\n\n<h3>Mocked API</h3>\n\n<pre><code>import rolesJson from './roles.json';\n\nexport const getRoles = async test =&gt; {\n    let mockGetRoles;\n\n    if (test === 'throwError') {\n        //   console.log('sad')\n        mockGetRoles = () =&gt; {\n            return Promise.reject({\n                roles: []\n            });\n        };\n    } else {\n        // console.log('happy')\n        mockGetRoles = () =&gt; {\n            return Promise.resolve({\n                roles: rolesJson\n            });\n        };\n    }\n\n    try {\n        const roles = mockGetRoles();\n        // console.log('api mocks roles', roles);\n        return roles;\n    } catch (err) {\n        return 'the error';\n    }\n};\n</code></pre>\n\n<p>^ Above you can see what I tried, which did work, but it required me to change my code in a way that fit the test, but not the actual logic of the app.</p>\n\n<p>For instance, for this test to pass, I have to pass in a variable through the real code (see <code>x</code>):</p>\n\n<pre><code>export const fetchRoles = (x) =&gt; async dispatch =&gt; {\n    try {\n        const response = await getRoles(x);\n        const roles = response.data;\n</code></pre>\n\n<p>How can we force <code>getRoles</code> in our mock to throw an error in our sad path, <code>.catch</code> test?</p>\n"}, {"tags": ["javascript", "function", "call", "apply", "global"], "comments": [{"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564603074, "post_id": 57297893, "comment_id": 101090125, "body": "I can&#39;t seem to replicate your issues in jsfiddle. Could you make a working example in <a href=\"https://jsfiddle.net/\" rel=\"nofollow noreferrer\">jsfiddle.net</a> ?"}, {"owner": {"reputation": 7, "user_id": 2620493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e015b9f54cff880c0c93f6ba507c260e?s=128&d=identicon&r=PG", "display_name": "user2620493", "link": "https://stackoverflow.com/users/2620493/user2620493"}, "reply_to_user": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564603911, "post_id": 57297893, "comment_id": 101090424, "body": "I will try now. Thanks... how do you do console.log in jsfiddle?"}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564604161, "post_id": 57297893, "comment_id": 101090504, "body": "You can use console.log same way you usually do, you&#39;ll see the output in your devtools"}, {"owner": {"reputation": 7, "user_id": 2620493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e015b9f54cff880c0c93f6ba507c260e?s=128&d=identicon&r=PG", "display_name": "user2620493", "link": "https://stackoverflow.com/users/2620493/user2620493"}, "reply_to_user": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564612037, "post_id": 57297893, "comment_id": 101092980, "body": "Added codepen link. Created a quick example.. run down, if you choose region, it will filter other area select to available areas within region, a new set of selects will appear with manager and team manager selects, those get filtered based off  the locations. While it is creating and filtering these managers, it can&#39;t set the manager or teamManager. You can see my comments in the createManagement function."}, {"owner": {"reputation": 1412, "user_id": 1650615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e002ff9264269998ad72ec9b036deb?s=128&d=identicon&r=PG", "display_name": "santon", "link": "https://stackoverflow.com/users/1650615/santon"}, "edited": false, "score": 0, "creation_date": 1564612755, "post_id": 57297893, "comment_id": 101093146, "body": "Please create a minimal example to reproduce. Do not have time to go over your huge file."}, {"owner": {"reputation": 7, "user_id": 2620493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e015b9f54cff880c0c93f6ba507c260e?s=128&d=identicon&r=PG", "display_name": "user2620493", "link": "https://stackoverflow.com/users/2620493/user2620493"}, "edited": false, "score": 0, "creation_date": 1564613217, "post_id": 57297893, "comment_id": 101093233, "body": "added a much shorter example to main post, but here it is <a href=\"https://codepen.io/goducks/pen/ymXMyB\" rel=\"nofollow noreferrer\">codepen.io/goducks/pen/ymXMyB</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 2620493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e015b9f54cff880c0c93f6ba507c260e?s=128&d=identicon&r=PG", "display_name": "user2620493", "link": "https://stackoverflow.com/users/2620493/user2620493"}, "edited": false, "score": 0, "creation_date": 1564672552, "post_id": 57299809, "comment_id": 101116511, "body": "Thanks for the info, I was wondering what the null aspect was from, it didn&#39;t occur to me that it is being passed specificity to location. Thanks again, it worked with no issue first time!"}], "tags": [], "owner": {"reputation": 1412, "user_id": 1650615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19e002ff9264269998ad72ec9b036deb?s=128&d=identicon&r=PG", "display_name": "santon", "link": "https://stackoverflow.com/users/1650615/santon"}, "is_accepted": true, "score": 0, "last_activity_date": 1564613805, "creation_date": 1564613805, "answer_id": 57299809, "question_id": 57297893, "link": "https://stackoverflow.com/questions/57297893/javascript-not-setting-this-to-value-with-apply-or-call/57299809#57299809", "title": "Javascript not setting this to value with apply or call", "body": "<p>I think the issue is with your following code</p>\n\n<pre><code>fcns[i].call(null,currentManager)\n</code></pre>\n\n<p>If you are not supplying \"this\" to call, it will be replaced with global object in non-strict mode.</p>\n\n<pre><code>fcns[i].call(that,currentManager)\n</code></pre>\n\n<p>See mdn article <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/call\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": false, "score": 0, "last_activity_date": 1564641825, "creation_date": 1564641825, "answer_id": 57303165, "question_id": 57297893, "link": "https://stackoverflow.com/questions/57297893/javascript-not-setting-this-to-value-with-apply-or-call/57303165#57303165", "title": "Javascript not setting this to value with apply or call", "body": "<p>From your codepen example, you need to change that line</p>\n\n<pre><code>fcnset[0].apply(that,[randomName]);\n</code></pre>\n\n<p>The first argument of the <code>apply</code> method is the context, if you are not giving it the context of your method it's using the global context be default. That's why you end up mutating the <code>window</code> object, and not the one you want !</p>\n"}], "owner": {"reputation": 7, "user_id": 2620493, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/e015b9f54cff880c0c93f6ba507c260e?s=128&d=identicon&r=PG", "display_name": "user2620493", "link": "https://stackoverflow.com/users/2620493/user2620493"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 57299809, "answer_count": 2, "score": 0, "last_activity_date": 1564641825, "creation_date": 1564602257, "last_edit_date": 1564613195, "question_id": 57297893, "link": "https://stackoverflow.com/questions/57297893/javascript-not-setting-this-to-value-with-apply-or-call", "title": "Javascript not setting this to value with apply or call", "body": "<p>Edit: the code below was made up on the spot to show how I was going about what I was doing. It definietely won't run, it is missing a lot of things.\nHere is a working example in codepen: <a href=\"https://codepen.io/goducks/pen/XvgpYW\" rel=\"nofollow noreferrer\">https://codepen.io/goducks/pen/XvgpYW</a></p>\n\n<p>much shorter example: <a href=\"https://codepen.io/goducks/pen/ymXMyB\" rel=\"nofollow noreferrer\">https://codepen.io/goducks/pen/ymXMyB</a></p>\n\n<p>When creating a function that is using call or apply, the this value stays null when using getPerson. however, when I use apply or call with getPerson it returns the correct person. </p>\n\n<p>Please critique, I am really starting to learn more and more. I am in the middle of a project section so it might be hard to change all the code, but my next project could implement this better.</p>\n\n<p>call and apply are setting to the window and not the object.\nI will provide code that is much simpler with the same concept of what I am talking about.</p>\n\n<pre><code>function createPerson(){\n    this.manager = null;\n    this.teamManager = null;\n    this.setTeamManager = function(val){\n        this.teamManager = val;\n    }\n    this.setManager = function(val){\n        console.log('setting manager to',val);\n        this.teamManager = val;\n    }\n    this.getTeamManager = function(){\n        console.log('setting team manager to',val);\n        return this.teamManager ;\n    }\n    this.getManager = function(){\n        return this.manager;\n    }\n    this.appendSelect = function(elem){\n        var that = this;\n        createOtherSelects(that,elem);\n    }\n    //some functions that create selects with managers etc\n    //now assume there are other selects that will filter down the teams,\n    //so we might have a function that creates on change events\n    function createOtherSelects(that){\n        //code that creates locations, depending on location chosen will \n        //filter the managers\n        $('#location').on('change',function(){\n             //do some stuff\n             //... then call create management\n             createManagement(that,elem);\n        });\n    }\n    function createManagement(that,elem){\n         var currentLocation = that.location; //works\n         var area = that.area;//works ... assume these are set above\n         //code that returns a filter and unique set of managers back\n         that.teamManager = [...new Set(\n             data.map(person=&gt;{\n                 if(person.area==area &amp;&amp; \n                    person.currentLocation==currentLocation\n                 ){\n                      return person;\n                  }\n              })\n         )].filter(d=&gt;{if(d){return d}});\n         if(elem.length&gt;0){\n             var selectNames = ['selectManager','selectTeamManager'];\n             var fcns = [that.setManager,that.setTeamManager];\n             for(var i = 0; i &lt; selectNames.length;i++){\n                  //do stuff \n                  if(certainCriteriaMet){\n                    // filter items\n\n                      if(filteredManager == 1){\n                           fcns[i].call(null,currentManager);//\n                      }\n                  }\n             }    \n        }\n    }\n}\nvar xx = new createPerson()\n</code></pre>\n\n<p>In console I see setting manager and setting team manager to with the correct values. </p>\n\n<p>however when I call xx in console, I see everything else set except for \nxx.teamManager and xx.manager</p>\n\n<p>instead it is applying to the window, so if I type teamManager in the console, it will return with the correct person. </p>\n\n<p>If I straight up say \n<code>that.setManager('Steve')</code> \nor even  it works just fine.</p>\n\n<pre><code>xx.setManager('steve')\n</code></pre>\n\n<p>the this value in setManager is somehow changing from the current instance of the object to this window. I don't know why, and I would like to learn how to use apply and call using that for future reference.</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "comments": [{"owner": {"reputation": 1778, "user_id": 9750662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b512d0e6e73b0b01c8a0ea6e94df6bf2?s=128&d=identicon&r=PG&f=1", "display_name": "remeus", "link": "https://stackoverflow.com/users/9750662/remeus"}, "edited": false, "score": 0, "creation_date": 1564610629, "post_id": 57297882, "comment_id": 101092635, "body": "What happens if you use the item index as a key for &lt;li&gt; rather than the item value?"}, {"owner": {"reputation": 3624, "user_id": 3557096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6hNRF.jpg?s=128&g=1", "display_name": "jimboweb", "link": "https://stackoverflow.com/users/3557096/jimboweb"}, "reply_to_user": {"reputation": 1778, "user_id": 9750662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b512d0e6e73b0b01c8a0ea6e94df6bf2?s=128&d=identicon&r=PG&f=1", "display_name": "remeus", "link": "https://stackoverflow.com/users/9750662/remeus"}, "edited": false, "score": 0, "creation_date": 1564677970, "post_id": 57297882, "comment_id": 101119230, "body": "@Remeus I did try that but it doesn&#39;t change anything"}], "answers": [{"comments": [{"owner": {"reputation": 3624, "user_id": 3557096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6hNRF.jpg?s=128&g=1", "display_name": "jimboweb", "link": "https://stackoverflow.com/users/3557096/jimboweb"}, "edited": false, "score": 0, "creation_date": 1564678145, "post_id": 57299944, "comment_id": 101119305, "body": "Yeah, I think your diagnosis is correct; it is what I was thinking. If that&#39;s the case then the only way around it really is to copy it to a new object. I&#39;ll wait a day or two and if no one else has any better idea I&#39;ll mark this as the solution."}], "tags": [], "owner": {"reputation": 83, "user_id": 4289071, "user_type": "registered", "profile_image": "https://graph.facebook.com/598021226/picture?type=large", "display_name": "Will Sullivan", "link": "https://stackoverflow.com/users/4289071/will-sullivan"}, "is_accepted": false, "score": 2, "last_activity_date": 1564615073, "creation_date": 1564615073, "answer_id": 57299944, "question_id": 57297882, "link": "https://stackoverflow.com/questions/57297882/best-way-to-cause-rerender-on-hook-object-update/57299944#57299944", "title": "Best way to cause rerender on hook object update", "body": "<p>It looks like you are modifying state directly and that is causing the update to not trigger the render.</p>\n\n<pre><code>setObj(\n    Object.assign(\n        obj,\n        {arr:updatedArr}\n    )\n)\n</code></pre>\n\n<p><code>Object.assign</code> is changing the obj variable (your state) directly with the new ordered arr. Then <code>setObj</code> is taking this obj and assigning it to itself - At this point react is comparing the objects (with <code>Object.is</code>) to decide if a render is necessary. Since it's the exact same object, it will not re-render.</p>\n\n<p>In your working update, you are assigning to a new object, so react will render.</p>\n\n<p>That, said, the react-y way to do it would be to not modify the state directly (essentially what you are doing with a slight modification)</p>\n\n<pre><code>const swap = (a,b)=&gt;{\n    const updatedArr = Object.assign(\n        [...obj.arr],\n        {\n            [a.toString()]:obj.arr[b],\n            [b.toString()]:obj.arr[a]\n        }\n    )\n    setObj(\n        Object.assign(\n            {},\n            obj,\n            {arr:updatedArr}\n        )\n    )\n};\n</code></pre>\n"}], "owner": {"reputation": 3624, "user_id": 3557096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/6hNRF.jpg?s=128&g=1", "display_name": "jimboweb", "link": "https://stackoverflow.com/users/3557096/jimboweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 253, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1564615073, "creation_date": 1564602192, "question_id": 57297882, "link": "https://stackoverflow.com/questions/57297882/best-way-to-cause-rerender-on-hook-object-update", "title": "Best way to cause rerender on hook object update", "body": "<p>Say I have a functional component like this: </p>\n\n<pre><code>function App(){\n\n  const [obj, setObj] = useState({arr:[1,2,3,4,5]})\n\n  const swap = (a,b)=&gt;{\n    const updatedArr = Object.assign(\n      obj.arr,\n      {\n        [a.toString()]:obj.arr[b],\n        [b.toString()]:obj.arr[a]\n      }\n    )\n    setObj(\n      Object.assign(\n        obj,\n        {arr:updatedArr}\n      )\n    )\n  };\n\n  const buttonAction = (e) =&gt; {\n    e.preventDefault();\n    swap(0,4)\n  }\n\n  return &lt;div&gt;\n    &lt;button onClick = {buttonAction}&gt;swap&lt;/button&gt;\n    &lt;ul&gt;\n    {\n      obj.arr.map(\n        item=&gt;{return &lt;li key={item.toString()}&gt;{item}&lt;/li&gt;}\n        )\n    }\n    &lt;/ul&gt;\n  &lt;/div&gt;\n}\n</code></pre>\n\n<p>The 'swap' button causes the <code>swap</code> function to swap the first and last elements of the array. When I inspect this in developer tools this is in fact what happens:</p>\n\n<p>Before function: \n<a href=\"https://i.stack.imgur.com/K6bkt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K6bkt.png\" alt=\"object before function\"></a></p>\n\n<p>After function: \n<a href=\"https://i.stack.imgur.com/sCY9Q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sCY9Q.png\" alt=\"object after function\"></a></p>\n\n<p>It does not, however, cause a rerender, so the list stays the same in the view. </p>\n\n<p>I can force a rerender by changing the swap function to contain the following:</p>\n\n<pre><code>const newObj = Object.assign(\n    obj,\n    {arr:updatedArr}\n  )\nsetObj(\n  Object.assign(\n    {},\n    newObj\n  )\n)\n</code></pre>\n\n<p>So by assigning the updated object to a new one I can force a rerender. Is this the best way to do this? Or is there a better way to get the component to rerender when an object in a hook changes?</p>\n\n<p>UPDATE: before someone asks me what I mean by 'better', I mean something that's more 'React-y', that is in keeping with the intentions of the people who designed the framework, who certainly must have anticipated a situation like this.  </p>\n"}, {"tags": ["javascript", "jquery", "datatables"], "comments": [{"owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564606029, "post_id": 57297843, "comment_id": 101091189, "body": "Please show your DataTables initialization code. If you use server-side processing mode, data from pages other than current may not be accessible unless you use custom programming or dedicated plug-in."}, {"owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "reply_to_user": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564606062, "post_id": 57297843, "comment_id": 101091212, "body": "var table = $(&#39;#datatable-responsive&#39;).DataTable({             responsive: true          });   it is the first line"}, {"owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564608825, "post_id": 57297843, "comment_id": 101092118, "body": "Try using <code>table.$()</code> instead of <code>$()</code> in your reset code. Also do you have <code>name</code> attribute assigned to your checkboxes?"}, {"owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "reply_to_user": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564610636, "post_id": 57297843, "comment_id": 101092640, "body": "Gyrocode this has nothing to do with the question. Thank you anyway, if the jquery deleted the first page elements, it means it work, not a syntax error neither a naming issue. This is a specific problem to Datatables JS."}, {"owner": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564617235, "post_id": 57297843, "comment_id": 101094004, "body": "I am the author of the answer you&#39;ve mentioned in the question. <code>$()</code> works only for current page, that is why checkboxes from other pages are not reset. Your submit code seems to be OK. Are you able to create an example demonstrating the issue using <a href=\"https://jsfiddle.net/nqoh17v0/\" rel=\"nofollow noreferrer\">this jsFiddle</a> as a template?"}, {"owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "reply_to_user": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 0, "creation_date": 1564617406, "post_id": 57297843, "comment_id": 101094038, "body": "I&#39;m going to create the jsFiddle, but the submit also is submitting only current page, while using your code there (table.$())"}, {"owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "reply_to_user": {"reputation": 50625, "user_id": 3549014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/290cbac6da9b4ef5ac976e5d50ab637e?s=128&d=identicon&r=PG", "display_name": "Gyrocode.com", "link": "https://stackoverflow.com/users/3549014/gyrocode-com"}, "edited": false, "score": 1, "creation_date": 1564683539, "post_id": 57297843, "comment_id": 101121632, "body": "You are right @Gyrocode.com it was all about $() and I wasn&#39;t using your code exactly like it on the answer in the other thread"}], "answers": [{"tags": [], "owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "is_accepted": true, "score": 0, "last_activity_date": 1564683567, "creation_date": 1564683567, "answer_id": 57314894, "question_id": 57297843, "link": "https://stackoverflow.com/questions/57297843/accessing-datatable-not-visbile-checkboxes/57314894#57314894", "title": "Accessing Datatable not visbile Checkboxes", "body": "<p>The solution turned out to be related to usage of table as $() </p>\n\n<pre><code>$('form').on('reset', function(e){\n            var $form = $(this);\n\n            // Iterate over all checkboxes in the table\n            table.$('input[type=\"checkbox\"]').each(function(){\n                // If checkbox doesn't exist in DOM\n                if(!$.contains(document, this)){\n                    // If checkbox is checked\n                    if(this.checked){\n                        // Create a hidden element\n                        this.checked = false;\n                    }\n                }\n            });\n        });\n\n\n        $('form').on('submit', function(e){\n            var $form = $(this);\n\n            // Iterate over all checkboxes in the table\n            table.$('input[type=\"checkbox\"]').each(function(){\n                // If checkbox doesn't exist in DOM\n                if(!$.contains(document, this)){\n                    // If checkbox is checked\n                    if(this.checked){\n                        // Create a hidden element\n                        $form.append(\n                            $('&lt;input&gt;')\n                                .attr('type', 'hidden')\n                                .attr('name', this.name)\n                                .val(this.value)\n                        );\n                    }\n                }\n            });\n        });\n</code></pre>\n"}], "owner": {"reputation": 1220, "user_id": 5001254, "user_type": "registered", "accept_rate": 98, "profile_image": "https://lh6.googleusercontent.com/-Ojmkk3a2S1g/AAAAAAAAAAI/AAAAAAAAGSU/cGXZe62nlkg/photo.jpg?sz=128", "display_name": "Chaibi Alaa", "link": "https://stackoverflow.com/users/5001254/chaibi-alaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 57314894, "answer_count": 1, "score": 0, "last_activity_date": 1564683567, "creation_date": 1564601963, "question_id": 57297843, "link": "https://stackoverflow.com/questions/57297843/accessing-datatable-not-visbile-checkboxes", "title": "Accessing Datatable not visbile Checkboxes", "body": "<p>I am trying to select multiple checkboxes from JS Datatable and submit them, then reseting them on a reset button click.</p>\n\n<p>I already checked and tried the solution found in here and it just gets the not hidden elements : <a href=\"https://stackoverflow.com/questions/43059470/datatable-checkboxes-not-getting-value\">DataTable Checkboxes not getting value</a></p>\n\n<pre><code>$(document).ready(function () {\n        var table = $('#datatable-responsive').DataTable({\n            responsive: true\n\n        });\n\n        $('form').on('reset', function(e){\n            $('input[type=\"hidden\"][name=\"deliver[]\"').remove();\n            $('input[type=\"checkbox\"]:checked').click();\n            return false;\n        });\n\n        $('form').on('submit', function(e){\n            let form = $(this);\n\n            // Iterate over all checkboxes in the table\n            table.$('input[type=\"checkbox\"]:checked').each(function(){\n                 // Create a hidden element\n                if(!$.contains(document, this)) {\n                    form.append(\n                        $('&lt;input&gt;')\n                            .attr('type', 'hidden')\n                            .attr('name', this.name)\n                            .val(this.value)\n                    );\n                }\n            });\n                    return false;\n        });\n\n    });\n</code></pre>\n\n<p>The problems are like following :</p>\n\n<ul>\n<li>The submit only adds the current page checkboxes as hidden inputs, not all pages (the return false is there just for testing)</li>\n<li><p>The reset button uncheck only current page checkboxes </p></li>\n<li><p>The remove functions works as supposed</p></li>\n<li>The click is used instead of switching prop because of the template I'm using (css staff)</li>\n</ul>\n"}, {"tags": ["javascript", "amcharts", "amcharts4"], "answers": [{"tags": [], "owner": {"reputation": 3428, "user_id": 781824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1062e4d646be99243bc14f8dcbc4b1d8?s=128&d=identicon&r=PG", "display_name": "notacouch", "link": "https://stackoverflow.com/users/781824/notacouch"}, "is_accepted": true, "score": 1, "last_activity_date": 1564730684, "creation_date": 1564730684, "answer_id": 57321703, "question_id": 57297838, "link": "https://stackoverflow.com/questions/57297838/stacked-area-chart-on-time-series-data/57321703#57321703", "title": "Stacked Area Chart on time series data", "body": "<p>Here's a fork of our <a href=\"https://www.amcharts.com/demos/100-stacked-area-chart/\" rel=\"nofollow noreferrer\">100% stacked area chart demo</a> that uses the data you provided (you can use a category axis in this case instead of date axis, unless you really need dates, note I changed the years to strings below):</p>\n\n<p><a href=\"https://codepen.io/team/amcharts/pen/c5e3b7104d4bf0b1a417f7d6c52c95b7\" rel=\"nofollow noreferrer\">https://codepen.io/team/amcharts/pen/c5e3b7104d4bf0b1a417f7d6c52c95b7</a></p>\n\n<p>If you set up a series for B first, then A will appear above B.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>chart.data = [\n  {\"year\": \"2013\",    \"A\": 100.5605895, \"B\": 200.2631216, },\n  {\"year\": \"2014\",    \"A\": 100.9491154, \"B\": 200.7340505, },\n  {\"year\": \"2015\",    \"A\": 100.9897489, \"B\": 200.6443121, },\n  {\"year\": \"2016\",    \"A\": 100.4639869, \"B\": 200.3362392, },\n  {\"year\": \"2017\",    \"A\": 100.9213508, \"B\": 200.9948514, },\n];\n\n// Create axes\nvar categoryAxis = chart.xAxes.push(new am4charts.CategoryAxis());\ncategoryAxis.dataFields.category = \"year\";\n\nvar  valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\nvalueAxis.title.text = \"Value\";\n\nvar series = chart.series.push(new am4charts.LineSeries());\nseries.dataFields.valueY = \"B\";\nseries.dataFields.categoryX = \"year\";\nseries.name = \"B\";\n\nvar series2 = chart.series.push(new am4charts.LineSeries());\nseries2.dataFields.valueY = \"A\";\nseries2.dataFields.categoryX = \"year\";\nseries2.name = \"A\";\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 1753, "user_id": 1867328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f92a1d12f3b63a29b07258946eb6e17?s=128&d=identicon&r=PG", "display_name": "Bogaso", "link": "https://stackoverflow.com/users/1867328/bogaso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57321703, "answer_count": 1, "score": 1, "last_activity_date": 1564730684, "creation_date": 1564601939, "question_id": 57297838, "link": "https://stackoverflow.com/questions/57297838/stacked-area-chart-on-time-series-data", "title": "Stacked Area Chart on time series data", "body": "<p>Let say I have below time series data</p>\n\n<pre><code>Date    A   B\n2013    100.5605895 200.2631216\n2014    100.9491154 200.7340505\n2015    100.9897489 200.6443121\n2016    100.4639869 200.3362392\n2017    100.9213508 200.9948514\n</code></pre>\n\n<p>Now I want to create a stacked time series plot with <code>A</code> on the top of <code>B</code> as in <a href=\"https://krispo.github.io/angular-nvd3/0.x/#/stackedAreaChart\" rel=\"nofollow noreferrer\">https://krispo.github.io/angular-nvd3/0.x/#/stackedAreaChart</a></p>\n\n<p>Is there any way to achieve the same with <code>amCharts</code>? </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1564601706, "post_id": 57297764, "comment_id": 101089592, "body": "Can you post the exact code that you&#39;re using, so we can reproduce your problem; you&#39;ve not - in your question - demonstrated <i>how</i> you&#39;re using <code>split()</code>, for example."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 1, "creation_date": 1564601728, "post_id": 57297764, "comment_id": 101089604, "body": "<code>this</code> is in global context, unless you provide code."}, {"owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "edited": false, "score": 0, "creation_date": 1564601772, "post_id": 57297764, "comment_id": 101089624, "body": "<code>JSON.stringify</code> is turning your array into a string. Do your backend has any JSON parse method available that you could use ?"}, {"owner": {"reputation": 3038, "user_id": 1383932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PTWBS.png?s=128&g=1", "display_name": "fiveelements", "link": "https://stackoverflow.com/users/1383932/fiveelements"}, "edited": false, "score": 0, "creation_date": 1564601804, "post_id": 57297764, "comment_id": 101089643, "body": "Use slice() to split the array"}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1564601805, "post_id": 57297764, "comment_id": 101089644, "body": "Just parse the array <code>const arr = JSON.parse(text)</code> and use <code>arr[0]</code> and <code>arr[1]</code>?"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564601816, "post_id": 57297764, "comment_id": 101089649, "body": "<code>.map</code> is used on Arrays not Object objects. Data structure? <code>myArray</code> is being assigned a String."}], "answers": [{"comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 1, "creation_date": 1564602456, "post_id": 57297862, "comment_id": 101089897, "body": "As he said, don&#39;t use <code>split</code>.  <code>JSON.parse(response.input.text)</code> should already be an array of strings."}, {"owner": {"reputation": 376, "user_id": 9373031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-73w920d0DXc/AAAAAAAAAAI/AAAAAAAAAL8/WEmRdZ-fpWM/photo.jpg?sz=128", "display_name": "DadiBit", "link": "https://stackoverflow.com/users/9373031/dadibit"}, "edited": false, "score": 0, "creation_date": 1564603291, "post_id": 57297862, "comment_id": 101090186, "body": "Just to clarify: <code>JSON.parse()</code> accepts strings; <code>JSON.stringify()</code> transforms the JSON formatted variable and returns a string."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 3, "last_activity_date": 1564603082, "last_edit_date": 1564603082, "creation_date": 1564602073, "answer_id": 57297862, "question_id": 57297764, "link": "https://stackoverflow.com/questions/57297764/javascript-split-does-not-work-as-expected/57297862#57297862", "title": "JavaScript split does not work as expected", "body": "<p>Don't use <code>split()</code> parse the JSON to get the original array elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const someObj = [{role: \"A\"}, {role: \"B\"}];\r\n\r\nconst myArray = JSON.stringify(\r\n  someObj.map(a =&gt; a.role)\r\n);\r\n\r\nresult = JSON.parse(myArray);\r\nconsole.log(result[0]);\r\nconsole.log(result[1]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1591, "user_id": 2281858, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3662fa44154d103e51e0dc63585b7135?s=128&d=identicon&r=PG", "display_name": "user2281858", "link": "https://stackoverflow.com/users/2281858/user2281858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 57297862, "answer_count": 1, "score": -3, "last_activity_date": 1564603082, "creation_date": 1564601606, "last_edit_date": 1564602102, "question_id": 57297764, "link": "https://stackoverflow.com/questions/57297764/javascript-split-does-not-work-as-expected", "title": "JavaScript split does not work as expected", "body": "<p>My Frontend code:</p>\n\n<pre><code>const myArray = JSON.stringify(\n  this.someObj.map(a =&gt; a.role)\n);\n\nData Structure for myArray becomes is [\"A\", \"B\"], this got converted to a string.\n</code></pre>\n\n<p>My Backend code:</p>\n\n<pre><code>response.input.text).split(',');\n</code></pre>\n\n<p>But when I split it, I am getting the following data back.</p>\n\n<pre><code>[0] = [\"A\"\n[1] = \"B\"]\n</code></pre>\n\n<p>How can I clean it in an elegant way? So I only get <code>A and B</code></p>\n"}, {"tags": ["javascript", "google-chrome"], "answers": [{"tags": [], "owner": {"reputation": 1143, "user_id": 8204697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aa26904637107005c2722393c24a38?s=128&d=identicon&r=PG&f=1", "display_name": "Jb31", "link": "https://stackoverflow.com/users/8204697/jb31"}, "is_accepted": false, "score": 3, "last_activity_date": 1564601756, "creation_date": 1564601756, "answer_id": 57297795, "question_id": 57297756, "link": "https://stackoverflow.com/questions/57297756/is-there-a-simpler-cleaner-way-to-write-this/57297795#57297795", "title": "Is there a simpler/cleaner way to write this?", "body": "<p>You could create a object mapping the key in <code>result</code> (e.g. <code>titleCustom</code>) to the respective color (e.g. <code>--blue</code>), then iterate through the object and so something like this:</p>\n\n<pre><code>  // key:color are the variables of our outer for-each loop\n  if(result[key] !== undefined) {\n    document.documentElement.style.setProperty(color, result[key]);\n  }\n</code></pre>\n\n<p>This has the additional effect that you can use <code>Object.keys(mapObject)</code> as parameter in <code>chrome.storage.sync.get</code> instead of the hard-coded array.</p>\n"}, {"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1564603353, "post_id": 57297924, "comment_id": 101090208, "body": "<code>keys.map</code> - you are not doing a mapping operation here, so this is a misuse the <code>.map</code> method. You should be using <code>.forEach</code> instead or just a loop."}], "tags": [], "owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "is_accepted": false, "score": 1, "last_activity_date": 1564603486, "last_edit_date": 1564603486, "creation_date": 1564602435, "answer_id": 57297924, "question_id": 57297756, "link": "https://stackoverflow.com/questions/57297756/is-there-a-simpler-cleaner-way-to-write-this/57297924#57297924", "title": "Is there a simpler/cleaner way to write this?", "body": "<p>Declare an object of key/values for the storage items where the key is the storage item and the value is the corresponding property you'd like to set for that key element.</p>\n\n<pre><code>let props = {\n  \"titleCustom\": \"--blue\",\n  \"textCustom\": \"--light-text\",\n  \"highCustom\" :\"--green\",\n  \"quoteCustom\": \"--dark-text\",\n  \"bgCustom\": \"--light-bg\"\n  }\n];\n\nlet keys = Object.keys(props);\n\nchrome.storage.sync.get(keys, (result) =&gt; {\n  keys.forEach((element) =&gt; {\n    if (element in result) {\n      document.documentElement.style.setProperty(props[element], result[element]);\n    }\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 2649687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d301877305385cbcd8717ec4dce6728?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2649687/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1564603486, "creation_date": 1564601564, "question_id": 57297756, "link": "https://stackoverflow.com/questions/57297756/is-there-a-simpler-cleaner-way-to-write-this", "title": "Is there a simpler/cleaner way to write this?", "body": "<p>I am using this code to sync with google storage. It works just want to know if there is a simpler and cleaner way to write this.</p>\n\n<pre><code>chrome.storage.sync.get(['titleCustom', 'textCustom', 'highCustom', 'quoteCustom', 'bgCustom'], (result) =&gt; {\n    if(result.titleCustom !== undefined){\n      document.documentElement.style.setProperty('--blue', result.titleCustom);\n    }\n    if(result.textCustom !== undefined){\n      document.documentElement.style.setProperty('--light-text', result.textCustom);\n    }\n    if(result.highCustom !== undefined){\n      document.documentElement.style.setProperty('--green', result.highCustom);\n    }\n    if(result.quoteCustom !== undefined){\n      document.documentElement.style.setProperty('--dark-text', result.quoteCustom);\n    }\n    if(result.bgCustom !== undefined){\n      document.documentElement.style.setProperty('--light-bg', result.bgCustom);\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "string", "momentjs"], "comments": [{"owner": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "edited": false, "score": 0, "creation_date": 1564601495, "post_id": 57297671, "comment_id": 101089495, "body": "Assuming it&#39;s a DB table, the best / most elegant way would be to store it in a format which would allow it to be sorted by the DB engine."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564601510, "post_id": 57297671, "comment_id": 101089507, "body": "&quot;best&quot; and &quot;elegant&quot; are subjective requirements.  I think your question will be closed as opinion-based.  You also don&#39;t describe what this table is.  Is it an HTML table?"}, {"owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "edited": false, "score": 0, "creation_date": 1564601601, "post_id": 57297671, "comment_id": 101089552, "body": "What is wrong with questions that are looking for creative solutions?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564601642, "post_id": 57297671, "comment_id": 101089565, "body": "There is no problem with &quot;creative solutions.&quot;  Rephrase your questions requirements so they aren&#39;t subjective."}, {"owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "reply_to_user": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "edited": false, "score": 0, "creation_date": 1564601676, "post_id": 57297671, "comment_id": 101089578, "body": "@Razvan And it&#39;s not a BE issue. all calculations are in the FE"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564601854, "post_id": 57297671, "comment_id": 101089661, "body": "Your question is less subjective, but we still don&#39;t know what table you&#39;re talking about.  Are you using some HTML table sorting library?  We need a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "edited": false, "score": 0, "creation_date": 1564602040, "post_id": 57297671, "comment_id": 101089739, "body": "I&#39;m using reactTable package but that fact is irrelevant. I&#39;m trying to create my own custom sorting function. the one that gets two values and compare between them. I&#39;m just looking for the way to do it."}, {"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 2, "creation_date": 1564602722, "post_id": 57297671, "comment_id": 101089989, "body": "If you don&#39;t need help with the table itself, then you should just limit your question to sorting an array of strings or something like that. Then you could post some sample input data and expected output (which will likely go a long way toward getting someone to post an answer)."}, {"owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "reply_to_user": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 0, "creation_date": 1564604059, "post_id": 57297671, "comment_id": 101090476, "body": "@benvc thanks I&#39;ve added my own function. Hope it helps."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1564605834, "post_id": 57297671, "comment_id": 101091119, "body": "Do you retain the original <code>duration</code> object with each row, in a <code>data</code> attribute, perhaps?  It would make it a <i>lot</i> easier if you didn&#39;t have to perform the parsing operation."}, {"owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1564643580, "post_id": 57297671, "comment_id": 101100071, "body": "@Amy agreed but unfortunately It happens in a complete different code area and it seems wrong to use a state management like Redux to keep this array of data."}], "answers": [{"tags": [], "owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "is_accepted": true, "score": 1, "last_activity_date": 1564666073, "last_edit_date": 1564666073, "creation_date": 1564607051, "answer_id": 57298813, "question_id": 57297671, "link": "https://stackoverflow.com/questions/57297671/get-time-calculation-from-momentjs-duration/57298813#57298813", "title": "Get time calculation from momentJS duration", "body": "<p>I am not aware of a parsing function in Moment or elsewhere that will handle these types of strings. If your input strings are consistently formatted and limited to days, hours and minutes, then parsing them should not be all that difficult. Following is an approach along the lines of your original function, just a bit more compact due to some effort put into splitting the string into each duration \"chunk\" and then normalizing the duration descriptor (lowercase and singular) so you can easily access values from a multiplier object.</p>\n\n<p>That said, if your original data contains the Moment duration object rather than just the string representation, then there are easier ways to do this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getMinutes = (s) =&gt; {\r\n  const multipliers = { day: 1440, hour: 60, minute: 1 };\r\n  const durations = s.split(/\\s(?=\\d)/);\r\n  let minutes = 0;\r\n  for (let d of durations) {\r\n    let [num, interval] = d.split(' ');\r\n    interval = interval.toLowerCase();\r\n    if (interval.endsWith('s')) {\r\n      interval = interval.slice(0, -1);\r\n    }\r\n    minutes += num * multipliers[interval];\r\n  }\r\n  return minutes;\r\n}\r\n\r\nlet result = getMinutes('1 Day 1 Hour 20 Minutes');\r\nconsole.log(result);\r\n// 1520</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 79, "user_id": 3329299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/za75v.jpg?s=128&g=1", "display_name": "LilacEilim", "link": "https://stackoverflow.com/users/3329299/lilaceilim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57298813, "answer_count": 1, "score": 0, "last_activity_date": 1564666073, "creation_date": 1564601141, "last_edit_date": 1564603955, "question_id": 57297671, "link": "https://stackoverflow.com/questions/57297671/get-time-calculation-from-momentjs-duration", "title": "Get time calculation from momentJS duration", "body": "<p>I have a field in my table that I would like to sort. That field contains strings from MomentJS duration calculation. For example \"20 Minutes\", \"10 Hours 1 Minute\" and so on. \nIf I want to use a sort function I need to format that string back to lowest resolution of time I have which is minutes. \nLike this: a: \"20 Minutes\" => 20.\n           b: \"10 Hours 1 Minute\" => 10*60 + 1 = 601.\nSo when sorting in a descending order b will come before a.</p>\n\n<p>I made this function that does work but it is really hardcoded so I would really like to see other ways to solve it. Thanks!</p>\n\n<pre><code>function getTimeFromDuration(duration) {\n    const str = duration.split(' ');\n    const durationArray = ['Minute', 'Minutes', 'Hour', 'Hours', 'Day', 'Days'];\n    const calcArr = [];\n    let sum = 0;\n    for (let i=0; i&lt;str.length; i++) {\n        const isNum = !isNaN(str[i]);\n        const isDuration = durationArray.includes(str[i]) &gt; -1;\n        if (isNum) {\n            calcArr.push(parseInt(str[i]));\n        }\n        else if (isDuration) {\n            switch(str[i]) {\n                case 'Minute':\n                case 'Minutes':\n                    calcArr.push(1);\n                    break;\n                case 'Hour':\n                case 'Hours':\n                    calcArr.push(60);\n                    break;\n                case 'Day':\n                case 'Days':\n                    calcArr.push(60*24);\n                    break;\n            }\n        }\n    }\n\n    for (let j=0; j&lt;calcArr.length; j=j+2) {\n        sum+= calcArr[j]*calcArr[j+1];\n    }\n\n return sum;\n}\n\n\n console.log(getTimeFromDuration('1 Day 1 Hour 20 Minutes'));\n</code></pre>\n"}, {"tags": ["javascript", "json", "mongodb"], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 4210181, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1319ca95826c0db0c877dffaf9830277?s=128&d=identicon&r=PG&f=1", "display_name": "Racer SQL", "link": "https://stackoverflow.com/users/4210181/racer-sql"}, "edited": false, "score": 0, "creation_date": 1564664236, "post_id": 57300555, "comment_id": 101111409, "body": "It worked. I could isnert in a new collection ( it creates the collection ). Now I need to think how I can use <code>$merge</code> to insert new docs in this collection, since I don&#39;t have 4.2 version. Thanks."}], "tags": [], "owner": {"reputation": 2730, "user_id": 11857981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KZpHg.jpg?s=128&g=1", "display_name": "Himanshu Sharma", "link": "https://stackoverflow.com/users/11857981/himanshu-sharma"}, "is_accepted": false, "score": 2, "last_activity_date": 1564620872, "creation_date": 1564620872, "answer_id": 57300555, "question_id": 57297663, "link": "https://stackoverflow.com/questions/57297663/sending-the-result-of-a-mongodb-view-to-another-collection-insert-select-fr/57300555#57300555", "title": "Sending the result of a mongoDB view to another collection ( INSERT....SELECT from SQL )", "body": "<p>You can design the query in the following way so that the output is directly inserted in a new collection('subset' in this example) without iterating through the result set.</p>\n\n<pre><code>db.full_set.aggregate([\n    {\n        $match:{\n            \"date\":\"20120105\"\n        }\n    },\n    {\n        $out:\"subset\"\n    }\n])\n</code></pre>\n\n<p>If 'full_set' has the following documents:</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d423675bd542251420b6b8e\"),\n    \"date\" : \"20130105\",\n    \"name\" : \"Mechanic1\"\n}\n{\n    \"_id\" : ObjectId(\"5d423675bd542251420b6b8f\"),\n    \"date\" : \"20120105\",\n    \"name\" : \"Mechanic2\"\n}\n{\n    \"_id\" : ObjectId(\"5d423675bd542251420b6b90\"),\n    \"date\" : \"20120105\",\n    \"name\" : \"Mechanic3\"\n}\n</code></pre>\n\n<p>With the above query, the 'subset' collection would be having the following documents:</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d423675bd542251420b6b8f\"),\n    \"date\" : \"20120105\",\n    \"name\" : \"Mechanic2\"\n}\n{\n    \"_id\" : ObjectId(\"5d423675bd542251420b6b90\"),\n    \"date\" : \"20120105\",\n    \"name\" : \"Mechanic3\"\n}\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 4210181, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/1319ca95826c0db0c877dffaf9830277?s=128&d=identicon&r=PG&f=1", "display_name": "Racer SQL", "link": "https://stackoverflow.com/users/4210181/racer-sql"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564620872, "creation_date": 1564601125, "question_id": 57297663, "link": "https://stackoverflow.com/questions/57297663/sending-the-result-of-a-mongodb-view-to-another-collection-insert-select-fr", "title": "Sending the result of a mongoDB view to another collection ( INSERT....SELECT from SQL )", "body": "<p>I could create a big query, and turn it into a view. Let's call it DBA_VIEW.</p>\n\n<pre><code>db.DBA_VIEW.find()\n</code></pre>\n\n<p>I'm using noSQLbooster to interact with mongodb and I'm trying to insert the result of this view into another collection.</p>\n\n<p>I don't want to \"right click > export\" because I need to do this via noSQLbooster itself.</p>\n\n<p>I've seen some querie sthat can do the trick, but, as a SQL SERVER dba, I think I can't get the logic behind, let's say, this one below:</p>\n\n<pre><code>db.full_set.find({date:\"20120105\"}).forEach(function(doc){\n   db.subset.insert(doc);\n});\n</code></pre>\n\n<p>how can I use such approach to do my taks?</p>\n\n<p>I just need the result of that view from a collection, to be inserted in another collection, then after this we are going to export the data into a .json file or even a .TXT.</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 42640, "user_id": 1553851, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/ad333c218c8f2fb917cf506919fc95f4?s=128&d=identicon&r=PG", "display_name": "shmosel", "link": "https://stackoverflow.com/users/1553851/shmosel"}, "edited": false, "score": 6, "creation_date": 1564600888, "post_id": 57297609, "comment_id": 101089249, "body": "Better in what way?"}, {"owner": {"reputation": 9772, "user_id": 1786065, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/udTpS.png?s=128&g=1", "display_name": "Rogue", "link": "https://stackoverflow.com/users/1786065/rogue"}, "edited": false, "score": 4, "creation_date": 1564600957, "post_id": 57297609, "comment_id": 101089272, "body": "If this is always your input, I&#39;d argue a regex is worse"}, {"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 3, "creation_date": 1564601015, "post_id": 57297609, "comment_id": 101089301, "body": "Code review questions are specifically off-topic on SO, mostly because answers tend to be highly subjective."}, {"owner": {"reputation": 842, "user_id": 906690, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RvseT.jpg?s=128&g=1", "display_name": "peaceoutside", "link": "https://stackoverflow.com/users/906690/peaceoutside"}, "edited": false, "score": 0, "creation_date": 1564601017, "post_id": 57297609, "comment_id": 101089303, "body": "Do you have to account for non-standard or invalid input?"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1564601197, "post_id": 57297609, "comment_id": 101089384, "body": "My guess is that will execute faster than a RegExp, as the instructions are very specific."}], "answers": [{"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": false, "score": 2, "last_activity_date": 1564601130, "creation_date": 1564601130, "answer_id": 57297666, "question_id": 57297609, "link": "https://stackoverflow.com/questions/57297609/string-fraction-to-numbers/57297666#57297666", "title": "String fraction to numbers", "body": "<p>Using a regex, you would be able to go for a simple match/find.</p>\n\n<p>In your case, you first split the fraction itself from the remaining part, to then split again on the '/'.</p>\n\n<p>In other words: a regex would allow you to reduce your code to a single match operation. </p>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\" rel=\"nofollow noreferrer\">here</a> for some guidance how that would work.</p>\n\n<p>Of course, you could also do that specific \"matching\" in a more manual mode:</p>\n\n<ul>\n<li>get the string from 0 to index-1 of '/' </li>\n<li>get the string from '/' to ' ' </li>\n</ul>\n\n<p>In other words, there are plenty of ways to retrieve that information. Each one has different pros and cons, and the real answer for a newbie learning this stuff: make experiments, and try them all.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 2, "last_activity_date": 1564605155, "creation_date": 1564605155, "answer_id": 57298437, "question_id": 57297609, "link": "https://stackoverflow.com/questions/57297609/string-fraction-to-numbers/57298437#57298437", "title": "String fraction to numbers", "body": "<p>There is no reason you can't do trimming and all with a single regex<br>\nwithout having to go through the gyrations with split.   </p>\n\n<p>Try this  </p>\n\n<p><code>/0*(\\d+)\\s*\\/\\s*0*(\\d+)/</code>  </p>\n\n<p>Formatted  </p>\n\n<pre><code> 0*\n ( \\d+ )                       # (1)\n \\s* / \\s* \n 0*\n ( \\d+ )                       # (2)\n</code></pre>\n\n<p>JS sample</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var strSample = \r\n  \"0039/99 (100%)\\n\" +\r\n  \"00/000 (100%)\\n\" +\r\n  \"junk 102 / 487\\n\";\r\n\r\nvar NumerDenomRx = new RegExp( \"0*(\\\\d+)\\\\s*/\\\\s*0*(\\\\d+)\", \"g\");\r\nvar match;\r\n\r\nwhile ( match=NumerDenomRx.exec( strSample ))\r\n{\r\n  console.log(\"numerator = \", match[1] );\r\n  console.log(\"denominator = \", match[2] );\r\n  console.log( \"-------------------------\" );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 548, "user_id": 7696250, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10212176733154139/picture?type=large", "display_name": "Aleks ", "link": "https://stackoverflow.com/users/7696250/aleks"}, "is_accepted": false, "score": 1, "last_activity_date": 1564609920, "last_edit_date": 1564609920, "creation_date": 1564609121, "answer_id": 57299173, "question_id": 57297609, "link": "https://stackoverflow.com/questions/57297609/string-fraction-to-numbers/57299173#57299173", "title": "String fraction to numbers", "body": "<p>If all strings have the same pattern</p>\n\n<pre><code>var stringFraction = '99/99 (100%)';\nvar fraction = stringFraction.match(/\\d+/g); // result = [\"99\", \"99\", \"100\"];\n</code></pre>\n\n<p>Now  technically this is shorter than <code>split</code>ing it, 15 vs 26 letters/signs/spaces, but only if the length of the array doesn't bother you. Otherwise you will have to chain extra method</p>\n\n<pre><code>.slice(1,-1)\n</code></pre>\n\n<p>that's +12 extra signs/letters. If the string is more complex</p>\n\n<pre><code>var fraction = stringFraction.match(/\\d+\\/\\d+/)[0].split('/');\n</code></pre>\n\n<p>There are endless variations how to solve it really</p>\n\n<p>P.S. Unless you got more complex strings, regex is not needed.</p>\n"}], "owner": {"reputation": 41, "user_id": 11396467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa9da2ebab6b59b7f0c14243e272b293?s=128&d=identicon&r=PG&f=1", "display_name": "BigMon", "link": "https://stackoverflow.com/users/11396467/bigmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "closed_date": 1565537193, "answer_count": 3, "score": 0, "last_activity_date": 1564609920, "creation_date": 1564600844, "last_edit_date": 1564600898, "question_id": 57297609, "link": "https://stackoverflow.com/questions/57297609/string-fraction-to-numbers", "closed_reason": "Opinion-based", "title": "String fraction to numbers", "body": "<p>I have a string that represents a fraction and I want to extract the numerator and denominator.</p>\n\n<pre><code>var stringFraction = '99/99 (100%)';\nvar fraction = stringFraction.split(' ')[0].split('/');\nconsole.log(0, Number(fraction[0]));\nconsole.log(1, Number(fraction[1]));\n</code></pre>\n\n<p>This works fine but I'm wondering if a regex would be better?</p>\n"}, {"tags": ["javascript", "postgresql", "typescript", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 912, "user_id": 8054597, "user_type": "registered", "profile_image": "https://graph.facebook.com/1931651176860800/picture?type=large", "display_name": "Dmytro Mysak", "link": "https://stackoverflow.com/users/8054597/dmytro-mysak"}, "is_accepted": false, "score": 0, "last_activity_date": 1564675195, "creation_date": 1564675195, "answer_id": 57312922, "question_id": 57297551, "link": "https://stackoverflow.com/questions/57297551/sequelize-query-table-by-column-and-associated-records-column/57312922#57312922", "title": "Sequelize query table by column and associated record&#39;s column", "body": "<p>Try to update through to this one:</p>\n\n<pre><code>through: { model: DB.AlbumArtists // write correct model name }\n</code></pre>\n\n<p>And also yo can simplify where condition:</p>\n\n<pre><code>where: { artistId: albumArtists }\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 7977846, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64c6599c7f988bc4d075d263dfeeed83?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/7977846/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564675195, "creation_date": 1564600619, "question_id": 57297551, "link": "https://stackoverflow.com/questions/57297551/sequelize-query-table-by-column-and-associated-records-column", "title": "Sequelize query table by column and associated record&#39;s column", "body": "<p>I am trying to query for music albums that are associated with an exact amount of artists.</p>\n\n<p>I am correctly associating the models using a many-to-many table but my query is failing to do what I'd like it to do. </p>\n\n<pre><code>    albumArtists = albumArtists.map((artist) =&gt; {\n        return artist.id;\n    });\n\n   const album = await DB.Album.findOne({\n        where: {\n            name: albumName,\n        },\n        include: [\n            {\n                model: DB.Artist,\n                through: {\n                    where: {\n                        artistId: {\n                            [Op.and]: albumArtists\n                        }\n                    }\n                }\n            },\n        ],\n    });\n</code></pre>\n\n<p>I am trying to query for an album with <code>name</code> set to <code>albumName</code> and has associated <code>albumArtists</code> with <code>artistId</code> matching all in <code>albumArtists</code>.</p>\n\n<p>I tried setting my <code>where</code> clause outside of the <code>through</code> object but that didn't seem to work either.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "owner": {"reputation": 51, "user_id": 10683019, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--9spjKltDaE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hPrX95fDewrIDgIYgCvwRQclJylg/mo/photo.jpg?sz=128", "display_name": "Ilya A", "link": "https://stackoverflow.com/users/10683019/ilya-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1564600567, "creation_date": 1564600567, "question_id": 57297535, "link": "https://stackoverflow.com/questions/57297535/show-and-hide-text-using-onclick-and-oncontextmenu-simultaneously", "title": "Show and hide text using onclick and oncontextmenu simultaneously", "body": "<p>I show context menu in my table using oncontextmenu in <strong>tr</strong> tag and onclick for my button inside <strong>tr</strong> tag. But I don't know how to hide menu using onclick in any area?</p>\n\n<p>I added <code>window.onclick = hideContextMenu</code> as global variable and after that button can't show my context menu.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onkeydown = listenKeys;\r\nvar contextMenu = document.getElementById(\"contextMenu\");\r\n\r\nfunction showContextMenu(event) {\r\n\r\n        contextMenu.style.display = 'block';\r\n        contextMenu.style.left = event.clientX+ 'px';\r\n        contextMenu.style.top = event.clientY + 'px';\r\n    return false;\r\n}\r\n\r\nfunction hideContextMenu() {\r\n    contextMenu.style.display = 'none';\r\n}\r\n\r\nfunction listenKeys(event) {\r\n    var keyCode = event.keyCode || event.which;\r\n\r\n    if (keyCode === 27){\r\n        hideContextMenu();\r\n    }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body, .container{\r\n    height: 100%;\r\n   \r\n}\r\nbutton {\r\n background: blue;\r\n height:50px; width:50px;\r\n}\r\n.context-menu{\r\n width: 200px;\r\n height: auto;\r\n box-shadow: 0 0 20px 0 #ccc;\r\n position: absolute;\r\n display: none;\r\n background: #eee;\r\n}\r\n\r\n.context-menu a {\r\n     color: black;\r\n     padding: 12px 16px;\r\n     text-decoration: none;\r\n     display: block;\r\n }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;table class=\"table table-striped\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th scope=\"col\"&gt;Date&lt;/th&gt;\r\n      &lt;th scope=\"col\"&gt;First name&lt;/th&gt;\r\n      &lt;th scope=\"col\"&gt;Second name&lt;/th&gt;\r\n      &lt;th scope=\"col\"&gt; &lt;/th&gt;\r\n      &lt;th scope=\"col\"&gt; &lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr oncontextmenu=\"return showContextMenu(event);\"&gt;\r\n        &lt;th scope=\"row\"&gt;01.01.2001&lt;/th&gt;\r\n        &lt;td&gt;John&lt;/td&gt;\r\n        &lt;td&gt;Cole&lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;div class=\"container\" &gt;\r\n            &lt;div id=\"contextMenu\" class=\"context-menu\"&gt;\r\n                &lt;ul&gt;\r\n                    &lt;a href=\"#one\"&gt;One&lt;/a&gt;\r\n                    &lt;a href=\"#two\"&gt;Two&lt;/a&gt;\r\n                    &lt;a href=\"#three\"&gt;Three&lt;/a&gt;\r\n                &lt;/ul&gt;\r\n              &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/td&gt;\r\n        &lt;td&gt;\r\n          &lt;button onclick=\"return showContextMenu(event)\"&gt; \r\n          &lt;div class=\"container\" &gt;\r\n              &lt;div id=\"contextMenu\" class=\"context-menu\"&gt;\r\n                  &lt;ul&gt;\r\n                      &lt;a href=\"#one\"&gt;One&lt;/a&gt;\r\n                      &lt;a href=\"#two\"&gt;Two&lt;/a&gt;\r\n                      &lt;a href=\"#three\"&gt;Three&lt;/a&gt;\r\n                  &lt;/ul&gt;\r\n              &lt;/div&gt;\r\n          &lt;/div&gt;\r\n          &lt;/button&gt;\r\n        &lt;/td&gt;\r\n     &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to show menu always using <code>oncontextmenu</code> in all <strong>tr</strong> tag. Show menu after <code>onclick</code> press button. And hide context menu I want in any part table</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 1, "last_activity_date": 1564600673, "creation_date": 1564600673, "answer_id": 57297562, "question_id": 57297505, "link": "https://stackoverflow.com/questions/57297505/update-object-value-in-array-react-hooks-way/57297562#57297562", "title": "Update object value in array React hooks way", "body": "<p>You can use <code>Array.map()</code>. For each item check if the <code>id</code> is equal to <code>itemId</code>. If it this, spread the item, and replace the <code>title</code>. If not, return the original item:</p>\n\n<pre><code>const onChangeItemName = (title, itemId) =&gt; {\n  setNotesDummyData(notesDummyData.map(o =&gt; o.id === itemId ? ({\n    ...o,\n    title\n  }) : o));\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 615, "user_id": 7251420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154781008736528/picture?type=large", "display_name": "Patrik Rikama-Hinnenberg", "link": "https://stackoverflow.com/users/7251420/patrik-rikama-hinnenberg"}, "edited": false, "score": 0, "creation_date": 1564604192, "post_id": 57297580, "comment_id": 101090519, "body": "Sweet, this made it happen."}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "reply_to_user": {"reputation": 615, "user_id": 7251420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154781008736528/picture?type=large", "display_name": "Patrik Rikama-Hinnenberg", "link": "https://stackoverflow.com/users/7251420/patrik-rikama-hinnenberg"}, "edited": false, "score": 0, "creation_date": 1564604237, "post_id": 57297580, "comment_id": 101090535, "body": "Great! Consider accepting one of the answers to close the question"}, {"owner": {"reputation": 615, "user_id": 7251420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154781008736528/picture?type=large", "display_name": "Patrik Rikama-Hinnenberg", "link": "https://stackoverflow.com/users/7251420/patrik-rikama-hinnenberg"}, "edited": false, "score": 0, "creation_date": 1564718091, "post_id": 57297580, "comment_id": 101130196, "body": "Love the approach of first returning all non matches. The stripped down &quot;if else&quot; is clean and raw, getting use to it now :) added ; after the returns &#39; return x; &#39; and &#39; return {..x, title: newTitle}; &#39;"}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": true, "score": 2, "last_activity_date": 1564600747, "creation_date": 1564600747, "answer_id": 57297580, "question_id": 57297505, "link": "https://stackoverflow.com/questions/57297505/update-object-value-in-array-react-hooks-way/57297580#57297580", "title": "Update object value in array React hooks way", "body": "<p>Just map through the items and if the id is equal to the selected id you modify only the value:</p>\n\n<pre><code> const onChangeItemName = (newTitle, oldTitle, itemId) =&gt; {\n      setNotesDummyData(notesDummyData.map(x =&gt; {\n           if(x.id !== itemId) return x\n           return {...x, title: newTitle}\n      }))\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2484, "user_id": 8108684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VFBKG.jpg?s=128&g=1", "display_name": "Ericgit", "link": "https://stackoverflow.com/users/8108684/ericgit"}, "is_accepted": false, "score": 0, "last_activity_date": 1564601291, "last_edit_date": 1564601291, "creation_date": 1564600961, "answer_id": 57297635, "question_id": 57297505, "link": "https://stackoverflow.com/questions/57297505/update-object-value-in-array-react-hooks-way/57297635#57297635", "title": "Update object value in array React hooks way", "body": "<p>It's easy to update data using React Hook, but there is not working <code>setState()</code>, so there will be working <code>[notThis, thisOne(setNotesDummyDate)]</code> to update your data.</p>\n\n<pre><code>const [notesDummyData, setNotesDummyData] = useState([\n    {\n      id: '5',\n      title: 'Sauna',\n    },\n    {\n      id: '7',\n      title: 'Finland',\n    },\n  ]);\n</code></pre>\n\n<p><strong>Using React Hook method to Update data:</strong></p>\n\n<pre><code>const onChangeItemName = (newTitle, oldTitle, itemId) =&gt; {\n       setNotesDummyDate = useState([\n    {\n      id: itemId, // Update\n      title: newTitle,\n    },\n    {\n      id: itemId, // Update\n      title: newTitle,\n    },\n  ]);\n }\n</code></pre>\n\n<p>Still Curious, <a href=\"https://reactjs.org/docs/hooks-state.html\" rel=\"nofollow noreferrer\">study here about useState()</a></p>\n\n<p>Cheer you!</p>\n"}], "owner": {"reputation": 615, "user_id": 7251420, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154781008736528/picture?type=large", "display_name": "Patrik Rikama-Hinnenberg", "link": "https://stackoverflow.com/users/7251420/patrik-rikama-hinnenberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1323, "favorite_count": 2, "accepted_answer_id": 57297580, "answer_count": 3, "score": 0, "last_activity_date": 1564601291, "creation_date": 1564600414, "question_id": 57297505, "link": "https://stackoverflow.com/questions/57297505/update-object-value-in-array-react-hooks-way", "title": "Update object value in array React hooks way", "body": "<p>How would I update a title of the specific id with hooks state setup. Here:</p>\n\n<pre><code>const NotesContainer = ({\n\n}) =&gt; {\n  const [notesDummyData, setNotesDummyData] = useState([\n    {\n      id: '5',\n      title: 'Sauna',\n    },\n    {\n      id: '7',\n      title: 'Finland',\n    },\n  ]);\n\n  const onChangeItemName = (newTitle, oldTitle, itemId) =&gt; {\n\n    //Update a new title here for id 7\n\n  };\n</code></pre>\n\n<p>Could not find any example for setState hooks.</p>\n"}, {"tags": ["javascript", "jquery", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 9254, "user_id": 1203844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WRK6P.jpg?s=128&g=1", "display_name": "Aritra Chakraborty", "link": "https://stackoverflow.com/users/1203844/aritra-chakraborty"}, "is_accepted": true, "score": 1, "last_activity_date": 1564602165, "creation_date": 1564602165, "answer_id": 57297878, "question_id": 57297494, "link": "https://stackoverflow.com/questions/57297494/formdata-defined-on-front-end-undefined-on-back-end/57297878#57297878", "title": "FormData Defined on Front-End, Undefined on Back-End", "body": "<p>You are putting the file in <code>file</code> key, inside <code>new FormData</code>, So it should be natural that fetch the same with multer:</p>\n\n<pre><code>let upload = multer({ storage: storage }).single('file');//instead of filename\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 11843328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c578850f4b2d58edd2d1f0735fcb041?s=128&d=identicon&r=PG&f=1", "display_name": "MCM13", "link": "https://stackoverflow.com/users/11843328/mcm13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 57297878, "answer_count": 1, "score": 1, "last_activity_date": 1564602165, "creation_date": 1564600371, "question_id": 57297494, "link": "https://stackoverflow.com/questions/57297494/formdata-defined-on-front-end-undefined-on-back-end", "title": "FormData Defined on Front-End, Undefined on Back-End", "body": "<p>I want to upload a picture on change and with formData and I believe it's grabbing the information on the front-end because I don't get undefined, but on my back-end it comes as undefined. </p>\n\n<pre><code>//THIS IS MY INPUT \n&lt;input class=\"second-picture\" type=\"file\" name=\"filename\" accept=\"image/gif, image/jpeg, image/png\"&gt;\n\n//DEFINING FORMDATA\nvar formData = new FormData();\nformData.append('file', $('input.second-picture').prop('files')[0])\n\nconsole.log(formData.get(\"file\"))\n\n// THIS CONSOLE GIVES ME: \nFile {\n  name: picture.jpg\n  lastModified: xxx (date)\n  size: 541092\n  type: \"image/jpeg\"\n  webkitRelativePath: \"\"\n}\n</code></pre>\n\n<p>Here's the AJAX call and the back-end 'POST'</p>\n\n<pre><code>AJAX CALL - \n\n$.ajax({\n    type: 'POST',\n    url: `/api/Upload-second-picture`,\n    crossDomain: true,\n    data: formData,\n    cache: false,\n    processData: false,\n    contentType: false,\n    enctype: 'multipart/form-data',\n    mimeType: 'multipart/form-data',\n    beforeSubmit : function() {\n\n    },\n    success : function(responseText, statusText, xhr, $form) {\n        console.log('responseText', responseText)\n    }\n});\n\nrouter.post('/Upload-second-picture', function(req, res) {\n  let upload = multer({ storage: storage }).single('filename')\n  upload(req, res, function (err) {\n    let file = req.file\n    console.log('this is my file', file) // RETURNS UNDEFINED\n    if(file != undefined) {\n\n      if (err) {\n        return res.send(\"Error: file not uploaded 2\", err)\n      }\n      return res.send(fileName)\n    }\n  })\n})\n</code></pre>\n\n<p>How can I make the back end grab the information too?</p>\n"}, {"tags": ["javascript", "google-chrome", "date"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 2, "creation_date": 1564600572, "post_id": 57297489, "comment_id": 101089121, "body": "Not sure I understand - you&#39;re showing a perfectly reasonable result on two different computers, and today is definitely not November 15th, so the fact that <code>new Date()</code> and <code>new Date(a date in november)</code> give you different values makes sense. As for the timezone: your input string doesn&#39;t say which timezone to use, so JS is quite literally free to pick any timezone it wants. Don&#39;t use <code>Z</code> if you want BST?"}, {"owner": {"reputation": 519, "user_id": 5554253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pjWxvaNntQI/AAAAAAAAAAI/AAAAAAAALkg/Y-l59EiyqBY/photo.jpg?sz=128", "display_name": "Paulo Menezes", "link": "https://stackoverflow.com/users/5554253/paulo-menezes"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1564600847, "post_id": 57297489, "comment_id": 101089233, "body": "Should the JS choose the client timezone? In the second Image I pass the same November Date but it return the machine timezone, and in the first one, the JS choose the daylight summer time from my region (Brasilia)"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1564601040, "post_id": 57297489, "comment_id": 101089306, "body": "JS picks &quot;whatever the browser is set to make it do&quot;, and there are all kinds of different settings that will change what it ends up using. It might even decide that, in order to honour your security or tracking settings, you don&#39;t even <i>have</i> a timezone, and <code>new Date()</code> ends up being January 1 1970 00:00:00 UTC."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1564601159, "post_id": 57297489, "comment_id": 101089364, "body": "Of course the real answer here is &quot;use a datetime library like moment.js&quot; because localisation is hard, and dates are hard, and together they&#39;re even harder, and you should rely on many others already having made sure to account for all the craziness when working with dates."}, {"owner": {"reputation": 1390, "user_id": 7463188, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9iSHH.jpg?s=128&g=1", "display_name": "Oleg Bondarenko", "link": "https://stackoverflow.com/users/7463188/oleg-bondarenko"}, "edited": false, "score": 0, "creation_date": 1564601182, "post_id": 57297489, "comment_id": 101089376, "body": "Different version of Chrome might regards or not dailiight shifting. Check version of Crome on both machines"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1564654666, "post_id": 57297489, "comment_id": 101106034, "body": "I&#39;m voting to close this question as off-topic because the issue is related to system configuration, not javascript."}], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 5554253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pjWxvaNntQI/AAAAAAAAAAI/AAAAAAAALkg/Y-l59EiyqBY/photo.jpg?sz=128", "display_name": "Paulo Menezes", "link": "https://stackoverflow.com/users/5554253/paulo-menezes"}, "edited": false, "score": 0, "creation_date": 1564601778, "post_id": 57297651, "comment_id": 101089628, "body": "You&#39;re right. I initialized a new Date in July and get the right timezone. So, the problem is the second image, where I initialize a November Date and don&#39;t get the DST. Probably the Ubuntu servers (Second image) don&#39;t know this and the Windows server does (First image)."}, {"owner": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "reply_to_user": {"reputation": 519, "user_id": 5554253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pjWxvaNntQI/AAAAAAAAAAI/AAAAAAAALkg/Y-l59EiyqBY/photo.jpg?sz=128", "display_name": "Paulo Menezes", "link": "https://stackoverflow.com/users/5554253/paulo-menezes"}, "edited": false, "score": 0, "creation_date": 1564602578, "post_id": 57297651, "comment_id": 101089936, "body": "By reading the wiki page, there are too a lot of parameters and changes on how Brazil adopts DTS so one of the sources might have given up on supporting it."}, {"owner": {"reputation": 519, "user_id": 5554253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pjWxvaNntQI/AAAAAAAAAAI/AAAAAAAALkg/Y-l59EiyqBY/photo.jpg?sz=128", "display_name": "Paulo Menezes", "link": "https://stackoverflow.com/users/5554253/paulo-menezes"}, "edited": false, "score": 0, "creation_date": 1564602908, "post_id": 57297651, "comment_id": 101090058, "body": "Yeah, actually this year is the first without the DST, it was cancelled."}], "tags": [], "owner": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "is_accepted": true, "score": 2, "last_activity_date": 1564601059, "creation_date": 1564601059, "answer_id": 57297651, "question_id": 57297489, "link": "https://stackoverflow.com/questions/57297489/javascript-gives-different-timezone-on-the-same-machine/57297651#57297651", "title": "Javascript gives different timezone on the same machine", "body": "<p>I assume is Daylight Savings Time (DTS).</p>\n\n<p>As it seems from the logs, the computers are not in the same location, and it seems that in Brazil, <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time_in_Brazil#Regional_applicability\" rel=\"nofollow noreferrer\">DTS is adopted regionally</a>, applicable at the beginning of November.</p>\n\n<p>A quick way to test if this is true, try creating an October date instead of November.</p>\n"}], "owner": {"reputation": 519, "user_id": 5554253, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pjWxvaNntQI/AAAAAAAAAAI/AAAAAAAALkg/Y-l59EiyqBY/photo.jpg?sz=128", "display_name": "Paulo Menezes", "link": "https://stackoverflow.com/users/5554253/paulo-menezes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 57297651, "answer_count": 1, "score": 1, "last_activity_date": 1564601059, "creation_date": 1564600337, "question_id": 57297489, "link": "https://stackoverflow.com/questions/57297489/javascript-gives-different-timezone-on-the-same-machine", "title": "Javascript gives different timezone on the same machine", "body": "<p>The google chrome console is returning different timezones if I initialize the Date with a parameter or not.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3mZhm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3mZhm.jpg\" alt=\"javascript dates\"></a>\nIn another machine the same code give me the right result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h9rLk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h9rLk.png\" alt=\"javascript dates\"></a>\nIt's weird but it's happening</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 112, "user_id": 2318135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tn6ym.png?s=128&g=1", "display_name": "Fathan", "link": "https://stackoverflow.com/users/2318135/fathan"}, "edited": false, "score": 0, "creation_date": 1564600550, "post_id": 57297443, "comment_id": 101089108, "body": "<code>window.open</code> first argument is URL, not filename, so it won&#39;t work. And web browser is isolating it self from wide system (e.g filesystem)."}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1564600953, "post_id": 57297443, "comment_id": 101089271, "body": "seems strange to me having a bat file in web page. <code>.bat</code> are <code>Windows</code> executable commands, how would these commands do anything in a browser ?"}], "owner": {"reputation": 11, "user_id": 8870219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb5456eb5b6f88bc51b00707c478551a?s=128&d=identicon&r=PG&f=1", "display_name": "OrbitCycle", "link": "https://stackoverflow.com/users/8870219/orbitcycle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "closed_date": 1564600922, "answer_count": 0, "score": 0, "last_activity_date": 1564600340, "creation_date": 1564600161, "question_id": 57297443, "link": "https://stackoverflow.com/questions/57297443/is-there-a-way-to-have-an-open-window-from-my-desktop-showed-on-a-webpage", "closed_reason": "Duplicate", "title": "Is there a way to have an open window from my desktop showed on a webpage?", "body": "<p>I'm trying to put a CMD program on a webpage but I can't figure out how to get the window and put it on a webpage I'm working on. Is there anyway to do this? </p>\n\n<pre><code>    &lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;Console&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;iframe height=\"500\" width=\"970\"&gt;&lt;/iframe&gt;\n    &lt;script&gt;\n        var myWindow = window.open(\"run.bat\", \"width=970,height=500\");\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["javascript", "fetch-api"], "answers": [{"comments": [{"owner": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "edited": false, "score": 0, "creation_date": 1564600992, "post_id": 57297476, "comment_id": 101089288, "body": "Isn&#39;t that already been taken care of in the <code>getJSON()</code> function? That will either return the response or an error. What is missing there?"}, {"owner": {"reputation": 24311, "user_id": 19856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/INXtX.jpg?s=128&g=1", "display_name": "Traveling Tech Guy", "link": "https://stackoverflow.com/users/19856/traveling-tech-guy"}, "reply_to_user": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "edited": false, "score": 1, "creation_date": 1564602137, "post_id": 57297476, "comment_id": 101089778, "body": "When you return/throw an error, your promise rejects, and therefore <code>all</code> rejects. Instead, catch the error, but return (don&#39;t throw) something that signifies an error."}], "tags": [], "owner": {"reputation": 24311, "user_id": 19856, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/INXtX.jpg?s=128&g=1", "display_name": "Traveling Tech Guy", "link": "https://stackoverflow.com/users/19856/traveling-tech-guy"}, "is_accepted": true, "score": 0, "last_activity_date": 1564600287, "creation_date": 1564600287, "answer_id": 57297476, "question_id": 57297389, "link": "https://stackoverflow.com/questions/57297389/when-one-of-the-fetches-fails-all-of-the-fetches-will-not-show/57297476#57297476", "title": "When one of the fetches fails, all of the fetches will not show", "body": "<p>From the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\">documentation of <code>Promise.all</code></a>:</p>\n\n<blockquote>\n  <p>The Promise.all() method returns a single Promise that resolves when\n  <strong>all of the promises passed</strong> as an iterable have resolved or when the\n  iterable contains no promises. It rejects with the reason of the first\n  promise that rejects.The Promise.all() method returns a single Promise\n  that resolves when all of the promises passed as an iterable have\n  resolved or when the iterable contains no promises. <strong>It rejects with\n  the reason of the first promise that rejects</strong>.</p>\n</blockquote>\n\n<p>To solve this, make sure each of your mapped promises resolves successfully. You can resolve with an error object instead of a real photo (or a constant '404 photo'), to make sure they all resolve successfully.</p>\n"}], "owner": {"reputation": 2449, "user_id": 2489480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3af2ee144cdb1075e9db71607f4dbf24?s=128&d=identicon&r=PG", "display_name": "Remi", "link": "https://stackoverflow.com/users/2489480/remi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 57297476, "answer_count": 1, "score": 0, "last_activity_date": 1564600287, "creation_date": 1564599923, "question_id": 57297389, "link": "https://stackoverflow.com/questions/57297389/when-one-of-the-fetches-fails-all-of-the-fetches-will-not-show", "title": "When one of the fetches fails, all of the fetches will not show", "body": "<p>I am using the Flickr API to first fetch a gallery, and then fetch all the foto's in that gallery one by one. </p>\n\n<p>However, when one of the photo's return a 404 the entire function will fail.</p>\n\n<p>Is it possible to just skip that single instance?</p>\n\n<p>Example code:</p>\n\n<pre><code>/**\n * @param {string} url The url to perform the fetch on\n */\nasync function getJSON(url) {\n  try {\n    const response = await fetch(url);\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n}\n\n/**\n * @param {string} urlGallery The URL to fetch the gallery from\n * @param {string} urlPhoto The URL to fetch the photo meta information from\n */\nexport default async function getGalleryPhotos(urlGallery, urlPhoto) {\n  const galleryPhotoResponseJSON = await getJSON(urlGallery);\n\n  const photos = galleryPhotoResponseJSON.photos.photo.map(async (photo) =&gt; {\n    const { title } = photo;\n    const photoUrl = `${urlPhoto}&amp;photo_id=${photo.id}`;\n    const photoResponseJSON = await getJSON(photoUrl);\n    return { ...photoResponseJSON, title };\n  });\n  return Promise.all(photos);\n}\n\nconst galleryDomNode = document.getElementById('js-gallery');\nconst loader = document.getElementById('js-loading');\n\ngetGalleryPhotos(apiUrlGallery, apiUrlPhoto)\n  .then((data) =&gt; {\n    generateCardHTML(data, galleryDomNode);\n    galleryDomNode.removeChild(loader);\n  })\n  .catch((rej) =&gt; {\n    const errorFeedback = document.createElement('section');\n    galleryDomNode.removeChild(loader);\n    errorFeedback.innerHTML = `\n      &lt;h2&gt;An error occured.&lt;/h2&gt;\n      &lt;p&gt;${rej}&lt;/p&gt;\n    `;\n    galleryDomNode.appendChild(errorFeedback);\n  });\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "graphql", "apollo"], "answers": [{"tags": [], "owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "is_accepted": true, "score": 1, "last_activity_date": 1564600906, "creation_date": 1564600906, "answer_id": 57297621, "question_id": 57297383, "link": "https://stackoverflow.com/questions/57297383/how-to-fix-object-is-possibly-undefined/57297621#57297621", "title": "How to fix &quot;Object is possibly undefined&quot;?", "body": "<p>You can leave out the if clause <code>if (countries) { ...</code>, it is not necessary.</p>\n\n<p>It is the next expression which can be undefined: </p>\n\n<pre><code>countries.find((country: Country) =&gt; country.id === parseInt(countryId))\n</code></pre>\n\n<p>, which returns <code>Country | undefined</code>. Here the <code>undefined</code> case has to be handled.</p>\n"}], "owner": {"reputation": 55, "user_id": 11402180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DxdZJe6tiq4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfk8NjTsZKCuTtrNhTVuwRhaTcIAA/mo/photo.jpg?sz=128", "display_name": "eran helzer", "link": "https://stackoverflow.com/users/11402180/eran-helzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 57297621, "answer_count": 1, "score": 0, "last_activity_date": 1564600906, "creation_date": 1564599893, "question_id": 57297383, "link": "https://stackoverflow.com/questions/57297383/how-to-fix-object-is-possibly-undefined", "title": "How to fix &quot;Object is possibly undefined&quot;?", "body": "<p>I have a function in a typescript file, everything works fine except that even after an if check there is still: \"Object is possibly 'undefined'\".</p>\n\n<p>I have similar code pieces in other files but none of them give me the same problem.</p>\n\n<p>The function:</p>\n\n<pre><code>renderCities = (countries: Country[], countryId: string) =&gt; {\n    if (countryId === 'DEFAULT') {\n      return &lt;option&gt;Select Country First&lt;/option&gt;;\n    } else {\n      if (countries) {\n        return countries //error here \"Object is possibly 'undefined'\"\n          .find((country: Country) =&gt; country.id === parseInt(countryId))\n          .cities.map((city: City) =&gt; (\n            &lt;option key={`city-${city.id}`} value={city.id}&gt;\n              {city.name}\n            &lt;/option&gt;\n          ));\n      }\n    }\n  };\n</code></pre>\n\n<p>The interfaces:</p>\n\n<pre><code>interface City {\n  name: string;\n  id: number;\n}\n\ninterface Country {\n  name: string;\n  id: number;\n  cities: City[];\n}\n</code></pre>\n\n<p>Another similar code:</p>\n\n<pre><code>&lt;Query&lt;Data&gt; query={GET_COUNTRIES_CITIES}&gt;\n        {({ error, loading, data }) =&gt; {\n          if (loading) {\n            return &lt;h1&gt;Loading...&lt;/h1&gt;;\n          } else if (error) {\n            throw new Error('Error');\n          } else {\n            if (data) {\n              return &lt;TeacherForm countries={data.countries} /&gt;;\n              //there used to be the same error in \"data.countries\", but the \n              //if (data) fixed it.\n            }\n          }\n        }}\n      &lt;/Query&gt;\n</code></pre>\n\n<p>I expect the if (countries) to cancel out the possibility of the object being undefined, but it does not do so.</p>\n"}, {"tags": ["javascript", "html", "dom", "drop-down-menu"], "answers": [{"tags": [], "owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1564600009, "creation_date": 1564600009, "answer_id": 57297404, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript/57297404#57297404", "title": "Get multiple selected text options with JavaScript", "body": "<p>Here's one way to do it:</p>\n\n<pre><code>jQuery(document).ready(function($) {\n    $('input').val('default');   \n    $('select').change(function() {\n        var var_id = $(':selected').text();\n        $('input').val(var_id[0] + ' - ' + var_id[1]);\n    });\n});\n</code></pre>\n\n<p>Also, if you want to use an ES6 template literal, you can use:</p>\n\n<pre><code>$('input').val(`${var_id[0]} - ${var_id[1]}`);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "is_accepted": false, "score": 1, "last_activity_date": 1564600151, "creation_date": 1564600151, "answer_id": 57297438, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript/57297438#57297438", "title": "Get multiple selected text options with JavaScript", "body": "<p>When any <code>select</code> menu changes, you could <code>push</code> each select value and <code>join</code> with the hyphen delimiter.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function($) {\r\n  $('input').val('default');   \r\n  $('select').change(function() {\r\n    let values = [];\r\n    $('select').each(function () {\r\n      values.push(this.value);\r\n    });\r\n    $('input').val(values.join('-'))\r\n  })\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select&gt;\r\n\t&lt;option value=\"A\"&gt;A&lt;/option&gt;\r\n  &lt;option value=\"B\"&gt;B&lt;/option&gt;\r\n  &lt;option value=\"C\"&gt;C&lt;/option&gt;\r\n\t&lt;option value=\"D\"&gt;D&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;select&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;2&lt;/option&gt;\r\n  &lt;option value=\"3\"&gt;3&lt;/option&gt;\r\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;input type=\"text\" value=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 414, "user_id": 11784957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lEBVfC-0BSI/AAAAAAAAAAI/AAAAAAAAAEM/odmvgsq31zQ/photo.jpg?sz=128", "display_name": "Iiskaandar", "link": "https://stackoverflow.com/users/11784957/iiskaandar"}, "is_accepted": false, "score": 2, "last_activity_date": 1564600228, "creation_date": 1564600228, "answer_id": 57297464, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript/57297464#57297464", "title": "Get multiple selected text options with JavaScript", "body": "<p>You can use \"id\" in html:</p>\n\n<pre><code>&lt;div&gt;\n  &lt;select id=\"alphabet\"&gt;\n    &lt;option value=\"A\"&gt;A&lt;/option&gt;\n  &lt;option value=\"B\"&gt;B&lt;/option&gt;\n  &lt;option value=\"C\"&gt;C&lt;/option&gt;\n    &lt;option value=\"D\"&gt;D&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;select id=\"id\"&gt;\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\n  &lt;option value=\"2\"&gt;3&lt;/option&gt;\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\n  &lt;option value=\"5\"&gt;5&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;input type=\"text\" value=\"\"&gt;\n&lt;/div&gt;\n\njQuery(document).ready(function($) {\n\n        $('input').val('default');   \n        $('#id').change(function() {\n        const id = $('#id :selected').text();\n        const alphabet = $('#alphabet :selected').text();\n        $('input').val(alphabet + \"-\" + id);  \n         });\n      });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1143, "user_id": 8204697, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7aa26904637107005c2722393c24a38?s=128&d=identicon&r=PG&f=1", "display_name": "Jb31", "link": "https://stackoverflow.com/users/8204697/jb31"}, "is_accepted": false, "score": 1, "last_activity_date": 1564600270, "creation_date": 1564600270, "answer_id": 57297472, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript/57297472#57297472", "title": "Get multiple selected text options with JavaScript", "body": "<p>Instead of applying <code>text</code> directly to the array of elements returned by <code>$(':selected')</code> you can map each element to their <code>text</code> representation and then join the array of the text-values:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery(document).ready(function($) {\r\n          \r\n        $('input').val('default');   \r\n        $('select').change(function() {\r\n          var var_id = $(':selected').map(function () {\r\n            return $(this).text()\r\n          }).toArray().join(\"-\");\r\n           \r\n          $('input').val(var_id);\r\n       });\r\n          \r\n      });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select&gt;\r\n\t&lt;option value=\"A\"&gt;A&lt;/option&gt;\r\n  &lt;option value=\"B\"&gt;B&lt;/option&gt;\r\n  &lt;option value=\"C\"&gt;C&lt;/option&gt;\r\n\t&lt;option value=\"D\"&gt;D&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;select&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;3&lt;/option&gt;\r\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\r\n  &lt;option value=\"5\"&gt;5&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;input type=\"text\" value=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3140, "user_id": 11852431, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eLmB1.png?s=128&g=1", "display_name": "Morphyish", "link": "https://stackoverflow.com/users/11852431/morphyish"}, "is_accepted": true, "score": 1, "last_activity_date": 1564600413, "creation_date": 1564600413, "answer_id": 57297503, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript/57297503#57297503", "title": "Get multiple selected text options with JavaScript", "body": "<p>This is how I would modify your code, it gives you the expected results regardless of the content of the selected option text:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery(document).ready(function($) {\r\n          \r\n        $('input').val('default');   \r\n        $('select').change(function() {\r\n\t\tvar var_id = [];\r\n                $(':selected').each(function(index, item){\r\n                      var_id.push(item.innerText)\r\n                });\r\n\t\t   \r\n\t\t   \r\n                $('input').val(var_id.join(' - '));\r\n                \r\n            \r\n         });\r\n          \r\n      });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select&gt;\r\n\t&lt;option value=\"A\"&gt;A&lt;/option&gt;\r\n  &lt;option value=\"B\"&gt;B&lt;/option&gt;\r\n  &lt;option value=\"C\"&gt;C&lt;/option&gt;\r\n\t&lt;option value=\"D\"&gt;D&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;select&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;3&lt;/option&gt;\r\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\r\n  &lt;option value=\"5\"&gt;5&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;input type=\"text\" value=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 197, "user_id": 10456325, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZThd9-km_34/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DUeSOHQX-EgyHTuopRYBWBtQnmkXg/mo/photo.jpg?sz=128", "display_name": "L&#234; Ngh\u0129a", "link": "https://stackoverflow.com/users/10456325/l%c3%aa-ngh%c4%a9a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 57297503, "answer_count": 5, "score": 0, "last_activity_date": 1564600413, "creation_date": 1564599689, "question_id": 57297346, "link": "https://stackoverflow.com/questions/57297346/get-multiple-selected-text-options-with-javascript", "title": "Get multiple selected text options with JavaScript", "body": "<p>How to have a hyphen between two values?\nThis is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery(document).ready(function($) {\r\n          \r\n        $('input').val('default');   \r\n       $('select').change(function() {\r\n\t\tvar var_id = $(':selected').text();\r\n\t\t   \r\n\t\t   \r\n         $('input').val(var_id);\r\n                \r\n            \r\n         });\r\n          \r\n      });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select&gt;\r\n\t&lt;option value=\"A\"&gt;A&lt;/option&gt;\r\n  &lt;option value=\"B\"&gt;B&lt;/option&gt;\r\n  &lt;option value=\"C\"&gt;C&lt;/option&gt;\r\n\t&lt;option value=\"D\"&gt;D&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;select&gt;\r\n  &lt;option value=\"1\"&gt;1&lt;/option&gt;\r\n  &lt;option value=\"2\"&gt;3&lt;/option&gt;\r\n  &lt;option value=\"4\"&gt;4&lt;/option&gt;\r\n  &lt;option value=\"5\"&gt;5&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;input type=\"text\" value=\"\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is the result I received:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NAVkL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAVkL.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is what I want:</p>\n\n<p><a href=\"https://i.stack.imgur.com/yVxWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yVxWx.png\" alt=\"enter image description here\"></a></p>\n\n<p>How to have a hyphen between two values?</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["javascript", "html", "shopping-cart"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1564599877, "post_id": 57297334, "comment_id": 101088841, "body": "You&#39;re asking people to go through a fair amount of code here. Can you please reduce this to just enough code to show the problem you&#39;re having? See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for more information."}, {"owner": {"reputation": 1990, "user_id": 3628806, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LIWvd.jpg?s=128&g=1", "display_name": "sinanspd", "link": "https://stackoverflow.com/users/3628806/sinanspd"}, "edited": false, "score": 0, "creation_date": 1564600190, "post_id": 57297334, "comment_id": 101088950, "body": "Why not use the unique IDs to look up if an item is already added and update if so? You could use a Set to simplify some of that"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 11854447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4N3cybGcRls/AAAAAAAAAAI/AAAAAAAA3nI/FJojZqgxr-A/photo.jpg?sz=128", "display_name": "JuliaH", "link": "https://stackoverflow.com/users/11854447/juliah"}, "is_accepted": false, "score": 0, "last_activity_date": 1564602600, "creation_date": 1564602600, "answer_id": 57297956, "question_id": 57297334, "link": "https://stackoverflow.com/questions/57297334/is-there-a-way-to-add-multiple-of-the-same-object-to-a-shopping-cart/57297956#57297956", "title": "Is there a way to add multiple of the same object to a shopping cart?", "body": "<p>Try to check if item is already in the cart before adding it. </p>\n\n<p>Before this line carrito.push(this.getAttribute('marcador')), check by ID if item is in carrito array, if yes follow your logic, if not - add function to increase item price to what you already have for that product (don't do just double, because it is possible, that you are adding the same item 3rd or 4th time). </p>\n"}], "owner": {"reputation": 21, "user_id": 11838719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-0lrl6f7GBps/AAAAAAAAAAI/AAAAAAAAEss/VbHE6V4Q618/photo.jpg?sz=128", "display_name": "Orion", "link": "https://stackoverflow.com/users/11838719/orion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564602600, "creation_date": 1564599631, "question_id": 57297334, "link": "https://stackoverflow.com/questions/57297334/is-there-a-way-to-add-multiple-of-the-same-object-to-a-shopping-cart", "title": "Is there a way to add multiple of the same object to a shopping cart?", "body": "<p>I'm programming a shopping cart of an online shop, and altough I already figured out most of it, when I add 2 of the same item the shopping cart shows it 2 times on the list instead of just one but doubling the price. Is there any way I can solve this without changing the majority of what I've already done?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onload = function () {\r\n            var baseDeDatos = [\r\n                {\r\n                    id: 1,\r\n                    nombre: 'Trim',\r\n                    precio: 1399,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/1.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 2,\r\n                    nombre: 'Rainbow',\r\n                    precio: 990,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/2.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 3,\r\n                    nombre: 'White',\r\n                    precio: 948,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/3.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 4,\r\n                    nombre: 'Cycle',\r\n                    precio: 550,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/4.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 5,\r\n                    nombre: 'Cellie',\r\n                    precio: 590,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/5.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 6,\r\n                    nombre: 'Leo',\r\n                    precio: 2890,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/6.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 7,\r\n                    nombre: 'Today',\r\n                    precio: 499,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/7.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 8,\r\n                    nombre: 'Sky',\r\n                    precio: 499,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/8.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 9,\r\n                    nombre: 'Regan',\r\n                    precio: 590,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/9.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 10,\r\n                    nombre: 'Polly',\r\n                    precio: 1399,\r\n                    categoria: 'Remera',\r\n                    img: 'img/10.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 11,\r\n                    nombre: 'June',\r\n                    precio: 799,\r\n                    categoria: 'Remera',\r\n                    img: 'img/11.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 12,\r\n                    nombre: 'Amy',\r\n                    precio: 1299,\r\n                    categoria: 'Remera',\r\n                    img: 'img/12.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 13,\r\n                    nombre: 'Tai',\r\n                    precio: 648,\r\n                    categoria: 'Top',\r\n                    img: 'img/13.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 14,\r\n                    nombre: 'Judy',\r\n                    precio: 3290,\r\n                    categoria: 'Remera',\r\n                    img: 'img/14.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                {\r\n                    id: 15,\r\n                    nombre: 'Grey',\r\n                    precio: 1090,\r\n                    categoria: 'Top',\r\n                    img: 'img/15.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                  {\r\n                    id: 16,\r\n                    nombre: 'Pinky',\r\n                    precio: 1090,\r\n                    categoria: 'Top',\r\n                    img: 'img/16.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                  {\r\n                    id: 17,\r\n                    nombre: 'Line',\r\n                    precio: 1090,\r\n                    categoria: 'Top',\r\n                    img: 'img/17.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                },\r\n                  {\r\n                    id: 18,\r\n                    nombre: 'Line',\r\n                    precio: 1090,\r\n                    categoria: 'Buzo',\r\n                    img: 'img/18.jpg',\r\n                    descripcion: 'Buzo con dise\u00f1o colorblock neon.'\r\n                }\r\n\r\n            ]\r\n            \r\n            var $items = document.querySelector('#items');\r\n            var carrito = [];\r\n            var total = 0;\r\n            var $carrito = document.querySelector('#carrito');\r\n            var $total = document.querySelector('#total');\r\n\r\n            function renderItems () {\r\n                for (var info of baseDeDatos) {\r\n\r\n                    var miNodo = document.createElement('div');\r\n                    miNodo.classList.add('card', 'col-md-6');\r\n                    \r\n                    var miNodoCardBody = document.createElement('div');\r\n                    miNodoCardBody.classList.add('card-body');\r\n\r\n                    var miNodoTitle = document.createElement('h5');\r\n                    miNodoTitle.classList.add('card-title');\r\n                    miNodoTitle.textContent = info['nombre'] + ' / ' + info['categoria'];\r\n                    \r\n                    var miNodoImg = document.createElement('img');\r\n                    miNodoImg.classList.add('card-text');\r\n                    miNodoImg.src = info['img'];\r\n                    \r\n                    var miNodoDesc = document.createElement('p');\r\n                    miNodoDesc.classList.add('card-text');\r\n                    miNodoDesc.textContent = info['descripcion'];\r\n\r\n                    var miNodoPrecio = document.createElement('h5');\r\n                    miNodoPrecio.classList.add('card-text');\r\n                    miNodoPrecio.textContent = '$' +info['precio'];\r\n\r\n                    var miNodoBoton = document.createElement('button');\r\n                    miNodoBoton.classList.add('btn', 'btn-primary');\r\n                    miNodoBoton.textContent = 'Agregar al carrito';\r\n                    miNodoBoton.setAttribute('marcador', info['id']);\r\n                    miNodoBoton.addEventListener('click', anyadirCarrito);\r\n\r\n                    miNodoCardBody.appendChild(miNodoImg);\r\n                    miNodoCardBody.appendChild(miNodoTitle);\r\n                    miNodoCardBody.appendChild(miNodoDesc);\r\n                    miNodoCardBody.appendChild(miNodoPrecio);\r\n                    miNodoCardBody.appendChild(miNodoBoton);\r\n                    miNodo.appendChild(miNodoCardBody);\r\n                    $items.appendChild(miNodo);\r\n                }\r\n            }\r\n            function anyadirCarrito () {\r\n                carrito.push(this.getAttribute('marcador'))\r\n                calcularTotal();\r\n                renderizarCarrito();\r\n\r\n            }\r\n\r\n            function renderizarCarrito () {\r\n                $carrito.textContent = '';\r\n                carrito.forEach(function (item, indice) {\r\n                    var miItem = baseDeDatos.filter(function(itemBaseDatos) {\r\n                        return itemBaseDatos['id'] == item;\r\n                    });\r\n                    var miNodo = document.createElement('li');\r\n                    miNodo.classList.add('list-group-item', 'text-right');\r\n                    miNodo.textContent = `${miItem[0]['nombre']} - $${miItem[0]['precio']}`;\r\n                    var miBoton = document.createElement('button');\r\n                    miBoton.classList.add('btn', 'btn-danger', 'mx-5');\r\n                    miBoton.textContent = 'X';\r\n                    miBoton.setAttribute('posicion', indice);\r\n                    miBoton.addEventListener('click', borrarItemCarrito);\r\n                    miNodo.appendChild(miBoton);\r\n                    $carrito.appendChild(miNodo);\r\n                })\r\n            }\r\n\r\n            function borrarItemCarrito () {\r\n                var posicion = this.getAttribute('posicion');\r\n                carrito.splice(posicion, 1);\r\n                renderizarCarrito();\r\n                calcularTotal();\r\n            }\r\n\r\n            function calcularTotal () {\r\n                total = 0;\r\n                for (var item of carrito) {\r\n                    var miItem = baseDeDatos.filter(function(itemBaseDatos) {\r\n                        return itemBaseDatos['id'] == item;\r\n                    });\r\n                    total = total + miItem[0]['precio'];\r\n                }\r\n                var totalDosDecimales = total.toFixed(2);\r\n                $total.textContent = totalDosDecimales;\r\n            }\r\n            renderItems();\r\n        } </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@import url('https://fonts.googleapis.com/css?family=Raleway:300,400,700');\r\n@import url(\"https://fonts.googleapis.com/css?family=Metal+Mania\");\r\n\r\n@font-face {\r\n    font-family: \"Booter - Zero Zero\";\r\n    src: url(\"Fonts/Booter - Zero Zero.woff\") format(\"woff\"),\r\n         url(\"Fonts/Booter - Zero Zero.woff2\") format(\"woff2\");\r\n    font-weight: normal;\r\n    font-style: normal;\r\n}\r\n\r\n* {\r\n    margin: 0;\r\n    padding: 0;\r\n    box-sizing: border-box;\r\n    font-family: Raleway;\r\n    color: #777;\r\n}\r\n\r\nbody{\r\n    background-color: #fffbed;\r\n}\r\n\r\nnav{\r\n    margin-bottom: 20px;\r\n}\r\n\r\nmain{\r\n    text-align: center;\r\n}\r\n\r\nul,\r\nli {\r\n    text-decoration: none;\r\n    list-style: none;\r\n}\r\n#logo {\r\n    background: url(img/LOGO.png);\r\n    width: 115px;\r\n    height: 25px;\r\n    font-size: 0;\r\n    position: fixed;\r\n    top: 24px;\r\n    left: 20px;\r\n    z-index: 1100;\r\n}\r\n.borrar:hover {\r\n    background-color: #f8051b;\r\n    opacity: 0.8;\r\n    transition: 0.5s;\r\n}\r\n\r\n.enviar:hover {\r\n    background-color: #009AAC;\r\n    opacity: 0.8;\r\n    transition: 0.5s;\r\n}\r\n.boton1{\r\n    background-color: #eb7681;\r\n}\r\n.boton2{\r\n    background-color: #78e5c3;\r\n}\r\nfooter{\r\n    background-color: #f0ffff;\r\n    background-size: cover;\r\n}\r\n\r\n.btn-primary {\r\n    color: white;\r\n    background-color: #f25656;\r\n    border: none;\r\n    border-radius: .3em;\r\n    font-weight: bold;\r\n}\r\n\r\n.btn-primary:hover {\r\n    background-color: #5f4141;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"es\"&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=\"UTF-8\"&gt;\r\n    &lt;title&gt;Final Dise\u00f1o y Programaci\u00f3n Web&lt;/title&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0\"&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"css/bootstrap.css\"&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"estilos.css\"&gt;\r\n    &lt;script src=\"java.js\"&gt;&lt;/script&gt;\r\n    \r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  \r\n   &lt;header class=\"container fixed-top \"&gt;\r\n        &lt;h1 id=\"logo\"&gt;Las Pepas&lt;/h1&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;nav class=\"col navbar fixed-top navbar-expand-md navbar-light bg-light \"&gt;\r\n                &lt;button class=\"navbar-toggler ml-auto\" type=\"button\" data-toggle=\"collapse\" data-target=\"#barra\" aria-controls=\"navbarNav\" aria-expanded=\"false\" aria-label=\"Toggle navigation\"&gt;\r\n                    &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\r\n                &lt;/button&gt;\r\n                &lt;div class=\"collapse navbar-collapse\" id=\"barra\"&gt;\r\n                    &lt;ul class=\"navbar-nav text-center mx-auto px-1\"&gt;\r\n                        &lt;li class=\"nav-item\"&gt;\r\n                            &lt;a class=\"nav-link\" href=\"#uno\" data-ancla=\"true\" data-tiempo=\"800\" data-freno=\"60\"&gt;Home&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                        &lt;li class=\"nav-item\"&gt;\r\n                            &lt;a class=\"nav-link\" href=\"#dos\" data-ancla=\"true\" data-tiempo=\"800\" data-freno=\"60\"&gt;Productos&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n        \r\n                        &lt;li class=\"nav-item\"&gt;\r\n                              &lt;a class=\"nav-link\" href=\"#tres\" data-ancla=\"true\" data-tiempo=\"800\" data-freno=\"60\"&gt;Contacto&lt;/a&gt;\r\n                        &lt;/li&gt;\r\n                      \r\n                    &lt;/ul&gt;\r\n                &lt;/div&gt;\r\n            &lt;/nav&gt;\r\n        &lt;/div&gt;\r\n    &lt;/header&gt;\r\n    &lt;section id=\"dos\"&gt;\r\n       &lt;div  class=\"container\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;main id=\"items\" class=\"col-sm-12 row pt-5 \"&gt;&lt;/main&gt;\r\n            &lt;aside class=\" pl-5 pt-5\"&gt;\r\n                &lt;h2&gt;Carrito&lt;/h2&gt;\r\n                &lt;ul id=\"carrito\" class=\"list-group\"&gt;&lt;/ul&gt;\r\n                &lt;hr&gt;\r\n                &lt;p class=\"text-right\"&gt;Total: &lt;span id=\"total\"&gt;&lt;/span&gt;&amp;dollar;&lt;/p&gt;\r\n            &lt;/aside&gt;\r\n        &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/section&gt;\r\n   &lt;section id=\"tres\" class=\"container\"&gt;\r\n         &lt;div class=\"row\"&gt;\r\n             &lt;div class=\"col-md-6 pb-3 my-auto mx-auto\"&gt;\r\n             &lt;h2 class=\"text-center\"&gt;Seguinos en nuestras redes&lt;/h2&gt;\r\n                  &lt;div class=\"row pl-2 d-flex justify-content-center align-items-center mr-5\"&gt;\r\n                    &lt;div class=\"col-2 pr-2\"&gt;\r\n                        &lt;ul&gt;\r\n                            &lt;li&gt;\r\n                                &lt;a href=\"https://es-la.facebook.com/\" target=\"_blank\"&gt;\r\n                                    &lt;img src=\"img/fb.png\" alt=\"Facebook\"&gt;\r\n                                &lt;/a&gt;\r\n                            &lt;/li&gt;\r\n                        &lt;/ul&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"col-2  pr-2\"&gt;\r\n                        &lt;ul&gt;\r\n                            &lt;li&gt;\r\n                                &lt;a href=\"https://twitter.com/?lang=es/\" target=\"_blank\"&gt;\r\n                                    &lt;img src=\"img/tw.png\" alt=\"Twitter\"&gt;\r\n                                &lt;/a&gt;\r\n                            &lt;/li&gt;\r\n                        &lt;/ul&gt;\r\n                    &lt;/div&gt;\r\n                      \r\n                    &lt;div class=\"col-2  pr-2\"&gt;\r\n                        &lt;ul&gt;\r\n                            &lt;li&gt;\r\n                                &lt;a href=\"https://www.instagram.com/?hl=es-la\" target=\"_blank\"&gt;\r\n                                    &lt;img src=\"img/ig.png\" alt=\"Instagram\"&gt;\r\n                                &lt;/a&gt;\r\n                            &lt;/li&gt;\r\n                        &lt;/ul&gt;\r\n                    &lt;/div&gt;\r\n               \r\n           &lt;/div&gt;\r\n            &lt;/div&gt;\r\n           &lt;div class=\" col-md-6 col-11  text-md-left text-center ml-md-0 ml-4\"&gt;\r\n            &lt;aside class=\"col-lg-10\"&gt;\r\n\r\n                &lt;h3 class=\"text-center mt-5\"&gt;\u00a1Contactanos!&lt;/h3&gt;\r\n                \r\n                &lt;form action=\"enviar_formulario.php\" method=\"post\" enctype=\"multipart/form-data\"&gt;\r\n                    &lt;div class=\"form-group\"&gt;\r\n                        &lt;label for=\"nombre\"&gt;Nombre&lt;/label&gt;\r\n                        &lt;input type=\"text\" class=\"form-control bordes\" id=\"nombre\" placeholder=\"Nombre...\" name=\"nombre\"&gt;\r\n                    &lt;/div&gt;\r\n                       \r\n\r\n                    &lt;div class=\"form-group\"&gt;\r\n                        &lt;label for=\"mail\"&gt;Email&lt;/label&gt;\r\n                        &lt;input type=\"email\" class=\"form-control bordes\" id=\"mail\" placeholder=\"email...\"  name=\"mail\"&gt;\r\n                    &lt;/div&gt;\r\n\r\n                    &lt;div class=\"form-group\"&gt;\r\n                        &lt;label for=\"comentario\"&gt;Consulta&lt;/label&gt;\r\n                        &lt;textarea id=\"comentario\" class=\"form-control bordes\" cols=\"30\" rows=\"5\" name=\"comentario\"&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                                    \r\n                    &lt;input type=\"reset\" value=\"Borrar\" class=\"btn boton1 borrar my-5\"&gt;\r\n                    &lt;input type=\"submit\" value=\"Enviar\" class=\"btn boton2 enviar my-5\"&gt;\r\n\r\n                &lt;/form&gt;\r\n            &lt;/aside&gt;\r\n        &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        \r\n    &lt;/section&gt;\r\n    \r\n     &lt;footer class=\"opacity p-3 text-center\" &gt;\r\n        \r\n       &lt;p class=\"bold\"&gt; Dise\u00f1o y Programaci\u00f3n web - DMM3A - 2019&lt;/p&gt;\r\n        \r\n    &lt;/footer&gt;\r\n    &lt;script src=\"js/jquery-3.3.1.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"js/bootstrap.bundle.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"js/animaScroll.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"js/marcaBoton.js\"&gt;&lt;/script&gt;\r\n    &lt;script src=\"js/header02.js\"&gt;&lt;/script&gt;\r\n    &lt;script&gt;\r\n        $('.nav-item').on('click', function() {\r\n            $(\".navbar-collapse\").collapse(\"hide\");\r\n        })\r\n    &lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "python", "mongodb", "pymongo"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11012518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P9BokWwBCAY/AAAAAAAAAAI/AAAAAAAA6LA/e2H6DvHu9As/photo.jpg?sz=128", "display_name": "Rahul K", "link": "https://stackoverflow.com/users/11012518/rahul-k"}, "edited": false, "score": 0, "creation_date": 1564637619, "post_id": 57301178, "comment_id": 101097850, "body": "Thanks for the solution. Yes , the corner case when dot is not followed by space fails.But I have got a start now"}], "tags": [], "owner": {"reputation": 2730, "user_id": 11857981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KZpHg.jpg?s=128&g=1", "display_name": "Himanshu Sharma", "link": "https://stackoverflow.com/users/11857981/himanshu-sharma"}, "is_accepted": true, "score": 0, "last_activity_date": 1564627359, "creation_date": 1564627359, "answer_id": 57301178, "question_id": 57297270, "link": "https://stackoverflow.com/questions/57297270/how-to-pass-multiple-delimiters-into-the-split-pipeline-function-in-mongodb-que/57301178#57301178", "title": "How to pass multiple delimiters into the $split pipeline function in mongodb query?", "body": "<p>You cannot pass regex as a delimiter in $split. Have a look at <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/split/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/reference/operator/aggregation/split/</a>.</p>\n\n<p>If 'foo' follows English rules i.e. space would be followed by a comma and full-stop then the following query would work for you. We are splitting the words on white space and them trimming out comma and full-stop from each word.</p>\n\n<pre><code>db.collection.aggregate([\n    {\n        $project:{\n            \"words\":{\n                $split:[\"$foo\",\" \"]\n            }\n        }\n    },\n    {\n        $project:{\n            \"words\":{\n                $map:{\n                    \"input\":\"$words\",\n                    \"as\":\"word\",\n                    \"in\":{\n                        $trim:{\n                            \"input\": \"$$word\",\n                            \"chars\": \" .,\"\n                        }\n                    }\n                }\n            }\n        }\n    },\n    {\n        $unwind:\"$words\"\n    },\n    {\n        $group:{\n            \"_id\":\"$words\",\n            \"word\":{\n                $first:\"$words\"\n            },\n            \"count\":{\n                $sum:1\n            }\n        }\n    },\n    {\n        $project:{\n            \"_id\":0\n        }\n    }\n]).pretty()\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{ \"word\" : \"bad\", \"count\" : 1 }\n{ \"word\" : \"is\", \"count\" : 1 }\n{ \"word\" : \"i\", \"count\" : 1 }\n{ \"word\" : \"product\", \"count\" : 2 }\n{ \"word\" : \"like\", \"count\" : 1 }\n{ \"word\" : \"3\", \"count\" : 1 }\n{ \"word\" : \"1\", \"count\" : 1 }\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11012518, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-P9BokWwBCAY/AAAAAAAAAAI/AAAAAAAA6LA/e2H6DvHu9As/photo.jpg?sz=128", "display_name": "Rahul K", "link": "https://stackoverflow.com/users/11012518/rahul-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 57301178, "answer_count": 1, "score": 1, "last_activity_date": 1564627359, "creation_date": 1564599306, "question_id": 57297270, "link": "https://stackoverflow.com/questions/57297270/how-to-pass-multiple-delimiters-into-the-split-pipeline-function-in-mongodb-que", "title": "How to pass multiple delimiters into the $split pipeline function in mongodb query?", "body": "<p>I need to split the string based on multiple delimiters namely comma,space and dot.\nHow can I pass this to the $split function?</p>\n\n<p>I tried \" |.|,\" in the second argument, but it did not work.</p>\n\n<p>Sample collection structure:</p>\n\n<pre><code>[\n  {\n    \"foo\": \"i like product 1\",\n\n  },\n   {\n    \"foo\": \"product 3, is bad\",\n\n  },\n]\n</code></pre>\n\n<p>//Query that I tried:</p>\n\n<pre><code>db.collection.aggregate([\n  {\n    $project: {\n      words: {\n        $split: [\n          \"$foo\",\n          \" |.|,\"\n        ]\n      }\n    }\n  },\n  {\n    $unwind: {\n      path: \"$words\"\n    }\n  },\n  {\n    $group: {\n      _id: \"$words\",\n      count: {\n        $sum: 1\n      }\n    }\n  }\n])\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "wordpress", "enqueue"], "comments": [{"owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1564601265, "post_id": 57297263, "comment_id": 101089412, "body": "Did the buttons that stopped working have any of the classes in your modal JS, e.g. &#39;modal&#39; or &#39;close-button&#39;"}, {"owner": {"reputation": 100, "user_id": 7722123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af63080bebb136f8c7f9f65ce9f6f67?s=128&d=identicon&r=PG&f=1", "display_name": "shaun21uk", "link": "https://stackoverflow.com/users/7722123/shaun21uk"}, "reply_to_user": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1564602092, "post_id": 57297263, "comment_id": 101089755, "body": "Unfortunately no: class=&quot;wait-for-click&quot;  There may be other things not working due to this conflict, perhaps I should go ahead and rename everything anyway just to be safe."}, {"owner": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1564602444, "post_id": 57297263, "comment_id": 101089894, "body": "Instead of the event listener on <code>window</code> at the end, can you just put that on <code>modal</code> directly, i.e. <code>modal.addEventListener(&quot;click&quot;, toggleModal)</code>? All the windowOnClick appears to be doing is checking it it&#39;s target is the <code>modal</code> variable anyway."}, {"owner": {"reputation": 100, "user_id": 7722123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af63080bebb136f8c7f9f65ce9f6f67?s=128&d=identicon&r=PG&f=1", "display_name": "shaun21uk", "link": "https://stackoverflow.com/users/7722123/shaun21uk"}, "reply_to_user": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1564602788, "post_id": 57297263, "comment_id": 101090017, "body": "No I can&#39;t.  My modal contains an ajax form so the user needs to click a button within the modal.  Doing that just closes it. I edited the code and changed all the names in the above modal code just to avoid naming issues."}, {"owner": {"reputation": 100, "user_id": 7722123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af63080bebb136f8c7f9f65ce9f6f67?s=128&d=identicon&r=PG&f=1", "display_name": "shaun21uk", "link": "https://stackoverflow.com/users/7722123/shaun21uk"}, "reply_to_user": {"reputation": 795, "user_id": 1784018, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/0z3Z8.png?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/1784018/bryan"}, "edited": false, "score": 0, "creation_date": 1564603827, "post_id": 57297263, "comment_id": 101090392, "body": "Ok, it seems starting from the bottom-up.  After commenting out these two lines, the buttons work again: //my_modal_trigger.addEventListener(&quot;click&quot;, my_modal_toggleModal); //my_modal_closeButton.addEventListener(&quot;click&quot;, my_modal_toggleModal);"}], "owner": {"reputation": 100, "user_id": 7722123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af63080bebb136f8c7f9f65ce9f6f67?s=128&d=identicon&r=PG&f=1", "display_name": "shaun21uk", "link": "https://stackoverflow.com/users/7722123/shaun21uk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564606917, "creation_date": 1564599267, "last_edit_date": 1564606917, "question_id": 57297263, "link": "https://stackoverflow.com/questions/57297263/registering-my-custom-modal-js-conflicts-with-wordpress-jquery", "title": "Registering my custom modal.js conflicts with Wordpress Jquery", "body": "<p>I noticed that some buttons stopped working in my theme so I started debugging and found the issue to be with my modal script registration.</p>\n\n<p>Please can somebody tell me how this is causing an issue?  I have registered and enqueued several other files just fine in the same way.</p>\n\n<pre><code>public function __construct()\n    {\n        add_action( 'wp_enqueue_scripts', array( $this, 'scripts' ) );\n}\n\nfunction scripts() {\n\n        wp_register_script( 'modal_script', plugin_dir_url( __FILE__ ) . 'js/modal.js', array( 'jquery'), NULL, false );\n        wp_register_style( 'modal_css', plugin_dir_url( __FILE__ ) . 'css/modal.css');\n        wp_enqueue_script( 'modal_script' );\n        wp_enqueue_style( 'modal_css');\n}\n</code></pre>\n\n<p>and the modal.js file which is causing the conflict (or the way I am registering/enqueuing):</p>\n\n<pre><code>    (function ($) {\n\n    \"use strict\";\n\n$(document).ready(function () {\nvar my_modal_modal = document.querySelector(\".my-modal-modal\");\nvar my_modal_trigger = document.querySelector(\".my-modal-trigger\");\nvar my_modal_closeButton = document.querySelector(\".my-modal-close-button\");\n\nfunction my_modal_toggleModal() {\n    my_modal_modal.classList.toggle(\"show-modal\");\n}\n\nfunction my_modal_windowOnClick(event) {\n    if (event.target === my-modal-modal) {\n        my_modal_toggleModal();\n    }\n}\n\nmy_modal_trigger.addEventListener(\"click\", my_modal_toggleModal);\nmy_modal_closeButton.addEventListener(\"click\", my_modal_toggleModal);\nwindow.addEventListener(\"click\", my_modal_windowOnClick);\n\n})\n})(jQuery);\n</code></pre>\n\n<p>Thanks in advance for any suggestions.</p>\n\n<p><strong>EDIT:\nConsole output:</strong></p>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot read property 'addEventListener' of null\n      at HTMLDocument. (modal.js:21)\n      at i (jquery.js?ver=1.12.4-wp:2)\n      at Object.fireWith [as resolveWith] (jquery.js?ver=1.12.4-wp:2)\n      at Function.ready (jquery.js?ver=1.12.4-wp:2)\n      at HTMLDocument.J (jquery.js?ver=1.12.4-wp:2)</p>\n</blockquote>\n\n<p><strong>UPDATED: SOLVED</strong></p>\n\n<p>Well after narrowing it down to 2 lines of code I just decided to re-write the triggers in jQuery and it worked.  I think I will continue to re-write the whole file to tidy it up.</p>\n"}, {"tags": ["javascript", "encryption", "rsa", "public-key-encryption", "cryptojs"], "comments": [{"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 0, "creation_date": 1564599439, "post_id": 57297239, "comment_id": 101088663, "body": "Possible Duplicate -&gt; <a href=\"https://stackoverflow.com/questions/17685645/rsa-encryption-javascript\" title=\"rsa encryption javascript\">stackoverflow.com/questions/17685645/rsa-encryption-javascri&zwnj;&#8203;pt</a>"}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1564599544, "post_id": 57297239, "comment_id": 101088708, "body": "I think it&#39;s rather a duplicate of <a href=\"https://stackoverflow.com/questions/8750780/encrypting-data-with-public-key-in-node-js\">Encrypting data with Public Key in node.js</a>"}, {"owner": {"reputation": 453, "user_id": 10418519, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6dbpB7Uh0aI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXb6fNasZM2YqM_TtQgH-DJ1dAB4A/mo/photo.jpg?sz=128", "display_name": "anwesh mohapatra", "link": "https://stackoverflow.com/users/10418519/anwesh-mohapatra"}, "edited": false, "score": 0, "creation_date": 1564629841, "post_id": 57297239, "comment_id": 101096139, "body": "tried using crypto js to encrypt and looks like it&#39;s failing. Any help is appreciated."}], "answers": [{"tags": [], "owner": {"reputation": 1588, "user_id": 5809394, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JrBnU876X4o/AAAAAAAAAAI/AAAAAAAABuQ/NCberXLApWE/photo.jpg?sz=128", "display_name": "junho", "link": "https://stackoverflow.com/users/5809394/junho"}, "is_accepted": false, "score": 4, "last_activity_date": 1578752257, "creation_date": 1578752257, "answer_id": 59695234, "question_id": 57297239, "link": "https://stackoverflow.com/questions/57297239/how-to-encrypt-data-in-javascript-with-rsa-public-key/59695234#59695234", "title": "How to Encrypt Data in Javascript with RSA public key?", "body": "<p>you should add <code>-----BEGIN PUBLIC KEY-----</code> and <code>-----END PUBLIC KEY-----</code></p>\n\n<p>like this</p>\n\n<pre><code>-----BEGIN PUBLIC KEY-----\nMIGfMA0GCSqGSIb3DQE...\n-----END PUBLIC KEY-----`\n</code></pre>\n"}], "owner": {"reputation": 453, "user_id": 10418519, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6dbpB7Uh0aI/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DXb6fNasZM2YqM_TtQgH-DJ1dAB4A/mo/photo.jpg?sz=128", "display_name": "anwesh mohapatra", "link": "https://stackoverflow.com/users/10418519/anwesh-mohapatra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6588, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1614647524, "creation_date": 1564599170, "last_edit_date": 1564629724, "question_id": 57297239, "link": "https://stackoverflow.com/questions/57297239/how-to-encrypt-data-in-javascript-with-rsa-public-key", "title": "How to Encrypt Data in Javascript with RSA public key?", "body": "<p>Server generates RSA public and private keys and store them in the session. Over a server call the client html page recieves the public key. Now I want to encrypt data using it. I have tried using jsencrypt but it doesn't recognize the public key my server generates. Gives false when I call encrypt after setting the public key. I think the key is 2048 bits. Not sure about the encoding though. How to encrypt data using this key? Any help is appreciated.</p>\n\n<pre><code>Sample public key generated by server: 9995362445e0a98f4da3019f6f3eb960f938056972408675c0b3f642ad5943709f8e8031f00bba6ed24bad1e8e2b099cd154b5eb5b64b310d179b39abb4392442cdb8ad3fe8bc6e3088bd63089d405fb134c633de62b741e4c5bd615b90e096ec3bb16f71ef54825febc5662a96c093db986225825a1cc63d4dc19e2abbbfb1cb9d3a5e41f757ce3f82481a5caf92207ffe4c37e8acc43835dce49cf61a6b113384d333050b6ac59ef78a182bae114b08729e84cbad659eb8bace0481aa51a370daac09f97d779be245ce95af85a285d0ea170da732f9eef2e43a21f5586014ea00259ef09498356eaf2d4e492f0f8978ca167c3f690b35045a8dd1c7ccf4347\n</code></pre>\n\n<p>Edit: As suggested by many, I tried using crypto:</p>\n\n<pre><code>let crypto;\ntry {\n  crypto = require('crypto');\n} catch (err) {\n  console.log('crypto support is disabled!');\n}\nvar encryptStringWithRsaPublicKey = function(toEncrypt, publicKey) {\n  var buffer = Buffer.from(toEncrypt,'utf8');\n  var encrypted = crypto.publicEncrypt(publicKey, buffer);\n  return encrypted.toString(\"base64\");\n};\nconsole.log(encryptStringWithRsaPublicKey('MyText','9995362445e0a98f4da3019f6f3eb960f938056972408675c0b3f642ad5943709f8e8031f00bba6ed24bad1e8e2b099cd154b5eb5b64b310d179b39abb4392442cdb8ad3fe8bc6e3088bd63089d405fb134c633de62b741e4c5bd615b90e096ec3bb16f71ef54825febc5662a96c093db986225825a1cc63d4dc19e2abbbfb1cb9d3a5e41f757ce3f82481a5caf92207ffe4c37e8acc43835dce49cf61a6b113384d333050b6ac59ef78a182bae114b08729e84cbad659eb8bace0481aa51a370daac09f97d779be245ce95af85a285d0ea170da732f9eef2e43a21f5586014ea00259ef09498356eaf2d4e492f0f8978ca167c3f690b35045a8dd1c7ccf4347'));\n</code></pre>\n\n<p>It is throwing the below error:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property '2' of null\n    at push../node_modules/parse-asn1/fixProc.js.module.exports (fixProc.js:19)\n    at parseKeys (index.js:27)\n    at Object.publicEncrypt (publicEncrypt.js:30)\n    at encryptStringWithRsaPublicKey (App.js:20)\n    at Module.&lt;anonymous&gt; (App.js:23)\n    at Module../src/App.js (App.js:727)\n    at __webpack_require__ (bootstrap:781)\n    at fn (bootstrap:149)\n    at Module../src/index.js (index.css?f3f6:45)\n    at __webpack_require__ (bootstrap:781)\n    at fn (bootstrap:149)\n    at Object.0 (test.css?2a93:45)\n    at __webpack_require__ (bootstrap:781)\n    at checkDeferredModules (bootstrap:45)\n    at Array.webpackJsonpCallback [as push] (bootstrap:32)\n    at main.chunk.js:1\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "string", "express", "body-parser"], "comments": [{"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "edited": false, "score": 0, "creation_date": 1564599533, "post_id": 57297235, "comment_id": 101088699, "body": "can you show how are you sending the data?"}, {"owner": {"reputation": 5178, "user_id": 3941627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vn1Ss.jpg?s=128&g=1", "display_name": "UtkarshPramodGupta", "link": "https://stackoverflow.com/users/3941627/utkarshpramodgupta"}, "edited": false, "score": 0, "creation_date": 1564599640, "post_id": 57297235, "comment_id": 101088747, "body": "Try making a similar request using Postman (or curl) to your backend and let me know if it still happens."}, {"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "reply_to_user": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "edited": false, "score": 0, "creation_date": 1564599728, "post_id": 57297235, "comment_id": 101088784, "body": "@MohammedAmirAnsari edited, a jquery ajax call"}, {"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "reply_to_user": {"reputation": 5178, "user_id": 3941627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vn1Ss.jpg?s=128&g=1", "display_name": "UtkarshPramodGupta", "link": "https://stackoverflow.com/users/3941627/utkarshpramodgupta"}, "edited": false, "score": 0, "creation_date": 1564599777, "post_id": 57297235, "comment_id": 101088805, "body": "@UtkarshPramodGupta my bad, I did test with postman and with postman it was fine that backend reads as array of numbers. But what I posted above for <code>const data = </code> is what I <code>console.log</code> the values right before <code>ajax</code> call though"}, {"owner": {"reputation": 5178, "user_id": 3941627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vn1Ss.jpg?s=128&g=1", "display_name": "UtkarshPramodGupta", "link": "https://stackoverflow.com/users/3941627/utkarshpramodgupta"}, "edited": false, "score": 0, "creation_date": 1564631334, "post_id": 57297235, "comment_id": 101096422, "body": "@Dora don&#39;t console.log, check in the network request using browser&#39;s dev tools what is actually being sent to the backend."}, {"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "reply_to_user": {"reputation": 5178, "user_id": 3941627, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vn1Ss.jpg?s=128&g=1", "display_name": "UtkarshPramodGupta", "link": "https://stackoverflow.com/users/3941627/utkarshpramodgupta"}, "edited": false, "score": 0, "creation_date": 1564679034, "post_id": 57297235, "comment_id": 101119746, "body": "@UtkarshPramodGupta I added an image of the data from the network request tab"}, {"owner": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "edited": false, "score": 0, "creation_date": 1564679163, "post_id": 57297235, "comment_id": 101119809, "body": "Does it help if you send it as JSON instead? Maybe it can&#39;t tell the difference between a string and a number in the URL encoded data."}, {"owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "reply_to_user": {"reputation": 5782, "user_id": 2832398, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/356c99a077310a35816f852423859f4c?s=128&d=identicon&r=PG&f=1", "display_name": "lilezek", "link": "https://stackoverflow.com/users/2832398/lilezek"}, "edited": false, "score": 0, "creation_date": 1564681852, "post_id": 57297235, "comment_id": 101120911, "body": "@lilezek already send it as json :| and using <code>post</code> instead of <code>get</code> with params or there is something I am missing &gt;.&lt;&quot;"}], "owner": {"reputation": 4960, "user_id": 1850712, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc0a5a588aafc7a1e42dcb9a5f9b975b?s=128&d=identicon&r=PG", "display_name": "Dora", "link": "https://stackoverflow.com/users/1850712/dora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564679001, "creation_date": 1564599162, "last_edit_date": 1564679001, "question_id": 57297235, "link": "https://stackoverflow.com/questions/57297235/expressjs-with-bodyparser-giving-array-of-numbers-as-array-of-string", "title": "expressjs with bodyParser giving array of numbers as array of string", "body": "<p>Somehow I realized that when I pass array of numbers to the backend <code>expressjs</code> I I would get array of strings instead of numbers.</p>\n\n<p>This is the ajax code for sending the data</p>\n\n<pre><code>$.ajax({\n    method: 'post',\n    url: this.url.ajax.send,\n    data,\n})\n</code></pre>\n\n<p>This is the values I have in frontend passing to backend</p>\n\n<pre><code>const data = {\n  \"type\": [\n    1,\n    2\n  ],\n  \"to\": [\n    0\n  ],\n  \"message\": \"testing message here\"\n}\n</code></pre>\n\n<p>this is what I get in my backend <code>req.body</code></p>\n\n<pre><code>{ type: [ '1', '2' ],\n  to: [ '0' ],\n  message: 'testing message here' } \n</code></pre>\n\n<p>I do have <code>bodyParser</code> setup like such</p>\n\n<pre><code>app.use(bodyParser.urlencoded({\n    extended: true,\n    parameterLimit: 2000000,  // too many parameter if not set\n    limit: 1024 * 1024 * 10  // entity too large if not set\n}));\napp.use(bodyParser.json({\n    extended: true,\n    parameterLimit: 2000000,  // too many parameter if not set\n    limit: 1024 * 1024 * 10  // entity too large if not set\n}));\n</code></pre>\n\n<p>Is this normal or any way I can fix it?</p>\n\n<p>EDIT: This is an image I see from network tab in chrome's inspect tool\n<a href=\"https://i.stack.imgur.com/synCm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/synCm.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "express", "request", "recaptcha"], "comments": [{"owner": {"reputation": 16548, "user_id": 116249, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/708a683d5bb4268584636d6d2c9cbf98?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/116249/patrick"}, "edited": false, "score": 0, "creation_date": 1564600208, "post_id": 57297228, "comment_id": 101088958, "body": "Can&#39;t you have the email sent in the same handler, and then return one success status for when captcha <i>and</i> an email has been sent successfully?"}, {"owner": {"reputation": 2382, "user_id": 10404891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479895ee0845c56f3d6f40887e9e61f?s=128&d=identicon&r=PG&f=1", "display_name": "iLiA", "link": "https://stackoverflow.com/users/10404891/ilia"}, "reply_to_user": {"reputation": 16548, "user_id": 116249, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/708a683d5bb4268584636d6d2c9cbf98?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/116249/patrick"}, "edited": false, "score": 0, "creation_date": 1564601304, "post_id": 57297228, "comment_id": 101089430, "body": "return res.status(200).send({                        ^  TypeError: res.status is not a function"}], "answers": [{"comments": [{"owner": {"reputation": 2382, "user_id": 10404891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479895ee0845c56f3d6f40887e9e61f?s=128&d=identicon&r=PG&f=1", "display_name": "iLiA", "link": "https://stackoverflow.com/users/10404891/ilia"}, "edited": false, "score": 0, "creation_date": 1564601827, "post_id": 57297601, "comment_id": 101089652, "body": "thanks it worked i just deleted res.status 200 in request block"}, {"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "reply_to_user": {"reputation": 2382, "user_id": 10404891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479895ee0845c56f3d6f40887e9e61f?s=128&d=identicon&r=PG&f=1", "display_name": "iLiA", "link": "https://stackoverflow.com/users/10404891/ilia"}, "edited": false, "score": 0, "creation_date": 1564601951, "post_id": 57297601, "comment_id": 101089697, "body": "Glad to help. Happy Coding :)"}], "tags": [], "owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "is_accepted": true, "score": 1, "last_activity_date": 1564600825, "creation_date": 1564600825, "answer_id": 57297601, "question_id": 57297228, "link": "https://stackoverflow.com/questions/57297228/how-to-notify-client-that-recaptcha-is-successful/57297601#57297601", "title": "how to notify client that reCaptcha is successful", "body": "<p>You cannot send multiple response for a single request. You can go with either:\n1. Send the mail in the same controller, and when its done successfully, then only send the response back to client. Your response will be based on both factors ie. captcha validation and email sent response\n<strong>or</strong> 2. if you don't wanna wait for the email process.. Just send response once your captcha is verified.. and keep the mail process execution in background. In this case you need to remove the <strong>return</strong> keyword or else your request will end there and mail process won't execute.</p>\n\n<p>However, I'll suggest you to go with the first approach. Hope this helps :)</p>\n"}], "owner": {"reputation": 2382, "user_id": 10404891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0479895ee0845c56f3d6f40887e9e61f?s=128&d=identicon&r=PG&f=1", "display_name": "iLiA", "link": "https://stackoverflow.com/users/10404891/ilia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57297601, "answer_count": 1, "score": -1, "last_activity_date": 1564600825, "creation_date": 1564599120, "question_id": 57297228, "link": "https://stackoverflow.com/questions/57297228/how-to-notify-client-that-recaptcha-is-successful", "title": "how to notify client that reCaptcha is successful", "body": "<p>Hello i have simple form where i have google reCaptcha v2 and when user submits form i am validating recaptcha but i also send email to user inputted email and i need to send status 200 two times here is first time where i need to send it</p>\n\n<pre><code>request(verifyURL, (err, res, body)=&gt;{\n        body = JSON.parse(body);\n        if(body.success !== undefined &amp;&amp; !body.success){\n            return res.status(409).send({\n                success: false,\n                message: '\u10d3\u10d0\u10d3\u10d0\u10e1\u10e2\u10e3\u10e0\u10d4\u10d1\u10d0 \u10d5\u10d4\u10e0 \u10d5\u10dd\u10ee\u10d4\u10e0\u10ee\u10d3\u10d0'\n            })\n        }\n      return res.status(200).send({success: true})   \n}) \n</code></pre>\n\n<p>so if i send status code 200 and use return statement, won't it cause </p>\n\n<blockquote>\n  <p>Can't set headers after they are sent</p>\n</blockquote>\n\n<p>error?\nif it will how can i fix it?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "json", "hashtable"], "comments": [{"owner": {"reputation": 2570, "user_id": 2618606, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/93716420df191b126096120e4bad1f7b?s=128&d=identicon&r=PG", "display_name": "Razvan", "link": "https://stackoverflow.com/users/2618606/razvan"}, "edited": false, "score": 3, "creation_date": 1564598720, "post_id": 57297107, "comment_id": 101088345, "body": "It&#39;s not clear what you want to achieve. Do you want to parse the data returned by the API you are consuming? To what format?"}, {"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 0, "creation_date": 1564598888, "post_id": 57297107, "comment_id": 101088417, "body": "So many misunderstandings with the site here :( Generally SO requires a default level of research for this. If you had, you would have probably found <code>.split</code> at MDN. SO also requires that there be more than just a description of work to do. There needs to be a problem to solve, not a job to complete. In the future, please try to consider that the system here is setup to help you solve problems, not to do the work for you."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 1, "creation_date": 1564598919, "post_id": 57297107, "comment_id": 101088435, "body": "Take  a few minutes to read through <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>. Then edit the question explaining what the output is that you want as well as showing us whatever you have tried to resolve the issue yourself"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 10594899, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kj_oq-ugVV8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB3fsgHVfxp_abFDlagrdOEzZCZBQ/mo/photo.jpg?sz=128", "display_name": "patrick", "link": "https://stackoverflow.com/users/10594899/patrick"}, "edited": false, "score": 0, "creation_date": 1564600898, "post_id": 57297168, "comment_id": 101089252, "body": "prints out only Tuesday instead of all three with day,date and time"}, {"owner": {"reputation": 414, "user_id": 11784957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lEBVfC-0BSI/AAAAAAAAAAI/AAAAAAAAAEM/odmvgsq31zQ/photo.jpg?sz=128", "display_name": "Iiskaandar", "link": "https://stackoverflow.com/users/11784957/iiskaandar"}, "reply_to_user": {"reputation": 41, "user_id": 10594899, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kj_oq-ugVV8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB3fsgHVfxp_abFDlagrdOEzZCZBQ/mo/photo.jpg?sz=128", "display_name": "patrick", "link": "https://stackoverflow.com/users/10594899/patrick"}, "edited": false, "score": 0, "creation_date": 1564601088, "post_id": 57297168, "comment_id": 101089328, "body": "yes, i know, it was only example of code you can use"}], "tags": [], "owner": {"reputation": 414, "user_id": 11784957, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lEBVfC-0BSI/AAAAAAAAAAI/AAAAAAAAAEM/odmvgsq31zQ/photo.jpg?sz=128", "display_name": "Iiskaandar", "link": "https://stackoverflow.com/users/11784957/iiskaandar"}, "is_accepted": false, "score": 1, "last_activity_date": 1564598894, "creation_date": 1564598894, "answer_id": 57297168, "question_id": 57297107, "link": "https://stackoverflow.com/questions/57297107/getting-multiple-values-out-of-a-key-in-hashtable/57297168#57297168", "title": "Getting multiple values out of a key in hashtable", "body": "<p>If you want to get individual data, for example day, key etc. you can make something like this:</p>\n\n<pre><code>const apiValue = [{\n        \"key\": \"Time\",\n        \"value\": \"\\nTuesday, July 30, 2019 5:34:16 PM\\nMonday, July 29, 2019 3:23:20 PM\\nMonday, July 29, 2019 1:54:05 PM\"\n    }]\nconst key = apiValue[0].key;\nconst day = apiValue[0].value.split('\\n')[1].split(',')[0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "is_accepted": true, "score": 0, "last_activity_date": 1564599648, "last_edit_date": 1564599648, "creation_date": 1564599244, "answer_id": 57297259, "question_id": 57297107, "link": "https://stackoverflow.com/questions/57297107/getting-multiple-values-out-of-a-key-in-hashtable/57297259#57297259", "title": "Getting multiple values out of a key in hashtable", "body": "<p>I think this is what you're trying to do:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const myDiv = document.getElementById(\"myDiv\");\r\nconst data = [\r\n  {\r\n    \"key\": \"Time\",\r\n    \"value\": \"\\nTuesday, July 30, 2019 5:34:16 PM\\nMonday, July 29, 2019 3:23:20 PM\\nMonday, July 29, 2019 1:54:05 PM\"\r\n  }\r\n];\r\n\r\nlet items = data[0].value.split(\"\\n\"); // Splits value between \"\\n\", making an array\r\nfor (let item of items){ // Loops through items in the array, processing each in turn\r\n  if(item.length &gt; 0){ // Ignores items that are empty strings\r\n    myDiv.innerHTML += item + \"&lt;br /&gt;\"; // Adds the item and a line break to the div\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id= \"myDiv\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 10594899, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kj_oq-ugVV8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbB3fsgHVfxp_abFDlagrdOEzZCZBQ/mo/photo.jpg?sz=128", "display_name": "patrick", "link": "https://stackoverflow.com/users/10594899/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "closed_date": 1565411872, "accepted_answer_id": 57297259, "answer_count": 2, "score": -2, "last_activity_date": 1564599648, "creation_date": 1564598550, "question_id": 57297107, "link": "https://stackoverflow.com/questions/57297107/getting-multiple-values-out-of-a-key-in-hashtable", "closed_reason": "Needs details or clarity", "title": "Getting multiple values out of a key in hashtable", "body": "<p>I have an output from an API which gives multiple value want them to prettify as an indivual output in javascript</p>\n\n<pre><code>[\n    {\n        \"key\": \"Time\",\n        \"value\": \"\\nTuesday, July 30, 2019 5:34:16 PM\\nMonday, July 29, 2019 3:23:20 PM\\nMonday, July 29, 2019 1:54:05 PM\"\n    }\n]\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "edited": false, "score": 4, "creation_date": 1564598489, "post_id": 57297006, "comment_id": 101088236, "body": "You need to <b>authenticate</b> AND <b>validate</b> data arriving from the frontend."}, {"owner": {"reputation": 2686, "user_id": 2707463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76031d5564f867116f572924475347dd?s=128&d=identicon&r=PG&f=1", "display_name": "JohnnyAW", "link": "https://stackoverflow.com/users/2707463/johnnyaw"}, "edited": false, "score": 1, "creation_date": 1564598677, "post_id": 57297006, "comment_id": 101088328, "body": "well, you can&#39;t. Everything you do on the client side to encode data can be manipulated"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1564598749, "post_id": 57297006, "comment_id": 101088358, "body": "<code>I can verify if the data correct or not, but it would be so hard.</code> well, that&#39;s what you have to do though. There&#39;s no magical shortcut."}, {"owner": {"reputation": 1, "user_id": 11860511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39a5d2f6c5cdb4969d4a8ce3d4dbfb5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/11860511/j-doe"}, "edited": false, "score": 0, "creation_date": 1564599158, "post_id": 57297006, "comment_id": 101088544, "body": "It is a little bit stupid, but can I basic signature the data a on the server check if the signature is correct and check if the code was not modified? Or check the progress of the code?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564601176, "post_id": 57297006, "comment_id": 101089374, "body": "If you&#39;re sending the data from the server to the client, why do you need the client to send it back? Just keep the data in a session variable on the server. Then you don&#39;t need to validate anything."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564601212, "post_id": 57297006, "comment_id": 101089395, "body": "But yes, you can sign the data using a private key on the server, then check the signature when the client sends it back."}, {"owner": {"reputation": 1, "user_id": 11860511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39a5d2f6c5cdb4969d4a8ce3d4dbfb5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/11860511/j-doe"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564603453, "post_id": 57297006, "comment_id": 101090246, "body": "@Barmar I don&#39;t write anything about sending the data from the server to the client. And yeah, I can sign the data, but I can sign the fake data too. The user decides if the data is fake or not (it means, if the data is modified or not)."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564604544, "post_id": 57297006, "comment_id": 101090641, "body": "You wrote <b>can I basic signature the data a on the server</b>. If you don&#39;t send it from the server to the client, how will the client get the signature so it can send it back for verification?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1564604587, "post_id": 57297006, "comment_id": 101090658, "body": "The user can&#39;t sign fake data because they don&#39;t know the server&#39;s private key."}, {"owner": {"reputation": 1, "user_id": 11860511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39a5d2f6c5cdb4969d4a8ce3d4dbfb5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/11860511/j-doe"}, "edited": false, "score": 0, "creation_date": 1564691949, "post_id": 57297006, "comment_id": 101124934, "body": "If is the private key recieved in front-end code, the user knows the private key."}], "answers": [{"tags": [], "owner": {"reputation": 7903, "user_id": 4851565, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/c6e6414810d11199754a0fb801dff7d7?s=128&d=identicon&r=PG&f=1", "display_name": "entpnerd", "link": "https://stackoverflow.com/users/4851565/entpnerd"}, "is_accepted": false, "score": 0, "last_activity_date": 1564606877, "creation_date": 1564606877, "answer_id": 57298779, "question_id": 57297006, "link": "https://stackoverflow.com/questions/57297006/signature-the-json-data-from-client-side-to-server-side/57298779#57298779", "title": "Signature the JSON data from client-side to server-side", "body": "<p>You need to use the a JSONSchema validator for Javascript. @TDEGrunt has a nice one <a href=\"https://github.com/tdegrunt/jsonschema\" rel=\"nofollow noreferrer\">here</a>. For examples on how to use it, see the readme file.</p>\n"}, {"tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": false, "score": 0, "last_activity_date": 1564611200, "last_edit_date": 1564611200, "creation_date": 1564608641, "answer_id": 57299104, "question_id": 57297006, "link": "https://stackoverflow.com/questions/57297006/signature-the-json-data-from-client-side-to-server-side/57299104#57299104", "title": "Signature the JSON data from client-side to server-side", "body": "<p>This feels like it's potentially making a mountain out of a molehill. </p>\n\n<p>It sounds like by \"fake\" data you mean data the user should not be allowed to amend, and/or which isn't entirely logical? Instead of trying to control what they send, which is very difficult, you just simply check it instead. You should:</p>\n\n<p>a) validate what they send (this should be done anyway, to check for things like strings where there should be numbers, or value combinations which logically don't belong together (e.g. <code>\"state: \"Alaska\", \"country: \"Russia\"</code>)) and return a validation error when it finds a problem, </p>\n\n<p>and/or </p>\n\n<p>b) have your server ignore any fields which the user should not be updating (this is a defence against what's sometimes called an \"over-posting\" attack).</p>\n\n<p>and/or</p>\n\n<p>c) check the user's permissions to the specific item of data. e.g. perhaps they are permitted to amend their own name, but not someone else's.</p>\n\n<p>Validation of data can be tedious, yes, but it's a normal and very necessary part of any web-based application. Since you are not in full control of the client, you therefore cannot trust any information you are sent, and you must always check that the data is basically valid, and that the client can verify (against your authentication and authorisation rules) that they have permission to send that data (or indeed, to be given data, if that's the purpose of the request).</p>\n\n<p>Most programming frameworks have features built in (and often enhanced by 3rs party packages to make validation, authentication and authorisation much less painful to code.</p>\n"}], "owner": {"reputation": 1, "user_id": 11860511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e39a5d2f6c5cdb4969d4a8ce3d4dbfb5?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/11860511/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1564611200, "creation_date": 1564598082, "question_id": 57297006, "link": "https://stackoverflow.com/questions/57297006/signature-the-json-data-from-client-side-to-server-side", "title": "Signature the JSON data from client-side to server-side", "body": "<p>I send some JSON data from client-side to server-side.</p>\n\n<p>The able user can modify the JSON data, because the code is available for anyone (JS script).</p>\n\n<p>How can I check right JSON data against fake JSON data.</p>\n\n<p>I thought about some signature, but I don't any idea how to do it.</p>\n\n<p>Thanks for any help!</p>\n\n<p>Example:</p>\n\n<pre><code>//real//\nlet user = {\n    name: \"John\",\n    gender: \"man\"\n}\n\n//fake//\nlet user = {\n    name: \"John\",\n    gender: \"woman\"\n}\n</code></pre>\n\n<p>It is just example, the JSON data can be different.</p>\n\n<blockquote>\n  <p>EDIT1: I can verify if the data correct or not, but it would be so\n  hard.</p>\n</blockquote>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564598243, "post_id": 57296886, "comment_id": 101088123, "body": "Effectively, you <b><i>don&#39;t</i></b> access it outside the asynchronous callback.  Asynchronous-ness is a top-down thing.  You have to stay async."}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 8200624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnGz0GRQcMU/AAAAAAAAAAI/AAAAAAAADUo/OBeWLS-hq6A/photo.jpg?sz=128", "display_name": "Erik", "link": "https://stackoverflow.com/users/8200624/erik"}, "is_accepted": false, "score": 2, "last_activity_date": 1564597890, "creation_date": 1564597890, "answer_id": 57296957, "question_id": 57296886, "link": "https://stackoverflow.com/questions/57296886/accessing-the-value-returned-by-then-promise/57296957#57296957", "title": "Accessing the value returned by .then() promise", "body": "<p>The variable tableCount is a reference to the function.  You want to call it with tableCount().</p>\n\n<pre><code>console.log(tableCount());\n</code></pre>\n\n<p>or </p>\n\n<pre><code>let tableCount = conn.then(function(client) {\n    client.query(query1, function (err, result) {\n        console.log( result[0].cnt );\n    })\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4693, "user_id": 5501536, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/50b9ab14ab8699a3862c14ee48126abe?s=128&d=identicon&r=PG&f=1", "display_name": "chevybow", "link": "https://stackoverflow.com/users/5501536/chevybow"}, "is_accepted": false, "score": 1, "last_activity_date": 1564598287, "creation_date": 1564598287, "answer_id": 57297050, "question_id": 57296886, "link": "https://stackoverflow.com/questions/57296886/accessing-the-value-returned-by-then-promise/57297050#57297050", "title": "Accessing the value returned by .then() promise", "body": "<p>Your console log appears correctly in the first example because the console log is inside the <code>then</code> block. This ensures that the async operation performed by <code>conn()</code> is completed before the console log gets reached. </p>\n\n<p>In your second example, the console log appears seemingly in the middle of your code and does not ensure the asynchronous operation is completed before console logging. That's what results in the promise pending log you get when you try to console log. </p>\n\n<p>You need to ensure your function completes running before try to console log the result. The first way is easier- you can also add more promise chaining or async/await further in your code to get the result and then console log after you do those additional steps. </p>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 5221943, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/A2glU.jpg?s=128&g=1", "display_name": "netishix", "link": "https://stackoverflow.com/users/5221943/netishix"}, "is_accepted": true, "score": 0, "last_activity_date": 1564598438, "creation_date": 1564598438, "answer_id": 57297085, "question_id": 57296886, "link": "https://stackoverflow.com/questions/57296886/accessing-the-value-returned-by-then-promise/57297085#57297085", "title": "Accessing the value returned by .then() promise", "body": "<p>You are assigning a promise to the variable <strong>tableCount</strong>. That's the reason why console.log is logging a promise. To access the resolved value of the promise you can try the following:</p>\n\n<pre><code>conn\n .then((client) =&gt; {\n   const promise = new Promise((resolve, reject) =&gt; {\n    client.query(query1, (err, result) =&gt; {\n     if(err) {\n      reject(err);\n     }\n     resolve(result[0].cnt);\n    })\n   });\n   return promise;\n })\n .then((tableCount) =&gt; {\n   console.log(tableCount);\n })\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 8348182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XJaXT.jpg?s=128&g=1", "display_name": "YuliaP", "link": "https://stackoverflow.com/users/8348182/yuliap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "closed_date": 1564598578, "accepted_answer_id": 57297085, "answer_count": 3, "score": 0, "last_activity_date": 1564598438, "creation_date": 1564597605, "question_id": 57296886, "link": "https://stackoverflow.com/questions/57296886/accessing-the-value-returned-by-then-promise", "closed_reason": "Duplicate", "title": "Accessing the value returned by .then() promise", "body": "<p>I am new to promises. I apologize I did see that similar questions have been asked here before, but it is still unclear to me how to make it work. I am trying to access value that is supposedly gets returned by the promise inside my <code>.then()</code> block. I need to be able access results of my SQL queries that I run inside the <code>.then()</code> blocks for some data validation in my testing framework.  </p>\n\n<p>This version perfectly works and I get result of my SQL query in the console.</p>\n\n<pre><code>const mysqlssh = require('mysql-ssh');\nconst fs = require('fs');\n\nlet conn = mysqlssh.connect(\n    {\n        host: '***',\n        user: '***',\n        privateKey: fs.readFileSync( process.env.HOME + '***')\n    },\n    {\n        host: '***',\n        user: '***',\n        password: '***',\n        database: '***'\n    })\n\nconst query1 = 'SELECT count(*) as cnt FROM table';\n\nconn.then(function(client) {\n    client.query(query1, function (err, result) {\n        console.log(result[0].cnt)\n    })\n})\n</code></pre>\n\n<p>With this version my console logs promise in a pending state:</p>\n\n<pre><code>const mysqlssh = require('mysql-ssh');\nconst fs = require('fs');\n\nlet conn = mysqlssh.connect(\n    {\n        host: '***',\n        user: '***',\n        privateKey: fs.readFileSync( process.env.HOME + '***')\n    },\n    {\n        host: '***',\n        user: '***',\n        password: '***',\n        database: '***'\n    })\n\nconst query1 = 'SELECT count(*) as cnt FROM table';\n\nlet tableCount = conn.then(function(client) {\n    client.query(query1, function (err, result) {\n        return result[0].cnt\n    })\n})\n\nconsole.log(tableCount);\n</code></pre>\n\n<p>When I do console.log(result[0].cnt) inside my <code>then</code> block - I perfectly see result  in my console. However, if I try to assign it to a variable and then console log that variable I get <code>Promise { &lt;pending&gt; }</code> message in the console.</p>\n"}, {"tags": ["javascript", "html", "css", "scroll", "overflow"], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 6278057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ada6421a7d401b26149808d0be502460?s=128&d=identicon&r=PG&f=1", "display_name": "schrdr", "link": "https://stackoverflow.com/users/6278057/schrdr"}, "is_accepted": false, "score": 0, "last_activity_date": 1564624991, "creation_date": 1564624991, "answer_id": 57300954, "question_id": 57296879, "link": "https://stackoverflow.com/questions/57296879/overflow-scrolling-on-dynamically-moving-elements/57300954#57300954", "title": "Overflow scrolling on dynamically moving elements", "body": "<p>Is it important where the yellow block shifts and gets positioned? if you just set the <code>#block</code> width to allow for the extra 400px with <code>width: calc(100% + 400px)</code> then you can see it with overflow after calling the function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var block = document.getElementById('block')\r\n\r\nfunction myFunct() {\r\n  block.style.transform = 'translateX(-400px)'\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  position: relative;\r\n  width: 400px;\r\n  height: 150px;\r\n  margin: auto;\r\n  background-color: blue;\r\n  overflow: scroll;\r\n\r\n}\r\n\r\n\r\n\r\n#block {\r\n  position: absolute;\r\n  height: 25px;\r\n  width: calc(100% + 400px);\r\n  left: 50%;\r\n  bottom: 50%;\r\n  overflow: scroll;\r\n  background-color: yellow;\r\n  border: 1px solid black;\r\n  align-self: flex-end;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div class=\"container\"&gt;\r\n      &lt;div id=\"block\"&gt;&lt;/div&gt;\r\n      &lt;button onclick='myFunct()'&gt;CLICK&lt;/button&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "is_accepted": false, "score": 3, "last_activity_date": 1564862738, "creation_date": 1564862738, "answer_id": 57341728, "question_id": 57296879, "link": "https://stackoverflow.com/questions/57296879/overflow-scrolling-on-dynamically-moving-elements/57341728#57341728", "title": "Overflow scrolling on dynamically moving elements", "body": "<p>Based on <a href=\"https://stackoverflow.com/questions/47372148/overflow-auto-not-working-with-justify-content-flex-end\">this</a>, a the solution can be sort of 'hack' like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var block = document.getElementById('block')\r\nfunction myFunct() {\r\n    document.getElementsByClassName('container')[0].dir = 'rtl';\r\n    block.style.transform = 'translateX(-400px)'\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n        position:relative;\r\n        width:400px;\r\n        height:150px;\r\n        margin:auto;\r\n        background-color: blue;\r\n        overflow:scroll;\r\n        \r\n    }\r\n    \r\n\r\n    \r\n    #block {\r\n        position:absolute;\r\n        height:25px;\r\n        width:100%;\r\n        left:50%;\r\n        bottom:50%;\r\n        overflow: scroll;\r\n        background-color: yellow;\r\n        border:1px solid black;\r\n        align-self: flex-end;\r\n    }\r\n    </code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n  &lt;div id=\"block\"&gt;&lt;/div&gt;\r\n  &lt;button onclick='myFunct()'&gt;CLICK&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks to @TemaniAfif that point me.</p>\n"}, {"comments": [{"owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "edited": false, "score": 0, "creation_date": 1564947119, "post_id": 57342709, "comment_id": 101186984, "body": "Too bad you didn&#39;t posted that as the original question - but we both learned new thing so it was worth placing the bounty (:"}], "tags": [], "owner": {"reputation": 397, "user_id": 8627318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0107e0681c56e12bf288e3c3d7c88cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Harper Creek", "link": "https://stackoverflow.com/users/8627318/harper-creek"}, "is_accepted": false, "score": 0, "last_activity_date": 1564880250, "last_edit_date": 1564880250, "creation_date": 1564874264, "answer_id": 57342709, "question_id": 57296879, "link": "https://stackoverflow.com/questions/57296879/overflow-scrolling-on-dynamically-moving-elements/57342709#57342709", "title": "Overflow scrolling on dynamically moving elements", "body": "<p>This is what I came up with. My solution applies to my use which is to have a have a line of text run across the page right to left and being able to scroll left to see the parts of the sentence that eventually overflow. The #fill div lets the entire wrapper be scrollable rather than just the span. There's a way to do it with two divs using \"line-height = (size of container)\" but I figured that would lead to future problems so I avoided. The key to my way was the \"outer.scrollLeft += outer.scrollWidth\" within the function. There's a more fluid way of doing this as my way is choppy by moving the entire span element left which is what my original question was pointed towards but ultimately not how I did it. Meshu's solution also worked in application to the question I asked. \"Direction:rtl\" also allows for a solution.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var inset = document.getElementById('inset')\r\nvar fill = document.getElementById('fill')\r\nvar text = 'There was a lamb who had a cow and a farmer was involved and then you make a moo sound and yell BINGO and that is how the song goes.'; /*Obviously you can change this jibberish */\r\nvar words = text.split(\" \") /* breaking the text into an array of each word */\r\n\r\nvar i = 0\r\nvar timer = 5; /*How long the text will take to run through in seconds*/\r\nvar wordTime = (timer / words.length) * 1000; /* Time before the next word takes to the screen. As of this code, all words have equal time */\r\n\r\n\r\nvar myVar = setInterval(myFunct, wordTime);\r\n\r\nfunction myFunct() {\r\n  if (i == words.length) {\r\n    clearInterval(myVar); /* Stops running when all words are passed through */\r\n  } else {\r\n    inset.innerHTML += \" \" + words[i];\r\n  }\r\n  i++\r\n  let outer = fill\r\n  outer.scrollLeft += outer.scrollWidth; /*important */\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#wrapper {\r\n  position: absolute;\r\n  display: flex;\r\n  height: 100px;\r\n  width: 100%;\r\n  min-width: 100%;\r\n  max-width: 100%;\r\n  left: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  align-items: center;\r\n  text-align: right;\r\n  color: whitesmoke;\r\n  font-family: sans-serif;\r\n  font-size: 200%;\r\n  background-color: rgba(0, 0, 0, 0.7);\r\n}\r\n\r\n#fill {\r\n  display: flex;\r\n  width: 100%; /*You can change this to change how much of container the text overtakes */\r\n  height: 100%;\r\n  max-width: 100%;\r\n  align-items: center;\r\n  overflow: auto;\r\n}\r\n\r\n#inset {\r\n  padding-left:5px;\r\n  white-space: nowrap;\r\n  margin-left:auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id='wrapper'&gt;\r\n  &lt;div id='fill'&gt;\r\n    &lt;span id='inset'&gt;&lt;/span&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>.</p>\n"}, {"comments": [{"owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "edited": false, "score": 1, "creation_date": 1565198421, "post_id": 57386352, "comment_id": 101280485, "body": "interesting, Care to add demonstrating snippet?"}], "tags": [], "owner": {"reputation": 2489, "user_id": 4871598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e49c22e44da61b2b06bd0a78a35d4a1?s=128&d=identicon&r=PG&f=1", "display_name": "KpTheConstructor", "link": "https://stackoverflow.com/users/4871598/kptheconstructor"}, "is_accepted": false, "score": 3, "last_activity_date": 1565217763, "last_edit_date": 1565217763, "creation_date": 1565146399, "answer_id": 57386352, "question_id": 57296879, "link": "https://stackoverflow.com/questions/57296879/overflow-scrolling-on-dynamically-moving-elements/57386352#57386352", "title": "Overflow scrolling on dynamically moving elements", "body": "<p>The real problem at hand is that the css property <code>transform</code> <strong>will only trigger a repaint on the Composite Layer</strong>, this was an optimization decision made to facilitate animations without triggering repaints on the <strong>Layout Layer</strong> . To trigger an entire layout repaint you should use a layout property like <code>left</code> or <code>right</code>:</p>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>function myFunct() {\n    block.style.left = '0px'\n}\n</code></pre>\n\n<p>Also the reason you are getting the scrollbar on initial load is because you have:</p>\n\n<pre><code>#block {\n...\n  left: 50%\n...\n}\n</code></pre>\n\n<p>More <a href=\"https://developers.google.com/web/fundamentals/performance/rendering/stick-to-compositor-only-properties-and-manage-layer-count\" rel=\"nofollow noreferrer\">here</a> on Compositor-Only Properties </p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Although the above is true, switching to 'style.left' will still not cut it\nbecause block level elements have a default <strong>content flow direction of left to right</strong> or in css <code>direction: ltr</code> so this means you'll need to modify the content direction as well which should cancel out the need to use <code>style.left</code>. See below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var block = document.getElementById('block')\r\nvar container = document.querySelector('.container')\r\n\r\nfunction myFunct() {\r\n    block.style.transform = 'translateX(-400px)'\r\n    container.style.direction = 'rtl'\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code> .container {\r\n        position:relative;\r\n        width:400px;\r\n        height:150px;\r\n        margin:auto;\r\n        background-color: blue;\r\n        overflow:scroll;\r\n    }\r\n    \r\n\r\n    \r\n    #block {\r\n        position:absolute;\r\n        height:25px;\r\n        width:100%;\r\n        left:50%;\r\n        bottom:50%;\r\n        overflow: scroll;\r\n        background-color: yellow;\r\n        border:1px solid black;\r\n     \r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div class=\"container\"&gt;\r\n        &lt;div id=\"block\"&gt;&lt;/div&gt;\r\n        &lt;button onclick='myFunct()'&gt;CLICK&lt;/button&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 397, "user_id": 8627318, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0107e0681c56e12bf288e3c3d7c88cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Harper Creek", "link": "https://stackoverflow.com/users/8627318/harper-creek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1654, "favorite_count": 1, "answer_count": 4, "score": 9, "last_activity_date": 1565217763, "creation_date": 1564597566, "question_id": 57296879, "link": "https://stackoverflow.com/questions/57296879/overflow-scrolling-on-dynamically-moving-elements", "title": "Overflow scrolling on dynamically moving elements", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var block = document.getElementById('block')\r\n\r\nfunction myFunct() {\r\n    block.style.transform = 'translateX(-400px)'\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>    .container {\r\n        position:relative;\r\n        width:400px;\r\n        height:150px;\r\n        margin:auto;\r\n        background-color: blue;\r\n        overflow:scroll;\r\n        \r\n    }\r\n    \r\n\r\n    \r\n    #block {\r\n        position:absolute;\r\n        height:25px;\r\n        width:100%;\r\n        left:50%;\r\n        bottom:50%;\r\n        overflow: scroll;\r\n        background-color: yellow;\r\n        border:1px solid black;\r\n        align-self: flex-end;\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;div class=\"container\"&gt;\r\n        &lt;div id=\"block\"&gt;&lt;/div&gt;\r\n        &lt;button onclick='myFunct()'&gt;CLICK&lt;/button&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In my example the block overflows the right side of the container and overflow is set to scroll. So you can scroll the right side and see the rest of the block. Then when I run the function, the block moves so it's overflowing the left side of the container. However it does not adjust to allow for scrolling left to see the rest of the block. What is the solution to allow for scrolling  of other sides after functions are ran and blocks are moved to overflow those different sides.</p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6", "babeljs", "es6-modules"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564597558, "post_id": 57296847, "comment_id": 101087827, "body": "Are you host and localhost using the same node version?"}, {"owner": {"reputation": 121, "user_id": 9069947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df95dab3c0d5646fa85d7b0857aa1268?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9069947/sam"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564597853, "post_id": 57296847, "comment_id": 101087963, "body": "@zero298 hi, no ,my localhost`s node version is v8.11.1"}, {"owner": {"reputation": 121, "user_id": 9069947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df95dab3c0d5646fa85d7b0857aa1268?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9069947/sam"}, "reply_to_user": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 0, "creation_date": 1564598854, "post_id": 57296847, "comment_id": 101088404, "body": "@zero298  and host&#39;s node version is v10.16.0"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 9069947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df95dab3c0d5646fa85d7b0857aa1268?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9069947/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1565893056, "last_edit_date": 1565893056, "creation_date": 1565801514, "answer_id": 57498967, "question_id": 57296847, "link": "https://stackoverflow.com/questions/57296847/babel-doesnt-work-in-node-js-syntaxerror-unexpected-identifier/57498967#57498967", "title": "Babel doesn&#39;t work in Node.js SyntaxError: Unexpected identifier", "body": "<p>according to this link</p>\n\n<p><a href=\"https://www.codementor.io/iykyvic/writing-your-nodejs-apps-using-es6-6dh0edw2o\" rel=\"nofollow noreferrer\">https://www.codementor.io/iykyvic/writing-your-nodejs-apps-using-es6-6dh0edw2o</a></p>\n\n<p>the problem was solved</p>\n"}], "owner": {"reputation": 121, "user_id": 9069947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df95dab3c0d5646fa85d7b0857aa1268?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9069947/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2463, "favorite_count": 0, "accepted_answer_id": 57498967, "answer_count": 1, "score": 2, "last_activity_date": 1565893056, "creation_date": 1564597429, "last_edit_date": 1564730347, "question_id": 57296847, "link": "https://stackoverflow.com/questions/57296847/babel-doesnt-work-in-node-js-syntaxerror-unexpected-identifier", "title": "Babel doesn&#39;t work in Node.js SyntaxError: Unexpected identifier", "body": "<p>I\u2019m hosting a nodejs project on server, that uses ES6 syntax, and I used babel-cli to compile it. I don't have any problem in my localhost, but when i host it I get this error:   </p>\n\n<blockquote>\n  <p>import express from 'express';^^^^^^^SyntaxError: Unexpected identifier</p>\n</blockquote>\n\n<p>my node version is v10.16.0</p>\n\n<p><code>package.json</code>:</p>\n\n<pre><code> {\n  \"name\": \"example\",\n\"version\": \"1.0.0\",\n \"description\": \"\",\n \"main\": \"index.js\",\n \"scripts\": {\n  \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\",\n   \"start\": \"nodemon ./index.js --exec babel-node -e js\"\n},\n\"author\": \"\",\n\"license\": \"ISC\",\n\"dependencies\": {\n \"bcrypt\": \"^3.0.2\",\n \"express\": \"^4.16.3\",\n \"jsonwebtoken\": \"^8.4.0\",\n\"mongodb\": \"^3.1.6\",\n\"mongoose\": \"^5.3.1\",\n\"nodemailer\": \"^6.2.1\",\n\"nodemon\": \"^1.18.4\",\n\"randomstring\": \"^1.1.5\",\n\"shortid\": \"^2.2.14\"\n },\n\"devDependencies\": {\n\"babel-cli\": \"^6.26.0\",\n\"babel-preset-env\": \"^1.7.0\",\n\"babel-preset-stage-0\": \"^6.24.1\"\n }\n}\n</code></pre>\n\n<p>and for <code>.babelrc</code>:</p>\n\n<pre><code>      {\n    \"presets\": [\n    \"env\",\n    \"stage-0\"\n]\n</code></pre>\n\n<p>}</p>\n\n<pre><code>import express from 'express';\n   ^^^^^^^\n\nSyntaxError: Unexpected identifier\nat Module._compile (internal/modules/cjs/loader.js:721:23)\nat Object.Module._extensions..js (internal/modules              /cjs/loader.js:787:10)\nat Module.load (internal/modules/cjs/loader.js:653:32)\nat tryModuleLoad (internal/modules/cjs/loader.js:593:12)\nat Function.Module._load (internal/modules/cjs/loader.js:585:3)\nat Function.Module.runMain (internal/modules/cjs/loader.js:829:12)\nat startup (internal/bootstrap/node.js:283:19)\nat bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n"}]