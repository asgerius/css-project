[{"tags": ["python"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1458777683, "post_id": 36190873, "comment_id": 60016777, "body": "Are you wanting <code>set_up_answer</code> to only have one value? Are you using a list as a global so that you can modify it within the function? You could just have <code>global set_up_answer</code> in the function , then you can assign to it. This isn&#39;t ideal, but will work."}, {"owner": {"reputation": 35, "user_id": 6074918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3da36f575b77e8667f5941ca78034c2c?s=128&d=identicon&r=PG&f=1", "display_name": "saaaaaaap", "link": "https://stackoverflow.com/users/6074918/saaaaaaap"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1458778036, "post_id": 36190873, "comment_id": 60016876, "body": "Peter, no I am using a list because I am planning to add multiple more circles, in which each will add their fill color to create a list(set_up_answer) of a set of different colors, to then be compared to an answer key(different list) that has randomly generated colors, and if they are the same to return true."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1458807312, "post_id": 36190873, "comment_id": 60025085, "body": "Each time you press the button it appends the colour to the list. Isn&#39;t that what you want?"}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1458777469, "creation_date": 1458777469, "answer_id": 36190976, "question_id": 36190873, "link": "https://stackoverflow.com/questions/36190873/having-trouble-with-iteration-and-assigning-with-tkinter-in-python/36190976#36190976", "title": "Having trouble with iteration and assigning with tkinter in python", "body": "<p>How about:</p>\n\n<pre><code>def callback1():\n    color = next(color_iteration1)\n    mcircle1 = mycanvas.create_oval(10,620,86,675,outline='#000000',fill=color)\n    set_up_answer.append(color)\n</code></pre>\n\n<p>Using <code>mycanvas.itemcget</code> seems very roundabout and might be the cause of your problem (I don't know tkinter so I can't tell).</p>\n"}], "owner": {"reputation": 35, "user_id": 6074918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3da36f575b77e8667f5941ca78034c2c?s=128&d=identicon&r=PG&f=1", "display_name": "saaaaaaap", "link": "https://stackoverflow.com/users/6074918/saaaaaaap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458777469, "creation_date": 1458776912, "question_id": 36190873, "link": "https://stackoverflow.com/questions/36190873/having-trouble-with-iteration-and-assigning-with-tkinter-in-python", "title": "Having trouble with iteration and assigning with tkinter in python", "body": "<p>Im designing a <strong>Mastermind</strong> game, and so far have come up with a circle that changes color with iterating through a list of colors with the press of a button:</p>\n\n<pre><code>set_up_answer = []\n\ncolor_iteration1 = itertools.cycle(('blue', 'green', 'orange', 'red','yellow'))\n\ndef callback1():\n    mcircle1 = mycanvas.create_oval(10,620,86,675,outline='#000000',fill=next(color_iteration1))\n    res1 = mycanvas.itemcget(mcircle1, 'fill')\n    set_up_answer.append(res1)\n\nB1 = Button(root,text='B1',command =callback1)\n</code></pre>\n\n<p>Keep in mind this is not complete code***, and what happens is that if i go through the iterate list by pressing the button multiple times, end up with say the circle containing the fill 'orange' and then add it to (set_up_answer) to compare to other circles, what it returns is something like ['blue', 'green',  'orange'], meaning it returns every color in the iterate list before what the actual fill is as well as the actual fill color, how do I limit the value returning the fill to just the specific color of the iterate list it actually is?</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 14351, "user_id": 2839786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkczH.jpg?s=128&g=1", "display_name": "Aziz Alto", "link": "https://stackoverflow.com/users/2839786/aziz-alto"}, "edited": false, "score": 0, "creation_date": 1458796533, "post_id": 36190827, "comment_id": 60021468, "body": "Try beautiful soup, it does that. Just do soup.find(&quot;div&quot;), find returns a single div element (and the first occurrence)."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 14351, "user_id": 2839786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkczH.jpg?s=128&g=1", "display_name": "Aziz Alto", "link": "https://stackoverflow.com/users/2839786/aziz-alto"}, "edited": false, "score": 0, "creation_date": 1458812875, "post_id": 36190827, "comment_id": 60027844, "body": "@iamaziz, that would find the div with <code>class=&quot;Updated&quot;&gt;</code> which is not what the OP is asking for."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6106884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b848f42b2aeb31d22b5f3d53ab701c?s=128&d=identicon&r=PG&f=1", "display_name": "Logi", "link": "https://stackoverflow.com/users/6106884/logi"}, "edited": false, "score": 0, "creation_date": 1458784382, "post_id": 36191325, "comment_id": 60018591, "body": "Thanks for your response Padraic. That does help me understand more fully.   I&#39;ve written the following bit of code to test this but I&#39;m receiving the error of &#39;list&#39; object has no attribute &#39;find_element_by_css_path&#39;   `    note_base_table = browser.find_elements_by_class_name(&#39;cb&#39;)` `    for note_base_rows in note_base_table.find_element_by_xpath(&quot;//div[@class=&#39;Notes&#39; or @class=&#39;EMAIL SENT&#39;]&quot;):` `        print(note_base_rows)`  A similar method worked when I was pulling data from a table and I used <code>from table_rows in base_table.find_element_by_tag_name(&#39;tr&#39;):</code>  Clearly I&#39;m missing something"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 11, "user_id": 6106884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b848f42b2aeb31d22b5f3d53ab701c?s=128&d=identicon&r=PG&f=1", "display_name": "Logi", "link": "https://stackoverflow.com/users/6106884/logi"}, "edited": false, "score": 0, "creation_date": 1458812749, "post_id": 36191325, "comment_id": 60027768, "body": "You should be using <code>note_base_rows.xpath...</code> you are looping over <code>note_base_table</code> and using <code>note_base_table.xpath</code> that is the list not each element in iteration."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1458812652, "last_edit_date": 1458812652, "creation_date": 1458780153, "answer_id": 36191325, "question_id": 36190827, "link": "https://stackoverflow.com/questions/36190827/python-3-selenium-scraping-data-from-nested-divs/36191325#36191325", "title": "Python 3 - Selenium - scraping data from nested divs", "body": "<p>Use an <code>or</code> with an xpath:</p>\n\n<pre><code>.xpath(\"//div[@class='Notes' or @class='EMAIL SENT']\")[0]\n</code></pre>\n\n<p>If Notes comes first you will get Notes and vice versa.</p>\n\n<p>If we change a bit of your html snippet like below, adding some text to <code>&lt;div class=\"EMAIL SENT\"&gt;in email</code> and changing a later tag class to <code>&lt;div class=\"Notes\"&gt;in notes</code>:</p>\n\n<p>We can see using lxml how it works:</p>\n\n<pre><code>In [13]: from lxml.etree import fromstring, HTMLParser\n\nIn [14]: xml = fromstring(html, HTMLParser())\n\nIn [15]: xml.xpath(\"//div[@class='Notes' or @class='EMAIL SENT']\")\nOut[15]: [&lt;Element div at 0x7f96598d4ea8&gt;, &lt;Element div at 0x7f96598d4ef0&gt;]\n\nIn [16]: xml.xpath(\"//div[@class='Notes' or @class='EMAIL SENT']\")[0].text\nOut[16]: 'in email\\n                               '\n\nIn [17]: xml.xpath(\"//div[@class='Notes' or @class='EMAIL SENT']\")[1].text\nOut[17]: 'in notes\\n    \n</code></pre>\n\n<p>So with selenium you want to just find the element by xpath.                          </p>\n"}], "owner": {"reputation": 11, "user_id": 6106884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b848f42b2aeb31d22b5f3d53ab701c?s=128&d=identicon&r=PG&f=1", "display_name": "Logi", "link": "https://stackoverflow.com/users/6106884/logi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458812652, "creation_date": 1458776707, "question_id": 36190827, "link": "https://stackoverflow.com/questions/36190827/python-3-selenium-scraping-data-from-nested-divs", "title": "Python 3 - Selenium - scraping data from nested divs", "body": "<p>I'm reasonably new to python and I'm trying to check which div class appears first on a page. I've done this with table rows but I can't seem to wrap my head around how to do this with divs.</p>\n\n<p>What I'm trying to determine is whether the latest update is an email sent <code>&lt;div class=\"EMAIL SENT\"&gt;</code> or a notes added <code>&lt;div class=\"Notes\"&gt;</code>. The most recent item will appear first from the top, but other actions may have taken place since then, for example, <code>&lt;div class=\"Updated\"&gt;</code></p>\n\n<p>I've not managed to write any code to do this or event get close, but in my head I imagine it to work like this.</p>\n\n<pre><code>for sub_div_classes in browser.find_element_by_class_name('cb'):\n    classname = ~check name of sub_div_class\n    if classname = \"EMAIL SENT\":\n        class_info = browser.find_element_by_class_name('plus_header_Additional_info').text\n        print(class_info) \u00acoutput: EMAIL SENT&amp;nbsp;:Email sent on 20-03-2016 00:22:09 by [REDACTED]\n        trigger_1()\n    if classname = \"Notes\":\n        trigger_2()\n    ~move on to next div class in list\n</code></pre>\n\n<p>Below is the page code I'm trying to work with. I'd be really appreciative of any advice or assistance anyone can provide.</p>\n\n<pre><code>&lt;div class=\"cb\" style=\"margin:5px 0 0 0;\"&gt;\n                              &lt;div class=\"Updated\"&gt;\n                               &lt;div class=\"plus_header_Additional_info\"&gt;Updated&amp;nbsp;:Incident Updated on 20-03-2016 00:22:52 by User = [REDACTED]\n\n                                 &lt;a href=\"javascript:toggle2('contentDivImg2_0', 'imageDivLink2_0');\" id=\"imageDivLink2_0\"&gt;&lt;img src=\"images/minus.png\" style=\"float:right;\"&gt;&lt;/a&gt; \n                               &lt;/div&gt;\n                                   &lt;div class=\"plus_content\" style=\"display: block;\" id=\"contentDivImg2_0\"&gt;\n                               &lt;div&gt; \n                                             Assigned to STRIKE1, \n by User = [REDACTED].\n                                &lt;/div&gt;\n                                &lt;br&gt;\n                            &lt;/div&gt;\n                                &lt;/div&gt;\n                              &lt;div class=\"Updated\"&gt;\n                               &lt;div class=\"plus_header_Additional_info\"&gt;Updated&amp;nbsp;:PEND CLIENT STRIKE - 1 added on 20-03-2016 00:22:36 by [REDACTED]. \n                                 &lt;a href=\"javascript:toggle2('contentDivImg2_1', 'imageDivLink2_1');\" id=\"imageDivLink2_1\"&gt;&lt;img src=\"images/minus.png\" style=\"float:right;\"&gt;&lt;/a&gt; \n                               &lt;/div&gt;\n                                   &lt;div class=\"plus_content\" style=\"display: block;\" id=\"contentDivImg2_1\"&gt;\n                               &lt;div&gt; \n                                &lt;/div&gt;\n                                &lt;br&gt;\n                            &lt;/div&gt;\n                                &lt;/div&gt;\n                              &lt;div class=\"EMAIL SENT\"&gt;\n                               &lt;div class=\"plus_header_Additional_info\"&gt;EMAIL SENT&amp;nbsp;:Email sent on 20-03-2016 00:22:09 by [REDACTED] \n                                 &lt;a href=\"javascript:toggle2('contentDivImg2_2', 'imageDivLink2_2');\" id=\"imageDivLink2_2\"&gt;&lt;img src=\"images/minus.png\" style=\"float:right;\"&gt;&lt;/a&gt; \n                               &lt;/div&gt;\n                                   &lt;div class=\"plus_content\" style=\"display: block;\" id=\"contentDivImg2_2\"&gt;\n                               &lt;div&gt; \n                                            To :- [NAME]@[DOMAIN].CO.UK Subject: Ticket - [IN-000999999] Description : Dear User,\n\n[REDACTED]\n                                &lt;/div&gt;\n                                &lt;br&gt;\n                            &lt;/div&gt;\n                                &lt;/div&gt;\n                              &lt;div class=\"Updated\"&gt;\n                               &lt;div class=\"plus_header_Additional_info\"&gt;Updated&amp;nbsp;:Incident Updated on 12-03-2016 10:56:15 by User = [REDACTED]\n\n                                 &lt;a href=\"javascript:toggle2('contentDivImg2_3', 'imageDivLink2_3');\" id=\"imageDivLink2_3\"&gt;&lt;img src=\"images/minus.png\" style=\"float:right;\"&gt;&lt;/a&gt; \n                               &lt;/div&gt;\n                                   &lt;div class=\"plus_content\" style=\"display: block;\" id=\"contentDivImg2_3\"&gt;\n                               &lt;div&gt; \n                                             Status:- PROGRESSING changed to PEND CLIENT, \n Assigned to SOFTWARE DEPLOYED, \n by User = [REDACTED].\n                                &lt;/div&gt;\n                                &lt;br&gt;\n                            &lt;/div&gt;\n                                &lt;/div&gt;\n                              &lt;div class=\"Notes\"&gt;\n                               &lt;div class=\"plus_header_Additional_info\"&gt;Notes&amp;nbsp;:Notes Added on 12-03-2016 10:55:53 by [REDACTED]. \n                                 &lt;a href=\"javascript:toggle2('contentDivImg2_4', 'imageDivLink2_4');\" id=\"imageDivLink2_4\"&gt;&lt;img src=\"images/minus.png\" style=\"float:right;\"&gt;&lt;/a&gt; \n                               &lt;/div&gt;\n                                   &lt;div class=\"plus_content\" style=\"display: block;\" id=\"contentDivImg2_4\"&gt;\n                               &lt;div&gt; \n                                            &lt;textarea id=\"notes4\" name=\"notes1\" cols=\"\" class=\"emailForm_input1\" style=\"width: 97%; overflow: hidden; word-wrap: break-word; resize: horizontal; height: 237px;\" readonly=\"readonly\"&gt;Hello,\n[REDACTED]\n&lt;/textarea&gt;\n                                &lt;/div&gt;\n                                &lt;br&gt;\n                            &lt;/div&gt;\n                                &lt;/div&gt;\n                &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1458776938, "post_id": 36190819, "comment_id": 60016574, "body": "you can only call <code>sample.read()</code> one time ... then the pointer is at the end of the file ..."}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1458776966, "post_id": 36190819, "comment_id": 60016584, "body": "What part of summing do you not understand? Do you know how to initialize a variable to zero and then use the + operator with assignment? Is it reading integers from the file that has you tripped up? What does the data in the file look like?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1458776985, "post_id": 36190819, "comment_id": 60016587, "body": "<code>sum(map(int,sample.read().split()))</code>"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "reply_to_user": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "edited": false, "score": 0, "creation_date": 1458777065, "post_id": 36190819, "comment_id": 60016603, "body": "@scrappedcola I think it&#39;s quite clear that what he really doesn&#39;t understand is how to read a file."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458777151, "post_id": 36190819, "comment_id": 60016624, "body": "How many numbers per line?"}, {"owner": {"reputation": 10008, "user_id": 462006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/37peF.jpg?s=128&g=1", "display_name": "scrappedcola", "link": "https://stackoverflow.com/users/462006/scrappedcola"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1458777541, "post_id": 36190819, "comment_id": 60016740, "body": "@AlexHall no actually it&#39;s rather ambiguous. It looks like all he needs is how to read the file but he is actually asking &quot;i need a little help to sum the numbers&quot; not &quot;I don&#39;t seem able to read an integer from the file&quot;.This question is low quality and these are details that should have been there without prompting."}], "answers": [{"tags": [], "owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "is_accepted": false, "score": 1, "last_activity_date": 1458776980, "creation_date": 1458776980, "answer_id": 36190884, "question_id": 36190819, "link": "https://stackoverflow.com/questions/36190819/i-need-to-sum-numbers-in-a-file/36190884#36190884", "title": "I need to sum numbers in a file", "body": "<p>What you want is:</p>\n\n<pre><code>for line in sample:\n    # process the line\n</code></pre>\n\n<p>If each line just contains an integer, you can simplify it further to <code>sum(map(int, sample))</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": false, "score": 2, "last_activity_date": 1458777000, "creation_date": 1458777000, "answer_id": 36190888, "question_id": 36190819, "link": "https://stackoverflow.com/questions/36190819/i-need-to-sum-numbers-in-a-file/36190888#36190888", "title": "I need to sum numbers in a file", "body": "<p>You may iterate over the file like this:</p>\n\n<pre><code>for i in sample:\n</code></pre>\n\n<p>and convert using <code>int()</code> to an integer.</p>\n\n<p>The <code>for</code> loop can be done with map and the sum with <code>sum</code>.</p>\n\n<p>This is the final code:</p>\n\n<pre><code>def main ():\n    sample = open (r'C:\\user\\desktop\\text.txt','r')\n    result = sum(map(int, sample))\n    print(result)\n    sample.close ()\nmain ()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3501, "user_id": 3124409, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/5922e9a9b3b7aef6002860ed4515b57d?s=128&d=identicon&r=PG&f=1", "display_name": "Goodies", "link": "https://stackoverflow.com/users/3124409/goodies"}, "is_accepted": false, "score": 0, "last_activity_date": 1458777947, "creation_date": 1458777947, "answer_id": 36191030, "question_id": 36190819, "link": "https://stackoverflow.com/questions/36190819/i-need-to-sum-numbers-in-a-file/36191030#36191030", "title": "I need to sum numbers in a file", "body": "<p>To add safety, you should cast your integers with error checking and ensure that the file exists before reading it. </p>\n\n<pre><code>import os\n\ndef safecast(newtype, val, default=None):\n    try:\n        return newtype(val)\n    except ValueError:\n        pass\n    return default\n\ndef sumfile(filename):\n    if not os.path.isfile(filename):\n        return None\n    sum = 0\n    with open(filename, \"r\") as file:\n        for line in file:\n            sum += safecast(int, line, 0)\n    return sum\n\nsum = sumfile(r'C:\\user\\desktop\\text.txt')\nprint(sum)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6087134, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a818e3ebf76dda876d9831261963672?s=128&d=identicon&r=PG&f=1", "display_name": "l3ellicose ", "link": "https://stackoverflow.com/users/6087134/l3ellicose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "closed_date": 1458824331, "answer_count": 3, "score": -5, "last_activity_date": 1458777947, "creation_date": 1458776639, "last_edit_date": 1458776871, "question_id": 36190819, "link": "https://stackoverflow.com/questions/36190819/i-need-to-sum-numbers-in-a-file", "closed_reason": "Not suitable for this site", "title": "I need to sum numbers in a file", "body": "<p>Ok I'm learning read and write files at the moment but I need a little help to sum the numbers in a file.</p>\n\n<pre><code>def main ():\n    sample = open (r'C:\\user\\desktop\\text.txt','r')\n    for i in range (the range of int is unknown)\n        file = sample.read ()\n    sample.close ()\nmain ()\n</code></pre>\n"}, {"tags": ["python", "numpy", "matrix"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 2, "creation_date": 1458777001, "post_id": 36190818, "comment_id": 60016592, "body": "numpy and python use zero-based indexing not 1-based indexing so index 8 is out of bounds. You likely want <code>np.arange(8)</code> or more robustly: <code>i in np.arange(A.shape[0])</code> and <code>j in np.arange(A.shape[1])</code>"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 1, "creation_date": 1458777428, "post_id": 36190818, "comment_id": 60016706, "body": "This was literally brought up <a href=\"http://stackoverflow.com/a/36080741/670206\">in your last question</a> so I&#39;m not sure where the confusion is."}, {"owner": {"reputation": 6738, "user_id": 906693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ba54c2f46f424128b4ba467eb8d0e138?s=128&d=identicon&r=PG", "display_name": "roadrunner66", "link": "https://stackoverflow.com/users/906693/roadrunner66"}, "edited": false, "score": 0, "creation_date": 1458781239, "post_id": 36190818, "comment_id": 60017676, "body": "The text above this question is different and substantially clearer than the <code>duplicate</code>. I moved my answer to the <code>duplicate</code>, but my answer references the text in this question."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1458793358, "post_id": 36190818, "comment_id": 60020740, "body": "I&#39;d be happy to remove the <code>duplicate</code> if it would help.  But I think OP is not taking serious the idea that indexes must fall in the correct range, here <code>[0,8)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "is_accepted": false, "score": 0, "last_activity_date": 1458777898, "creation_date": 1458777898, "answer_id": 36191023, "question_id": 36190818, "link": "https://stackoverflow.com/questions/36190818/numpy-error-using-np-arange-index-error/36191023#36191023", "title": "Numpy Error using &#39;np.arange&#39;: Index Error", "body": "<p>Remember that Python indexing starts at 0, not 1, so your array would be from 0-7, not 1-8. </p>\n"}], "owner": {"reputation": 111, "user_id": 5644967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62ce67cdbf3c9f2169bc5d41a230d81c?s=128&d=identicon&r=PG&f=1", "display_name": "brgionta", "link": "https://stackoverflow.com/users/5644967/brgionta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 805, "favorite_count": 0, "closed_date": 1458779005, "answer_count": 1, "score": 0, "last_activity_date": 1458777898, "creation_date": 1458776637, "last_edit_date": 1592644375, "question_id": 36190818, "link": "https://stackoverflow.com/questions/36190818/numpy-error-using-np-arange-index-error", "closed_reason": "Duplicate", "title": "Numpy Error using &#39;np.arange&#39;: Index Error", "body": "<p>I am working with the code shown below and am getting an Index Error:</p>\n<blockquote>\n<p>index 8 is out of bounds for axis 1 with size 8  and</p>\n<p>index 6 is out of bounds for axis 0 with size 6`.</p>\n</blockquote>\n<p>When changing <code>np.arrange(1,9)</code> and <code>np.arrange(2,8)</code> to <code>np.arrange(8)</code> and <code>np.arrange(6)</code> respectively the code runs with no errors. However, the output matrix C is giving different results than expected. What if I want <code>i</code> and <code>j</code> to be an integer with values (1,2,3,4,5,6,7,8) instead of (0,1,2,3,4,5,6,7) and <code>k</code> and <code>l</code> with integer values (2,3,4,5,6,7)? I am creating a matrix C which looks at the inner 6x6 square of B (ignoring the border) and uses the matrix D as a 'weight' when determining the values of matrix C.</p>\n<pre><code>import numpy\nimport numpy as np\n\n\nA = np.matrix([[8,8,8,7,7,6,8,2],\n               [8,8,7,7,7,6,6,7],\n               [1,8,8,7,7,6,6,6],\n               [1,1,8,7,7,6,7,7],\n               [1,1,1,1,8,7,7,6],\n               [1,1,2,1,8,7,7,6],\n               [2,2,2,1,1,8,7,7],\n               [2,1,2,1,1,8,8,7]])\n\n\nB = np.ones((8,8),dtype=np.int)\n\nfor i in np.arange(1,9):\n    for j in np.arange(1,9):\n        B[i,j] = A[i,j]\n\nC = np.zeros((6,6),dtype=np.int)\nprint C\n\nD = np.matrix([[1,1,2,3,3,2,2,1],\n               [1,2,1,2,3,3,3,2],\n               [1,1,2,1,1,2,2,3],\n               [2,2,3,2,2,2,1,3],\n               [1,2,2,3,2,3,1,3],\n               [1,2,3,3,2,3,2,3],\n               [1,2,2,3,2,3,1,2],\n               [2,2,3,2,2,3,2,2]])\nprint D\n\nfor k in np.arange(2,8):\n    for l in np.arange(2,8):\n\n\n            B[k,l] # point in middle\n            b = B[(k-1),(l-1)]\n            if b == 8:\n                # Matrix C is smaller than Matrix B\n                C[(k-1),(l-1)] = C[(k-1),(l-1)] + 1*D[(k-1),(l-1)]\n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 247, "user_id": 4254346, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/230ae45a0fc56c1d7da16e497b52342f?s=128&d=identicon&r=PG&f=1", "display_name": "Prpaa", "link": "https://stackoverflow.com/users/4254346/prpaa"}, "reply_to_user": {"reputation": 9497, "user_id": 1762988, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/kLQV4.jpg?s=128&g=1", "display_name": "ilse2005", "link": "https://stackoverflow.com/users/1762988/ilse2005"}, "edited": false, "score": 0, "creation_date": 1458799024, "post_id": 36190806, "comment_id": 60022140, "body": "Edited my question, tnx"}], "answers": [{"tags": [], "owner": {"reputation": 15853, "user_id": 1925257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yY7YW.jpg?s=128&g=1", "display_name": "xyres", "link": "https://stackoverflow.com/users/1925257/xyres"}, "is_accepted": true, "score": 3, "last_activity_date": 1458799525, "creation_date": 1458799525, "answer_id": 36194170, "question_id": 36190806, "link": "https://stackoverflow.com/questions/36190806/django-foo-set-doesnt-work/36194170#36194170", "title": "Django foo_set doesnt work", "body": "<p>It's not working because <code>filter</code> returns  a <code>QuerySet</code> (which is a list), not an object. You need to use <code>get</code> instead of <code>filter</code> because <code>get</code> returns an object.</p>\n\n<pre><code>f = Foo.objects.get(pk=1)\nf.bar_set.all()\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 4254346, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/230ae45a0fc56c1d7da16e497b52342f?s=128&d=identicon&r=PG&f=1", "display_name": "Prpaa", "link": "https://stackoverflow.com/users/4254346/prpaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 36194170, "answer_count": 1, "score": 1, "last_activity_date": 1458799525, "creation_date": 1458776571, "last_edit_date": 1458799001, "question_id": 36190806, "link": "https://stackoverflow.com/questions/36190806/django-foo-set-doesnt-work", "title": "Django foo_set doesnt work", "body": "<p>I got stucked with Django (v1.9.4) a bit. I have created two models, Foo and \nBar:</p>\n\n<pre><code>class Foo(models.Model):\n    name = models.CharField(max_length=100)\nclass Bar(models.Model):\n    foo_id = models.ForeignKey(Foo, on_delete=models.CASCADE)\n    title = models.CharField(max_length=300)\n</code></pre>\n\n<p>migrate it (sqlite3) and few moments later realized that it should be </p>\n\n<blockquote>\n  <p>foo instead of foo_id:</p>\n</blockquote>\n\n<pre><code>foo = models.ForeignKey(Foo, on_delete=models.CASCADE)\n</code></pre>\n\n<p>I migrated it again, with foo this time, but even after this correction I wasn't able to use</p>\n\n<pre><code>f = Foo.objects.filter(pk=1) \nf.bar_set.all()\n</code></pre>\n\n<p>Is there a way to deal with this?</p>\n\n<p>Edit.\nError msg:\nException Type: AttributeError\nException Value:'Foo' object has no attribute 'bar_set'</p>\n"}, {"tags": ["python", "linux", "numpy", "anaconda", "hdf5"], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 690576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a50c4f0c711accdd4df818707db3fafc?s=128&d=identicon&r=PG", "display_name": "JRajan", "link": "https://stackoverflow.com/users/690576/jrajan"}, "edited": false, "score": 0, "creation_date": 1573025226, "post_id": 36190926, "comment_id": 103741668, "body": "Ghost in the machine."}], "tags": [], "owner": {"reputation": 440, "user_id": 2869143, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1232381588750a9774c2c26349b55562?s=128&d=identicon&r=PG", "display_name": "frammnm", "link": "https://stackoverflow.com/users/2869143/frammnm"}, "is_accepted": false, "score": 5, "last_activity_date": 1458777190, "creation_date": 1458777190, "answer_id": 36190926, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/36190926#36190926", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>irony at it's best, i restarted my laptop without doing nothing, and it worked. Can't understand why.</p>\n"}, {"comments": [{"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "edited": false, "score": 0, "creation_date": 1470965754, "post_id": 37255951, "comment_id": 65175335, "body": "This fixed the issue for me. Thank you!"}, {"owner": {"reputation": 2433, "user_id": 5240483, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6633e058001e90af210fdf970cbdb7fc?s=128&d=identicon&r=PG&f=1", "display_name": "William Ross", "link": "https://stackoverflow.com/users/5240483/william-ross"}, "edited": false, "score": 0, "creation_date": 1478953538, "post_id": 37255951, "comment_id": 68362521, "body": "Yea, this also fixed the issue for me."}, {"owner": {"reputation": 697, "user_id": 2277037, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a81449edeb060ee13ce93118bc8aeb8a?s=128&d=identicon&r=PG", "display_name": "Maruf", "link": "https://stackoverflow.com/users/2277037/maruf"}, "edited": false, "score": 0, "creation_date": 1524821604, "post_id": 37255951, "comment_id": 87135226, "body": "This fixes the issue."}, {"owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "edited": false, "score": 0, "creation_date": 1556250434, "post_id": 37255951, "comment_id": 98381627, "body": "I had to do <code>pip uninstall lxml</code> because I had python-lxml package AND the pip version"}, {"owner": {"reputation": 402, "user_id": 927972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24381e039c7c79f1939609861ad8c1ce?s=128&d=identicon&r=PG", "display_name": "DMTishler", "link": "https://stackoverflow.com/users/927972/dmtishler"}, "edited": false, "score": 0, "creation_date": 1586575400, "post_id": 37255951, "comment_id": 108183021, "body": "I had to uninstall the problematic library and numpy. Then I had to reinstall with pip flag --no-cache-dir. See: <a href=\"https://stackoverflow.com/a/49199601/927972\">stackoverflow.com/a/49199601/927972</a>"}], "tags": [], "owner": {"reputation": 802, "user_id": 1376910, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/133ffd1e1ea44846fc7208b260fc15d2?s=128&d=identicon&r=PG&f=1", "display_name": "Galina Alperovich", "link": "https://stackoverflow.com/users/1376910/galina-alperovich"}, "is_accepted": true, "score": 33, "last_activity_date": 1463407779, "creation_date": 1463407779, "answer_id": 37255951, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/37255951#37255951", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>I had the same problem, probably you have installed numpy without Anaconda, so there is a conflict because of this, which numpy to use: that one installed with pip or with conda. When I removed non-Anaconda numpy, error gone. </p>\n\n<pre><code>pip uninstall numpy\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 85, "user_id": 2739989, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/a191e9913f833eb9057a4155467a8579?s=128&d=identicon&r=PG&f=1", "display_name": "r3t2", "link": "https://stackoverflow.com/users/2739989/r3t2"}, "is_accepted": false, "score": 0, "last_activity_date": 1473741302, "creation_date": 1473741302, "answer_id": 39462272, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/39462272#39462272", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>Initially, I installed cython using system /usr/bin/pip and anconda pip. I uninstalled system cython using system pip and reinstalled using \n<code>conda install cython</code>. Works now.</p>\n"}, {"tags": [], "owner": {"reputation": 1352, "user_id": 2063640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47c1f1400a0e795f77bf98361ba82e4?s=128&d=identicon&r=PG", "display_name": "eatcrayons", "link": "https://stackoverflow.com/users/2063640/eatcrayons"}, "is_accepted": false, "score": 5, "last_activity_date": 1481597559, "creation_date": 1481597559, "answer_id": 41113018, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/41113018#41113018", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>I agree with previous posts that this seems to be caused by having multiple versions of numpy installed. For me, it wasn't enough to just use pip, as I also had multiple versions of pip installed.</p>\n\n<p>Specifying the specific pip solved the problem:</p>\n\n<pre><code>/usr/bin/pip3 uninstall numpy\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10088, "user_id": 21028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/996a5828870fa84ad3a597f7935a9a5e?s=128&d=identicon&r=PG", "display_name": "csl", "link": "https://stackoverflow.com/users/21028/csl"}, "edited": false, "score": 0, "creation_date": 1548103338, "post_id": 47703373, "comment_id": 95415353, "body": "This actually worked with a CPython compiled from source as well (Python 3.5). Thanks!"}, {"owner": {"reputation": 10912, "user_id": 288280, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/hn4Ne.png?s=128&g=1", "display_name": "iTayb", "link": "https://stackoverflow.com/users/288280/itayb"}, "edited": false, "score": 0, "creation_date": 1575468788, "post_id": 47703373, "comment_id": 104577198, "body": "This was very helpful. Thanks."}], "tags": [], "owner": {"reputation": 792, "user_id": 2470546, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/3481ef0e9301264527be55cddbf40468?s=128&d=identicon&r=PG", "display_name": "BaluJr.", "link": "https://stackoverflow.com/users/2470546/balujr"}, "is_accepted": false, "score": 11, "last_activity_date": 1548979829, "last_edit_date": 1548979829, "creation_date": 1512679126, "answer_id": 47703373, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/47703373#47703373", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>For cython users: </p>\n\n<p><a href=\"https://github.com/numpy/numpy/issues/8415\" rel=\"noreferrer\">This</a> post was helpful. The post explains, that there is some flag (--with-fpectl), which is either set during the compilation of cpython or not. When a library has been compiled using a cpython without that flag, it is incompatible to a version with that flag being set. This effect does only show up when you use cython, as numpy itself does not use this extension. </p>\n\n<p>As further stated in that post, my Ubuntu 16.04 has been created with this flag and Conda without it. For me, it was specifically the module <em>hmmlearn</em> throwing the undefined symbol error. This must be the case because it was shipped by Ubuntu with the flag being set and not by anaconda. So I uninstalled hmmlearn and manually installed it anew from <a href=\"https://github.com/hmmlearn/hmmlearn\" rel=\"noreferrer\">sourcescode</a> (Anaconda, unfortunately, does not offer hmmlearn). --> Works!</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10503141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d5282d582b9c00dcff85d37c515caad?s=128&d=identicon&r=PG&f=1", "display_name": "kagdada hardik", "link": "https://stackoverflow.com/users/10503141/kagdada-hardik"}, "is_accepted": false, "score": 0, "last_activity_date": 1539531757, "last_edit_date": 1539531757, "creation_date": 1539530018, "answer_id": 52804095, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/52804095#52804095", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>First remove <code>numpy</code> from <code>/usr/local/lib/python2.7/dist-packages/numpy-1.11.0-py2.7-linux-x86_64.egg</code>\nand then use the following command</p>\n\n<p><code>sudo pip install numpy scipy</code></p>\n\n<p>I had solve this error in my case.</p>\n"}, {"tags": [], "owner": {"reputation": 402, "user_id": 927972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24381e039c7c79f1939609861ad8c1ce?s=128&d=identicon&r=PG", "display_name": "DMTishler", "link": "https://stackoverflow.com/users/927972/dmtishler"}, "is_accepted": false, "score": 0, "last_activity_date": 1586575297, "creation_date": 1586575297, "answer_id": 61151721, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf/61151721#61151721", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>I ran into this problem in a particular situation. Using <strong>Anaconda</strong> (3 I think) I was creating a new environment. Previously I had created a py3 env with numpy, Not sure if related. But when creating my new py2.7 environment I went to install a particular package Ta-lib via pip, but then had this same Question's import error relating to numpy for the particular case of Ta-lib.</p>\n\n<p><a href=\"https://stackoverflow.com/a/49199601/927972\">From this post Gaurav suggested</a> <strong>the use of pip flag --no-cache-dir</strong> to ensure a rebuild during install of numpy. I uninstalled my Ta-lib and numpy and then reinstalled them with this flag via pip and everything worked great.</p>\n"}], "owner": {"reputation": 440, "user_id": 2869143, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/1232381588750a9774c2c26349b55562?s=128&d=identicon&r=PG", "display_name": "frammnm", "link": "https://stackoverflow.com/users/2869143/frammnm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33868, "favorite_count": 5, "accepted_answer_id": 37255951, "answer_count": 7, "score": 21, "last_activity_date": 1586575297, "creation_date": 1458776316, "question_id": 36190757, "link": "https://stackoverflow.com/questions/36190757/numpy-undefined-symbol-pyfpe-jbuf", "title": "numpy undefined symbol: PyFPE_jbuf", "body": "<p>I am trying to use the One Million Song Dataset, for this i had to install python tables, numpy, cython, hdf5, numexpr, and so. </p>\n\n<p>Yesterday i managed to install all i needed, and after having some troubles with hdf5, i downloaded the precompiled binary packages and saved them in my /bin folder, and the respective libraries in /lib , after that i tested this python script : <code>http://labrosa.ee.columbia.edu/millionsong/sites/default/files/tutorial1.py.txt</code></p>\n\n<p>and it worked fine, to be clear the way i made it work was to first run the script and start installing the needed dependencies, but today i restarted my laptop and it didn't work, now it throws me this error on the console :</p>\n\n<pre><code>python2.7 script.py \n</code></pre>\n\n<p>returns : </p>\n\n<pre><code>import numpy as np # get it at: http://numpy.scipy.org/\nfrom . import random\nfrom .mtrand import *\nImportError: /home/francisco/.local/lib/python2.7/site-packages/numpy/random/mtrand.so: undefined symbol: PyFPE_jbuf\n</code></pre>\n\n<p>seems to me that there is a missing variable in such file, my guess is that the script is looking for the numpy library in the wrong place, since i made so many failed installations maybe i broke something and it only worked out because it was loaded in the temporal memory of the computer. </p>\n\n<p>I tried installing Anaconda, and i created a new environment  and installed the packaged with the anaconda package manager, and even thought i listed all packaged and it returns : </p>\n\n<pre><code># packages in environment at /home/francisco/anaconda2/envs/Music:\n#\nbiopython                 1.66                np110py27_0  \ncython                    0.23.4                    &lt;pip&gt;\nhdf5                      1.8.15.1                      2  \nmkl                       11.3.1                        0  \nnumexpr                   2.5                 np110py27_0  \nnumpy                     1.10.4                   py27_1  \nopenssl                   1.0.2g                        0  \npillow                    3.1.1                     &lt;pip&gt;\npip                       8.1.1                    py27_0  \npytables                  3.2.2               np110py27_1  \npython                    2.7.11                        0  \npython-ldap               2.4.25                    &lt;pip&gt;\nreadline                  6.2                           2  \nreportlab                 3.3.0                     &lt;pip&gt;\nrequirements              0.1                       &lt;pip&gt;\nsetuptools                20.3                     py27_0  \nsqlite                    3.9.2                         0  \ntables                    3.2.2                     &lt;pip&gt;\ntk                        8.5.18                        0  \nwheel                     0.29.0                   py27_0  \nzlib                      1.2.8                         0  \n</code></pre>\n\n<p>i still get the same error. I really need help and don't know what else to try. Thanks. </p>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458780596, "post_id": 36190751, "comment_id": 60017507, "body": "I copied your code, verbatim, and the problem is not reproducible. What is the exact error you are receiving? Can we see more code?"}, {"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "reply_to_user": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458786212, "post_id": 36190751, "comment_id": 60019032, "body": "Thank you for replying!  I edited the code in the example to make the directory names different from the file names. When I run the exact code I have posted now, I get:  <code>Traceback (most recent call last):   File &quot;main.py&quot;, line 1, in &lt;module&gt;     import x.a   File &quot;&#47;Users&#47;rsmirol&#47;PythonProject&#47;x&#47;a.py&quot;, line 1, in &lt;module&gt;     import y.b ImportError: No module named &#39;y&#39;</code>"}, {"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "reply_to_user": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458786325, "post_id": 36190751, "comment_id": 60019068, "body": "This happens on <code>python3 main.py</code>"}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458786351, "post_id": 36190751, "comment_id": 60019076, "body": "Okay, I will try it now."}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458786786, "post_id": 36190751, "comment_id": 60019187, "body": "I found a solution! I will post it as an answer."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458787230, "post_id": 36190751, "comment_id": 60019286, "body": "do you have any <code>__init__.py</code> files?"}, {"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "edited": false, "score": 0, "creation_date": 1458787736, "post_id": 36190751, "comment_id": 60019400, "body": "In the actual project I have empty <code>__init__.py</code> files in the x and y equivalents. They were not necessary for reproducing the same error."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458788171, "post_id": 36190751, "comment_id": 60019520, "body": "your <code>__init__</code> files should contain import statements that expose the functions you want to make public. <a href=\"https://docs.python.org/3/tutorial/modules.html#packages\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/modules.html#packages</a>"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "edited": false, "score": 2, "creation_date": 1458787320, "post_id": 36192310, "comment_id": 60019305, "body": "So to generalize, we could us os to find the absolute path to a module and add it to the python path?  Do you think this is something that makes sense to do in <code>__init__.py</code> for the modules?"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "reply_to_user": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "edited": false, "score": 3, "creation_date": 1458787393, "post_id": 36192310, "comment_id": 60019325, "body": "@Zaez Don&#39;t mess with the path. use <code>__init__.py</code> files. <a href=\"http://stackoverflow.com/a/21995949/1552748\">stackoverflow.com/a/21995949/1552748</a>"}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "edited": false, "score": 0, "creation_date": 1458787456, "post_id": 36192310, "comment_id": 60019338, "body": "Yes, it could make sense wherever you need to be importing those files. Also, you could always place your most-used files inside the actual Python <code>libs</code> directory."}, {"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 2, "creation_date": 1458787672, "post_id": 36192310, "comment_id": 60019391, "body": "@PaulH I don&#39;t see a solution that works without messing with the path directly or in <code>__init__.py</code> files. What am I missing? The problem essentially is that the project root doesn&#39;t care about y, but cares about x which cares about y, so when x calls `import y.b&#39; there is an import error that it can&#39;t find y."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 2, "creation_date": 1458787757, "post_id": 36192310, "comment_id": 60019412, "body": "each directory needs an init file. each init file should import the functions it wants to expose to the user. there&#39;s no need to modify the path."}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458787830, "post_id": 36192310, "comment_id": 60019429, "body": "@Paul I would argue that editing the <code>sys.path</code> is much easier than tediously adding <code>__init__.py</code> files to every directory that gets in the way."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 2, "creation_date": 1458788134, "post_id": 36192310, "comment_id": 60019508, "body": "that&#39;s not how packages should be built: <a href=\"https://docs.python.org/3/tutorial/modules.html#packages\" rel=\"nofollow noreferrer\">docs.python.org/3/tutorial/modules.html#packages</a>"}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458788327, "post_id": 36192310, "comment_id": 60019557, "body": "@Paul I see your point, but I don&#39;t know that Zaez wants to do anything more than a couple small files. I hardly think that warrants a whole new package setup, but I guess it would work just as well."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1458788554, "post_id": 36192310, "comment_id": 60019612, "body": "if that were the case, all of these functions would be in a single file at the top-level of the directory structure."}, {"owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458788675, "post_id": 36192310, "comment_id": 60019647, "body": "@Paul Good point! Either way, you should post your solution as an answer as well. That way, it presents two different options to Zaez."}, {"owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1458790490, "post_id": 36192310, "comment_id": 60020138, "body": "Thanks for the link @PaulH! I guess my question then becomes, in the example you linked, what if there was a .py file in the top level sound folder which imported from formats/effects/filters? Lets call it audio.py. External to the package, if I wanted to call a function in audio.py, I would not be able to use <code>from sound.audio import dothething</code> as the imports in audio.py would result in the same error Im seeing here. What do we do in <code>_init__.py</code> to solve that?"}], "tags": [], "owner": {"reputation": 2616, "user_id": 5732397, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mmdpdkr_pcc/AAAAAAAAAAI/AAAAAAAAC08/NKvQ733ixGo/photo.jpg?sz=128", "display_name": "StardustGogeta", "link": "https://stackoverflow.com/users/5732397/stardustgogeta"}, "is_accepted": true, "score": 1, "last_activity_date": 1458787017, "last_edit_date": 1495542230, "creation_date": 1458787017, "answer_id": 36192310, "question_id": 36190751, "link": "https://stackoverflow.com/questions/36190751/import-error-on-trying-to-import-a-submodule-that-imports-a-submodule/36192310#36192310", "title": "Import Error on trying to import a submodule that imports a submodule", "body": "<p>From <a href=\"https://stackoverflow.com/questions/4383571/importing-files-from-different-folder-in-python\">Importing files from different folder in Python</a>:</p>\n\n<h2>main.py</h2>\n\n<pre><code>import sys\nsys.path.insert(0, 'C:/path/x')\nimport a\na.bar()\n</code></pre>\n\n<h2>a.py</h2>\n\n<pre><code>import sys\nsys.path.insert(0, 'C:/path/x/y')\nimport b\ndef bar():\n    #Do some stuff\n    b.foo()\n</code></pre>\n\n<h2>b.py</h2>\n\n<pre><code>def foo():\n    print(\"Hello World\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 191, "user_id": 5890574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1dJG.jpg?s=128&g=1", "display_name": "Tom Logan", "link": "https://stackoverflow.com/users/5890574/tom-logan"}, "edited": false, "score": 0, "creation_date": 1506530930, "post_id": 46453086, "comment_id": 79862083, "body": "although - if someone wants to add to this so that a main() function within echo doesn&#39;t need to be called with echo.main(arg1, etc) but rather echo(arg1, etc) that&#39;d be great"}], "tags": [], "owner": {"reputation": 191, "user_id": 5890574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C1dJG.jpg?s=128&g=1", "display_name": "Tom Logan", "link": "https://stackoverflow.com/users/5890574/tom-logan"}, "is_accepted": false, "score": 3, "last_activity_date": 1506531712, "last_edit_date": 1506531712, "creation_date": 1506530372, "answer_id": 46453086, "question_id": 36190751, "link": "https://stackoverflow.com/questions/36190751/import-error-on-trying-to-import-a-submodule-that-imports-a-submodule/46453086#46453086", "title": "Import Error on trying to import a submodule that imports a submodule", "body": "<p>This was never properly answered even though Paul H alluded to the answer.</p>\n\n<p>It's very simple and mentioned but not directly stated <a href=\"https://docs.python.org/3/tutorial/modules.html#packages\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If you have a directory like this:</p>\n\n<pre><code>sound/                      Top-level package\n  __init__.py               Initialize the sound package\n  formats/                  Subpackage for file format conversions\n          __init__.py\n          wavread.py\n          wavwrite.py\n          aiffread.py\n          aiffwrite.py\n          auread.py\n          auwrite.py\n          ...\n  effects/                  Subpackage for sound effects\n          __init__.py\n          echo.py\n          surround.py\n          reverse.py\n          ...\n  filters/                  Subpackage for filters\n          __init__.py\n          equalizer.py\n          vocoder.py\n          karaoke.py\n          ...\n</code></pre>\n\n<p>The <code>__init__.py</code> file in (for example \"effects\") needs to include </p>\n\n<pre><code>import effects.echo\nimport effects.surround\nimport effects.reverse\n</code></pre>\n\n<p>To call a submodule from within a submodule, as you asked, for example, echo calls surround, then you will need to import surround into echo using\n<code>import effects.surround as surround</code></p>\n"}], "owner": {"reputation": 71, "user_id": 3399568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e37d0a3b8b659c16af0f9431dbb181cf?s=128&d=identicon&r=PG&f=1", "display_name": "Zaez", "link": "https://stackoverflow.com/users/3399568/zaez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5989, "favorite_count": 0, "accepted_answer_id": 36192310, "answer_count": 2, "score": 2, "last_activity_date": 1506531712, "creation_date": 1458776288, "last_edit_date": 1458786116, "question_id": 36190751, "link": "https://stackoverflow.com/questions/36190751/import-error-on-trying-to-import-a-submodule-that-imports-a-submodule", "title": "Import Error on trying to import a submodule that imports a submodule", "body": "<p>I feel like I'm missing something simple and basic. Here's a toy setup</p>\n\n<pre><code>PythonProject/\nmain.py\nx/\n    a.py\n    y/\n        b.py\n</code></pre>\n\n<p>b.py has a function foo with no dependencies</p>\n\n<pre><code>def foo():\n    print(\"Hello World\")\n</code></pre>\n\n<p>a.py needs foo from b.py to work and imports it directly</p>\n\n<pre><code>import y.b\ndef bar():\n    #Do some stuff\n    y.b.foo()\n</code></pre>\n\n<p>main.py needs bar from a.py</p>\n\n<pre><code>import x.a\nx.a.bar()\n</code></pre>\n\n<p>Now, running a.py works just fine, it successfully imports b and finds foo.\nTrying to run main.py however breaks with an import error: specifically \"import b\" fails during \"import a\"</p>\n\n<p>I get the impression that what needs to happen is that <code>b</code> needs to be exposed by an <code>__init__.py</code> in <code>a/</code> but I'm unsure what the pythonic way of doing this would be.</p>\n\n<p>What is the preferred solution to importing a module (a) which imports another module (b) preferably without bringing PythonProject awareness to a?</p>\n"}, {"tags": ["python", "google-bigquery", "etl"], "comments": [{"owner": {"reputation": 3163, "user_id": 4001094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8vxl.png?s=128&g=1", "display_name": "Danny Kitt", "link": "https://stackoverflow.com/users/4001094/danny-kitt"}, "edited": false, "score": 1, "creation_date": 1458779757, "post_id": 36190684, "comment_id": 60017273, "body": "Are you sure the queries are operating over the same data?  Could the underlying tables have changed between the query job that you are calling <code>getQueryResults</code> on in python and when you&#39;re rerunning it in the web UI?  If you can share the job IDs of the two jobs that return a different number of results, we can take a look and see what&#39;s going on."}, {"owner": {"reputation": 45, "user_id": 4577082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd4f5c4268c72e422544544fdbd8eee?s=128&d=identicon&r=PG&f=1", "display_name": "duuug", "link": "https://stackoverflow.com/users/4577082/duuug"}, "reply_to_user": {"reputation": 3163, "user_id": 4001094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8vxl.png?s=128&g=1", "display_name": "Danny Kitt", "link": "https://stackoverflow.com/users/4001094/danny-kitt"}, "edited": false, "score": 0, "creation_date": 1458837790, "post_id": 36190684, "comment_id": 60044280, "body": "Thanks for replying Danny. Here&#39;s the query:  SELECT   fullVisitorId,   visitId,   hits.hitNumber,   hits.page.pagePath FROM   TABLE_DATE_RANGE([98843070.ga_sessions_], TIMESTAMP(&#39;2015-03-16&#39;), TIMESTAMP(&#39;2016-03-16&#39;)) LIMIT   100  Doesn&#39;t seem to me that the data could be changing. How should I send you the jobId&#39;s?"}, {"owner": {"reputation": 45, "user_id": 4577082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd4f5c4268c72e422544544fdbd8eee?s=128&d=identicon&r=PG&f=1", "display_name": "duuug", "link": "https://stackoverflow.com/users/4577082/duuug"}, "reply_to_user": {"reputation": 3163, "user_id": 4001094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8vxl.png?s=128&g=1", "display_name": "Danny Kitt", "link": "https://stackoverflow.com/users/4001094/danny-kitt"}, "edited": false, "score": 0, "creation_date": 1458838495, "post_id": 36190684, "comment_id": 60044735, "body": "Are they OK to post?"}, {"owner": {"reputation": 3163, "user_id": 4001094, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u8vxl.png?s=128&g=1", "display_name": "Danny Kitt", "link": "https://stackoverflow.com/users/4001094/danny-kitt"}, "edited": false, "score": 0, "creation_date": 1458841555, "post_id": 36190684, "comment_id": 60046651, "body": "Posting them publicly should be okay, if you don&#39;t mind sharing your project ID.  If you&#39;d rather not post them here, you can e-mail them to me at dkitt@google.com."}, {"owner": {"reputation": 115571, "user_id": 5221944, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/iqXab.png?s=128&g=1", "display_name": "Mikhail Berlyant", "link": "https://stackoverflow.com/users/5221944/mikhail-berlyant"}, "edited": false, "score": 0, "creation_date": 1458842054, "post_id": 36190684, "comment_id": 60046984, "body": "looking into @duuug &#39;s query - i think the answer is obvious, would be good to see if it is confirmed"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 4577082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd4f5c4268c72e422544544fdbd8eee?s=128&d=identicon&r=PG&f=1", "display_name": "duuug", "link": "https://stackoverflow.com/users/4577082/duuug"}, "edited": false, "score": 0, "creation_date": 1458844665, "post_id": 36206797, "comment_id": 60048618, "body": "that makes sense - I&#39;ve confirmed that successive queries through the API w/ useQueryCache of the request body set to False have different counts. tricky! a good reminder to always keep in mind the behaviour of repeated fields."}], "tags": [], "owner": {"reputation": 115571, "user_id": 5221944, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/iqXab.png?s=128&g=1", "display_name": "Mikhail Berlyant", "link": "https://stackoverflow.com/users/5221944/mikhail-berlyant"}, "is_accepted": true, "score": 1, "last_activity_date": 1458841881, "creation_date": 1458841881, "answer_id": 36206797, "question_id": 36190684, "link": "https://stackoverflow.com/questions/36190684/bigquery-result-set-in-ui-and-from-api-have-different-number-of-rows-why/36206797#36206797", "title": "BigQuery: result set in UI and from API have different number of rows. Why?", "body": "<p>The reason you are getting different result is in fact that (most likely) some of fields you are referencing in your SELECT are repeated (hits.hitNumber, hits.page.pagePath) and you have LIMIT 100 in place.  </p>\n\n<p>Now, because you do not have any ORDER BY the order is not predictable, so each time you run query you are getting different 100 rows/records which in turn have different counts of nested fields resulting in different final counts (unless you use cached results)  </p>\n\n<p>Hope it makes sense to you</p>\n"}], "owner": {"reputation": 45, "user_id": 4577082, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8cd4f5c4268c72e422544544fdbd8eee?s=128&d=identicon&r=PG&f=1", "display_name": "duuug", "link": "https://stackoverflow.com/users/4577082/duuug"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 265, "favorite_count": 0, "accepted_answer_id": 36206797, "answer_count": 1, "score": 1, "last_activity_date": 1458841881, "creation_date": 1458775888, "question_id": 36190684, "link": "https://stackoverflow.com/questions/36190684/bigquery-result-set-in-ui-and-from-api-have-different-number-of-rows-why", "title": "BigQuery: result set in UI and from API have different number of rows. Why?", "body": "<p>I'm using the Python BigQuery Client Library. My connection is good, querying the same dataset, etc. Check this out:</p>\n\n<pre><code>queryOutput = bigquery.jobs().getQueryResults(projectId=projectId,jobId=jobId,pageToken=pageToken).execute()\nprint('totalRows: '+str(queryOutput['totalRows']))\n</code></pre>\n\n<p>returns:</p>\n\n<pre><code>totalRows: 208\n</code></pre>\n\n<p>But if I take the very same query, and feed it into the BQ web UI, there are 176 rows in the result-set. Why is this happening? Why does one query have different result sets depending on which interface it's going through?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1458775854, "post_id": 36190642, "comment_id": 60016230, "body": "From where you want to retrieve data, that must be allow you date comparison, like if you use <code>DJango</code> date field, then it will allow date comparison"}, {"owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "reply_to_user": {"reputation": 7673, "user_id": 3004881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lFgVw.jpg?s=128&g=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3004881/dan-getz"}, "edited": false, "score": 0, "creation_date": 1458778076, "post_id": 36190642, "comment_id": 60016887, "body": "@DanGetz - thanks - yeh, that was what i meant - and thanks for the answer - this is was exactly the sort of thing i was hoping for."}], "answers": [{"tags": [], "owner": {"reputation": 7673, "user_id": 3004881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lFgVw.jpg?s=128&g=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3004881/dan-getz"}, "is_accepted": true, "score": 1, "last_activity_date": 1458778109, "last_edit_date": 1458778109, "creation_date": 1458777528, "answer_id": 36190986, "question_id": 36190642, "link": "https://stackoverflow.com/questions/36190642/structure-to-store-and-retrieve-date-information-between-two-specific-dates/36190986#36190986", "title": "Structure to store and retrieve date information between two specific dates", "body": "<p><strong>No,</strong> there's no simple built-in structure that would do this in an optimized way.</p>\n\n<p><strong>However,</strong> the standard library module <a href=\"https://docs.python.org/3/library/bisect.html\" rel=\"nofollow\"><code>bisect</code></a> provides functions for working with sorted lists in a more optimized way than list comprehensions would. You can use this to accomplish your task; it just takes a little work and care.</p>\n\n<p>Unfortunately, they don't take a key function as an argument, like <code>list.sort()</code> does. So to use the <code>bisect</code> functions you need to preprocess your event objects into things that are comparable, and will compare primarily based on their dates. Tuples can be nice for this:</p>\n\n<pre><code>preprocessed_events = [(e['date_event'], e['event_name']) for e in events]\npreprocessed_events.sort()\n</code></pre>\n\n<p>Now you can use <code>bisect_left()</code> and <code>bisect_right()</code> to get the indices of your sorted list where the events you want begin and end (assuming your endpoints are both inclusive):</p>\n\n<pre><code>index_first = bisect.bisect_left(preprocessed_events, (start_date,))\nindex_last = bisect.bisect_right(preprocessed_events, (end_date,))\n</code></pre>\n\n<p>Note that you have to turn <code>start_date</code> and <code>end_date</code> into tuples to be comparable with the tuples in the sorted list.</p>\n\n<p>Knowing the start and end indices, you can get a list of all the events with a slice of the sorted list, and if need be convert them back into whatever form you want to return them in.</p>\n\n<p>Don't forget to check your slice indices, and your choices of <code>bisect_left()</code> and <code>bisect_right()</code>, to make sure you're including/excluding the endpoints you want to include/exclude. Especially in the case where you have multiple events on the same date as your <code>start_date</code> or <code>end_date</code>.</p>\n"}], "owner": {"reputation": 4435, "user_id": 2801069, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/b7f58afbd866da432633593302fe79c4?s=128&d=identicon&r=PG&f=1", "display_name": "kyrenia", "link": "https://stackoverflow.com/users/2801069/kyrenia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 36190986, "answer_count": 1, "score": 0, "last_activity_date": 1458778109, "creation_date": 1458775710, "last_edit_date": 1458777922, "question_id": 36190642, "link": "https://stackoverflow.com/questions/36190642/structure-to-store-and-retrieve-date-information-between-two-specific-dates", "title": "Structure to store and retrieve date information between two specific dates", "body": "<p>I have events that have occurred on specific dates e.g:</p>\n\n<pre><code>[{'date_event': datetime.date(2001, 1, 1), 'event_name': 'event_1'},\n {'date_event': datetime.date(2001, 10, 1), 'event_name': 'event_2'}]\n</code></pre>\n\n<p>I am looking for a data structure in Python to store this information in such a way that I can easily retrieve events that occur between specific dates. In essence, I want to be able to query a data structure and return events that occurred between two dates. e.g.:</p>\n\n<pre><code> def return_events_between_dates(start_date, end_date):\n     ...\n     return(list_of_events)\n</code></pre>\n\n<p>Is there a builtin structure in Python which easily allows this? I am not looking to re-invent the wheel if there is already something which is optimized for this sort of query. If not, would list-comprehension be the best approach?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 1765, "user_id": 1292641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xgo4A.jpg?s=128&g=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/1292641/norman"}, "edited": false, "score": 2, "creation_date": 1458775596, "post_id": 36190533, "comment_id": 60016131, "body": "Use <code>np.any(np.in1d(array2, array1))</code>."}], "answers": [{"tags": [], "owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "is_accepted": false, "score": 8, "last_activity_date": 1458775437, "creation_date": 1458775437, "answer_id": 36190579, "question_id": 36190533, "link": "https://stackoverflow.com/questions/36190533/python-check-if-an-numpy-array-contains-any-element-of-another-array/36190579#36190579", "title": "python: check if an numpy array contains any element of another array", "body": "<p>You can try this</p>\n\n<pre><code>&gt;&gt;&gt; array1 = [10,5,4,13,10,1,1,22,7,3,15,9]\n&gt;&gt;&gt; array2 = [3,4,9,10,13,15,16,18,19,20,21,22,23]\n&gt;&gt;&gt; set(array1) &amp; set(array2)\nset([3, 4, 9, 10, 13, 15, 22])\n</code></pre>\n\n<p>If you get result means there are common elements in both array.</p>\n\n<p>If result is empty means no common elements.</p>\n"}, {"comments": [{"owner": {"reputation": 1765, "user_id": 1292641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xgo4A.jpg?s=128&g=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/1292641/norman"}, "edited": false, "score": 0, "creation_date": 1458775941, "post_id": 36190611, "comment_id": 60016260, "body": "I had the arrays swapped in my comment. I corrected it."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 1765, "user_id": 1292641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xgo4A.jpg?s=128&g=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/1292641/norman"}, "edited": false, "score": 0, "creation_date": 1458776078, "post_id": 36190611, "comment_id": 60016308, "body": "@Norman Does the order matter?  If we are testing to check whether they share a single value, I wouldn&#39;t think so."}, {"owner": {"reputation": 1765, "user_id": 1292641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xgo4A.jpg?s=128&g=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/1292641/norman"}, "edited": false, "score": 0, "creation_date": 1458776264, "post_id": 36190611, "comment_id": 60016366, "body": "Oh yeah right it&#39;s late :-) One might put the shorter array first for performance reasons, though."}, {"owner": {"reputation": 195, "user_id": 5809613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4ec572ee49df7dabd7e1d8d2bd9505d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5809613/alex"}, "edited": false, "score": 1, "creation_date": 1458779758, "post_id": 36190611, "comment_id": 60017274, "body": "And what about <code>np.intersect1d</code>? I just found it."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 22, "last_activity_date": 1460659553, "last_edit_date": 1460659553, "creation_date": 1458775600, "answer_id": 36190611, "question_id": 36190533, "link": "https://stackoverflow.com/questions/36190533/python-check-if-an-numpy-array-contains-any-element-of-another-array/36190611#36190611", "title": "python: check if an numpy array contains any element of another array", "body": "<p>Using Pandas, you can use <code>isin</code>:</p>\n\n<pre><code>a1 = np.array([10,5,4,13,10,1,1,22,7,3,15,9])\na2 = np.array([3,4,9,10,13,15,16,18,19,20,21,22,23])\n\n&gt;&gt;&gt; pd.Series(a1).isin(a2).any()\nTrue\n</code></pre>\n\n<p>And using the <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.in1d.html#numpy.in1d\" rel=\"noreferrer\">in1d</a> numpy function(per the comment from @Norman):</p>\n\n<pre><code>&gt;&gt;&gt; np.any(np.in1d(a1, a2))\nTrue\n</code></pre>\n\n<p>For small arrays such as those in this example, the solution using set is the clear winner.  For larger, dissimilar arrays (i.e. no overlap), the Pandas and Numpy solutions are faster.  However, <a href=\"http://docs.scipy.org/doc/numpy-1.10.1/reference/generated/numpy.intersect1d.html\" rel=\"noreferrer\"><code>np.intersect1d</code></a> appears to excel for larger arrays.</p>\n\n<p><strong>Small arrays (12-13 elements)</strong></p>\n\n<pre><code>%timeit set(array1) &amp; set(array2)\nThe slowest run took 4.22 times longer than the fastest. This could mean that an intermediate result is being cached \n1000000 loops, best of 3: 1.69 \u00b5s per loop\n\n%timeit any(i in a1 for i in a2)\nThe slowest run took 12.29 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 1.88 \u00b5s per loop\n\n%timeit np.intersect1d(a1, a2)\nThe slowest run took 10.29 times longer than the fastest. This could mean that an intermediate result is being cached \n100000 loops, best of 3: 15.6 \u00b5s per loop\n\n%timeit np.any(np.in1d(a1, a2))\n10000 loops, best of 3: 27.1 \u00b5s per loop\n\n%timeit pd.Series(a1).isin(a2).any()\n10000 loops, best of 3: 135 \u00b5s per loop\n</code></pre>\n\n<p><strong>Using an array with 100k elements (no overlap)</strong>:</p>\n\n<pre><code>a3 = np.random.randint(0, 100000, 100000)\na4 = a3 + 100000\n\n%timeit np.intersect1d(a3, a4)\n100 loops, best of 3: 13.8 ms per loop    \n\n%timeit pd.Series(a3).isin(a4).any()\n100 loops, best of 3: 18.3 ms per loop\n\n%timeit np.any(np.in1d(a3, a4))\n100 loops, best of 3: 18.4 ms per loop\n\n%timeit set(a3) &amp; set(a4)\n10 loops, best of 3: 23.6 ms per loop\n\n%timeit any(i in a3 for i in a4)\n1 loops, best of 3: 34.5 s per loop\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1411, "user_id": 5805330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26778c360fbb08f6d7d1b10ebaabd015?s=128&d=identicon&r=PG&f=1", "display_name": "cromod", "link": "https://stackoverflow.com/users/5805330/cromod"}, "is_accepted": false, "score": 2, "last_activity_date": 1458777960, "creation_date": 1458777960, "answer_id": 36191034, "question_id": 36190533, "link": "https://stackoverflow.com/questions/36190533/python-check-if-an-numpy-array-contains-any-element-of-another-array/36191034#36191034", "title": "python: check if an numpy array contains any element of another array", "body": "<p>You can use <code>any</code> built-in function and list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; array1 = [10,5,4,13,10,1,1,22,7,3,15,9]\n&gt;&gt;&gt; array2 = [3,4,9,10,13,15,16,18,19,20,21,22,23]\n&gt;&gt;&gt; any(i in array2 for i in array1)\nTrue\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 5809613, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4ec572ee49df7dabd7e1d8d2bd9505d?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/5809613/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12713, "favorite_count": 3, "accepted_answer_id": 36190611, "answer_count": 3, "score": 14, "last_activity_date": 1460659553, "creation_date": 1458775199, "last_edit_date": 1458776209, "question_id": 36190533, "link": "https://stackoverflow.com/questions/36190533/python-check-if-an-numpy-array-contains-any-element-of-another-array", "title": "python: check if an numpy array contains any element of another array", "body": "<p>What is the best way to check if an numpy array contains any element of another array?</p>\n\n<p>example:</p>\n\n<pre><code>array1 = [10,5,4,13,10,1,1,22,7,3,15,9]\narray2 = [3,4,9,10,13,15,16,18,19,20,21,22,23]`\n</code></pre>\n\n<p>I want to get a <code>True</code> if <code>array1</code> contains any value of <code>array2</code>, otherwise a <code>False</code>.</p>\n"}, {"tags": ["python", "python-3.x", "error-handling", "attributeerror"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1458775089, "post_id": 36190476, "comment_id": 60015957, "body": "You need to move the second close parenthesis to the end of the line.  You also should do <code>.title()</code>, not <code>.title</code>."}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 2, "creation_date": 1458775308, "post_id": 36190476, "comment_id": 60016036, "body": "I saw like 4 python questions with typos in the past hour, I feel like there is a python assignment due tomorrow at some university."}], "answers": [{"comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1458775319, "post_id": 36190518, "comment_id": 60016041, "body": "What he actually wants is to store the input in the variables <code>q1</code>, <code>q2</code> etc., so printing outright is also wrong."}], "tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": false, "score": 1, "last_activity_date": 1458775848, "last_edit_date": 1495542230, "creation_date": 1458775103, "answer_id": 36190518, "question_id": 36190476, "link": "https://stackoverflow.com/questions/36190476/attributeerror-nonetype-object-has-no-attribute-title/36190518#36190518", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;title&#39;", "body": "<p>The <code>print</code> function does not return anything, or more specifically it returns <code>NoneType</code>. Thus, you can't get the value of it's member <code>title</code>.</p>\n\n<pre><code>print(input(\"What is the capital of England?\")).title\n</code></pre>\n\n<p>Is equivalent to:</p>\n\n<pre><code>answer = input(\"What is the capital of England?\")\nprint(answer).title\n</code></pre>\n\n<p>But <code>print(answer)</code> will simply print out whatever the user inputted <em>and then return a None object</em>. What you actually want is:</p>\n\n<pre><code>print(input(\"What is the capital of England?\").title())\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/24717603/python-3-4-formatting-string-input-into-title-format\">See this for more about print and title.</a></p>\n\n<p>This will uncover a separate problem with your code: that you're trying to simultaneously input something and print the question for which you want input. In which case <a href=\"http://anh.cs.luc.edu/python/hands-on/3.1/handsonHtml/io.html\" rel=\"nofollow noreferrer\">this is what you want</a>:</p>\n\n<pre><code>q1 = input(\"What is the capital of England?\")  # This will automatically print 'What is...' when it reaches this point in the program\n</code></pre>\n\n<p>The above will save the user input to <code>q1</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1458775183, "creation_date": 1458775183, "answer_id": 36190530, "question_id": 36190476, "link": "https://stackoverflow.com/questions/36190476/attributeerror-nonetype-object-has-no-attribute-title/36190530#36190530", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;title&#39;", "body": "<p>The error message indicates that the problem is with this line:</p>\n\n<pre><code>q1 = print(input(\"What is the capital of England?\")).title\n</code></pre>\n\n<p>What you're doing here is asking for user input (with the <code>input</code> function of python3.x), and then printing that result to standard out (usually, that is the screen or \"the terminal window\"). However, <code>print</code> does not return anything special, so in python terminology, it returns <code>None</code>. <code>None</code> is a singleton (consider it a special type of variable) that does not have the attribute <code>title</code>, so you can't type e.g. <code>None.title</code>.</p>\n\n<p>Consider just storing the input to <code>q1</code>, like this:</p>\n\n<pre><code>q1 = input(\"What is the capital of England?\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11740, "user_id": 652722, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/54bbedbfc6523d9205ab23cf75a8b16a?s=128&d=identicon&r=PG", "display_name": "Tyler Crompton", "link": "https://stackoverflow.com/users/652722/tyler-crompton"}, "is_accepted": false, "score": 0, "last_activity_date": 1458775214, "creation_date": 1458775214, "answer_id": 36190537, "question_id": 36190476, "link": "https://stackoverflow.com/questions/36190476/attributeerror-nonetype-object-has-no-attribute-title/36190537#36190537", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;title&#39;", "body": "<p><code>print()</code> returns <code>None</code>. Therefore, <code>print(...).title</code> raises the <code>AttributeError</code> that you're seeing.</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 6106964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d613d1f9966b35b17a065589ff2cba8c?s=128&d=identicon&r=PG&f=1", "display_name": "Zederick", "link": "https://stackoverflow.com/users/6106964/zederick"}, "is_accepted": false, "score": 0, "last_activity_date": 1458775622, "creation_date": 1458775622, "answer_id": 36190619, "question_id": 36190476, "link": "https://stackoverflow.com/questions/36190476/attributeerror-nonetype-object-has-no-attribute-title/36190619#36190619", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;title&#39;", "body": "<p><code>print</code> doesn't have a attribute called \"title\". That is, you can't do:</p>\n\n<pre><code>print().title\n</code></pre>\n\n<p>Really I think what you want to do is get rid of <code>print()</code> entirely, so like this:</p>\n\n<pre><code>q1 = input(\"What is the capital of England?\")\nif q1 == 'London':\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5896407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e13e1f0a7c9d5f65789d68985e9df1d7?s=128&d=identicon&r=PG&f=1", "display_name": "python_noobie", "link": "https://stackoverflow.com/users/5896407/python-noobie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2779, "favorite_count": 0, "closed_date": 1458854047, "answer_count": 4, "score": -2, "last_activity_date": 1458775848, "creation_date": 1458774825, "question_id": 36190476, "link": "https://stackoverflow.com/questions/36190476/attributeerror-nonetype-object-has-no-attribute-title", "closed_reason": "Not suitable for this site", "title": "AttributeError: &#39;NoneType&#39; object has no attribute &#39;title&#39;", "body": "<p>Tried to run this code, but error says that I have made a mistake with .title . How can I fix this? (Please note that I am still an amateur in the world of Python, and am open to any suggestions which could improve my code. However, chances are that I will not understand it unless it is explained, if it is something new e.g. you could use __________ instead of _________ .)</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import time\nimport sys\n\nprint(\"Welcome to my quiz\")\ntime.sleep(2)\ninput('Press enter to continue')\n\nscore = int(0)\nfailed = int(0)\n\ndef points():\n    print(\"Correct! Well done!\")\n    global score\n    score = score + 1\n\ndef fail():\n    print(\"Oh no, that is incorrect\")\n    global failed\n    failed = failed + 1\n\ndef printtotal():\n    global score\n    global failed\n    print(\"You have \",score,\"points, and \",failed,\"/3 lives used.\")\n\nif failed == 5:\n    sys.exit('Program terminated.')\n\nprint('You will have 5 seconds to answer each question \\nIf you fail 5 times or more, the program will exit')\ntime.sleep(3)\nprint('Good luck!')\ntime.sleep(2)\n\nq1 = print(input(\"What is the capital of England?\")).title\nif q1 == 'London':\n    points()\nelse:\n    fail()\nprinttotal()\n\nq2 = print(input(\"Who is the prime minister's wife?\")).title\nif q2 == 'Samantha' or 'Samantha Cameron':\n    points()\nelse: \n   fail()\nprinttotal()\n\nprint('How would you say \\'I came, I saw, I conquered\\' in latin?')\nprint('a) veni, vidi, vici')\nprint('b) veni, vedi, vici')\nprint('c) vini, vedi, vici')\nq3 = print(input('Type the letter here:'))\nif q3 == 'a)' or 'a':\n    points()\nelse:\n    fail()\nprinttotal()\n</code></pre>\n\n<p>If I try to execute this code, this is the error I get:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/root/Desktop/Python_Stuff/quiz.py\", line 34, in &lt;module&gt;\n    q1 = print(input(\"What is the capital of England?\")).title\nAttributeError: 'NoneType' object has no attribute 'title'\n</code></pre>\n\n<p>If anyone happens to spot anymore errors, please do tell me. How can I fix this error?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 2, "creation_date": 1458774831, "post_id": 36190452, "comment_id": 60015861, "body": "What is the error?"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 1, "creation_date": 1458774938, "post_id": 36190452, "comment_id": 60015904, "body": "Your code has indentation errors. Whitespace matters in python, and try not to mix tabs and spaces."}, {"owner": {"reputation": 127, "user_id": 6064971, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134798893227582/picture?type=large", "display_name": "Utsav", "link": "https://stackoverflow.com/users/6064971/utsav"}, "reply_to_user": {"reputation": 53754, "user_id": 198536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9edaf4c1c1b89b5d39c40528d0017509?s=128&d=identicon&r=PG", "display_name": "wallyk", "link": "https://stackoverflow.com/users/198536/wallyk"}, "edited": false, "score": 0, "creation_date": 1458774971, "post_id": 36190452, "comment_id": 60015914, "body": "It says a Type error: unhashable type: &quot;list&quot; @wallyk"}, {"owner": {"reputation": 1765, "user_id": 1292641, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xgo4A.jpg?s=128&g=1", "display_name": "Norman", "link": "https://stackoverflow.com/users/1292641/norman"}, "edited": false, "score": 0, "creation_date": 1458775109, "post_id": 36190452, "comment_id": 60015968, "body": "The error is that <code>yzYZ = replace[replaced]</code> should be <code>yzYZ = replace[yzYZ]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 1095, "user_id": 6079540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fIk1Q.jpg?s=128&g=1", "display_name": "dron22", "link": "https://stackoverflow.com/users/6079540/dron22"}, "edited": false, "score": 1, "creation_date": 1458777581, "post_id": 36190508, "comment_id": 60016748, "body": "This does not work for me. The keys of the the table dictionary have to be ordinals, as mentioned in the <a href=\"https://docs.python.org/3/library/stdtypes.html#str.translate\" rel=\"nofollow noreferrer\">documentation</a> and here: <a href=\"https://stackoverflow.com/questions/17020661/why-doesnt-str-translate-work-in-python-3\" title=\"why doesnt str translate work in python 3\">stackoverflow.com/questions/17020661/&hellip;</a>"}, {"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1458777966, "post_id": 36190508, "comment_id": 60016852, "body": "The OP wanted the code for Python 3. Maketrans+translate does exactly that. (I updated the question to add maketrans)"}], "tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": false, "score": 3, "last_activity_date": 1458777738, "last_edit_date": 1458777738, "creation_date": 1458775025, "answer_id": 36190508, "question_id": 36190452, "link": "https://stackoverflow.com/questions/36190452/a-code-that-replaces-a-capital-y-with-a-capital-z-and-a-lowercase-y-with-a-lower/36190508#36190508", "title": "A code that replaces a capital y with a capital z and a lowercase y with a lowercase z or the other way around", "body": "<p>This does exactly what you need:</p>\n\n<pre><code>translation_table = str.maketrans({\"Y\":\"Z\",\"y\":\"z\",\"Z\":\"Y\",\"z\":\"y\"})\n\ndef fix_yz(input_):\n    return input_.translate(translation_table)\n</code></pre>\n\n<p>You create a translation table, and then translate everything using it. It is VERY fast regarding execution time, and a very simple solution.</p>\n"}, {"tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": true, "score": 1, "last_activity_date": 1458809821, "last_edit_date": 1458809821, "creation_date": 1458775036, "answer_id": 36190511, "question_id": 36190452, "link": "https://stackoverflow.com/questions/36190452/a-code-that-replaces-a-capital-y-with-a-capital-z-and-a-lowercase-y-with-a-lower/36190511#36190511", "title": "A code that replaces a capital y with a capital z and a lowercase y with a lowercase z or the other way around", "body": "<p>Your code has two errors: an indentation error on the return statement, and a wrong variable. You try to index the dictionary by a list.</p>\n\n<p>Fixed version:</p>\n\n<pre><code>replace = {\"Y\":\"Z\",\"y\":\"z\",\"Z\":\"Y\",\"z\":\"y\"}\ndef fix_yz(Input):\n  replaced=[]\n  for yzYZ in Input:\n    if yzYZ in replace:\n      yzYZ = replace[yzYZ]\n    replaced.append(yzYZ)\n  return ''.join(replaced)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 0, "last_activity_date": 1458776866, "last_edit_date": 1458776866, "creation_date": 1458776375, "answer_id": 36190770, "question_id": 36190452, "link": "https://stackoverflow.com/questions/36190452/a-code-that-replaces-a-capital-y-with-a-capital-z-and-a-lowercase-y-with-a-lower/36190770#36190770", "title": "A code that replaces a capital y with a capital z and a lowercase y with a lowercase z or the other way around", "body": "<p>As already pointed out you simply used the wrong variable in your code, you are trying to lookup using <code>[replaced]</code> which is a list not <code>yzYZ</code> which is each character in your string:</p>\n\n<pre><code>replace = {\"Y\":\"Z\",\"y\":\"z\",\"Z\":\"Y\",\"z\":\"y\"}\ndef fix_yz(Input):\n   replaced = []\n   for yzYZ in Input:\n     if yzYZ in replace:\n        yzYZ = replace[yzYZ] # replace[yzYZ]\n     replaced.append(yzYZ)\n   return ''.join(replaced)\n</code></pre>\n\n<p>You can also simplify your own logic using <code>dict.get</code> using each character as the default value if the char is not in your <em>replace</em> dict:</p>\n\n<pre><code>def fix_yz(inp):\n   return ''.join([replace.get(ch, ch) for ch in inp])\n</code></pre>\n\n<p>If you were to use <a href=\"https://docs.python.org/3/library/string.html#string.translate\" rel=\"nofollow\"><em>str.translate</em></a> you need to use the ord of each char for your dict mapping:</p>\n\n<pre><code>replace = {ord(\"Y\"): \"Z\", ord(\"y\"): \"z\", ord(\"Z\"): \"Y\", ord(\"z\"): \"y\"}\n\ndef fix_yz(inp):\n    return inp.translate(replace)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1095, "user_id": 6079540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fIk1Q.jpg?s=128&g=1", "display_name": "dron22", "link": "https://stackoverflow.com/users/6079540/dron22"}, "is_accepted": false, "score": 0, "last_activity_date": 1458777536, "last_edit_date": 1458777536, "creation_date": 1458776878, "answer_id": 36190867, "question_id": 36190452, "link": "https://stackoverflow.com/questions/36190452/a-code-that-replaces-a-capital-y-with-a-capital-z-and-a-lowercase-y-with-a-lower/36190867#36190867", "title": "A code that replaces a capital y with a capital z and a lowercase y with a lowercase z or the other way around", "body": "<p>In Python3 you can do</p>\n\n<pre><code>def fix_yz(s):\n    return s.translate(str.maketrans(\"yYzY\", \"zZyY\"))\n</code></pre>\n\n<p>or</p>\n\n<pre><code>table = {ord(\"Y\"):\"Z\",ord(\"y\"):\"z\",ord(\"Z\"):\"Y\",ord(\"z\"):\"y\"}\ndef fix_yz(s):\n    return s.translate(table)\n</code></pre>\n\n<p>in &lt; Python3  it would be</p>\n\n<pre><code>from string import maketrans\n\ntable = maketrans(\"yYzY\", \"zZyY\")\n\ndef fix_yz(s):\n    return s.translate(table)\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6064971, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134798893227582/picture?type=large", "display_name": "Utsav", "link": "https://stackoverflow.com/users/6064971/utsav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 36190511, "answer_count": 4, "score": 0, "last_activity_date": 1458809821, "creation_date": 1458774685, "question_id": 36190452, "link": "https://stackoverflow.com/questions/36190452/a-code-that-replaces-a-capital-y-with-a-capital-z-and-a-lowercase-y-with-a-lower", "title": "A code that replaces a capital y with a capital z and a lowercase y with a lowercase z or the other way around", "body": "<p>My task here is to write a function called fix_yz. This function takes a single argument which will be a string. My function returns this string with all of the ys and zs swapped, and all of the Ys and Zs swapped.\nWhat i have done:</p>\n\n<pre><code>replace = {\"Y\":\"Z\",\"y\":\"z\",\"Z\":\"Y\",\"z\":\"y\"}\ndef fix_yz(Input):\n   replaced=[]\n   for yzYZ in Input:\n     if yzYZ in replace:\n        yzYZ = replace[replaced]\n     replaced.append(yzYZ)\n  return ''.join(replaced)\n</code></pre>\n\n<p>although i get a error and i dont understand which line to work on.</p>\n"}, {"tags": ["jquery", "python", "html", "flask", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 1406, "user_id": 4060120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2ed2f81836984af6bfcb34fcb5c3935f?s=128&d=identicon&r=PG&f=1", "display_name": "JahMyst", "link": "https://stackoverflow.com/users/4060120/jahmyst"}, "is_accepted": true, "score": 1, "last_activity_date": 1461600680, "last_edit_date": 1461600680, "creation_date": 1458842252, "answer_id": 36206911, "question_id": 36190443, "link": "https://stackoverflow.com/questions/36190443/flask-socketio-stream-command-output-to-html-element/36206911#36206911", "title": "Flask + SocketIO - Stream command output to HTML element", "body": "<p>To answer my own question, I solved this problem by adding: <code>eventlet.sleep(0)</code> after each <code>send</code> call in the Python code.</p>\n\n<p>The new code is as such:</p>\n\n<p><strong>Python</strong></p>\n\n<pre><code>@socketio.on('message', namespace='/stream') \ndef stream(cmd):\n   # Streams output of a command\n   print(\"Received msg %s from JS socket\" % cmd)\n   print(\"Executing %s\" % cmd)\n   from shelljob import proc\n   g = proc.Group()\n   p = g.run(cmd)\n   while g.is_pending():\n       lines = g.readlines()\n       for proc, line in lines:\n           print(line)\n           send(line, namespace='/stream')\n</code></pre>\n\n<p>Apparently this seems to flush the messages, so actually sends them right away to whatever code you're using to receive them, in my case a JavaScript (JQuery) script.</p>\n\n<p><strong>Source:</strong> <a href=\"https://github.com/miguelgrinberg/Flask-SocketIO/issues/141\" rel=\"nofollow\">https://github.com/miguelgrinberg/Flask-SocketIO/issues/141</a></p>\n"}], "owner": {"reputation": 1406, "user_id": 4060120, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/2ed2f81836984af6bfcb34fcb5c3935f?s=128&d=identicon&r=PG&f=1", "display_name": "JahMyst", "link": "https://stackoverflow.com/users/4060120/jahmyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1034, "favorite_count": 1, "accepted_answer_id": 36206911, "answer_count": 1, "score": 1, "last_activity_date": 1461600680, "creation_date": 1458774633, "question_id": 36190443, "link": "https://stackoverflow.com/questions/36190443/flask-socketio-stream-command-output-to-html-element", "title": "Flask + SocketIO - Stream command output to HTML element", "body": "<p>I have a Flask Python webserver with websockets (socketIO). </p>\n\n<p><strong>I want to run a command and stream the output to a <code>&lt;p id='streaming_text'&gt;</code> HTML element.</strong></p>\n\n<p>This is my code:</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>div class='streaming'&gt;\n  &lt;p id=\"streaming_text\"&gt;&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JQuery</strong></p>\n\n<pre><code>var socket = io.connect('http://' + document.domain + ':' + location.port + '/stream')\n\nsocket.on('message', function(msg){\n  $('#streaming_text').append(msg);\n})\n\n...\n\njqxhr.done(function(cmd){\n  socket.send(cmd)\n  return false; \n})\n</code></pre>\n\n<p><strong>Python</strong></p>\n\n<pre><code>@socketio.on('message', namespace='/stream')\ndef stream(cmd):\n    # Streams output of a command\n    print(\"Received msg %s from JS socket\" % cmd)\n    print(\"Executing %s\" % cmd)\n    from shelljob import proc\n    g = proc.Group()\n    p = g.run(cmd)\n    while g.is_pending():\n        lines = g.readlines()\n        for proc, line in lines:\n            print(line)\n            send(line, namespace='/stream')\n</code></pre>\n\n<p>In the browser console I see all the <code>send(line)</code> are executed at the same time: <strong>when the command finishes running</strong>. The <code>print(line)</code>, however, shows me the output of my command in real-time.</p>\n\n<p>The commands I run take in average 15 minutes to run, so it'd be a bad user experience to have to wait for that long without seeing any output.</p>\n\n<p><strong>How can I send those messages immediately without having to wait for the end of the command ?</strong></p>\n"}, {"tags": ["python", "linux", "bash", "permissions"], "comments": [{"owner": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1458779724, "post_id": 36190403, "comment_id": 60017262, "body": "in a test I did with a local file with perms 644, I got <code>1</code> from your <code>[[ ...]]; echo $?</code> test (as we both would expect). Maybe edit your q with results of <code>uname ; echo $SHELL</code> ? Good luck!"}, {"owner": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "reply_to_user": {"reputation": 33642, "user_id": 620097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/820980fd43f2607a815c1f3dbfe152cc?s=128&d=identicon&r=PG", "display_name": "shellter", "link": "https://stackoverflow.com/users/620097/shellter"}, "edited": false, "score": 0, "creation_date": 1458785112, "post_id": 36190403, "comment_id": 60018748, "body": "@shellter i have some files that behave unusually. <code>$ uname ; echo $SHELL Linux &#47;bin&#47;bash </code>"}], "answers": [{"comments": [{"owner": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "edited": false, "score": 0, "creation_date": 1458865965, "post_id": 36192048, "comment_id": 60057515, "body": "the effective IDs explanation doesn&#39;t seem to explain it, please see my edited question"}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "edited": false, "score": 0, "creation_date": 1458866187, "post_id": 36192048, "comment_id": 60057566, "body": "I had realized that, which accounts for the middle where I said &quot;not clear&quot;.  Extended permissions seem the place to investigate."}, {"owner": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "edited": false, "score": 0, "creation_date": 1459035147, "post_id": 36192048, "comment_id": 60114534, "body": "looks like there isn&#39;t extended permissions. ` $  getfacl start.r  # file: start.r # owner: someuser # group: users user::rw- group::r-- other::r-- ` BTW, the file is on encfs."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "reply_to_user": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "edited": false, "score": 0, "creation_date": 1459035470, "post_id": 36192048, "comment_id": 60114587, "body": "Perhaps something is looking at the content of the file rather than the permissions shown by <code>stat</code> to decide if it is executable.  I&#39;ve seen that done with OS/2 and Windows..."}], "tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 0, "last_activity_date": 1458809162, "last_edit_date": 1490005103, "creation_date": 1458785158, "answer_id": 36192048, "question_id": 36190403, "link": "https://stackoverflow.com/questions/36190403/access2-vs-stat2-to-check-if-a-file-is-executable/36192048#36192048", "title": "access(2) vs stat(2) to check if a file is executable", "body": "<p>You would notice a difference if your application were running with setuid or setgid privileges.  The <a href=\"http://man7.org/linux/man-pages/man2/access.2.html\" rel=\"nofollow noreferrer\"><code>access(2)</code></a> manual page tells that:</p>\n\n<blockquote>\n  <p>The check is done using the calling process's real UID and GID,\n         rather than the effective IDs as is done when actually attempting an\n         operation (e.g., open(2)) on the file.  Similarly, for the root user,\n         the check uses the set of permitted capabilities rather than the set\n         of effective capabilities; and for non-root users, the check uses an\n         empty set of capabilities.</p>\n</blockquote>\n\n<p>The <a href=\"http://man7.org/linux/man-pages/man2/stat.2.html\" rel=\"nofollow noreferrer\"><code>stat(2)</code></a> call is not affected, giving only the actual filesystem permissions.</p>\n\n<p>The two examples are equivalent: they both return a \"success\" code.  The <code>0</code> exit status in <code>$?</code> is success, while python's <code>True</code> also reflect success.</p>\n\n<p>But there is something not clear from the examples: the permissions of the file do not have <em>execute</em>:</p>\n\n<pre><code>Access: (0644/-rw-r--r--)\n</code></pre>\n\n<p>Perhaps the file has some ACL applied to it which is producing this result.  If so, you would be able to see this using <a href=\"http://man7.org/linux/man-pages/man1/getfacl.1.html\" rel=\"nofollow noreferrer\">getfacl</a>. OP should ask a new question, providing this information as background.</p>\n\n<p>Further reading:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/28099794/why-does-access2-check-for-real-and-not-effective-uid\">Why does access(2) check for real and not effective UID?</a></li>\n<li><a href=\"https://superuser.com/questions/180545/setting-differing-acls-on-directories-and-files\">Setting differing ACLs on directories and files</a></li>\n</ul>\n"}], "owner": {"reputation": 1613, "user_id": 186891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b08c4d791d3e78f848835a5846c0db80?s=128&d=identicon&r=PG", "display_name": "ggg", "link": "https://stackoverflow.com/users/186891/ggg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458865890, "creation_date": 1458774385, "last_edit_date": 1458865890, "question_id": 36190403, "link": "https://stackoverflow.com/questions/36190403/access2-vs-stat2-to-check-if-a-file-is-executable", "title": "access(2) vs stat(2) to check if a file is executable", "body": "<p>I have found that using stat and access to check if a file is executable may yield different results. Can anyone explain to me the difference of the two methods?</p>\n\n<p>using C:</p>\n\n<pre><code>#define _GNU_SOURCE\n#include &lt;stdio.h&gt;\n#include &lt;unistd.h&gt;\n#include &lt;fcntl.h&gt;           /* Definition of AT_* constants */\n#include &lt;assert.h&gt;\nint main(){\n    const int access_ret = access(\"start.r\",X_OK);\n    const int eaccess_ret = eaccess(\"start.r\",X_OK);\n    const int faccessat_ret=faccessat(AT_FDCWD,\"start.r\",X_OK,AT_EACCESS);\n    printf(\"%d,\\t%d,\\t%d\",access_ret, eaccess_ret, faccessat_ret);\n}\n</code></pre>\n\n<p>using bash:</p>\n\n<pre><code>$ stat start.r\n  File: 'start.r'\n  Size: 2769            Blocks: 8          IO Block: 4096   regular file\nDevice: 29h/41d Inode: 58066679    Links: 1\nAccess: (0644/-rw-r--r--)  Uid: ( 1000/      ci)   Gid: (  100/   users)\nAccess: 2016-03-22 22:29:31.234892605 -0400\nModify: 2010-08-06 03:40:03.000000000 -0400\nChange: 2016-02-28 20:39:10.244094828 -0500\n Birth: -\n$ [[ -x start.r ]]; echo $?\n0\n</code></pre>\n\n<p>using python:</p>\n\n<pre><code>$  python3 -c '\n&gt; import os\n&gt; print(oct(os.stat(\"start.r\").st_mode))\n&gt; print(os.access(\"start.r\",os.X_OK,effective_ids=False))\n&gt; print(os.access(\"start.r\",os.X_OK,effective_ids=True))\n&gt; '\n0o100644\nTrue\nTrue\n</code></pre>\n"}, {"tags": ["python", "html", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 4962385, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/506971522788931/picture?type=large", "display_name": "Luc Evertzen", "link": "https://stackoverflow.com/users/4962385/luc-evertzen"}, "edited": false, "score": 0, "creation_date": 1458806297, "post_id": 36190585, "comment_id": 60024630, "body": "Brilliant. Thank you."}], "tags": [], "owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "is_accepted": true, "score": 4, "last_activity_date": 1458775458, "creation_date": 1458775458, "answer_id": 36190585, "question_id": 36190371, "link": "https://stackoverflow.com/questions/36190371/obtain-text-from-all-items-in-list-using-beautifulsoup/36190585#36190585", "title": "Obtain text from all items in list using BeautifulSoup", "body": "<p>Instead of <code>x = soup.find_all('option')[:].text</code>, you should get the text from each item in the iterator like so:</p>\n\n<pre><code>x = [x.text for x in soup.find_all('option')]\n</code></pre>\n\n<p>That way, you get the text attribute from all of the items. If you wish for the most efficient way regarding execution time, you may use this:</p>\n\n<pre><code>import operator\n\nx = map(operator.attrgetter(\"text\"), soup.find_all('option'))\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 4962385, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/506971522788931/picture?type=large", "display_name": "Luc Evertzen", "link": "https://stackoverflow.com/users/4962385/luc-evertzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1574, "favorite_count": 1, "accepted_answer_id": 36190585, "answer_count": 1, "score": 0, "last_activity_date": 1458775458, "creation_date": 1458774224, "last_edit_date": 1458774849, "question_id": 36190371, "link": "https://stackoverflow.com/questions/36190371/obtain-text-from-all-items-in-list-using-beautifulsoup", "title": "Obtain text from all items in list using BeautifulSoup", "body": "<p>I've written this code:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport urllib2\n\nurl = \"http://racing4everyone.eu/2016/03/12/formula-e-201516-round05-mexico/\"\npage = urllib2.urlopen(url)\nsoup = BeautifulSoup(page.read(), \"html.parser\")\n\noptions = soup.find_all('option')\n</code></pre>\n\n<p>Now I want to save the text (i.e. 'Placeholder', 'Race') from each element to a variable. I can do it for a single variable:</p>\n\n<pre><code>x = soup.find_all('option')[0].text\n</code></pre>\n\n<p>But not for all variables:</p>\n\n<pre><code>x = soup.find_all('option')[:].text\n</code></pre>\n\n<p>I know that it is easy to do assuming the list is always the same size, but I want to be able to select all elements in the list regardless of the size. This way, if I apply the code on another webpage it will still work (that webpage's dropdown list might consist of 7 elements for all I know)</p>\n"}, {"tags": ["python", "cx-freeze"], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 8585857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91a55a8fb928dc25bb680345baa08ec1?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/8585857/vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1605162552, "creation_date": 1605162552, "answer_id": 64798966, "question_id": 36190341, "link": "https://stackoverflow.com/questions/36190341/cx-freeze-exe-references-old-pyc-file/64798966#64798966", "title": "CX_Freeze exe references old pyc file?", "body": "<p>I had this same issue and found some troubleshooting steps to fix the problem:</p>\n<ol>\n<li>Change the version number in setup.py.</li>\n<li>Change the name of the init.py (or whatever your first file is called.)  Change the name in setup.py to match.</li>\n<li>Copy your files into a separate folder along with the setup.py and rerun there.</li>\n</ol>\n"}], "owner": {"reputation": 143, "user_id": 4708835, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/c3a4735291468b51b3957b14fdba4868?s=128&d=identicon&r=PG&f=1", "display_name": "pyNewbie", "link": "https://stackoverflow.com/users/4708835/pynewbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1605162552, "creation_date": 1458774057, "question_id": 36190341, "link": "https://stackoverflow.com/questions/36190341/cx-freeze-exe-references-old-pyc-file", "title": "CX_Freeze exe references old pyc file?", "body": "<p>I have built a Cx Freeze exe from python code.  Code worked fine.  I recently modified one .py file and rebuilt the exe.  Dragged the entire build directory over to another computer for use and it looked as though it was using an older version of the code.  Rebuilt, retried.  Same thing.</p>\n\n<p>Ended up moving over the new updated python file to the other computer and the exe starts working correctly.</p>\n\n<p>Looks like the exe is not truly independent of the uncompiled code?</p>\n\n<p>Have any of you seen this?  Is it a bug?  Is there a fix?\nthanks!!</p>\n"}, {"tags": ["python", "amazon-web-services", "boto", "amazon-cloudformation"], "answers": [{"tags": [], "owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "is_accepted": false, "score": 0, "last_activity_date": 1458848116, "creation_date": 1458848116, "answer_id": 36208629, "question_id": 36190318, "link": "https://stackoverflow.com/questions/36190318/what-to-do-with-error-requested-action-failed-to-validate-please-review-the-bo/36208629#36208629", "title": "What to do with error &quot;Requested action failed to validate. Please review the Boto exceptions below for more details.&quot;?", "body": "<p>Found the solution to my issue. It was a ClientError that I caught by wrapping the <code>verify_stack</code> function in a try/except statement. Here is the correct code:</p>\n\n<pre><code>try:\n    session = boto3.Session()\n    resource = session.resource('cloudformation')\n\n    sqs_template = {\n        \"AWSTemplateFormatVersion\": \"2010-09-09\",\n        \"Resources\": {\n            \"QueueGroup\": {\n\n            \"Type\": \"AWS::SQS::Queue\",\n            \"Properties\": {\n                \"QueueName\": \"my-queue\",\n                \"VisibilityTimeout\": 60,\n            }\n            },\n        },\n    }\n\n    sqs_template_json = json.dumps(sqs_template)\n\n    resource.create_stack(\n        StackName=\"mock_stack\",\n        TemplateBody=sqs_template_json,\n    )\n\n    response = resource.verify_stack(resource, 'mock_stack')\n\n    print  response\n\nexcept ClientError as error:\n    print error.message\n</code></pre>\n"}], "owner": {"reputation": 4184, "user_id": 3987536, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/327abb72f81fec541e936876b90d25d2?s=128&d=identicon&r=PG", "display_name": "Lawrence Aiello", "link": "https://stackoverflow.com/users/3987536/lawrence-aiello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458848116, "creation_date": 1458773963, "last_edit_date": 1458784345, "question_id": 36190318, "link": "https://stackoverflow.com/questions/36190318/what-to-do-with-error-requested-action-failed-to-validate-please-review-the-bo", "title": "What to do with error &quot;Requested action failed to validate. Please review the Boto exceptions below for more details.&quot;?", "body": "<p>I'm attempting to create some mock tests for some in-house AWS scripts. Upon creating the boto3 resource and attempting to validate a non-existent stack, I get the following error when I run my python script:</p>\n\n<p>\"The requested action failed to validate. Please review the Boto exceptions below for more details.\"</p>\n\n<p>This would be great except....there is no \"Boto exceptions below\" like the error mentions, just the command prompt. What does this mean?</p>\n\n<p>Here is some example code:</p>\n\n<pre><code>def function():\n    resource = boto3.resource('cloudformation')\n    verify_stack(resource, 'MockStack')\n\ndef verify_stack(session, stackName):\n      try:\n          stack = session.meta.client.describe_stacks(StackName=stack_name)\n\n      except:\n          return {}\n\n      else:\n          return stack\n</code></pre>\n\n<p>Just for reference, the stack \"MockStack\" doesn't exist, and I'm testing to make sure of this. A part of me thinks the error I'm getting is telling me that the stack doesn't exist, which would be correct. Could this be the issue?</p>\n"}, {"tags": ["python", "anaconda"], "comments": [{"owner": {"reputation": 17770, "user_id": 243031, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/CDbHI.jpg?s=128&g=1", "display_name": "Nilesh", "link": "https://stackoverflow.com/users/243031/nilesh"}, "edited": false, "score": 0, "creation_date": 1458773854, "post_id": 36190263, "comment_id": 60015495, "body": "<code>PYTHONPATH</code> check each path for module. If it get module in first path, it will not check second entry in <code>PYTHONPATH</code>. So please check each path in your <code>PYTHONPATH</code>, if you have other <code>.py</code> file <code>sklearn.py</code> then it start importing from there. This file might be not have <code>neighbours</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1172, "user_id": 6094414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AKEuj.png?s=128&g=1", "display_name": "emmagordon", "link": "https://stackoverflow.com/users/6094414/emmagordon"}, "is_accepted": true, "score": 1, "last_activity_date": 1458774429, "creation_date": 1458774429, "answer_id": 36190408, "question_id": 36190263, "link": "https://stackoverflow.com/questions/36190263/importerror-cannot-import-name-with-fresh-anaconda-install/36190408#36190408", "title": "&quot;ImportError: cannot import name&quot; with fresh Anaconda install", "body": "<p>You want the American spelling of neighbours, i.e.</p>\n\n<pre><code>from sklearn import neighbors\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6106830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6193334ba1e84e88f494baa2276dbe0f?s=128&d=identicon&r=PG&f=1", "display_name": "TracNav", "link": "https://stackoverflow.com/users/6106830/tracnav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1165, "favorite_count": 0, "accepted_answer_id": 36190408, "answer_count": 1, "score": 2, "last_activity_date": 1458774429, "creation_date": 1458773640, "last_edit_date": 1495540853, "question_id": 36190263, "link": "https://stackoverflow.com/questions/36190263/importerror-cannot-import-name-with-fresh-anaconda-install", "title": "&quot;ImportError: cannot import name&quot; with fresh Anaconda install", "body": "<p>I am receiving the following error in an iPython notebook:</p>\n\n<pre><code>---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\n&lt;ipython-input-1-06ac68ebf148&gt; in &lt;module&gt;()\n      5 import pandas as pd\n      6 import numpy as np\n----&gt; 7 from sklearn import neighbours\n      8 \n      9 start_time = time.time()\n\nImportError: cannot import name neighbours\n</code></pre>\n\n<p>Whilst trying to run the following:</p>\n\n<pre><code># Import required packages\nimport time\nimport pandas as pd\nimport numpy as np\nfrom sklearn import neighbours\n</code></pre>\n\n<p>I get the same issue on the command line. My suspicions:</p>\n\n<ul>\n<li>I believe my problem has something to do with my system path or environment variables. I've given this various attempts and have followed other answers (e.g. <a href=\"https://stackoverflow.com/questions/6862214/python-importerror-what-is-wrong-here\">Python ImportError- what is wrong here?</a>) but in vain thus far. My current system Path variable includes the location of my python script; the environment PATH variable includes the location of the Anaconda libraries: \"...\\Anaconda2\\Library\\bin;\". Does this appear correct?</li>\n<li>Many solutions refer to circular dependencies, which I do not believe I have in the one module.</li>\n<li>Other solutions are to do with the name of the script. Mine is named 'my_solution', so I do not believe this is an issue.</li>\n<li>My sklearn folder can be found in \\AppData\\Local\\Continuum\\Anaconda2\\Lib\\site-packages\\sklearn</li>\n</ul>\n\n<p>I have recently uninstalled a standalone Python application. I have also reinstalled Anadonda and the scikit-learn, numpy and scipy packages multiple times.</p>\n\n<p>I am using Python 2.7.11 through Anaconda 2.5.0 on Windows 7.</p>\n"}, {"tags": ["python", "ubuntu", "virtualenv"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458773968, "post_id": 36190222, "comment_id": 60015548, "body": "You actually have three versions,  also <code>which -a python</code> <code>which -a python3</code> will show you them all"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458774340, "post_id": 36190222, "comment_id": 60015692, "body": "This guide should tell you all you need to know about using a virtaulenv <a href=\"http://docs.python-guide.org/en/latest/dev/virtualenvs/\" rel=\"nofollow noreferrer\">docs.python-guide.org/en/latest/dev/virtualenvs</a>"}, {"owner": {"reputation": 468, "user_id": 5024196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac86f5c5ed643fd380441ec3fa72a649?s=128&d=identicon&r=PG&f=1", "display_name": "wotter", "link": "https://stackoverflow.com/users/5024196/wotter"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458775783, "post_id": 36190222, "comment_id": 60016206, "body": "thanks for the guide, it&#39;s better than the page i was using so far"}], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 3, "last_activity_date": 1458773742, "creation_date": 1458773742, "answer_id": 36190278, "question_id": 36190222, "link": "https://stackoverflow.com/questions/36190222/use-virtualenv-properly-on-ubuntu-with-5-different-python-installed/36190278#36190278", "title": "Use virtualenv properly on ubuntu with 5 different python installed", "body": "<p>Assuming you installed virtualenv (<code>sudo apt-get install python-virtualenv</code>), you would use it to create an env with the Python binary of your choosing.  pip is installed in new virtualenvs, so you would activate the env and use it to install packages.</p>\n\n<pre><code>virtualenv -p python3.5 env\nsource env/bin/activate\npip install flask\n</code></pre>\n"}], "owner": {"reputation": 468, "user_id": 5024196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac86f5c5ed643fd380441ec3fa72a649?s=128&d=identicon&r=PG&f=1", "display_name": "wotter", "link": "https://stackoverflow.com/users/5024196/wotter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 36190278, "answer_count": 1, "score": 1, "last_activity_date": 1458774292, "creation_date": 1458773425, "last_edit_date": 1458774292, "question_id": 36190222, "link": "https://stackoverflow.com/questions/36190222/use-virtualenv-properly-on-ubuntu-with-5-different-python-installed", "title": "Use virtualenv properly on ubuntu with 5 different python installed", "body": "<p>I am setting-up a ubuntu 15.10 vm (win7 virtualbox host) and want to use python for some machine learning experiments using python (i will need numpy, scipy, sklearn, matplotlib, xgboost).</p>\n\n<p>As i know from past experience that dependencies can be tricky and that those lirabries don't always install straightaway, i would like to use virtualenv.</p>\n\n<p>Virtualenv installation doc recommends using pip to install packages, ok but now when i list the python versions available on my box, i find <strong>5 of them</strong> (in case you wonder, this comes from a vanilla 15.10 installation...):</p>\n\n<pre><code>hippo@u64-ml:~$ sudo find / -type f -executable -iname 'python*' -exec file -i '{}' \\; | awk -F: '/x-executable; charset=binary/ {print $1}' \n/usr/bin/python3.4\n/usr/bin/python3.4m\n/usr/bin/python2.7\n/usr/bin/python3.5m\n/usr/bin/python3.5\n</code></pre>\n\n<p>So now i am unsure of:</p>\n\n<p>1/ how to make sure that the virtualenvs i create are for a given python version?</p>\n\n<p>2/ how do i install packages for say python3.5? if i use pip3 i don't know where it will put its binaries and how python will find them (is it for python3.4, 3.4m, 3.5, 3.5m?).</p>\n\n<p>EDIT with results from answer below:</p>\n\n<pre><code>hippo@u64-ml:~$ virtualenv -p python3.5 hippo3.5\nRunning virtualenv with interpreter /usr/bin/python3.5\nUsing base prefix '/usr'\nNew python executable in hippo3.5/bin/python3.5\nAlso creating executable in hippo3.5/bin/python\nInstalling setuptools, pip...done.   ## installs the right pip\nhippo@u64-ml:~$ which pip            \nhippo@u64-ml:~$ source hippo3.5/bin/activate   ## now when i activate the env, all works perfect!!\n(hippo3.5)hippo@u64-ml:~$ which pip\n/home/hippo/hippo3.5/bin/pip\n(hippo3.5)hippo@u64-ml:~$ which python\n/home/hippo/hippo3.5/bin/python\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 628, "user_id": 6018304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1L5hk.jpg?s=128&g=1", "display_name": "99lives", "link": "https://stackoverflow.com/users/6018304/99lives"}, "edited": false, "score": 0, "creation_date": 1458775730, "post_id": 36190260, "comment_id": 60016181, "body": "This has worked, thanks very much. Thanks for describing what was happening rather than just an answer as well :)"}], "tags": [], "owner": {"reputation": 3812, "user_id": 687488, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c271671660654387ed12508882ea9fa1?s=128&d=identicon&r=PG", "display_name": "koniiiik", "link": "https://stackoverflow.com/users/687488/koniiiik"}, "is_accepted": true, "score": 9, "last_activity_date": 1458775225, "last_edit_date": 1458775225, "creation_date": 1458773615, "answer_id": 36190260, "question_id": 36190179, "link": "https://stackoverflow.com/questions/36190179/django-non-staff-users-can-login-to-admin-page/36190260#36190260", "title": "Django: Non-staff users can login to admin page", "body": "<p>You'll need to turn <code>is_staff</code> into a property. If you use the built-in User model, Django expects it to be a model field, which means all checks for staff status happen as <code>if user.is_staff:</code>, not as <code>if user.is_staff():</code>. All you need to do is to include a single line before your <code>is_staff</code> method definition:</p>\n\n<pre><code>@property\ndef is_staff(self):\n    return self.is_admin\n</code></pre>\n\n<p>Since Python considers every function object to be True when used in a boolean context, all your users pass the check for <code>is_staff</code>.</p>\n\n<p>If you want to know why the admin displays the correct value in the \u201cSTAFF STATUS\u201d column, it's because <code>is_staff</code> is listed in <code>list_display</code> of the default <code>ModelAdmin</code> for the user model, and <code>ModelAdmin</code> does check items in <code>list_display</code> if they're callable or not, and in case they are, it calls them. However, this is only done for the purpose of displaying the value (since <code>list_display</code> is a more general mechanism), but not for any actual access control checks.</p>\n"}, {"tags": [], "owner": {"reputation": 3955, "user_id": 1920342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b45327f29ae226c1492aa94d0f4a4c1f?s=128&d=identicon&r=PG", "display_name": "YYYY-MM-DD", "link": "https://stackoverflow.com/users/1920342/yyyy-mm-dd"}, "is_accepted": false, "score": 1, "last_activity_date": 1458774055, "creation_date": 1458774055, "answer_id": 36190340, "question_id": 36190179, "link": "https://stackoverflow.com/questions/36190179/django-non-staff-users-can-login-to-admin-page/36190340#36190340", "title": "Django: Non-staff users can login to admin page", "body": "<p>You musst inheritat from <code>AbstractBaseUser</code> and <code>PermissionsMixin</code>.</p>\n\n<p>You just included a \"bio\" field in your User class.\nMaybe just extend from <code>AbstractUser</code> and not <code>AbstractBaseUser</code>. The AbstractUser has most of the important stuff and you can include you bio field there</p>\n"}], "owner": {"reputation": 628, "user_id": 6018304, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/1L5hk.jpg?s=128&g=1", "display_name": "99lives", "link": "https://stackoverflow.com/users/6018304/99lives"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1908, "favorite_count": 1, "accepted_answer_id": 36190260, "answer_count": 2, "score": 5, "last_activity_date": 1458775225, "creation_date": 1458773276, "question_id": 36190179, "link": "https://stackoverflow.com/questions/36190179/django-non-staff-users-can-login-to-admin-page", "title": "Django: Non-staff users can login to admin page", "body": "<p>Python 3.5.1 and Django 1.9</p>\n\n<p>I have created a custom user model in my project:</p>\n\n<pre><code>from django.db import models\nfrom django.contrib.auth.models import (\n    BaseUserManager, AbstractBaseUser\n)\n\n\nclass UserManager(BaseUserManager):\n    def create_user(self, username, password=None):\n        user = self.model(\n            username=username,\n        )\n\n        user.set_password(password)\n        user.save(using=self._db)\n        return user\n\n    def create_superuser(self, username, password):\n        user = self.create_user(\n            username,\n            password=password,\n        )\n\n        user.is_admin = True\n        user.is_superuser = True\n        user.save(using=self._db)\n        return user\n\n\n# Users\nclass User(AbstractBaseUser):\n    username = models.CharField(\n        unique=True,\n        max_length=50,\n    )\n    bio = models.TextField()\n\n    is_active = models.BooleanField(default=True,\n                                    verbose_name=\"Active\",\n                                    help_text=\"lorem\")\n    is_admin = models.BooleanField(default=False,\n                                   verbose_name=\"Staff status\",\n                                   help_text=\"lorem\")\n    is_superuser = models.BooleanField(default=False,\n                                       verbose_name=\"Superuser status\",\n                                       help_text=\"lorem\")\n\n    objects = UserManager()\n\n    USERNAME_FIELD = 'username'\n\n    def get_full_name(self):\n        return self.username\n\n    def get_short_name(self):\n        return self.username\n\n    def is_staff(self):\n        return self.is_admin\n\n    def __str__(self):\n        return self.username\n\n    def has_perm(self, perm, obj=None):\n        return True\n\n    def has_module_perms(self, db):\n        return True\n</code></pre>\n\n<p>I followed the guide in the official documentation <a href=\"https://docs.djangoproject.com/en/1.9/topics/auth/customizing/#specifying-a-custom-user-model\" rel=\"noreferrer\">here</a></p>\n\n<p>I <em>have</em> defined AUTH_USER_MODEL in settings.py</p>\n\n<p>Everything seems to work correctly with the custom user model, execpt...</p>\n\n<p><strong>Any user can login to the admin interface. This of course is <em>not</em> a good thing</strong></p>\n\n<p>Here is a screenshot of the admin interface when logged in as a <em>non-admin</em> user: <a href=\"https://i.stack.imgur.com/17AnX.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/17AnX.png\" alt=\"non-admin login\"></a></p>\n\n<p>And here when logged as an actual admin user <a href=\"https://i.stack.imgur.com/cNVS3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/cNVS3.png\" alt=\"admin login\"></a></p>\n\n<p>Note the top right corners. When logged in with a non-admin user, the menu dose not appear. Strange.</p>\n\n<p>Both admin and non-admin users have full access to the admin interface, they can both add, change and delete entries.</p>\n\n<p>Clearly this is a terrible security issue, I don't even know where to start dubugging</p>\n"}, {"tags": ["python", "recursion", "tkinter"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1458775674, "post_id": 36190129, "comment_id": 60016153, "body": "Why do you think it would?  It just does some magic in the background so that the main loop function will call your function every so often.  Why should it call itself?"}], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 5852964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d0a84f2aeec2c00c64a7e71bb8541b2?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Dennis", "link": "https://stackoverflow.com/users/5852964/patrick-dennis"}, "edited": false, "score": 0, "creation_date": 1458777904, "post_id": 36190681, "comment_id": 60016838, "body": "The functions seem all to be structured like this:                                            &#39;def move():         #... adjust coordinates x, y         root.after(50,move)&#39;  It looks recursive, at least at first glance."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 323, "user_id": 5852964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d0a84f2aeec2c00c64a7e71bb8541b2?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Dennis", "link": "https://stackoverflow.com/users/5852964/patrick-dennis"}, "edited": false, "score": 0, "creation_date": 1458779019, "post_id": 36190681, "comment_id": 60017099, "body": "@PatrickDennis: it may look it, but <code>after(...)</code> is almost literally just <code>append(...)</code>.,"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 2, "last_activity_date": 1458775876, "creation_date": 1458775876, "answer_id": 36190681, "question_id": 36190129, "link": "https://stackoverflow.com/questions/36190129/how-does-the-tkinter-canvas-after-method-not-cause-a-recursion-error/36190681#36190681", "title": "How does the tkinter canvas.after() method not cause a recursion error", "body": "<p>It doesn't cause a recursion error because it's not recursion. </p>\n\n<p>Tkinter maintains a queue of events. <code>mainloop</code> is responsible for iterating through this queue, handling each event in order. When you call <code>after</code>, you aren't recursively calling a function, you are simply adding a new item to the queue. </p>\n\n<p>Imagine if, for example, the tkinter event queue was an exposed list. For example, imagine this queue is named <code>Tkinter.event_queue</code>. When you do <code>canvas.after(1000, my_function)</code>, it's roughly equivalent to doing <code>Tkinter.event_queue.append((1000, my_function:)</code>. And, as you can probably see, appending to a list isn't recursion.</p>\n"}], "owner": {"reputation": 323, "user_id": 5852964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d0a84f2aeec2c00c64a7e71bb8541b2?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Dennis", "link": "https://stackoverflow.com/users/5852964/patrick-dennis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 36190681, "answer_count": 1, "score": -1, "last_activity_date": 1458775876, "creation_date": 1458773038, "question_id": 36190129, "link": "https://stackoverflow.com/questions/36190129/how-does-the-tkinter-canvas-after-method-not-cause-a-recursion-error", "title": "How does the tkinter canvas.after() method not cause a recursion error", "body": "<p>Using the Tkinter <em>canvas.after()</em> method to animate a screen seems to be looked upon  more favorably than using an endless <em>while True:</em> loop.  When I first saw the <em>canvas.after()</em> method, it looked like it should cause a \"maximum recursion depth exceeded\" error, but it does not.  Why is that?  Is it because it is not returning a value that needs to be held in memory?</p>\n"}, {"tags": ["python", "python-import"], "comments": [{"owner": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 4, "creation_date": 1458772712, "post_id": 36190036, "comment_id": 60015097, "body": "Importing * from many modules is probably a very bad idea"}, {"owner": {"reputation": 22993, "user_id": 1394393, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/mSjIL.jpg?s=128&g=1", "display_name": "jpmc26", "link": "https://stackoverflow.com/users/1394393/jpmc26"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1458772820, "post_id": 36190036, "comment_id": 60015139, "body": "If you <i>must</i> access absolutely everything and don&#39;t want to list the things you need, you can consider simply <code>import world</code> and use <code>world.Area</code>, etc. @Bharel No &quot;probably&quot; about it. It&#39;s like.... the epitome of <code>import *</code> being a bad idea."}, {"owner": {"reputation": 3966, "user_id": 469072, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/13ce453eb105a974aea64b2461cfc200?s=128&d=identicon&r=PG", "display_name": "joel goldstick", "link": "https://stackoverflow.com/users/469072/joel-goldstick"}, "reply_to_user": {"reputation": 12014, "user_id": 1658617, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/ba6gt.jpg?s=128&g=1", "display_name": "Bharel", "link": "https://stackoverflow.com/users/1658617/bharel"}, "edited": false, "score": 0, "creation_date": 1458772852, "post_id": 36190036, "comment_id": 60015145, "body": "I agree with @Bharel.  You should try import world, etc. Can you post your code from world, dialogue and event?"}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 1, "creation_date": 1458773399, "post_id": 36190036, "comment_id": 60015336, "body": "You have namespace pollution, at least one name collision.  PEP008 says &quot;<i>Wildcard imports ( from &lt;module&gt; import * ) should be avoided...</i>&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 631, "user_id": 2692704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d719c39fe3b8aa28294a1dc9527b4e25?s=128&d=identicon&r=PG", "display_name": "foobarna", "link": "https://stackoverflow.com/users/2692704/foobarna"}, "is_accepted": true, "score": 0, "last_activity_date": 1458773259, "creation_date": 1458773259, "answer_id": 36190173, "question_id": 36190036, "link": "https://stackoverflow.com/questions/36190036/import-order-in-python-3/36190173#36190173", "title": "Import order in Python 3", "body": "<blockquote>\n  <p>The class Area is defined in world.py, yet when I try to use the Area class from dialogue.py it returns</p>\n</blockquote>\n\n<p>The way you are importing your code is wrong. From both modules you are importing with <code>*</code>; this confuses the Python, because both modules have a class called <code>Area</code>.</p>\n\n<p>Instead of using <code>*</code> (wild import) import them as modules</p>\n\n<pre><code>import dialogue\nimport world\nimport event\n\nd1 = world.Dialogue()\nd2 = dialogue.Dialogue()\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 1447966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d862e6df463b1594a73b028cf157ac8?s=128&d=identicon&r=PG", "display_name": "Redream", "link": "https://stackoverflow.com/users/1447966/redream"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 36190173, "answer_count": 1, "score": -3, "last_activity_date": 1458773259, "creation_date": 1458772587, "question_id": 36190036, "link": "https://stackoverflow.com/questions/36190036/import-order-in-python-3", "title": "Import order in Python 3", "body": "<p>I'm having a few issues with a number of imports in my program,</p>\n\n<p>In main.py:</p>\n\n<pre><code>from world import *\nfrom dialogue import *\nfrom event import *\n</code></pre>\n\n<p>In dialogue.py:</p>\n\n<pre><code>from world import *\nfrom event import *\n</code></pre>\n\n<p>The class Area is defined in world.py, yet when I try to use the Area class from dialogue.py it returns</p>\n\n<pre><code>builtins.NameError: name 'Area' is not defined\n</code></pre>\n\n<p>If I change the order of the imports in main.py to</p>\n\n<pre><code>from dialogue import *\nfrom world import *\nfrom event import *\n</code></pre>\n\n<p>When I try to access the dialogue class from world.py, I get this</p>\n\n<pre><code>builtins.NameError: name 'Dialogue' is not defined\n</code></pre>\n\n<p>I thought the order of imports shouldn't have made a difference? How can I access all of my classes from all of my files?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": false, "score": 0, "last_activity_date": 1458772672, "creation_date": 1458772672, "answer_id": 36190056, "question_id": 36189950, "link": "https://stackoverflow.com/questions/36189950/flask-sql-alchemy-db-create-all-detect-unicode-returns-r/36190056#36190056", "title": "Flask &amp; SQL Alchemy db.create_all() detect unicode returns: %r", "body": "<p>You are going to have an issue with these characters:</p>\n\n<pre><code>???????3???\uffe5\n</code></pre>\n\n<p>It is unclear based on what you've posted where those are, but it's likely in the file you're using to build your database from. The characters in that file need to be in a character encoding that can be interpreted.</p>\n"}], "owner": {"reputation": 329, "user_id": 4455426, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/96101a94f2ac5d9eb3d5bb0707e246f7?s=128&d=identicon&r=PG&f=1", "display_name": "floox", "link": "https://stackoverflow.com/users/4455426/floox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 710, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458772672, "creation_date": 1458772267, "last_edit_date": 1458772459, "question_id": 36189950, "link": "https://stackoverflow.com/questions/36189950/flask-sql-alchemy-db-create-all-detect-unicode-returns-r", "title": "Flask &amp; SQL Alchemy db.create_all() detect unicode returns: %r", "body": "<p>I'm trying to setup a sqlite database with Flask using SQLAlchemy according to <a href=\"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world\" rel=\"nofollow\" title=\"The Flask Mega-Tutorial\">the tutorial:</a></p>\n\n<p>I get the following error when I try to run <code>db.create_all()</code>:</p>\n\n<pre><code>(venv)[username@md projectname]$ python\nPython 2.7.9 (default, Jan 12 2015, 10:50:37) \n[GCC 4.4.7 20120313 (Red Hat 4.4.7-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; from app import db\n/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py:800: UserWarning: SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and will be disabled by default in the future.  Set it to True to suppress this warning.\n  warnings.warn('SQLALCHEMY_TRACK_MODIFICATIONS adds significant overhead and will be disabled by default in the future.  Set it to True to suppress this warning.')\n&gt;&gt;&gt; db.create_all()\n/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/default.py:298: SAWarning: Exception attempting to detect unicode returns: OperationalError('(sqlite3.OperationalError) near \"\\xf1\\x90\\x81\\x93\\xf1\\x90\\x81\\x8c\\xf5\\x80\\x81\\x83\\xf0\\xb0\\x80\\xa0\\xf4\\xb0\\x81\\x81\\xfa\\x80\\x81\\x94\\xfd\\x80\\x80\\xa7\\xfc\\xb0\\x81\\xa5\\xf8\\x80\\x81\\xb4\\xfb\\x80\\x81\\xb0\\xfa\\x90\\x81\\xa1\\xf8\\x80\\x81\\xae\\xf9\\x90\\x81\\xb2\\xfd\\x90\\x81\\xb4\\xfb\\xa0\\x81\\xb2\\xf9\\xb0\\x81\\xb3\\xf0\\x90\\x80\\xa0\\xf8\\x80\\x81\\x93\\xf0\\x90\\x81\\x96\\xf0\\xb0\\x81\\x92\\xf0\\x90\\x81\\x88\\xfa\\x80\\x81\\x92\\xfc\\x80\\x80\\xb6\\xfa\\x90\\x80\\xa9\\xf0\\x90\\x80\\xa0\\xf8\\x80\\x81\\x93\\xfb\\xa0\\x81\\xa1\\xfb\\xa0\\x81\\xaf\\xfc\\x90\\x81\\x9f\\xfe\\x90\\x80\\x80\": syntax error',)\n  \"detect unicode returns: %r\" % de)\n/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/default.py:298: SAWarning: Exception attempting to detect unicode returns: OperationalError('(sqlite3.OperationalError) near \"\\xf1\\x90\\x81\\x93\\xf1\\x90\\x81\\x8c\\xf5\\x80\\x81\\x83\\xf0\\xb0\\x80\\xa0\\xf4\\xb0\\x81\\x81\\xfa\\x80\\x81\\x94\\xfd\\x80\\x80\\xa7\\xfc\\xb0\\x81\\xa5\\xf8\\x80\\x81\\xb4\\xfb\\xa0\\x81\\xb5\\xf8\\xb0\\x81\\xa9\\xf9\\x80\\x81\\xaf\\xf8\\x80\\x81\\xa5\\xf9\\x90\\x81\\xb2\\xfd\\x90\\x81\\xb4\\xfb\\xa0\\x81\\xb2\\xf9\\xb0\\x81\\xb3\\xf0\\x90\\x80\\xa0\\xf8\\x80\\x81\\x93\\xf0\\x90\\x81\\x96\\xf0\\xb0\\x81\\x92\\xf0\\x90\\x81\\x88\\xfa\\x80\\x81\\x92\\xfc\\x80\\x80\\xb6\\xfa\\x90\\x80\\xa9\\xf0\\x90\\x80\\xa0\\xf8\\x80\\x81\\x93\\xfb\\xa0\\x81\\xa1\\xfb\\xa0\\x81\\xaf\\xfc\\x90\\x81\\x9f\\xfc\\xa0\\x80\\x80\": syntax error',)\n  \"detect unicode returns: %r\" % de)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 972, in create_all\n    self._execute_for_all_tables(app, bind, 'create_all')\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/flask_sqlalchemy/__init__.py\", line 964, in _execute_for_all_tables\n    op(bind=self.get_engine(app, bind), **extra)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/sql/schema.py\", line 3695, in create_all\n    tables=tables)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1855, in _run_visitor\n    with self._optional_conn_ctx_manager(connection) as conn:\n  File \"/usr/local/lib/python2.7/contextlib.py\", line 17, in __enter__\n    return self.gen.next()\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1848, in _optional_conn_ctx_manager\n    with self.contextual_connect() as conn:\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2039, in contextual_connect\n    self._wrap_pool_connect(self.pool.connect, None),\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2078, in _wrap_pool_connect\n    e, dialect, self)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 1405, in _handle_dbapi_exception_noconnection\n    exc_info\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/util/compat.py\", line 200, in raise_from_cause\n    reraise(type(exception), exception, tb=exc_tb, cause=cause)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/base.py\", line 2074, in _wrap_pool_connect\n    return fn()\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 376, in connect\n    return _ConnectionFairy._checkout(self)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 713, in _checkout\n    fairy = _ConnectionRecord.checkout(pool)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 480, in checkout\n    rec = pool._do_get()\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 1151, in _do_get\n    return self._create_connection()\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 323, in _create_connection\n    return _ConnectionRecord(self)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/pool.py\", line 454, in __init__\n    exec_once(self.connection, self)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/event/attr.py\", line 246, in exec_once\n    self(*args, **kw)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/event/attr.py\", line 256, in __call__\n    fn(*args, **kw)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/util/langhelpers.py\", line 1319, in go\n    return once_fn(*arg, **kw)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/strategies.py\", line 165, in first_connect\n    dialect.initialize(c)\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 256, in initialize\n    self._check_unicode_description(connection):\n  File \"/home/username/flask-project/projectname/venv/lib/python2.7/site-packages/sqlalchemy/engine/default.py\", line 343, in _check_unicode_description\n    ]).compile(dialect=self)\nsqlalchemy.exc.OperationalError: (sqlite3.OperationalError) near \"???????3???\uffe5\": syntax error\n&gt;&gt;&gt; \n</code></pre>\n"}, {"tags": ["python", "python-3.x", "turtle-graphics"], "answers": [{"tags": [], "owner": {"reputation": 363, "user_id": 3571147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ac29a2f09318254259a59983e54d6471?s=128&d=identicon&r=PG&f=1", "display_name": "diligar", "link": "https://stackoverflow.com/users/3571147/diligar"}, "is_accepted": true, "score": 0, "last_activity_date": 1458773018, "creation_date": 1458773018, "answer_id": 36190123, "question_id": 36189835, "link": "https://stackoverflow.com/questions/36189835/side-in-a-square-spiral-in-python-turtle-graphics/36190123#36190123", "title": "Side in a Square Spiral In Python (Turtle Graphics)", "body": "<p>You could check to see how long the line would be and stop it when it gets too small, like:</p>\n\n<pre><code>from turtle import *\nstartLength = int(input(\"Please enter the length of first side: \"))\ndecrement = int(input(\"Please enter the change in length of side: \"))\nwhile startLength &gt; decrement:\n    forward(startLength)\n    left(90)\n    startLength = startLength - decrement\nforward(startLength)\n</code></pre>\n\n<p>That last <code>forward(startLength)</code> is to add that little remainder bit so that the spiral ends in the center. Also I put the <code>startLength = startLength - decrement</code> after drawing so that the first line is of length <code>startLength</code>.</p>\n"}], "owner": {"reputation": 17, "user_id": 6070289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/508ec675715f4bbea6645132ccc4509f?s=128&d=identicon&r=PG&f=1", "display_name": "ipconfig", "link": "https://stackoverflow.com/users/6070289/ipconfig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "accepted_answer_id": 36190123, "answer_count": 1, "score": -2, "last_activity_date": 1458815198, "creation_date": 1458771798, "last_edit_date": 1458815198, "question_id": 36189835, "link": "https://stackoverflow.com/questions/36189835/side-in-a-square-spiral-in-python-turtle-graphics", "title": "Side in a Square Spiral In Python (Turtle Graphics)", "body": "<p>I've created a program that generates a square spiral in Python using Turtle graphics. </p>\n\n<p>What I am a little unsure about is the sides in the spiral. </p>\n\n<p>What I have for my program currently is: </p>\n\n<pre><code>from turtle import *\nstartLength = int(input(\"Please enter the length of first side: \"))\ndecrement = int(input(\"Please enter the change in length of side: \"))\nfor i in range (3,8):\n    startLength = startLength - decrement\n    forward(startLength)\n    left(90)\n</code></pre>\n\n<p>It works better when I can prompt the user to enter the number of sides like this: </p>\n\n<pre><code>from turtle import *\nstartLength = int(input(\"Please enter the length of first side: \"))\ndecrement = int(input(\"Please enter the change in length of side: \"))\nsideNum = int(input(\"Please enter the number of sides: \"))\nfor i in range (sideNum):\n    startLength = startLength - decrement\n    forward(startLength)\n    left(90)\n</code></pre>\n\n<p>But I am only allowed to ask the user to enter the starting length and the decrement. </p>\n\n<p>How can I create a spiral with correct number of sides without asking the user to enter the number of sides? </p>\n"}, {"tags": ["python", "numpy", "matrix", "vectorization"], "comments": [{"owner": {"reputation": 163, "user_id": 762517, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fd4a7c6b21c1d68090d370aa93018c31?s=128&d=identicon&r=PG", "display_name": "minhduc", "link": "https://stackoverflow.com/users/762517/minhduc"}, "edited": false, "score": 1, "creation_date": 1458773970, "post_id": 36189809, "comment_id": 60015549, "body": "Why did you put the first &quot;if&quot; statement inside for loop over range(nbinmat[j]) ? I see nothing depends on e inside it? Besides, shouldn&#39;t &quot;classifiedmat[i,j] == nodatacode&quot; be &quot;classifiedmat[i,j] = nodatacode&quot;?"}, {"owner": {"reputation": 11909, "user_id": 2476444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czrJP.png?s=128&g=1", "display_name": "Oliver W.", "link": "https://stackoverflow.com/users/2476444/oliver-w"}, "edited": false, "score": 0, "creation_date": 1458777765, "post_id": 36189809, "comment_id": 60016797, "body": "The problem is really in the elif clause, like you say. Perhaps this code could not be fully rewritten (some parts can though), but maybe the &quot;bigger picture&quot; can? If you could shed some light on what it is you actually want to do (where does <code>binedges</code>come from, why do you need to compare every single element of an array to elements in a possibly staggered array), then perhaps more help is available."}], "answers": [{"tags": [], "owner": {"reputation": 2223, "user_id": 325181, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26de4aa17ab84757b1233714af5fec84?s=128&d=identicon&r=PG", "display_name": "Clarus", "link": "https://stackoverflow.com/users/325181/clarus"}, "is_accepted": false, "score": -1, "last_activity_date": 1458773063, "creation_date": 1458773063, "answer_id": 36190140, "question_id": 36189809, "link": "https://stackoverflow.com/questions/36189809/vectorized-element-assignment-involving-comparisons-between-matrices-in-numpy/36190140#36190140", "title": "Vectorized element assignment involving comparisons between matrices in Numpy", "body": "<p>Well, if you want to use vector operations you need to solve the problem using linear algebra. I can't rethink the problem for you, but the general approach I would take is something like:</p>\n\n<ul>\n<li>res = Subtract samplemat from binedges</li>\n<li>res = Normalize values in res to 0 and 1 (use clip?). i.e if > 0, then 1 else 0. </li>\n<li>ncount = sum ( res )</li>\n<li>classifiedMat = res * binedges </li>\n</ul>\n\n<p>And so on.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 4766819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152602496176572/picture?type=large", "display_name": "Ananth Ravi Kumar", "link": "https://stackoverflow.com/users/4766819/ananth-ravi-kumar"}, "edited": false, "score": 0, "creation_date": 1459833253, "post_id": 36194916, "comment_id": 60450184, "body": "thanks for the help! it most definitely has given me some ideas to work with."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": true, "score": 0, "last_activity_date": 1458803619, "creation_date": 1458803619, "answer_id": 36194916, "question_id": 36189809, "link": "https://stackoverflow.com/questions/36189809/vectorized-element-assignment-involving-comparisons-between-matrices-in-numpy/36194916#36194916", "title": "Vectorized element assignment involving comparisons between matrices in Numpy", "body": "<p>Without some concrete examples and explanation it's hard (or at least work) to figure out what you are trying to do, especially in the inner loop.  So let's tackle a few pieces and try to simplify them</p>\n\n<pre><code>In [59]: C=np.zeros((3,4),int)\nIn [60]: N=np.arange(4)\nIn [61]: C[:]=N\nIn [62]: C\nOut[62]: \narray([[0, 1, 2, 3],\n       [0, 1, 2, 3],\n       [0, 1, 2, 3]])\n</code></pre>\n\n<p>means that <code>classifiedmat[i,j] = nbinmat[j]</code> can be moved out of the loops</p>\n\n<pre><code>classifiedmat = np.zeros(samplemat.shape)\nclassifiedmat[:] = nbinmat\n</code></pre>\n\n<p>and</p>\n\n<pre><code>In [63]: S=np.arange(12).reshape(3,4)\nIn [64]: C[S&gt;8]=99\nIn [65]: C\nOut[65]: \narray([[ 0,  1,  2,  3],\n       [ 0,  1,  2,  3],\n       [ 0, 99, 99, 99]])\n</code></pre>\n\n<p>suggests that</p>\n\n<pre><code>if samplemat[i,j] == nodatacode:\n   classifiedmat[i,j] == nodatacode\n</code></pre>\n\n<p>could be replaced with</p>\n\n<pre><code>classifiedmat[samplemat==nodatacode] = nodatacode\n</code></pre>\n\n<p>I haven't worked out whether loop and break modifies this replacement or not.</p>\n\n<p>a possible model for inner loop is:</p>\n\n<pre><code>In [83]: B=np.array((np.arange(4),np.arange(2,6))).T\nIn [84]: for e in range(2):\n    C[S&lt;=B[:,e]]=e\n   ....:     \nIn [85]: C\nOut[85]: \narray([[ 1,  1,  1,  1],\n       [ 0,  1,  2,  3],\n       [ 0, 99, 99, 99]])\n</code></pre>\n\n<p>You could also compare all values of S and B with:</p>\n\n<pre><code>In [86]: S[:,:,None]&lt;=B[None,:,:]\nOut[86]: \narray([[[ True,  True],\n        [ True,  True],\n        [ True,  True],\n        [ True,  True]],\n\n       [[False, False],\n        [False, False],\n        [False, False],\n        [False, False]],\n\n       [[False, False],\n        [False, False],\n        [False, False],\n        [False, False]]], dtype=bool)\n</code></pre>\n\n<p>The fact that you are iterating over:</p>\n\n<pre><code>for e in range(nbinmat[j]):\n</code></pre>\n\n<p>may throw out all these equivalences.  I'm not going try to figure out its significance.  But maybe I've given you some ideas.</p>\n"}], "owner": {"reputation": 31, "user_id": 4766819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10152602496176572/picture?type=large", "display_name": "Ananth Ravi Kumar", "link": "https://stackoverflow.com/users/4766819/ananth-ravi-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 36194916, "answer_count": 2, "score": 0, "last_activity_date": 1458803619, "creation_date": 1458771665, "question_id": 36189809, "link": "https://stackoverflow.com/questions/36189809/vectorized-element-assignment-involving-comparisons-between-matrices-in-numpy", "title": "Vectorized element assignment involving comparisons between matrices in Numpy", "body": "<p>I'm currently trying to replace the for-loops in this code chunk with vectorized operations in Numpy:</p>\n\n<pre><code>def classifysignal(samplemat, binedges, nbinmat, nodatacode):\n    ndata, nsignals = np.shape(samplemat)\n    classifiedmat = np.zeros(shape=(ndata, nsignals))\n    ncounts = 0\n    for i in range(ndata):\n        for j in range(nsignals):\n            classifiedmat[i,j] = nbinmat[j]\n            for e in range(nbinmat[j]):\n                if samplemat[i,j] == nodatacode:\n                    classifiedmat[i,j] == nodatacode\n                    break\n                elif samplemat[i,j] &lt;= binedges[j, e]:\n                    classifiedmat[i,j] = e\n                    ncounts += 1\n                    break\n    ncounts = float(ncounts/nsignals)\n    return classifiedmat, ncounts\n</code></pre>\n\n<p>However, I'm having a little trouble conceptualizing how to replace the third for loop (i.e. the one beginning with <code>for e in range(nbinmat[j])</code>, since it entails comparing individual elements of two separate matrices before assigning a value, with the indices of these elements (i and e) being completely decoupled from each other. Is there a simple way to do this using whole-array operations, or would sticking with for-loops be best?</p>\n\n<p>PS: My first Stackoverflow question, so if anything's unclear/more details are needed, please let me know! Thanks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1458771403, "post_id": 36189707, "comment_id": 60014575, "body": "Well, I&#39;m pretty sure that if <code>k</code> runs until the side of the image, <code>k+pixs</code> is indeed outside of the image, when <code>k</code> is large."}, {"owner": {"reputation": 1, "user_id": 4159513, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005581901146/picture?type=large", "display_name": "Maria Rahat", "link": "https://stackoverflow.com/users/4159513/maria-rahat"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1458771586, "post_id": 36189707, "comment_id": 60014655, "body": "when i dont use list, it works fine. but when i try to change any value dynamically, this says list index is out of range"}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 3, "creation_date": 1458771713, "post_id": 36189707, "comment_id": 60014701, "body": "Unfortunately I couldn&#39;t find out what&#39;s the problem. Could you please provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>?"}, {"owner": {"reputation": 1, "user_id": 4159513, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005581901146/picture?type=large", "display_name": "Maria Rahat", "link": "https://stackoverflow.com/users/4159513/maria-rahat"}, "reply_to_user": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "edited": false, "score": 0, "creation_date": 1458772192, "post_id": 36189707, "comment_id": 60014880, "body": "done. check the problem again"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1458772226, "post_id": 36189707, "comment_id": 60014894, "body": "Please check <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> again."}, {"owner": {"reputation": 1, "user_id": 4159513, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005581901146/picture?type=large", "display_name": "Maria Rahat", "link": "https://stackoverflow.com/users/4159513/maria-rahat"}, "edited": false, "score": 0, "creation_date": 1458772504, "post_id": 36189707, "comment_id": 60015004, "body": "i am trying my best to explain the problem. idk what else is needed to explain! :("}], "answers": [{"tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": false, "score": 0, "last_activity_date": 1458774180, "creation_date": 1458774180, "answer_id": 36190363, "question_id": 36189707, "link": "https://stackoverflow.com/questions/36189707/color-coded-cryptography-using-python/36190363#36190363", "title": "color coded cryptography using python", "body": "<p>It's not clear what you try to achieve with the slice assignment, but the cause of the error you mentioned is clear now: analyze the value of <code>i</code>. <code>i</code> is initially set to <code>0</code>, and is incremented by one in every iteration of the inner loop. The loops iterate through every pixel (as <code>range(img.shape[0])</code> will iterate every integer between <code>0 .. img.shape[0]-1</code>).  The image contains <code>280*280 == 784000</code> pixels, so <code>i</code> grows bigger than the length of <code>l</code> pretty fast, and that will raise an index out of bounds error on <code>l[i]</code>.</p>\n\n<p>After seeing your code, I assume that you wanted to set the color of blocks of <code>pixs*pixs</code> size. For that, you will have to change the step of <code>k</code> and <code>g</code>, like: <code>range(0, img.shape[0], pixs)</code> (which yields 0, pixs, 2*pixs...). If you do so it will still not work, as there are 16 (== (280/70)**2) blocks in the image, but there are only 14 values in <code>l</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 4159513, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005581901146/picture?type=large", "display_name": "Maria Rahat", "link": "https://stackoverflow.com/users/4159513/maria-rahat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1458774180, "creation_date": 1458771207, "last_edit_date": 1458773560, "question_id": 36189707, "link": "https://stackoverflow.com/questions/36189707/color-coded-cryptography-using-python", "title": "color coded cryptography using python", "body": "<p>I am implementing a research paper as my project. what i am doing is that i am making a new image and assigning each pixel a RGB value. bascially what i am trying to do is create blocks and assign these blocks some RGB value. when i change the values manually it works fine and make all blocks. but when i try this using list it says list index out of range.</p>\n\n<pre><code>img = np.zeros((280,280,3), np.uint8) #new image\npixs=70 #number of pixels\nl=[208,121,123,156,189,245,255,111,123,125,125,121,131,212] #list of values of R\n\ni=0    \nfor k in range(img.shape[0]):\n    for g in range(img.shape[1]):\n        img[k:k+(pixs-1), g:g+(pixs-1)] = (l[i],32,144)\n        i=i+1\n</code></pre>\n\n<p>here i am making the blocks and assigning them RGB values. please guide me where i am wrong as i am using python for the first time</p>\n"}, {"tags": ["python", "multithreading", "apache-spark", "parallel-processing", "pyspark"], "comments": [{"owner": {"reputation": 188, "user_id": 197030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ddd051f0cadb2f9b52d1e728f10585?s=128&d=identicon&r=PG", "display_name": "deuxpi", "link": "https://stackoverflow.com/users/197030/deuxpi"}, "edited": false, "score": 0, "creation_date": 1458775655, "post_id": 36189604, "comment_id": 60016148, "body": "Have you tried looking at the Spark UI? After running your example, I get 3 tasks for each <code>collect()</code> action, which is the number of partitions you provided at the creation of the RDD. Outside of that, the number of tasks running in parallel depends on the Spark application configuration. For example, if you started with <code>pyspark --master local[8]</code> and you have at least 8 cores, it will be able to parallelize 8 tasks at once."}, {"owner": {"reputation": 2902, "user_id": 3785114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9KZgw.jpg?s=128&g=1", "display_name": "alfredox", "link": "https://stackoverflow.com/users/3785114/alfredox"}, "reply_to_user": {"reputation": 188, "user_id": 197030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1ddd051f0cadb2f9b52d1e728f10585?s=128&d=identicon&r=PG", "display_name": "deuxpi", "link": "https://stackoverflow.com/users/197030/deuxpi"}, "edited": false, "score": 0, "creation_date": 1458832356, "post_id": 36189604, "comment_id": 60040435, "body": "I have not since the jobs run pretty quickly. I will take a look, but I thought the UI would give a top level view of how many workers were running not how many concurrent thread was being processed in each worker. Ok so then you are saying if I limit the parameter to --master local[4] it should only parallelize 4 tasks at a time? I&#39;m going to play around with it and see, thanks."}], "answers": [{"comments": [{"owner": {"reputation": 2902, "user_id": 3785114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9KZgw.jpg?s=128&g=1", "display_name": "alfredox", "link": "https://stackoverflow.com/users/3785114/alfredox"}, "edited": false, "score": 0, "creation_date": 1458832764, "post_id": 36191040, "comment_id": 60040738, "body": "I suspected order of execution could be arbitrary which is why I am concerned with this implementation and the inability to have one control parameter so that no two processes run on the same GPU. However I feel like I may have a solution. I thought about just writing to a database which GPU is busy, and concurrent processes would simply pick an idle GPU or wait for an idle one, going to try that.   Awesome find with the Yahoo CaffeOnSpark link, but they used it for training only, it has no indication it can be implemented for detection with a caffemodel file, I&#39;ll look into that. Thanks!"}], "tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": false, "score": 1, "last_activity_date": 1458778529, "last_edit_date": 1458778529, "creation_date": 1458777991, "answer_id": 36191040, "question_id": 36189604, "link": "https://stackoverflow.com/questions/36189604/in-what-order-does-data-get-process-from-rdds-in-spark/36191040#36191040", "title": "In what order does data get process from RDDs in Spark?", "body": "<blockquote>\n  <p>In what order does data get process from RDDs in Spark?</p>\n</blockquote>\n\n<p>Unless it is some border case, like only one partition, order is arbitrary or nondeterministic. This will depend on the cluster, on the data and on different runtime events. </p>\n\n<p>A number of partitions sets only a limit of overall parallelism for a given stage or in other words it is a minimal unit of parallelism in Spark. No matter how much resources you allocate you a single stage should process more data than at the time. Once again there can be border cases when worker is not accessible and task is rescheduled on another machine.</p>\n\n<p>Another possible limit you can think of is the number of the executor threads. Even if you increase the number of partitions a single executor thread will process only one at the time.</p>\n\n<p>Neither of the above tell you where or when given partition will be processed. While you can use some dirty, inefficient and non-portable tricks at the configuration level (like single worker with a single executor thread per machine) to make sure that only a one partition is processed on a given machine at the time it is not particularly useful in general.</p>\n\n<p>As a rule of thumb I would say that Spark code should never be concerned wit a time an place it is executed. There are some low level aspects of the API which provides means to set partition specific preferences but as far as I know these don't provide hard guarantees.</p>\n\n<p>That being said one can think of at least few ways you can approach this problem:</p>\n\n<ul>\n<li>long running executor threads with configuration level guarantees - it could be acceptable if Spark is responsible only for loading and saving data</li>\n<li>singleton objects which control queuing jobs on the GPU</li>\n<li>delegating GPU processing to specialized service which ensures proper access</li>\n</ul>\n\n<p>On a side not you may be interested in <a href=\"http://yahoohadoop.tumblr.com/post/129872361846/large-scale-distributed-deep-learning-on-hadoop\" rel=\"nofollow\">Large Scale Distributed Deep Learning on Hadoop Clusters</a> which roughly describes an architecture which can be applicable here.</p>\n"}], "owner": {"reputation": 2902, "user_id": 3785114, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/9KZgw.jpg?s=128&g=1", "display_name": "alfredox", "link": "https://stackoverflow.com/users/3785114/alfredox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1458778529, "creation_date": 1458770743, "question_id": 36189604, "link": "https://stackoverflow.com/questions/36189604/in-what-order-does-data-get-process-from-rdds-in-spark", "title": "In what order does data get process from RDDs in Spark?", "body": "<p><strong>Context</strong><br>\nSpark provides RDDs for which map functions can be used to lazily set up the operations for processing in parallel. RDD's can be created with a specified partitioning parameter that determines how many partitions to create per RDD, preferably this parameter equals the number of systems (Ex. You have 12 files to process, create an RDD with 3 partitions which splits the data into buckets of 4 each for 4 systems and all the files get processed concurrently in each system). It is my understand that these partitions control the portion of data that goes to each system for processing.</p>\n\n<p><strong>Issue</strong><br>\nI need to fine tune and control how many functions run at same time per system. If 2 or more functions run on same GPU at the same time, the system will crash.</p>\n\n<p><strong>Question</strong><br>\nIf an RDD is not evenly nicely split (like in the example above), how many threads run concurrently on the system?</p>\n\n<p><strong>Example</strong><br>\nIn: </p>\n\n<pre><code>sample_files = ['one.jpg','free.jpg','two.png','zero.png',\n                'four.jpg','six.png','seven.png','eight.jpg',\n                'nine.png','eleven.png','ten.png','ten.png',\n                'one.jpg','free.jpg','two.png','zero.png',\n                'four.jpg','six.png','seven.png','eight.jpg',\n                'nine.png','eleven.png','ten.png','ten.png',\n                'eleven.png','ten.png']\nCLUSTER_SIZE = 3\nexample_rdd = sc.parallelize(sample_files, CLUSTER_SIZE)\nexample_partitions = example_rdd.glom().collect()\n\n# Print elements per partition\nfor i, l in enumerate(example_partitions): print \"parition #{} length: {}\".format(i, len(l))\n# Print partition distribution\nprint example_partitions\n\n# How many map functions run concurrently when the action is called on this Transformation?\nexample_rdd.map(lambda s: (s, len(s))\naction_results = example_rdd.reduceByKey(add)\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>parition #0 length: 8\nparition #1 length: 8\nparition #2 length: 10\n[ ['one.jpg', 'free.jpg', 'two.png', 'zero.png', 'four.jpg', 'six.png', 'seven.png', 'eight.jpg'], \n['nine.png', 'eleven.png', 'ten.png', 'ten.png', 'one.jpg', 'free.jpg', 'two.png', 'zero.png'], \n['four.jpg', 'six.png', 'seven.png', 'eight.jpg', 'nine.png', 'eleven.png', 'ten.png', 'ten.png', 'eleven.png', 'ten.png'] ]\n</code></pre>\n\n<p><strong>In Conclusion</strong><br>\nWhat I need to know, is if the RDD is split the way it is, what controls how many threads are processed simultaneously? Is it the number of cores, or is there a global parameter that can be set so it only processes 4 at a time on each partition (system)?</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 1308, "user_id": 4468084, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/eb44ca05e219e91ddde075ac13209541?s=128&d=identicon&r=PG", "display_name": "Spooky", "link": "https://stackoverflow.com/users/4468084/spooky"}, "edited": false, "score": 1, "creation_date": 1458772211, "post_id": 36189532, "comment_id": 60014888, "body": "If your font, &quot;pixelfont&quot;, is a ttf file, you can simply load it in with <code>pygame.font.Font(&quot;pixelfont.ttf&quot;, 128)</code> (assuming pixelfont.ttf is in the current working directory.)"}], "answers": [{"tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": true, "score": 2, "last_activity_date": 1458773707, "creation_date": 1458773707, "answer_id": 36190271, "question_id": 36189532, "link": "https://stackoverflow.com/questions/36189532/loading-a-font-from-the-system-in-pygame/36190271#36190271", "title": "Loading a font from the system in pygame", "body": "<p>You can use <code>pixelfont.ttf</code> instead of <code>pixelfont</code> if it is a <code>.ttf</code> file (font file) and it is in the same folder as your program. So use this instead after making sure the font file is in the same folder as your program:</p>\n\n<pre><code>font_1_path = pygame.font.match_font(\"pixelfont.ttf\", 0, 0)\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 5864444, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-jLz5DZ8SRoc/AAAAAAAAAAI/AAAAAAAAAD0/9s0foL5cYGA/photo.jpg?sz=128", "display_name": "tobahhh", "link": "https://stackoverflow.com/users/5864444/tobahhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 36190271, "answer_count": 1, "score": 3, "last_activity_date": 1458773707, "creation_date": 1458770460, "question_id": 36189532, "link": "https://stackoverflow.com/questions/36189532/loading-a-font-from-the-system-in-pygame", "title": "Loading a font from the system in pygame", "body": "<p>I have a font called \"pixelfont\" that I would like to load onto my game. How can I load this font into pygame? I have tried the following method already:</p>\n\n<pre><code>    import pygame\n    font_1_path = pygame.font.match_font(\"pixelfont\", 0, 0)\n    font_1 = pygame.font.Font(font_1_path, 128)\n    text = font.render(\"Hello world!\", True, (0, 0, 0))\n    display.blit(text, [0, 0])\n</code></pre>\n\n<p>Why does this not print out \"Hello world!\" in pixelfont? </p>\n"}, {"tags": ["python", "transactions", "sqlalchemy", "rollback"], "comments": [{"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1458771690, "post_id": 36189508, "comment_id": 60014693, "body": "What is your actual question? How to keep SQLAlchemy from expiring objects in the session when you roll back? AFAIK you can&#39;t. Depending on your requirements it may be acceptable to detach the objects from the session that you want to keep before you do the insert."}, {"owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "reply_to_user": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1458772057, "post_id": 36189508, "comment_id": 60014834, "body": "We got around this issue by making copies of the selected data. It&#39;s a real pain in the ass and I was hoping there&#39;s a way to make objects not expire on session.rollback. We&#39;ve also considered opening two sessions. One for selecting data and one for inserting. I&#39;ve never done anything like that before and don&#39;t know if that would even work."}, {"owner": {"reputation": 16460, "user_id": 341730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4ac3bee5a31e114112c0222eef62e0?s=128&d=identicon&r=PG", "display_name": "univerio", "link": "https://stackoverflow.com/users/341730/univerio"}, "edited": false, "score": 0, "creation_date": 1458773202, "post_id": 36189508, "comment_id": 60015273, "body": "It sounds to me that detaching from the session should work in your case. Two sessions should work too but that has additional overhead (two connections)."}], "owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 864, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1458770354, "creation_date": 1458770354, "question_id": 36189508, "link": "https://stackoverflow.com/questions/36189508/session-rollback-deletes-data-previously-queried-from-the-database", "title": "session.rollback deletes data previously queried from the database.", "body": "<h1>The Problem</h1>\n\n<p>Calling SQLAlchemy's <code>session.rollback()</code> after hitting a DB integrity error (requirement of SQLAlchemy) causes all session objects to be disposed. This includes objects created by previous selects.</p>\n\n<p>Looking at the SQL generated our query data is caught in an implicit transaction that isn't finished until after we do <code>session.close</code>.</p>\n\n<h2>Simplified SQL Example</h2>\n\n<pre><code>Begin (implicit) transaction\nSELECT Data\n# Should be end transaction here\n# Should Start new Transaction\nINSERT New Data\n# hit integrity error\nrollback\n</code></pre>\n\n<h1>Problem Section</h1>\n\n<pre><code>try:\n    self.session.add(insertable['cluster'])\n    self.session.commit()\nexcept IntegrityError:\n    print('Prevented from inserting duplicate to cluster table')\n    self.session.rollback()\n# insertable is now an empty object and can't be used without repopulating\n</code></pre>\n\n<p>What this means is that in the worst case we'll have an integrity error on every insert and we'll need to re-select the row IDs for each insert.</p>\n\n<h1><code>session.commit</code> After Select</h1>\n\n<pre><code>def find_entry(self, inpath):\n    inpath = inpath.rstrip('/')\n    inpath = '/'.join(inpath.split('/')[:-1])\n    entry = self.session.query(\n        models.Gather).filter_by(path=inpath).first()\n    self.session.commit()\n    return entry\n</code></pre>\n\n<p>But this doesn't actually commit the session transaction and so when we rollback we still lose the data.</p>\n\n<h1>Reasons And Other Effects</h1>\n\n<p>For performance reasons we have a set of code that selects data from a database, gets row IDs from two tables in said DB, and then uses the selected row IDs as foreign keys when we insert.</p>\n\n<p>This is mainly done so that we don't have to query on each insert.</p>\n\n<p>The problem is that if we run into a constraint or integrity errors while we're inserting than we have to do a <code>session.rollback</code>. We're finding that this <code>session.rollback</code> is killing our prior query even though they should logically be on different transactions.</p>\n\n<p>In addition to our selected data if we have objects that inserted successfully that we'd like to reference for their IDs these are also removed after a <code>sessions.rollback</code>.</p>\n\n<h1>Full Code</h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>class DBInserter:\n\n    def __init__(self):\n        # connection info here\n        Session = sessionmaker(bind=self.engine)\n        self.session = Session()\n\n    def __del__(self):\n        self.session.close()\n        self.engine.dispose()\n\n    def find_entry(self, inpath):\n        inpath = inpath.rstrip('/')\n        inpath = '/'.join(inpath.split('/')[:-1])\n        entry = self.session.query(\n            models.Gather).filter_by(path=inpath).first()\n        return entry\n\n    def build_insertable(self, jsonin, gather, lnn):\n        \"\"\"\n        Build sqlalchemy object that is ready to be inserted into the db\n        \"\"\"\n        object_dict = {}\n\n        cluster = models.Cluster(\n            guid = jsonin.get('guid'),\n            )\n\n        gather_id = None\n        if gather:\n            gather_id = gather.gather_id\n            cluster.gather_id = gather_id\n            gather.cluster_guid = jsonin.get('guid')\n            gather.cluster_name = jsonin.get('name'),\n            object_dict['gather'] = gather\n\n        node_gather = models.NodeGather(\n            gather_id = gather_id,\n            lnn = lnn,\n            checksum = jsonin.get('checksum'),\n            checksum_valid = jsonin.get('checksum_valid'),\n            compliance = jsonin.get('compliance'),\n            encoding = jsonin.get('encoding'),\n            joinmode = jsonin.get('joinmode'),\n            master = jsonin.get('master'),\n            maxid = jsonin.get('maxid'),\n            timezone = jsonin.get('timezone'),\n            )\n\n        object_dict['cluster'] = cluster\n        object_dict['node_gather'] = node_gather\n        return object_dict\n\n    def insert(self, insertable):\n        \"\"\"\n        insert prepared sqlalchemy object into the db\n        \"\"\"    \n        # Not doing batch inserts until we get single case to work properly.\n        try:\n            self.session.add(insertable['cluster'])\n            self.session.commit()\n        except IntegrityError:\n            print('Prevented from inserting duplicate to cluster table')\n            self.session.rollback()\n\n        if insertable.get('gather'):\n            try:\n                self.session.add(insertable.get('gather'))\n                self.session.commit()\n            except IntegrityError:\n                print('Prevented from inserting duplicate to gather table')\n                self.session.rollback()\n\n    def __call__(self, jsonin, path):\n        path = path.rstrip('/')\n        lnn = int(path.split('/')[-1].split('-')[-1])\n        out = self.build_insertable(jsonin, self.find_entry(path), lnn)\n        return out\n</code></pre>\n\n<h1>SQL</h1>\n\n<pre><code>2016-03-08 01:38:52,438 INFO sqlalchemy.engine.base.Engine SELECT gather.gather_id AS gather_gather_id, gather.cluster_guid AS gather_cluster_guid, gather.path AS gather_path, gather\n.cluster_name AS gather_cluster_name, gather.gather_date AS gather_gather_date, gather.unfurl_start AS gather_unfurl_start, gather.unfurl_end AS gather_unfurl_end, gather.upload_date\nAS gather_upload_date, gather.source_lnn AS gather_source_lnn, gather.last_full AS gather_last_full, gather.path_exists AS gather_path_exists, gather.type AS gather_type \nFROM gather \nWHERE gather.path = %(path_1)s \nLIMIT %(param_1)s\n2016-03-08 01:38:52,438 INFO sqlalchemy.engine.base.Engine {'param_1': 1, 'path_1': '/mnt/logs/REALPAGE/2015-12-14-005'}\n2016-03-08 01:38:52,440 INFO sqlalchemy.engine.base.Engine COMMIT\n2016-03-08 01:38:52,441 INFO sqlalchemy.engine.base.Engine BEGIN (implicit)\n2016-03-08 01:38:52,441 INFO sqlalchemy.engine.base.Engine SELECT gather.gather_id AS gather_gather_id, gather.cluster_guid AS gather_cluster_guid, gather.path AS gather_path, gather\n.cluster_name AS gather_cluster_name, gather.gather_date AS gather_gather_date, gather.unfurl_start AS gather_unfurl_start, gather.unfurl_end AS gather_unfurl_end, gather.upload_date\nAS gather_upload_date, gather.source_lnn AS gather_source_lnn, gather.last_full AS gather_last_full, gather.path_exists AS gather_path_exists, gather.type AS gather_type \nFROM gather \nWHERE gather.gather_id = %(param_1)s\n2016-03-08 01:38:52,441 INFO sqlalchemy.engine.base.Engine {'param_1': 'd284c3f7983f94bac95e024038820f05475feddb2f24aec2cb52d42c343194dd'}\n2016-03-08 01:38:52,444 INFO sqlalchemy.engine.base.Engine INSERT INTO cluster (guid, site_id) VALUES (%(guid)s, %(site_id)s)\n2016-03-08 01:38:52,444 INFO sqlalchemy.engine.base.Engine {'guid': '00074309e06ace7817523b06c7cbf76f7c08', 'site_id': None}\n2016-03-08 01:38:52,445 INFO sqlalchemy.engine.base.Engine ROLLBACK\n</code></pre>\n\n<p>Notice that there isn't a commit between the select and the rollback.</p>\n\n<p>Halp.</p>\n"}, {"tags": ["python", "gcc", "theano"], "comments": [{"owner": {"reputation": 1428, "user_id": 1610553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f3e1fc8ee5d02f92d4f6727ec2808e?s=128&d=identicon&r=PG", "display_name": "bernard paulus", "link": "https://stackoverflow.com/users/1610553/bernard-paulus"}, "edited": false, "score": 0, "creation_date": 1458770850, "post_id": 36189453, "comment_id": 60014329, "body": "How did you try to install theano? Please detail your question. What were the problems you encountered?"}, {"owner": {"reputation": 526, "user_id": 3573182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e5ca9c65ba1ccf09e442d8ae59fa324b?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmedn1", "link": "https://stackoverflow.com/users/3573182/ahmedn1"}, "reply_to_user": {"reputation": 1428, "user_id": 1610553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f3e1fc8ee5d02f92d4f6727ec2808e?s=128&d=identicon&r=PG", "display_name": "bernard paulus", "link": "https://stackoverflow.com/users/1610553/bernard-paulus"}, "edited": false, "score": 0, "creation_date": 1458771071, "post_id": 36189453, "comment_id": 60014428, "body": "I tried all the tutorials out there and every time I successfully install Theano but when I try to import it I get the error &quot;Problem occurred during compilation with the command line below:&quot; and I get a huge list of errors. Btw, I don&#39;t have VS installed on my system"}], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 6085157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a1564d3ccb9bdf9e3191a2dac49ec9?s=128&d=identicon&r=PG&f=1", "display_name": "SivNiz", "link": "https://stackoverflow.com/users/6085157/sivniz"}, "reply_to_user": {"reputation": 526, "user_id": 3573182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e5ca9c65ba1ccf09e442d8ae59fa324b?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmedn1", "link": "https://stackoverflow.com/users/3573182/ahmedn1"}, "edited": false, "score": 0, "creation_date": 1458771264, "post_id": 36189588, "comment_id": 60014511, "body": "Have you installed libpython? If not install it and see what happens. I assume the error message is too long to post here."}, {"owner": {"reputation": 6440, "user_id": 27302, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ee0b2f006682f28d5a6ba5634ade513?s=128&d=identicon&r=PG", "display_name": "Daniel H", "link": "https://stackoverflow.com/users/27302/daniel-h"}, "edited": false, "score": 0, "creation_date": 1515789433, "post_id": 36189588, "comment_id": 83449819, "body": "When you say it didn\u2019t work, did you try actually reinstalling the package, or just checking what IDLE says when you open it? The compiler IDLE lists isn\u2019t necessarily the same one that is used when installing packages."}], "tags": [], "owner": {"reputation": 108, "user_id": 6085157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92a1564d3ccb9bdf9e3191a2dac49ec9?s=128&d=identicon&r=PG&f=1", "display_name": "SivNiz", "link": "https://stackoverflow.com/users/6085157/sivniz"}, "is_accepted": false, "score": 2, "last_activity_date": 1458770682, "creation_date": 1458770682, "answer_id": 36189588, "question_id": 36189453, "link": "https://stackoverflow.com/questions/36189453/how-to-change-python-default-compiler-to-gcc/36189588#36189588", "title": "How to change Python default compiler to GCC?", "body": "<p>Edit Distutils config file C:\\Python2.7\\Lib\\distutils\\distutils.cfg (Create the file if it already does not exist).</p>\n\n<p>Add the following to the file:</p>\n\n<blockquote>\n  <p>[build]</p>\n  \n  <p>compiler = mingw32</p>\n</blockquote>\n\n<p>This should work.</p>\n"}], "owner": {"reputation": 526, "user_id": 3573182, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e5ca9c65ba1ccf09e442d8ae59fa324b?s=128&d=identicon&r=PG&f=1", "display_name": "Ahmedn1", "link": "https://stackoverflow.com/users/3573182/ahmedn1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2728, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458771104, "creation_date": 1458770142, "last_edit_date": 1458771104, "question_id": 36189453, "link": "https://stackoverflow.com/questions/36189453/how-to-change-python-default-compiler-to-gcc", "title": "How to change Python default compiler to GCC?", "body": "<p>I have Windows 10 and Python 2.7 installed. When I run IDLE I find this:\nPython 2.7.10 (default, Oct 14 2015, 16:09:02) \n[MSC v.1500 32 bit (Intel)]</p>\n\n<p>I want the default compiler here to be MinGW's GCC (I already installed MinGW) becaue I cannot import Theano with the MSC compiler</p>\n\n<p>I tried all the tutorials out there and every time I successfully install Theano but when I try to import it I get the error \"Problem occurred during compilation with the command line below:\" and I get a huge list of errors. Btw, I don't have VS installed on my system</p>\n"}, {"tags": ["python", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458828225, "post_id": 36189499, "comment_id": 60037453, "body": "This solution returns a copy of df2 in df4, i.e. df4 is identical with df2 instead of extracting elements from df1 and df2 depending on values in df3"}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "reply_to_user": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458831689, "post_id": 36189499, "comment_id": 60039909, "body": "Let me know if this works. I edited in the boolean mask explicitly."}, {"owner": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458833260, "post_id": 36189499, "comment_id": 60041116, "body": "Hi @Yakym - it still does not work. df4 is same as df2"}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "reply_to_user": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458845030, "post_id": 36189499, "comment_id": 60048858, "body": "This seems to work for me on python2.7.9 and pandas0.17.1"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1458846862, "post_id": 36189499, "comment_id": 60049850, "body": "@YakymPirozhenko I think this is a good answer, but, strangely enough, it is not working by me as well, FYI."}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1458850690, "post_id": 36189499, "comment_id": 60051966, "body": "I like yours. I wonder why the use of <code>.where</code> is not reproducible. Perhaps try using <code>.apply</code> in place of <code>.astype</code>?"}, {"owner": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458854544, "post_id": 36189499, "comment_id": 60053724, "body": "@YakymPirozhenko I have the same version of Python but pandas 1.15.2-12, which might be the issue. Thanks."}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1458856422, "post_id": 36189499, "comment_id": 60054481, "body": "I&#39;m upvoting this as this is the right approach - hope we eventually figure out why this wasn&#39;t working on all systems."}], "tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": false, "score": 1, "last_activity_date": 1458844941, "last_edit_date": 1458844941, "creation_date": 1458770335, "answer_id": 36189499, "question_id": 36189449, "link": "https://stackoverflow.com/questions/36189449/extracting-data-from-two-dataframes-to-create-a-third/36189499#36189499", "title": "Extracting data from two dataframes to create a third", "body": "<p><code>df4 = df1.where(df3.astype(bool), df2)</code> should do it.</p>\n\n<pre><code>import pandas as pd\nimport numpy  as np\n\ndf1 = pd.DataFrame(np.random.randint(10, size = (4,2)))\ndf2 = pd.DataFrame(np.random.randint(10, size = (4,2)))\ndf3 = pd.DataFrame(np.random.randint(2, size = (4,2)))\ndf4 = df1.where(df3.astype(bool), df2)\n\nprint df1, '\\n'\nprint df2, '\\n'\nprint df3, '\\n'\nprint df4, '\\n'\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   0  1\n0  0  3\n1  8  8\n2  7  4\n3  1  2 \n\n   0  1\n0  7  9\n1  4  4\n2  0  5\n3  7  2 \n\n   0  1\n0  0  0\n1  1  0\n2  1  1\n3  1  0 \n\n   0  1\n0  7  9\n1  8  4\n2  7  4\n3  1  2 \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "edited": false, "score": 0, "creation_date": 1458854293, "post_id": 36208260, "comment_id": 60053617, "body": "You method works. There is a small typo in the second part of the formula but the sytax does the job. Thanks                       pd.DataFrame(     df1.as_matrix() * df3.as_matrix() + df2.as_matrix() * (1 - df3.as_matrix()),     index=df1.index,     columns=df1.columns)"}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 1, "last_activity_date": 1458846823, "creation_date": 1458846823, "answer_id": 36208260, "question_id": 36189449, "link": "https://stackoverflow.com/questions/36189449/extracting-data-from-two-dataframes-to-create-a-third/36208260#36208260", "title": "Extracting data from two dataframes to create a third", "body": "<p>As your DataFrames happen to be numeric, and the selector matrix happens to be of indicator variables, you can do the following:</p>\n\n<pre><code>&gt;&gt;&gt; pd.DataFrame(\n    df1.as_matrix() * df3.as_matrix() + df1.as_matrix() * (1 - df3.as_matrix()),\n    index=df1.index,\n    columns=df1.columns)\n</code></pre>\n\n<p>I tried it by me and it works. Strangely enough, @Yakym Pirozhenko's answer - which I think is superior - doesn't work by me as well.</p>\n"}], "owner": {"reputation": 27, "user_id": 5691663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9af1dc49bf3b433978fa567e6340f25?s=128&d=identicon&r=PG&f=1", "display_name": "Vijay", "link": "https://stackoverflow.com/users/5691663/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 36208260, "answer_count": 2, "score": 1, "last_activity_date": 1458846823, "creation_date": 1458770136, "last_edit_date": 1458770452, "question_id": 36189449, "link": "https://stackoverflow.com/questions/36189449/extracting-data-from-two-dataframes-to-create-a-third", "title": "Extracting data from two dataframes to create a third", "body": "<p>I am using Python Pandas for the following. I have three dataframes, <code>df1</code>, <code>df2</code> and <code>df3</code>. Each has the same dimensions, index and column labels. I would like to create a fourth dataframe that takes elements from <code>df1</code> or <code>df2</code> depending on the values in <code>df3</code>:</p>\n\n<pre><code>df1 = pd.DataFrame(np.random.randn(4, 2), index=list('0123'), columns=['A', 'B'])\n\ndf1\n\nOut[67]: \n      A         B\n0  1.335314  1.888983\n1  1.000579 -0.300271\n2 -0.280658  0.448829\n3  0.977791  0.804459\n\ndf2 = pd.DataFrame(np.random.randn(4, 2), index=list('0123'), columns=['A', 'B'])\ndf2\nOut[68]: \n      A         B\n0  0.689721  0.871065\n1  0.699274 -1.061822\n2  0.634909  1.044284\n3  0.166307 -0.699048\n\ndf3 = pd.DataFrame({'A': [1, 0, 0, 1], 'B': [1, 0, 1, 0]})\ndf3\nOut[69]: \n   A  B\n0  1  1\n1  0  0\n2  0  1\n3  1  0\n</code></pre>\n\n<p>The new dataframe, <code>df4</code>, has the same index and column labels and takes an element from <code>df1</code> if the corresponding value in <code>df3</code> is <code>1</code>. It takes an element from <code>df2</code> if the corresponding value in <code>df3</code> is a <code>0</code>.</p>\n\n<p>I need a solution that uses generic references (e.g. <code>ix</code> or <code>iloc</code>) rather than actual column labels and index values because my dataset has fifty columns and four hundred rows.</p>\n"}, {"tags": ["python", "macos", "bash", "command-line"], "comments": [{"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1458770941, "post_id": 36189446, "comment_id": 60014372, "body": "Based on the link you provided, you aren&#39;t exactly following the instructions in the working solution. I followed them and the only issue I had before getting it to work were indentation issues, which wasn&#39;t surprising. I tried out spacing accordingly after each<code>\\n</code> and I got it working. By working...I did not receive a syntax error. That is all I checked as far as functionality."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 2, "creation_date": 1458771469, "post_id": 36189446, "comment_id": 60014604, "body": "Unrelated but  <code>csvfile.seek(0)</code> is a noop, the pointer is already at the start of the file, also if you exec the line in an ide you will get the same error. I got it working correctly by adding tabs and newlines where necessary"}, {"owner": {"reputation": 851, "user_id": 4855552, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-8tyeegra_mY/AAAAAAAAAAI/AAAAAAAAABs/bshL5-wka2U/photo.jpg?sz=128", "display_name": "jeff00seattle", "link": "https://stackoverflow.com/users/4855552/jeff00seattle"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458772226, "post_id": 36189446, "comment_id": 60014895, "body": "@idjaw I tried: <code>python3 -c &quot;import csv\\n\\nwith open(&#39;tmp&#47;google_adwords_report.csv&#39;, &#39;r&#39;) as csvfile:\\n\\tnext(csvfile)\\n\\treadCSV = csv.DictReader(csvfile)\\n\\tfor row in readCSV:\\n\\t\\tprint(row)&quot;</code>,   and I got  <i>SyntaxError: unexpected character after line continuation character</i>"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 1, "creation_date": 1458772376, "post_id": 36189446, "comment_id": 60014959, "body": "@JeffTanner That means your spacing after the new lines is still off. This did not give me a syntax error: <a href=\"http://pastebin.com/WPPaFKEx\" rel=\"nofollow noreferrer\">pastebin.com/WPPaFKEx</a>"}, {"owner": {"reputation": 851, "user_id": 4855552, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-8tyeegra_mY/AAAAAAAAAAI/AAAAAAAAABs/bshL5-wka2U/photo.jpg?sz=128", "display_name": "jeff00seattle", "link": "https://stackoverflow.com/users/4855552/jeff00seattle"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458772462, "post_id": 36189446, "comment_id": 60014985, "body": "@PadraicCunningham Good point about the <code>csvfile.seek(0)</code>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458772628, "post_id": 36189446, "comment_id": 60015059, "body": "@jeff  try <a href=\"http://pastebin.com/F9tWHbW7\" rel=\"nofollow noreferrer\">pastebin.com/F9tWHbW7</a> from a bash shell, your code above would also have worked if you used single quotes for the string itself and double quotes for the file name."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458772951, "post_id": 36189446, "comment_id": 60015180, "body": "If you echo both versions you will see a difference, the \\tand \\n are not interpreted properly unless you use single quotes"}], "answers": [{"tags": [], "owner": {"reputation": 1941, "user_id": 5186820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/3054407a607bcfc6f7203280afd0aceb?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/5186820/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1458771822, "last_edit_date": 1458771822, "creation_date": 1458771507, "answer_id": 36189776, "question_id": 36189446, "link": "https://stackoverflow.com/questions/36189446/python3-c-with-long-cmd-string-trying-to-resolve-invalid-syntax/36189776#36189776", "title": "python3 -c with long cmd string: Trying to resolve invalid syntax", "body": "<p>You are limited by what is allowed in Python on a single line.  See the Compound Statements section of the Python Language Ref for more info.</p>\n\n<p>Basically, some things are not allowed.  For example:</p>\n\n<pre><code>python -c \"if (1): print(1)\"\n</code></pre>\n\n<p>is okay.  But:</p>\n\n<pre><code>python -c \"if (1): if (1): print(1)\"\n</code></pre>\n\n<p>is not allowed.</p>\n\n<p>Another thing, you can't combine a statement with a indented clause.  So, this is also not okay:</p>\n\n<pre><code>python -c \"print(1); if (1): print(1)\"\n</code></pre>\n\n<p>And that's the issue you are running into.</p>\n\n<p>If you're in a shell that supports continuation of strings, you could do:</p>\n\n<pre><code># python3 -c \"if (1):\n&gt;   if (1):\n&gt;     print(1)\n&gt; \"\n1\n</code></pre>\n\n<p>Another thing that may work for you is inline CRs (via ^V^M).  For example:</p>\n\n<pre><code># python3 -c \"if (1):^M  if (1):^M    print(1)\"\n1\n</code></pre>\n\n<p>That is, I actually typed in CTRL-V CTRL-M to create the ^M.</p>\n\n<p>And, I am on OS X as well (Mavericks), running from bash.</p>\n"}, {"tags": [], "owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "is_accepted": false, "score": 0, "last_activity_date": 1458838117, "creation_date": 1458838117, "answer_id": 36205642, "question_id": 36189446, "link": "https://stackoverflow.com/questions/36189446/python3-c-with-long-cmd-string-trying-to-resolve-invalid-syntax/36205642#36205642", "title": "python3 -c with long cmd string: Trying to resolve invalid syntax", "body": "<p>Tyring to do this in a single line is wasting your time, and will cause you grief when you need to make a change to your code. This would be true in any language, but is especially so due to Python's whitespace requirements.</p>\n\n<p>Just use a <a href=\"http://tldp.org/LDP/abs/html/here-docs.html\" rel=\"nofollow\">heredoc</a>:</p>\n\n<pre><code>python3 &lt;&lt; EOF\nimport csv\n\nwith open('tmp/google_adwords_report.csv', 'r') as csvfile:\n    csvfile.seek(0)\n    next(csvfile)\n    readCSV = csv.DictReader(csvfile)\n    for row in readCSV:\n        print(row)\nEOF\n</code></pre>\n"}], "owner": {"reputation": 851, "user_id": 4855552, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh5.googleusercontent.com/-8tyeegra_mY/AAAAAAAAAAI/AAAAAAAAABs/bshL5-wka2U/photo.jpg?sz=128", "display_name": "jeff00seattle", "link": "https://stackoverflow.com/users/4855552/jeff00seattle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 669, "favorite_count": 0, "accepted_answer_id": 36189776, "answer_count": 2, "score": 1, "last_activity_date": 1458838117, "creation_date": 1458770122, "last_edit_date": 1495542275, "question_id": 36189446, "link": "https://stackoverflow.com/questions/36189446/python3-c-with-long-cmd-string-trying-to-resolve-invalid-syntax", "title": "python3 -c with long cmd string: Trying to resolve invalid syntax", "body": "<p>I know it would be easier if I put a long python script within a file, but I am trying to resolve why I am having a syntax error when within a <code>python3 -c cmd</code>:</p>\n\n<p>FYI: If it matters, I am performing this on OS X.</p>\n\n<p>I read the following, but it did not resolve my problem:\n<a href=\"https://stackoverflow.com/questions/33368897/python-multiline-command-running-from-bash\">python multiline command running from bash</a></p>\n\n<p>This is the working python3 script if executed from within a file:</p>\n\n<pre><code>import csv\n\nwith open('tmp/google_adwords_report.csv', 'r') as csvfile:\n    csvfile.seek(0)\n    next(csvfile)\n    readCSV = csv.DictReader(csvfile)\n    for row in readCSV:\n        print(row)\n</code></pre>\n\n<p>And this is the same script if performed within command line <code>python3 -c cmd</code>:</p>\n\n<pre><code>$ python3 -c \"import csv;  with open('tmp/google_adwords_report.csv', 'r') as csvfile: csvfile.seek(0); next(csvfile);  readCSV = csv.DictReader(csvfile); for row in readCSV: print(row);\"\n\n  File \"&lt;string&gt;\", line 1\n    import csv;  with open('tmp/google_adwords_report.csv', 'r') as csvfile: csvfile.seek(0); next(csvfile);  readCSV = csv.DictReader(csvfile); for row in readCSV: print(row);\n                    ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-parsing"], "answers": [{"comments": [{"owner": {"reputation": 719, "user_id": 3977047, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/qM1nj.jpg?s=128&g=1", "display_name": "EazyC", "link": "https://stackoverflow.com/users/3977047/eazyc"}, "edited": false, "score": 0, "creation_date": 1458771414, "post_id": 36189520, "comment_id": 60014580, "body": "I think this should work, thanks!! Greatly appreciated. Very clean. Just to make sure I&#39;ve clearly understood it, the loop that performs elm.extract() is needed to remove all the html within the h2 tags right? Then the end references.extract() simply removes the &#39;References&#39; h2 tags after all is extracted from within it?"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 719, "user_id": 3977047, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/qM1nj.jpg?s=128&g=1", "display_name": "EazyC", "link": "https://stackoverflow.com/users/3977047/eazyc"}, "edited": false, "score": 1, "creation_date": 1458771515, "post_id": 36189520, "comment_id": 60014628, "body": "@EazyC I hope it helps. In the loop we remove every next sibling to the References element, then we remove the References element itself.."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1458770395, "creation_date": 1458770395, "answer_id": 36189520, "question_id": 36189381, "link": "https://stackoverflow.com/questions/36189381/cutting-slicing-an-html-document-into-pieces-with-beautifulsoup/36189520#36189520", "title": "Cutting/Slicing an HTML document into pieces with BeautifulSoup?", "body": "<p>You can <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#extract\" rel=\"nofollow\">remove/extract</a> every sibling element of the \"References\" element and the element itself:</p>\n\n<pre><code>import re\nfrom bs4 import BeautifulSoup\n\ndata = \"\"\"\n&lt;div&gt;\n    &lt;h1&gt; Name of Article &lt;/h2&gt;\n    &lt;p&gt;First Paragraph I want&lt;/p&gt;\n    &lt;p&gt;More Html I'm interested in&lt;/p&gt;\n    &lt;h2&gt; Subheading in the article I also want &lt;/h2&gt;\n    &lt;p&gt;Even more Html i want to pull out of the document.&lt;/p&gt;\n    &lt;h2&gt; References &lt;/h2&gt;\n    &lt;p&gt;Html I do not want...&lt;/p&gt;\n&lt;/div&gt;\n\"\"\"\nsoup = BeautifulSoup(data, \"lxml\")\n\nreferences = soup.find(\"h2\", text=re.compile(\"References\"))\nfor elm in references.find_next_siblings():\n    elm.extract()\nreferences.extract()\n\nprint(soup)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;h1&gt; Name of Article&lt;/h1&gt;\n    &lt;p&gt;First Paragraph I want&lt;/p&gt;\n    &lt;p&gt;More Html I'm interested in&lt;/p&gt;\n    &lt;h2&gt; Subheading in the article I also want &lt;/h2&gt;\n    &lt;p&gt;Even more Html i want to pull out of the document.&lt;/p&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1303, "user_id": 2338522, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0851940df9b53b337c8234e408ad8ab5?s=128&d=identicon&r=PG", "display_name": "Or B", "link": "https://stackoverflow.com/users/2338522/or-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1458771689, "creation_date": 1458771689, "answer_id": 36189812, "question_id": 36189381, "link": "https://stackoverflow.com/questions/36189381/cutting-slicing-an-html-document-into-pieces-with-beautifulsoup/36189812#36189812", "title": "Cutting/Slicing an HTML document into pieces with BeautifulSoup?", "body": "<p>You can find the location of the <code>h2</code> in the string and then find a substring by it:</p>\n\n<pre><code>last_h2_tag = str(soup.find_all(\"h2\")[-1]) \nhtml[:html.rfind(last_h2_tag) + len(last_h2_tag)]\n</code></pre>\n"}], "owner": {"reputation": 719, "user_id": 3977047, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/qM1nj.jpg?s=128&g=1", "display_name": "EazyC", "link": "https://stackoverflow.com/users/3977047/eazyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2637, "favorite_count": 1, "accepted_answer_id": 36189520, "answer_count": 2, "score": 2, "last_activity_date": 1458771689, "creation_date": 1458769929, "question_id": 36189381, "link": "https://stackoverflow.com/questions/36189381/cutting-slicing-an-html-document-into-pieces-with-beautifulsoup", "title": "Cutting/Slicing an HTML document into pieces with BeautifulSoup?", "body": "<p>I have an HTML document as follows:</p>\n\n<pre><code>&lt;h1&gt; Name of Article &lt;/h2&gt; \n&lt;p&gt;First Paragraph I want&lt;/p&gt;\n&lt;p&gt;More Html I'm interested in&lt;/p&gt;\n&lt;h2&gt; Subheading in the article I also want &lt;/h2&gt;\n&lt;p&gt;Even more Html i want to pull out of the document.&lt;/p&gt;\n&lt;h2&gt; References &lt;/h2&gt; \n&lt;p&gt;Html I do not want...&lt;/p&gt;\n</code></pre>\n\n<p>I don't need references from the article, I want to slice the document at the second h2 tag.</p>\n\n<p>Obviously I can find a list of h2 tags like so:</p>\n\n<pre><code>soup = BeautifulSoup(html)\nsoupset = soup.find_all('h2')\nsoupset[1] #this would get the h2 heading 'References' but not what comes before it \n</code></pre>\n\n<p>I don't want to get a list of the h2 tags, I want to slice the document right at the second h2 tag and keep the above contents in a new variable. Basically the desired output I want is:</p>\n\n<pre><code>&lt;h1&gt; Name of Article &lt;/h2&gt; \n&lt;p&gt;First Paragraph I want&lt;p&gt;\n&lt;p&gt;More Html I'm interested in&lt;/p&gt;\n&lt;h2&gt; Subheading in the article I also want &lt;/h2&gt;\n&lt;p&gt;Even more Html i want to pull out of the document.&lt;/p&gt;\n</code></pre>\n\n<p>What is the best way to go aboout doing this \"slicing\"/cutting of the HTML document instead of simply finding tags and outputing the tags itself? </p>\n"}, {"tags": ["python", "python-2.7", "flask"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 2, "creation_date": 1458771435, "post_id": 36189354, "comment_id": 60014589, "body": "Try moving <code>run.py</code> from <code>tmp</code> under <code>microblog</code>. I think it is just a <code>PYTHONPATH</code> issue; your run.py cannot find your app module."}, {"owner": {"reputation": 89500, "user_id": 1426065, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/476e67c92121154e7910301e56cdfc4c?s=128&d=identicon&r=PG", "display_name": "MattDMo", "link": "https://stackoverflow.com/users/1426065/mattdmo"}, "edited": false, "score": 0, "creation_date": 1458778554, "post_id": 36189354, "comment_id": 60017006, "body": "Please don&#39;t tag your text editor. We don&#39;t care."}, {"owner": {"reputation": 45, "user_id": 5038589, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-aGdJbW2dQ5Y/AAAAAAAAAAI/AAAAAAAAAc8/BypjhnBgrKk/photo.jpg?sz=128", "display_name": "Shubham Garg", "link": "https://stackoverflow.com/users/5038589/shubham-garg"}, "edited": false, "score": 0, "creation_date": 1458806839, "post_id": 36189354, "comment_id": 60024870, "body": "#llja I tried but it gives me a new error i.e. &quot; AttributeError: &#39;module&#39; object has no attribute &#39;route&#39; &quot; now what can I do?"}], "answers": [{"tags": [], "owner": {"reputation": 41280, "user_id": 344286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/3827b2facd01ed6a64a96df00d4b877a?s=128&d=identicon&r=PG", "display_name": "Wayne Werner", "link": "https://stackoverflow.com/users/344286/wayne-werner"}, "is_accepted": false, "score": 0, "last_activity_date": 1458774191, "creation_date": 1458774191, "answer_id": 36190364, "question_id": 36189354, "link": "https://stackoverflow.com/questions/36189354/python-import-error-no-module-named-app/36190364#36190364", "title": "python Import Error: no module named app", "body": "<p>Your problem is that you don't have a clear understanding about the differences between imports, variable names, and packages. And how imports work.</p>\n\n<p>When you're structuring a Python package, you'll typically have your toplevel folder with a <code>setup.py</code>, <code>README</code> and other assorted files in it, then your package folder. You might want something that looks like this:</p>\n\n<pre><code>\u251c\u2500\u2500 microblog\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 __init__.py\n\u2502\u00a0\u00a0 \u251c\u2500\u2500 server.py\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 views.py\n\u251c\u2500\u2500 README\n\u251c\u2500\u2500 MANIFEST.in\n\u2514\u2500\u2500 setup.py\n</code></pre>\n\n<p>If you <em>really</em> didn't want to put your URL handlers in the same place as your app, you've got it a little backwards though. You should do it like this:</p>\n\n<h1>server.py</h1>\n\n<pre><code>from flask import Flask\nfrom . import views\n\napp = Flask(__name__)\napp.register_blueprint(views.microblog)\n\n\ndef run():\n    app.run(debug=True)\n</code></pre>\n\n<h1>views.py</h1>\n\n<pre><code>from flask import Blueprint\n\nmicroblog = Blueprint('microblog', __name__)\n\n@microblog.route('/')\n@microblog.route('/index')\ndef index():\n    return 'Hello, world!'\n</code></pre>\n\n<h1>setup.py</h1>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\nfrom setuptools import setup\n\nsetup(\n    name='microblog',\n    version='0.1.0',\n    description='My microblog',\n    author='Me',\n    author_email='me@example.com',\n    url='http://my.cool.example.com',\n    packages=[\n        'microblog',\n    ],\n    entry_points={\n        'console_scripts': [\n            'start-my-blog = microblog.server:run'\n        ],\n    },\n    package_dir={'microblog': 'microblog'},\n    include_package_data=True,\n    install_requires=['flask',\n    ],\n    license=\"BSD\",\n    zip_safe=False,\n    keywords='',\n    classifiers=[\n        'Development Status :: 2 - Pre-Alpha',\n        'Intended Audience :: Developers',\n        'License :: OSI Approved :: BSD License',\n        'Natural Language :: English',\n        'Programming Language :: Python :: 3.4',\n    ],\n)\n</code></pre>\n\n<p>Now you can create yourself a virtualenv, install your app, and then run it:</p>\n\n<pre><code>$ mkvirtualenv microblog\n$ workon microblog\n(microblog) $ python -m pip install -e .\n# a bunch of install happens here, flask &amp; what-not\n$ start-my-blog\n</code></pre>\n\n<p>If you want to change the name of the command to run, you'll do that in your setup.py. Starting out with a structure like this will save you a lot of headaches down the road.</p>\n"}], "owner": {"reputation": 45, "user_id": 5038589, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh5.googleusercontent.com/-aGdJbW2dQ5Y/AAAAAAAAAAI/AAAAAAAAAc8/BypjhnBgrKk/photo.jpg?sz=128", "display_name": "Shubham Garg", "link": "https://stackoverflow.com/users/5038589/shubham-garg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6616, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1616886240, "creation_date": 1458769810, "last_edit_date": 1458778541, "question_id": 36189354, "link": "https://stackoverflow.com/questions/36189354/python-import-error-no-module-named-app", "title": "python Import Error: no module named app", "body": "<p>First, I created <code>__init__.py</code> in my <code>app</code> folder</p>\n\n<pre><code>from flask import Flask\n\napp = Flask(__name__)\nfrom app import views\n</code></pre>\n\n<p>and then, I created <code>views.py</code> in the same app folder</p>\n\n<pre><code>from app import app\n\n@app.route('/')\n@app.route('/index')\ndef index():\n    return \"Hello, World!\n</code></pre>\n\n<p>and lastly, I created <code>run.py</code> in a different folder</p>\n\n<pre><code>#!flask/bin/python\nfrom app import app \napp.run()\n</code></pre>\n\n<p>so, my flask tree is like</p>\n\n<pre><code>/microblog\n    /app\n        /__init__.py\n        /views.py\n    /flask\n    /tmp\n        /run.py\n</code></pre>\n\n<p>But, when I try to run <code>run.py</code>, I get an error</p>\n\n<pre><code>Traceback (most recent call last):\n File \"/home/shubham/Microblog/tmp/run.py\", line 2, in &lt;module&gt;\n    from app import app \nImportError: No module named app\n[Finished in 0.2s with exit code 1]\n[shell_cmd: python -u \"/home/shubham/Microblog/tmp/run.py\"]\n[dir: /home/shubham/Microblog/tmp]\n[path:      /usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/usr/games:/usr/local/games]\n</code></pre>\n"}, {"tags": ["python", "html-parsing", "chat"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1458770155, "post_id": 36189351, "comment_id": 60014031, "body": "It works for me - getting <code>(3&#47;11&#47;2016 3:11:57 PM) user name: Have you posted the key to https:&#47;&#47;___.edu&#47;sshkeys&#47;?</code> when using <code>get_text()</code>. Post the code you have so far. Thanks."}, {"owner": {"reputation": 25, "user_id": 3834849, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1507736353/picture?type=large", "display_name": "Bob Settlage", "link": "https://stackoverflow.com/users/3834849/bob-settlage"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1458788686, "post_id": 36189351, "comment_id": 60019650, "body": "Hmm.  I wasn&#39;t getting too fancy: <code>soup = BeautifulSoup(i,&quot;lxml&quot;)         soupy = soup.get_text()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": false, "score": 0, "last_activity_date": 1458770233, "creation_date": 1458770233, "answer_id": 36189480, "question_id": 36189351, "link": "https://stackoverflow.com/questions/36189351/parsing-chat-logs-in-python-currently-using-beautifulsoup/36189480#36189480", "title": "parsing chat logs in python, currently using BeautifulSoup", "body": "<p>You can utilize <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#find-all\" rel=\"nofollow\"><code>find_all</code></a>:</p>\n\n<pre><code>for anchor in soup.find_all('a', href=True):\n    print(\"The anchor url={} text={}\".format(anchor['href'], anchor['text'])\n</code></pre>\n\n<p>Depending on how you want to output this information, you'd have to get more or less clever.</p>\n"}], "owner": {"reputation": 25, "user_id": 3834849, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/1507736353/picture?type=large", "display_name": "Bob Settlage", "link": "https://stackoverflow.com/users/3834849/bob-settlage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1458770233, "creation_date": 1458769785, "last_edit_date": 1458770022, "question_id": 36189351, "link": "https://stackoverflow.com/questions/36189351/parsing-chat-logs-in-python-currently-using-beautifulsoup", "title": "parsing chat logs in python, currently using BeautifulSoup", "body": "<p>I am having some issues parsing an IM chat log using Python 2.7.  I am currently using <code>BeautifulSoup.get_text</code>.  This generally works, but sometimes masks interesting stuff. For instance:</p>\n\n<pre><code>&lt;font color=\"#A82F2F\"&gt;&lt;font size=\"2\"&gt;(3/11/2016 3:11:57 PM)&lt;/font&gt; &lt;b&gt;user name:&lt;/b&gt;&lt;/font&gt; &lt;html xmlns='http://jabber.org/protocol/xhtml-im'&gt;&lt;body xmlns='http://www.w3.org/1999/xhtml'&gt;&lt;p&gt;Have you posted the key to &lt;a href=\"https://___.edu/sshkeys/?\"&gt;https://___.edu/sshkeys/?&lt;/a&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;&lt;br/&gt;\n</code></pre>\n\n<p>In this case, I get the <code>Have you posted the key to</code> part, but it strips out the <code>https:________</code> part.</p>\n\n<p>Most, not all, the lines are formatted the same. i.e. date time, user, interesting stuff.</p>\n\n<p>Is there a better way to parse this to get the text AND all the interesting stuff?</p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 733, "user_id": 1135316, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e5ea6a0b27d509628f1534501329f09d?s=128&d=identicon&r=PG", "display_name": "Chris Warth", "link": "https://stackoverflow.com/users/1135316/chris-warth"}, "is_accepted": false, "score": 0, "last_activity_date": 1458772542, "creation_date": 1458772542, "answer_id": 36190023, "question_id": 36189345, "link": "https://stackoverflow.com/questions/36189345/errors-accessing-multiindex-in-dataframe-from-spreadsheet/36190023#36190023", "title": "Errors accessing MultiIndex in DataFrame from spreadsheet", "body": "<p>I think I know why this happens now. I printed out types being compared in <code>pandas.indexes.base.Index.is_type_compatible</code></p>\n\n<pre><code>is_type_compatible: kind=string   inferred_type=unicode\n</code></pre>\n\n<p>So apparently <code>pandas.read_excel()</code> is reading strings as unicode and those are type-incompatible with simple 'strings'.</p>\n\n<p>The indexing error message here could be A LOT more informative.  Just telling me 'Level type mismatch' provides almost no useful information.  </p>\n"}], "owner": {"reputation": 733, "user_id": 1135316, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e5ea6a0b27d509628f1534501329f09d?s=128&d=identicon&r=PG", "display_name": "Chris Warth", "link": "https://stackoverflow.com/users/1135316/chris-warth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458772542, "creation_date": 1458769750, "question_id": 36189345, "link": "https://stackoverflow.com/questions/36189345/errors-accessing-multiindex-in-dataframe-from-spreadsheet", "title": "Errors accessing MultiIndex in DataFrame from spreadsheet", "body": "<p>This is difficult to pin down, but it seems like I cannot use a multiindex in a dataframe read from a spreadsheet with <code>pandas.read_excel</code>.   I've placed all files in a <a href=\"https://gist.github.com/cswarth/9b4c33d902e9752c66a4\" rel=\"nofollow\">Gist</a></p>\n\n<pre><code>df = pd.read_excel('small.xlsx')\ndf.set_index(['qrsid','locus'], inplace=True)\nprint(('dkdkd', 'kdkd') in df.index)\n</code></pre>\n\n<p>Produces an error,</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"mindex.py\", line 14, in &lt;module&gt;\n    print(('dkdkd', 'kdkd') in df.index)\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/multi.py\", line 947, in __contains__\n    self.get_loc(key)\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/multi.py\", line 1538, in get_loc\n    if lead_key else (0, len(self)))\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/multi.py\", line 1444, in slice_locs\n    return super(MultiIndex, self).slice_locs(start, end, step, kind=kind)\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/base.py\", line 2879, in slice_locs\n    start_slice = self.get_slice_bound(start, 'left', kind)\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/multi.py\", line 1415, in get_slice_bound\n    return self._partial_tup_index(label, side=side)\n  File \"/path/venv/local/lib/python2.7/site-packages/pandas/indexes/multi.py\", line 1460, in _partial_tup_index\n    raise TypeError('Level type mismatch: %s' % lab)\nTypeError: Level type mismatch: dkdkd\n</code></pre>\n\n<p>A similar dataframe with multi-index created from pandas primitives works fine,</p>\n\n<pre><code>df = pd.DataFrame({'qrsid':['qb210', 'qb210', 'qb210', 'qb210', 'qb210'],\n                'locus':['gag','gag','gag','gag','gag'],\n                'dpi': [ 800, 1002, 2291, 4444, 212]})\ndf.set_index(['qrsid','locus'], inplace=True)\nprint(('dkdkd', 'kdkd') in df.index)\n</code></pre>\n\n<p>I can't figure out what is different between the two dataframes.  Both have the same <code>df.dtypes</code>.  <code>df.index</code> on both look identical.  Can anyone tell me why accessing the index on the first one fails? </p>\n\n<hr>\n\n<pre><code>$ python --version\nPython 2.7.6\n$ python -c 'import pandas; print pandas.__version__'\n0.18.0\n</code></pre>\n"}, {"tags": ["python", "json", "django", "serialization", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 2268, "user_id": 923323, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59dc5fef902427d42634daf1200f31d7?s=128&d=identicon&r=PG", "display_name": "Cristian Rojas", "link": "https://stackoverflow.com/users/923323/cristian-rojas"}, "edited": false, "score": 0, "creation_date": 1458817999, "post_id": 36192951, "comment_id": 60030924, "body": "I forgot to mention that I already know this solution (and I&#39;m currently using it on this project), but I&#39;m looking for a more &quot;elegant&quot; way to do this without having to put an extra read_only field for each nested."}, {"owner": {"reputation": 1851, "user_id": 401636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/L6mKa.png?s=128&g=1", "display_name": "Aaron McMillin", "link": "https://stackoverflow.com/users/401636/aaron-mcmillin"}, "edited": false, "score": 0, "creation_date": 1498758783, "post_id": 36192951, "comment_id": 76644328, "body": "I had to go with this solution. The &quot;more clever&quot; way with a custom Field class fell over in more ways than I can count."}], "tags": [], "owner": {"reputation": 4437, "user_id": 3122083, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f070ab3629e61bd74ed92ed7ec986bde?s=128&d=identicon&r=PG", "display_name": "dkarchmer", "link": "https://stackoverflow.com/users/3122083/dkarchmer"}, "is_accepted": false, "score": 2, "last_activity_date": 1458791382, "creation_date": 1458791382, "answer_id": 36192951, "question_id": 36189303, "link": "https://stackoverflow.com/questions/36189303/django-rest-framework-receive-primary-key-value-in-post-and-return-model-object/36192951#36192951", "title": "Django Rest Framework receive primary key value in POST and return model object as nested serializer", "body": "<p>One way to do it is to keep 'carpool' as the default you get from DRF, and then add a read-only field for the nested object.</p>\n\n<p>Something like this (I don't have time to test the code, so consider this pseudo-code. If you cannot get it to work, let me know, and will spend more time):</p>\n\n<pre><code>class ParentArrivalSerializer(serializers.HyperlinkedModelSerializer):\n    carpool_info = serializers.SerializerMethodField(read_only=True)\n\n    class Meta:\n        model = ParentArrival\n        fields = ('id', 'carpool', 'carpool_info',)\n\n    def get_carpool_info(self, obj):\n         carpool = obj.carpool\n         serializer = SchoolBuildingCarpoolSerializer(carpool)\n         return serializer.data\n</code></pre>\n\n<p>If your only nested object is carpool, I would also suggest switching to the regular ModelSerializer so carpool only shows the ID (10) and the nested object then can show the URL.</p>\n\n<pre><code> class ParentArrivalSerializer(serializers.ModelSerializer):\n     ....\n</code></pre>\n\n<p>and then if it all works, you will be able to do a post with</p>\n\n<pre><code>{\n     \"carpool\": 10\n}\n</code></pre>\n\n<p>and your get:</p>\n\n<pre><code>{\n    \"carpool\": 10\n    \"carpool_info\": {\n        \"url\": \"http://localhost:8000/api/school-building-carpools/10/\"\n        \"name\": \"Name of the carpool\",\n        ...\n    }\n}\n</code></pre>\n\n<p>I have never found another solution, so this is the trick I have used several times.</p>\n"}, {"comments": [{"owner": {"reputation": 2268, "user_id": 923323, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59dc5fef902427d42634daf1200f31d7?s=128&d=identicon&r=PG", "display_name": "Cristian Rojas", "link": "https://stackoverflow.com/users/923323/cristian-rojas"}, "edited": false, "score": 0, "creation_date": 1458919687, "post_id": 36204886, "comment_id": 60076960, "body": "It works like a charm! I had to do some other hacks because my API is Hyperlinked but your solution does the trick!"}, {"owner": {"reputation": 1050, "user_id": 1188193, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/Sf2Js.png?s=128&g=1", "display_name": "Anuj", "link": "https://stackoverflow.com/users/1188193/anuj"}, "edited": false, "score": 0, "creation_date": 1480418785, "post_id": 36204886, "comment_id": 68944637, "body": "Can we create a generic field like this, where we can pass serializer while initialization?"}, {"owner": {"reputation": 566, "user_id": 4784007, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/25f82390733957d15b677030feb59bd7?s=128&d=identicon&r=PG&f=1", "display_name": "chukkwagon", "link": "https://stackoverflow.com/users/4784007/chukkwagon"}, "edited": false, "score": 0, "creation_date": 1498595558, "post_id": 36204886, "comment_id": 76559475, "body": "Cool solution. It&#39;s worth noting, however, that this means you can only POST the primary key and not the rich object. This is frustrating in an API scenario because it means you can get a resource from your django app (angular: <code>$http.get(&#39;&#47;my&#47;resource&#39;);</code>, but then you can&#39;t save that object without changing the embedded object back into an int."}, {"owner": {"reputation": 1851, "user_id": 401636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/L6mKa.png?s=128&g=1", "display_name": "Aaron McMillin", "link": "https://stackoverflow.com/users/401636/aaron-mcmillin"}, "edited": false, "score": 1, "creation_date": 1498755555, "post_id": 36204886, "comment_id": 76642427, "body": "When I did this my value was a PKOnlyObject and I had to do object = MyModel.get(pk=value.pk) to be able to instantiate the Serializer."}, {"owner": {"reputation": 1851, "user_id": 401636, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/L6mKa.png?s=128&g=1", "display_name": "Aaron McMillin", "link": "https://stackoverflow.com/users/401636/aaron-mcmillin"}, "edited": false, "score": 0, "creation_date": 1498756041, "post_id": 36204886, "comment_id": 76642724, "body": "Also this tanks when viewing the interactive API pages, because it can&#39;t use the dictionary response from <code>to_representation</code> when building the select widget. So you have to override <code>get_choices()</code>"}, {"owner": {"reputation": 819, "user_id": 2704474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3cdf51194ba138cbcdbf18576ea57ad9?s=128&d=identicon&r=PG&f=1", "display_name": "KOLEGA", "link": "https://stackoverflow.com/users/2704474/kolega"}, "edited": false, "score": 0, "creation_date": 1613901714, "post_id": 36204886, "comment_id": 117214464, "body": "I recommend scrolling a bit down, there is another great answer which makes it even more easier just with a custom to_representation function!"}], "tags": [], "owner": {"reputation": 4437, "user_id": 3122083, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/f070ab3629e61bd74ed92ed7ec986bde?s=128&d=identicon&r=PG", "display_name": "dkarchmer", "link": "https://stackoverflow.com/users/3122083/dkarchmer"}, "is_accepted": true, "score": 16, "last_activity_date": 1498757103, "last_edit_date": 1498757103, "creation_date": 1458835918, "answer_id": 36204886, "question_id": 36189303, "link": "https://stackoverflow.com/questions/36189303/django-rest-framework-receive-primary-key-value-in-post-and-return-model-object/36204886#36204886", "title": "Django Rest Framework receive primary key value in POST and return model object as nested serializer", "body": "<p>I have been happy with my previous solution, but decided to look again and I think I have another solution that does exactly what you want.</p>\n\n<p>Basically, you need to create your own custom field, and just overwrite the <code>to_representation</code> method:</p>\n\n<pre><code>class CarpoolField(serializers.PrimaryKeyRelatedField):\n    def to_representation(self, value):\n        pk = super(CarpoolField, self).to_representation(value)\n        try:\n           item = ParentArrival.objects.get(pk=pk)\n           serializer = CarpoolSerializer(item)\n           return serializer.data\n        except ParentArrival.DoesNotExist:\n           return None\n\n    def get_choices(self, cutoff=None):\n        queryset = self.get_queryset()\n        if queryset is None:\n            return {}\n\n        return OrderedDict([(item.id, str(item)) for item in queryset])\n\nclass ParentArrivalSerializer(serializers.HyperlinkedModelSerializer):\n    carpool = CarpoolField(queryset=Carpool.objects.all())\n\n    class Meta:\n        model = ParentArrival\n</code></pre>\n\n<p>This will allow you to post with</p>\n\n<pre><code>{\n     \"carpool\": 10\n}\n</code></pre>\n\n<p>and get:</p>\n\n<pre><code>{\n    \"carpool\": {\n        \"url\": \"http://localhost:8000/api/school-building-carpools/10/\"\n        \"name\": \"Name of the carpool\",\n        ...\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3820, "user_id": 3601654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0d89715d4e6812ed50ecd0b6d19c0f?s=128&d=identicon&r=PG&f=1", "display_name": "ramwin", "link": "https://stackoverflow.com/users/3601654/ramwin"}, "edited": false, "score": 0, "creation_date": 1508983573, "post_id": 46944720, "comment_id": 80836803, "body": "I think this is an elegant way and you won&#39;t have to make your own field. Since you don&#39;t add a new field like <code>foreignkey_info</code>, this may be more convenient for front-end user to encapsulate the object for this data structure."}, {"owner": {"reputation": 1899, "user_id": 7058363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zppXn.jpg?s=128&g=1", "display_name": "Genarito", "link": "https://stackoverflow.com/users/7058363/genarito"}, "edited": false, "score": 3, "creation_date": 1580923636, "post_id": 46944720, "comment_id": 106260448, "body": "This should be the accepted answer! It&#39;s simpler, and is cleaner as It doesn&#39;t need to create a neew field and change API requests. Thank you so much!"}, {"owner": {"reputation": 85, "user_id": 7258312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09825ada68d409a81208903c4f74b250?s=128&d=identicon&r=PG&f=1", "display_name": "Dennis Gathagu", "link": "https://stackoverflow.com/users/7258312/dennis-gathagu"}, "edited": false, "score": 0, "creation_date": 1591783931, "post_id": 46944720, "comment_id": 110185038, "body": "This is the most sensible ways to do it, should be the accepted answer"}], "tags": [], "owner": {"reputation": 3820, "user_id": 3601654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0d89715d4e6812ed50ecd0b6d19c0f?s=128&d=identicon&r=PG&f=1", "display_name": "ramwin", "link": "https://stackoverflow.com/users/3601654/ramwin"}, "is_accepted": false, "score": 9, "last_activity_date": 1508983439, "creation_date": 1508983439, "answer_id": 46944720, "question_id": 36189303, "link": "https://stackoverflow.com/questions/36189303/django-rest-framework-receive-primary-key-value-in-post-and-return-model-object/46944720#46944720", "title": "Django Rest Framework receive primary key value in POST and return model object as nested serializer", "body": "<p>How about overriding the <code>to_representation</code> method?</p>\n\n<pre><code>class YourSerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = ModelClass\n        fields = [\"id\", \"foreignkey\"]\n\n    def to_representation(self, instance):\n        data = super(YourSerializer, self).to_representation(instance)\n        data['foreignkey'] = YourNestedSerializer(instance.foreignkey).data\n        return data\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1615, "user_id": 1800050, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/325481221ebc5212ec2518d93584a8a6?s=128&d=identicon&r=PG", "display_name": "Little Brain", "link": "https://stackoverflow.com/users/1800050/little-brain"}, "edited": false, "score": 2, "creation_date": 1550425485, "post_id": 53827209, "comment_id": 96254098, "body": "Thank you! Clear and straightforward. I also had to add &#39;carpool_id&#39; to the &#39;fields&#39; list in class Meta, and I used serializers.UUIDField because my IDs are UUIDs not integers. It works and I like this answer because it works directly in the database and I haven&#39;t had to change any endponts."}, {"owner": {"reputation": 191, "user_id": 7555527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29eef64647b65d4feb9f2dee6dec0465?s=128&d=identicon&r=PG&f=1", "display_name": "Dequn", "link": "https://stackoverflow.com/users/7555527/dequn"}, "reply_to_user": {"reputation": 1615, "user_id": 1800050, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/325481221ebc5212ec2518d93584a8a6?s=128&d=identicon&r=PG", "display_name": "Little Brain", "link": "https://stackoverflow.com/users/1800050/little-brain"}, "edited": false, "score": 0, "creation_date": 1552115018, "post_id": 53827209, "comment_id": 96896857, "body": "@LittleBrain Thanks , I add fileds in Meta class."}], "tags": [], "owner": {"reputation": 191, "user_id": 7555527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29eef64647b65d4feb9f2dee6dec0465?s=128&d=identicon&r=PG&f=1", "display_name": "Dequn", "link": "https://stackoverflow.com/users/7555527/dequn"}, "is_accepted": false, "score": 15, "last_activity_date": 1552114988, "last_edit_date": 1552114988, "creation_date": 1545113002, "answer_id": 53827209, "question_id": 36189303, "link": "https://stackoverflow.com/questions/36189303/django-rest-framework-receive-primary-key-value-in-post-and-return-model-object/53827209#53827209", "title": "Django Rest Framework receive primary key value in POST and return model object as nested serializer", "body": "<p>It's simple.\nAs you know, <code>Django appends \"_id\" to the field name</code> in the ModelClass, and you can achieve it in the SerializerClass, and  the original filed can also be achieved. All you have to do is like this</p>\n\n<pre><code>class ParentArrivalSerializer(serializers.HyperlinkedModelSerializer):\n    # ...\n    carpool_id = serializers.IntegerField(write_only=True)\n    carpool = SchoolBuildingCarpoolSerializer(read_only=True)\n    # ...\n    class Meta:\n        fields = ('carpool_id', 'carpool', ...)\n</code></pre>\n\n<p>And use <code>carpool_id</code> in POST request.</p>\n"}], "owner": {"reputation": 2268, "user_id": 923323, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/59dc5fef902427d42634daf1200f31d7?s=128&d=identicon&r=PG", "display_name": "Cristian Rojas", "link": "https://stackoverflow.com/users/923323/cristian-rojas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10379, "favorite_count": 2, "accepted_answer_id": 36204886, "answer_count": 4, "score": 12, "last_activity_date": 1552114988, "creation_date": 1458769610, "question_id": 36189303, "link": "https://stackoverflow.com/questions/36189303/django-rest-framework-receive-primary-key-value-in-post-and-return-model-object", "title": "Django Rest Framework receive primary key value in POST and return model object as nested serializer", "body": "<p>I'm not completely sure that the title of my question is as specific as I wanted it to be, but this is the case:</p>\n\n<p>I have a <code>HyperlinkedModelSerializer</code> that looks like this:</p>\n\n<pre><code>class ParentArrivalSerializer(serializers.HyperlinkedModelSerializer):\n    carpool = SchoolBuildingCarpoolSerializer()\n\n    class Meta:\n        model = ParentArrival\n</code></pre>\n\n<p>As you can see the <code>carpool</code> is defined as a nested serializer object and what I want is to be able to make a POST request to create a <code>ParentArrival</code> in this way (data as application/json):</p>\n\n<pre><code>{\n    ...\n    \"carpool\": \"http://localhost:8000/api/school-building-carpools/10/\"\n    ...\n}\n</code></pre>\n\n<p>And receive the data in this way:</p>\n\n<pre><code>{\n    \"carpool\": {\n        \"url\": \"http://localhost:8000/api/school-building-carpools/10/\"\n        \"name\": \"Name of the carpool\",\n        ...\n    }\n}\n</code></pre>\n\n<p>Basically, I'm looking for a way to deal with nested serializers without having to send data as an object (but id or url in this case) in POST request, but receiving the object as nested in the serialized response.</p>\n"}, {"tags": ["python", "pip", "setup.py"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1458770135, "post_id": 36189273, "comment_id": 60014021, "body": "Where are you looking for the modules/package contents?"}, {"owner": {"reputation": 5930, "user_id": 268075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72583f4dd226bdd1c5089f9c414d728a?s=128&d=identicon&r=PG", "display_name": "blokeley", "link": "https://stackoverflow.com/users/268075/blokeley"}, "reply_to_user": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 0, "creation_date": 1458771111, "post_id": 36189273, "comment_id": 60014444, "body": "<code>import forcelib; dir(forcelib)</code>.  There&#39;s nothing there except the double-underscore attributes"}, {"owner": {"reputation": 18703, "user_id": 2912340, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/ddQ02.jpg?s=128&g=1", "display_name": "\u0141ukasz Rogalski", "link": "https://stackoverflow.com/users/2912340/%c5%81ukasz-rogalski"}, "edited": false, "score": 0, "creation_date": 1458824306, "post_id": 36189273, "comment_id": 60034789, "body": "by importing <code>forcelib</code> you are importing forcelib&#39;s <code>__init__</code>. try <code>from forcelib import forcelib; dir(forcelib)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 3237, "user_id": 4626788, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-d5Ate3B4CBg/AAAAAAAAAAI/AAAAAAAACGo/9xaOH3aF-y8/photo.jpg?sz=128", "display_name": "Neeraj Kumar", "link": "https://stackoverflow.com/users/4626788/neeraj-kumar"}, "is_accepted": false, "score": -1, "last_activity_date": 1458823949, "creation_date": 1458823949, "answer_id": 36200685, "question_id": 36189273, "link": "https://stackoverflow.com/questions/36189273/my-package-installed-with-pip-install-shows-no-modules/36200685#36200685", "title": "My package installed with pip install shows no modules", "body": "<p><strong>Download zip file and extract zip after go to forcelib-master directory\nthen open command prompt and go to forcelib-master directory in command prompt and run command</strong> </p>\n\n<pre><code>python setup.py install\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BunxP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BunxP.png\" alt=\"enter image description here\"></a></p>\n\n<p>It will install packages successfully </p>\n"}, {"tags": [], "owner": {"reputation": 5930, "user_id": 268075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72583f4dd226bdd1c5089f9c414d728a?s=128&d=identicon&r=PG", "display_name": "blokeley", "link": "https://stackoverflow.com/users/268075/blokeley"}, "is_accepted": true, "score": 0, "last_activity_date": 1460491478, "last_edit_date": 1460491478, "creation_date": 1458827738, "answer_id": 36201897, "question_id": 36189273, "link": "https://stackoverflow.com/questions/36189273/my-package-installed-with-pip-install-shows-no-modules/36201897#36201897", "title": "My package installed with pip install shows no modules", "body": "<p>It seems that there are 2 ways of doing it:</p>\n\n<ol>\n<li><p>Keep the same directory structure but put the following in <code>__init__.py</code></p>\n\n<p>from .forcelib import *</p></li>\n<li><p>Distribute a module, not a package.  Follow <a href=\"https://docs.python.org/3.5/distutils/examples.html#pure-python-distribution-by-module\" rel=\"nofollow\">the instructions to use the py_modules</a> argument rather than the <code>packages</code> argument in <code>setup.py</code>.  This would mean restructuring the project to:</p>\n\n<ul>\n<li>setup.py</li>\n<li>forcelib.py</li>\n</ul></li>\n</ol>\n\n<p>Approach (1) <a href=\"https://github.com/blokeley/forcelib/tree/f7fc9f9378ba5caa1b971900ed09a364f4cd565d\" rel=\"nofollow\">can be seen here</a>.  It has the advantage of hiding the private functions and attributes (anything not in <code>__all__</code>), but the client can still see the module <code>forcelib.forcelib</code>, which I don't think it should.</p>\n\n<p>Approach (2) <a href=\"https://github.com/blokeley/forcelib/tree/6ff9e82a13107876773b6cd3986c01286da887e4\" rel=\"nofollow\">can be seen here</a>.  It is simpler, but has the disadvantage that it does not hide private functions and attributes.</p>\n"}], "owner": {"reputation": 5930, "user_id": 268075, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/72583f4dd226bdd1c5089f9c414d728a?s=128&d=identicon&r=PG", "display_name": "blokeley", "link": "https://stackoverflow.com/users/268075/blokeley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 36201897, "answer_count": 2, "score": 2, "last_activity_date": 1460491478, "creation_date": 1458769482, "last_edit_date": 1458823413, "question_id": 36189273, "link": "https://stackoverflow.com/questions/36189273/my-package-installed-with-pip-install-shows-no-modules", "title": "My package installed with pip install shows no modules", "body": "<p>I have a simple Python project with effectively one package (called <code>forcelib</code>) containing one module (also called <code>forcelib</code>):</p>\n\n<pre><code>- setup.py\n- forcelib\n  |- __init__.py\n  |- forcelib.py\n</code></pre>\n\n<p>My <code>setup.py</code> is copied from the <a href=\"https://github.com/pypa/sampleproject/blob/master/setup.py\" rel=\"nofollow\">official example</a> and has the obvious edits.</p>\n\n<p>The problem is that I can install the <code>forcelib</code> package using <code>pip</code> but when I import <code>forcelib</code>, it only has the \"double-underscore\" attributes visible.  That is, I cannot see the <code>forcelib</code> module.</p>\n\n<p>Example to replicate:</p>\n\n<ol>\n<li><code>git clone https://github.com/blokeley/forcelib</code></li>\n<li><code>cd forcelib</code></li>\n<li><code>pip install -e .</code></li>\n<li><code>python</code></li>\n<li><code>import forcelib</code></li>\n<li><code>print(forcelib.__version__)</code>  # Correctly prints 0.1.2</li>\n<li><code>dir(forcelib)</code>  # The only contents are the <code>__version__</code>, <code>__path__</code> etc. double-underscore attributes.  I had expected to see <code>forcelib</code>, <code>example_read</code> etc. </li>\n</ol>\n\n<p>Perhaps I'm supposed to <a href=\"https://docs.python.org/3.5/distutils/examples.html#pure-python-distribution-by-module\" rel=\"nofollow\">distribute just the module</a> rather than bother with a package.</p>\n\n<p>The (very small) <a href=\"https://github.com/blokeley/forcelib\" rel=\"nofollow\">project is on GitHub</a>.</p>\n\n<p>Any advice would be much appreciated.</p>\n"}, {"tags": ["python", "url-parsing"], "comments": [{"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458770260, "post_id": 36189261, "comment_id": 60014092, "body": "@idjaw: In my case I am already sure I want to use <code>urlparse</code>, I just need a cleaner and shorter way of joining more than 2 components to the same url"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 1, "creation_date": 1458770639, "post_id": 36189261, "comment_id": 60014250, "body": "Why doesn&#39;t it work? It looks mostly good to me. What&#39;s the output and what&#39;s wrong with it? You probably want to stick to string concatenation for the <code>.json</code> so that your URL doesn&#39;t end in <code>&#47;.json</code> though. Also I don&#39;t know how it&#39;s going to handle an empty string so you may want to start with <code>new_url = url_join_items[0]</code> and then iterate over <code>url_join_items[1:]</code>. But the answer with reduce is probably better."}, {"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1458771545, "post_id": 36189261, "comment_id": 60014635, "body": "@AlexHall: Please see my EDIT 1 and Output from each method"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1458771789, "post_id": 36189261, "comment_id": 60014732, "body": "OK, again, leave the <code>.json</code> out of <code>url_join_items</code>. Otherwise, I can&#39;t understand why so many parts are missing. What happens if you <code>print url_join_items</code>?"}, {"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1458772058, "post_id": 36189261, "comment_id": 60014836, "body": "@AlexHall: I get this: <code>[&#39;http:&#47;&#47;example.com&#39;, &#39;schedule&#47;&#39;, &#39;12&#39;, &#39;20160322&#39;, &#39;v1&#39;, &#39;100&#39;, &#39;.json&#39;]</code>"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1458772984, "post_id": 36189261, "comment_id": 60015190, "body": "<code>urljoin(&#39;http:&#47;&#47;example.com&#47;schedule&#47;12&#39;, &#39;20160322&#39;)</code> returns <code>&#39;http:&#47;&#47;example.com&#47;schedule&#47;20160322&#39;</code> which is probably not what you want. I&#39;m not sure why it does that but that&#39;s your problem. Perhaps avoid it and simply use <code>&#39;&#47;&#39;.join(url_join_items)</code>. You&#39;ll want to make sure there&#39;s no extra slashes in the items though. A quick way is <code>item.strip(&#39;&#47;&#39;)</code> but if there&#39;s more than one slash at the end it&#39;ll strip them all which you probably don&#39;t want."}, {"owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "edited": false, "score": 0, "creation_date": 1458781661, "post_id": 36189261, "comment_id": 60017820, "body": "In my response, I provide a link to a related question that explains what urljoin is doing, and why you are seeing the results with &quot;missing&quot; parts. I also suggest &quot;/&quot;.join, which is straightforward and concise."}], "answers": [{"comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 3, "creation_date": 1458770761, "post_id": 36189595, "comment_id": 60014284, "body": "That&#39;s <code>functools.reduce</code> for Python 3."}, {"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "edited": false, "score": 0, "creation_date": 1458771576, "post_id": 36189595, "comment_id": 60014650, "body": "This produced the same result as the list iteration I have done above :("}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1458772776, "post_id": 36189595, "comment_id": 60015118, "body": "Did you try removing &quot;.json&quot; form the list and appending it to url directly, while keeping reduce?"}, {"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "edited": false, "score": 1, "creation_date": 1458773988, "post_id": 36189595, "comment_id": 60015559, "body": "Yes, the list now contains <code>[environment, schedule_uri, str(events_to_hours),str(events_from_date), str(api_version), str(id)]</code> which results in <code>[&quot;http:&#47;&#47;example.com&quot;,&quot;schedule&#47;&quot;,&quot;8&quot;,&quot;20160322 &quot;, &quot;1&quot;, &quot;12&quot;]</code> and the result from your <code>reduce</code> is <code>http:&#47;&#47;example.com&#47;schedule&#47;12</code>"}, {"owner": {"reputation": 176, "user_id": 337598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b642b19b5e4207fe93c25fdb9d379312?s=128&d=identicon&r=PG", "display_name": "Conrad B", "link": "https://stackoverflow.com/users/337598/conrad-b"}, "edited": false, "score": 0, "creation_date": 1596040548, "post_id": 36189595, "comment_id": 111684648, "body": "downvoting, since reduce is not behaving as the docs advertise either, it&#39;s merely calling urljoin with the 1st and with the last element, and omits all intervening elements for some reason."}, {"owner": {"reputation": 176, "user_id": 337598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b642b19b5e4207fe93c25fdb9d379312?s=128&d=identicon&r=PG", "display_name": "Conrad B", "link": "https://stackoverflow.com/users/337598/conrad-b"}, "edited": false, "score": 0, "creation_date": 1596041887, "post_id": 36189595, "comment_id": 111685310, "body": "`  def my_join(a,b): return urljoin(a.rstrip(&#39;/&#39;)+&#39;/&#39;,b)  ;   reduce(my_join, url_join_items)` Sorry struggling with this editor! But that code works for me. This is because urljoin does not join url parts, it &quot;rebases&quot; them, so each domain part must end in &#39;/&#39;, else it assumes the next url is relative to the domain-root"}, {"owner": {"reputation": 176, "user_id": 337598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b642b19b5e4207fe93c25fdb9d379312?s=128&d=identicon&r=PG", "display_name": "Conrad B", "link": "https://stackoverflow.com/users/337598/conrad-b"}, "edited": false, "score": 0, "creation_date": 1596042258, "post_id": 36189595, "comment_id": 111685458, "body": "more succinctly written:  <code>reduce( lambda a,b: urljoin(a.rstrip(&#39;&#47;&#39;)+&#39;&#47;&#39;, b), [&quot;https:&#47;&#47;homepage.com&quot;, &quot;1&quot;, &quot;2&quot;, &quot;3&quot;])</code> gave me the expected output <code>&#39;https:&#47;&#47;homepage.com&#47;1&#47;2&#47;3&#39;</code>"}, {"owner": {"reputation": 176, "user_id": 337598, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b642b19b5e4207fe93c25fdb9d379312?s=128&d=identicon&r=PG", "display_name": "Conrad B", "link": "https://stackoverflow.com/users/337598/conrad-b"}, "edited": false, "score": 0, "creation_date": 1596042400, "post_id": 36189595, "comment_id": 111685533, "body": "caveat is the 1st domain part thus needs a trailing slash - sorry this 5 minute edit limit is faster than I can type. It&#39;s frustrating me too."}], "tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": false, "score": 4, "last_activity_date": 1458770698, "creation_date": 1458770698, "answer_id": 36189595, "question_id": 36189261, "link": "https://stackoverflow.com/questions/36189261/python-join-multiple-components-to-build-a-url/36189595#36189595", "title": "Python: Join multiple components to build a URL", "body": "<p>How about <code>url = reduce(urlparse.urljoin, url_join_items)</code>?</p>\n"}, {"comments": [{"owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "edited": false, "score": 0, "creation_date": 1458772529, "post_id": 36189633, "comment_id": 60015013, "body": "Do you think it&#39;s a cleaner approach than what I already have working?"}, {"owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "reply_to_user": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "edited": false, "score": 0, "creation_date": 1458781470, "post_id": 36189633, "comment_id": 60017754, "body": "Yes. I think it is, but that&#39;s subjective."}], "tags": [], "owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "is_accepted": true, "score": 16, "last_activity_date": 1526035746, "last_edit_date": 1526035746, "creation_date": 1458770853, "answer_id": 36189633, "question_id": 36189261, "link": "https://stackoverflow.com/questions/36189261/python-join-multiple-components-to-build-a-url/36189633#36189633", "title": "Python: Join multiple components to build a URL", "body": "<p><strong>Using join</strong></p>\n\n<p>Have you tried simply <code>\"/\".join(url_join_items)</code>. Does not http always use the forward slash? You might have to manually setup the prefix \"https://\" and the suffix, though.</p>\n\n<p>Something like:</p>\n\n<pre><code>url = \"https://{}.json\".format(\"/\".join(url_join_items))\n</code></pre>\n\n<p><strong>Using reduce and urljoin</strong></p>\n\n<p>Here is a <a href=\"https://stackoverflow.com/questions/10893374/python-confusions-with-urljoin\">related question</a> on SO that explains to some degree the thinking behind the implementation of <code>urljoin</code>. Your use case does not appear to be the best fit.</p>\n\n<p>When using <code>reduce</code> and <code>urljoin</code>, I'm not sure it will do what the question intends, which is semantically like <code>os.path.join</code>, but for urls. Consider the following:</p>\n\n<pre><code>from urllib.parse import urljoin\nfrom functools import reduce\n\nparts_1 = [\"a\",\"b\",\"c\",\"d\"]\nparts_2 = [\"https://\",\"server.com\",\"somedir\",\"somefile.json\"]\nparts_3 = [\"https://\",\"server.com/\",\"somedir/\",\"somefile.json\"]\n\nout1 = reduce(urljoin, parts_1)\nprint(out1)\n</code></pre>\n\n<blockquote>\n  <p><code>d</code></p>\n</blockquote>\n\n<pre><code>out2 = reduce(urljoin, parts_2)\nprint(out2)\n</code></pre>\n\n<blockquote>\n  <p><code>https:///somefile.json</code></p>\n</blockquote>\n\n<pre><code>out3 = reduce(urljoin, parts_3)\nprint(out3)\n</code></pre>\n\n<blockquote>\n  <p><code>https:///server.com/somedir/somefile.json</code></p>\n</blockquote>\n\n<p>Note that with the exception of the extra \"/\" after the https prefix, the third output is probably closest to what the asker intends, except we've had to do all the work of formatting the parts with the separator.</p>\n"}, {"tags": [], "owner": {"reputation": 7851, "user_id": 1040452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9090a2be282c8d75dab9cc07c25fb316?s=128&d=identicon&r=PG", "display_name": "Klemen Tusar", "link": "https://stackoverflow.com/users/1040452/klemen-tusar"}, "is_accepted": false, "score": 0, "last_activity_date": 1555489070, "last_edit_date": 1555489070, "creation_date": 1555488438, "answer_id": 55722792, "question_id": 36189261, "link": "https://stackoverflow.com/questions/36189261/python-join-multiple-components-to-build-a-url/55722792#55722792", "title": "Python: Join multiple components to build a URL", "body": "<p>I also needed something similar and came up with this solution:</p>\n\n<pre><code>from urllib.parse import urljoin, quote_plus\n\ndef multi_urljoin(*parts):\n    return urljoin(parts[0], \"/\".join(quote_plus(part.strip(\"/\"), safe=\"/\") for part in parts[1:]))\n\nprint(multi_urljoin(\"https://server.com\", \"path/to/some/dir/\", \"2019\", \"4\", \"17\", \"some_random_string\", \"image.jpg\"))\n</code></pre>\n\n<p>This prints <code>'https://server.com/path/to/some/dir/2019/4/17/some_random_string/image.jpg'</code></p>\n"}, {"tags": [], "owner": {"reputation": 34672, "user_id": 135946, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cbXyr.jpg?s=128&g=1", "display_name": "Bostone", "link": "https://stackoverflow.com/users/135946/bostone"}, "is_accepted": false, "score": 1, "last_activity_date": 1598911091, "creation_date": 1598911091, "answer_id": 63678718, "question_id": 36189261, "link": "https://stackoverflow.com/questions/36189261/python-join-multiple-components-to-build-a-url/63678718#63678718", "title": "Python: Join multiple components to build a URL", "body": "<p>Here's a bit silly but workable solution, given that <code>parts</code> is a list of URL parts in order</p>\n<pre><code>my_url = '/'.join(parts).replace('//', '/').replace(':/', '://')\n</code></pre>\n<p>I wish <code>replace</code> would have a <code>from</code> option but it does not hence the second one is to recover <code>https://</code> double slash</p>\n<p>Nice thing is you don't have to worry about parts already having (or not having) any slashes</p>\n"}], "owner": {"reputation": 1126, "user_id": 1469496, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6FNao.png?s=128&g=1", "display_name": "summerNight", "link": "https://stackoverflow.com/users/1469496/summernight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11996, "favorite_count": 3, "accepted_answer_id": 36189633, "answer_count": 4, "score": 10, "last_activity_date": 1598911091, "creation_date": 1458769434, "last_edit_date": 1458771524, "question_id": 36189261, "link": "https://stackoverflow.com/questions/36189261/python-join-multiple-components-to-build-a-url", "title": "Python: Join multiple components to build a URL", "body": "<p>I am trying to build a URL by joining some dynamic components. I thought of using something like <code>os.path.join()</code> BUT for URLs in my case. From research I found <code>urlparse.urljoin()</code> does the same thing. However, it looks like it only take two arguments at one time.</p>\n\n<p>I have the following so far which works but looks repetitive:</p>\n\n<pre><code>    a = urlparse.urljoin(environment, schedule_uri)\n    b = urlparse.urljoin(a, str(events_to_hours))\n    c = urlparse.urljoin(b, str(events_from_date))\n    d = urlparse.urljoin(c, str(api_version))\n    e = urlparse.urljoin(d, str(id))\n    url = e + '.json'\n</code></pre>\n\n<p>Output = <code>http://example.com/schedule/12/20160322/v1/1.json</code></p>\n\n<p>The above works and I tried to make it shorter this way:</p>\n\n<pre><code>url_join_items = [environment, schedule_uri, str(events_to_hours),\n                  str(events_from_date), str(api_version), str(id), \".json\"]\nnew_url = \"\"\nfor url_items in url_join_items:\n    new_url = urlparse.urljoin(new_url, url_items)\n</code></pre>\n\n<p>Output: <code>http://example.com/schedule/.json</code></p>\n\n<p>But the second implementation does not work. Please suggest me how to fix this or the better way of doing it.</p>\n\n<p>EDIT 1:\nThe output from the <code>reduce</code> solution looks like this (unfortunately):\nOutput: <code>http://example.com/schedule/.json</code></p>\n"}, {"tags": ["python", "string", "sockets", "hex"], "answers": [{"comments": [{"owner": {"reputation": 3695, "user_id": 195585, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/549de1ad9e344d66ee29a43c219122bc?s=128&d=identicon&r=PG", "display_name": "Without Me It Just Aweso", "link": "https://stackoverflow.com/users/195585/without-me-it-just-aweso"}, "edited": false, "score": 0, "creation_date": 1458772233, "post_id": 36189730, "comment_id": 60014900, "body": "Daniel, you are my hero. I&#39;ve spent so much time hitting my head against a wall on this.. That worked perfectly"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1458790463, "post_id": 36189730, "comment_id": 60020130, "body": "Nitpicking: Won&#39;t this fail with a legitimate input like <code>\\\\x40</code> which is supposed to be one backslash, followed by <code>x40</code>, but instead gets interpreted as <code>\\@</code> (changing <code>\\x40</code> to <code>@</code>)? I&#39;d think careful use of <a href=\"https://docs.python.org/3/library/ast.html#ast.literal_eval\" rel=\"nofollow noreferrer\"><code>ast.literal_eval</code></a> would be safer. Maybe something like <code>fmt, repl = (&#39;&quot;&quot;&quot;{}&quot;&quot;&quot;&#39;, &#39;&quot;&#39;) if text.endswith(&quot;&#39;&quot;) else (&quot;&#39;&#39;&#39;{}&#39;&#39;&#39;&quot;, &quot;&#39;&quot;)</code>, <code>return ast.literal_eval(fmt.format(text.replace(repl, &#39;\\\\&#39; + repl)))</code> (the <code>replace</code> escapes the quote characters, the format wraps to a string literal, then let Python take over)."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1458771324, "creation_date": 1458771324, "answer_id": 36189730, "question_id": 36189242, "link": "https://stackoverflow.com/questions/36189242/python-hex-string-read-in-from-file-no-longer-interpreted-as-hex/36189730#36189730", "title": "Python hex string read in from file no longer interpreted as hex", "body": "<p>In Python code <code>'\\x01'</code> is an escape sequence, in a text file it is only text. You have to unescape the string before sending.</p>\n\n<pre><code>import re\n\ndef unescape(text):\n    return re.sub(r'\\\\x([0-9a-fA-F]{2})', lambda g: chr(int(g.group(1),16)), text)\n</code></pre>\n"}], "owner": {"reputation": 3695, "user_id": 195585, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/549de1ad9e344d66ee29a43c219122bc?s=128&d=identicon&r=PG", "display_name": "Without Me It Just Aweso", "link": "https://stackoverflow.com/users/195585/without-me-it-just-aweso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 439, "favorite_count": 0, "accepted_answer_id": 36189730, "answer_count": 1, "score": 0, "last_activity_date": 1458780713, "creation_date": 1458769378, "last_edit_date": 1458780713, "question_id": 36189242, "link": "https://stackoverflow.com/questions/36189242/python-hex-string-read-in-from-file-no-longer-interpreted-as-hex", "title": "Python hex string read in from file no longer interpreted as hex", "body": "<p>I'm using python 2.7</p>\n\n<p>I have a file that contains hex strings:</p>\n\n<pre><code>    \\x01\\x02\\x93AAA\n    \\x02\\x02\\x93AAA\n    \\x03\\x02\\x93AAA\n....\n</code></pre>\n\n<p>They are a mix of unprintable characters, represented as hex, and printablecharacters represented in ascii.</p>\n\n<p>I am reading them into a map based on their line number. Then trying to send it over a socket. I am receiving inconsistent results when I send from my map versus as a straight string.</p>\n\n<p>Example code:</p>\n\n<pre><code>print mymap[0]\nmysocket.sendall(mymap[0])\nmysocket.sendall(\"\\x01\\x02\\x93AAA\")\n</code></pre>\n\n<p>With these two send attempts, in wireshark, I can see the first one when sending from mymap is being sent in ASCII. As in it sends '\\', 'x', '0', '1' instead of interpreting that as a hex 0x01. Where as the second line sends it correctly as hex data. </p>\n\n<p>The print mymap[0] prints exactly the same string (\"\\x01\\x02\\x93AAA\"), so why is one sending it as ASCII, and one sending it as hex? </p>\n\n<p>I want it to send as hex, but when using my map It keeps sending it as ASCII, yet just hardcoding a string in sends as hex. Help?</p>\n\n<p>Edit: I updated the title of this question to reflect what the underlying problem actually was. For those happening upon this later. My original thought was it had to do with reading the data from a map, when in reality the issue was reading it in from a file. </p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 33202, "user_id": 987185, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e4c92f75eac948cee7e7e8913f9aa379?s=128&d=identicon&r=PG", "display_name": "musically_ut", "link": "https://stackoverflow.com/users/987185/musically-ut"}, "is_accepted": false, "score": 2, "last_activity_date": 1458769552, "creation_date": 1458769552, "answer_id": 36189285, "question_id": 36189217, "link": "https://stackoverflow.com/questions/36189217/groupby-returns-multilevel-dataframe-when-used-in-a-column-with-text/36189285#36189285", "title": "groupby returns multilevel dataframe when used in a column with text", "body": "<p>You can select the columns the <code>groupby</code> operation works on:</p>\n\n<pre><code> In [21]: data.groupby(by=['name', 'reg'])[['text', 'value']].apply(sum_x)\nOut[21]:\n              text  value\nname reg\nA    1    txt1txt2      7\nB    2        txt3      2\n</code></pre>\n\n<p>Finally, if you do not want the <code>name</code> and <code>reg</code> in the index, you can use <code>reset_index()</code>:</p>\n\n<pre><code>In [22]: data.groupby(by=['name', 'reg'])[['text', 'value']].apply(sum_x).reset_index()\nOut[22]:\n  name reg      text  value\n0    A   1  txt1txt2      7\n1    B   2      txt3      2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1458769904, "creation_date": 1458769904, "answer_id": 36189374, "question_id": 36189217, "link": "https://stackoverflow.com/questions/36189217/groupby-returns-multilevel-dataframe-when-used-in-a-column-with-text/36189374#36189374", "title": "groupby returns multilevel dataframe when used in a column with text", "body": "<p>try this:</p>\n\n<pre><code>In [21]: data.groupby(['name', 'reg']).agg({'value':'sum', 'text':'sum'}).reset_index()\nOut[21]:\n  name reg      text  value\n0    A   1  txt1txt2      7\n1    B   2      txt3      2\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 2851489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd3b3e4f537a00e3c7d5b9e5443ab1ad?s=128&d=identicon&r=PG", "display_name": "jfosoriot", "link": "https://stackoverflow.com/users/2851489/jfosoriot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 36189374, "answer_count": 2, "score": 1, "last_activity_date": 1458774194, "creation_date": 1458769242, "last_edit_date": 1458774194, "question_id": 36189217, "link": "https://stackoverflow.com/questions/36189217/groupby-returns-multilevel-dataframe-when-used-in-a-column-with-text", "title": "groupby returns multilevel dataframe when used in a column with text", "body": "<p>I am trying to group some signals and concatenate the text at the same time for that I use something similar to the code below. Where I use the sum_x custom function to concatenate the text under 'text'</p>\n\n<pre><code>lst = [{'name': 'A', 'reg': '1', 'text': 'txt1', 'value': 5},\n{'name': 'A', 'reg': '1', 'text': 'txt2', 'value': 2},\n{'name': 'B', 'reg': '2', 'text': 'txt3', 'value': 2}]\ndata = pd.DataFrame(lst) \nsum_x = lambda x : x.sum()\ndata.groupby(by=['name', 'reg']).apply(sum_x)\n\nOut[48]: \n        name reg      text  value\nname reg                          \nA    1     AA  11  txt1txt2      7\nB    2      B   2      txt3      2\n</code></pre>\n\n<p>This however do not produce the expected result\nNotice how the text column was added as expected but also the 'by' columns where concatenated. The response also have an extra level.\nis it posible to obtain something like: </p>\n\n<pre><code>name reg      text  value       \n A   1     txt1txt2      7\n B   2         txt3      2\n</code></pre>\n\n<p>where the columns in 'by' are preserved ?</p>\n"}, {"tags": ["python", "cookies", "mechanize"], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 5378489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7kBwD.jpg?s=128&g=1", "display_name": "wiz", "link": "https://stackoverflow.com/users/5378489/wiz"}, "is_accepted": false, "score": 0, "last_activity_date": 1478151784, "creation_date": 1478151784, "answer_id": 40394579, "question_id": 36189190, "link": "https://stackoverflow.com/questions/36189190/mechanize-doesnt-want-to-enable-cookie/40394579#40394579", "title": "mechanize doesn&#39;t want to enable cookie", "body": "<p>You have to set the cookie jar as follows:</p>\n\n<pre><code>cj = cookielib.LWPCookieJar()\nbr.set_cookiejar(cj)\n</code></pre>\n"}], "owner": {"reputation": 3191, "user_id": 1597552, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/uzwBA.jpg?s=128&g=1", "display_name": "Alice Polansky", "link": "https://stackoverflow.com/users/1597552/alice-polansky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1478151784, "creation_date": 1458769126, "last_edit_date": 1458769488, "question_id": 36189190, "link": "https://stackoverflow.com/questions/36189190/mechanize-doesnt-want-to-enable-cookie", "title": "mechanize doesn&#39;t want to enable cookie", "body": "<p>I tried to login into my Microsoft account, but it doesn't workL</p>\n\n<pre><code>br.open(https://login.live.com/)\n</code></pre>\n\n<p>The response contains something like this:</p>\n\n<blockquote>\n  <p>Please enable cookies in your browser</p>\n</blockquote>\n\n<p><code>cookiejar</code> doesn't help.</p>\n\n<p>I tried to do this:</p>\n\n<pre><code>cj = cookielib.LWPCookieJar()\n</code></pre>\n\n<p>But it failed every time. How do I log into my Microsoft account with <code>mechanize</code>?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 165886, "user_id": 572670, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/5011cf6d98e276b1bdc2cb321546e528?s=128&d=identicon&r=PG", "display_name": "amit", "link": "https://stackoverflow.com/users/572670/amit"}, "edited": false, "score": 1, "creation_date": 1458769382, "post_id": 36189188, "comment_id": 60013645, "body": "highscore is gettinng overwriten each iteration, is that intentional?"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1458769404, "post_id": 36189188, "comment_id": 60013660, "body": "Yeah, agreed, I thought that was a different one\u2026 <a href=\"http://stackoverflow.com/questions/3121979/how-to-sort-list-tuple-of-lists-tuples\">How to sort (list/tuple) of lists/tuples?</a>,"}, {"owner": {"reputation": 187, "user_id": 2561339, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1dbc3ba3cf1567138a938d9f1653704?s=128&d=identicon&r=PG&f=1", "display_name": "s.py", "link": "https://stackoverflow.com/users/2561339/s-py"}, "edited": false, "score": 1, "creation_date": 1458769522, "post_id": 36189188, "comment_id": 60013717, "body": "For clarification, what data structure is <code>highscores</code>? Is it a two-dimensional list or a list of tuples? Aka, does it look like <code>[(&#39;8&#39;, &#39;Score Three&#39;),(&#39;6&#39;, &#39;Score Three&#39;),(&#39;4&#39;, &#39;Score One&#39;)]</code> or like <code>[[&#39;8&#39;, &#39;Score Three&#39;],[&#39;6&#39;, &#39;Score Three&#39;],[&#39;4&#39;, &#39;Score One&#39;]]</code>?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458769542, "post_id": 36189188, "comment_id": 60013724, "body": "why are you calling sorted on the list with two elements?"}], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458769673, "post_id": 36189256, "comment_id": 60013795, "body": "True but the list should not be the same after sorted was called, it would sort the current list correctly, it only gets weird when you have double digits and up"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458769729, "post_id": 36189256, "comment_id": 60013818, "body": "You are correct, I have edited the wording to clarify... better?"}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1458769864, "last_edit_date": 1458769864, "creation_date": 1458769402, "answer_id": 36189256, "question_id": 36189188, "link": "https://stackoverflow.com/questions/36189188/sorting-list-with-string-and-integers/36189256#36189256", "title": "Sorting list with string and integers", "body": "<p>Your problem is that each element of <code>highscores</code> is actually a list of strings, not a number.  These rows do not have a useful ordering.  </p>\n\n<p>Use the <code>key</code> argument to sorted, to get an integer score from each row:</p>\n\n<pre><code>&gt;&gt;&gt; highscores = [['4', 'Score One'],\n['8', 'Score Two'],\n['6', 'Score Three']]\n&gt;&gt;&gt; sorted(highscores, key=lambda x: int(x[0]))\n[['4', 'Score One'], ['6', 'Score Three'], ['8', 'Score Two']]\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 6083206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c374a0619418353bc8f60e998b04ea9?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6083206/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458769864, "creation_date": 1458769120, "question_id": 36189188, "link": "https://stackoverflow.com/questions/36189188/sorting-list-with-string-and-integers", "title": "Sorting list with string and integers", "body": "<p>I'm using CSV to sort the players highest sore. I have the name and scores in a list like this:</p>\n\n<pre><code>['4', 'Score One']\n['8', 'Score Two']\n['6', 'Score Three']\n</code></pre>\n\n<p>Which has been created from looping through the file, finding the maximum score and making a new list with this score and the player name. </p>\n\n<pre><code>for row in reader:\n        highscores = ([row[-1], row[0]])\n</code></pre>\n\n<p>When I <code>print (sorted(highscores))</code> the same list is returned to me. What I want it to sort as is:</p>\n\n<pre><code>['8', 'Score Two']\n['6', 'Score Three']\n['4', 'Score One']\n</code></pre>\n\n<p>If someone could explain to me why <code>sorted</code> doesn't work and what I could do to fix it, that'd be great.</p>\n"}, {"tags": ["python", "if-statement", "for-loop", "skip"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 4, "creation_date": 1458769362, "post_id": 36189175, "comment_id": 60013634, "body": "That&#39;s because <code>&#39;my&#39;</code>, <code>&#39;phone&#39;</code> and <code>&#39;is&#39;</code> are not in <code>d</code>. So for <i>those three words</i> your <code>else</code> branch is used instead. You need to rethink how you test for a word match."}], "answers": [{"tags": [], "owner": {"reputation": 649, "user_id": 6030550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1qWX.png?s=128&g=1", "display_name": "Yunhe", "link": "https://stackoverflow.com/users/6030550/yunhe"}, "is_accepted": false, "score": 0, "last_activity_date": 1458770690, "creation_date": 1458770690, "answer_id": 36189592, "question_id": 36189175, "link": "https://stackoverflow.com/questions/36189175/python-code-is-skipping-to-else/36189592#36189592", "title": "Python code is skipping to else", "body": "<p>try this:</p>\n\n<pre><code>for word in userinput.split(): \n    result = \"\"\n    if word in d:\n        result += d[word] + \"\\n\"\n\nif (len(result) == 0):\n    result += \"Please Re-Phrase your problem and Try Again\\n\"\nprint (result)\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 6106184, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dLVEdsJ7oDw/AAAAAAAAAAI/AAAAAAAAAHo/Z0JPOv9M7xo/photo.jpg?sz=128", "display_name": "Sadaan Saleem", "link": "https://stackoverflow.com/users/6106184/sadaan-saleem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 287, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458770690, "creation_date": 1458769071, "question_id": 36189175, "link": "https://stackoverflow.com/questions/36189175/python-code-is-skipping-to-else", "title": "Python code is skipping to else", "body": "<p>Hi so this is my code an for some reason after the last for loop the code just skips straight to the else statement and prints it about 4 times and then goes to the if statement and prints the solution. Please can someone help with this.</p>\n\n<pre><code>while True:\n   d = {}\n   with open(\"keyword_database.txt\") as f:\n       for line in f:\n          (key,val) = line.split(\":\")\n          d[str(key)] = val\n   try:\n      userinput=input(str(\"What is the problem with your phone?\\nEnter here in lower:\"))\n      print()\n   except:\n      print (\"Invalid Input\")\n   for word in userinput.split(): \n           if word in d:\n              print(d[word])\n              print()\n           else:\n              print(\"Please Re-Phrase your problem and Try Again\")\n              print()\n</code></pre>\n\n<p>And this is what it prints once I run the code.</p>\n\n<blockquote>\n  <p>What is the problem with your phone? Enter here in lower: my phone is\n  broken</p>\n  \n  <p>Please Re-Phrase your problem and Try Again</p>\n  \n  <p>Please Re-Phrase your problem and Try Again</p>\n  \n  <p>Please Re-Phrase your problem and Try Again</p>\n  \n  <p>Problem = Broken Solution = Take your phone to the repair shop and get\n  it fixed from there however do keep in mind if someone else opens your\n  phone apart from apple then the warrenty will be VOID (NOT ACTIVE).</p>\n</blockquote>\n"}, {"tags": ["python", "matplotlib", "plot"], "answers": [{"tags": [], "owner": {"reputation": 2755, "user_id": 5976265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yYNs9.jpg?s=128&g=1", "display_name": "Hun", "link": "https://stackoverflow.com/users/5976265/hun"}, "is_accepted": true, "score": 0, "last_activity_date": 1458775140, "creation_date": 1458775140, "answer_id": 36190524, "question_id": 36189076, "link": "https://stackoverflow.com/questions/36189076/missing-plots-after-for-loop/36190524#36190524", "title": "Missing plots after for loop", "body": "<p>What you want is superimposing figures on the same plot. For that purpose, you can use the axis object returned by subplots.</p>\n\n<pre><code>fig, ax = plt.subplots()\nax.plot(...) # plot your data here\nax.plot(...) # plot your interval and regression here.\nplt.show()\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6105649"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 36190524, "answer_count": 1, "score": 1, "last_activity_date": 1458775140, "creation_date": 1458768680, "question_id": 36189076, "link": "https://stackoverflow.com/questions/36189076/missing-plots-after-for-loop", "title": "Missing plots after for loop", "body": "<p>I have a dataset that I want to plot, and also do a linear regression on the data in some invervals, plotting it in the same graph. \nBut I have some problems with this... The main graph is plotted first, the intervals and the linear regression in the for loop:</p>\n\n<pre><code>plt.plot(Trec, lnp, 'r-')\n\nfor i in range(len(Werte)):\n    plt.plot( subset(Time, Trec, Data[i][5], Data[i][6])[1], subset(Time, Trec, Data[i][5], Data[i][6])[1] * Data[i][2] + Data[i][4])\n    plt.axvline(x=Data[i][5])\n\nplt.show()  \n</code></pre>\n\n<p>With this code it only plots me the last iteration of the for loop. By itself, the commands all do what I intend them to do... What am I doing wrong?</p>\n"}, {"tags": ["python", "tensorflow", "recurrent-neural-network"], "answers": [{"tags": [], "owner": {"reputation": 119710, "user_id": 3574081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LIW6C.jpg?s=128&g=1", "display_name": "mrry", "link": "https://stackoverflow.com/users/3574081/mrry"}, "is_accepted": true, "score": 5, "last_activity_date": 1458769341, "creation_date": 1458769341, "answer_id": 36189235, "question_id": 36188958, "link": "https://stackoverflow.com/questions/36188958/how-to-use-variable-batch-size-for-bidirectional-rnn-in-tensorflow/36189235#36189235", "title": "How to use variable batch size for bidirectional RNN in tensorflow", "body": "<p>The bidirectional code works with variable batch sizes. For example, take a look at <a href=\"https://github.com/tensorflow/tensorflow/blob/95e06c5fea9e730155196f42dea94ece2f56eb62/tensorflow/python/kernel_tests/rnn_test.py#L779\" rel=\"noreferrer\">this test code</a>, which creates a <code>tf.placeholder(..., shape=(None, input_size))</code> (where <code>None</code> means that the batch size can be variable).</p>\n\n<p>You can convert your code snippet to work with variable batch sizes with a small modification:</p>\n\n<pre><code># Compute the batch size based on the shape of the (presumably fed-in) `input`\n# tensor. (Assumes that `input = tf.placeholder(..., shape=[None, input_size])`.)\nbatch_size = tf.shape(input)[0]\n\n_seq_len = tf.fill(tf.expand_dims(batch_size, 0),\n                   tf.constant(n_steps, dtype=tf.int64))\noutputs, state1, state2 = rnn.bidirectional_rnn(rnn_fw_cell, rnn_bw_cell, input,\n                                                dtype=tf.float32,\n                                                sequence_length=_seq_len)\n</code></pre>\n"}], "owner": {"reputation": 4777, "user_id": 1104696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3c2b368ab158d0e0a50beb83fe5c36f2?s=128&d=identicon&r=PG", "display_name": "read Read", "link": "https://stackoverflow.com/users/1104696/read-read"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2646, "favorite_count": 1, "accepted_answer_id": 36189235, "answer_count": 1, "score": 2, "last_activity_date": 1458783474, "creation_date": 1458768234, "last_edit_date": 1458783474, "question_id": 36188958, "link": "https://stackoverflow.com/questions/36188958/how-to-use-variable-batch-size-for-bidirectional-rnn-in-tensorflow", "title": "How to use variable batch size for bidirectional RNN in tensorflow", "body": "<p>It seems tensorflow does not support variable batch size for bidirectional RNN. In this example the <code>sequence_length</code> is tied to <code>batch_size</code>, which is a Python integer:</p>\n\n<pre><code>  _seq_len = tf.fill([batch_size], tf.constant(n_steps, dtype=tf.int64))\n  outputs, state1,state2 = rnn.bidirectional_rnn(rnn_fw_cell, rnn_bw_cell, input,\n                                    dtype=\"float\",\n                                    sequence_length=_seq_len)\n</code></pre>\n\n<p>How can I use different batch sizes for training and testing?</p>\n"}, {"tags": ["python", "scikit-learn"], "answers": [{"tags": [], "owner": {"reputation": 3161, "user_id": 1017546, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7677b43f6049d41c64cc332c381028ac?s=128&d=identicon&r=PG", "display_name": "joeln", "link": "https://stackoverflow.com/users/1017546/joeln"}, "is_accepted": true, "score": 11, "last_activity_date": 1458778327, "creation_date": 1458778327, "answer_id": 36191076, "question_id": 36188875, "link": "https://stackoverflow.com/questions/36188875/countvectorizeranalyzer-char-wb-not-working-as-expected/36191076#36191076", "title": "CountVectorizer(analyzer=&#39;char_wb&#39;) not working as expected", "body": "<p>I think this is a longstanding inaccuracy in the documentation, which you are welcome to help fix. It would be more correct to say that:</p>\n\n<blockquote>\n  <p>Option \u2018char_wb\u2019 creates character n-grams, but does not generate n-grams that cross word boundaries.</p>\n</blockquote>\n\n<p>The change appears to have been made in <a href=\"https://github.com/scikit-learn/scikit-learn/commit/e83fe8bf9a3bf6f538e8ad5fcba6812cf141feea\" rel=\"noreferrer\">this commit</a> to ensure that; see the contributor's <a href=\"https://github.com/scikit-learn/scikit-learn/pull/995#issuecomment-7469532\" rel=\"noreferrer\">comment</a>. It looks particularly awkward when comparing the bigrams output to that of <code>analyzer='char'</code>, but when you increase to trigrams you will see that whitespace can begin or end an n-gram but cannot be in the middle. This helps to signify the word-initial or word-final nature of a feature without capturing noisy cross-word character n-grams. It also ensures that, unlike prior to that commit, all extracted n-grams have the same length!</p>\n"}], "owner": {"reputation": 15327, "user_id": 2146894, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1fe765256b6985ff92d0554dbcf021aa?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/2146894/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 0, "accepted_answer_id": 36191076, "answer_count": 1, "score": 6, "last_activity_date": 1458784275, "creation_date": 1458767951, "last_edit_date": 1458784275, "question_id": 36188875, "link": "https://stackoverflow.com/questions/36188875/countvectorizeranalyzer-char-wb-not-working-as-expected", "title": "CountVectorizer(analyzer=&#39;char_wb&#39;) not working as expected", "body": "<p>I'm trying to use scikit-learn's <code>CountVectorizer</code> to count character 2-grams, ignoring spaces. In the <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.CountVectorizer.html\" rel=\"noreferrer\">docs</a> it mentions the parameter <code>analyzer</code> which states</p>\n\n<blockquote>\n  <p>Whether the feature should be made of word or character n-grams.\n  Option \u2018char_wb\u2019 creates character n-grams only from text inside word\n  boundaries.</p>\n</blockquote>\n\n<p>However, \"char_wb\" doesn't appear to work as I expected.  For example:</p>\n\n<pre><code>corpus = [\n    \"The blue dog Blue\",\n    \"Green the green cat\",\n    \"The green mouse\",\n]\n\n# CountVectorizer character 2-grams with word boundaries\nvectorizer = CountVectorizer(analyzer='char_wb', ngram_range=(2, 2), min_df=1) \nX = vectorizer.fit_transform(corpus)\nvectorizer.get_feature_names()\n[' b',\n ' c',\n ' d',\n ' g',\n ' m',\n ' t',\n 'at',\n 'bl',\n 'ca', ....\n</code></pre>\n\n<p>Notice the examples like ' b' which include a space.  What gives?</p>\n"}, {"tags": ["python", "bash", "shell", "awk"], "comments": [{"owner": {"reputation": 68627, "user_id": 3776858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/juunm.png?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/3776858/cyrus"}, "edited": false, "score": 0, "creation_date": 1458768434, "post_id": 36188853, "comment_id": 60013266, "body": "See: <a href=\"http://stackoverflow.com/q/3915040/3776858\">bash/fish command to print absolute path to a file</a>"}, {"owner": {"reputation": 675, "user_id": 3461734, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YkaA-W2CW_Y/AAAAAAAAAAI/AAAAAAAAAIM/3YpNnmUqk60/photo.jpg?sz=128", "display_name": "ar-ms", "link": "https://stackoverflow.com/users/3461734/ar-ms"}, "edited": false, "score": 0, "creation_date": 1458769254, "post_id": 36188853, "comment_id": 60013584, "body": "You could use readlink -f ~/mydir/dirX/* where X is the number of your directory."}], "answers": [{"tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": false, "score": 1, "last_activity_date": 1458768846, "creation_date": 1458768846, "answer_id": 36189113, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name/36189113#36189113", "title": "List files from directory recursively with directory name", "body": "<p>Python</p>\n\n<pre><code>import os\nfor root, _, fnames in os.walk('/mydir'):\n    for fname in fnames:\n       print os.path.join(root, fname), fname\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": false, "score": 0, "last_activity_date": 1458769506, "creation_date": 1458769506, "answer_id": 36189279, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name/36189279#36189279", "title": "List files from directory recursively with directory name", "body": "<p>if you have find</p>\n\n<pre><code>find . -type f -printf \"%f %h\\n\"\n</code></pre>\n\n<p>with the embellishments </p>\n\n<pre><code>find . -type f -printf \"&lt;absolute path of %f&gt; %h\\n\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5903, "user_id": 751061, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/424da1a64932db10dd53e7ca56d4bcae?s=128&d=identicon&r=PG", "display_name": "NHDaly", "link": "https://stackoverflow.com/users/751061/nhdaly"}, "is_accepted": false, "score": 0, "last_activity_date": 1458769690, "creation_date": 1458769690, "answer_id": 36189332, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name/36189332#36189332", "title": "List files from directory recursively with directory name", "body": "<pre><code>$ cd ~\n$ find mydir -type f | perl -p -e 's|(.*)/([^/]+)\\n$|\\1/\\2 \\1\\n|g'\nmydir/dir1/f1.jpg mydir/dir1\nmydir/dir1/f2.jpg mydir/dir1\nmydir/dir2/f3.jpg mydir/dir2\nmydir/dir2/f4.jpg mydir/dir2\nmydir/dir2/f5.jpg mydir/dir2\nmydir/dir2/f6.jpg mydir/dir2\nmydir/dir3/f7.jpg mydir/dir3\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 364, "user_id": 5920582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iLw60.jpg?s=128&g=1", "display_name": "Ali ISSA", "link": "https://stackoverflow.com/users/5920582/ali-issa"}, "is_accepted": false, "score": 0, "last_activity_date": 1458771950, "last_edit_date": 1458771950, "creation_date": 1458770937, "answer_id": 36189653, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name/36189653#36189653", "title": "List files from directory recursively with directory name", "body": "<p>You can use <strong>find `pwd`</strong> instead <strong>find .</strong> or <strong>find relatif_dir</strong> to take absolute path :</p>\n\n<pre><code>cd ~/mydir ; find `pwd`  -type f -name \"*.jpg\" -exec sh -c 'echo \"&lt;absolute path of \"`basename {}`\"&gt;\" `dirname {}`' \\;\n</code></pre>\n\n<p>or </p>\n\n<pre><code> cd ~/mydir ; find `pwd`  -type f -name \"*.jpg\"  | sed -e \"s/\\(.*\\)\\/\\([^\\/]*\\)/&lt;absolute path of \\2&gt; \\1/g\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53041, "user_id": 4653379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3953dbedd0dabff5cbc3db9b0835b14?s=128&d=identicon&r=PG&f=1", "display_name": "zdim", "link": "https://stackoverflow.com/users/4653379/zdim"}, "is_accepted": false, "score": 1, "last_activity_date": 1583486516, "last_edit_date": 1583486516, "creation_date": 1458777572, "answer_id": 36190993, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name/36190993#36190993", "title": "List files from directory recursively with directory name", "body": "<p>Use <code>ls -d1 path/*/*</code> for absolute path, then pipe it to Perl for printing in the particular format</p>\n\n<pre class=\"lang-perl prettyprint-override\"><code>ls -d1 ~/mydir/*/* | perl -lne 'print \"&lt;$_&gt; \", m|.*/(.*)/[^/]*|'\n</code></pre>\n\n<p>The <code>~/</code> does get expanded to the absolute path. <strong>Output exactly as requested</strong></p>\n\n<pre class=\"lang-none prettyprint-override\"><code>&lt;/path_mydir/last_dir/filename&gt; last_dir\n...\n</code></pre>\n\n<hr>\n\n<p>If recursive listing is needed use <code>path/**</code> with shells that support it (most).</p>\n"}], "owner": {"reputation": 71, "user_id": 2558721, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e4b9818a17b2d8ae74cbf5bce529fb87?s=128&d=identicon&r=PG&f=1", "display_name": "sam", "link": "https://stackoverflow.com/users/2558721/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 392, "favorite_count": 0, "answer_count": 5, "score": 0, "last_activity_date": 1583486516, "creation_date": 1458767859, "last_edit_date": 1458768192, "question_id": 36188853, "link": "https://stackoverflow.com/questions/36188853/list-files-from-directory-recursively-with-directory-name", "title": "List files from directory recursively with directory name", "body": "<p>I am having the following directory structures:</p>\n\n<pre><code>~/mydir/dir1/f1.jpg\n~/mydir/dir1/f2.jpg\n\n~/mydir/dir2/f3.jpg\n~/mydir/dir2/f4.jpg\n~/mydir/dir2/f5.jpg\n~/mydir/dir2/f6.jpg\n\n~/mydir/dir3/f7.jpg\n</code></pre>\n\n<p>i.e. directory (<code>mydir</code>) is having many subdirectories which in turn have many images in them. <code>dir1</code>, <code>dir2</code> etc does not have any more subdirectories.</p>\n\n<p>I am looking for a script (any language, shell, python etc) which can produce the output like:</p>\n\n<pre><code>&lt;absolute path of f1.jpg&gt; dir1\n&lt;absolute path of f2.jpg&gt; dir1\n&lt;absolute path of f3.jpg&gt; dir2\n.\n.\n&lt;absolute path of f6.jpg&gt; dir2\n&lt;absolute path of f7.jpg&gt; dir3\n</code></pre>\n\n<p>i.e. full absolute path of all the files in all the directories in mydir, followed by a space and then that file's directory (i.e. which last directory that file is in).</p>\n\n<p>I am using <code>find . -name \\* -print</code> to get the recursive file list but I am not sure how to get the exact output as desired. </p>\n\n<p>My directory structure:\n<a href=\"https://i.stack.imgur.com/rv2A6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rv2A6.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "integer"], "comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 3, "creation_date": 1458767880, "post_id": 36188828, "comment_id": 60013004, "body": "What number would you expect an empty string to be converted to?"}, {"owner": {"reputation": 1892, "user_id": 4113721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e6e29668bfbdbb174560c029f55f2e2?s=128&d=identicon&r=PG&f=1", "display_name": "Querenker", "link": "https://stackoverflow.com/users/4113721/querenker"}, "edited": false, "score": 0, "creation_date": 1458767899, "post_id": 36188828, "comment_id": 60013012, "body": "If I understand you correctly you call int(&#39;&#39;) and therefor you get an error?"}, {"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "edited": false, "score": 0, "creation_date": 1458768042, "post_id": 36188828, "comment_id": 60013086, "body": "I don&#39;t expect an empty string to be converted into a number, I&#39;m splitting a coordinate to get a number, then converting that to an integer. Python just says that I can&#39;t because there&#39;s an empty string in it."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1458768150, "post_id": 36188828, "comment_id": 60013142, "body": "Didn&#39;t you forget braces in <code>x=x2-x1**2</code>?"}, {"owner": {"reputation": 1182, "user_id": 5211043, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HZplG.png?s=128&g=1", "display_name": "The Bitman", "link": "https://stackoverflow.com/users/5211043/the-bitman"}, "edited": false, "score": 0, "creation_date": 1458770147, "post_id": 36188828, "comment_id": 60014027, "body": "Maybe the decimal separator. It can be &quot;.&quot; or &quot;,&quot;. If you use the other one for split and there is not a character like this..."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "edited": false, "score": 0, "creation_date": 1458777960, "post_id": 36188890, "comment_id": 60016849, "body": "Thanks, I used your split suggestion with a replace function, and it worked!"}], "tags": [], "owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "is_accepted": true, "score": 1, "last_activity_date": 1458777472, "last_edit_date": 1458777472, "creation_date": 1458768015, "answer_id": 36188890, "question_id": 36188828, "link": "https://stackoverflow.com/questions/36188828/why-does-python-say-that-i-cant-convert-a-string-into-an-integer-because-it-has/36188890#36188890", "title": "Why does Python say that I can&#39;t convert a string into an integer because it has empty strings?", "body": "<p>As others have said, <code>int('')</code> will yield this error because there is not a general consensus on what number <code>''</code> should be converted to. </p>\n\n<p>If you actually want a default value, consider using the following (where you want it to default to 0).</p>\n\n<pre><code>value = ''\nintvalue = int(value or '0')\n\n# 0\n\nvalue = '1'\nintvalue = int(value or '0')\n\n# 1\n</code></pre>\n\n<p>That being said, an easier way to accomplish splitting the coordinates like you want would be to use <code>split()</code></p>\n\n<pre><code>x,y = map(int, '1,2'.split(','))\n</code></pre>\n\n<p>If your input is actually of the form: <code>(1, 2)</code>, you will want to ignore the parentheses and only grab the numeric parts.</p>\n\n<pre><code>import re\n\nval = '(1, 2)'\nval = re.sub('\\(|\\)', '', val);\nx,y = map(int, val.split(','))\n</code></pre>\n\n<p>Or more generically</p>\n\n<pre><code>val = '(-1, 2)' # or [-1, 2] or -1,2\n\nval = re.search('\\-?\\d+\\s*,\\s*\\-?\\d+', val).group()\nx,y = map(int, val.split(','))\n</code></pre>\n\n<p>For your specific example:</p>\n\n<pre><code>def getxy(val):\n    val = re.search('\\-?\\d+\\s*,\\s*\\-?\\d+', val)\n\n    # Alert the user if invalid input was provided\n    if val is None:\n        raise Exception('Invalid input')\n\n    # Convert all coordinates to integers\n    return map(int, val.group().split(','))\n\nx1, y1 = getxy(input('Input your first point:'))\nx2, y2 = getxy(input('Input your second point:'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "edited": false, "score": 0, "creation_date": 1458768328, "post_id": 36188902, "comment_id": 60013227, "body": "Python returned ValueError: invalid literal for int() with base 10: &#39;(1&#39; to me, hence my need to remove the first parenthesis, and yes, I have tried replace."}], "tags": [], "owner": {"reputation": 8598, "user_id": 719312, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/997c8124fb91a5eca609aea651fc9d0a?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Shields", "link": "https://stackoverflow.com/users/719312/thomas-shields"}, "is_accepted": false, "score": 0, "last_activity_date": 1458768046, "creation_date": 1458768046, "answer_id": 36188902, "question_id": 36188828, "link": "https://stackoverflow.com/questions/36188828/why-does-python-say-that-i-cant-convert-a-string-into-an-integer-because-it-has/36188902#36188902", "title": "Why does Python say that I can&#39;t convert a string into an integer because it has empty strings?", "body": "<p>I think you want to use something like <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow\"><code>split()</code></a> instead of fancing indexing to parse your input: </p>\n\n<pre><code>def distance():\n    p1=input('Input your first point:')\n    p2=input('Input your second point:')\n    x1, y1 = p1.split(',', 1)\n    x1 = int(x1)\n    y1 = int(y1)\n    x2, y2 = p2.split(',', 1)\n    x2 = int(x2)\n    y2 = int(y2)\n    x=x2-x1**2\n    y=y2-y1**2\n    d=(x+y)**.5\n    print('This is the distance between those points',d)`\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "edited": false, "score": 0, "creation_date": 1458768163, "post_id": 36188906, "comment_id": 60013149, "body": "In my code, I meant [1:split-1], not 2. I tried it with 1 before and it didn&#39;t work, so I was experiementing"}, {"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "reply_to_user": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "edited": false, "score": 0, "creation_date": 1458768764, "post_id": 36188906, "comment_id": 60013393, "body": "with <code>[1:split-1]</code> you miss the first and last character of the first number. Correct would be <code>[1:split]</code>, if your point-definition contains parentheses."}], "tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1458768801, "last_edit_date": 1458768801, "creation_date": 1458768069, "answer_id": 36188906, "question_id": 36188828, "link": "https://stackoverflow.com/questions/36188828/why-does-python-say-that-i-cant-convert-a-string-into-an-integer-because-it-has/36188906#36188906", "title": "Why does Python say that I can&#39;t convert a string into an integer because it has empty strings?", "body": "<p>You are ignoring the first two characters of your point, so if the number has only two digits, you get an empty string. Better split the string with <code>split</code>:</p>\n\n<pre><code>p1 = '(1,4)'\nx1, y1 = p1[1:-1].split(',')\nx1 = int(x1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1458768940, "post_id": 36189123, "comment_id": 60013459, "body": "I would definitely recommend looking through some of the tips in the other answers for ideas on how to improve this and make it more robust."}, {"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1458777620, "post_id": 36189123, "comment_id": 60016764, "body": "Definitely, but this is just an assignment I had to finish for my computer science class. I just wanted to work out some kinks so I could get over it. Seeing as I&#39;m in middle school and have no interest working in any sort of engineering field, I don&#39;t mind having an inefficient or incompetent piece of code."}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1458777786, "post_id": 36189123, "comment_id": 60016804, "body": "Kudos to you for learning this stuff at an early age! I&#39;m not saying that this is a bad solution by any means, it&#39;s just that we all learn by looking at the tips and tricks of others! I hope you learn a lot from your course though as programming is extremely beneficial for any field, even those outside of engineering."}, {"owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "reply_to_user": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1564058208, "post_id": 36189123, "comment_id": 100911778, "body": "This is the first time I&#39;ve logged on in three years, and I just want to say that I appreciate it! Also, I&#39;m entering physics and currently doing an astrophysics internship that is primarily coding, so three years later, I eat my words. Just thought you should know :^)"}, {"owner": {"reputation": 60801, "user_id": 670206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08d285c964555cd9953d70981fd03f27?s=128&d=identicon&r=PG", "display_name": "Suever", "link": "https://stackoverflow.com/users/670206/suever"}, "edited": false, "score": 0, "creation_date": 1564063928, "post_id": 36189123, "comment_id": 100915270, "body": "congratulations! :)"}], "tags": [], "owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "is_accepted": false, "score": 0, "last_activity_date": 1458768890, "creation_date": 1458768890, "answer_id": 36189123, "question_id": 36188828, "link": "https://stackoverflow.com/questions/36188828/why-does-python-say-that-i-cant-convert-a-string-into-an-integer-because-it-has/36189123#36189123", "title": "Why does Python say that I can&#39;t convert a string into an integer because it has empty strings?", "body": "<p>I got it, I'm still not entirely sure what I did wrong, but I added a comma split clause. In the beginning, I used replace like I did here, but it didn't work. This time, it did! Thanks to everyone who tried to help. Here's my solution:</p>\n\n<pre><code>def distance():\np1=input('Input your first point:')\np2=input('Input your second point:')\nrp1=p1.replace('(','').replace(')','')\nx1, y1 = rp1.split(',', 1)\nx1 = int(x1)\ny1 = int(y1)\nrp2=p2.replace('(','').replace(')','')\nx2, y2 = rp2.split(',', 1)\nx2 = int(x2)\ny2 = int(y2)\nx=(x2-x1)**2\ny=(y2-y1)**2\nd=(x+y)**.5\nprint('This is the distance between those points',d)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5782242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B5R4q.jpg?s=128&g=1", "display_name": "Starsyph", "link": "https://stackoverflow.com/users/5782242/starsyph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 36188890, "answer_count": 4, "score": -1, "last_activity_date": 1458777472, "creation_date": 1458767747, "last_edit_date": 1458768141, "question_id": 36188828, "link": "https://stackoverflow.com/questions/36188828/why-does-python-say-that-i-cant-convert-a-string-into-an-integer-because-it-has", "title": "Why does Python say that I can&#39;t convert a string into an integer because it has empty strings?", "body": "<p>I'm making a procedure that takes in two coordinates as input, then calculating the midpoint. However, when I try to change the input into an integer after just taking the part of the coordinate with the x and y values, it says ValueError: invalid literal for int() with base 10: '' &lt;--That's an empty string by the way. Here's my code:</p>\n\n<pre><code>def distance():\n    p1=input('Input your first point:')\n    p2=input('Input your second point:')\n    split1=p1.find(',')\n    x1=int(p1[2:split1-1])\n    y1=p1[split1+1:-2]\n    split2=p2.find(',')\n    x2=p2[0:split2-1]\n    y2=p2[split2+1:-1]\n    x=x2-x1**2\n    y=y2-y1**2\n    d=(x+y)**.5\n    print('This is the distance between those points',d)`\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "nan"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 4713626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86244d796b90bf8d817ab5ea3459a207?s=128&d=identicon&r=PG&f=1", "display_name": "bcmyers", "link": "https://stackoverflow.com/users/4713626/bcmyers"}, "edited": false, "score": 0, "creation_date": 1458769057, "post_id": 36189005, "comment_id": 60013506, "body": "Shoot.  I didn&#39;t ask the right question.  Totally my bad as your answer definitely works for my example (thanks!).  That said, it&#39;s not working for my actual data because I have some data where there&#39;s only 1 row and that row contains missing data, which should remain missing, e.g. row [NaN, NaN, &#39;FB&#39;] for columns [&#39;bloomberg&#39;, &#39;morningstar&#39;, &#39;yahoo&#39;], which is the only instance of FB in the data (i.e. the only FB row).  I don&#39;t know for sure that the &#39;bloomberg&#39; value or &#39;morningstar&#39; value for FB is &#39;FB&#39;; so I need to leave those NaNs in the data."}], "tags": [], "owner": {"reputation": 844, "user_id": 5910812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NSqqn.jpg?s=128&g=1", "display_name": "Silenced Temporarily", "link": "https://stackoverflow.com/users/5910812/silenced-temporarily"}, "is_accepted": false, "score": 1, "last_activity_date": 1458768400, "creation_date": 1458768400, "answer_id": 36189005, "question_id": 36188810, "link": "https://stackoverflow.com/questions/36188810/complex-case-of-filling-nans-in-pandas/36189005#36189005", "title": "Complex case of filling NaNs in Pandas", "body": "<p>Chaining <code>ffill</code> and <code>bfill</code> will do what you want:</p>\n\n<pre><code>df.fillna(method='ffill', axis=1).fillna(method='bfill', axis=1).drop_duplicates()\n\n  bloomberg morningstar yahoo\n0      AAPL        AAPL  AAPL\n2      GOOG        GOOG  GOOG\n4       IBM         IBM   IBM\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 4713626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86244d796b90bf8d817ab5ea3459a207?s=128&d=identicon&r=PG&f=1", "display_name": "bcmyers", "link": "https://stackoverflow.com/users/4713626/bcmyers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1458832971, "creation_date": 1458767683, "last_edit_date": 1458774033, "question_id": 36188810, "link": "https://stackoverflow.com/questions/36188810/complex-case-of-filling-nans-in-pandas", "title": "Complex case of filling NaNs in Pandas", "body": "<h3>Is there a way to go from this...</h3>\n\n<pre><code>   bloomberg  morningstar  yahoo\n0  AAPL1      AAPL2        NaN\n1  AAPL1      NaN          AAPL3\n2  NaN        GOOG4        GOOG5\n3  GOOG6      GOOG4        NaN\n4  IBM7       NaN          IBM8\n5  NaN        IBM9         IBM8\n6  NaN        NaN          FB\n</code></pre>\n\n<h3>... to this ...</h3>\n\n<pre><code>   bloomberg  morningstar  yahoo\n0  AAPL1      AAPL2        AAPL3\n1  GOOG6      GOOG4        GOOG5\n2  IBM7       IBM9         IBM8\n3  NaN        NaN          FB\n</code></pre>\n\n<h3>... in Pandas?</h3>\n\n<p>I've munged my data enough to ensure that there will never be any \"conflicting\" information in a given column of the starting dataframe, e.g. the following is <strong>not</strong> possible...</p>\n\n<pre><code>   A column  Another column\n0  AAPL1     One thing\n1  AAPL1     Another thing\n</code></pre>\n\n<p>The only thing that can happen is that any given column either has 1) no information or 2) the right information, e.g.</p>\n\n<pre><code>   A column  Another column\n0  AAPL1     NaN\n1  AAPL1     The right information\n</code></pre>\n\n<p>All I want to do is fill the NaN's with the <strong>\"right\"</strong> information where available and then drop duplicates (which should be easy).</p>\n\n<p>But some NaNs should remain, as I don't have enough data to infer their value, e.g. the FB row in the example.</p>\n\n<h2>Anybody have a good answer?  Thanks for the help!</h2>\n\n<p>Here is some code to load the starting dataframe if you'd like to play around:</p>\n\n<pre><code>import pandas as pd\ndata = [\n        {'bloomberg': 'AAPL1', 'morningstar': 'AAPL2'},\n        {'bloomberg': 'AAPL1', 'yahoo': 'AAPL3'},\n        {'morningstar': 'GOOG4', 'yahoo': 'GOOG5'},\n        {'bloomberg': 'GOOG6', 'morningstar': 'GOOG4'},\n        {'bloomberg': 'IBM7', 'yahoo': 'IBM8'},\n        {'morningstar': 'IBM9', 'yahoo': 'IBM8'},\n        {'yahoo': 'FB'}]\ndf = pd.DataFrame(data)\n</code></pre>\n"}, {"tags": ["python", "projection", "gdal", "shapefile", "ogr"], "answers": [{"tags": [], "owner": {"reputation": 781, "user_id": 5852648, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c38839e4a0550b2bac7263a2b792b9ad?s=128&d=identicon&r=PG", "display_name": "kaycee", "link": "https://stackoverflow.com/users/5852648/kaycee"}, "is_accepted": false, "score": 0, "last_activity_date": 1458824405, "last_edit_date": 1492086825, "creation_date": 1458824405, "answer_id": 36200803, "question_id": 36188784, "link": "https://stackoverflow.com/questions/36188784/shapefile-created-with-gdal-doesnt-hold-projection/36200803#36200803", "title": "Shapefile created with GDAL doesn&#39;t hold projection", "body": "<p>Ok. I've found the solution, <a href=\"https://gis.stackexchange.com/questions/44040/osr-python-testsr-importfromepsg4326-returns-empty-spatial-reference\">thanks to MikeT answer in this post.</a> </p>\n\n<p>The problem was that my <code>GDAL_DATA</code> environment variable was not correctly set. Therefore, the SRS I was adding to my layer was empty because it couldn't find it in the directory. </p>\n\n<p>A little checkup to see if the importation fails (thanks to MikeT):</p>\n\n<pre><code>from osgeo import osr\ntestSR = osr.SpatialReference()\nres = testSR.ImportFromEPSG(4326)\nif res != 0:\n    raise RuntimeError(repr(res) + ': could not import from EPSG')\nprint testSR.ExportToPrettyWkt()\n</code></pre>\n"}], "owner": {"reputation": 781, "user_id": 5852648, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c38839e4a0550b2bac7263a2b792b9ad?s=128&d=identicon&r=PG", "display_name": "kaycee", "link": "https://stackoverflow.com/users/5852648/kaycee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 829, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1458824405, "creation_date": 1458767599, "question_id": 36188784, "link": "https://stackoverflow.com/questions/36188784/shapefile-created-with-gdal-doesnt-hold-projection", "title": "Shapefile created with GDAL doesn&#39;t hold projection", "body": "<p>I'm generating a shapefile using the GDAL and shapely libraries in Python. There's a problem with the projection, when I import the resulting shapefile in ArcMap, there is not projection associated with the file. How can I correct that, or how can I project the resulting layer ?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>output_shp = \"circle.shp\"\ndata_projection = 26919\n\n[...]\n\nsrs = osr.SpatialReference()\nsrs.ImportFromEPSG(data_projection)\n\n# output of srs: &lt;osgeo.osr.SpatialReference; proxy of &lt;Swig Object of type 'OSRSpatialReferenceShadow *' at 0x00000000099FF5A0&gt; &gt;\n\ndriver = ogr.GetDriverByName('Esri Shapefile')\nds = driver.CreateDataSource(output_shp)\nlayer = ds.CreateLayer(layer_name, srs, ogr.wkbPolygon)\nlayer.CreateField(ogr.FieldDefn('id',ogr.OFTInteger))\ndefn = layer.GetLayerDefn()  \n\nfor x in range(0,length):\n    feat = ogr.Feature(defn)\n    feat.SetField('id', x+1)\n\n    geome = ogr.CreateGeometryFromWkt(geom_out[x].wkt)\n    feat.SetGeometry(geome)   \n    layer.CreateFeature(feat)\n</code></pre>\n"}, {"tags": ["python", "csv", "sqlite"], "comments": [{"owner": {"reputation": 3650, "user_id": 6004486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c24716401bb14cca523bd36f8f8525?s=128&d=identicon&r=PG&f=1", "display_name": "jDo", "link": "https://stackoverflow.com/users/6004486/jdo"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1458767592, "post_id": 36188721, "comment_id": 60012845, "body": "Does <code>write_file.write(&quot;,&quot;.join(row))</code> fix it? Maybe <code>write_file.write(&quot;,&quot;.join(row) + &quot;\\n&quot;)</code> in case it doesn&#39;t add a newline automatically. Anyway, as @cricket_007&#39;s link suggests, there&#39;s also a module for handling csv files"}, {"owner": {"reputation": 771, "user_id": 6010239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bfdc532ab497b810c268922fb76caa?s=128&d=identicon&r=PG", "display_name": "Dimitri Merejkowsky", "link": "https://stackoverflow.com/users/6010239/dimitri-merejkowsky"}, "edited": false, "score": 0, "creation_date": 1458768340, "post_id": 36188721, "comment_id": 60013230, "body": "Warning: if you are using Python3, and still want to write the .cvs file in binary mode, you&#39;ll have to encode the strings returned from the sqlite cursor to bytes."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6106574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Y0qG.jpg?s=128&g=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/6106574/rachel"}, "edited": false, "score": 0, "creation_date": 1458855444, "post_id": 36189921, "comment_id": 60054101, "body": "thank you so much for your reply -this worked, but my table has more than one &#39;type of field&#39; (not really sure how to describe it), and the CSV file has all the data into one field (i&#39;ll edit in a screenshot into the question part) -is there a way to get it so that one table field is assigned one excel field, and each entry is on a different row?"}, {"owner": {"reputation": 674, "user_id": 4154212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-cTLMKvR2tGQ/AAAAAAAAAAI/AAAAAAAAABw/hYmgXlvtj2o/photo.jpg?sz=128", "display_name": "Ciprum", "link": "https://stackoverflow.com/users/4154212/ciprum"}, "reply_to_user": {"reputation": 13, "user_id": 6106574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Y0qG.jpg?s=128&g=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/6106574/rachel"}, "edited": false, "score": 0, "creation_date": 1459009966, "post_id": 36189921, "comment_id": 60106039, "body": "@Rachel I&#39;m not sure what you&#39;re asking. It would be nice if you could upload the entire code and add more details about what you need. You could also mark this answer as accepted and post a new question."}, {"owner": {"reputation": 982, "user_id": 1876351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HfGhj.jpg?s=128&g=1", "display_name": "marcosbdm", "link": "https://stackoverflow.com/users/1876351/marcosbdm"}, "edited": false, "score": 0, "creation_date": 1605712764, "post_id": 36189921, "comment_id": 114736199, "body": "Why are you using a &quot;wb&quot; flag in open( ) ? it is a text file..."}], "tags": [], "owner": {"reputation": 674, "user_id": 4154212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-cTLMKvR2tGQ/AAAAAAAAAAI/AAAAAAAAABw/hYmgXlvtj2o/photo.jpg?sz=128", "display_name": "Ciprum", "link": "https://stackoverflow.com/users/4154212/ciprum"}, "is_accepted": true, "score": 3, "last_activity_date": 1458772147, "creation_date": 1458772147, "answer_id": 36189921, "question_id": 36188721, "link": "https://stackoverflow.com/questions/36188721/exporting-csv-file-from-python-sqlite3/36189921#36189921", "title": "Exporting CSV file from python sqlite3", "body": "<p>The code below will iterate over a list of tuples that <code>SELECT</code> (<code>execute</code>) returns.</p>\n\n<pre><code>for row in cursor.execute(\"SELECT * FROM table\"):\n      write_file.write(row)\n</code></pre>\n\n<p>Eg.<br/>\nIf you have a database with rows <code>number</code>, <code>word</code>, <code>colour</code> your code will loop over something like this:</p>\n\n<pre><code>(23, \"tree\", \"red\")\n(17, \"code\", \"green\")\n(11, \"python\", \"yellow\")\n</code></pre>\n\n<p>And what you're trying to do is write a <strong>tuple</strong> to a file. You can only write strings (or <code>bytes</code>) to a file.</p>\n\n<p>What you have to do is convert that tuple to a string. For this you can use the <code>join()</code> function.</p>\n\n<p>Your code will now look like this:</p>\n\n<pre><code>c.execute(\"SELECT * FROM table\")\ntable = c.fetchall()\nprint(table)\n\n#to export as csv file\nwith open(\"wub.csv\", \"wb\") as write_file:\n     cursor = connection.cursor()\n     for row in cursor.execute(\"SELECT * FROM table\"):\n          writeRow = \" \".join(row)\n          write_file.write(writeRow)\n</code></pre>\n\n<p><code>\" \".join(row)</code> will join all tuple elements and seperate them with, in this case, a space.</p>\n\n<hr>\n\n<p>There are a few problems with this.</p>\n\n<p>Join only works with lists and tuples that contain string elements only (so the code   above wouldn't work if your database had a <code>REAL</code> or <code>INTEGER</code> type)</p>\n\n<p>You can just write a loop that goes over each element in the list and converts it to a string.</p>\n\n<p>I also added a <code>.encode()</code> because you are opening your CSV file with <code>\"rb\"</code> so you need to convert it to <code>bytes</code> before writing to the file.</p>\n\n<pre><code>c.execute(\"SELECT * FROM table\")\ntable = c.fetchall()\nprint(table)\n\n#to export as csv file\nwith open(\"wub.csv\", \"wb\") as write_file:\n    cursor = connection.cursor()\n    for row in cursor.execute(\"SELECT * FROM table\"):\n        writeRow = \" \".join([str(i) for i in row])\n        write_file.write(writeRow.encode())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2493, "user_id": 5966448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5797778df7bfc1beb6dd450d7e53d2d7?s=128&d=identicon&r=PG&f=1", "display_name": "Sci Prog", "link": "https://stackoverflow.com/users/5966448/sci-prog"}, "is_accepted": false, "score": 11, "last_activity_date": 1523748084, "last_edit_date": 1523748084, "creation_date": 1458860703, "answer_id": 36211470, "question_id": 36188721, "link": "https://stackoverflow.com/questions/36188721/exporting-csv-file-from-python-sqlite3/36211470#36211470", "title": "Exporting CSV file from python sqlite3", "body": "<pre><code>import sqlite3\nimport csv\n\ninpsql3 = sqlite3.connect('input.sql3')\nsql3_cursor = inpsql3.cursor()\nsql3_cursor.execute('SELECT * FROM clients')\nwith open('output.csv','w') as out_csv_file:\n  csv_out = csv.writer(out_csv_file)\n  # write header                        \n  csv_out.writerow([d[0] for d in sql3_cursor.description])\n  # write data                          \n  for result in sql3_cursor:\n    csv_out.writerow(result)\ninpsql3.close()\n</code></pre>\n\n<p>Note the use of <code>description</code> member of the sql cursor to get the names of the headers in the <code>clients</code> table.</p>\n\n<p>You can, of course, modify the names of the input and output files.  And you can also modify the parameters of the <code>csv.writer</code>. </p>\n\n<p>The original author had the flag 'wb' for writing bytes; however we are not writing bytes.</p>\n"}], "owner": {"reputation": 13, "user_id": 6106574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Y0qG.jpg?s=128&g=1", "display_name": "Rachel", "link": "https://stackoverflow.com/users/6106574/rachel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8754, "favorite_count": 1, "closed_date": 1459025685, "accepted_answer_id": 36189921, "answer_count": 2, "score": 1, "last_activity_date": 1523748084, "creation_date": 1458767343, "last_edit_date": 1458855530, "question_id": 36188721, "link": "https://stackoverflow.com/questions/36188721/exporting-csv-file-from-python-sqlite3", "closed_reason": "Duplicate", "title": "Exporting CSV file from python sqlite3", "body": "<p>I've been trying to google this for hours now, sorry if the answer is already out there</p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>c.execute(\"SELECT * FROM table\")\ntable = c.fetchall()\nprint(table)\n\n#to export as csv file\nwith open(\"wub.csv\", \"wb\") as write_file:\n     cursor = connection.cursor()\n          for row in cursor.execute(\"SELECT * FROM table\"):\n          write_file.write(row)\n</code></pre>\n\n<p>But I keep getting an error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/Rachel/Documents/database.py\", line 52, in &lt;module&gt;\n    write_file.write(row)\nTypeError: a bytes-like object is required, not 'tuple'\n</code></pre>\n\n<p>so I'm pretty sure I'm doing everything wrong -how would I properly export the table to an external CSV file? Thank you</p>\n\n<p>EDIT:\n<a href=\"http://i.stack.imgur.com/H926m.png\" rel=\"nofollow\">to Janekmuric</a></p>\n"}, {"tags": ["python", "arrays", "pandas", "dataframe", "yahoo-finance"], "comments": [{"owner": {"reputation": 23416, "user_id": 3877338, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/300539394aa55b738b51e6769cca9b3e?s=128&d=identicon&r=PG&f=1", "display_name": "JohnE", "link": "https://stackoverflow.com/users/3877338/johne"}, "edited": false, "score": 2, "creation_date": 1458767755, "post_id": 36188704, "comment_id": 60012933, "body": "You&#39;re trying to write python code not pandas code.  Start here:  <a href=\"http://pandas.pydata.org/pandas-docs/stable/basics.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/basics.html</a>  In fact your exact error is here, under &quot;warning&quot;:  <a href=\"http://pandas.pydata.org/pandas-docs/stable/basics.html#boolean-reductions\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/&hellip;</a>"}, {"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1458767802, "post_id": 36188704, "comment_id": 60012959, "body": "<code>data.Vol &gt; 10000</code> returns a boolean series - look at it in the interpreter! You can try <code>data.Volume.max() &gt; 10000</code>, but as JohnE said, there are better ways to do this."}], "answers": [{"tags": [], "owner": {"reputation": 1032, "user_id": 752720, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cc5493053231e04c5203d194a5e3e169?s=128&d=identicon&r=PG&f=1", "display_name": "wilywampa", "link": "https://stackoverflow.com/users/752720/wilywampa"}, "is_accepted": true, "score": 1, "last_activity_date": 1458771757, "creation_date": 1458771757, "answer_id": 36189825, "question_id": 36188704, "link": "https://stackoverflow.com/questions/36188704/error-the-truth-value-of-a-series-is-ambiguous-python-pandas/36189825#36189825", "title": "Error: The truth value of a series is ambiguous. Python &amp; Pandas", "body": "<p>The problem is that the condition (<code>data.Vol &gt; 10000</code>) returns an array of boolean values. NumPy emits that error because it can't know whether you mean to ask \"are any of these values <code>&gt; x</code>?\", \"are all of these values <code>&gt; x</code>?\", etc.</p>\n\n<p>In this case you should use logical indexing to get the rows you're interested in: <code>data[data.Vol &gt; 10000]</code>.</p>\n\n<p>From there, you can get all the relevant symbols: <code>data[data.Vol &gt; 10000].index.get_level_values('Symbol')</code></p>\n"}], "owner": {"reputation": 683, "user_id": 5651960, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/bbf2c02f85628348dbfa1b62a722c9cc?s=128&d=identicon&r=PG&f=1", "display_name": "RageAgainstheMachine", "link": "https://stackoverflow.com/users/5651960/rageagainsthemachine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 983, "favorite_count": 0, "accepted_answer_id": 36189825, "answer_count": 1, "score": 1, "last_activity_date": 1458771757, "creation_date": 1458767291, "question_id": 36188704, "link": "https://stackoverflow.com/questions/36188704/error-the-truth-value-of-a-series-is-ambiguous-python-pandas", "title": "Error: The truth value of a series is ambiguous. Python &amp; Pandas", "body": "<p>I'm trying to identify all the options contracts for MSFT and GOOG that have over 10,000 in volume for the day and to print out the name of the symbol.I am getting the error \"The truth value of a series is ambiguous.Use a.empty, a.bool(), a.item(), a.any() or a.all().\" The error is on line 13. Any help is greatly appreciated.</p>\n\n<pre><code>from pandas_datareader.data import Options\nimport pandas as pd\nfrom pandas import DataFrame\nimport datetime\n\ntickers = ['GOOG','MSFT']\n\n\nfor i in tickers:\n    option = Options(i,'yahoo')\n    data = option.get_all_data()\n\n    if data.Vol &gt; 10000:\n         print data.Symbol\n\n    else:\n        pass\n</code></pre>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1458768340, "post_id": 36188644, "comment_id": 60013231, "body": "I don&#39;t understand what you&#39;re asking. <code>form.locations</code> is a field, not a queryset. Where are you trying to display a queryset?"}, {"owner": {"reputation": 189, "user_id": 2270231, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/babcd24432a920316c15e043f3b95bba?s=128&d=identicon&r=PG", "display_name": "dk1990", "link": "https://stackoverflow.com/users/2270231/dk1990"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1458778091, "post_id": 36188644, "comment_id": 60016896, "body": "I&#39;m aware of that, i&#39;m trying to replicate something the admin dashboard has. Check buttons with actual information and then add the information to a many to many field. Is there any way to do replicate the list the admin dashboard has? The delete function looks like it has some similiarities."}, {"owner": {"reputation": 189, "user_id": 2270231, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/babcd24432a920316c15e043f3b95bba?s=128&d=identicon&r=PG", "display_name": "dk1990", "link": "https://stackoverflow.com/users/2270231/dk1990"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1458778418, "post_id": 36188644, "comment_id": 60016978, "body": "And i added a queryset here, self.fields[&#39;locations&#39;].queryset = LocationData.objects.all().filter(email=user.email). So i thought i could access more information."}, {"owner": {"reputation": 189, "user_id": 2270231, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/babcd24432a920316c15e043f3b95bba?s=128&d=identicon&r=PG", "display_name": "dk1990", "link": "https://stackoverflow.com/users/2270231/dk1990"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1458779263, "post_id": 36188644, "comment_id": 60017158, "body": "@DanielRoseman i added more information above. Thanks for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 2270231, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/babcd24432a920316c15e043f3b95bba?s=128&d=identicon&r=PG", "display_name": "dk1990", "link": "https://stackoverflow.com/users/2270231/dk1990"}, "is_accepted": true, "score": 0, "last_activity_date": 1458813445, "creation_date": 1458813445, "answer_id": 36197382, "question_id": 36188644, "link": "https://stackoverflow.com/questions/36188644/get-queryset-values-for-form-multiplechoice-in-django/36197382#36197382", "title": "Get Queryset values for form MultipleChoice in Django", "body": "<p>After a lot of trial and error here is the solution.</p>\n\n<p>Of course it is possible to access a queryset through a Field and displaying a Multiple Choice like in the Admin.\nEven though otherwise indicated.</p>\n\n<p>You can't use more values inside a form tag. So the solution is to split the form into smaller parts. \nA multiple Choice form usually looks like this:</p>\n\n<pre><code>&lt;li&gt;\n  &lt;label for=\"id\"&gt;&lt;input class=\"styled\" id=\"id\" \n  name=\"formfield name\" type=\"checkbox\" value=\"1\"&gt;\n  queryset item name\n &lt;/label&gt;\n</code></pre>\n\n<p></li></p>\n\n<p>The value one is the primaryKey set by the Form. So in order for Django to still understand a many to many field you need the formfield name and the primary key.</p>\n\n<p>So now the part i was stuck with how do i get these values ? </p>\n\n<pre><code>{% for item in form.\"querysetname\".field.queryset.all %} \n&lt;li&gt;\n  &lt;input name=\"formfieldname\" type=\"checkbox\"value=\"{{item.pk}}\"&gt; \n    {{item.querysetitem}} {{item.querysetitem}} {{item.querysetitem}} \n\n&lt;/li&gt;\n\n {% endfor %}\n</code></pre>\n\n<p>The item.pk stands for the primary key. \nThe formfield name can just be copied.</p>\n\n<p>Hope that helps in case someone needs a many to many field, with a db queryset and a form.</p>\n"}], "owner": {"reputation": 189, "user_id": 2270231, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/babcd24432a920316c15e043f3b95bba?s=128&d=identicon&r=PG", "display_name": "dk1990", "link": "https://stackoverflow.com/users/2270231/dk1990"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 0, "accepted_answer_id": 36197382, "answer_count": 1, "score": 0, "last_activity_date": 1458813445, "creation_date": 1458766997, "last_edit_date": 1458779131, "question_id": 36188644, "link": "https://stackoverflow.com/questions/36188644/get-queryset-values-for-form-multiplechoice-in-django", "title": "Get Queryset values for form MultipleChoice in Django", "body": "<p>I want to display more then one value from the Queryset inside my form, but can't get the values out.</p>\n\n<p>i have tried to use <code>forms.locations.all</code> and loop through them.\n<code>forms.locations.1</code> looked like it would work, but\n<code>forms.locations.1.name forms.locations.1.street</code> didn't work either.</p>\n\n<p>Is there a way to display more then just the name of the queryset inside the form?</p>\n\n<p>I'm aware that this is a Field. I'm trying to replicate something in the Admin Dashboard functionality.\nI have an unknown number of multiple choices. And need to be able to add these choices to a many to many field. This is already working, but only the name of the queryset items is displayed in the form, which is a problem. Some have the same name and so on. I need to display something like the fields = ['name', 'street', 'street_number', 'postal_code', 'city'] inside the admin.</p>\n\n<p>Anyone got any ideas?</p>\n\n<p>forms.py</p>\n\n<pre><code>class GroupCreateForm(forms.ModelForm):\n\nlocations = forms.ModelMultipleChoiceField(label='',widget=forms.CheckboxSelectMultiple(attrs={'class': 'styled', \"style\":\"margin:10px;\"}), queryset=None)      \ngroup_name = forms.CharField(label='', required=True ,widget=forms.TextInput(attrs={'rows': '1', 'class': 'form-control', 'placeholder': 'Geben Sie den Gruppen Namen an'}))\n\ndef __init__(self, user, *args, **kwargs):\n    super(GroupCreateForm, self).__init__(*args, **kwargs)\n    self.fields['locations'].queryset = LocationData.objects.all().filter(email=user.email)\n\nclass Meta: \n    model = GroupManagement\n    fields = ['group_name', 'locations']\n</code></pre>\n\n<p>views.py </p>\n\n<pre><code>  def page_groups(request, page_group):\n\n\n\nform = GroupCreateForm(data=request.POST or None, user=request.user)\n\n\n\nif request.method == 'POST':\n    if form.is_valid():\n        group_instance = form.save(commit=False)\n        group_name = form.cleaned_data['group_name']\n        group_id = group_name.replace(' ', '')\n        group_instance.group_id = group_id\n        group_instance.email = request.user.email\n        group_instance.save()\n        form.save_m2m()\n\n\n\n\n\ncontext = {\n\n'form': form,\n\n}\n\nreturn render(request, 'dashboard/create_group.html', context)\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code> &lt;div class=\"col-md-12\"&gt;\n\n\n            &lt;div class=\"panel\"&gt;\n\n                &lt;div class=\"panel-body\"&gt;\n                    &lt;div class=\"tab-content with-panel\"&gt;\n\n                        &lt;div id=\"line-blue\" class=\"tab-pane\"&gt;\n                            &lt;div class=\"row\"&gt;\n                                &lt;div class=\"col-md-10\"&gt;\n                                    &lt;div class=\"inputer\"&gt;\n                                        &lt;div class=\"input-wrapper\"&gt;\n                                            {{form.group_name}}\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"col-md-2\"&gt;\n                                &lt;button type=\"button\" class=\"btn btn-green btn-flat btn-ripple\"&gt;Erstellen&lt;/button&gt;\n                                &lt;/div&gt;\n\n                                &lt;div class=\"col-md-12 locations\"&gt;\n\n\n                                        {{form.locations}}\n\n                                &lt;/div&gt;\n\n\n\n                            &lt;/div&gt;&lt;!--.row--&gt;\n                        &lt;/div&gt;&lt;!--.tab-pane--&gt;\n                    &lt;/div&gt;\n\n\n\n                    &lt;/div&gt;&lt;!--.tab-content--&gt;\n                &lt;/div&gt;&lt;!--.panel-body--&gt;\n\n\n        &lt;/div&gt;&lt;!--.col-md-6--&gt;\n</code></pre>\n"}, {"tags": ["python", "base64"], "comments": [{"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 0, "creation_date": 1458766999, "post_id": 36188632, "comment_id": 60012549, "body": "You format the value returned by <code>encodestring</code>. <code>encodestring(&quot;{0}{0}{1}&quot;.format(acct_name,pw))</code> should work correctly."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "edited": false, "score": 0, "creation_date": 1458767121, "post_id": 36188632, "comment_id": 60012610, "body": "Maybe I&#39;m missing something, but the string passed on the commandline also has <code>\\x00</code> between the substitution parameters..."}, {"owner": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1458769399, "post_id": 36188632, "comment_id": 60013654, "body": "Should this question be flagged as a typo, or should the title be changed to represent the actual problem? I lean towards the former."}, {"owner": {"reputation": 39, "user_id": 3954080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZvYm.jpg?s=128&g=1", "display_name": "Angelo Fazzina", "link": "https://stackoverflow.com/users/3954080/angelo-fazzina"}, "edited": false, "score": 0, "creation_date": 1458830317, "post_id": 36188632, "comment_id": 60038943, "body": "VAULTAH = see SZYM&#39;s answer, as i think i have a formatting issue, and possibly an issue with single and double quotes...?  MGILSON = I am still trying to figure out the hex 00 and why it is needed. The original purpose of cmd was to test authentication of a TLS connection, so the hash is needed and works. RETI43  = Yes i had a lot of trouble figuring out how to properly describe the problem."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 3954080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZvYm.jpg?s=128&g=1", "display_name": "Angelo Fazzina", "link": "https://stackoverflow.com/users/3954080/angelo-fazzina"}, "edited": false, "score": 0, "creation_date": 1458830090, "post_id": 36188858, "comment_id": 60038782, "body": "Thank you SZYM, you got me a lot closer. I tested u=apple p=apple an get YXBwbGUAYXBwbGUAYXBwbGU= via command line. my script gives this YXBwbGVhcHBsZWFwcGxl   This is the new error i get.  File &quot;&lt;string&gt;&quot;, line 1, in &lt;module&gt; NameError: name &#39;appleapple&#39; is not defined"}], "tags": [], "owner": {"reputation": 4956, "user_id": 4356889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Le2lz.png?s=128&g=1", "display_name": "szym", "link": "https://stackoverflow.com/users/4356889/szym"}, "is_accepted": true, "score": 1, "last_activity_date": 1458767881, "creation_date": 1458767881, "answer_id": 36188858, "question_id": 36188632, "link": "https://stackoverflow.com/questions/36188632/base64-syntax-in-python-is-not-working/36188858#36188858", "title": "base64 syntax in python is not working", "body": "<p>You have a mistake in parenthesis. Instead of:</p>\n\n<pre><code>test = base64.encodestring(\"{0}{0}{1}\").format(acct_name,pw)\n</code></pre>\n\n<p>(which first encodes \"{0}{0}{1}\" in base64 and <strong>then</strong> tries to substitute variables using <code>format</code>),</p>\n\n<p>you should have</p>\n\n<pre><code>test = base64.encodestring(\"{0}{0}{1}\".format(acct_name,pw))\n</code></pre>\n\n<p>(which first substitutes variables using <code>format</code> and <strong>then</strong> encodes in base64).</p>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 3954080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZvYm.jpg?s=128&g=1", "display_name": "Angelo Fazzina", "link": "https://stackoverflow.com/users/3954080/angelo-fazzina"}, "is_accepted": false, "score": 0, "last_activity_date": 1458831447, "creation_date": 1458831447, "answer_id": 36203237, "question_id": 36188632, "link": "https://stackoverflow.com/questions/36188632/base64-syntax-in-python-is-not-working/36203237#36203237", "title": "base64 syntax in python is not working", "body": "<p>Thanks SZYM i am all set. This is the code that gets it to work</p>\n\n<pre><code>test = base64.encodestring(\"{0}\\x00{0}\\x00{1}\".format(acct_name,pw))\n</code></pre>\n\n<p>Turns out the hex \\x00 is needed so program getting the hash knows where username stops and password begins.\n-ALF</p>\n"}], "owner": {"reputation": 39, "user_id": 3954080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9ZvYm.jpg?s=128&g=1", "display_name": "Angelo Fazzina", "link": "https://stackoverflow.com/users/3954080/angelo-fazzina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "accepted_answer_id": 36188858, "answer_count": 2, "score": 0, "last_activity_date": 1458831447, "creation_date": 1458766951, "question_id": 36188632, "link": "https://stackoverflow.com/questions/36188632/base64-syntax-in-python-is-not-working", "title": "base64 syntax in python is not working", "body": "<p>this code works on the command line.</p>\n\n<pre><code>python -c 'import base64,sys; u,p=sys.argv[1:3]; print  base64.encodestring(\"%s\\x00%s\\x00%s\" % (u,u,p))' user pass\n</code></pre>\n\n<p>output is \ndXNlcgB1c2VyAHBhc3M=</p>\n\n<p>I am trying to get this to work in my script</p>\n\n<pre><code>test = base64.encodestring(\"{0}{0}{1}\").format(acct_name,pw)\nprint test\n</code></pre>\n\n<p>output is\nezB9ezB9ezF9</p>\n\n<p>anyone no what i am doing wrong ?\nthank you.</p>\n"}, {"tags": ["python", "ocr", "tesseract"], "answers": [{"comments": [{"owner": {"reputation": 516, "user_id": 5043357, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/efeb4b2e5899c59b9e65008393ca5019?s=128&d=identicon&r=PG&f=1", "display_name": "rishran", "link": "https://stackoverflow.com/users/5043357/rishran"}, "edited": false, "score": 0, "creation_date": 1458841243, "post_id": 36191534, "comment_id": 60046457, "body": "Okay that makes sense. However, the problem that I am facing now is how do I install these libraries on a mac OSX? <code>libicu-dev  libpango1.0-dev libcairo2-dev </code>"}], "tags": [], "owner": {"reputation": 7694, "user_id": 754060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97264d5415228e3e7b2b3bc9cef85dcc?s=128&d=identicon&r=PG", "display_name": "nguyenq", "link": "https://stackoverflow.com/users/754060/nguyenq"}, "is_accepted": true, "score": 2, "last_activity_date": 1458781597, "creation_date": 1458781597, "answer_id": 36191534, "question_id": 36188609, "link": "https://stackoverflow.com/questions/36188609/training-tesseract-ocr-for-ambiguities/36191534#36191534", "title": "Training Tesseract OCR for ambiguities", "body": "<p>Tesseract training executables are built separately.</p>\n\n<p><a href=\"https://github.com/tesseract-ocr/tesseract/wiki/Compiling\" rel=\"nofollow\">https://github.com/tesseract-ocr/tesseract/wiki/Compiling</a></p>\n"}], "owner": {"reputation": 516, "user_id": 5043357, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/efeb4b2e5899c59b9e65008393ca5019?s=128&d=identicon&r=PG&f=1", "display_name": "rishran", "link": "https://stackoverflow.com/users/5043357/rishran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1109, "favorite_count": 1, "accepted_answer_id": 36191534, "answer_count": 1, "score": 1, "last_activity_date": 1458781597, "creation_date": 1458766890, "question_id": 36188609, "link": "https://stackoverflow.com/questions/36188609/training-tesseract-ocr-for-ambiguities", "title": "Training Tesseract OCR for ambiguities", "body": "<p>I am pretty new to data scraping and I am facing a minor issue.</p>\n\n<p>I am trying to extract text from a Hindi pdf using <code>textract</code> and <code>Tesseract</code> OCR. \nFollowing is the code in Python:</p>\n\n<pre><code>import textract\n\ntext = textract.parsers.process(\"test.pdf\", encoding='utf_8', method='tesseract', language = 'hin')\n</code></pre>\n\n<p>Now, many of the words from the PDF are correctly extracted. However, there are some things that are messed up. I read the documentation and about how ambiguities can be overridden by using a file <code>lang.unicharambigs</code>. However, I need to run <code>combine_tessdata</code> in order to actually bring it into effect and override certain trained data.</p>\n\n<p>However, when I try to run the command I get the following:</p>\n\n<pre><code> -bash: combine_tessdata: command not found\n</code></pre>\n\n<p>I have installed <code>tesseract</code> from the source and I can't seem to understand why this is happening. Any ideas on how to troubleshoot this?</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "pyqt4", "signals-slots"], "comments": [{"owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1458773326, "post_id": 36188549, "comment_id": 60015313, "body": "Is <code>ViewBoxCustom</code> a child widget of the <code>MainWIndow</code>?  It&#39;s a little confusing because the <code>ViewBoxCustom</code> code calls <code>compute_spc_map</code> like it&#39;s a classmethod, but in the <code>SPCanalyse</code> code (where <code>MainWindow</code> is defined) it&#39;s shown as a regular instance method.  I&#39;m assuming <code>MainWindow</code> is a class and not a global variable instance of the real MainWindow class."}, {"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "reply_to_user": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "edited": false, "score": 0, "creation_date": 1458774753, "post_id": 36188549, "comment_id": 60015824, "body": "Yes and MainWindow is indeed a class"}], "answers": [{"comments": [{"owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "edited": false, "score": 0, "creation_date": 1458776456, "post_id": 36190372, "comment_id": 60016429, "body": "So I have actually tried this. I get AttributeError: &#39;ViewBoxCustom&#39; object has no attribute &#39;clicked.&#39; However your &quot;clicked = QtCore.pyqtSignal(int, int) &quot; made me see the light and now not only does it work, I now more thoroughly understand how to set up my own signals (the tutorials I read on how to do this often went over my head)"}], "tags": [], "owner": {"reputation": 28245, "user_id": 1547004, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5255289d0269d550a4e80e6bf6b0f590?s=128&d=identicon&r=PG", "display_name": "Brendan Abel", "link": "https://stackoverflow.com/users/1547004/brendan-abel"}, "is_accepted": true, "score": 1, "last_activity_date": 1458774230, "creation_date": 1458774230, "answer_id": 36190372, "question_id": 36188549, "link": "https://stackoverflow.com/questions/36188549/avoiding-a-circular-import-when-one-module-has-the-signal-and-another-the-slot-a/36190372#36190372", "title": "Avoiding a circular import when one module has the signal and another the slot and arguments need to be passed", "body": "<p>It looks like you're trying to call a method on a parent widget from a child widget (ie. <code>ViewBoxCustom</code> is a child of <code>MainWindow</code>).  You generally don't want to do this as it limits the flexibility of the child widget and can lead to circular dependencies like you have here when there's no reason the child should have to depend on the parent.</p>\n\n<p>A good design pattern to use here is for the child to emit a <code>Signal</code>, which the parent connects to, and uses it to trigger the calling of a function (as opposed to the child widget calling the function directly).</p>\n\n<p>In your case:</p>\n\n<pre><code>class ViewBoxCustom(...)\n    clicked = QtCore.pyqtSignal(int, int)\n\n    def mouseClickEvent(self, ev):\n        if ev.button() == QtCore.Qt.LeftButton:\n            ev.accept()\n            self.clicked.emit(ev.pos().x(), ev.pos().y())\n\n\nclass MainWindow(QtGui.QMainWindow):\n\n    def __init__(...)\n        ...\n        self.vbc = ViewBoxCustom(...)\n        self.vbc.clicked.connect(self.on_vbc_clicked)\n\n    @QtCore.pyqtSlot(int, int)\n    def on_vbc_clicked(self, x, y):\n        self.compute_spec_map(x, y)\n</code></pre>\n\n<p>There's no reason for <code>ViewBoxCustom</code> to ever import or know anything about <code>MainWindow</code>.</p>\n"}], "owner": {"reputation": 2166, "user_id": 2734863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b1edbcba419dd480d29a80ea3c9674c4?s=128&d=identicon&r=PG", "display_name": "Frikster", "link": "https://stackoverflow.com/users/2734863/frikster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 36190372, "answer_count": 1, "score": 0, "last_activity_date": 1596733040, "creation_date": 1458766662, "last_edit_date": 1596733040, "question_id": 36188549, "link": "https://stackoverflow.com/questions/36188549/avoiding-a-circular-import-when-one-module-has-the-signal-and-another-the-slot-a", "title": "Avoiding a circular import when one module has the signal and another the slot and arguments need to be passed", "body": "<p><a href=\"http://www.pyqtgraph.org/documentation/graphicsscene/mouseclickevent.html\" rel=\"nofollow noreferrer\">mouseClickEvent</a> is in <code>ViewBoxCustom.py</code> and is correctly triggered when you click the scene. <code>compute_spc_map</code> is in <code>SPCanalyse.py</code> and <code>ViewBoxCustom.py</code> doesn't import it as that would make a cyclic import. I know it <a href=\"https://stackoverflow.com/questions/11698530/two-python-modules-require-each-others-contents-can-that-work\">can be done</a>, but I want to avoid it.</p>\n\n<p>snippet from <code>ViewBoxCustom</code></p>\n\n<pre><code>from SPCanalyse import MainWindow #This import should not exist\ndef mouseClickEvent(self, ev):\n    elif ev.button() == QtCore.Qt.LeftButton:\n        ev.accept()\n        # The following line does not work because MainWindow is **NOT** imported \n        MainWindow.compute_spc_map(ev.pos().x(), ev.pos().y())\n</code></pre>\n\n<p>snippet from <code>SPCanalyse</code>. <code>SPCanalyse</code> imports <code>ViewBoxCustom</code> so as to access functions and generate app functionality</p>\n\n<pre><code>from ViewBoxCustom import MultiRoiViewBox # MultiRoiViewBox contains mouseClickEvent\ndef compute_spc_map(self, x, y):\n    if not self.preprocessed_frames == None:\n        self.image = fj.get_correlation_map(y, x, self.preprocessed_frames)\n</code></pre>\n\n<p>I cant just place <code>compute_spc_map</code> in <code>ViewBoxCustom</code> because <code>preprocessed_frames</code> is a variable generated and used in <code>SPCanalyse</code></p>\n\n<p>I thought it might work to connect the <code>mouseClickEvent</code> in <code>ViewBoxCustom</code> with <code>compute_spc_map</code> in <code>SPCanalyse</code> doing the following in <code>SPCanalyse</code></p>\n\n<pre><code>from ViewBoxCustom import MultiRoiViewBox\nself.vb = MultiRoiViewBox(lockAspect=True,enableMenu=True)\nself.vb.mouseClickEvent.connect(self.compute_spc_map)\n</code></pre>\n\n<p>sadly <code>mouseClickEvent</code> has no attribute 'connect'</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 30464, "user_id": 203568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/914a7c50b970346e442b3e4b0a7e73f8?s=128&d=identicon&r=PG", "display_name": "bgporter", "link": "https://stackoverflow.com/users/203568/bgporter"}, "is_accepted": true, "score": 4, "last_activity_date": 1458767198, "last_edit_date": 1458767198, "creation_date": 1458766878, "answer_id": 36188607, "question_id": 36188541, "link": "https://stackoverflow.com/questions/36188541/python-returning-memory-pointer-location-rather-than-value/36188607#36188607", "title": "Python returning memory pointer location rather than value", "body": "<p>You're not actually <em>calling</em> the epoch_time function:</p>\n\n<pre><code>def firstName():\n        firstName = 'Storm' + str(dataGen.epochTime)\n        return firstName\n</code></pre>\n\n<p>see the difference when you instead do:</p>\n\n<pre><code>def firstName():\n        firstName = 'Storm' + str(dataGen.epochTime())\n        return firstName\n</code></pre>\n\n<p>(note the parens after <code>dataGen.epochTime()</code>)</p>\n\n<p>It's exactly the same as this:</p>\n\n<pre><code>&gt;&gt;&gt; def f():\n...     return 100\n...\n&gt;&gt;&gt; f\n&lt;function f at 0x107d687d0&gt;\n&gt;&gt;&gt; f()\n100\n&gt;&gt;&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2840, "user_id": 3775493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m150V.jpg?s=128&g=1", "display_name": "Nuno Andr&#233;", "link": "https://stackoverflow.com/users/3775493/nuno-andr%c3%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1458767107, "creation_date": 1458767107, "answer_id": 36188665, "question_id": 36188541, "link": "https://stackoverflow.com/questions/36188541/python-returning-memory-pointer-location-rather-than-value/36188665#36188665", "title": "Python returning memory pointer location rather than value", "body": "<p>Try with:</p>\n\n<pre><code>class dataGen:\n\n    def epochTime(self):\n        epoch_time = int(time.time())\n        return epoch_time\n\n    def firstName(self):\n        firstName = 'Storm' + str(self.epochTime())\n        return firstName\n\n    def lastName(self):\n        lastName = 'Trooper' + str(self.epochTime())\n        return lastName \n\ndef main():\n    # Creates an object of dataGen class\n    t = dataGen()\n    print(t.firstName(), t.lastName())\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 230, "user_id": 2052044, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/96f2d5311d82984c2f832dceff569e1a?s=128&d=identicon&r=PG", "display_name": "Allison Wilson", "link": "https://stackoverflow.com/users/2052044/allison-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4692, "favorite_count": 0, "accepted_answer_id": 36188607, "answer_count": 2, "score": 0, "last_activity_date": 1458767198, "creation_date": 1458766630, "question_id": 36188541, "link": "https://stackoverflow.com/questions/36188541/python-returning-memory-pointer-location-rather-than-value", "title": "Python returning memory pointer location rather than value", "body": "<p>I am trying to create a python script that appends the current epoc time to the end of a string to create iterative values. The issue, is that IDLE is spitting out the memory pointer position rather than the value and I am not sure why:</p>\n\n<pre><code>class dataGen:\n\n    def epochTime(self):\n            epoch_time = int(time.time())\n            return epoch_time\n\n    def firstName():\n            firstName = 'Storm' + str(dataGen.epochTime)\n            return firstName\n\n    def lastName():\n            lastName = 'Trooper' + str(dataGen.epochTime)\n            return lastName \n\ndef main():\n    t = dataGen.firstName()\n    t2 = dataGen.lastName()        \n    print(t, t2)\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Output:  </p>\n\n<pre><code>Storm&lt;function dataGen.epochTime at 0x0340A150&gt; Trooper&lt;function dataGen.epochTime at 0x0340A150&gt;\n</code></pre>\n\n<p>If I take it out of the class and make it a global variable it works:</p>\n\n<pre><code>epoch_time = int(time.time())   \n\nclass dataGen:\n\n        def firstName():\n                firstName = 'Storm' + str(epoch_time)\n                return firstName\n\n        def lastName():\n                lastName = 'Trooper' + str(epoch_time)\n                return lastName \n\ndef main():\n        t = dataGen.firstName()\n        t2 = dataGen.lastName()        \n        print(t, t2)\n\nif __name__ == '__main__':\n        main()\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Storm1458766044 Trooper1458766044\n</code></pre>\n"}, {"tags": ["python", "string", "algorithm", "string-matching"], "comments": [{"owner": {"reputation": 28666, "user_id": 754991, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/345fd2a0955fbab272da7ee594cbe7c1?s=128&d=identicon&r=PG", "display_name": "JBernardo", "link": "https://stackoverflow.com/users/754991/jbernardo"}, "edited": false, "score": 0, "creation_date": 1458766487, "post_id": 36188438, "comment_id": 60012295, "body": "You should consider a dictionary with actual numbers instead of strings. If these numbers are exactly the letter position in the dictionary your code can be quite simpler. You just have to find the largest match and then go back for smaller matches."}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "edited": false, "score": 0, "creation_date": 1458766707, "post_id": 36188438, "comment_id": 60012413, "body": "Can you give an example that&#39;s more than 2 characters? If there are 3 characters does [a], [ab], [abc], and [bc] all count, or not [bc]?"}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "edited": false, "score": 0, "creation_date": 1458767128, "post_id": 36188438, "comment_id": 60012612, "body": "I deleted my answer because I realize that I don&#39;t understand you&#39;re exmaple output; how does b map to 0, doesn&#39;t b map to 2?"}, {"owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "reply_to_user": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "edited": false, "score": 0, "creation_date": 1458772148, "post_id": 36188438, "comment_id": 60014868, "body": "@en_Knight sorry i had a bug in my description. you&#39;re right. there&#39;s no 0 in the mapping."}, {"owner": {"reputation": 4763, "user_id": 2329988, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b9ab817073f9499496b464905713e6a3?s=128&d=identicon&r=PG", "display_name": "en_Knight", "link": "https://stackoverflow.com/users/2329988/en-knight"}, "edited": false, "score": 0, "creation_date": 1458827666, "post_id": 36188438, "comment_id": 60037065, "body": "@newenthusiast still doesn&#39;t make sense to me - &quot;10 corresponds to &#39;j&#39;&quot;, do you mean &quot;11 corresponds to k&quot;, else where do we get the &quot;0&quot; for &quot;10&quot; from"}], "answers": [{"comments": [{"owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "edited": false, "score": 0, "creation_date": 1458773034, "post_id": 36188669, "comment_id": 60015215, "body": "Thank you. I was thinking of solving this using recursion(which is a building up process). However, I am not quite sure if the base case would be a string of length 1, or both length 1 and 2?"}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "reply_to_user": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "edited": false, "score": 0, "creation_date": 1458773263, "post_id": 36188669, "comment_id": 60015295, "body": "@newenthusiast I think you&#39;re going to need base cases for 0-length and 1-length, then recursive cases for the 1-length and 2-length substrings."}, {"owner": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "reply_to_user": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "edited": false, "score": 0, "creation_date": 1458774997, "post_id": 36188669, "comment_id": 60015926, "body": "@newenthusiast your numbers are from <code>1</code> to <code>27</code> which means that they can take substrings of length 1 or 2. Your base case will be an empty string. So if you reached an empty string you successfully was able to transform your string."}, {"owner": {"reputation": 126927, "user_id": 791604, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce991df7a056248d5e4f6fc3659ba733?s=128&d=identicon&r=PG", "display_name": "Daniel Wagner", "link": "https://stackoverflow.com/users/791604/daniel-wagner"}, "edited": false, "score": 0, "creation_date": 1458781609, "post_id": 36188669, "comment_id": 60017801, "body": "For bonus points: during the computation for <code>&#39;145689&#39;</code>, you are going to recurse on <code>&#39;45689&#39;</code> and <code>&#39;5689&#39;</code>; but the recursive call for <code>&#39;45689&#39;</code> is <i>also</i> going to recurse on <code>&#39;5689&#39;</code>. There is a standard trick to compute the result for <code>&#39;5689&#39;</code> only once instead of twice and convert this from an exponential algorithm to a linear one -- can you reinvent this trick yourself?"}, {"owner": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "reply_to_user": {"reputation": 126927, "user_id": 791604, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce991df7a056248d5e4f6fc3659ba733?s=128&d=identicon&r=PG", "display_name": "Daniel Wagner", "link": "https://stackoverflow.com/users/791604/daniel-wagner"}, "edited": false, "score": 0, "creation_date": 1458783480, "post_id": 36188669, "comment_id": 60018332, "body": "@DanielWagner not sure whether it is a question for me or for OP, and whether it is actually a question or a friendly hint. But yes, it is called dynamic programming and you can just store computations for some elements that you already computed previously. If something you need to compute was already computed, then ignore it."}, {"owner": {"reputation": 126927, "user_id": 791604, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ce991df7a056248d5e4f6fc3659ba733?s=128&d=identicon&r=PG", "display_name": "Daniel Wagner", "link": "https://stackoverflow.com/users/791604/daniel-wagner"}, "edited": false, "score": 0, "creation_date": 1458783759, "post_id": 36188669, "comment_id": 60018426, "body": "@SalvadorDali Indeed, I&#39;m confident you knew this -- it was mostly a friendly nudge to OP in case they were curious and wanted to learn about a fun corner of CS."}], "tags": [], "owner": {"reputation": 180675, "user_id": 1090562, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d675b3e6225683ba6432496ec23ed806?s=128&d=identicon&r=PG", "display_name": "Salvador Dali", "link": "https://stackoverflow.com/users/1090562/salvador-dali"}, "is_accepted": true, "score": 4, "last_activity_date": 1458767144, "creation_date": 1458767144, "answer_id": 36188669, "question_id": 36188438, "link": "https://stackoverflow.com/questions/36188438/finding-different-combinations-of-a-numeric-string-that-corresponds-to-letters/36188669#36188669", "title": "Finding different combinations of a numeric string that corresponds to letters", "body": "<p>This looks like a homework, so here is a reasonable hint.</p>\n\n<p>You take your string <code>145689</code>, check for substrings of length maximum 2 (the biggest number is 26) <code>1</code>, <code>14</code>. If any of them are in the dictionary you run a recursive call to the rest of substring. In my example it will be <code>call('45689', dict['1'])</code> and <code>call('5689', dict['14'])</code>.</p>\n\n<p>So basically all you need to write is a simple recursive program.</p>\n"}], "owner": {"reputation": 1471, "user_id": 1667278, "user_type": "registered", "accept_rate": 53, "profile_image": "https://graph.facebook.com/501226655/picture?type=large", "display_name": "robinhood91", "link": "https://stackoverflow.com/users/1667278/robinhood91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 36188669, "answer_count": 1, "score": -1, "last_activity_date": 1458772124, "creation_date": 1458766235, "last_edit_date": 1458772124, "question_id": 36188438, "link": "https://stackoverflow.com/questions/36188438/finding-different-combinations-of-a-numeric-string-that-corresponds-to-letters", "title": "Finding different combinations of a numeric string that corresponds to letters", "body": "<p>Imagine I have an input:</p>\n\n<pre><code>['145689']\n</code></pre>\n\n<p>and I have a dictionary <code>{'1': 'a', '2': 'b', '3':'c' ..., '26': 'z', '27':' '}</code>. I am trying to find the different valid combinations of this input string from left to right that can result in all possible strings of characters.</p>\n\n<p>Example input:</p>\n\n<pre><code>['11'] \n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>['aa', 'j']\n</code></pre>\n\n<p><code>'ab'</code> comes from the combination <code>'1' '1'</code> and <code>'10'</code> corresponds to <code>'j'</code>.</p>\n\n<p>What would be the brute force method to do this? </p>\n"}, {"tags": ["python", "dlib"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1458836921, "post_id": 36189795, "comment_id": 60043681, "body": "The first way I tried was using pip install dlib but i also tried using using build from source using cmake."}, {"owner": {"reputation": 771, "user_id": 6010239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bfdc532ab497b810c268922fb76caa?s=128&d=identicon&r=PG", "display_name": "Dimitri Merejkowsky", "link": "https://stackoverflow.com/users/6010239/dimitri-merejkowsky"}, "reply_to_user": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1458855341, "post_id": 36189795, "comment_id": 60054049, "body": "ok, so what does <code>python -v</code> said ? how did you compile the extension ? did you make sure to link the extension with libraries compatible with your anaconda python extension ?"}, {"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1459566757, "post_id": 36189795, "comment_id": 60356602, "body": "Please check out: <a href=\"http://continuum.io/thanks\" rel=\"nofollow noreferrer\">continuum.io/thanks</a> and <a href=\"https://anaconda.org\" rel=\"nofollow noreferrer\">anaconda.org</a> import dlib # directory /Users/Llama/anaconda/lib/python2.7/site-packages/dlib # /Users/Llama/anaconda/lib/python2.7/site-packages/dlib/__ini&zwnj;&#8203;t__.pyc matches /Users/Llama/anaconda/lib/python2.7/site-packages/dlib/__ini&zwnj;&#8203;t__.py import dlib # precompiled from /Users/Llama/anaconda/lib/python2.7/site-packages/dlib/__ini&zwnj;&#8203;t__.pyc dlopen(&quot;/Users/Llama/anaconda/lib/python2.7/site-packages/dl&zwnj;&#8203;ib/dlib.so&quot;, 2); Segmentation fault: 11"}, {"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1459566774, "post_id": 36189795, "comment_id": 60356605, "body": "There was a lot more but only these lines seem to pertain to dlib"}, {"owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "edited": false, "score": 0, "creation_date": 1459567564, "post_id": 36189795, "comment_id": 60356736, "body": "Wow I can&#39;t believe how I was able to fix it. Uninstalled dlib using pip and then with conda. Afterwards I installed it using conda again and somehow it worked. I have no idea why but I am so relieved after all the time spent trying to fix it. Thanks for the help."}, {"owner": {"reputation": 150, "user_id": 3062497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c59545107be5a0382aa81f152f0bd32?s=128&d=identicon&r=PG&f=1", "display_name": "Brady Sheehan", "link": "https://stackoverflow.com/users/3062497/brady-sheehan"}, "edited": false, "score": 0, "creation_date": 1466358613, "post_id": 36189795, "comment_id": 63272245, "body": "I have this same issue. I installed dlib with pip and kept getting the segmentation fault. So I uninstalled it and re installed it by manually building the binary files and linking them (<a href=\"https://blog.stromich.com/2015/07/30/mac-os-x-python-ports-and-dlib-compilation/\" rel=\"nofollow noreferrer\">blog.stromich.com/2015/07/30/&hellip;</a>). I still got a segmentation fault. So I then tried re installing it with pip and continue to have the same issue. I have uninstalled and reinstalled all of the (I think) related modules and even unrelated ones. I&#39;m not sure what else to do. Any suggestions?"}], "tags": [], "owner": {"reputation": 771, "user_id": 6010239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bfdc532ab497b810c268922fb76caa?s=128&d=identicon&r=PG", "display_name": "Dimitri Merejkowsky", "link": "https://stackoverflow.com/users/6010239/dimitri-merejkowsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1458771593, "creation_date": 1458771593, "answer_id": 36189795, "question_id": 36188437, "link": "https://stackoverflow.com/questions/36188437/python-dlib-segmenation-fault-error-on-import/36189795#36189795", "title": "Python Dlib Segmenation Fault error on import", "body": "<p>Well, it seems that dlib <a href=\"https://pypi.python.org/pypi/dlib\" rel=\"nofollow\">1</a> is a Python module written in C++. This is a case where there can be binary incompatibilities, or it could also be a bug in the dlib module itself.</p>\n\n<p>It seems you are using Python from the anaconda <a href=\"https://www.continuum.io/why-anaconda\" rel=\"nofollow\">2</a> project, how did you install dlib ?</p>\n\n<p>You can also try running python with <code>-v</code> to get more info:</p>\n\n<pre><code>python -v -c 'import dlib'\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 4893246, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/974b03205705811d8042dea67b65c940?s=128&d=identicon&r=PG&f=1", "display_name": "Tomasz Ksepka", "link": "https://stackoverflow.com/users/4893246/tomasz-ksepka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1458943154, "creation_date": 1458766231, "last_edit_date": 1458943154, "question_id": 36188437, "link": "https://stackoverflow.com/questions/36188437/python-dlib-segmenation-fault-error-on-import", "title": "Python Dlib Segmenation Fault error on import", "body": "<p>Whenever I try to <code>import dlib</code> I get the following error.</p>\n\n<pre><code>/Users/Llama/anaconda/bin/python.app: line 3:  4052 Segmentation fault: 11\n/Users/Llama/anaconda/python.app/Contents/MacOS/python \"$@\"\n</code></pre>\n\n<p>Can someone help me with this, I've been stuck on it for days and its vital to a school project I am working on. </p>\n"}, {"tags": ["python", "list", "slice"], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": true, "score": 16, "last_activity_date": 1573759064, "last_edit_date": 1573759064, "creation_date": 1458767210, "answer_id": 36188683, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python/36188683#36188683", "title": "Retrieve length of slice from slice object in Python", "body": "<p>There is no complete answer for this. <code>slice</code> doesn't give you a length because the length of the result is always dependent on the size of the sequence being sliced, a short sequence (including an empty sequence) will produce fewer items, and if the <code>slice</code> is unbounded, then the length will grow in tandem with the length of the sequence; a <code>slice</code> might just go \"to end of sequence\" by having a <code>start</code> or <code>stop</code> of <code>None</code>.</p>\n\n<p>For a quick and easy way to compute the length for a sequence of a known length, you just combine <code>.indices</code> with Py3's <code>range</code> (or <code>xrange</code> in Py2, though <code>xrange</code> has limitations on values that Py3 <code>range</code> does not). <a href=\"https://docs.python.org/3/reference/datamodel.html#slice.indices\" rel=\"noreferrer\"><code>slice.indices</code> gives you the concrete <code>start</code>, <code>stop</code> and <code>stride</code> values derived when a <code>slice</code> applies to a sequence of a given length</a>, it's basically the values you'd fill in in a C-style <code>for</code> loop that traverses the same indices as the <code>slice</code>:</p>\n\n<pre><code> for (ssize_t i = start; i &lt; stop; i += stride)\n</code></pre>\n\n<p>So to calculate the length of a <code>slice</code> when applied to a sequence with 1000 elements, you'd do:</p>\n\n<pre><code>&gt;&gt;&gt; len(range(*slice(0, 2).indices(1000)))\n2\n&gt;&gt;&gt; len(range(*slice(10, None, 3).indices(1000)))\n330\n</code></pre>\n\n<p>If you're on Python 2, and your values might exceed what <code>xrange</code> can handle (it's limited to bounds and total length equal to what a <code>ssize_t</code> can hold), you can just do the calculation by hand:</p>\n\n<pre><code>def slice_len_for(slc, seqlen):\n    start, stop, step = slc.indices(seqlen)\n    return max(0, (stop - start + (step - (1 if step &gt; 0 else -1))) // step)\n\n&gt;&gt;&gt; slice_len_for(slice(10, None, 3), 1000)\n330\n</code></pre>\n\n<p><strong>Update:</strong> Unfortunately, <code>slice.indices</code> itself won't accept a <code>len</code> for the sequence beyond what a <code>long</code> can hold, so this doesn't gain you anything over using <code>xrange</code> in Py2. Left in place for those interested, but the workaround doesn't workaround anything unless you also <a href=\"https://github.com/python/cpython/blob/2.7/Objects/sliceobject.c#L102\" rel=\"noreferrer\">perform the work <code>slice</code> does to convert negative values and <code>None</code> to concrete values based on the sequence length.</a> Sigh.</p>\n"}, {"comments": [{"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1458768476, "post_id": 36188948, "comment_id": 60013284, "body": "FYI, <a href=\"https://docs.python.org/3/reference/datamodel.html#slice.indices\" rel=\"nofollow noreferrer\"><code>slice.indices</code> is documented, just not in the place you&#39;d expect.</a>. The docstring in the interactive interpreter is also useful."}, {"owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1458768712, "post_id": 36188948, "comment_id": 60013377, "body": "@ShadowRanger Woah, you are right on this one too! I didn&#39;t manage to find that. (I updated my answer with that information if you dont mind)"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1573759415, "post_id": 36188948, "comment_id": 103999273, "body": "Additional note (sorry for necromancy): &quot;the range object is a generator, which fortunately has the <code>__len__</code> function defined&quot; is wrong. It&#39;s not a generator, it&#39;s actually a complete sequence type (it was slightly incomplete before 3.2, but fulfills the <code>Sequence</code> ABC as of 3.2, which was the same time it added support for arbitrarily large values). You can index it, slice it, iterate it forward or backwards multiple times, call <code>.index</code> or <code>.count</code> on it just like a <code>list</code>, etc. It&#39;s low overhead (it doesn&#39;t <i>store</i> any of the numbers, generating them on demand), but it&#39;s not a iterator."}], "tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": false, "score": 5, "last_activity_date": 1458768538, "last_edit_date": 1458768538, "creation_date": 1458768211, "answer_id": 36188948, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python/36188948#36188948", "title": "Retrieve length of slice from slice object in Python", "body": "<p>So it looks like <code>slice.indices(n)</code> returns the arguments to be given to <code>range</code>, to get the item indices which should be reflected in the slice of a sequence of length <code>n</code> (<s>although it's not documented</s> <strong>edit:</strong> as @ShadowRanger pointed out, it is indeed <a href=\"https://docs.python.org/3/reference/datamodel.html#slice.indices\" rel=\"noreferrer\">documented</a>). So the following lines evaluate to the same values:</p>\n\n<pre><code># get some list to work on\nmy_list = list(range(100))\n\n# slice syntax\nprint(my_list[1:15:3])\n# regular item access\nprint(my_list[slice(1,15,3)])\n# reinvent list slicing\nprint([my_list[i] for i in range(*slice(1,15,3).indices(len(my_list)))])\n</code></pre>\n\n<p>As you see, the resulting list's length is the same as the length of <code>range(*slice(1,15,3).indices(len(my_list)))</code>, which depends on the <code>slice</code> object itself, and the length of the sequence to be sliced. That's why <code>len(range(*slice.indices(n)))</code> will give you the right answer in Python 3. (the range object is a generator, which fortunately has the <code>__len__</code> function defined, so it can give you the item count, without the need to enumerate and count them.)</p>\n\n<p>If you work with large numbers in python 2, you can replicate the calculation as @ShadowRanger suggests.</p>\n\n<p>The original implementation of <code>range.__len__</code> is the following:</p>\n\n<pre><code>/* Return number of items in range (lo, hi, step).  step != 0\n * required.  The result always fits in an unsigned long.\n */\nstatic unsigned long\nget_len_of_range(long lo, long hi, long step)\n{\n    /* -------------------------------------------------------------\n    If step &gt; 0 and lo &gt;= hi, or step &lt; 0 and lo &lt;= hi, the range is empty.\n    Else for step &gt; 0, if n values are in the range, the last one is\n    lo + (n-1)*step, which must be &lt;= hi-1.  Rearranging,\n    n &lt;= (hi - lo - 1)/step + 1, so taking the floor of the RHS gives\n    the proper value.  Since lo &lt; hi in this case, hi-lo-1 &gt;= 0, so\n    the RHS is non-negative and so truncation is the same as the\n    floor.  Letting M be the largest positive long, the worst case\n    for the RHS numerator is hi=M, lo=-M-1, and then\n    hi-lo-1 = M-(-M-1)-1 = 2*M.  Therefore unsigned long has enough\n    precision to compute the RHS exactly.  The analysis for step &lt; 0\n    is similar.\n    ---------------------------------------------------------------*/\n    assert(step != 0);\n    if (step &gt; 0 &amp;&amp; lo &lt; hi)\n    return 1UL + (hi - 1UL - lo) / step;\n    else if (step &lt; 0 &amp;&amp; lo &gt; hi)\n    return 1UL + (lo - 1UL - hi) / (0UL - step);\n    else\n    return 0UL;\n}\n</code></pre>\n\n<p>And <code>slice.indices</code>:</p>\n\n<pre><code>int\nPySlice_GetIndices(PySliceObject *r, Py_ssize_t length,\n                   Py_ssize_t *start, Py_ssize_t *stop, Py_ssize_t *step)\n{\n    /* XXX support long ints */\n    if (r-&gt;step == Py_None) {\n        *step = 1;\n    } else {\n        if (!PyInt_Check(r-&gt;step) &amp;&amp; !PyLong_Check(r-&gt;step)) return -1;\n        *step = PyInt_AsSsize_t(r-&gt;step);\n    }\n    if (r-&gt;start == Py_None) {\n        *start = *step &lt; 0 ? length-1 : 0;\n    } else {\n        if (!PyInt_Check(r-&gt;start) &amp;&amp; !PyLong_Check(r-&gt;step)) return -1;\n        *start = PyInt_AsSsize_t(r-&gt;start);\n        if (*start &lt; 0) *start += length;\n    }\n    if (r-&gt;stop == Py_None) {\n        *stop = *step &lt; 0 ? -1 : length;\n    } else {\n        if (!PyInt_Check(r-&gt;stop) &amp;&amp; !PyLong_Check(r-&gt;step)) return -1;\n        *stop = PyInt_AsSsize_t(r-&gt;stop);\n        if (*stop &lt; 0) *stop += length;\n    }\n    if (*stop &gt; length) return -1;\n    if (*start &gt;= length) return -1;\n    if (*step == 0) return -1;\n    return 0;\n}\n</code></pre>\n\n<p>The sources are from <a href=\"https://svn.python.org/projects/python/trunk/Objects/\" rel=\"noreferrer\">svn</a></p>\n"}, {"comments": [{"owner": {"reputation": 2952, "user_id": 5244995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPafo.png?s=128&g=1", "display_name": "Jed Fox", "link": "https://stackoverflow.com/users/5244995/jed-fox"}, "edited": false, "score": 1, "creation_date": 1482333016, "post_id": 41260751, "comment_id": 69732654, "body": "Please use the <a href=\"https://stackoverflow.com/posts/41260751/edit\">edit</a> link explain how this code works and don&#39;t just give the code, as an explanation is more likely to help future readers. See also <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}, {"owner": {"reputation": 2625, "user_id": 43839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/753ef975f85896eabdb64d9aa6ad4cbe?s=128&d=identicon&r=PG", "display_name": "Tom Swirly", "link": "https://stackoverflow.com/users/43839/tom-swirly"}, "edited": false, "score": 7, "creation_date": 1482773208, "post_id": 41260751, "comment_id": 69871288, "body": "This is wrong - <code>stop</code> and <code>start</code> don&#39;t give you the length - it depends on the <code>step</code> <i>and</i> on the length of the item you&#39;re slicing.  And if you want to get <code>stop</code> and <code>start</code> attributes, why use <code>__getattribute__</code>?  Why not just say, <code>slice(2).start</code>?"}], "tags": [], "owner": {"reputation": 139, "user_id": 4149827, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1035022223/picture?type=large", "display_name": "Marius Folden Simonsen", "link": "https://stackoverflow.com/users/4149827/marius-folden-simonsen"}, "is_accepted": false, "score": -4, "last_activity_date": 1482316662, "creation_date": 1482316662, "answer_id": 41260751, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python/41260751#41260751", "title": "Retrieve length of slice from slice object in Python", "body": "<pre><code>&gt;&gt;&gt; slice(0,2).__getattribute__('stop')\n2\n&gt;&gt;&gt; slice(0,2).__getattribute__('start')\n0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4763, "user_id": 7128154, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100004356635440/picture?type=large", "display_name": "Markus Dutschke", "link": "https://stackoverflow.com/users/7128154/markus-dutschke"}, "is_accepted": false, "score": 0, "last_activity_date": 1604932234, "creation_date": 1604932234, "answer_id": 64753557, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python/64753557#64753557", "title": "Retrieve length of slice from slice object in Python", "body": "<h1>a simplified approach with asserts</h1>\n<p>The length depends on the target object, which is sliced.\nBut one can define a <em>maximum length</em>.</p>\n<p><strong>Example</strong></p>\n<p>define your maximum length function like this</p>\n<pre><code>def slice_len_max(s):\n    assert (s.start is not None)\n    assert (s.stop is not None)\n    step = 1\n    if s.step is not None:\n        step = s.step\n    return max((s.stop - s.start) // step, 1)\n</code></pre>\n<p>and check the output</p>\n<pre><code>&gt;&gt;&gt; slice_len_max(slice(0, 10))\n10\n&gt;&gt;&gt; slice_len_max(slice(0, 10, 2))\n5\n&gt;&gt;&gt; slice_len_max(slice(0, 10, 3))\n3\n&gt;&gt;&gt; slice_len_max(slice(0, 10, 10))\n1\n&gt;&gt;&gt; slice_len_max(slice(0, 10, 100))\n1\n&gt;&gt;&gt; slice_len_max(slice(3))\nTraceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\n  File &quot;&lt;stdin&gt;&quot;, line 2, in slice_len_max\nAssertionError\n</code></pre>\n<p>The last call crashes, as the slice has no <code>start</code> attribute defined.</p>\n"}, {"tags": [], "owner": {"reputation": 83, "user_id": 13196190, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-xEJJeUCM1TQ/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJOebLD_FL92ikpzo2VFmP2jXk16SQ/photo.jpg?sz=128", "display_name": "Jonathan Levin", "link": "https://stackoverflow.com/users/13196190/jonathan-levin"}, "is_accepted": false, "score": 0, "last_activity_date": 1609331031, "last_edit_date": 1609331031, "creation_date": 1609288137, "answer_id": 65500526, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python/65500526#65500526", "title": "Retrieve length of slice from slice object in Python", "body": "<h1>If the sequence's <em>length</em> is known</h1>\n<p>ShadowRanger's answer covered the generic solution, but if (like me) you <strong>do</strong> know the length of the sequence - here's a simple approach that should handle it like <code>range</code> would (including most edge cases), and without iteration over potentially long sequences.</p>\n<p>This is similar to what Markus wrote but handles more edge cases.</p>\n<pre><code>from math import ceil\n\ndef max_slice_len(s: slice):\nassert s.stop or s.stop == 0, &quot;Must define stop for max slice len!&quot;\nassert s.step != 0, &quot;Step slice cannot be zero&quot;\n\nstart = s.start or 0\nstop = s.stop\nstep = s.step or 1\n\ndelta = (stop - start)\ndsteps = int(ceil(delta / step))\n\nreturn dsteps if dsteps &gt;= 0 else 0\n\n\ndef slice_len(s: slice, src_len: int):\n    stop = min(s.stop, src_len)\n    return max_slice_len(slice(s.start, stop, s.step))\n</code></pre>\n<p><strong>Explanation:</strong>\nAssuming we can get the &quot;max length&quot; of a slice without some <code>src_len</code>,\nwe can then build on that by taking the <code>src_len</code> (the length of the list or whatever you want to iterate over) as the <code>stop</code> of the slice if it's smaller than the current <code>stop</code>.</p>\n<p>But that still leaves the problem of finding the &quot;max length&quot;.</p>\n<hr />\n<h1>Getting the max length of a slice</h1>\n<p>The slice construct in python creates a sort of <a href=\"https://www.chilimath.com/lessons/intermediate-algebra/arithmetic-sequence-definition-and-basic-examples/\" rel=\"nofollow noreferrer\">Arithmetic Set</a>. <br />\nwhere <code>a0</code> == <code>start</code>, <code>d</code> == <code>step</code>, <code>n</code> == <code>len</code></p>\n<p>a formula tells us: <code>a_n = a0+ (n-1)d</code> <br />\n[<code>a_n</code> is the nth element of the sequence] <br />\nif we treat <code>stop</code> as <code>a_n</code>then: <code>stop = start + (len - 1) * step</code>. <br />\nrearranging we get: <code>len = [(stop-start)/step] + 1</code>.</p>\n<p>This nicely takes care of reverse iteration for us just as easily(ie. [10:0:-1]),</p>\n<p>But it will usually return a float, as stop might not be a full number of &quot;steps&quot; beyond start. (i.e for [0:10:3], (10-0) / 3 gives us 3.3333...). <br />\nusing <code>ceil</code> fixes that.</p>\n<p>The only issue remaining is negative results ([10:0:1] will give us (0-10)/1 = -10), but the actual &quot;length&quot; should be zero. <br />\nThe solution is to cut off negative results by returning <code>dsteps if dsteps &gt;= 0 else 0</code></p>\n<hr />\n<h1>Tests</h1>\n<pre><code>import unittest\n# import max_slice_len, slice_len\n\nclass TestSliceUtil(unittest.TestCase):\n    def test_max_len_suite(self):\n        simple_test_cases = [\n            (slice(0, 10, 1), 10),\n            (slice(0, 10, 2), 5),\n            (slice(0, 10, 3), 4),\n            (slice(0, 10, 10), 1),\n            (slice(0, 10, 100), 1),\n            (slice(-1, 10, 5), 3),\n            (slice(-10, -1, 3), 3),\n            (slice(15, 10, 1), 0),\n            (slice(0, 10, -1), 0),\n            (slice(0, 10, -3), 0),\n            (slice(15, 10, -1), 5),\n            (slice(10, 0, -1), 10),\n\n            # none replacement (without len)\n            (slice(None, 10, 1), 10),\n            (slice(0, 10, None), 10),\n        ]\n\n        def test_len(s: slice, expected_len: int):\n            iter_len = s.stop + 1  # simulate some iterable that is longer than the max_len\n\n            enumerated_idxs = list(range(s.start or 0, s.stop, s.step or 1))\n            enumerated_len = len(enumerated_idxs)\n\n            result = slice_len(s, iter_len)\n            self.assertEqual(result, expected_len, &quot;Not same as expected!&quot;)\n            self.assertEqual(result, enumerated_len, &quot;Not same as enumerated!&quot;)\n\n        def test_max_len(s: slice, expected_len: int):\n            result = max_slice_len(s)\n            self.assertEqual(result, expected_len,\n                             &quot;Max len was not equal! slice: {}. expected: {}. Actual: {}&quot;.format(s, expected_len,\n                                                                                                 result))\n        for case in simple_test_cases:\n            s, expected = case\n            with self.subTest(&quot;max_len {} -&gt; {}&quot;.format(s, expected)):\n                test_max_len(s, expected)\n            with self.subTest(&quot;len vs enumerated {} -&gt; {}&quot;.format(s, expected)):\n                test_len(s, expected)\n</code></pre>\n"}], "owner": {"reputation": 867, "user_id": 5748462, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/167aabbd86f43a0cab6dbc7060e75709?s=128&d=identicon&r=PG&f=1", "display_name": "latorrefabian", "link": "https://stackoverflow.com/users/5748462/latorrefabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9184, "favorite_count": 2, "accepted_answer_id": 36188683, "answer_count": 5, "score": 16, "last_activity_date": 1609331031, "creation_date": 1458766201, "question_id": 36188429, "link": "https://stackoverflow.com/questions/36188429/retrieve-length-of-slice-from-slice-object-in-python", "title": "Retrieve length of slice from slice object in Python", "body": "<p>The title explains itself, how to get 2 out of the object</p>\n\n<pre><code>slice(0,2)\n</code></pre>\n\n<p>The documentation is somewhat confusing, or it is the wrong one</p>\n\n<p><a href=\"https://docs.python.org/2/c-api/slice.html\" rel=\"noreferrer\">https://docs.python.org/2/c-api/slice.html</a></p>\n\n<p>In particular I don't understand what is the meaning of the output of</p>\n\n<pre><code>slice(0,2).indices(0)  # (0, 0, 1)\nslice(0,2).indices(10 ** 10)  # (0, 2, 1)\n</code></pre>\n\n<p>One possible workaround is to slice a list with the slice object</p>\n\n<pre><code>a = [1,2,3,4,5]\nlen(a[slice(0,2)])  # 2\n</code></pre>\n\n<p>But this will fail for an arbitrary large slice.</p>\n\n<p>Thanks, I couldn't find an answer In other posts. </p>\n"}, {"tags": ["python", "arrays", "list", "dictionary"], "comments": [{"owner": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 0, "creation_date": 1458766528, "post_id": 36188383, "comment_id": 60012316, "body": "Can you read the section in bold again, this is not clear as you are stating that you want all propB2 that its propB1 match with probA1 (notice prop and prob) and then given what you say earlier why would valueB2 and valueB1 be releated?"}, {"owner": {"reputation": 1961, "user_id": 2275672, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Kn6X7.jpg?s=128&g=1", "display_name": "Alfredo Gimenez", "link": "https://stackoverflow.com/users/2275672/alfredo-gimenez"}, "edited": false, "score": 0, "creation_date": 1458766681, "post_id": 36188383, "comment_id": 60012402, "body": "You could basically implement &quot;join&quot;. Create a new dict A&#39; that maps <code>valueA1</code> to an element <code>{propA1: valueA1}</code>, and a new dict B&#39; that maps <code>valueB1</code> to an element <code>{propB1: valueB1, propB2: valueB2}</code> and then use <code>itertools.groupBy</code> on the results"}, {"owner": {"reputation": 3709, "user_id": 1454510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cbfb9a1993333960f683cf038eaf6e4f?s=128&d=identicon&r=PG", "display_name": "return 0", "link": "https://stackoverflow.com/users/1454510/return-0"}, "reply_to_user": {"reputation": 4676, "user_id": 30105, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a1dc4bddf38de8351ae70e98845242e9?s=128&d=identicon&r=PG", "display_name": "PyNEwbie", "link": "https://stackoverflow.com/users/30105/pynewbie"}, "edited": false, "score": 0, "creation_date": 1458767029, "post_id": 36188383, "comment_id": 60012564, "body": "@PyNEwbie I updated my question."}, {"owner": {"reputation": 3709, "user_id": 1454510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cbfb9a1993333960f683cf038eaf6e4f?s=128&d=identicon&r=PG", "display_name": "return 0", "link": "https://stackoverflow.com/users/1454510/return-0"}, "reply_to_user": {"reputation": 1961, "user_id": 2275672, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Kn6X7.jpg?s=128&g=1", "display_name": "Alfredo Gimenez", "link": "https://stackoverflow.com/users/2275672/alfredo-gimenez"}, "edited": false, "score": 0, "creation_date": 1458767091, "post_id": 36188383, "comment_id": 60012592, "body": "@spiffman Can you elaborate this a bit more? What do you mean by &quot;new dict A&#39; that maps valueA1 to an element {propA1: valueA1}&quot;?"}, {"owner": {"reputation": 1961, "user_id": 2275672, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Kn6X7.jpg?s=128&g=1", "display_name": "Alfredo Gimenez", "link": "https://stackoverflow.com/users/2275672/alfredo-gimenez"}, "edited": false, "score": 0, "creation_date": 1458769384, "post_id": 36188383, "comment_id": 60013648, "body": "@return0 I can make a more detailed post later, but I mean a dict that looks like <code>{valueA1: {propA1: valueA1}, valueA2: {propA1: valueA2}, ... }</code> and another that looks like <code>{valueB1: {propB1: valueB1, propB2: valueB2}, valueB2: {propB1: valueB3, propB2: value4}, ... }</code>. Essentially, you&#39;re keying by the value that you want to group by."}, {"owner": {"reputation": 1961, "user_id": 2275672, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Kn6X7.jpg?s=128&g=1", "display_name": "Alfredo Gimenez", "link": "https://stackoverflow.com/users/2275672/alfredo-gimenez"}, "edited": false, "score": 0, "creation_date": 1458788230, "post_id": 36188383, "comment_id": 60019536, "body": "@return0 I ended up doing a slightly different way that is IMO a bit simpler than using groupby, see answer posted."}], "answers": [{"tags": [], "owner": {"reputation": 1961, "user_id": 2275672, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Kn6X7.jpg?s=128&g=1", "display_name": "Alfredo Gimenez", "link": "https://stackoverflow.com/users/2275672/alfredo-gimenez"}, "is_accepted": false, "score": 0, "last_activity_date": 1458788991, "last_edit_date": 1458788991, "creation_date": 1458788130, "answer_id": 36192495, "question_id": 36188383, "link": "https://stackoverflow.com/questions/36188383/matching-a-list-of-dictionaries-a-to-list-c-with-list-b-having-common-properties/36192495#36192495", "title": "Matching a list of dictionaries A to list C with list B having common properties of A and C in Python?", "body": "<p>If I understand correctly, you are trying to do a essentially do a JOIN on A and B where columns A['propA1'] == B['propB1'].</p>\n\n<p>Here's one way using defaultdict that's O(len(A)+len(B)):</p>\n\n<pre><code>from collections import defaultdict\n\nA = [{'pA1': 'vA1'}, {'pA1': 'vA2'}]\nB = [{'pB1': 'vA1', 'pB2': 'vB2'}, {'pB1': 'vB3', 'pB2': 'v4'}]\n\n# Key by the value you want to group on\nkA = [(x['pA1'],x) for x in A]\nkB = [(x['pB1'],x) for x in B]\n\n# Combine the lists\nkAB = kA+kB\n\n# Map each unique key to a list of elements that have that key\nresults = defaultdict(list)\nfor x in kAB:\n    results[x[0]].append(x[1])\n\nfor x in results:\n    print results[x]\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>[{'pA1': 'vA2'}]\n[{'pB1': 'vB3', 'pB2': 'v4'}]\n[{'pA1': 'vA1'}, {'pB1': 'vA1', 'pB2': 'vB2'}]\n</code></pre>\n\n<p>At this point you could merge each list of dicts into a single dict or whatever you need, and use the result to JOIN with the third list C. </p>\n"}], "owner": {"reputation": 3709, "user_id": 1454510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/cbfb9a1993333960f683cf038eaf6e4f?s=128&d=identicon&r=PG", "display_name": "return 0", "link": "https://stackoverflow.com/users/1454510/return-0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1458788991, "creation_date": 1458766012, "last_edit_date": 1458768128, "question_id": 36188383, "link": "https://stackoverflow.com/questions/36188383/matching-a-list-of-dictionaries-a-to-list-c-with-list-b-having-common-properties", "title": "Matching a list of dictionaries A to list C with list B having common properties of A and C in Python?", "body": "<p>I have three lists of dictionaries, A, B and C. They look like:</p>\n\n<pre><code>A = [{propA1: valueA1}, {propA1: valueA2}, ...]\nB = [{propB1: valueB1, propB2: valueB2}, {propB1: valueB3, propB2: value4}, ...]\nC = [{propC1: valueC1}, {propC1: valueC2}, ...]\n</code></pre>\n\n<p><code>propA1</code> and <code>propB1</code> are same properties but different name, <code>propB2</code> and <code>propC1</code> are same properties as well.\nHowever, <code>propA1</code> and <code>propB1</code> do not always have same values, but I am only interested in the \"set intersect\" of array <code>[valueA1, valueA2, ...]</code> and <code>[valueB1, valueB2, ...]</code>, here is the goal: <strong>I want to return all <code>propB2</code> from <code>B</code> such that their <code>propB1</code> counterpart (in the same dictionary) match with <code>propA1</code> in A. Then I will use that <code>propB2</code> set to match with <code>propC1</code> in <code>C</code>.</strong></p>\n\n<p>What I have tried:</p>\n\n<pre><code>propB2_match = set()\nfor elementB in B:\n    for elementA in A:\n        if elementB['propB1'] == elementA['propA1']:\n            propB2_match(elementB['propB2'])            \n            break\n</code></pre>\n\n<p>At the end of this loop, I have <code>propB2_match</code> containing all of <code>propB2</code> that I can use to match with <code>propC1</code>.\nHowever, as you can see from the loop, this is an expensive <code>O(n^2)</code> loop. I am wondering if there is a way to handle this with <code>O(n)</code>? If not, is there any pythonic optimization can be done on it?</p>\n\n<p>Note: I do not want to put it in a database and use relational database SQL to handle the join operation.</p>\n"}, {"tags": ["python", "odeint"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1458766007, "post_id": 36188268, "comment_id": 60011999, "body": "Please post the actual error message including the traceback."}, {"owner": {"reputation": 2250, "user_id": 3301980, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6QKfJ.jpg?s=128&g=1", "display_name": "Pax Vobiscum", "link": "https://stackoverflow.com/users/3301980/pax-vobiscum"}, "edited": false, "score": 0, "creation_date": 1458766780, "post_id": 36188268, "comment_id": 60012450, "body": "Can&#39;t see that you are actually calling a Jacobian anywhere in this code. What do you want to achieve?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1458839790, "post_id": 36188268, "comment_id": 60045525, "body": "My <i>guess</i> is that the problem is that you&#39;re calling <code>f(x)</code> in your calls to <code>plt()</code> and <code>steepestDescent()</code> rather than passing the function <code>f</code> as a parameter to these methods."}], "owner": {"reputation": 1, "user_id": 6106451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vWNx2vlMJNw/AAAAAAAAAAI/AAAAAAAAAFU/Xl2Is2H7OW4/photo.jpg?sz=128", "display_name": "Geoffrey Juma", "link": "https://stackoverflow.com/users/6106451/geoffrey-juma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1217, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458765775, "creation_date": 1458765548, "last_edit_date": 1458765775, "question_id": 36188268, "link": "https://stackoverflow.com/questions/36188268/odepack-error-the-function-and-its-jacobian-must-be-callable-functions", "title": "odepack.error: The function and its Jacobian must be callable functions", "body": "<p>odepack.error: The function and its Jacobian must be callable functions. How so i solve this?</p>\n\n<pre><code>#!/usr/bin/env python\nfrom sympy import *\nfrom scipy.integrate import odeint\nfrom matplotlib import pyplot as plt \nfrom scipy import optimize as opt \nimport numpy as np \n\nx = Symbol('x')\n\ndef f(x):\n    y =  100*(1-x**2)**2+(1-x)**2\n    return y\n\ndef steepestDescent(f,x0,x):\n    #y = np.zeros(100)\n    for i in range(100):\n        y = odeint(f,x0,x)\n        x0 = x0-0.1*y;\n    return x0\n\nif __name__ == '__main__':\n    x = np.linspace(-8,8,100)\n    plt.plot(x,f(x),x,steepestDescent(f(x),2,x))\n    plt.show()\n</code></pre>\n"}, {"tags": ["python", "multithreading", "pyqt4", "signals-slots"], "answers": [{"comments": [{"owner": {"reputation": 621, "user_id": 4114926, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eoDKD.png?s=128&g=1", "display_name": "Josh Usre", "link": "https://stackoverflow.com/users/4114926/josh-usre"}, "edited": false, "score": 0, "creation_date": 1458770010, "post_id": 36188888, "comment_id": 60013950, "body": "I owe you a $adult_drink.  Thanks."}], "tags": [], "owner": {"reputation": 97291, "user_id": 984421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/l9J30.png?s=128&g=1", "display_name": "ekhumoro", "link": "https://stackoverflow.com/users/984421/ekhumoro"}, "is_accepted": true, "score": 1, "last_activity_date": 1458767997, "creation_date": 1458767997, "answer_id": 36188888, "question_id": 36188246, "link": "https://stackoverflow.com/questions/36188246/send-signals-from-multiple-worker-threads-to-the-gui-thread/36188888#36188888", "title": "Send signals from multiple worker threads to the GUI thread", "body": "<p>You should define and emit the signal like this:</p>\n\n<pre><code>class Tester(QtCore.QThread):\n    updateText = QtCore.pyqtSignal(str)\n    ...    \n    def run(self):\n        self.updateText.emit(\"color={} status={}\".format(self.color, self.status))\n</code></pre>\n\n<p>Then you can connect to the signals like this:</p>\n\n<pre><code>class TestSuiteGUI(QtGui.QMainWindow):\n    def __init__(self, parent=None):\n        ...\n        # keep a reference to the threads\n        self._threads = []\n        for num, com_port_chunk in zip(range(1,25), self.com_ports_list):\n            tester_thread = Tester(com_port_chunk, num)\n            # get a reference to the associated textbox somehow...\n            textbox = get_the_textbox()\n            tester_thread.updateText.connect(textbox.setText)\n            tester_thread.start()\n            self._threads.append(tester_thread)\n</code></pre>\n\n<p>Obviously, this is a little sketchy, because it's impossible to actually test your example.</p>\n"}], "owner": {"reputation": 621, "user_id": 4114926, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/eoDKD.png?s=128&g=1", "display_name": "Josh Usre", "link": "https://stackoverflow.com/users/4114926/josh-usre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 572, "favorite_count": 0, "accepted_answer_id": 36188888, "answer_count": 1, "score": 1, "last_activity_date": 1458769765, "creation_date": 1458765471, "last_edit_date": 1458769765, "question_id": 36188246, "link": "https://stackoverflow.com/questions/36188246/send-signals-from-multiple-worker-threads-to-the-gui-thread", "title": "Send signals from multiple worker threads to the GUI thread", "body": "<p>I have a gui with 24 text boxes, and I'd like to create a thread for each one and update the text box with information from it's respective thread. </p>\n\n<p>Where I'm stuck is receiving the signal to update the gui from all threads. </p>\n\n<p>Code:</p>\n\n<pre><code>#!/usr/bin/python\n# Standard Lib\nimport logging\nimport os\nimport sys\nimport time\n# Third Party\nfrom PyQt4 import QtGui\nfrom PyQt4 import QtCore\n# Local Kung Fu\nfrom bin import serial_lib, logger, get_args, utils\nfrom bin.assets.test_suite_gui_form import Ui_MainWindow\n\nclass Tester(QtCore.QThread):\n    def __init__(self):\n        QtCore.QThread.__init__(self)\n        self.color = \"RED\"\n        self.status = \"Disconnected\"\n\n    def __del__(self):\n        self.wait()\n\n    def run(self):\n        self.emit(QtCore.SIGNAL('update(QString)'), \"color={} status={}\".format(self.color, self.status))\n        return\n\nclass TestSuiteGUI(QtGui.QMainWindow):\n\n    def __init__(self, parent=None):\n        QtGui.QWidget.__init__(self, parent)\n        # Init class from template\n        self.ui = Ui_MainWindow()\n        # Get list of com ports to populate app on init\n        self.com_ports_list = serial_lib.get_com_ports()\n        # Build UI\n        self.ui.setupUi(self)\n        # Update Labels with COM Ports, where possible, filtered by drivers\n        self.update_comm_fields(self.com_ports_list)\n        for num, com_port_chunk in zip(range(1,25), self.com_ports_list):\n            tester_thread = Tester(com_port_chunk, num)\n            tester_thread.start()\n\n    def update_comm_fields(self, com_ports_list):\n        for num, port, in zip(range(1, 25), range(0, 24)):\n            label = getattr(self.ui, 'com_{}'.format(num))\n            label.setText(\"COM Port: {}\".format(com_ports_list[port][\"COM\"]))\n\nif __name__ == \"__main__\":\n    # Grab args from CLI if necessary\n    args = get_args.get_args()\n    # Log file\n    log_file = os.path.join(utils.app_path, \"log\", \"log.txt\")\n    # Get Logger\n    logger.get_logger(log_file, verbose=True)\n    # Init App and display\n    app = QtGui.QApplication(sys.argv)\n    test_suite = TestSuiteGUI()\n    test_suite.show()\n    # Close app only when window is closed.\n    sys.exit(app.exec_())\n</code></pre>\n\n<p>Is this the correct approach? I tried using <code>QRunnable</code> and a thread-pool but read somewhere that signals don't work with it. Should I just try python's multithreading library as a last resort, or perhaps an event-based system, since all I need passed is a string and booleans?</p>\n"}, {"tags": ["python", "python-imaging-library"], "comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 3, "creation_date": 1458765535, "post_id": 36188233, "comment_id": 60011782, "body": "<code>print file</code> should help make sure that you&#39;re checking the path you think you&#39;re checking."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1458766038, "post_id": 36188233, "comment_id": 60012013, "body": "what does <code>ls  | grep video*.png</code> output ? Also glob would probably be a better option"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458766309, "post_id": 36188233, "comment_id": 60012174, "body": "@PadraicCunningham: Why is <code>grep</code> involved? <code>ls video*.png</code> would work directly via shell globbing, while <code>grep</code> would be... strange (the glob pattern would be expanded by the shell and passed as positional arguments to <code>grep</code>, or if no files exist, it might pass the raw pattern to <code>grep</code>, which would allow <code>videoooooooxpng</code> but not <code>video0000.png</code> because <code>*</code> and <code>.</code> are regex special characters). I agree the <a href=\"https://docs.python.org/3/library/glob.html\" rel=\"nofollow noreferrer\"><code>glob</code> module</a> would simplify the code significantly."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1458766668, "post_id": 36188233, "comment_id": 60012394, "body": "What is <code>work_dir</code>? If the string already ends with a <code>&#47;</code>, or you&#39;re on Windows, and it omits the drive letter (or it has the drive letter only, with no trailing slash), you&#39;ll be looking somewhere completely different. For safety/correctness, you probably want <code>file = os.path.join(work_dir, &quot;video{:&gt;04}.png&quot;.format(x))</code> (which also avoids extra temporary <code>str</code>s)."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1458768865, "post_id": 36188233, "comment_id": 60013432, "body": "@ShadowRanger, a brain fart,  originally I was going to use a more specific pattern   <code>ls  |  grep -E &#39;video[0-9]{4}\\.png&#39;</code>"}, {"owner": {"reputation": 1430, "user_id": 2016277, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dohBv.jpg?s=128&g=1", "display_name": "Fight Fire With Fire", "link": "https://stackoverflow.com/users/2016277/fight-fire-with-fire"}, "edited": false, "score": 0, "creation_date": 1458770851, "post_id": 36188233, "comment_id": 60014330, "body": "lets say work_dir = &quot;/home/user/files&quot;   Even when i hardcore the file name it still comes up with [Errno 2] No such file or directory when i execute the python script!"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458771521, "post_id": 36188233, "comment_id": 60014630, "body": "@FightFireWithFire, add the output of running ls or the grep -E command above when you are in home/user"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1458771804, "post_id": 36188233, "comment_id": 60014736, "body": "@FightFireWithFire: You can&#39;t hand wave away the value of <code>work_dir</code> here; small issues (an errant <code>&#47;</code>) would be enough to break your code; please add a <code>print work_dir</code> before the <code>is_file</code> test and provide the <i>exact</i> path. If something is sensitive/private, change the text for that specific component, but do not change punctuation or anything else non-alphanumeric at all. It might also be useful to try <code>print repr(work_dir)</code>, in case you&#39;ve got non-printing characters embedded (say, <code>\\r</code> or <code>\\n</code>; plain <code>print</code> won&#39;t show them, but converting to <code>repr</code> will fix that)."}, {"owner": {"reputation": 1430, "user_id": 2016277, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dohBv.jpg?s=128&g=1", "display_name": "Fight Fire With Fire", "link": "https://stackoverflow.com/users/2016277/fight-fire-with-fire"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1458924230, "post_id": 36188233, "comment_id": 60079364, "body": "@ShadowRanger that is a great idea, I tried it with repr, I&#39;ve also tried it executing the script with sudo to see if it was a permissions problem but to no avail. The script simply refuses to see this file that exists or not. I&#39;ll add some more code and maybe that will reveal the issue"}], "owner": {"reputation": 1430, "user_id": 2016277, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dohBv.jpg?s=128&g=1", "display_name": "Fight Fire With Fire", "link": "https://stackoverflow.com/users/2016277/fight-fire-with-fire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458766141, "creation_date": 1458765423, "last_edit_date": 1458766141, "question_id": 36188233, "link": "https://stackoverflow.com/questions/36188233/pythons-isfile-doesnt-find-a-file-that-does-exist-from-shell", "title": "Python&#39;s isfile() doesn&#39;t find a file that does exist from shell", "body": "<p>I have a block of code that tries to open an image file, but the Image.open fails - I added a isfile() check and it still fails to find the file when the python script is run.</p>\n\n<p>However, the file does exist with ls from shell, or using the same path/file from the script in a python interpreter directly from shell.</p>\n\n<pre><code>from PIL import Image\nimport os\n\nfor x in range(0,10):\n\n    file = work_dir + \"/video\" + str(x).zfill(4) + \".png\"\n    if os.path.isfile(file):\n            print \"file exists\"\n    else:\n            print \"file doesn't exit\"\n\n    print \"opening file:\" + file\n    im = Image.open(file)\n    im = im.resize((720,480))\n    im = im.convert(\"RGBA\")\n    im.save(file)\n</code></pre>\n\n<p>Let's say work_dir = \"/home/user\"   it reports /home/user/video0000.png but isfile() doesn't find it even thought the file exists!  Is there something I am overlooking or a way to debug this?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765877, "post_id": 36188226, "comment_id": 60011941, "body": "How do you know it doesn&#39;t work, have you called it? Also if you want to get it back as a string, use <code>&#39;&#39;.join(alphabet)</code> instead of <code>str(alphabet)</code>"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458766174, "post_id": 36188226, "comment_id": 60012100, "body": "How are you planning on decrypting?"}, {"owner": {"reputation": 123, "user_id": 5919412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed6cb77ff0a13dd3f3f2ab600aae8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5919412/joe"}, "edited": false, "score": 0, "creation_date": 1458766366, "post_id": 36188226, "comment_id": 60012219, "body": "Haven&#39;t gotten to it. That&#39;s what my issue is. I need some direction as to how do I go about this? #NoviceProbs"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458863967, "post_id": 36188226, "comment_id": 60057044, "body": "@Joe did the second approach work for you?"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 5919412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed6cb77ff0a13dd3f3f2ab600aae8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5919412/joe"}, "edited": false, "score": 0, "creation_date": 1458766323, "post_id": 36188369, "comment_id": 60012185, "body": "Just added a sample output above. I&#39;d appreciate some help with the other funcitons as well. Thank you!"}, {"owner": {"reputation": 123, "user_id": 5919412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed6cb77ff0a13dd3f3f2ab600aae8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5919412/joe"}, "edited": false, "score": 0, "creation_date": 1458767625, "post_id": 36188369, "comment_id": 60012861, "body": "Is there an alternative to using dict(zip(...)). We&#39;re not allowed to use dictionaries. This is the approach I found mostly online as well. It&#39;s definitely efficient but sadly our professors care about a little more brute-force ."}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "reply_to_user": {"reputation": 123, "user_id": 5919412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed6cb77ff0a13dd3f3f2ab600aae8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5919412/joe"}, "edited": false, "score": 0, "creation_date": 1458768318, "post_id": 36188369, "comment_id": 60013221, "body": "See my second edit for an approach without using <code>dict</code>s"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1458769008, "post_id": 36188369, "comment_id": 60013486, "body": "@Reti43, makes sense, I had just stepped away from my desk, will do as soon as I get back to my pc; feel free to edit in the meantime :)"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "reply_to_user": {"reputation": 7187, "user_id": 2243104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47daacd71b7294e97d5ef36ba029a95c?s=128&d=identicon&r=PG&f=1", "display_name": "Reti43", "link": "https://stackoverflow.com/users/2243104/reti43"}, "edited": false, "score": 0, "creation_date": 1458775855, "post_id": 36188369, "comment_id": 60016231, "body": "@Reti43 edited my answer incorporating your feedback, thanks!"}], "tags": [], "owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "is_accepted": false, "score": 6, "last_activity_date": 1458775725, "last_edit_date": 1458775725, "creation_date": 1458765931, "answer_id": 36188369, "question_id": 36188226, "link": "https://stackoverflow.com/questions/36188226/substitution-cipher-python/36188369#36188369", "title": "Substitution Cipher Python", "body": "<p><strong>Original answer below</strong>:</p>\n\n<p>Please show us some sample input and output for an example. Based on your code, I can come up with the following - <code>random.shuffle</code> shuffles everything in place and returns <code>None</code>, change your makeKey to:</p>\n\n<pre><code>def makeKey(alphabet):\n   alphabet = list(alphabet)\n   random.shuffle(alphabet)\n   return ''.join(alphabet)\n</code></pre>\n\n<p><strong>EDIT 2</strong>:</p>\n\n<p>For an approach without using <code>dict</code>s in encryption/decryption, see below:</p>\n\n<pre><code>import random\n\nalphabet = 'abcdefghijklmnopqrstuvwxyz.,! ' # Note the space at the end, which I kept missing.\n# You could generate the key below using makeKey (i.e. key=makeKey(alphabet))\nkey = 'nu.t!iyvxqfl,bcjrodhkaew spzgm'\nplaintext = \"Hey, this is really fun!\"\n# v! zmhvxdmxdmo!nll mikbg\n\n\ndef makeKey(alphabet):\n   alphabet = list(alphabet)\n   random.shuffle(alphabet)\n   return ''.join(alphabet)\n\ndef encrypt(plaintext, key, alphabet):\n    keyIndices = [alphabet.index(k.lower()) for k in plaintext]\n    return ''.join(key[keyIndex] for keyIndex in keyIndices)\n\ndef decrypt(cipher, key, alphabet):\n    keyIndices = [key.index(k) for k in cipher]\n    return ''.join(alphabet[keyIndex] for keyIndex in keyIndices)\n\ncipher = encrypt(plaintext, key, alphabet)\n\nprint(plaintext)\nprint(cipher)\nprint(decrypt(cipher, key, alphabet))\n</code></pre>\n\n<p><em>Prints</em>:</p>\n\n<pre><code>Hey, this is really fun!\nv! zmhvxdmxdmo!nll mikbg\nhey, this is really fun!\n</code></pre>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>After some spacing issues and experimentation, I came up with this rather simple solution:</p>\n\n<pre><code>import random\n\nalphabet = 'abcdefghijklmnopqrstuvwxyz.,! '\nkey = 'nu.t!iyvxqfl,bcjrodhkaew spzgm'\nplaintext = \"Hey, this is really fun!\"\n\n\ndef makeKey(alphabet):\n   alphabet = list(alphabet)\n   random.shuffle(alphabet)\n   return ''.join(alphabet)\n\ndef encrypt(plaintext, key, alphabet):\n    keyMap = dict(zip(alphabet, key))\n    return ''.join(keyMap.get(c.lower(), c) for c in plaintext)\n\ndef decrypt(cipher, key, alphabet):\n    keyMap = dict(zip(key, alphabet))\n    return ''.join(keyMap.get(c.lower(), c) for c in cipher)\n\ncipher = encrypt(plaintext, key, alphabet)\n\nprint(plaintext)\nprint(cipher)\nprint(decrypt(cipher, key, alphabet))\n</code></pre>\n\n<p><em>This prints</em>:</p>\n\n<pre><code>Hey, this is really fun!\nv! zmhvxdmxdmo!nll mikbg\nhey, this is really fun!\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 5919412, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ed6cb77ff0a13dd3f3f2ab600aae8c08?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/5919412/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19484, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1463213215, "creation_date": 1458765403, "last_edit_date": 1463213215, "question_id": 36188226, "link": "https://stackoverflow.com/questions/36188226/substitution-cipher-python", "title": "Substitution Cipher Python", "body": "<p>I have to make a Substitution Cipher Program, where I first create a randomized secret-key and then use this key to decrypt/ encrypt some user input (plaintext). The constraints for the problem as follows: </p>\n\n<ol>\n<li><p>encryptMsg(plaintext,key,alphabet)\nTakes a plaintext string, an alphabet string and a secret key string as arguments and returns an\nencrypted cipher string. Note, within this function, you must first convert the plaintext string to all\nlower case and remove any punctuation/characters that do not appear in the alphabet string!</p></li>\n<li><p>decryptMsg(ciphertext,key,alphabet)\nWill take a ciphertext string, an alphabet string and a secret key string and return the plaintext\nstring.</p></li>\n<li><p>makeKey(alphabet)\nGenerate and return a secret-key string by randomly shuffling the characters in the alphabet string\nargument. Hint: this involves turning the string into a list, using the random.shuffle()\nmethod, then turning the list back into a string </p></li>\n</ol>\n\n<p>Here's what I have: </p>\n\n<pre><code>import random\nalphabet = \"'abcdefghijklmnopqrstuvwxyz.,!'\"\n\ndef makeKey(alphabet):\n   alphabet= list(alphabet)\n   key= random.shuffle(alphabet)\n   alphabet= str(alphabet)\n   return key\n\n\ndef encrypt(plaintext, key, alphabet):\n    \"\"\"Encrypt the string and return the ciphertext\"\"\"\n    return ''.join(key[l] for l in plaintext)\nprint (alphabet)\n</code></pre>\n\n<p>I know I'm doing something wrong with the makeKey function because it doesn't work. I need some help on how to start the other functions. We cannot use dictionaries, only list methods. Any help or just advice on jumpstarting me in my assignment will be highly appreciated. Thanks guys!</p>\n\n<p>UPDATE: A sample output is as follows:</p>\n\n<p>Alphabet: 'abcdefghijklmnopqrstuvwxyz.,! '</p>\n\n<p>Key: 'nu.t!iyvxqfl,bcjrodhkaew spzgm'</p>\n\n<p>Input plaintext: Hey, this is really fun!</p>\n\n<p>Cipher text: 'v! zmhvxdmxdmo!nll mikbg'</p>\n\n<p>Decrypted text: 'hey, this is really fun!' </p>\n"}, {"tags": ["python", "python-2.7", "pandas"], "comments": [{"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1458767960, "post_id": 36188208, "comment_id": 60013042, "body": "In your code you could have avoided the lambda function and used <code>df1[&#39;registrant_name&#39;].str.split()</code> instead."}], "answers": [{"comments": [{"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1458767912, "post_id": 36188577, "comment_id": 60013016, "body": "Note that I went a long way to avoid stripping the names twice, as in <code>x.split() if len(x.split()) &gt; 1 else [x, &#39;&#39;]</code>."}], "tags": [], "owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "is_accepted": false, "score": 1, "last_activity_date": 1458767840, "last_edit_date": 1458767840, "creation_date": 1458766762, "answer_id": 36188577, "question_id": 36188208, "link": "https://stackoverflow.com/questions/36188208/valueerror-need-more-than-1-value-to-unpack-how-can-i-make-my-code-more-robust/36188577#36188577", "title": "ValueError: need more than 1 value to unpack, how can I make my code more robust?", "body": "<p>What you are looking for is a way to return <code>['John', 'Doe']</code> from <code>'John Doe'</code>, and <code>['John', '']</code> from <code>'John'</code>. This way you will always have two values to unpack.</p>\n\n<p>There are certainly different solutions, but I can suggest one which avoids a loop:</p>\n\n<pre><code>x.split(' ', 1) if ' ' in x else [x, '']\n</code></pre>\n\n<p>Plugging this into your <code>lambda</code> function should avoid the error you have encountered. Note that it is important to strip white spaces first, as they would make the test invalid:</p>\n\n<pre><code>df1['registrant_name'].str.strip().apply(lambda x: x.split(' ', 1) if ' ' in x else [x, ''])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 1, "creation_date": 1458768061, "post_id": 36188839, "comment_id": 60013096, "body": "Nice, I had forgotten about <code>partition</code>."}, {"owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 0, "creation_date": 1458770143, "post_id": 36188839, "comment_id": 60014024, "body": "Hmm. is Operator a default library within Python? Or is it something I&#39;d need to install cause it throws a bunch of errors trying to run that code."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1458770247, "post_id": 36188839, "comment_id": 60014081, "body": "What errors do you get? <code>operator.itemgetter</code> is a builtin method"}, {"owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 0, "creation_date": 1458770257, "post_id": 36188839, "comment_id": 60014089, "body": "Oh, nevermind, I see the problem. You used &#39;name&#39; in the df, just had to change that to the actual column name of &#39;contact_name&#39; :)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 0, "creation_date": 1458770287, "post_id": 36188839, "comment_id": 60014105, "body": "@Mxracer888, yep, I was too lazy to type all those letters ;)"}, {"owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "edited": false, "score": 1, "creation_date": 1458770375, "post_id": 36188839, "comment_id": 60014138, "body": "haha fair enough! It&#39;s a good excersice for me to learn how to read through the messages and try to figure at least something out on my own ;) This seems to work beautifully!"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 2, "last_activity_date": 1458769378, "last_edit_date": 1458769378, "creation_date": 1458767786, "answer_id": 36188839, "question_id": 36188208, "link": "https://stackoverflow.com/questions/36188208/valueerror-need-more-than-1-value-to-unpack-how-can-i-make-my-code-more-robust/36188839#36188839", "title": "ValueError: need more than 1 value to unpack, how can I make my code more robust?", "body": "<p>Maybe use <em>itemgetter</em> with <em>str.partition</em>:</p>\n\n<pre><code>import pandas as pd\n\n\ndf = pd.DataFrame([\"foo bar\" , \"foo\", \"bar barf\"],columns=[\"name\"])\nfrom operator import itemgetter\n\n\ndf['first_name'], df['last_name'] = zip(*df['name'].apply(lambda x: itemgetter(0,2)(x.partition(' '))))\n</code></pre>\n\n<p>That would give you an empty string for missing last names so I am not sure if that is desirable or not.</p>\n\n<pre><code>        name first_name last_name\n0   foo bar        foo       bar\n1       foo        foo          \n2  bar barf        bar      barf\n</code></pre>\n\n<p>Not sure if this will be faster or not but it avoids the lambda:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.DataFrame([\"foo bar\" , \"foo\", \"bar barf\"],columns=[\"name\"])\nfrom operator import itemgetter\n\n\ndf['first_name'], df['last_name'] = zip(*map(itemgetter(0, 2), df['name'].str.partition(\" \").values))\nprint(df)\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 5428633, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh4.googleusercontent.com/-HoB-YwLKiz0/AAAAAAAAAAI/AAAAAAAAGC4/bfiV7lGMROA/photo.jpg?sz=128", "display_name": "Mxracer888", "link": "https://stackoverflow.com/users/5428633/mxracer888"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 36188839, "answer_count": 2, "score": 2, "last_activity_date": 1458769378, "creation_date": 1458765361, "question_id": 36188208, "link": "https://stackoverflow.com/questions/36188208/valueerror-need-more-than-1-value-to-unpack-how-can-i-make-my-code-more-robust", "title": "ValueError: need more than 1 value to unpack, how can I make my code more robust?", "body": "<p>I've had this script running just fine for the past 2 or 3 months, and then for what reason I do not know it just decided it would break on me. I haven't updated Python or any libraries that I am using in this script, but whatever, now I need help fixing it.</p>\n\n<p>To start the dataframe is as follows </p>\n\n<pre><code>Company, Registered date, Contact name, Contact email, Contact phone\n</code></pre>\n\n<p>I clean up those columns by converting all to lower case and replacing spaces with '_' </p>\n\n<p>The next step is to split the \"contact_name\" column which starts out as \"(first) (last)\" i.e \"John Doe\" and I want to add 2 columns for first and last. New DF as follows,</p>\n\n<pre><code>company, registered_date, contact_name, first_name, last_name, contact_email, contact_phone\n</code></pre>\n\n<p>The program is breaking in the splitting of the contact name and/or creation of the new columns. The line of code I have been using to do this is:</p>\n\n<pre><code>df1['first_name'], df1['last_name'] = zip(*df1['registrant_name'].apply(lambda x: x.split(' ', 1)))\n</code></pre>\n\n<p>The traceback says:</p>\n\n<pre><code>File \"(name).py\", line 123\ndf1['first_name'], df1['last_name'] = zip(*df1['registrant_name'].apply(lambda x: x.split(' ', 1)))\nValueError: need more than 1 value to unpack\n</code></pre>\n\n<p>As I looked through some stuff I found someone with this same issue in using line.split (not inside of Pandas, just python in general) and someone said it's probably because both values aren't there. Sure enough, it seems this is the first time in the 3 months that I somehow ended up with just one value in the \"contact_name\" column so instead of being \"John Doe\" it's just \"John\" (luckily this was literally the first entry in this CSV otherwise I woulda been stumped for a while trying to look through every single row). </p>\n\n<p>So my question is, how do I make my code more robust so that if this issue arises again we can solve it. I'm thinking what I'd like to do is if there is no space it will just take the current value as \"first_name\" and then add \"NaN\" as the last name. I just don't know how to do it within a DF since looping is not ideal. </p>\n\n<p>Thanks for the help!</p>\n"}, {"tags": ["python", "pandas", "plotly"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 6106412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c411ab839192ea90fb6e5dc21b920cf?s=128&d=identicon&r=PG&f=1", "display_name": "fishball", "link": "https://stackoverflow.com/users/6106412/fishball"}, "edited": false, "score": 0, "creation_date": 1458825888, "post_id": 36197874, "comment_id": 60035889, "body": "I was hoping to plot the annotations on a plotly map instead of a regular grid. Edited my question and added image to try and make it clearer."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 61, "user_id": 6106412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c411ab839192ea90fb6e5dc21b920cf?s=128&d=identicon&r=PG&f=1", "display_name": "fishball", "link": "https://stackoverflow.com/users/6106412/fishball"}, "edited": false, "score": 0, "creation_date": 1458826258, "post_id": 36197874, "comment_id": 60036132, "body": "@fishball, sorry i didn&#39;t notice that. Maybe you can provide some sample data set so those willing to help could give it a try (test it)?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1459194824, "last_edit_date": 1459194824, "creation_date": 1458814957, "answer_id": 36197874, "question_id": 36188179, "link": "https://stackoverflow.com/questions/36188179/adding-annotations-to-plotly-scatter-map/36197874#36197874", "title": "Adding annotations to Plotly Scatter Map", "body": "<p>You can try something similar to <a href=\"https://plot.ly/python/text-and-annotations/#text-font-as-an-array---styling-each-text-element\" rel=\"nofollow noreferrer\">that</a>:</p>\n\n<pre><code>import plotly.plotly as py\nimport plotly.graph_objs as go\n\nfig = go.Figure(\n    data=[\n        go.Scattergeo(\n            lat=[45.5,43.4,49.13,51.1,53.34,45.24,44.64,48.25,49.89,50.45],\n            lon=[-73.57,-79.24,-123.06,-114.1,-113.28,-75.43,-63.57,-123.21,-97.13,-104.6],\n            marker={\n                \"color\": [\"#bebada\",\"#fdb462\",\"#fb8072\",\"#d9d9d9\",\"#bc80bd\",\"#b3de69\",\"#8dd3c7\",\"#80b1d3\",\"#fccde5\",\"#ffffb3\"],\n                \"line\": {\n                    \"width\": 1\n                },\n                \"size\": 10\n            },\n            mode=\"markers+text\",\n            name=\"\",\n            text=[\"Montreal\",\"Toronto\",\"Vancouver\",\"Calgary\",\"Edmonton\",\"Ottawa\",\"Halifax\",\"Victoria\",\"Winnepeg\",\"Regina\"],\n            textfont={\n                \"color\": [\"#bebada\",\"#fdb462\",\"#fb8072\",\"#d9d9d9\",\"#bc80bd\",\"#b3de69\",\"#8dd3c7\",\"#80b1d3\",\"#fccde5\",\"#ffffb3\"],\n                \"family\": [\"Arial, sans-serif\",\"Balto, sans-serif\",\"Courier New, monospace\",\"Droid Sans, sans-serif\",\"Droid Serif, serif\",\"Droid Sans Mono, sans-serif\",\"Gravitas One, cursive\",\"Old Standard TT, serif\",\"Open Sans, sans-serif\",\"PT Sans Narrow, sans-serif\",\"Raleway, sans-serif\",\"Times New Roman, Times, serif\"],\n                \"size\": [22,21,20,19,18,17,16,15,14,13]\n            },\n            textposition=[\"top center\",\"middle left\",\"top center\",\"bottom center\",\"top right\",\"middle left\",\"bottom right\",\"bottom left\",\"top right\",\"top right\"]\n        )\n    ],\n    layout={\n        \"title\": \"Canadian cities\",\n        \"geo\": {\n            \"lataxis\": {\n                \"range\": [40, 70]\n            },\n            \"lonaxis\": {\n                \"range\": [-130, -55]\n            },\n            \"scope\": \"north america\"\n        }\n    }\n)\n\nplot_url = py.plot(fig, filename='Canadian Cities')\n</code></pre>\n\n<p><strong>OLD Answer:</strong></p>\n\n<pre><code>import pandas as pd\n\n# initial position\nlat = 47.8388\nlon = 35.1396\n\n# generate random coordinates\ndf = pd.DataFrame({'lat': lat + np.random.normal(1,0.2,10),'lon': lon + np.random.normal(1,0.2,10)})\ndf = df.round(4)\n\npd.options.display.float_format = '{:.4f}'.format\ndf['text'] = df.lat.astype(str) + ', ' + df.lon.astype(str)\nprint(df)\n\nax = df.plot(x='lat', y='lon', kind='scatter')\n\ny_shift = (df.lon.max()-df.lon.min())/len(df)\n[ax.annotate(tup[2], xy=tup[:2], xytext=(tup[0], tup[1]))\n for tup in df.itertuples(index=False)]\n\nplt.show()\n</code></pre>\n\n<p>I put the coordinates as a text for annotations...</p>\n\n<p><a href=\"https://i.stack.imgur.com/RC1vH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RC1vH.png\" alt=\"Plot\"></a></p>\n"}], "owner": {"reputation": 61, "user_id": 6106412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c411ab839192ea90fb6e5dc21b920cf?s=128&d=identicon&r=PG&f=1", "display_name": "fishball", "link": "https://stackoverflow.com/users/6106412/fishball"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2310, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1459194824, "creation_date": 1458765212, "last_edit_date": 1458831064, "question_id": 36188179, "link": "https://stackoverflow.com/questions/36188179/adding-annotations-to-plotly-scatter-map", "title": "Adding annotations to Plotly Scatter Map", "body": "<p>I am having trouble adding annotations to my plotly scattergeo map. I am using a pandas dataframe as my datasource with columns Lat, Long, and the text is the index. My resulting annotations parameter nested under the layout parameter looks like:</p>\n\n<pre><code>[dict(x= d[1]['Lat'], y= d[1]['Long'], text= d[0]) for d in df.iterrows()]\n</code></pre>\n\n<p>Conversely, I can just use a single annotation using one row (or even hard-coding values for test purposes). It seems the x,y placement is using the chart grid instead of the map grid to place the annotation. Is there a parameter to fix that or do I need to adjust the chart grid itself? Thank you in advance.</p>\n\n<p>Edit: Here is an example. I wanted the annotations to be beside each bubble by passing the Lat/Long coordinates as the x,y variables of the annotation.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lbDE5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lbDE5.png\" alt=\"plotly map example\"></a></p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765046, "post_id": 36188073, "comment_id": 60011481, "body": "What is your expected output for the given example?"}, {"owner": {"reputation": 13, "user_id": 6106301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a0eb393b2f356b51042f0b553e5662?s=128&d=identicon&r=PG&f=1", "display_name": "sevensteven", "link": "https://stackoverflow.com/users/6106301/sevensteven"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765167, "post_id": 36188073, "comment_id": 60011555, "body": "something like : average age: 55  /n average chol: xxx /n bp: xxx im not sure if im using the comment right."}, {"owner": {"reputation": 2250, "user_id": 3301980, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6QKfJ.jpg?s=128&g=1", "display_name": "Pax Vobiscum", "link": "https://stackoverflow.com/users/3301980/pax-vobiscum"}, "edited": false, "score": 2, "creation_date": 1458765343, "post_id": 36188073, "comment_id": 60011658, "body": "It seems like &#39;f&#39; is undefined."}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 1, "creation_date": 1458765397, "post_id": 36188073, "comment_id": 60011695, "body": "You are reading the file using Pandas.  Why not simply do <code>df.mean()</code> to get the average of each column?"}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1458767495, "post_id": 36188073, "comment_id": 60012794, "body": "if the first line of the file is a header just do <code>df = pd.read_csv(&#39;HDPV.txt&#39;, header=0)</code> then you can use <code>df.mean()</code> to get the average of all columns and pick out the ones you are interested in."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 0, "creation_date": 1458767563, "post_id": 36188073, "comment_id": 60012833, "body": "also you tagged this question with <code>python-3.x</code> but <code>xrange</code> is only in python-2.x..."}, {"owner": {"reputation": 13, "user_id": 6106301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a0eb393b2f356b51042f0b553e5662?s=128&d=identicon&r=PG&f=1", "display_name": "sevensteven", "link": "https://stackoverflow.com/users/6106301/sevensteven"}, "edited": false, "score": 0, "creation_date": 1458775097, "post_id": 36188073, "comment_id": 60015962, "body": "ok, sorry I&#39;m still new to forums, I&#39;ve tried doing df.mean, but it wont work for some reason. so i use df.sum() / len()."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6106301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a0eb393b2f356b51042f0b553e5662?s=128&d=identicon&r=PG&f=1", "display_name": "sevensteven", "link": "https://stackoverflow.com/users/6106301/sevensteven"}, "edited": false, "score": 0, "creation_date": 1458775235, "post_id": 36188932, "comment_id": 60016012, "body": "thank you it works!!!!! i will work on the code more, because I want to learn  to use pandas better."}], "tags": [], "owner": {"reputation": 166, "user_id": 5910654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZoBoy.jpg?s=128&g=1", "display_name": "endlessCoffee", "link": "https://stackoverflow.com/users/5910654/endlesscoffee"}, "is_accepted": true, "score": 1, "last_activity_date": 1458824233, "last_edit_date": 1458824233, "creation_date": 1458768151, "answer_id": 36188932, "question_id": 36188073, "link": "https://stackoverflow.com/questions/36188073/calculate-multiple-average-from-text-python/36188932#36188932", "title": "calculate multiple average from text python", "body": "<p>I don't use pandas, but this can be easily solve using python list comprehension:</p>\n\n<pre><code>import csv\n\nwith open('text.csv', newline='') as csvfile:\n    reader = csv.reader(csvfile, delimiter=',')\n    rows = [[value.strip() for value in row] for row in reader]\n\n    average_age_list = [float(row[0]) for row in rows]\n    print ('average age: ' + str(sum(average_age_list) / float(len(average_age_list))))\n\n    average_chol_list = [float(row[3]) for row in rows]\n    print ('average chol: ' + str(sum(average_chol_list) / float(len(average_chol_list))))\n\n    bp_list = [float(row[4]) for row in rows]\n    print ('average age: ' + str(sum(bp_list) / float(len(bp_list))))\n</code></pre>\n\n<p>See <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow\">https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions</a></p>\n"}], "owner": {"reputation": 13, "user_id": 6106301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/30a0eb393b2f356b51042f0b553e5662?s=128&d=identicon&r=PG&f=1", "display_name": "sevensteven", "link": "https://stackoverflow.com/users/6106301/sevensteven"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 36188932, "answer_count": 1, "score": 1, "last_activity_date": 1458824233, "creation_date": 1458764862, "last_edit_date": 1458769048, "question_id": 36188073, "link": "https://stackoverflow.com/questions/36188073/calculate-multiple-average-from-text-python", "title": "calculate multiple average from text python", "body": "<p>I'm new to python, I wanted to get multiple average from a text file. for example:</p>\n\n<ul>\n<li>63,  1,  1,  145,    233,    1,  2,  150,    0,  2.3,    3,  0,  6,  0</li>\n<li>67,  1,  4,  160,    286,    0,  2,  108,    1,  1.5,    2,  3,  3,  2</li>\n<li>67,  1,  4,  120,    229,    0,  2,  129,    1,  2.6,    2,  2,  7,  1</li>\n<li>37,  1,  3,  130,    250,    0,  0,  187,    0,  3.5,    3,  0,  3,  0</li>\n<li>41,  0,  2,  130,    204,    0,  2,  172,    0,  1.4,    1,  0,  3,  0</li>\n<li><p>56,  1,  2,  120,    236,    0,  0,  178,    0,  0.8,    1,  0,  3,  0</p>\n\n<p>like I just want to get the average of certain columns like 1,4,5.</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv('HDPV.txt', \"rb\")\ncolumns = f.readline().strip().split(\" \")\nnumRows = 0\nsums = [0] * len(columns)\nfor line in f:\nif not line.strip():\ncontinue\nvalues = line.split(\" \")\nfor i in xrange(len(values)):\n    sums[i] += int(values[i])\n    numRows += 1\n    for index, summedRowValue in enumerate(sums):\n        print ('average age:'columns[0],summedRowValue / numRows)\n        print ('average chol:'columns[3],summedRowValue / numRows)\n        print ('bp:'columns[4],summedRowValue / numRows)\n</code></pre></li>\n</ul>\n"}, {"tags": ["python", "nltk"], "answers": [{"tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": false, "score": 0, "last_activity_date": 1458812797, "creation_date": 1458812797, "answer_id": 36197167, "question_id": 36188032, "link": "https://stackoverflow.com/questions/36188032/how-to-get-frequency-of-words-in-text-depends-of-they-part-of-speech/36197167#36197167", "title": "How to get frequency of words in text depends of they part of speech?", "body": "<p>Try using a <code>defaultdict</code> with <code>words</code> as key and a <code>Counter</code> object as value. And for the inner <code>Counter</code>, the key is the POS and the value is the count of the POS given the word.</p>\n\n<pre><code>&gt;&gt;&gt; from collections import defaultdict, Counter\n&gt;&gt;&gt; from nltk.corpus import brown\n&gt;&gt;&gt; corpus_counts = defaultdict(Counter)\n&gt;&gt;&gt; for word, tag in brown.tagged_words():\n...     if word in corpus_counts:\n...             corpus_counts[word][tag] +=1\n...     else:\n...             corpus_counts[word] = Counter({tag:1})\n... \n&gt;&gt;&gt; \n&gt;&gt;&gt; corpus_counts['run']\nCounter({u'VB': 122, u'NN': 52, u'VBN': 31, u'VBD': 1})\n&gt;&gt;&gt; corpus_counts['run']['VB']\n122\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68, "user_id": 4752525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Pd78nye0nts/AAAAAAAAAAI/AAAAAAAABDY/IZ7byTrYWGs/photo.jpg?sz=128", "display_name": "Artyom Lisovskij", "link": "https://stackoverflow.com/users/4752525/artyom-lisovskij"}, "is_accepted": true, "score": 0, "last_activity_date": 1459073113, "creation_date": 1459073113, "answer_id": 36246119, "question_id": 36188032, "link": "https://stackoverflow.com/questions/36188032/how-to-get-frequency-of-words-in-text-depends-of-they-part-of-speech/36246119#36246119", "title": "How to get frequency of words in text depends of they part of speech?", "body": "<p>I've found one better solution: collect words and pos as array of tuples and get their frequency by FreqDist.</p>\n\n<pre><code>tagged_words = nltk.word_tokenize(text)\ntagged_words = nltk.pos_tag(tagged_words)\nlemmatizer = nltk.stem.WordNetLemmatizer()\nwords = []\nfor tagged_word in tagged_words:\n    pos = wordnet_pos_code(tagged_word[1])\n\n    if pos is not None:\n        words.append((lemmatizer.lemmatize(tagged_word[0], pos=pos), tagged_word[1]))\n\nfdist = nltk.FreqDist(words)\n</code></pre>\n\n<p>So, now i can put them sorted into array.</p>\n\n<pre><code>res = []\nfor word, frequency in fdist.most_common(words_count):\n    word_dict = {}\n    word_dict['word'] = word\n    word_dict['count'] = frequency\n    res.append(word_dict)\nreturn res\n</code></pre>\n"}], "owner": {"reputation": 68, "user_id": 4752525, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-Pd78nye0nts/AAAAAAAAAAI/AAAAAAAABDY/IZ7byTrYWGs/photo.jpg?sz=128", "display_name": "Artyom Lisovskij", "link": "https://stackoverflow.com/users/4752525/artyom-lisovskij"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1584, "favorite_count": 3, "accepted_answer_id": 36246119, "answer_count": 2, "score": 2, "last_activity_date": 1459073113, "creation_date": 1458764711, "question_id": 36188032, "link": "https://stackoverflow.com/questions/36188032/how-to-get-frequency-of-words-in-text-depends-of-they-part-of-speech", "title": "How to get frequency of words in text depends of they part of speech?", "body": "<p>I can easy get most common words by:</p>\n\n<pre><code>stopwords = set(nltk.corpus.stopwords.words('english'))    \ntagged_words = nltk.word_tokenize(text)\ntagged_words = nltk.pos_tag(tagged_words)\n\n# Remove single-character tokens (mostly punctuation)\ntagged_words = [tagged_word for tagged_word in tagged_words if len(tagged_word[0]) &gt; 1]\n\n# Remove numbers\ntagged_words = [tagged_word for tagged_word in tagged_words if not tagged_word[0].isnumeric()]\n\n# Remove stopwords\nif remove_stopwords:\n    tagged_words = [tagged_word for tagged_word in tagged_words if tagged_word[0] not in stopwords]\n\n# Dark magic\nlemmatizer = nltk.stem.WordNetLemmatizer()\nwords = []\nfor tagged_word in tagged_words:\n    pos = wordnet_pos_code(tagged_word[1])\n    # Ignoring all words, except nouns, verbs, adjectives and adverbs\n    if pos is not None:\n        words.append({'word':lemmatizer.lemmatize(tagged_word[0], pos=pos), 'pos':tagged_word[1]})\n\n# Calculate frequency distribution\nfdist = nltk.FreqDist(words)\n\n# Return top % words_count % words\nres = []\nfor word, frequency in fdist.most_common(words_count):\n    word_dict = {}\n    word_dict['word'] = word\n    word_dict['count'] = frequency\n    res.append(word_dict)\nreturn res\n</code></pre>\n\n<p>But i got some words like 'Brown' as person name and 'brown' as color and they are not same. Okay, i can check them by capital letter. But if i get something like:</p>\n\n<blockquote>\n  <p>Brown is not just a color. Brown is part of lifestyle. And Mr Brown should agree with me.</p>\n</blockquote>\n\n<p>So, nltk does part-of-speech analysis pretty good. But how can i get most common words depends on part-of-speech?</p>\n"}, {"tags": ["python", "string", "csv"], "comments": [{"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 3, "creation_date": 1458764702, "post_id": 36187991, "comment_id": 60011288, "body": "<code>while row[0]==row[0]: ...</code> will never advance, it is an infinite loop."}], "answers": [{"comments": [{"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1458767720, "post_id": 36188382, "comment_id": 60012914, "body": "That&#39;s because <code>hello</code> had a space after it in original data."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1458767786, "post_id": 36188382, "comment_id": 60012950, "body": "@Leb remember to add <code>df2.to_csv(&#39;somefile.csv&#39;)</code>"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "reply_to_user": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1458767876, "post_id": 36188382, "comment_id": 60013002, "body": "@Ilja, indeed. Thank you."}, {"owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "edited": false, "score": 0, "creation_date": 1458768558, "post_id": 36188382, "comment_id": 60013313, "body": "Thanks, I think pandas is another great way to do this too"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1458774665, "post_id": 36188382, "comment_id": 60015796, "body": "You&#39;re welcome. This answer is just meant as an alternative for you and any possible future viewers. The other answers here are spot on if you&#39;re unable to use <code>pandas</code>."}], "tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 3, "last_activity_date": 1458768312, "last_edit_date": 1458768312, "creation_date": 1458766001, "answer_id": 36188382, "question_id": 36187991, "link": "https://stackoverflow.com/questions/36187991/how-to-group-subsequent-rows-with-identical-keys-in-a-csv-file/36188382#36188382", "title": "How to group subsequent rows with identical keys in a CSV file", "body": "<p>If you're interested in using <a href=\"http://pandas.pydata.org/\" rel=\"nofollow\"><code>pandas</code></a> you can group your <code>DataFrame</code> then output the unique values:</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('test.txt')\nprint(df)\n</code></pre>\n\n<p><strong>Your original DataFrame</strong></p>\n\n<pre><code>  col1  col2              col3\n0    a    12            hello \n1    a    13          good day\n2    a    14      nice weather\n3    b     1               cat\n4    b     2       dog and cat\n5    c     2  animals are cute\n</code></pre>\n\n<p><strong>The second DataFrame</strong></p>\n\n<pre><code>df2 = df.groupby(df['col1'])\ndf2 = df2['col3'].unique()\ndf2 = df2.reset_index()\n\nprint(df2)\n</code></pre>\n\n<p>Will result in:</p>\n\n<pre><code>  col1                              col3\n0    a  [hello , good day, nice weather]\n1    b                [cat, dog and cat]\n2    c                [animals are cute]\n</code></pre>\n\n<p>To concatenate the third column, you'll need to use <code>apply</code> as such:</p>\n\n<pre><code>df2['col3'] = df2['col3'].apply(lambda x: ' '.join(s.strip() for s in x))\n\n  col1                          col3\n0    a   hello good day nice weather\n1    b               cat dog and cat\n2    c              animals are cute\n</code></pre>\n\n<hr>\n\n<p><strong>Complete code:</strong></p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('test.txt')\ndf2 = df.groupby(df['col1'])\n\ndf2 = df2['col3'].unique()\ndf2 = df2.reset_index()\n\ndf2['col3'] = df2['col3'].apply(lambda x: ' '.join(s.strip() for s in x))\n\ndf2.to_csv('output.csv')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1458775084, "last_edit_date": 1458775084, "creation_date": 1458767343, "answer_id": 36188722, "question_id": 36187991, "link": "https://stackoverflow.com/questions/36187991/how-to-group-subsequent-rows-with-identical-keys-in-a-csv-file/36188722#36188722", "title": "How to group subsequent rows with identical keys in a CSV file", "body": "<pre><code>import csv\n\nwith open('myfile.csv', 'rb') as inputfile, open('outputfile.csv', 'wb') as outputfile:\n    reader=csv.reader(inputfile)\n    writer=csv.writer(outputfile)\n    prior_val = None\n    text = []\n    for line in reader:\n        if line[0] == prior_val:\n            text.append(line[2])\n        else:\n            if text:\n                writer.writerow([prior_val, \" \".join(text)])\n            prior_val = line[0]\n            text = [line[2]]\n    if text:\n        writer.writerow([prior_val, \" \".join(text)])\n\n&gt;&gt;&gt; !cat outputfile.csv\ncol1,col3\na,hello  good day nice weather\nb,cat dog and cat\nc,animals are cute\n\n&gt;&gt;&gt; pd.read_csv('outputfile.csv', index_col=0)\n                          col3\ncol1                              \na     hello  good day nice weather\nb                  cat dog and cat\nc                 animals are cute\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4103, "user_id": 162358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/I2kN6.jpg?s=128&g=1", "display_name": "Keith John Hutchison", "link": "https://stackoverflow.com/users/162358/keith-john-hutchison"}, "is_accepted": false, "score": 0, "last_activity_date": 1458767629, "creation_date": 1458767629, "answer_id": 36188792, "question_id": 36187991, "link": "https://stackoverflow.com/questions/36187991/how-to-group-subsequent-rows-with-identical-keys-in-a-csv-file/36188792#36188792", "title": "How to group subsequent rows with identical keys in a CSV file", "body": "<p>The issue was you were comparing the same row with itself. This version compares the last row with the current row. The output is not quote delimited but it is correct. Contents of script.py</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport csv\n\nwith open('myfile.csv', 'rb') as inputfile, open('outputfile.csv','wb') as outputfile:\n    reader=csv.reader(inputfile)\n    writer=csv.writer(outputfile)\n    next(reader)\n    lastRow = None\n    # assumes data is in order on first column\n    for row in reader:\n        if not lastRow:\n            # start processing line with the first column and third column\n            concat_text = row[2].strip()\n            lastRow = row\n            print concat_text\n        else:\n            if lastRow[0]==row[0]:\n                # add to line\n                concat_text = concat_text + ' ' + row[2].strip()\n                print concat_text\n            else:\n                # end processing\n                print concat_text\n                writer.writerow((lastRow[0],concat_text))\n                # start processing\n                concat_text = row[2]\n                print concat_text\n            lastRow = row\n    # write out last element\n    print concat_text\n    writer.writerow((lastRow[0],concat_text))\n</code></pre>\n\n<p>after running ./script.py the contents of outputfile.csv</p>\n\n<pre><code>a,hello good day nice weather\nb,cat dog and cat\nc,animals are cute\n</code></pre>\n"}], "owner": {"reputation": 6217, "user_id": 2800939, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b6b787a4a60504741317199cdf1b7618?s=128&d=identicon&r=PG&f=1", "display_name": "jxn", "link": "https://stackoverflow.com/users/2800939/jxn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 75, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1458775084, "creation_date": 1458764533, "last_edit_date": 1458766357, "question_id": 36187991, "link": "https://stackoverflow.com/questions/36187991/how-to-group-subsequent-rows-with-identical-keys-in-a-csv-file", "title": "How to group subsequent rows with identical keys in a CSV file", "body": "<p>I am trying to concat col3 if col1 is equal to the same value in the line before and then write the output to a new file. I have a CSV file that looks like this:</p>\n\n<pre><code>col1,col2,col3\na,12,\"hello \"\na,13,\"good day\"\na,14,\"nice weather\"\nb,1,\"cat\"\nb,2,\"dog and cat\"\nc,2,\"animals are cute\"\n</code></pre>\n\n<p>output i want:</p>\n\n<pre><code>col1,col3\na,\"hello good day nice weather\"\nb,\"cat dog and cat\"\nc,\"animals are cute\"\n</code></pre>\n\n<p>This is what i have tried:</p>\n\n<pre><code>import csv\n\nwith open('myfile.csv', 'rb') as inputfile, open('outputfile.csv','wb') as outputfile:\n    reader=csv.reader(inputfile)\n    writer=csv.writer(outputfile)\n    next(reader)\n    for row in reader:\n        while row[0]==row[0]:\n            concat_text=\" \".join(row[2])\n        print concat_text\n        writer.writerow((row[0],concat_text))\n</code></pre>\n\n<p>It runs but i have no output. Help appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 1, "creation_date": 1458764848, "post_id": 36187903, "comment_id": 60011364, "body": "Why is <code>crimeList[n]</code> not working? What error do you get?"}, {"owner": {"reputation": 11, "user_id": 6106326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1dc9529fa4841ab2304a0e8b02e89?s=128&d=identicon&r=PG&f=1", "display_name": "N_8_", "link": "https://stackoverflow.com/users/6106326/n-8"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765453, "post_id": 36187903, "comment_id": 60011730, "body": "Sorry I&#39;m new here,cant figure out how to code in the comments."}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765550, "post_id": 36187903, "comment_id": 60011790, "body": "Okay, so what&#39;s your question?"}, {"owner": {"reputation": 11, "user_id": 6106326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1dc9529fa4841ab2304a0e8b02e89?s=128&d=identicon&r=PG&f=1", "display_name": "N_8_", "link": "https://stackoverflow.com/users/6106326/n-8"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765728, "post_id": 36187903, "comment_id": 60011877, "body": "I need to be able to use that nth item as the incident for the methods established. So I need to run &#39;brief&#39; on the nth item of the list"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765766, "post_id": 36187903, "comment_id": 60011898, "body": "<code>crimeList[n].brief()</code>?"}, {"owner": {"reputation": 11, "user_id": 6106326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1dc9529fa4841ab2304a0e8b02e89?s=128&d=identicon&r=PG&f=1", "display_name": "N_8_", "link": "https://stackoverflow.com/users/6106326/n-8"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458765909, "post_id": 36187903, "comment_id": 60011952, "body": "Ok, that looks good so far. <code>crimeList[3].brief()</code> gives me: <code>&lt;built-in function id&gt;: Breaking &amp; Entering, Pending         Report that someone had pried steel door from hinges. Nothing was found to be missing</code>"}, {"owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 0, "creation_date": 1458766099, "post_id": 36187903, "comment_id": 60012050, "body": "Sorry, I&#39;m still not sure what you&#39;re trying to achieve. What is your final expected output?"}, {"owner": {"reputation": 11, "user_id": 6106326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1dc9529fa4841ab2304a0e8b02e89?s=128&d=identicon&r=PG&f=1", "display_name": "N_8_", "link": "https://stackoverflow.com/users/6106326/n-8"}, "reply_to_user": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "edited": false, "score": 1, "creation_date": 1458766221, "post_id": 36187903, "comment_id": 60012126, "body": "That was really all I needed to figure out.  I was having a serious brain fart on how to accomplish something simple."}], "answers": [{"tags": [], "owner": {"reputation": 4292, "user_id": 2302482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0FAIV.jpg?s=128&g=1", "display_name": "Bahrom", "link": "https://stackoverflow.com/users/2302482/bahrom"}, "is_accepted": true, "score": 0, "last_activity_date": 1458766296, "creation_date": 1458766296, "answer_id": 36188453, "question_id": 36187903, "link": "https://stackoverflow.com/questions/36187903/using-python-classes-and-lists-to-print-reports-from-a-csv/36188453#36188453", "title": "Using Python Classes and Lists to print reports from a csv", "body": "<p>Look up the nth crime from your <code>crimeList</code> like so: <code>x=crimeList[n]</code>, and then call the methods on that instance: <code>x.brief()</code>, <code>x.resolve()</code>, etc.</p>\n"}], "owner": {"reputation": 11, "user_id": 6106326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1dc9529fa4841ab2304a0e8b02e89?s=128&d=identicon&r=PG&f=1", "display_name": "N_8_", "link": "https://stackoverflow.com/users/6106326/n-8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 36188453, "answer_count": 1, "score": 1, "last_activity_date": 1458766296, "creation_date": 1458764190, "last_edit_date": 1458765297, "question_id": 36187903, "link": "https://stackoverflow.com/questions/36187903/using-python-classes-and-lists-to-print-reports-from-a-csv", "title": "Using Python Classes and Lists to print reports from a csv", "body": "<p>I have a homework assignment that I have been stuck on for several days.\nBasic problem description:</p>\n\n<p>Incident class has properties: ID, time, type, location, narrative and status</p>\n\n<p>methods: <strong>init</strong>, brief, isMorning, resolve</p>\n\n<p>script takes one argument, the full path of crime report csv.</p>\n\n<p>First few lines of CSV:</p>\n\n<pre><code>ID  Time    Type    Location    Narrative\n1271    11:54 AM    Drug Violation  Wolf Ridge  Report of possible drug violation. Student was referred to the university.\n</code></pre>\n\n<p>My code so far:</p>\n\n<pre><code>import sys\n\nclass Incident:\n    def __init__(self, ID, time, type, location, narrative, status):\n        self.ID = id\n        self.time = time\n        self.type = type\n        self.location = location\n        self.narrative = narrative\n        self.status = status\n\n    def  brief(self):\n        print '''{0}: {1}, {2}\n        {3}\n        '''.format(self.ID, self.type, self.status, self.narrative)\n\n    def isMorning(self):\n        if 'AM' in self.time:\n            return True\n        else:\n            return False\n\n    def resolve(self):\n        if self.status == 'Pending':\n            self.status = 'Resolved'\n\ntry:\n    dataset = sys.argv[1] except IndexError:\n    print 'Usage: Requires full path input file name.'\n    sys.exit()\n\n# Create an empty list to contain the Incident objects. crimeList = []\n\n# Read the crime report. with open(dataset, 'r') as f:\n    # Read the header.\n    headers = f.readline().split(',')\n    # Read each record and parse the attributes.\n    for line in f:\n        lineList = line.strip().split(',')\n        reportNumber = lineList[0]\n        timeReported = lineList[1]\n        incidentType = lineList[2]\n        location = lineList[3]\n        narrative = lineList[4]\n        status = lineList[5].strip()\n        ### Create initialize an Incident object instance and store it in a variable\n        crime = Incident(reportNumber, timeReported, incidentType, location, narrative, status)\n        ### Append the new Incident object to the crimeList.\n        crimeList.append(crime)\n</code></pre>\n\n<p>What i'm stuck on:\nI need to access the \"nth\" Incident in the crimeList and run various methods. I can't seem to find a way to access the item and have it functional to run methods on.</p>\n\n<p>I've tried enumerating and splicing but just can't get anything to work?</p>\n\n<p>Anyone have any suggestions?</p>\n"}, {"tags": ["python", "django", "django-forms", "django-views"], "comments": [{"owner": {"reputation": 118, "user_id": 5167764, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/mZSjs.jpg?s=128&g=1", "display_name": "hermy67", "link": "https://stackoverflow.com/users/5167764/hermy67"}, "edited": false, "score": 0, "creation_date": 1459178147, "post_id": 36187899, "comment_id": 60158177, "body": "silly question. I printed the BASE_DIR path from settings.py and used the same path here and it worked."}, {"owner": {"reputation": 39906, "user_id": 65295, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5ad057107bf330ce298dc878e949ceab?s=128&d=identicon&r=PG", "display_name": "Seth", "link": "https://stackoverflow.com/users/65295/seth"}, "edited": false, "score": 0, "creation_date": 1469652097, "post_id": 36187899, "comment_id": 64631183, "body": "It may have something to do with the backslash in your input path - you either need to escape it with another backslash (<code>&quot;C:\\\\input&quot;</code>) or use a regular slash (<code>&quot;c:&#47;input&quot;</code>)."}], "owner": {"reputation": 118, "user_id": 5167764, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/mZSjs.jpg?s=128&g=1", "display_name": "hermy67", "link": "https://stackoverflow.com/users/5167764/hermy67"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1458764697, "creation_date": 1458764174, "last_edit_date": 1458764697, "question_id": 36187899, "link": "https://stackoverflow.com/questions/36187899/forms-filepathfield-doesnt-work", "title": "forms.FilePathField doesn&#39;t work", "body": "<p>I'm very new to django and python. I'm trying to display the list of files in a folder on my system using FilePathField like this below but for some reason, no files are displayed. I tried in many different ways but nothing worked. All I need is to get the name of the file selected. Can somebody please help me?</p>\n\n<p>forms.py</p>\n\n<pre><code>class PostForm(forms.Form):\n    content = forms.CharField(max_length=256)\n    created_at = forms.DateTimeField()\n    file = forms.FilePathField(path='C:\\input')\n</code></pre>\n\n<p>Here is my views.py</p>\n\n<pre><code>def post_form_upload(request):\n    if request.method == 'GET':\n        form = PostForm()\n    else:\n        # A POST request: Handle Form Upload\n        form = PostForm(request.POST, request.FILES) \n\n\n    return render(request, 'polls/post_form_upload.html', {\n        'form': form,\n    })\n</code></pre>\n"}, {"tags": ["python", "filter", "delimiter"], "comments": [{"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458764266, "post_id": 36187884, "comment_id": 60011027, "body": "Could you please provide an example of how your file looks?"}, {"owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "reply_to_user": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458764592, "post_id": 36187884, "comment_id": 60011214, "body": "No problem, I just did. Thank you."}, {"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458764611, "post_id": 36187884, "comment_id": 60011229, "body": "Thanks, working on an answer:)"}, {"owner": {"reputation": 975, "user_id": 6078401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb74e4a1d8acc16d37b3f01f917b2ae?s=128&d=identicon&r=PG", "display_name": "daragua", "link": "https://stackoverflow.com/users/6078401/daragua"}, "edited": false, "score": 0, "creation_date": 1458777257, "post_id": 36187884, "comment_id": 60016652, "body": "What type of output are you looking after? Are you trying to collect all sections+description (like building a dictionnary?) or do you just want to do some operation once you&#39;ve found a pair, without storing it? The answers may vary."}], "answers": [{"comments": [{"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458766673, "post_id": 36188434, "comment_id": 60012397, "body": "First version I posted didn&#39;t work due to a typo, I edited it. So if you&#39;re having probelms, try using the new one."}, {"owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "edited": false, "score": 0, "creation_date": 1458768695, "post_id": 36188434, "comment_id": 60013372, "body": "Okay, I will try this out in a bit! Thank you."}], "tags": [], "owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "is_accepted": true, "score": 2, "last_activity_date": 1458775661, "last_edit_date": 1458775661, "creation_date": 1458766213, "answer_id": 36188434, "question_id": 36187884, "link": "https://stackoverflow.com/questions/36187884/storing-multiple-lines-from-a-file-to-a-variable-using-a-delimiter/36188434#36188434", "title": "Storing multiple lines from a file to a variable using a delimiter", "body": "<p>You could use builtin <code>re</code> module like that:</p>\n\n<pre><code>import re\n\n# I assume you have a list of all possible sections\nsections = [\n    'CLINICAL HISTORY',\n    'MEDICATIONS',\n    'INTRODUCTION',\n    'DESCRIPTION OF THE RECORD',\n    'IMPRESSION',\n    'CLINICAL CORRELATION'\n]\n\n# Build a regexp that will match any of the section names\nexp = '|'.join(sections)\n\nwith open(some_file, 'r') as r:\n    contents_of_file = r.read()\n    infos = list(re.split(exp, contents_of_file)) # infos is a list of what's between the section names\n    infos = [info.strip('\\n :') for info in infos] # let's get rid of colons and whitespace in our infos\n    print(infos) # you don't have to print it :)\n</code></pre>\n\n<hr>\n\n<p>If I use your example text instead of a file, it prints something like that:</p>\n\n<pre><code>['', 'Some information.', 'Other information', 'Some more information.', 'Some information here....\\nanother line of information', 'More info', 'The last bit of information']\n</code></pre>\n\n<hr>\n\n<p>The first element is empty, but you can get rid of it simply by doing so:</p>\n\n<pre><code>infos = infos[1:]\n</code></pre>\n\n<hr>\n\n<p>By the way, if we merge lines in which we deal with infos, into one, it would probably be cleaner, and would surely be more efficient (but maybe a little bit less understandable):</p>\n\n<pre><code>infos = [info.strip('\\n :') in re.split(exp, contents_of_file)][1:]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458773044, "post_id": 36189814, "comment_id": 60015217, "body": "This will work only if there are no colons in sections. (Can we assume that there arent any?) As an example, try changing first line to <code>CLINICAL HISTORY: Was ill: Yes.</code>, and keys will switch places with vaues. But if we can, that&#39;s a good answer."}, {"owner": {"reputation": 975, "user_id": 6078401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb74e4a1d8acc16d37b3f01f917b2ae?s=128&d=identicon&r=PG", "display_name": "daragua", "link": "https://stackoverflow.com/users/6078401/daragua"}, "reply_to_user": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458773601, "post_id": 36189814, "comment_id": 60015412, "body": "Indeed it is what I meant by &quot;as long as ...&quot;. Actually, I wouldn&#39;t recommend this if the source text is not trustable, a simple typo (a misplaced colon) can ruin it. Your version is robust because it knows what to search for, which makes it more suitable for untrusted sources."}, {"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458775750, "post_id": 36189814, "comment_id": 60016194, "body": "I&#39;m sorry for not seeing this when I wrote my comment. By the way, if you use my &quot;optimised&quot; version (1 line instead of 3, and no making list 2 times), is it going to be any faster?"}, {"owner": {"reputation": 975, "user_id": 6078401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb74e4a1d8acc16d37b3f01f917b2ae?s=128&d=identicon&r=PG", "display_name": "daragua", "link": "https://stackoverflow.com/users/6078401/daragua"}, "reply_to_user": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458776454, "post_id": 36189814, "comment_id": 60016427, "body": "No problem, you were right for claryfying! I&#39;ll give your optimized version a shot, should I post an answer with all versions we&#39;ve came up with and the timings?"}, {"owner": {"reputation": 1535, "user_id": 3950097, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/605c1c278971099e4847e7cf73884a83?s=128&d=identicon&r=PG", "display_name": "Ilya Peterov", "link": "https://stackoverflow.com/users/3950097/ilya-peterov"}, "edited": false, "score": 0, "creation_date": 1458776860, "post_id": 36189814, "comment_id": 60016550, "body": "I think if you measure my optimized version (which would be great), you maybe should just edit your answer."}], "tags": [], "owner": {"reputation": 975, "user_id": 6078401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fb74e4a1d8acc16d37b3f01f917b2ae?s=128&d=identicon&r=PG", "display_name": "daragua", "link": "https://stackoverflow.com/users/6078401/daragua"}, "is_accepted": false, "score": 1, "last_activity_date": 1458771693, "creation_date": 1458771693, "answer_id": 36189814, "question_id": 36187884, "link": "https://stackoverflow.com/questions/36187884/storing-multiple-lines-from-a-file-to-a-variable-using-a-delimiter/36189814#36189814", "title": "Storing multiple lines from a file to a variable using a delimiter", "body": "<p>If you do not know the sections you'll find, here's a version which seems to work, as long as the text is formatted as in your example :</p>\n\n<pre><code>import itertools\n\ntext = \"\"\"\nCLINICAL HISTORY: Some information.\nMEDICATIONS: Other information\nINTRODUCTION: Some more information.\nDESCRIPTION OF THE RECORD: Some information here....\nanother line of information\nIMPRESSION: More info \nCLINICAL CORRELATION: The last bit of information \n\"\"\"\n\ndef method_tuple(s):\n    # sp holds strings which finish with the section names.\n    sp = s.split(\":\")\n    # This line removes spurious \"\\n\" at both end of the strings in sp.\n    # It then splits them once at \"\\n\" starting from their end, effectively\n    # seperating the sections and the descriptions.\n    # It builds a list of strings alternating section names and information.\n    fragments = list(itertools.chain.from_iterable( p.strip(\"\\n\").rsplit(\"\\n\", 1) for p in sp ))\n    # You can now build a list of 2-uples.\n    pairs = [ (fragments[i*2],fragments[i*2+1]) for i in range(len(fragments)//2)]\n    # Or you could build a dict\n    # pairs = { fragments[i*2]:fragments[i*2+1] for i in range(len(fragments)//2)}\n    return pairs\n\nprint(method_tuple(text))\n</code></pre>\n\n<p>The timings compared the regex version of Ilya are roughly equivalent, although building a dictionnary seems to start winning over building a list of tuples or using regexp, on the sample text at 1 billion loops...</p>\n"}, {"tags": [], "owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "is_accepted": false, "score": 0, "last_activity_date": 1458855127, "creation_date": 1458855127, "answer_id": 36210349, "question_id": 36187884, "link": "https://stackoverflow.com/questions/36187884/storing-multiple-lines-from-a-file-to-a-variable-using-a-delimiter/36210349#36210349", "title": "Storing multiple lines from a file to a variable using a delimiter", "body": "<p>I found another possible solution for this using the indexes of the line. I first opened the check file, and stored its <code>f.read()</code> contents into a variable called <code>info</code>. I then did this:</p>\n\n<pre><code>with open(check_file, 'r') as r:\n    for line in r:\n        if \"DESCRIPTION\" in line:\n            record_Index = info.index(line)\n            record = info[info.index(line):]\n            if \"IMPRESSION\" in record:\n                impression_Index = info.index(\"IMPRESSION\")\n                record = info[record_Index:impression_Index]\n</code></pre>\n\n<p>This method worked as well, although I don't know how efficient it is memory and speed wise. Instead of using <code>with open(...)</code> multiple times, it might be better just to store it all in the variable called <code>info</code> and then do everything with that.</p>\n"}], "owner": {"reputation": 736, "user_id": 5518510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-SWxmZSBk6X4/AAAAAAAAAAI/AAAAAAAABUo/IYVOQ29qXu0/photo.jpg?sz=128", "display_name": "James Mchugh", "link": "https://stackoverflow.com/users/5518510/james-mchugh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 36188434, "answer_count": 3, "score": 1, "last_activity_date": 1458855127, "creation_date": 1458764110, "last_edit_date": 1458764623, "question_id": 36187884, "link": "https://stackoverflow.com/questions/36187884/storing-multiple-lines-from-a-file-to-a-variable-using-a-delimiter", "title": "Storing multiple lines from a file to a variable using a delimiter", "body": "<p>I am using Python to make a filter to search through thousands of text files for specific queries. These text files consist of several sections, and they do not all have consistent formatting. I want each of these sections to be checked for specific criteria, so in the section of the text file called \"DESCRIPTION OF RECORD\", I was doing something like this to store the string to a variable:</p>\n\n<pre><code>with open(some_file, 'r') as r:\n    for line in r:\n        if \"DESCRIPTION OF RECORD\" in line:\n            record = line\n</code></pre>\n\n<p>Now this works pretty well for most files, but some files have a line break in the the section, so it does not store the whole section to the variable. I was wondering how I could use a delimiter to control how many lines are stored to the variable. I would probably use the title of the next section called \"CORRELATION\" for the delimiter. Any ideas?</p>\n\n<p>An example structure of the file could look like:</p>\n\n<pre><code>CLINICAL HISTORY: Some information.\nMEDICATIONS: Other information\nINTRODUCTION: Some more information.\nDESCRIPTION OF THE RECORD: Some information here....\nanother line of information\nIMPRESSION: More info \nCLINICAL CORRELATION: The last bit of information \n</code></pre>\n"}, {"tags": ["python", "grid", "voronoi"], "comments": [{"owner": {"reputation": 139, "user_id": 6106334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd18c3ee5963b499214778d4ca8ac59?s=128&d=identicon&r=PG&f=1", "display_name": "Flying_ostrich", "link": "https://stackoverflow.com/users/6106334/flying-ostrich"}, "edited": false, "score": 0, "creation_date": 1458776023, "post_id": 36187872, "comment_id": 60016292, "body": "Now I have the list of centroids and the corresponding Voronoi diagram. I want to label each (x,y) with its voronoi region."}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 6106334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd18c3ee5963b499214778d4ca8ac59?s=128&d=identicon&r=PG&f=1", "display_name": "Flying_ostrich", "link": "https://stackoverflow.com/users/6106334/flying-ostrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1458838739, "last_edit_date": 1458838739, "creation_date": 1458838433, "answer_id": 36205780, "question_id": 36187872, "link": "https://stackoverflow.com/questions/36187872/square-xy-grid-hexagon-label-from-hexagon-vertices/36205780#36205780", "title": "Square XY grid Hexagon label from Hexagon Vertices", "body": "<p>The easiest way to do this is by calculating the centroids of the hexagons. So instead of generating polygon vertices, I generated polygon centroids using the following function: calc_polycentroids(startx, starty, endx, endy, a) where a= side of hex formed by centroids</p>\n\n<pre><code>def calc_polycentroids(startx, starty, endx, endy, a):\n# calculate coordinates of the hexagon points\nhx=3.*a\nhy=a*np.sqrt(3)\n\norigx = startx\norigy = starty\n\n# offsets for moving along and up rows\nxoffset = hx\nyoffset = hy\n\npolygons = []\ncounter = 0\n\nwhile starty &lt; endy:\n    startx = origx\n    while startx &lt; endx:\n        p1x = startx + 0.5*a\n        p1y = starty \n        p2x = startx + 1.5*a\n        p2y = starty \n        p3x = startx + 2.5*a\n        p3y = starty \n        p4x = startx \n        p4y = starty + (a*np.sqrt(3)/2)\n        p5x = startx + a\n        p5y = starty + (a*np.sqrt(3)/2)\n        p6x = startx + 2.*a\n        p6y = starty + (a*np.sqrt(3)/2)\n        p7x = startx + 3.*a\n        p7y = starty + (a*np.sqrt(3)/2)\n        p8x = startx + 0.5*a\n        p8y = starty + (a*np.sqrt(3))\n        p9x = startx + 1.5*a\n        p9y = starty + (a*np.sqrt(3))\n        p10x= startx + 2.5*a\n        p10y= starty + (a*np.sqrt(3))\n        poly = [\n            (p1x, p1y),\n            (p2x, p2y),\n            (p3x, p3y),\n            (p4x, p4y),\n            (p5x, p5y),\n            (p6x, p6y),\n            (p7x, p7y),\n            (p8x, p8y),\n            (p9x, p9y),\n            (p10x,p10y),\n            ]\n        polygons.append(poly)\n        counter += 1\n        startx += hx\n    starty += yoffset\n#Truncate points\ntemp1=np.array(polygons)\ntemp3=temp1.reshape(temp1.shape[1]*temp1.shape[0],temp1.shape[2]) \nreturn temp3`\n</code></pre>\n\n<p>Then I defined the x-y grid and used cKDTree to predict the nearest neighbor as the index of the centroid it's closest to. </p>\n\n<pre><code>polygons1=calc_polycentroids(0,0,N,N,a)\nx=np.linspace(0,N,N+2);\ny=np.linspace(0,N,N+2);\npoints=np.array(np.meshgrid(x,y)) \ntest_points=np.reshape(np.array([np.ravel(points,order='F')]),((N+2)*(N+2),2))#The x-y points to iterate over\nvoronoi_kdtree = cKDTree(polygons1) #giving centroids of the grains\n\ntest_point_dist, test_point_regions = voronoi_kdtree.query(test_points, k=1)\n#test_point_regions Now holds an array of shape (n_test, 1) \n#with the indices of the points in polygons1 closest to each of your test_points.\n</code></pre>\n\n<p>Thus if I plot a contour plot, I get the following structure: with N=128\n<a href=\"http://i.stack.imgur.com/AKdlk.png\" rel=\"nofollow\">Hexagonal lattice</a></p>\n"}], "owner": {"reputation": 139, "user_id": 6106334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cd18c3ee5963b499214778d4ca8ac59?s=128&d=identicon&r=PG&f=1", "display_name": "Flying_ostrich", "link": "https://stackoverflow.com/users/6106334/flying-ostrich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 402, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1458838739, "creation_date": 1458764089, "question_id": 36187872, "link": "https://stackoverflow.com/questions/36187872/square-xy-grid-hexagon-label-from-hexagon-vertices", "title": "Square XY grid Hexagon label from Hexagon Vertices", "body": "<p>I have an array of the xy coordinates of vertices of a hexagon in python that I generated. I want to label the xy grid corresponding to the hexagon it belongs to. When plotted, the vertices look like: <a href=\"http://i.stack.imgur.com/HzD6Z.png\" rel=\"nofollow\">Vertices</a></p>\n\n<p>I want a text file in the following format:\nx y Hexagon#</p>\n\n<p>I am new to Python and would appreciate any help. Thanks!</p>\n"}, {"tags": ["python", "pandas", "intersection"], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 5466518, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71a0ff0c582a243fa3bde86fed7021d7?s=128&d=identicon&r=PG", "display_name": "zufanka", "link": "https://stackoverflow.com/users/5466518/zufanka"}, "edited": false, "score": 0, "creation_date": 1458821114, "post_id": 36188020, "comment_id": 60032847, "body": "Thank you, it does exactly what I needed!"}], "tags": [], "owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "is_accepted": true, "score": 0, "last_activity_date": 1458764656, "creation_date": 1458764656, "answer_id": 36188020, "question_id": 36187855, "link": "https://stackoverflow.com/questions/36187855/pandas-if-intersection-then-update-dataframe/36188020#36188020", "title": "pandas: if intersection then update dataframe", "body": "<p>A bit of a mouthful, but try this:</p>\n\n<pre><code>occuring_iso_2_codes = set(countries['ISO-2'])\n\ncontracts['new column'] = contracts.Jurisdiction.apply(\n    lambda s: int(bool(set(s.split(';')).intersection(occuring_iso_2_codes))))\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 5466518, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/71a0ff0c582a243fa3bde86fed7021d7?s=128&d=identicon&r=PG", "display_name": "zufanka", "link": "https://stackoverflow.com/users/5466518/zufanka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 36188020, "answer_count": 1, "score": 0, "last_activity_date": 1458764656, "creation_date": 1458764010, "question_id": 36187855, "link": "https://stackoverflow.com/questions/36187855/pandas-if-intersection-then-update-dataframe", "title": "pandas: if intersection then update dataframe", "body": "<p>I have two dataframes:</p>\n\n<p>countries: </p>\n\n<pre><code>    Country or Area Name    ISO-2   ISO-3\n0   Afghanistan              AF     AFG\n1   Philippines              PH     PHL\n2   Albania                  AL     ALB\n3   Norway                   NO     NOR\n4   American Samoa           AS     ASM\n</code></pre>\n\n<p>contracts:</p>\n\n<pre><code>    Country Name                   Jurisdiction     Signature year\n0   Yemen                             KY;NO;CA;NO   1999.0\n1   Yemen                                BM;TC;YE   2007.0\n2   Congo,                                  CD;CD   2015.0\n3   Philippines                                PH   2009.0\n4   Philippines                             PH;PH   2007.0\n5   Philippines                                PH   2001.0\n6   Philippines                             PH;PH   1997.0\n7   Bolivia, Plurinational State of         BO;BO   2006.0\n</code></pre>\n\n<p>I want to:</p>\n\n<ol>\n<li>check whether the column <code>Jurdisctiction</code> in <code>contracts</code> contains at least one two letter code from the <code>countries</code> <code>ISO-2</code> column.</li>\n</ol>\n\n<p>I have tried numerous ways of testing whether there is an intersection, but none of them works. My last try was:</p>\n\n<pre><code>i1 = pd.Index(contracts['Jurisdiction of Incorporation'].str.split(';'))\ni2 = pd.Index(countries['ISO-2'])\nprint i1, i2\ni1.intersection(i2)\n</code></pre>\n\n<p>Which gives me <code>TypeError: unhashable type: 'list'</code></p>\n\n<ol start=\"2\">\n<li>if at least one of the codes is present, I want to update the <code>contracts</code> dataframe with <code>new column</code> that will contain just boolean values</li>\n</ol>\n\n<p><code>contracts['new column'] = np.where(\"piece of code that will actually work\", 1, 0)</code></p>\n\n<p>So the desired output would be</p>\n\n<pre><code>    Country Name                   Jurisdiction     Signature year  new column\n0   Yemen                             KY;NO;CA;NO   1999.0              1\n1   Yemen                                BM;TC;YE   2007.0              0\n2   Congo,                                  CD;CD   2015.0              0\n3   Philippines                                PH   2009.0              1\n4   Philippines                             PH;PH   2007.0              1\n5   Philippines                                PH   2001.0              1\n6   Philippines                             PH;PH   1997.0              1\n7   Bolivia, Plurinational State of         BO;BO   2006.0              0\n</code></pre>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["python", "arrays", "list", "numpy", "list-comprehension"], "answers": [{"tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": false, "score": 2, "last_activity_date": 1458765045, "creation_date": 1458765045, "answer_id": 36188127, "question_id": 36187843, "link": "https://stackoverflow.com/questions/36187843/converting-comprehension-list-to-numpy-array-glitch/36188127#36188127", "title": "Converting Comprehension List to Numpy Array - Glitch?", "body": "<p>numpy doesn't support ragged arrays (arrays where not every row has the same length).  Your <code>Ingredients</code> seems to be ragged:</p>\n\n<pre><code>&gt;&gt;&gt; [len(x) for x in Ingredients]\n[8, 8, 8, 7, 8, 8, 8, 8, 8, 8]\n</code></pre>\n\n<p>Since numpy doesn't support this, it does the best it can and gives you an array of length 10 of object dtype.  That is, instead of having an array 10x8, you get an array of shape 10 where each element is just one object (which happens to be a Python list, but numpy no longer cares at this point).</p>\n\n<p>You'll need to make the array rectangular before numpy sees it, whether by fixing your processing or by padding or adding dummy values, whatever seems appropriate.</p>\n\n<p>Note though that numpy isn't really intended for dealing with tabular data of mixed type: for that, you probably want to be using <a href=\"http://pandas.pydata.org\" rel=\"nofollow\"><code>pandas</code></a>.</p>\n"}], "owner": {"reputation": 1829, "user_id": 5378132, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/arUcg.png?s=128&g=1", "display_name": "Riley Hun", "link": "https://stackoverflow.com/users/5378132/riley-hun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458765045, "creation_date": 1458763986, "question_id": 36187843, "link": "https://stackoverflow.com/questions/36187843/converting-comprehension-list-to-numpy-array-glitch", "title": "Converting Comprehension List to Numpy Array - Glitch?", "body": "<p>I am having trouble converting a comprehension list into a <code>numpy</code> array. I am looping through different comprehension lists; some seem to be fine though. I verified this error by printing their <code>shape</code>, and some iterations did not return the correct dimensions. As such, I cannot concatenate these numpy arrays (Ingredients) with another set of arrays (basic_info). Also, I printed the numpy array itself for these iterations, and noticed that the '[' had an extra trailing space. Any help would be greatly appreciated!</p>\n\n<p>Please see below: </p>\n\n<p><strong>(1) This is how I created the list comprehension</strong></p>\n\n<pre><code>html = browser.page_source\n            soup = BeautifulSoup(html)\n            table = soup.find('div', {'id': 'placeBody_dynField77_divScroll'})\n            table_body = table.find('tbody')\n            rows = table_body.findAll('tr')[1:]\n            Ingredients = []\n            for row in rows:\n                cols = row.find_all('td')\n                cols = [ele.text.strip() for ele in cols]\n                Ingredients.append([ele for ele in cols if ele])\n            Ingredients = np.array(Ingredients)\n</code></pre>\n\n<p><strong>(2) Upon printing the <code>shape</code>, the number of columns is not returned (which should be 8)</strong></p>\n\n<pre><code>print(Ingredients)\nprint(Ingredients.shape, basic_info2.shape)\n\n&gt;&gt;\n\n[ ['Distillates (Petroleum), Hydrotreated Heavy Naphthenic', '64742-52-5', 'n/a', '40.00 %', '50.00 %', '45.00 %', '40-&lt;50%', '0.00 %']\n ['2-(2-butoxy\u00e9thoxy) \u00c9thanol', '112-34-5', 'n/a', '10.00 %', '20.00 %', '15.00 %', '10-&lt;20%', '0.00 %']\n ['Low Odor Base Solvent', '64742-47-8', 'n/a', '10.00 %', '20.00 %', '15.00 %', '10-&lt;20%', '0.00 %']\n ['Other Components Below Reportable Levels', 'n/a', '5.00 %', '10.00 %', '7.50 %', '5-&lt;10%', '0.00 %']\n ['Naphtha (Petroleum), Hydrotreated, Heavy', '64742-48-9', 'n/a', '5.00 %', '10.00 %', '7.50 %', '5-&lt;10%', '0.00 %']\n ['Solvent Naphtha (Petroleum), Medium Aliph.', '64742-88-7', 'n/a', '5.00 %', '10.00 %', '7.50 %', '5-&lt;10%', '0.00 %']\n ['Stoddard Solvent', '8052-41-3', 'n/a', '5.00 %', '10.00 %', '7.50 %', '5-&lt;10%', '0.00 %']\n ['Carbon Dioxide', '124-38-9', 'n/a', '1.00 %', '3.00 %', '2.00 %', '1-&lt;3%', '0.00 %']\n ['Nonane', '111-84-2', 'Less Than (Max)', '0.00 %', '1.00 %', '0.50 %', '&lt;1%', '0.00 %']\n ['Naphthalene', '91-20-3', 'Less Than (Max)', '0.00 %', '1.00 %', '0.50 %', '&lt;1%', '0.00 %']]\n[(10,), (10, 4)]\n[ ['Gasoline, Low Boiling Point Naphtha', '86290-81-5', 'n/a', '90.00 %', '100.00 %', '95.00 %', '90.00-100.00%', '0.00 %']\n ['EthylBenzene', '100-41-4', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Toluene', '108-88-3', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['N-Hexane', '110-54-3', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Cyclohexane', '110-82-7', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Xylene (Mixed Isomers)', '1330-20-7', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Trimethylbenzene. All Isomers', '25551-13-7', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Benzene', '71-43-2', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']\n ['Naphthalene', '91-20-3', 'Blank (percentage not specified)', '0.00 %', '100.00 %', '50.00 %', '0.00 %']]\n[(9,), (9, 4)]\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "neural-network", "deep-learning", "caffe"], "answers": [{"comments": [{"owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1459441813, "post_id": 36244956, "comment_id": 60299711, "body": "Is this new syntax? A lot of this is different than the tutorial provided by the Caffe developers. For instance, putting all of that info into a <code>convolution_param</code> dict"}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "reply_to_user": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "edited": false, "score": 0, "creation_date": 1459441953, "post_id": 36244956, "comment_id": 60299817, "body": "@marcman I don&#39;t think it&#39;s new, it&#39;s a slightly different way of providing the parameters. I find it more clear this way. It&#39;s definitely easier this way to provide parameters that are of &quot;repeated&quot; type (e.g., the blob param <code>&#39;lr_mult&#39;</code>)."}, {"owner": {"reputation": 1729, "user_id": 4452469, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/I2QTC.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4452469/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1466145332, "post_id": 36244956, "comment_id": 63204974, "body": "@Shai how can we specify the blob names and layer names seperately?"}, {"owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "reply_to_user": {"reputation": 1729, "user_id": 4452469, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/I2QTC.jpg?s=128&g=1", "display_name": "Gaurav Gupta", "link": "https://stackoverflow.com/users/4452469/gaurav-gupta"}, "edited": false, "score": 0, "creation_date": 1466146082, "post_id": 36244956, "comment_id": 63205328, "body": "@gauravgupta you have an optional <code>name</code> argument"}], "tags": [], "owner": {"reputation": 92303, "user_id": 1714410, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/a254f486ab076ab1af26162a975e90f9?s=128&d=identicon&r=PG", "display_name": "Shai", "link": "https://stackoverflow.com/users/1714410/shai"}, "is_accepted": true, "score": 7, "last_activity_date": 1459064104, "last_edit_date": 1495541345, "creation_date": 1459064104, "answer_id": 36244956, "question_id": 36187825, "link": "https://stackoverflow.com/questions/36187825/where-is-layer-module-defined-in-pycaffe/36244956#36244956", "title": "Where is layer module defined in PyCaffe", "body": "<p>You can add the <code>blob_lr</code> and <code>phase</code> like this:</p>\n\n<pre><code>import caffe\nfrom caffe import layers a L, params as P\n\nns = caffe.NetSpec()\nns.conv = L.Convolution(bottom, convolution_param={'kernel_size':ks,\n                                                   'stride':stride,\n                                                   'num_output':nout, \n                                                   'pad':pad, \n                                                   'group':group},\n                                param=[{'lr_mult':1, 'decay_mult':1},\n                                       {'lr_mult':2, 'decay_mult':0}],\n                                include={'phase': caffe.TRAIN})\n</code></pre>\n\n<p>You can see some more examples in <a href=\"https://stackoverflow.com/a/35967589/1714410\">this answer</a>.</p>\n"}], "owner": {"reputation": 2870, "user_id": 3427580, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/73909f88442d1b4be6cebec37c9d1aaf?s=128&d=identicon&r=PG&f=1", "display_name": "marcman", "link": "https://stackoverflow.com/users/3427580/marcman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2448, "favorite_count": 3, "accepted_answer_id": 36244956, "answer_count": 1, "score": 5, "last_activity_date": 1459064166, "creation_date": 1458763903, "last_edit_date": 1459064166, "question_id": 36187825, "link": "https://stackoverflow.com/questions/36187825/where-is-layer-module-defined-in-pycaffe", "title": "Where is layer module defined in PyCaffe", "body": "<p>I am modifying a <a href=\"http://nbviewer.jupyter.org/github/BVLC/caffe/blob/master/examples/pascal-multilabel-with-datalayer.ipynb\" rel=\"noreferrer\">Caffe tutorial</a> to implement a neural network, but I am struggling to identify where some of the pycaffe modules are location in order to see certain function definitions.</p>\n\n<p>For example, the tutorial mentions:</p>\n\n<pre><code>import caffe\nfrom caffe import layers a L, params as P\n....\nL.Convolution(bottom, kernel_size=ks, stride=stride, num_output=nout, pad=pad, group=group)\nL.InnerProduct(bottom, num_output=nout)\nL.ReLU(fc, in_place=True)\n...\n</code></pre>\n\n<p>Where can I find these function definitions and where can I see what other types of layers are pre-defined? I see that <code>layers</code> and <code>params</code> are <a href=\"https://github.com/BVLC/caffe/blob/master/python/caffe/net_spec.py\" rel=\"noreferrer\">defined here</a> but there's no mention of the types (e.g. <code>layers.Convolution</code>, etc).</p>\n\n<p>The reason I am trying to figure this out is because there are other prototxt parameters left out of the pycaffe tutorials that I would like to be able to define from Python when generating the prototxts. These include, <code>blob_lr</code> and <code>include{phase: TRAIN}</code>.</p>\n"}, {"tags": ["python", "indentation", "spyder"], "answers": [{"comments": [{"owner": {"reputation": 4901, "user_id": 3462321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd0086ec4a53211d09387d975f55c8d3?s=128&d=identicon&r=PG&f=1", "display_name": "denvar", "link": "https://stackoverflow.com/users/3462321/denvar"}, "edited": false, "score": 1, "creation_date": 1458765341, "post_id": 36188174, "comment_id": 60011657, "body": "That&#39;s great! Had to set &quot;indentation characters&quot; to &quot;4 spaces&quot; and then check &quot;tab always indent&quot; to get the desired effect I was looking for"}, {"owner": {"reputation": 519, "user_id": 2962323, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9XicA.png?s=128&g=1", "display_name": "Musixauce3000", "link": "https://stackoverflow.com/users/2962323/musixauce3000"}, "edited": false, "score": 0, "creation_date": 1463438238, "post_id": 36188174, "comment_id": 62055393, "body": "The tab width seems very large. It goes beyond <code>class</code> all the way to flush up against the class name. Is there any way to shrink the indentation width? I prefer mine to be equivalent to 2 spaces."}, {"owner": {"reputation": 519, "user_id": 2962323, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/9XicA.png?s=128&g=1", "display_name": "Musixauce3000", "link": "https://stackoverflow.com/users/2962323/musixauce3000"}, "edited": false, "score": 1, "creation_date": 1463438904, "post_id": 36188174, "comment_id": 62055617, "body": "Oh wait I got it. That&#39;s unusual though --rather than spaces, the tab width is determined by pixels. Kind of cool though I guess. Anyway, at the default font size 15 pixels should emulate a two space tab width."}], "tags": [], "owner": {"reputation": 2405, "user_id": 5510499, "user_type": "registered", "profile_image": "https://graph.facebook.com/1485770455086201/picture?type=large", "display_name": "Vadim Shkaberda", "link": "https://stackoverflow.com/users/5510499/vadim-shkaberda"}, "is_accepted": true, "score": 30, "last_activity_date": 1592378430, "last_edit_date": 1592378430, "creation_date": 1458765190, "answer_id": 36188174, "question_id": 36187784, "link": "https://stackoverflow.com/questions/36187784/changing-indentation-settings-in-the-spyder-editor-for-python/36188174#36188174", "title": "Changing indentation settings in the Spyder editor for Python", "body": "<p>Spyder v. 4.0 or higher:</p>\n\n<blockquote>\n  <p>Tools >>> Preferences >>> Editor >>> Source code >>> Indentation\n  characters</p>\n</blockquote>\n\n<p>Other versions:</p>\n\n<blockquote>\n  <p>Tools >>> Preferences >>> Editor >>> Advanced settings >>> Indentation\n  characters</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 2, "creation_date": 1540410424, "post_id": 52976555, "comment_id": 92860232, "body": "What&#39;s the difference from <a href=\"https://stackoverflow.com/a/36188174/5376789\">this existed answer</a>?"}, {"owner": {"reputation": 11, "user_id": 10486384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlU7T.jpg?s=128&g=1", "display_name": "Rituraj Rautela", "link": "https://stackoverflow.com/users/10486384/rituraj-rautela"}, "reply_to_user": {"reputation": 10915, "user_id": 5376789, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/6715b3506c7312f63950450070ed8345?s=128&d=identicon&r=PG&f=1", "display_name": "xskxzr", "link": "https://stackoverflow.com/users/5376789/xskxzr"}, "edited": false, "score": 0, "creation_date": 1540469120, "post_id": 52976555, "comment_id": 92882760, "body": "This was more elaborated, I guess.  Otherwise you have to read all the given options in &gt;&gt;&gt;Indentation Characters"}], "tags": [], "owner": {"reputation": 11, "user_id": 10486384, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FlU7T.jpg?s=128&g=1", "display_name": "Rituraj Rautela", "link": "https://stackoverflow.com/users/10486384/rituraj-rautela"}, "is_accepted": false, "score": 0, "last_activity_date": 1540409161, "creation_date": 1540409161, "answer_id": 52976555, "question_id": 36187784, "link": "https://stackoverflow.com/questions/36187784/changing-indentation-settings-in-the-spyder-editor-for-python/52976555#52976555", "title": "Changing indentation settings in the Spyder editor for Python", "body": "<p>go to >>>Tools in the menu bar</p>\n\n<p>Preferences >>> Editor >>> Advanced settings >>> Indentation characters</p>\n\n<p>set indentation characters: to \"4 spaces\"</p>\n\n<p>hurray! Mission accomplished </p>\n"}, {"tags": [], "owner": {"reputation": 909, "user_id": 2896880, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/UtbAi.jpg?s=128&g=1", "display_name": "Johnny Wu", "link": "https://stackoverflow.com/users/2896880/johnny-wu"}, "is_accepted": false, "score": 0, "last_activity_date": 1581800064, "creation_date": 1581800064, "answer_id": 60243036, "question_id": 36187784, "link": "https://stackoverflow.com/questions/36187784/changing-indentation-settings-in-the-spyder-editor-for-python/60243036#60243036", "title": "Changing indentation settings in the Spyder editor for Python", "body": "<p>On Mac w/ Spyder 4.0.1, it's </p>\n\n<p><strong>Python -> Preference -> Editor -> Source Code (tab) -> Indentation characters</strong></p>\n"}], "owner": {"reputation": 4901, "user_id": 3462321, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/dd0086ec4a53211d09387d975f55c8d3?s=128&d=identicon&r=PG&f=1", "display_name": "denvar", "link": "https://stackoverflow.com/users/3462321/denvar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37221, "favorite_count": 3, "accepted_answer_id": 36188174, "answer_count": 3, "score": 19, "last_activity_date": 1592378430, "creation_date": 1458763748, "question_id": 36187784, "link": "https://stackoverflow.com/questions/36187784/changing-indentation-settings-in-the-spyder-editor-for-python", "title": "Changing indentation settings in the Spyder editor for Python", "body": "<p>I am using the Spyder editor for Python.\nI need to change the indentation setting (e.g., let \"tab\" mean \"4 spaces\").</p>\n\n<p>How do I accomplish this?</p>\n"}, {"tags": ["python", "xml", "xpath"], "comments": [{"owner": {"reputation": 42767, "user_id": 480982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/U21Ey.jpg?s=128&g=1", "display_name": "Thomas Weller", "link": "https://stackoverflow.com/users/480982/thomas-weller"}, "edited": false, "score": 1, "creation_date": 1458764014, "post_id": 36187736, "comment_id": 60010882, "body": "Are you sure the spaces in <code>&quot; Name &quot;</code> are not relevant?"}, {"owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 1, "creation_date": 1458765457, "post_id": 36187736, "comment_id": 60011735, "body": "@alexe&#39;s answer combined with the concept that <code>&#47;&#47;</code> can be applied within an XPath expression to descend <i>at that point</i> (not starting over from the root)  should be all you need to answer your question.   Do you still have an open issue?"}, {"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "reply_to_user": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 0, "creation_date": 1458765613, "post_id": 36187736, "comment_id": 60011826, "body": "@kjhughes Thanks, that resolves the question! I hadn&#39;t accepted the answer yet because my script isn&#39;t working yet \u2013 thereby having no way of verifying the answer. But given that the assumptions are now clear I will be able to accept the answer and continue debugging."}, {"owner": {"reputation": 88945, "user_id": 290085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306077a2fb7af6587f470214a1b337ff?s=128&d=identicon&r=PG", "display_name": "kjhughes", "link": "https://stackoverflow.com/users/290085/kjhughes"}, "edited": false, "score": 0, "creation_date": 1458766871, "post_id": 36187736, "comment_id": 60012489, "body": "Np, just wasn&#39;t sure if the continued edits to the question were an attempt to say something still was unanswered.  Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 2, "last_activity_date": 1458766910, "last_edit_date": 1458766910, "creation_date": 1458764008, "answer_id": 36187852, "question_id": 36187736, "link": "https://stackoverflow.com/questions/36187736/xpath-from-parent-node-descend-to-sub-sub-sub-child-node-that-matches-conditio/36187852#36187852", "title": "xPath: From parent node, descend to sub-sub-sub child node that matches condition?", "body": "<p>You are almost correct, just add a text check:</p>\n\n<pre><code>//td[normalize-space(.) = \"Name\"]/following-sibling::td[1]/text()\n</code></pre>\n"}], "owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 1, "accepted_answer_id": 36187852, "answer_count": 1, "score": 2, "last_activity_date": 1458766910, "creation_date": 1458763617, "last_edit_date": 1458765874, "question_id": 36187736, "link": "https://stackoverflow.com/questions/36187736/xpath-from-parent-node-descend-to-sub-sub-sub-child-node-that-matches-conditio", "title": "xPath: From parent node, descend to sub-sub-sub child node that matches condition?", "body": "<p>I'm trying to write a <code>xpath</code> that gets the text from <code>\"I want to get this text snippet\"</code> below.</p>\n\n<pre><code>&lt;root&gt;\n  &lt;div class=\"box\"&gt;\n    &lt;div class=\"col-lg-12\"&gt;\n      &lt;h2&gt;Issuer&lt;/h2&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;div class=\"table-responsive\"&gt;\n    &lt;table class=\"table\"&gt;\n      &lt;tbody&gt;\n        &lt;tr&gt;\n          &lt;td&gt; Name &lt;/td&gt;\n          &lt;td class=\"text-right\"&gt; I want to get this text snippet &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/tbody&gt;\n    &lt;/table&gt;\n  &lt;/div&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>So far I have this:</p>\n\n<pre><code>//h2[\"Issuer\"]/parent::div/parent::div/following-sibling::div//td[\"Name\"]/following-sibling::td/text()\n</code></pre>\n\n<p>There are two parts to this line at the moment:</p>\n\n<ol>\n<li><code>//h2[\"Issuer\"]/parent::div/parent::div/following-sibling::div</code> which takes us to <code>&lt;div class=\"table-responsive\"&gt;</code>.</li>\n<li><code>//td[\"Name\"]/following-sibling::td/text()</code> which takes us to the text snippet target in its <code>&lt;td&gt;</code> block.</li>\n</ol>\n\n<p>Both parts are important because there are multiple places in the real webpage source code where <code>&lt;td&gt; Name &lt;/td&gt;</code> can be found. So the first part determines where in the overall structure to start looking.</p>\n\n<p>Is my usage of <code>//</code> leading the second part the correct way to descend to any child node that matches the condition? I ask this because I can't find a match.</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1458826125, "post_id": 36187802, "comment_id": 60036049, "body": "I strongly believe my answer is more efficient than this.  This <i>finds all matching elements</i>, then gets the first of all of those, mine simply grabs the first one that matches."}, {"owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "reply_to_user": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1458849745, "post_id": 36187802, "comment_id": 60051459, "body": "@northsideknight find() is implemented by calling find_all() internally in BSoup, and find_all() is a generator - so my guess is that the difference is perfectly negligible when it comes to performance."}], "tags": [], "owner": {"reputation": 37387, "user_id": 137650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/418a42c29b040f2e0a51eea5330e2b7f?s=128&d=identicon&r=PG", "display_name": "MatsLindh", "link": "https://stackoverflow.com/users/137650/matslindh"}, "is_accepted": true, "score": 1, "last_activity_date": 1458763800, "creation_date": 1458763800, "answer_id": 36187802, "question_id": 36187731, "link": "https://stackoverflow.com/questions/36187731/python-beautifulsoup-get-specific-element/36187802#36187802", "title": "python BeautifulSoup get specific element", "body": "<p>Since you only want the first element in the iterator, addressing it directly should work:</p>\n\n<pre><code>first = inpu.select('input')[0].get('value')\nprint(first)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "is_accepted": false, "score": 7, "last_activity_date": 1458764366, "creation_date": 1458764366, "answer_id": 36187944, "question_id": 36187731, "link": "https://stackoverflow.com/questions/36187731/python-beautifulsoup-get-specific-element/36187944#36187944", "title": "python BeautifulSoup get specific element", "body": "<p>use\n    soup.find()</p>\n\n<p>by default it will get you the first element matching, so you could do:</p>\n\n<pre><code>info = soup.find(\"div\", {\"class\": \"new_info_next\"})\n</code></pre>\n\n<p>and info.get('value') should be 133</p>\n"}], "owner": {"reputation": 190, "user_id": 6052216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/903391753112762/picture?type=large", "display_name": "Aymen Derradji", "link": "https://stackoverflow.com/users/6052216/aymen-derradji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5870, "favorite_count": 0, "accepted_answer_id": 36187802, "answer_count": 2, "score": 4, "last_activity_date": 1503142559, "creation_date": 1458763603, "last_edit_date": 1503142559, "question_id": 36187731, "link": "https://stackoverflow.com/questions/36187731/python-beautifulsoup-get-specific-element", "title": "python BeautifulSoup get specific element", "body": "<p>if i have an html code like this </p>\n\n<pre><code>&lt;div class=\"new_info_next\"&gt;\n     &lt;input type=\"hidden\" value=\"133\" id=\"new_id\" class=\"new_id\"&gt;\n     &lt;input type=\"hidden\" value=\"0\" id=\"default_pe\" class=\"default_pe\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and i want to get only <code>133</code> in <code>input</code> the first line i try this code using BeautifulSoup4 </p>\n\n<pre><code>info = soup.find_all(\"div\", {\"class\": \"new_info_next\"})\nfor inpu in info:\n    for inpu1 in inpu.select('input'):\n         print inpu1 .get('value')\n</code></pre>\n\n<p>but the output was </p>\n\n<pre><code>133\n0\n</code></pre>\n\n<p>how to get only <code>133</code></p>\n"}, {"tags": ["python", "datetime", "numpy", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1458764488, "last_edit_date": 1458764488, "creation_date": 1458763728, "answer_id": 36187773, "question_id": 36187684, "link": "https://stackoverflow.com/questions/36187684/year-as-float-to-datetime64/36187773#36187773", "title": "Year as Float to Datetime64", "body": "<p>You can try <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"nofollow\"><code>to_datetime</code></a>:</p>\n\n<pre><code>print temp\n0    1994\n1    1995\n2    1996\n3   -9999\n4    1997\n5    2001\ndtype: int64\n\nprint pd.to_datetime(temp, format='%Y', errors='coerce')\n0   1994-01-01\n1   1995-01-01\n2   1996-01-01\n3          NaT\n4   1997-01-01\n5   2001-01-01\ndtype: datetime64[ns]\n</code></pre>\n\n<p>And if you need remove <code>NaT</code> add <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.dropna.html\" rel=\"nofollow\"><code>dropna</code></a>:</p>\n\n<pre><code>print pd.to_datetime(temp, format='%Y', errors='coerce').dropna()\n0   1994-01-01\n1   1995-01-01\n2   1996-01-01\n4   1997-01-01\n5   2001-01-01\ndtype: datetime64[ns]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 641, "user_id": 6854929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/963a46e5e83651d2b6b618ef940d75fc?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/6854929/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1500053764, "creation_date": 1500053764, "answer_id": 45108781, "question_id": 36187684, "link": "https://stackoverflow.com/questions/36187684/year-as-float-to-datetime64/45108781#45108781", "title": "Year as Float to Datetime64", "body": "<p>Using standard datetime library:</p>\n\n<pre><code>datetime.datetime.strptime(str(temp[1]),'%Y')\n</code></pre>\n\n<p>but needs to iterate over the Series, and manage errors, as it will crash on -9999</p>\n\n<p>Something like this, will do the trick:</p>\n\n<pre><code>for i in range(1,len(temp)+1):\n    try:\n        temp[i]=datetime.datetime.strptime(str(temp[i]),'%Y')\n    except:\n        temp[i]=None\n</code></pre>\n"}], "owner": {"reputation": 475, "user_id": 1200989, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/roh35.jpg?s=128&g=1", "display_name": "blalterman", "link": "https://stackoverflow.com/users/1200989/blalterman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1694, "favorite_count": 0, "accepted_answer_id": 36187773, "answer_count": 2, "score": 1, "last_activity_date": 1500053764, "creation_date": 1458763443, "question_id": 36187684, "link": "https://stackoverflow.com/questions/36187684/year-as-float-to-datetime64", "title": "Year as Float to Datetime64", "body": "<p>I have a series of years in the following Series:</p>\n\n<pre><code>&gt;&gt;&gt;temp\n&gt;&gt;&gt; 0          1994\n1          1995\n2          1996\n3          -9999\n4          1997\n5          2001\ndtype: float64\n</code></pre>\n\n<p>I have tried a number of different solutions to get these values to years. I only seem to be able to get the following to convert these floats to valid datetime values.</p>\n\n<pre><code>&gt;&gt;&gt;temp.replace(-9999, np.nan).dropna().astype(int).astype(str).apply(np.datetime64)\n&gt;&gt;&gt;0   1994-01-01\n1   1995-01-01\n2   1996-01-01\n4   2001-01-01\n5   2002-01-01\ndtype: datetime64[ns]\n</code></pre>\n\n<p>Is there a more effective way to go about this? I doubt that converting everything to an integer and then a string is actually necessary or appropriate in this circumstance.</p>\n"}, {"tags": ["python", "csv", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 9372, "user_id": 4585963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8Yzwc.jpg?s=128&g=1", "display_name": "hilberts_drinking_problem", "link": "https://stackoverflow.com/users/4585963/hilberts-drinking-problem"}, "edited": false, "score": 0, "creation_date": 1458763622, "post_id": 36187646, "comment_id": 60010672, "body": "What is the desired content of <code>df</code>? Right now you define it outside of the outermost loop, so it contains all of the data. Perhaps you need a list of dataframes instead?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1458763625, "post_id": 36187646, "comment_id": 60010675, "body": "I&#39;m really not clear what you&#39;re asking.  In your example above, do you want two files, each containing data from the three files in each group?"}, {"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1458763877, "post_id": 36187646, "comment_id": 60010816, "body": "@Alexander my goal was to purely load the data into the dataframe, rinse and repeat. see my edit.  I think I answered it"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1458764081, "post_id": 36187646, "comment_id": 60010925, "body": "It&#39;s still not clear.  What do you mean don&#39;t accumulate? Do you simply want to unnest your list of lists and read every file?"}, {"owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1458764297, "post_id": 36187646, "comment_id": 60011051, "body": "@Alexander at the moment, when it loops thru the csv files (one list at a time) lets assume there are 50 lines per csv file, load 3 at a time. My dataframe after the entire loop is ran, goes from 150 to 300 lines in my dataframe, but I want it to load one set of list at a time, so the dataframe should loop and be 150 lines long, loop again and 150 lines long, instead it goes from 150 lines and then 300 lines (accumulation)"}], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1458764785, "last_edit_date": 1458764785, "creation_date": 1458763871, "answer_id": 36187819, "question_id": 36187646, "link": "https://stackoverflow.com/questions/36187646/looping-in-lists-of-csv-files-names/36187819#36187819", "title": "looping in lists of csv files names", "body": "<p>This should unnest your files and read each separately using a list comprehension, and then join them all using <code>concat</code>.  This is much more efficient than appending each read to a growing dataframe.</p>\n\n<pre><code>df = pd.concat([pd.read_csv(file_, index_col=None, names=names, parse_dates=True) \n                for chunk in fileChunks for file_ in chunk], \n               ignore_index=True)\n\n\n&gt;&gt;&gt; [file_ for chunk in fileChunks for file_ in chunk]\n['2003.csv', '2004.csv', '2005.csv', '2006.csv', '2007.csv', '2008.csv']\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 2692787, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/95093950a377baf0972e04df0f56b35e?s=128&d=identicon&r=PG&f=1", "display_name": "antonio_zeus", "link": "https://stackoverflow.com/users/2692787/antonio-zeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1458764785, "creation_date": 1458763329, "last_edit_date": 1458763995, "question_id": 36187646, "link": "https://stackoverflow.com/questions/36187646/looping-in-lists-of-csv-files-names", "title": "looping in lists of csv files names", "body": "<p>I am having some issues with my below code. The purpose of the code is to take a list of lists that within each of the lists, carries a series of csv files. I want to loop through each of these lists (one at a time) and pull in only the csv files found in the respective list.</p>\n\n<p>my current code is accumulating all the data instead of starting from scratch each time it loops thru. First loop, use all the csv files in 0th index, second loop, use all the csv files in the 1st index - but dont accumulate</p>\n\n<pre><code>path = \"C:/DataFolder/\"\nallFiles = glob.glob(path + \"/*.csv\")\nfileChunks = [['2003.csv','2004.csv','2005.csv'],['2006.csv','2007.csv','2008.csv']]\n\n\nfor i in range(len(fileChunks)):\n\"\"\"move empty dataframe here\"\"\"\n\ndf = pd.DataFrame()\n\n    for file_ in fileChunks[i]:\n        df_temp = pd.read_csv(file_, index_col = None, names = names, parse_dates=True)\n        df = df.append(df_temp)\n</code></pre>\n\n<p>note: fileChunks is derived from a function, and it spits out a list of lists like the example above</p>\n\n<p>any help to documentation or pointing out my error would be great - I want to learn from this. thank you.</p>\n\n<p>EDIT\nIt seems that moving the empty dataframe to within the first for loop works.</p>\n"}, {"tags": ["python", "pandas", "time-series"], "comments": [{"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1458764048, "post_id": 36187637, "comment_id": 60010898, "body": "please check your expected output or this condition <code>if a date doesn&#39;t appear in the raw data, it gets a value of 0</code> - why do you have <code>values != 0</code> for the dates: 01,02,05,06,07?"}, {"owner": {"reputation": 1149, "user_id": 2570089, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/89e07d4b83a27570139c30865cd38e5a?s=128&d=identicon&r=PG", "display_name": "hahdawg", "link": "https://stackoverflow.com/users/2570089/hahdawg"}, "reply_to_user": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1458765420, "post_id": 36187637, "comment_id": 60011711, "body": "Sorry for the confusion.  Hopefully the edits make it clearer."}], "answers": [{"comments": [{"owner": {"reputation": 1149, "user_id": 2570089, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/89e07d4b83a27570139c30865cd38e5a?s=128&d=identicon&r=PG", "display_name": "hahdawg", "link": "https://stackoverflow.com/users/2570089/hahdawg"}, "edited": false, "score": 0, "creation_date": 1458825414, "post_id": 36189259, "comment_id": 60035540, "body": "Thanks.  That&#39;s orders of magnitude faster than the loop I was using."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 1149, "user_id": 2570089, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/89e07d4b83a27570139c30865cd38e5a?s=128&d=identicon&r=PG", "display_name": "hahdawg", "link": "https://stackoverflow.com/users/2570089/hahdawg"}, "edited": false, "score": 0, "creation_date": 1458825489, "post_id": 36189259, "comment_id": 60035592, "body": "@hahdawg, glad I could help :)"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 1, "last_activity_date": 1458769419, "creation_date": 1458769419, "answer_id": 36189259, "question_id": 36187637, "link": "https://stackoverflow.com/questions/36187637/convert-date-ranges-to-time-series-in-pandas/36189259#36189259", "title": "Convert Date Ranges to Time Series in Pandas", "body": "<p>You may try this:</p>\n\n<pre><code>In [120]: df\nOut[120]:\n  start_date   end_date  value\n0 2016-01-01 2016-01-03      2\n1 2016-01-05 2016-01-08      4\n\nIn [121]: new = pd.DataFrame({'dt': pd.date_range(df.start_date.min(), df.end_date.max())})\n\nIn [122]: new\nOut[122]:\n          dt\n0 2016-01-01\n1 2016-01-02\n2 2016-01-03\n3 2016-01-04\n4 2016-01-05\n5 2016-01-06\n6 2016-01-07\n7 2016-01-08\n\nIn [123]: new = new.merge(df, how='left', left_on='dt', right_on='start_date').fillna(method='pad')\n\nIn [124]: new\nOut[124]:\n          dt start_date   end_date  value\n0 2016-01-01 2016-01-01 2016-01-03    2.0\n1 2016-01-02 2016-01-01 2016-01-03    2.0\n2 2016-01-03 2016-01-01 2016-01-03    2.0\n3 2016-01-04 2016-01-01 2016-01-03    2.0\n4 2016-01-05 2016-01-05 2016-01-08    4.0\n5 2016-01-06 2016-01-05 2016-01-08    4.0\n6 2016-01-07 2016-01-05 2016-01-08    4.0\n7 2016-01-08 2016-01-05 2016-01-08    4.0\n\nIn [125]: new.ix[(new.dt &lt; new.start_date) | (new.dt &gt; new.end_date), 'value'] = 0\n\nIn [126]: new[['dt', 'value']]\nOut[126]:\n          dt  value\n0 2016-01-01    2.0\n1 2016-01-02    2.0\n2 2016-01-03    2.0\n3 2016-01-04    0.0\n4 2016-01-05    4.0\n5 2016-01-06    4.0\n6 2016-01-07    4.0\n7 2016-01-08    4.0\n</code></pre>\n"}], "owner": {"reputation": 1149, "user_id": 2570089, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/89e07d4b83a27570139c30865cd38e5a?s=128&d=identicon&r=PG", "display_name": "hahdawg", "link": "https://stackoverflow.com/users/2570089/hahdawg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "accepted_answer_id": 36189259, "answer_count": 1, "score": 2, "last_activity_date": 1458769419, "creation_date": 1458763308, "last_edit_date": 1458767047, "question_id": 36187637, "link": "https://stackoverflow.com/questions/36187637/convert-date-ranges-to-time-series-in-pandas", "title": "Convert Date Ranges to Time Series in Pandas", "body": "<p>My raw data looks like the following:</p>\n\n<pre><code>  start_date   end_date  value\n0 2016-01-01 2016-01-03      2\n1 2016-01-05 2016-01-08      4\n</code></pre>\n\n<p>The interpretation is that the data takes a value of <strong>2</strong> between <strong>1/1/2016</strong> and <strong>1/3/2016</strong>, and it takes a value of <strong>4</strong> between <strong>1/5/2016</strong> and <strong>1/8/2016</strong>.  I want to transform the raw data to a daily time series like the following:</p>\n\n<pre><code>2016-01-01    2\n2016-01-02    2\n2016-01-03    2\n2016-01-04    0\n2016-01-05    4\n2016-01-06    4\n2016-01-07    4\n2016-01-08    4\n</code></pre>\n\n<p>Note that if a date in the time series doesn't appear between the <strong>start_date</strong> and <strong>end_date</strong> in any row of the raw data, it gets a value of 0 in the time series.</p>\n\n<p>I can create the time series by looping through the raw data, but that's slow.  Is there a faster way to do it?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1458763345, "post_id": 36187607, "comment_id": 60010518, "body": "can you edit your df as it looks a bit weird, also is row 16 a column or an index value?"}, {"owner": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1458763585, "post_id": 36187607, "comment_id": 60010647, "body": "Are you trying to select the first 5 rows that match the condition?  Or in the first 5 rows, only the ones that match the condition?"}, {"owner": {"reputation": 2212, "user_id": 2115409, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2YEyO.gif?s=128&g=1", "display_name": "Private", "link": "https://stackoverflow.com/users/2115409/private"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1458764085, "post_id": 36187607, "comment_id": 60010929, "body": "@EdChum I reformatted it"}, {"owner": {"reputation": 2212, "user_id": 2115409, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2YEyO.gif?s=128&g=1", "display_name": "Private", "link": "https://stackoverflow.com/users/2115409/private"}, "reply_to_user": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1458764125, "post_id": 36187607, "comment_id": 60010947, "body": "@northsideknight good spot. I added more detail: I am looking to start from 19 and then select 16, 13, 10, 7, and 4."}, {"owner": {"reputation": 1285, "user_id": 4227700, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/BKZJV.jpg?s=128&g=1", "display_name": "northsideknight", "link": "https://stackoverflow.com/users/4227700/northsideknight"}, "edited": false, "score": 0, "creation_date": 1458764762, "post_id": 36187607, "comment_id": 60011320, "body": "In list comprehension you could do [b for row in rows[:index] if row.b==True][:5] I have no experience in pandas though, maybe this is a step in the right direction?"}], "answers": [{"comments": [{"owner": {"reputation": 2212, "user_id": 2115409, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2YEyO.gif?s=128&g=1", "display_name": "Private", "link": "https://stackoverflow.com/users/2115409/private"}, "edited": false, "score": 0, "creation_date": 1459259401, "post_id": 36188175, "comment_id": 60198300, "body": "This largely does what expected, but it is really slow. Is there a way to speed this up?"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 2, "last_activity_date": 1459260027, "last_edit_date": 1459260027, "creation_date": 1458765194, "answer_id": 36188175, "question_id": 36187607, "link": "https://stackoverflow.com/questions/36187607/relative-row-selection-in-pandas/36188175#36188175", "title": "Relative row selection in pandas?", "body": "<p>try this:</p>\n\n<pre><code>In [31]: df.ix[(df.b) &amp; (df.index &lt; df[df.a == 19].index[0])].tail(5)\nOut[31]:\n    a     b\n2   4  True\n3   7  True\n5  10  True\n6  13  True\n7  16  True\n</code></pre>\n\n<p>Step by step:</p>\n\n<p>index of the element where a==19:</p>\n\n<pre><code>In [32]: df[df.a == 19].index[0]\nOut[32]: 9\n</code></pre>\n\n<p>now we can list all elements where <code>b is True</code> and which index is less than 9:</p>\n\n<pre><code>In [30]: df.ix[(df.b) &amp; (df.index &lt;9)].tail(5)\nOut[30]:\n    a     b\n2   4  True\n3   7  True\n5  10  True\n6  13  True\n7  16  True\n</code></pre>\n\n<p>now combine both of them:</p>\n\n<pre><code>In [33]: df.ix[(df.b) &amp; (df.index &lt; df[df.a == 19].index[0])].tail(5)\nOut[33]:\n    a     b\n2   4  True\n3   7  True\n5  10  True\n6  13  True\n7  16  True\n</code></pre>\n\n<p>Speed it up a little bit:</p>\n\n<pre><code>In [103]: idx19 = df[df.a == 19].index[0]\n\nIn [104]: idx19\nOut[104]: 9\n\nIn [107]: %timeit df.ix[(df.b) &amp; (df.index &lt; df[df.a == 19].index[0])].tail(5)\n1000 loops, best of 3: 973 \u00b5s per loop\n\nIn [108]: %timeit df.ix[(df.b) &amp; (df.index &lt; idx19)].tail(5)\n1000 loops, best of 3: 564 \u00b5s per loop\n</code></pre>\n\n<p>PS so it got 42% faster</p>\n"}], "owner": {"reputation": 2212, "user_id": 2115409, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/2YEyO.gif?s=128&g=1", "display_name": "Private", "link": "https://stackoverflow.com/users/2115409/private"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1459260027, "creation_date": 1458763192, "last_edit_date": 1458764062, "question_id": 36187607, "link": "https://stackoverflow.com/questions/36187607/relative-row-selection-in-pandas", "title": "Relative row selection in pandas?", "body": "<p>Is it possible in pandas to select the 5 rows <em>before/after</em> a specific row if they match a specific condition?</p>\n\n<p>For instance, is it possible to start from row 19, and then select the five preceding rows for which b is True (thus selecting 16,16,10,7, and 4). I would call this 'relative' location. (Is there a better term for this? A place I can read about this type of lookup?) </p>\n\n<pre><code>a      |  b   \n=============\n0       True   \n1       False\n4       True\n7       True\n9       False\n10      True\n13      True\n16      True\n18      False\n19      True\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 1543, "user_id": 2356315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4c10a97a2ed38b2a913e47c64ebe2fa?s=128&d=identicon&r=PG", "display_name": "Hektor", "link": "https://stackoverflow.com/users/2356315/hektor"}, "edited": false, "score": 0, "creation_date": 1458762775, "post_id": 36187439, "comment_id": 60010177, "body": "This link should answer your question: <a href=\"http://stackoverflow.com/questions/15300550/python-return-return-none-and-no-return-at-all\" title=\"python return return none and no return at all\">stackoverflow.com/questions/15300550/&hellip;</a>"}, {"owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "edited": false, "score": 0, "creation_date": 1458762930, "post_id": 36187439, "comment_id": 60010264, "body": "it depends on your purpose, what you gonna do with it"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458762940, "post_id": 36187439, "comment_id": 60010271, "body": "What do you mean it does not need a return? If your <code>decision == &#39;ret&#39;</code> condition is met, you are appending to li and then you are returning <code>li</code>. So I do not see where you are drawing your conclusion from."}, {"owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458763714, "post_id": 36187439, "comment_id": 60010716, "body": "@idjaw if i remove the return from the &quot;return l1[val]&quot; - and change the input of the function at bottom to &quot;append&quot; it doesn&#39;t work? This is why I&#39;m confused that .append doesn&#39;t need to have a return before it but l1[val] does!"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458763860, "post_id": 36187439, "comment_id": 60010801, "body": "@Phil Sorry, I have no idea what you are trying to explain. I would suggest editing your question to give more explicit examples. Maybe it&#39;s just me, but I&#39;m having a hard time following what your problem is."}, {"owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458764005, "post_id": 36187439, "comment_id": 60010878, "body": "@idjaw sorry my bad! examples coming!"}, {"owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "edited": false, "score": 0, "creation_date": 1458764248, "post_id": 36187439, "comment_id": 60011017, "body": "Edited the question! Hopefully clearer now!"}, {"owner": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458764477, "post_id": 36187439, "comment_id": 60011150, "body": "@Phil Now please explain what &quot;it breaks&quot; means. :)"}, {"owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "reply_to_user": {"reputation": 21707, "user_id": 1832539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2972ae1ab4d157c88bc94654b96d47be?s=128&d=identicon&r=PG", "display_name": "idjaw", "link": "https://stackoverflow.com/users/1832539/idjaw"}, "edited": false, "score": 0, "creation_date": 1458764673, "post_id": 36187439, "comment_id": 60011266, "body": "@idjaw the output went from the single digit (correct) to returning the full list instead (given I&#39;ve asked it to return the full list at the end)!"}, {"owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "edited": false, "score": 0, "creation_date": 1458764791, "post_id": 36187439, "comment_id": 60011336, "body": "oh......you only need to include the return when the list is being returned I think i.e. append, sort but NOT count, [1] etc.?"}], "answers": [{"tags": [], "owner": {"reputation": 750, "user_id": 1426383, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c4dc025fcd541d92a0e98398b873267a?s=128&d=identicon&r=PG", "display_name": "Luis F Hernandez", "link": "https://stackoverflow.com/users/1426383/luis-f-hernandez"}, "is_accepted": true, "score": 0, "last_activity_date": 1458762994, "creation_date": 1458762994, "answer_id": 36187538, "question_id": 36187439, "link": "https://stackoverflow.com/questions/36187439/do-some-functions-take-return-and-other-not-in-python/36187538#36187538", "title": "Do some functions take return and other not in Python?", "body": "<p>The reason for this is that <code>l1.append(val)</code> affects the original object. As in, calling <code>.append(val)</code> goes to the array that you passed to your <code>change_list</code> function and does it to your original <code>L</code> array. Where as <code>l1[val]</code> only asks your original <code>L</code> for the value. So it must be returned</p>\n"}], "owner": {"reputation": 47, "user_id": 5904219, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/bc4577acf2203f3f55ea79fe0544b97d?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/5904219/phil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "closed_date": 1458768457, "accepted_answer_id": 36187538, "answer_count": 1, "score": 0, "last_activity_date": 1458764222, "creation_date": 1458762598, "last_edit_date": 1458764222, "question_id": 36187439, "link": "https://stackoverflow.com/questions/36187439/do-some-functions-take-return-and-other-not-in-python", "closed_reason": "Needs details or clarity", "title": "Do some functions take return and other not in Python?", "body": "<p>I'm trying to figure out why some statements require and RETURN and others do not? Like below, I wrote this and  l1.append(val) doesn't need a return but for example l1[val] does? </p>\n\n<p>Does it just depend on the variable?</p>\n\n<pre><code>L = [1,3,5,7,9,11, 2] \n\nprint 'Original List =', L\ndef change_list(l1, val, decision):\n    if decision == 'append':\n        return l1[val]\n    elif decision == 'ret':\n        l1.append(val)\n    elif decision == 'instance':\n        return l1.count(val)\n    elif decision == 'sort':\n        l1.sort()\n    return l1\nres=change_list(L, 2, 'append')\nprint 'Output =', res\n</code></pre>\n\n<p>However if I change it to the following (remove the return) it breaks! Wh does this happen given some of the conditions need a return to work, some do not?:</p>\n\n<p>L = [1,3,5,7,9,11, 2] </p>\n\n<pre><code>print 'Original List =', L\ndef change_list(l1, val, decision):\n    if decision == 'append':\n        l1[val]\n    elif decision == 'ret':\n        l1.append(val)\n    elif decision == 'instance':\n        return l1.count(val)\n    elif decision == 'sort':\n        l1.sort()\n    return l1\nres=change_list(L, 2, 'append')\nprint 'Output =', res\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "plot", "gnuplot"], "comments": [{"owner": {"reputation": 3747, "user_id": 2597213, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e7907344803baaa139d4beeb43bf92b?s=128&d=identicon&r=PG", "display_name": "efirvida", "link": "https://stackoverflow.com/users/2597213/efirvida"}, "edited": false, "score": 0, "creation_date": 1458762697, "post_id": 36187386, "comment_id": 60010135, "body": "what is the error?"}, {"owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "reply_to_user": {"reputation": 3747, "user_id": 2597213, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8e7907344803baaa139d4beeb43bf92b?s=128&d=identicon&r=PG", "display_name": "efirvida", "link": "https://stackoverflow.com/users/2597213/efirvida"}, "edited": false, "score": 0, "creation_date": 1458763120, "post_id": 36187386, "comment_id": 60010375, "body": "@efirvida just added it into the post since you asked, the error is &quot;invalid syntax&quot;.  Thanks."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 2, "creation_date": 1458763619, "post_id": 36187386, "comment_id": 60010671, "body": "@Integrals: The reason for the SyntaxError is because identifiers (like <code>3Dplot</code>) <a href=\"https://docs.python.org/2/reference/lexical_analysis.html#identifiers\" rel=\"nofollow noreferrer\">can not start with a digit</a>."}, {"owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "reply_to_user": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1458764193, "post_id": 36187386, "comment_id": 60010987, "body": "@unutbu Thanks, I appreciate it!"}], "answers": [{"comments": [{"owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "edited": false, "score": 1, "creation_date": 1458763835, "post_id": 36187706, "comment_id": 60010783, "body": "That works really well!  Thanks a lot for pointing out why the invalid syntax error was coming up also."}, {"owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "edited": false, "score": 0, "creation_date": 1458825550, "post_id": 36187706, "comment_id": 60035628, "body": "Is there an easy way to add another .dat file to this code?  So I can plot two .dat files on the same figure?  Each .dat file has 3 columns, so I just meant putting 2 plots on the same figure. I tried many things but cannot figure it out.  In GNU plot, it is just       splot &#39;filename1.dat&#39;,&#39;filename2.dat&#39;.    So I tried many things like that here but couldn&#39;t figure it out. Thanks!  I will gladly post this as another question if you suggest.  Sorry to bother you."}, {"owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "reply_to_user": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "edited": false, "score": 1, "creation_date": 1458825816, "post_id": 36187706, "comment_id": 60035835, "body": "Just read the new .dat file with another <code>dat_file2 = np.loadtxt()</code> line and then plot with a new <code>ax.scatter(*dat_file2)</code> line."}, {"owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "edited": false, "score": 1, "creation_date": 1458826067, "post_id": 36187706, "comment_id": 60036014, "body": "Well that worked quickly as well.  I failed to add another line for the ax.scatter plot,  I was trying to do everything with just 1 as in GNU.  Thanks a lot."}], "tags": [], "owner": {"reputation": 32256, "user_id": 1391441, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/FP3Un.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/1391441/gabriel"}, "is_accepted": true, "score": 5, "last_activity_date": 1458763966, "last_edit_date": 1458763966, "creation_date": 1458763512, "answer_id": 36187706, "question_id": 36187386, "link": "https://stackoverflow.com/questions/36187386/plotting-3-columns-from-dat-file/36187706#36187706", "title": "plotting 3 columns from .dat file", "body": "<p>You are using the <a href=\"http://matplotlib.org/mpl_toolkits/mplot3d/tutorial.html\" rel=\"nofollow noreferrer\">Axes3D</a> object incorrectly, that's why you see a <code>SyntaxError</code>.</p>\n\n<p>Try this:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.mplot3d import Axes3D\n\nfig = plt.figure()\nax = Axes3D(fig)\n\n# Unpack file data.\ndat_file = np.loadtxt(\"filename.dat\", unpack=True)\n\n# Plot data.\nax.scatter(*dat_file, linewidth=2.0)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/twUQL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/twUQL.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 502, "user_id": 4538674, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/eb62f75ad508781e30b9825facf65572?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Faraci", "link": "https://stackoverflow.com/users/4538674/jeff-faraci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 1, "accepted_answer_id": 36187706, "answer_count": 1, "score": 3, "last_activity_date": 1458763966, "creation_date": 1458762412, "last_edit_date": 1458763067, "question_id": 36187386, "link": "https://stackoverflow.com/questions/36187386/plotting-3-columns-from-dat-file", "title": "plotting 3 columns from .dat file", "body": "<p>I have a .dat file with 3 columns that I would like to plot.\nHow can I plot them using matplotlib/ python?  I am new to python, the .dat file was created using Fortran 90.  A portion of the filename.dat file is below</p>\n\n<pre><code>0.0 0.1 0.85\n1.0 0.3 0.62\n2.0 0.5 0.27\n3.0 0.7 0.34\n4.0 0.9 0.19\n</code></pre>\n\n<p>My python code (not correct) that plots the data in 3D is below.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plot\nfrom mpl_toolkits.mplot3d import Axes3D\n\n3Dplot.plot(*np.loadtxt(\"filename.dat\",unpack=True), linewidth=2.0) #invalid syntax, why?\n3Dplot.show()\n</code></pre>\n\n<p>What is the equivalent to the GNUplot command</p>\n\n<pre><code>splot 'filename.dat' using 1:2:3\n</code></pre>\n\n<p>in python? That is what I am trying to do.</p>\n\n<p>However when I run the .py, I get \"invalid syntax\" error message which I am not sure why, but it is the line that starts with 3D.  How  can I plot 3d data?  I am able to do this if I have a .dat file with only two columns, but when I go to 3 dimensions I do not know what to do.  Thanks!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1458762531, "post_id": 36187372, "comment_id": 60010047, "body": "Without seeing your entire program we can&#39;t be much help at all, but ... the tiny fragment you did show is so utterly different from the actual way this would be done in Python that I have to wonder whether you are reading a tutorial for the wrong programming language.  Could you please tell us where you heard that <code>serverSocket.receive</code> was the thing to do?"}, {"owner": {"reputation": 121127, "user_id": 388520, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/dd7cc06b1b1c347e172c6ba532937173?s=128&d=identicon&r=PG", "display_name": "zwol", "link": "https://stackoverflow.com/users/388520/zwol"}, "edited": false, "score": 0, "creation_date": 1458762568, "post_id": 36187372, "comment_id": 60010060, "body": "Please read <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 1968531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcbdd60ab1186516abdc084a341cfa26?s=128&d=identicon&r=PG", "display_name": "Brandon Davis", "link": "https://stackoverflow.com/users/1968531/brandon-davis"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762626, "creation_date": 1458762626, "answer_id": 36187449, "question_id": 36187372, "link": "https://stackoverflow.com/questions/36187372/python-socket-setup/36187449#36187449", "title": "Python Socket Setup", "body": "<p>That is because no method is defined in the socket class for <code>receive</code> as your error states. You should use: </p>\n\n<pre><code>socket.recv(bufsize)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user3520669"}, "is_accepted": false, "score": 1, "last_activity_date": 1464958153, "creation_date": 1464958153, "answer_id": 37614849, "question_id": 36187372, "link": "https://stackoverflow.com/questions/36187372/python-socket-setup/37614849#37614849", "title": "Python Socket Setup", "body": "<p>In order to receive data from a client/server via TCP in python using sockets:</p>\n\n<p><code>someData = sock.recv(1024)</code></p>\n"}], "owner": {"reputation": 1, "user_id": 6106231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a960799879a3d8a8aa8262a97dc2814?s=128&d=identicon&r=PG&f=1", "display_name": "diddle", "link": "https://stackoverflow.com/users/6106231/diddle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1464958153, "creation_date": 1458762359, "question_id": 36187372, "link": "https://stackoverflow.com/questions/36187372/python-socket-setup", "title": "Python Socket Setup", "body": "<p>I'm trying to setup a basic socket program using TCP connections in Python, such as creating a socket, binding it to a specific address and port, as well as sending and receiving a HTTP packet.</p>\n\n<p>I'm having trouble receiving the request message from the client.</p>\n\n<p>I'm using the following:</p>\n\n<p>message = serverSocket.receive</p>\n\n<p>But when I go to the socket, port and file that's in my server directory through my browser I get the following error from IDLE:</p>\n\n<p>AttributeError: 'socket' object has no attribute 'receive'</p>\n\n<p>Is this the wrong approach to receive a request message from a client?</p>\n"}, {"tags": ["python", "regex", "python-2.7", "python-3.x"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1458762569, "post_id": 36187349, "comment_id": 60010061, "body": "If you install <a href=\"https://pypi.python.org/pypi/regex\" rel=\"nofollow noreferrer\">PyPi regex module</a>, you can use <code>\\p{Lu}</code> class."}, {"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458763283, "post_id": 36187349, "comment_id": 60010468, "body": "Thanks, +1, but... I don&#39;t want to add new external dependencies to my project."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1458764279, "post_id": 36187349, "comment_id": 60011041, "body": "<a href=\"http://ideone.com/WRASFm\" rel=\"nofollow noreferrer\">Here is a regex</a> with all uppercase letter ranges."}, {"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1458764420, "post_id": 36187349, "comment_id": 60011117, "body": "Wow =) Thanks! This is the biggest regex I&#39;ve seen ever!"}], "answers": [{"comments": [{"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "edited": false, "score": 0, "creation_date": 1458763428, "post_id": 36187590, "comment_id": 60010559, "body": "&quot;It&#39;s possible to make this without enumerations of symbols?&quot; I have so many languages in my dataset. It is quite difficult to add all Unicaode capitalize letters."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1458763450, "post_id": 36187590, "comment_id": 60010577, "body": "Since you do not want to add dependencies, <b>no</b>."}], "tags": [], "owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "is_accepted": false, "score": 2, "last_activity_date": 1458763732, "last_edit_date": 1458763732, "creation_date": 1458763135, "answer_id": 36187590, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words/36187590#36187590", "title": "Python regex for unicode capitalized words", "body": "<pre><code>&gt;&gt;&gt; words\n'Does not match \u00c4h Oh \u00c4i \u00dcs \u00fcx \u00d6jjj'\n\n&gt;&gt;&gt; re.findall(r\"(\\b[A-Z\u00dc\u00d6\u00c4][a-z.-]+\\b)\", words, re.UNICODE)\n['Does', '\u00c4h', 'Oh', '\u00c4i', '\u00dcs', '\u00d6jjj']\n</code></pre>\n\n<p>Just add to the list all the Unicode letters which are not in the range A-Z, I added the german umlauts only.</p>\n\n<p>You can find all non ASCII letters (A-Z) like this: </p>\n\n<pre><code>&gt;&gt;&gt; [c for c in words if not c.isalpha() and not c.isdigit() and not c.isspace()]\n['\\xc3', '\\x84', '\\xc3', '\\x84', '\\xc3', '\\x9c', '\\xc3', '\\xbc', '\\xc3', '\\x96']\n</code></pre>\n\n<p>Now you'll have to figure which are capitals. </p>\n"}, {"comments": [{"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "edited": false, "score": 0, "creation_date": 1458764247, "post_id": 36187847, "comment_id": 60011015, "body": "Thanks, also +1. But I&#39;m trying to do this using regex only."}, {"owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "edited": false, "score": 0, "creation_date": 1458765092, "post_id": 36187847, "comment_id": 60011503, "body": "This is hell awesome!"}], "tags": [], "owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "is_accepted": false, "score": 2, "last_activity_date": 1459092030, "last_edit_date": 1459092030, "creation_date": 1458763995, "answer_id": 36187847, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words/36187847#36187847", "title": "Python regex for unicode capitalized words", "body": "<p>You can compare string with its capitalized version to tell if it's capitalized or not:</p>\n\n<pre><code>&gt;&gt;&gt;&gt; s = '\u017c\u00f3\u0142\u0107 \u017b\u00f3\u0142w \u0107Ma'\n&gt;&gt;&gt;&gt; l = s.split()\n&gt;&gt;&gt;&gt; [word for word in l if word == word.capitalize()]\n['\u017b\u00f3\u0142w']\n&gt;&gt;&gt;&gt; frozenset(l).intersection(s.capitalize() for s in l)\nfrozenset({'\u017b\u00f3\u0142w'})\n</code></pre>\n\n<p>Note that in Python2 you need to use unicode strings for it to work correctly.</p>\n"}, {"comments": [{"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "edited": false, "score": 0, "creation_date": 1458765073, "post_id": 36187965, "comment_id": 60011494, "body": "This regex works incorrectly. For example it matches non-capitalized word &quot;\u0436\u0438\u0432\u0435\u0442\u0435&quot; and doesn&#39;t matches capitalized word &quot;Oh&quot;."}, {"owner": {"reputation": 118, "user_id": 6696746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb7497d826eea8747d2e0b5358525862?s=128&d=identicon&r=PG&f=1", "display_name": "icaine", "link": "https://stackoverflow.com/users/6696746/icaine"}, "edited": false, "score": 0, "creation_date": 1606995287, "post_id": 36187965, "comment_id": 115135577, "body": "<code>\\W</code> - Matches any character which is not a word character."}], "tags": [], "owner": {"reputation": 2797, "user_id": 5815127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86d9591ca6b832b53f2f57f797502f5f?s=128&d=identicon&r=PG&f=1", "display_name": "Till", "link": "https://stackoverflow.com/users/5815127/till"}, "is_accepted": false, "score": 0, "last_activity_date": 1458764433, "creation_date": 1458764433, "answer_id": 36187965, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words/36187965#36187965", "title": "Python regex for unicode capitalized words", "body": "<p>You should try <code>\\W</code> and <code>\\w</code> :</p>\n\n<p><a href=\"http://pythex.org/?regex=%28%5CW%2B%29&amp;test_string=%D0%B6%D0%B8%D0%B2%D0%B5%D1%82%D0%B5%20%D0%B7%D0%B5%D0%BB%D0%BE%2C%20%D0%B7%D0%B5%D0%BC%D0%BB%D1%8F%2C%20%D0%B8%20%D0%B8%D0%B6%D0%B5%20%D0%B8%20%D0%BA%D0%B0%D0%BA%D0%BE%20%D0%BB%D1%8E%D0%B4%D0%B8%0ADoes%20not%20match%20%C3%84h%20Oh%20%C3%84i%20%C3%9Cs%20%C3%BCx%20%C3%96jjj&amp;ignorecase=0&amp;multiline=0&amp;dotall=0&amp;verbose=0\" rel=\"nofollow\">Example in pythex.org</a></p>\n"}, {"comments": [{"owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "edited": false, "score": 0, "creation_date": 1458767210, "post_id": 36188204, "comment_id": 60012661, "body": "In python2 you should do <code>u&quot;\\p{Lu}&quot;</code> or compilation with <code>regex.UNICODE</code> flag. I edited the answer."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "edited": false, "score": 0, "creation_date": 1458767340, "post_id": 36188204, "comment_id": 60012727, "body": "In Python 2.x, just <code>u</code> and <code>re.U</code> might not be enough, but is certainly required."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 21, "last_activity_date": 1530008190, "last_edit_date": 1530008190, "creation_date": 1458765341, "answer_id": 36188204, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words/36188204#36188204", "title": "Python regex for unicode capitalized words", "body": "<p>If you need to use a regex, you have 2 options:</p>\n\n<ul>\n<li>Install <a href=\"https://pypi.python.org/pypi/regex\" rel=\"noreferrer\">PyPi <code>regex</code> module</a> and use <code>\\p{Lu}</code> or <code>[[:upper:]]</code> (having more uppercase chars in it) class (<a href=\"https://stackoverflow.com/questions/5183672/how-do-i-update-a-python-package\">make sure you have the latest version installed</a>)</li>\n<li>Use <code>re</code>  with a character class containing all uppercase letter ranges, either using Python utilities (and then the amount of the Unicode letters matched will depend on the Python version, the latest having up-to-date data) or by manually creating/updating the range from the <a href=\"https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3Aupper%3A%5D&amp;g=0000000&amp;i=\" rel=\"noreferrer\"><strong><em>Unicode Utilities CLDR</em></strong> page</a>.</li>\n</ul>\n\n<p>Here is a solution with a regex containing all uppercase letter ranges taken from <a href=\"https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3Aupper%3A%5D&amp;abb=on&amp;ucd=on&amp;esc=on&amp;g=0000000&amp;i=\" rel=\"noreferrer\">Unicode Utilities CLDR reference page</a>:</p>\n\n<pre><code>import re\npLu = \"[A-Z\\u00C0-\\u00D6\\u00D8-\\u00DE\\u0100\\u0102\\u0104\\u0106\\u0108\\u010A\\u010C\\u010E\\u0110\\u0112\\u0114\\u0116\\u0118\\u011A\\u011C\\u011E\\u0120\\u0122\\u0124\\u0126\\u0128\\u012A\\u012C\\u012E\\u0130\\u0132\\u0134\\u0136\\u0139\\u013B\\u013D\\u013F\\u0141\\u0143\\u0145\\u0147\\u014A\\u014C\\u014E\\u0150\\u0152\\u0154\\u0156\\u0158\\u015A\\u015C\\u015E\\u0160\\u0162\\u0164\\u0166\\u0168\\u016A\\u016C\\u016E\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017B\\u017D\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018B\\u018E-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019C\\u019D\\u019F\\u01A0\\u01A2\\u01A4\\u01A6\\u01A7\\u01A9\\u01AC\\u01AE\\u01AF\\u01B1-\\u01B3\\u01B5\\u01B7\\u01B8\\u01BC\\u01C4\\u01C7\\u01CA\\u01CD\\u01CF\\u01D1\\u01D3\\u01D5\\u01D7\\u01D9\\u01DB\\u01DE\\u01E0\\u01E2\\u01E4\\u01E6\\u01E8\\u01EA\\u01EC\\u01EE\\u01F1\\u01F4\\u01F6-\\u01F8\\u01FA\\u01FC\\u01FE\\u0200\\u0202\\u0204\\u0206\\u0208\\u020A\\u020C\\u020E\\u0210\\u0212\\u0214\\u0216\\u0218\\u021A\\u021C\\u021E\\u0220\\u0222\\u0224\\u0226\\u0228\\u022A\\u022C\\u022E\\u0230\\u0232\\u023A\\u023B\\u023D\\u023E\\u0241\\u0243-\\u0246\\u0248\\u024A\\u024C\\u024E\\u0370\\u0372\\u0376\\u037F\\u0386\\u0388-\\u038A\\u038C\\u038E\\u038F\\u0391-\\u03A1\\u03A3-\\u03AB\\u03CF\\u03D2-\\u03D4\\u03D8\\u03DA\\u03DC\\u03DE\\u03E0\\u03E2\\u03E4\\u03E6\\u03E8\\u03EA\\u03EC\\u03EE\\u03F4\\u03F7\\u03F9\\u03FA\\u03FD-\\u042F\\u0460\\u0462\\u0464\\u0466\\u0468\\u046A\\u046C\\u046E\\u0470\\u0472\\u0474\\u0476\\u0478\\u047A\\u047C\\u047E\\u0480\\u048A\\u048C\\u048E\\u0490\\u0492\\u0494\\u0496\\u0498\\u049A\\u049C\\u049E\\u04A0\\u04A2\\u04A4\\u04A6\\u04A8\\u04AA\\u04AC\\u04AE\\u04B0\\u04B2\\u04B4\\u04B6\\u04B8\\u04BA\\u04BC\\u04BE\\u04C0\\u04C1\\u04C3\\u04C5\\u04C7\\u04C9\\u04CB\\u04CD\\u04D0\\u04D2\\u04D4\\u04D6\\u04D8\\u04DA\\u04DC\\u04DE\\u04E0\\u04E2\\u04E4\\u04E6\\u04E8\\u04EA\\u04EC\\u04EE\\u04F0\\u04F2\\u04F4\\u04F6\\u04F8\\u04FA\\u04FC\\u04FE\\u0500\\u0502\\u0504\\u0506\\u0508\\u050A\\u050C\\u050E\\u0510\\u0512\\u0514\\u0516\\u0518\\u051A\\u051C\\u051E\\u0520\\u0522\\u0524\\u0526\\u0528\\u052A\\u052C\\u052E\\u0531-\\u0556\\u10A0-\\u10C5\\u10C7\\u10CD\\u13A0-\\u13F5\\u1E00\\u1E02\\u1E04\\u1E06\\u1E08\\u1E0A\\u1E0C\\u1E0E\\u1E10\\u1E12\\u1E14\\u1E16\\u1E18\\u1E1A\\u1E1C\\u1E1E\\u1E20\\u1E22\\u1E24\\u1E26\\u1E28\\u1E2A\\u1E2C\\u1E2E\\u1E30\\u1E32\\u1E34\\u1E36\\u1E38\\u1E3A\\u1E3C\\u1E3E\\u1E40\\u1E42\\u1E44\\u1E46\\u1E48\\u1E4A\\u1E4C\\u1E4E\\u1E50\\u1E52\\u1E54\\u1E56\\u1E58\\u1E5A\\u1E5C\\u1E5E\\u1E60\\u1E62\\u1E64\\u1E66\\u1E68\\u1E6A\\u1E6C\\u1E6E\\u1E70\\u1E72\\u1E74\\u1E76\\u1E78\\u1E7A\\u1E7C\\u1E7E\\u1E80\\u1E82\\u1E84\\u1E86\\u1E88\\u1E8A\\u1E8C\\u1E8E\\u1E90\\u1E92\\u1E94\\u1E9E\\u1EA0\\u1EA2\\u1EA4\\u1EA6\\u1EA8\\u1EAA\\u1EAC\\u1EAE\\u1EB0\\u1EB2\\u1EB4\\u1EB6\\u1EB8\\u1EBA\\u1EBC\\u1EBE\\u1EC0\\u1EC2\\u1EC4\\u1EC6\\u1EC8\\u1ECA\\u1ECC\\u1ECE\\u1ED0\\u1ED2\\u1ED4\\u1ED6\\u1ED8\\u1EDA\\u1EDC\\u1EDE\\u1EE0\\u1EE2\\u1EE4\\u1EE6\\u1EE8\\u1EEA\\u1EEC\\u1EEE\\u1EF0\\u1EF2\\u1EF4\\u1EF6\\u1EF8\\u1EFA\\u1EFC\\u1EFE\\u1F08-\\u1F0F\\u1F18-\\u1F1D\\u1F28-\\u1F2F\\u1F38-\\u1F3F\\u1F48-\\u1F4D\\u1F59\\u1F5B\\u1F5D\\u1F5F\\u1F68-\\u1F6F\\u1FB8-\\u1FBB\\u1FC8-\\u1FCB\\u1FD8-\\u1FDB\\u1FE8-\\u1FEC\\u1FF8-\\u1FFB\\u2102\\u2107\\u210B-\\u210D\\u2110-\\u2112\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u2130-\\u2133\\u213E\\u213F\\u2145\\u2160-\\u216F\\u2183\\u24B6-\\u24CF\\u2C00-\\u2C2E\\u2C60\\u2C62-\\u2C64\\u2C67\\u2C69\\u2C6B\\u2C6D-\\u2C70\\u2C72\\u2C75\\u2C7E-\\u2C80\\u2C82\\u2C84\\u2C86\\u2C88\\u2C8A\\u2C8C\\u2C8E\\u2C90\\u2C92\\u2C94\\u2C96\\u2C98\\u2C9A\\u2C9C\\u2C9E\\u2CA0\\u2CA2\\u2CA4\\u2CA6\\u2CA8\\u2CAA\\u2CAC\\u2CAE\\u2CB0\\u2CB2\\u2CB4\\u2CB6\\u2CB8\\u2CBA\\u2CBC\\u2CBE\\u2CC0\\u2CC2\\u2CC4\\u2CC6\\u2CC8\\u2CCA\\u2CCC\\u2CCE\\u2CD0\\u2CD2\\u2CD4\\u2CD6\\u2CD8\\u2CDA\\u2CDC\\u2CDE\\u2CE0\\u2CE2\\u2CEB\\u2CED\\u2CF2\\uA640\\uA642\\uA644\\uA646\\uA648\\uA64A\\uA64C\\uA64E\\uA650\\uA652\\uA654\\uA656\\uA658\\uA65A\\uA65C\\uA65E\\uA660\\uA662\\uA664\\uA666\\uA668\\uA66A\\uA66C\\uA680\\uA682\\uA684\\uA686\\uA688\\uA68A\\uA68C\\uA68E\\uA690\\uA692\\uA694\\uA696\\uA698\\uA69A\\uA722\\uA724\\uA726\\uA728\\uA72A\\uA72C\\uA72E\\uA732\\uA734\\uA736\\uA738\\uA73A\\uA73C\\uA73E\\uA740\\uA742\\uA744\\uA746\\uA748\\uA74A\\uA74C\\uA74E\\uA750\\uA752\\uA754\\uA756\\uA758\\uA75A\\uA75C\\uA75E\\uA760\\uA762\\uA764\\uA766\\uA768\\uA76A\\uA76C\\uA76E\\uA779\\uA77B\\uA77D\\uA77E\\uA780\\uA782\\uA784\\uA786\\uA78B\\uA78D\\uA790\\uA792\\uA796\\uA798\\uA79A\\uA79C\\uA79E\\uA7A0\\uA7A2\\uA7A4\\uA7A6\\uA7A8\\uA7AA-\\uA7AE\\uA7B0-\\uA7B4\\uA7B6\\uFF21-\\uFF3A\\U00010400-\\U00010427\\U000104B0-\\U000104D3\\U00010C80-\\U00010CB2\\U000118A0-\\U000118BF\\U0001D400-\\U0001D419\\U0001D434-\\U0001D44D\\U0001D468-\\U0001D481\\U0001D49C\\U0001D49E\\U0001D49F\\U0001D4A2\\U0001D4A5\\U0001D4A6\\U0001D4A9-\\U0001D4AC\\U0001D4AE-\\U0001D4B5\\U0001D4D0-\\U0001D4E9\\U0001D504\\U0001D505\\U0001D507-\\U0001D50A\\U0001D50D-\\U0001D514\\U0001D516-\\U0001D51C\\U0001D538\\U0001D539\\U0001D53B-\\U0001D53E\\U0001D540-\\U0001D544\\U0001D546\\U0001D54A-\\U0001D550\\U0001D56C-\\U0001D585\\U0001D5A0-\\U0001D5B9\\U0001D5D4-\\U0001D5ED\\U0001D608-\\U0001D621\\U0001D63C-\\U0001D655\\U0001D670-\\U0001D689\\U0001D6A8-\\U0001D6C0\\U0001D6E2-\\U0001D6FA\\U0001D71C-\\U0001D734\\U0001D756-\\U0001D76E\\U0001D790-\\U0001D7A8\\U0001D7CA\\U0001E900-\\U0001E921\\U0001F130-\\U0001F149\\U0001F150-\\U0001F169\\U0001F170-\\U0001F189]\"\np = re.compile(pLu)\nif p.match(\"\u017b\u00f3\u0142w\"):\n    print(\"Capitalized!\")\n</code></pre>\n\n<p>See the <a href=\"https://ideone.com/w03hVt\" rel=\"noreferrer\">IDEONE demo</a>. To make it work in Python 2.x, make sure you add <code>u</code> prefix to the string literals.</p>\n\n<p>There are other ways to get the <em>Unicode upper-case letter</em> character class in Python using <code>unicodedata</code> and <code>sys</code> packages like</p>\n\n<pre><code># Python 3\npLu = '[{}]'.format(\"\".join([chr(i) for i in range(sys.maxunicode) if chr(i).isupper()]))\n# Python 2\npLu = u'[{}]'.format(u\"\".join([unichr(i) for i in xrange(sys.maxunicode) if unichr(i).isupper()]))\n</code></pre>\n\n<p>However, this range does not match all uppercase letters displayed at the <a href=\"https://unicode.org/cldr/utility/list-unicodeset.jsp?a=%5B%3Aupper%3A%5D&amp;abb=on&amp;ucd=on&amp;esc=on&amp;g=0000000&amp;i=\" rel=\"noreferrer\">Unicode Utilities: UnicodeSet</a> page for <code>[:upper:]</code> POSIX character class.</p>\n\n<p>Cf.:</p>\n\n<ul>\n<li>Python 2.7 <code>len([unichr(i) for i in xrange(sys.maxunicode) if unichr(i).isupper()])</code> displays <code>1427</code></li>\n<li>Python 3.5 <code>len([chr(i) for i in range(sys.maxunicode) if chr(i).isupper()])</code> shows <code>1751</code></li>\n<li>Python 3.6 <code>len([chr(i) for i in range(sys.maxunicode) if chr(i).isupper()])</code> shows <code>1822</code></li>\n<li>Current Unicode Utilities CLDR page displays <code>1,822</code> uppercase letters for <code>[:upper:]</code> class, and <code>1,702</code> for the <code>\\p{Lu}</code>.</li>\n</ul>\n\n<p>With <strong>PyPi <code>regex</code> module</strong>, it is simpler:</p>\n\n<pre><code>import regex\np = regex.compile(r\"\\p{Lu}\") # To support (currently) 1702 uppercase letters\n# p = regex.compile(r\"[[:upper:]]\") # To support (currently) 1822 uppercase letters\nif p.match(\"\u017b\u00f3\u0142w\"):\n    print(\"Capitalized!\")\n</code></pre>\n\n<p>In Python 2.x you should use: </p>\n\n<pre><code>p = regex.compile(ur\"\\p{Lu}\")\np = regex.compile(ur\"[[:upper:]]\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>p = regex.compile(r\"\\p{Lu}\", regex.U)\np = regex.compile(r\"[[:upper:]]\", regex.U)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "reply_to_user": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "edited": false, "score": 0, "creation_date": 1459018744, "post_id": 36237111, "comment_id": 60109117, "body": "@Oz123: it works when you use Unicode strings. For this to work in Python2, you need to prefix strings with <code>u</code>, like <code>u&quot;\u017b&#243;\u0142w&quot;</code>, or be using <code>from __future__ import unicode_literals</code>."}, {"owner": {"reputation": 23077, "user_id": 492620, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/23e8d9c545b0a9d603765abaadc3f499?s=128&d=identicon&r=PG", "display_name": "oz123", "link": "https://stackoverflow.com/users/492620/oz123"}, "edited": false, "score": 1, "creation_date": 1459023091, "post_id": 36237111, "comment_id": 60110815, "body": "Great! Good to know! I think btw, you should add this as an edit to your other answer."}], "tags": [], "owner": {"reputation": 4604, "user_id": 3821804, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d837f426da3935510c8c43f2a2c07f8d?s=128&d=identicon&r=PG&f=1", "display_name": "GingerPlusPlus", "link": "https://stackoverflow.com/users/3821804/gingerplusplus"}, "is_accepted": false, "score": 4, "last_activity_date": 1547480935, "last_edit_date": 1547480935, "creation_date": 1459006158, "answer_id": 36237111, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words/36237111#36237111", "title": "Python regex for unicode capitalized words", "body": "<p><code>re</code> is excessive when you can just use <code>word[0].isupper()</code>.</p>\n\n<pre><code>&gt;&gt;&gt;&gt; '\u017c\u00f3\u0142\u0107'[0].isupper()\nFalse\n&gt;&gt;&gt;&gt; '\u017b\u00f3\u0142w'[0].isupper()\nTrue\n&gt;&gt;&gt;&gt; '\u0107Ma'[0].isupper()\nFalse\n</code></pre>\n"}], "owner": {"reputation": 2400, "user_id": 4040102, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1a456b497bca5adb6b224044323d56fa?s=128&d=identicon&r=PG", "display_name": "VeLKerr", "link": "https://stackoverflow.com/users/4040102/velkerr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5569, "favorite_count": 2, "accepted_answer_id": 36188204, "answer_count": 5, "score": 20, "last_activity_date": 1599731312, "creation_date": 1458762302, "last_edit_date": 1458767252, "question_id": 36187349, "link": "https://stackoverflow.com/questions/36187349/python-regex-for-unicode-capitalized-words", "title": "Python regex for unicode capitalized words", "body": "<p>I have a set of words in different languages (English, Polish, Finnish, Russian etc.) and need to check, what of them written with a capital letter.</p>\n\n<p>I tried to use simple regular expression: <code>^[A-Z]</code>, but it matches only latinate letters, then I've added the russian capital letters: <code>^[A-Z\u0410-\u042f]</code>.</p>\n\n<p>But many <strong>unicode letters with diacritics</strong> remains. How I can add <strong>all</strong> capital letters to my regex?</p>\n\n<p>It's possible to make this without enumerations of symbols?</p>\n\n<p>P.S. I know, how to make this in Ruby, but now I'm using Python.</p>\n"}, {"tags": ["python", "pywin32"], "answers": [{"tags": [], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "is_accepted": true, "score": 3, "last_activity_date": 1458765039, "creation_date": 1458765039, "answer_id": 36188126, "question_id": 36187311, "link": "https://stackoverflow.com/questions/36187311/python-win32-error/36188126#36188126", "title": "Python win32: error", "body": "<p>I tried to reinstall win32 from sourceforge.net site. But it didn't work out.</p>\n\n<p>Finally I tried the pip command, and it worked like charm.</p>\n\n<pre><code>pip install pypiwin32\n</code></pre>\n"}], "owner": {"reputation": 784, "user_id": 4832134, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/ad7a1c7bef47a40b0e8ed5c1deb2d200?s=128&d=identicon&r=PG&f=1", "display_name": "John Rambo", "link": "https://stackoverflow.com/users/4832134/john-rambo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3474, "favorite_count": 0, "accepted_answer_id": 36188126, "answer_count": 1, "score": 2, "last_activity_date": 1458765039, "creation_date": 1458762188, "question_id": 36187311, "link": "https://stackoverflow.com/questions/36187311/python-win32-error", "title": "Python win32: error", "body": "<p>I am trying to make python script run as a windows service. </p>\n\n<p>Just to have a little understanding, I have taken this code from <a href=\"http://www.chrisumbel.com/article/windows_services_in_python\" rel=\"nofollow\">here</a>.</p>\n\n<p>I have installed the following things:</p>\n\n<ol>\n<li>python2.7 (64 bit)    </li>\n<li>pywin32.exe. (64 bit)</li>\n</ol>\n\n<p>However, the script is not able to find the following things:</p>\n\n<ol>\n<li>win32event.CreateEvent</li>\n<li>win32event.WAIT_OBJECT_0</li>\n<li>win32event.WaitForSingleObject(self.hWaitStop, 5000)</li>\n<li>win32service.SERVICE_STOP_PENDING)</li>\n<li>win32event.SetEvent</li>\n</ol>\n\n<p>Though I am not getting any error messages for import but I am getting error messages for the aforementioned functions.</p>\n\n<pre><code>import win32service  \nimport win32serviceutil  \nimport win32event  \n\nclass PySvc(win32serviceutil.ServiceFramework):  \n# you can NET START/STOP the service by the following name  \n_svc_name_ = \"PySvc\"  \n# this text shows up as the service name in the Service  \n# Control Manager (SCM)  \n_svc_display_name_ = \"Python Test Service\"  \n# this text shows up as the description in the SCM  \n_svc_description_ = \"This service writes stuff to a file\"  \n\ndef __init__(self, args):  \n    win32serviceutil.ServiceFramework.__init__(self,args)  \n    # create an event to listen for stop requests on  \n    self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)  \n\n# core logic of the service     \ndef SvcDoRun(self):  \n    import servicemanager  \n\n    f = open('test.dat', 'w+')  \n    rc = None  \n\n    # if the stop event hasn't been fired keep looping  \n    while rc != win32event.WAIT_OBJECT_0:  \n        f.write('TEST DATA\\n')  \n        f.flush()  \n        # block for 5 seconds and listen for a stop event  \n        rc = win32event.WaitForSingleObject(self.hWaitStop, 5000)  \n\n    f.write('SHUTTING DOWN\\n')  \n    f.close()  \n\n# called when we're being shut down      \ndef SvcStop(self):  \n    # tell the SCM we're shutting down  \n    self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)  \n    # fire the stop event  \n    win32event.SetEvent(self.hWaitStop)  \n\nif __name__ == '__main__':  \n    win32serviceutil.HandleCommandLine(PySvc)\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "regression"], "answers": [{"comments": [{"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1459261608, "post_id": 36269873, "comment_id": 60200006, "body": "Thanks. Btw, any idea on this stuff <a href=\"http://stats.stackexchange.com/questions/204152/orthogonal-matching-pursuit-am-i-using-it-wrong\" title=\"orthogonal matching pursuit am i using it wrong\">stats.stackexchange.com/questions/204152/&hellip;</a>"}, {"owner": {"reputation": 146, "user_id": 5136321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8430a370d17d42317e3b04f6659faa2c?s=128&d=identicon&r=PG", "display_name": "Count Zero", "link": "https://stackoverflow.com/users/5136321/count-zero"}, "reply_to_user": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 1, "creation_date": 1459379244, "post_id": 36269873, "comment_id": 60265855, "body": "I am not particularly familiar with orthogonal matching pursuit, unfortunately. Sorry"}, {"owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "edited": false, "score": 0, "creation_date": 1459439248, "post_id": 36269873, "comment_id": 60297983, "body": "Thanks. More related to lasso, you happen to have an idea on  <a href=\"http://stackoverflow.com/questions/36320787/valueerror-a-value-in-x-new-is-below-the-interpolation-range\" title=\"valueerror a value in x new is below the interpolation range\">stackoverflow.com/questions/36320787/&hellip;</a>"}], "tags": [], "owner": {"reputation": 146, "user_id": 5136321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8430a370d17d42317e3b04f6659faa2c?s=128&d=identicon&r=PG", "display_name": "Count Zero", "link": "https://stackoverflow.com/users/5136321/count-zero"}, "is_accepted": false, "score": 3, "last_activity_date": 1459796018, "last_edit_date": 1459796018, "creation_date": 1459194246, "answer_id": 36269873, "question_id": 36187281, "link": "https://stackoverflow.com/questions/36187281/what-do-eps-and-tol-do-in-lassocv/36269873#36269873", "title": "What do eps and tol do in LassoCV", "body": "<p>Tolerance has to do with the numerical algorithm used to find the solution to the objective function underlying lasso regression, in this case coordinate descent. It could most affect accuracy but not in a way you can predict. You would want to adjust it if your model is not converging within the iteration limit that is set. The objective function describes a space with local maxima and minima, and altering tolerance could help you more tightly find one of those or move past one and on to another but that does not guarantee better accuracy. <a href=\"https://en.wikipedia.org/wiki/No_free_lunch_theorem\" rel=\"nofollow\">\"No free lunch\"</a></p>\n\n<p>eps I am less clear on. It states in the doc that this is the ratio of alpha min to alpha max, and alpha is the coefficient in front of the penalization term. So epsilon seems like it would limit the path of alpha values that are being tested by the coordinate descent (optimization) algorithm. I think increasing epsilon could improve your model but at a sharp cost in computation time. </p>\n"}], "owner": {"reputation": 3063, "user_id": 2475195, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ba67bfbb808f7a06faa96d310bd00ed6?s=128&d=identicon&r=PG", "display_name": "Baron Yugovich", "link": "https://stackoverflow.com/users/2475195/baron-yugovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 428, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1459796018, "creation_date": 1458762035, "question_id": 36187281, "link": "https://stackoverflow.com/questions/36187281/what-do-eps-and-tol-do-in-lassocv", "title": "What do eps and tol do in LassoCV", "body": "<p>Using scikit-learn: <a href=\"http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LassoCV.html\" rel=\"nofollow\">http://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LassoCV.html</a></p>\n\n<p>Specifically, I am interested in:\n1) If eps grows, does the accuracy(precision) increase or decrease?\n2) If tol grows, does the accuracy(precision) increase or decrease?</p>\n"}, {"tags": ["python", "setuptools", "packaging", "pkg-resources"], "answers": [{"comments": [{"owner": {"reputation": 1778, "user_id": 1447953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7950906f179a27d0b6f71d84841374cb?s=128&d=identicon&r=PG", "display_name": "Ben Farmer", "link": "https://stackoverflow.com/users/1447953/ben-farmer"}, "edited": false, "score": 0, "creation_date": 1542717362, "post_id": 36205159, "comment_id": 93661476, "body": "I seem to get false positives with this. I don&#39;t know why they both exist, but I seem to have both &#39;/usr/lib/python%s/dist-packages/&#39; AND /usr/local/lib/python%s/dist-packages/&#39;. I want to auto-locate the latter, however your script finds the former first, so I get the wrong path. Is there no robust way to find the path that is actually going to be used by Python itself? This function seems to kind of just guess and hope for the best."}, {"owner": {"reputation": 4429, "user_id": 3077939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ca86eae9b65718296e64cb7b0a405ac?s=128&d=identicon&r=PG&f=1", "display_name": "aluriak", "link": "https://stackoverflow.com/users/3077939/aluriak"}, "reply_to_user": {"reputation": 1778, "user_id": 1447953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7950906f179a27d0b6f71d84841374cb?s=128&d=identicon&r=PG", "display_name": "Ben Farmer", "link": "https://stackoverflow.com/users/1447953/ben-farmer"}, "edited": false, "score": 0, "creation_date": 1542810440, "post_id": 36205159, "comment_id": 93702905, "body": "There is a lot of definition of <i>workaround</i>, one may be the one you propose: <i>just guess and hope for the best</i>. In your case, you may want to change the order in the inner list of paths, which obviousily depends of targeted OS."}, {"owner": {"reputation": 1778, "user_id": 1447953, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/7950906f179a27d0b6f71d84841374cb?s=128&d=identicon&r=PG", "display_name": "Ben Farmer", "link": "https://stackoverflow.com/users/1447953/ben-farmer"}, "edited": false, "score": 1, "creation_date": 1542811327, "post_id": 36205159, "comment_id": 93703404, "body": "Yeah, this is unfortunately too dodgy for my needs. I will resort to a solution where these things are found at runtime. It is quite bizarre that this information cannot be found in a standard way..."}], "tags": [], "owner": {"reputation": 4429, "user_id": 3077939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ca86eae9b65718296e64cb7b0a405ac?s=128&d=identicon&r=PG&f=1", "display_name": "aluriak", "link": "https://stackoverflow.com/users/3077939/aluriak"}, "is_accepted": true, "score": 2, "last_activity_date": 1458836711, "last_edit_date": 1495541419, "creation_date": 1458836711, "answer_id": 36205159, "question_id": 36187264, "link": "https://stackoverflow.com/questions/36187264/how-to-get-installation-directory-using-setuptools-and-pkg-ressources/36205159#36205159", "title": "How to get installation directory using setuptools and pkg_ressources", "body": "<p>A workaround is to use the <code>site</code> package instead of <code>pkg_resources</code> that seems not designed for access resources during installation.</p>\n\n<p>Here is a function that detect the installation directory during installation:</p>\n\n<pre><code>import os, sys, site\n\ndef binaries_directory():\n    \"\"\"Return the installation directory, or None\"\"\"\n    if '--user' in sys.argv:\n        paths = (site.getusersitepackages(),)\n    else:\n        py_version = '%s.%s' % (sys.version_info[0], sys.version_info[1])\n        paths = (s % (py_version) for s in (\n            sys.prefix + '/lib/python%s/dist-packages/',\n            sys.prefix + '/lib/python%s/site-packages/',\n            sys.prefix + '/local/lib/python%s/dist-packages/',\n            sys.prefix + '/local/lib/python%s/site-packages/',\n            '/Library/Python/%s/site-packages/',\n        ))\n\n    for path in paths:\n        if os.path.exists(path):\n            return path\n    print('no installation path found', file=sys.stderr)\n    return None\n</code></pre>\n\n<p>This solution is not Python 2.7 compatible, in case of installation using virtualenv, because of the <a href=\"https://github.com/pypa/virtualenv/issues/355\" rel=\"nofollow noreferrer\">known bug</a> about the module <code>site</code>. (see related <a href=\"https://stackoverflow.com/questions/29888373/issues-with-getsitepackages-under-a-virtualenv\">SO</a>)</p>\n"}], "owner": {"reputation": 4429, "user_id": 3077939, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ca86eae9b65718296e64cb7b0a405ac?s=128&d=identicon&r=PG&f=1", "display_name": "aluriak", "link": "https://stackoverflow.com/users/3077939/aluriak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3584, "favorite_count": 1, "accepted_answer_id": 36205159, "answer_count": 1, "score": 7, "last_activity_date": 1523608160, "creation_date": 1458761984, "last_edit_date": 1523608160, "question_id": 36187264, "link": "https://stackoverflow.com/questions/36187264/how-to-get-installation-directory-using-setuptools-and-pkg-ressources", "title": "How to get installation directory using setuptools and pkg_ressources", "body": "<p>I'm working on a package <code>P</code> with setuptools and pkg_resources,\nwhere the package, after installation, needs to download some binaries and place them in a dedicated directory (<code>P/bin/</code>).</p>\n\n<p>I'm trying to use <code>pkg_ressources.resource_filename</code> to get the absolute directory path. (in order to work with virtualenv)</p>\n\n<p>During the installation using <code>python setup.py install</code>, the pkg_ressources.resource_filename doesn't return\na path like <code>/home/user/tests/venv/lib/python3.4/site-package/P/bin/</code>, but the path to the actual module, like <code>/home/user/projects/P/P/bin/</code>.</p>\n\n<p>That's a problem, because i need the installation directory (inside the virtualenv), not my personal project directory (where i develop the module).</p>\n\n<p>If i try to pass through pypi, using <code>pip install module</code>, the directory returned by <code>pkg_ressources.resource_filename</code> is a temporary file like <code>/tmp/pip-build-xxxxxxx/P/bin/</code>, which is again not the place where the binaries should be put.</p>\n\n<p>Here is my setup.py:</p>\n\n<pre><code>from setuptools import setup\nimport os\n\nfrom setuptools.command.install import install as _install\nfrom pkg_resources import resource_filename\n\n\ndef post_install():\n    \"\"\"Get the binaries online, and give them the execution permission\"\"\"\n    package_dir_bin = resource_filename('P', 'bin') # should be /home/user/tests/venv/lib/python3.4/site-package/P/bin/\n    # package_dir_bin = resource_filename(Requirement.parse('P'), 'bin') # leads to same results\n    put_binaries_in(package_dir_bin)\n    os.system('chmod +x ' + package_dir_bin + '*')\n\n\n\nclass install(_install):\n    # see http://stackoverflow.com/a/18159969\n\n    def run(self):\n        \"\"\"Call superclass run method, then downloads the binaries\"\"\"\n        _install.run(self)\n        self.execute(post_install, args=[], msg=post_install.__doc__)\n\n\nsetup(\n    cmdclass={'install': install},\n    name = 'P',\n    # many metadata\n    package_dir = { 'P' : 'P'},\n    package_data = {\n        'P' : ['bin/*.txt'] # there is an empty txt file in bin directory\n    },\n)\n</code></pre>\n\n<p>Is there a standard way to get the installation directory during the installation, cross-platform and compatible python 2 and 3 ?\nIf not, what should i do ?</p>\n"}, {"tags": ["python", "subprocess", "stdin"], "comments": [{"owner": {"reputation": 1014, "user_id": 2551956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba34ab655eaf76dc5486c0677aad24f9?s=128&d=identicon&r=PG", "display_name": "user234461", "link": "https://stackoverflow.com/users/2551956/user234461"}, "edited": false, "score": 0, "creation_date": 1458762300, "post_id": 36187260, "comment_id": 60009950, "body": "&quot;Popen.communicate(input=None) Interact with process: Send data to stdin. Read data from stdout and stderr, until end-of-file is reached. Wait for process to terminate.&quot; The communicate method is inherently blocking. Use p.stdout etc directly. Your thread can either block to fill/empty the stdout/stdin buffers of the program, or it can not block, in which case you would have to fill/drain them manually."}, {"owner": {"reputation": 1546, "user_id": 2989337, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/JoDFi.png?s=128&g=1", "display_name": "JawguyChooser", "link": "https://stackoverflow.com/users/2989337/jawguychooser"}, "reply_to_user": {"reputation": 1014, "user_id": 2551956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba34ab655eaf76dc5486c0677aad24f9?s=128&d=identicon&r=PG", "display_name": "user234461", "link": "https://stackoverflow.com/users/2551956/user234461"}, "edited": false, "score": 1, "creation_date": 1458767590, "post_id": 36187260, "comment_id": 60012843, "body": "I&#39;m not sure how this addresses my question.  Sorry if I&#39;m missing something.  You say to use p.stdout directly, but in my case I don&#39;t care about output, I&#39;m interested in writing to the input of the process and then continuing along without waiting for the process to end."}, {"owner": {"reputation": 1014, "user_id": 2551956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba34ab655eaf76dc5486c0677aad24f9?s=128&d=identicon&r=PG", "display_name": "user234461", "link": "https://stackoverflow.com/users/2551956/user234461"}, "edited": false, "score": 0, "creation_date": 1458769452, "post_id": 36187260, "comment_id": 60013683, "body": "I meant stdin. And you can&#39;t just &quot;write to the input and carry on&quot;, because the input has a finite size buffer. Python has no way of knowing whether your <code>data</code> string is going to exceed the size of the buffer. Therefore, there has to be a process feeding the bytes of data to the subprocess."}, {"owner": {"reputation": 1014, "user_id": 2551956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba34ab655eaf76dc5486c0677aad24f9?s=128&d=identicon&r=PG", "display_name": "user234461", "link": "https://stackoverflow.com/users/2551956/user234461"}, "edited": false, "score": 2, "creation_date": 1458769669, "post_id": 36187260, "comment_id": 60013794, "body": "I mean, you could do <code>p = subprocess.Popen(...); p.stdin.write(data); print &quot;code after&quot;</code>, but there&#39;s no guarantee that <code>p.stdin.write</code> won&#39;t block for arbitrary subprocess programs. (The subprocess runs immediately after the call to Popen, all that communicate does is mimic a simultaneous <code>stdout.read</code>, <code>stdin.write</code>)"}, {"owner": {"reputation": 1546, "user_id": 2989337, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/JoDFi.png?s=128&g=1", "display_name": "JawguyChooser", "link": "https://stackoverflow.com/users/2989337/jawguychooser"}, "reply_to_user": {"reputation": 1014, "user_id": 2551956, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ba34ab655eaf76dc5486c0677aad24f9?s=128&d=identicon&r=PG", "display_name": "user234461", "link": "https://stackoverflow.com/users/2551956/user234461"}, "edited": false, "score": 0, "creation_date": 1458770095, "post_id": 36187260, "comment_id": 60013997, "body": "Thanks, I think I understand better now.  And, as you say, just using p.stdin.write(data) seems to be giving me the effect I want.  I guess if you had put this into an answer, I would accept it!  Thanks for the help."}], "owner": {"reputation": 1546, "user_id": 2989337, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/JoDFi.png?s=128&g=1", "display_name": "JawguyChooser", "link": "https://stackoverflow.com/users/2989337/jawguychooser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 683, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458761969, "creation_date": 1458761969, "question_id": 36187260, "link": "https://stackoverflow.com/questions/36187260/python-subprocess-in-background-with-stdin", "title": "python subprocess in background with stdin", "body": "<p>I've looked at the docs for the subprocess module and replacing spawn1 with P_NOWAIT, but I don't see how to use this and also write data to stdin.  That is, if I call with </p>\n\n<pre><code>pid = Popen(...).pid\n</code></pre>\n\n<p>As the docs suggest, then I where do I communicate with the stdin PIPE.  Here's some example code</p>\n\n<p>File 1:</p>\n\n<pre><code>#!/usr/bin/env python\n# testing how to run a processin the background while writing to stdin\n#\nimport subprocess\ndata = \"\".join([str(i) for i in range(0,200)])\np = subprocess.Popen(['./b.py'], stdin=subprocess.PIPE)\np.communicate(data)\nprint \"code after communicate\"\n</code></pre>\n\n<p>File 2 ('./b.py')</p>\n\n<pre><code>#!/usr/bin/env python\nimport sys\nimport time\ndata = sys.stdin.readlines()\nprint \"background process started\"\ntime.sleep(10)\nprint \"background process done\"\n</code></pre>\n\n<p>So, the effect I'd like to achieve is that running the first file (f.py) would print this:</p>\n\n<pre><code>background process started\ncode after communicate\nbackground process done\n</code></pre>\n\n<p>However, what I see instead is that \"code after communicate\" is printed after \"background process done\".  So it seems that p.communicate is blocking until after the background process finishes, how can I prevent this while still writing to stdin?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 939971, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fb4d3dc58615993f0023bc7ad4d08c6c?s=128&d=identicon&r=PG", "display_name": "jamis", "link": "https://stackoverflow.com/users/939971/jamis"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761726, "creation_date": 1458761726, "answer_id": 36187202, "question_id": 36187201, "link": "https://stackoverflow.com/questions/36187201/how-do-you-do-a-groupby-and-sum-on-a-pandas-series-with-multi-level-indexes/36187202#36187202", "title": "How do you do a groupby and sum on a pandas Series with multi-level indexes?", "body": "<p>Because we have a multi-level index we need to call <code>reset_index</code> when constructing the <code>DataFrame</code>, as follows:</p>\n\n<pre><code>ipdb&gt; import pandas as pd\nipdb&gt; df = pd.DataFrame(busyness).reset_index()\nipdb&gt; summed = df.groupby('STATION').sum()\nipdb&gt; summed.head()\n                   0\nSTATION\n1 AV           48949\n103 ST         51262\n103 ST-CORONA  32165\n104 ST          5612\n110 ST         21252\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": false, "score": 0, "last_activity_date": 1458761901, "creation_date": 1458761901, "answer_id": 36187239, "question_id": 36187201, "link": "https://stackoverflow.com/questions/36187201/how-do-you-do-a-groupby-and-sum-on-a-pandas-series-with-multi-level-indexes/36187239#36187239", "title": "How do you do a groupby and sum on a pandas Series with multi-level indexes?", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow\"><code>groupby</code></a> by 4. level of <code>Multiindex</code> (<code>python</code> start from <code>0</code>, so <code>level=3</code>):</p>\n\n<pre><code>summed = df.groupby(level=3).sum()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 2, "last_activity_date": 1458762975, "creation_date": 1458762975, "answer_id": 36187536, "question_id": 36187201, "link": "https://stackoverflow.com/questions/36187201/how-do-you-do-a-groupby-and-sum-on-a-pandas-series-with-multi-level-indexes/36187536#36187536", "title": "How do you do a groupby and sum on a pandas Series with multi-level indexes?", "body": "<p>Since the MultiIndex levels have names, you can specify the level by name in the call to <code>groupby</code>:</p>\n\n<pre><code>busyness.groupby(level='STATION').sum()\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 939971, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fb4d3dc58615993f0023bc7ad4d08c6c?s=128&d=identicon&r=PG", "display_name": "jamis", "link": "https://stackoverflow.com/users/939971/jamis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1458762975, "creation_date": 1458761726, "question_id": 36187201, "link": "https://stackoverflow.com/questions/36187201/how-do-you-do-a-groupby-and-sum-on-a-pandas-series-with-multi-level-indexes", "title": "How do you do a groupby and sum on a pandas Series with multi-level indexes?", "body": "<p>I have a Series object called <code>busyness</code> that was created in the following manner from DataFrames:</p>\n\n<pre><code>entries = last.ENTRIES - first.ENTRIES\nexits   = last.EXITS   - first.EXITS\nbusyness = entries + exits\n</code></pre>\n\n<p>where <code>last</code> and <code>first</code> are dataframes with a column for ENTRIES. Here is what <code>busyness</code> looks like:</p>\n\n<pre><code>ipdb&gt; type(busyness)\n&lt;class 'pandas.core.series.Series'&gt;\n\nipdb&gt; busyness.head(20)\nCA    UNIT  SCP       STATION\nA002  R051  02-00-00  59 ST         2468\n            02-00-01  59 ST         1764\n            02-03-00  59 ST         3063\n            02-03-01  59 ST         3952\n            02-03-02  59 ST         3576\n            02-03-03  59 ST         3168\n            02-03-04  59 ST         2563\n            02-03-05  59 ST         2948\n            02-03-06  59 ST         2350\n            02-05-00  59 ST            0\n            02-05-01  59 ST            0\n            02-06-00  59 ST         2503\nA006  R079  00-00-00  5 AV/59 ST    4321\n            00-00-01  5 AV/59 ST    2407\n            00-00-02  5 AV/59 ST    1687\n            00-00-03  5 AV/59 ST    1272\n            00-00-04  5 AV/59 ST    1352\n            00-03-00  5 AV/59 ST    1834\n            00-03-01  5 AV/59 ST    2753\n            00-03-02  5 AV/59 ST    4192\ndtype: int64\n</code></pre>\n\n<p>I need to perform an aggregation, something that looks similar to the following:</p>\n\n<pre><code>ipdb&gt; busyness.groupby('STATION').sum()\n*** KeyError: 'STATION'\n</code></pre>\n\n<p>How do I do this with a Series object. I'm used to dealing with DataFrames. Thank you for any help you can give!</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 6106104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a8b8ed5e4890caa35845ceab40ff6d?s=128&d=identicon&r=PG&f=1", "display_name": "crxguy52", "link": "https://stackoverflow.com/users/6106104/crxguy52"}, "is_accepted": false, "score": 0, "last_activity_date": 1459340951, "last_edit_date": 1459340951, "creation_date": 1458828580, "answer_id": 36202199, "question_id": 36187158, "link": "https://stackoverflow.com/questions/36187158/embedding-matplotlib-in-tkinter-examples-freeze/36202199#36202199", "title": "Embedding matplotlib in tkinter - examples freeze", "body": "<p>The issue seems to be with Python 3, despite what the tutorials I've followed said. If I run it using Python 2.7, it runs without an issue. Any version of Python 3, however, causes it to crash</p>\n\n<p>EDIT: I tracked the error to anaconda - apparently the matplotlib tk and tkinter versions are different, which causes the error. Running with python 2.7 still works fine.</p>\n"}], "owner": {"reputation": 651, "user_id": 6106104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65a8b8ed5e4890caa35845ceab40ff6d?s=128&d=identicon&r=PG&f=1", "display_name": "crxguy52", "link": "https://stackoverflow.com/users/6106104/crxguy52"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1459340951, "creation_date": 1458761607, "question_id": 36187158, "link": "https://stackoverflow.com/questions/36187158/embedding-matplotlib-in-tkinter-examples-freeze", "title": "Embedding matplotlib in tkinter - examples freeze", "body": "<p>I'm trying to embed a matplotlib figure in a tkinter application, so the first place to start is an <a href=\"http://matplotlib.org/examples/user_interfaces/embedding_in_tk.html\" rel=\"nofollow\">example from matplotlib</a>, right?</p>\n\n<p>I'm using Anaconda 4.0.5 with python 3.5.1. When I try and run the example code, the application freezes. As in, if I run it with python.exe, the console freezes and I have to force close it. No tkinter window shows up. </p>\n\n<p>In this code:</p>\n\n<pre><code>f = Figure(figsize=(5, 4), dpi=100)\na = f.add_subplot(111)\nt = arange(0.0, 3.0, 0.01)\ns = sin(2*pi*t)\n\na.plot(t, s)\n\n\n# a tk.DrawingArea\ncanvas = FigureCanvasTkAgg(f, master=root)\ncanvas.show()\n</code></pre>\n\n<p>The issue seems to be with the last line, canvas.show(). If I comment this out, the window at least shows up.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1458763477, "post_id": 36187051, "comment_id": 60010595, "body": "Ouch so many downvotes :("}], "answers": [{"comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1458763226, "post_id": 36187095, "comment_id": 60010433, "body": "This might work, but I&#39;ll looking for the date in string format."}, {"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1458763461, "post_id": 36187095, "comment_id": 60010586, "body": "never mind this works, but would like to know how to do it using regexp."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 0, "last_activity_date": 1458761398, "creation_date": 1458761398, "answer_id": 36187095, "question_id": 36187051, "link": "https://stackoverflow.com/questions/36187051/regxp-to-strip-out-everything-except-numbers-and-slashes/36187095#36187095", "title": "Regxp to strip out everything except numbers and slashes", "body": "<p>Alternatively, you can use <a href=\"https://labix.org/python-dateutil\" rel=\"nofollow\"><code>dateutil</code> parser</a> to extract the date strings directly into datetime objects:</p>\n\n<pre><code>&gt;&gt;&gt; from dateutil.parser import parse\n&gt;&gt;&gt; l = [u'Posted by Kendra E. on 3/17/2016', u'Posted by Jasmine B. on 3/16/2016', u'Posted by Chris H. on 3/17/2016', u'Posted by Katie S. on 3/17/2016', u'Posted by Samidha K. on 3/17/2016', u'Posted by Melissa W. on 3/20/2016', u'Posted by Travis S. on 3/18/2016', u'Posted by Lilla L. on 3/16/2016']\n&gt;&gt;&gt; [parse(item, fuzzy=True) for item in l]\n[datetime.datetime(2016, 3, 17, 0, 0), datetime.datetime(2016, 3, 16, 0, 0), datetime.datetime(2016, 3, 17, 0, 0), datetime.datetime(2016, 3, 17, 0, 0), datetime.datetime(2016, 3, 17, 0, 0), datetime.datetime(2016, 3, 20, 0, 0), datetime.datetime(2016, 3, 18, 0, 0), datetime.datetime(2016, 3, 16, 0, 0)]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1458763096, "post_id": 36187297, "comment_id": 60010360, "body": "I&#39;m looking to capture the numbers and slashes and get rid of everything else"}, {"owner": {"reputation": 3769, "user_id": 801098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/49a2f1ba2e29fc702a18d253c4fcdb9e?s=128&d=identicon&r=PG", "display_name": "OnlineCop", "link": "https://stackoverflow.com/users/801098/onlinecop"}, "reply_to_user": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "edited": false, "score": 0, "creation_date": 1466126273, "post_id": 36187297, "comment_id": 63199901, "body": "<a href=\"https://regex101.com/r/nF7gQ3/2\" rel=\"nofollow noreferrer\">regex101.com/r/nF7gQ3/2</a>"}], "tags": [], "owner": {"reputation": 3769, "user_id": 801098, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/49a2f1ba2e29fc702a18d253c4fcdb9e?s=128&d=identicon&r=PG", "display_name": "OnlineCop", "link": "https://stackoverflow.com/users/801098/onlinecop"}, "is_accepted": false, "score": 0, "last_activity_date": 1458762111, "creation_date": 1458762111, "answer_id": 36187297, "question_id": 36187051, "link": "https://stackoverflow.com/questions/36187051/regxp-to-strip-out-everything-except-numbers-and-slashes/36187297#36187297", "title": "Regxp to strip out everything except numbers and slashes", "body": "<p>Are you looking to replace the text, or simply capture everything but digits and slashes?</p>\n\n<p><a href=\"https://regex101.com/r/nF7gQ3/1\" rel=\"nofollow\">This example</a> matches everything non-digit or slash, then it captures all digits and slashes. Then it replaces it with only the captured values.</p>\n\n<p>Take a look at <code>code generator</code> on the left for the Python code for this regex pattern.</p>\n"}], "owner": {"reputation": 1038, "user_id": 4462161, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82d055be72325627084d34d875af4f48?s=128&d=identicon&r=PG&f=1", "display_name": "ben890", "link": "https://stackoverflow.com/users/4462161/ben890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 1, "closed_date": 1458764498, "accepted_answer_id": 36187095, "answer_count": 2, "score": -5, "last_activity_date": 1458762111, "creation_date": 1458761261, "question_id": 36187051, "link": "https://stackoverflow.com/questions/36187051/regxp-to-strip-out-everything-except-numbers-and-slashes", "closed_reason": "Needs more focus", "title": "Regxp to strip out everything except numbers and slashes", "body": "<p>Could someone write me a regular expression that would strip out everything except numbers and slashes?</p>\n\n<p>For example I have the following:</p>\n\n<pre><code>[u'Posted by Kendra E. on 3/17/2016', u'Posted by Jasmine B. on 3/16/2016', u'Posted by Chris H. on 3/17/2016', u'Posted by Katie S. on 3/17/2016', u'Posted by Samidha K. on 3/17/2016', u'Posted by Melissa W. on 3/20/2016', u'Posted by Travis S. on 3/18/2016', u'Posted by Lilla L. on 3/16/2016']\n</code></pre>\n\n<p>And I want to make it</p>\n\n<pre><code>['3/17/2016', '3/16/2016', '3/17/2016'...]\n</code></pre>\n\n<p>Is this possible?</p>\n\n<p>Thanks,\nBen</p>\n"}, {"tags": ["python", "loops", "logic"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 1, "creation_date": 1458761346, "post_id": 36187032, "comment_id": 60009451, "body": "<code>n%10</code>, not <code>x[n]%10</code>"}, {"owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "edited": false, "score": 0, "creation_date": 1458761608, "post_id": 36187032, "comment_id": 60009597, "body": "Please provide an example of what you want <code>y</code> to be."}, {"owner": {"reputation": 173, "user_id": 5903918, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pw-WC7XbqSQ/AAAAAAAAAAI/AAAAAAAAC7E/rTccyJZbKfI/photo.jpg?sz=128", "display_name": "F L", "link": "https://stackoverflow.com/users/5903918/f-l"}, "edited": false, "score": 0, "creation_date": 1458764601, "post_id": 36187032, "comment_id": 60011220, "body": "It works! Thanks for all of your explanations and examples"}], "answers": [{"tags": [], "owner": {"reputation": 16775, "user_id": 442945, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/TovHM.png?s=128&g=1", "display_name": "Nathaniel Ford", "link": "https://stackoverflow.com/users/442945/nathaniel-ford"}, "is_accepted": false, "score": 1, "last_activity_date": 1458761558, "creation_date": 1458761558, "answer_id": 36187141, "question_id": 36187032, "link": "https://stackoverflow.com/questions/36187032/simple-logic-explanation-in-loop/36187141#36187141", "title": "Simple logic explanation in loop?", "body": "<p>Your basic logic is correct. This is your algorithm:</p>\n\n<pre><code>For every element n between 0 and 50:\n  if n is evenly divisible by ten\n    return the value of n\n</code></pre>\n\n<p>Your implementation is a bit off, though. Try this:</p>\n\n<pre><code>x = list()\nfor n in range(0,50):\n    if n % 10 == 0:  # Save the value if it's evenly divisible by ten\n        x.append(n)\n\nprint(x)\n</code></pre>\n\n<p>In the REPL this gives the output:</p>\n\n<pre><code>&gt;&gt;&gt; print(x)\n&gt;&gt;&gt; [0, 10, 20, 30, 40]\n</code></pre>\n\n<p>Note that if you don't need the other values (that are not evenly divisible by ten) there is no reason to save them to the array. The iteration will still loop through these values but, in this case, do nothing with them.</p>\n"}, {"tags": [], "owner": {"reputation": 15126, "user_id": 1953800, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4173076e5187c82e74379de9aeb00aa4?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/1953800/alex"}, "is_accepted": true, "score": 1, "last_activity_date": 1458761913, "creation_date": 1458761913, "answer_id": 36187242, "question_id": 36187032, "link": "https://stackoverflow.com/questions/36187032/simple-logic-explanation-in-loop/36187242#36187242", "title": "Simple logic explanation in loop?", "body": "<p>It looks like you have a list <code>x</code> and want set every value in <code>x</code>. Also you want <code>y</code> to be a subset of <code>x</code> (every 10th element).</p>\n\n<pre><code>x = [0] * 51\nfor n in range(50):\n    x[n+1] = x[n] + 5\ny = x[::10]\n\nprint(y)  # prints [0, 50, 100, 150, 200]\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 5903918, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pw-WC7XbqSQ/AAAAAAAAAAI/AAAAAAAAC7E/rTccyJZbKfI/photo.jpg?sz=128", "display_name": "F L", "link": "https://stackoverflow.com/users/5903918/f-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 36187242, "answer_count": 2, "score": 1, "last_activity_date": 1458761913, "creation_date": 1458761200, "last_edit_date": 1458761620, "question_id": 36187032, "link": "https://stackoverflow.com/questions/36187032/simple-logic-explanation-in-loop", "title": "Simple logic explanation in loop?", "body": "<p>I am trying to solve a loop-related logic problem. If I have an n-loop for, say, 50 iterations, and I want to extract only the value when the iteration is, say, <code>n+10</code> (values at 10,20,30,40 and 50), what is the logic? (Lines in comments are my logic, which still resulted wrong output):</p>\n\n<pre><code>x[0] = 0\nfor n in xrange(0,50):\n    x[n+1] = x[n] + 5\n    #if x[n]%10==0:\n        #y = x[n]\n\nprint x\n#print y\n</code></pre>\n"}, {"tags": ["python", "date", "csv", "join", "pandas"], "comments": [{"owner": {"reputation": 133, "user_id": 5167048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bac8dafe8045bb40c9d88a4be91e4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/5167048/koda"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1458765708, "post_id": 36186980, "comment_id": 60011864, "body": "I am getting the following error:  IOError:  Initializing from file failed"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1458771610, "post_id": 36186980, "comment_id": 60014662, "body": "if you want to append your data vertically (append rows) then you either have to normalize your column names or to skip header row in <code>read_csv(header=None)</code>. If you want to append your data horizontally (add columns) you have to specify <code>axis=1</code> in <code>append()</code>"}, {"owner": {"reputation": 133, "user_id": 5167048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bac8dafe8045bb40c9d88a4be91e4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/5167048/koda"}, "edited": false, "score": 0, "creation_date": 1458771951, "post_id": 36186980, "comment_id": 60014796, "body": "Can you show me what it would look like to have axis=1 in append()?"}], "answers": [{"tags": [], "owner": {"reputation": 23980, "user_id": 1735756, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/SloZJ.jpg?s=128&g=1", "display_name": "Haifeng Zhang", "link": "https://stackoverflow.com/users/1735756/haifeng-zhang"}, "is_accepted": true, "score": 1, "last_activity_date": 1458772261, "last_edit_date": 1458772261, "creation_date": 1458771950, "answer_id": 36189872, "question_id": 36186980, "link": "https://stackoverflow.com/questions/36186980/using-pandas-in-python-to-join-multiple-files-based-on-date/36189872#36189872", "title": "Using Pandas in Python to Join Multiple Files Based on Date", "body": "<p>You didn't read the csv files correctly.</p>\n\n<p>1) You need to comment out the following lines because you never use it later in your code.</p>\n\n<pre><code>   files = os.listdir(directory)\n   print(files)\n</code></pre>\n\n<p>2) <code>glob.glob(directory)</code> didnt return any match files.  glob.glob() takes <strong>pattern</strong> as argument, for example: <code>'C:\\data\\Monthly_Data\\File*.csv'</code>, unfortunately you put a directory as a pattern, and no files are found</p>\n\n<p><code>for f in glob.glob(directory):</code></p>\n\n<p>I modified the above 2 parts and <code>print all_data</code>, the file contents display on my console</p>\n"}], "owner": {"reputation": 133, "user_id": 5167048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/bac8dafe8045bb40c9d88a4be91e4bcf?s=128&d=identicon&r=PG&f=1", "display_name": "Koda", "link": "https://stackoverflow.com/users/5167048/koda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "accepted_answer_id": 36189872, "answer_count": 1, "score": 0, "last_activity_date": 1458772261, "creation_date": 1458761043, "last_edit_date": 1458771221, "question_id": 36186980, "link": "https://stackoverflow.com/questions/36186980/using-pandas-in-python-to-join-multiple-files-based-on-date", "title": "Using Pandas in Python to Join Multiple Files Based on Date", "body": "<p>I have csv files that I need to join together based upon date but the dates in each file are not the same (i.e. some files start on 1/1/1991 and other in 1998).  I have a basic start to the code (see below) but I am not sure where to go from here.  Any tips are appreciated.  Below please find a sample of the different csv I am trying to join.</p>\n\n<pre><code>import os, pandas as pd, glob\ndirectory = r'C:\\data\\Monthly_Data'\nfiles = os.listdir(directory)\nprint(files)\nall_data =pd.DataFrame()\nfor f in glob.glob(directory):\n    df=pd.read_csv(f)\n    all_data=all_data.append(df,ignore_index=True)\nall_data.describe()\n</code></pre>\n\n<p>File 1</p>\n\n<pre><code>DateTime    F1_cfs  F2_cfs  F3_cfs  F4_cfs  F5_cfs  F6_cfs  F7_cfs\n3/31/1991   0.860702028 1.167239264 0   0   0   0   0\n4/30/1991   2.116930556 2.463493056 3.316688418             \n5/31/1991   4.056572581 4.544307796 5.562668011             \n6/30/1991   1.587513889 2.348215278 2.611659722             \n7/31/1991   0.55328629  1.089637097 1.132043011             \n8/31/1991   0.29702957  0.54186828  0.585073925             2.624375\n9/30/1991   0.237083333 0.323902778 0.362583333 0.925563094 1.157786606 2.68722973  2.104090278\n</code></pre>\n\n<p>File 2</p>\n\n<pre><code>DateTime    F1_mg-P_L   F2_mg-P_L   F3_mg-P_L   F4_mg-P_L   F5_mg-P_L   F6_mg-P_L   F7_mg-P_L\n6/1/1992    0.05    0.05    0.06    0.04    0.03    0.18    0.08\n7/1/1992    0.03    0.05    0.04    0.03    0.04    0.05    0.09\n8/1/1992    0.02    0.03    0.02    0.02    0.02    0.02    0.02\n</code></pre>\n\n<p>File 3</p>\n\n<pre><code>DateTime    F1_TSS_mgL  F1_TVS_mgL  F2_TSS_mgL  F2_TVS_mgL  F3_TSS_mgL  F3_TVS_mgL  F4_TSS_mgL  F4_TVS_mgL  F5_TSS_mgL  F5_TVS_mgL  F6_TSS_mgL  F6_TVS_mgL  F7_TSS_mgL  F7_TVS_mgL\n4/30/1991   10  7.285714286 8.5 6.083333333 3.7 3.1                             \n5/31/1991   5.042553191 3.723404255 6.8 6.3 3.769230769 2.980769231                             \n6/30/1991           5   5   1   1                               \n7/31/1991                                                       \n8/31/1991                                                       \n9/30/1991   5.75    3.75    6.75    4.75    9.666666667 6.333333333 8.666666667 5   12  7.666666667 8   5.5 9   6.75\n10/31/1991  14.33333333 9   14  10.66666667 16.25   11  12.75   9.25    10.25   7.25    29.33333333 18.33333333 13.66666667 9\n11/30/1991  2.2 1.933333333 2   1.88    0   0   4.208333333 3.708333333 10.15151515 7.909090909 9.5 6.785714286 4.612903226 3.580645161\n</code></pre>\n"}, {"tags": ["python", "nltk"], "comments": [{"owner": {"reputation": 2633, "user_id": 27898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84028aac31ee14ca90aa08c2442e3a1e?s=128&d=identicon&r=PG", "display_name": "mpez0", "link": "https://stackoverflow.com/users/27898/mpez0"}, "edited": false, "score": 1, "creation_date": 1458762429, "post_id": 36186968, "comment_id": 60010005, "body": "Your <code>split</code> removes the &#39;\\n&#39;, you&#39;ll have to write it back out explicitly after the <code>for w in line.split</code> loop. Put <code>tweets.NoStops.write(w.encode(&#39;utf-8&#39;) + &quot;\\n&quot;)</code> at the same indent level as the <code>for w</code> loop."}, {"owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "edited": false, "score": 0, "creation_date": 1458813040, "post_id": 36186968, "comment_id": 60027949, "body": "You have be a little more specific about what you&#39;re asking for us to help you better. What exactly is the question?"}, {"owner": {"reputation": 392, "user_id": 2414657, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea392a35d79365fc0741e5e303a021e3?s=128&d=identicon&r=PG&f=1", "display_name": "MItrajyoti Kusari", "link": "https://stackoverflow.com/users/2414657/mitrajyoti-kusari"}, "edited": false, "score": 0, "creation_date": 1616941193, "post_id": 36186968, "comment_id": 118154203, "body": "Try to consider the newlines while splitting, may be not taking the input in this way."}], "owner": {"reputation": 153, "user_id": 5446037, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/a107e578f142945387a8f393e0868683?s=128&d=identicon&r=PG&f=1", "display_name": "dizzle", "link": "https://stackoverflow.com/users/5446037/dizzle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1458760999, "creation_date": 1458760999, "question_id": 36186968, "link": "https://stackoverflow.com/questions/36186968/maintaining-formatting-newline-char-when-removing-stopwords-nltk", "title": "Maintaining formatting (newline char) when removing stopwords (NLTK)", "body": "<p>I'm using NLTK to remove stopwords from a file. The file is a series of tweets delimited by newline char. I've it set up to remove stop words but its also stripping out the newline characters and so it's no longer one tweet per line. Here's my code:</p>\n\n<pre><code>stuff = codecs.open(\"/Users/user/Desktop/ngrms/Nonsrcstic.txt\", \"r\", encoding=\"utf-8\")\nword_list = stuff.readlines()\n[x.encode('utf-8') for x in word_list]\n\nf = open('english')\nstops = f.read()\n\nfor line in word_list:\n    for w in line.split('\\n'):\n        if w.lower() not in stops:\n            with open(\"nostops_Nonsrcstic.txt\", \"a\") as tweetsNoStops:\n                tweetsNoStops.write(w.encode('utf-8') + \" \")\n</code></pre>\n\n<p>Input file looks like this:</p>\n\n<pre><code> Baby boomers are now at the age where \"work or retire\" is frequently considered choice. \n There's a few people I miss but the truth of the matter is, my name probably hasn't crossed their minds or they don't give a shit about me \n What you must remember is, I do yarn shows with the help of a Fiat Panda and Tatiana, the trailer, which is small #itfitsbehindaPanda  \n @BetBright The AP boost won't work lads says try again later is there a problem with the site?\n</code></pre>\n\n<p>Output looks like this:</p>\n\n<pre><code>Baby boomers age \"work retire\" frequently considered choice.  There's people miss truth matter is, name probably hasn't crossed minds don't give shit must remember is, yarn shows help Fiat Panda Tatiana, trailer, small #itfitsbehindaPanda @BetBright AP boost won't work lads says try later problem site?\n</code></pre>\n"}, {"tags": ["python", "arduino", "raspberry-pi", "arduino-uno"], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "is_accepted": false, "score": 1, "last_activity_date": 1458884721, "creation_date": 1458884721, "answer_id": 36214706, "question_id": 36186882, "link": "https://stackoverflow.com/questions/36186882/python-code-to-interface-with-arduino-over-serial-not-working-on-raspberry-pi/36214706#36214706", "title": "Python code to interface with Arduino over serial not working on Raspberry Pi", "body": "<p>A better way to do this would be to use the fact that an invalid character given so <code>Serial.parseInt()</code>, parsing stops.</p>\n\n<blockquote>\n  <p>Initial characters that are not digits or a minus sign, are skipped;\n  Parsing stops when no characters have been read for a configurable time-out value, or a non-digit is read;\n  If no valid digits were read when the time-out (see Serial.setTimeout()) occurs, 0 is returned;</p>\n</blockquote>\n\n<p><a href=\"https://www.arduino.cc/en/Reference/ParseInt\" rel=\"nofollow\">https://www.arduino.cc/en/Reference/ParseInt</a></p>\n\n<p>Then you could do something like this:</p>\n\n<pre><code>var1 = Serial.read();\nvar2 = Serial.read();\nvar3 = Serial.read();\n</code></pre>\n\n<p>and in python:</p>\n\n<pre><code>ser.write('&lt;number1&gt;a&lt;number2&gt;a&lt;number3&gt;a')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "edited": false, "score": 0, "creation_date": 1458963383, "post_id": 36227851, "comment_id": 60093687, "body": "You said I should add <code>Serial.println(&#39;READY&#39;)</code> to <code>setup()</code>. Is <code>setup()</code> run every time I connect over serial?"}, {"owner": {"reputation": 849, "user_id": 5848375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kliTJ.png?s=128&g=1", "display_name": "mhopeng", "link": "https://stackoverflow.com/users/5848375/mhopeng"}, "reply_to_user": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "edited": false, "score": 0, "creation_date": 1459103980, "post_id": 36227851, "comment_id": 60131867, "body": "The <code>setup()</code> routine is run every time the processor starts, which is: 1) power on, 2) press the reset button on the board, or 3) open a serial connection over the built-in USB port (&quot;auto-reset&quot;). Auto-reset is what allows you to program the board over the USB connection. See details <a href=\"http://playground.arduino.cc/Main/DisablingAutoResetOnSerialConnection\" rel=\"nofollow noreferrer\">here</a> or google &quot;arduino autoreset&quot;."}, {"owner": {"reputation": 849, "user_id": 5848375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kliTJ.png?s=128&g=1", "display_name": "mhopeng", "link": "https://stackoverflow.com/users/5848375/mhopeng"}, "reply_to_user": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "edited": false, "score": 0, "creation_date": 1459104077, "post_id": 36227851, "comment_id": 60131918, "body": "Note that in <i>some</i> cases, a Windows host will not trigger the auto-reset, but Linux or OS X will always do so."}, {"owner": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "edited": false, "score": 0, "creation_date": 1459104201, "post_id": 36227851, "comment_id": 60131970, "body": "Perfect. Thanks. Most of my team is on *nix. Shouldn&#39;t be a problem."}, {"owner": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "edited": false, "score": 0, "creation_date": 1459564055, "post_id": 36227851, "comment_id": 60356183, "body": "I finally got a chance to play with this again. It almost works. Works fine the first time I run the script. However, when I connect for a second time with python, the <code>setup()</code> function doesn&#39;t seem to run again. Any suggestions?"}], "tags": [], "owner": {"reputation": 849, "user_id": 5848375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kliTJ.png?s=128&g=1", "display_name": "mhopeng", "link": "https://stackoverflow.com/users/5848375/mhopeng"}, "is_accepted": true, "score": 1, "last_activity_date": 1458939183, "creation_date": 1458939183, "answer_id": 36227851, "question_id": 36186882, "link": "https://stackoverflow.com/questions/36186882/python-code-to-interface-with-arduino-over-serial-not-working-on-raspberry-pi/36227851#36227851", "title": "Python code to interface with Arduino over serial not working on Raspberry Pi", "body": "<p>You may have an issue related to the Arduino auto-reset. When the Arduino is reset, it takes a few seconds to \"reboot\" and start running its main program (<code>loop()</code>). When you connect to an Arduino with a Unix OS (e.g. Raspberry Pi), it triggers the auto-reset. If your Python script immediately sends data to the Arduino after the connection, this data may get captured by the boot loader instead of the Arduino processor code because the processor is not ready, so the Arduino acts like nothing is happening. You might not see this behavior if you test the Arduino on Windows; some Windows configurations do not trigger the auto-reset on the initial connection, and the same for the serial monitor.</p>\n\n<p>My solution is simply to add a delay of 5 seconds after the serial connection is created in your python script, but before any data is transmitted. If this solves the problem, then you can get more creative about solutions to tell the host when the Arduino is ready. For example, you can print a line to the host at the end of the <code>setup()</code> portion of the Arduino sketch (<code>Serial.println('READY');</code>). You can also put a few lines of code that makes the onboard LED blink at the end of the <code>setup()</code> routine, as a visual cue for troubleshooting:</p>\n\n<pre><code>pinMode(13, OUTPUT);\ndigitalWrite(13, HIGH);\ndelay(150);\ndigitalWrite(13, LOW);\ndelay(150);\ndigitalWrite(13, HIGH);\ndelay(150);\ndigitalWrite(13, LOW);\n</code></pre>\n\n<p>When you see the double-blink, you know the processor is ready to receive communication from your host program.</p>\n"}], "owner": {"reputation": 594, "user_id": 3802813, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/4d718633ff0f97d1de089140b6ffab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Marcel", "link": "https://stackoverflow.com/users/3802813/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 1, "accepted_answer_id": 36227851, "answer_count": 2, "score": 1, "last_activity_date": 1458939183, "creation_date": 1458760667, "question_id": 36186882, "link": "https://stackoverflow.com/questions/36186882/python-code-to-interface-with-arduino-over-serial-not-working-on-raspberry-pi", "title": "Python code to interface with Arduino over serial not working on Raspberry Pi", "body": "<p>I have a python script that communicates with an arduino over serial. It works as expected on my computer but when I run the script on my Raspberry Pi, it does not work. It gets stuck after printing \"Sent: 1\". I think it is stuck waiting for one byte from the arduino (first line from sendValue). However, I don't know why this is happening as it works fine running it from my computer or the Pi's serial monitor.</p>\n\n<p>Python script:</p>\n\n<pre><code>import serial\nser = serial.Serial('/dev/ttyACM0', 9600)\n\ndef sendValue(value):\n    ser.read(1) # Arduino will send one byte when it's ready for the value\n    ser.write(value) # Send value\n    print(\"Sent: {}\".format(value))\n    return;\n\nser.write('1') # Select function '1'\nprint(\"Sent: 1\")\n\nsendValue('5000') # Send 1st parameter to function '1'\nsendValue('4000') # Send 2nd parameter to function '1'\n\nwhile True:\n    print(ser.readline())\n</code></pre>\n\n<p>Arduino code:</p>\n\n<pre><code>int task = 0;\n\nint val = 0;\nint val2 = 0;\nint val3 = 0;\n\nvoid task1(int length){\n    Serial.println(length);\n    digitalWrite(13, HIGH);\n    delay(length);\n    digitalWrite(13, LOW);\n}\n\nvoid task2(int length1, int length2){\n    Serial.print(\"Running task2 with parameters \");\n    Serial.print(length1);\n    Serial.print(\" and \");\n    Serial.println(length2);\n    digitalWrite(13, HIGH);\n    delay(length1);\n    digitalWrite(13, LOW);\n    delay(500);\n    digitalWrite(13, HIGH);\n    delay(length2);\n    digitalWrite(13, LOW);\n}\n\nvoid waitForSerial(){\n    while(Serial.available() == 0);\n}\n\nint getValue(){\n    Serial.write(48);\n    waitForSerial();\n    return Serial.parseInt();\n}\n\nint getCommand(){\n    if(Serial.available() == 0){\n        return -1;\n    }\n\n    String in = \"\";\n\n    in += (char)Serial.read();\n\n    return in.toInt();\n}\n\nvoid setup() {\n    Serial.begin(9600);\n    pinMode(13, OUTPUT);\n}\n\nvoid loop() {\n    task = getCommand();\n\n    switch(task){\n        case 0:\n            val = getValue();\n            task1(val);\n            val = 0;\n            break;\n        case 1:\n            val = getValue();\n            val2 = getValue();\n\n            task2(val, val2);\n            val = val2 = 0;\n            break;\n    }\n}\n</code></pre>\n\n<p>I have tried putting a delay in instead of the <code>ser.read(1)</code> where I think it is getting stuck but that still doesn't work.</p>\n\n<p>I could not decide whether to put this on the Raspberry Pi community or Arduino community so I put it here.</p>\n"}]