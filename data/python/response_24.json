[{"tags": ["python", "asynchronous"], "comments": [{"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1435190882, "post_id": 31039120, "comment_id": 50102053, "body": "nowait I/O (e.g. the <code>select</code> system call in Linux instead of <code>sleep</code>) or perhaps inotify"}, {"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1435191085, "post_id": 31039120, "comment_id": 50102107, "body": "See <a href=\"http://unix.stackexchange.com/questions/45626/output-file-contents-while-they-change\" title=\"output file contents while they change\">unix.stackexchange.com/questions/45626/&hellip;</a>"}, {"owner": {"reputation": 81, "user_id": 717782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EEiA.jpg?s=128&g=1", "display_name": "Adam Hammes", "link": "https://stackoverflow.com/users/717782/adam-hammes"}, "reply_to_user": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1435191092, "post_id": 31039120, "comment_id": 50102108, "body": "I can&#39;t find the first and I&#39;m not clear on how to use Pyinotify to achieve what I asked."}], "owner": {"reputation": 81, "user_id": 717782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1EEiA.jpg?s=128&g=1", "display_name": "Adam Hammes", "link": "https://stackoverflow.com/users/717782/adam-hammes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435191178, "creation_date": 1435190354, "last_edit_date": 1495535203, "question_id": 31039120, "link": "https://stackoverflow.com/questions/31039120/asynchronously-and-continuously-parse-file-in-python", "title": "Asynchronously and continuously parse file in Python", "body": "<p>I am looking to parse a log produced by an external program. This log is parsed into a list which is then served to a front-end application.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/13638472/continuously-parse-file-in-python\">This</a> questions covers how to continuously read a file; however, my application needs to be doing other things the <code>time.sleep(1)</code> period.</p>\n\n<p>Ideally, I would be able to call a function, say <code>parse_log(log_list)</code>, and have the results of the parsing be appended to <code>log_list</code>. Additionally, I should be able to clear <code>log_list</code> outside of the parser without breaking anything.</p>\n\n<p>Bonus challenge: Functionality to pause and resume parsing.</p>\n\n<p>Edit: Preferably cross-platform.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4558, "user_id": 4293417, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/15V7E.png?s=128&g=1", "display_name": "Zizouz212", "link": "https://stackoverflow.com/users/4293417/zizouz212"}, "edited": false, "score": 0, "creation_date": 1435190573, "post_id": 31039111, "comment_id": 50101969, "body": "Which one is line 62?"}, {"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 1, "creation_date": 1435190632, "post_id": 31039111, "comment_id": 50101985, "body": "Paste the whole traceback."}, {"owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "edited": false, "score": 0, "creation_date": 1435190675, "post_id": 31039111, "comment_id": 50101996, "body": "Perhaps the wordlist is empty in wordcount() method"}, {"owner": {"reputation": 2021, "user_id": 3636636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/483f63f301825435fbe3b02d657da737?s=128&d=identicon&r=PG&f=1", "display_name": "user3636636", "link": "https://stackoverflow.com/users/3636636/user3636636"}, "edited": false, "score": 0, "creation_date": 1435191055, "post_id": 31039111, "comment_id": 50102100, "body": "print your <code>wordlist</code> and have a look at what you are attempting to iterate over, this might help answer the question"}, {"owner": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1435193268, "post_id": 31039111, "comment_id": 50102630, "body": "Are you sure your program does not run fine?...I&#39;ve tested myself, I couldn&#39;t replicate your error?"}, {"owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "edited": false, "score": 0, "creation_date": 1435193932, "post_id": 31039111, "comment_id": 50102773, "body": "Try it with a file that doesn&#39;t exist and you will see the value of my answer"}], "answers": [{"comments": [{"owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "edited": false, "score": 0, "creation_date": 1435190901, "post_id": 31039169, "comment_id": 50102057, "body": "That might append a list to his list. Example: <code>[&quot;a word&quot;, &quot;another&quot;].append([&quot;one&quot;, &quot;more&quot;])</code> -&gt; <code>[&quot;a word&quot;, &quot;another&quot;, [&quot;one&quot;, &quot;more&quot;]]</code>"}], "tags": [], "owner": {"reputation": 2056, "user_id": 2209909, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/qdaUf.jpg?s=128&g=1", "display_name": "Dap", "link": "https://stackoverflow.com/users/2209909/dap"}, "is_accepted": false, "score": -1, "last_activity_date": 1512672059, "last_edit_date": 1512672059, "creation_date": 1435190739, "answer_id": 31039169, "question_id": 31039111, "link": "https://stackoverflow.com/questions/31039111/typeerror-nonetype-object-is-not-iterable-for-a-word-counting-program/31039169#31039169", "title": "TypeError: &#39;NoneType&#39; object is not iterable for a word counting program", "body": "<p>I'm assuming get words is not returning anything within the array because you're appending the lines incorrectly. Add a print words before you return it. When you call get wordcount function, it replies with none type is not iterable.  instead of <code>words = words.line.split()</code> , use the append function.  <code>words.append(line.split())</code></p>\n"}, {"comments": [{"owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "edited": false, "score": 0, "creation_date": 1435192018, "post_id": 31039232, "comment_id": 50102334, "body": "This is why people recommend to only use one <code>return</code> statement: you would notice errors like this right away."}, {"owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "edited": false, "score": 0, "creation_date": 1435193194, "post_id": 31039232, "comment_id": 50102615, "body": "Care to explain the downvote..If you think this answer is lacking something feel free to let me know what it is."}], "tags": [], "owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "is_accepted": false, "score": -1, "last_activity_date": 1435191823, "last_edit_date": 1435191823, "creation_date": 1435191253, "answer_id": 31039232, "question_id": 31039111, "link": "https://stackoverflow.com/questions/31039111/typeerror-nonetype-object-is-not-iterable-for-a-word-counting-program/31039232#31039232", "title": "TypeError: &#39;NoneType&#39; object is not iterable for a word counting program", "body": "<p>You declare the <code>words</code> inside the function <code>getwords</code> <em>after</em> the <code>try/except</code> block. If the <code>IOException</code> is raised, you simply <code>return</code>. This would return <code>None</code> on a failed <code>open</code>. Move <code>words = []</code> to before the <code>try/except</code>.</p>\n\n<p>This code should work <strong>now</strong>, left <code>return words</code> out of exception.</p>\n\n<pre><code>def getwords():\n\n#function to get words in the input file\n    words = []\n    try:\n        fp = open(\"sample.txt\", \"r\")\n    except IOError:\n        return words\n#read the file line by line\n    for line in fp:\n    #convert each line into words with space as delimiter\n        words=words+line.split()\n    return words\n\n\ndef wordcount(wordlist):\n\n#function to count words in the file\n#worddic is dictionary to store words frequency\n    worddic=dict()\n    for x in wordlist:\n    #convert word to lowercase to ignorecase\n        t=x.lower()\n        if(t not in worddic):\n            worddic[t]=0\n        worddic[t]=worddic[t]+1\n    max=-1\n    t=''\n    for x in worddic:\n        if(worddic[x]&gt;max):\n            max=worddic[x]\n            t=x\n    return t\n\ndef letters(wordlist,lettercount):\n\n#function to count letters in the file\n    for x in wordlist:\n    #For each word in the list\n        t=x.lower()\n        for y in t:\n        #for each letter in the word\n            if(not (y in lettercount)):\n            #if the letter is not in dictionary add it\n            #and set frequency to zero\n                lettercount[y]=0\n        #increment the frequency of letter in dictionary\n            lettercount[y] = lettercount[y]+1\n\ndef createoutput(lettercount,wordlist,mostword):\n\n#creates an empty file 'statistics.txt'\n    try:\n        fout=open(\"statistics.txt\",'w+')\n    except IOError:\n        print('Unable to create file')\n    fout.write('Number of words in the file are '+str(len(wordlist))+'\\n')\n    fout.write('Most repeated word in the file is '+mostword+'\\n')\n    for x in lettercount:\n    #write to the file 'statistics.txt'\n        fout.write(x+' appeared in the file for '+str(lettercount[x])+'   times \\n')\n\ndef main():\n\n    wordlist=getwords()\n    #lettercount is a dictionary with letters as keys\n    #and their frequency in the input file as data\n    lettercount=dict()\n    mostword=wordcount(wordlist)\n    letters(wordlist,lettercount)\n    createoutput(lettercount,wordlist,mostword)\nmain()\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 4749463, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/791404970928544/picture?type=large", "display_name": "Shane McGriever", "link": "https://stackoverflow.com/users/4749463/shane-mcgriever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 298, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1512672059, "creation_date": 1435190272, "question_id": 31039111, "link": "https://stackoverflow.com/questions/31039111/typeerror-nonetype-object-is-not-iterable-for-a-word-counting-program", "title": "TypeError: &#39;NoneType&#39; object is not iterable for a word counting program", "body": "<p>When I run my current code, I get a TypeError: 'NoneType' object is not iterable. Specifically, the mostword=wordcount(wordlist) line 62 in the main function, and where I've added for x in wordlist on line 19.  Can you possibly help me figure out where I'm going wrong? </p>\n\n<pre><code>def getwords():\n\n#function to get words in the input file\ntry:\n    fp=open(\"sample.txt\",'r')\nexcept IOError:\n    print('Unable to open file')\n    return\nwords=[]\n#read the file line by line\nfor line in fp:\n    #convert each line into words with space as delimiter\n    words=words+line.split()\nreturn words\n\n\ndef wordcount(wordlist):\n\n#function to count words in the file\n#worddic is dictionary to store words frequency\nworddic=dict()\nfor x in wordlist:\n    #convert word to lowercase to ignorecase\n    t=x.lower()\n    if(t not in worddic):\n        worddic[t]=0\n    worddic[t]=worddic[t]+1\nmax=-1\nt=''\nfor x in worddic:\n    if(worddic[x]&gt;max):\n        max=worddic[x]\n        t=x\nreturn t\n\ndef letters(wordlist,lettercount):\n\n#function to count letters in the file\nfor x in wordlist:\n    #For each word in the list\n    t=x.lower()\n    for y in t:\n        #for each letter in the word\n        if(not (y in lettercount)):\n            #if the letter is not in dictionary add it\n            #and set frequency to zero\n            lettercount[y]=0\n        #increment the frequency of letter in dictionary\n        lettercount[y] = lettercount[y]+1\n\ndef createoutput(lettercount,wordlist,mostword):\n\n#creates an empty file 'statistics.txt'\ntry:\n    fout=open(\"statistics.txt\",'w+')\nexcept IOError:\n    print('Unable to create file')\nfout.write('Number of words in the file are '+str(len(wordlist))+'\\n')\nfout.write('Most repeated word in the file is '+mostword+'\\n')\nfor x in lettercount:\n    #write to the file 'statistics.txt'\n    fout.write(x+' appeared in the file for '+str(lettercount[x])+'   times \\n')\n\ndef main():\n\nwordlist=getwords()\n#lettercount is a dictionary with letters as keys\n#and their frequency in the input file as data\nlettercount=dict()\nmostword=wordcount(wordlist)\nletters(wordlist,lettercount)\ncreateoutput(lettercount,wordlist,mostword)\nmain()\n</code></pre>\n\n<p>Thanks in advance.  Much appreciated.  </p>\n"}, {"tags": ["python", "cython", "kivy", "importerror", "buildozer"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1435224119, "post_id": 31039043, "comment_id": 50114499, "body": "The cython check is expected to fail (cython isn&#39;t installed in the python environment pyjnius is being installed to), but is wrapped in a try/except that should catch this. I&#39;m not sure what&#39;s wrong."}], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3435, "favorite_count": 2, "answer_count": 0, "score": 2, "last_activity_date": 1435189882, "creation_date": 1435189882, "question_id": 31039043, "link": "https://stackoverflow.com/questions/31039043/importerror-no-module-named-cython-distutils-but-there-is", "title": "ImportError: No module named Cython.Distutils (But there is)", "body": "<p>I have Cython 0.20 installed, and can do 'from Cython.Distutils import build_ext' from a python interpreter, so I don't understand\nthe below error, when I am trying to build an apk with buildozer. My log_level in buildozer.spec is set to 2 already. It appears to be trying to install jnius into a virtualenv(unless i'm mistaken).. I assume this is normal, as I haven't set up any myself. Any suggestions? I've googled around to no avail. My OS is Ubuntu 15.04.</p>\n\n<p>The following is the tail end of the output from the command:</p>\n\n<pre><code>buildozer --verbose android debug deploy run\n</code></pre>\n\n<p>..</p>\n\n<pre><code> # Install distribute\n    # Run 'curl http://python-distribute.org/distribute_setup.py | venv/bin/python'\n    # Cwd /home/yerman/PycharmProjects/genius/.buildozer\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                     Dload  Upload   Total   Spent    Left  Speed\n      0     0    0     0    0     0      0      0 --:--:--  0:00:16 --:--:--     0\n    # Install requirement jnius in virtualenv\n    # Run 'pip install --download-cache=/home/yerman/.buildozer/cache --target=/home/yerman/PycharmProjects/genius/.buildozer/applibs jnius'\n    # Cwd /home/yerman/PycharmProjects/genius/.buildozer\n    DEPRECATION: --download-cache has been deprecated and will be removed in the future. Pip now automatically uses and configures its cache.\n    Collecting jnius\n      Using cached jnius-1.0.2.tar.gz\n        Complete output from command python setup.py egg_info:\n\n\n        You need Cython to compile Pyjnius.\n\n\n        Traceback (most recent call last):\n          File \"&lt;string&gt;\", line 20, in &lt;module&gt;\n          File \"/tmp/pip-build-_tfhLW/jnius/setup.py\", line 32, in &lt;module&gt;\n            from Cython.Distutils import build_ext\n        ImportError: No module named Cython.Distutils\n\n        ----------------------------------------\n    Command \"python setup.py egg_info\" failed with error code 1 in /tmp/pip-build-_tfhLW/jnius\n    # Command failed: pip install --download-cache=/home/yerman/.buildozer/cache --target=/home/yerman/PycharmProjects/genius/.buildozer/applibs jnius\n    # \n    # Buildozer failed to execute the last command\n    # The error might be hidden in the log above this error\n    # Please read the full log, and search for it before\n    # raising an issue with buildozer itself.\n    # In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "multiline", "with-statement"], "comments": [{"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1435190526, "post_id": 31039022, "comment_id": 50101959, "body": "Actually, the big question is what PEP-8 says about this stuff, since PEP-8 restricts line-length to 80 chars, which is what makes doing this necessary."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1435191297, "post_id": 31039022, "comment_id": 50102154, "body": "Opinion time: PEP-8 is great, but I think the 80-character limit is too low. It&#39;s based on the old terminal limitations, not human usability. I&#39;m not advocating lines with 300+ characters, but I have no problem with 120-130 or so."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1435191356, "post_id": 31039022, "comment_id": 50102170, "body": "@TigerhawkT3 I think that the 80 char limit is low too, but I see a benefit to it when I&#39;m working on a project that requires me to have 5 files open simultaneously. It&#39;s much easier to be able to see every file. I might make an exception for this file, though."}, {"owner": {"reputation": 2550, "user_id": 4931993, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HIOGhudLQzQ/AAAAAAAAAAI/AAAAAAAAAG8/RhqG4yB0Ky0/photo.jpg?sz=128", "display_name": "Eric Appelt", "link": "https://stackoverflow.com/users/4931993/eric-appelt"}, "edited": false, "score": 8, "creation_date": 1435192198, "post_id": 31039022, "comment_id": 50102378, "body": "PEP-8 is <a href=\"https://www.python.org/dev/peps/pep-0008/#maximum-line-length\" rel=\"nofollow noreferrer\">explicitly ok</a> with ` \\ ` line continuation for multiline <code>with</code> statements, since you can&#39;t use implicit continuation. That doesn&#39;t really help your situation if you want to inline comments, though."}], "answers": [{"comments": [{"owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "edited": false, "score": 0, "creation_date": 1435190644, "post_id": 31039099, "comment_id": 50101988, "body": "Well done Quincunx. This is fairly crazy syntax, but I think that&#39;s what OP wanted. I didn&#39;t think this was possible."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 9, "creation_date": 1435190675, "post_id": 31039099, "comment_id": 50101995, "body": "Fun fact: he <i>is</i> the OP."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "edited": false, "score": 1, "creation_date": 1435190776, "post_id": 31039099, "comment_id": 50102021, "body": "@DevShark This does what I want, but is there a way to do this that isn&#39;t so crazy? That&#39;s the question I want to know. Sometimes I wish python was able to say, &quot;There&#39;s an operator at the end of this line that requires something to be after it, so I&#39;d better check the next line for the other operand.&quot;"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "edited": false, "score": 2, "creation_date": 1435191030, "post_id": 31039099, "comment_id": 50102093, "body": "No offense intended; my amusement came from @DevShark&#39;s lack of realization. But, if you often just need to give it a few more minutes to figure something out yourself, maybe you could so before asking a question? Be more self-confident. :)"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1435191096, "post_id": 31039099, "comment_id": 50102110, "body": "@TigerhawkT3 I do so before asking. I always spend at least an hour working on the problem before I ask. It&#39;s only when frustration overcomes me that I ask. And yet I somehow usually manage to figure it out after I ask."}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 3, "creation_date": 1435246861, "post_id": 31039099, "comment_id": 50130996, "body": "@Downvoter Can you please explain what is bad about this answer so I can improve my future answers?"}, {"owner": {"reputation": 2851, "user_id": 243089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4c504339686fb2092eba997ee8899131?s=128&d=identicon&r=PG", "display_name": "Victor Zamanian", "link": "https://stackoverflow.com/users/243089/victor-zamanian"}, "edited": false, "score": 5, "creation_date": 1530190566, "post_id": 31039099, "comment_id": 89155269, "body": "@Justin if you usually figure things out after finally breaking down and asking a question, might I suggest a rubber duck by your side? ;-) Either way, it&#39;s seldom a bad thing to post a question online if only to answer it yourself shortly after. It&#39;s good for posterity, and for others&#39; benefit!"}], "tags": [], "owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "is_accepted": false, "score": 3, "last_activity_date": 1435190223, "creation_date": 1435190223, "answer_id": 31039099, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/31039099#31039099", "title": "Python multi-line with statement", "body": "<p>This isn't exactly clean, but you could do this:</p>\n\n<pre><code>with Dummy() as a, Dummy() as b, (\n     #my comment\n     Dummy()) as c:\n    pass\n</code></pre>\n\n<p>There are no syntax errors, but it's not the cleanest. You could also do this:</p>\n\n<pre><code>with Dummy() as a, Dummy() as b, Dummy(\n     #my comment\n     ) as c:\n    pass\n</code></pre>\n\n<p>Consider finding a way of doing this without using the comments in the middle of the <code>with</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 13, "last_activity_date": 1435191050, "creation_date": 1435191050, "answer_id": 31039206, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/31039206#31039206", "title": "Python multi-line with statement", "body": "<p>This seems tidiest to me:</p>\n\n<pre><code>with open('firstfile', 'r') as (f1 # first\n  ), open('secondfile', 'r') as (f2 # second\n  ):\n    pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10158, "user_id": 1209921, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZxrGg.gif?s=128&g=1", "display_name": "Matthias", "link": "https://stackoverflow.com/users/1209921/matthias"}, "edited": false, "score": 2, "creation_date": 1435213394, "post_id": 31039332, "comment_id": 50108020, "body": "That&#39;s a great solution."}, {"owner": {"reputation": 1083, "user_id": 424180, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ce8d609382deb2e5e20b8679f9e790b?s=128&d=identicon&r=PG", "display_name": "Mr. Deathless", "link": "https://stackoverflow.com/users/424180/mr-deathless"}, "edited": false, "score": 3, "creation_date": 1448468431, "post_id": 31039332, "comment_id": 55603951, "body": "There is a backport of contextlib improvements to Python 2 on <a href=\"https://pypi.python.org/pypi/contextlib2/\" rel=\"nofollow noreferrer\">pypi</a>. It provides <code>ExitStack()</code> among other things."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 53, "last_activity_date": 1598791122, "last_edit_date": 1598791122, "creation_date": 1435192197, "answer_id": 31039332, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/31039332#31039332", "title": "Python multi-line with statement", "body": "<p>Given that you've tagged this Python 3, if you need to intersperse comments with your context managers, I would use a <a href=\"https://docs.python.org/3/library/contextlib.html#contextlib.ExitStack\" rel=\"nofollow noreferrer\"><code>contextlib.ExitStack</code></a>:</p>\n<pre><code>from contextlib import ExitStack\n\nwith ExitStack() as stack:\n    a = stack.enter_context(Dummy()) # Relevant comment\n    b = stack.enter_context(Dummy()) # Comment about b\n    c = stack.enter_context(Dummy()) # Further information\n</code></pre>\n<p>This is equivalent to</p>\n<pre><code>with Dummy() as a, Dummy() as b, Dummy() as c:\n</code></pre>\n<p>This has the benefit that you can generate your context managers in a loop instead of needing to separately list each one. The documentation gives the example that if you want to open a bunch of files, and you have the filenames in a list, you can do</p>\n<pre><code>with ExitStack() as stack:\n    files = [stack.enter_context(open(fname)) for fname in filenames]\n</code></pre>\n<p>If your context managers take so much screen space that you want to put comments between them, you probably have enough to want to use some sort of loop.</p>\n<hr />\n<p>As Mr. Deathless mentions in the comments, there's a <a href=\"https://pypi.python.org/pypi/contextlib2/\" rel=\"nofollow noreferrer\">contextlib backport</a> on PyPI under the name <code>contextlib2</code>. If you're on Python 2, you can use the backport's implementation of <code>ExitStack</code>.</p>\n<hr />\n<p>Incidentally, the reason you can't do something like</p>\n<pre><code>with (\n        ThingA() as a,\n        ThingB() as b):\n    ...\n</code></pre>\n<p>is because a <code>(</code> can also be the first token of the expression for a context manager, and CPython's current parser wouldn't be able to tell what rule it's supposed to be parsing when it sees the first <code>(</code>. This is one of the motivating examples for <a href=\"https://www.python.org/dev/peps/pep-0617/\" rel=\"nofollow noreferrer\">PEP 617</a>, which introduces a much more powerful new parser, so the syntax you wanted may soon exist.</p>\n"}, {"tags": [], "owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "is_accepted": false, "score": 0, "last_activity_date": 1559497864, "creation_date": 1559497864, "answer_id": 56417551, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/56417551#56417551", "title": "Python multi-line with statement", "body": "<p>Like <a href=\"https://stackoverflow.com/a/31039206/4518341\">TigerhawkT3's answer</a>, but with indenting that doesn't trigger <a href=\"http://pycodestyle.pycqa.org/en/latest/intro.html#error-codes\" rel=\"nofollow noreferrer\">pycodestyle's error E124</a>:</p>\n\n<pre><code>with (\n        open('firstfile', 'r')) as f1, (  # first\n        open('secondfile', 'r')) as f2:  # second\n    pass\n</code></pre>\n\n<p>IMO it's still ugly, but at least it passes the linter.</p>\n"}, {"tags": [], "owner": {"reputation": 40289, "user_id": 38626, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/0c1235b75e5f26b854dce060f906d2dc?s=128&d=identicon&r=PG", "display_name": "MiniQuark", "link": "https://stackoverflow.com/users/38626/miniquark"}, "is_accepted": false, "score": 3, "last_activity_date": 1566970462, "creation_date": 1566970462, "answer_id": 57685646, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/57685646#57685646", "title": "Python multi-line with statement", "body": "<p>I would keep things simple and readable by adding the comment before the <code>with</code> statement, or on the line itself:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># my comment explaining why I wanted Dummy() as c\nwith Dummy() as a, Dummy() as b,\\\n     Dummy() as c: # or add the comment here\n    pass\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1592679901, "post_id": 62324153, "comment_id": 110513952, "body": "@Justin It works in 3.90a6, which you can install using pyenv :)"}, {"owner": {"reputation": 1515, "user_id": 833093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05917fed26d7519fae8318f78d14592a?s=128&d=identicon&r=PG", "display_name": "Thomas Grainger", "link": "https://stackoverflow.com/users/833093/thomas-grainger"}, "reply_to_user": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "edited": false, "score": 0, "creation_date": 1604913176, "post_id": 62324153, "comment_id": 114481660, "body": "@justin 3.9 got released"}, {"owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "reply_to_user": {"reputation": 1515, "user_id": 833093, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/05917fed26d7519fae8318f78d14592a?s=128&d=identicon&r=PG", "display_name": "Thomas Grainger", "link": "https://stackoverflow.com/users/833093/thomas-grainger"}, "edited": false, "score": 0, "creation_date": 1604984967, "post_id": 62324153, "comment_id": 114507272, "body": "@ThomasGrainger Thanks for the ping. I tried this out and it does indeed work with Python 3.9"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1604985646, "post_id": 62324153, "comment_id": 114507437, "body": "This is <b>not</b> officially supported yet. It&#39;s very likely to become an official feature in 3.10, but it&#39;s currently an undocumented deviation from the official grammar. It may not work in other Python 3.9 implementations, when PyPy or some other project gets around to 3.9 support."}, {"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1604995268, "post_id": 62324153, "comment_id": 114510126, "body": "@user2357112supportsMonica  isn&#39;t the official grammar the one in cpython?  If not, where is the official grammar?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1604996287, "post_id": 62324153, "comment_id": 114510488, "body": "The <a href=\"https://docs.python.org/3/reference/compound_stmts.html#the-with-statement\" rel=\"nofollow noreferrer\">official docs</a> for the <code>with</code> statement disallow parentheses. It looks like when they generated the <a href=\"https://docs.python.org/3/reference/grammar.html\" rel=\"nofollow noreferrer\">full grammar spec</a> in the docs, they generated it from a grammar file that has the with-parentheses rule and left that rule in, though, so I guess this change is now in a semi-documented limbo."}, {"owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1604996488, "post_id": 62324153, "comment_id": 114510580, "body": "@user2357112supportsMonica Fair enough, this should be PR in cpython though.  Guido&#39;s pretty proud of the new PEG grammar.  He was quick to show me that the parenthesized <i>with</i> statement now works."}], "tags": [], "owner": {"reputation": 28637, "user_id": 99989, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/oLbIt.jpg?s=128&g=1", "display_name": "Neil G", "link": "https://stackoverflow.com/users/99989/neil-g"}, "is_accepted": true, "score": 6, "last_activity_date": 1592679862, "last_edit_date": 1592679862, "creation_date": 1591877628, "answer_id": 62324153, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement/62324153#62324153", "title": "Python multi-line with statement", "body": "<p>This is fixed in Python 3.9!</p>\n<p><a href=\"https://github.com/we-like-parsers/pegen/issues/229\" rel=\"noreferrer\">https://github.com/we-like-parsers/pegen/issues/229</a></p>\n<pre class=\"lang-py prettyprint-override\"><code>with (Dummy() as a,\n        Dummy() as b,\n        # my comment explaining why I wanted Dummy() as c\n        Dummy() as c):\n    pass\n</code></pre>\n<p>Here's proof that it works:</p>\n<pre><code>Python 3.9.0a6 (default, Jun 20 2020, 14:52:53) \nType 'copyright', 'credits' or 'license' for more information\nIPython 7.15.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [3]: with (open('x') \n   ...:        as f): \n   ...:     pass \n   ...:                                                                                                                                                                                                 \n---------------------------------------------------------------------------\nFileNotFoundError                         Traceback (most recent call last)\n&lt;ipython-input-3-47d5a51db08b&gt; in &lt;module&gt;\n----&gt; 1 with (open('x')\n      2        as f):\n      3     pass\n      4 \n\nFileNotFoundError: [Errno 2] No such file or directory: 'x'\n\nIn [4]:                                                                                                                                                                                                 \nDo you really want to exit ([y]/n)? y\n\nwPython 3.8.2 (default, May  8 2020, 20:08:31) \nType 'copyright', 'credits' or 'license' for more information\nIPython 7.15.0 -- An enhanced Interactive Python. Type '?' for help.\n\nIn [1]: with (open('x') \n   ...:       as f): \n   ...:     pass                                                                                                                                                                                        \n  File &quot;&lt;ipython-input-1-e538abd13934&gt;&quot;, line 2\n    as f):\n    ^\nSyntaxError: invalid syntax\n</code></pre>\n"}], "owner": {"reputation": 21009, "user_id": 1896169, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jap8U.png?s=128&g=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/1896169/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14482, "favorite_count": 7, "accepted_answer_id": 62324153, "answer_count": 6, "score": 50, "last_activity_date": 1598791122, "creation_date": 1435189775, "question_id": 31039022, "link": "https://stackoverflow.com/questions/31039022/python-multi-line-with-statement", "title": "Python multi-line with statement", "body": "<p>What is a clean way to create a multi-line <code>with</code> in python? I want to open up several files inside a single <code>with</code>, but it's far enough to the right that I want it on multiple lines. Like this:</p>\n\n<pre><code>class Dummy:\n    def __enter__(self): pass\n    def __exit__(self, type, value, traceback): pass\n\nwith Dummy() as a, Dummy() as b,\n     Dummy() as c:\n    pass\n</code></pre>\n\n<p>Unfortunately, that is a <code>SyntaxError</code>. So I tried this:</p>\n\n<pre><code>with (Dummy() as a, Dummy() as b,\n      Dummy() as c):\n    pass\n</code></pre>\n\n<p>Also a syntax error. However, this worked:</p>\n\n<pre><code>with Dummy() as a, Dummy() as b,\\\n     Dummy() as c:\n    pass\n</code></pre>\n\n<p>But what if I wanted to place a comment? This does not work:</p>\n\n<pre><code>with Dummy() as a, Dummy() as b,\\\n     # my comment explaining why I wanted Dummy() as c\\\n     Dummy() as c:\n    pass\n</code></pre>\n\n<p>Nor does any obvious variation on the placement of the <code>\\</code>s.</p>\n\n<p>Is there a clean way to create a multi-line <code>with</code> statement that allows comments inside it?</p>\n"}, {"tags": ["python", "django", "celery"], "comments": [{"owner": {"reputation": 419, "user_id": 4278306, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wRZQS.jpg?s=128&g=1", "display_name": "Be Wake Pandey", "link": "https://stackoverflow.com/users/4278306/be-wake-pandey"}, "edited": false, "score": 0, "creation_date": 1482740399, "post_id": 31038991, "comment_id": 69859955, "body": "I don&#39;t think you&#39;ll need  app=Celery(&#39;proj&#39;) in your settings.py. The other should work."}], "owner": {"reputation": 2966, "user_id": 2190546, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6451296ba1e76dc99cace352b93b5488?s=128&d=identicon&r=PG", "display_name": "J Freebird", "link": "https://stackoverflow.com/users/2190546/j-freebird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 590, "favorite_count": 2, "answer_count": 0, "score": 1, "last_activity_date": 1435251309, "creation_date": 1435189572, "last_edit_date": 1435251309, "question_id": 31038991, "link": "https://stackoverflow.com/questions/31038991/register-different-tasks-in-celery", "title": "Register Different Tasks in Celery", "body": "<p>I created two kinds of tasks with Celery. One is a standalone Celery task that can do things according to database push notifications (a program listens to database and once there is a message it launches the task). Another is integrated with django that accepts a url request, which is used to fire a task. I followed <a href=\"https://github.com/celery/celery/tree/3.1/examples/django\" rel=\"nofollow\">this example</a> to setup the django app with Celery. And for the standalone Celery task, I have <code>tasks.py</code> under the outmost <code>django</code> directory (in the example) that defines the normal task:</p>\n\n<pre><code>from celery import Celery\nfrom demoapp.utils.read_images import download_images_mem\n\napp = Celery('tasks', backend='redis://localhost', broker='amqp://guest@localhost//')\n\n@app.task\ndef make_video(img_url_list, deviceid, utc, dst, cityname, streetname, CorF, lat, lon):\n    download_images_mem(img_url_list, deviceid, utc, dst, cityname, streetname, CorF, lat, lon)\n</code></pre>\n\n<p>And I also have a <code>tasks.py</code> under <code>demoapp</code> directory that begins with:</p>\n\n<pre><code>@shared_task\ndef fired_by_url():\n    func definitions\n</code></pre>\n\n<p>I'm using rabbitmq as the broker and redis as the backend for both tasks. My question is that how I can put them together? Basically I followed <code>django-celery</code> tutorial and a normal celery tutorial, that's why I have such weird directory layout and files. But I want to know how to put them together. I have questions like: Which celery instance should I use? The <code>app = Celery('proj')</code> in <code>settings.py</code> or <code>app = Celery('tasks', backend='redis://localhost', broker='amqp://guest@localhost//')</code>? And which decorator should I use for the two tasks? How should I organize my files? They are supposed to run on the same machine. I'm really new to Celery and kind of confused at this point. Any help would be greatly appreciated. Thanks in advance.</p>\n"}, {"tags": ["javascript", "jquery", "python", "flask"], "comments": [{"owner": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 2, "creation_date": 1435195251, "post_id": 31038982, "comment_id": 50103047, "body": "Push state happens on the client side, Flask is only server side. You&#39;d have to do <code>window.location.href(&#39;&#47;client?firstchange=done&#39;)</code> or use AJAX."}, {"owner": {"reputation": 1637, "user_id": 4005394, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eea084f363fb5bed83fb45faedff6f70?s=128&d=identicon&r=PG&f=1", "display_name": "shell", "link": "https://stackoverflow.com/users/4005394/shell"}, "reply_to_user": {"reputation": 9341, "user_id": 1377021, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/ba1fbbd03fa9766d8ef36d54b25c3569?s=128&d=identicon&r=PG", "display_name": "nathancahill", "link": "https://stackoverflow.com/users/1377021/nathancahill"}, "edited": false, "score": 0, "creation_date": 1435216089, "post_id": 31038982, "comment_id": 50109526, "body": "See edit for new problem."}], "answers": [{"tags": [], "owner": {"reputation": 1193, "user_id": 2339466, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rp6CF.jpg?s=128&g=1", "display_name": "Hett", "link": "https://stackoverflow.com/users/2339466/hett"}, "is_accepted": true, "score": 0, "last_activity_date": 1435241586, "creation_date": 1435241586, "answer_id": 31052877, "question_id": 31038982, "link": "https://stackoverflow.com/questions/31038982/flask-receiving-url-changes-from-pushstate/31052877#31052877", "title": "flask receiving url changes from pushstate", "body": "<p>I'm not sure how can you register two methods under the same routes, but I don't think it's a good idea and how your flask server will behave.\nSo, please, change one of your routes.\nHere're two ways for doing so:</p>\n\n<p>1)</p>\n\n<pre><code>@app.route(\"/client\")\ndef initial_template():\n    return render_template('client.html')\n\n@app.route(\"/client_state\")\ndef get_change():\n    print request.args.get('firstchange')\n</code></pre>\n\n<p>In this case your javascript redirect code will look like this:\nwindow.location.href('127.0.0.1:5000/client_state?firstchange=done')</p>\n\n<p>2)</p>\n\n<pre><code>@app.route(\"/client\")\ndef initial_template():\n    return render_template('client.html')\n\n@app.route(\"/client/&lt;state&gt;\")\ndef get_change(state):\n    print state\n</code></pre>\n\n<p>And in this case your javascript redirect code will look like this:\nwindow.location.href('127.0.0.1:5000/client/done')</p>\n\n<p>Take a look at <a href=\"http://flask.pocoo.org/docs/0.10/quickstart/#routing\" rel=\"nofollow\">this documentation</a> for further questions.</p>\n"}], "owner": {"reputation": 1637, "user_id": 4005394, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/eea084f363fb5bed83fb45faedff6f70?s=128&d=identicon&r=PG&f=1", "display_name": "shell", "link": "https://stackoverflow.com/users/4005394/shell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 31052877, "answer_count": 1, "score": 1, "last_activity_date": 1435241586, "creation_date": 1435189533, "last_edit_date": 1435207829, "question_id": 31038982, "link": "https://stackoverflow.com/questions/31038982/flask-receiving-url-changes-from-pushstate", "title": "flask receiving url changes from pushstate", "body": "<p>I'm trying to get the changes made from window.history.pushState onto my flask server. For example, if I do this:</p>\n\n<pre><code>window.history.pushState(\"object or string\", \"Title\", \"?firstchange=done\");\n</code></pre>\n\n<p>How do I get the \"done\" String in flask? I have a template under the client route, and I want a function that gets the firstchange query string when it is available.</p>\n\n<pre><code>@app.route(\"/client\")\ndef initial_template():\n    return render_template('client.html')\n\n@app.route(\"/client\")\ndef get_change():\n    print request.args.get('firstchange')\n</code></pre>\n\n<p>The return when I call this in other functions after the url changes to <a href=\"http://127.0.0.1:5000/client?firstchange=done\" rel=\"nofollow\">http://127.0.0.1:5000/client?firstchange=done</a> is \"None\" instead of \"done\".</p>\n\n<p>Edit:</p>\n\n<p>How do you do this using </p>\n\n<pre><code>window.location.href('127.0.0.1:5000/client?firstchange=done')\n</code></pre>\n\n<p>With the same flask methods I am still getting returns of \"None\". Can I not use the get_change method in other methods to determine the query string value?</p>\n"}, {"tags": ["python", "numpy", "scipy", "scikit-learn"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1435191955, "post_id": 31038950, "comment_id": 50102316, "body": "<code>X.todense()</code> turns the sparse matrix in to a regular dense one.  <code>X.A</code> (or <code>toarray()</code> produces a regular numpy array."}], "owner": {"reputation": 1260, "user_id": 3242010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0214379712a13819277795d505868736?s=128&d=identicon&r=PG&f=1", "display_name": "manan", "link": "https://stackoverflow.com/users/3242010/manan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 352, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1447269656, "creation_date": 1435189314, "last_edit_date": 1495542219, "question_id": 31038950, "link": "https://stackoverflow.com/questions/31038950/plot-scipy-sparse-matrix-generated-from-sklearn-in-python", "title": "Plot Scipy Sparse Matrix Generated from Sklearn in Python", "body": "<p>I've written code to cluster 60 documents using <code>sklearn</code>'s Kmeans algorithm:</p>\n\n<p>Selection 1: Obtain <code>token_dict</code> (probably not that important):</p>\n\n<pre><code>for hashtag in hashtags:\n    ob = users_tweeting(hashtag, 20)\n    tweets = ob[1]\n    overall = \"\"\n    for tweet in tweets:\n        tweet = tweet.lstrip()\n        tweet = tweet.rstrip()\n        # processing here\n        overall += \" \"\n        overall += tweet\n\n    lower = overall.lower()\n    nopunct = punctuation_marks.sub(\"\", lower)        \n    token_dict[hashtag] = nopunct\n</code></pre>\n\n<p>Selection 2: Vectorize and cluster the documents</p>\n\n<pre><code>tfidf = TfidfVectorizer(tokenizer=tokenize, ngram_range = (1, 5))\ntfs = tfidf.fit_transform(token_dict.values())\nX = tfs\n\nprint(\"n_samples: %d, n_features: %d\" % X.shape)\n\nkm = KMeans(n_clusters=3, init='k-means++', max_iter=100, n_init=10, tol = 1e-8, verbose=True)\n\nprint(\"Clustering sparse data with %s\" % km)\nt0 = time()\nkm.fit(X)\nprint(\"done in %0.3fs\" % (time() - t0))\n\nlabels = km.labels_\ncentroids = km.cluster_centers_\nfigure = pl.figure(1)\nax = Axes3D(figure)\nax.scatter(X[:, 0], X[:, 1], X[:, 2])\npl.show()\n</code></pre>\n\n<p>X is a Scipy sparse matrix that looks like </p>\n\n<pre><code>(0, 4558)     0.076421768112\n(0, 5427)     0.015537938012\n(0, 12380)    0.00517931267068\n(0, 12554)    0.00517931267068\n(0, 522)      0.116643751329\n(0, 14100)    0.0120665949651\n(0, 6851)     0.0723995697903\n(0, 13100)    0.144799139581\n(0, 14642)    0.0241331899\n...\n</code></pre>\n\n<p>The error obtained is </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"features.py\", line 185, in &lt;module&gt;\n    ob = keywords(['#happy', '#sad', '#feelingsick'])\n  File \"features.py\", line 106, in keywords\n    ax.scatter(X[:, 0], X[:, 1], X[:, 2])\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/mpl_toolkits/mplot3d/axes3d.py\", line 2180, in scatter\n    patches = Axes.scatter(self, xs, ys, s=s, c=c, *args, **kwargs)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/axes.py\", line 6337, in scatter\n    self.add_collection(collection)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/axes.py\", line 1481, in add_collection\n    self.update_datalim(collection.get_datalim(self.transData))\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/matplotlib/collections.py\", line 185, in get_datalim\n    offsets = np.asanyarray(offsets, np.float_)\n  File \"/System/Library/Frameworks/Python.framework/Versions/2.7/Extras/lib/python/numpy/core/numeric.py\", line 512, in asanyarray\n    return array(a, dtype, copy=False, order=order, subok=True)\nValueError: setting an array element with a sequence.\n</code></pre>\n\n<p>It's pretty much the same error mentioned <a href=\"https://stackoverflow.com/questions/19980460/sklearn-gmm-raises-valueerror-setting-an-array-element-with-a-sequence-on-sp\">here</a>, but I'm not sure how to resolve it. The goal is to plot the clusters (not just the centroids).</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "class", "metaclass"], "comments": [{"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 5, "creation_date": 1435189256, "post_id": 31038891, "comment_id": 50101649, "body": "What problem are you trying to solve? Is the initialisation expensive? Why not do it in the initialiser <code>__init__</code>?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1435189589, "post_id": 31038891, "comment_id": 50101725, "body": "Your explanation for why you don&#39;t want to simply call <code>initialize()</code> within <code>myfunc()</code> makes no sense to me."}, {"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1435193421, "post_id": 31038891, "comment_id": 50102669, "body": "I&#39;m listening for events on a message queue (Rabbit).  Different events trigger different callbacks, which correspond to methods on the class.  The initialization is not expensive, but it needs to be unique each time the callback is invoked.  For example, I have a unique &quot;log_tag&quot; value that needs to be unique for any invocation of a callback.  I could just call initialize() inside every variation of myfuncN(), it just doesn&#39;t seem very DRY."}], "answers": [{"comments": [{"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1435193575, "post_id": 31038923, "comment_id": 50102701, "body": "Ah, didn&#39;t even think of using a decorator.  I think that will do what I want... I&#39;ll give it a try."}, {"owner": {"reputation": 5149, "user_id": 1689770, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/78b5dcbdd9f67f569c6102e091faafeb?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/1689770/jonathan"}, "edited": false, "score": 5, "creation_date": 1435799056, "post_id": 31038923, "comment_id": 50355612, "body": "Please give an example of how to do this, perhaps with <code>functools.wrap</code>"}], "tags": [], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "is_accepted": true, "score": 4, "last_activity_date": 1435189127, "creation_date": 1435189127, "answer_id": 31038923, "question_id": 31038891, "link": "https://stackoverflow.com/questions/31038891/python-how-to-automatically-call-a-function-method-from-an-instance-method/31038923#31038923", "title": "Python, How to &quot;automatically&quot; call a function/method from an instance method?", "body": "<p>You can use a decorator in Python. Make the decorator call the function you want before the one called. You will be able to use the decorator in all your desired functions. This is syntactic sugar.</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 4975841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ad2772766c189c56b55aa5c120b435?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Lang", "link": "https://stackoverflow.com/users/4975841/mike-lang"}, "is_accepted": false, "score": 1, "last_activity_date": 1435189462, "creation_date": 1435189462, "answer_id": 31038972, "question_id": 31038891, "link": "https://stackoverflow.com/questions/31038891/python-how-to-automatically-call-a-function-method-from-an-instance-method/31038972#31038972", "title": "Python, How to &quot;automatically&quot; call a function/method from an instance method?", "body": "<p>You could make a wrapper function:</p>\n\n<pre><code>def wrapper(self, func_name):\n    self.initialize()\n    self.func_name()\n\ndef myfunc1(self):\n    # do something\n\ndef myfunc2(self):\n    # do something\n\nobj.wrapper(myfunc1)\nobj.wrapper(myfunc2)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "edited": false, "score": 0, "creation_date": 1435193600, "post_id": 31039108, "comment_id": 50102708, "body": "That&#39;s what I&#39;m wondering if I can avoid.  If I have 10 or 100 &quot;myfuncN()&quot; methods, then I&#39;m calling initialize() in each one.  Per the post above, I think decorators are what I want."}], "tags": [], "owner": {"reputation": 14351, "user_id": 2839786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gkczH.jpg?s=128&g=1", "display_name": "Aziz Alto", "link": "https://stackoverflow.com/users/2839786/aziz-alto"}, "is_accepted": false, "score": 1, "last_activity_date": 1435190878, "last_edit_date": 1495540450, "creation_date": 1435190262, "answer_id": 31039108, "question_id": 31038891, "link": "https://stackoverflow.com/questions/31038891/python-how-to-automatically-call-a-function-method-from-an-instance-method/31039108#31039108", "title": "Python, How to &quot;automatically&quot; call a function/method from an instance method?", "body": "<p>Add <code>self.initialize()</code> to <code>myfunc()</code>, this should do what you are looking for.</p>\n\n<pre><code>class MyClass(object):\n    def __init__(self):\n       pass\n    def initialize(self):\n       print(\"I'm doing some initialization\")\n    def myfunc(self):\n       self.initialize()\n       print(\"This is myfunc()!\")\n</code></pre>\n\n<p>Try:</p>\n\n<pre><code>&gt;&gt;&gt; a = MyClass()\n&gt;&gt;&gt; a.myfunc()\nI'm doing some initialization\nThis is myfunc()!\n</code></pre>\n\n<p><strong>Edit:</strong>\nHowever, the practice is to use <code>decorators</code> as suggested by DevShark.</p>\n\n<blockquote>\n  <p>It's discussed in another post, see <a href=\"https://stackoverflow.com/questions/1263451/python-decorators-in-classes\">Python decorators in classes</a></p>\n</blockquote>\n"}], "owner": {"reputation": 2722, "user_id": 1259990, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fba514d7862cf70beb2b3e5f8279d234?s=128&d=identicon&r=PG", "display_name": "blindsnowmobile", "link": "https://stackoverflow.com/users/1259990/blindsnowmobile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11128, "favorite_count": 0, "accepted_answer_id": 31038923, "answer_count": 3, "score": 2, "last_activity_date": 1435190878, "creation_date": 1435188860, "question_id": 31038891, "link": "https://stackoverflow.com/questions/31038891/python-how-to-automatically-call-a-function-method-from-an-instance-method", "title": "Python, How to &quot;automatically&quot; call a function/method from an instance method?", "body": "<p>Is there a way to force an instance method in Python to call another method prior to executing?</p>\n\n<p>A simple example for demonstration:</p>\n\n<pre><code>class MyClass(object):\n  def __init__(self):\n    pass\n  def initialize(self):\n    print \"I'm doing some initialization\"\n  def myfunc(self):\n    print \"This is myfunc()!\"\n</code></pre>\n\n<p>I'd like some way to have myfunc() automatically call initialize() prior to running.  If I do:</p>\n\n<pre><code>obj = MyClass()\nobj.myfunc()\n</code></pre>\n\n<p>I'd like to see the following as the output:</p>\n\n<pre><code>I'm doing some initialization \nThis is myfunc()!\n</code></pre>\n\n<p>Without having to explicitly call initialize() within myfunc().</p>\n\n<p>The reason for this is if I have many instances of \"myfunc\", say myfunc1, myfunc2, myfunc3, that all need to call \"initialize\", I'd rather have them all call initialize once in the same place, as opposed to manually calling the method each time.  Is this something meta classes could do?</p>\n"}, {"tags": ["python", "arrays", "loops", "numpy", "indexing"], "comments": [{"owner": {"reputation": 1436, "user_id": 3066972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55ee784dcb5e3afadd6b5cae7949a5f5?s=128&d=identicon&r=PG&f=1", "display_name": "ssnobody", "link": "https://stackoverflow.com/users/3066972/ssnobody"}, "edited": false, "score": 0, "creation_date": 1435191135, "post_id": 31038890, "comment_id": 50102120, "body": "Re-implement zip so it doesn&#39;t terminate after it gets the first StopIteration or use itertools.zip_longest"}], "answers": [{"tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1435191865, "creation_date": 1435191865, "answer_id": 31039302, "question_id": 31038890, "link": "https://stackoverflow.com/questions/31038890/how-to-construct-a-new-numpy-array-from-a-set-of-existing-arrays/31039302#31039302", "title": "How to construct a new numpy array from a set of existing arrays?", "body": "<p>You basically have a jagged array that is 12 x 3 x (120 or 121).  If the last column of the a05 through a11 were filled this would be a bit easier.  Instead, you can iterate through the columns from 0 to 120; and iterate through the arrays; and add the column to the new array only if it exists.  </p>\n\n<p>Here is some sample code.  Note that I used lengths of 11 and 12 instead of 120 and 121, but the idea is the same.  </p>\n\n<pre><code>import numpy as np\n\nnp.random.seed(1000)\na01 = np.random.randint(0,10, (3,12))\na02 = np.random.randint(0,10, (3,12))\na03 = np.random.randint(0,10, (3,12))\na04 = np.random.randint(0,10, (3,12))\na05 = np.random.randint(0,10, (3,12))\na06 = np.random.randint(0,10, (3,11))\na07 = np.random.randint(0,10, (3,11))\na08 = np.random.randint(0,10, (3,11))\na09 = np.random.randint(0,10, (3,11))\na10 = np.random.randint(0,10, (3,11))\na11 = np.random.randint(0,10, (3,11))\narrayList = [a01, a02, a03, a04, a05, a06, a07, a08, a09, a10, a11]\ncols = np.sum([a.shape[1] for a in arrayList])\nnewArray = np.zeros((3,cols))\n\narrIndex = 0\nfor i in range(12):\n    for a in arrayList:\n        try: \n            newArray[:,arrIndex] = a[:,i]\n            arrIndex = arrIndex + 1\n        except IndexError:\n            pass\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 3624324, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/23bc32d6b538cb7e85b7c27a926d2b79?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/3624324/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435191865, "creation_date": 1435188856, "last_edit_date": 1435189277, "question_id": 31038890, "link": "https://stackoverflow.com/questions/31038890/how-to-construct-a-new-numpy-array-from-a-set-of-existing-arrays", "title": "How to construct a new numpy array from a set of existing arrays?", "body": "<p>I have 12 numpy arrays, 5 of size (3, 121) and 7 of size (3, 120), ordered 0-11; call them a0, a1, ..., a11. I would like to construct a single new array built specifically in the following way:</p>\n\n<pre><code>newArray = [a0_00, a1_00, a2_00, ..., a11_00, a0_01, a1_01, ..., a11_01, a0_02...]\n</code></pre>\n\n<p>that is, I want to take the first column from each of the 12 arrays and add them, in order, to my new array, then take the second column of each of the 12 arrays and and those, and so on...</p>\n\n<p>what I've most recently tried just repeats the first 12 values from each array through the entire new array, timedata...</p>\n\n<pre><code>for i in range(len(files)):\n    data = loadtxt(files[i], skiprows=4, delimiter=',').T[0:,:]\n    timedata[i::12] = data[0,0]\n</code></pre>\n\n<p>I've tried nested for loops and indexing the arrays in different ways but have not gotten anything to work so far... Any ideas would be greatly appreciated.</p>\n\n<p>thank you</p>\n"}, {"tags": ["python", "generator"], "answers": [{"tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1435188961, "creation_date": 1435188961, "answer_id": 31038902, "question_id": 31038865, "link": "https://stackoverflow.com/questions/31038865/exact-return-point-of-yield-in-python-generators/31038902#31038902", "title": "Exact return point of yield in python generators", "body": "<p><code>yield</code> is a bit of a strange expression.  Execution pauses at the <code>yield</code> after the right-hand side is evaluated, but before the assignment takes place.</p>\n\n<p>The value that is returned in the <code>yield</code> statement is whatever you <code>.send</code> to the generator.  Since you are calling <code>.next</code> rather than <code>.send</code>, the value returned from the yield expression (<code>c</code>) is <code>None</code>.  In the first example, that's fine since <code>c</code> is checked for truthiness and then is not used if it is falsy (e.g. <code>None</code>).  However, in the second example, <code>c</code> isn't checked so you end up adding <code>None</code> to an integer (which obviously doesn't produce desirable results).</p>\n"}], "owner": {"reputation": 4039, "user_id": 4480692, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/992c374f9cc688d0704d0f36eed4dd26?s=128&d=identicon&r=PG&f=1", "display_name": "Curt F.", "link": "https://stackoverflow.com/users/4480692/curt-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 31038902, "answer_count": 1, "score": 0, "last_activity_date": 1435189203, "creation_date": 1435188736, "question_id": 31038865, "link": "https://stackoverflow.com/questions/31038865/exact-return-point-of-yield-in-python-generators", "title": "Exact return point of yield in python generators", "body": "<p>In a quest to teach myself Python generators, especially their <code>send()</code> method, I wanted to write a toy example that would allow me calculate an \"interruptible\" Fibonacci sequence.  </p>\n\n<p>Eventually I succeeded, but I don't understand exactly what is going on.  Consider these two examples.</p>\n\n<h3>Successful example:</h3>\n\n<pre><code>def genFib(a=0, b=1):\n    while True:\n        c = yield a+b\n        if c:\n            a, b = b, c\n        else:\n            a, b = b, a+b\n    return\n\u200b\nfib_number = genFib()\n\u200b\nprint fib_number.next()\nprint fib_number.next()\nprint fib_number.next()\nprint fib_number.next()\nprint fib_number.next()\nprint fib_number.send(100)\nprint fib_number.next()\nprint fib_number.next()\n\u200b\n1\n2\n3\n5\n8\n105\n205\n310\n</code></pre>\n\n<h3>Failure that I thought would work:</h3>\n\n<pre><code>def genFib(a=0, b=1):\n    while True:\n        c = yield a+b\n        a, b = b, c\n    return\n\u200b\nfib_number = genFib()\n\u200b\nprint fib_number.next()\nprint fib_number.next()\n1\n---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-59-4513153ea517&gt; in &lt;module&gt;()\n      8 \n      9 print fib_number.next()\n---&gt; 10 print fib_number.next()\n\n&lt;ipython-input-59-4513153ea517&gt; in genFib(a, b)\n      1 def genFib(a=0, b=1):\n      2     while True:\n----&gt; 3         c = yield a+b\n      4         a, b = b, c\n      5     return\n\nTypeError: unsupported operand type(s) for +: 'int' and 'NoneType'\n</code></pre>\n\n<p><strong>Why does the second example not work?</strong> In particular, the second example seems assign a value of <code>None</code> to <code>c</code> in all <em>but the first</em> executions of the generator.  Why?  How does it know to assign to <code>c</code> the first time <code>next()</code> is called, but not the next <code>next()</code> time?</p>\n\n<p>My understanding was that generators resume execution (when they are called again) beginning on the line <em>after</em> the yield line, but my example has me thinking this is wrong, at least in some cases.  Where exactly does execution resume from?  Does it re-execute the <code>yield</code> line but this time with somehow leaving off everything after the <code>yield</code>?  How does <code>c</code> get assigned to <code>None</code>?</p>\n"}, {"tags": ["python", "flask"], "comments": [{"owner": {"reputation": 7770, "user_id": 2252572, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/5Sv5r.png?s=128&g=1", "display_name": "Bacteria", "link": "https://stackoverflow.com/users/2252572/bacteria"}, "edited": false, "score": 0, "creation_date": 1435188685, "post_id": 31038826, "comment_id": 50101508, "body": "Unlike forum sites, we don&#39;t use &quot;Thanks&quot;, or &quot;Any help appreciated&quot;, or signatures on Stack Overflow.  For more details see <a href=\"http://meta.stackexchange.com/questions/2950/should-hi-thanks-taglines-and-salutations-be-removed-from-posts\">Should &#39;Hi&#39;, &#39;thanks,&#39; taglines, and salutations be removed from posts?</a>"}, {"owner": {"reputation": 7774, "user_id": 1418794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31bcb9dbf79206cd64b50c09cdd456d8?s=128&d=identicon&r=PG", "display_name": "doru", "link": "https://stackoverflow.com/users/1418794/doru"}, "edited": false, "score": 0, "creation_date": 1435221939, "post_id": 31038826, "comment_id": 50113213, "body": "I can&#39;t see any image name (and extension) in the generated URL. Can you show more relevant code from you <code>views.py</code> file?"}, {"owner": {"reputation": 53, "user_id": 4348685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f26e3e859579c3862312ed523cbf51?s=128&d=identicon&r=PG&f=1", "display_name": "Des", "link": "https://stackoverflow.com/users/4348685/des"}, "edited": false, "score": 0, "creation_date": 1435795084, "post_id": 31038826, "comment_id": 50354732, "body": "69 was the image name above. I figured it though. It was a series of mistakes but the reason why the original (not resized) image was being displaying was because the route above was overwriting the route in flask-images."}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 991966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1f9e73174e9e50fc8622418b8aba0e?s=128&d=identicon&r=PG", "display_name": "Matan M.", "link": "https://stackoverflow.com/users/991966/matan-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1436020942, "last_edit_date": 1436020942, "creation_date": 1436020454, "answer_id": 31221803, "question_id": 31038826, "link": "https://stackoverflow.com/questions/31038826/flask-images-is-not-working/31221803#31221803", "title": "Flask-Images is not working", "body": "<h2>The Issue</h2>\n\n<p>The problem with your current setup is that Flask-Images can't find the image file 69.</p>\n\n<p>If you run your Flask application in debug mode, you would see the following 404 occur when you entered the URL with the image to be resized in it.</p>\n\n<pre><code>127.0.0.1 - - [04/Jul/2015 17:09:50] \"GET /imgsizer/uploads/beastie.png?w=200&amp;s=3mNDiQA6kRKps70a7xBi0BywF2w HTTP/1.1\" 404 -\n</code></pre>\n\n<h2>Solution</h2>\n\n<p>For flask-images to be able to load the resource, we need to put it somewhere accessible, that would be the 'static' directory by default in Flask</p>\n\n<p>The solution as stated above would be to either move the images into the static directory, you can also override the directory path in the app definition, or in a setting</p>\n\n<pre><code>app = Flask(static_folder='some_other_path_with_images')\napp.config['STATIC_FOLDER'] = 'or_this_other_directory'\n</code></pre>\n\n<p>After fixing this, you can also check the app debug console and see the requests are going through just fine</p>\n\n<pre><code>127.0.0.1 - - [04/Jul/2015 17:18:47] \"GET /imgsizer/beastie.png?v=VZfrJw&amp;w=100&amp;s=2_gsJZCVk-gvUm4VD-OD6ZuXjbY HTTP/1.1\" 200 -\n</code></pre>\n\n<h2>Source Code</h2>\n\n<p>Feel free to take a look at the model i set up to check this out, the solution for this problem can be found <a href=\"https://github.com/mtnmts/stack_overflow_solutions/tree/master/31038826-flask-images-is-not-working\" rel=\"nofollow\">here on github</a>.</p>\n"}], "owner": {"reputation": 53, "user_id": 4348685, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f26e3e859579c3862312ed523cbf51?s=128&d=identicon&r=PG&f=1", "display_name": "Des", "link": "https://stackoverflow.com/users/4348685/des"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1487, "favorite_count": 0, "accepted_answer_id": 31221803, "answer_count": 1, "score": 5, "last_activity_date": 1436020942, "creation_date": 1435188503, "last_edit_date": 1495541163, "question_id": 31038826, "link": "https://stackoverflow.com/questions/31038826/flask-images-is-not-working", "title": "Flask-Images is not working", "body": "<p>I installed Flask-Images to dynamically resize images according to the doco here: <a href=\"https://mikeboers.github.io/Flask-Images/\" rel=\"nofollow noreferrer\">https://mikeboers.github.io/Flask-Images/</a></p>\n\n<p>My code is like this:\nJinja</p>\n\n<pre><code>&lt;img src=\"{{ resized_img_src(filename, width=200) }}\"/&gt;\n</code></pre>\n\n<p>And in views.py</p>\n\n<pre><code>@app.route(\"/uploads/&lt;filename&gt;\", methods=[\"GET\"])\ndef uploaded_file(filename):\n  return send_from_directory(upload_path(), filename)\n</code></pre>\n\n<p>The images do not change size even though I can see that the modified url is being returned on dev tools:</p>\n\n<pre><code>  &lt;img src=\"/uploads/69?w=200&amp;amp;s=4tDuOKq1G1qURVty_6pYAxpG4jk\"&gt;\n</code></pre>\n\n<p>I know something similar was asked here a while ago <a href=\"https://stackoverflow.com/questions/28259449/flask-images-does-not-work\">Flask-Images does not work</a>\nbut the only answer there wasn't helpful.</p>\n\n<p>I've been at this for 2 days now. If anyone has experience incorporating Flask-Images into their project, I'd appreciate any suggestions. Would people recommend using Flask-Resize instead?  <a href=\"https://github.com/jmagnusson/Flask-Resize\" rel=\"nofollow noreferrer\">https://github.com/jmagnusson/Flask-Resize</a>.</p>\n"}, {"tags": ["python", "typeerror"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 2367083, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2d672d7d861a80d28f55859d2ed214f3?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2367083/steve"}, "edited": false, "score": 0, "creation_date": 1435199149, "post_id": 31038851, "comment_id": 50103855, "body": "subItem is an instance of Pt[&#39;C&#39;] as in for-each subItem in Pt[&#39;C&#39;]"}], "tags": [], "owner": {"reputation": 25463, "user_id": 5003756, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8BUMb.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/5003756/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1435188678, "creation_date": 1435188678, "answer_id": 31038851, "question_id": 31038783, "link": "https://stackoverflow.com/questions/31038783/typeerror-string-indices-must-be-integers-not-str-in-pt/31038851#31038851", "title": "TypeError: string indices must be integers, not str in Pt[]", "body": "<p>It looks like you have defined <code>subItem</code> as a string somewhere earlier in your code instead of as a dictionary.  Check you definition of </p>\n\n<pre><code>subItem = ....\n</code></pre>\n\n<p>and I am guessing it is a string.</p>\n"}, {"tags": [], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "is_accepted": true, "score": 2, "last_activity_date": 1435188718, "creation_date": 1435188718, "answer_id": 31038860, "question_id": 31038783, "link": "https://stackoverflow.com/questions/31038783/typeerror-string-indices-must-be-integers-not-str-in-pt/31038860#31038860", "title": "TypeError: string indices must be integers, not str in Pt[]", "body": "<p>The sub elements of C are still lists, which need to be accessed by their index.\nTo do what you want, the nicest way is to replace your lists in 'C' by dictionnaries.</p>\n\n<p>So use the following instead</p>\n\n<pre><code>{\n  'DateTime Entered' : [ 14, ''],\n  'User ID' : [11, ''],\n  'Comments' : [ 255, '']\n}\n</code></pre>\n\n<p>And your two lines of code at the top will work.</p>\n"}], "owner": {"reputation": 821, "user_id": 2367083, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2d672d7d861a80d28f55859d2ed214f3?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2367083/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 1, "accepted_answer_id": 31038860, "answer_count": 2, "score": 1, "last_activity_date": 1435198731, "creation_date": 1435188221, "last_edit_date": 1435198731, "question_id": 31038783, "link": "https://stackoverflow.com/questions/31038783/typeerror-string-indices-must-be-integers-not-str-in-pt", "title": "TypeError: string indices must be integers, not str in Pt[]", "body": "<p>Why does this error show up?</p>\n\n<pre><code>File Parser.py\", line 214, in writeData\ncomments = subItem['Comments']\nTypeError: string indices must be integers, not str\n</code></pre>\n\n<p>Short stacktrace:</p>\n\n<pre><code>213:             for subItem in Pt['C']:\n214:                comments = subItem['Comments']\n</code></pre>\n\n<p>The code:</p>\n\n<pre><code>Pt[] is defined as is a list.\nPt = self.createPatient()\n\ndef createPatient(self):\n    Pt = {\n        'S' : {},\n        'C' : []\n    }\n    return Pt\n\nAnd 'C' is:\n</code></pre>\n\n<h2>#</h2>\n\n<p>here is a larger sample of the definition of 'C' (of Formats).\nFormat is a dictionary of lists.  Does this help to see?</p>\n\n<pre><code>Formats = {\n...\n    ['For Future Use', 11, ''],\n],\n'C' : [\n    ['use', 1, ''],\n    ['Call', 15, ''],\n    ['Leg', 1, '1'],\n    ['Rank', 1, 'A'],\n    ['DateTime Entered', 14, ''],\n    ['User ID', 11, ''],\n    ['Comments', 255, ''],\n    ['Narrative ID', 11, ''],\n    ['For Future Use', 11, ''],\n],\n'R' : [\n    ['Use', 1, ''],\n    ['Call #', 15, ''],\n    ['Leg', 1, '1'],\n....\n}\n</code></pre>\n"}, {"tags": ["python", "elasticsearch"], "comments": [{"owner": {"reputation": 4572, "user_id": 1244138, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0615444b5e8d0a0671d9a76d9d973982?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1244138/jack"}, "edited": false, "score": 0, "creation_date": 1435266812, "post_id": 31038723, "comment_id": 50142260, "body": "Thank you so much Thomas :)"}], "answers": [{"comments": [{"owner": {"reputation": 4572, "user_id": 1244138, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0615444b5e8d0a0671d9a76d9d973982?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1244138/jack"}, "edited": false, "score": 0, "creation_date": 1435426126, "post_id": 31042014, "comment_id": 50199518, "body": "Thank you so much! I&#39;m not familiar with ES script, could you please give me a reference of indexing scripts."}], "tags": [], "owner": {"reputation": 13411, "user_id": 2882051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ckx9R.jpg?s=128&g=1", "display_name": "chengpohi", "link": "https://stackoverflow.com/users/2882051/chengpohi"}, "is_accepted": true, "score": 3, "last_activity_date": 1435210713, "creation_date": 1435210713, "answer_id": 31042014, "question_id": 31038723, "link": "https://stackoverflow.com/questions/31038723/elasticsearch-python-api-overwrites-the-existing-field/31042014#31042014", "title": "elasticsearch python api overwrites the existing field", "body": "<p><code>update</code> function with <code>script</code> body can append a field in data. <a href=\"http://elasticsearch-py.readthedocs.org/en/latest/api.html#elasticsearch.Elasticsearch.update\" rel=\"nofollow\">elasticsearch-py update</a></p>\n\n<p>the sample:</p>\n\n<pre><code>doc = {\n  'script' : 'ctx._source.age = 30'\n}\nes.update(index=\"panavstream\", doc_type='panav', id=\"123\", body=doc)\n</code></pre>\n"}], "owner": {"reputation": 4572, "user_id": 1244138, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0615444b5e8d0a0671d9a76d9d973982?s=128&d=identicon&r=PG", "display_name": "Jack", "link": "https://stackoverflow.com/users/1244138/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1462, "favorite_count": 1, "accepted_answer_id": 31042014, "answer_count": 1, "score": 0, "last_activity_date": 1435210713, "creation_date": 1435187805, "last_edit_date": 1435189560, "question_id": 31038723, "link": "https://stackoverflow.com/questions/31038723/elasticsearch-python-api-overwrites-the-existing-field", "title": "elasticsearch python api overwrites the existing field", "body": "<p>I'm using ElasticSearch Python API, I found if the <code>_id</code> is same the old data would be overwritten. e.g. I had <code>name=\"Tom\"</code>, right now I index the same <code>_id</code> with field <code>age=30</code>. I found the <code>name=\"Tom\"</code> was removed after the reindex. The right result I hope <code>age=30</code> only appended to the existing index. Should I tune any parameters please?</p>\n\n<p>I'm using the following code:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>from elasticsearch import Elasticsearch\nes = Elasticsearch(\"http://10.0.0.1:9200\")\nres = es.index(index=\"panavstream\", doc_type='panav', id=\"123\", body=doc)\n</code></pre>\n\n<p>Thanks in Advance</p>\n"}, {"tags": ["python", "loops", "while-loop", "isnumeric"], "comments": [{"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 1, "creation_date": 1435187943, "post_id": 31038708, "comment_id": 50101308, "body": "You should learn about the break statement: <a href=\"https://docs.python.org/2/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops\" rel=\"nofollow noreferrer\">docs.python.org/2/tutorial/&hellip;</a>"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435188140, "post_id": 31038708, "comment_id": 50101361, "body": "You don&#39;t need to compare a boolean value to <code>True</code>. It already evaluates to <code>True</code> or <code>False</code>."}], "answers": [{"tags": [], "owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "is_accepted": false, "score": 4, "last_activity_date": 1435187974, "creation_date": 1435187974, "answer_id": 31038744, "question_id": 31038708, "link": "https://stackoverflow.com/questions/31038708/how-do-i-make-my-code-loop-properly-in-python/31038744#31038744", "title": "How do I make my code loop properly in python?", "body": "<p>You never stop the loop. There's two ways to do this: either change the loop condition (<code>while true</code> loops forever), or <code>break</code> out from within.</p>\n\n<p>In this case, it's easier with <code>break</code>:</p>\n\n<pre><code>while True:\n    # The input() call should be inside the loop:\n    userName = input('Hello there, civilian! What is your name? ')\n\n    if userName.isalpha(): # you don't need `== True`\n        print('It is nice to meet you, ' + userName + \"! \")\n        break # this stops the loop\n    else:\n        print('Choose a valid name!')\n</code></pre>\n\n<p>The second loop has the same problem, with the same solution and additional corrections.</p>\n"}, {"comments": [{"owner": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1435188523, "post_id": 31038817, "comment_id": 50101463, "body": "How does <code>string.isalpha()</code> behave on empty strings? Presumably just fine, but this is not very clear code"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 62518, "user_id": 469300, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/f8256aabf1f8938bc2356b1fbeb227f4?s=128&d=identicon&r=PG", "display_name": "slezica", "link": "https://stackoverflow.com/users/469300/slezica"}, "edited": false, "score": 0, "creation_date": 1435188617, "post_id": 31038817, "comment_id": 50101490, "body": "<code>str.isalpha()</code>/<code>isnumeric()</code>/<code>isalnum()</code>/<code>isdecimal()</code> they all return <code>False</code> on the empty string."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 0, "last_activity_date": 1435188442, "creation_date": 1435188442, "answer_id": 31038817, "question_id": 31038708, "link": "https://stackoverflow.com/questions/31038708/how-do-i-make-my-code-loop-properly-in-python/31038817#31038817", "title": "How do I make my code loop properly in python?", "body": "<p>Alternative way: use a condition in your <code>while</code> loops.</p>\n\n<pre><code>userName = ''\nuserNumber = ''\n\nwhile not userName.isalpha():\n    if userName: print('Choose a valid name!')\n    userName = input('Hello there, civilian! What is your name? ')\n\nprint('It is nice to meet you, ' + userName + \"! \")\n\nwhile not userNumber.isnumeric():\n    if userNumber: print('Choose a number please! ')\n    userNumber = input('Please pick any number between 3-100. ')\n\nfor i in range(0,int(userNumber) + 1,2):\n    print(i)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5046646, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153374632067910/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/5046646/kelvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 31038817, "answer_count": 2, "score": -1, "last_activity_date": 1435188442, "creation_date": 1435187738, "question_id": 31038708, "link": "https://stackoverflow.com/questions/31038708/how-do-i-make-my-code-loop-properly-in-python", "title": "How do I make my code loop properly in python?", "body": "<p>My goal is to make sure when the user types in numbers in the userName input, then it should not accept it and make them try again.</p>\n\n<p>Same thing with userNumber. When a user types in letters, they should be prompted with another line telling them to try again.</p>\n\n<p>The problem is that when they do type in the correct input, the program will continue looping and listing the numbers indefinitely. </p>\n\n<p>I'm new to coding, and I'm trying to figure out what I'm doing wrong. Thank you in advance!</p>\n\n<pre><code> userName = input('Hello there, civilian! What is your name? ')\n\nwhile True:\n    if userName.isalpha() == True:\n        print('It is nice to meet you, ' + userName + \"! \")\n    else:\n        print('Choose a valid name!')\n\n\nuserNumber = input('Please pick any number between 3-100. ')\n\nwhile True:\n    if userNumber.isnumeric() == True:\n        for i in range(0,int(userNumber) + 1,2):\n            print(i)\n    else:\n        print('Choose a number please! ')\n        userNumber = input('Please pick any number between 3-100. ')\n</code></pre>\n"}, {"tags": ["python", "scikit-learn", "logistic-regression"], "comments": [{"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435190088, "post_id": 31038698, "comment_id": 50101867, "body": "by z-score, do you mean something like x - x.mean() / x.std()?"}, {"owner": {"reputation": 2831, "user_id": 2238779, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ebd0de4dc7ccb94f91a3e68f6e684bc0?s=128&d=identicon&r=PG&f=1", "display_name": "kilgoretrout", "link": "https://stackoverflow.com/users/2238779/kilgoretrout"}, "reply_to_user": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435215555, "post_id": 31038698, "comment_id": 50109197, "body": "yes, that&#39;s a common way to refer to &quot;standard score&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 8, "last_activity_date": 1435208604, "last_edit_date": 1435208604, "creation_date": 1435190593, "answer_id": 31039149, "question_id": 31038698, "link": "https://stackoverflow.com/questions/31038698/can-scikit-learns-logisticregression-automatically-normalize-input-data-to-z/31039149#31039149", "title": "Can scikit-learn&#39;s LogisticRegression() automatically normalize input data to z-scores?", "body": "<p>Is this what you are looking for?</p>\n\n<pre><code>from sklearn.datasets import make_classification\nfrom sklearn.preprocessing import StandardScaler\nfrom sklearn.pipeline import make_pipeline\nfrom sklearn.linear_model import LogisticRegression\n\n\nX, y = make_classification(n_samples=1000, n_features=100, weights=[0.1, 0.9], random_state=0)\nX.shape\n\n# build pipe: first standardize by substracting mean and dividing std\n# next do classificaiton\npipe = make_pipeline(StandardScaler(), LogisticRegression(class_weight='auto'))\n\n# fit\npipe.fit(X, y)\n# predict\npipe.predict_proba(X)\n\n# to get back mean/std\nscaler = pipe.steps[0][1]\nscaler.mean_\nOut[12]: array([ 0.0313, -0.0334,  0.0145, ..., -0.0247,  0.0191,  0.0439])\n\nscaler.std_\nOut[13]: array([ 1.    ,  1.0553,  0.9805, ...,  1.0033,  1.0097,  0.9884])\n</code></pre>\n"}], "owner": {"reputation": 2831, "user_id": 2238779, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/ebd0de4dc7ccb94f91a3e68f6e684bc0?s=128&d=identicon&r=PG&f=1", "display_name": "kilgoretrout", "link": "https://stackoverflow.com/users/2238779/kilgoretrout"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3266, "favorite_count": 0, "accepted_answer_id": 31039149, "answer_count": 1, "score": 3, "last_activity_date": 1435208604, "creation_date": 1435187704, "question_id": 31038698, "link": "https://stackoverflow.com/questions/31038698/can-scikit-learns-logisticregression-automatically-normalize-input-data-to-z", "title": "Can scikit-learn&#39;s LogisticRegression() automatically normalize input data to z-scores?", "body": "<p>Is there a way to have an instance of <code>LogisticRegression()</code> automatically normalize the data supplied for fitting/training to <code>z-scores</code> to build the model? <code>LinearRegression()</code> has a <code>normalize=True</code> parameter but maybe this doesn't make sense for <code>LogisticRegression()</code>?</p>\n\n<p>If so, would I have to normalize unlabeled input vectors by hand (i.e., recalculate the mean, standard deviation for each column) before calling <code>predict_proba()</code>? This would be strange if the model already performed that possibly costly computation.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-2.7", "web-crawler", "robots.txt"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1435189344, "post_id": 31038682, "comment_id": 50101668, "body": "When I just tried to access <a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow noreferrer\">menendez.senate.gov/contact/contact.cfm</a> I got an HTTP 404 response and this page <a href=\"http://www.menendez.senate.gov/404\" rel=\"nofollow noreferrer\">menendez.senate.gov/404</a>."}, {"owner": {"reputation": 2145, "user_id": 670629, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d05c3511edb008d7bd397012b8bfe6d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/670629/rahul"}, "edited": false, "score": 0, "creation_date": 1435189784, "post_id": 31038682, "comment_id": 50101774, "body": "I am getting 503 for this url.     &gt;&gt;&gt; import requests     &gt;&gt;&gt; requests.get(&quot;<a href=\"http://menendez.senate.gov/contact/contact.cfm&quot;\" rel=\"nofollow noreferrer\">menendez.senate.gov/contact/contact.cfm&quot;</a>) &lt;Response [503]&gt;"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1435239140, "post_id": 31038682, "comment_id": 50124688, "body": "503 means Service Unavailable and 404 means Not Found.  Either way something is wrong with the website.  Maybe someone is working on it and its not the fault of robotparser.py.  If you want it to handle an error code then put it in.  A reason for not handling 503 that it may be &quot;due to a temporary overloading or maintenance of the server&quot; while 404 generally represents a more permanent condition."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1435239662, "post_id": 31038682, "comment_id": 50125078, "body": "Looking at the robotparser manual (<a href=\"https://docs.python.org/2/library/robotparser.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/robotparser.html</a>) it should be given an URL that ends in robots.txt  and has a structure as documented at <a href=\"http://www.robotstxt.org/orig.html\" rel=\"nofollow noreferrer\">robotstxt.org/orig.html</a>.  menendez.senate.gov/contact/contact.cfm is not a robots.txt file so robotparser cannot parse it. Admittedly it should return an error that indicates this instead of an HTTP error, however the website has problems and robotparser does not appear to be able to read the URL in order to determine that it cannot parse it."}, {"owner": {"reputation": 2145, "user_id": 670629, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d05c3511edb008d7bd397012b8bfe6d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/670629/rahul"}, "edited": false, "score": 0, "creation_date": 1435263083, "post_id": 31038682, "comment_id": 50140429, "body": "Yeah, I am passing the URL to robotparser as menendez.senate.gov/robots.txt, so there I think I am ok. Not handling 5XX errors due to temporary overloading or maintenance makes sense."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1435265187, "post_id": 31038682, "comment_id": 50141470, "body": "I get access denied when trying to browse menendez.senate.gov/robots.txt.  All robotparser reads in it is the one line &quot;&lt;HTML&gt;&lt;HEAD&gt;&quot; which should not be in a robots.txt."}], "answers": [{"comments": [{"owner": {"reputation": 2145, "user_id": 670629, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d05c3511edb008d7bd397012b8bfe6d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/670629/rahul"}, "edited": false, "score": 0, "creation_date": 1435263234, "post_id": 31054569, "comment_id": 50140497, "body": "Yeah, it does makes sense. But you should have used the <a href=\"http://www.menendez.senate.gov/robots.txt\" rel=\"nofollow noreferrer\">menendez.senate.gov/robots.txt</a> file to be parsed by robotparser as mentioned in my question&#39;s trial-code."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "is_accepted": false, "score": 2, "last_activity_date": 1435245983, "creation_date": 1435245983, "answer_id": 31054569, "question_id": 31038682, "link": "https://stackoverflow.com/questions/31038682/python-robotparser-module-giving-wrong-results/31054569#31054569", "title": "Python robotparser module giving wrong results", "body": "<p>robotparser can parse only files in \"/robots.txt\" format as specified at <a href=\"http://www.robotstxt.org/orig.html\" rel=\"nofollow\">http://www.robotstxt.org/orig.html</a> and for such files to be active in excluding robot traversals they must be located at /robots.txt on a website.  Based on this, robotparser should not be able to parse \"<a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow\">http://menendez.senate.gov/contact/contact.cfm</a>\" because it is probably not in \"/robots.txt\" format, even if there were no problems accessing it.</p>\n\n<p>Facebook has a robots.txt file at <a href=\"https://www.facebook.com/robots.txt\" rel=\"nofollow\">https://www.facebook.com/robots.txt</a>. It is in plain text and can be read in a browser. robotparser can parse it with no problems, however its access to other files on facebook.com appears to be excluded with the following rule in robots.txt:</p>\n\n<pre><code>User-agent: *\nDisallow: /\n</code></pre>\n\n<p>Here is a session using robotparser to read and parse <a href=\"https://www.facebook.com/robots.txt\" rel=\"nofollow\">https://www.facebook.com/robots.txt</a>:</p>\n\n<pre><code>&gt;&gt;&gt; from urllib import robotparser\n&gt;&gt;&gt; rp = robotparser.RobotFileParser()\n&gt;&gt;&gt; rp.set_url(\"https://www.facebook.com/robots.txt\")\n&gt;&gt;&gt; rp.read()  # no error\n&gt;&gt;&gt; rp.can_fetch(\"*\", \"https://www.facebook.com/\")\nFalse\n&gt;&gt;&gt; rp.can_fetch(\"*\", \"https://www.facebook.com/about/privacy\")\nFalse\n</code></pre>\n\n<p>When testing access to <a href=\"http://www.ontheissues.org/robots.txt\" rel=\"nofollow\">http://www.ontheissues.org/robots.txt</a> in my browser, I got HTTP Error 404 - File or directory not found.  Then I downloaded <a href=\"http://svn.python.org/projects/python/branches/release22-maint/Lib/robotparser.py\" rel=\"nofollow\">http://svn.python.org/projects/python/branches/release22-maint/Lib/robotparser.py</a>, modified its read() function to print every line it read, ran it on this URL and printed only the first line: </p>\n\n<pre><code>&lt;!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01//EN\" \"http://www.w3.org/TR/html4/strict.dtd\"&gt;\n</code></pre>\n\n<p>This line indicates the format of <a href=\"http://www.ontheissues.org/robots.txt\" rel=\"nofollow\">http://www.ontheissues.org/robots.txt</a> is incorrect for a \"/robots.txt\" file although it may redirect to one.</p>\n\n<p>Doing the same test on \"<a href=\"https://www.facebook.com/robots.txt\" rel=\"nofollow\">https://www.facebook.com/robots.txt</a>\" again resulted in only one line, this time with a warning message:</p>\n\n<pre><code># Notice: Crawling Facebook is prohibited unless you have express written\n</code></pre>\n\n<p>Testing <a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow\">http://menendez.senate.gov/contact/contact.cfm</a> with the modified robotparser.read() function again resulted in an HTML header simliar but not identical to that of <a href=\"http://www.ontheissues.org/robots.txt\" rel=\"nofollow\">http://www.ontheissues.org/robots.txt</a> and with no errors.  Here is the header line it printed for <a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow\">http://menendez.senate.gov/contact/contact.cfm</a>:</p>\n\n<pre><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Transitional//EN\"  \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd\"&gt;\n</code></pre>\n\n<p>Browsing <a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow\">http://menendez.senate.gov/contact/contact.cfm</a> again, it initially results in <a href=\"http://www.menendez.senate.gov/404\" rel=\"nofollow\">http://www.menendez.senate.gov/404</a> which redirects after 10-15 seconds to <a href=\"http://www.menendez.senate.gov/\" rel=\"nofollow\">http://www.menendez.senate.gov/</a>. Such a redirect link can be coded as follows:</p>\n\n<pre><code>&lt;meta http-equiv=\"refresh\" content=\"15;url=http://www.menendez.senate.gov/\" /&gt;\n</code></pre>\n\n<p>Searching the source of <a href=\"http://www.menendez.senate.gov/contact/\" rel=\"nofollow\">http://www.menendez.senate.gov/contact/</a> finds no match for \"cfm\" showing it contains no link to contact.cfm. Although such a link could be configured elsewhere in the web server or dynamically generated, it's not likely given that browsing it results in an HTTP 404 error at <a href=\"http://www.menendez.senate.gov/404\" rel=\"nofollow\">http://www.menendez.senate.gov/404</a>.</p>\n"}], "owner": {"reputation": 2145, "user_id": 670629, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d05c3511edb008d7bd397012b8bfe6d2?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/670629/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435245983, "creation_date": 1435187605, "last_edit_date": 1435194556, "question_id": 31038682, "link": "https://stackoverflow.com/questions/31038682/python-robotparser-module-giving-wrong-results", "title": "Python robotparser module giving wrong results", "body": "<p>I am facing an issue with the Python's robotparser module. It works fine for a particular URL but starts failing once I perform a specific sequence of steps. Mentioned below are the steps I performed and the outcome:-</p>\n\n<p>This sequence works fine:-</p>\n\n<pre><code>&gt;&gt;&gt; import robotparser\n&gt;&gt;&gt; rp = robotparser.RobotFileParser()\n&gt;&gt;&gt; url = \"http://www.ontheissues.org/robots.txt\"\n&gt;&gt;&gt; rp.set_url(url)\n&gt;&gt;&gt; rp.read()\n&gt;&gt;&gt; rp.can_fetch(\"*\", \"http://www.ontheissues.org/House/Jim_Nussle.htm\")\nTrue\n&gt;&gt;&gt; \n</code></pre>\n\n<p>However, the below mentioned sequence fails for the same steps which I did above:-</p>\n\n<pre><code>&gt;&gt;&gt;&gt; import robotparser\n&gt;&gt;&gt;&gt; rp = robotparser.RobotFileParser()\n&gt;&gt;&gt;&gt; url = \"http://menendez.senate.gov/robots.txt\"\n&gt;&gt;&gt;&gt; rp.set_url(url)\n&gt;&gt;&gt;&gt; rp.read()\n&gt;&gt;&gt;&gt; rp.can_fetch(\"*\", \"http://menendez.senate.gov/contact/contact.cfm\")\nFalse\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt;\n&gt;&gt;&gt;&gt; url = \"http://www.ontheissues.org/robots.txt\"\n&gt;&gt;&gt;&gt; rp.set_url(url)\n&gt;&gt;&gt;&gt; rp.read()\n&gt;&gt;&gt;&gt; rp.can_fetch(\"*\", \"http://www.ontheissues.org/House/Jim_Nussle.htm\")\nFalse\n&gt;&gt;&gt;&gt;\n</code></pre>\n\n<p>After debugging it for sometime, I found that it works fine if I create a new object everytime I am using a new URL. This implies, I have to do \"rp = robotparser.RobotFileParser()\" everytime the URL changes.</p>\n\n<p>I am not sure if my approach is right since if I am given the ability to change the URL, robotparser should be able to handle such cases.</p>\n\n<p>Also, in the above case, it gives 503 error_code when I try to download the link \"<a href=\"http://menendez.senate.gov/contact/contact.cfm\" rel=\"nofollow\">http://menendez.senate.gov/contact/contact.cfm</a>\" using requests.get() or any other way. I looked into the code of robotparser.py and in that file, for the read() method in class RobotFileParser, there is no check for HTTP response codes > 500. I am not sure why those response_codes are not handled, just wanted to get some pointers what could be the reason for not handling those response codes.</p>\n"}, {"tags": ["python", "django", "heroku", "geodjango"], "owner": {"reputation": 2006, "user_id": 506784, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/61c2db4aeb1a664a985601ddd78ff467?s=128&d=identicon&r=PG", "display_name": "Tyler", "link": "https://stackoverflow.com/users/506784/tyler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435186671, "creation_date": 1435186671, "question_id": 31038542, "link": "https://stackoverflow.com/questions/31038542/heroku-type-geometry-does-not-exist-after-pgreset", "title": "heroku type &quot;geometry&quot; does not exist after pg:reset", "body": "<p>So I did a pg:reset on my heroku db but now when I try to run the migrations with 'heroku run python manage.py migrate' I get the error <code>django.db.utils.ProgrammingError: type \"geometry\" does not exist</code>\ni've tried going into console and running <code>CREATE EXTENSION postgis;</code> but it says <code>ERROR:  extension \"postgis\" already exists</code></p>\n"}, {"tags": ["python", "django", "python-3.x", "django-models", "django-admin"], "answers": [{"tags": [], "owner": {"reputation": 59, "user_id": 5046608, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/718c01b406791d1b6cbaf2e5e8b66c80?s=128&d=identicon&r=PG&f=1", "display_name": "snavien", "link": "https://stackoverflow.com/users/5046608/snavien"}, "is_accepted": false, "score": 0, "last_activity_date": 1435265550, "creation_date": 1435265550, "answer_id": 31060582, "question_id": 31039027, "link": "https://stackoverflow.com/questions/31039027/creating-a-bidirectional-manytomany-relationship-for-django-models-on-admin-page/31060582#31060582", "title": "Creating a Bidirectional ManyToMany Relationship for Django Models on Admin Page", "body": "<p>I think I achieved what I wanted partially:</p>\n\n<p>models.py:</p>\n\n<pre><code>class Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\n    def __str__(self):\n        return self.question_text\n\n    def was_published_recently(self):\n        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)\n    was_published_recently.admin_order_field = 'pub_date'\n    was_published_recently.boolean = True\n    was_published_recently.short_description = 'Published recently?'\n\nclass Choice(models.Model):\n    #question = models.ForeignKey('Question')\n    related_question = models.ManyToManyField(Question, related_name='questions')\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n\n    def __str__(self):\n        return self.choice_text\n\nclass Related(models.Model):\n    question = models.ForeignKey(Question)\n    choice = models.ForeignKey(Choice)\n</code></pre>\n\n<p>admin.py:</p>\n\n<pre><code>class RelatedInline(admin.TabularInline):\n    model = Related\n    extra = 1\n\n\nclass QuestionAdmin(admin.ModelAdmin):\n    # fieldsets = [   (None, {'fields': ['question_text']}),\n    #                 ('Date information', {'fields': ['pub_date'],'classes':\n    #                 ['collapse']})\n    #             ]\n    #list_display = ('question_text', 'pub_date', 'was_published_recently')\n    #list_filter = ['pub_date']\n    #search_fields = ['question_text']\n    #inlines = [ChoiceInline]\n    inlines = (RelatedInline,)\n\nclass ChoiceAdmin(admin.ModelAdmin):\n    #fields = ['choice_text', 'votes']\n    #filter_horizontal = ('related_question',)\n    #list_display = ('question',)\n    #list_display_links = ('question',)\n    #inlines = [QuestionInline]\n    #list_filter = ('related_question', admin.RelatedOnlyFieldListFilter)\n    inlines = (RelatedInline,)\n    exclude = ('related_question',)\nadmin.site.register(Question, QuestionAdmin)\nadmin.site.register(Choice, ChoiceAdmin\n</code></pre>\n\n<p>)</p>\n\n<p>And this made it so I could add related choices to questions and questions to choices.</p>\n\n<p>However I was also wondering if there was a way to edit the Choice model while inside the Question model? Or link directly to the model itself when selecting that particular choice.</p>\n\n<p>source: <a href=\"https://docs.djangoproject.com/en/1.8/ref/contrib/admin/#working-with-many-to-many-intermediary-models\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/ref/contrib/admin/#working-with-many-to-many-intermediary-models</a></p>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["MathJax", "Prettify"], "launch_date": 1436881020, "open_beta_date": 1296068400, "closed_beta_date": 1295463600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/codereview/Img/apple-touch-icon@2.png", "twitter_account": "StackCodeReview", "favicon_url": "https://cdn.sstatic.net/Sites/codereview/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/codereview/Img/apple-touch-icon.png", "audience": "peer programmer code reviews", "site_url": "https://codereview.stackexchange.com", "api_site_parameter": "codereview", "logo_url": "https://cdn.sstatic.net/Sites/codereview/Img/logo.png", "name": "Code Review", "site_type": "main_site"}, "on_date": 1435189784, "question_id": 94599}, "owner": {"reputation": 59, "user_id": 5046608, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/718c01b406791d1b6cbaf2e5e8b66c80?s=128&d=identicon&r=PG&f=1", "display_name": "snavien", "link": "https://stackoverflow.com/users/5046608/snavien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 737, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1435265550, "creation_date": 1435186584, "last_edit_date": 1435211707, "question_id": 31039027, "link": "https://stackoverflow.com/questions/31039027/creating-a-bidirectional-manytomany-relationship-for-django-models-on-admin-page", "title": "Creating a Bidirectional ManyToMany Relationship for Django Models on Admin Page", "body": "<p>I'm using the Django tutorial for 1.8 &amp; Python 3.4 and right now the page has Questions that can add multiple Choices, but Choices cannot access its corresponding Question:</p>\n\n<pre><code>#models.py\nclass Question(models.Model):\n    question_text = models.CharField(max_length=200)\n    pub_date = models.DateTimeField('date published')\n\n    def __str__(self):\n        return self.question_text\n\n    def was_published_recently(self):\n        return self.pub_date &gt;= timezone.now() - datetime.timedelta(days=1)\n    was_published_recently.admin_order_field = 'pub_date'\n    was_published_recently.boolean = True\n    was_published_recently.short_description = 'Published recently?'\n\nclass Choice(models.Model):\n    question = models.ForeignKey('Question')\n    choice_text = models.CharField(max_length=200)\n    votes = models.IntegerField(default=0)\n\n    def __str__(self):\n        return self.choice_text\n#admin.py\nfrom django.contrib import admin\n\nfrom .models import Question, Choice\n\n# Register your models here.\n\nclass ChoiceInline(admin.TabularInline):\n    model = Choice\n    extra = 3\n\n# class QuestionInline(admin.TabularInline):\n#     model = Question.choice.through\n#     extra = 3\n\nclass QuestionAdmin(admin.ModelAdmin):\n    # fieldsets = [   (None, {'fields': ['question_text']}),\n    #                 ('Date information', {'fields': ['pub_date'],'classes':\n    #                 ['collapse']})\n    #             ]\n    list_display = ('question_text', 'pub_date', 'was_published_recently')\n    list_filter = ['pub_date']\n    search_fields = ['question_text']\n    inlines = [ChoiceInline]\n\nclass ChoiceAdmin(admin.ModelAdmin):\n    fields = ['choice_text', 'votes']\n\n    #inlines = [QuestionInline]\n\nadmin.site.register(Question, QuestionAdmin)\nadmin.site.register(Choice, ChoiceAdmin)\n</code></pre>\n\n<p>However, I want to be able to have the Questions have many Choices and be able to access those Choices in admin and then Choices have access to their corresponding Question in the admin page as well.</p>\n\n<p>I was thinking of creating a ManyToMany variable for the Choice, but that seems to remove the capability of having TabularInline Editing which requires a Foreign Key.</p>\n\n<p>I'm not sure how to approach this problem.</p>\n"}, {"tags": ["python", "regex", "email"], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 3033365, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6cbf65de1b73ea9c1ad66757f89705be?s=128&d=identicon&r=PG&f=1", "display_name": "gchen", "link": "https://stackoverflow.com/users/3033365/gchen"}, "edited": false, "score": 0, "creation_date": 1435241290, "post_id": 31038548, "comment_id": 50126493, "body": "Your solution works when switching subjectstring and &#39;&#39;"}], "tags": [], "owner": {"reputation": 29554, "user_id": 839957, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3ac5824c6cc4817a754a186d6a45a08b?s=128&d=identicon&r=PG", "display_name": "maxymoo", "link": "https://stackoverflow.com/users/839957/maxymoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1435186756, "creation_date": 1435186756, "answer_id": 31038548, "question_id": 31038456, "link": "https://stackoverflow.com/questions/31038456/how-to-extract-subjects-from-the-email-headers-using-regular-expression-in-pytho/31038548#31038548", "title": "How to extract subjects from the email headers using regular expression in Python?", "body": "<p>Not sure if this helps (i think there's some issues in your regex but I can't work it out), but in Python, you don't use <code>/ig</code> to pass flags, you do it like this:</p>\n\n<pre><code>re.sub('(Subject: *)?(\\bRE|FWD?)([:\\[][0-9]?[ :\\]]*)', \n       subjectstring, '', flags = re.IGNORECASE)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46, "user_id": 3033365, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6cbf65de1b73ea9c1ad66757f89705be?s=128&d=identicon&r=PG&f=1", "display_name": "gchen", "link": "https://stackoverflow.com/users/3033365/gchen"}, "edited": false, "score": 0, "creation_date": 1435203042, "post_id": 31038591, "comment_id": 50104761, "body": "Thank you for your explanation of &quot;?:&quot;. However, the regex you provide can  only exclude one &quot;Re:&quot; or &quot;Fwd:&quot; ..."}], "tags": [], "owner": {"reputation": 3483, "user_id": 2668666, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3QEDd.jpg?s=128&g=1", "display_name": "jmrah", "link": "https://stackoverflow.com/users/2668666/jmrah"}, "is_accepted": false, "score": 1, "last_activity_date": 1435187021, "creation_date": 1435187021, "answer_id": 31038591, "question_id": 31038456, "link": "https://stackoverflow.com/questions/31038456/how-to-extract-subjects-from-the-email-headers-using-regular-expression-in-pytho/31038591#31038591", "title": "How to extract subjects from the email headers using regular expression in Python?", "body": "<p>You are pretty close!  What you want to do is use capture groups to get at the part of the match you want.  Here is your regex slightly modified:</p>\n\n<pre><code>/(?:Subject:\\s*)?(?:\\bRE|FWD?)(?:[:\\[][0-9]?[ :\\]]*)(.*)/ig\n</code></pre>\n\n<p>So, you'll notice the 3 <code>?:</code> in there.  That means the match within those parentheses will not be captured by the regex engine into a group.  However, the last part will be: <code>(.*)</code></p>\n\n<p>That last part is what you want, and is in the first capture group of the match.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5055099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34752132a88dbfe3f3fbce3c785b0045?s=128&d=identicon&r=PG&f=1", "display_name": "cbabilotte", "link": "https://stackoverflow.com/users/5055099/cbabilotte"}, "is_accepted": false, "score": 1, "last_activity_date": 1435714704, "creation_date": 1435714704, "answer_id": 31151246, "question_id": 31038456, "link": "https://stackoverflow.com/questions/31038456/how-to-extract-subjects-from-the-email-headers-using-regular-expression-in-pytho/31151246#31151246", "title": "How to extract subjects from the email headers using regular expression in Python?", "body": "<p>Here is another version of the regex.</p>\n\n<pre><code>import re\ntext = [\n 'Subject: Re: re[2]: RSVP',\n 'Subject: Re: Fwd: Direct Access Application',\n 'Subject: RE:',\n 'Subject: RE: Proposed Negotiation Strategy',\n 'Subject: RE: Re: RE:      Case study option',\n 'Subject:     RE: Staffing'\n]\n\np = re.compile('([\\[\\(] *)?.*(RE?S?|FWD?|re\\[\\d+\\]?) *([-:;)\\]][ :;\\])-]*|$)|\\]+ *$', re.IGNORECASE)\nfor line in text:\n    print(p.sub('', line).strip())\n</code></pre>\n\n<p>This will give you the following output:</p>\n\n<pre><code>RSVP\nDirect Access Application\n\nProposed Negotiation Strategy\nCase study option\nStaffing\n</code></pre>\n\n<p>Here is the explanation:</p>\n\n<pre><code>([\\[\\(] *)?             # starting [ or (, followed by optional spaces\n.*(RE|FWD|re\\[\\d\\]?) *  # Anything before RE or FW or FWD or re[number], followed by optional spaces\n([-:;)\\]][ :;\\])-]+ $)  # only count it as a Re or FWD if it is followed by \n                        # : or - or ; or ] or ) or end of line\n                        # (and after that you can have more of these symbols with\n                        #  spaces in between)\n|                       # OR\n\\]+ *$                  # match any trailing \\] at end of line \n                        # (we assume the brackets () occur around a whole Re/Fwd\n                        #  but the square brackets [] occur around the whole \n                        #  subject line)\n</code></pre>\n\n<p>Hope this helps. Thanks</p>\n"}], "owner": {"reputation": 46, "user_id": 3033365, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6cbf65de1b73ea9c1ad66757f89705be?s=128&d=identicon&r=PG&f=1", "display_name": "gchen", "link": "https://stackoverflow.com/users/3033365/gchen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1754, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1435714704, "creation_date": 1435186111, "last_edit_date": 1435187394, "question_id": 31038456, "link": "https://stackoverflow.com/questions/31038456/how-to-extract-subjects-from-the-email-headers-using-regular-expression-in-pytho", "title": "How to extract subjects from the email headers using regular expression in Python?", "body": "<p>I just start learning regex and encounter a problem when extracting subjects from the email headers. </p>\n\n<p>In order to only keep the subjects of each header and also neglect \"Re:\" and \"Fwd:\" (case insensitive), I use the following regex which is able to highlight all useless parts. </p>\n\n<pre><code>/(Subject: *)?(\\bRE|FWD?)([:\\[][0-9]?[ :\\]]*)/ig \n</code></pre>\n\n<p>But, I am unable to extract the real subjects I want. </p>\n\n<pre><code>Subject: Re: re[2]: RSVP\n\nSubject: Re: Fwd: Direct Access Application\n\nSubject: RE:\n\nSubject: RE: Proposed Negotiation Strategy\n\nSubject: RE: Re: RE:      Case study option\n\nSubject:     RE: Staffing\n</code></pre>\n\n<p>I tried re.sub(...), but it doesn't seem to work.</p>\n"}, {"tags": ["python", "pyqt", "pyside", "pyqtgraph"], "comments": [{"owner": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1435224178, "post_id": 31038396, "comment_id": 50114542, "body": "Can you provide an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a> ?"}, {"owner": {"reputation": 51, "user_id": 1034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e66ccd5d5a878851746f94cdb64f5a86?s=128&d=identicon&r=PG", "display_name": "user1034632", "link": "https://stackoverflow.com/users/1034632/user1034632"}, "reply_to_user": {"reputation": 4899, "user_id": 4720935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c8sPO.png?s=128&g=1", "display_name": "Mel", "link": "https://stackoverflow.com/users/4720935/mel"}, "edited": false, "score": 0, "creation_date": 1435277560, "post_id": 31038396, "comment_id": 50146057, "body": "Expanded question as per suggestion of @tmoreau"}], "owner": {"reputation": 51, "user_id": 1034632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e66ccd5d5a878851746f94cdb64f5a86?s=128&d=identicon&r=PG", "display_name": "user1034632", "link": "https://stackoverflow.com/users/1034632/user1034632"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 223, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435277456, "creation_date": 1435185770, "last_edit_date": 1435277456, "question_id": 31038396, "link": "https://stackoverflow.com/questions/31038396/how-to-enable-console-print-of-traceback-in-pyqtgraph", "title": "How to enable console print of traceback in PyQtGraph", "body": "<p>Is there a preferred way in pyqtgraph to configure it to dump errors to the terminal?</p>\n\n<p>In working with sample script <a href=\"https://github.com/pyqtgraph/pyqtgraph/blob/develop/examples/FlowchartCustomNode.py\" rel=\"nofollow\">https://github.com/pyqtgraph/pyqtgraph/blob/develop/examples/FlowchartCustomNode.py</a> I tweaked it in a way that left a flaw in <code>UnsharpMaskNode.process</code>. There was no traceback so I tracked the error handling back to line 315 in <a href=\"https://github.com/pyqtgraph/pyqtgraph/blob/develop/pyqtgraph/flowchart/Node.py\" rel=\"nofollow\">https://github.com/pyqtgraph/pyqtgraph/blob/develop/pyqtgraph/flowchart/Node.py</a> in <code>UnsharpMaskNode</code> parent class' <code>Node.update</code> method in  where the error is swallowed by bare try/except. I uncommented a pyqtgraph developer's call to <code>printExc</code> in that except block which yes, prints, but I'd hoped to find find a constructor flag, a set method, a DEBUG const, anything to conditionally indicate that the traceback should tee to stderr.</p>\n\n<p>For example, add a RuntimeError in method <code>UnsharpMaskNode.process</code> as shown below  and execute the script. The exception will not be seen but in the GUI the corresponding ImageViewNode will present no image, implicitly indicating failure.</p>\n\n<pre><code>def process(self, dataIn, display=True):\n    # CtrlNode has created self.ctrls, which is a dict containing {ctrlName: widget}\n    sigma = self.ctrls['sigma'].value()\n    strength = self.ctrls['strength'].value()\n    raise RuntimeError('This will silently fail')\n    output = dataIn - (strength * pg.gaussianFilter(dataIn, (sigma,sigma)))\n    return {'dataOut': output}\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "integer-overflow"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1435186846, "post_id": 31038367, "comment_id": 50100999, "body": "you should not shadow builtins such as min/max ... just an aside totally unrelated to your problem"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 3, "last_activity_date": 1435186858, "creation_date": 1435186858, "answer_id": 31038568, "question_id": 31038367, "link": "https://stackoverflow.com/questions/31038367/efficient-element-wise-multiplication-in-python-with-numpy-array/31038568#31038568", "title": "Efficient element-wise multiplication in Python with numpy array", "body": "<pre><code>total_img = 255*(min - total_img)/(min - max)\n</code></pre>\n\n<p>You literally just plug in <code>total_img</code> instead of <code>px</code>, and it does the operation elementwise. If you want to store the result into the original <code>total_img</code> instead of replacing it, you can slice-assign:</p>\n\n<pre><code>total_img[:] = 255*(min - total_img)/(min - max)\n</code></pre>\n\n<p>but note that this doesn't actually save any time or memory.</p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 3403376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471e9231bc25096b21e731827b09d361?s=128&d=identicon&r=PG&f=1", "display_name": "sparklearner", "link": "https://stackoverflow.com/users/3403376/sparklearner"}, "is_accepted": false, "score": 0, "last_activity_date": 1435187095, "creation_date": 1435187095, "answer_id": 31038609, "question_id": 31038367, "link": "https://stackoverflow.com/questions/31038367/efficient-element-wise-multiplication-in-python-with-numpy-array/31038609#31038609", "title": "Efficient element-wise multiplication in Python with numpy array", "body": "<p>I believe you could directly do this:</p>\n\n<pre><code>total_img = 255*(min-total_img)/(min - max)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 3114489, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/30914d17bbfc229f3cc67029450fca4e?s=128&d=identicon&r=PG&f=1", "display_name": "bazzoli92", "link": "https://stackoverflow.com/users/3114489/bazzoli92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 31038568, "answer_count": 2, "score": 1, "last_activity_date": 1435187095, "creation_date": 1435185658, "last_edit_date": 1435186697, "question_id": 31038367, "link": "https://stackoverflow.com/questions/31038367/efficient-element-wise-multiplication-in-python-with-numpy-array", "title": "Efficient element-wise multiplication in Python with numpy array", "body": "<p>I have a numpy array of type np.int64, to which I am trying to apply a formula.</p>\n\n<p>Let's say the array is a 2D array called <code>total_img</code> which has dimensions 400 X 300 pixels. For each pixel I want to compute the following formula. <code>px = 255*(min - px)/(min - max)</code>. I want these rescaled pixels to be stored always in <code>total_img</code>. How can I efficiently implement this using numpy arrays?</p>\n\n<p>Note, <code>min</code> and <code>max</code> are simply the 1th percentile and 99th percentile values and are actually stored as floats. Should I convert them to ints for better accuracy (remember total_img is of type np.int64 - No Overflow will ever occur). Also min will most likely be negative.</p>\n\n<p>I was using:</p>\n\n<pre><code>for row in total_img:\n    for px in row:        \n        px = 255*(min-px)/(min - max)\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "reply_to_user": {"reputation": 40039, "user_id": 699224, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4feb08afcd7c57acb72bd49fc2bf834d?s=128&d=identicon&r=PG", "display_name": "DNA", "link": "https://stackoverflow.com/users/699224/dna"}, "edited": false, "score": 0, "creation_date": 1435185822, "post_id": 31038335, "comment_id": 50100689, "body": "elif counter is 7:                 mun.extend([row.text])                 counter = 1"}], "answers": [{"tags": [], "owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "is_accepted": false, "score": 3, "last_activity_date": 1435186097, "creation_date": 1435186097, "answer_id": 31038453, "question_id": 31038335, "link": "https://stackoverflow.com/questions/31038335/cant-iterate-through-list-of-strings/31038453#31038453", "title": "cant iterate through list of strings", "body": "<pre><code>return event\n</code></pre>\n\n<p>is inside your loop, so the loop stops at the first iteration.</p>\n\n<p>Your probably want to add event to a list of dictionary and return the list <em>after</em> the loop</p>\n\n<pre><code>def list_to_dictionary():\n    count = 0\n    events = []\n    for muns in mun:\n        print muns\n        event = {'Agency ': agency[count], 'Time ': time[count], 'Units ': units[count], 'Description ': description[count], 'Street ': street[count], 'Cross Streets ': crossStreets[count], 'Municipality ': mun[count]}\n        events.append(event)\n        count += 1\n    return events\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "edited": false, "score": 0, "creation_date": 1435189065, "post_id": 31038640, "comment_id": 50101600, "body": "i like this, but I&#39;m having another issue after implementing it.  for e in events:     print e  returns the same dictionary again and again."}, {"owner": {"reputation": 76, "user_id": 4975841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ad2772766c189c56b55aa5c120b435?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Lang", "link": "https://stackoverflow.com/users/4975841/mike-lang"}, "reply_to_user": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "edited": false, "score": 1, "creation_date": 1435189634, "post_id": 31038640, "comment_id": 50101735, "body": "Sorry just made an edit - have to reset your event variable when your counter reaches 7"}], "tags": [], "owner": {"reputation": 76, "user_id": 4975841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ad2772766c189c56b55aa5c120b435?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Lang", "link": "https://stackoverflow.com/users/4975841/mike-lang"}, "is_accepted": true, "score": 2, "last_activity_date": 1435189575, "last_edit_date": 1435189575, "creation_date": 1435187266, "answer_id": 31038640, "question_id": 31038335, "link": "https://stackoverflow.com/questions/31038335/cant-iterate-through-list-of-strings/31038640#31038640", "title": "cant iterate through list of strings", "body": "<p>First, to add an item to a list, you should use append, not extend.  E.g. <code>mun.append(row.text)</code> instead of <code>mun.extend([row.text])</code></p>\n\n<p>Second, in your list_to_dictionary function, you are returning in the first iteration of the loop, so of course it won't loop through the entire list. I'm assuming you want to return a list of events, not the first event.</p>\n\n<p>Third, you should simplify the logic. Rather than creating a bunch of lists and then using their indices to create dictionaries afterward, why not just create a dictionary in the first loop for each event and create a list of events.  </p>\n\n<pre><code>    events = []\n    event = {}\n    counter = 1\n    for row in allTable.findAll('td'):\n        if counter is not 8:\n            if counter is 1:\n                event['agency'] = row.text\n                counter += 1\n            elif counter is 2:\n                event['time'] = row.text\n                counter += 1\n</code></pre>\n\n<p>...</p>\n\n<pre><code>            elif counter is 7:\n                event['mun'] = row.text\n                events.append(event)\n                event = {}\n                counter = 1\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 4946604, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/902655399792787/picture?type=large", "display_name": "NeonLights86", "link": "https://stackoverflow.com/users/4946604/neonlights86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 31038640, "answer_count": 2, "score": 1, "last_activity_date": 1435202045, "creation_date": 1435185464, "last_edit_date": 1435202045, "question_id": 31038335, "link": "https://stackoverflow.com/questions/31038335/cant-iterate-through-list-of-strings", "title": "cant iterate through list of strings", "body": "<p>I'm having an issue with iterating through a list to add items to a list of dictionaries.I believe my issue is in the list_to_dictionary function. \"for muns in mun\" returns \"Mun\" which is a item in the list. It only iterates through the list once because its saying the only item in the list is \"Mun\". i need to create a dictionary for each event. Not sure what the problem is, thanks.</p>\n\n<pre><code>#iterates though lists and puts value at location \"count\"\n#into a dictionary and loops until there are no more events\ndef list_to_dictionary():\n    count = 0\n    for muns in mun:\n        print muns\n        event = {'Agency ': agency[count], 'Time ': time[count], 'Units ': units[count], 'Description ': description[count], 'Street ': street[count], 'Cross Streets ': crossStreets[count], 'Municipality ': mun[count]}\n        count += 1\n        return event\n\ncreate_list(allTable)\n</code></pre>\n"}, {"tags": ["python", "foreign-keys", "peewee"], "answers": [{"comments": [{"owner": {"reputation": 519, "user_id": 658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a2e3e02d0a5e2b0023ed95d22ee86b?s=128&d=identicon&r=PG&f=1", "display_name": "digitaldingo", "link": "https://stackoverflow.com/users/658660/digitaldingo"}, "edited": false, "score": 0, "creation_date": 1435594575, "post_id": 31083354, "comment_id": 50254021, "body": "Yes, that adding a property to Parent is indeed my current workaround. For the sake of simplicity, however, I would like to avoid changing the Parent class if I can. But I assume that there is no way of having the back-ref use a <code>get</code> rather than a <code>select</code>?"}, {"owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "reply_to_user": {"reputation": 519, "user_id": 658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a2e3e02d0a5e2b0023ed95d22ee86b?s=128&d=identicon&r=PG&f=1", "display_name": "digitaldingo", "link": "https://stackoverflow.com/users/658660/digitaldingo"}, "edited": false, "score": 0, "creation_date": 1435682624, "post_id": 31083354, "comment_id": 50298256, "body": "Correct, backrefs are always a query object."}, {"owner": {"reputation": 519, "user_id": 658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a2e3e02d0a5e2b0023ed95d22ee86b?s=128&d=identicon&r=PG&f=1", "display_name": "digitaldingo", "link": "https://stackoverflow.com/users/658660/digitaldingo"}, "edited": false, "score": 0, "creation_date": 1435695598, "post_id": 31083354, "comment_id": 50305837, "body": "All right. It makes perfect sense -- I was just hoping that I had missed some secret argument to ForeignKey. Thanks for your help and for the tip on the UNIQUE constraint!"}], "tags": [], "owner": {"reputation": 19577, "user_id": 254346, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/ebd1c4256c1ece3469d2ccf3031cb6c5?s=128&d=identicon&r=PG", "display_name": "coleifer", "link": "https://stackoverflow.com/users/254346/coleifer"}, "is_accepted": true, "score": 5, "last_activity_date": 1550963268, "last_edit_date": 1550963268, "creation_date": 1435359692, "answer_id": 31083354, "question_id": 31038292, "link": "https://stackoverflow.com/questions/31038292/peewee-get-a-single-model-instead-of-selectquery-when-back-referencing-a-foreig/31083354#31083354", "title": "peewee: Get a single model instead of SelectQuery when back-referencing a foreign key", "body": "<p>You can just add a property. </p>\n\n<p>By default back-refs are <code>0..N</code>, so best represented by a select query.</p>\n\n<hr>\n\n<p><strong>Example:</strong></p>\n\n<pre><code>class Parent(pw.Model):\n    name = pw.CharField()\n\n    class Meta:\n        database = db\n\n    @property\n    def kid(self):\n        return self.children.get()\n\n\nclass Child(pw.Model):\n    name = pw.CharField()\n    parent = pw.ForeignKeyField(Parent, related_name=\"children\")\n\n    class Meta:\n        database = db\n</code></pre>\n\n<hr>\n\n<p><strong>Tip:</strong></p>\n\n<p>If the foreign key is really a one-to-one you could add a <code>UNIQUE</code> constraint on the foreign key.</p>\n"}], "owner": {"reputation": 519, "user_id": 658660, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50a2e3e02d0a5e2b0023ed95d22ee86b?s=128&d=identicon&r=PG&f=1", "display_name": "digitaldingo", "link": "https://stackoverflow.com/users/658660/digitaldingo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 953, "favorite_count": 0, "accepted_answer_id": 31083354, "answer_count": 1, "score": 3, "last_activity_date": 1550963268, "creation_date": 1435185232, "question_id": 31038292, "link": "https://stackoverflow.com/questions/31038292/peewee-get-a-single-model-instead-of-selectquery-when-back-referencing-a-foreig", "title": "peewee: Get a single model instead of SelectQuery when back-referencing a foreign key", "body": "<p>I am struggling a bit with back-referencing foreign keys in <code>peewee</code>.\nConsider the following code:</p>\n\n<pre><code>import peewee as pw\n\ndb = pw.SqliteDatabase(':memory:')\n\nclass Parent(pw.Model):\n    name = pw.CharField()\n\n    class Meta:\n        database = db\n\n\nclass Child(pw.Model):\n    name = pw.CharField()\n    parent = pw.ForeignKeyField(Parent, related_name=\"kid\")\n\n    class Meta:\n        database = db\n\ndb.create_tables([Parent, Child])\n\nbob = Parent.create(name=\"Bob\")\nalice = Child.create(name=\"Alice\", parent=bob)\n</code></pre>\n\n<p>Getting access to Bob's children can be done with <code>bob.kid</code>, which would give me a <code>SelectQuery</code>. By design, however, I know that any <code>Parent</code> can only have a single <code>Child</code>. Accessing that child could then be done with <code>bob.kid[0]</code>.</p>\n\n<p>I would like to be able to access a <code>Child</code> from a <code>Parent</code> by simply calling <code>bob.kid</code> and not <code>bob.kid[0]</code>. Can this be achieved <em>without</em> modifying the <code>Parent</code> class further?</p>\n"}, {"tags": ["python", "pygame", "2d", "lighting"], "answers": [{"tags": [], "owner": {"reputation": 91141, "user_id": 142637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9SiZh.png?s=128&g=1", "display_name": "sloth", "link": "https://stackoverflow.com/users/142637/sloth"}, "is_accepted": false, "score": 6, "last_activity_date": 1435220076, "creation_date": 1435220076, "answer_id": 31044769, "question_id": 31038285, "link": "https://stackoverflow.com/questions/31038285/python-pygame-game-lighting/31044769#31044769", "title": "Python Pygame Game Lighting", "body": "<p>Changing pixels individually is really slow; it only works if you would use e.g. <code>numpy</code> to manipulate the image data, since then most work will be done in optimized, compiled C code and not in the python runtime. </p>\n\n<p>An easy way is to just use another <code>Surface</code> to do this manipulation using a different render mode, like <code>BLEND_RGBA_SUB</code>.</p>\n\n<p>Here's a <strong>minimal example</strong>:</p>\n\n<pre><code>import pygame\npygame.init()\nscreen=pygame.display.set_mode((640, 480))\nlight=pygame.image.load('circle.png')\nwhile True:\n    for e in pygame.event.get():\n        if e.type == pygame.QUIT: break\n    else:\n        screen.fill(pygame.color.Color('Red'))\n        for x in xrange(0, 640, 20):\n            pygame.draw.line(screen, pygame.color.Color('Green'), (x, 0), (x, 480), 3)\n        filter = pygame.surface.Surface((640, 480))\n        filter.fill(pygame.color.Color('Grey'))\n        filter.blit(light, map(lambda x: x-50, pygame.mouse.get_pos()))\n        screen.blit(filter, (0, 0), special_flags=pygame.BLEND_RGBA_SUB)\n        pygame.display.flip()\n        continue\n    break\n</code></pre>\n\n<p><strong>circle.png:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/E6Coa.png\" alt=\"enter image description here\"></p>\n\n<p><strong>screenshot:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/0hh4Y.png\" alt=\"enter image description here\"></p>\n"}], "owner": {"reputation": 336, "user_id": 4595621, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-BXX14GoMvpA/AAAAAAAAAAI/AAAAAAAACRg/ioSEWpWvxD8/photo.jpg?sz=128", "display_name": "Aaron Nebbs", "link": "https://stackoverflow.com/users/4595621/aaron-nebbs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3892, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1435220076, "creation_date": 1435185189, "question_id": 31038285, "link": "https://stackoverflow.com/questions/31038285/python-pygame-game-lighting", "title": "Python Pygame Game Lighting", "body": "<p>We are making a 2D side scrolling game and an item in the game will be a torch. We have a player who's arm can rotate and we can take the arms angle. We are looking at having a triangular beam shape, following the angle of the arm. We have had a few ideas like have an alpha image over the whole screen and individually removing alpha from each pixel based on the arm angle, but we think this will be too intensive. Any ideas would be greatly appreciated.\nThanks.</p>\n"}, {"tags": ["python", "sql-server", "django", "django-mssql"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 1100652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9e8fc56573a371ab44f94e8bf1669918?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/1100652/george"}, "edited": false, "score": 0, "creation_date": 1435237886, "post_id": 31041565, "comment_id": 50123688, "body": "Thanks. I am able to connect to the server through SSMS...wouldn&#39;t this imply that the instance is up and running?"}, {"owner": {"reputation": 21, "user_id": 2983771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f920G.jpg?s=128&g=1", "display_name": "jayadeepk", "link": "https://stackoverflow.com/users/2983771/jayadeepk"}, "reply_to_user": {"reputation": 301, "user_id": 1100652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9e8fc56573a371ab44f94e8bf1669918?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/1100652/george"}, "edited": false, "score": 0, "creation_date": 1435304619, "post_id": 31041565, "comment_id": 50154820, "body": "In that case, I am not sure why django isn&#39;t able to access it. Did you try using a different port? This <a href=\"http://stackoverflow.com/a/13210057/2983771\">solution</a> might help."}], "tags": [], "owner": {"reputation": 21, "user_id": 2983771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f920G.jpg?s=128&g=1", "display_name": "jayadeepk", "link": "https://stackoverflow.com/users/2983771/jayadeepk"}, "is_accepted": false, "score": 0, "last_activity_date": 1435208498, "creation_date": 1435208498, "answer_id": 31041565, "question_id": 31038284, "link": "https://stackoverflow.com/questions/31038284/unable-to-migrate-django-database-using-django-mssql/31041565#31041565", "title": "Unable to migrate django database using django-mssql", "body": "<p>Your error log shows there is an error connecting to 10.1.4.100. It can mean that your mssql server isn't running or you do not have access to it.</p>\n\n<p>You have mentioned that you have installed SQL Server management studio but haven't mentioned whether you have started an instance of SQL server. If you haven't yet, you can do that using SQL server configuration manager for Windows. <a href=\"https://technet.microsoft.com/en-us/library/ms190699(v=sql.105).aspx\" rel=\"nofollow\">This topic</a> from Microsoft Technet will guide you through starting an instance.</p>\n\n<blockquote>\n  <p>To start the default instance of SQL Server</p>\n  \n  <ol>\n  <li>On the Start menu, point to All Programs, point to Microsoft SQL Server 2008 R2, point to Configuration Tools, and then click SQL Server Configuration Manager.</li>\n  <li>In SQL Server Configuration Manager, in the left pane, click SQL Server Services.</li>\n  <li>In the details pane, right-click SQL Server (MSSQLServer), and then click Start.\n  A green arrow on the icon next to the server name and on the toolbar indicates that the server started successfully.</li>\n  <li>Click OK to close SQL Server Configuration Manager.</li>\n  </ol>\n</blockquote>\n"}], "owner": {"reputation": 301, "user_id": 1100652, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/9e8fc56573a371ab44f94e8bf1669918?s=128&d=identicon&r=PG", "display_name": "George", "link": "https://stackoverflow.com/users/1100652/george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 806, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1435208498, "creation_date": 1435185187, "last_edit_date": 1435186158, "question_id": 31038284, "link": "https://stackoverflow.com/questions/31038284/unable-to-migrate-django-database-using-django-mssql", "title": "Unable to migrate django database using django-mssql", "body": "<p>I am trying to migrate my django database to MS SQL Server 10.50.2500 using django-mssql.  When I try to run <code>python manage.py migrate</code> I get this error:</p>\n\n<pre><code>django.db.utils.OperationalError: (com_error(-2147352567, 'Exception occurred.', (0, 'ADODB.Connection', 'Provider canno\nt be found. It may not be properly installed.', 'C:\\\\Windows\\\\HELP\\\\ADO270.CHM', 1240655, -2146824582), None), 'Error op\nening connection: DATA SOURCE=10.1.4.100;Initial Catalog=(REMOVED);UID=(REMOVED);PWD=******;PROVIDER=sqlncli10;DataT\nypeCompatibility=80;MARS Connection=True')\n</code></pre>\n\n<p>The documentation for django-mssql says to install SQL Server Management Studio first, which I have done (version 2012).  What am I missing?  Should I be using SSMS version 2008, given that's the version of the server?  Do I need to separately install sqlncli10?</p>\n\n<p>In settings.py, I have also tried entering the alphanumeric server name, the IP address alone, and the IP address and the port, all to no avail.</p>\n\n<p>Thanks for the help</p>\n"}, {"tags": ["python", "multithreading", "python-3.4"], "answers": [{"comments": [{"owner": {"reputation": 77031, "user_id": 44743, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9af6bab469df2f4e1486c3a608446f3b?s=128&d=identicon&r=PG", "display_name": "recursive", "link": "https://stackoverflow.com/users/44743/recursive"}, "edited": false, "score": 0, "creation_date": 1435185909, "post_id": 31038342, "comment_id": 50100719, "body": "<code>executor.submit()</code> seems to be an attempt to schedule concurrent work.  <a href=\"https://docs.python.org/dev/library/concurrent.futures.html#concurrent.futures.Executor.submit\" rel=\"nofollow noreferrer\">docs.python.org/dev/library/&hellip;</a>"}], "tags": [], "owner": {"reputation": 467, "user_id": 5012832, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf924f199518175cd758cf711c07a56b?s=128&d=identicon&r=PG&f=1", "display_name": "trinityalps", "link": "https://stackoverflow.com/users/5012832/trinityalps"}, "is_accepted": false, "score": 1, "last_activity_date": 1435185495, "creation_date": 1435185495, "answer_id": 31038342, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea/31038342#31038342", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>The issue is can the code be improved through threading. If the code is serial and one thing happens after another in a straight line then the code will run the same no matter how many threads you have. However if the code can branch off and do action a and action b at the same time then it will. Looking closer at your code it appears that there is no branching, at least non that I am aware of. </p>\n"}, {"comments": [{"owner": {"reputation": 3315, "user_id": 1664109, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JAlH9.jpg?s=128&g=1", "display_name": "RockOnGom", "link": "https://stackoverflow.com/users/1664109/rockongom"}, "edited": false, "score": 0, "creation_date": 1435261663, "post_id": 31038400, "comment_id": 50139723, "body": "I read something about multiprocessing packet on python docs. They say that &quot; The multiprocessing package offers both local and remote concurrency, effectively side-stepping the Global Interpreter Lock by using subprocesses instead of threads.&quot; And then i tested it, the processes which are created by main process do not work simultaneously. They are more effective than thread but not simultaneously."}], "tags": [], "owner": {"reputation": 3852, "user_id": 1607832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cf6963d2f289cbf78d9c0ece6920188?s=128&d=identicon&r=PG", "display_name": "missimer", "link": "https://stackoverflow.com/users/1607832/missimer"}, "is_accepted": false, "score": 2, "last_activity_date": 1435185788, "creation_date": 1435185788, "answer_id": 31038400, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea/31038400#31038400", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>Python has the <a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow\">Global Interpretor Lock (GIL)</a>, that prevents two threads of execution in the same python process from executing at the same time.  Therefore, while python threads give you multiple control paths within a single process those multiple control paths cannot execute simultaneous on a multi-core machine.  An alternative is to use the python <a href=\"https://docs.python.org/2/library/multiprocessing.html\" rel=\"nofollow\">multiprocessing framework</a> which will actually create separate processes and then have the processes communicate via inter-process communication (IPC).  You can also try using the <a href=\"https://docs.python.org/3.2/library/concurrent.futures.html\" rel=\"nofollow\">ProcessPoolExecutor</a> which will spawn multiple processes and therefore you won't have an issue with the GIL</p>\n"}, {"comments": [{"owner": {"reputation": 3315, "user_id": 1664109, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JAlH9.jpg?s=128&g=1", "display_name": "RockOnGom", "link": "https://stackoverflow.com/users/1664109/rockongom"}, "edited": false, "score": 0, "creation_date": 1435251105, "post_id": 31038425, "comment_id": 50133739, "body": "Thanks all of you guys."}, {"owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "reply_to_user": {"reputation": 3315, "user_id": 1664109, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JAlH9.jpg?s=128&g=1", "display_name": "RockOnGom", "link": "https://stackoverflow.com/users/1664109/rockongom"}, "edited": false, "score": 0, "creation_date": 1457033832, "post_id": 31038425, "comment_id": 59234210, "body": "No problem, happy to help :)"}], "tags": [], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "is_accepted": true, "score": 5, "last_activity_date": 1435185938, "creation_date": 1435185938, "answer_id": 31038425, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea/31038425#31038425", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>CPython (the standard implementation of Python) does not support multithreading on different CPUs. So you can indeed have multiple threads, but they will all run on the same CPU, and you will not have speed improvements for CPU-bound processes (you would have for I/O bound processes).</p>\n\n<p>The reason for that is the infamous GIL (global interpreter lock). Python's core is not thread safe because of the way it does garbage collection, so it uses a lock, which means threads accessing python objects run one after the other.</p>\n\n<p>In your particular case, you are doing some I/O and some processing. There is significant overhead when doing multiprocessing in python, which is not compensated by the gain in speed in your I/O (the time to read your files is probably small compared to the time to process them).</p>\n\n<p>If you need to do real multithreading look at Cython (not to be confused with CPython) and \"no_gil\", or c-extensions, or the multiprocessing module.</p>\n"}, {"tags": [], "owner": {"reputation": 76, "user_id": 4975841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9ad2772766c189c56b55aa5c120b435?s=128&d=identicon&r=PG&f=1", "display_name": "Mike Lang", "link": "https://stackoverflow.com/users/4975841/mike-lang"}, "is_accepted": false, "score": 1, "last_activity_date": 1435289647, "last_edit_date": 1435289647, "creation_date": 1435187977, "answer_id": 31038747, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea/31038747#31038747", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>Your code is CPU-bound - multithreading will stay within a single CPU by default.  You can use the <a href=\"https://docs.python.org/2/library/multiprocessing.html\" rel=\"nofollow\">multiprocessing package</a> which allows you to create subprocesses and essentially bypass the GIL (Global Interpreter Lock).  Of course, this will only help if you have a multiple CPUs. And I don't think the overhead of multiple processes is warranted for this use case.</p>\n"}, {"tags": [], "owner": {"reputation": 6625, "user_id": 1076480, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/acb812ee78a707f06f57df3dad4edb89?s=128&d=identicon&r=PG&f=1", "display_name": "David Ehrmann", "link": "https://stackoverflow.com/users/1076480/david-ehrmann"}, "is_accepted": false, "score": 2, "last_activity_date": 1435190915, "last_edit_date": 1435190915, "creation_date": 1435190590, "answer_id": 31039148, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea/31039148#31039148", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>The GIL comments are correct, but this code is more likely IO-bound than CPU-bound.</p>\n\n<p><em>Even</em> if you used something like C or Java, you're still reading files over a serial interface, so unless you can't process 100-300 MB/s of JSON, you won't see a performance benefit from threading.</p>\n\n<p>@DevShark did say you'd see a benefit for IO-bound processes, but it's more complicated than that. That tends to be more for concurrent network connections that are high-latency. In this case, you'd be IO-bound <em>at the disk</em>, not the process (you're not waiting for a remote response), so parallelism won't help.</p>\n\n<p>If you're CPU-bound, have real threads, and are using a spinning disk, you still have to tune the buffer sizes carefully. The 10ms seek time can kill you, so you need to use buffered reads with buffer sizes much larger than that if you want high disk throughput. With a 100MB/s disk with 10ms seek time, I'd use 10MB buffers, but that still means you're spending 10% of your time seeking on the disk. I'd also coordinate my reads so only one reader reads at a time.</p>\n"}], "owner": {"reputation": 3315, "user_id": 1664109, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/JAlH9.jpg?s=128&g=1", "display_name": "RockOnGom", "link": "https://stackoverflow.com/users/1664109/rockongom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 1, "accepted_answer_id": 31038425, "answer_count": 5, "score": 6, "last_activity_date": 1435289647, "creation_date": 1435185174, "question_id": 31038280, "link": "https://stackoverflow.com/questions/31038280/why-is-there-no-execution-time-difference-between-multithreading-and-singlethrea", "title": "Why is there no execution time difference between multithreading and singlethreading", "body": "<p>I am trying to learn python language and it's concept. I wrote some code to play with multithreading. But i notice that there is no execution time difference between multi and single threading.</p>\n\n<p>The machine which is to run script has 4 core/thread. </p>\n\n<pre><code> def get_tokens(file_name,map):\n    print(file_name)\n    counter = 0\n    with open(file_name,'r',encoding='utf-8-sig') as f:\n        for line in f:\n            item = json.loads(line,encoding='utf-8')\n            if 'spot' in item and item['sid'] == 4663:\n                counter+=1\n                if counter == 500:\n                    break\n                tokens = nltk.word_tokenize(item['spot'],language='english')\n                for token in tokens:\n                    if token not in map:\n                        map[token] = 1\n                    else:\n                        map[token] = map[token] + 1;\n\n start_time = time.time()\n map = dict();\n with ThreadPoolExecutor(max_workers=3) as executor:\n    for file in FileProcessing.get_files_in_directory('D:\\\\Raw Data'):\n        future = executor.submit(FileProcessing.get_tokens, file, map)\n\n end_time = time.time()\n print(\"Elapsed time was %g seconds\" % (end_time - start_time))\n</code></pre>\n\n<p>Each file's size in the <strong>Raw Data</strong> is bigger than 25 mb. So i think must be difference between them. But there is not. Why ? Am i doing a mistake in code or multihreading concept ?</p>\n"}, {"tags": ["python", "sockets", "http", "network-programming"], "comments": [{"owner": {"reputation": 2653, "user_id": 2845044, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/781bc6fdfce6bd15a04ac3e41f1c692d?s=128&d=identicon&r=PG&f=1", "display_name": "gabhijit", "link": "https://stackoverflow.com/users/2845044/gabhijit"}, "edited": false, "score": 1, "creation_date": 1435202626, "post_id": 31038264, "comment_id": 50104668, "body": "In the same process or in another process? In some process - you can create a separate thread and using some python pcap library, read the packets. In a separate process, you&#39;d do just the same - except that it&#39;d be only thread doing that."}, {"owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "reply_to_user": {"reputation": 2653, "user_id": 2845044, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/781bc6fdfce6bd15a04ac3e41f1c692d?s=128&d=identicon&r=PG&f=1", "display_name": "gabhijit", "link": "https://stackoverflow.com/users/2845044/gabhijit"}, "edited": false, "score": 0, "creation_date": 1435607698, "post_id": 31038264, "comment_id": 50261217, "body": "Great, thanks, I&#39;ll look at pcap, it sounds like what I need."}], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435185071, "creation_date": 1435185071, "question_id": 31038264, "link": "https://stackoverflow.com/questions/31038264/parallel-packet-sniffer-in-python", "title": "Parallel packet sniffer in python", "body": "<p>I use httplib in python, I have access to the socket object via connection.sock</p>\n\n<p>In parallel to the queries that I am making via this socket (and without interfering with the responses that I read from the connection), how can I sniff the tcp frames or http messages that go back and forth on this socket?</p>\n"}, {"tags": ["python", "time"], "answers": [{"comments": [{"owner": {"reputation": 253, "user_id": 2151564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FZZt8.jpg?s=128&g=1", "display_name": "JeffDror", "link": "https://stackoverflow.com/users/2151564/jeffdror"}, "edited": false, "score": 0, "creation_date": 1435189316, "post_id": 31038522, "comment_id": 50101661, "body": "Thanks for your response. I will be be running the script in Linux so I am not sure if autohotkey will work."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1435186554, "creation_date": 1435186554, "answer_id": 31038522, "question_id": 31038230, "link": "https://stackoverflow.com/questions/31038230/hit-enter-automatically-every-n-seconds-in-python/31038522#31038522", "title": "Hit &quot;enter&quot; automatically every n seconds in python", "body": "<p>This would be difficult with Python, but <a href=\"http://ahkscript.org/\" rel=\"nofollow\">AutoHotkey</a> makes it very easy with <a href=\"http://ahkscript.org/docs/commands/Loop.htm\" rel=\"nofollow\"><code>Loop</code></a> and <a href=\"http://ahkscript.org/docs/commands/WinWaitActive.htm\" rel=\"nofollow\"><code>WinWaitActive</code></a>. The following script will start a loop that waits for a window titled \"Calculator\" to become active, then immediately sends <kbd>Alt</kbd>+<kbd>F4</kbd> and goes back to the beginning of the loop, waiting for the next Calculator window to appear. In effect, it closes the Calculator as soon as you start it.</p>\n\n<pre><code>Loop {\n    WinWaitActive, Calculator\n    Send !{F4}\n}\n</code></pre>\n\n<p>Replace <code>Calculator</code> with the name of the error dialog window's title, and <code>!{F4}</code> with <code>{Enter}</code>:</p>\n\n<pre><code>Loop {\n    WinWaitActive, Flagrant Error\n    Send {Enter}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 253, "user_id": 2151564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FZZt8.jpg?s=128&g=1", "display_name": "JeffDror", "link": "https://stackoverflow.com/users/2151564/jeffdror"}, "edited": false, "score": 0, "creation_date": 1435189409, "post_id": 31038622, "comment_id": 50101683, "body": "Thanks for your response.  Could you elaborate how this would work? Doesn&#39;t the while loop only run after the external program is finished?"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 253, "user_id": 2151564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FZZt8.jpg?s=128&g=1", "display_name": "JeffDror", "link": "https://stackoverflow.com/users/2151564/jeffdror"}, "edited": false, "score": 0, "creation_date": 1435189521, "post_id": 31038622, "comment_id": 50101713, "body": "no, the external program runs asynchronously in the background"}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 2, "creation_date": 1435247554, "post_id": 31038622, "comment_id": 50131499, "body": "Add <code>p.stdin.flush()</code> or set <code>bufsize=0</code> explicitly. Use bytes literal for Python 3 compatibility: <code>b&#39;\\n&#39;</code> or pass <code>universal_newlines=True</code> to enable text mode."}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 253, "user_id": 2151564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FZZt8.jpg?s=128&g=1", "display_name": "JeffDror", "link": "https://stackoverflow.com/users/2151564/jeffdror"}, "edited": false, "score": 1, "creation_date": 1435248951, "post_id": 31038622, "comment_id": 50132470, "body": "@JeffDror, if you used <code>communicate()</code> or <code>wait()</code> or another blocking invocation (<code>check_call()</code>, etc) that would be true, but not just creating a <code>Popen</code> object as done here."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 3, "last_activity_date": 1435248788, "last_edit_date": 1435248788, "creation_date": 1435187138, "answer_id": 31038622, "question_id": 31038230, "link": "https://stackoverflow.com/questions/31038230/hit-enter-automatically-every-n-seconds-in-python/31038622#31038622", "title": "Hit &quot;enter&quot; automatically every n seconds in python", "body": "<p>Run the external process like you have been doing but keep a pipe open to its stdin and periodically write a newline character to it. </p>\n\n<pre><code>from subprocess import Popen, PIPE\nfrom time import sleep\n\nn = 10 # seconds\n\np = Popen([\"external_program\", \"arg1\", \"arg2\"], stdin=PIPE)\nwhile &lt;condition&gt;:\n    sleep(n)\n    p.stdin.write(b'\\n')\n    p.stdin.flush()\n</code></pre>\n"}], "owner": {"reputation": 253, "user_id": 2151564, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/FZZt8.jpg?s=128&g=1", "display_name": "JeffDror", "link": "https://stackoverflow.com/users/2151564/jeffdror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 31038622, "answer_count": 2, "score": 2, "last_activity_date": 1435248788, "creation_date": 1435184927, "last_edit_date": 1435189267, "question_id": 31038230, "link": "https://stackoverflow.com/questions/31038230/hit-enter-automatically-every-n-seconds-in-python", "title": "Hit &quot;enter&quot; automatically every n seconds in python", "body": "<p>I am calling an external program one a loop using a python script and in general everything works well. However, occasionally the program gets stuck performing a certain process. If I hit 'enter' then the program continues to run as desired. </p>\n\n<p>Would it be possible to run a process in the background that will hit enter every <code>n</code> seconds (whether or not it the program is stuck)? This way I will the program will continue whether or not I am present to guide it.  This seems to go against my logic of how python works but I thought maybe there is some way around it. </p>\n\n<p>Note: I will be running the python script in bash (ubuntu 15.04)</p>\n"}, {"tags": ["python", "mysql", "sql", "sqlalchemy"], "comments": [{"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435186937, "post_id": 31038226, "comment_id": 50101018, "body": "It&#39;s actually fairly trivial in sqlalchemy, but it would help if you would show your current code and query :)"}, {"owner": {"reputation": 507, "user_id": 1182598, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d6cf833b659f32f492aa90963e6050d4?s=128&d=identicon&r=PG", "display_name": "Mico Abrina", "link": "https://stackoverflow.com/users/1182598/mico-abrina"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435187044, "post_id": 31038226, "comment_id": 50101049, "body": "Yah, my knowledge of sqlalchemy is very basic. All I have so far is this: matching_follow = DBSession.query(Follower).filter(Follower.from_user == user_id)"}, {"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435187115, "post_id": 31038226, "comment_id": 50101069, "body": "Don&#39;t you have a table or model definition in sqlalchemy? If not, you should start with that :)"}, {"owner": {"reputation": 507, "user_id": 1182598, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d6cf833b659f32f492aa90963e6050d4?s=128&d=identicon&r=PG", "display_name": "Mico Abrina", "link": "https://stackoverflow.com/users/1182598/mico-abrina"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435187161, "post_id": 31038226, "comment_id": 50101087, "body": "Sure, let me add it to the question."}, {"owner": {"reputation": 507, "user_id": 1182598, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d6cf833b659f32f492aa90963e6050d4?s=128&d=identicon&r=PG", "display_name": "Mico Abrina", "link": "https://stackoverflow.com/users/1182598/mico-abrina"}, "reply_to_user": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435188385, "post_id": 31038226, "comment_id": 50101414, "body": "I also tried executing it as a raw query, but unfortunately, all it did was perform the join. I&#39;m not really sure where I would access the &#39;followed_back&#39; attribute. (AttributeError: &#39;Follower&#39; object has no attribute &#39;followed_back&#39;.)"}, {"owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "edited": false, "score": 0, "creation_date": 1435189418, "post_id": 31038226, "comment_id": 50101686, "body": "Having the <code>User</code> model as well could help, but I think this should be enough. I&#39;ll try to create an example for you :)"}], "answers": [{"tags": [], "owner": {"reputation": 69476, "user_id": 54017, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a010849a3b3a58bc7c2489f44bf22387?s=128&d=identicon&r=PG", "display_name": "Wolph", "link": "https://stackoverflow.com/users/54017/wolph"}, "is_accepted": false, "score": 2, "last_activity_date": 1435192256, "last_edit_date": 1435192256, "creation_date": 1435190423, "answer_id": 31039129, "question_id": 31038226, "link": "https://stackoverflow.com/questions/31038226/sqlalchemy-how-do-i-select-x-id-is-not-null-as-with-a-join/31039129#31039129", "title": "SQLAlchemy - How do I SELECT x.id IS NOT NULL AS with a join?", "body": "<p>This should roughly be the query you need:</p>\n\n<pre><code>f1 = aliased(Follower, name=\"f1\")\nf2 = aliased(Follower, name=\"f2\")\n\nquery = (\n    session\n    .query(f1, (f2.id != None).label(\"followed_back\"))\n    .filter_by(to_user=...)\n    .outerjoin(f2, (f1.from_user == f2.to_user) &amp; (f1.to_user == f2.from_user))\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 60742, "user_id": 99594, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/5434869366641f527b3f25a34f6e4665?s=128&d=identicon&r=PG", "display_name": "van", "link": "https://stackoverflow.com/users/99594/van"}, "is_accepted": true, "score": 2, "last_activity_date": 1435194027, "creation_date": 1435194027, "answer_id": 31039547, "question_id": 31038226, "link": "https://stackoverflow.com/questions/31038226/sqlalchemy-how-do-i-select-x-id-is-not-null-as-with-a-join/31039547#31039547", "title": "SQLAlchemy - How do I SELECT x.id IS NOT NULL AS with a join?", "body": "<p>@Wolph's answer covers your question completely.</p>\n\n<p>As an alternative: If your table <code>Follower</code> is only there to enable many-to-many relationship, you could model it somewhat <em>cleaner</em>:</p>\n\n<pre><code>users_followers = Table(\n    'users_follower', Base.metadata,\n    Column('id', Integer, primary_key=True),\n    Column('from_user', ForeignKey('user.id')),\n    Column('to_user', ForeignKey('user.id')),\n    UniqueConstraint('from_user', 'to_user', name='UC_users_follower'),\n)\n\n\nclass User(Base):\n    __tablename__ = 'user'\n    id = Column(Integer, primary_key=True)\n    name = Column(String)\n\n    followers = relationship(\n        'User',\n        secondary=users_followers,\n        primaryjoin=id == users_followers.c.to_user,\n        secondaryjoin=id == users_followers.c.from_user,\n        backref=\"followees\",\n        # cascade='all',\n    )\n</code></pre>\n\n<p>In this case you could write your query as below:</p>\n\n<pre><code>U1 = aliased(User, name=\"u1\")\nU2 = aliased(User, name=\"u2\")\nq = (session\n     .query(\n         U1, U2,\n         U2.followers.any(User.id == U1.id).label(\"followed_back\"),\n     )\n     .join(U2, U1.followers)\n     # .filter(...)\n     # .order_by(...)\n     )\n\nfor u1, u2, follows in q:\n    print(u1, u2, follows)\n</code></pre>\n\n<p>This query is not going to be faster, but it is easier to relate to the model, and it gives you also other information about the users (name etc), which I assume you need to have anyways.</p>\n"}], "owner": {"reputation": 507, "user_id": 1182598, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/d6cf833b659f32f492aa90963e6050d4?s=128&d=identicon&r=PG", "display_name": "Mico Abrina", "link": "https://stackoverflow.com/users/1182598/mico-abrina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 974, "favorite_count": 0, "accepted_answer_id": 31039547, "answer_count": 2, "score": 0, "last_activity_date": 1435194027, "creation_date": 1435184905, "last_edit_date": 1435187227, "question_id": 31038226, "link": "https://stackoverflow.com/questions/31038226/sqlalchemy-how-do-i-select-x-id-is-not-null-as-with-a-join", "title": "SQLAlchemy - How do I SELECT x.id IS NOT NULL AS with a join?", "body": "<p>I'm creating a simple follow system similar to that of Twitter, so I have a table, which is a directed graph that consists of the following fields: <strong>id, from_user (int), to_user (int)</strong></p>\n\n<pre><code>class Follower(Base):\n    __tablename__ = 'user_follower'\n    id = Column(Integer, primary_key=True)\n    from_user = Column(ForeignKey('user.id'), nullable=False)\n    to_user = Column(ForeignKey('user.id'), nullable=False)\n</code></pre>\n\n<p>What I'm basically trying to achieve in SQLAlchemy is this:</p>\n\n<pre><code>SELECT f1.id, f1.from_user, f1.to_user, f2.id \nIS NOT NULL AS followed_back FROM user_follower f1 \nleft outer join user_follower f2 on f1.from_user = f2.to_user and f1.to_user = f2.from_user \nWHERE f1.to_user = :uid\n</code></pre>\n\n<p>In other words, I need to generate a column called followed_back that tells if a user is also following a follower.</p>\n\n<p>This seems to be quite problematic in SQLAlchemy because there doesn't seem to be much in the documentation for creating SELECT AS statements along with joins. Also, I'm not really sure how one would reference the followed_back member variable once the object has been created by the query.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2328, "user_id": 588055, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/59cb532f828b150285d50c2f3911facb?s=128&d=identicon&r=PG", "display_name": "Zack Tanner", "link": "https://stackoverflow.com/users/588055/zack-tanner"}, "edited": false, "score": 0, "creation_date": 1435185343, "post_id": 31038208, "comment_id": 50100538, "body": "Your exception handler is catching an <code>UnboundLocalError</code> in addition to the <code>ValueError</code> that you are expecting."}], "answers": [{"comments": [{"owner": {"reputation": 125, "user_id": 5021781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64750df0bbd61e04cf47a949e985f458?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/5021781/shaun"}, "edited": false, "score": 0, "creation_date": 1435186697, "post_id": 31038288, "comment_id": 50100944, "body": "Ah, good point. So, if I understand this correctly, after the first incorrect value I&#39;ll have calc_grade() called prior to the remainder of the first call of calc_grade() finishing? If that&#39;s the case, then what cases the second non-numeric message to print?  It looks like I could resolve this issue with a return after the recursive calling of calc_grade(); does this method violate any best-practices for code development?"}], "tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": true, "score": 7, "last_activity_date": 1435185193, "creation_date": 1435185193, "answer_id": 31038288, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code/31038288#31038288", "title": "Error with simple Python code", "body": "<p>On any error that occurs, you call <code>calc_grade</code> recursively again, so if you entered an invalid input, you'd have several calls. Instead, you should handle faulty errors iteratively:</p>\n\n<pre><code>def calc_grade():\n    score = None\n    while score is None:     \n        try:\n            score = float(raw_input(\"Enter a score: \"))\n            if score &gt; 1.0:\n                print \"Error: Score cannot be greater than 1.\"\n                score = None\n        except:\n            print \"Error: Score must be a numeric value from 0 to 1.\"\n\n    # If we reached here, score is valid,\n    # continue with the rest of the code\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 5021781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64750df0bbd61e04cf47a949e985f458?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/5021781/shaun"}, "edited": false, "score": 0, "creation_date": 1435186912, "post_id": 31038360, "comment_id": 50101009, "body": "Thanks, Alan. I believe I have a partial understanding of how the recursion is biting me, but there&#39;s still a detail I&#39;m missing (see my response to @Mureink)."}, {"owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "reply_to_user": {"reputation": 125, "user_id": 5021781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64750df0bbd61e04cf47a949e985f458?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/5021781/shaun"}, "edited": false, "score": 0, "creation_date": 1435251923, "post_id": 31038360, "comment_id": 50134197, "body": "@Shaun I edited to add more explanation.  Hope this helps."}], "tags": [], "owner": {"reputation": 1257, "user_id": 4637583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/532a2d09f5168f19818a1e8cf2ebaabd?s=128&d=identicon&r=PG&f=1", "display_name": "Alan Hoover", "link": "https://stackoverflow.com/users/4637583/alan-hoover"}, "is_accepted": false, "score": 0, "last_activity_date": 1435251892, "last_edit_date": 1435251892, "creation_date": 1435185594, "answer_id": 31038360, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code/31038360#31038360", "title": "Error with simple Python code", "body": "<p>Recusion is biting you because you have additional code in your function after the recursion.  @Mureink 's answer is a valid way to handle this.  Another is to make the data input  action it's own function:</p>\n\n<pre><code>def get_input():\n    try:\n        score = float(raw_input(\"Enter a score: \"))\n        if score &gt; 1.0:\n            print \"Error: Score cannot be greater than 1.\"\n            return get_input()\n    except ValueError:\n        print \"Error: Score must be a numeric value from 0 to 1.\"\n        return get_input()\n    return score\n\ndef calc_grade():\n    score = get_input()\n    print \"\\nthe score is: %s\" % (score)\n    if score &gt;= 0.9:\n        print \"A\"\n    elif score &gt;= 0.8:\n        print \"B\"\n    elif score &gt;= 0.7:\n        print \"C\"\n    elif score &gt;= 0.6:\n        print \"D\"\n    else:\n        print \"F\"\n    return 0\ncalc_grade()\n</code></pre>\n\n<p>This technique returns the entered value when the user enters a valid value.  When they do not, it returns the value of calling <code>get_input()</code>.  this stacks up all the recursions ready to return whatever gets returned to them.  When the user finally enters a valid response, the entire recursion stack collapses returning the valid answer that the user entered.</p>\n\n<p>The call to <code>get_input()</code> within <code>calc_grade</code> will process until the user enters a valid answer.   At that time <code>get_input</code> will cease processing and return that valid user input to <code>calc_grade</code> for <code>calc_grade</code> to do its processing.</p>\n"}, {"tags": [], "owner": {"reputation": 336, "user_id": 3006162, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c8fc63411f15909f8e0b2d9747e04c6e?s=128&d=identicon&r=PG&f=1", "display_name": "izxle", "link": "https://stackoverflow.com/users/3006162/izxle"}, "is_accepted": false, "score": 0, "last_activity_date": 1435258054, "last_edit_date": 1435258054, "creation_date": 1435188863, "answer_id": 31038893, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code/31038893#31038893", "title": "Error with simple Python code", "body": "<p>You are forgetting that recursion doesn't terminate the previous call to the function. So when you call <code>calc_grade()</code> at the error you then return to the original <code>calc_grade()</code> to <code>print \"the score is:\"</code> and that's why it prints several times.</p>\n\n<p>Now, to fix your code, I'd just add some returs:</p>\n\n<pre><code>def calc_grade():\n    try:\n        score = float(raw_input(\"Enter a score: \"))\n        if score &gt; 1.0:\n            print \"Error: Score cannot be greater than 1.\"\n            calc_grade()\n            return\n    except:\n        print \"Error: Score must be a numeric value from 0 to 1.\"\n        calc_grade()\n        return    \n    print \"\\nthe score is: %s\" % (score)\n    if score &gt;= 0.9:\n        print \"A\"\n    elif score &gt;= 0.8:\n        print \"B\"\n    elif score &gt;= 0.7:\n        print \"C\"\n    elif score &gt;= 0.6:\n        print \"D\"\n    else:\n        print \"F\"\ncalc_grade()\n</code></pre>\n\n<p>Python doesn't require you to write anything after return, you can use it to simply exit the function.</p>\n\n<p>Also I recommend using <code>str.format</code> as oposed to the <code>%</code> formatting.</p>\n\n<p>This is how I'd do it without modifying your code too much:</p>\n\n<pre><code>def calc_grade():\n    try:\n        score = float(raw_input(\"Enter a score: \"))\n        if score &gt; 1.0:\n            raise TypeError\n    except ValueError:\n        print \"Error: Score must be a numeric value from 0 to 1.\"\n    except TypeError:\n        print \"Error: Score cannot be greater than 1.\"\n    except:\n        print \"Error: Unexpected error, try again.\"\n    else:\n        if score &gt;= 0.9:\n            score = \"A\"\n        elif score &gt;= 0.8:\n            score = \"B\"\n        elif score &gt;= 0.7:\n            score = \"C\"\n        elif score &gt;= 0.6:\n            score = \"D\"\n        else:\n            score = \"F\"\n        print \"the score is: {}\".format(score)\n        return\n    calc_grade()\n\ncalc_grade()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 450, "user_id": 1227207, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1941d0092896ad8e59460a793b51f600?s=128&d=identicon&r=PG", "display_name": "Sam Hazleton", "link": "https://stackoverflow.com/users/1227207/sam-hazleton"}, "is_accepted": false, "score": 1, "last_activity_date": 1435253410, "last_edit_date": 1435253410, "creation_date": 1435253057, "answer_id": 31056846, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code/31056846#31056846", "title": "Error with simple Python code", "body": "<p>Here's what happened:</p>\n\n<p>When you passed your function the value \"h\", the casting of \"h\" to <code>float</code> failed, which threw a ValueError.  Your <code>except</code> statement caught the error, and then called <code>calcGrade()</code> again.  This new call was given an argument of .8, and returned normally.  When the .8 call returned, it returned control back to the call the had received \"h\" as an argument.  That call then proceeded to execute its next instruction: <code>print \"\\nthe score is: %s\" % (score)</code>.  Since the cast to float had failed, score was never assigned.  Therefore, that call to <code>calcGrade()</code> throws an <code>UnboundLocalError</code>, which is then caught by its caller, which is the instance of <code>calcGrade()</code> that was passed the value 1.5 (as @ZackTanner pointed out).  Recall that the \"h\" call was called from inside the <code>try</code> block.</p>\n"}, {"tags": [], "owner": {"reputation": 290, "user_id": 5796943, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yUuzw.jpg?s=128&g=1", "display_name": "drewteriyaki", "link": "https://stackoverflow.com/users/5796943/drewteriyaki"}, "is_accepted": false, "score": 0, "last_activity_date": 1458695344, "creation_date": 1458695344, "answer_id": 36168067, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code/36168067#36168067", "title": "Error with simple Python code", "body": "<p><strong>First</strong>, you cannot call inside <code>calc_grade()</code>. That will run a bunch of errors. You can only call it once, but you can print it as many times as you want. <strong>Second</strong>, <code>try</code> and  <code>except</code> might not be the best way to do it. Try making a <code>class</code> and making functions from there. <code>try</code> and <code>except</code> will be run every time your code finished running. <strong>Third</strong>, if you run a number between any of those numbers it will <code>print</code> all the letter before the maximum. I have code that is similar to yours, it calculates 3 peoples scores. Here is a website to help you better understand Errors and Exceptions.\n<a href=\"https://docs.python.org/2/tutorial/errors.html\" rel=\"nofollow\">https://docs.python.org/2/tutorial/errors.html</a></p>\n\n<p><pre>Here is my code\n    lloyd = {\n        \"name\": \"Lloyd\",\n        \"homework\": [90.0, 97.0, 75.0, 92.0],\n        \"quizzes\": [88.0, 40.0, 94.0],\n        \"tests\": [75.0, 90.0]\n    }\n    alice = {\n        \"name\": \"Alice\",\n        \"homework\": [100.0, 92.0, 98.0, 100.0],\n        \"quizzes\": [82.0, 83.0, 91.0],\n        \"tests\": [89.0, 97.0]\n    }\n    tyler = {\n        \"name\": \"Tyler\",\n        \"homework\": [0.0, 87.0, 75.0, 22.0],\n        \"quizzes\": [0.0, 75.0, 78.0],\n        \"tests\": [100.0, 100.0]\n    }</p>\n\n<code># Add your function below!\ndef average(numbers):\n    total = sum(numbers)\n    total = float(total)\n    return total/len(numbers)\ndef get_average(student):\n    homework_ave=average(student[\"homework\"])\n    quizzes_ave=average(student[\"quizzes\"])\n    tests_ave=average(student[\"tests\"])\n    return 0.1 * average(student[\"homework\"]) + 0.3 *         average(student[\"quizzes\"]) + 0.6 * average(student[\"tests\"])\ndef get_letter_grade(score):\n    if 90 &lt;= score:\n        return \"A\"\n    elif 80 &lt;= score:\n        return \"B\"\n    elif 70 &lt;= score:\n        return \"C\"\n    elif 60 &lt;= score:\n        return \"D\"\n    else:\n        return \"F\"\nprint get_letter_grade(get_average(lloyd))\ndef get_class_average(students):\n    results = []\n    for student in students:\n        results.append(get_average(student))\n    return average(results)\nstudents = [lloyd, alice, tyler]\nprint get_class_average(students)\nprint get_letter_grade(get_class_average(students))\n</code></pre>\n"}], "owner": {"reputation": 125, "user_id": 5021781, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64750df0bbd61e04cf47a949e985f458?s=128&d=identicon&r=PG&f=1", "display_name": "Shaun", "link": "https://stackoverflow.com/users/5021781/shaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 31038288, "answer_count": 5, "score": 3, "last_activity_date": 1458695344, "creation_date": 1435184829, "last_edit_date": 1435185248, "question_id": 31038208, "link": "https://stackoverflow.com/questions/31038208/error-with-simple-python-code", "title": "Error with simple Python code", "body": "<p>I have a simple python (version 2.7.3) code that has an output that I can't figure out. The code prompts the user for a score (and will continue to do so if the input is anything other than a number from 0 to 1), determines the letter grade, and then exits. The code is as follows:</p>\n\n<pre><code>def calc_grade():\n    try:\n        score = float(raw_input(\"Enter a score: \"))\n        if score &gt; 1.0:\n            print \"Error: Score cannot be greater than 1.\"\n            calc_grade()\n    except:\n        print \"Error: Score must be a numeric value from 0 to 1.\"\n        calc_grade()\n\n    print \"\\nthe score is: %s\" % (score)\n    if score &gt;= 0.9:\n        print \"A\"\n    elif score &gt;= 0.8:\n        print \"B\"\n    elif score &gt;= 0.7:\n        print \"C\"\n    elif score &gt;= 0.6:\n        print \"D\"\n    else:\n        print \"F\"\n    return 0\ncalc_grade()\n</code></pre>\n\n<p>If I run this script an try the inputs: 1.5, h, 0.8, then I get the following output:</p>\n\n<pre><code>Enter a score: 1.5\nError: Score cannot be greater than 1.\nEnter a score: h\nError: Score must be a numeric value from 0 to 1.\nEnter a score: 0.8\n\nthe score is: 0.8\nB\nError: Score must be a numeric value from 0 to 1.\nEnter a score: 0.7\n\nthe score is: 0.7\nC\n\nthe score is: 1.5\nA\n</code></pre>\n\n<p>As you can see, after entering a valid value (0.8), the script prints out the correct grade (B), but then script doesn't end as I expect it to. Instead, it prints out the error message for a non-numeric value, and then prompts the user to enter a score again. If I enter another valid score (0.7 in this case), then script prints out the correct grade (C), and then prints out the first incorrect input (1.5) along with its grade (A).</p>\n\n<p>I can't, for the life of me, figure out what's causing this, \"functionality\". Any suggestions?</p>\n"}, {"tags": ["python", "web-crawler"], "comments": [{"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1435184963, "post_id": 31038205, "comment_id": 50100393, "body": "Your indentation is not correct. What is the <code>**</code> doing around <code>details(href)</code>? You cannot highlight code in code block. Or is that part of your python file?"}, {"owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1435185030, "post_id": 31038205, "comment_id": 50100414, "body": "I tried to bold it but the website just formatted it that way. In the actual code, it&#39;s not there."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1435185111, "post_id": 31038205, "comment_id": 50100441, "body": "And this is all in one file? With the details defined before spider?"}, {"owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 0, "creation_date": 1435185178, "post_id": 31038205, "comment_id": 50100468, "body": "Yes, this is all one file. Details isn&#39;t defined before spider, but its a separate function I&#39;m trying to call inside spider."}, {"owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1435185340, "post_id": 31038205, "comment_id": 50100536, "body": "That is the problem, move the <code>spider(1)</code> call down, as per my answer."}, {"owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "reply_to_user": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "edited": false, "score": 1, "creation_date": 1435185477, "post_id": 31038205, "comment_id": 50100582, "body": "Thanks! It works now. I&#39;ll accept your answer once the time limit is up."}], "answers": [{"comments": [{"owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "edited": false, "score": 0, "creation_date": 1435185203, "post_id": 31038257, "comment_id": 50100477, "body": "I&#39;m still getting the unresolved reference to self error :/"}, {"owner": {"reputation": 173, "user_id": 3403376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471e9231bc25096b21e731827b09d361?s=128&d=identicon&r=PG&f=1", "display_name": "sparklearner", "link": "https://stackoverflow.com/users/3403376/sparklearner"}, "reply_to_user": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "edited": false, "score": 0, "creation_date": 1435185282, "post_id": 31038257, "comment_id": 50100517, "body": "if you define everything under a class, such as              def spider(self, max_pages):  I believe, you didn&#39;t define spider well, too."}], "tags": [], "owner": {"reputation": 173, "user_id": 3403376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471e9231bc25096b21e731827b09d361?s=128&d=identicon&r=PG&f=1", "display_name": "sparklearner", "link": "https://stackoverflow.com/users/3403376/sparklearner"}, "is_accepted": false, "score": 1, "last_activity_date": 1435185060, "creation_date": 1435185060, "answer_id": 31038257, "question_id": 31038205, "link": "https://stackoverflow.com/questions/31038205/global-name-function-not-defined-error-python/31038257#31038257", "title": "Global Name &lt;function&gt; not defined error Python", "body": "<p>If you define detail function like this:</p>\n\n<pre><code>  def details(self, href):\n      ......\n</code></pre>\n\n<p>Then, you could call self.details. Although I don't quite get your error...</p>\n"}, {"tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": true, "score": 3, "last_activity_date": 1435185934, "last_edit_date": 1435185934, "creation_date": 1435185309, "answer_id": 31038307, "question_id": 31038205, "link": "https://stackoverflow.com/questions/31038205/global-name-function-not-defined-error-python/31038307#31038307", "title": "Global Name &lt;function&gt; not defined error Python", "body": "<p>Since you call <code>spider(1)</code> before the <code>def details()</code> in the file, that function <code>details()</code> is not known yet.</p>\n\n<p>You should at least move the call <code>spider(1)</code> behind the function definition starting with <code>def details()</code>, you can leave the <code>def spider():</code> lines before the <code>def details()</code> as long as calling <code>spider()</code> happens when everything needed by <code>spider()</code> is \"known\", i.e. parsed in the file processed so far.</p>\n"}], "owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1072, "favorite_count": 0, "accepted_answer_id": 31038307, "answer_count": 2, "score": 1, "last_activity_date": 1435185934, "creation_date": 1435184815, "last_edit_date": 1435185395, "question_id": 31038205, "link": "https://stackoverflow.com/questions/31038205/global-name-function-not-defined-error-python", "title": "Global Name &lt;function&gt; not defined error Python", "body": "<p>I have a function </p>\n\n<pre><code>def details(href):\n    response = requests.get(href)\n    soup = BeautifulSoup(response.content)\n    genre =  soup.find(text=\"Genre: \").next_sibling.text\n    print genre\n</code></pre>\n\n<p>that I am trying to call inside another function</p>\n\n<pre><code>def spider(max_pages):\n    page = 1\n    while page &lt;= max_pages:\n        url = 'http://www.boxofficemojo.com/yearly/chart/?page=' + str(page) + '&amp;view=releasedate&amp;view2=domestic&amp;yr=2013&amp;p=.htm'\n        source_code = requests.get(url)\n        plain_text = source_code.text\n        soup = BeautifulSoup(plain_text)\n        for link in soup.select('td &gt; b &gt; font &gt; a[href^=/movies/?]'):\n            href = 'http://www.boxofficemojo.com' + link.get('href')\n            details(href)\n            title = link.string\n            listOfTitles.append(title)\n        page += 1\nspider(1)\n</code></pre>\n\n<p>I am getting an error </p>\n\n<p>line 27, in \n    spider(1)\n  line 22, in spider\n    details(href)\nNameError: global name 'details' is not defined</p>\n\n<p>I already tried the self.details(href) method, but there was an additional error saying it could not resolve \"self\". How can I fix this?</p>\n"}, {"tags": ["python", "python-3.x", "sublimetext3"], "answers": [{"comments": [{"owner": {"reputation": 1615, "user_id": 2779792, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gHE8l.png?s=128&g=1", "display_name": "Matthew James Briggs", "link": "https://stackoverflow.com/users/2779792/matthew-james-briggs"}, "edited": false, "score": 0, "creation_date": 1435188435, "post_id": 31038331, "comment_id": 50101433, "body": "So far so good, but how do I &quot;change [my] .sublime-build file&quot;?"}, {"owner": {"reputation": 1615, "user_id": 2779792, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gHE8l.png?s=128&g=1", "display_name": "Matthew James Briggs", "link": "https://stackoverflow.com/users/2779792/matthew-james-briggs"}, "edited": false, "score": 0, "creation_date": 1435188738, "post_id": 31038331, "comment_id": 50101528, "body": "Actually this one gives the instructions on how to change the sublime-build setting <a href=\"http://stackoverflow.com/a/23790095/2779792\">stackoverflow.com/a/23790095/2779792</a>"}, {"owner": {"reputation": 1615, "user_id": 2779792, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gHE8l.png?s=128&g=1", "display_name": "Matthew James Briggs", "link": "https://stackoverflow.com/users/2779792/matthew-james-briggs"}, "edited": false, "score": 0, "creation_date": 1435189420, "post_id": 31038331, "comment_id": 50101687, "body": "By the way, this did solve my python build problem which is very strange because search results seem like I&#39;m the first person in the history of the Internet to have this issue.  All I did was install Python, install Sublime Text 3, and boom, it didn&#39;t work."}, {"owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "reply_to_user": {"reputation": 1615, "user_id": 2779792, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gHE8l.png?s=128&g=1", "display_name": "Matthew James Briggs", "link": "https://stackoverflow.com/users/2779792/matthew-james-briggs"}, "edited": false, "score": 0, "creation_date": 1435190401, "post_id": 31038331, "comment_id": 50101930, "body": "Sorry I&#39;ve been away for a bit, I&#39;m assuming you figured it out but essentially you just open up the <code>.sublime-build</code> file as a text file or with sublime or whatever you feel like doing and change the <code>&quot;cmd&quot;</code> line to <code>[&quot;py&quot;, &quot;-u&quot;, &quot;$file&quot;],</code>, for anyone interested."}], "tags": [], "owner": {"reputation": 1805, "user_id": 4954571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1ab63f3cd1beed60fc3c8be5a0cb0a1?s=128&d=identicon&r=PG&f=1", "display_name": "maccartm", "link": "https://stackoverflow.com/users/4954571/maccartm"}, "is_accepted": true, "score": 5, "last_activity_date": 1435185451, "last_edit_date": 1495541697, "creation_date": 1435185451, "answer_id": 31038331, "question_id": 31038176, "link": "https://stackoverflow.com/questions/31038176/change-sublime-3s-python-build-to-use-py-instead-of-python-as-the-command/31038331#31038331", "title": "Change Sublime 3&#39;s Python Build to use py instead of python as the command", "body": "<p>With Sublime Text 3, packages are zipped up in <code>.sublime-package</code> archives, making them invisible to you. Luckily, there is a package you can download to work around this:</p>\n\n<ol>\n<li><p>Download <a href=\"https://stackoverflow.com/questions/23789410/how-to-edit-sublime-text3-build-settings\">Package Resource Viewer</a> using <a href=\"https://packagecontrol.io/installation\" rel=\"nofollow noreferrer\">Package Control</a>.</p></li>\n<li><p><code>ctrl</code> + <code>shift</code> + <code>P</code>, type <code>PRV</code> and click <code>Extract Package</code>. Extract the <code>Python</code> package. </p></li>\n<li><p><code>Preferences</code> -> <code>Browse Packages</code>. Your <code>Python</code> folder should be here now. Open it, find <code>Python.sublime-build</code>.</p></li>\n<li><p>Now, I'm not 100% positive on this part, because I've never heard of this problem you're having, but you should be able to change your <code>.sublime-build</code> file as follows:</p>\n\n<pre><code>{\n    \"cmd\": [\"py\", \"-u\", \"$file\"],\n    \"file_regex\": \"^[ ]*File \\\"(...*?)\\\", line ([0-9]*)\",\n    \"selector\": \"source.python\"\n}\n</code></pre></li>\n</ol>\n\n<p>This should run it with <code>py -u \"C:\\Whatever\\yourFile.py\"</code> if I'm not mistaken.</p>\n"}], "owner": {"reputation": 1615, "user_id": 2779792, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/gHE8l.png?s=128&g=1", "display_name": "Matthew James Briggs", "link": "https://stackoverflow.com/users/2779792/matthew-james-briggs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1093, "favorite_count": 1, "accepted_answer_id": 31038331, "answer_count": 1, "score": 1, "last_activity_date": 1435185451, "creation_date": 1435184680, "question_id": 31038176, "link": "https://stackoverflow.com/questions/31038176/change-sublime-3s-python-build-to-use-py-instead-of-python-as-the-command", "title": "Change Sublime 3&#39;s Python Build to use py instead of python as the command", "body": "<p>I am using Python 3.4 and Sublime Text 3 in a Windows 7 machine.</p>\n\n<p>If I go to the cmd prompt and type</p>\n\n<pre><code>python \n</code></pre>\n\n<p>I get</p>\n\n<pre><code>'python' is not recognized as an internal or external command...\n</code></pre>\n\n<p>If I type </p>\n\n<pre><code>py\n</code></pre>\n\n<p>It works and I get</p>\n\n<pre><code>Python 3.4.3 (v3.4.3:9b73f1c3e601, Feb 24 2015, 22:44:40) [MSC v.1600 64 bit (AMD64)] on win32 Type \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n</code></pre>\n\n<p>When I use the Sublime 3 build command it issues the command </p>\n\n<pre><code>python -u \"C:\\Whatever\\MyPythonFile.py\"\n</code></pre>\n\n<p>Which does not work.  Apparently I need Sublime Text 3 to use the command 'py' instead of 'python' when building.</p>\n\n<p><strong>What are the exact steps I need to take to change Sublime Text 3 to get it to run python scripts in my environment using the build command?</strong></p>\n\n<p>I have been searching for quite a while and all I can find are instructions on how to add the python directory to PATH, which does not seem to be my problem.</p>\n"}, {"tags": ["python", "sql", "sqlalchemy"], "owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 607, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1435197605, "creation_date": 1435184591, "last_edit_date": 1435197605, "question_id": 31038157, "link": "https://stackoverflow.com/questions/31038157/connection-is-busy-with-results-for-another-hstmt-error-sqlalchemy", "title": "Connection is busy with results for another hstmt Error (SQLAlchemy)", "body": "<p>I am basically looking to write a dataframe into a SQL Object Table along with mapping its foreign key to the primary key of another table and am doing this using the code below. But, I get the error <code>sqlalchemy.exc.DBAPIError: (pyodbc.Error) ('HY000', '[HY000] [Microsoft][ODBC SQL Server Driver]Connection is busy with results for another hstmt (0)</code> in the line <code>connection.execute(yc_node_hist.__table__.insert(),fk_yc_update = listofindices3[i],curve_date = row1['Date'], tenor_years = row1['Maturity'], yield_pct = row1['Yield_pct'])</code>. I perform a sequence of <code>session.add_all()</code> into other tables prior to the code below.</p>\n\n<pre><code>#Retrieving the primary key for yc_update to set as foreign key for yc_node_hist\nsession.flush()\nsession.commit()\nsession = Session(bind=engine, expire_on_commit=False)\nlistofindices3 = []\n\nconnection = engine.connect()\ntrans = connection.begin()\n#Function to write a dataframe into SQL\ndef writingtosql_yc_node_hist(df):\n    i = 0\n    for (i1, row1), (i2, row2) in pairwise(df.iterrows()):\n        # take first item from row_iterator\n        if row1['Currency'] == row2['Currency']:\n            r1 = connection.execute(yc_node_hist.__table__.select())\n            connection.execute(yc_node_hist.__table__.insert(),fk_yc_update = listofindices3[i],curve_date = row1['Date'], tenor_years = row1['Maturity'], yield_pct = row1['Yield_pct'])                                \n        else:\n            i = i + 1\n            r1 = connection.execute(yc_node_hist.__table__.select())\n            connection.execute(yc_node_hist.__table__.insert(),fk_yc_update = listofindices3[i],curve_date = row1['Date'], tenor_years = row1['Maturity'], yield_pct = row1['Yield_pct'])   \n            trans.commit()    \n\nwritingtosql_yc_node_hist(combined_datafinal)\ntrans.close()\n</code></pre>\n"}, {"tags": ["python", "dictionary", "insert", "key"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435184532, "post_id": 31038110, "comment_id": 50100235, "body": "Are you sure that last segment worked for you? You assigned a key of <code>1</code> with a value of an empty <code>list</code>, but then you try to add to that <code>list</code> with dictionary notation. The output also seems fake, as it turned the integer key <code>1</code> into the string <code>&#39;1&#39;</code>."}, {"owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "edited": false, "score": 0, "creation_date": 1435184557, "post_id": 31038110, "comment_id": 50100242, "body": "Whats the values in dict <code>{&#39;A&#39; : 1, &#39;B&#39; : 5}</code> ? are they indices? if yes why not <code>B:4</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3700949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e943fc7a345a6be655b8fafe6fe43b?s=128&d=identicon&r=PG&f=1", "display_name": "user3700949", "link": "https://stackoverflow.com/users/3700949/user3700949"}, "edited": false, "score": 0, "creation_date": 1435189713, "post_id": 31038144, "comment_id": 50101755, "body": "Thanks. Dumb question in retrospect."}, {"owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "reply_to_user": {"reputation": 33, "user_id": 3700949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e943fc7a345a6be655b8fafe6fe43b?s=128&d=identicon&r=PG&f=1", "display_name": "user3700949", "link": "https://stackoverflow.com/users/3700949/user3700949"}, "edited": false, "score": 0, "creation_date": 1435200888, "post_id": 31038144, "comment_id": 50104266, "body": "I don&#39;t know if I agree. It takes awhile to build up a mental model of what the interpreter is doing so that when you read some code you have in mind all the variables&#39; values. If you&#39;re still learning, something like this tool can help with that (especially for recursion): <a href=\"http://www.pythontutor.com/\" rel=\"nofollow noreferrer\">pythontutor.com</a>"}], "tags": [], "owner": {"reputation": 6788, "user_id": 1748754, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jjk7p.jpg?s=128&g=1", "display_name": "erewok", "link": "https://stackoverflow.com/users/1748754/erewok"}, "is_accepted": false, "score": 1, "last_activity_date": 1435184978, "last_edit_date": 1435184978, "creation_date": 1435184497, "answer_id": 31038144, "question_id": 31038110, "link": "https://stackoverflow.com/questions/31038110/python-add-key-to-dict-conditionally/31038144#31038144", "title": "Python Add Key to Dict conditionally", "body": "<p>Your loop is overwriting this important variable and setting it to an empty dict:</p>\n\n<pre><code>cols[ run_number ] = {}\n</code></pre>\n\n<p>This means it gets through the \"A_\" strings for the various numbers and then when it's onto the \"B_\" strings, it overwrites all the <code>run_number</code> keys it already created for the \"A_\" strings.</p>\n\n<p>You should try something like the following instead:</p>\n\n<pre><code>if run_number not in cols:\n   cols[ run_number ] = {}\n</code></pre>\n\n<p>Alternately, you could try to use <a href=\"https://docs.python.org/3.5/library/collections.html\" rel=\"nofollow\">defaultdict</a></p>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 3403376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471e9231bc25096b21e731827b09d361?s=128&d=identicon&r=PG&f=1", "display_name": "sparklearner", "link": "https://stackoverflow.com/users/3403376/sparklearner"}, "is_accepted": false, "score": 1, "last_activity_date": 1435184795, "creation_date": 1435184795, "answer_id": 31038201, "question_id": 31038110, "link": "https://stackoverflow.com/questions/31038110/python-add-key-to-dict-conditionally/31038201#31038201", "title": "Python Add Key to Dict conditionally", "body": "<p>You should change to the following line of codes:</p>\n\n<pre><code> if run_number not in cols:\n     cols[ run_number ] = {}\n</code></pre>\n\n<p>I tested, the following code works:</p>\n\n<pre><code>for header in headers:\n   run_number = header[-1:]\n   if run_number not in cols:\n      cols[ run_number ] = {}\n   if \"A_\" in header:\n      cols[ run_number ][ 'A' ] = col_number\n   if \"B_\" in header:\n      cols[ run_number ][ 'B' ] = col_number\n   col_number += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 724, "user_id": 2744342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e46375ea8161701c62f0a0e0cde23f0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok--", "link": "https://stackoverflow.com/users/2744342/alok"}, "is_accepted": false, "score": 1, "last_activity_date": 1435185394, "creation_date": 1435185394, "answer_id": 31038319, "question_id": 31038110, "link": "https://stackoverflow.com/questions/31038110/python-add-key-to-dict-conditionally/31038319#31038319", "title": "Python Add Key to Dict conditionally", "body": "<p>First, you can use <code>enumerate()</code> to have Python automatically keep track of counting.  Second, as others said, you are overwriting your dictionary keys with a new one instead of adding to the existing dictionary.</p>\n\n<p>Something like following should work for your case:</p>\n\n<pre><code>cols = {}   \nfor col, header in enumerate(headers):\n    typ, _, key = header.partition('_')\n    if key not in cols:\n        cols[key] = {}\n    cols[key][typ] = col\n</code></pre>\n\n<p>With your data, <code>cols</code> is:</p>\n\n<pre><code>{'1': {'A': 0, 'B': 3}, '2': {'A': 1, 'B': 4}, '3': {'A': 2, 'B': 5}}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37, "user_id": 3875428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8M6mV.jpg?s=128&g=1", "display_name": "Professor Hex", "link": "https://stackoverflow.com/users/3875428/professor-hex"}, "is_accepted": false, "score": 0, "last_activity_date": 1435190022, "creation_date": 1435190022, "answer_id": 31039068, "question_id": 31038110, "link": "https://stackoverflow.com/questions/31038110/python-add-key-to-dict-conditionally/31039068#31039068", "title": "Python Add Key to Dict conditionally", "body": "<ol>\n<li><p>Because the \"run_number\" variable repeats, every time you loop and it repeats, you overwrite it with any empty dict.</p></li>\n<li><p>Below is a way to accomplish your objective.</p>\n\n<pre><code>def answer():\n    headers = [\"A_1\",\"A_2\",\"A_3\",\"B_1\",\"B_2\",\"B_3\"]\n    cols = {}\n    cols[1] = {}\n    cols[2] = {}\n    cols[3] = {}\n    for header in headers:\n        cols[int(header[-1:])][str(header[:-1])] = headers.index(header)\n\n    return cols\n\nprint answer()\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 33, "user_id": 3700949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e943fc7a345a6be655b8fafe6fe43b?s=128&d=identicon&r=PG&f=1", "display_name": "user3700949", "link": "https://stackoverflow.com/users/3700949/user3700949"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1435190022, "creation_date": 1435184249, "last_edit_date": 1435189844, "question_id": 31038110, "link": "https://stackoverflow.com/questions/31038110/python-add-key-to-dict-conditionally", "title": "Python Add Key to Dict conditionally", "body": "<p>I'm trying to generate a dict from a list of headers that \"associates\" columns of data to the same experiment. For example, I want to turn:</p>\n\n<pre><code>headers = [\"A_1\",\"A_2\",\"A_3\",\"B_1\",\"B_2\",\"B_3\"]\n</code></pre>\n\n<p>into </p>\n\n<pre><code>cols = { 1 : {'A' : 0, 'B' : 3}, 2: {'A' : 1, 'B' : 5} ... }\n</code></pre>\n\n<p>My code is as follows:</p>\n\n<pre><code>cols = {}\nheaders = [\"A_1\",\"A_2\",\"A_3\",\"B_1\",\"B_2\",\"B_3\"]\n\ncol_number = 0\nfor header in headers:\n   run_number = header[-1:]\n   cols[ run_number ] = {}\n\n   if \"A_\" in header:\n      cols[ run_number ][ 'A' ] = col_number\n   if \"B_\" in header:\n      cols[ run_number ][ 'B' ] = col_number\n\n   col_number += 1\nprint cols\n</code></pre>\n\n<p>This Outputs only the last \"B\" columns: </p>\n\n<pre><code>{'1': {'B':3}, '2':{'B':5}... }\n</code></pre>\n\n<p>HOWEVER, if I try a simple experiment at the command shell, this notation seems to work well...</p>\n\n<pre><code>cols = {}\ncols[1] = {}\ncols[1]['A'] = 1\ncols[1]['B'] = 2\nprint cols\n\n&gt;&gt; {'1' : {'A':1,'B':2} }\n</code></pre>\n\n<p>why?</p>\n\n<p><strong>EDIT:</strong> \nJust needed another set of eyes I guess. The issue was this line in the loop... </p>\n\n<pre><code>    cols[ run_number ] = {}\n</code></pre>\n\n<p>It overwrites cols[ run_number ] to an empty dict every time a column from a pre-existing run_number is reached. </p>\n"}, {"tags": ["javascript", "python", "qt", "opencv", "computer-vision"], "comments": [{"owner": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1435229230, "post_id": 31038079, "comment_id": 50117638, "body": "In summary it sounds like you are trying to standardise a set of images so that they all have have the same size, rotation, border and possibly even levels (think brightness/contrast). An OpenCV solution can be developed to achieve this."}, {"owner": {"reputation": 674, "user_id": 1932083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3096e0c9affa50c40be22f2501386061?s=128&d=identicon&r=PG", "display_name": "cengizkrbck", "link": "https://stackoverflow.com/users/1932083/cengizkrbck"}, "reply_to_user": {"reputation": 37454, "user_id": 4985733, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7daF.jpg?s=128&g=1", "display_name": "Martin Evans", "link": "https://stackoverflow.com/users/4985733/martin-evans"}, "edited": false, "score": 0, "creation_date": 1435271328, "post_id": 31038079, "comment_id": 50144235, "body": "@MartinEvans Yes. Exactly! You described more clear. Then, should i start learn openCV from zero, or should i look more specific part?"}], "answers": [{"comments": [{"owner": {"reputation": 674, "user_id": 1932083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3096e0c9affa50c40be22f2501386061?s=128&d=identicon&r=PG", "display_name": "cengizkrbck", "link": "https://stackoverflow.com/users/1932083/cengizkrbck"}, "edited": false, "score": 0, "creation_date": 1435190432, "post_id": 31038254, "comment_id": 50101937, "body": "I am working on teeth model. So, I have two image, before and after. I need to exactly cascaded images to measure and compare changes. Because, between to image shoot, camera or model can be moved :(.  Final comparision look alike [this][1][1]: <a href=\"http://www.abc.net.au/news/specials/typhoon-haiyan-photos-before-after/\" rel=\"nofollow noreferrer\">abc.net.au/news/specials/typhoon-haiyan-photos-before-after</a>"}, {"owner": {"reputation": 2944, "user_id": 5014959, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0452d1509d5759ec646b4638b4af6eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Alp", "link": "https://stackoverflow.com/users/5014959/alp"}, "reply_to_user": {"reputation": 674, "user_id": 1932083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3096e0c9affa50c40be22f2501386061?s=128&d=identicon&r=PG", "display_name": "cengizkrbck", "link": "https://stackoverflow.com/users/1932083/cengizkrbck"}, "edited": false, "score": 0, "creation_date": 1435190948, "post_id": 31038254, "comment_id": 50102071, "body": "Hmm.. then I don&#39;t think imagemagick will work for you. If either camera  or model can move, that brings another hurdle into the pile of problems: model in before image could look &quot;larger/smaller&quot; than the one after image. I still think that there might be some existing tools which can perform that kind of tasks for you (I am not sure about free/open source ones. But I expect there to be commercial ones). Again, my question holds: Is this like a project for you so that you HAVE to write this tool by yourself ? Or all you care is to find a tool and get job done ?"}, {"owner": {"reputation": 674, "user_id": 1932083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3096e0c9affa50c40be22f2501386061?s=128&d=identicon&r=PG", "display_name": "cengizkrbck", "link": "https://stackoverflow.com/users/1932083/cengizkrbck"}, "edited": false, "score": 0, "creation_date": 1435271053, "post_id": 31038254, "comment_id": 50144132, "body": "i have not write by myself. I am open to use existing solutions. So, getting jobe done is first aim :)"}], "tags": [], "owner": {"reputation": 2944, "user_id": 5014959, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/0452d1509d5759ec646b4638b4af6eb4?s=128&d=identicon&r=PG&f=1", "display_name": "Alp", "link": "https://stackoverflow.com/users/5014959/alp"}, "is_accepted": false, "score": 0, "last_activity_date": 1435276830, "last_edit_date": 1435276830, "creation_date": 1435185039, "answer_id": 31038254, "question_id": 31038079, "link": "https://stackoverflow.com/questions/31038079/how-to-detect-and-crop-an-object-from-image/31038254#31038254", "title": "How to detect and crop an object from image?", "body": "<p>Use image processing to identify the solid line (you may need to apply various filters, detect edges etc). </p>\n\n<p>When you identify the center line (or ruler - it really does not matter which), you have to decide how much you are going to rotate the image and in which direction (you didn't mention any of this info). Let's say, you decided to rotate in clock wise direction for 13 degrees. I am sure opencv has tools to do so. </p>\n\n<p>And choose the language you are the most proficient (you are lucky as <a href=\"https://en.wikipedia.org/wiki/OpenCV\" rel=\"nofollow\">opencv supports more than one</a>), as it will lower the things that you will struggle while you are dealing with a monster problem: image processing. </p>\n\n<p>Good luck.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Your questions are way too broad. You are talking about \"more than one concept/task\". So, I can't give you a list (I am using the word <strong>list</strong> here on purpose) of example codes for all the concepts you need to implement. </p>\n\n<p>However I ask you this question: what is your aim? To write a custom image processing tool for processing above (or similar) images? Or all you care is to process these image somehow? For the latter case, you may want to check out imagemgick. As name suggests, it does a lot of magic. (Imagemagick is an free image processing tool and <a href=\"http://www.imagemagick.org/script/index.php\" rel=\"nofollow\">you can find it here</a> )</p>\n\n<p><strong>Update (2)</strong></p>\n\n<p>Please take a look at <a href=\"http://rsb.info.nih.gov/ij/index.html\" rel=\"nofollow\">imageJ</a>. <strong>If you can not open this link via your normal browser, try using TOR browser!</strong></p>\n"}], "owner": {"reputation": 674, "user_id": 1932083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3096e0c9affa50c40be22f2501386061?s=128&d=identicon&r=PG", "display_name": "cengizkrbck", "link": "https://stackoverflow.com/users/1932083/cengizkrbck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 779, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1435276830, "creation_date": 1435184122, "last_edit_date": 1592644375, "question_id": 31038079, "link": "https://stackoverflow.com/questions/31038079/how-to-detect-and-crop-an-object-from-image", "title": "How to detect and crop an object from image?", "body": "<p>First background info;\nI will have images like <img src=\"https://i.stack.imgur.com/IbdF1.jpg\" alt=\"enter image description here\" />\nImages include,</p>\n<ul>\n<li>an object to work (model on image)</li>\n<li>a static line centered (shown in image)</li>\n<li>an solid and easily detectable object (i painted a red rectengular)</li>\n</ul>\n<p>Questions,\nHow to detect and rotate images by centered line or solid object? (90\u00b0)</p>\n<p>How to crop rotated images starting from object edge?</p>\n<p>Note:\nI am really empty with computer vision, so i know my question is very silly!\nAny language or platform solutions will be appreciated(javascript or python preferred)</p>\n<p>Thanks ALL!</p>\n<p>edit:rotate info</p>\n"}, {"tags": ["python", "rabbitmq"], "comments": [{"owner": {"reputation": 12931, "user_id": 1472222, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b0970aeafe38e05589964ef6ec1ec3b4?s=128&d=identicon&r=PG", "display_name": "theMayer", "link": "https://stackoverflow.com/users/1472222/themayer"}, "edited": false, "score": 1, "creation_date": 1435186281, "post_id": 31038064, "comment_id": 50100818, "body": "Perhaps poke around at the javascript and see what it is doing with the output from the api?"}], "answers": [{"comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 1, "creation_date": 1435255361, "post_id": 31045751, "comment_id": 50136197, "body": "Yes I did the same thing. Just looked at the <code>json</code> for <code>idle_since</code>. If its there, then the queue is marked as <code>IDLE</code> , otherwise its <code>RUNNING</code>"}], "tags": [], "owner": {"reputation": 18402, "user_id": 1858116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fQDZf.jpg?s=128&g=1", "display_name": "Gabriele Santomaggio", "link": "https://stackoverflow.com/users/1858116/gabriele-santomaggio"}, "is_accepted": true, "score": 10, "last_activity_date": 1435222869, "creation_date": 1435222869, "answer_id": 31045751, "question_id": 31038064, "link": "https://stackoverflow.com/questions/31038064/rabbitmq-queues-state-shows-as-running-gui-shows-status-as-idle/31045751#31045751", "title": "Rabbitmq - queues state shows as &#39;running&#39; , GUI shows status as IDLE", "body": "<p>Check the Management_console source code here: <a href=\"https://github.com/rabbitmq/rabbitmq-management/blob/master/priv/www/js/formatters.js#L479\" rel=\"noreferrer\">https://github.com/rabbitmq/rabbitmq-management/blob/master/priv/www/js/formatters.js#L479</a> </p>\n\n<pre><code>function fmt_object_state(obj) {\n    if (obj.state == undefined) return '';\n\n    var colour = 'green';\n    var text = obj.state;\n    var explanation;\n\n    if (obj.idle_since !== undefined) {\n        colour = 'grey';\n        explanation = 'Idle since ' + obj.idle_since;\n        text = 'idle';\n    } \n</code></pre>\n\n<p>The console shows \"idle\" if the field <code>idle_since</code> is not null.</p>\n\n<p>If there is \"traffic\" in your queue you will have a json like that:</p>\n\n<pre><code>      \"policy\":\"\",\n      \"exclusive_consumer_tag\":\"\",\n      \"consumers\":0,\n      \"consumer_utilisation\":\"\",\n      \"memory\":176456,\n      \"recoverable_slaves\":\"\",\n      \"state\":\"running\", \n</code></pre>\n\n<p>if the queue is in idle (without traffic) you will have a json like that: </p>\n\n<pre><code>      \"idle_since\":\"2015-06-25 10:15:07\",\n      \"consumer_utilisation\":\"\",\n      \"policy\":\"\",\n      \"exclusive_consumer_tag\":\"\",\n      \"consumers\":0,\n      \"recoverable_slaves\":\"\",\n      \"state\":\"running\",\n</code></pre>\n\n<p>As you can see the field <code>\"idle_since\"</code> is not null.</p>\n\n<p>In both cases the queue is always in <code>running</code> state.</p>\n\n<p>In conclusion it is just a web-view formatting.</p>\n"}], "owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11740, "favorite_count": 2, "accepted_answer_id": 31045751, "answer_count": 1, "score": 9, "last_activity_date": 1435222869, "creation_date": 1435184073, "last_edit_date": 1435188562, "question_id": 31038064, "link": "https://stackoverflow.com/questions/31038064/rabbitmq-queues-state-shows-as-running-gui-shows-status-as-idle", "title": "Rabbitmq - queues state shows as &#39;running&#39; , GUI shows status as IDLE", "body": "<p>I was playing around the rabbitmq HTTP API and came across a weird scenario. When I look at my queues through the web interface, the status of both of them shows as IDLE. <img src=\"https://i.stack.imgur.com/rOjEa.png\" alt=\"queue status IDLE\">. </p>\n\n<p>However when I use the HTTP API, the return for both the queue shows as 'running'. The code im using is below:</p>\n\n<pre><code>import requests\nimport json\n\nuri = 'http://localhost:15672/api/queues'\n\nr = requests.get(uri, auth=(\"guest\",\"guest\"))\n\nparsed = json.loads(r.content)\n#print json.dumps(parsed, indent=4)\nfor i in parsed:\n    print '{:&lt;20} : {}'.format(i.get('name'), i.get('state'))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>test queue           : running\ntest2                : running\n</code></pre>\n\n<p>Can someone explain this behaviour to me?</p>\n"}, {"tags": ["python", "directory", "filenames"], "comments": [{"owner": {"reputation": 209, "user_id": 3170442, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/lWRjZ.jpg?s=128&g=1", "display_name": "Katpoes", "link": "https://stackoverflow.com/users/3170442/katpoes"}, "edited": false, "score": 1, "creation_date": 1435183771, "post_id": 31037931, "comment_id": 50099927, "body": "Without any refresh? Could you specify that any further. You should continuously or periodically check the size of the directory for example or compare two indexed lists to see If anything was added or removed."}], "answers": [{"tags": [], "owner": {"reputation": 50175, "user_id": 1307905, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a38a4f5f180194ac457cdc057f1be6e3?s=128&d=identicon&r=PG", "display_name": "Anthon", "link": "https://stackoverflow.com/users/1307905/anthon"}, "is_accepted": false, "score": 0, "last_activity_date": 1435184291, "last_edit_date": 1435184291, "creation_date": 1435183986, "answer_id": 31038043, "question_id": 31037931, "link": "https://stackoverflow.com/questions/31037931/how-to-list-certain-files-in-a-directory-dynamically-in-python/31038043#31038043", "title": "How to list (certain) files in a directory dynamically in Python?", "body": "<p>You need to get notified by the OS that the directory and/or some files changed. </p>\n\n<ul>\n<li>On Linux you can use <a href=\"https://pypi.python.org/pypi/pyinotify\" rel=\"nofollow\">pyinotify</a></li>\n<li>On OSX you can do that with <a href=\"https://pypi.python.org/pypi/MacFSEvents\" rel=\"nofollow\">MACFSEvents</a></li>\n<li>On Windows (.Net) you can try to interface with FileSystemWatcher, but I am not aware of any specific libraries for that.</li>\n</ul>\n\n<p>And a platform independent solutions is <a href=\"https://pypi.python.org/pypi/watchdog\" rel=\"nofollow\">watchdog</a></p>\n\n<p>Hooking that into your program is non-trivial, but the examples of watchdog are clear and that means there is no need for polling.</p>\n"}, {"tags": [], "owner": {"reputation": 227, "user_id": 4999239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26eed1c0dd760c96c05a23f560893ddd?s=128&d=identicon&r=PG&f=1", "display_name": "khol", "link": "https://stackoverflow.com/users/4999239/khol"}, "is_accepted": true, "score": 0, "last_activity_date": 1435184149, "creation_date": 1435184149, "answer_id": 31038085, "question_id": 31037931, "link": "https://stackoverflow.com/questions/31037931/how-to-list-certain-files-in-a-directory-dynamically-in-python/31038085#31038085", "title": "How to list (certain) files in a directory dynamically in Python?", "body": "<p>Your code looks good so far. If you want to do this programmatically (avoiding pynotify or signal handling), the simplest way to maintain a directory listing in your application is via polling the directory.</p>\n\n<p>So, your code might look like:</p>\n\n<pre><code>import os\nimport time\n\n## run indefinitely\nwhile True:\n    ## get the directory listing\n    pdffiles = [name for name in os.listdir('somedir')\n               if name.endswith('.pdf')]\n\n    ## print the most recent listing\n    for file in pdffiles:\n        print(file)\n\n    ## wait a little bit before getting the next listing\n    ## if you want near instantaneous updates, make the sleep value small.\n    time.sleep(1)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4673380, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153096777814526/picture?type=large", "display_name": "MertTheGerat", "link": "https://stackoverflow.com/users/4673380/mertthegerat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 31038085, "answer_count": 2, "score": 1, "last_activity_date": 1435184402, "creation_date": 1435183417, "last_edit_date": 1435184402, "question_id": 31037931, "link": "https://stackoverflow.com/questions/31037931/how-to-list-certain-files-in-a-directory-dynamically-in-python", "title": "How to list (certain) files in a directory dynamically in Python?", "body": "<p>I am trying to list (let's say) PDF files in a directory (to a GUI). I know I can manage that with in different ways (like below) but I also want the list is to be current and dynamic. For instance, if someone deletes a PDF file from or adds a PDF file to the directory, I want the application to delete or add the file name to the list instantly, without any refresh.</p>\n\n<p><strong>Do you know any ways to manage that?</strong></p>\n\n<p>Here is some of my code:</p>\n\n<pre><code>import os\n\npdffiles = [name for name in os.listdir('somedir')\n               if name.endswith('.pdf')]\n\nfor file in pdffiles:\n    print(file)\n</code></pre>\n\n<p>I am in a learning progress.</p>\n"}, {"tags": ["python", "matlab", "numpy"], "comments": [{"owner": {"reputation": 13210, "user_id": 764322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a059b390ab24839995cfe14e261ffe41?s=128&d=identicon&r=PG", "display_name": "Imanol Luengo", "link": "https://stackoverflow.com/users/764322/imanol-luengo"}, "edited": false, "score": 0, "creation_date": 1435184434, "post_id": 31037924, "comment_id": 50100201, "body": "It might have to do with how matlab and python handle boundary conditions in the <code>diff</code> operator."}, {"owner": {"reputation": 2400, "user_id": 3858883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c557e8778fa8aa819d0e14d4bf3fe64?s=128&d=identicon&r=PG&f=1", "display_name": "nicolas", "link": "https://stackoverflow.com/users/3858883/nicolas"}, "edited": false, "score": 2, "creation_date": 1435187354, "post_id": 31037924, "comment_id": 50101136, "body": "In Matlab, &#39; is the conjugate transpose."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 13210, "user_id": 764322, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a059b390ab24839995cfe14e261ffe41?s=128&d=identicon&r=PG", "display_name": "Imanol Luengo", "link": "https://stackoverflow.com/users/764322/imanol-luengo"}, "edited": false, "score": 0, "creation_date": 1435189817, "post_id": 31037924, "comment_id": 50101782, "body": "@imaluengo - MATLAB and <code>numpy</code> compute <code>diff</code> the same way for 1D arrays."}, {"owner": {"reputation": 13, "user_id": 5046480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c7428f1d8b98ff6cbbaab4ecd08573?s=128&d=identicon&r=PG&f=1", "display_name": "user5046480", "link": "https://stackoverflow.com/users/5046480/user5046480"}, "reply_to_user": {"reputation": 2400, "user_id": 3858883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c557e8778fa8aa819d0e14d4bf3fe64?s=128&d=identicon&r=PG&f=1", "display_name": "nicolas", "link": "https://stackoverflow.com/users/3858883/nicolas"}, "edited": false, "score": 0, "creation_date": 1435213933, "post_id": 31037924, "comment_id": 50108290, "body": "@seb Using <code>.conj().transpose()</code> didn&#39;t work either :("}, {"owner": {"reputation": 2400, "user_id": 3858883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c557e8778fa8aa819d0e14d4bf3fe64?s=128&d=identicon&r=PG&f=1", "display_name": "nicolas", "link": "https://stackoverflow.com/users/3858883/nicolas"}, "edited": false, "score": 1, "creation_date": 1435246777, "post_id": 31037924, "comment_id": 50130939, "body": "Then provide a minimal example"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5046480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c7428f1d8b98ff6cbbaab4ecd08573?s=128&d=identicon&r=PG&f=1", "display_name": "user5046480", "link": "https://stackoverflow.com/users/5046480/user5046480"}, "edited": false, "score": 0, "creation_date": 1435213507, "post_id": 31038699, "comment_id": 50108078, "body": "I could only use hstack by reshaping recall: <code>np.hstack( [0, recall.reshape((10000,))] )</code>. That ,possibly because of what you said, gave me the same wrong answer."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 13, "user_id": 5046480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c7428f1d8b98ff6cbbaab4ecd08573?s=128&d=identicon&r=PG&f=1", "display_name": "user5046480", "link": "https://stackoverflow.com/users/5046480/user5046480"}, "edited": false, "score": 1, "creation_date": 1435228141, "post_id": 31038699, "comment_id": 50116967, "body": "@user5046480 - You didn&#39;t tell me that <code>recall</code> is a 2D array with a singleton dimension.  Either way, I&#39;m not sure what else is wrong. Sorry.  If you want me to help further, please <b>give us the data you used to reconstruct your error</b>."}, {"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "reply_to_user": {"reputation": 13, "user_id": 5046480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c7428f1d8b98ff6cbbaab4ecd08573?s=128&d=identicon&r=PG&f=1", "display_name": "user5046480", "link": "https://stackoverflow.com/users/5046480/user5046480"}, "edited": false, "score": 0, "creation_date": 1435262022, "post_id": 31038699, "comment_id": 50139892, "body": "@user5046480 - Interesting.  You accepted my answer.  Thanks!  What happened?  How did you end up fixing it?"}], "tags": [], "owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "is_accepted": true, "score": 0, "last_activity_date": 1435248345, "last_edit_date": 1435248345, "creation_date": 1435187709, "answer_id": 31038699, "question_id": 31037924, "link": "https://stackoverflow.com/questions/31037924/matlab-python-translation-error/31038699#31038699", "title": "Matlab-Python translation error", "body": "<p>That code looks a bit messy.  Try replacing it with this:</p>\n\n<pre><code>AP[queryIdx] = np.dot(np.diff(np.hstack([0, recall.ravel()])), prec.ravel())\n</code></pre>\n\n<p>In your post, you mentioned that you have a 1000 x 1 array for both <code>recall</code> and <code>prec</code>.  This to me is interpreted as a 2D array with a singleton dimension: the second dimension.  As such, you'd need to convert this back to a 1D array using <code>ravel</code>.  </p>\n\n<p>Now, <code>np.hstack</code> horizontally stacks 1D arrays together and so this will append a 0 at the front, then apply the <code>diff</code> operator, and the perform the dot product with <code>prec</code>.  </p>\n\n<p>One common gotcha that MATLAB coders have with <code>numpy</code> is the representation of 1D arrays in <code>numpy</code>.  There is no such thing as the transpose of a 1D array.  All <code>numpy</code> 1D arrays are row vectors.  If you explicitly want to make the 1D array a column vector, you need to include an additional dimension and make the second dimension 1, then transpose it.  Something like this:</p>\n\n<pre><code>r = v[:][None].T\n</code></pre>\n\n<hr>\n\n<p>In any case, let's verify the results:</p>\n\n<h1>MATLAB</h1>\n\n<pre><code>&gt;&gt; recall = (1:1000).';\n&gt;&gt; prec = (1000:-1:1).';\n&gt;&gt; diff([0; recall].')*prec\n\nans =\n\n      500500\n</code></pre>\n\n<h1>Python (IPython)</h1>\n\n<pre><code>In [1]: import numpy as np\n\nIn [2]: recall = np.arange(1,1001)\n\nIn [3]: prec = np.arange(1000,0,-1)\n\nIn [4]: np.dot(np.diff(np.hstack([0, recall.ravel()])), prec.ravel())\nOut[4]: 500500\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5046480, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/65c7428f1d8b98ff6cbbaab4ecd08573?s=128&d=identicon&r=PG&f=1", "display_name": "user5046480", "link": "https://stackoverflow.com/users/5046480/user5046480"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 31038699, "answer_count": 1, "score": 0, "last_activity_date": 1435262018, "creation_date": 1435183389, "last_edit_date": 1435262018, "question_id": 31037924, "link": "https://stackoverflow.com/questions/31037924/matlab-python-translation-error", "title": "Matlab-Python translation error", "body": "<p><strong>Matlab Code:</strong></p>\n\n<pre><code>AP(queryIdx) = diff([0;recall]')*prec\n</code></pre>\n\n<p><strong>My python code:</strong></p>\n\n<pre><code>AP[queryIdx] = np.dot(np.diff(np.concatenate(([[0]], recall), axis=0).transpose()),prec)\n</code></pre>\n\n<p><strong>Variables:</strong>(Checked and am quite sure they are equivalent in python and in Matlab)</p>\n\n<pre><code>Recall: 1000x1 np array*\nprec: 1000x1 np array\n</code></pre>\n\n<p>* prints out as [[.],.....,[.]]</p>\n\n<p><strong>Results:</strong>\n    Matlab: .1011\n    Python:  0.05263158</p>\n\n<p>Only cause I can think of outside of the code is that python uses more\nprecision, but I doubt that would make such a large difference)</p>\n\n<p>*Edit There was a problem with my prec variable. The above code worked</p>\n"}, {"tags": ["python", "arrays", "nearest-neighbor"], "comments": [{"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1435183696, "post_id": 31037844, "comment_id": 50099903, "body": "You could always pad your grid with a border of cells which are always 0"}], "answers": [{"comments": [{"owner": {"reputation": 3123, "user_id": 3014930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002154102563/picture?type=large", "display_name": "f.rodrigues", "link": "https://stackoverflow.com/users/3014930/f-rodrigues"}, "edited": false, "score": 1, "creation_date": 1435186659, "post_id": 31038077, "comment_id": 50100929, "body": "Works like a charm.  A minor change is in rightside, it should be <code>rightside = min(end + 2, len(t_field) - 1)</code> because the index is exclusively."}], "tags": [], "owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "is_accepted": true, "score": 1, "last_activity_date": 1435184121, "creation_date": 1435184121, "answer_id": 31038077, "question_id": 31037844, "link": "https://stackoverflow.com/questions/31037844/nxn-array-check-neighbors-cells/31038077#31038077", "title": "NxN array check neighbors cells", "body": "<p>Assuming you put your code in a function:</p>\n\n<pre><code> leftside = max(0, start -1)\n rightside = min(end + 1, len(t_field) - 1)\n\n if row &gt;= 1:\n     if any(t_field[row -1][leftside:rightside]): return True\n if row &lt; len(t_field) - 1:\n     if any(t_field[row + 1][leftside:rightside]): return True\n return False\n</code></pre>\n"}], "owner": {"reputation": 3123, "user_id": 3014930, "user_type": "registered", "accept_rate": 91, "profile_image": "https://graph.facebook.com/100002154102563/picture?type=large", "display_name": "f.rodrigues", "link": "https://stackoverflow.com/users/3014930/f-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 31038077, "answer_count": 1, "score": 0, "last_activity_date": 1435184121, "creation_date": 1435183038, "last_edit_date": 1435183662, "question_id": 31037844, "link": "https://stackoverflow.com/questions/31037844/nxn-array-check-neighbors-cells", "title": "NxN array check neighbors cells", "body": "<p>I have an NxN array (t_field), with cells that are filled with either 0 or 1.</p>\n\n<p>I want to check if any neighbors of a Entity in range is filled or not.</p>\n\n<p>Entity is a sequence of 1's that have a (row, start), (row, end), and I want to check the row above, the row bellow, but within the constrains of start-1 and end + 1:</p>\n\n<pre><code>contacts = [t_field[row_n - 1][start-1:end+2], \n            t_field[row_n + 1][start-1:end+2]]\n</code></pre>\n\n<p>But if I'm at row 0 I don't want it to check row-1, since this would look at the end of the grid. in that case it would only check row 1; or vice versa, if row is n(the size of the grid), it would trow and IndexError when checking row+1</p>\n\n<p>The same goes for start/end, if the start is 0 I don't want to check -1, since it would look at the opposite side of the grid. I just want check end+2. Or vice versa.</p>\n\n<pre><code>start = column_n - length + 1\nend = column_n\n\nupperrow = row_n - 1\nlowerrow = row_n + 1\n\nif upperrow &lt; 0:\n    upperrow = None\nif lowerrow &gt;= len(t_field):\n    lowerrow = None\n\nleftside = start - 1\nrightside = end + 2\nif leftside &lt; 0:\n    leftside = None\nif rightside &gt;= len(t_field):\n    rightside = None\n\nif upperrow is not None and lowerrow is not None:\n    if leftside is not None and rightside is not None:\n        contacts = [t_field[upperrow][leftside:rightside],\n                    t_field[lowerrow][leftside:rightside]]\n    elif leftside is None and rightside is not None:\n        contacts = [t_field[upperrow][0:rightside],\n                    t_field[lowerrow][0:rightside]]\n    elif leftside is not None and rightside is None:\n        contacts = [t_field[upperrow][leftside:end + 1],\n                    t_field[lowerrow][leftside:end + 1]]\nelif upperrow is None and lowerrow is not None:\n    if leftside is not None and rightside is not None:\n        contacts = [t_field[lowerrow][leftside:rightside]]\n    elif leftside is None and rightside is not None:\n        contacts = [t_field[lowerrow][0:rightside]]\n    elif leftside is not None and rightside is None:\n        contacts = [t_field[lowerrow][leftside:end + 1]]\nelif upperrow is not None and lowerrow is None:\n    if leftside is not None and rightside is not None:\n        contacts = [t_field[upperrow][leftside:rightside]]\n    elif leftside is None and rightside is not None:\n        contacts = [t_field[upperrow][0:rightside]]\n    elif leftside is not None and rightside is None:\n        contacts = [t_field[upperrow][leftside:end + 1]]\n\nif any(itertools.chain(*contacts)):\n   return True\n</code></pre>\n\n<p>This works fine, but it's utterly ugly. Very repetitive code, and very hard to read/understad what's going on.</p>\n\n<p>As you can see, there's 3 lines that is what I want, and at least 30 that are what I had to write to make those 3 lines work.</p>\n\n<p><img src=\"https://i.stack.imgur.com/P80EC.png\" alt=\"Grid\"></p>\n\n<p>In this image I show What I'm looking for. Entity is the gray area, the neighbors are the red area. I want to check if the neighbors are filled or not.</p>\n\n<p><strong>What's the proper way to get those neighbors?</strong></p>\n"}, {"tags": ["python", "testing", "import"], "answers": [{"tags": [], "owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "is_accepted": false, "score": 1, "last_activity_date": 1435195765, "last_edit_date": 1435195765, "creation_date": 1435194835, "answer_id": 31039652, "question_id": 31037773, "link": "https://stackoverflow.com/questions/31037773/import-examples-for-testing-python/31039652#31039652", "title": "Import examples for testing (Python)", "body": "<p>You can put your variable/graph pairs in their own python files and import them into your main file.</p>\n\n<p>Ex.</p>\n\n<p>example1.py</p>\n\n<pre><code>A = nx.Graph([...])\nB = nx.Graph([...])\n</code></pre>\n\n<p>example2.py</p>\n\n<pre><code>A = nx.Graph([...])\nB = nx.Graph([...])\n</code></pre>\n\n<p>main.py</p>\n\n<pre><code>import example1 as ex1\nimport example2 as ex2\n\nclass foo:\n    ...\n\nx = foo(ex1.A, ex2.B)\nx.plot()\n</code></pre>\n\n<p>If you really want user to specify which graph pair to use at command line, take a look at <a href=\"https://docs.python.org/3/library/argparse.html\" rel=\"nofollow\">argparse</a> and <a href=\"https://docs.python.org/3/library/importlib.html\" rel=\"nofollow\">importlib</a></p>\n\n<pre><code>import argparse\nimport importlib\nimport foo\n\nparser = argparse.ArgumentParser(description='Example app')\nparser.add_argument('input', nargs=1)\nargs = parse.parse_args()\n\nmod = importlib.import_module(args.input)\nx = foo(mod.A, mod.B)\nx.plot()\n</code></pre>\n"}], "owner": {"reputation": 438, "user_id": 2888125, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/919887501d23bbad1df751cbb89208e2?s=128&d=identicon&r=PG&f=1", "display_name": "sebastian", "link": "https://stackoverflow.com/users/2888125/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435195765, "creation_date": 1435182735, "question_id": 31037773, "link": "https://stackoverflow.com/questions/31037773/import-examples-for-testing-python", "title": "Import examples for testing (Python)", "body": "<p>For the following problem I am unable to find an answer.<br>\nI have my program to do various stuff to graphs in one file. After my class definition and functions I have my basic structure of which functions to call on a pair of graphs.<br>\nNow I want to have different extra files with a pair of graphs in each to show different aspects of my program.<br>\nHow do I get that file into my main program as if the code that is in the extra files was in my main program?<br>\nI know, it is a basic problem but I never dealt with this before.</p>\n\n<p>For illustration:</p>\n\n<pre><code>class foo:\n    def __init__(stuff)\n\n    def plot(self):\n        ...\n\n    more stuff\n\n# I want the following in an extra file #\n# Two equal graphs\n\nA = nx.Graph([(0, 1), (1, 2), (2, 3), (3, 7), (3, 4), (4, 5), (5, 6)])\nB = nx.Graph([(0, 1), (1, 2), (2, 3), (3, 7), (3, 4), (4, 5), (5, 6)])\n# That's it\n\nx = foo(A, B)\nx.plot\n</code></pre>\n\n<p>If I could also specify the file I want to load via command line, that would be even better.</p>\n"}, {"tags": ["android", "python", "scale", "kivy", "screen-density"], "answers": [{"comments": [{"owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "edited": false, "score": 0, "creation_date": 1435186337, "post_id": 31038234, "comment_id": 50100838, "body": "This gives me more hope that dp and size_hint could solve my issue. However, I notice that when messing around with &#39;python main.py -m screen:etc.&#39; that screens like nexus7.2 and nexus7 make my game look overly wide(over stretched), and the game seems less playable. This is what started me wondering about how to detect the screen size/dpi/density. If I could detect a screen over a certian size, perhaps I could make relevant changes to the width(for instance) of the screen."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 2, "last_activity_date": 1435184941, "creation_date": 1435184941, "answer_id": 31038234, "question_id": 31037748, "link": "https://stackoverflow.com/questions/31037748/proper-usage-of-metrics-with-kivyso-gui-scales-well-across-devices/31038234#31038234", "title": "Proper usage of metrics with Kivy(So GUI scales well across devices)", "body": "<p>Using size_hint alone already guarantees a degree of scale independence, as (as you note) all the sizes will be relative.</p>\n\n<p>Kivy internally checks some resolution related values of the device, and this is basically the point of dp; something like <code>dp(10)</code> for instance should be the same <em>actual</em> size on any device, in terms of real size on the screen in e.g. centimetres. This won't actually be quite right, if nothing else I think devices don't report precisely right results, but unless this is very important it will already take care of making things mostly look the same anywhere.</p>\n\n<p>I'm not sure what you mean about setting the App size - in Android's window manager an App just fills the screen (at least in most cases).</p>\n"}], "owner": {"reputation": 6509, "user_id": 2208850, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mqtCW.jpg?s=128&g=1", "display_name": "Totem", "link": "https://stackoverflow.com/users/2208850/totem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435184941, "creation_date": 1435182664, "question_id": 31037748, "link": "https://stackoverflow.com/questions/31037748/proper-usage-of-metrics-with-kivyso-gui-scales-well-across-devices", "title": "Proper usage of metrics with Kivy(So GUI scales well across devices)", "body": "<p>I am trying to get my game to look/scale well across different devices. I am attempting to introduce the <code>dp</code> and <code>sp</code> metrics into my apps as much as possible, but in this case I am refactoring a game to use these metrics for layout and widget sizing. </p>\n\n<p>Where before, my layouts were sized using <code>size_hint</code> in order to have everything get it's size relative to it's parent(the app itself is not given a size, nor is the window, but the root widget/layout has <code>size_hint=(1, 1)</code>), I am now faced with replacing this system with <code>dp</code> values, and can't figure out what they should be. </p>\n\n<p>I am thinking, that if I just size the <em>root widget</em>, <em>App</em> itself, or <em>Window</em> with <code>dp</code>, then I could continue to use <code>size_hint</code>ing, as this would have a trickle down effect and scale everything correctly from the top on down, so to speak. And for this, It seemed like getting the resolution or density of a devices screen would be a great help(so I could use it to size my root widget/App/Window, per device). Is that possible with Kivy? Will this work? Is there a better way? What would you do? Thanks</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 104532, "user_id": 653364, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/7a7a675bc479a30c1389d4c64f612a95?s=128&d=identicon&r=PG", "display_name": "joris", "link": "https://stackoverflow.com/users/653364/joris"}, "edited": false, "score": 3, "creation_date": 1435183091, "post_id": 31037740, "comment_id": 50099673, "body": "Are you sure this is not an issue with how the line is displayed in your editor? (eg long line that is wrapped)"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1425, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435184083, "creation_date": 1435182628, "question_id": 31037740, "link": "https://stackoverflow.com/questions/31037740/python-pandas-dataframe-to-csv-newline-issue", "title": "python pandas.DataFrame.to_csv newline issue", "body": "<p>Greeting Dear community.</p>\n\n<p>I need to write a python pandas.DataFrame into csv\nI try to use something like this:</p>\n\n<pre><code>dfPRR.to_csv(prrDumpName,index=False,quotechar=\"'\",quoting=csv.QUOTE_ALL)\n</code></pre>\n\n<p>It works fine in some sample but for other sample with long string. I encounter the issue that one record breaks into 2 or 3 different line.</p>\n\n<p>what I want my output file:</p>\n\n<pre><code>'RcdLn','GrpPIR','w_id','fwf_id','part_typ','l_id','head_num','site_num','filename'\n'2','0','01','demo_fwf_id','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'1100','1','01','demo_fwf_id','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'2198','2','01','demo_fwf_id','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'3296','3','01','demo_fwf_id','demo_part_typ','demo_l_id','1','0','longdemofilename'\n</code></pre>\n\n<p>Instead what I get...the file breaking into two seperate line::</p>\n\n<pre><code>'RcdLn','GrpPIR','w_id','fwf_id','part_typ','l_id','head_num','site_num','filename'\n'2','0','01','demo_fwf_id\n','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'1100','1','01','demo_fwf_id\n','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'2198','2','01','demo_fwf_id\n','demo_part_typ','demo_l_id','1','0','longdemofilename'\n'3296','3','01','demo_fwf_id\n','demo_part_typ','demo_l_id','1','0','longdemofilename'\n</code></pre>\n\n<p>Is there an option to tell to_csv use a specific record delimitor ?\nI do not see that option in documentation of to_csv</p>\n\n<p>What my goal is to create a csv and then a loader program will load the csv\nAs for now, the loader program cannot load the file when this happens. As it is not able to tell the record is finish or not..?</p>\n\n<p>I see other sample file that the record does not break into 2 or 3 lines when the string is not as long. This is the desired behavior. \nHow I can enforce this ??</p>\n"}, {"tags": ["python", "django", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "edited": false, "score": 0, "creation_date": 1435183250, "post_id": 31037851, "comment_id": 50099738, "body": "When are ChoiceField and MultipleChoiceField model fields useful then, if not when several choices are to be considered?"}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "edited": false, "score": 1, "creation_date": 1435183878, "post_id": 31037851, "comment_id": 50099973, "body": "@ManasChaturvedi Form fields and model fields are two entirely different things. There are no <code>ChoiceField</code> or <code>MultipleChoiceField</code> model fields, only form fields."}, {"owner": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "edited": false, "score": 0, "creation_date": 1435184045, "post_id": 31037851, "comment_id": 50100037, "body": "And when are those form fields applicable? Basically, I want to know why those form fields weren&#39;t applicable in my case where multiple choices were supposed to be given to users in the form."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "reply_to_user": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "edited": false, "score": 3, "creation_date": 1435184255, "post_id": 31037851, "comment_id": 50100130, "body": "@ManasChaturvedi But they are applicable, in your form. Not in your model. A form field represent a visual (well, html) representation of how that data is presented to the user. A model field represent how data is saved in the database. A <code>ChoiceField</code> doesn&#39;t  make any sense in a model, as a <code>Choice</code> is not something your database can save."}, {"owner": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "edited": false, "score": 0, "creation_date": 1435184330, "post_id": 31037851, "comment_id": 50100165, "body": "Oh okay. I get it now. Thanks !"}], "tags": [], "owner": {"reputation": 10311, "user_id": 1730172, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/bFvaZ.jpg?s=128&g=1", "display_name": "Alvaro", "link": "https://stackoverflow.com/users/1730172/alvaro"}, "is_accepted": true, "score": 4, "last_activity_date": 1435183070, "creation_date": 1435183070, "answer_id": 31037851, "question_id": 31037732, "link": "https://stackoverflow.com/questions/31037732/django-module-object-has-no-attribute-choicefield-multiplechoicefield/31037851#31037851", "title": "Django: &#39;module&#39; object has no attribute &#39;ChoiceField&#39;, &#39;MultipleChoiceField&#39;", "body": "<p>The models define database level types.</p>\n\n<p>You must specify the data type of the model and you can specify the choices with the \"choices\" kwarg.</p>\n\n<p>So, your models should look like this:</p>\n\n<pre><code>from django.db import models\n\nclass Evangelized(models.Model):\n    GENDER_CHOICES = (('M', 'Male'), ('F', 'Female'), ('U', 'Unisex/Parody'))\n    gender = models.CharField(max_length=1, choices=GENDER_CHOICES)\n</code></pre>\n\n<p>For the case of the multiple choice field you can use a <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#commaseparatedintegerfield\" rel=\"nofollow\">CommaSeparatedIntegerField</a>.</p>\n\n<p>I suggest you take a look at the <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#django.db.models.Field.choices\" rel=\"nofollow\">docs</a> for models with choices</p>\n"}, {"tags": [], "owner": {"reputation": 437, "user_id": 3081328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DcC2w.jpg?s=128&g=1", "display_name": "Hunter_71", "link": "https://stackoverflow.com/users/3081328/hunter-71"}, "is_accepted": false, "score": 3, "last_activity_date": 1435183481, "last_edit_date": 1435183481, "creation_date": 1435183119, "answer_id": 31037862, "question_id": 31037732, "link": "https://stackoverflow.com/questions/31037732/django-module-object-has-no-attribute-choicefield-multiplechoicefield/31037862#31037862", "title": "Django: &#39;module&#39; object has no attribute &#39;ChoiceField&#39;, &#39;MultipleChoiceField&#39;", "body": "<p>You should use <strong>models.CharField</strong> instead :-) <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#choices\" rel=\"nofollow\">see documentation</a></p>\n\n<pre><code>gender = models.CharField(max_length=1, choices=GENDER_CHOICES)\n</code></pre>\n"}], "owner": {"reputation": 4070, "user_id": 2537356, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/08dbce8b72a70e232d49317791cf2550?s=128&d=identicon&r=PG", "display_name": "Manas Chaturvedi", "link": "https://stackoverflow.com/users/2537356/manas-chaturvedi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8699, "favorite_count": 0, "accepted_answer_id": 31037851, "answer_count": 2, "score": 1, "last_activity_date": 1435183481, "creation_date": 1435182616, "last_edit_date": 1435182985, "question_id": 31037732, "link": "https://stackoverflow.com/questions/31037732/django-module-object-has-no-attribute-choicefield-multiplechoicefield", "title": "Django: &#39;module&#39; object has no attribute &#39;ChoiceField&#39;, &#39;MultipleChoiceField&#39;", "body": "<p>I'm trying to create radio buttons and checkboxes into my forms, and am trying to use the model fields <code>ChoiceField</code> and <code>MultipleChoiceField</code> respectively for the same. </p>\n\n<p>forms.py</p>\n\n<pre><code>from django import forms\nfrom rango.models import Evangelized\n\nclass EvangelizedForm(forms.ModelForm):\n    gender = forms.ChoiceField(widget=forms.RadioSelect(\n                 choices=Evangelized.GENDER_CHOICES), help_text=\"Gender\")\n    area_of_interest = forms.MultipleChoiceField(widget=forms.CheckboxSelectMultiple(\n                                                    choices=Evangelized.AREA_CHOICES), help_text=\"Areas of interest(Upto 3)\")\n</code></pre>\n\n<p>models.py</p>\n\n<pre><code>from django.db import models\n\nclass Evangelized(models.Model):\n    GENDER_CHOICES = (('M', 'Male'), ('F', 'Female'), ('U', 'Unisex/Parody'))\n    gender = models.ChoiceField(choices=GENDER_CHOICES)\n    AREA_CHOICES = (('Govt', 'Govt'), ('Entertainment', 'Entertainment'), ('Automobile', 'Automobile'),\n                        ('Careers', 'Careers'), ('Books', 'Books'), ('Family', 'Family'), ('Food', 'Food'),\n                            ('Gaming', 'Gaming'), ('Beauty', 'Beauty'), ('Sports', 'Sports'), ('Events', 'Events'),\n                                ('Business', 'Business'), ('Travel', 'Travel'), ('Health', 'Health'), ('Technology','Technology'))\n    area_of_interest = models.MultipleChoiceField(choices=AREA_CHOICES)\n</code></pre>\n\n<p>However, I'm getting the following errors while working with each type of model field respectively:</p>\n\n<pre><code> 'module' object has no attribute 'ChoiceField'\n\n\n\n'module' object has no attribute 'MultipleChoiceField'\n</code></pre>\n\n<p>What seems to be wrong with my code? </p>\n"}, {"tags": ["python", "subprocess", "popen"], "comments": [{"owner": {"reputation": 100, "user_id": 2014759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExVqt.jpg?s=128&g=1", "display_name": "SBH", "link": "https://stackoverflow.com/users/2014759/sbh"}, "edited": false, "score": 0, "creation_date": 1435182717, "post_id": 31037691, "comment_id": 50099532, "body": "Is the &quot;run_server&quot; command directly what you would put into shell? No ./run_server or anything?"}, {"owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "reply_to_user": {"reputation": 100, "user_id": 2014759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExVqt.jpg?s=128&g=1", "display_name": "SBH", "link": "https://stackoverflow.com/users/2014759/sbh"}, "edited": false, "score": 0, "creation_date": 1435182842, "post_id": 31037691, "comment_id": 50099584, "body": "@SBHayes Yes, the run_server is all."}, {"owner": {"reputation": 100, "user_id": 2014759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExVqt.jpg?s=128&g=1", "display_name": "SBH", "link": "https://stackoverflow.com/users/2014759/sbh"}, "edited": false, "score": 0, "creation_date": 1435183502, "post_id": 31037691, "comment_id": 50099837, "body": "Ok, I think I understand your question better now.  When the script calling Popen terminates, it will close all its children processes too.  To keep your server running you have to detach the process somehow.  Perhaps a double fork or something similar."}], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "edited": false, "score": 0, "creation_date": 1435183118, "post_id": 31037824, "comment_id": 50099683, "body": "same issue as I&#39;ve mentioned above. Because <code>p1</code> still hasn&#39;t terminated yet (at least according to the <code>run_server</code> script it hasn&#39;t), it&#39;ll take the <code>ls</code> as an interrupt and terminate the run_server script and exit the server."}, {"owner": {"reputation": 100, "user_id": 2014759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExVqt.jpg?s=128&g=1", "display_name": "SBH", "link": "https://stackoverflow.com/users/2014759/sbh"}, "reply_to_user": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "edited": false, "score": 0, "creation_date": 1435183305, "post_id": 31037824, "comment_id": 50099770, "body": "@Krin123 Can you explain that again? I thought you wanted to send &quot;ls&quot; and get the script to end afterwards?"}, {"owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "edited": false, "score": 0, "creation_date": 1435183499, "post_id": 31037824, "comment_id": 50099836, "body": "sorry, I guess what I said was misleading. For now, all I want is <code>ls</code> since it&#39;s the simplest thing to run, but after I would also like to run more command lines. So the script ending is not desirable since I have many more command lines to run."}], "tags": [], "owner": {"reputation": 100, "user_id": 2014759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ExVqt.jpg?s=128&g=1", "display_name": "SBH", "link": "https://stackoverflow.com/users/2014759/sbh"}, "is_accepted": false, "score": 0, "last_activity_date": 1435182949, "creation_date": 1435182949, "answer_id": 31037824, "question_id": 31037691, "link": "https://stackoverflow.com/questions/31037691/python-subprocess-popen-not-working/31037824#31037824", "title": "Python subprocess.Popen not working", "body": "<p>The fact that when you Ctrl+C and your traceback says you were stuck in wait() means the next line is executing, the next line is wait(). wait() won't return until your p1 process returns.  However, it seems your p1 process won't return until you send it a command, 'ls' in your case.  Try sending the command then calling wait().:</p>\n\n<pre><code>import subprocess\nfrom time import sleep\n\np1 = subprocess.Popen(\"run_server\", \n                      stdout = subprocess.PIPE, \n                      stdin = subprocess.PIPE)\n#sleep(1)\np1.communicate(input = \"ls\")[0]\"\np1.wait()\n</code></pre>\n\n<p>Otherwise, make sure your \"run_server\" script terminates so your script can advance past p1.wait()</p>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "edited": false, "score": 0, "creation_date": 1435245414, "post_id": 31048658, "comment_id": 50129934, "body": "Thank you! I only had the <code>wait</code> call because of the nature of <code>run_server</code> script, but in the end joining the list of commands turned out to work fine before the script terminated itself. Thanks a bunch!"}], "tags": [], "owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "is_accepted": true, "score": 1, "last_activity_date": 1435245507, "last_edit_date": 1435245507, "creation_date": 1435230544, "answer_id": 31048658, "question_id": 31037691, "link": "https://stackoverflow.com/questions/31037691/python-subprocess-popen-not-working/31048658#31048658", "title": "Python subprocess.Popen not working", "body": "<p><code>p.wait()</code> does not return until the child process is dead. While the parent script is stuck on <code>p.wait()</code> call; your child process expects input at the same time -- deadlock. Then you press <code>Ctrl+C</code> in the shell; it sends <code>SIGINT</code> signal to all processes in the foreground process group that kills both your parent Python script and <code>run_server</code> subprocess. </p>\n\n<p>You should drop the <code>.wait()</code> call:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom subprocess import Popen, PIPE\n\np = Popen([\"run_server\"], stdout=PIPE, stdin=PIPE)\noutput = p.communicate(b\"ls\")[0]\n</code></pre>\n\n<p>Or in Python 3.4+:</p>\n\n<pre><code>#!/usr/bin/env python3\nfrom subprocess import check_output\n\noutput = check_output([\"run_server\"], input=b\"ls\")\n</code></pre>\n\n<p>If you want to run several commands then pass them all at once:</p>\n\n<pre><code>input = \"\\n\".join([\"ls\", \"cmd2\", \"etc\"]) # with universal_newlines=True\n</code></pre>\n\n<p>As you know from reading the <code>subprocess</code> docs, <code>p.communicate()</code> waits for the child process to exit and therefore it should be called at most once. As well as with <code>.wait()</code>, the child process is dead after <code>.communicate()</code> has returned.</p>\n"}], "owner": {"reputation": 265, "user_id": 4119051, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ec500a484329dffe68839729bfe43772?s=128&d=identicon&r=PG&f=1", "display_name": "Krin123", "link": "https://stackoverflow.com/users/4119051/krin123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2486, "favorite_count": 0, "accepted_answer_id": 31048658, "answer_count": 2, "score": 0, "last_activity_date": 1435245507, "creation_date": 1435182495, "question_id": 31037691, "link": "https://stackoverflow.com/questions/31037691/python-subprocess-popen-not-working", "title": "Python subprocess.Popen not working", "body": "<p>I've been reading up on a lot of documentations but am still not sure what I'm doing wrong.</p>\n\n<p>So I have a separate shell script that fires up a separate server then the one I'm working on. Once the server is connected, I want to run ls and that's it. However, for some reason stdin=subprocess.PIPE is preventing the Popen command from terminating so that the next line could execute. For example because the code is stuck I'll Ctrl+C but I'll get an error saying that <code>wait()</code> got a keyboard interrupt. Here's an example code:</p>\n\n<pre><code>import subprocess\nfrom time import sleep\n\np1 = subprocess.Popen(\"run_server\", \n                      stdout = subprocess.PIPE, \n                      stdin = subprocess.PIPE)\n#sleep(1)\np1.wait()\np1.communicate(input = \"ls\")[0]\"\n</code></pre>\n\n<p>If I replace <code>p1.wait()</code> with <code>sleep(1)</code>, the <code>communicate</code> command does run and displays ls, but the script that runs the server detects eof on tty and terminates it self. I must have some kind of wait between Popen and communicate because the server script will terminate for the same reason.  </p>\n"}, {"tags": ["python", "eclipse", "numpy", "pydev", "shadowing"], "comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 1, "creation_date": 1509509840, "post_id": 31037617, "comment_id": 81043407, "body": "1) You created a local numpy.py which <i>shadowed</i> the package of the same name. 1,2) I didn&#39;t know that Eclipse wasn&#39;t smart enough to delete the corresponding .pyc when you delete the .py file. But I guess it doesn&#39;t update the build. You should file a bug on that, it&#39;s a good catch. 3) Never shadow a package or other source file."}], "answers": [{"comments": [{"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 1, "creation_date": 1509743500, "post_id": 31037707, "comment_id": 81159469, "body": "That is called an <i>orphaned</i> .pyc file. Eclipse/PyDev now actually has a setting to handle these. See my answer."}], "tags": [], "owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "is_accepted": true, "score": 1, "last_activity_date": 1435182520, "creation_date": 1435182520, "answer_id": 31037707, "question_id": 31037617, "link": "https://stackoverflow.com/questions/31037617/pydev-on-eclipse-running-wrong-deleted-file-which-shadowed-numpy-library/31037707#31037707", "title": "Pydev on Eclipse running wrong (deleted) file which shadowed numpy library", "body": "<p>I'm the OP. Found a solution after a few minutes of posting this question. </p>\n\n<p>Browsed to the folder containing the code. I noticed that there was a <strong>.pyc</strong> file for the numpy.pyc I had created earlier. Deleted that one and things are working file now.</p>\n\n<p><img src=\"https://i.stack.imgur.com/FI6je.jpg\" alt=\"enter image description here\"></p>\n\n<p>However I'd still like to know how to avoid situations like this or resolve directly through eclipse. Though it works now!</p>\n"}, {"tags": [], "owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "is_accepted": false, "score": 0, "last_activity_date": 1509756341, "last_edit_date": 1509756341, "creation_date": 1509743543, "answer_id": 47104478, "question_id": 31037617, "link": "https://stackoverflow.com/questions/31037617/pydev-on-eclipse-running-wrong-deleted-file-which-shadowed-numpy-library/47104478#47104478", "title": "Pydev on Eclipse running wrong (deleted) file which shadowed numpy library", "body": "<p>This is called an <em>orphaned</em> .pyc file. Eclipse/PyDev now has a setting to automatically handle these (as of Oxygen / v4.7):</p>\n\n<pre><code>PyDev &gt; Builders &gt; \"How to handle .pyc/$py.class deletion?\" :\n  Delete any orphaned .pyc file\n</code></pre>\n\n<p>Knowing Eclipse, presumably that action only gets triggered when you or it refreshes or restarts the workspace, or triggers a rebuild. There are some switches to try to make that automatic too. Or Eclipse > Restart if all else fails.</p>\n"}], "owner": {"reputation": 2776, "user_id": 1043400, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ba794b3d5a3e9aae706e5811d5f2d166?s=128&d=identicon&r=PG", "display_name": "Aditya", "link": "https://stackoverflow.com/users/1043400/aditya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 1, "accepted_answer_id": 31037707, "answer_count": 2, "score": 2, "last_activity_date": 1509756341, "creation_date": 1435182168, "last_edit_date": 1509509923, "question_id": 31037617, "link": "https://stackoverflow.com/questions/31037617/pydev-on-eclipse-running-wrong-deleted-file-which-shadowed-numpy-library", "title": "Pydev on Eclipse running wrong (deleted) file which shadowed numpy library", "body": "<p>I just committed a major noob blunder while playing around with basic functionalities of NumPy. I created a small file called \"numpy.py\" just so that play around with problems related to numpy. I could also later come back for reference - and the name would have helped. Obvious error :-</p>\n\n<pre><code>import numpy\n  File \"C:\\Users\\USERNAME\\workspace\\StackOverflow\\python\\numpy.py\", line 25, in &lt;module&gt;\nAttributeError: 'module' object has no attribute 'random'\n</code></pre>\n\n<p>I realized the problem - python was considering my current code as actual numpy and looking for random. I deleted that file and created a new one.</p>\n\n<p>And the problem persists. This image explains it better than my words would.\n<img src=\"https://i.stack.imgur.com/PxHOQ.jpg\" alt=\"enter image description here\"></p>\n\n<p>Now there's a completely new file with a different name - but still it's looking for some methods in the deleted file. </p>\n\n<p>I've already tried:</p>\n\n<ul>\n<li>Cleaning the Project </li>\n<li>Restarting Eclipse</li>\n<li>Run another .py (successfully) and then this one again</li>\n<li>Removed all the conflicting files, created a totally new file. Still same. If the program contains <strong>import numpy</strong>, it would give same error.</li>\n</ul>\n\n<p>I'd like to know (1) What actually happened wrong here? Why is eclipse so confused (2) How to resolve? (3) What are the best practices in such situations? </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 7, "creation_date": 1435182365, "post_id": 31037609, "comment_id": 50099350, "body": "I guess <code>1.</code> is greedily parsed to a float number, and then <code>real</code> is missing the <code>.</code>, whereas <code>1 .real</code> parses <code>1</code> as an <code>int</code>. Spaces are not allowed around decimal point, but you can have spaces before and after &#39;method accessor dot&#39; (for lack of a better name)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1435182465, "post_id": 31037609, "comment_id": 50099397, "body": "This has been asked before, I think repeatedly. I&#39;m having trouble finding the dupes, though."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1435182557, "post_id": 31037609, "comment_id": 50099450, "body": "Probably one of these: <a href=\"http://stackoverflow.com/questions/13390458/why-doesnt-2-add-3-work-in-python\" title=\"why doesnt 2 add 3 work in python\">stackoverflow.com/questions/13390458/&hellip;</a> or <a href=\"http://stackoverflow.com/questions/26255693/attribute-access-on-int-literals\" title=\"attribute access on int literals\">stackoverflow.com/questions/26255693/&hellip;</a>"}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 2, "creation_date": 1435182631, "post_id": 31037609, "comment_id": 50099489, "body": "try: <code>(1).real</code> or <code>1.0.real</code> or <code>1..real</code> (they are all the same)"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 4, "creation_date": 1435182770, "post_id": 31037609, "comment_id": 50099553, "body": "There are arguments to change this behavior, but if you make <code>1.real</code> an attribute access, then <code>1.e4</code> looks like an attribute access, and perfectly fine code that used to produce <code>10000.0</code> suddenly produces an AttributeError. It&#39;s not worth the hassle. I&#39;m pretty sure Ruby allows this kind of access, since ints have more interesting methods over there; I&#39;m not sure what they do to handle it."}, {"owner": {"reputation": 46776, "user_id": 1014938, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FqCGF.png?s=128&g=1", "display_name": "Zero Piraeus", "link": "https://stackoverflow.com/users/1014938/zero-piraeus"}, "edited": false, "score": 1, "creation_date": 1435182998, "post_id": 31037609, "comment_id": 50099638, "body": "Possibly also useful: <a href=\"http://stackoverflow.com/questions/10955703/accessing-a-python-int-literals-methods\" title=\"accessing a python int literals methods\">stackoverflow.com/questions/10955703/&hellip;</a>"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 3, "creation_date": 1435183625, "post_id": 31037609, "comment_id": 50099878, "body": "Aside: Please try to avoid clickbait question titles -- that is to say, please try to add enough information that someone can have a reasonable idea of whether a question is interesting or applicable to them <i>before</i> they click to open it. I&#39;ve attempted to edit this to do so here."}, {"owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1435183866, "post_id": 31037609, "comment_id": 50099969, "body": "@CharlesDuffy Sorry about that."}, {"owner": {"reputation": 56659, "user_id": 450128, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2f72b3fdc99fe9fd1bbeb2f9da1d2c0a?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/450128/ben"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1435187375, "post_id": 31037609, "comment_id": 50101142, "body": "@user2357112 From brief experimentation, Ruby allows <code>1.real</code> by disallowing <code>1.</code> as syntax for a floating point number. So <code>1.e4</code> can <i>only</i> be a call of the <code>e4</code> method on <code>1</code>."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "edited": false, "score": 0, "creation_date": 1435218016, "post_id": 31037609, "comment_id": 50110709, "body": "Note: the same exact thing happens basically in <b>most</b> damn languages. I believe I read exactly the same thing about javascript just the other day. That&#39;s simply the way in which float and attribute accesses are parsed by <i>most</i> languages out there."}, {"owner": {"reputation": 18939, "user_id": 2756409, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UIrGI.jpg?s=128&g=1", "display_name": "TylerH", "link": "https://stackoverflow.com/users/2756409/tylerh"}, "edited": false, "score": 1, "creation_date": 1492786594, "post_id": 31037609, "comment_id": 74143842, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/43487811/what-is-python-dot-dot-notation-syntax\">What is python .. (&quot;dot dot&quot;) notation syntax?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "edited": false, "score": 0, "creation_date": 1435182600, "post_id": 31037690, "comment_id": 50099480, "body": "why does <code>1.real</code> cause a syntax error if there&#39;s a member called <code>real</code>?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435182616, "post_id": 31037690, "comment_id": 50099483, "body": "<code>[0-9].[0-9]</code> is how a float is defined it partially matches and fails you cannot do direct attribute lookups on integers without letting the interpretter somehow know that its an attribute and not a float"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1435182663, "post_id": 31037690, "comment_id": 50099498, "body": "type <code>dir(int())</code> you will see many methods ... you cannot access any of them as <code>1.xxxx</code> however you can access any of them with <code>1 .xxxx</code> or <code>(1).xxxxx</code>"}, {"owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "edited": false, "score": 1, "creation_date": 1435182694, "post_id": 31037690, "comment_id": 50099515, "body": "Ahh, because the <code>.</code> in the floating point takes precedent over the <code>.</code> in attribute lookup."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435182759, "post_id": 31037690, "comment_id": 50099546, "body": "yes effectively at least since evaluating the type is a very high precedence operation ... (really I dont think precedence is the way to describe it, however before you can look up attributes, the interpreter must know what its looking up attributes on)"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1435184034, "post_id": 31037690, "comment_id": 50100031, "body": "@JoranBeasley Ohhh. So <code>1.real</code> is like writing <code>1. real</code> which is invalid."}, {"owner": {"reputation": 5425, "user_id": 2580133, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XFYiU.png?s=128&g=1", "display_name": "PythonNut", "link": "https://stackoverflow.com/users/2580133/pythonnut"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1435193584, "post_id": 31037690, "comment_id": 50102703, "body": "@JoranBeasley is that <code>[0-9]+.[0-9]+|.[0-9]+|[0-9]+.</code>?"}, {"owner": {"reputation": 2806, "user_id": 703382, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/602bb755b4fbab9ae9239173076996ea?s=128&d=identicon&r=PG", "display_name": "Navin", "link": "https://stackoverflow.com/users/703382/navin"}, "edited": false, "score": 1, "creation_date": 1435196664, "post_id": 31037690, "comment_id": 50103336, "body": "@kindall The point is that most people resolve syntax ambiguities with parentheses. Not with whitespace."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 11, "last_activity_date": 1435188491, "last_edit_date": 1435188491, "creation_date": 1435182493, "answer_id": 31037690, "question_id": 31037609, "link": "https://stackoverflow.com/questions/31037609/why-is-1-real-a-syntax-error-but-1-real-valid-in-python/31037690#31037690", "title": "Why is &quot;1.real&quot; a syntax error but &quot;1 .real&quot; valid in Python?", "body": "<p>With <code>1.real</code> Python is looking for a floating-point numeric literal like <code>1.0</code> and you can't have an <code>r</code> in a float. With <code>1 .real</code> Python has taken <code>1</code> as an integer and is doing the attribute lookup on that.</p>\n\n<p>It's important to note that the floating-point syntax error handling happens before the <code>.</code> attribute lookup.</p>\n"}, {"comments": [{"owner": {"reputation": 6315, "user_id": 1555990, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a743aed2f5b809958ebb17d4d952b7b2?s=128&d=identicon&r=PG", "display_name": "That1Guy", "link": "https://stackoverflow.com/users/1555990/that1guy"}, "edited": false, "score": 6, "creation_date": 1435183946, "post_id": 31037917, "comment_id": 50099993, "body": "I was tempted to downvote this simply because I don&#39;t want to admit that <code>1..real</code> is &quot;okay&quot;....+1 though for showing me something (cringe-worthy) that I didn&#39;t realize."}, {"owner": {"reputation": 2853, "user_id": 2963903, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/487a468ff8bb74ba471e15d9d505bc85?s=128&d=identicon&r=PG&f=1", "display_name": "leewz", "link": "https://stackoverflow.com/users/2963903/leewz"}, "edited": false, "score": 11, "creation_date": 1435207111, "post_id": 31037917, "comment_id": 50105769, "body": "Fun fact: SO&#39;s syntax highlighting for this answer is consistent with how Python interprets it. That is, there should be exactly one black dot (as opposed to the reddish dot) between the <code>1</code> and the <code>real</code>."}, {"owner": {"reputation": 84731, "user_id": 510937, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/70b13a9ae1aae1ca1aa6ac8dab4643f2?s=128&d=identicon&r=PG", "display_name": "Bakuriu", "link": "https://stackoverflow.com/users/510937/bakuriu"}, "reply_to_user": {"reputation": 2853, "user_id": 2963903, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/487a468ff8bb74ba471e15d9d505bc85?s=128&d=identicon&r=PG&f=1", "display_name": "leewz", "link": "https://stackoverflow.com/users/2963903/leewz"}, "edited": false, "score": 0, "creation_date": 1435221774, "post_id": 31037917, "comment_id": 50113091, "body": "@leewangzhong Well, SO uses google-prettify to perform highlighting and it&#39;s well-known that google uses a lot of Python so it&#39;s not surprising that the highlighting is actually a good one and not just a naive approximation..."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 56, "last_activity_date": 1435183362, "creation_date": 1435183362, "answer_id": 31037917, "question_id": 31037609, "link": "https://stackoverflow.com/questions/31037609/why-is-1-real-a-syntax-error-but-1-real-valid-in-python/31037917#31037917", "title": "Why is &quot;1.real&quot; a syntax error but &quot;1 .real&quot; valid in Python?", "body": "<p>I guess that the <code>.</code> is greedily parsed as part of a number, if possible, making it the <code>float</code> <code>1.</code>, instead of being part of the method call.</p>\n\n<p>Spaces are not allowed around the decimal point, but you can have spaces before and after the <code>.</code> in a method call. If the number is followed by a space, the parse of the number is terminated, so it's unambiguous.</p>\n\n<p>Let's look at the different cases and how they are parsed:</p>\n\n<pre><code>&gt;&gt;&gt; 1.real    # parsed as (1.)real  -&gt; missing '.'\n&gt;&gt;&gt; 1 .real   # parsed as (1).real  -&gt; okay\n&gt;&gt;&gt; 1. real   # parsed as (1.)real  -&gt; missing '.'\n&gt;&gt;&gt; 1 . real  # parsed as (1).real  -&gt; okay\n&gt;&gt;&gt; 1..real   # parsed as (1.).real -&gt; okay\n&gt;&gt;&gt; 1 ..real  # parsed as (1)..real -&gt; one '.' too much\n&gt;&gt;&gt; 1.. real  # parsed as (1.).real -&gt; okay\n&gt;&gt;&gt; 1 .. real # parsed as (1)..real -&gt; one '.' too much\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26832, "user_id": 799163, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/QGcz9.jpg?s=128&g=1", "display_name": "RemcoGerlich", "link": "https://stackoverflow.com/users/799163/remcogerlich"}, "edited": false, "score": 1, "creation_date": 1435224560, "post_id": 31038206, "comment_id": 50114776, "body": "Spaces aren&#39;t needed at the end of literals. <code>1+2</code> is fine, <code>1..real</code> is fine, et cetera."}], "tags": [], "owner": {"reputation": 7298, "user_id": 4838189, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/MhY0S.jpg?s=128&g=1", "display_name": "DevShark", "link": "https://stackoverflow.com/users/4838189/devshark"}, "is_accepted": false, "score": 1, "last_activity_date": 1435224611, "last_edit_date": 1435224611, "creation_date": 1435184821, "answer_id": 31038206, "question_id": 31037609, "link": "https://stackoverflow.com/questions/31037609/why-is-1-real-a-syntax-error-but-1-real-valid-in-python/31038206#31038206", "title": "Why is &quot;1.real&quot; a syntax error but &quot;1 .real&quot; valid in Python?", "body": "<p>1 .real works because it is the attribute .real called on the integer 1.</p>\n\n<p>1.real does not work, because you imperatively need a space at the end of a float. Otherwise it is a syntax error.</p>\n"}], "owner": {"reputation": 6777, "user_id": 1322962, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/1Iet2.jpg?s=128&g=1", "display_name": "AlexLordThorsen", "link": "https://stackoverflow.com/users/1322962/alexlordthorsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1941, "favorite_count": 3, "accepted_answer_id": 31037917, "answer_count": 3, "score": 32, "last_activity_date": 1435224611, "creation_date": 1435182138, "last_edit_date": 1435183585, "question_id": 31037609, "link": "https://stackoverflow.com/questions/31037609/why-is-1-real-a-syntax-error-but-1-real-valid-in-python", "title": "Why is &quot;1.real&quot; a syntax error but &quot;1 .real&quot; valid in Python?", "body": "<p>So I saw <a href=\"https://twitter.com/bmispelon/status/613816239622909953\" rel=\"noreferrer\">these two</a> <a href=\"https://twitter.com/bmispelon/status/613818391967715329\" rel=\"noreferrer\">questions on twitter</a>. How is <code>1.real</code> a syntax error but <code>1 .real</code> is not?</p>\n\n<pre><code>&gt;&gt;&gt; 1.real\n  File \"&lt;stdin&gt;\", line 1\n    1.real\n         ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; 1 .real\n1\n&gt;&gt;&gt; 1. real\n  File \"&lt;stdin&gt;\", line 1\n    1. real\n          ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; 1 . real\n1\n&gt;&gt;&gt; 1..real\n1.0\n&gt;&gt;&gt; 1 ..real\n  File \"&lt;stdin&gt;\", line 1\n    1 ..real\n       ^\nSyntaxError: invalid syntax\n&gt;&gt;&gt; 1.. real\n1.0\n&gt;&gt;&gt; 1 .. real\n  File \"&lt;stdin&gt;\", line 1\n    1 .. real\n       ^\nSyntaxError: invalid syntax\n</code></pre>\n"}, {"tags": ["python", "numpy", "scipy", "combinations", "euclidean-distance"], "comments": [{"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 1, "creation_date": 1435189305, "post_id": 31037605, "comment_id": 50101657, "body": "Smells <a href=\"https://en.wikipedia.org/?title=NP-hard\" rel=\"nofollow noreferrer\">NP-hard</a>, as it seems to be a variant of the infamous <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\" rel=\"nofollow noreferrer\">Travelling Salesman problem</a> with the distance maximized instead of minimized.    There probably is no good  &quot;polynomial time&quot; algorithm to do this, without relaxing the maximization spec."}, {"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1435190640, "post_id": 31037605, "comment_id": 50101987, "body": "This problem is called the <i>Maximum Travelling Salesman</i> problem and is a subject of computer algorithms research.  There is a paper <a href=\"http://www.shlomir.com/papers/tsp1.pdf\" rel=\"nofollow noreferrer\">here</a> which gives algorithms that claim to scalably obtain 5/7 of the maximum distance that could be obtained from the exhaustive loop/list approach."}], "owner": {"reputation": 29, "user_id": 4834270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51c5a8becc5a0154facca8d0070f0b9a?s=128&d=identicon&r=PG&f=1", "display_name": "peacemaker", "link": "https://stackoverflow.com/users/4834270/peacemaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1435189720, "creation_date": 1435182101, "last_edit_date": 1435189720, "question_id": 31037605, "link": "https://stackoverflow.com/questions/31037605/efficient-way-to-pair-up-indices-and-calculate-a-sum", "title": "Efficient way to pair up indices and calculate a sum", "body": "<p>I have a script that reads coordinates, creates all possible pairs and calculates distance between the points. If distances are between some given values, they are added to a numpy array. Below is an example of pairs between 12 points between the length of 3.-3.5 units.</p>\n\n<pre><code>[[  0.           3.           3.328008]\n [  0.           8.           3.128008]\n [  2.           5.           3.028007]\n [  2.           6.           3.028008]\n [  3.          10.           3.428008]\n [  4.           5.           3.128007]\n [  4.           9.           3.628008]\n [  6.           9.           3.128008]\n [  8.          11.           3.028007]\n [ 10.          11.           3.328007]]\n</code></pre>\n\n<p>I want to create pair all the points, creating six pairs, in a way that each point can only pair once in one combination and that the sum of distances is as big as possible. </p>\n\n<p>The only idea for doing this is horrible, consisting of inefficient use of nested for-loops and creations of lists. I'd like to do this for larger set of points and the problem doesn't scale so well, so I'd like to be as efficient as possible. What is a numpy'ish way to accomplish this?</p>\n"}, {"tags": ["python", "split", "beautifulsoup"], "comments": [{"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1435212312, "post_id": 31037566, "comment_id": 50107555, "body": "BeautifulSoup is for parsing HTML. why are you using it on CSV data?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 1964561, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8dcce312b7715f10b3707cb8d3f99edb?s=128&d=identicon&r=PG", "display_name": "jer99", "link": "https://stackoverflow.com/users/1964561/jer99"}, "edited": false, "score": 0, "creation_date": 1435188042, "post_id": 31037806, "comment_id": 50101333, "body": "good catch. it&#39;s listed as &quot;&lt;class &#39;bs4.BeautifulSoup&#39;&gt;&quot;  type. I&#39;ll have to try &amp; figure out how to convert to a string easily.  Problem looks like it might be the double quotes and the non-quoted number."}, {"owner": {"reputation": 75, "user_id": 1964561, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8dcce312b7715f10b3707cb8d3f99edb?s=128&d=identicon&r=PG", "display_name": "jer99", "link": "https://stackoverflow.com/users/1964561/jer99"}, "edited": false, "score": 0, "creation_date": 1435188516, "post_id": 31037806, "comment_id": 50101460, "body": "and the answer is just assign it using str() . Great stuff, python, very similar to other languages...           a=str(soup)"}], "tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 0, "last_activity_date": 1435189302, "last_edit_date": 1435189302, "creation_date": 1435182884, "answer_id": 31037806, "question_id": 31037566, "link": "https://stackoverflow.com/questions/31037566/beautifulsoup-get-to-list/31037806#31037806", "title": "BeautifulSoup get to list", "body": "<p>As <a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow\">Documentation</a> says: <code>split</code> is a mothod for <code>strings</code>. Be sure <code>soup</code> is a string, you could print</p>\n\n<pre><code>type(soup)\n</code></pre>\n\n<p>to find out which type it is, if it is not a string, that's the error, and you probably need process a little more with beautifulSoup to get the string you want.</p>\n\n<p>If <code>r.text</code> contains all what you want, try:</p>\n\n<pre><code>str(soup(r.text))\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 1964561, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/8dcce312b7715f10b3707cb8d3f99edb?s=128&d=identicon&r=PG", "display_name": "jer99", "link": "https://stackoverflow.com/users/1964561/jer99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 126, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1435189302, "creation_date": 1435181991, "last_edit_date": 1435182464, "question_id": 31037566, "link": "https://stackoverflow.com/questions/31037566/beautifulsoup-get-to-list", "title": "BeautifulSoup get to list", "body": "<p>I am having difficulty in figuring out how to place BeautifulSoup return string into a list. </p>\n\n<p>Everything I've read says that to put a comma delimited string in a list I just have to do something like:</p>\n\n<pre><code>my_list = my_string.split(\",\")\n</code></pre>\n\n<p>The problem is that I retrieve something that looks like this (see code below):</p>\n\n<pre><code>\"EURUSD=X\",1.1205,\"6/24/2015\",\"10:06pm\"\n</code></pre>\n\n<p>If I try to split it, I get a <code>NoneType</code> error. </p>\n\n<p>Code:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nr = requests.get('http://finance.yahoo.com/d/quotes.csv?\ne=.csv&amp;f=sl1d1t1&amp;s=EURUSD=X')\nsoup = BeautifulSoup(r.text)\n\nprint (soup)\nsoup.split(\",\")\n</code></pre>\n\n<p>gives me:</p>\n\n<pre><code>TypeError: 'NoneType' object is not callable\n</code></pre>\n"}, {"tags": ["python", "tree", "binary-tree", "binary-search-tree"], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1435182075, "creation_date": 1435182075, "answer_id": 31037592, "question_id": 31037516, "link": "https://stackoverflow.com/questions/31037516/differences-in-implementation-of-a-tree-binary-tree-and-binary-search-tree-in/31037592#31037592", "title": "Differences in implementation of a tree, binary tree and, binary search tree in python", "body": "<ol>\n<li><p>a tree , each node can have any number of children, and it certainly doesnt need to be balanced.</p></li>\n<li><p>A binary tree, is a tree where every node can have 0..2 children </p></li>\n<li><p>a BST, same as a binary tree, but comes with guarantee that node to Left is smaller than current node, and Node to right is bigger ...</p></li>\n</ol>\n"}], "owner": {"reputation": 23, "user_id": 4459701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f90d9d0f3172797405833354618ac3d4?s=128&d=identicon&r=PG&f=1", "display_name": "Confused101", "link": "https://stackoverflow.com/users/4459701/confused101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435182075, "creation_date": 1435181774, "question_id": 31037516, "link": "https://stackoverflow.com/questions/31037516/differences-in-implementation-of-a-tree-binary-tree-and-binary-search-tree-in", "title": "Differences in implementation of a tree, binary tree and, binary search tree in python", "body": "<p>I'm having a bit of difficulty grasping the differences in the methods and implementation of a simple tree, a binary tree, and a binary search tree. It seems that I keep getting confused between the three. I know how to implement a BST. But, I am not too sure about simple trees and a Binary tree. Could somebody show me a simple implementation/code of a tree, and BT. \nP.S this is not homework, its for me to understand these ADT's   </p>\n\n<p>Here is the code for the BST, I have. </p>\n\n<p>\"\"\"binary search tree ADT\"\"\"</p>\n\n<pre><code>class BST:\n\ndef __init__(self: 'BST', root: BTNode=None) -&gt; None:\n    \"\"\"Create BST with BTNode root.\"\"\"\n    self._root = root\n\ndef __repr__(self: 'BST') -&gt; str:\n    \"\"\"Represent this binary search tree.\"\"\"\n    return 'BST(' + repr(self._root) + ')'\n\ndef find(self: 'BST', data: object) -&gt; BTNode:\n    \"\"\"Return node containing data, otherwise return None.\"\"\"\n    return _find(self._root, data)\n\ndef insert(self: 'BST', data: object) -&gt; None:\n    \"\"\"Insert data, if necessary, into this tree.\n\n    &gt;&gt;&gt; b = BST()\n    &gt;&gt;&gt; b.insert(8)\n    &gt;&gt;&gt; b.insert(4)\n    &gt;&gt;&gt; b.insert(2)\n    &gt;&gt;&gt; b.insert(6)\n    &gt;&gt;&gt; b.insert(12)\n    &gt;&gt;&gt; b.insert(14)\n    &gt;&gt;&gt; b.insert(10)\n    &gt;&gt;&gt; b\n    BST(BTNode(8, BTNode(4, BTNode(2, None, None), BTNode(6, None, None)), BTNode(12, BTNode(10, None, None), BTNode(14, None, None))))\n\"\"\"\n    self._root = _insert(self._root, data)\n\ndef height(self: 'BST') -&gt; int:\n    \"\"\"Return height of this tree.\"\"\"\n    return _height(self._root)\n\ndef _insert(node: BTNode, data: object) -&gt; BTNode:\n    \"\"\"Insert data in BST rooted at node, if necessary, and return root.\"\"\"\n    if not node:\n        return BTNode(data)\n    elif data &lt; node.data:\n        node.left = _insert(node.left, data)\n    elif data &gt; node.data:\n        node.right = _insert(node.right, data)\n    else:  # nothing to do\n        pass\nreturn node\n\ndef _find(node: BTNode, data: object):\n    \"\"\"Return the node containing data, or else None.\"\"\"\n    if not node or node.data == data:\n        return node\n    else:\n        if data &lt; node.data:\n            return _find(node.left, data)\n        else:\n            return _find(node.right, data)\n\ndef _height(node):\n    \"\"\"Return height of tree rooted at node.\"\"\"\n    if not node or node.is_leaf():\n        return 0\n    left_h = 0\n    right_h = 0\n    if node.left:\n        left_h = _height(node.left)\n    if node.right:\n        right_h = _height(node.right)\n    return max(left_h, right_h) + 1    \n\nclass BTNode:\n\"\"\"Binary Tree node.\"\"\"\n\ndef __init__(self: 'BTNode', data: object,\n             left: 'BTNode'=None, right: 'BTNode'=None) -&gt; None:\n    \"\"\"Create BT node with data and children left and right.\"\"\"\n    self.data, self.left, self.right = data, left, right\n\ndef __repr__(self: 'BTNode') -&gt; str:\n    \"\"\"Represent this node as a string.\"\"\"\n    return ('BTNode(' + str(self.data) + ', ' + repr(self.left) +\n            ', ' + repr(self.right) + ')')\n\ndef is_leaf(self: 'BTNode') -&gt; bool:\n    \"\"\"Return True iff BTNode is a leaf\"\"\"\n    return not self.left and not self.right\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 1642, "user_id": 1509169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/8MgOC.jpg?s=128&g=1", "display_name": "Alexander R.", "link": "https://stackoverflow.com/users/1509169/alexander-r"}, "edited": false, "score": 1, "creation_date": 1435184075, "post_id": 31037501, "comment_id": 50100057, "body": "Say thanks to GIL. One thread works faster then Multi Threading in Python. The only benefit of using Threads in Python is asynchronous behavior. You must use Processes in Python to enjoy from parallel code execution."}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1435184816, "post_id": 31037501, "comment_id": 50100344, "body": "Can you tell the reasoning behind your code?"}, {"owner": {"reputation": 4875, "user_id": 1144624, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/c640c2471d507b73b93d5cb34eaebfed?s=128&d=identicon&r=PG", "display_name": "Kcvin", "link": "https://stackoverflow.com/users/1144624/kcvin"}, "reply_to_user": {"reputation": 1642, "user_id": 1509169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/8MgOC.jpg?s=128&g=1", "display_name": "Alexander R.", "link": "https://stackoverflow.com/users/1509169/alexander-r"}, "edited": false, "score": 1, "creation_date": 1435240763, "post_id": 31037501, "comment_id": 50126037, "body": "@AlexanderRavikovich really? Do you have any links to materials I could read up on this.  I&#39;m not a python developer, however this question did interest me."}, {"owner": {"reputation": 1642, "user_id": 1509169, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/8MgOC.jpg?s=128&g=1", "display_name": "Alexander R.", "link": "https://stackoverflow.com/users/1509169/alexander-r"}, "edited": false, "score": 2, "creation_date": 1435242849, "post_id": 31037501, "comment_id": 50127815, "body": "<a href=\"https://42bits.wordpress.com/2010/10/24/python-global-interpreter-lock-gil-explained-pycon-tech-talk/\" rel=\"nofollow noreferrer\">42bits.wordpress.com/2010/10/24/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1045, "user_id": 1380759, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/60d63eb5816af4dc89a59b23f1bff974?s=128&d=identicon&r=PG", "display_name": "Dorin Rusu", "link": "https://stackoverflow.com/users/1380759/dorin-rusu"}, "is_accepted": true, "score": 0, "last_activity_date": 1435394379, "creation_date": 1435394379, "answer_id": 31086824, "question_id": 31037501, "link": "https://stackoverflow.com/questions/31037501/why-are-there-more-threads-in-one-execution-than-in-the-other/31086824#31086824", "title": "Why are there more threads in one execution than in the other?", "body": "<p>Answered by Alexander Ravikovich in a comment.</p>\n\n<p><a href=\"https://42bits.wordpress.com/2010/10/24/python-global-interpreter-lock-gil-explained-pycon-tech-talk/\" rel=\"nofollow\">https://42bits.wordpress.com/2010/10/24/python-global-interpreter-lock-gil-explained-pycon-tech-talk/</a></p>\n\n<p>or </p>\n\n<p><a href=\"https://www.youtube.com/watch?v=Obt-vMVdM8s\" rel=\"nofollow\">https://www.youtube.com/watch?v=Obt-vMVdM8s</a></p>\n"}], "owner": {"reputation": 1045, "user_id": 1380759, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/60d63eb5816af4dc89a59b23f1bff974?s=128&d=identicon&r=PG", "display_name": "Dorin Rusu", "link": "https://stackoverflow.com/users/1380759/dorin-rusu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 1, "accepted_answer_id": 31086824, "answer_count": 1, "score": 1, "last_activity_date": 1435394379, "creation_date": 1435181705, "question_id": 31037501, "link": "https://stackoverflow.com/questions/31037501/why-are-there-more-threads-in-one-execution-than-in-the-other", "title": "Why are there more threads in one execution than in the other?", "body": "<p>I have a scenario I'm trying to wrap my head arround.</p>\n\n<p>So I have two different servers I need to connect to, each having a different response time (one is fast, one is slow). There's a for loop which runs for a fixed amount of time for both servers, creating threads and starting them. Basically I'm making multiple asynchronous requests to these servers, storing their reply time in a list.</p>\n\n<p>Here's the code:</p>\n\n<pre><code> while time.time() - start_time &lt; run_time:\n\n    thread = Thread(target=thread_method, args=())\n    thread.start()\n    thread_list.append(thread)\n\n# make sure all threads finish before continuing\n for thread in thread_list:\n    thread.join()\n</code></pre>\n\n<p>and each thread has something like this:</p>\n\n<pre><code>start_time = time.time()\ncall_the_server()\nend_time = time.time()\n\nlatency_list.append(start_time-end_time))\n</code></pre>\n\n<p>Executing the same script for each server, with the same run_time, give me let's say X items, while the second one X*3.</p>\n\n<p>My thought is that creating the thread, starting it and then moving to the next one in the loop might result in the same number of items in both cases, the only difference being that one script run might finish a little later, as each thread might end later (due to the higher response time of the server).</p>\n\n<p>I could really use an explanation for why i'm getting these results.</p>\n"}, {"tags": ["python", "dictionary", "pandas"], "comments": [{"owner": {"reputation": 14484, "user_id": 2291710, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/0232aab5638a75f2286dccc43ecf4df3?s=128&d=identicon&r=PG&f=1", "display_name": "Delgan", "link": "https://stackoverflow.com/users/2291710/delgan"}, "edited": false, "score": 0, "creation_date": 1435183025, "post_id": 31037481, "comment_id": 50099650, "body": "<code>dictionary = {key: {num: int(num in mydict[key]) for num in mylist} for key in mykeys}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": false, "score": 0, "last_activity_date": 1435320299, "last_edit_date": 1435320299, "creation_date": 1435182943, "answer_id": 31037823, "question_id": 31037481, "link": "https://stackoverflow.com/questions/31037481/dummies-conditional-on-dictionary-values/31037823#31037823", "title": "Dummies conditional on dictionary values", "body": "<p>You could use <code>df.pivot</code>:</p>\n\n<pre><code>import pandas as pd\nmydict={\n    'Zamboni, Clemente' : [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110], \n    'Strada, Gino' : [103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114], \n    'Zeldina, Laura' : [111, 112, 113], \n    'Silvestri, Simone' : [113]}\n\ndf = pd.DataFrame(((val,key) for key, values in mydict.items() for val in values),\n                  columns=['index','name'])\ndf['val'] = 1\nprint(df.pivot(index='index', columns='name', values='val').fillna(0))\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>name   Silvestri, Simone  Strada, Gino  Zamboni, Clemente  Zeldina, Laura\nindex                                                                    \n100                    0             0                  1               0\n101                    0             0                  1               0\n102                    0             0                  1               0\n103                    0             1                  1               0\n104                    0             1                  1               0\n105                    0             1                  1               0\n106                    0             1                  1               0\n107                    0             1                  1               0\n108                    0             1                  1               0\n109                    0             1                  1               0\n110                    0             1                  1               0\n111                    0             1                  0               1\n112                    0             1                  0               1\n113                    1             1                  0               1\n114                    0             1                  0               0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 576, "user_id": 4171031, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3499ec1b13d3241e44589ae00c73caba?s=128&d=identicon&r=PG&f=1", "display_name": "simone", "link": "https://stackoverflow.com/users/4171031/simone"}, "edited": false, "score": 0, "creation_date": 1435315383, "post_id": 31041793, "comment_id": 50161063, "body": "I was only able to test this now, and it does solve my problem (I just need to transpose the data frame at the end). Thanks a lot!"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1435209962, "last_edit_date": 1435209962, "creation_date": 1435209630, "answer_id": 31041793, "question_id": 31037481, "link": "https://stackoverflow.com/questions/31037481/dummies-conditional-on-dictionary-values/31041793#31041793", "title": "Dummies conditional on dictionary values", "body": "<p>I think unutbu's answer is quite elegant, but seems to fail recognizing 113 is shared by 'Strada, Gino', 'Zeldina, Laura', 'Silvestri, Simone'. You can fix it this way. </p>\n\n<p>For your question, the key point is that your <code>dict</code> implies <code>'Zeldina, Laura'  'Zamboni, Clemente'  'Silvestri, Simone'  'Strada, Gino'</code> are observations whereas <code>[100 - 114]</code> are observed values. What you want to do is actually the other way around. You want to set <code>[100 - 114]</code> as observation labels whereas <code>'Zeldina, Laura'  'Zamboni, Clemente'  'Silvestri, Simone'  'Strada, Gino'</code> are their 4 possible values. So some manual processing to convert the format is inevitable.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\nmydict={'Zamboni, Clemente' : [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110], \n'Strada, Gino' : [103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114], \n'Zeldina, Laura' : [111, 112, 113], \n'Silvestri, Simone' : [113]}\n\nmylist = [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114]\n\ntemp = []\nfor _, value in mydict.items():\n    temp.append(pd.Series(value, index=value).reindex(mylist))\n\ndf = pd.concat(temp, axis=1)\ndf.columns = list(mydict.keys())\n\ndf.apply(lambda col: np.where(col.isnull(), 0, 1))\n\n\nOut[40]: \n     Zeldina, Laura  Zamboni, Clemente  Silvestri, Simone  Strada, Gino\n100               0                  1                  0             0\n101               0                  1                  0             0\n102               0                  1                  0             0\n103               0                  1                  0             1\n104               0                  1                  0             1\n105               0                  1                  0             1\n106               0                  1                  0             1\n107               0                  1                  0             1\n108               0                  1                  0             1\n109               0                  1                  0             1\n110               0                  1                  0             1\n111               1                  0                  0             1\n112               1                  0                  0             1\n113               1                  0                  1             1\n114               0                  0                  0             1\n</code></pre>\n"}], "owner": {"reputation": 576, "user_id": 4171031, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3499ec1b13d3241e44589ae00c73caba?s=128&d=identicon&r=PG&f=1", "display_name": "simone", "link": "https://stackoverflow.com/users/4171031/simone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 31041793, "answer_count": 2, "score": 0, "last_activity_date": 1435320299, "creation_date": 1435181610, "last_edit_date": 1435182610, "question_id": 31037481, "link": "https://stackoverflow.com/questions/31037481/dummies-conditional-on-dictionary-values", "title": "Dummies conditional on dictionary values", "body": "<p>I have a dataframe with a bunch of names</p>\n\n<pre><code>df['NAME']=['Zamboni, Clemente', 'Strada, Gino', 'Zeldina, Laura', 'Silvestri, Simone']\n</code></pre>\n\n<p>a dictionary with the same names as keys, and with list values</p>\n\n<pre><code>mydict={'Zamboni, Clemente' : [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110], \n'Strada, Gino' : [103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114], \n'Zeldina, Laura' : [111, 112, 113], \n'Silvestri, Simone' : [113]}\n</code></pre>\n\n<p>and a list containing all unique numbers appearing in the dictionary:</p>\n\n<pre><code>mylist = [100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114]\n</code></pre>\n\n<p>I want to create a dummy variable for each element in mylist, which is equal to one if the element is in the value of the dictionary associated with the name: so for 'Silvestri, Simone' all dummies should take value 0 except for '113'.</p>\n\n<p>Here is my latest attempt:</p>\n\n<pre><code>for k in df['NAME']:\n    if k in mydict:\n        for c in mylist:\n            if c in mydict[k]:\n                df[c][k] = 1\n            else:\n                df[k,c] = 0\n</code></pre>\n\n<p>Any hint would be much appreciated!</p>\n"}, {"tags": ["python", "json", "dictionary"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 5042440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/338f23c89f600488777e2ae0608b5464?s=128&d=identicon&r=PG&f=1", "display_name": "bchoi", "link": "https://stackoverflow.com/users/5042440/bchoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1435182175, "creation_date": 1435182175, "answer_id": 31037620, "question_id": 31037470, "link": "https://stackoverflow.com/questions/31037470/how-to-delete-dictionary-from-list-of-dictionaries-in-json/31037620#31037620", "title": "How to delete dictionary from list of dictionaries in JSON", "body": "<p>The python <code>for</code> loop syntax specifies that it goes through an iterable. <code>len</code> returns an integer which is not iterable. That's why it's not deleting; it's not actually going through the for loop. To solve it, use the <code>range</code> function to create an iterable range to go through the list as so:</p>\n\n<pre><code>for i in range(len(obj)):\n    #etc\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 421, "user_id": 4293747, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hR52x.jpg?s=128&g=1", "display_name": "cameron-f", "link": "https://stackoverflow.com/users/4293747/cameron-f"}, "is_accepted": true, "score": 1, "last_activity_date": 1435185203, "creation_date": 1435185203, "answer_id": 31038289, "question_id": 31037470, "link": "https://stackoverflow.com/questions/31037470/how-to-delete-dictionary-from-list-of-dictionaries-in-json/31038289#31038289", "title": "How to delete dictionary from list of dictionaries in JSON", "body": "<p>You are on the right track, pop should work.  I altered your code so that  'contacts' is a dictionary instead of a list.  Then the records can look like:</p>\n\n<pre><code>contacts = {'Aname':{'name': name,\n                     'phone': phone,\n                     'email': email\n                     },\n            'Bname':{'name': name,\n                     'phone': phone,\n                     'email': email\n                    }\n           }\n</code></pre>\n\n<p>Then you can use the name as a key for a nested dictionary object that holds name, phone and email.  The delete name can now use contacts.pop(contact_name).  I made a few changes to the code to make this happen.</p>\n\n<pre><code># Import Collections to use Ordered Dictionary\nimport collections\n\n# Module used to save contacts to database\nimport json\n\n# The main class\ndef main():\n\n    # Creates an empty list of contacts\n    contacts = collections.OrderedDict()\n    loop = True\n\n    # Create a while loop for the menu that keeps looping for user input until loop = 0\n    while loop == True:\n\n        # Prints menu for the user in command line\n        print \"\"\"\n        Contact Book App\n        a) New Contact\n        b) List Contacts\n        c) Search Contacts\n        d) Delete Contact\n        e) Quit\n         \"\"\"\n\n        # Asks for users input from a-e\n        userInput = raw_input(\"Please select an option: \").lower()\n\n        # OPTION 1 : ADD NEW CONTACT\n        if userInput == \"a\":\n            contact_name = raw_input(\"Enter name: \").title()\n\n            contacts[contact_name] = {'name': contact_name,\n                                     'phone': raw_input(\"Enter phone: \"),\n                                     'email': raw_input(\"Enter email: \")\n                                     }\n\n            json.dump(contacts, open('contacts.json','w'))\n\n            print \"Contact Added!\"\n            # For Debugging Purposes\n            # print(contacts)\n\n        # OPTION 2 : LIST ALL CONTACTS\n        elif userInput == \"b\":\n            print \"Listing Contacts\"\n            try:\n                contacts = json.load(open('contacts.json','r'))\n                name_keys = list(contacts.keys())\n            except:\n                contacts = {}\n\n            print \"%-30s %-30s %-30s\" % ('NAME','PHONE','EMAIL')\n\n            for k in name_keys:\n                print \"%-30s %-30s %-30s\" % (contacts[k]['name'], contacts[k]['phone'], contacts[k]['email'])\n\n        # OPTION 3 : SEARCH CONTACTS\n        elif userInput == \"c\":\n            print \"Searching Contacts\"\n            search = raw_input(\"Please enter name: \")\n            # Want to be able to search contacts by name, phone number or email\n            try:\n                contacts = json.load(open('contacts.json','r'))\n            except:\n                contacts = []\n\n            try:\n                print \"%-30s %-30s %-30s\" % (contacts[search]['name'], contacts[search]['phone'], contacts[search]['email'])\n            except KeyError:\n                print \"Not Found\"\n\n        # OPTION 4 : DELETE A CONTACT\n        elif userInput == \"d\":\n            print \"Deleting Contact\"\n            contact_name = raw_input(\"Enter Contact Name: \")\n            contacts = json.loads(open('contacts.json').read())\n\n            try:\n                contacts.pop(contact_name)\n                json.dump(contacts, open('contacts.json','w'))\n            except KeyError:\n                print \"Contact Not Found\"\n\n\n        # OPTION 5 : QUIT PROGRAM\n        elif userInput == \"e\":\n            print \"Quitting Contact Book\"\n            loop = False\n        else:\n            print \"Invalid Input! Try again.\"\n\n\nmain()\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 4044807, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/42adf9eb375352600497257957fa277b?s=128&d=identicon&r=PG&f=1", "display_name": "cbandara", "link": "https://stackoverflow.com/users/4044807/cbandara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 580, "favorite_count": 0, "accepted_answer_id": 31038289, "answer_count": 2, "score": 0, "last_activity_date": 1435185203, "creation_date": 1435181576, "question_id": 31037470, "link": "https://stackoverflow.com/questions/31037470/how-to-delete-dictionary-from-list-of-dictionaries-in-json", "title": "How to delete dictionary from list of dictionaries in JSON", "body": "<p>I have contacts stored inside a list of dictionaries in a JSON file. I want to be able to remove contacts by user input. How do I go about doing this? I tried using a for loop and pop but that didn't work.</p>\n\n<pre><code># Import Collections to use Ordered Dictionary\nimport collections\n\n# Module used to save contacts to database\nimport json\n\n# The main class\ndef main():\n\n    # Creates an empty list of contacts\n    contacts = []\n\n    loop = True\n\n    # Create a while loop for the menu that keeps looping for user input until loop = 0\n    while loop == True:\n\n        # Prints menu for the user in command line\n        print \"\"\"\n        Contact Book App\n        a) New Contact\n        b) List Contacts\n        c) Search Contacts\n        d) Delete Contact\n        e) Quit\n         \"\"\"\n\n        # Asks for users input from a-e\n        userInput = raw_input(\"Please select an option: \").lower()\n\n        # OPTION 1 : ADD NEW CONTACT\n        if userInput == \"a\":\n            contact = collections.OrderedDict()\n\n            contact['name'] = raw_input(\"Enter name: \").title()\n            contact['phone'] = raw_input(\"Enter phone: \")\n            contact['email'] = raw_input(\"Enter email: \")\n\n            contacts.append(contact)\n            json.dump(contacts, open('contacts.json','w'))\n\n            print \"Contact Added!\"\n            # For Debugging Purposes\n            # print(contacts)\n\n        # OPTION 2 : LIST ALL CONTACTS\n        elif userInput == \"b\":\n            print \"Listing Contacts\"\n            try:\n                contacts = json.load(open('contacts.json','r'))\n            except:\n                contacts = []\n\n            print \"%-30s %-30s %-30s\" % ('NAME','PHONE','EMAIL')\n            for i in contacts:\n                print \"%-30s %-30s %-30s\" % (i['name'], i['phone'], i['email'])\n\n        # OPTION 3 : SEARCH CONTACTS\n        elif userInput == \"c\":\n            print \"Searching Contacts\"\n            search = raw_input(\"Please enter name: \")\n            # Want to be able to search contacts by name, phone number or email\n            try:\n                contacts = json.load(open('contacts.json','r'))\n            except:\n                contacts = []\n\n            for i in contacts:\n                if i['name'] == search:\n                    print i['name'], i['phone'], i['email']\n                elif i['phone'] == search:\n                    print i['name'], i['phone'], i['email']\n                elif i['email'] == search:\n                    print i['name'], i['phone'], i['email']\n                else:\n                    print \"No Such Contact\"\n\n        # OPTION 4 : DELETE A CONTACT\n        elif userInput == \"d\":\n            print \"Deleting Contact\"\n            deleteQuery = raw_input(\"Enter Contact Name: \")\n            obj = json.load(open('contacts.json'))\n\n            for i in contacts(len(obj)):\n                if obj[i]['name'] == deleteQuery:\n                    obj.pop(i)\n\n\n        # OPTION 5 : QUIT PROGRAM\n        elif userInput == \"e\":\n            print \"Quitting Contact Book\"\n            loop = False\n        else:\n            print \"Invalid Input! Try again.\"\n\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "answers": [{"comments": [{"owner": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "edited": false, "score": 0, "creation_date": 1435183851, "post_id": 31037492, "comment_id": 50099959, "body": "Thank you! it works, you don&#39;t know how many hours I have spent on that... Thank you very much... I will also give you an up vote not only acceptance..."}, {"owner": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "edited": false, "score": 0, "creation_date": 1435191708, "post_id": 31037492, "comment_id": 50102254, "body": "However, I have to un-tick the acceptance I gave you because of this: <a href=\"https://docs.djangoproject.com/en/dev/ref/models/fields/#default\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/dev/ref/models/fields/#default</a> which says that &quot;...lambdas cannot be used for field options like default because they cannot be serialized by migrations.&quot;."}, {"owner": {"reputation": 8778, "user_id": 136010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3fe3ce83e99620b939ce695b35b4ed0a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/136010/greg"}, "reply_to_user": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "edited": false, "score": 0, "creation_date": 1435230652, "post_id": 31037492, "comment_id": 50118628, "body": "Ah yes, you&#39;re right. That changed in 1.7 when django migrations were introduced. I&#39;ve amended my answer."}], "tags": [], "owner": {"reputation": 8778, "user_id": 136010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3fe3ce83e99620b939ce695b35b4ed0a?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/136010/greg"}, "is_accepted": true, "score": 3, "last_activity_date": 1435230567, "last_edit_date": 1435230567, "creation_date": 1435181674, "answer_id": 31037492, "question_id": 31037390, "link": "https://stackoverflow.com/questions/31037390/django-model-attribute-value-evaluation-in-callable/31037492#31037492", "title": "Django model attribute value evaluation in callable", "body": "<p><code>str(inUnixTime())</code> returns a string, just like <code>u'A string'</code> - it's not a callable, so it won't change. When you use the <code>inUnixTime</code> function as a default, it is a callable so it gets called each time. </p>\n\n<p>What you probably want is this:</p>\n\n<pre><code>def string_default():\n    return str(inUnixTime())\n</code></pre>\n\n<p>and then:</p>\n\n<pre><code>string = models.CharField(max_length=255, default=string_default)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "edited": false, "score": 0, "creation_date": 1435289709, "post_id": 31039525, "comment_id": 50148888, "body": "This answer was posted before @Greg altered his answer, that is why it refers to lambda. Greg&#39;s initial answer used lambda.. which if you wrap it in a callable it works...so I do not understand why the down vote..."}], "tags": [], "owner": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "is_accepted": false, "score": -1, "last_activity_date": 1435193812, "creation_date": 1435193812, "answer_id": 31039525, "question_id": 31037390, "link": "https://stackoverflow.com/questions/31037390/django-model-attribute-value-evaluation-in-callable/31039525#31039525", "title": "Django model attribute value evaluation in callable", "body": "<p>The answer to this is to combine @Greg 's answer and  <a href=\"https://docs.djangoproject.com/en/dev/ref/models/fields/#default\" rel=\"nofollow\">https://docs.djangoproject.com/en/dev/ref/models/fields/#default</a>  wrapping lambda in a callable.</p>\n"}], "owner": {"reputation": 2197, "user_id": 805417, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8d78611c72c5192c89019d0c85e1b258?s=128&d=identicon&r=PG", "display_name": "pebox11", "link": "https://stackoverflow.com/users/805417/pebox11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 0, "accepted_answer_id": 31037492, "answer_count": 2, "score": 0, "last_activity_date": 1435230567, "creation_date": 1435181337, "question_id": 31037390, "link": "https://stackoverflow.com/questions/31037390/django-model-attribute-value-evaluation-in-callable", "title": "Django model attribute value evaluation in callable", "body": "<p>Why in this two attributes of the <code>upload</code> model, <code>time</code> is evaluated every time \nI add a new instance but <code>string</code> does not change at all? (<code>inUnixTime</code> gives me the current datetime in unix time)</p>\n\n<pre><code>class upload(models.Model):\n\n    #...\n    time = models.IntegerField(default=inUnixTime)\n    string = models.CharField(max_length=255, default=str(inUnixTime()))\n    #...\n\ndef inUnixTime(t=None):\n    if not t:\n        t = datetime.datetime.now()\n    return int(time.mktime(t.timetuple()))\n</code></pre>\n\n<p>PS. If I use only the callable, doing a </p>\n\n<pre><code>string = models.CharField(max_length=255, default=str(inUnixTime))\n</code></pre>\n\n<p>then I get the memory address of the object and not the unix time as a string.</p>\n\n<p>Thank you in advance !</p>\n"}, {"tags": ["python", "pygments", "docutils"], "answers": [{"comments": [{"owner": {"reputation": 1820, "user_id": 465270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39118e0595db4e7f6779558885059b8d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/465270/tom"}, "edited": false, "score": 1, "creation_date": 1450138281, "post_id": 32605276, "comment_id": 56299824, "body": "This was super helpful, docutils documentation is seriously lacking"}], "tags": [], "owner": {"reputation": 41, "user_id": 5341607, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200843493327206/picture?type=large", "display_name": "Toyotaka Torii", "link": "https://stackoverflow.com/users/5341607/toyotaka-torii"}, "is_accepted": false, "score": 2, "last_activity_date": 1442397222, "creation_date": 1442397222, "answer_id": 32605276, "question_id": 31037341, "link": "https://stackoverflow.com/questions/31037341/how-to-control-short-long-tag-names-with-docutils-and-pygments/32605276#32605276", "title": "How to control short/long tag names with docutils and pygments?", "body": "<p>Please try add 'syntax_highlight' option to extra_settings.</p>\n\n<pre><code>extra_settings = {\n    'initial_header_level': 4,\n    'doctitle_xform' : 0,\n    'syntax_highlight': 'short'  # Possible values: 'long', 'short', 'none'\n }\n</code></pre>\n"}], "owner": {"reputation": 1305, "user_id": 1156363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a2ffef8933a67c34b33872b24fd1032?s=128&d=identicon&r=PG", "display_name": "JFL", "link": "https://stackoverflow.com/users/1156363/jfl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1442397222, "creation_date": 1435181120, "last_edit_date": 1435181496, "question_id": 31037341, "link": "https://stackoverflow.com/questions/31037341/how-to-control-short-long-tag-names-with-docutils-and-pygments", "title": "How to control short/long tag names with docutils and pygments?", "body": "<p>I have two python codes, one using docutils and the other uses pygments. Both codes process java source files in order to highlight the source code. pygments reads directly java source files and docutils reads RST files that contains code-block directives that contains java snippets.</p>\n\n<p>The problem is that pygments uses <strong>short tag names</strong> whereas docutils uses <strong>long tag names</strong>. I cannot figure how to tell to one of them to use short/long them in order to have both tools using the same syntax.</p>\n\n<p>I built the following minimal example:</p>\n\n<pre><code>from pygments import highlight\nfrom pygments.lexers import JavaLexer\nfrom pygments.formatters import HtmlFormatter\n\n# Here we read directly java with the Java Lexer\nformatter = HtmlFormatter()\nsource1 = highlight(\"if (o.equals(\\\"test\\\") ;\", JavaLexer(), formatter)\nprint source1\n\nfrom docutils.core import publish_parts\n\n# Here we read a RST file containing a code-block directive that includes java\nextra_settings = {'initial_header_level': 4, 'doctitle_xform' : 0}\nsource2 = publish_parts(\".. code-block:: java\\n\\n    if (o.equals(\\\"test\\\") ;\", writer_name='html',settings_overrides=extra_settings)['html_body']\nprint source2\n</code></pre>\n\n<p>That gives the following output:</p>\n\n<pre><code>&lt;div class=\"highlight\"&gt;&lt;pre&gt;&lt;span class=\"k\"&gt;if&lt;/span&gt; &lt;span class=\"o\"&gt;(&lt;/span&gt;&lt;span class=\"n\"&gt;o&lt;/span&gt;&lt;span class=\"o\"&gt;.&lt;/span&gt;&lt;span class=\"na\"&gt;equals&lt;/span&gt;&lt;span class=\"o\"&gt;(&lt;/span&gt;&lt;span class=\"s\"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class=\"o\"&gt;)&lt;/span&gt; &lt;span class=\"o\"&gt;;&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;\n\n&lt;div class=\"document\"&gt;\n&lt;pre class=\"code java literal-block\"&gt;\n&lt;span class=\"keyword\"&gt;if&lt;/span&gt; &lt;span class=\"operator\"&gt;(&lt;/span&gt;&lt;span class=\"name\"&gt;o&lt;/span&gt;&lt;span class=\"operator\"&gt;.&lt;/span&gt;&lt;span class=\"name attribute\"&gt;equals&lt;/span&gt;&lt;span class=\"operator\"&gt;(&lt;/span&gt;&lt;span class=\"literal string\"&gt;&amp;quot;test&amp;quot;&lt;/span&gt;&lt;span class=\"operator\"&gt;)&lt;/span&gt; &lt;span class=\"operator\"&gt;;&lt;/span&gt;\n&lt;/pre&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>And it shows that for \"if\", pygments uses the tag \"class='k'\" and docutils uses the tag \"class='keyword'\".</p>\n\n<p>How to change one of them to get the same tag names ?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 13255, "user_id": 6885902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9eWg.jpg?s=128&g=1", "display_name": "Jeru Luke", "link": "https://stackoverflow.com/users/6885902/jeru-luke"}, "edited": false, "score": 0, "creation_date": 1500892263, "post_id": 31037298, "comment_id": 77518735, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16689514/how-to-get-the-average-of-dataframe-column-values\">how to get the average of dataframe column values</a>"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1518770466, "post_id": 31037298, "comment_id": 84649177, "body": "<code>df.groupby(&#39;weight&#39;)</code> wasn&#39;t what you wanted, because it split the df into separate columns, each with a distinct value of weight. Instead of just <code>df[&#39;weight&#39;].mean()</code>"}, {"owner": {"reputation": 671, "user_id": 9162147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f2743292e1706300c694fb1e18ca7cd?s=128&d=identicon&r=PG&f=1", "display_name": "DataFramed", "link": "https://stackoverflow.com/users/9162147/dataframed"}, "edited": false, "score": 0, "creation_date": 1591963660, "post_id": 31037298, "comment_id": 110260720, "body": "allDF. weight.mean()"}], "answers": [{"comments": [{"owner": {"reputation": 873, "user_id": 4038362, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3874a22fa5e928c82d13576f3e6a62c0?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/4038362/chris"}, "edited": false, "score": 3, "creation_date": 1528728907, "post_id": 31037360, "comment_id": 88607097, "body": "and what if I wanted to get a mean of each and every column?"}, {"owner": {"reputation": 505, "user_id": 5333178, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C6K5CZS1Vuc/AAAAAAAAAAI/AAAAAAAAABc/gfK9yuhErTU/photo.jpg?sz=128", "display_name": "Abhishek Poojary", "link": "https://stackoverflow.com/users/5333178/abhishek-poojary"}, "reply_to_user": {"reputation": 873, "user_id": 4038362, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3874a22fa5e928c82d13576f3e6a62c0?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/4038362/chris"}, "edited": false, "score": 5, "creation_date": 1533144011, "post_id": 31037360, "comment_id": 90242311, "body": "@Chris         df.describe()"}, {"owner": {"reputation": 1513, "user_id": 1051028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b6f46636522663dc8d0e08b80f5d10d?s=128&d=identicon&r=PG", "display_name": "emschorsch", "link": "https://stackoverflow.com/users/1051028/emschorsch"}, "reply_to_user": {"reputation": 873, "user_id": 4038362, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3874a22fa5e928c82d13576f3e6a62c0?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/4038362/chris"}, "edited": false, "score": 3, "creation_date": 1550796114, "post_id": 31037360, "comment_id": 96412679, "body": "@Chris df.mean() gives you the weight of each column and returns it in a series."}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 321, "last_activity_date": 1435181176, "creation_date": 1435181176, "answer_id": 31037360, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/31037360#31037360", "title": "pandas get column average/mean", "body": "<p>If you only want the mean of the <code>weight</code> column, select the column (which is a Series) and call <code>.mean()</code>:</p>\n\n<pre><code>In [479]: df\nOut[479]: \n         ID  birthyear    weight\n0    619040       1962  0.123123\n1    600161       1963  0.981742\n2  25602033       1963  1.312312\n3    624870       1987  0.942120\n\nIn [480]: df[\"weight\"].mean()\nOut[480]: 0.83982437500000007\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 892, "user_id": 3853537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/prGTd.jpg?s=128&g=1", "display_name": "Zhanwen Chen", "link": "https://stackoverflow.com/users/3853537/zhanwen-chen"}, "edited": false, "score": 1, "creation_date": 1554481716, "post_id": 50227006, "comment_id": 97782829, "body": "<code>display(df.describe())</code> is better (in Jupyter Notebooks) because <code>display</code> from ipython provides formatted HTML rather than ASCII, which is more visually useful/pleasing."}], "tags": [], "owner": {"reputation": 351, "user_id": 6048694, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/LjmZO.jpg?s=128&g=1", "display_name": "nainometer", "link": "https://stackoverflow.com/users/6048694/nainometer"}, "is_accepted": false, "score": 17, "last_activity_date": 1525760043, "creation_date": 1525760043, "answer_id": 50227006, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/50227006#50227006", "title": "pandas get column average/mean", "body": "<p>Do try to give <code>print (df.describe())</code> a shot. I hope it will be very helpful to get an overall description of your dataframe.</p>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 10198025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcc28eb41a5915b6bae7671ce776856c?s=128&d=identicon&r=PG&f=1", "display_name": "Chandu", "link": "https://stackoverflow.com/users/10198025/chandu"}, "is_accepted": false, "score": 29, "last_activity_date": 1551976528, "last_edit_date": 1551976528, "creation_date": 1533746318, "answer_id": 51751664, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/51751664#51751664", "title": "pandas get column average/mean", "body": "<p>Try <code>df.mean(axis=0)</code> , <code>axis=0</code> argument calculates the column wise mean of the dataframe so the result will be <code>axis=1</code> is row wise mean so you are getting multiple values.</p>\n"}, {"comments": [{"owner": {"reputation": 2065, "user_id": 1171355, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/33d6fe1371a973f3ae406d5bce07bab7?s=128&d=identicon&r=PG", "display_name": "Mehdi Boukhechba", "link": "https://stackoverflow.com/users/1171355/mehdi-boukhechba"}, "edited": false, "score": 2, "creation_date": 1544624954, "post_id": 53523136, "comment_id": 94342741, "body": "This is a duplicate of the answers mentioned above."}], "tags": [], "owner": {"reputation": 109, "user_id": 9625152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RoXHBHSkCwY/AAAAAAAAAAI/AAAAAAAAAco/Wfc7yOL-xFA/photo.jpg?sz=128", "display_name": "Arun Singh", "link": "https://stackoverflow.com/users/9625152/arun-singh"}, "is_accepted": false, "score": 8, "last_activity_date": 1543419703, "creation_date": 1543419703, "answer_id": 53523136, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/53523136#53523136", "title": "pandas get column average/mean", "body": "<p>you can use    </p>\n\n<pre><code>df.describe() \n</code></pre>\n\n<p>you will get basic statistics of the dataframe and to get mean of specific column you can use    </p>\n\n<pre><code>df[\"columnname\"].mean()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2122, "user_id": 5967252, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Edxmf.jpg?s=128&g=1", "display_name": "Nikos Tavoularis", "link": "https://stackoverflow.com/users/5967252/nikos-tavoularis"}, "is_accepted": false, "score": 8, "last_activity_date": 1563317613, "creation_date": 1563317613, "answer_id": 57066436, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/57066436#57066436", "title": "pandas get column average/mean", "body": "<p>You can also access a column using the dot notation (also called attribute access) and then calculate its mean:</p>\n\n<pre><code>df.your_column_name.mean()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6533, "user_id": 2119941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XA1Jr.jpg?s=128&g=1", "display_name": "Harvey", "link": "https://stackoverflow.com/users/2119941/harvey"}, "is_accepted": false, "score": 7, "last_activity_date": 1574699475, "creation_date": 1574699475, "answer_id": 59036244, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/59036244#59036244", "title": "pandas get column average/mean", "body": "<p>Mean for each column in  <code>df</code> :</p>\n\n<pre><code>    A   B   C\n0   5   3   8\n1   5   3   9\n2   8   4   9\n\ndf.mean()\n\nA    6.000000\nB    3.333333\nC    8.666667\ndtype: float64\n</code></pre>\n\n<p>and if you want average of all columns:</p>\n\n<pre><code>df.stack().mean()\n6.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15038, "user_id": 463621, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xZY2t.png?s=128&g=1", "display_name": "Don", "link": "https://stackoverflow.com/users/463621/don"}, "edited": false, "score": 0, "creation_date": 1574766893, "post_id": 59048319, "comment_id": 104339739, "body": "Please, enrich your answer with proper comments. Otherwise it is likely to be marked for deletion"}], "tags": [], "owner": {"reputation": 1838, "user_id": 2876271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zYl2m.png?s=128&g=1", "display_name": "davidbilla", "link": "https://stackoverflow.com/users/2876271/davidbilla"}, "is_accepted": false, "score": 1, "last_activity_date": 1590708815, "last_edit_date": 1590708815, "creation_date": 1574762661, "answer_id": 59048319, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/59048319#59048319", "title": "pandas get column average/mean", "body": "<p>You can use either of the two statements below:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>numpy.mean(df['col_name'])\n# or\ndf['col_name'].mean()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11482512, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4I8nCAHHYMk/AAAAAAAAAAI/AAAAAAAAAi4/sCQ3B9eb_d4/photo.jpg?sz=128", "display_name": "HUNTER", "link": "https://stackoverflow.com/users/11482512/hunter"}, "is_accepted": false, "score": 0, "last_activity_date": 1612426635, "last_edit_date": 1612426635, "creation_date": 1577256532, "answer_id": 59475912, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/59475912#59475912", "title": "pandas get column average/mean", "body": "<p>You can easily follow the following code</p>\n<pre><code>import pandas as pd \nimport numpy as np \n        \nclassxii = {'Name':['Karan','Ishan','Aditya','Anant','Ronit'],\n            'Subject':['Accounts','Economics','Accounts','Economics','Accounts'],\n            'Score':[87,64,58,74,87],\n            'Grade':['A1','B2','C1','B1','A2']}\n\ndf = pd.DataFrame(classxii,index = ['a','b','c','d','e'],columns=['Name','Subject','Score','Grade'])\nprint(df)\n\n#use the below for mean if you already have a dataframe\nprint('mean of score is:')\nprint(df[['Score']].mean())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3145, "user_id": 2971215, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/y9qFc.jpg?s=128&g=1", "display_name": "Md. Tanvir Raihan", "link": "https://stackoverflow.com/users/2971215/md-tanvir-raihan"}, "is_accepted": false, "score": 2, "last_activity_date": 1590475741, "creation_date": 1590475741, "answer_id": 62016192, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/62016192#62016192", "title": "pandas get column average/mean", "body": "<p>Additionally if you want to get the <code>round</code> value after finding the <code>mean</code>.</p>\n\n<pre><code>#Create a DataFrame\ndf1 = {\n    'Subject':['semester1','semester2','semester3','semester4','semester1',\n               'semester2','semester3'],\n   'Score':[62.73,47.76,55.61,74.67,31.55,77.31,85.47]}\ndf1 = pd.DataFrame(df1,columns=['Subject','Score'])\n\nrounded_mean = round(df1['Score'].mean()) # specified nothing as decimal place\nprint(rounded_mean) # 62\n\nrounded_mean_decimal_0 = round(df1['Score'].mean(), 0) # specified decimal place as 0\nprint(rounded_mean_decimal_0) # 62.0\n\nrounded_mean_decimal_1 = round(df1['Score'].mean(), 1) # specified decimal place as 1\nprint(rounded_mean_decimal_1) # 62.2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 236, "user_id": 12386167, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB7WgphqUW-hLEvd9HEca3I_ewG9YjbiPQdBcoy=k-s128", "display_name": "SHAGUN SHARMA", "link": "https://stackoverflow.com/users/12386167/shagun-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1591963435, "creation_date": 1591963435, "answer_id": 62343929, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/62343929#62343929", "title": "pandas get column average/mean", "body": "<p>You can simply go for:\n        df.describe()\nthat will provide you with all the relevant details you need, but to find the min, max or average value of a particular column (say 'weights' in your case), use:</p>\n\n<pre><code>    df['weights'].mean(): For average value\n    df['weights'].max(): For maximum value\n    df['weights'].min(): For minimum value\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 682, "user_id": 2014905, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/09f1059060a2a998cfeb08531cdffe92?s=128&d=identicon&r=PG&f=1", "display_name": "kklw", "link": "https://stackoverflow.com/users/2014905/kklw"}, "is_accepted": false, "score": 0, "last_activity_date": 1606475769, "creation_date": 1606475769, "answer_id": 65036436, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/65036436#65036436", "title": "pandas get column average/mean", "body": "<p>Do note that it needs to be in the numeric data type in the first place.</p>\n<pre><code> import pandas as pd\n df['column'] = pd.to_numeric(df['column'], errors='coerce')\n</code></pre>\n<p>Next find the mean on one column or for all numeric columns using <code>describe()</code>.</p>\n<pre><code>df['column'].mean()\ndf.describe()\n</code></pre>\n<p>Example of result from describe:</p>\n<pre><code>          column \ncount    62.000000 \nmean     84.678548 \nstd     216.694615 \nmin      13.100000 \n25%      27.012500 \n50%      41.220000 \n75%      70.817500 \nmax    1666.860000\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 10225024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Qs3jRU82FR8/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rj0ww_XY9_94NScQEtqpFZMez8TQ/mo/photo.jpg?sz=128", "display_name": "Ekane 3", "link": "https://stackoverflow.com/users/10225024/ekane-3"}, "is_accepted": false, "score": 0, "last_activity_date": 1614783933, "last_edit_date": 1614783933, "creation_date": 1614763879, "answer_id": 66454251, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean/66454251#66454251", "title": "pandas get column average/mean", "body": "<p>For that, you just have to follow this syntax :</p>\n<pre><code>df.['columnName'].mean()\n</code></pre>\n"}], "owner": {"reputation": 7143, "user_id": 1398915, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/v1nEp.jpg?s=128&g=1", "display_name": "PepperoniPizza", "link": "https://stackoverflow.com/users/1398915/pepperonipizza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 602427, "favorite_count": 28, "accepted_answer_id": 31037360, "answer_count": 12, "score": 192, "last_activity_date": 1614783933, "creation_date": 1435180931, "last_edit_date": 1595358888, "question_id": 31037298, "link": "https://stackoverflow.com/questions/31037298/pandas-get-column-average-mean", "title": "pandas get column average/mean", "body": "<p>I can't get the average or mean of a column in pandas. A have a dataframe. Neither of things I tried below gives me the average of the column <code>weight</code></p>\n\n<pre><code>&gt;&gt;&gt; allDF \n         ID           birthyear  weight\n0        619040       1962       0.1231231\n1        600161       1963       0.981742\n2      25602033       1963       1.3123124     \n3        624870       1987       0.94212\n</code></pre>\n\n<p>The following returns several values, not one:</p>\n\n<pre><code>allDF[['weight']].mean(axis=1)\n</code></pre>\n\n<p>So does this:</p>\n\n<pre><code>allDF.groupby('weight').mean()\n</code></pre>\n"}, {"tags": ["python", "multiprocessing", "github-api"], "answers": [{"tags": [], "owner": {"reputation": 15097, "user_id": 1673062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff743b4cba28cc47ad65cb90212c1e51?s=128&d=identicon&r=PG", "display_name": "Ivan Zuzak", "link": "https://stackoverflow.com/users/1673062/ivan-zuzak"}, "is_accepted": false, "score": 0, "last_activity_date": 1435394044, "creation_date": 1435394044, "answer_id": 31086774, "question_id": 31037226, "link": "https://stackoverflow.com/questions/31037226/python-multiprocessing-try-to-request-github-api-with-two-tokens-in-parallel/31086774#31086774", "title": "Python multiprocessing try to request GitHub api with two tokens in parallel", "body": "<blockquote>\n  <p>I asked GitHub but got no reply yet.</p>\n</blockquote>\n\n<p>As I mentioned in the reply to your message -- using two tokens from the same user will not grant you a better rate limit because the rate limit for authenticated requests is per-user (not per-user per-token). And I'd strongly discourage you from creating multiple free accounts and using tokens from those as a way to work around the rate limit (since it's not allowed by the ToS).</p>\n"}], "owner": {"reputation": 225, "user_id": 4110754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/28fb5c075940d2d15a985b1c57a2145f?s=128&d=identicon&r=PG&f=1", "display_name": "Shengjie Zhang", "link": "https://stackoverflow.com/users/4110754/shengjie-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1435394044, "creation_date": 1435180672, "last_edit_date": 1435183223, "question_id": 31037226, "link": "https://stackoverflow.com/questions/31037226/python-multiprocessing-try-to-request-github-api-with-two-tokens-in-parallel", "title": "Python multiprocessing try to request GitHub api with two tokens in parallel", "body": "<p>I'm trying to use function bucket() request GitHub API users' info with two access tokens in parallel. Then save users' info into a csv file. The reason why I'm doing this is to surpass GitHub API rate limit. Please ignore whether GitHub will block me or not. (I asked GitHub but got no reply yet.)\nMy approach is using Python multiprocessing library to run same function with different parameters in parallel. Actually, those two processes I created run sequentially, not in parallel. \nHere is my code:</p>\n\n<pre><code>import requests\nimport csv\nimport time\nfrom multiprocessing import Process\n\n# *************Construct url************\nurl1 = 'https://api.github.com/users'\nurl2 = 'https://api.github.com/users?since=1000000'\ntoken1 = 'my_token1'\ntoken2 = 'my_token2'\nheaders1 = {'Authorization': 'token %s' % token1}\nheaders2 = {'Authorization': 'token %s' % token2}\nparams = {'per_page': 100}\n\ndef bucket(url, header, params, file_path):\n    count = 0\n    cnt = 0\n    csv_file = open(file_path, 'a', buffering=0)\n    writer = csv.writer(csv_file)\n    while count &lt; 1:    # just run 100 users' profile to see result fast\n        r = requests.get(url, headers=header, params=params)  # get user's basic info, 100 users/request\n        users = r.json()\n        for user in users:\n            user_profile = requests.get(user['url'], headers=header).json()  # get user's detailed profile, 1 user/request\n            field_names = user_profile.keys()\n            line = []\n            for field in field_names:\n                if (field in user_profile) and user_profile[field]:\n                    if isinstance(user_profile[field], basestring):\n                        line.append(user_profile[field].encode('utf-8'))\n                    else:\n                        line.append(user_profile[field])\n                else:\n                    line.append('NULL')\n            writer.writerow(line)\n            cnt += 1\n            print cnt\n            time.sleep(0.75)\n        try:\n            url = r.links['next'].get('url')   # get url for next page (100 users/page), 1 page is one request\n        except:\n            break\n        print(r.headers['X-RateLimit-Remaining'])\n        count += 1\n\nif __name__ == '__main__':\n  p1 = Process(target=bucket(url3, headers3, params, 'GitHub_users3.csv'))\n  p1.start()\n  p2 = Process(target=bucket(url4, headers4, params, 'GitHub_users4.csv'))\n  p2.start()\n  p1.join()\n  p2.join()\n</code></pre>\n\n<p>Could someone help me accomplish the goal? If you would like to share any idea that can pass GitHub api rate limit, I'm happy to learn. Thanks.</p>\n"}, {"tags": ["javascript", "jquery", "python", "json", "post"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435182058, "post_id": 31037087, "comment_id": 50099198, "body": "The function parameter to <code>getJSON</code> is called when the data is returned, so it has nothing to do with what gets sent. Note that <code>getJSON</code> means it is a GET, not a POST, though."}, {"owner": {"reputation": 107, "user_id": 5021856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54a3892b3414848b81c29dcc42e23d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Costa", "link": "https://stackoverflow.com/users/5021856/gustavo-costa"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435183261, "post_id": 31037087, "comment_id": 50099741, "body": "I see. Does that mean the output of <code>getJSON</code> is stored in data and then passed to <code>UpdateStuff(data)</code>?"}, {"owner": {"reputation": 107, "user_id": 5021856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54a3892b3414848b81c29dcc42e23d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Costa", "link": "https://stackoverflow.com/users/5021856/gustavo-costa"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435184681, "post_id": 31037087, "comment_id": 50100289, "body": "If I understand correctly, while it is getJSON there is in fact data being sent to the server with the url. <code>function(data){UpdateStuff(data);}</code> is being sent as the getJSON data parameter"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435212860, "post_id": 31037087, "comment_id": 50107762, "body": "No, not at all. If there was data, it would be passed as an object parameter in the second place. The function is called with the <i>result</i> that comes back from the server."}, {"owner": {"reputation": 107, "user_id": 5021856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54a3892b3414848b81c29dcc42e23d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Costa", "link": "https://stackoverflow.com/users/5021856/gustavo-costa"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435251916, "post_id": 31037087, "comment_id": 50134192, "body": "I changed the parameters of my request to include cookies and removed the referer as such: <code>s.post(url, data = cookies)</code> and its working for now. Thanks for your input Daniel"}], "owner": {"reputation": 107, "user_id": 5021856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c54a3892b3414848b81c29dcc42e23d0?s=128&d=identicon&r=PG&f=1", "display_name": "Gustavo Costa", "link": "https://stackoverflow.com/users/5021856/gustavo-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435180180, "creation_date": 1435180180, "question_id": 31037087, "link": "https://stackoverflow.com/questions/31037087/json-post-using-python-requests", "title": "JSON post using Python requests", "body": "<p>I am using python 2.7 on windows 7 with requests requests module. </p>\n\n<p>I am trying to find the source of some data from a website that uses AJAX/javascript to drive events. </p>\n\n<p>Here is my python post:</p>\n\n<pre><code>result = s.post(url, headers = {'referer': my_referer})\n</code></pre>\n\n<p>The output from this post looks like this: </p>\n\n<pre><code>{\"ADATA\":{\"COUNT\":0.0,\"AITEM\":[]},\"WM\":0.0,\"CM\":0.0,\"PC\":\"\",\"PW\":\"\",\"NC\":14,\"RR\":false,\"RTIME\":{\"RITEM\":[],\"COUNT\":0.0},\"WC\":1.0,\"CC\":1.0,\"RW\":false,\"RA\":false,\"RC\":true} \n</code></pre>\n\n<p><code>\"AITEM\":[]</code> should be populated with all the data I'm after but as you see its not. Also <code>RC:</code> should be <code>false</code>. Or at least it is when I go through my browser</p>\n\n<p>Note that I get <code>\"RA\":true</code> and <code>\"RC\":false</code> if I use get instead of post request. I dont know why. </p>\n\n<p>Here is the corresponding post in the javascript server side: </p>\n\n<pre><code>$.getJSON (url, function(data){UpdateStuff(data);});\n</code></pre>\n\n<p>Disclaimer: I have been programming for about a week now. </p>\n\n<p>This JSON post is in a function that receives no parameters and returns nothing as far as I can tell. <code>data</code> is not referenced in the function prior to the post. I dont really understand what <code>function(data)</code> is. <code>UpdateStuff(data)</code> is another function with a bunch of code that takes <code>data</code> and returns nothing. The code reveals some stuff about the data structure with references such as:</p>\n\n<pre><code>if (data.RA){resetAL();} else {\nif (data.RR ){objAR.attr('ref','Y');}\nif (data.RC ){objAC.attr('ref','Y');}\nif (data.RW ){objAW.attr('ref','Y');}\n</code></pre>\n\n<p>Which I guess I am failing this logic gate since my data is different than what I see in a successful browser request.</p>\n\n<p>and references to <code>data.ADATA.COUNT</code> and <code>data.ADATA.AITEM[i]</code> etc</p>\n\n<p>I've been told this would be much simpler to write in JS but I have about 70% of this program done in python already and I've never used JS. </p>\n\n<p>Any help is greatly appreciated. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1435218441, "post_id": 31037034, "comment_id": 50110979, "body": "Please accept Ami&#39;s answer so this question does not remain unanswered, thanks"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 3902996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1371519069/picture?type=large", "display_name": "Wei-Ting Liao", "link": "https://stackoverflow.com/users/3902996/wei-ting-liao"}, "edited": false, "score": 0, "creation_date": 1435184010, "post_id": 31037243, "comment_id": 50100019, "body": "Cool. This is much more elegant than my solution. Thanks a lot."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": true, "score": 5, "last_activity_date": 1435180732, "creation_date": 1435180732, "answer_id": 31037243, "question_id": 31037034, "link": "https://stackoverflow.com/questions/31037034/pandas-data-frame-to-dictionary-with-two-keys-from-index-and-columns/31037243#31037243", "title": "Pandas data frame to dictionary with two keys from index and columns", "body": "<p>You simply need to <a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.stack.html\" rel=\"noreferrer\"><code>stack</code></a> and then call <a href=\"http://pandas.pydata.org/pandas-docs/dev/generated/pandas.DataFrame.to_dict.html\" rel=\"noreferrer\"><code>to_dict</code></a>:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({'a': [1, 2], 'b': [3, 4]})\n&gt;&gt; df\n    a   b\n0   1   3\n1   2   4\n\n&gt;&gt; df.stack().to_dict()\n{(0, 'a'): 1, (0, 'b'): 3, (1, 'a'): 2, (1, 'b'): 4}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 3902996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1371519069/picture?type=large", "display_name": "Wei-Ting Liao", "link": "https://stackoverflow.com/users/3902996/wei-ting-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1389, "favorite_count": 0, "accepted_answer_id": 31037243, "answer_count": 1, "score": 2, "last_activity_date": 1435180732, "creation_date": 1435179972, "question_id": 31037034, "link": "https://stackoverflow.com/questions/31037034/pandas-data-frame-to-dictionary-with-two-keys-from-index-and-columns", "title": "Pandas data frame to dictionary with two keys from index and columns", "body": "<p>I am working on converting data frame to dictionary with two keys, which one is from index and another is from columns. I found a way with \"for loops\". I am curious that is there any more efficient way for this?</p>\n\n<pre><code>HarvesterData_df = pd.read_csv('HarvesterData.csv').set_index('Feature')\nHarvesterData_df.index.name = None\n</code></pre>\n\n<p>The data frame looks like this.</p>\n\n<pre><code>                          265 HP Combine  305 HP Combine  385 HP Combine\n  PurchasePrice              291550.00       342125.00       430950.00   \n  AnnualInterest              42671.91        50074.18        63074.80   \n  Throughput                     33.19           44.26           66.39   \n  Speed                           5.50            5.50            5.50   \n  Width                           4.57            6.10            9.14   \n  Efficiency                      0.90            0.90            0.90   \n  Horsepower                    265.00          305.00          385.00   \n  FuelConsumption                11.61           13.36           16.86   \n  LaborCost                      14.50           14.50           14.50   \n  CombinePrice               293000.00       337000.00       407000.00   \n  CornHeadPrice               50000.00        65500.00       100000.00   \n  RowNumber                       6.00            8.00           12.00   \n  TheorticalThroughput           27.66           36.88           55.32   \n</code></pre>\n\n<p>And I want to convert it to a dictionary has keys based on index and columns. I try:</p>\n\n<pre><code>HarvesterData = {(r,c): HarvesterData_df.loc[r][c] for r in HarvesterData_df.index.tolist() for c in HarvesterData_df.columns.tolist()}\n</code></pre>\n\n<p>The output is perfect and exactly what I want. However, can I do it without loops in Pandas?</p>\n\n<pre><code>{('AnnualInterest', '265 HP Combine'): 42671.910000000003,\n ('AnnualInterest', '305 HP Combine'): 50074.18,\n ('AnnualInterest', '385 HP Combine'): 63074.800000000003,\n ('AnnualInterest', '440 HP Combine'): 72778.619999999995,\n ('CombinePrice', '265 HP Combine'): 293000.0,\n ('CombinePrice', '305 HP Combine'): 337000.0,\n ('CombinePrice', '385 HP Combine'): 407000.0,\n ('CombinePrice', '440 HP Combine'): 455000.0,\n ('CornHeadPrice', '265 HP Combine'): 50000.0,\n ('CornHeadPrice', '305 HP Combine'): 65500.0,\n ('CornHeadPrice', '385 HP Combine'): 100000.0,\n ('CornHeadPrice', '440 HP Combine'): 130000.0,\n ('Efficiency', '265 HP Combine'): 0.90000000000000002,\n ('Efficiency', '305 HP Combine'): 0.90000000000000002,\n ('Efficiency', '385 HP Combine'): 0.90000000000000002,\n ('Efficiency', '440 HP Combine'): 0.90000000000000002, ...\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180019, "post_id": 31037025, "comment_id": 50098210, "body": "Use <code>soup.find(&quot;table&quot;).find(&#39;th&#39;, text = &#39;Foo&#39;)</code> to get the first"}, {"owner": {"reputation": 319, "user_id": 1650158, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bfbcf7905facb8e600217ad097541564?s=128&d=identicon&r=PG", "display_name": "Bob Wassermann", "link": "https://stackoverflow.com/users/1650158/bob-wassermann"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180234, "post_id": 31037025, "comment_id": 50098327, "body": "@PadraicCunningham Then the object is no longer iterable"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435180442, "post_id": 31037025, "comment_id": 50098434, "body": "@BobWassermann if I am not mistaken you can create another soup object from it."}, {"owner": {"reputation": 319, "user_id": 1650158, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bfbcf7905facb8e600217ad097541564?s=128&d=identicon&r=PG", "display_name": "Bob Wassermann", "link": "https://stackoverflow.com/users/1650158/bob-wassermann"}, "reply_to_user": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435180530, "post_id": 31037025, "comment_id": 50098485, "body": "@RishavKundu That would be sweet, do you have any reference for this so I can search a bit further?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180607, "post_id": 31037025, "comment_id": 50098525, "body": "Are you trying to find the first table on the page, or the first table in the element you find with soup.select? You can call .find on soup.select(table) so I don&#39;t see where the issue is"}, {"owner": {"reputation": 319, "user_id": 1650158, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bfbcf7905facb8e600217ad097541564?s=128&d=identicon&r=PG", "display_name": "Bob Wassermann", "link": "https://stackoverflow.com/users/1650158/bob-wassermann"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180661, "post_id": 31037025, "comment_id": 50098555, "body": "@PadraicCunningham First table element. Then putting more statements/checks on this"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180703, "post_id": 31037025, "comment_id": 50098573, "body": "@BobWassermann, .find is going to return the first table"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180705, "post_id": 31037025, "comment_id": 50098574, "body": "@PadraicCunningham I guess he wants to find the first table which satisfies some conditions."}, {"owner": {"reputation": 319, "user_id": 1650158, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bfbcf7905facb8e600217ad097541564?s=128&d=identicon&r=PG", "display_name": "Bob Wassermann", "link": "https://stackoverflow.com/users/1650158/bob-wassermann"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435180848, "post_id": 31037025, "comment_id": 50098637, "body": "@PadraicCunningham <code>Object has no attribute find</code>, here&#39;s a greater context: <a href=\"https://gist.github.com/BobWassermann/e998fd6fd99d13f53dbb\" rel=\"nofollow noreferrer\">gist.github.com/BobWassermann/e998fd6fd99d13f53dbb</a>"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435180986, "post_id": 31037025, "comment_id": 50098705, "body": "@BobWassermann <code>for i in soup.select(&#39;div#mw-content-text table.infobox\u2019)</code> this can only ever match one element (it\u2019s an ID selector)"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435181054, "post_id": 31037025, "comment_id": 50098730, "body": "@BobWassermann, can you share the url you want to get the data from?"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435181157, "post_id": 31037025, "comment_id": 50098771, "body": "@BobWassermann, it\u2019s simple, after doing select, pass the first element of the returned list to the BeautifulSoup constructor, and find will be available."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435181238, "post_id": 31037025, "comment_id": 50098807, "body": "@RishavKundu wrong: in this html <code>&lt;div id=&quot;mw-content-text&quot;&gt;&lt;table class=&quot;infobox&quot; &#47;&gt;&lt;table class=&quot;infobox&quot; &#47;&gt;&lt;&#47;div&gt;</code> your selector <code>soup.select(&#39;div#mw-content-text table.infobox\u2019)</code> will match twice"}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1435181406, "post_id": 31037025, "comment_id": 50098886, "body": "@mescalinum ah yes, I made a mistake, there are two selectors there."}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "reply_to_user": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1435181519, "post_id": 31037025, "comment_id": 50098945, "body": "@mescalinum but the general idea holds, you can create new soup objects from the elements returned by <code>select</code>."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "edited": false, "score": 0, "creation_date": 1435181663, "post_id": 31037025, "comment_id": 50099010, "body": "yes, and anyway the <code>bs4.element.Tag</code> class (returned by most of BS methods) has the same BS methods, so you can chain methods like <code>soup.find(&#39;tag&#39;).select(&#39;my#cool css .selector)[0].find(&#39;anothertag&#39;)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1435182334, "post_id": 31037601, "comment_id": 50099342, "body": "Your answer is better."}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": true, "score": 3, "last_activity_date": 1435182094, "creation_date": 1435182094, "answer_id": 31037601, "question_id": 31037025, "link": "https://stackoverflow.com/questions/31037025/soup-select-get-only-first-result-back/31037601#31037601", "title": "Soup.select, get only first result back", "body": "<p>One way is to <code>break</code> right after the first iteration:</p>\n\n<pre><code>for i in soup.select('table'):\n    if i.find('th', text = 'Foo'):\n        ...\n    break\n</code></pre>\n\n<p>Another one is to chain methods, and catch exception if element not found:</p>\n\n<pre><code>try:\n    el = soup.select('table')[0].find('th', text='Foo')\nexcept AttributeError, TypeError:\n    print('element not found')\n</code></pre>\n\n<p>Note: <code>soup.select('table')[0]</code> and <code>soup.find('table')</code> give the same result</p>\n"}], "owner": {"reputation": 319, "user_id": 1650158, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bfbcf7905facb8e600217ad097541564?s=128&d=identicon&r=PG", "display_name": "Bob Wassermann", "link": "https://stackoverflow.com/users/1650158/bob-wassermann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2674, "favorite_count": 0, "accepted_answer_id": 31037601, "answer_count": 1, "score": 3, "last_activity_date": 1435182094, "creation_date": 1435179938, "question_id": 31037025, "link": "https://stackoverflow.com/questions/31037025/soup-select-get-only-first-result-back", "title": "Soup.select, get only first result back", "body": "<p>Is there any way to just get the first result back from <code>for i soup.select(table)</code>? I just want the first table, every table after it should be ignored. The code is followed by an if statement: <code>if i.find('th', text = 'Foo'):</code></p>\n\n<p><strong>TLDR;</strong></p>\n\n<p>Looking for something like this: <code>if i[0].find('th', text = 'Foo'):</code></p>\n"}, {"tags": ["android", "python", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 4962917, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c72dedf0f62ee4d9bacfe89ae5057db8?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4962917/jamie"}, "edited": false, "score": 0, "creation_date": 1435240165, "post_id": 31037231, "comment_id": 50125490, "body": "It throws an error saying that None is not allowed and doesn&#39;t doesn&#39;t anything."}], "tags": [], "owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "is_accepted": false, "score": 1, "last_activity_date": 1435180688, "creation_date": 1435180688, "answer_id": 31037231, "question_id": 31037008, "link": "https://stackoverflow.com/questions/31037008/kivy-rules-and-properties/31037231#31037231", "title": "Kivy Rules and Properties", "body": "<p>Your InputMaker rule references self.text when you really want to bind to root.text.</p>\n"}], "owner": {"reputation": 89, "user_id": 4962917, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/c72dedf0f62ee4d9bacfe89ae5057db8?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie", "link": "https://stackoverflow.com/users/4962917/jamie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435246395, "creation_date": 1435179884, "last_edit_date": 1435246395, "question_id": 31037008, "link": "https://stackoverflow.com/questions/31037008/kivy-rules-and-properties", "title": "Kivy Rules and Properties", "body": "<p>I'm trying to have the text of my InputMaker Button be specified when I apply the ModuleMaker rule in ModuleLayout. However, no text is showing up (i.e \"Yo\") when I run the program. Source seems to be working fine, but text is not.</p>\n\n<pre><code>   &lt;InputMaker@Button&gt;:\n        text: self.text\n        pos: self.pos\n        size: self.size\n        background_normal:'./images/modone.png'\n\n    &lt;ModuleMaker&gt;:\n        size: 150, 150\n        source: self.source\n        text: self.text\n\n        canvas:\n            Ellipse:\n                pos: self.pos\n                size: self.size\n                source: self.source\n        InputMaker:\n            id: btnone\n            text: self.text\n            pos: self.parent.pos\n\n\n\n    &lt;ModuleLayout&gt;:\n        moduleone: one\n        moduletwo: two\n        modulethree: three\n\n        ModuleMaker:\n            id: one\n            center_y: root.center_y\n            x: root.x +300\n            source: './images/modone.png'\n            text: \"YO\"\n\n        ModuleMaker:\n            id: two\n            center_y: root.center_y\n            x: root.x+400\n            source: './images/modtwo.png'\n\n        ModuleMaker:\n            id: three\n            center_y: root.center_y\n            x: root.x+500\n            source: './images/modthree.png'\n</code></pre>\n"}, {"tags": ["python", "django", "django-cms"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5046321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92af13e5adc7881dfa38eb14e26c4aa7?s=128&d=identicon&r=PG&f=1", "display_name": "Bremsstrahlung", "link": "https://stackoverflow.com/users/5046321/bremsstrahlung"}, "edited": false, "score": 0, "creation_date": 1435181751, "post_id": 31037174, "comment_id": 50099052, "body": "This does work on extended fields in the Page model but it does not seem to work on the Title model. For example, i have a class TeaserExtension(TitleExtension) and a field called &#39;teaser&#39;. If i now call {{ request.current_page.teaserextension.teaser }} i get no value returned."}, {"owner": {"reputation": 1, "user_id": 5046321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92af13e5adc7881dfa38eb14e26c4aa7?s=128&d=identicon&r=PG&f=1", "display_name": "Bremsstrahlung", "link": "https://stackoverflow.com/users/5046321/bremsstrahlung"}, "edited": false, "score": 0, "creation_date": 1435186442, "post_id": 31037174, "comment_id": 50100869, "body": "Ok! I finaly got it, I misunderstood the table model. I managed to call it by its related name."}], "tags": [], "owner": {"reputation": 5095, "user_id": 401705, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/90d848472929b794fa04d1326ce91e2b?s=128&d=identicon&r=PG", "display_name": "Lee", "link": "https://stackoverflow.com/users/401705/lee"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180459, "creation_date": 1435180459, "answer_id": 31037174, "question_id": 31036984, "link": "https://stackoverflow.com/questions/31036984/django-cms-how-to-access-extended-fields-of-the-title-model/31037174#31037174", "title": "Django-CMS: How to access extended fields of the Title model", "body": "<p>You would access the data via the request current_page object found in the template context... For example:</p>\n\n<pre><code>{{ request.current_page.iconextension.field }}  \n</code></pre>\n\n<p><a href=\"http://django-cms.readthedocs.org/en/latest/how_to/extending_page_title.html#using-extensions-in-templates\" rel=\"nofollow\">Doc ref</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5046321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92af13e5adc7881dfa38eb14e26c4aa7?s=128&d=identicon&r=PG&f=1", "display_name": "Bremsstrahlung", "link": "https://stackoverflow.com/users/5046321/bremsstrahlung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 93, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435180459, "creation_date": 1435179810, "question_id": 31036984, "link": "https://stackoverflow.com/questions/31036984/django-cms-how-to-access-extended-fields-of-the-title-model", "title": "Django-CMS: How to access extended fields of the Title model", "body": "<p>I need to extend the Title model as I want to provide a teaser to every page of a multi lingual project. I was able to create the desired extended fields and a cms-toolbar item to assign values to the extended fields.</p>\n\n<p>How can I access extended fields of the Title model in django-cms-3.0.12 as they are not available via {% page_attribute 'extended_field' %} in the template. The django-cms documentation does not seem to provide an answer to my question, nor am I able to find an easy solution in the cms code base as well.</p>\n\n<p>Best Regards.</p>\n"}, {"tags": ["python", "image-processing", "numpy", "scikit-image", "geotiff"], "comments": [{"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1435182049, "post_id": 31036971, "comment_id": 50099194, "body": "Maybe try <code>image = plt.imread(&#39;C:\\path\\to\\my\\geotiff.tif&#39;);</code>"}, {"owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "reply_to_user": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1435182593, "post_id": 31036971, "comment_id": 50099474, "body": "@I&#39;L&#39;I I get the following error when using that approach: <code>ValueError: the input array must be have a shape == (.., ..,[ ..,] 3)), got (436, 553, 4)</code>"}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1435183986, "post_id": 31036971, "comment_id": 50100008, "body": "There is another way you could try with the import statement: <code>from skimage import io; io.use_plugin(&#39;matplotlib&#39;)</code>- see <a href=\"http://stackoverflow.com/questions/23343517/scikit-learn-valueerror-can-not-convert-object-to-float64\">here</a>, or perhaps try <code>pil</code> instead of <code>plt</code>. Otherwise you could probably use <code>numpy.reshape</code> to get the correct array."}], "answers": [{"comments": [{"owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "edited": false, "score": 0, "creation_date": 1435181432, "post_id": 31037255, "comment_id": 50098900, "body": "When I run <code>img = img_as_float(image)</code> I get the following error: <code>ValueError: can not convert |S45 to float64</code>.  Any thoughts?"}, {"owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "reply_to_user": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "edited": false, "score": 0, "creation_date": 1435244406, "post_id": 31037255, "comment_id": 50129113, "body": "Sorry that that didn&#39;t work. You may want to check out <a href=\"http://scikit-image.org/docs/dev/api/skimage.external.tifffile.html\" rel=\"nofollow noreferrer\">scikit-image.org/docs/dev/api/skimage.external.tifffile.html</a>"}], "tags": [], "owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180775, "creation_date": 1435180775, "answer_id": 31037255, "question_id": 31036971, "link": "https://stackoverflow.com/questions/31036971/how-to-perform-image-segmentation-on-4-band-geotiff-using-pythons-scikit-image/31037255#31037255", "title": "How to perform image segmentation on 4-band geotiff using Python&#39;s scikit-image?", "body": "<p>2 crucial lines from the example in your linked page,</p>\n\n<pre><code>from skimage.util import img_as_float\nimg = img_as_float(image[::2, ::2])\n</code></pre>\n\n<p>That is, you are correct. You do need to convert your image to another format. Convert it using img_as_float().</p>\n"}, {"comments": [{"owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "edited": false, "score": 0, "creation_date": 1435675832, "post_id": 31092361, "comment_id": 50293769, "body": "This is a great solution, thanks! Interestingly, transposing the array does not seem to help in my case.  The results appear distorted (y-scale is unusually small) when I plot them after the transpose operation."}, {"owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "reply_to_user": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "edited": false, "score": 0, "creation_date": 1435763951, "post_id": 31092361, "comment_id": 50338964, "body": "Hmmm.  Not sure why that would be.  Only thing I can think of is I didn&#39;t have <code>gdal</code> in my analysis.  I&#39;ll download it this weekend and play around with it and then I&#39;ll get back to ya."}], "tags": [], "owner": {"reputation": 13788, "user_id": 3222797, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/H5JG2.png?s=128&g=1", "display_name": "gobrewers14", "link": "https://stackoverflow.com/users/3222797/gobrewers14"}, "is_accepted": true, "score": 3, "last_activity_date": 1435444056, "last_edit_date": 1435444056, "creation_date": 1435431218, "answer_id": 31092361, "question_id": 31036971, "link": "https://stackoverflow.com/questions/31036971/how-to-perform-image-segmentation-on-4-band-geotiff-using-pythons-scikit-image/31092361#31092361", "title": "How to perform image segmentation on 4-band geotiff using Python&#39;s scikit-image?", "body": "<p>I believe your problem is that <code>quickshift()</code> thinks your image is <code>rgb</code>.  I downloaded a random image from the link you provided and read it into skimage.</p>\n\n<pre><code>img = io.imread('./m_4111722_ne_11_1_20100704.tif')\n</code></pre>\n\n<p>I resized it to 128x128x4 (to make computation easy)</p>\n\n<pre><code>img = transform.resize(img, (128, 128, 4))\n</code></pre>\n\n<p>then ran <code>quickshift()</code></p>\n\n<pre><code>segments = quickshift(img, kernel_size=3, max_dist=6, ratio=0.5)\n</code></pre>\n\n<p>and got the same error.  </p>\n\n<pre><code>ValueError: the input array must be have a shape == (.., ..,[ ..,] 3)), got (128, 128, 4)\n</code></pre>\n\n<p>Higher up in the stack trace it says </p>\n\n<pre><code>skimage/segmentation/_quickshift.pyx inskimage.segmentation._quickshift.\\\nquickshift (skimage/segmentation/_quickshift.c:1710)()\n\n/****/****/anaconda/lib/python2.7/site-packages/skimage/color/colorconv.pyc in rgb2lab(rgb)\n    901     This function uses rgb2xyz and xyz2lab.\n    902     \"\"\"\n--&gt; 903     return xyz2lab(rgb2xyz(rgb))\n</code></pre>\n\n<p>So you can see <code>_quickshift.pyx</code> is trying to convert <code>rgb --&gt; xyz</code> and then <code>xyz --&gt; lab</code>.  So its <em>assuming</em> your image is <code>rgb</code>.  The <a href=\"http://scikit-image.org/docs/dev/api/skimage.segmentation.html#skimage.segmentation.quickshift\" rel=\"nofollow noreferrer\">skimage docs</a> for <code>quickshift()</code> shows it has a flag <code>convert2lab</code> that defaults to <code>True</code>.</p>\n\n<blockquote>\n  <p><strong>convert2lab</strong> : bool, optional (default True) Whether the input should be converted to Lab colorspace prior to segmentation. For this purpose, the input is <em>assumed to be RGB</em>.</p>\n</blockquote>\n\n<p>If I re-run your function with that flag set to <code>False</code></p>\n\n<pre><code>segments = quickshift(img, kernel_size=3, convert2lab=False, max_dist=6, ratio=0.5)\n</code></pre>\n\n<p>it runs.</p>\n\n<pre><code>plt.imshow(segments);\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/dld7B.png\" alt=\"enter image description here\"></p>\n\n<p><strong>Edit</strong>:</p>\n\n<p>Just as an aside, I noticed your image shape is <code>(4, 436, 553)</code> which is also problematic.  <code>skimage</code> expects the color channel to be last.  This can be remedied with</p>\n\n<pre><code>img = img.transpose(1, 2, 0)\n</code></pre>\n"}], "owner": {"reputation": 6473, "user_id": 1446289, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/407d1774cc79b26ca440f2bc1b4103d5?s=128&d=identicon&r=PG", "display_name": "Borealis", "link": "https://stackoverflow.com/users/1446289/borealis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2516, "favorite_count": 1, "accepted_answer_id": 31092361, "answer_count": 2, "score": 2, "last_activity_date": 1514951194, "creation_date": 1435179751, "last_edit_date": 1514951194, "question_id": 31036971, "link": "https://stackoverflow.com/questions/31036971/how-to-perform-image-segmentation-on-4-band-geotiff-using-pythons-scikit-image", "title": "How to perform image segmentation on 4-band geotiff using Python&#39;s scikit-image?", "body": "<p>I am attempting to read a 4-band (red, green, blue, near-infrared) geotiff (<a href=\"ftp://dataworks.library.unr.edu/naip/2010/quarter_quad/41117/\" rel=\"nofollow noreferrer\">example data</a>) and perform a <a href=\"http://scikit-image.org/docs/dev/api/skimage.segmentation.html#skimage.segmentation.quickshift\" rel=\"nofollow noreferrer\">quickshift segmentation</a> using the <code>scikit-image</code> module in Python.</p>\n\n<p>I have created the following script (based on the <a href=\"http://scikit-image.org/docs/dev/auto_examples/plot_segmentations.html#quickshift-image-segmentation\" rel=\"nofollow noreferrer\">scikit example</a>):</p>\n\n<pre><code>from __future__ import print_function\nfrom osgeo import gdal\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nfrom skimage.segmentation import felzenszwalb, slic, quickshift\nfrom skimage.segmentation import mark_boundaries\nfrom skimage.util import img_as_float\n\nimage = r'C:\\path\\to\\my\\geotiff.tif'\nimg = io.imread(image, as_grey=False, plugin=\"gdal\")\nsegments_quick = quickshift(img, kernel_size=3, max_dist=6, ratio=0.5)\n</code></pre>\n\n<p>I get the following error:</p>\n\n<pre><code>ValueError: the input array must be have a shape == (.., ..,[ ..,] 3)), got (4, 436, 553)\n</code></pre>\n\n<p>I am pretty sure the numpy array needs to be reshaped somehow.  How can I properly read the multiband geotiff into a numpy array and perform the image segmentation?</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": true, "score": 2, "last_activity_date": 1435179907, "creation_date": 1435179907, "answer_id": 31037014, "question_id": 31036969, "link": "https://stackoverflow.com/questions/31036969/django-python-x-value-in-list-of-dicts-queryset/31037014#31037014", "title": "Django, Python X value in List of Dicts/Queryset", "body": "<p>I think you want a list with code's value only. You could try this:</p>\n\n<pre><code>DistribuidorCodes.objects.all().values_list('code', flat=True)\n</code></pre>\n\n<p>That should return this:</p>\n\n<pre><code>[u'pelicano815', u'perro10189', ...]\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 1968000, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ibrMo.jpg?s=128&g=1", "display_name": "osueboy", "link": "https://stackoverflow.com/users/1968000/osueboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 31037014, "answer_count": 1, "score": 2, "last_activity_date": 1435224895, "creation_date": 1435179746, "last_edit_date": 1435224895, "question_id": 31036969, "link": "https://stackoverflow.com/questions/31036969/django-python-x-value-in-list-of-dicts-queryset", "title": "Django, Python X value in List of Dicts/Queryset", "body": "<p>i get all codes i have, </p>\n\n<pre><code>codes_in_db = DistribuidorCodes.objects.all().values('code')\n\n#[{'code': u'pelicano815'}, {'code': u'perro10189'}...]\n</code></pre>\n\n<p>what i want to do is to make a new list</p>\n\n<pre><code>myList = list()\ncode = generate_code()\nif code not in codes_in_db:\n    myList.append(code)\n</code></pre>\n\n<p>this code doesnt work, what am i missing.. i know should be a way to get the value of code... but im having a hard time, and i couldnt find a question that does exactly this.</p>\n"}, {"tags": ["python", "xml", "csv"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 4847805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1d0a57290e68f647ed654adbf1f914?s=128&d=identicon&r=PG&f=1", "display_name": "SlickRick", "link": "https://stackoverflow.com/users/4847805/slickrick"}, "edited": false, "score": 0, "creation_date": 1435185458, "post_id": 31037177, "comment_id": 50100576, "body": "Thanks.  I feel simple minded because I&#39;m not sure I would have thought of that, and obviously I didn&#39;t.  Is a top element required?  When I send this on to processing I need it to start with &lt;FieldA&gt;, not &lt;top&gt;. Also, this concatenates the string results of all the rows, but I need a separate string for each row.  I thought it was the indentation of the print statement, but doesnt seem to be the case.  So ideally, row 1 would be its own XML string, row 2 would be its own, etc in the same format."}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 1, "last_activity_date": 1435181079, "last_edit_date": 1435181079, "creation_date": 1435180484, "answer_id": 31037177, "question_id": 31036961, "link": "https://stackoverflow.com/questions/31036961/python-iterate-through-csv-rows-and-create-xml-string/31037177#31037177", "title": "Python - Iterate through CSV rows and create XML string", "body": "<p>Python is <a href=\"https://docs.python.org/2/tutorial/stdlib.html#batteries-included\" rel=\"nofollow\">Batteries Included</a>.</p>\n\n<p>In this case, you can use the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\"><code>csv</code> module</a> and the <a href=\"http://pymotw.com/2/xml/etree/ElementTree/create.html\" rel=\"nofollow\"><code>xml</code> module</a>, with code that looks like this:</p>\n\n<pre><code># CSV module\nimport csv\n# Stuff from the XML module\nfrom xml.etree.ElementTree import Element, SubElement, tostring\n\n# Topmost XML element\ntop = Element('top')\n# Open a file\nwith open('stuff.csv') as csvfile:\n    # And use a dictionary-reader\n    for d in csv.DictReader(csvfile)\n        # For each mapping in the dictionary\n        for (k, v) in d.iteritems():\n            # Create an XML node\n            child = SubElement(top, k)\n            child.text = v\nprint tostring(top)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73, "user_id": 4847805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1d0a57290e68f647ed654adbf1f914?s=128&d=identicon&r=PG&f=1", "display_name": "SlickRick", "link": "https://stackoverflow.com/users/4847805/slickrick"}, "is_accepted": false, "score": 2, "last_activity_date": 1435198766, "creation_date": 1435198766, "answer_id": 31040156, "question_id": 31036961, "link": "https://stackoverflow.com/questions/31036961/python-iterate-through-csv-rows-and-create-xml-string/31040156#31040156", "title": "Python - Iterate through CSV rows and create XML string", "body": "<p>Slightly modified code that fixed the issue I was having.  Turned out to be pretty trivial:</p>\n\n<pre><code>with open(csv_file) as f:\n    for row in csv.DictReader(f):\n        top = Element('event')\n        for k, v in row.items():\n            child = SubElement(top, k)\n            child.text = v\n        print tostring(top)\n</code></pre>\n\n<p>Thanks for the help!</p>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 2518288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e470d3101e5baea770c5d3fcec5af00e?s=128&d=identicon&r=PG", "display_name": "burmer", "link": "https://stackoverflow.com/users/2518288/burmer"}, "is_accepted": false, "score": 0, "last_activity_date": 1435242095, "creation_date": 1435242095, "answer_id": 31053097, "question_id": 31036961, "link": "https://stackoverflow.com/questions/31036961/python-iterate-through-csv-rows-and-create-xml-string/31053097#31053097", "title": "Python - Iterate through CSV rows and create XML string", "body": "<p>'Top' is just the highest level node -- you could use whatever text you want to wrap the whole document. </p>\n\n<p>You can pretty-print it pretty simply as well:\n<a href=\"http://pymotw.com/2/xml/etree/ElementTree/create.html#pretty-printing-xml\" rel=\"nofollow\">http://pymotw.com/2/xml/etree/ElementTree/create.html#pretty-printing-xml</a></p>\n"}], "owner": {"reputation": 73, "user_id": 4847805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f1d0a57290e68f647ed654adbf1f914?s=128&d=identicon&r=PG&f=1", "display_name": "SlickRick", "link": "https://stackoverflow.com/users/4847805/slickrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1459, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1435242095, "creation_date": 1435179714, "question_id": 31036961, "link": "https://stackoverflow.com/questions/31036961/python-iterate-through-csv-rows-and-create-xml-string", "title": "Python - Iterate through CSV rows and create XML string", "body": "<p>I have a CSV file that contains a header row followed by a potentially unlimited number of rows with values.  For example:</p>\n\n<pre><code>FieldA,FieldB,FieldC,FieldD\n1,asdf,2,ghjk\n3,qwer,4,yuio\n5,slslkd,,aldkjslkj\n</code></pre>\n\n<p>What I need to do is for each row, create a quasi-XML string where the elements are labeled as the column name and information within each element is the value of the cell.  Using the above as an example, if I iterate through each of the three rows I would end up with these three strings:</p>\n\n<pre><code>&lt;FieldA&gt;1&lt;/FieldA&gt;&lt;FieldB&gt;asdf&lt;/FieldB&gt;&lt;FieldC&gt;2&lt;/FieldC&gt;&lt;FieldD&gt;ghjk&lt;/FieldD&gt;\n\n&lt;FieldA&gt;3&lt;/FieldA&gt;&lt;FieldB&gt;qwer&lt;/FieldB&gt;&lt;FieldC&gt;4&lt;/FieldC&gt;&lt;FieldD&gt;yuio&lt;/FieldD&gt;\n\n&lt;FieldA&gt;5&lt;/FieldA&gt;&lt;FieldB&gt;slslkd&lt;/FieldB&gt;&lt;FieldD&gt;aldkjslkj&lt;/FieldD&gt;\n</code></pre>\n\n<p>The way I am currently doing is is:</p>\n\n<pre><code>for row in r:\n    if row['FieldA']:\n        fielda = '&lt;FieldA&gt;{0}&lt;/FieldA&gt;'.format(row['FieldA'])\n    else:\n        fielda = ''\n\n    if row['FieldB']:\n        fieldb = '&lt;FieldB&gt;{0}&lt;/FieldB&gt;'.format(row['FieldB'])\n    else:\n        fieldb = ''\n\n    if row['FieldC']:\n        fieldc = '&lt;FieldC&gt;{0}&lt;/FieldC&gt;'.format(row['FieldC'])\n    else:\n        fieldc = ''\n\n    if row['FieldD']:\n        fieldd = '&lt;FieldD&gt;{0}&lt;/FieldD&gt;'.format(row['FieldD'])\n    else:\n        fieldd = ''\n\n    # Compile the string\n    final_string = fielda + fieldb + fieldc + fieldd\n\n    # Process further\n    do_something(final_string)\n</code></pre>\n\n<p>As it iterates through each row, this creates the appropriate string and then I can pass it on for further processing.</p>\n\n<p>Is there a better way to achieve what I want, or is my approach the best way?  My guess is there is a better, more Pythonic, and more efficient way, but I'm new-ish to Python.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "opencv", "computer-vision", "hough-transform", "canny-operator"], "answers": [{"tags": [], "owner": {"reputation": 4401, "user_id": 1281264, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/10501b5548f74ef7aa4100091d8e7fc6?s=128&d=identicon&r=PG", "display_name": "StereoMatching", "link": "https://stackoverflow.com/users/1281264/stereomatching"}, "is_accepted": true, "score": 1, "last_activity_date": 1464217566, "last_edit_date": 1464217566, "creation_date": 1464186601, "answer_id": 37440202, "question_id": 31036917, "link": "https://stackoverflow.com/questions/31036917/hough-line-transform-to-find-polygons-in-an-image/37440202#37440202", "title": "Hough line transform to find polygons in an image", "body": "<p>I think using findContours is easier for this problem.</p>\n\n<p>Following are the solution, I write down the comments, if you have any questions, please ask.</p>\n\n<pre><code>void detect_by_contour()\n{\n    //Following comments are written for non c++ programmers\n    auto img = cv::imread(\"../forum_quest/data/yd8pA.png\");\n    if(img.empty()){\n        throw std::runtime_error(\"cannot open image\");\n    }\n\n    cv::Mat gray_img;\n    cv::cvtColor(img, gray_img, CV_BGR2GRAY);\n    cv::Mat thin_img;\n    //make your lines as thin as possible\n    morphology_skeleton(gray_img, thin_img);\n\n    std::vector&lt;std::vector&lt;cv::Point&gt;&gt; contours;\n    cv::findContours(thin_img, contours, cv::RETR_EXTERNAL,\n                     cv::CHAIN_APPROX_SIMPLE);\n    //remove contour if the area less than 100\n    auto it = std::remove_if(std::begin(contours), std::end(contours),\n                   [](std::vector&lt;cv::Point&gt; const &amp;a)\n    {\n        return cv::boundingRect(a).area() &lt; 100;\n    });\n    //remove_if move unwanted elements to the backyard of the containers\n    //you need to call the erase function of the containers to remove\n    //unwanted elements\n    contours.erase(it, std::end(contours));\n\n    //contour_analyzer is a class used to print out statistic info\n    //of the contour\n    ocv::contour_analyzer analyzer;\n    //print_contour_attribute_name print out the attribute names\n    //of the contours as following\n    //CArea   |   BArea   | Perimeter |   Aspect  |   Extent  |  Solidity |  PolySize\n    ocv::print_contour_attribute_name(std::cout);\n    for(size_t i = 0; i != contours.size(); ++i){\n        cv::drawContours(img, contours, static_cast&lt;int&gt;(i), {0,255,0}, 2);        \n        std::cout&lt;&lt;analyzer.analyze(contours[i], 0.1);\n        cv::imshow(\"img\", img);\n        cv::waitKey();\n    }\n    cv::imwrite(\"polygon.jpg\", img);\n}\n</code></pre>\n\n<p>If you run the program(I am using opencv3 clone from github).You will find out there are 5 contours</p>\n\n<p><a href=\"https://i.stack.imgur.com/xToR5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xToR5.jpg\" alt=\"The contours found by the algorithm\"></a></p>\n\n<p>Their attributes are</p>\n\n<p><a href=\"https://i.stack.imgur.com/gkML0.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gkML0.jpg\" alt=\"attributes of countour\"></a></p>\n\n<p>You can try to figure out the types of the polygon by these attributes.</p>\n\n<p>The codes of detect_by_contour and morphology_skeleton located at <a href=\"https://github.com/stereomatchingkiss/blogCodes2/blob/master/forum_quest/hough_lines_polygon.cpp\" rel=\"nofollow noreferrer\">forum_quest</a>.\nThe codes of ocv::contour_analyzer analyzer and ocv::contour_analyzer located at <a href=\"https://github.com/stereomatchingkiss/ocv_libs/blob/master/core/attribute.cpp\" rel=\"nofollow noreferrer\">ocv_libs</a>.</p>\n"}], "owner": {"reputation": 63, "user_id": 4423207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c989ac875b47f8d69871c018f6ce04?s=128&d=identicon&r=PG&f=1", "display_name": "JellyWoo", "link": "https://stackoverflow.com/users/4423207/jellywoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1529, "favorite_count": 2, "accepted_answer_id": 37440202, "answer_count": 1, "score": 5, "last_activity_date": 1470165479, "creation_date": 1435179546, "last_edit_date": 1470165479, "question_id": 31036917, "link": "https://stackoverflow.com/questions/31036917/hough-line-transform-to-find-polygons-in-an-image", "title": "Hough line transform to find polygons in an image", "body": "<p>I am trying to find all the polygons (including the filled in one) in the image below. Currently, I'm trying to use <a href=\"https://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_imgproc/py_houghlines/py_houghlines.html\" rel=\"nofollow noreferrer\">Hough Transform</a> to accomplish this, but it does not detect all the lines in the image. In addition, because of how wide the lines are, it counts each line twice. Is there a way to apply some filters to the image to make the Hough Transform perform better or is there an entirely different way to find the polygons that I'm missing? Thanks!</p>\n\n<p>Here is the picture I am processing, </p>\n\n<p><img src=\"https://i.stack.imgur.com/yd8pA.png\" width=\"300\"></p>\n\n<p>and my code is below.</p>\n\n<pre><code>import cv2\nimport numpy as np\n\nimg = cv2.imread('test.png')\ngray = cv2.cvtColor(img,cv2.COLOR_BGR2GRAY)\nedges = cv2.Canny(gray,50,150,apertureSize = 3)\nminLineLength = 100\nmaxLineGap = 10\nlines = cv2.HoughLinesP(edges,1,np.pi/180,100,minLineLength,maxLineGap)\nfor num in range (0, len(lines)):\n    for x1,y1,x2,y2 in lines[num]:\n        cv2.line(img,(x1,y1),(x2,y2),(0,255,0),2)\n\ncv2.imwrite('houghlines.jpg',img)\n</code></pre>\n"}, {"tags": ["python", "django", "forms", "validation"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435193043, "post_id": 31037010, "comment_id": 50102579, "body": "No, sorry but I do have the model Client, But I didn&#39;t post all my model file. The form and model client is similiar to Volunteer, but I&#39;m doing nothing with that now, the problem is with my volunteer and the program keep saying the form is no valid."}, {"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435193651, "post_id": 31037010, "comment_id": 50102720, "body": "The proper error is that I don&#39;t have a HttpResponse, however it appear because it don&#39;t pass on the &quot;is_valid&quot; test. I don&#39;t have any idea how to fix it."}], "tags": [], "owner": {"reputation": 11187, "user_id": 1394697, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/658ae7ed330d8fc70df1c173960d27ad?s=128&d=identicon&r=PG", "display_name": "FlipperPA", "link": "https://stackoverflow.com/users/1394697/flipperpa"}, "is_accepted": false, "score": 1, "last_activity_date": 1435179890, "creation_date": 1435179890, "answer_id": 31037010, "question_id": 31036860, "link": "https://stackoverflow.com/questions/31036860/my-django-form-is-not-valid/31037010#31037010", "title": "My Django form is not valid", "body": "<p>It forms.py, you're referencing:</p>\n\n<pre><code>model = Client\n</code></pre>\n\n<p>...after doing an import above. You don't have a model called 'Client' in models.py, you have a model called 'Person'.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435239104, "post_id": 31045114, "comment_id": 50124666, "body": "I see your point, however, this else isn&#39;t the problem here I&#39;m using it to load a empty form with data of a previous one,and when I load the form for the first time, I don&#39;t have any problem. My problem only occurs when I&#39;m trying to save the data. I dont have any problem to load the form."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435239797, "post_id": 31045114, "comment_id": 50125192, "body": "Because the form is not valid, and your code does not return a response in that case. This code fixes that problem, so you display the errors back to the user."}, {"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435240587, "post_id": 31045114, "comment_id": 50125868, "body": "Doesn&#39;t work. Because my form don&#39;t pass the &quot;GET id&quot;."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435240983, "post_id": 31045114, "comment_id": 50126244, "body": "Why are you passing the id as a GET parameter anyway, instead of as part of the URL?"}, {"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435241316, "post_id": 31045114, "comment_id": 50126513, "body": "I&#39;m creating a new user using a different form, than I pass the user ID to this form by get. So I can refer the user Id with the volunteer form. So when I load the volunteer form for the 1st time I have the ID, that is the &quot;else&quot; case on the views code. Than when i fill up the Volunteer form, and send it by POST, I receive the error that my form isn&#39;t valid."}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "reply_to_user": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435241572, "post_id": 31045114, "comment_id": 50126726, "body": "But don&#39;t pass an ID in the GET params, is my point. Construct a URL like you normally would in Django, ie <code>&#47;volunteer&#47;&lt;user_id&gt;&#47;</code>."}, {"owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "edited": false, "score": 0, "creation_date": 1435242031, "post_id": 31045114, "comment_id": 50127097, "body": "This is my first time using Django, so I don&#39;t know how I can send this &quot;id&quot; by URL.   This is a summer internship project, and I&#39;m still learn how Django, if you have a better idea how I can pass the ID please help me. However, this will help me with the &quot;validation&quot; error? because I didn&#39;t have it first,  and I was getting the same error before."}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 1, "last_activity_date": 1435221196, "creation_date": 1435221196, "answer_id": 31045114, "question_id": 31036860, "link": "https://stackoverflow.com/questions/31036860/my-django-form-is-not-valid/31045114#31045114", "title": "My Django form is not valid", "body": "<p>The last part of your view should look like this:</p>\n\n<pre><code>else:\n    form = VolunteerForm()  \ndetail_id = request.GET['id']\nquery_results = User.objects.filter(id = detail_id)\nreturn render(request, 'loginPortal/volunteer_form.html', {'form' : form, 'query_results' : query_results})\n</code></pre>\n\n<p>Only the <code>form</code> definition should be inside <code>else</code>, all the rest should be outside that block.</p>\n"}], "owner": {"reputation": 105, "user_id": 5046297, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205473987987249/picture?type=large", "display_name": "Joao Luiz Magalhaes", "link": "https://stackoverflow.com/users/5046297/joao-luiz-magalhaes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1435221196, "creation_date": 1435179283, "question_id": 31036860, "link": "https://stackoverflow.com/questions/31036860/my-django-form-is-not-valid", "title": "My Django form is not valid", "body": "<p>I'm having problems with a Django form. I cant find the error and how I can fix it.</p>\n\n<p>models.py </p>\n\n<pre><code>from django.db import models\nfrom django.utils import timezone\nfrom django.utils.translation import ugettext_lazy as _\nfrom django.contrib.auth.models import AbstractBaseUser, PermissionsMixin,\nBaseUserManager\nfrom django.core.validators import RegexValidator\nfrom django import forms\n\nclass Person(models.Model):\nperson_userid=models.ForeignKey(User)\nperson_availability_choices=(\n    ('M', 'Monday'),\n    ('T', 'Tuesday'),\n    ('W', 'Wednesday'),\n    ('Th', 'Thursday'),\n    ('F', 'Friday'),\n    ('Sat', 'Saturday'),\n    ('Sun', 'Sunday'),\n)\nperson_availability=models.CharField(max_length=9, choices=person_availability_choices)\nperson_salutation_choices=(\n    ('Mr.', 'Mr.'),\n    ('Mrs.', 'Mrs.'),\n    ('Ms.', 'Ms.'),\n    ('Dr.', 'Dr.'),\n)\nperson_salutation=models.CharField(max_length=4, choices=person_salutation_choices)\nperson_first_name=models.CharField(max_length=50)\nperson_middle_name=models.CharField(max_length=50)\nperson_last_name=models.CharField(max_length=50)\nperson_date_of_birth=models.DateField(null=True, blank=True)\nperson_address_street=models.CharField(max_length=50)\nperson_address_suite=models.IntegerField(max_length=10)\nperson_address_city=models.CharField(max_length=50)\nperson_address_state=models.CharField(max_length=2)\nperson_address_zip=models.IntegerField(max_length=10)\nperson_address_county=models.CharField(max_length=25)\nperson_live_within_bloom=models.CharField(max_length=1, choices=yes_no)\nperson_home_phone=models.IntegerField(max_length=10)\nperson_cell_phone=models.IntegerField(max_length=10)\nperson_work_phone=models.IntegerField(max_length=10)\nperson_email=models.CharField(max_length=50)\nperson_second_email=models.CharField(max_length=50)\nperson_communication_preference_choices=(\n    ('Phone','Phone'), \n    ('Email', 'Email'), \n    ('Text', 'Text'),\n)\nperson_communication_preference=models.CharField(max_length=10, choices=person_communication_preference_choices)\nperson_dob=models.DateField()\nperson_entered_in_donor_database=models.CharField(max_length=1, choices=yes_no)\nperson_community_member=models.CharField(max_length=1, choices=yes_no)\nperson_participation_start_date=models.DateField()\nperson_participation_end_date=models.DateField()\nperson_reason_for_leaving_choices=(\n    ('Moving', 'Moving'), \n    ('Financial', 'Financial'), \n    ('Medical', 'Medical'), \n    ('Graduated', 'Graduated'), \n    ('CSH', 'Completed Service Hours'), \n    ('Other', 'Other'),\n)\nperson_reason_for_leaving=models.CharField(max_length=20, choices=person_reason_for_leaving_choices)\nperson_note=models.TextField(max_length=500)\n\nclass Volunteer(Person):\nvolunteer_types=(\n    ('Program', 'Program'),\n    ('Admin', 'Admin'),\n    ('Committee', 'Committee'),\n)\nperson_volunteer_type=models.CharField(max_length=10, choices=volunteer_types)\n\nvolunteer_allergies=models.CharField(max_length=100)\nvolunteer_medications=models.CharField(max_length=100)\nvolunteer_health_notes=models.CharField(max_length=100) \nvolunteer_high_school_grad_date=models.DateField(null=True, blank=True) # replace null = True.... with name as done for date_of_birth\nvolunteer_college_name=models.CharField(max_length=50)\nvolunteer_college_grad_date=models.DateField(null=True, blank=True)\nvolunteer_orientation_date=models.DateField(null=True, blank=True)\nleader_training1_start_date=models.DateField(null=True, blank=True)\nleader_training1_end_date=models.DateField(null=True, blank=True)\nleader_training2_start_date=models.DateField(null=True, blank=True)\nleader_training2_end_date=models.DateField(null=True, blank=True)\nstable_manager_training_start_date=models.DateField(null=True, blank=True)\nstable_manager_training_end_date=models.DateField(null=True, blank=True)\nvolunteer_community_member=models.CharField(max_length=1, choices=yes_no)\nvolunteer_board_member=models.CharField(max_length=1, choices=yes_no)\nvolunteer_board_member_start_date=models.DateField(null=True, blank=True)\nvolunteer_board_member_end_date=models.DateField(null=True, blank=True)\nvolunteer_horse_experience=models.CharField(max_length=1, choices=yes_no)\nvolunteer_horse_experience_details=models.CharField(max_length=100)\nvolunteer_experience_with_disabilities=models.CharField(max_length=1, choices=yes_no)\nvolunteer_experience_with_disabilities_details=models.CharField(max_length=100)\nvolunteer_computer_skills_details=models.CharField(max_length=100)\nvolunteer_facility_maintenance_experience_details=models.CharField(max_length=100)\nvolunteer_construction=models.CharField(max_length=1, choices=yes_no)\nvolunteer_lift_fifty_lbs=models.CharField(max_length=1, choices=yes_no)\nvolunteer_language_proficiency=models.CharField(max_length=50)\nvolunteer_CPR_trained=models.CharField(max_length=1, choices=yes_no)\nvolunteer_landscaping=models.CharField(max_length=1, choices=yes_no)\nvolunteer_skill_fundraising=models.CharField(max_length=1, choices=yes_no)\nvolunteer_skill_PR=models.CharField(max_length=1, choices=yes_no)\nvolunteer_skills_other=models.CharField(max_length=500)\nvolunteer_of_month_recognition=models.DateField(null=True, blank=True)\nvolunteer_of_year_recognition=models.DateField(null=True, blank=True)\n#volunteer_personid=models.ForeignKey(Person)\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def volunteer_form(request):\n    if request.method == 'POST':\n        form = VolunteerForm(request.POST)\n        if form.is_valid():\n            form.save()\n            return HttpResponse('&lt;script language=\"JavaScript\"&gt; alert(\"You have sucessful created a new Volunteer\"); location.href=\"http://127.0.0.1:8000/login/volunteer_form/\" &lt;/script&gt;')\n            #return HttpResponseRedirect('/')\n\n    else:\n        detail_id = request.GET['id']\n        query_results = User.objects.filter(id = detail_id)\n        form = VolunteerForm()  \n        return render(request, 'loginPortal/volunteer_form.html', {'form' : form, 'query_results' : query_results})\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>from django.db import models\nfrom django.forms import ModelForm\nfrom loginPortal.models import Volunteer, Client\n\nclass VolunteerForm(ModelForm):\n    class Meta:\n        model = Volunteer\n\nclass ClientForm(ModelForm):\n    class Meta:\n        model = Client\n</code></pre>\n\n<p>So I'm getting the error that the form is not validated. and I cant find the error. If any one can help me with this, I will be glad</p>\n"}, {"tags": ["python", "file", "genome"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1435179287, "post_id": 31036794, "comment_id": 50097831, "body": "1. It wouldn&#39;t take forever, just 10 hours. :) 2. Have you tried combining the file openings, e.g. <code>with open(&quot;Output.txt&quot;, &quot;w&quot;) as result, open(&quot;bedgraph2.txt&quot;) as file1, with open(&quot;bedgraph1.txt&quot;) as file2:</code> and doing the processing then? I&#39;d guess you&#39;re spending a lot of overhead on that. 3. This question is better suited to <a href=\"http://codereview.stackexchange.com/\">Code Review</a>."}, {"owner": {"reputation": 4380, "user_id": 1656850, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/RIotq.gif?s=128&g=1", "display_name": "boardrider", "link": "https://stackoverflow.com/users/1656850/boardrider"}, "edited": false, "score": 2, "creation_date": 1435179309, "post_id": 31036794, "comment_id": 50097840, "body": "You may want to explain at the top what you want to achieve. <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}, {"owner": {"reputation": 1783, "user_id": 4042398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea300bb172f4c250bd5532be1cdc448?s=128&d=identicon&r=PG", "display_name": "Slava Bacherikov", "link": "https://stackoverflow.com/users/4042398/slava-bacherikov"}, "edited": false, "score": 1, "creation_date": 1435179391, "post_id": 31036794, "comment_id": 50097888, "body": "You can compare them by hash (<code>md5</code> or some other) but this will succeed only if files are strictly same."}, {"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435179417, "post_id": 31036794, "comment_id": 50097896, "body": "Like @TigerhawkT3 suggested, you may want to combine opening the files. Do it once then enter your for loops."}, {"owner": {"reputation": 2900, "user_id": 2566965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300de803639f26b633cbf259a95af052?s=128&d=identicon&r=PG", "display_name": "junnytony", "link": "https://stackoverflow.com/users/2566965/junnytony"}, "edited": false, "score": 0, "creation_date": 1435179631, "post_id": 31036794, "comment_id": 50098004, "body": "Can you also fix the code formatting. Not quite clear what goes where"}, {"owner": {"reputation": 1624, "user_id": 296549, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/134cf24554b2115f4ed28d2ff43b378f?s=128&d=identicon&r=PG", "display_name": "Bacon", "link": "https://stackoverflow.com/users/296549/bacon"}, "edited": false, "score": 0, "creation_date": 1435179684, "post_id": 31036794, "comment_id": 50098038, "body": "You can split the files in several threads and combine the output, in a MapReduce like, with <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/threading.html</a>."}, {"owner": {"reputation": 151, "user_id": 1642267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e21096641ca12eec6288602259aff9d?s=128&d=identicon&r=PG", "display_name": "CodingPenguins", "link": "https://stackoverflow.com/users/1642267/codingpenguins"}, "edited": false, "score": 0, "creation_date": 1435235393, "post_id": 31036794, "comment_id": 50121693, "body": "As others have mentioned, the code has some formatting issues. Additionally, it&#39;s hard to even tell what you&#39;re trying to accomplish. Also your two sample data sets are both labeled &quot;bedgraph1.txt&quot;."}, {"owner": {"reputation": 2890, "user_id": 2968894, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f9Gg6.jpg?s=128&g=1", "display_name": "Pruthvi Raj", "link": "https://stackoverflow.com/users/2968894/pruthvi-raj"}, "edited": false, "score": 0, "creation_date": 1435236835, "post_id": 31036794, "comment_id": 50122848, "body": "Poor indentation and in your question you said 2nd and 3rd word in the line but in your code it seems like you are comparing 1st and 2nd words in the line"}], "answers": [{"comments": [{"owner": {"reputation": 289, "user_id": 3904534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a310ace93f91e9abeb673eac8d973d40?s=128&d=identicon&r=PG&f=1", "display_name": "user3904534", "link": "https://stackoverflow.com/users/3904534/user3904534"}, "edited": false, "score": 0, "creation_date": 1435248797, "post_id": 31049736, "comment_id": 50132369, "body": "Wow I think this is exactly what I&#39;m looking for. Thank you very much!"}], "tags": [], "owner": {"reputation": 3060, "user_id": 1515117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/317094104136ef2e6487bf5a61fb8217?s=128&d=identicon&r=PG", "display_name": "Vince", "link": "https://stackoverflow.com/users/1515117/vince"}, "is_accepted": true, "score": 2, "last_activity_date": 1435235573, "last_edit_date": 1435235573, "creation_date": 1435233472, "answer_id": 31049736, "question_id": 31036794, "link": "https://stackoverflow.com/questions/31036794/how-to-compare-two-files-quickly/31049736#31049736", "title": "How to compare two files quickly?", "body": "<p>I suggest to use bedtools:</p>\n\n<p><a href=\"http://bedtools.readthedocs.org/en/latest/\" rel=\"nofollow\">http://bedtools.readthedocs.org/en/latest/</a></p>\n\n<p>Intersect function likely does what you want.</p>\n\n<p>Also, using  bedtools or not, algorithm can be improved by first sorting the two input files.</p>\n"}], "owner": {"reputation": 289, "user_id": 3904534, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a310ace93f91e9abeb673eac8d973d40?s=128&d=identicon&r=PG&f=1", "display_name": "user3904534", "link": "https://stackoverflow.com/users/3904534/user3904534"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 31049736, "answer_count": 1, "score": 1, "last_activity_date": 1435248261, "creation_date": 1435179055, "last_edit_date": 1435248261, "question_id": 31036794, "link": "https://stackoverflow.com/questions/31036794/how-to-compare-two-files-quickly", "title": "How to compare two files quickly?", "body": "<p>I need to be able to compare the two coordinates (the 2nd and 3rd word in a line) to see where they overlap. Now, my code does it, but it does it very slow. So far for a file with 10000 lines my code takes about two minutes. I need to use it for a file with 3 billion lines, which I estimate will take forever. Is there a way to refactor my code to be so much faster?</p>\n\n<p>So far I can do exactly what I want. Which is this:</p>\n\n<pre><code>import os.path\nwith open(\"Output.txt\", \"w\") as result:\n  with open(\"bedgraph2.txt\") as file1:\n    for f1_line in file1:\n      segment_1 = f1_line.split()\n      with open(\"bedgraph1.txt\") as file2:\n        for f2_line in file2:\n          segment_2 = f2_line.split()\n          if (int(segment_1[2]) &gt; int(segment_2[1])) &amp; (int(segment_1[1]) &lt; int(segment_2[2])):\n            with open(\"Output.txt\", \"a\") as add:\n              add.write(segment_1[0])\n              add.write(\" \")\n              add.write(segment_1[1])\n              add.write(\" \")\n              add.write(segment_1[2])\n              add.write(\" \")\n              add.write(segment_1[3])\n              add.write(\" | \")\n              add.write(segment_2[0])\n              add.write(\" \")\n              add.write(segment_2[1])\n              add.write(\" \")\n              add.write(segment_2[2])\n              add.write(\" \")\n              add.write(segment_2[3])\n              add.write(\"\\n\")\n            break\n\nprint \"done\"\n</code></pre>\n\n<p>This is a sample of the data</p>\n\n<pre><code>bedgraph2.txt\nchr01   1780    1795    -0.811494\nchr01   1795    1809    -1.622988\nchr01   1809    1829    -2.434482\nchr01   1829    1830    -3.245976\nchr01   1830    1845    -2.434482\nchr01   1845    1859    -1.622988\nchr01   1859    1879    -0.811494\nchr01   1934    1984    -0.811494\nchr01   3550    3600    -0.811494\nchr01   3790    3840    -0.811494\nchr01   3882    3902    -0.811494\nchr01   3902    3932    -1.622988\n\n\nbedgraph1.txt\nchr01   1809    1859    -1.139687\nchr01   1965    2015    -1.139687\nchr01   3790    3840    -1.139687\nchr01   3930    3942    -1.139687\nchr01   3942    3980    -2.279375\nchr01   3980    3992    -1.139687\nchr01   4260    4310    -1.139687\nchr01   4361    4382    -1.139687\nchr01   4382    4411    -2.279375\nchr01   4411    4432    -1.139687\nchr01   4473    4523    -1.139687\nchr01   4605    4655    -1.139687\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1435180359, "post_id": 31036770, "comment_id": 50098383, "body": "Are your tuples actually points on the curve of the spline, or are they the control points used to define the spline? How do you want to deal with multiple matches (it&#39;s entirely possible to have a spline that has multiple, or even infinite, points equidistant from a specific point - a spline can transcribe a circle, after all)?"}, {"owner": {"reputation": 95, "user_id": 524527, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/44f52b55bc49e1be8544dcccd5ecca47?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/524527/todd"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1435193940, "post_id": 31036770, "comment_id": 50102778, "body": "The tuples are actual points. The real (Xn,Yn) may not actually be in the list of tuples, but possibly an interpolated value between points."}, {"owner": {"reputation": 95, "user_id": 524527, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/44f52b55bc49e1be8544dcccd5ecca47?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/524527/todd"}, "reply_to_user": {"reputation": 52445, "user_id": 1253222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3a62746fb04e19c1656cd1df560911f?s=128&d=identicon&r=PG", "display_name": "twalberg", "link": "https://stackoverflow.com/users/1253222/twalberg"}, "edited": false, "score": 0, "creation_date": 1435196647, "post_id": 31036770, "comment_id": 50103332, "body": "sorry, replied from mobile phone and didn&#39;t see the entire question until after comment post.....little background.....the &quot;line&quot; in this example is a mechanical link that travels along a spline of my own design. Generally, the link will travel in one direction (say right to left) with the selected point being on the end of the link at the rightmost position. I think that the solution for the other points would contain an X value that is always less than the selected point."}], "answers": [{"tags": [], "owner": {"reputation": 1070, "user_id": 4611565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fd88fff8452fa651234c79d26068cac?s=128&d=identicon&r=PG&f=1", "display_name": "manu190466", "link": "https://stackoverflow.com/users/4611565/manu190466"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180327, "creation_date": 1435180327, "answer_id": 31037138, "question_id": 31036770, "link": "https://stackoverflow.com/questions/31036770/method-to-find-x-y-point-on-a-spline-that-is-an-exact-distance-from-another-poin/31037138#31037138", "title": "Method to find x,y point on a spline that is an exact distance from another point", "body": "<p>Why not compute the distances and compare them to \"Line\" like this</p>\n\n<pre><code>   spline=[(x1,y1),(x2,y2),(xn,yn).....]\n    Line=200\n    for x1,y1 in spline:\n       for x2,y2 in spline:\n           dist=math.sqrt((x2-x1)**2+(y2-y1)**2)\n           if dist==Line:\n              print x1,y1,'is Line distant from',x2,y2\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 524527, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/44f52b55bc49e1be8544dcccd5ecca47?s=128&d=identicon&r=PG", "display_name": "Todd", "link": "https://stackoverflow.com/users/524527/todd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435180327, "creation_date": 1435178998, "question_id": 31036770, "link": "https://stackoverflow.com/questions/31036770/method-to-find-x-y-point-on-a-spline-that-is-an-exact-distance-from-another-poin", "title": "Method to find x,y point on a spline that is an exact distance from another point", "body": "<p>I have a 2-d Spline that is a list of (x,y) tuples. I need to determine a point on the spline where a line of length L falls if one end of the line is placed on an existing spline point.</p>\n\n<pre><code>spline=[(x1,y1),(x2,y2),(xn,yn).....]\nLine=200\nfor i in spline:\n    find (xn,yn) 200 units from here\n</code></pre>\n\n<p>So for each point in the spline, find a (Xn,Yn) (or interpolated value) that is a linear distance of 200 from the chosen point.</p>\n"}, {"tags": ["python", "calendar", "caldav"], "comments": [{"owner": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1435224053, "post_id": 31036746, "comment_id": 50114455, "body": "Hard to answer this w/o having the actual data. Maybe the iCalendar contains a component other than vevent/todo/journal/freebusy?"}, {"owner": {"reputation": 101, "user_id": 5046280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d2930e605bc22d00fbeec918e426f5?s=128&d=identicon&r=PG&f=1", "display_name": "de fl0r", "link": "https://stackoverflow.com/users/5046280/de-fl0r"}, "reply_to_user": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1435267332, "post_id": 31036746, "comment_id": 50142526, "body": "i&#39;ve added the VEVENT from the print directly before the error (if fails with the first event)."}, {"owner": {"reputation": 11967, "user_id": 2203005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/cGmtW.png?s=128&g=1", "display_name": "hnh", "link": "https://stackoverflow.com/users/2203005/hnh"}, "edited": false, "score": 0, "creation_date": 1435267687, "post_id": 31036746, "comment_id": 50142712, "body": "Looks OK to me. You probably have to step through the code in the debugger to see what&#39;s going on."}], "owner": {"reputation": 101, "user_id": 5046280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d2930e605bc22d00fbeec918e426f5?s=128&d=identicon&r=PG&f=1", "display_name": "de fl0r", "link": "https://stackoverflow.com/users/5046280/de-fl0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1893, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1435267255, "creation_date": 1435178920, "last_edit_date": 1435267255, "question_id": 31036746, "link": "https://stackoverflow.com/questions/31036746/add-calendar-event-using-python-caldav", "title": "Add calendar event using python/caldav", "body": "<p>I use <a href=\"https://pypi.python.org/pypi/caldav/0.4.0\" rel=\"nofollow\">python/caldav</a> and <a href=\"https://pypi.python.org/pypi/icalendar/3.9.0\" rel=\"nofollow\">python/icalendar</a> to add a calendar event to my caldav-calendar.</p>\n\n<p>Reading events and calendars works without problems.</p>\n\n<p>Now i take an event from an ics file and try to add it to my caldav-calendar.</p>\n\n<pre><code>meetings = icalendar.Calendar.from_ical(ics-file)\nfor event in meetings.walk():\n    if event.name == \"VEVENT\":\n        ical = event.to_ical()\n        print(ical)\n        my_caldav_calendar.add_event(ical)\n</code></pre>\n\n<p>However, this leads me to the following error:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"vss_filter.py\", line 45, in &lt;module&gt;\n  my_caldav_calendar.add_event(ical)\nFile \"/usr/local/lib/python2.7/site-packages/caldav/objects.py\", line 422, in add_event\n  return Event(self.client, data = ical, parent = self).save()\nFile \"/usr/local/lib/python2.7/site-packages/caldav/objects.py\", line 718, in save\n  self._create(self._instance.serialize(), self.id, path)\nFile \"/usr/local/lib/python2.7/site-packages/caldav/objects.py\", line 696, in _create\n  path = id + \".ics\"\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'str'\n</code></pre>\n\n<p>The ical-event clearly has a field 'UID', as the print shows:</p>\n\n<pre><code>BEGIN:VEVENT\nSUMMARY:event-title\nDTSTART;TZID=Europe/Warsaw:20150305T130000\nDTEND;TZID=Europe/Warsaw:20150305T140000\nDTSTAMP:20150624T170317Z\nUID:9149F870-5475-4120-9EE5-1A06E857807B\nSEQUENCE:1\nEXDATE;TZID=Europe/Warsaw:20150618T130000\nEXDATE;TZID=Europe/Warsaw:20150305T130000\nEXDATE;TZID=Europe/Warsaw:20150430T130000\nCREATED:20150226T105018Z\nDESCRIPTION:\nLAST-MODIFIED:20150616T094907Z\nLOCATION:\nRRULE:FREQ=WEEKLY;UNTIL=20150624T235959Z;INTERVAL=1\nSTATUS:CONFIRMED\nTRANSP:OPAQUE\nBEGIN:VALARM\nACTION:NONE\nTRIGGER;VALUE=DATE-TIME:19760401T005545Z\nUID:FC67F59E-5540-47BE-ACFA-FE229771EC11\nX-WR-ALARMUID:FC67F59E-5540-47BE-ACFA-FE229771EC11\nEND:VALARM\nEND:VEVENT\n</code></pre>\n\n<p>so there should be an id python/caldav can find.\nWhy is this failing an dhow can i fix it?</p>\n"}, {"tags": ["python", "input"], "comments": [{"owner": {"reputation": 2345, "user_id": 3089927, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/e7fbe35c012cf500aaf9e2da06ec656d?s=128&d=identicon&r=PG&f=1", "display_name": "user3089927", "link": "https://stackoverflow.com/users/3089927/user3089927"}, "edited": false, "score": 0, "creation_date": 1435179177, "post_id": 31036732, "comment_id": 50097768, "body": "I don&#39;t think I understand your problem completely but if check==&quot;RESET&quot;: global counter ;counter=0"}], "answers": [{"comments": [{"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 2, "creation_date": 1435179460, "post_id": 31036826, "comment_id": 50097914, "body": "I see that KeyboardInterrupt only checks for Ctrl+C and Delete. What about other inputs?"}, {"owner": {"reputation": 44406, "user_id": 375874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/STZt9.jpg?s=128&g=1", "display_name": "Falmarri", "link": "https://stackoverflow.com/users/375874/falmarri"}, "reply_to_user": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 2, "creation_date": 1435281085, "post_id": 31036826, "comment_id": 50146857, "body": "@RishavKundu: that&#39;s why I said if he only wanted to signal a reset. He could take user input in the exception handler, but it depends if he wants his other code running at the same time. Then he&#39;ll need threads and mutexes and all that jazz."}], "tags": [], "owner": {"reputation": 44406, "user_id": 375874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/STZt9.jpg?s=128&g=1", "display_name": "Falmarri", "link": "https://stackoverflow.com/users/375874/falmarri"}, "is_accepted": false, "score": 2, "last_activity_date": 1435179171, "creation_date": 1435179171, "answer_id": 31036826, "question_id": 31036732, "link": "https://stackoverflow.com/questions/31036732/python-accept-user-input-at-any-time/31036826#31036826", "title": "Python: Accept user input at any time", "body": "<p>If you only want to signal a reset of the counter, you can catch <a href=\"https://docs.python.org/2/library/exceptions.html#exceptions.KeyboardInterrupt\" rel=\"nofollow\">KeyboardInterrupt</a> exception.</p>\n\n<pre><code>while True:\n    counter = 0\n    try:\n        while True:\n            counter += 1\n            print(\"counter\")\n    except KeyboardInterrupt:\n        pass\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5046298"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1435228217, "creation_date": 1435178865, "last_edit_date": 1435189403, "question_id": 31036732, "link": "https://stackoverflow.com/questions/31036732/python-accept-user-input-at-any-time", "title": "Python: Accept user input at any time", "body": "<p>I am creating a unit that will do a number of things, one of them counting cycles of a machine.  While I will be transferring this over to ladder logic (CoDeSys), I am putting my ideas into Python first. </p>\n\n<p>I will have a count running, with just a simple</p>\n\n<pre><code>    counter += 1\n    print(\"counter\")\n</code></pre>\n\n<p>to keep track of what cycle I'm on. However, I want to be able to reset this count at any time, preferably by typing \"RESET\"  I understand how to use the input command, </p>\n\n<pre><code>    check = input()\n</code></pre>\n\n<p>however, I do not know how to let the program run while it is searching for an input, or whether or not this is possible at all.  Thank you in advance for any answer.</p>\n\n<p>If it helps to understand, here is the code. The big gap is where the problem is. <a href=\"http://pastebin.com/TZDsa4U4\" rel=\"nofollow\">http://pastebin.com/TZDsa4U4</a></p>\n"}, {"tags": ["python", "csv", "beautifulsoup"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1435179076, "post_id": 31036690, "comment_id": 50097712, "body": "Could you show the HTML representation of the table, so that it would be reproducible for us? Thanks."}, {"owner": {"reputation": 203, "user_id": 709452, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MO7rz.png?s=128&g=1", "display_name": "mr-karan", "link": "https://stackoverflow.com/users/709452/mr-karan"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1435179355, "post_id": 31036690, "comment_id": 50097863, "body": "Sure , here&#39;s the fiddle <a href=\"https://jsfiddle.net/rpmgku7m/\" rel=\"nofollow noreferrer\">jsfiddle.net/rpmgku7m</a>"}], "owner": {"reputation": 203, "user_id": 709452, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/MO7rz.png?s=128&g=1", "display_name": "mr-karan", "link": "https://stackoverflow.com/users/709452/mr-karan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 2, "answer_count": 0, "score": 0, "last_activity_date": 1435179502, "creation_date": 1435178752, "last_edit_date": 1435179502, "question_id": 31036690, "link": "https://stackoverflow.com/questions/31036690/technique-to-add-csv-data-for-varying-fields", "title": "Technique to add csv data for varying fields", "body": "<p>I am trying to scrape results from a site (has no captcha , simple roll-no authentication, and the pattern of roll-no is known to me). The problem is that they have the results in a table format and many students have different subjects. The code I wrote so far in Python is </p>\n\n<pre><code>for row in rows:\n            col=row.findAll('td') #BeautifulSoup object\n            sub=col[1].text.encode('utf-8') #Header.(Subject Names)\n            subjectname.append((sub))\n\n            marks=col[4].text.encode('utf-8')\n            markall.append((marks)) \ncsvwriter.writerows([subjectname,])\ncsvwriter.writerows([markall,])\n</code></pre>\n\n<p>I want to generate a .csv file so that I can do some data analysis on it. Now the problem is I want a table which has a specific subject column and marks of it. But the scraper won't know if it's a different subject and will append marks of whatever subject it finds in that row/column pair.</p>\n\n<p>How do I approach this?</p>\n\n<p>Here's a visual representation of the problem. <img src=\"https://i.stack.imgur.com/BDfwK.png\" alt=\"enter image description here\"></p>\n\n<p>So if I have Subject A at column 1 , I want to get marks only of subject A and not any other subject. Do I need to create a list for all marks ?</p>\n\n<p>Edit : Here's the HTML table markup <a href=\"https://jsfiddle.net/rpmgku7m/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/rpmgku7m/</a></p>\n"}, {"tags": ["python", "numpy", "ffi", "theano", "python-cffi"], "answers": [{"comments": [{"owner": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1435268945, "post_id": 31044667, "comment_id": 50143260, "body": "Fwiw, CFFI can be used to call Python code from C, too, using callbacks.  (No idea about the context, so I don&#39;t know if this comment helps.)"}], "tags": [], "owner": {"reputation": 31975, "user_id": 127480, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e30eaf17e40708aa4ef81be518564572?s=128&d=identicon&r=PG", "display_name": "Daniel Renshaw", "link": "https://stackoverflow.com/users/127480/daniel-renshaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1435307082, "last_edit_date": 1435307082, "creation_date": 1435219729, "answer_id": 31044667, "question_id": 31036680, "link": "https://stackoverflow.com/questions/31036680/getting-a-c-pointer-to-a-function-generated-by-theano/31044667#31044667", "title": "Getting a C pointer to a function generated by Theano?", "body": "<p>You've tagged your question with ffi/cffi but that's for calling foreign code from Python. However it sounds like you actually want to call Python/Theano code from C/Fortran. For that, the documentation on <a href=\"https://docs.python.org/2/extending/embedding.html\" rel=\"nofollow\">Embedding Python in Another Application</a> might be helpful.</p>\n\n<p>In principle you could just run Theano Python code from your C/Fortran code via facilities in <code>Python.h</code>.</p>\n\n<p>Although Theano compiles some operations via C code, I don't believe it produces an natively executable function/library for the entire computation graph that could then be linked in by some other, non-Python, application.</p>\n\n<p>Update: via the <a href=\"https://groups.google.com/forum/#!topic/theano-users/0hl6O8f260U\" rel=\"nofollow\">thread on the Theano mailing list</a>... apparently <a href=\"https://github.com/Theano/Theano/issues/1408#issuecomment-106029111\" rel=\"nofollow\">a prototype for having Theano create a linkable library</a> was done some time ago but isn't currently integrated into Theano.</p>\n"}], "owner": {"reputation": 5661, "user_id": 669329, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f078285bfd9090340d445e4fd69ec97f?s=128&d=identicon&r=PG", "display_name": "Krastanov", "link": "https://stackoverflow.com/users/669329/krastanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1435307082, "creation_date": 1435178733, "question_id": 31036680, "link": "https://stackoverflow.com/questions/31036680/getting-a-c-pointer-to-a-function-generated-by-theano", "title": "Getting a C pointer to a function generated by Theano?", "body": "<p>I would like to use a Theano function from C/Fortran code (in particular, I want to use an implicit ODE solver written in Fortran with a function created in Theano). Are there any examples/resources on how to do that?</p>\n"}, {"tags": ["python", "database", "python-2.7", "ms-access"], "comments": [{"owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1435180396, "post_id": 31036654, "comment_id": 50098405, "body": "We would need more information. What is projectName right after the first line? Is the path valid?"}, {"owner": {"reputation": 845, "user_id": 1150206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af03c91f56eb9ed4c506b2471da8b7a8?s=128&d=identicon&r=PG", "display_name": "Chef Flambe", "link": "https://stackoverflow.com/users/1150206/chef-flambe"}, "reply_to_user": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1435181758, "post_id": 31036654, "comment_id": 50099055, "body": "My understanding is it defaults to current directory which is what I want. So....example projectName = &#39;databaseName.mdb&#39;  If I just hard-code it in it goes to the working directory."}, {"owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1435184291, "post_id": 31036654, "comment_id": 50100144, "body": "You are correct that it should go to the working directory, but self.textBrowser.text() could be passing in a path that doesn&#39;t exist. Where is the code for that? Also, is it throwing the exception on the second line? Oh, and if  you hard-code it, as you mentioned, does it work?"}, {"owner": {"reputation": 845, "user_id": 1150206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af03c91f56eb9ed4c506b2471da8b7a8?s=128&d=identicon&r=PG", "display_name": "Chef Flambe", "link": "https://stackoverflow.com/users/1150206/chef-flambe"}, "reply_to_user": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "edited": false, "score": 0, "creation_date": 1435185415, "post_id": 31036654, "comment_id": 50100564, "body": "got it working.  Had to make it ...mdb(str(projectName)) then it started to work.  Now I&#39;m battling with too few items error.  Damn learning curves."}], "owner": {"reputation": 845, "user_id": 1150206, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/af03c91f56eb9ed4c506b2471da8b7a8?s=128&d=identicon&r=PG", "display_name": "Chef Flambe", "link": "https://stackoverflow.com/users/1150206/chef-flambe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435178668, "creation_date": 1435178668, "question_id": 31036654, "link": "https://stackoverflow.com/questions/31036654/ms-access-creation-python-issue", "title": "MS Access creation Python issue", "body": "<p>Trying to create a database using Python 2.7 and pypyodbc.</p>\n\n<p>I have a user input for a name and I added the '.mdb' extension then I try to create the database and it throws a type exception error.</p>\n\n<p>How is my syntax wrong?</p>\n\n<pre><code>    projectName = self.textBrowser.text() + '.mdb'\n    pypyodbc.win_create_mdb(projectName)\n\n    conn = pypyodbc.win_connect_mdb(projectName)  \n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1435178834, "post_id": 31036634, "comment_id": 50097588, "body": "You need a <i>mapping</i>, e.g. a dictionary <code>{&#39;forward&#39;: foward}</code>."}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "edited": false, "score": 0, "creation_date": 1435179423, "post_id": 31036634, "comment_id": 50097898, "body": "I would suggest going through a <a href=\"https://developers.google.com/edu/python/\" rel=\"nofollow noreferrer\">Python Tutorial</a> to learn some basics."}, {"owner": {"reputation": 229, "user_id": 3322735, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d38322359b8bd707fc3e3100a74d9d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Daanii", "link": "https://stackoverflow.com/users/3322735/daanii"}, "edited": false, "score": 0, "creation_date": 1435181336, "post_id": 31036634, "comment_id": 50098851, "body": "The Python Tutorial does look helpful. But I&#39;m taking the excellent EdX class &quot;Introduction to Programming with Python&quot; that MIT offers, and the teacher&#39;s examples got me thinking of a different approach in my own program than I was currently taking. Sorry if my question seemed too naive, but I did try to figure it out on my own before asking."}], "answers": [{"comments": [{"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1435179579, "post_id": 31036681, "comment_id": 50097979, "body": "Those functions grouped in the class should be <code>@staticmethod</code>s."}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1435179706, "post_id": 31036681, "comment_id": 50098053, "body": "Also, security is by far not the only reason not to use <code>globals()</code>: It makes your code hard to read, hard to reason about, and a nightmare to refactor. Want to rename the <code>forward()</code> function? Have fun tracking down references to it if you&#39;re using <code>globals()</code>."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1435179709, "post_id": 31036681, "comment_id": 50098055, "body": "it is not needed if used in this way (i.e. the class Functions is never instantiated)"}, {"owner": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1435179847, "post_id": 31036681, "comment_id": 50098138, "body": "for Python 2.x it is necessary, yes."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 23058, "user_id": 1599111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e3147a010e5a5d4796739e9a3a47ad2?s=128&d=identicon&r=PG", "display_name": "Lukas Graf", "link": "https://stackoverflow.com/users/1599111/lukas-graf"}, "edited": false, "score": 0, "creation_date": 1435180058, "post_id": 31036681, "comment_id": 50098230, "body": "right. I don&#39;t use Python 2.x since 6 years or so... I&#39;ll correct my answer"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 2, "last_activity_date": 1435180241, "last_edit_date": 1435180241, "creation_date": 1435178734, "answer_id": 31036681, "question_id": 31036634, "link": "https://stackoverflow.com/questions/31036634/in-python-want-to-use-user-input-as-function-call/31036681#31036681", "title": "In Python want to use user input as function call", "body": "<h2>Quick and dirty solution</h2>\n\n<p>Use <code>globals()</code>:</p>\n\n<pre><code>globals()[command](value)\n</code></pre>\n\n<h2>Wiser approach</h2>\n\n<p>However, if security is a concern, you may want to limit what can be called from user input. For example define a dictionary of callable functions:</p>\n\n<pre><code>functions = {'forward': forward, 'othercommand': othercommand}\n</code></pre>\n\n<p>or combine with previous solution to avoid repetitions:</p>\n\n<pre><code>functions = {k: globals()[k] for k in ('forward', 'othercommand')}\n</code></pre>\n\n<p>Then you would call your function with:</p>\n\n<pre><code>functions[command](value)\n</code></pre>\n\n<h2>Alternative approach</h2>\n\n<p>You can use a class as namespace for your user-callable functions:</p>\n\n<pre><code>class Functions:\n    @staticmethod\n    def forward(arg):\n        print(\"in forward, with value \" + forwardValue)\n    @staticmethod\n    def othercommand():\n        pass\n</code></pre>\n\n<p><sub>(if you are on Python 3.x, <code>@staticmethod</code> is optional in this context)</sub></p>\n\n<p>then access the static methods with <code>getattr()</code>:</p>\n\n<pre><code>getattr(Functions, command)(value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 924, "user_id": 1747771, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d888ee34839d4b6d55ba80741ea7437d?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/1747771/tom"}, "is_accepted": false, "score": 1, "last_activity_date": 1435179781, "creation_date": 1435179781, "answer_id": 31036976, "question_id": 31036634, "link": "https://stackoverflow.com/questions/31036634/in-python-want-to-use-user-input-as-function-call/31036976#31036976", "title": "In Python want to use user input as function call", "body": "<p>Daanii, what seems to be catching you is that the variable named command contains the string 'forward'. This string object is not your function. Using an if statement, as you said you are already doing, is the most straightforward way to go about it.</p>\n\n<p>If you have many functions and/or you don't necessarily want the function name and the user-passed string to match, then I would suggest using a dictionary.</p>\n\n<pre><code>d = {'foward':forward, 'backward':backward, 'flurb':durf}\n\ndef forward(forwardValue):\n    print(\"in forward, with value \" + forwardValue)\n    return\n\ndef backward(backwardValue):\n    print(\"in backward, with value \" + backwardValue)\n    return\n\ndef durf(value):\n    print(\"in durf, with value \" + value)\n    return\n\ntry:\n    command = raw_input('Enter your thing:\\n')\n    value = '255'\n    d[command](value)\nexcept KeyError:\n    print 'The user did not enter a valid string'\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 3322735, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d38322359b8bd707fc3e3100a74d9d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Daanii", "link": "https://stackoverflow.com/users/3322735/daanii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1435212798, "creation_date": 1435178606, "last_edit_date": 1435212798, "question_id": 31036634, "link": "https://stackoverflow.com/questions/31036634/in-python-want-to-use-user-input-as-function-call", "title": "In Python want to use user input as function call", "body": "<p>In Python I want to use user input as a function call. In particular, I have the following code I'm testing out:</p>\n\n<pre><code>def forward(forwardValue):\n    print(\"in forward, with value \" + forwardValue)\n    return\n\ncommand = 'forward'  # this would come in as user input\nvalue = '255'\ncommand(value)\n</code></pre>\n\n<p>What I would like to see is a printout that says: in forward, with value 255</p>\n\n<p>What I do see is an error that: </p>\n\n<pre><code>'str' object is not callable\n</code></pre>\n\n<p>That error message makes sense, and I can see why what I tested doesn't work, but is there any way to do what I want to do? In other words, can user input be used as a function call? </p>\n\n<p>What I do currently instead is use an \"if\" statement to check if the user input is the 'forward' statement, and if so to call the function 'forward'. But I would like to be more Pythonesque if possible. </p>\n\n<p>I have a list of about 30 different commands the user can use, each of which commands has a defined function to handle it. My series of 30 \"if\" and \"elif\" statements seems clumsy.</p>\n"}, {"tags": ["python", "django", "database", "postgresql", "ubuntu"], "comments": [{"owner": {"reputation": 44406, "user_id": 375874, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/STZt9.jpg?s=128&g=1", "display_name": "Falmarri", "link": "https://stackoverflow.com/users/375874/falmarri"}, "edited": false, "score": 4, "creation_date": 1435178567, "post_id": 31036603, "comment_id": 50097468, "body": "DId you create a user in your postgres database for django to use?"}], "answers": [{"comments": [{"owner": {"reputation": 5049, "user_id": 46548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a7d543a6a3d738bcd34b56c24002943?s=128&d=identicon&r=PG", "display_name": "kmmbvnr", "link": "https://stackoverflow.com/users/46548/kmmbvnr"}, "edited": false, "score": 0, "creation_date": 1435208006, "post_id": 31041450, "comment_id": 50106029, "body": "For other OS host you can check this tutorial - <a href=\"http://djangogirls.gitbooks.io/django-girls-tutorial-extensions/content/optional_postgresql_installation/README.html\" rel=\"nofollow noreferrer\">djangogirls.gitbooks.io/django-girls-tutorial-extensions/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5049, "user_id": 46548, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a7d543a6a3d738bcd34b56c24002943?s=128&d=identicon&r=PG", "display_name": "kmmbvnr", "link": "https://stackoverflow.com/users/46548/kmmbvnr"}, "is_accepted": false, "score": 0, "last_activity_date": 1435207916, "creation_date": 1435207916, "answer_id": 31041450, "question_id": 31036603, "link": "https://stackoverflow.com/questions/31036603/creating-a-postgresql-database-for-use-with-django/31041450#31041450", "title": "Creating a PostgreSQL database for use with Django", "body": "<p>Assuming you are on a linux host</p>\n\n<pre><code>sudo su postgres\ncreateuser myuser -P\ncreatedb -O myuser mydb\n</code></pre>\n\n<p>And ensure that you have in settings.py</p>\n\n<pre><code>DATABASES = {\n    'default': {\n    'ENGINE': 'django.db.backends.postgresql_psycopg2',\n    'NAME': 'mydb',\n    'USER': 'myuser',\n    'PASSWORD': '_replace_with_user_password_',\n    'HOST': '',\n    'PORT': '',\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 1898, "user_id": 840262, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fbfc8dfb2094385b693d4044f573ec49?s=128&d=identicon&r=PG", "display_name": "Chase Holland", "link": "https://stackoverflow.com/users/840262/chase-holland"}, "is_accepted": true, "score": 3, "last_activity_date": 1435248598, "last_edit_date": 1435248598, "creation_date": 1435248203, "answer_id": 31055337, "question_id": 31036603, "link": "https://stackoverflow.com/questions/31036603/creating-a-postgresql-database-for-use-with-django/31055337#31055337", "title": "Creating a PostgreSQL database for use with Django", "body": "<p>Having encountered this from a beginner perspective in the past, I'll go more in-depth -- first, a note on how to read the Django errors:</p>\n\n<p><code>django.db.utils.OperationalError</code></p>\n\n<p>means that there was an error in django\u2019s database utility (the bits that connect up django to different types of DBs like MySQL, Postgres, and SQLite), hence the db.utils part. OperationalErrors are things that are returned from the database itself when you try to run something, which means that the you can isolate Django and focus on the database interaction itself. If Django didn\u2019t exist and you ran the same commands through psql (postgres\u2019 command line utility), you\u2019d still see:</p>\n\n<p><code>FATAL:  role [username] does not exist</code></p>\n\n<p>Also you generally can tell it\u2019s an error from the database because of the all caps. Relational databases LOVE CAPS LOCK.</p>\n\n<p>As far as solving it, the error is pretty self-descriptive. The thing you need to look at is your settings.py file (as kmmnbvnr pointed out). In your database configuration, you should see a username and password. Postgres is complaining that you are trying to connect to the configured DB with a user that doesn\u2019t exist, so you need to create it. Here are the commands using PSQL instead of the sudo commands kmmbvnr used:</p>\n\n<p>Connect to the database with the command line utility:</p>\n\n<p><code>$ psql -d postgres</code></p>\n\n<p>If you created a database that was not the default postgres, use that instead for the database name, </p>\n\n<p>i.e. <code>$ psql -d my_database_name</code></p>\n\n<p><strong>Edit</strong>:  On certain OSs you may need to add a <code>-U &lt;database user&gt;</code> if it fills in your OS username and not the default \"postgres\" username.</p>\n\n<p>i.e. <code>$ psql -d postgres -U postgres</code> (postgres is the default user).  </p>\n\n<p><code>CREATE ROLE testrole WITH LOGIN ENCRYPTED PASSWORD 'password';</code></p>\n\n<p><code>ALTER ROLE testrole WITH CREATEDB;</code></p>\n\n<p><code>grant all privileges on database postgres to testrole;</code></p>\n\n<p>Change testrole and password to whatever you\u2019d like, so long as they match the username/password in settings.py. Do note the ' ' around the password, but not around the username. Those are important. Also note that Postgres frowns upon using the builtin \u2018postgres\u2019 user for non-administrative tasks for security reasons, so it\u2019s best to create another user to use with Django. Also, the last lines about granting permissions are a bit permissive, but for a local test configuration, it\u2019ll be your easiest bet. Consult the Postgres docs on privileges for production environments / proper security.</p>\n\n<p>Lastly, you can test, independent of django, by consulting the man page on PSQL (man psql on linux / mac) on how to login with a specific user with the command line. I believe the command is:</p>\n\n<p><code>$ psql -d postgres -U testrole -W</code></p>\n\n<p>Where the -d is specifying the database (i.e. mydatabase or postgres), the -U is the user to connect with, and the -W means prompt for a password.</p>\n"}], "owner": {"reputation": 3, "user_id": 5046273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d00a804f5e338063fde9bd197ed9659?s=128&d=identicon&r=PG&f=1", "display_name": "SDeal", "link": "https://stackoverflow.com/users/5046273/sdeal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1520, "favorite_count": 1, "accepted_answer_id": 31055337, "answer_count": 2, "score": 0, "last_activity_date": 1435248598, "creation_date": 1435178439, "question_id": 31036603, "link": "https://stackoverflow.com/questions/31036603/creating-a-postgresql-database-for-use-with-django", "title": "Creating a PostgreSQL database for use with Django", "body": "<p>I am currently working my way through <a href=\"http://www.creativebloq.com/netmag/get-started-django-7132932\" rel=\"nofollow\">this</a> tutorial on how to make a basic blog using Django, but I wanted to use a PostgreSQL database instead of a sqlite database. Django does not auto-create databases for non sqlite, and I am having trouble creating mine. I thought I had done it properly, but whenever I try to sync my DB, I see a bunch of filepaths and then the error </p>\n\n<pre><code>\"django.db.utils.OperationalError: FATAL:  role [username] does not exist\"\n</code></pre>\n\n<p>I have tried googling the problem and trying a few of the solutions I found, however none of them seem to be working. </p>\n\n<p>Thanks in advance for any guidance you can provide. </p>\n"}, {"tags": ["c#", "python"], "answers": [{"comments": [{"owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "edited": false, "score": 1, "creation_date": 1435185740, "post_id": 31037202, "comment_id": 50100663, "body": "Looks good. In my fumbling with code I missed the cast to a PythonContext. I will test this when I get back to work tomorrow. ! wIll sleep good tonight!"}, {"owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "edited": false, "score": 1, "creation_date": 1435244907, "post_id": 31037202, "comment_id": 50129487, "body": "I just finished testing and this solution works. Thank you."}], "tags": [], "owner": {"reputation": 7463, "user_id": 4311, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/r7Nij.jpg?s=128&g=1", "display_name": "Doug Porter", "link": "https://stackoverflow.com/users/4311/doug-porter"}, "is_accepted": true, "score": 0, "last_activity_date": 1435180579, "creation_date": 1435180579, "answer_id": 31037202, "question_id": 31036516, "link": "https://stackoverflow.com/questions/31036516/need-help-to-upgrade-ironpython-2-0-2-to-2-7-5-called-from-c/31037202#31037202", "title": "Need help to upgrade IronPython 2.0.2 to 2.7.5, called from C#", "body": "<p>Your <code>LanguageContext</code> is a <code>PythonContext</code> so it can be cast.  You can then use that along with a <code>PythonDictionary</code> to create a <code>ModuleContext</code>.  Then you can use that along with a <code>PythonDictionary</code> to create your <code>CodeContext</code>:</p>\n\n<pre><code>PythonContext cxt = (PythonContext)Microsoft.Scripting.Hosting.Providers.HostingHelpers.GetLanguageContext(_engine);\nPythonDictionary dict = new PythonDictionary();\nModuleContext modctx = new ModuleContext(dict, cxt);\nvar context = new CodeContext(dict, modctx);\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 1432917, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/250eb7d3c9032df3209017709b508e7e?s=128&d=identicon&r=PG", "display_name": "spainchaud", "link": "https://stackoverflow.com/users/1432917/spainchaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31037202, "answer_count": 1, "score": 1, "last_activity_date": 1435180579, "creation_date": 1435178113, "question_id": 31036516, "link": "https://stackoverflow.com/questions/31036516/need-help-to-upgrade-ironpython-2-0-2-to-2-7-5-called-from-c", "title": "Need help to upgrade IronPython 2.0.2 to 2.7.5, called from C#", "body": "<p>I need to upgrade code calling IronPython from C# and would like to upgrade to IronPython 2.7.5. The problem is that one of the APIs has changed, and I am not familiar enough with the original code to fix it. I have written a console program that exhibits the problem</p>\n\n<p>My Main:</p>\n\n<pre><code>class Program\n{\n    static void Main()\n    {\n        var pythonTest = new PythonTest();\n        pythonTest.LoadScript();\n        Console.WriteLine(\"Area = {0}\", pythonTest.Evaluate());\n    }\n}\n</code></pre>\n\n<p>My test class:</p>\n\n<pre><code>public class PythonTest\n{\n    private readonly ScriptEngine _engine;\n    private readonly ScriptScope _scope;\n    private ScriptSource _source;\n    private PythonFunction _currentFunction;\n    private readonly Dictionary&lt;string, PythonFunction&gt; _functions = new Dictionary&lt;string, PythonFunction&gt;();\n    private readonly double _scriptInput;\n\n    public PythonTest()\n    {\n        _scriptInput = 5;\n        _engine = Python.CreateEngine();\n        _scope = _engine.CreateScope();\n    }\n\n    public void LoadScript()\n    {\n        const string filename = @\"../../Scripts/testscript.py\";\n        _source = _engine.CreateScriptSourceFromFile(filename);\n        _source.Execute(_scope);\n\n        string firstFunction = \"\";\n        foreach (KeyValuePair&lt;string, object&gt; pair in _scope.GetItems())\n        {\n            var pairValue = pair.Value as PythonFunction;\n            if (pairValue != null)\n            {\n                _functions.Add(pair.Key, pairValue);\n\n                if (_functions.Count == 1)\n                {\n                    firstFunction = _functions.Keys.First();\n                }\n            }\n        }\n        _currentFunction = _functions[firstFunction];\n    }\n\n    public string Evaluate()\n    {\n        if (_currentFunction == null)\n            return null;\n\n        var parameters = new ArrayList {_scriptInput};\n\n        LanguageContext cxt = Microsoft.Scripting.Hosting.Providers.HostingHelpers.GetLanguageContext(_engine);\n        var context = new CodeContext(new Scope(), cxt);\n        object result = _currentFunction.__call__(context, parameters.ToArray());\n        return result.ToString();\n    }\n}\n</code></pre>\n\n<p>My test script:</p>\n\n<pre><code>from math import *\ndef AREA(h):\n  return (h * h)\n</code></pre>\n\n<p>This all works with the old Python DLLs. With the new DLLs the instantiation of the CodeContext (in the Evaluate method) is incorrect. The new API uses a PythonDictionary:</p>\n\n<pre><code>        public CodeContext(PythonDictionary dict, ModuleContext moduleContext);\n</code></pre>\n\n<p>I don't know how to modify the code to fix this problem. Any help would  be appreciated.</p>\n"}, {"tags": ["python", "mysql", "database-connection", "urlparse"], "answers": [{"comments": [{"owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "edited": false, "score": 0, "creation_date": 1435181447, "post_id": 31036604, "comment_id": 50098910, "body": "I changed my code: g[&#39;db&#39;] = mysql.connector.connect(user=url.username,password=url.passw&zwnj;&#8203;ord, host=url.hostname ,port=url.port,path=url.path[1:])                         but it is  it is now giving  me  error:errorraise AttributeError(&quot;Unsupported argument &#39;{0}&#39;&quot;.format(key)) app[stderr.0]: AttributeError: Unsupported argument &#39;path&#39;"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 17, "last_activity_date": 1435178756, "last_edit_date": 1435178756, "creation_date": 1435178440, "answer_id": 31036604, "question_id": 31036453, "link": "https://stackoverflow.com/questions/31036453/how-to-parse-mysql-database-name-from-database-url/31036604#31036604", "title": "how to parse mysql database name from database_url", "body": "<p>First of all, <code>url.host</code> would result into:</p>\n\n<blockquote>\n  <p>AttributeError: 'ParseResult' object has no attribute 'host'</p>\n</blockquote>\n\n<p>use <code>url.hostname</code> instead.</p>\n\n<p>To get the <code>database_name</code> out of the provided URL, use <code>path</code>:</p>\n\n<pre><code>url.path[1:]\n</code></pre>\n\n<hr>\n\n<p>An alternative <em>\"Don't reinvent the wheel\"</em> way to approach the problem would be to use <code>sqlalachemy</code>'s <code>make_url()</code>, which is <a href=\"https://github.com/ContextLogic/sqlalchemy/blob/master/engine/url.py#L170\" rel=\"noreferrer\">regexp-based</a>:</p>\n\n<pre><code>In [1]: from sqlalchemy.engine.url import make_url\n\nIn [2]: url = make_url(\"MYSQL://username:password@host:100/database_name\")\n\nIn [3]: print url.username, url.password, url.host, url.port, url.database\nusername password host 100 database_name\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "is_accepted": false, "score": 1, "last_activity_date": 1435182498, "creation_date": 1435182498, "answer_id": 31037695, "question_id": 31036453, "link": "https://stackoverflow.com/questions/31036453/how-to-parse-mysql-database-name-from-database-url/31037695#31037695", "title": "how to parse mysql database name from database_url", "body": "<p>changing path to 'database':url.path[1:] worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 851564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3ca45ba86f109df8d3ba9ce798a06c0?s=128&d=identicon&r=PG", "display_name": "Putna", "link": "https://stackoverflow.com/users/851564/putna"}, "is_accepted": false, "score": 1, "last_activity_date": 1586031668, "creation_date": 1586031668, "answer_id": 61034274, "question_id": 31036453, "link": "https://stackoverflow.com/questions/31036453/how-to-parse-mysql-database-name-from-database-url/61034274#61034274", "title": "how to parse mysql database name from database_url", "body": "<p>Using standard python3 lib</p>\n\n<pre><code>from urllib.parse import urlparse\n\ndbc = urlparse('mysql://username:password@host:port/database_name')\nprint(dbc.scheme, dbc.hostname, dbc.username, dbc.password, dbc.path.lstrip('/'))\n#output: mysql host username password database_name\n</code></pre>\n"}], "owner": {"reputation": 1081, "user_id": 5037693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b930eb38244e437e7eb10a71e3af534e?s=128&d=identicon&r=PG&f=1", "display_name": "guri", "link": "https://stackoverflow.com/users/5037693/guri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5305, "favorite_count": 3, "accepted_answer_id": 31036604, "answer_count": 3, "score": 6, "last_activity_date": 1586031668, "creation_date": 1435177914, "last_edit_date": 1435181829, "question_id": 31036453, "link": "https://stackoverflow.com/questions/31036453/how-to-parse-mysql-database-name-from-database-url", "title": "how to parse mysql database name from database_url", "body": "<p>DATABASE_URL- MYSQL://username:password@host:port/database_name    </p>\n\n<p>Error: database_name has no attributes.</p>\n\n<pre><code>if 'DATABASE_URL' in os.environ:\n  url = urlparse(os.getenv['DATABASE_URL'])\n g['db'] = mysql.connector.connect(user=url.username,password=url.password, host=url.hostname ,port=url.port,path=url.path[1:])\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql", "heroku", "django-database"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 1, "creation_date": 1435179112, "post_id": 31036446, "comment_id": 50097738, "body": "Firstly, local_settings is presumably not in your git repo so isn&#39;t uploaded to Heroku: it&#39;s the main settings.py you should edit. And secondly, the <a href=\"https://devcenter.heroku.com/articles/getting-started-with-django#django-settings\" rel=\"nofollow noreferrer\">Heroku docs</a> are very clear about how you use <code>dj-database-url</code> to set the db location for deployment; what problems did you have following them?"}, {"owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1435179492, "post_id": 31036446, "comment_id": 50097927, "body": "All the edits I&#39;ve made have been in the <code>settings.py</code>. About the dj_database_url, I&#39;ve checked out this answer <a href=\"http://stackoverflow.com/questions/14795824/improperlyconfiguredsettings-databases-is-improperly-configured-error-when\" title=\"improperlyconfiguredsettings databases is improperly configured error when\">stackoverflow.com/questions/14795824/&hellip;</a> that gives a solution but this does not work"}, {"owner": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "edited": false, "score": 0, "creation_date": 1435183493, "post_id": 31036446, "comment_id": 50099835, "body": "Can you share the edits you made to <code>settings.py</code>, specifically including <code>dj_database_url</code> code?"}, {"owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "reply_to_user": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "edited": false, "score": 0, "creation_date": 1435184027, "post_id": 31036446, "comment_id": 50100026, "body": "@bimsapi I&#39;ve edited the question to look like where I am now with the problem."}, {"owner": {"reputation": 4645, "user_id": 978676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d119c37b35cff2131c7d8180aa439656?s=128&d=identicon&r=PG", "display_name": "bimsapi", "link": "https://stackoverflow.com/users/978676/bimsapi"}, "edited": false, "score": 0, "creation_date": 1435365206, "post_id": 31036446, "comment_id": 50185955, "body": "The <code>dj_database_url</code> code looks right. Next suggestions: 1) Make sure that <code>manage.py</code> is referencing the right settings -or- override <code>DJANGO_SETTINGS_MODULE</code> as a config var; 2) make sure that, if you are referencing the right settings file, you are not accidentally over-riding it via an import like <code>from .local_settings import *</code>; 3) unset the database url and re-provision the database. Heroku will inject the environment var for you."}], "owner": {"reputation": 1164, "user_id": 3800389, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/3182101ccf732ff6bac4b37f7a34759c?s=128&d=identicon&r=PG&f=1", "display_name": "WutWut", "link": "https://stackoverflow.com/users/3800389/wutwut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435184644, "creation_date": 1435177886, "last_edit_date": 1435184644, "question_id": 31036446, "link": "https://stackoverflow.com/questions/31036446/django-1-8-database-error-deploying-project-on-heroku", "title": "Django 1.8 database error deploying project on heroku", "body": "<p>I have a <code>local_settings.py</code> that contains the database settings for my local postgre database. My <code>settings.py</code> database looks like this.</p>\n\n<pre><code>   DATABASES = {\n   'default': {\n   'ENGINE': 'django.db.backends.postgresql_psycopg2',  \n    'NAME': '', \n    'USER': '',\n    'PASSWORD': '',\n    'HOST': '', \n    'PORT': '',  \n    }\n   }\n\n ALLOWED_HOSTS = ['*']\n\n import dj_database_url\n\n DATABASES['default'] =   dj_database_url.config(default='postgres://mylocalusername:mylocalpass@OK@localhost/mylocaldb')\n\n SECURE_PROXY_SSL_HEADER = ('HTTP_X_FORWARDED_PROTO', 'https')\n</code></pre>\n\n<p>While deploying, after I created a new database using <code>heroku addons:create heroku-postgresql:hobby-dev</code> , I tried to run 'heroku run python manage.py migrate' before I could import my local database but I got the following error-</p>\n\n<p>And this is the error I get.</p>\n\n<pre><code>    raise ImproperlyConfigured(\"settings.DATABASES is improperly configured. \"\n    django.core.exceptions.ImproperlyConfigured: settings.DATABASES is   improperly configured. Please supply the ENGINE value. Check settings   documentation for moredetails.\n</code></pre>\n\n<p>I also tried to run the following commands after database creation.</p>\n\n<pre><code>heroko config\nheroko config:add DATABASE_URL={#the database url}\n</code></pre>\n"}, {"tags": ["python", "if-statement"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 5, "creation_date": 1435177932, "post_id": 31036428, "comment_id": 50097115, "body": "well, if player1 ISN&#39;T rock, then none of the other ifs will run..."}, {"owner": {"reputation": 5, "user_id": 3051697, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c89d3ce670d0b3f41be8085b310b47?s=128&d=identicon&r=PG&f=1", "display_name": "user3051697", "link": "https://stackoverflow.com/users/3051697/user3051697"}, "reply_to_user": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1435178018, "post_id": 31036428, "comment_id": 50097157, "body": "opps, sorry i didnt notice"}], "answers": [{"tags": [], "owner": {"reputation": 898, "user_id": 4194964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cdafddf072058ab6457e6aaf3eb1581?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/4194964/brian-cain"}, "is_accepted": false, "score": 2, "last_activity_date": 1435179086, "creation_date": 1435179086, "answer_id": 31036801, "question_id": 31036428, "link": "https://stackoverflow.com/questions/31036428/if-statment-inside-a-if/31036801#31036801", "title": "IF statment inside a IF?", "body": "<p>You are missing logical cases.  You need to cover all cases for both player 1 and player 2</p>\n\n<pre><code>if player1 == \"Rock\":\n   if player2 == \"Paper\":\n      print(\"Player 2 Wins\")\n   elif player2 == \"Sissors\":\n      print(\"Player 1 Wins\")\n   elif player2 == \"Rock\":\n      print( \"Draw\"):\nelif player1 == \"Paper\":\n   if player2 == \"Paper\":\n      print(\"Draw\")\n   ...\nelif player1 == \"Sissors\":\n   if player2 == \"Paper\":\n      print(\"Player 1 Wins\")\n   elif player2 == \"Rock\":\n   ...\n</code></pre>\n\n<p>Another option to simplify the logic would be to build a dictionary of your precomputed results</p>\n\n<pre><code>win = \"Player 1 Wins\"\nloose = \"Player 2 Wins\"\ntie = \"Tie\"\nresults = { \"rock\": { \"paper\":loose, \"sissors\":win, \"rock\":tie},\n            \"paper\": { \"paper\":tie, \"sissors:\":win, \"rock\":loose},\n            \"sissors\": { \"paper\":win, \"sissors:\":tie, \"rock\":loose} }\n</code></pre>\n\n<p>With the above code you can do something along the lines of</p>\n\n<pre><code>results[\"rock\"][\"paper\"]\n'Player 2 Wins'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 0, "last_activity_date": 1435179158, "creation_date": 1435179158, "answer_id": 31036822, "question_id": 31036428, "link": "https://stackoverflow.com/questions/31036428/if-statment-inside-a-if/31036822#31036822", "title": "IF statment inside a IF?", "body": "<p>Just to be complete:</p>\n\n<pre><code>if player1 == \"Rock\":\n    if player2 == \"Paper\":\n        print(\"Player 2 Wins!\")\n    elif player2 == \"Scissors\":\n        print(\"Player 1 Wins!\")\n    elif player2 == \"Rock\":\n        print(\"Draw\")\nelif player1 == \"Paper\":\n    # Same overall format different output\nelif player1 == \"Scissors\":\n    # Same overall format different output\nelse:\n    print(\"You must choose Rock, Paper, or scissors\")\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 3051697, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e7c89d3ce670d0b3f41be8085b310b47?s=128&d=identicon&r=PG&f=1", "display_name": "user3051697", "link": "https://stackoverflow.com/users/3051697/user3051697"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1435179158, "creation_date": 1435177840, "question_id": 31036428, "link": "https://stackoverflow.com/questions/31036428/if-statment-inside-a-if", "title": "IF statment inside a IF?", "body": "<p>Python\nHow would I make this work? It does not print it.</p>\n\n<pre><code>if player1 == \"Rock\":\n    if player2 == \"Paper\":\n        print(\"Player 2 Wins!\")\n    if player2 ==  \"Scissors\":\n        print(\"Player 1 Wins!\")\n    if player2 == \"Rock\":\n        print(\"Draw\")\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "dictionary"], "comments": [{"owner": {"reputation": 13359, "user_id": 489590, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e16b3d117fa188c4dbdafb8dc27a4df0?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Cain", "link": "https://stackoverflow.com/users/489590/brian-cain"}, "edited": false, "score": 1, "creation_date": 1435177884, "post_id": 31036407, "comment_id": 50097083, "body": "What about creating two dictionaries, each with a different index?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435178060, "post_id": 31036407, "comment_id": 50097182, "body": "What about <code>&quot;Vontobel&quot;,&quot;Vontobel&quot;</code>? You cannot have two of the same keys in a dict. I think you either want to use a iterable to store values for repeated keys or use a bidict"}, {"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435178227, "post_id": 31036407, "comment_id": 50097282, "body": "@PadraicCunningham Yes, they&#39;re &quot;supposed&quot; to overlap. The overlapping seems to work for &quot;Vontobel&quot; but not &quot;SEG&quot;. If they&#39;re not really allowed to overlap, I guess I must create even more dictionaries to do substitution?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435178525, "post_id": 31036407, "comment_id": 50097451, "body": "what output do you want?"}, {"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435178792, "post_id": 31036407, "comment_id": 50097568, "body": "@PadraicCunningham I have updated the question :)"}], "answers": [{"comments": [{"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "edited": false, "score": 0, "creation_date": 1435179268, "post_id": 31036724, "comment_id": 50097822, "body": "Thank you for the comprehensive explanation and practical solution. This works for me."}, {"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "edited": false, "score": 0, "creation_date": 1435179348, "post_id": 31036724, "comment_id": 50097855, "body": "Can I do something to make it split and keep the two last words? Something like <code>.str.get(-2:)</code>"}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "edited": false, "score": 1, "creation_date": 1435179887, "post_id": 31036724, "comment_id": 50098152, "body": "You could use <code>df[&#39;name&#39;].str.extract(r&#39;(\\S+\\s+\\S+)$&#39;)</code> or (the less efficient) <code>df[&#39;name&#39;].str.split().str[-2:].str.join(&#39; &#39;)</code>."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "reply_to_user": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "edited": false, "score": 1, "creation_date": 1435182030, "post_id": 31036724, "comment_id": 50099184, "body": "I&#39;ve added a second suggestion which would allow you use <code>str.contains</code> instead of demanding exact key matches."}, {"owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "edited": false, "score": 0, "creation_date": 1435219355, "post_id": 31036724, "comment_id": 50111598, "body": "Thanks for the addendum!"}], "tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 1, "last_activity_date": 1435230229, "last_edit_date": 1435230229, "creation_date": 1435178831, "answer_id": 31036724, "question_id": 31036407, "link": "https://stackoverflow.com/questions/31036407/key-to-value-to-key-in-python-dictionary/31036724#31036724", "title": "Key to Value to Key in Python Dictionary", "body": "<p>If you add the print statement:</p>\n\n<pre><code>for w in issuer:\n    print(w)\n    df.loc[df.issuer.str.contains(w).fillna(False), \"website\"] = issuer[w]\n</code></pre>\n\n<p>you may see:</p>\n\n<pre><code>SEG\nS\nSG\nVON\nVontobel\n</code></pre>\n\n<p>which shows that <code>w</code> is bound to <code>'S'</code> <em>after</em> it is bound to <code>'SEG'</code>.\nSince</p>\n\n<pre><code>In [220]: df.issuer.str.contains('SEG')\nOut[220]: \n0     True\n1     True\n2    False\n3    False\nName: issuer, dtype: bool\n\nIn [221]: df.issuer.str.contains('S')\nOut[221]: \n0     True\n1     True\n2    False\n3    False\nName: issuer, dtype: bool\n</code></pre>\n\n<p>The statement</p>\n\n<pre><code>df.loc[df.issuer.str.contains(w).fillna(False), \"website\"] = issuer[w]\n</code></pre>\n\n<p>ultimately sets the first two rows with the value <code>issuer['S']</code>, which equals\n<code>'SEG'</code>, since <code>w</code> was bound to <code>'S'</code> after <code>'SEG'</code>.</p>\n\n<p>Note that the order over which the keys of a dict are iterated is not specified\nby the Python language; <code>dict</code> keys are not ordered. In Python3 the order may\nchange with each run of the program. So in Python3 your code may sometimes\n\"work\", and sometimes not.</p>\n\n<hr>\n\n<p>Instead, you could use <code>Series.map</code>:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame([\"BEAR ESTOX X12 S\", \"BEAR ESTOX X15 S\", \"BEAR AXP UN 3X VON\", \"BULL AXP UN x5 VON\"], columns=[\"name\"])\n\nsg = {\"S\":\"SEG\", \"SG\":\"SEG\", \"SEG\":\"www.societegenerale.com\"}\nvontobel = {\"VON\":\"Vontobel\",\"Vontobel\":\"www.vontobel.com\"}\n\nissuer = sg.copy()\nissuer.update(vontobel) #Combine both to one dictionary\n\n#Split last word in string to new column\ndf[\"issuer_spl\"] = df.name.str.split().str.get(-1)\n\ndf['issuer'] = df['issuer_spl'].map(issuer)\ndf['website'] = df['issuer'].map(issuer)\n\nprint(df)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>                 name issuer_spl    issuer                  website\n0    BEAR ESTOX X12 S          S       SEG  www.societegenerale.com\n1    BEAR ESTOX X15 S          S       SEG  www.societegenerale.com\n2  BEAR AXP UN 3X VON        VON  Vontobel         www.vontobel.com\n3  BULL AXP UN x5 VON        VON  Vontobel         www.vontobel.com\n</code></pre>\n\n<p>provided the values in <code>issuer_spl</code> are keys in <code>issuer</code>. Note that this requires strict equality, whereas <code>df.issuer_spl.str.contains(w)</code> matches if <code>w</code> is a substring of a value in <code>issuer_spl</code>.</p>\n\n<hr>\n\n<p>Alternatively, if you can define a rule to distinguish\nwhich value in the <code>sg</code>, <code>vontobel</code> dicts represents the website, then you could process the dicts into two separate data structures, <code>issuer</code> and <code>website</code>. \nFor example, if a website value always starts with <code>www</code> or ends with <code>.com</code>, then\nyou could use</p>\n\n<pre><code>issuer = dict()\nwebsite = dict()\nfor dct in [sg, vontobel]:\n    for key, val in dct.items():\n        if val.startswith('www') or val.endswith('.com'):\n            website[key] = val\n        else:\n            issuer[key] = val\n</code></pre>\n\n<p>to separate the <code>issuer</code> data from the <code>website</code> data. </p>\n\n<pre><code>In [291]: issuer\nOut[291]: {'S': 'SEG', 'SG': 'SEG', 'VON': 'Vontobel'}\n\nIn [292]: website\nOut[292]: {'SEG': 'www.societegenerale.com', 'Vontobel': 'www.vontobel.com'}\n</code></pre>\n\n<p>Then you could build the desired DataFrame without relying on exact key matches:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame([\"BEAR ESTOX X12 S\", \"BEAR ESTOX X15 S\", \"BEAR AXP UN 3X VON\", \n                   \"BULL AXP UN x5 VON\", \"BEAR DAX X3 SG 2\"], columns=[\"name\"])\n\nsg = {\"S\":\"SEG\", \"SG\":\"SEG\", \"SEG\":\"www.societegenerale.com\"}\nvontobel = {\"VON\":\"Vontobel\",\"Vontobel\":\"www.vontobel.com\"}\n\nissuer = dict()\nwebsite = dict()\nfor dct in [sg, vontobel]:\n    for key, val in dct.items():\n        if val.startswith('www') or val.endswith('.com'):\n            website[key] = val\n        else:\n            issuer[key] = val\n\ndf[\"issuer_spl\"] = df.name.str.extract(r'(\\S+\\s+\\S+)$')\n\nfor i in issuer:\n    df.loc[df.issuer_spl.str.contains(i), \"issuer\"] = issuer[i]\n\ndf['website'] = df['issuer'].map(website)\nprint(df)\n</code></pre>\n\n<p>yields</p>\n\n<pre><code>                 name issuer_spl    issuer                  website\n0    BEAR ESTOX X12 S      X12 S       SEG  www.societegenerale.com\n1    BEAR ESTOX X15 S      X15 S       SEG  www.societegenerale.com\n2  BEAR AXP UN 3X VON     3X VON  Vontobel         www.vontobel.com\n3  BULL AXP UN x5 VON     x5 VON  Vontobel         www.vontobel.com\n4    BEAR DAX X3 SG 2       SG 2       SEG  www.societegenerale.com\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 173, "user_id": 3403376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/471e9231bc25096b21e731827b09d361?s=128&d=identicon&r=PG&f=1", "display_name": "sparklearner", "link": "https://stackoverflow.com/users/3403376/sparklearner"}, "is_accepted": false, "score": 0, "last_activity_date": 1435180346, "creation_date": 1435180346, "answer_id": 31037146, "question_id": 31036407, "link": "https://stackoverflow.com/questions/31036407/key-to-value-to-key-in-python-dictionary/31037146#31037146", "title": "Key to Value to Key in Python Dictionary", "body": "<p>I believe you could also solve it by this way:</p>\n\n<p>Instead of using df.issuer.str.contains, using df.issuer.str.endswith.</p>\n\n<pre><code>for w in issuer:\n     df.loc[df.issuer.str.endswith(w).fillna(False), \"website\"] = issuer[w]\n</code></pre>\n"}], "owner": {"reputation": 4187, "user_id": 4909923, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/99ac2eb0a0bff7cb9b7debdbba100611?s=128&d=identicon&r=PG&f=1", "display_name": "P A N", "link": "https://stackoverflow.com/users/4909923/p-a-n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 31036724, "answer_count": 2, "score": 1, "last_activity_date": 1435230229, "creation_date": 1435177790, "last_edit_date": 1435179760, "question_id": 31036407, "link": "https://stackoverflow.com/questions/31036407/key-to-value-to-key-in-python-dictionary", "title": "Key to Value to Key in Python Dictionary", "body": "<p>I feel this isn't the most elegant solution, but I'm looking for a way to to use values as keys in one and the same dictionary. The reasoning is that I can include multiple pieces of information in one place.</p>\n\n<p>My current solution seems to work for only <em>one</em> of two dictionaries. I can't figure out why.</p>\n\n<hr>\n\n<p>Pandas DataFrame:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame([\"BEAR ESTOX X12 S\", \"BEAR ESTOX X15 S\", \"BEAR AXP UN 3X VON\", \"BULL AXP UN x5 VON\"], columns=[\"name\"])\n</code></pre>\n\n<p>Two dictionaries:</p>\n\n<pre><code>sg = {\"S\":\"SEG\", \"SG\":\"SEG\", \"SEG\":\"www.societegenerale.com\"}\nvontobel = {\"VON\":\"Vontobel\",\"Vontobel\":\"www.vontobel.com\"}\n\nissuer = sg.copy()\nissuer.update(vontobel) #Combine both to one dictionary\n</code></pre>\n\n<p>I then do:</p>\n\n<pre><code>#Split last word in string to new column\ndf[\"issuer_spl\"] = df.name.str.split().str.get(-1)\n\n#Copy to column \"issuer\" and substitute abbreviations via dictionary\nfor i in issuer:\n    df.loc[df.issuer_spl.str.contains(i), \"issuer\"] = issuer[i]\n\n#Another pass in the dictionary, copying and substituting to column \"website\" \nfor w in issuer:\n    df.loc[df.issuer.str.contains(w).fillna(False), \"website\"] = issuer[w]\n</code></pre>\n\n<p>Produces output:</p>\n\n<pre><code>name                    issuer_spl      issuer          website\n\"BEAR ESTOX X12 S\"      \"S\"             \"SEG\"           \"SEG\"\n\"BEAR ESTOX X15 S\"      \"S\"             \"SEG\"           \"SEG\"\n\"BULL AXP UN X3 VON\"    \"VON\"           \"Vontobel\"      \"www.vontobel.com\"         \n\"BEAR AXP UN X3 VON\"    \"VON\"           \"Vontobel\"      \"www.vontobel.com\"\n</code></pre>\n\n<p>What am I doing wrong that makes it key only the website for <code>\"www.vontobel.com\"</code> but not <code>\"www.societegenerale.com\"</code>?</p>\n\n<p>Is there an alternative way to do this which is more structured, e.g. a dictionary that also doubles as a \"list\" that can be accessed by <code>[i]</code>?</p>\n\n<hr>\n\n<p>Desired output:</p>\n\n<pre><code>name                    issuer_spl      issuer       website\n\"BEAR ESTOX X12 S\"      \"S\"             \"SEG\"        \"www.societegenerale.com\"\n\"BEAR ESTOX X15 S\"      \"S\"             \"SEG\"        \"www.societegenerale.com\"\n\"BULL AXP UN X3 VON\"    \"VON\"           \"Vontobel\"   \"www.vontobel.com\"         \n\"BEAR AXP UN X3 VON\"    \"VON\"           \"Vontobel\"   \"www.vontobel.com\"\n</code></pre>\n"}, {"tags": ["python", "sql", "pymssql"], "answers": [{"comments": [{"owner": {"reputation": 853, "user_id": 2216471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5hLAS.jpg?s=128&g=1", "display_name": "abaldwin99", "link": "https://stackoverflow.com/users/2216471/abaldwin99"}, "edited": false, "score": 0, "creation_date": 1442513751, "post_id": 32634150, "comment_id": 53123097, "body": "Perfect.  Looks like they updated their docs too.  It&#39;s the first example on this page... <a href=\"http://pymssql.org/en/latest/pymssql_examples.html\" rel=\"nofollow noreferrer\">pymssql.org/en/latest/pymssql_examples.html</a>    In my use case there should always be data returning from the table in question.  If the table has no rows then raising an exception would be the desired behavior."}], "tags": [], "owner": {"reputation": 843, "user_id": 468279, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/5WdTY.jpg?s=128&g=1", "display_name": "circuitBurn", "link": "https://stackoverflow.com/users/468279/circuitburn"}, "is_accepted": true, "score": 1, "last_activity_date": 1442503294, "creation_date": 1442503294, "answer_id": 32634150, "question_id": 31036255, "link": "https://stackoverflow.com/questions/31036255/pymssql-access-data-in-cursor-without-for-loop/32634150#32634150", "title": "pymssql: access data in cursor without for loop", "body": "<p>You can use <code>cursor.fetchone()[0]</code> in place of <code>cursor[0][0]</code>. </p>\n\n<p>However, if nothing is returned from the query you're going to get an exception. Better to do something \"ugly\" like this:</p>\n\n<pre><code>row = cursor.fetchone()\nif row:\n    print row[0]\n</code></pre>\n"}], "owner": {"reputation": 853, "user_id": 2216471, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5hLAS.jpg?s=128&g=1", "display_name": "abaldwin99", "link": "https://stackoverflow.com/users/2216471/abaldwin99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 819, "favorite_count": 0, "accepted_answer_id": 32634150, "answer_count": 1, "score": 0, "last_activity_date": 1442503294, "creation_date": 1435177367, "question_id": 31036255, "link": "https://stackoverflow.com/questions/31036255/pymssql-access-data-in-cursor-without-for-loop", "title": "pymssql: access data in cursor without for loop", "body": "<p>I am retrieving a single row from a single column in my database.  The pymssql documentation exclusively uses loops to access the data in a cursor.</p>\n\n<pre><code>conn = pymssql.connect(server, user, password, \"tempdb\")\ncursor = conn.cursor()\ncursor.execute('SELECT %s', 'Foo')\n\n#This works but it's ugly\nfor row in cursor:\n    print row[0]\n    break\n\n#The following throws an error\nprint cursor[0][0]\n\nconn.close()\n</code></pre>\n\n<p>Is there a way to access the data inside the cursor object without a <code>for</code> loop?</p>\n"}, {"tags": ["python", "numpy", "pandas"], "comments": [{"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435179974, "post_id": 31036148, "comment_id": 50098188, "body": "you want to standardise datetime? or some numeric values. scikit-learn provide lots of such functionalities."}, {"owner": {"reputation": 900, "user_id": 1587451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca143c644b5da7796f746de7bbaedb80?s=128&d=identicon&r=PG", "display_name": "user1587451", "link": "https://stackoverflow.com/users/1587451/user1587451"}, "reply_to_user": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435180075, "post_id": 31036148, "comment_id": 50098236, "body": "Which one?  Any link to some short example?"}, {"owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "edited": false, "score": 0, "creation_date": 1435180096, "post_id": 31036148, "comment_id": 50098254, "body": "I will write a short example."}], "answers": [{"comments": [{"owner": {"reputation": 900, "user_id": 1587451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca143c644b5da7796f746de7bbaedb80?s=128&d=identicon&r=PG", "display_name": "user1587451", "link": "https://stackoverflow.com/users/1587451/user1587451"}, "edited": false, "score": 0, "creation_date": 1435178231, "post_id": 31036228, "comment_id": 50097287, "body": "I know but I wanna do it with numpy/pandas as in the subject mentioned."}, {"owner": {"reputation": 900, "user_id": 1587451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca143c644b5da7796f746de7bbaedb80?s=128&d=identicon&r=PG", "display_name": "user1587451", "link": "https://stackoverflow.com/users/1587451/user1587451"}, "edited": false, "score": 0, "creation_date": 1435229961, "post_id": 31036228, "comment_id": 50118150, "body": "When running I got an error: TypeError: &#39;numpy.float64&#39; object does not support item assignment. When I change fit_transform(df[&#39;dates&#39;]) to fit_transform(df[[&#39;dates&#39;]]) it runs but then df is no more a pandas object. Any hints how to solve? Nevertheless, thanks!!"}], "tags": [], "owner": {"reputation": 49769, "user_id": 238639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba9b80f1493afc4168e39bf759019152?s=128&d=identicon&r=PG", "display_name": "bakkal", "link": "https://stackoverflow.com/users/238639/bakkal"}, "is_accepted": false, "score": 7, "last_activity_date": 1435181022, "last_edit_date": 1435181022, "creation_date": 1435177258, "answer_id": 31036228, "question_id": 31036148, "link": "https://stackoverflow.com/questions/31036148/how-to-standardize-normalize-a-date-with-pandas-numpy/31036228#31036228", "title": "How to standardize/normalize a date with pandas/numpy?", "body": "<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import MinMaxScaler\nimport time\n\ndef convert_to_timestamp(x):\n    \"\"\"Convert date objects to integers\"\"\"\n    return time.mktime(x.to_datetime().timetuple())\n\n\ndef normalize(df):\n    \"\"\"Normalize the DF using min/max\"\"\"\n    scaler = MinMaxScaler(feature_range=(-1, 1))\n    dates_scaled = scaler.fit_transform(df['dates'])\n\n    return dates_scaled\n\nif __name__ == '__main__':\n    # Create a random series of dates\n    df = pd.DataFrame({\n        'dates':\n            ['1980-01-01', '1980-02-02', '1980-03-02', '1980-01-21',\n             '1981-01-21', '1991-02-21', '1991-03-23']\n    })\n\n    # Convert to date objects\n    df['dates'] = pd.to_datetime(df['dates'])\n\n    # Now df has date objects like you would, we convert to UNIX timestamps\n    df['dates'] = df['dates'].apply(convert_to_timestamp)\n\n    # Call normalization function\n    df = normalize(df)\n</code></pre>\n\n<h2>Sample:</h2>\n\n<h2>Date objects that we convert using <code>convert_to_timestamp</code></h2>\n\n<pre><code>       dates\n0 1980-01-01\n1 1980-02-02\n2 1980-03-02\n3 1980-01-21\n4 1981-01-21\n5 1991-02-21\n6 1991-03-23\n</code></pre>\n\n<h2>UNIX timestamps that we can normalize using a <code>MinMaxScaler</code> from <code>sklearn</code></h2>\n\n<pre><code>       dates\n0  315507600\n1  318272400\n2  320778000\n3  317235600\n4  348858000\n5  667069200\n6  669661200\n</code></pre>\n\n<h2>Normalized to (-1, 1), the final result</h2>\n\n<pre><code>[-1.         -0.98438644 -0.97023664 -0.99024152 -0.81166138  0.98536228\n  1.        ]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 900, "user_id": 1587451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca143c644b5da7796f746de7bbaedb80?s=128&d=identicon&r=PG", "display_name": "user1587451", "link": "https://stackoverflow.com/users/1587451/user1587451"}, "edited": false, "score": 1, "creation_date": 1435229770, "post_id": 31037172, "comment_id": 50118012, "body": "I had to change float64 to &#39;float64&#39; (NameError: name &#39;float64&#39; is not defined) but still THANKS a lot."}, {"owner": {"reputation": 9435, "user_id": 6858244, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wfU-doP3Fhc/AAAAAAAAAAI/AAAAAAAACbY/GNmdrBKqDSM/photo.jpg?sz=128", "display_name": "Prayson W. Daniel", "link": "https://stackoverflow.com/users/6858244/prayson-w-daniel"}, "edited": false, "score": 0, "creation_date": 1541228463, "post_id": 31037172, "comment_id": 93152383, "body": "I think he forgot np.float64 == &#39;float64&#39; ==&#39;float&#39; in Pandas"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1435180458, "creation_date": 1435180458, "answer_id": 31037172, "question_id": 31036148, "link": "https://stackoverflow.com/questions/31036148/how-to-standardize-normalize-a-date-with-pandas-numpy/31037172#31037172", "title": "How to standardize/normalize a date with pandas/numpy?", "body": "<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import MinMaxScaler\n\ndf = pd.DataFrame(np.random.randint(1, 100, (1000, 2)).astype(float64), columns=['A', 'B'])\n\n      A   B\n0    87  95\n1    15  12\n2    85  88\n3    33  61\n4    33  29\n5    33  91\n6    67  19\n7    68  20\n8    79  18\n9    29  93\n..   ..  ..\n990  70  84\n991  37  24\n992  91  12\n993  92  13\n994   4  64\n995  32  98\n996  97  62\n997  38  40\n998  12  56\n999  48   8\n\n[1000 rows x 2 columns]\n\n# specify your desired range (-1, 1)\nscaler = MinMaxScaler(feature_range=(-1, 1))\nscaled = scaler.fit_transform(df.values)\nprint(scaled)\n\n[[ 0.7551  0.9184]\n [-0.7143 -0.7755]\n [ 0.7143  0.7755]\n ..., \n [-0.2449 -0.2041]\n [-0.7755  0.1224]\n [-0.0408 -0.8571]]\n\ndf[['A', 'B']] = scaled\n\nOut[30]: \n          A       B\n0    0.7551  0.9184\n1   -0.7143 -0.7755\n2    0.7143  0.7755\n3   -0.3469  0.2245\n4   -0.3469 -0.4286\n5   -0.3469  0.8367\n6    0.3469 -0.6327\n7    0.3673 -0.6122\n8    0.5918 -0.6531\n9   -0.4286  0.8776\n..      ...     ...\n990  0.4082  0.6939\n991 -0.2653 -0.5306\n992  0.8367 -0.7755\n993  0.8571 -0.7551\n994 -0.9388  0.2857\n995 -0.3673  0.9796\n996  0.9592  0.2449\n997 -0.2449 -0.2041\n998 -0.7755  0.1224\n999 -0.0408 -0.8571\n\n[1000 rows x 2 columns]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 951, "user_id": 3749146, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/63bd0daa423a73773a2503b7fb6eb690?s=128&d=identicon&r=PG&f=1", "display_name": "steboc", "link": "https://stackoverflow.com/users/3749146/steboc"}, "is_accepted": true, "score": 2, "last_activity_date": 1435231305, "creation_date": 1435231305, "answer_id": 31048949, "question_id": 31036148, "link": "https://stackoverflow.com/questions/31036148/how-to-standardize-normalize-a-date-with-pandas-numpy/31048949#31048949", "title": "How to standardize/normalize a date with pandas/numpy?", "body": "<p>a solution with Pandas </p>\n\n<pre><code>df = pd.DataFrame({\n        'A':\n            ['1980-01-01', '1980-02-02', '1980-03-02', '1980-01-21',\n             '1981-01-21', '1991-02-21', '1991-03-23'] })\ndf['A'] = pd.to_datetime(df['A']).astype('int64')\nmax_a = df.A.max()\nmin_a = df.A.min()\nmin_norm = -1\nmax_norm =1\ndf['NORMA'] = (df.A- min_a) *(max_norm - min_norm) / (max_a-min_a) + min_norm\n</code></pre>\n"}], "owner": {"reputation": 900, "user_id": 1587451, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ca143c644b5da7796f746de7bbaedb80?s=128&d=identicon&r=PG", "display_name": "user1587451", "link": "https://stackoverflow.com/users/1587451/user1587451"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9865, "favorite_count": 0, "accepted_answer_id": 31048949, "answer_count": 3, "score": 4, "last_activity_date": 1435231305, "creation_date": 1435176995, "question_id": 31036148, "link": "https://stackoverflow.com/questions/31036148/how-to-standardize-normalize-a-date-with-pandas-numpy", "title": "How to standardize/normalize a date with pandas/numpy?", "body": "<p>With following code snippet</p>\n\n<pre><code>import pandas as pd\ntrain = pd.read_csv('train.csv',parse_dates=['dates'])\nprint(data['dates'])\n</code></pre>\n\n<p>I load and control the data.</p>\n\n<p>My question is, how can I standardize/normalize data['dates'] to make all the elements lie between -1 and 1 (linear or gaussian)??</p>\n"}, {"tags": ["python", "multiprocessing", "arcmap"], "comments": [{"owner": {"reputation": 21, "user_id": 5046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f0cd52aa78bfe7a06d0922cbe82c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wesley", "link": "https://stackoverflow.com/users/5046148/wesley"}, "edited": false, "score": 0, "creation_date": 1435327444, "post_id": 31036109, "comment_id": 50168975, "body": "I might actually have been doing it correctly at some point.  I think I am having a problem with my multiprocessing module.  I can import multiprocessing and count CPUs.  However, when trying to use simple examples from the docs it freezes up and doesn&#39;t work."}], "answers": [{"tags": [], "owner": {"reputation": 227, "user_id": 4999239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26eed1c0dd760c96c05a23f560893ddd?s=128&d=identicon&r=PG&f=1", "display_name": "khol", "link": "https://stackoverflow.com/users/4999239/khol"}, "is_accepted": false, "score": 0, "last_activity_date": 1435177443, "creation_date": 1435177443, "answer_id": 31036288, "question_id": 31036109, "link": "https://stackoverflow.com/questions/31036109/how-to-pass-multiple-values-using-python-multiprocessing/31036288#31036288", "title": "How to pass multiple values using Python Multiprocessing", "body": "<p>From the docs:</p>\n\n<blockquote>\n  <p>map(func, iterable[, chunksize]) A parallel equivalent of the map()\n  built-in function (it supports only one iterable argument though).</p>\n</blockquote>\n\n<p>So, you will have to put the 8 arguments into a single list, pass that to UpdateLayers, then grab all the arguments from that list within the function.</p>\n\n<p>Your call will look like:</p>\n\n<pre><code>p.map(UpdateLayers, [maps, oldNames, newLayer0, newLayer1, newLayer2, newLayer3, newLayer4, f])\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3f0cd52aa78bfe7a06d0922cbe82c83?s=128&d=identicon&r=PG&f=1", "display_name": "Wesley", "link": "https://stackoverflow.com/users/5046148/wesley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1435177443, "creation_date": 1435176886, "question_id": 31036109, "link": "https://stackoverflow.com/questions/31036109/how-to-pass-multiple-values-using-python-multiprocessing", "title": "How to pass multiple values using Python Multiprocessing", "body": "<p>I have a script that will run through part of our company wide network to replace data when it is updated.  The problem is I have hundred of paths and running it without multiprocessing takes all weekend.  In the past I have broken similar scripts in to sub folders but it takes constant monitoring and running successive folders all weekend.</p>\n\n<p>mappaths is a tuple containing the paths</p>\n\n<pre><code>def UpdateLayers(maps, oldNames, newLayer0, newLayer1, newLayer2, newLayer3, newLayer4, f):\n    mxd = arcpy.mapping.MapDocument(maps)\n    print maps\n    for df in arcpy.mapping.ListDataFrames(mxd):\n        for layer in arcpy.mapping.ListLayers(mxd, \"\", df):\n            #Land Survey Base\n            if layer.name in oldNames:\n                if layer.name == oldNames[0]:\n                    LayerReplace(layer, newLayer0, df, f, maps)\n                elif layer.name == oldNames[1]:\n                    LayerReplace(layer, newLayer1, df, f, maps)\n                elif layer.name == oldNames[2]:\n                    LayerReplace(layer, newLayer2, df, f, maps)\n                elif layer.name == oldNames[3]:\n                    LayerReplace(layer, newLayer3, df, f, maps)\n                elif layer.name == oldNames[4]:\n                    LayerReplace(layer, newLayer4, df, f, maps)\n                else:\n                    print \"layer unable to replace\"\n    SaveMXD(f, mxd, maps)\n    del mxd\n\n##some more code\n\nfor maps in mappaths:\n    UpdateLayers(maps, oldNames, newLayer0, newLayer1, newLayer2, newLayer3, newLayer4, f)\n</code></pre>\n\n<p>From what I have read on here, at some point I want to replace my for loop with something similar to </p>\n\n<pre><code>if __name__ == '__main__':\n    p = multiprocessing.Pool()\n    p.map(UpdateLayers, mappaths)\n</code></pre>\n\n<p>My problem is I don't know how to pass <code>oldNames, newLayer0, newLayer1, newLayer2, newLayer3, newLayer4, f</code>in to my function.</p>\n\n<p>I figure what I am missing is fairly simple but programming and script writing is an additional part of my job just because I can usually figure it out.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 4, "last_activity_date": 1435176942, "creation_date": 1435176942, "answer_id": 31036130, "question_id": 31036106, "link": "https://stackoverflow.com/questions/31036106/pandas-apply-function-on-column/31036130#31036130", "title": "Pandas Apply function on Column", "body": "<p>You can just do <code>df['B'] = df.B.notnull()</code>.</p>\n"}], "owner": {"reputation": 1435, "user_id": 846797, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/bf19fe005057ebe6d21f377ac1b5caf5?s=128&d=identicon&r=PG", "display_name": "Ashwini Khare", "link": "https://stackoverflow.com/users/846797/ashwini-khare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 31036130, "answer_count": 1, "score": 0, "last_activity_date": 1435176942, "creation_date": 1435176862, "question_id": 31036106, "link": "https://stackoverflow.com/questions/31036106/pandas-apply-function-on-column", "title": "Pandas Apply function on Column", "body": "<p>I have a few columns in the Pandas dataframe which are sparsely populated, and I wish to modify their respective values to, whether they are filled or not.</p>\n\n<p>For instance, my dataframe is:</p>\n\n<pre><code>      A  B  C  D\n   0  8        8\n   1  9  4     4\n   2  5     3  8\n   3  4        1 \n</code></pre>\n\n<p>I want it to be : </p>\n\n<pre><code>      A  B  C  D\n   0  8  F  F  8\n   1  9  T  F  4\n   2  5  F  T  8\n   3  4  F  F  1 \n</code></pre>\n\n<p>F = False, T= True</p>\n\n<p>Running <code>pandas.isnull(df['B'])</code> returns a new series with boolean values, how do I update it efficiently in the original dataframe?</p>\n"}, {"tags": ["python", "mechanize"], "answers": [{"tags": [], "owner": {"reputation": 146, "user_id": 5054448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H3bwe.jpg?s=128&g=1", "display_name": "Onur Gokkocabas", "link": "https://stackoverflow.com/users/5054448/onur-gokkocabas"}, "is_accepted": false, "score": 0, "last_activity_date": 1435702917, "creation_date": 1435702917, "answer_id": 31149568, "question_id": 31036103, "link": "https://stackoverflow.com/questions/31036103/processing-uspto-website-using-mechanize-and-python/31149568#31149568", "title": "Processing USPTO website using Mechanize and python", "body": "<p>Well;</p>\n\n<ol>\n<li><p>set your http variable to a variable to just pass it in as <code>newurl = oldurl + link.url</code> and you can always do it at the start <code>br.open(oldurl + \"w/e goes here\")</code></p></li>\n<li><p><code>for i in response1.forms():\n   print \"Form name:\", i.name</code></p></li>\n<li><p>need to select form, send in text, then click submit.. here is some tips:</p>\n\n<pre><code>for form in br.forms():\n   if form.attrs['id'] == 'search':\n   br.form = form\n   break\nbr[\"search\"] = \"text_search\"\nbr.submit()\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 11, "user_id": 5046106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34f3e29ac602a9e50b0001558ce866eb?s=128&d=identicon&r=PG&f=1", "display_name": "Ashok", "link": "https://stackoverflow.com/users/5046106/ashok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1436804511, "creation_date": 1435176855, "last_edit_date": 1436804511, "question_id": 31036103, "link": "https://stackoverflow.com/questions/31036103/processing-uspto-website-using-mechanize-and-python", "title": "Processing USPTO website using Mechanize and python", "body": "<p>All i want is to simply process USPTO trademark site for a simple pattern.</p>\n\n<pre><code>#!/usr/bin/python\n\nimport mechanize\nimport cookielib\nbr=mechanize.Browser()\ncg = cookielib.LWPCookieJar()\nbr.set_cookiejar(cg);\n\n#br.set_all_readonly(False)\nbr.set_handle_robots(False)\nbr.set_handle_refresh(False)\nbr.addheaders=[('User-agent', 'Firefox')]\n\nresponse=br.open(\"http://uspto.gov/trademarks-application-process/search-trademark-database\")\n\ntess = 'TESS'\nstart_search = 'Basic Word Mark Search (New User)'\n\nassert br.viewing_html()\nprint br.title()\n\nfor l in br.links(url_regex='tmsearch'):\n        if l.text == tess:\n                print l.url;\n                break\n\nbr.follow_link(l)\nnewlink=br.geturl()\nprint newlink\n\nbr.open(newlink)\nfor link in br.links():\n        if link.text == start_search:\n                print \"Found Basic Search\"\n                print link.text\n                print link.url\n                break;\n**#Why do we need the contactination. Witoug this it doesn't generate a full URL**\n\nnewurl=\"http://tmsearch.uspto.gov\" + link.url\nprint newurl\nresponse1 = br.open(newurl);\n\nprint response1.read()\n\n#for form in br.forms():\n        #print \"Form Name\" form.name\n</code></pre>\n\n<p>Two questions.</p>\n\n<ol>\n<li>Without manually concatenating the prefix, i dont get a full url in this step.</li>\n<li>The last end of the program, i get some warning when where it says for form in. </li>\n<li>Finally, i want to input some search text in \"Search Term\", i'm assuming this is a form!, but unable to get to it. and then submit. Next is to followup the table that gets displayed after.</li>\n</ol>\n"}, {"tags": ["python", "python-3.x", "floating-point"], "comments": [{"owner": {"reputation": 26723, "user_id": 995714, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/w1393.jpg?s=128&g=1", "display_name": "phuclv", "link": "https://stackoverflow.com/users/995714/phuclv"}, "edited": false, "score": 0, "creation_date": 1604741646, "post_id": 31036098, "comment_id": 114443818, "body": "in short, <code>floor()</code> is the <a href=\"https://en.wikipedia.org/wiki/Floor_and_ceiling_functions\" rel=\"nofollow noreferrer\">mathematical floor <code>\u230a\u230b</code> function</a> and <code>int()</code> is equivalent to <code>sgn(x)\u230a|x|\u230b</code> in math"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 149, "last_activity_date": 1435177032, "creation_date": 1435177032, "answer_id": 31036156, "question_id": 31036098, "link": "https://stackoverflow.com/questions/31036098/what-is-the-difference-between-int-and-floor-in-python-3/31036156#31036156", "title": "What is the difference between int() and floor() in Python 3?", "body": "<p><code>floor()</code> rounds <em>down</em>. <code>int()</code> <em>truncates</em>. The difference is clear when you use negative numbers:</p>\n\n<pre><code>&gt;&gt;&gt; import math\n&gt;&gt;&gt; math.floor(-3.5)\n-4\n&gt;&gt;&gt; int(-3.5)\n-3\n</code></pre>\n\n<p>Rounding down on negative numbers means that they move away from 0, truncating moves them closer to 0.</p>\n\n<p>Putting it differently, the <code>floor()</code> is always going to be lower or equal to the original. <code>int()</code> is going to be closer to zero or equal.</p>\n"}, {"tags": [], "owner": {"reputation": 1604, "user_id": 7032512, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/4848s.png?s=128&g=1", "display_name": "amin saffar", "link": "https://stackoverflow.com/users/7032512/amin-saffar"}, "is_accepted": false, "score": 7, "last_activity_date": 1604827225, "last_edit_date": 1604827225, "creation_date": 1588326980, "answer_id": 61540270, "question_id": 31036098, "link": "https://stackoverflow.com/questions/31036098/what-is-the-difference-between-int-and-floor-in-python-3/61540270#61540270", "title": "What is the difference between int() and floor() in Python 3?", "body": "<p>I test time complexity of both method they are the same</p>\n<pre><code>from time import time\nimport math\nimport random\n\nr = 10000000\ndef floorTimeFunction():\n  for i in range(r):\n    math.floor(random.randint(-100,100))\n\ndef intTimeFunction():\n  for i in range(r):\n    int(random.randint(-100,100))\n\nt0 = time()\nfloorTimeFunction()\nt1 = time()\nintTimeFunction()\nt2 = time()\n\nprint('function floor takes %f' %(t1-t0))\nprint('function int   takes %f' %(t2-t1))\n</code></pre>\n<p>output is:</p>\n<pre><code># function floor takes 11.841985\n# function int   takes 11.841325\n</code></pre>\n"}], "owner": {"reputation": 904, "user_id": 1470459, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cc25086f44e4417abfb24a777ec584a9?s=128&d=identicon&r=PG&f=1", "display_name": "datah4ck3r", "link": "https://stackoverflow.com/users/1470459/datah4ck3r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38838, "favorite_count": 11, "accepted_answer_id": 31036156, "answer_count": 2, "score": 69, "last_activity_date": 1604827225, "creation_date": 1435176838, "last_edit_date": 1435176981, "question_id": 31036098, "link": "https://stackoverflow.com/questions/31036098/what-is-the-difference-between-int-and-floor-in-python-3", "title": "What is the difference between int() and floor() in Python 3?", "body": "<p>In Python 2, <code>floor()</code> returned a float value. Although not obvious to me, I found a few explanations clarifying  why it may be useful to have <code>floor()</code> return float (for cases like <code>float('inf')</code> and <code>float('nan')</code>). </p>\n\n<p>However, in Python 3, <code>floor()</code> returns integer (and returns overflow error for the special cases mentioned before).</p>\n\n<p>So what is the difference, if any, between <code>int()</code> and <code>floor()</code> now?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 7823, "user_id": 1469380, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/g2O1U.jpg?s=128&g=1", "display_name": "Srivatsan", "link": "https://stackoverflow.com/users/1469380/srivatsan"}, "edited": false, "score": 2, "creation_date": 1435176991, "post_id": 31036097, "comment_id": 50096613, "body": "can you post your code that does the plotting"}, {"owner": {"reputation": 316, "user_id": 899200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/373599ce6eefdd2c0e9de909a441385b?s=128&d=identicon&r=PG", "display_name": "CrazyArm", "link": "https://stackoverflow.com/users/899200/crazyarm"}, "reply_to_user": {"reputation": 7823, "user_id": 1469380, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/g2O1U.jpg?s=128&g=1", "display_name": "Srivatsan", "link": "https://stackoverflow.com/users/1469380/srivatsan"}, "edited": false, "score": 0, "creation_date": 1435177601, "post_id": 31036097, "comment_id": 50096936, "body": "One moment, let me try and put together an MWE."}, {"owner": {"reputation": 316, "user_id": 899200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/373599ce6eefdd2c0e9de909a441385b?s=128&d=identicon&r=PG", "display_name": "CrazyArm", "link": "https://stackoverflow.com/users/899200/crazyarm"}, "reply_to_user": {"reputation": 7823, "user_id": 1469380, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/g2O1U.jpg?s=128&g=1", "display_name": "Srivatsan", "link": "https://stackoverflow.com/users/1469380/srivatsan"}, "edited": false, "score": 0, "creation_date": 1435179649, "post_id": 31036097, "comment_id": 50098018, "body": "Unfortunately I have been unable to get together a MWE that gives the issue I am having. I also noticed that the PNG is missing two sets of markers than the PDF has. I will look around the code a bit more and update my packages to see if that helps."}], "owner": {"reputation": 316, "user_id": 899200, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/373599ce6eefdd2c0e9de909a441385b?s=128&d=identicon&r=PG", "display_name": "CrazyArm", "link": "https://stackoverflow.com/users/899200/crazyarm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435176833, "creation_date": 1435176833, "question_id": 31036097, "link": "https://stackoverflow.com/questions/31036097/matplotlib-axis-limits-change-plot-to-plot", "title": "Matplotlib Axis Limits Change Plot to Plot", "body": "<p>I have a plot where I would like to save it as both a PNG and a PDF. The first time I save the figure, the limits are what I want them to be. After I plot it, the limits change, and the when I try to plot it a second time, the limits are different than my intent.</p>\n\n<p>For example, if I save it as a PDF and then a PNG, the PDF will have the correct limits and the PNG will have incorrect (expanded limits).</p>\n\n<pre><code>&gt;INFO:  Before Plotting Y Lims: 445210 to 445690\n&gt;INFO:  After Plot 1 Y Lims: 445175 to 445724\n&gt;INFO:  After Plot 2 Y Lims: 445091 to 445808\n</code></pre>\n\n<p>Anyone know what is causing this? I can work around it by catching the axes limits before the plot and re-applying them before the second plot, but that is clunky.</p>\n"}, {"tags": ["python", "ios", "selenium"], "comments": [{"owner": {"reputation": 11, "user_id": 4424595, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067935140/picture?type=large", "display_name": "Chris Young", "link": "https://stackoverflow.com/users/4424595/chris-young"}, "edited": false, "score": 0, "creation_date": 1435176856, "post_id": 31036069, "comment_id": 50096518, "body": "To add to this, I&#39;ve also tried using .tap() methods without luck."}, {"owner": {"reputation": 11, "user_id": 4424595, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067935140/picture?type=large", "display_name": "Chris Young", "link": "https://stackoverflow.com/users/4424595/chris-young"}, "edited": false, "score": 0, "creation_date": 1435176917, "post_id": 31036069, "comment_id": 50096557, "body": "iOS 8.3  appium 1.4.5  xcode 6.3"}], "owner": {"reputation": 11, "user_id": 4424595, "user_type": "registered", "profile_image": "https://graph.facebook.com/1067935140/picture?type=large", "display_name": "Chris Young", "link": "https://stackoverflow.com/users/4424595/chris-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 325, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435176703, "creation_date": 1435176703, "question_id": 31036069, "link": "https://stackoverflow.com/questions/31036069/ios-python-webdriver-webdriverexception-message-undefined-is-not-an-object", "title": "iOS Python WebDriver - WebDriverException: Message: undefined is not an object (evaluating &#39;a.querySelectorAll&#39;)", "body": "<p>I'm using appium (v1.4.5 (REV 9d1af07681e73c01d59eca608b9ca57c97e9b4dc)) along with selenium's python bindings to automate Mobile Safari on the simulator and a real device. </p>\n\n<p>In the simulator:\nI'm able to get to a certain point in the test, until I have to switch iframes to access elements. Once I either attempt to switch frames, or attempt to click an element, I'm met with the above error. </p>\n\n<p>I've searched, but could not find anything relative to this - seems it's mostly encountered for those working with hybrid apps trying to switch back to WebView.\nI'm only working with mobile safari.</p>\n\n<p>Basically, I switch to the frame, then attempt a .click() on an element:</p>\n\n<p>wait.until(EC.element_to_be_clickable((By.LINK_TEXT, text))).click()</p>\n\n<p>This is when the error is thrown. If I do any kind of find_element_by, the error is thrown. I've checked and double-checked I'm in the right frame, but still the error is there. Does anyone have an idea what's going on here? Please let me know if there's more info needed. </p>\n"}, {"tags": ["python", "file", "python-2.7", "io"], "answers": [{"comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1435177048, "post_id": 31036087, "comment_id": 50096639, "body": "Using mode &quot;w&quot; will truncate the file to 0 length and then start writing."}, {"owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "reply_to_user": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1435177298, "post_id": 31036087, "comment_id": 50096766, "body": "that would be a device not a file"}], "tags": [], "owner": {"reputation": 15511, "user_id": 1044117, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/70c26ef03afcef7dd3f3418097b38d80?s=128&d=identicon&r=PG", "display_name": "fferri", "link": "https://stackoverflow.com/users/1044117/fferri"}, "is_accepted": false, "score": 1, "last_activity_date": 1435177208, "last_edit_date": 1495542845, "creation_date": 1435176796, "answer_id": 31036087, "question_id": 31036061, "link": "https://stackoverflow.com/questions/31036061/in-python-how-to-open-a-file-for-writing-but-do-not-create-it-if-the-file-does/31036087#31036087", "title": "In Python, how to open a file for writing, but do not create it if the file does not exist?", "body": "<pre><code>import os\n\nif os.path.exists(dev):\n    fd = os.open(dev, os.O_WRONLY) # or open(dev, 'wb+')\n    ...\n</code></pre>\n\n<p>Also check <a href=\"https://stackoverflow.com/questions/21424393/how-to-perform-low-level-i-o-on-linux-device-file-in-python\">How to perform low level I/O on Linux device file in Python?</a></p>\n"}, {"comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "reply_to_user": {"reputation": 175, "user_id": 3193025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh2W7.jpg?s=128&g=1", "display_name": "bfrgzju", "link": "https://stackoverflow.com/users/3193025/bfrgzju"}, "edited": false, "score": 0, "creation_date": 1435177630, "post_id": 31036102, "comment_id": 50096955, "body": "Great, I&#39;m glad I could help!"}, {"owner": {"reputation": 175, "user_id": 3193025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh2W7.jpg?s=128&g=1", "display_name": "bfrgzju", "link": "https://stackoverflow.com/users/3193025/bfrgzju"}, "edited": false, "score": 0, "creation_date": 1435177765, "post_id": 31036102, "comment_id": 50097025, "body": "Thanks. BTW, can you remove the &quot;duplicate&quot; suggestion? I don&#39;t think this question is duplicate."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "reply_to_user": {"reputation": 175, "user_id": 3193025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh2W7.jpg?s=128&g=1", "display_name": "bfrgzju", "link": "https://stackoverflow.com/users/3193025/bfrgzju"}, "edited": false, "score": 0, "creation_date": 1435177809, "post_id": 31036102, "comment_id": 50097040, "body": "@bfrgzju I cannot. After you clarified, it&#39;s really a dupe of <a href=\"https://stackoverflow.com/questions/1466000/python-open-built-in-function-difference-between-modes-a-a-w-w-and-r\" title=\"python open built in function difference between modes a a w w and r\">stackoverflow.com/questions/1466000/&hellip;</a> but as I&#39;m not a mod, I cannot clear a flag."}, {"owner": {"reputation": 175, "user_id": 3193025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh2W7.jpg?s=128&g=1", "display_name": "bfrgzju", "link": "https://stackoverflow.com/users/3193025/bfrgzju"}, "edited": false, "score": 0, "creation_date": 1435239434, "post_id": 31036102, "comment_id": 50124897, "body": "I see. Thanks anyway."}], "tags": [], "owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "is_accepted": true, "score": 3, "last_activity_date": 1435176851, "creation_date": 1435176851, "answer_id": 31036102, "question_id": 31036061, "link": "https://stackoverflow.com/questions/31036061/in-python-how-to-open-a-file-for-writing-but-do-not-create-it-if-the-file-does/31036102#31036102", "title": "In Python, how to open a file for writing, but do not create it if the file does not exist?", "body": "<p>There's two ways to do this. \nEither  </p>\n\n<pre><code>from os.path import exists\nif exists(my_file_path):\n    my_file = open(my_file_path, 'w+')\n</code></pre>\n\n<p>if you need to trigger things based on the file existing, that's the best way.</p>\n\n<p>Otherwise, just do <code>open(file_path, 'r+')</code></p>\n"}, {"tags": [], "owner": {"reputation": 882, "user_id": 4325513, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/iGgsU.jpg?s=128&g=1", "display_name": "Praneeth", "link": "https://stackoverflow.com/users/4325513/praneeth"}, "is_accepted": false, "score": -1, "last_activity_date": 1435177972, "creation_date": 1435177972, "answer_id": 31036478, "question_id": 31036061, "link": "https://stackoverflow.com/questions/31036061/in-python-how-to-open-a-file-for-writing-but-do-not-create-it-if-the-file-does/31036478#31036478", "title": "In Python, how to open a file for writing, but do not create it if the file does not exist?", "body": "<p>Here is a simple python script that shows the files in a directory, where their file is and whether the real file exists or not</p>\n\n<pre><code>import os\n\ndef get_file_existency(filename, directory):\n path = os.path.join(directory, filename)\n realpath = os.path.realpath(path)\n exists = os.path.exists(path)\n if exists:\n   file = open(realpath, 'w')\n else:\n   file = open(realpath, 'r')\n</code></pre>\n"}], "owner": {"reputation": 175, "user_id": 3193025, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rh2W7.jpg?s=128&g=1", "display_name": "bfrgzju", "link": "https://stackoverflow.com/users/3193025/bfrgzju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "closed_date": 1435178139, "accepted_answer_id": 31036102, "answer_count": 3, "score": 1, "last_activity_date": 1435177972, "creation_date": 1435176680, "last_edit_date": 1435177365, "question_id": 31036061, "link": "https://stackoverflow.com/questions/31036061/in-python-how-to-open-a-file-for-writing-but-do-not-create-it-if-the-file-does", "closed_reason": "Duplicate", "title": "In Python, how to open a file for writing, but do not create it if the file does not exist?", "body": "<p>The file is a device under <code>/dev</code>. I don't want to mess things up so if the file does not exist, I should not create it. How to handle this in Python?</p>\n\n<p>I hope this problem be solved by <code>open</code> method. That is, it should throw an IOError like mode \"r\" when the file does not exist. Don't redirect the question to \"check if a file exists\".</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "web-crawler", "html-parsing"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1435176706, "creation_date": 1435176706, "answer_id": 31036071, "question_id": 31035973, "link": "https://stackoverflow.com/questions/31035973/beautifulsoup-webcrawling-how-to-get-piece-of-text/31036071#31036071", "title": "BeautifulSoup webcrawling: How to get piece of text", "body": "<p>Find the <code>Genre:</code> text and get the <a href=\"http://www.crummy.com/software/BeautifulSoup/bs4/doc/#next-sibling-and-previous-sibling\" rel=\"nofollow\">next sibling</a>:</p>\n\n<pre><code>soup.find(text=\"Genre: \").next_sibling.text\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>In [1]: import requests\n\nIn [2]: from bs4 import BeautifulSoup\n\nIn [3]: response = requests.get(\"http://www.boxofficemojo.com/movies/?id=ironman3.htm\")\n\nIn [4]: soup = BeautifulSoup(response.content)\n\nIn [5]: soup.find(text=\"Genre: \").next_sibling.text\nOut[5]: u'Action / Adventure'\n</code></pre>\n"}], "owner": {"reputation": 249, "user_id": 4184333, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dc2b843c06163288e6be68bca3d1bef7?s=128&d=identicon&r=PG&f=1", "display_name": "alphamonkey", "link": "https://stackoverflow.com/users/4184333/alphamonkey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 31036071, "answer_count": 1, "score": 1, "last_activity_date": 1435176820, "creation_date": 1435176323, "last_edit_date": 1435176820, "question_id": 31035973, "link": "https://stackoverflow.com/questions/31035973/beautifulsoup-webcrawling-how-to-get-piece-of-text", "title": "BeautifulSoup webcrawling: How to get piece of text", "body": "<p>The page I am trying to crawl is <a href=\"http://www.boxofficemojo.com/yearly/chart/?page=1&amp;view=releasedate&amp;view2=domestic&amp;yr=2013&amp;p=.htm\" rel=\"nofollow\">http://www.boxofficemojo.com/yearly/chart/?page=1&amp;view=releasedate&amp;view2=domestic&amp;yr=2013&amp;p=.htm</a>. Specifically, I am focusing on this page right now: <a href=\"http://www.boxofficemojo.com/movies/?id=ironman3.htm\" rel=\"nofollow\">http://www.boxofficemojo.com/movies/?id=ironman3.htm</a>. </p>\n\n<p>For each of the movies on the first link, I want to get the Genre, Runtime, MPAA Rating, Foreign Gross, and Budget. I am having trouble getting this because there is no identifying tag on the information. What I have so far:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nfrom urllib2 import urlopen\n\ndef trade_spider(max_pages):\n    page = 1\n    while page &lt;= max_pages:\n        url = 'http://www.boxofficemojo.com/yearly/chart/?page=' + str(page) + '&amp;view=releasedate&amp;view2=domestic&amp;yr=2013&amp;p=.htm'\n        source_code = requests.get(url)\n        plain_text = source_code.text\n        soup = BeautifulSoup(plain_text)\n        for link in soup.select('td &gt; b &gt; font &gt; a[href^=/movies/?]'):\n            href = 'http://www.boxofficemojo.com' + link.get('href')\n            title = link.string\n            print title, href\n            get_single_item_data(href)\n\n\ndef get_single_item_data(item_url):\n    source_code = requests.get(item_url)\n    plain_text = source_code.text\n    soup = BeautifulSoup(plain_text)\n    print soup.find_all(\"Genre: \")\n    for person in soup.select('td &gt; font &gt; a[href^=/people/]'):\n        print person.string\n\n\ntrade_spider(1)\n</code></pre>\n\n<p>So far, this retrieves all the titles of the movies from the original page, their link, and a list of the actors/people/directors etc. for each movie. Right now I am trying to get the Genre of the movie. </p>\n\n<p>I tried to approach this in a similar way as the </p>\n\n<pre><code>\"for person in soup.select('td &gt; font &gt; a[href^=/people/]'):\n        print person.string\" \n</code></pre>\n\n<p>line, but this isn't a link, it is only text, so it is not working.</p>\n\n<p>How can I get this data for each of the movies? </p>\n"}, {"tags": ["python", "celery"], "comments": [{"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "edited": false, "score": 0, "creation_date": 1435236596, "post_id": 31035940, "comment_id": 50122653, "body": "please add a snippet from the module where you declare your celery tasks."}, {"owner": {"reputation": 10636, "user_id": 473285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43104ddb820312e46db67150c77ae94b?s=128&d=identicon&r=PG", "display_name": "scytale", "link": "https://stackoverflow.com/users/473285/scytale"}, "edited": false, "score": 0, "creation_date": 1435236623, "post_id": 31035940, "comment_id": 50122674, "body": "also - that code snippet which you say shows that celery is finding your tasks - where is that from ?"}], "owner": {"reputation": 1, "user_id": 4484840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fb9e147091110d907f197abefb6b58a?s=128&d=identicon&r=PG&f=1", "display_name": "rost", "link": "https://stackoverflow.com/users/4484840/rost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 227, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1435177150, "creation_date": 1435176231, "last_edit_date": 1435177150, "question_id": 31035940, "link": "https://stackoverflow.com/questions/31035940/celery-received-unregistered-task-of-type", "title": "Celery - Received unregistered task of type", "body": "<p>I'm trying to run the example from <a href=\"http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html\" rel=\"nofollow\">http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html</a>. It works fine locally, however when I try to run it on a server I get </p>\n\n<pre><code>[2015-06-24 19:55:39,758: ERROR/MainProcess] Received unregistered task of type 'tasks.add'.\nThe message has been ignored and discarded.\n\nDid you remember to import the module containing this task?\nOr maybe you are using relative imports?\nPlease see http://bit.ly/gLye1c for more information.\n\nThe full contents of the message body was:\n{'utc': True, 'chord': None, 'args': (4, 4), 'retries': 0, 'expires': None, 'task': 'tasks.add', 'callbacks': None, 'errbacks': None, 'timelimit': (None, None), 'taskset': None, 'kwargs': {}, 'eta': None, 'id': '67f1dc13-e788-4558-a470-415288045eb2'} (209b)\nTraceback (most recent call last):\n  File \"/usr/local/lib/python2.7/dist-packages/celery/worker/consumer.py\", line 455, in on_task_received\n    strategies[name](message, body,\nKeyError: 'tasks.add'\n</code></pre>\n\n<p>I've searched throughout stack overflow and tried all the solutions mentioned, however still have no luck.</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>NOTE:</strong> Celery is in fact finding my tasks</p>\n\n<pre><code>[tasks]\n  . tasks.add\n</code></pre>\n\n<p>So I really don't understand what the problem is.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 45741, "user_id": 744178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3193139ea494c45e63752504f5ff1f2?s=128&d=identicon&r=PG", "display_name": "jwodder", "link": "https://stackoverflow.com/users/744178/jwodder"}, "edited": false, "score": 2, "creation_date": 1435176692, "post_id": 31035934, "comment_id": 50096438, "body": "Neither code snippet ever adds anything to <code>dictionaries</code>, so I don&#39;t see why it should ever not be <code>[]</code>.  Can you show more code?"}, {"owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1435177217, "post_id": 31035934, "comment_id": 50096728, "body": "Just a wild guess, but I think this is a recursive function, and in the <code>#other code here</code> part you call the function recursively, but fail to <code>return</code> the result of the recirsive call."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1435177341, "post_id": 31035934, "comment_id": 50096790, "body": "<code>iteration += 1 </code> will set the local name <code>iteration</code> from 0 to 1. Each and every time, unless you pass the value on in a recursive call. You are not altering the default here. In other words, <code>iteration</code> is not a global that&#39;ll increment each time here."}, {"owner": {"reputation": 213, "user_id": 3537994, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/741632e4488ce73295a390cb279c577e?s=128&d=identicon&r=PG", "display_name": "Emil Brundage", "link": "https://stackoverflow.com/users/3537994/emil-brundage"}, "reply_to_user": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "edited": false, "score": 0, "creation_date": 1435177598, "post_id": 31035934, "comment_id": 50096934, "body": "@tobias_k Yes, it&#39;s recursive. See updated post."}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 3537994, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/741632e4488ce73295a390cb279c577e?s=128&d=identicon&r=PG", "display_name": "Emil Brundage", "link": "https://stackoverflow.com/users/3537994/emil-brundage"}, "edited": false, "score": 0, "creation_date": 1435177961, "post_id": 31036385, "comment_id": 50097137, "body": "Perfect, thanks! Thanks for the tip about setting default parameters."}], "tags": [], "owner": {"reputation": 73988, "user_id": 1639625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4224d1458a149d37b56a53115656f4df?s=128&d=identicon&r=PG", "display_name": "tobias_k", "link": "https://stackoverflow.com/users/1639625/tobias-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1435177717, "creation_date": 1435177717, "answer_id": 31036385, "question_id": 31035934, "link": "https://stackoverflow.com/questions/31035934/returning-a-list-of-dictionaries-from-a-recursive-function-fails/31036385#31036385", "title": "Returning a list of dictionaries from a recursive function fails", "body": "<p>You are calling the function recursively, but not returning the result from the recursive call.</p>\n\n<pre><code>def FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries = [], iteration = 0):\n    iteration += 1\n    if iteration &gt; maxIteration:\n        return dictionaries\n    # more code here\n    FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries, iteration)\n</code></pre>\n\n<p>Change the last line to <code>return</code> the result, then it should work.</p>\n\n<pre><code>    return FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries, iteration)\n</code></pre>\n\n<p>Also note that using a default-parameter like <code>dictionaries = []</code> is usually a bad idea, as this will use <em>the same list</em> for each call of the function! Just see what happens if you invoke you function twice. Try this instead:</p>\n\n<pre><code>def FindCommonPhrases(liPhrases, liWords, maxIteration, dictionaries=None, iteration=0):\n    if dictionaries is None:\n        dictionaries = []\n    # more stuff\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 3537994, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/741632e4488ce73295a390cb279c577e?s=128&d=identicon&r=PG", "display_name": "Emil Brundage", "link": "https://stackoverflow.com/users/3537994/emil-brundage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 31036385, "answer_count": 1, "score": 0, "last_activity_date": 1435184247, "creation_date": 1435176207, "last_edit_date": 1435184247, "question_id": 31035934, "link": "https://stackoverflow.com/questions/31035934/returning-a-list-of-dictionaries-from-a-recursive-function-fails", "title": "Returning a list of dictionaries from a recursive function fails", "body": "<p>I have developed a function that is supposed to return a list of dictionaries. However, it returns <code>None</code> instead. When I test the code to return something else it works fine. Why does the list of dictionaries fail?</p>\n\n<p>Pertinent code:</p>\n\n<pre><code>def FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries = [], iteration = 0):\n    iteration += 1\n    if iteration &gt; maxIteration:\n        print dictionaries\n        return dictionaries\n    #Other code here\n\ndicts = FindCommonPhrases (phrases, listOfWords, numWords)\nprint dicts\n</code></pre>\n\n<p>results:</p>\n\n<pre><code>[{u'REPAIR': 4397, u'RENEWED': 192, u'212': 398, u'COUPLI': 5411, u'TR': 3357, u'OVER': 304, u'2PL': 2972, u'BJ': 1677, u'1OF': 130, u'STREET': 354, u'ELBOW': 188, u'CONT': 530, u'LINE': 275, u'WITH': 5019, u'BY': 1052, u'24': 483, u'STUB': 233, u'PIECE': 125, u'20': 234, u'COUPLING': 5146, u'RR': 730, u'WAS': 132, u'METER': 458, u'RETHREADED': 121, u'12CU': 327, u'4': 10292, u'8': 3133, u'REP': 25908, u'CLAMP': 596, u'DAMAGED': 918, u'FULL': 172, u'OFF': 524, u'FIT': 2088, u'COUPLIN': 5282, u'SVC': 4649, u'15': 252, u'P': 39866, u'DEAD': 302, u'RERUN': 419, u'X': 1227, u'THE': 284, u'TRANS': 445, u'34STEEL': 181, u'ON': 9645, u'BROKEN': 352, u'OF': 12452, u'14PL': 342, u'W12': 459, u'KIT': 438, u'JOINT': 1068, u'LOWERED': 196, u'W2': 313, u'W1': 737, u'METFIT': 299, u'CIRCLE': 162, u'MAIN': 3127, u'COUP': 6916, u'USED': 456, u'COUPL': 5760, u'BELL': 1183, u'HP': 202, u'CHANGED': 142, u'PLASTIC': 4135, u'DOWN': 333, u'114': 307, u'PERFECTION': 1330, u'M2': 382, u'COUPS': 315, u'AVON': 146, u'INSERTED': 4283, u'SERV': 9149, u'SERT': 7458, u'MADE': 141, u'CRACKED': 135, u'RERAN': 1836, u'ALDYL': 447, u'PB': 413, u'34STL': 257, u'3': 5758, u'7': 650, u'AMP': 873, u'PERMA': 3781, u'PL': 31660, u'PLUG': 216, u'C': 37103, u'END': 450, u'PERMABOND': 2269, u'FOR': 245, u'GREASED': 107, u'PERMACERT': 109, u'CORRODED': 138, u'W': 11440, u'GM': 220, u'PERF': 1910, u'AND': 3128, u'22': 334, u'LEAK': 2218, u'30': 315, u'ELECTROFUSION': 258, u'34': 2849, u'INSTD': 660, u'INSTL': 208, u'RISER': 3760, u'REMOVED': 265, u'REPAIRED': 2581, u'STEEL': 1397, u'COU': 7061, u'SERVICE': 8222, u'SECTION': 1086, u'VALVE': 2088, u'STOP': 361, u'REPR': 183, u'2OF': 208, u'12PL': 2669, u'FUSION': 896, u'REPL': 20704, u'CURB': 176, u'PERM': 4024, u'SERVICES': 182, u'NEW': 1791, u'REBUILT': 248, u'ELECTRO': 550, u'REG': 268, u'SET': 504, u'OLD': 358, u'SER': 18071, u'LEAKING': 1335, u'TEE': 3989, u'REPLACE': 16472, u'PIPE': 6570, u'2': 19616, u'REPLACED': 14670, u'6': 2146, u'COCK': 348, u'LEAKAGE': 140, u'OUT': 755, u'CI': 1599, u'CUT': 1339, u'CO': 9649, u'ABANDONED': 132, u'DUE': 245, u'FITTING': 966, u'ALDYLA': 168, u'EXISTING': 159, u'TR418': 1346, u'CU': 2726, u'PERMASERT': 937, u'10': 504, u'12': 12120, u'FITTINGS': 287, u'14': 3276, u'STOPCOCK': 163, u'16': 533, u'18': 2266, u'TRANSITION': 245, u'WELDED': 409, u'ST': 17811, u'MET': 1321, u'TIGHTENED': 165, u'BRANCH': 430, u'SQUEEZED': 225, u'USING': 754, u'SEAL': 365, u'REPAIRS': 182, u'1PL': 396, u'CAP': 1036, u'TWO': 822, u'BAD': 123, u'INST': 10214, u'INSTALL': 5966, u'CREW': 169, u'COUPLINGS': 3255, u'PREFAB': 244, u'INSERT': 6324, u'WELD': 633, u'12PLASTIC': 133, u'GAS': 1936, u'ONE': 600, u'1': 20805, u'TO': 3334, u'5': 1676, u'LP': 482, u'A': 37589, u'COPPER': 625, u'STL': 2294, u'INTO': 316, u'HEAT': 168, u'AT': 1612, u'IN': 24552, u'FOUND': 150, u'112': 305, u'125': 134, u'INSERTING': 175, u'FROM': 408, u'SLEEVE': 233, u'PERMABONDED': 1317, u'INSTALLED': 5239, u'CILP': 207, u'21': 666, u'T': 31607}]\nNone\n</code></pre>\n\n<p>Test code:</p>\n\n<pre><code>def FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries = [], iteration = 0):\n    iteration += 1\n    if iteration: #&gt; maxIteration:\n        print dictionaries\n        return dictionaries\n    #Other code here\n\ndicts = FindCommonPhrases (phrases, listOfWords, numWords)\nprint dicts\n</code></pre>\n\n<p>Test results:</p>\n\n<pre><code>[]\n[]\n</code></pre>\n\n<p>What's going wrong?</p>\n\n<p>More pertinent code:</p>\n\n<pre><code>phrases = [\"phrase\", \"another phrase...\", \"etc etc\"]\nlistOfWords = [\"word1\", \"another\", \"word\", \"etc\"]\nnumWords = 2\n\ndef FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries = [], iteration = 0):\n    iteration += 1\n    if iteration &gt; maxIteration:\n        print dictionaries\n        return dictionaries\n    liCombos = list(itertools.combinations(liWords, iteration))\n    di = {}\n    for liCheck in liCombos:\n        phrase = \" \".join (liCheck)\n        for checkPhrase in liPhrases:\n            if not phrase in checkPhrase:\n                continue\n            if phrase in di:\n                di[phrase]  += 1\n            else:\n                di[phrase]  = 1\n\n    dictionaries += [di]\n\n    FindCommonPhrases (liPhrases, liWords, maxIteration, dictionaries, iteration)\n\ndicts = FindCommonPhrases (phrases, listOfWords, numWords)\nprint dicts\n</code></pre>\n"}, {"tags": ["python", "sql-server", "windows", "python-3.x", "sql-server-2014"], "comments": [{"owner": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1435178059, "post_id": 31035924, "comment_id": 50097180, "body": "Is your local host a named instance? Your connection is connecting to a named instance."}, {"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "reply_to_user": {"reputation": 30515, "user_id": 3813116, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DeWnw.png?s=128&g=1", "display_name": "Sean Lange", "link": "https://stackoverflow.com/users/3813116/sean-lange"}, "edited": false, "score": 0, "creation_date": 1435178218, "post_id": 31035924, "comment_id": 50097279, "body": "Yes, it is. I&#39;m not sure you can even install server 2014 as a non-named instance. If you look in the question, I also tried connected with the ip/port."}], "answers": [{"comments": [{"owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "edited": false, "score": 0, "creation_date": 1435177174, "post_id": 31036175, "comment_id": 50096714, "body": "I&#39;ve tried both of those and it works fine. SSMS even works with port 5000."}], "tags": [], "owner": {"reputation": 2408, "user_id": 4451406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0d18767747a91ded9aa995def8e4ab1?s=128&d=identicon&r=PG", "display_name": "Irmen de Jong", "link": "https://stackoverflow.com/users/4451406/irmen-de-jong"}, "is_accepted": false, "score": 0, "last_activity_date": 1435177106, "creation_date": 1435177106, "answer_id": 31036175, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance/31036175#31036175", "title": "Connecting to local SQL Server instance", "body": "<p>Try connecting on the default SQL server port, which is 1433, not 5000.\nAnd check that you can connect to the correct instance using SQL mgmt studio.</p>\n"}, {"tags": [], "owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "is_accepted": true, "score": 1, "last_activity_date": 1435780785, "creation_date": 1435780785, "answer_id": 31170565, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance/31170565#31170565", "title": "Connecting to local SQL Server instance", "body": "<p>The solution ended up being a combination of things. </p>\n\n<ol>\n<li>I needed to disable all IPs other than 127.0.0.1.</li>\n<li><p>I needed to create C:\\freetds.conf with the following text:  </p>\n\n<p><code>[global]\n     port = 1433\n     tds version = 7.0</code></p></li>\n<li><p>I needed to change the account my SQL instance logs in with to LocalSystem.</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "is_accepted": false, "score": 1, "last_activity_date": 1447815156, "creation_date": 1447815156, "answer_id": 33771016, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance/33771016#33771016", "title": "Connecting to local SQL Server instance", "body": "<p>Yes, 1433 s the default.  </p>\n\n<p>This works fine for me:</p>\n\n<pre><code>library(RODBC)\ndbconnection &lt;- odbcDriverConnect(\"Driver=ODBC Driver 11 for SQL Server;Server=server_name; Database=db_name;Uid=; Pwd=; trusted_connection=yes\")\ninitdata &lt;- sqlQuery(dbconnection,paste(\"select * from MyTable;\"))\nodbcClose(channel)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 371, "user_id": 3621143, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/huTJd.png?s=128&g=1", "display_name": "jewettg", "link": "https://stackoverflow.com/users/3621143/jewettg"}, "is_accepted": false, "score": 0, "last_activity_date": 1452531935, "creation_date": 1452531935, "answer_id": 34727158, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance/34727158#34727158", "title": "Connecting to local SQL Server instance", "body": "<p>I had a similar issue, with the following error:</p>\n\n<pre><code>_mssql.MSSQLDatabaseException: (18456, b\"Login failed for user\n'script_svc'.DB-Lib error message 20018, severity 14:\\nGeneral SQL Server\nerror: Check messages from the SQL Server\\nDB-Lib error message 20002,\nseverity 9:\\nAdaptive Server connection failed\\n\")\n</code></pre>\n\n<p>The user I had established was a local user on the machine.</p>\n\n<p>The solution for me was putting \".\\\" in front of the username and it then recognized it as a local user and allowed the query to work.</p>\n\n<p>Your results may vary.. but I thought I would mention it.</p>\n"}, {"tags": [], "owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "is_accepted": false, "score": 0, "last_activity_date": 1471110902, "last_edit_date": 1495541802, "creation_date": 1471110902, "answer_id": 38935477, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance/38935477#38935477", "title": "Connecting to local SQL Server instance", "body": "<p>Have you tried using <code>pyodbc</code> instead?</p>\n\n<pre><code>import pyodbc\ncnxn = pyodbc.connect('DRIVER={ODBC Driver 13 for SQL Server};SERVER=SERVERNAME;DATABASE=testdb;UID=me;PWD=pass')\ncursor = cnxn.cursor()\ncursor.execute(\"select user_id, user_name from users\")\nrows = cursor.fetchall()\nfor row in rows:\n    print row.user_id, row.user_name\n</code></pre>\n\n<p>Don't forget to add the ODBC driver to your Windows. Go to: Control Panel > Systems and Security > Administrative Tools > ODBC Data Sources </p>\n\n<p>Either the 32-bit or 64-bit version depending on your computer. </p>\n\n<p>Then you click on the System DNS file. If you do not see any MySQL driver you have to click ADD. It brings up a list, from that list select the MySQL driver. </p>\n\n<p>For me, it was <code>ODBC Driver 13 for SQL Server</code>. Click finish. Once you do that then you have to change your connection line in your code to the corresponding Driver that you just filled out.</p>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/28288902/pyodbc-mysql-windows-data-source-name-not-found-and-no-default-driver-speci\">pyodbc + MySQL + Windows: Data source name not found and no default driver specified</a></p>\n"}], "owner": {"reputation": 8538, "user_id": 3059812, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/UaU9b.jpg?s=128&g=1", "display_name": "Morgan Thrapp", "link": "https://stackoverflow.com/users/3059812/morgan-thrapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4762, "favorite_count": 0, "accepted_answer_id": 31170565, "answer_count": 5, "score": 2, "last_activity_date": 1471110902, "creation_date": 1435176163, "last_edit_date": 1435177260, "question_id": 31035924, "link": "https://stackoverflow.com/questions/31035924/connecting-to-local-sql-server-instance", "title": "Connecting to local SQL Server instance", "body": "<p>I'm attempting to connect to a local instance of SQL Server running on my machine. I am able to connect to a local instance with this code from our server, but it fails on my local machine.</p>\n\n<p>I've enabled named pipes and all the ips in the SQL Server configuration. </p>\n\n<p>The code I'm using is as follows:  </p>\n\n<pre><code>from pymssql import connect\nserver = r'.\\SQLEXPRESS2014' # I've also tried MORGANT-PC\\SQLEXPRESS and SQLEXPRESS2014\nusername = 'MyUserName'\npassword = 'MyPassword'\nmaster_database_name = 'SuperSecretDatabase'\nport = 5000\nserver_args = {'host': server, 'user': username, 'password': password,\n               'database': master_database_name, 'port': port} # I've tried having the first key be both host and server, because pymssql's docs are unclear on the difference.\nmaster_database = connect(**server_args)\n</code></pre>\n\n<p>If I use the instance name, I get this error:  </p>\n\n<pre><code>pymssql.InterfaceError: Connection to the database failed for an unknown reason.\n</code></pre>\n\n<p>I set the port to 5000 so that I could try connecting to it with   </p>\n\n<pre><code>server = 127.0.0.1\nport = 5000\n</code></pre>\n\n<p>which fails with the slightly different error message:  </p>\n\n<pre><code>pymssql.OperationalError: (20009, b'DB-Lib error message 20009, severity 9:\\nUnable to connect: Adaptive Server is unavailable or does not exist\\nNet-Lib error during Unknown error (10035)\\n')\n</code></pre>\n\n<p>I've read a bunch of answers here on SO, and most of them seem to indicate it's an issue with FreeTDS, but I'm on Windows 8.1, so I don't have FreeTDS.</p>\n\n<p>I've tried connecting with <a href=\"https://msdn.microsoft.com/en-us/library/ms162773.aspx\" rel=\"nofollow\">sqlcmd</a> with the host\\instance name and that works fine. It also works in SSMS.</p>\n\n<p>I've tried passing <code>.\\SQLEXPRESS2014</code> to both the <code>host</code> and <code>server</code> parameter in <code>pymssql.connect()</code> and they both fail with the same aforementioned error.</p>\n\n<p>I briefly tried using <code>adodbapi</code>, but I'm getting exactly the same error messages.</p>\n"}, {"tags": ["python", "webapp2", "wtforms", "webob"], "comments": [{"owner": {"reputation": 15310, "user_id": 13986, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9de7d27799eccd891d898b9b2b3c2949?s=128&d=identicon&r=PG", "display_name": "X-Istence", "link": "https://stackoverflow.com/users/13986/x-istence"}, "edited": false, "score": 0, "creation_date": 1451428745, "post_id": 31035911, "comment_id": 56781850, "body": "When you posted the result of the <code>MultiDict</code> you show <code>(u&#39;password&#39;:&#39;******&#39;)</code> which is not a valid tuple, are you sure that is what the output was?"}], "answers": [{"tags": [], "owner": {"reputation": 15310, "user_id": 13986, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/9de7d27799eccd891d898b9b2b3c2949?s=128&d=identicon&r=PG", "display_name": "X-Istence", "link": "https://stackoverflow.com/users/13986/x-istence"}, "is_accepted": false, "score": 0, "last_activity_date": 1464492393, "creation_date": 1464492393, "answer_id": 37505871, "question_id": 31035911, "link": "https://stackoverflow.com/questions/31035911/lost-data-while-processing-data-in-wtform/37505871#37505871", "title": "&quot;Lost data&quot; while processing data in WTForm", "body": "<p>Your login form has the fields named <code>email</code> and <code>password</code> yet you are passing it the fields <code>username</code> and <code>password</code>.</p>\n\n<p>Change one or the other to match, and you should be good to go.</p>\n"}], "owner": {"reputation": 1753, "user_id": 2758414, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/sQFiu.jpg?s=128&g=1", "display_name": "LLaP", "link": "https://stackoverflow.com/users/2758414/llap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1464492393, "creation_date": 1435176119, "last_edit_date": 1451428702, "question_id": 31035911, "link": "https://stackoverflow.com/questions/31035911/lost-data-while-processing-data-in-wtform", "title": "&quot;Lost data&quot; while processing data in WTForm", "body": "<p>I send a HTTP request from a client. Then on the server I try to validate a WTForm Form.</p>\n\n<pre><code>from webob.multidict import MultiDict\n\nfrom wtforms import Form, TextField, PasswordField, validators\n\nclass LoginForm(Form):\n    email = TextField('Email', [validators.Required(), validators.Email()])\n    password = PasswordField('Password', [validators.Required()])\n</code></pre>\n\n<p>The following commands are executed inside a RequestHandler:</p>\n\n<pre><code>self.request.body\n&gt;&gt;&gt; '{\"username\":\"my_email@me.com\", \"password\":\"pass\"}'\n\njson.loads(self.request.body)\n&gt;&gt;&gt;  {\"username\":\"my_email@me.com\", \"password\":\"pass\"}\n\ntype(json.loads(self.request.body))\n\n&gt;&gt;&gt; type 'dict'\n\nMultiDict(json.loads(self.request.body))\n\n&gt;&gt;&gt; MultiDict[(u'username', u'my_email@me.com'), (u'password':'******')])\n\nLoginForm(MultiDict(json.loads(self.request.body))).data\n\n&gt;&gt;&gt; {'password': 'pass', 'email': u''}\n</code></pre>\n\n<p>From the last command I'm expecting to see <code>{\"username\":\"my_email@me.com\", \"password\":\"pass\"}</code> which I can later validate. However, somehow the actual data is 'lost'. Any ideas?</p>\n"}, {"tags": ["python", "powershell", "virtualenv", "virtualenvwrapper"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 3479672, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6e34539c82b0334cfca779b11406bcd?s=128&d=identicon&r=PG&f=1", "display_name": "wchatx", "link": "https://stackoverflow.com/users/3479672/wchatx"}, "edited": false, "score": 1, "creation_date": 1457950976, "post_id": 31040546, "comment_id": 59622532, "body": "in my case, there was a <code>Users</code> directory created in <code>Lib\\site-packages</code> that contained the modules that needed to be moved to <code>WindowsPowerShell\\Modules</code> in my documents folder. So, the same steps as above except downloading from bitbucket"}], "tags": [], "owner": {"reputation": 91, "user_id": 5046144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2fab87074a6cdff793452b2c08237a?s=128&d=identicon&r=PG&f=1", "display_name": "tomato", "link": "https://stackoverflow.com/users/5046144/tomato"}, "is_accepted": true, "score": 5, "last_activity_date": 1435201665, "creation_date": 1435201665, "answer_id": 31040546, "question_id": 31035903, "link": "https://stackoverflow.com/questions/31035903/installing-virtualenvwrapper-powershell-in-windows-8-1-import-module-failing/31040546#31040546", "title": "Installing virtualenvwrapper-powershell in Windows 8.1, import-module failing", "body": "<p>Well, I've actually figured my way around this issue. I guess the pip install never placed the files in a correct module directory for PowerShell. I created a <code>WindowsPowerShell\\Modules</code> folder in my documents folder, which did not exist but was listed in my PowerShell modules path. I then took the VirtualEnvWrapper directory from <a href=\"https://bitbucket.org/guillermooo/virtualenvwrapper-powershell/src/58ebd8fcd394340397eb310f77a76f110fad7b6f?at=default\" rel=\"noreferrer\">the virtualenvwrapper-powershell bitbucket</a> and copied it into the Modules folder I just created.</p>\n\n<p>Then I had to use <code>Set-ExecutionPolicy Unrestricted</code> instead of <code>Set-ExecutionPolicy RemoteSigned</code> as shown in the guide, but I was then able to do the import-module and use everything needed. I'm not sure why I had to all of this manually instead of pip having done it, but I just hope this can somehow help someone else.</p>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 1202715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29989f7a8df042382854f901f888205?s=128&d=identicon&r=PG", "display_name": "Raz", "link": "https://stackoverflow.com/users/1202715/raz"}, "is_accepted": false, "score": 7, "last_activity_date": 1453905045, "creation_date": 1453905045, "answer_id": 35040081, "question_id": 31035903, "link": "https://stackoverflow.com/questions/31035903/installing-virtualenvwrapper-powershell-in-windows-8-1-import-module-failing/35040081#35040081", "title": "Installing virtualenvwrapper-powershell in Windows 8.1, import-module failing", "body": "<p>Thank you for coming back with a solution. This helped me today. I would also like to add that I had to do an extra step to make it work on Windows 10.</p>\n\n<p>I was getting an error trying to run:</p>\n\n<blockquote>\n  <p>Import-Module virtualenvwrapper</p>\n</blockquote>\n\n<p><em>\"Get-Content : Cannot find path 'Function:\\TabExpansion' because it does not exist.\"</em></p>\n\n<p>The solution that I found, was to edit VirtualenvWrapperTabExpansion.psm1 on line 15 from this:</p>\n\n<pre><code>$_oldTabExpansion = Get-Content Function:TabExpansion\n</code></pre>\n\n<p>to this:</p>\n\n<pre><code>$_oldTabExpansion = Get-Content Function:TabExpansion2\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5046144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d2fab87074a6cdff793452b2c08237a?s=128&d=identicon&r=PG&f=1", "display_name": "tomato", "link": "https://stackoverflow.com/users/5046144/tomato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4536, "favorite_count": 2, "accepted_answer_id": 31040546, "answer_count": 2, "score": 4, "last_activity_date": 1453905045, "creation_date": 1435176092, "question_id": 31035903, "link": "https://stackoverflow.com/questions/31035903/installing-virtualenvwrapper-powershell-in-windows-8-1-import-module-failing", "title": "Installing virtualenvwrapper-powershell in Windows 8.1, import-module failing", "body": "<p>I'm trying to follow the guide <a href=\"http://newcoder.io/begin/setup-your-machine/#windows\" rel=\"nofollow\">here</a>, and I'm stuck at <code>Import-Module virtualenvwrapper</code>, where PowerShell keeps giving me the error:</p>\n\n<blockquote>\n  <p>import-module : The specified module 'virtualenvwrapper' was not\n  loaded because no valid module file was found in any module directory.</p>\n  \n  <p>At line:1 char:1</p>\n  \n  <ul>\n  <li>import-module virtualenvwrapper</li>\n  <li>~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n  \n  <ul>\n  <li>CategoryInfo          : ResourceUnavailable: (virtualenvwrapper:String) [Import-Module], FileNotFoundException</li>\n  <li>FullyQualifiedErrorId : Modules_ModuleNotFound,Microsoft.PowerShell.Commands.ImportModuleCommand</li>\n  </ul></li>\n  </ul>\n</blockquote>\n\n<p>I'm at a real loss at what to do here, because as far as I can tell from this guide and others this step should be rather straight-forward. Googling this problem hasn't really helped me here since I can't find anyone else with this problem.</p>\n"}, {"tags": ["python", "python-3.x", "gtk"], "comments": [{"owner": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1435175975, "post_id": 31035818, "comment_id": 50096047, "body": "If gtk is anything like Tkinter, then the GUI doesn&#39;t actually update until after the function ends and control returns to the main message processing loop. So if you change an attribute, sleep, and change the attribute back, all in one function, then it won&#39;t have any observable effect other than making your window unresponsive for a while."}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1435176086, "post_id": 31035818, "comment_id": 50096118, "body": "@Kevin That sounds logically, I&#39;ll try!"}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "reply_to_user": {"reputation": 69452, "user_id": 953482, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/T3HH6.png?s=128&g=1", "display_name": "Kevin", "link": "https://stackoverflow.com/users/953482/kevin"}, "edited": false, "score": 0, "creation_date": 1435176469, "post_id": 31035818, "comment_id": 50096326, "body": "@Kevin I split the function <code>flash_correct()</code> in two sub- functions, called by a new function, the <code>time.sleep()</code> in a separate one, but the result is the same I am afraid. The thought made sense though, and it must be something like that."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1435176730, "post_id": 31035818, "comment_id": 50096456, "body": "<a href=\"http://pastebin.com/Nec136HN\" rel=\"nofollow noreferrer\">pastebin.com/Nec136HN</a> I have not used gtk but that code should be close to what you want, using a thread or a timeout are other options <a href=\"http://www.pygtk.org/pygtk2tutorial/ch-TimeoutsIOAndIdleFunctions.html\" rel=\"nofollow noreferrer\">pygtk.org/pygtk2tutorial/ch-TimeoutsIOAndIdleFunctions.html</a>"}, {"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1435176912, "post_id": 31035818, "comment_id": 50096551, "body": "@PadraicCunningham Brilliant, thanks <i>a lot</i> Could you post it so I can accept?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1435177137, "post_id": 31035818, "comment_id": 50096693, "body": "@JacobVlijm, no worries, I will throw an answer together in a few minutes"}], "answers": [{"comments": [{"owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "edited": false, "score": 1, "creation_date": 1435177929, "post_id": 31036397, "comment_id": 50097112, "body": "Thanks for this thorough answer, perfect."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 1, "last_activity_date": 1435177751, "creation_date": 1435177751, "answer_id": 31036397, "question_id": 31035818, "link": "https://stackoverflow.com/questions/31035818/time-sleep-taking-place-at-incorrect-order-in-commands-always-at-the-beginni/31036397#31036397", "title": "time .sleep() taking place at incorrect order in commands; always at the beginning of the function", "body": "<p>You can use time.time to hide for roughly 5 seconds calling <code>Gtk.main_iteration()</code> in the loop to avoid your app becoming unresponsive.</p>\n\n<pre><code>def hide(self, time_lapse):\n    start = time.time()\n    end = start + time_lapse\n    while end &gt; time.time():\n        Gtk.main_iteration()\n\ndef flash_correct(self, button):\n    # the time.sleep(5) seems to take place at the beginning\n    # no matter in which order I set the commands\n    self.entry2.set_text(\"Monkey\")\n    self.entry2.set_child_visible(True)\n    self.hide(5)\n    self.entry2.set_child_visible(False)\n</code></pre>\n\n<p>There is a good explanation in the pygtk faq 7. <a href=\"http://faq.pygtk.org/index.py?req=edit&amp;file=faq03.007.htp\" rel=\"nofollow\">How can I force updates to the application windows during a long callback or other internal operation?</a></p>\n\n<blockquote>\n  <p>If you have a long-running callback or internal operation that tries to modify the application windows incrementally during its execution, you will notice that this doesn't happen; the windows of your app freeze for the duration. </p>\n  \n  <p>This is by design: all gtk events (including window refreshing and updates) are handled in the mainloop, and while your application or callback code is running the mainloop can't handle window update events. Therefore nothing will happen in the application windows.</p>\n  \n  <p>The trick here is to realize where your operation can take a while to return, or where it is dynamically changing the window contents, and add a code fragment like this wherever you want an update forced out:</p>\n</blockquote>\n\n<pre><code>while gtk.events_pending():\n   gtk.main_iteration(False)\n</code></pre>\n\n<blockquote>\n  <p>This tells gtk to process any window events that have been left pending. If your handler has a long loop, for instance, inserting this snippet as part of the loop will avoid it hanging the window till the callback has finished.</p>\n  \n  <p>More eloquently, in the words of the great Malcolm Tredinnick, 'this requires using what should be called \"Secret Technique #1 For Making Your Application Look Responsive\"(tm):</p>\n</blockquote>\n\n<p>Adding <code>while gtk.events_pending():</code> may be no harm also.</p>\n"}, {"tags": [], "owner": {"reputation": 51182, "user_id": 172999, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b2014c8170f4d16a313cfa79071fd861?s=128&d=identicon&r=PG", "display_name": "ptomato", "link": "https://stackoverflow.com/users/172999/ptomato"}, "is_accepted": false, "score": 1, "last_activity_date": 1435202846, "creation_date": 1435202846, "answer_id": 31040713, "question_id": 31035818, "link": "https://stackoverflow.com/questions/31035818/time-sleep-taking-place-at-incorrect-order-in-commands-always-at-the-beginni/31040713#31040713", "title": "time .sleep() taking place at incorrect order in commands; always at the beginning of the function", "body": "<p>It would be better to use a timer that integrates with the main loop, rather than busy-waiting until the time has elapsed. Luckily there is just such a facility in GLib:</p>\n\n<pre><code>def flash_correct(self, button):\n    self.entry2.set_text(\"Monkey\")\n    self.entry2.set_child_visible(True)\n    GLib.timeout_add_seconds(5, self.flash_end)\n\ndef flash_end(self):\n    self.entry2.set_child_visible(False)\n    return GLib.SOURCE_REMOVE\n</code></pre>\n"}], "owner": {"reputation": 2752, "user_id": 1391444, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/766hF.png?s=128&g=1", "display_name": "Jacob Vlijm", "link": "https://stackoverflow.com/users/1391444/jacob-vlijm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 31036397, "answer_count": 2, "score": 1, "last_activity_date": 1435202846, "creation_date": 1435175827, "last_edit_date": 1592644375, "question_id": 31035818, "link": "https://stackoverflow.com/questions/31035818/time-sleep-taking-place-at-incorrect-order-in-commands-always-at-the-beginni", "title": "time .sleep() taking place at incorrect order in commands; always at the beginning of the function", "body": "<p>The code below is a stripped down version (for clarity reasons) of a small application I am working on; an application for spelling words for children.</p>\n<h3>The problem</h3>\n<p>The problem I am having is in the function <code>flash_correct()</code>; its purpose is to show a word for 5 seconds, then hide again.</p>\n<p>I must have a silly blind spot, but no matter where I put the <code>time.sleep(5)</code>, the function starts with the break of 5 seconds, while the entry: <code>self.entry2</code> never shows up:</p>\n<p><img src=\"https://i.stack.imgur.com/TYN8F.png\" alt=\"enter image description here\" /></p>\n<p>Without the <code>time.sleep(5)</code> however, it shows up correctly:</p>\n<p><img src=\"https://i.stack.imgur.com/tvypQ.png\" alt=\"enter image description here\" /></p>\n<p>Where is my blind spot?</p>\n<h3>The (stripped down) code:</h3>\n<pre class=\"lang-py prettyprint-override\"><code>#!/usr/bin/env python3\nfrom gi.repository import Gtk, Pango, Gdk\nimport subprocess\nimport time\n\n       \nclass InterFace(Gtk.Window):\n\n    def __init__(self):\n\n        Gtk.Window.__init__(self, title=&quot;Woorden raden&quot;)\n        maingrid = Gtk.Grid()\n        self.add(maingrid)\n        maingrid.set_border_width(10)\n\n        self.entry2 = Gtk.Entry()\n        self.entry2.set_size_request(500,60)\n        self.entry2.set_child_visible(False)\n        self.entry2.modify_font(Pango.FontDescription('Ubuntu 30'))\n        maingrid.attach(self.entry2, 0, 4, 4, 1)\n\n        quitbutton = Gtk.Button(&quot;Stop&quot;, use_underline=True)\n        quitbutton.modify_font(Pango.FontDescription('Ubuntu 20'))\n        quitbutton.connect(&quot;clicked&quot;, self.on_close_clicked)\n        maingrid.attach(quitbutton, 3, 7, 1, 1)\n\n        showword_button = Gtk.Button(&quot;\u21ba&quot;, use_underline=True)\n        showword_button.modify_font(Pango.FontDescription('Ubuntu 25'))\n        showword_button.connect(&quot;clicked&quot;, self.flash_correct)\n        showword_button.set_size_request(60,20)\n        maingrid.attach(showword_button, 0, 6, 1, 1)\n\n    def flash_correct(self, button):\n        # the time.sleep(5) seems to take place at the beginning\n        # no matter in which order I set the commands\n        self.entry2.set_text(&quot;Monkey&quot;)\n        self.entry2.set_child_visible(True)\n        time.sleep(5)\n        self.entry2.set_child_visible(False)\n\n    def on_close_clicked(self, button):\n        Gtk.main_quit()\n\n\nwindow = InterFace()\nwindow.connect(&quot;delete-event&quot;, Gtk.main_quit)\nwindow.set_default_size(330, 330)\nwindow.set_resizable(False)\nwindow.show_all()\nGtk.main()\n</code></pre>\n"}, {"tags": ["python", "loops", "datetime"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1435175811, "post_id": 31035793, "comment_id": 50095949, "body": "Please edit your code down to an <a href=\"http://stackoverflow.com/help/mcve\">MCVE</a>."}, {"owner": {"reputation": 11, "user_id": 5011608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da6b9d9ddb3f25809b55b8f5cf0948d?s=128&d=identicon&r=PG&f=1", "display_name": "Davies", "link": "https://stackoverflow.com/users/5011608/davies"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435180968, "post_id": 31035793, "comment_id": 50098699, "body": "@TigerhawkT3 ive edited to an MCVE, thanks"}, {"owner": {"reputation": 11, "user_id": 5011608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da6b9d9ddb3f25809b55b8f5cf0948d?s=128&d=identicon&r=PG&f=1", "display_name": "Davies", "link": "https://stackoverflow.com/users/5011608/davies"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1435418687, "post_id": 31035793, "comment_id": 50197237, "body": "ive been able to get the counter working by adding <code>def timer():     while 1:         try:             tf = datetime.datetime.now()             label8[&quot;text&quot;] = (tf-ts)             time.sleep(0.1)         except KeyboardInterrupt:             break   t2 = threading.Thread(target=timer) t2.daemon = True t2.start() </code> but still do not know how to get the loops per hour count, please help"}], "owner": {"reputation": 11, "user_id": 5011608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6da6b9d9ddb3f25809b55b8f5cf0948d?s=128&d=identicon&r=PG&f=1", "display_name": "Davies", "link": "https://stackoverflow.com/users/5011608/davies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1435180392, "creation_date": 1435175708, "last_edit_date": 1435180392, "question_id": 31035793, "link": "https://stackoverflow.com/questions/31035793/how-to-show-run-time-and-loops-per-hour", "title": "how to show run time and loops per hour", "body": "<p>I have a script which operates gpio's then loops until the loop is broken by a tkinter button, id like to see how many loops its doing per hour. im already able to see how many loops its done with a global variable but cannot work out nor find out how to make it show the current run time and how many loops per hour.. please help..\nHere's the MCVE</p>\n\n<pre><code>import Tkinter as tk\nroot = tk.Tk()\nfrom Tkinter import *\nimport time\nimport datetime\n\n\nroot.geometry(\"748x150\")\nroot.title(\"Countdown Tester\")\n\nrun_counter = 0\n\nts = datetime.datetime.now()\ntf = datetime.datetime.now()\nte = tf - ts\n\n\ndef _1():\n    label2[\"text\"] = \"1\"\n    label2.config(bg='orange', fg='black')\n    root.update_idletasks()\n    time.sleep(1)\n\n\ndef _0():\n    label2[\"text\"] = \"0\"\n    label2.config(bg='orange', fg='black')\n    root.update_idletasks()\n    time.sleep(1)\n    global run_counter\n    run_counter += 1\n    root.update_idletasks()\n    label6[\"text\"] = run_counter\n    label7[\"text\"] = run_counter# *********** Id like to have the run times per hour listed here\n    label8[\"text\"] = te# *********** Id like to have the total run time listed here\n    root.update_idletasks()\n\n\ncanvas = Canvas(width=720, height=150, bg='black')\ncanvas.grid(rowspan=26, columnspan=20, sticky='W,E,N,S')\n\nlabel2 = Label(root, width=11, font='-weight bold', background='black', foreground='white')\nlabel2.grid(padx=5, pady=10, row=0, column=0, sticky='W,E,N,S')\nlabel6 = Label(root, text=run_counter, width=11, font='-weight bold', background='white', foreground='black')\nlabel6.grid(padx=5, pady=10, row=0, column=1, sticky='W,E,N,S')\nlabel7 = Label(root, text=run_counter, width=11, font='-weight bold', background='white', foreground='black')\nlabel7.grid(padx=5, pady=10, row=1, column=1, sticky='W,E,N,S')\nlabel8 = Label(root, text=te, width=11, font='-weight bold', background='white', foreground='black')\nlabel8.grid(padx=5, pady=10, row=1, column=0, sticky='W,E,N,S')\n\n#root.resizable(width=FALSE, height=FALSE)\n#timer()\n\nwhile 1:\n    try:\n        _1()\n        _0()\n        root.update()\n    except KeyboardInterrupt:\n        break\n\n\nroot.mainloop()\n</code></pre>\n\n<p>for some reason this MCVE reports an error on _1() when quit</p>\n"}, {"tags": ["python", "exception"], "answers": [{"comments": [{"owner": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 4, "creation_date": 1435176039, "post_id": 31035824, "comment_id": 50096091, "body": "On the contrary, I would say that many exception classes would anyways reasonably derive from <code>RuntimeError</code>: A <code>RuntimeError</code> simply means some error that was only detectable at runtime, rather than when the software was designed: An error out of the hands of the developer. This is in contrast to say a <code>TypeError</code>, where under careful analysis of the program flow, you should have been able to see that you are actually using a type inappropriately."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 7, "creation_date": 1435176129, "post_id": 31035824, "comment_id": 50096139, "body": "@burnpanck: <code>OSError</code> and its friends do not derive from <code>RuntimeError</code>.  Nor does <code>ValueError</code>, <code>KeyError</code>, etc., yet those are all reasonably possible runtime errors.  RuntimeError is largely a &quot;miscellaneous&quot; bin, and I don&#39;t like extending it."}, {"owner": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 0, "creation_date": 1435176444, "post_id": 31035824, "comment_id": 50096306, "body": "True, I guess it is anyways not always clear if something was reasonable detectable before runtime or not. In practice it seems to matter very seldom (at least in my use-cases), as either you expect something very specific, or you have <code>except Exception:</code>, or you anyways just look at the traceback."}, {"owner": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "reply_to_user": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 0, "creation_date": 1525693569, "post_id": 31035824, "comment_id": 87443696, "body": "@burnpanck <code>except Exception</code>? Surely just <code>except</code>."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 2011, "user_id": 9445557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ybcW.gif?s=128&g=1", "display_name": "Artemis", "link": "https://stackoverflow.com/users/9445557/artemis"}, "edited": false, "score": 5, "creation_date": 1525719068, "post_id": 31035824, "comment_id": 87458465, "body": "@ArtemisFowl: <a href=\"https://docs.python.org/2/howto/doanddont.html#except\" rel=\"nofollow noreferrer\">Don&#39;t use bare except:</a>."}, {"owner": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 0, "creation_date": 1525804081, "post_id": 31035824, "comment_id": 87497506, "body": "@Kevin: ... unless you are going to re-<code>raise</code> it afterwards, for code that needs to run whenever a protected block doesn&#39;t run to it&#39;s end. However, these cases are often better solved with a <code>with</code>-statement/context manager or a <code>finally:</code> clause."}, {"owner": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "reply_to_user": {"reputation": 1688, "user_id": 4112821, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/98d7fbbdcec79d76fc20fee194653087?s=128&d=identicon&r=PG&f=1", "display_name": "burnpanck", "link": "https://stackoverflow.com/users/4112821/burnpanck"}, "edited": false, "score": 0, "creation_date": 1555019914, "post_id": 31035824, "comment_id": 97973745, "body": "@burnpanck Is there an error for when it was in the programmer&#39;s hands but they dropped it?  Like &quot;The program should never reach this branch, but you found a case that we didn&#39;t think of that does&quot;"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1555020000, "post_id": 31035824, "comment_id": 97973776, "body": "@endolith: That&#39;s what the <code>assert</code> statement is for."}, {"owner": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1555080029, "post_id": 31035824, "comment_id": 97996943, "body": "@Kevin So... <code>assert False</code> in places that should never be reached?  That doesn&#39;t seem like a user-friendly error message."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 21195, "user_id": 125507, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2a59853d36056b7a088f33c96e3a1619?s=128&d=identicon&r=PG", "display_name": "endolith", "link": "https://stackoverflow.com/users/125507/endolith"}, "edited": false, "score": 0, "creation_date": 1555088852, "post_id": 31035824, "comment_id": 98001753, "body": "@endolith: It&#39;s not meant to be user-friendly, it&#39;s meant to be programmer-friendly. Your code should behave correctly when asserts are turned off altogether (e.g. with <code>python -O</code>)."}, {"owner": {"reputation": 314, "user_id": 10847996, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SAY8aMAMrFI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYB1ZhJU9-pStq82GGO33bfzliF_w/mo/photo.jpg?sz=128", "display_name": "sturgemeister", "link": "https://stackoverflow.com/users/10847996/sturgemeister"}, "edited": false, "score": 0, "creation_date": 1589509313, "post_id": 31035824, "comment_id": 109329864, "body": "I&#39;m pretty alright with this before my code is in production when the bug has to do with malformed data for example: ` except:     import traceback     traceback.print_exc() `"}], "tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": true, "score": 13, "last_activity_date": 1435175858, "creation_date": 1435175858, "answer_id": 31035824, "question_id": 31035769, "link": "https://stackoverflow.com/questions/31035769/python-is-runtimeerror-acceptable-for-general-use/31035824#31035824", "title": "Python: is RuntimeError acceptable for general use?", "body": "<p>This is... OK.  Ideally, you <em>would</em> have separate exceptions for each reasonably distinct situation (e.g. one exception for all \"the config file is malformed\" errors, reuse <code>FileNotFoundError</code> in 3.x for \"the config file doesn't exist\", etc.).  But this is one of the more innocuous forms of technical debt.</p>\n\n<p>The downside is that if you ever do introduce those separate exceptions, they may need to subclass from <code>RuntimeError</code> for reasons of backwards compatibility.  That's kind of ugly, but mostly harmless.</p>\n"}], "owner": {"reputation": 265978, "user_id": 116, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/f6flX.jpg?s=128&g=1", "display_name": "Mark Harrison", "link": "https://stackoverflow.com/users/116/mark-harrison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12446, "favorite_count": 3, "accepted_answer_id": 31035824, "answer_count": 1, "score": 22, "last_activity_date": 1435175858, "creation_date": 1435175621, "question_id": 31035769, "link": "https://stackoverflow.com/questions/31035769/python-is-runtimeerror-acceptable-for-general-use", "title": "Python: is RuntimeError acceptable for general use?", "body": "<p>Is it acceptable to use the RuntimeError exception for general application use?</p>\n\n<pre><code>raise RuntimeError('config file is missing host address')\n</code></pre>\n\n<p>I've got some code with a couple of one-off situations like this and would prefer to avoid creating one-off exception classes for each of them.  All the situations are fatal, and my goal is to get a clear message to the console.  Basically I'm looking for something similar to the deprecated</p>\n\n<pre><code>raise 'config file is missing host address'\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1435174633, "post_id": 31035466, "comment_id": 50095235, "body": "Duplicate of <a href=\"http://stackoverflow.com/q/2612802/3001761\">stackoverflow.com/q/2612802/3001761</a>"}], "answers": [{"tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": true, "score": 1, "last_activity_date": 1435174666, "creation_date": 1435174666, "answer_id": 31035506, "question_id": 31035466, "link": "https://stackoverflow.com/questions/31035466/how-do-i-keep-the-values-in-my-original-list-from-changing/31035506#31035506", "title": "How do I keep the values in my original list from changing", "body": "<p>When you do <code>list2 = list1</code>, you are just passing the reference of <code>list1</code> to <code>list2</code> , you instead need to make copy of <code>list1</code> and pass that copy to <code>list2</code> .\nExample -</p>\n\n<pre><code>list1 = [1,2,3,4,5]\n\nlist2 = list1[:]\n\nfor i in range(len(list2)):\n    list2[i] += 1\n\nprint list1\n&gt;&gt; [1, 2, 3, 4, 5]\n</code></pre>\n\n<p>Or You can also use <code>copy</code> module -</p>\n\n<pre><code>&gt;&gt;&gt; import copy\n&gt;&gt;&gt; list1 = [1,2,3,4,5]\n&gt;&gt;&gt; list2 = copy.copy(list1)\n&gt;&gt;&gt; for i in range(len(list2)):\n...     list2[i] += 1\n...\n&gt;&gt;&gt; list1\n[1, 2, 3, 4, 5]\n</code></pre>\n\n<p>If the list contains objects and you may want to copy them as well, in that case use <a href=\"http://docs.python.org/library/copy.html\" rel=\"nofollow\">copy.deepcopy()</a></p>\n"}, {"tags": [], "owner": {"reputation": 102, "user_id": 3897276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hRWeF.jpg?s=128&g=1", "display_name": "bhavin", "link": "https://stackoverflow.com/users/3897276/bhavin"}, "is_accepted": false, "score": 0, "last_activity_date": 1435174946, "creation_date": 1435174946, "answer_id": 31035584, "question_id": 31035466, "link": "https://stackoverflow.com/questions/31035466/how-do-i-keep-the-values-in-my-original-list-from-changing/31035584#31035584", "title": "How do I keep the values in my original list from changing", "body": "<p>By default assignment operator in python links the two objects, i.e. creates binding between the two objects.\nin order for you to create a new independent object and still copy the original.\nyou would have to use copy ( shallow or deep , depending on your requirement )</p>\n\n<pre><code>list2 = copy.copy(list1)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5046068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/565a7d68c9c27224f6ba39e64c7c6843?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/5046068/shawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1435174970, "accepted_answer_id": 31035506, "answer_count": 2, "score": -1, "last_activity_date": 1435174946, "creation_date": 1435174489, "last_edit_date": 1435174589, "question_id": 31035466, "link": "https://stackoverflow.com/questions/31035466/how-do-i-keep-the-values-in-my-original-list-from-changing", "closed_reason": "Duplicate", "title": "How do I keep the values in my original list from changing", "body": "<p>Im a little new to python, so this question may be very easy to answer. However, the logic doesnt make sense to me which is why I am posting this question. While there have been similar questions asked, they all used large chunks of code that were hard to read. Here is the program in python:</p>\n\n<pre><code>list1 = [1,2,3,4,5]\n\nlist2 = list1\n\nfor i in range(len(list2)):\n    list2[i] += 1\n\nprint list1\n</code></pre>\n\n<p>When I run this program, it returns list1 as [2,3,4,5,6], which is identical to list2. My question is why list1 is connected to list2, and how to keep them independent of each other. Thank you for answering.</p>\n"}, {"tags": ["python", "fabric"], "answers": [{"tags": [], "owner": {"reputation": 2880, "user_id": 457447, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/XNmAo.jpg?s=128&g=1", "display_name": "Yogesh Mangaj", "link": "https://stackoverflow.com/users/457447/yogesh-mangaj"}, "is_accepted": true, "score": 2, "last_activity_date": 1435176414, "creation_date": 1435176414, "answer_id": 31036001, "question_id": 31035412, "link": "https://stackoverflow.com/questions/31035412/can-fabric-run-a-local-script-on-a-remote-machine/31036001#31036001", "title": "Can fabric run a local script on a remote machine?", "body": "<p>You can first push your <code>myfile.py</code> to the remote machine using <a href=\"http://docs.fabfile.org/en/1.10/api/core/operations.html#fabric.operations.put\" rel=\"nofollow\"><code>fabric.operations.put</code></a> and then run the script like you've attempted to. </p>\n\n<p>But make sure the path to your script is either an absolute path or relative to the current directory from which the remote commands are being executed, this can be found out using <a href=\"http://docs.fabfile.org/en/1.10/usage/env.html?highlight=cwd#cwd\" rel=\"nofollow\"><code>cwd</code></a> you can also manually <code>cd</code> into the remote folder using <a href=\"http://docs.fabfile.org/en/1.10/api/core/context_managers.html#fabric.context_managers.cd\" rel=\"nofollow\"><code>fabric.context_managers.cd</code></a></p>\n"}], "owner": {"reputation": 454, "user_id": 4009625, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/xoJgU.jpg?s=128&g=1", "display_name": "Plastic Soul", "link": "https://stackoverflow.com/users/4009625/plastic-soul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1412, "favorite_count": 0, "accepted_answer_id": 31036001, "answer_count": 1, "score": 4, "last_activity_date": 1435176414, "creation_date": 1435174353, "question_id": 31035412, "link": "https://stackoverflow.com/questions/31035412/can-fabric-run-a-local-script-on-a-remote-machine", "title": "Can fabric run a local script on a remote machine?", "body": "<p>I have <code>myfile.py</code> on my local machine. </p>\n\n<p>I want to do something like:</p>\n\n<pre><code>from fabric.api import env, run\n\nenv.host_string = 'whatever.com'\n\ndef run_script():\n    run('python myfile.py')\n</code></pre>\n\n<p>but of course, this returns <code>can't open file 'myfile.py': [Errno 2] No such file or directory</code> How can I run this file remotely? Do I have to <code>put</code> it onto <code>whatever.com</code>?</p>\n"}]