[{"tags": ["python", "windows", "python-3.x", "cron", "scheduled-tasks"], "comments": [{"owner": {"reputation": 1376, "user_id": 6190930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfbba9c5af37b4eb37bc508a355fda7?s=128&d=identicon&r=PG", "display_name": "pgngp", "link": "https://stackoverflow.com/users/6190930/pgngp"}, "edited": false, "score": 0, "creation_date": 1516239594, "post_id": 48311909, "comment_id": 83611015, "body": "Did you try putting <code>*&#47;5 * * * * &lt;PATH_TO_PYTHON&gt; &lt;PATH_TO_dateTime.py&gt;</code> in place of <code>* * * * * command</code> and running <code>cronTest.py</code> again?"}, {"owner": {"reputation": 69, "user_id": 6070127, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a18128088b74f610168310c96cae242?s=128&d=identicon&r=PG&f=1", "display_name": "g1devops", "link": "https://stackoverflow.com/users/6070127/g1devops"}, "reply_to_user": {"reputation": 1376, "user_id": 6190930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfbba9c5af37b4eb37bc508a355fda7?s=128&d=identicon&r=PG", "display_name": "pgngp", "link": "https://stackoverflow.com/users/6190930/pgngp"}, "edited": false, "score": 0, "creation_date": 1516243302, "post_id": 48311909, "comment_id": 83611863, "body": "I tried replacing <code>command</code> with path to my script it didn&#39;t work, I guess I need to know what exactly I should pass to <code>tab</code> in <code>cron = CronTab(tab=&quot;&quot;&quot; *&#47;5 * * * * python &lt;path to script&gt;&quot;&quot;&quot;) my_cron=cron.new(command=&#39;python D:\\Pyhon\\currentDate.py&#39;) my_cron.minute.every(1)</code>"}, {"owner": {"reputation": 1376, "user_id": 6190930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfbba9c5af37b4eb37bc508a355fda7?s=128&d=identicon&r=PG", "display_name": "pgngp", "link": "https://stackoverflow.com/users/6190930/pgngp"}, "edited": false, "score": 0, "creation_date": 1516249027, "post_id": 48311909, "comment_id": 83613216, "body": "You might have to specify the complete path to <code>python</code> in your crontab."}, {"owner": {"reputation": 69, "user_id": 6070127, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a18128088b74f610168310c96cae242?s=128&d=identicon&r=PG&f=1", "display_name": "g1devops", "link": "https://stackoverflow.com/users/6070127/g1devops"}, "reply_to_user": {"reputation": 1376, "user_id": 6190930, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dfbba9c5af37b4eb37bc508a355fda7?s=128&d=identicon&r=PG", "display_name": "pgngp", "link": "https://stackoverflow.com/users/6190930/pgngp"}, "edited": false, "score": 0, "creation_date": 1516254040, "post_id": 48311909, "comment_id": 83614710, "body": "I tried but it didn&#39;t work"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 3817190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FHOZr.jpg?s=128&g=1", "display_name": "Lukasavicus", "link": "https://stackoverflow.com/users/3817190/lukasavicus"}, "edited": false, "score": 0, "creation_date": 1584035718, "post_id": 48349800, "comment_id": 107320324, "body": "I don&#39;t understand one thing: What should be the &quot;MyScripts.tab&quot;, in the problem presented by @g1devops it will be the file  <code>dateTime.py</code> ?"}, {"owner": {"reputation": 99, "user_id": 5937168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9cb0f5f4b43fc94bfeea7b5d4795402?s=128&d=identicon&r=PG", "display_name": "J. Gwinner", "link": "https://stackoverflow.com/users/5937168/j-gwinner"}, "edited": false, "score": 0, "creation_date": 1616483519, "post_id": 48349800, "comment_id": 118008974, "body": "Windows does have a scheduler, however - in fact, since Windows 95. I was sort of hoping to find a cross platform python scheduler, which is how I ended up here. Oh well."}, {"owner": {"reputation": 273, "user_id": 4703023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f6f9e75239bfcc5bfb41014e9dc9a26?s=128&d=identicon&r=PG", "display_name": "Martin Owens -doctormo-", "link": "https://stackoverflow.com/users/4703023/martin-owens-doctormo"}, "edited": false, "score": 0, "creation_date": 1616588676, "post_id": 48349800, "comment_id": 118048287, "body": "If you know how it works, and how python could interact with it, perhaps it&#39;s a feature that could be added."}], "tags": [], "owner": {"reputation": 273, "user_id": 4703023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f6f9e75239bfcc5bfb41014e9dc9a26?s=128&d=identicon&r=PG", "display_name": "Martin Owens -doctormo-", "link": "https://stackoverflow.com/users/4703023/martin-owens-doctormo"}, "is_accepted": false, "score": 4, "last_activity_date": 1600022602, "last_edit_date": 1600022602, "creation_date": 1516397312, "answer_id": 48349800, "question_id": 48311909, "link": "https://stackoverflow.com/questions/48311909/scheduling-python-script-using-python-crontab-on-windows-7/48349800#48349800", "title": "Scheduling Python script using Python CronTab on Windows 7", "body": "<p>Did you run the embedded scheduler? See <code>Running the Scheduler</code> section in <a href=\"https://gitlab.com/doctormo/python-crontab\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n<pre><code>tab = CronTab(tabfile='MyScripts.tab')\nfor result in tab.run_scheduler():\n    print &quot;This was printed to stdout by the process.&quot;\n</code></pre>\n<p>Because windows doesn't have a crontab process, you have to either feed your crontabs into an existing daemon or use this run_scheduler within your process to create a daemon for yourself.</p>\n"}], "owner": {"reputation": 69, "user_id": 6070127, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5a18128088b74f610168310c96cae242?s=128&d=identicon&r=PG&f=1", "display_name": "g1devops", "link": "https://stackoverflow.com/users/6070127/g1devops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7084, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1600022602, "creation_date": 1516233565, "last_edit_date": 1516244321, "question_id": 48311909, "link": "https://stackoverflow.com/questions/48311909/scheduling-python-script-using-python-crontab-on-windows-7", "title": "Scheduling Python script using Python CronTab on Windows 7", "body": "<p>I want to schedule a python script using the python-crontab module on Windows platform. Found the following snippet to work around but having a hard time to configure. Script name <code>cronTest.py</code>:</p>\n\n<pre><code>from crontab import CronTab\nfile_cron = CronTab(tabfile='filename.tab')\nmem_cron = CronTab(tab=\"\"\"\n* * * * * command\n\"\"\")\n</code></pre>\n\n<p>Let's say, for example, I want to print date &amp; time for ever 5 mins using the following script, named <code>dateTime.py</code>:</p>\n\n<pre><code>import datetime\nwith open('dateInfo.txt','a') as outFile:\n    outFile.write('\\n' + str(datetime.datetime.now()))\n</code></pre>\n\n<p>How do I execute <code>dateTime.py</code> and setup the cron job for every 5mins through <code>cronTest.py</code>.</p>\n"}, {"tags": ["python", "pandas", "loops"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516233801, "post_id": 48311908, "comment_id": 83609685, "body": "Have you tried checking the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.iterrows.html\" rel=\"nofollow noreferrer\">documentation</a>? The <code>iterrows</code> iterator returns a <code>tuple</code>, which has the index value for that row, and a <code>pd.Series</code> representing the row."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516234302, "post_id": 48311908, "comment_id": 83609815, "body": "It&#39;s pretty much <code>for i, vs in zip(df.index, df.values): yield i, pd.Series(vs)</code>"}, {"owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516234538, "post_id": 48311908, "comment_id": 83609860, "body": "@juanpa.arrivillaga ok thanks so if I wanted to have i start at zero and increment each time I could just df.reset_index.  Thanks"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516234569, "post_id": 48311908, "comment_id": 83609867, "body": "That or <code>for i, (idx, row) in enumerate(df.iterrows()):</code>"}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1516234343, "creation_date": 1516234343, "answer_id": 48312006, "question_id": 48311908, "link": "https://stackoverflow.com/questions/48311908/index-not-starting-at-zero-when-using-pandas-iterrows-in-python/48312006#48312006", "title": "Index not starting at zero when using PANDAS iterrows() in Python", "body": "<p>Iterating over a DataFrame with <code>iterrows</code> gives <code>(index, Series)</code> pairs for each row, as stated in the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.iterrows.html\" rel=\"nofollow noreferrer\">documentation</a>. However, <em>index</em> in Pandas doesn't always mean 0 to whatever.</p>\n\n<p>Every row of a Pandas DataFrame has a label, also known as its index. These labels are frequently integers from 0 to the number of rows in the DataFrame, but the labels can be almost anything:</p>\n\n<pre><code>&gt;&gt;&gt; x = pandas.DataFrame(index=[1, 'apples', object()], data={'x': [1, 2, 3]})\n&gt;&gt;&gt; x\n                                   x\n1                                  1\napples                             2\n&lt;object object at 0x7f25cdb16b50&gt;  3\n</code></pre>\n\n<p>Here, I have a DataFrame with row labels <code>1</code>, <code>'apples'</code>, and an instance of <code>object</code>. These are the indices you will see with <code>iterrows</code>:</p>\n\n<pre><code>&gt;&gt;&gt; [i for i, row in x.iterrows()]\n[1, 'apples', &lt;object object at 0x7f25cdb16b50&gt;]\n</code></pre>\n\n<p>Indexes can be even more complicated than that with <a href=\"https://pandas.pydata.org/pandas-docs/stable/advanced.html\" rel=\"nofollow noreferrer\"><code>MultiIndex</code></a>es, but this should be enough for a demonstration.</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "is_accepted": false, "score": 1, "last_activity_date": 1516234591, "creation_date": 1516234591, "answer_id": 48312033, "question_id": 48311908, "link": "https://stackoverflow.com/questions/48311908/index-not-starting-at-zero-when-using-pandas-iterrows-in-python/48312033#48312033", "title": "Index not starting at zero when using PANDAS iterrows() in Python", "body": "<p>Per the comments section this is just the index.</p>\n\n<p>Thank you.</p>\n"}], "owner": {"reputation": 93, "user_id": 8679484, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f7b5c2398d62eba001e7bb97c970d358?s=128&d=identicon&r=PG&f=1", "display_name": "pacificdune", "link": "https://stackoverflow.com/users/8679484/pacificdune"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1494, "favorite_count": 1, "accepted_answer_id": 48312006, "answer_count": 2, "score": 1, "last_activity_date": 1516234591, "creation_date": 1516233564, "question_id": 48311908, "link": "https://stackoverflow.com/questions/48311908/index-not-starting-at-zero-when-using-pandas-iterrows-in-python", "title": "Index not starting at zero when using PANDAS iterrows() in Python", "body": "<p>I'm running a loop where I iterate through a DataFrame and append an item to a list at each iteration.  The code is like this:</p>\n\n<pre><code>    l=[]\n\n    for i,row in df.iterrows():\n        print len(l)\n        print i\n        l.append(df['A'])\n</code></pre>\n\n<p>Getting a situation where i and len(l) are not equal, and i may be different in subsequent runs.</p>\n\n<p>My assumption was that i was an integer that increments by one each iteration and starts at zero, but this seems to be incorrect.</p>\n\n<p>So, what defines the value of i for each iteration in the loop?</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-models", "django-views"], "owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516233173, "creation_date": 1516233173, "question_id": 48311862, "link": "https://stackoverflow.com/questions/48311862/creating-calendar-table-entries-but-process-currently-is-very-limiting", "title": "Creating Calendar table entries, but process currently is very limiting", "body": "<p>I'm trying to take info from a few models and generate table entries in the model Calendar. I'd like to perfect this method so that It can be done on any day and will just extend from an entry in the Calendar object that has the future most date. Currently in the view as you can see, it just projects the current objects in the Calendar table, and projects it forward a certain number of days. Which limits me to doing this only on mondays, otherwise it falls out of sync with the TimeSlots table. Also depending on the max_jobs the TimeSlot table entry has I need to create multiple calendar entries... currently it only works with two but I guess I can increase it but the code is very repetative</p>\n\n<p><strong>Template:</strong></p>\n\n<pre><code>&lt;form action=\"{% url 'portal:custom_admin' %}\" method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div style=\"background-color:red; width:15%;\"&gt;\n        &lt;button name=\"submit\"&gt;Project&lt;/button&gt;\n        DANGER! Only click on mondays, until future projecter can go based off futuremost monday generated into Calendar\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>View with which I am struggling:</strong></p>\n\n<pre><code>@login_required\ndef custom_admin(request):\n\"\"\"\nDisplays MaxSettings, also\nTakes time_slots and create a week of it into the future (only should be done on mondays)\nNote:eventually this should be able to generate from the future most entry in the calendar instead of today\n\"\"\"\nmax_settings = MaxSettings.objects.filter()\ntime_slots = TimeSlots.objects.filter()\n\nif request.method != 'POST':\n    pass\n    # Do nothing\nelse:\n    # Project A week forward\n    for slot in time_slots:\n        if slot.day.weekday == 'Monday':\n            new_entry = Calendar(\n                date=timezone.now() + datetime.timedelta(days=7),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n        if slot.day.weekday == 'Tuesday':\n            new_entry = Calendar(\n                date=timezone.now() + datetime.timedelta(days=8),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n        if slot.day.weekday == 'Wednesday':\n            new_entry = Calendar(\n                date=timezone.now() + datetime.timedelta(days=9),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n        if slot.day.weekday == 'Thursday':\n            new_entry = Calendar(\n                date=timezone.now() + datetime.timedelta(days=10),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n        if slot.day.weekday == 'Friday':\n            new_entry = Calendar(\n                date=timezone.now() + datetime.timedelta(days=11),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n\n        if slot.max_jobs == 2:\n            if slot.day.weekday == 'Monday':\n                new_entry = Calendar(\n                    date=timezone.now() + datetime.timedelta(days=7),\n                    timeslot_A=slot.timeslot_A,\n                    timeslot_B=slot.timeslot_B,\n                    booked=False\n                )\n                new_entry.save()\n            if slot.day.weekday == 'Tuesday':\n                new_entry = Calendar(\n                    date=timezone.now() + datetime.timedelta(days=8),\n                    timeslot_A=slot.timeslot_A,\n                    timeslot_B=slot.timeslot_B,\n                    booked=False\n                )\n                new_entry.save()\n            if slot.day.weekday == 'Wednesday':\n                new_entry = Calendar(\n                    date=timezone.now() + datetime.timedelta(days=9),\n                    timeslot_A=slot.timeslot_A,\n                    timeslot_B=slot.timeslot_B,\n                    booked=False\n                )\n                new_entry.save()\n            if slot.day.weekday == 'Thursday':\n                new_entry = Calendar(\n                    date=timezone.now() + datetime.timedelta(days=10),\n                    timeslot_A=slot.timeslot_A,\n                    timeslot_B=slot.timeslot_B,\n                    booked=False\n                )\n                new_entry.save()\n            if slot.day.weekday == 'Friday':\n                new_entry = Calendar(\n                    date=timezone.now() + datetime.timedelta(days=11),\n                    timeslot_A=slot.timeslot_A,\n                    timeslot_B=slot.timeslot_B,\n                    booked=False\n                )\n                new_entry.save()\n\n    return HttpResponseRedirect(reverse('portal:custom_admin'))\n\ncalendar = Calendar.objects.filter().order_by('date')\ncontext = {\n    'max_settings': max_settings,\n    'calendar': calendar,\n}\nreturn render(request, 'portal/custom_admin.html', context)\n</code></pre>\n\n<p><strong>Here are the relevant models:</strong></p>\n\n<pre><code>class MaxSettings(models.Model):\n\"\"\"\nEveryweek day has its own specified open/close time, time slots along with number of available jobs\n\"\"\"\nMONDAY = 'Monday'\nTUESDAY = 'Tuesday'\nWEDNESDAY = 'Wednesday'\nTHURSDAY = 'Thursday'\nFRIDAY = 'Friday'\nSATURDAY = 'Saturday'\nSUNDAY = 'Sunday'\nWEEKDAY_CHOICES = (\n    (MONDAY, 'monday'),\n    (TUESDAY, 'tuesday'),\n    (WEDNESDAY, 'wednesday'),\n    (THURSDAY, 'thursday'),\n    (FRIDAY, 'friday'),\n    (SATURDAY, 'saturday'),\n    (SUNDAY, 'sunday'),\n)\nweekday = models.CharField(max_length=9, choices=WEEKDAY_CHOICES, )\noperating = models.BooleanField()\nstart_work_time = models.TimeField()\nend_work_time = models.TimeField()\n\ndef __str__(self):\n    \"\"\"Return a string representation of the model.\"\"\"\n    return self.weekday\n\n\nclass TimeSlots(models.Model):\n\"\"\"time slots along with number of available jobs for that slot\"\"\"\nday = models.ForeignKey(MaxSettings, on_delete=models.CASCADE)\ntimeslot_A = models.TimeField()\ntimeslot_B = models.TimeField()\nmax_jobs = models.PositiveSmallIntegerField()\n\ndef __str__(self):\n    \"\"\"Return a string representation of the model.\"\"\"\n    return '%s %s %s' % (self.timeslot_A, self.timeslot_B, self.day)\n\n\nclass Calendar(models.Model):\n\"\"\"\nthis will get it details from TimeSlots and be generated into the future from the  MaxSettings\n\"\"\"\ndate = models.DateField()\ntimeslot_A = models.TimeField()\ntimeslot_B = models.TimeField()\nbooked = models.BooleanField()\n</code></pre>\n"}, {"tags": ["python", "django", "pagination", "sql-order-by", "annotate"], "owner": {"reputation": 249, "user_id": 8298871, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/be95d5b2dcef02acd5a282911999071c?s=128&d=identicon&r=PG&f=1", "display_name": "radzia2", "link": "https://stackoverflow.com/users/8298871/radzia2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 490, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1516232939, "creation_date": 1516232939, "question_id": 48311831, "link": "https://stackoverflow.com/questions/48311831/django-duplicates-in-pagination-with-order-by-on-manytomany-field", "title": "django duplicates in pagination with order_by() on manytomany field", "body": "<p>I am sorting a query on a timefield from a manytomany object but have trouble during pagination. </p>\n\n<p>models.py:</p>\n\n<pre><code>class Validated(models.Model):\n    job_id_list = models.ManyToManyField(JobId , related_name='JobId', blank=True)  \n\nclass JobId(models.Model):\n    user = models.ForeignKey(User, blank=True, null=True, default=None)\n    job_time = models.DateTimeField(auto_now_add=True)\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>results_list = Validated.objects.filter(job_id_list__user=request.user).\\\n               distinct().order_by('-job_id_list__job_time')\n</code></pre>\n\n<p>My problem is that pagination is messed up and I get duplicates in my pagination output, even when the query output is ok. (<a href=\"https://stackoverflow.com/questions/31736700/duplicate-elements-in-django-paginate-after-order-by-call\">other</a> have <a href=\"https://stackoverflow.com/questions/5044464/django-pagination-is-repeating-results\">this</a> problem <a href=\"https://stackoverflow.com/questions/22898097/django-pagination-breaks-my-order-by\">too</a>)</p>\n\n<p>I tried several solutions but my issue does not get solved as sorting is bases on a field from a many-to-many object <code>order_by('job_id_list__job_time')</code></p>\n\n<p>I was thinking of a work-around through creating an <code>annotation</code> to my model by the use of a <code>Model.Manager</code>. Inside this annotation, i try to add the <code>job_time</code> which is a result of a function inside the model. In that way, the job_time would be easily accessible:</p>\n\n<pre><code>for i in result_list:\n    job_time_from_model = result_list[i].job_time\n</code></pre>\n\n<p>I would do this as followed but <strong>I don't know how to incorporate the <code>%%function logic%%</code> inside the annotation.</strong></p>\n\n<p>Is this even possible in this way or is another approach required?</p>\n\n<p>models.py:</p>\n\n<pre><code>class ValidatedManager(models.Manager):      \n    **%%function-logic%%**\n    def date(self, user, id):\n            xlinkdatabase_validated_object = self.get(id=id)\n            job_id_list = xlinkdatabase_validated_object.\\\n                    job_id_list.all().order_by('-job_time')\n            date_added = None\n            for item in job_id_list:\n                if item.user == user:\n                    date_added = item.job_time\n                    break\n                return date_added\n\n    def get_queryset2(self, user):\n        qs = super(XlinkdatabaseValidatedManager, self).\\\n        get_queryset().annotate(job_date= **%%function-logic%%**, output_field=DateTimeField())\n        return qs\n</code></pre>\n\n<p>views.py:</p>\n\n<pre><code>results_list = xlinkdatabase_validated.objects.get_queryset2(request.user).\\\n    filter(job_id_list__user=request.user).distinct().order_by('-job_date')\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "deep-learning", "bioinformatics", "dna-sequence"], "comments": [{"owner": {"reputation": 2627, "user_id": 2595450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GviOi.png?s=128&g=1", "display_name": "Spoody", "link": "https://stackoverflow.com/users/2595450/spoody"}, "edited": false, "score": 1, "creation_date": 1516233108, "post_id": 48311807, "comment_id": 83609504, "body": "Welcome to Stack Overflow! At this site you are expected to try to <b>write the code yourself</b>. After <a href=\"https://meta.stackoverflow.com/questions/261592\">doing more research</a> if you have a problem you can <b>post what you&#39;ve tried</b> with a <b>clear explanation of what isn&#39;t working</b> and providing a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. I suggest reading <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> a good question. Also, be sure to take the <a href=\"https://stackoverflow.com/tour\">tour</a>."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "edited": false, "score": 0, "creation_date": 1516236517, "post_id": 48312137, "comment_id": 83610307, "body": "That&#39;s a really interesting concept. I think that for now, I&#39;ll try a simpler method, but in the future I&#39;ll definitely try embedding! Just one more question: what do you think about using dummy variables as opposed to mapping scalar values to each base? Which method would be cleaner/get better results for DNA?"}, {"owner": {"reputation": 1680, "user_id": 6772171, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bc07c67f42651f77624694bfd9ad6923?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Weissburg", "link": "https://stackoverflow.com/users/6772171/evan-weissburg"}, "reply_to_user": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "edited": false, "score": 0, "creation_date": 1516237380, "post_id": 48312137, "comment_id": 83610503, "body": "I&#39;m not quite sure why you mean by dummy variables, but you can definitely just assign decimal values to each base and statically convert. Does this help?"}, {"owner": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "edited": false, "score": 0, "creation_date": 1516237876, "post_id": 48312137, "comment_id": 83610618, "body": "Okay, that helps a ton! I was trying to use the pandas method get_dummies, but I think that assigning decimal values is definitely better. Do you have any pointers to where I can learn how to do this?"}, {"owner": {"reputation": 1680, "user_id": 6772171, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bc07c67f42651f77624694bfd9ad6923?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Weissburg", "link": "https://stackoverflow.com/users/6772171/evan-weissburg"}, "reply_to_user": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "edited": false, "score": 0, "creation_date": 1516240071, "post_id": 48312137, "comment_id": 83611128, "body": "Hmm..not really. Learning to effectively Google and read papers on topics you have questions about is really important. Since you&#39;re new, I won&#39;t feel bad about telling you that if an answer helps, you can upvote and accept it (with the checkmark). This gives it higher visibility for people who stumble upon it later and also gives the poster internet points :)"}, {"owner": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "edited": false, "score": 1, "creation_date": 1516305380, "post_id": 48312137, "comment_id": 83644299, "body": "Okay, thank you! I&#39;ll look into it. And I accepted your post :)"}], "tags": [], "owner": {"reputation": 1680, "user_id": 6772171, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bc07c67f42651f77624694bfd9ad6923?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Weissburg", "link": "https://stackoverflow.com/users/6772171/evan-weissburg"}, "is_accepted": true, "score": 0, "last_activity_date": 1516235417, "creation_date": 1516235417, "answer_id": 48312137, "question_id": 48311807, "link": "https://stackoverflow.com/questions/48311807/how-to-represent-dna-sequences-for-neural-networks/48312137#48312137", "title": "How to represent DNA sequences for neural networks?", "body": "<p><strong>Why not learn the numerical representations for each base?</strong></p>\n\n<p>This is a common problem in <a href=\"https://github.com/tensorflow/nmt\" rel=\"nofollow noreferrer\">Neural Machine Translation</a>, where we seek to encode \"words\" with a meaning as (naively) numbers. The core idea is that different words should not be represented with simple numbers, but with a learned dense vector. The process of finding this vector representation is called <a href=\"https://www.tensorflow.org/programmers_guide/embedding\" rel=\"nofollow noreferrer\">embedding</a>.</p>\n\n<p>In this, bases that are more closely related to one other might have vector representations closer to one another in n-dimensional space (where n is the size of the vector). This is a simple concept that can be difficult to visualize the first time. Your choice of embedding size (a hyperparameter) should likely be small, since you are only embedding one of four parameters (try a size of 2-5).</p>\n\n<p>As an example of some embedding mappings with size 4 (numerical values are not relevant to this example):</p>\n\n<pre><code>G -&gt; [1.0, 0.2, 0.1, 0.2]\nA -&gt; [0.2, 0.5, 0.7, 0.1]\nT -&gt; [0.1, 0.2, 1.0, 0.5]\nC -&gt; [0.4, 0.4, 0.5, 0.8]\n</code></pre>\n\n<p>The exact technique of generating and optimizing embedding is a topic in itself; hopefully the concept is useful to you.</p>\n\n<p><strong>Alternative</strong></p>\n\n<p>If you want to avoid embeddings (since your \"vocabulary\" is limited to 4), you can assign scalar values to each base. If you do this, you should <em>normalize</em> your mappings between -1 and 1.</p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 9226973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d158f1042e2c264f6ce9327dadbedf26?s=128&d=identicon&r=PG&f=1", "display_name": "Snohdo", "link": "https://stackoverflow.com/users/9226973/snohdo"}, "is_accepted": false, "score": 0, "last_activity_date": 1516657671, "creation_date": 1516657671, "answer_id": 48390783, "question_id": 48311807, "link": "https://stackoverflow.com/questions/48311807/how-to-represent-dna-sequences-for-neural-networks/48390783#48390783", "title": "How to represent DNA sequences for neural networks?", "body": "<p>An idea building on the binary indicators you mentioned would be to encode a 1024x1024 (for example) image that is a bitmap, which would normally represent 1048576 bits. For each row in the image, you can look at positions or bits in pairs and encode as follows:</p>\n\n<pre><code>0 0 -&gt; G\n0 1 -&gt; A\n1 0 -&gt; T\n1 1 -&gt; C\n</code></pre>\n\n<p>which should yield 512 data values per row, or 524288 per image.</p>\n\n<p>For the neural network I think you could incorporate a Convolutional neural network or CNN. Another idea might be to avoid the outer edges of the image when encoding so that any kernels used in the process will have full coverage over the active (central) data area. Maybe it isn't the most significant change but perhaps it is worth comparing to a data mapping that encodes right up to the edges and corner regions of the image.</p>\n"}], "owner": {"reputation": 3, "user_id": 9232204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b80a8436a8acd6c0f6842575f9ec037?s=128&d=identicon&r=PG&f=1", "display_name": "blvejay", "link": "https://stackoverflow.com/users/9232204/blvejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 610, "favorite_count": 0, "accepted_answer_id": 48312137, "answer_count": 2, "score": -4, "last_activity_date": 1516657671, "creation_date": 1516232741, "last_edit_date": 1516320770, "question_id": 48311807, "link": "https://stackoverflow.com/questions/48311807/how-to-represent-dna-sequences-for-neural-networks", "title": "How to represent DNA sequences for neural networks?", "body": "<p>I want to build a neural network to classify splice junctions in DNA sequences in Python. Right now, I just have my data in strings (for example, \"GTAACTGC\").</p>\n\n<p>I am wondering about the best way to encode this in a way that I can process with a neural network. My first thought was to just assign each letter to an integer value, but that feels pretty naive. Another thought was to have four binary indicators for each place corresponding to either A, T, G, or C. I'm not sure how well that would work, either.</p>\n\n<p>What is the best way to approach this problem? Before, I have just been working with numerical values, but have never worked with strings like DNA sequences before.</p>\n\n<p>Edit: For now, I will be looking at just mapping. For anyone reading this, try looking at <a href=\"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5360225/\" rel=\"nofollow noreferrer\">this paper</a>; it definitely helped give me some pointers.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "edited": false, "score": 0, "creation_date": 1516233300, "post_id": 48311800, "comment_id": 83609555, "body": "from the docs: &quot;If shell is True, it is recommended to pass args as a string rather than as a sequence.&quot; also, you should not use <code>Popen</code>, but <code>run</code> or <code>checkoutput</code>, also you should not use <code>shell=True</code>, also you should use <code>shell=useShell</code> instead of the <code>if</code>/<code>else</code>. also why do this in the first place, when you don&#39;t actually use <code>argv</code>?"}, {"owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "edited": false, "score": 0, "creation_date": 1516234259, "post_id": 48311800, "comment_id": 83609805, "body": "What I got here that if I am using Shell=True, I need to use &#39; &#39;.join(acmd) instead of acmd - that solved the problem."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "edited": false, "score": 0, "creation_date": 1516233357, "post_id": 48311875, "comment_id": 83609574, "body": "why not just <code>shell=useShell</code> in the first place?"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 0, "creation_date": 1516233457, "post_id": 48311875, "comment_id": 83609592, "body": "@hop: The input command container is different in two cases. I don&#39;t see the gain."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3850"}, "edited": false, "score": 0, "creation_date": 1516233585, "post_id": 48311875, "comment_id": 83609625, "body": "i think the op wants to construct <code>acmd</code> beforhand anyway, so there would be the &quot;gain&quot;"}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 0, "creation_date": 1516233857, "post_id": 48311875, "comment_id": 83609697, "body": "@hop check now."}, {"owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "edited": false, "score": 0, "creation_date": 1516234951, "post_id": 48311875, "comment_id": 83609965, "body": "My original script didnt have Shell=True part. I was not able to kill the child process (from another thread in the parent), and reading up this site pointed to using Shell=True. So I was trying this, and the child burped. I simplified the code to 30 lines to ask the question here. In my real world, using the Shell construct does not depend on any argument, but acmd is built up as a list using different logic."}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": false, "score": 0, "last_activity_date": 1516233845, "last_edit_date": 1516233845, "creation_date": 1516233284, "answer_id": 48311875, "question_id": 48311800, "link": "https://stackoverflow.com/questions/48311800/why-does-shell-true-eat-up-the-arguments-and-what-is-the-fix/48311875#48311875", "title": "Why does shell=True eat up the arguments, and what is the fix?", "body": "<p>When you use a <code>list</code> as the command container, with <code>shell=True</code>, the first element would be treated as the command to run, and then rest would be passed as arguments to the shell itself.</p>\n\n<p>So, if you want to use <code>shell=True</code> to run the command is a shell, make it a string:</p>\n\n<pre><code>acmd = \"/tmp/a.pl Hello World\"\n</code></pre>\n\n<p><em>Note: Be careful about running something directly in the shell in unescaped form.</em></p>\n\n<p>Or, better, you should drop the <code>shell=True</code> and make <code>subprocess</code> do the <code>fork()</code>-<code>exec()</code> as there is nothing shell specific in your code.</p>\n\n<hr>\n\n<p>For completeness, if you insist on keeping your current structure, you should do:</p>\n\n<pre><code>if useShell:\n    proc = subprocess.Popen(\"/tmp/a.pl Hello World\", stdout=subprocess.PIPE, shell=True)\nelse:\n    proc = subprocess.Popen([\"/tmp/a.pl\", \"Hello\", \"World\"], stdout=subprocess.PIPE)\n</code></pre>\n\n<hr>\n\n<p>Or you can set the <code>acmd</code> at the start based on <code>useShell</code>'s value, it gets simpler as you can drop the <code>if...else</code> construct too by setting <code>shell</code> as <code>useShell</code> inside <code>subprocess.Popen</code>:</p>\n\n<pre><code>acmd = \"/tmp/a.pl Hello World\" if useShell else [\"/tmp/a.pl\", \"Hello\", \"World\"]\nproc = subprocess.Popen(acmd, stdout=subprocess.PIPE, shell=useShell)\n</code></pre>\n\n<p>As a side note, you should use snake_case for variable/function names, and CamelCase for class names.</p>\n"}, {"tags": [], "owner": {"reputation": 22377, "user_id": 2288659, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bBg8v.png?s=128&g=1", "display_name": "Silvio Mayolo", "link": "https://stackoverflow.com/users/2288659/silvio-mayolo"}, "is_accepted": true, "score": 0, "last_activity_date": 1516233286, "creation_date": 1516233286, "answer_id": 48311876, "question_id": 48311800, "link": "https://stackoverflow.com/questions/48311800/why-does-shell-true-eat-up-the-arguments-and-what-is-the-fix/48311876#48311876", "title": "Why does shell=True eat up the arguments, and what is the fix?", "body": "<p>From <a href=\"https://docs.python.org/2/library/subprocess.html#subprocess.Popen\" rel=\"nofollow noreferrer\">the docs</a>:</p>\n\n<blockquote>\n  <p>On Unix with <code>shell=True</code>, the shell defaults to <code>/bin/sh</code>. If args is a\n  string, the string specifies the command to execute through the shell. ... If\n  args is a sequence, the first item specifies the command string, and any\n  additional items will be treated as additional arguments to the shell itself.</p>\n</blockquote>\n\n<p>So if <code>shell=True</code>, you're supposed to pass a string instead of a list of arguments, which will be interpreted literally by the shell. If you pass a sequence as you're doing now, it treats the first element as the entire command and the rest as arguments <em>to the shell</em>. So if you need <code>shell=True</code>, pass a string.</p>\n\n<pre><code>proc = subprocess.Popen(\"./tmp/a.pl Hello World\", stdout=subprocess.PIPE, shell=True)\n</code></pre>\n\n<p>And be careful not to pass any user input to the shell when you do it this way. As the docs warn, untrusted input to <code>Popen</code> with a <code>shell=True</code> argument is a <em>major</em> security hazard.</p>\n"}], "owner": {"reputation": 3357, "user_id": 580796, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/05c3749b20cd6c607011443ee3b49070?s=128&d=identicon&r=PG", "display_name": "Manidip Sengupta", "link": "https://stackoverflow.com/users/580796/manidip-sengupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 48311876, "answer_count": 2, "score": 1, "last_activity_date": 1516233845, "creation_date": 1516232727, "question_id": 48311800, "link": "https://stackoverflow.com/questions/48311800/why-does-shell-true-eat-up-the-arguments-and-what-is-the-fix", "title": "Why does shell=True eat up the arguments, and what is the fix?", "body": "<p>I am using subprocess.Popen as opposed to os.fork(), and tryin the \"shell=True\" construct. However, the arguments to be passed to the child process are getting deleted. Any idea why, and what could be the fix?</p>\n\n<p>The files attached are \"/tmp/a.py\" and \"/tmp/a.pl\". If I run a.py without any argument, I get the expected results. With an argument, an error message.</p>\n\n<pre><code>#!/opt/local/bin/python3.6                                                                                                                     \n\nimport sys, subprocess\n\nclass child_proc:\n    def __init__ (self, useShell):\n        print (\"useShell:\", useShell)\n        acmd = [\"/tmp/a.pl\", \"Hello\", \"World\"]\n        if useShell:\n            proc = subprocess.Popen(acmd, stdout=subprocess.PIPE, shell=True)\n        else:\n            proc = subprocess.Popen(acmd, stdout=subprocess.PIPE)\n        while True:\n            line = proc.stdout.readline()\n            if line:\n                try:\n                    aline = line.decode().rstrip()\n                    print (aline)\n                except UnicodeDecodeError as e:\n                    print(\"Error decoding child output:\", line, e)\n                    break\n            else:\n                break\n\nchild_proc(len(sys.argv) &gt; 1)\n</code></pre>\n\n<p>The script it is calling -</p>\n\n<pre><code>#!/opt/local/bin/perl -w                                                                                                                       \ndie \"[a.pl] Missing arguments\\n\" if $#ARGV &lt; 0;\nprint \"[a.pl] @ARGV\\n\";\nexit 0;\n</code></pre>\n\n<p>This is on MacOS10.13.1. Thank you for your insight.</p>\n"}, {"tags": ["python", "apache-spark", "pyspark", "rdd"], "comments": [{"owner": {"reputation": 29493, "user_id": 3269809, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRvqq.jpg?s=128&g=1", "display_name": "Alper t. Turker", "link": "https://stackoverflow.com/users/3269809/alper-t-turker"}, "edited": false, "score": 0, "creation_date": 1516265140, "post_id": 48311797, "comment_id": 83619504, "body": "Please post a full traceback from the first exception."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516307246, "post_id": 48311797, "comment_id": 83645221, "body": "Are you sure that path exists and you have write permission?"}, {"owner": {"reputation": 61, "user_id": 5235069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fc2207d67aa58947882381c13fc3f376?s=128&d=identicon&r=PG&f=1", "display_name": "Kale", "link": "https://stackoverflow.com/users/5235069/kale"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516307962, "post_id": 48311797, "comment_id": 83645542, "body": "Yes, the path does exist because it starts creating the folder and writing the part file (&#39;part-0000&#39;). But since the error occurs, it doesn&#39;t finish writing and the file becomes empty or blank. How can I check for the writing permission? @pault"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516308192, "post_id": 48311797, "comment_id": 83645664, "body": "@Kale If you can create the folder and the part file, then you have permission. Try deleting the folder and running again. I can&#39;t remember for sure, but I vaguely remember that the default setting is not to overwrite if the file already exists."}, {"owner": {"reputation": 61, "user_id": 5235069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fc2207d67aa58947882381c13fc3f376?s=128&d=identicon&r=PG&f=1", "display_name": "Kale", "link": "https://stackoverflow.com/users/5235069/kale"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516309696, "post_id": 48311797, "comment_id": 83646366, "body": "I did already many time: writing with different names, running many times, deleting and rewriting, changing the path but still the same error occurs @pault"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516310571, "post_id": 48311797, "comment_id": 83646768, "body": "I&#39;m unable to recreate your error. The <code>saveAsTextFile()</code> part works fine for me. As for the second thing, don&#39;t write to write to the file inside the <code>map()</code> function. The error message is saying that you can&#39;t serialize the filestream for writing. Instead, map the records to strings and call <code>collect()</code> to write the file: <code>Test1.write(&quot;\\n&quot;.join(testt.map(str).collect()))</code>. Maybe this will help you debug."}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516310751, "post_id": 48311797, "comment_id": 83646869, "body": "Possibly related: <a href=\"https://stackoverflow.com/questions/45947375/why-does-starting-a-streaming-query-lead-to-exitcodeexception-exitcode-1073741\">Why does starting a streaming query lead to \u201cExitCodeException exitCode=-1073741515\u201d?</a>. Perhaps it&#39;s a bug with windows."}, {"owner": {"reputation": 61, "user_id": 5235069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fc2207d67aa58947882381c13fc3f376?s=128&d=identicon&r=PG&f=1", "display_name": "Kale", "link": "https://stackoverflow.com/users/5235069/kale"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516320379, "post_id": 48311797, "comment_id": 83650221, "body": "Well, it didn&#39;t work as you wrote exactly, I modified it. After the second line (Test1), I did this: <code>Strings=testt.map(lambda line: str(line))</code> . Then this: <code>Test1.write(\\&quot;\\\\n\\&quot;.join(Strings.collect()))</code> and worked for me. It&#39;s true that the error hasn&#39;t been solved, but I got what I want at least. Thank you so much :) @pault"}], "owner": {"reputation": 61, "user_id": 5235069, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fc2207d67aa58947882381c13fc3f376?s=128&d=identicon&r=PG&f=1", "display_name": "Kale", "link": "https://stackoverflow.com/users/5235069/kale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 587, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1585202058, "creation_date": 1516232692, "last_edit_date": 1516309805, "question_id": 48311797, "link": "https://stackoverflow.com/questions/48311797/saving-rdd-as-a-text-file-exitcodeexception", "title": "Saving RDD as a text file: ExitCodeException", "body": "<p>I was working on PySpark on <strong>Windows</strong> and I stopped when I had this error. Here is just a small example which generates the error:</p>\n\n<pre><code>testing = sc.parallelize([1,2,3])\ntesting.saveAsTextFile(\"Desktop\\Testing.txt\")\n</code></pre>\n\n<p>And here is the full error that I'm getting:</p>\n\n<pre><code>---------------------------------------------------------------------------\nPy4JJavaError                             Traceback (most recent call last)\n&lt;ipython-input-1-19ab2fb9aaaf&gt; in &lt;module&gt;()\n      1 test = sc.parallelize([1,2,3,4])\n----&gt; 2 test.saveAsTextFile(\"Desktop\\Test123.txt\")\n\nC:\\Spark\\spark-1.6.2-bin-hadoop2.6\\python\\pyspark\\rdd.pyc in saveAsTextFile(self, path, compressionCodecClass)\n   1504             keyed._jrdd.map(self.ctx._jvm.BytesToString()).saveAsTextFile(path, compressionCodec)\n   1505         else:\n-&gt; 1506             keyed._jrdd.map(self.ctx._jvm.BytesToString()).saveAsTextFile(path)\n   1507 \n   1508     # Pair functions\n\nc:\\python27\\lib\\site-packages\\py4j-0.10.4-py2.7.egg\\py4j\\java_gateway.pyc in __call__(self, *args)\n   1131         answer = self.gateway_client.send_command(command)\n   1132         return_value = get_return_value(\n-&gt; 1133             answer, self.gateway_client, self.target_id, self.name)\n   1134 \n   1135         for temp_arg in temp_args:\n\nC:\\Spark\\spark-1.6.2-bin-hadoop2.6\\python\\pyspark\\sql\\utils.pyc in deco(*a, **kw)\n     43     def deco(*a, **kw):\n     44         try:\n---&gt; 45             return f(*a, **kw)\n     46         except py4j.protocol.Py4JJavaError as e:\n     47             s = e.java_exception.toString()\n\nc:\\python27\\lib\\site-packages\\py4j-0.10.4-py2.7.egg\\py4j\\protocol.pyc in get_return_value(answer, gateway_client, target_id, name)\n    317                 raise Py4JJavaError(\n    318                     \"An error occurred while calling {0}{1}{2}.\\n\".\n--&gt; 319                     format(target_id, \".\", name), value)\n    320             else:\n    321                 raise Py4JError(\n\nPy4JJavaError: An error occurred while calling o26.saveAsTextFile.\n: org.apache.spark.SparkException: Job aborted due to stage failure: Task 1 in stage 0.0 failed 1 times, most recent failure: Lost task 1.0 in stage 0.0 (TID 1, localhost): ExitCodeException exitCode=-1073741515: \n    at org.apache.hadoop.util.Shell.runCommand(Shell.java:538)\n    at org.apache.hadoop.util.Shell.run(Shell.java:455)\n    at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:715)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:808)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:791)\n    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:656)\n    at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:490)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:428)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:908)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:801)\n    at org.apache.hadoop.mapred.TextOutputFormat.getRecordWriter(TextOutputFormat.java:123)\n    at org.apache.spark.SparkHadoopWriter.open(SparkHadoopWriter.scala:91)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1$$anonfun$13.apply(PairRDDFunctions.scala:1191)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1$$anonfun$13.apply(PairRDDFunctions.scala:1183)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:66)\n    at org.apache.spark.scheduler.Task.run(Task.scala:89)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:227)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.base/java.lang.Thread.run(Unknown Source)\n\nDriver stacktrace:\n    at org.apache.spark.scheduler.DAGScheduler.org$apache$spark$scheduler$DAGScheduler$$failJobAndIndependentStages(DAGScheduler.scala:1431)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1419)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$abortStage$1.apply(DAGScheduler.scala:1418)\n    at scala.collection.mutable.ResizableArray$class.foreach(ResizableArray.scala:59)\n    at scala.collection.mutable.ArrayBuffer.foreach(ArrayBuffer.scala:47)\n    at org.apache.spark.scheduler.DAGScheduler.abortStage(DAGScheduler.scala:1418)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:799)\n    at org.apache.spark.scheduler.DAGScheduler$$anonfun$handleTaskSetFailed$1.apply(DAGScheduler.scala:799)\n    at scala.Option.foreach(Option.scala:236)\n    at org.apache.spark.scheduler.DAGScheduler.handleTaskSetFailed(DAGScheduler.scala:799)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.doOnReceive(DAGScheduler.scala:1640)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1599)\n    at org.apache.spark.scheduler.DAGSchedulerEventProcessLoop.onReceive(DAGScheduler.scala:1588)\n    at org.apache.spark.util.EventLoop$$anon$1.run(EventLoop.scala:48)\n    at org.apache.spark.scheduler.DAGScheduler.runJob(DAGScheduler.scala:620)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1832)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1845)\n    at org.apache.spark.SparkContext.runJob(SparkContext.scala:1922)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1.apply$mcV$sp(PairRDDFunctions.scala:1209)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1.apply(PairRDDFunctions.scala:1154)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1.apply(PairRDDFunctions.scala:1154)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:316)\n    at org.apache.spark.rdd.PairRDDFunctions.saveAsHadoopDataset(PairRDDFunctions.scala:1154)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$4.apply$mcV$sp(PairRDDFunctions.scala:1060)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$4.apply(PairRDDFunctions.scala:1026)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$4.apply(PairRDDFunctions.scala:1026)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:316)\n    at org.apache.spark.rdd.PairRDDFunctions.saveAsHadoopFile(PairRDDFunctions.scala:1026)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$1.apply$mcV$sp(PairRDDFunctions.scala:952)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$1.apply(PairRDDFunctions.scala:952)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopFile$1.apply(PairRDDFunctions.scala:952)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:316)\n    at org.apache.spark.rdd.PairRDDFunctions.saveAsHadoopFile(PairRDDFunctions.scala:951)\n    at org.apache.spark.rdd.RDD$$anonfun$saveAsTextFile$1.apply$mcV$sp(RDD.scala:1457)\n    at org.apache.spark.rdd.RDD$$anonfun$saveAsTextFile$1.apply(RDD.scala:1436)\n    at org.apache.spark.rdd.RDD$$anonfun$saveAsTextFile$1.apply(RDD.scala:1436)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:150)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:111)\n    at org.apache.spark.rdd.RDD.withScope(RDD.scala:316)\n    at org.apache.spark.rdd.RDD.saveAsTextFile(RDD.scala:1436)\n    at org.apache.spark.api.java.JavaRDDLike$class.saveAsTextFile(JavaRDDLike.scala:507)\n    at org.apache.spark.api.java.AbstractJavaRDDLike.saveAsTextFile(JavaRDDLike.scala:46)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.base/java.lang.reflect.Method.invoke(Unknown Source)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:231)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:381)\n    at py4j.Gateway.invoke(Gateway.java:259)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:133)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:209)\n    at java.base/java.lang.Thread.run(Unknown Source)\nCaused by: ExitCodeException exitCode=-1073741515: \n    at org.apache.hadoop.util.Shell.runCommand(Shell.java:538)\n    at org.apache.hadoop.util.Shell.run(Shell.java:455)\n    at org.apache.hadoop.util.Shell$ShellCommandExecutor.execute(Shell.java:715)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:808)\n    at org.apache.hadoop.util.Shell.execCommand(Shell.java:791)\n    at org.apache.hadoop.fs.RawLocalFileSystem.setPermission(RawLocalFileSystem.java:656)\n    at org.apache.hadoop.fs.FilterFileSystem.setPermission(FilterFileSystem.java:490)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:462)\n    at org.apache.hadoop.fs.ChecksumFileSystem.create(ChecksumFileSystem.java:428)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:908)\n    at org.apache.hadoop.fs.FileSystem.create(FileSystem.java:801)\n    at org.apache.hadoop.mapred.TextOutputFormat.getRecordWriter(TextOutputFormat.java:123)\n    at org.apache.spark.SparkHadoopWriter.open(SparkHadoopWriter.scala:91)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1$$anonfun$13.apply(PairRDDFunctions.scala:1191)\n    at org.apache.spark.rdd.PairRDDFunctions$$anonfun$saveAsHadoopDataset$1$$anonfun$13.apply(PairRDDFunctions.scala:1183)\n    at org.apache.spark.scheduler.ResultTask.runTask(ResultTask.scala:66)\n    at org.apache.spark.scheduler.Task.run(Task.scala:89)\n    at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:227)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    ... 1 more\n</code></pre>\n\n<p>I searched so much for a solution for this <strong>ExitCodeException</strong> but I couldn't find and I didn't know how to fix it! Then, I kinda gave up and went to do it in a really basic way with normal Python like the following:</p>\n\n<pre><code>testt = sc.parallelize([1,2,3])\nTest1 = open('Desktop\\\\Test1.txt','w')\ntestt.map(lambda line: Test1.write(str(line)))\n</code></pre>\n\n<p>But I'm getting also this error:</p>\n\n<blockquote>\n  <p>PicklingError: Cannot pickle files that are not opened for reading</p>\n</blockquote>\n\n<p>I would appreciate any help to make saving RDD happens!\nThanks in advance.</p>\n"}, {"tags": ["python", "scikit-image", "imread"], "comments": [{"owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "edited": false, "score": 0, "creation_date": 1516237623, "post_id": 48311776, "comment_id": 83610561, "body": "Got it working! i installed the packages I thought I needed from the terminal, but I should have done it in Anaconda to make sure conflicts were resolved. So I un-installed and reinstalled everything correctly and what do you know - IT WORKS!"}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1516276633, "post_id": 48311776, "comment_id": 83626734, "body": "Since you already have skimage installed, I&#39;d recommend using <code>from skimage import io; io.imread(...)</code> rather than  <code>scipy.misc.imread</code>."}], "owner": {"reputation": 597, "user_id": 8309998, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9jWLJ.png?s=128&g=1", "display_name": "profhoff", "link": "https://stackoverflow.com/users/8309998/profhoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1526584691, "creation_date": 1516232554, "last_edit_date": 1526584691, "question_id": 48311776, "link": "https://stackoverflow.com/questions/48311776/scipy-misc-pilutil-import-imread-works-but-still-cant-read-in-data", "title": "scipy.misc.pilutil import imread works but still can&#39;t read in data", "body": "<p>I'm working through a tutorial and the code is:</p>\n\n<pre><code>import numpy as np\nfrom scipy import misc\nfrom skimage import data\nphoto_data = misc.imread('foo.jpg')\n</code></pre>\n\n<p>This didn't work and stack overflow searches suggested I needed to install scikit-image. I installed it, but that still didn't work. More searching said I also need to install Pillow. Installed Pillow and that still didn't work.</p>\n\n<p>More searching suggested I needed to write the code as:</p>\n\n<pre><code>import scipy.misc\nfrom scipy.misc.pilutil import imread\n</code></pre>\n\n<p>No error from that (!) but then the code I to read in the photo doesn't work:</p>\n\n<pre><code>photo_data=misc.imread('foo.jpg')\n</code></pre>\n\n<p>error: module.scipy.misc has no attribute imread</p>\n\n<p>if I try:</p>\n\n<pre><code>photo_data = misc.pilutil.imread('foo.jpg')\n</code></pre>\n\n<p>error is very ugly and talks about imread being deprecated and the errors are a LOT more complicated.</p>\n\n<p>Is there is simple way to read this photo in?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "database", "pandas", "sqlite", "dataframe"], "comments": [{"owner": {"reputation": 1480, "user_id": 4376309, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/VcYv5.jpg?s=128&g=1", "display_name": "peacetype", "link": "https://stackoverflow.com/users/4376309/peacetype"}, "edited": false, "score": 0, "creation_date": 1516234097, "post_id": 48311741, "comment_id": 83609759, "body": "You should post the code from what you&#39;ve done so far to achieve this."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9232216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151924ecb88c11158592988344a2c31b?s=128&d=identicon&r=PG&f=1", "display_name": "David Bills", "link": "https://stackoverflow.com/users/9232216/david-bills"}, "edited": false, "score": 0, "creation_date": 1516235060, "post_id": 48311882, "comment_id": 83609988, "body": "Thanks! Will try it out!"}], "tags": [], "owner": {"reputation": 4832, "user_id": 5661594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbbbec01ce0c53edbdf4001d81bb4865?s=128&d=identicon&r=PG", "display_name": "Harry_pb", "link": "https://stackoverflow.com/users/5661594/harry-pb"}, "is_accepted": false, "score": 0, "last_activity_date": 1516233336, "creation_date": 1516233336, "answer_id": 48311882, "question_id": 48311741, "link": "https://stackoverflow.com/questions/48311741/using-a-dataframe-to-create-a-database-in-sql/48311882#48311882", "title": "Using a dataframe to create a database in sql", "body": "<p>You may like to first convert the data to <code>.sql</code> and then import the file in database workbench you are using. Suppose you have dataframe <code>df</code>, then using <code>pandas</code>, convert to <code>sql</code>.</p>\n\n<pre><code>import pandas as pd\ndf.to_sql('filename.sql', engine)\n</code></pre>\n\n<p>I hope this works for you. </p>\n"}], "owner": {"reputation": 1, "user_id": 9232216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/151924ecb88c11158592988344a2c31b?s=128&d=identicon&r=PG&f=1", "display_name": "David Bills", "link": "https://stackoverflow.com/users/9232216/david-bills"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 770, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516235029, "creation_date": 1516232339, "last_edit_date": 1516235029, "question_id": 48311741, "link": "https://stackoverflow.com/questions/48311741/using-a-dataframe-to-create-a-database-in-sql", "title": "Using a dataframe to create a database in sql", "body": "<p>How do I insert data stored in a dataframe to a database in SQL. I've been told that i should use pandas. </p>\n\n<p>Here is the question: </p>\n\n<ol>\n<li>Get data from Quandl. Store this in a dataframe. (I've done this part)</li>\n<li>Insert data into a sqlite database. Create a database in sqlite and insert the data into a table with an appropriate schema. This can be done with pandas so there is no need to go outside of your program to do this.</li>\n</ol>\n\n<p>Only started python coding couple of days ago, so bit of a noob to this. </p>\n\n<p>What I've got so far:</p>\n\n<pre><code>import quandl\n\ndf = quandl.get(\"ML/AATRI\", start_date=\"2008-01-01\")\n\nimport pandas as pd \n\nimport sqlite3\n</code></pre>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "import", "module", "ioerror"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516232434, "post_id": 48311704, "comment_id": 83609313, "body": "I don&#39;t think that the code is as much an issue as the file access.  The Python run-time system is telling you that it can&#39;t find that file from its current working directory.  Try using the <code>os</code> package to list <code>Forum</code>, then <code>Forum&#47;Topics</code>."}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516232990, "post_id": 48311704, "comment_id": 83609477, "body": "I&#39;m a bit new to python, I generally know what <code>os</code> is, but I&#39;m having no luck on my own to implement your advice. Should I use <code>os.open()</code> or something else?"}, {"owner": {"reputation": 722, "user_id": 1160443, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b642f25711ed5675ef140f15aa889aa?s=128&d=identicon&r=PG", "display_name": "Tural Gurbanov", "link": "https://stackoverflow.com/users/1160443/tural-gurbanov"}, "edited": false, "score": 0, "creation_date": 1516233942, "post_id": 48311704, "comment_id": 83609718, "body": "I saw your note, but can you check whether it works if you set the absolute path?"}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "reply_to_user": {"reputation": 722, "user_id": 1160443, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b642f25711ed5675ef140f15aa889aa?s=128&d=identicon&r=PG", "display_name": "Tural Gurbanov", "link": "https://stackoverflow.com/users/1160443/tural-gurbanov"}, "edited": false, "score": 0, "creation_date": 1516234284, "post_id": 48311704, "comment_id": 83609809, "body": "@tural Tried it, it works with absolute path. No errors pop up"}, {"owner": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1516235611, "post_id": 48311704, "comment_id": 83610123, "body": "a tree structure of your project would help."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1516239878, "post_id": 48311704, "comment_id": 83611091, "body": "Where is the <code>index.txt</code> file relative to the script(s)?"}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "reply_to_user": {"reputation": 2230, "user_id": 5574689, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/2883b3fdb7276b30d733cfc0241bc689?s=128&d=identicon&r=PG&f=1", "display_name": "Gang", "link": "https://stackoverflow.com/users/5574689/gang"}, "edited": false, "score": 0, "creation_date": 1516268698, "post_id": 48311704, "comment_id": 83621746, "body": "@Gang I edited the post, does that represent what you asked for?"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516268572, "post_id": 48312048, "comment_id": 83621661, "body": "It is, Forum.py and Posts.py are in the same folder. And this function works when called from Posts.py"}, {"owner": {"reputation": 722, "user_id": 1160443, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b642f25711ed5675ef140f15aa889aa?s=128&d=identicon&r=PG", "display_name": "Tural Gurbanov", "link": "https://stackoverflow.com/users/1160443/tural-gurbanov"}, "reply_to_user": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516268954, "post_id": 48312048, "comment_id": 83621904, "body": "It&#39;s clear that they are in the same folder. From which folder do you run <code>Forum.py</code>?"}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516271085, "post_id": 48312048, "comment_id": 83623314, "body": "From Project folder(The project folder is also called Forum, but I&#39;m calling it Project folder not to confuse it with Forum/Forum folder)"}, {"owner": {"reputation": 722, "user_id": 1160443, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b642f25711ed5675ef140f15aa889aa?s=128&d=identicon&r=PG", "display_name": "Tural Gurbanov", "link": "https://stackoverflow.com/users/1160443/tural-gurbanov"}, "reply_to_user": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516277979, "post_id": 48312048, "comment_id": 83627498, "body": "@kulijana Please, check my updates. It seems that you do something wrong while running the script. BTW did you set some special <code>PYTHONPATH</code>?"}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516278672, "post_id": 48312048, "comment_id": 83627934, "body": "Will do this when I get home, thanks for the effort. I will inform you how it went."}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 1, "creation_date": 1516287311, "post_id": 48312048, "comment_id": 83633534, "body": "This is strange, when copying the relevant methods and modules to a new project, everything works just like it works when you tested it. I will look in deeper on why this is happening."}, {"owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "edited": false, "score": 0, "creation_date": 1516287620, "post_id": 48312048, "comment_id": 83633723, "body": "Thanks for the effort man, and for the tip about paths, what a silly mess up on my side."}], "tags": [], "owner": {"reputation": 722, "user_id": 1160443, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7b642f25711ed5675ef140f15aa889aa?s=128&d=identicon&r=PG", "display_name": "Tural Gurbanov", "link": "https://stackoverflow.com/users/1160443/tural-gurbanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1516277912, "last_edit_date": 1516277912, "creation_date": 1516234735, "answer_id": 48312048, "question_id": 48311704, "link": "https://stackoverflow.com/questions/48311704/errno-2-file-not-found-when-calling-a-function-from-a-different-py-file/48312048#48312048", "title": "Errno 2 file not found when calling a function from a different .py file", "body": "<p>This code will work only if you run <code>python Forum.py</code> in the same directory in which the <code>Forum</code> directory lives. </p>\n\n<p><strong>UPD:</strong>\nI recreated your case on my laptop, and everything works fine. Please check the code:</p>\n\n<p>Posts.py:</p>\n\n<pre><code>index = 'Forum/Topics/index.txt'\n\ndef loadTopicNames():\n    with open(index, 'r') as file:\n        data = file.readlines()\n        for row in data:\n            print(row)\n</code></pre>\n\n<p>Forum.py:</p>\n\n<pre><code>import Posts\nPosts.loadTopicNames()\n</code></pre>\n\n<p>index.txt:</p>\n\n<pre><code>test text\n</code></pre>\n\n<p>Project directory:</p>\n\n<pre><code>$ ls -R\nForum     Forum.py  Posts.py\n\n./Forum:\nTopics\n\n./Forum/Topics:\nindex.txt\n</code></pre>\n\n<p>Run &amp; output:</p>\n\n<pre><code>$ pwd\n/Users/myuser/Forum\n$ python Forum.py \ntest text\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 9230693, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p8SGkYta8dY/AAAAAAAAAAI/AAAAAAAAAKs/iCeQwqO3N9M/photo.jpg?sz=128", "display_name": "Jutorres", "link": "https://stackoverflow.com/users/9230693/jutorres"}, "is_accepted": false, "score": 0, "last_activity_date": 1516242240, "creation_date": 1516242240, "answer_id": 48312887, "question_id": 48311704, "link": "https://stackoverflow.com/questions/48311704/errno-2-file-not-found-when-calling-a-function-from-a-different-py-file/48312887#48312887", "title": "Errno 2 file not found when calling a function from a different .py file", "body": "<p>You should consider to pass the path to the loadTopic function as a parameter, and passing it on the call in Forum.py </p>\n\n<p>That way you don't have the absolute path hardcoded on the load module.</p>\n"}], "owner": {"reputation": 65, "user_id": 7204254, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6476f35260be04e59fafe31efcc29179?s=128&d=identicon&r=PG&f=1", "display_name": "kulijana", "link": "https://stackoverflow.com/users/7204254/kulijana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 0, "accepted_answer_id": 48312048, "answer_count": 2, "score": 1, "last_activity_date": 1516287564, "creation_date": 1516232007, "last_edit_date": 1516287564, "question_id": 48311704, "link": "https://stackoverflow.com/questions/48311704/errno-2-file-not-found-when-calling-a-function-from-a-different-py-file", "title": "Errno 2 file not found when calling a function from a different .py file", "body": "<p>I made a function that reads from a file and saves it's data in an array. </p>\n\n<p>This function is in <code>Posts.py</code>:</p>\n\n<pre><code>index = 'Forum/Topics/index.txt'\n\ndef loadTopicNames():\n    with open(index, 'r') as file:\n        data = file.readlines()\n        for row in data:\n            row = row.replace('\\n', '')\n            topicNames.append(row)\n</code></pre>\n\n<p>This function works, doesn't have problems with the file location. But when I import the <code>Posts.py</code> module in my <code>Forum.py</code> module, and execute it from <code>Forum.py</code>, I get this error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>with open(index, 'r') as file:\nFileNotFoundError: [Errno 2] No such file or directory: 'Forum/Topics/index.txt'\n</code></pre>\n\n<p>Here is the relevant code from <code>Forum.py</code>:</p>\n\n<pre><code>import Posts\nPosts.loadTopicNames()\n</code></pre>\n\n<p>Note: I found some solutions on stackoverflow already, but they mostly include making the path absolute, which is not an option here.\n<code>Posts.py</code> and <code>Forum.py</code> are in the same folder.</p>\n\n<p>This is sort of a representation of where the files are in the project:</p>\n\n<p>Project/Forum.py</p>\n\n<p>Project/Posts.py</p>\n\n<p>Project/Forum/Topics/index.txt</p>\n\n<p>Project/otherStuff...</p>\n\n<p>Edit: found the problem... The working directory for the Forum.py wasn't right, and that was the reason it messed everything up. It had wrong working directory because when I first made the module, I made it in a wrong folder. Then when I realized my mistake, I just copied it to the right place, but the working directory stayed the same...</p>\n"}, {"tags": ["python", "tensorflow", "pip", "anaconda", "conda"], "comments": [{"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516231823, "post_id": 48311645, "comment_id": 83609157, "body": "seems like writing and reading doesn&#39;t work. Can you try <code>sudo pip install</code>"}, {"owner": {"reputation": 11, "user_id": 9232168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e02485a29aeed3249f269ccb4d8c1b?s=128&d=identicon&r=PG", "display_name": "Jason McEwen", "link": "https://stackoverflow.com/users/9232168/jason-mcewen"}, "reply_to_user": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516232008, "post_id": 48311645, "comment_id": 83609205, "body": "Thanks for the suggestion.  <code>sudo pip</code> picks up the root environment tho and I&#39;d like to do this in a separate environment.  Also, is <code>sudo</code> recommended with conda?"}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1516232297, "post_id": 48311645, "comment_id": 83609283, "body": "Seems like <code>html5lib</code> is the only source package - you could try to install it separately via <code>conda install -c anaconda html5lib</code> to avoid building it from source with <code>setuptools</code>, then retry your install command."}, {"owner": {"reputation": 11, "user_id": 9232168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e02485a29aeed3249f269ccb4d8c1b?s=128&d=identicon&r=PG", "display_name": "Jason McEwen", "link": "https://stackoverflow.com/users/9232168/jason-mcewen"}, "reply_to_user": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 0, "creation_date": 1516232489, "post_id": 48311645, "comment_id": 83609333, "body": "Thanks @hoefling.  Installed <code>html5lib</code> as you recommended but still seem to get the same error.  For some reason it still tried to install <code>html5lib</code> when I run the <code>pip install</code> command in the original message?"}, {"owner": {"reputation": 11, "user_id": 9232168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e02485a29aeed3249f269ccb4d8c1b?s=128&d=identicon&r=PG", "display_name": "Jason McEwen", "link": "https://stackoverflow.com/users/9232168/jason-mcewen"}, "edited": false, "score": 0, "creation_date": 1516232922, "post_id": 48311645, "comment_id": 83609462, "body": "Now running <code>conda list html5lib</code> I see the following  <code>html5lib                  1.0.1            py36h2f9c1c0_0    anaconda html5lib                  0.9999999                 &lt;pip&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 6317849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2fa93006c69a3251d186c9e3d90baf96?s=128&d=identicon&r=PG&f=1", "display_name": "H-San", "link": "https://stackoverflow.com/users/6317849/h-san"}, "is_accepted": false, "score": 0, "last_activity_date": 1516748770, "last_edit_date": 1516748770, "creation_date": 1516746794, "answer_id": 48411932, "question_id": 48311645, "link": "https://stackoverflow.com/questions/48311645/installing-tensorflow-using-pip-within-anaconda-fails/48411932#48411932", "title": "Installing tensorflow using pip within anaconda fails", "body": "<p>I had many problems installing tensorflow on my mac as well.</p>\n\n<p>Finally I did it this way and it worked: I followed commands from tensorflow site, but didn't work properly.</p>\n\n<p>Also, from the same site, sudo is ok to use.</p>\n\n<ol>\n<li>Go to Ananconda Navigator, Click on Environments (left menu), then\nCreate button on sub-menu.  Type in a name (\"Tensorflow\" would be my\nchoice)</li>\n<li>On the bigger frame to the right, Select All from dropdown, type in\ntensorflow in Search text box, then some tensorflow items should\nappear.</li>\n<li>Select tensorflow, click Apply on bottom right.</li>\n</ol>\n\n<p>Note: Now I have two environments, \"root\" and \"tensorflow\". I select tensorflow before clicking on Python IDE (Spyder).</p>\n\n<p>Not sure if this is what you were looking for: \n<a href=\"https://i.stack.imgur.com/oDkgR.jpg\" rel=\"nofollow noreferrer\">anaconda-navigator-tensorflow-install</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9232168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9e02485a29aeed3249f269ccb4d8c1b?s=128&d=identicon&r=PG", "display_name": "Jason McEwen", "link": "https://stackoverflow.com/users/9232168/jason-mcewen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 482, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516748770, "creation_date": 1516231615, "question_id": 48311645, "link": "https://stackoverflow.com/questions/48311645/installing-tensorflow-using-pip-within-anaconda-fails", "title": "Installing tensorflow using pip within anaconda fails", "body": "<p>I have a fresh Anaconda install (Python 3.6) and am trying to install tensorflow via pip (as described <a href=\"https://www.tensorflow.org/install/install_mac#installing_with_anaconda\" rel=\"nofollow noreferrer\">here</a>) on Mac OS X High Sierra.</p>\n\n<p>Specifically, I've run:</p>\n\n<pre><code>pip install --ignore-installed --upgrade https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.4.1-py3-none-any.whl\n</code></pre>\n\n<p>Output is the following:</p>\n\n<pre><code>Collecting tensorflow==1.4.1 from https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.4.1-py3-none-any.whl\n      Using cached https://storage.googleapis.com/tensorflow/mac/cpu/tensorflow-1.4.1-py3-none-any.whl\n    Collecting six&gt;=1.10.0 (from tensorflow==1.4.1)\n      Using cached six-1.11.0-py2.py3-none-any.whl\n    Collecting wheel&gt;=0.26 (from tensorflow==1.4.1)\n      Using cached wheel-0.30.0-py2.py3-none-any.whl\n    Collecting numpy&gt;=1.12.1 (from tensorflow==1.4.1)\n      Using cached numpy-1.14.0-cp36-cp36m-macosx_10_6_intel.macosx_10_9_intel.macosx_10_9_x86_64.macosx_10_10_intel.macosx_10_10_x86_64.whl\n    Collecting protobuf&gt;=3.3.0 (from tensorflow==1.4.1)\n      Using cached protobuf-3.5.1-py2.py3-none-any.whl\n    Collecting tensorflow-tensorboard&lt;0.5.0,&gt;=0.4.0rc1 (from tensorflow==1.4.1)\n      Using cached tensorflow_tensorboard-0.4.0rc3-py3-none-any.whl\n    Collecting enum34&gt;=1.1.6 (from tensorflow==1.4.1)\n      Using cached enum34-1.1.6-py3-none-any.whl\n    Collecting setuptools (from protobuf&gt;=3.3.0-&gt;tensorflow==1.4.1)\n      Using cached setuptools-38.4.0-py2.py3-none-any.whl\n    Collecting html5lib==0.9999999 (from tensorflow-tensorboard&lt;0.5.0,&gt;=0.4.0rc1-&gt;tensorflow==1.4.1)\n      Using cached html5lib-0.9999999.tar.gz\n    Collecting markdown&gt;=2.6.8 (from tensorflow-tensorboard&lt;0.5.0,&gt;=0.4.0rc1-&gt;tensorflow==1.4.1)\n      Using cached Markdown-2.6.11-py2.py3-none-any.whl\n    Collecting bleach==1.5.0 (from tensorflow-tensorboard&lt;0.5.0,&gt;=0.4.0rc1-&gt;tensorflow==1.4.1)\n      Using cached bleach-1.5.0-py2.py3-none-any.whl\n    Collecting werkzeug&gt;=0.11.10 (from tensorflow-tensorboard&lt;0.5.0,&gt;=0.4.0rc1-&gt;tensorflow==1.4.1)\n      Using cached Werkzeug-0.14.1-py2.py3-none-any.whl\n    Building wheels for collected packages: html5lib\n      Running setup.py bdist_wheel for html5lib ... done\n      Running setup.py clean for html5lib\n    Failed to build html5lib\n    Installing collected packages: six, wheel, numpy, setuptools, protobuf, html5lib, markdown, bleach, werkzeug, tensorflow-tensorboard, enum34, tensorflow\n      Running setup.py install for html5lib ... error\n        Complete output from command /Users/mcewen/anaconda3/bin/python -u -c \"import setuptools, tokenize;__file__='/Users/mcewen/pip-build-r4d_y_ei/html5lib/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record ./pip-62mbr8ng-record/install-record.txt --single-version-externally-managed --compile:\n        running install\n        running build\n        running build_py\n        creating build\n        creating build/lib\n        creating build/lib/html5lib\n        copying html5lib/inputstream.py -&gt; build/lib/html5lib\n        copying html5lib/sanitizer.py -&gt; build/lib/html5lib\n        copying html5lib/constants.py -&gt; build/lib/html5lib\n        copying html5lib/html5parser.py -&gt; build/lib/html5lib\n        copying html5lib/__init__.py -&gt; build/lib/html5lib\n        copying html5lib/ihatexml.py -&gt; build/lib/html5lib\n        copying html5lib/tokenizer.py -&gt; build/lib/html5lib\n        copying html5lib/utils.py -&gt; build/lib/html5lib\n        creating build/lib/html5lib/filters\n        copying html5lib/filters/_base.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/sanitizer.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/inject_meta_charset.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/__init__.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/alphabeticalattributes.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/optionaltags.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/lint.py -&gt; build/lib/html5lib/filters\n        copying html5lib/filters/whitespace.py -&gt; build/lib/html5lib/filters\n        creating build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/_base.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/pulldom.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/genshistream.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/__init__.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/lxmletree.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/etree.py -&gt; build/lib/html5lib/treewalkers\n        copying html5lib/treewalkers/dom.py -&gt; build/lib/html5lib/treewalkers\n        creating build/lib/html5lib/serializer\n        copying html5lib/serializer/htmlserializer.py -&gt; build/lib/html5lib/serializer\n        copying html5lib/serializer/__init__.py -&gt; build/lib/html5lib/serializer\n        creating build/lib/html5lib/treebuilders\n        copying html5lib/treebuilders/_base.py -&gt; build/lib/html5lib/treebuilders\n        copying html5lib/treebuilders/etree_lxml.py -&gt; build/lib/html5lib/treebuilders\n        copying html5lib/treebuilders/__init__.py -&gt; build/lib/html5lib/treebuilders\n        copying html5lib/treebuilders/etree.py -&gt; build/lib/html5lib/treebuilders\n        copying html5lib/treebuilders/dom.py -&gt; build/lib/html5lib/treebuilders\n        creating build/lib/html5lib/treeadapters\n        copying html5lib/treeadapters/sax.py -&gt; build/lib/html5lib/treeadapters\n        copying html5lib/treeadapters/__init__.py -&gt; build/lib/html5lib/treeadapters\n        creating build/lib/html5lib/trie\n        copying html5lib/trie/_base.py -&gt; build/lib/html5lib/trie\n        copying html5lib/trie/datrie.py -&gt; build/lib/html5lib/trie\n        copying html5lib/trie/__init__.py -&gt; build/lib/html5lib/trie\n        copying html5lib/trie/py.py -&gt; build/lib/html5lib/trie\n        running install_lib\n        running install_egg_info\n        running egg_info\n        writing html5lib.egg-info/PKG-INFO\n        writing dependency_links to html5lib.egg-info/dependency_links.txt\n        writing requirements to html5lib.egg-info/requires.txt\n        writing top-level names to html5lib.egg-info/top_level.txt\n        reading manifest file 'html5lib.egg-info/SOURCES.txt'\n        writing manifest file 'html5lib.egg-info/SOURCES.txt'\n        removing '/Users/mcewen/anaconda3/lib/python3.6/site-packages/html5lib-0.9999999-py3.6.egg-info' (and everything under it)\n        Copying html5lib.egg-info to /Users/mcewen/anaconda3/lib/python3.6/site-packages/html5lib-0.9999999-py3.6.egg-info\n        running install_scripts\n        writing list of installed files to './pip-62mbr8ng-record/install-record.txt'\n        error: [Errno 2] No such file or directory: './pip-62mbr8ng-record/install-record.txt'\n\n        ----------------------------------------\n    Command \"/Users/mcewen/anaconda3/bin/python -u -c \"import setuptools, tokenize;__file__='/Users/mcewen/pip-build-r4d_y_ei/html5lib/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record ./pip-62mbr8ng-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /Users/mcewen/pip-build-r4d_y_ei/html5lib/\n</code></pre>\n\n<p>I suspect this could be a pip issue rather than a tensorflow issue but haven't been able to find a solution.  Any help very welcome!</p>\n"}, {"tags": ["python", "json", "python-2.7"], "comments": [{"owner": {"reputation": 828, "user_id": 1582573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d84ff0aa6095b850ca7cda46db37693?s=128&d=identicon&r=PG", "display_name": "Matteo T.", "link": "https://stackoverflow.com/users/1582573/matteo-t"}, "edited": false, "score": 1, "creation_date": 1516231630, "post_id": 48311628, "comment_id": 83609115, "body": "And the question is...?"}, {"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516231653, "post_id": 48311628, "comment_id": 83609121, "body": "it seems like it is already in that format, just assign the list of dicts to another dict with key as <code>ticketTypes</code>"}, {"owner": {"reputation": 5, "user_id": 7565616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b205e194ccd817430df95fb45c10fc04?s=128&d=identicon&r=PG&f=1", "display_name": "JJS", "link": "https://stackoverflow.com/users/7565616/jjs"}, "reply_to_user": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516231868, "post_id": 48311628, "comment_id": 83609166, "body": "@Usernamenotfound Keys are different.  like &quot;id&quot; for &quot;item_id_1&quot;, &quot;quantity&quot; for &quot;ticket_quantity&quot;."}, {"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516232053, "post_id": 48311628, "comment_id": 83609213, "body": "Ah. I see the difference now. Please add that to your post"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516232076, "post_id": 48311628, "comment_id": 83609219, "body": "You need to build the fundamental structure yourself in Python before using <code>json.dumps()</code>. That means replacing the keys to the dictionaries yourself and incorporating your initial list into a dictionary against the <code>&#39;ticketTypes&#39;</code> key. If you&#39;re hoping for the key/value pairs of the dicts in you lists to conform to some order, you&#39;re out of luck; dictionaries have no definite order."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1516240389, "post_id": 48311628, "comment_id": 83611194, "body": "<code>json.dumps()</code> is driven by the data you pass it to convert to JSON format. That implies that you need to translate your list of dictionaries into a dictionary that will get converted into what you want <b><i>before</i></b> calling it\u2014which seems like it would relatively easy for you to do, no?"}], "answers": [{"tags": [], "owner": {"reputation": 243983, "user_id": 35070, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6f92354195e8874dbee44d5c8714d506?s=128&d=identicon&r=PG", "display_name": "phihag", "link": "https://stackoverflow.com/users/35070/phihag"}, "is_accepted": false, "score": 0, "last_activity_date": 1516233862, "creation_date": 1516233862, "answer_id": 48311954, "question_id": 48311628, "link": "https://stackoverflow.com/questions/48311628/json-dump-in-a-custom-format/48311954#48311954", "title": "json.dump() in a custom format?", "body": "<p>You can use a <a href=\"https://docs.python.org/dev/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">list comprehension</a> to efficiently construct the desired data structure, and then dump it:</p>\n\n<pre><code>import json\n\ninput_data = [  \n    {  \n      '_item_id1':'0002',\n      '_ticket_quantity1':1,\n      '_showtime_id':5635775   \n    },\n    {  \n      '_item_id2':'0001',\n      '_ticket_quantity2':1,\n       '_showtime_id':5635775    \n    }\n]\n\njson_data = [{\n    'showtimeId': '_showtime_id',\n    'id': d['_item_id%s' % i],\n    'quantity': d['_ticket_quantity%s' % i],\n} for i, d in enumerate(input_data, start=1)]\n\nprint(json.dumps({\n    'ticketTypes': json_data\n}))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5, "user_id": 7565616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b205e194ccd817430df95fb45c10fc04?s=128&d=identicon&r=PG&f=1", "display_name": "JJS", "link": "https://stackoverflow.com/users/7565616/jjs"}, "edited": false, "score": 0, "creation_date": 1516249684, "post_id": 48312062, "comment_id": 83613417, "body": "Thank you for nice explanation.  This worked for me."}], "tags": [], "owner": {"reputation": 52, "user_id": 8936721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vujwb.png?s=128&g=1", "display_name": "oldlodestone", "link": "https://stackoverflow.com/users/8936721/oldlodestone"}, "is_accepted": false, "score": 0, "last_activity_date": 1516235255, "last_edit_date": 1516235255, "creation_date": 1516234811, "answer_id": 48312062, "question_id": 48311628, "link": "https://stackoverflow.com/questions/48311628/json-dump-in-a-custom-format/48312062#48312062", "title": "json.dump() in a custom format?", "body": "<p>What you are asking for is more of a \"translation\" or \"conversion\" of information</p>\n\n<p>But why is your data with </p>\n\n<ul>\n<li>\"_item_id1\"           &lt;--- 1?  remove 1?    </li>\n<li>\"_ticket_quantity1\"   &lt;--- 1?  remove 1?</li>\n<li><p>\"_showtime_id\"        &lt;--- nice!  could this be the id?</p></li>\n<li><p>\"_item_id1\"           &lt;--- 2?  remove 2?</p></li>\n<li>\"_ticket_quantity2\"   &lt;--- 2?  remove 2?</li>\n<li>\"_showtime_id\"        &lt;--- nice!</li>\n</ul>\n\n<p>All this data is in a list datatype, so there is no need to have the extra 1 or 2\nif you remove it, then you can use the following </p>\n\n<pre><code>def convert2_Dict(data):\n    ticketTypes = []\n    for ticket in data:\n       item_id = ticket[_item_id]\n       ticket_quantity = ticket[_quantity]\n       showtime_id = ticket[_showtime_id]\n       ticketTypes.append([{\"item_id\":item_id}, \\\n                           {\"ticket_quantity\":ticket_quantity}, \\ \n                           {\"showtime_id\":showtime_id}] )\n\n     return ticketTypes\n</code></pre>\n\n<p>Otherwise, it is going to be a bit messier   </p>\n\n<pre><code>def convert_Dict(data):\n   ticketTypes = []\n   for ticket in data:\n      for key,value in ticket.iteritems():\n         if key.find(\"_item_id\"):             #now have to find the \"string\"\n            item_id = ticket[_item_id]\n         elif key.find(\"_ticket_quantity\"):\n            ticket_quantity = ticket[_quantity]\n         elif key.find(\"_showtime_id\")\n            showtime_id = ticket[_showtime_id]\n       ticketTypes.append([{\"item_id\":item_id}, \\\n                           {\"ticket_quantity\":ticket_quantity}, \\ \n                           {\"showtime_id\":showtime_id}] )\n\n    return ticketTypes\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7565616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b205e194ccd817430df95fb45c10fc04?s=128&d=identicon&r=PG&f=1", "display_name": "JJS", "link": "https://stackoverflow.com/users/7565616/jjs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1516240044, "creation_date": 1516231492, "last_edit_date": 1516240044, "question_id": 48311628, "link": "https://stackoverflow.com/questions/48311628/json-dump-in-a-custom-format", "title": "json.dump() in a custom format?", "body": "<p>I have a list of dictionaries:</p>\n\n<pre><code>[\u00a0\u00a0\n    {\u00a0\u00a0\n    \u00a0\u00a0'_item_id1':'0002',\n    \u00a0\u00a0'_ticket_quantity1':1,\n    \u00a0\u00a0'_showtime_id':5635775\u00a0\u00a0\u00a0\n    },\n    {\u00a0\u00a0\n    \u00a0\u00a0'_item_id2':'0001',\n    \u00a0\u00a0'_ticket_quantity2':1,\n    \u00a0\u00a0\u00a0'_showtime_id':5635775\u00a0\u00a0\u00a0\u00a0\n    }\n]\n</code></pre>\n\n<p>I want to do <code>json.dumps()</code> in this format:</p>\n\n<pre><code>data = json.dumps({\n        'ticketTypes': [{\n                'showtimeId': showtime_id,\n                'id': item_id1,\n                'quantity': ticket_quantity1\n            },\n       {\n                'showtimeId': showtime_id,\n                'id': item_id2,\n                'quantity': ticket_quantity2\n           }]\n    })\n</code></pre>\n"}, {"tags": ["python", "unit-testing", "opencv", "error-handling"], "comments": [{"owner": {"reputation": 473, "user_id": 1838793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uZrN6.png?s=128&g=1", "display_name": "Phoenix87", "link": "https://stackoverflow.com/users/1838793/phoenix87"}, "edited": false, "score": 0, "creation_date": 1516232290, "post_id": 48311594, "comment_id": 83609279, "body": "Try capturing stderr by redirecting it (e.g. <a href=\"http://kitchingroup.cheme.cmu.edu/blog/2013/09/27/Capturing-stderr-and-exceptions-from-python-in-org-mode/\" rel=\"nofollow noreferrer\">kitchingroup.cheme.cmu.edu/blog/2013/09/27/&hellip;</a>)"}], "answers": [{"tags": [], "owner": {"reputation": 473, "user_id": 1838793, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uZrN6.png?s=128&g=1", "display_name": "Phoenix87", "link": "https://stackoverflow.com/users/1838793/phoenix87"}, "is_accepted": true, "score": 1, "last_activity_date": 1516233426, "creation_date": 1516233426, "answer_id": 48311894, "question_id": 48311594, "link": "https://stackoverflow.com/questions/48311594/how-to-test-code-throws-a-cv2-error-in-opencv/48311894#48311894", "title": "How to test code throws a `cv2.error` in OpenCV", "body": "<p>Here is a minimal example that is extracted from <a href=\"http://kitchingroup.cheme.cmu.edu/blog/2013/09/27/Capturing-stderr-and-exceptions-from-python-in-org-mode/\" rel=\"nofollow noreferrer\">http://kitchingroup.cheme.cmu.edu/blog/2013/09/27/Capturing-stderr-and-exceptions-from-python-in-org-mode/</a></p>\n\n<pre><code>from cStringIO import StringIO\nimport sys\n\nif __name__ == \"__main__\":\n    oe = sys.stderr\n    re = sys.stderr = StringIO()\n\n    print &gt;&gt;sys.stderr, '###test###'\n    value = re.getvalue()\n    if \"###test###\" in value:\n        sys.stderr = oe\n        raise Exception(\"ERROR\")\n</code></pre>\n\n<p>We redirect the stderr (but we save a reference to the original one beforehand). Then when we need to test its value we test it and restore strerr back once we are done (if we don't, then exception messages will be redirected and won't appear on the terminal).</p>\n"}], "owner": {"reputation": 6606, "user_id": 2352319, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7a342a28c8d2252d1b8022a6fc4d7f95?s=128&d=identicon&r=PG&f=1", "display_name": "mar tin", "link": "https://stackoverflow.com/users/2352319/mar-tin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 48311894, "answer_count": 1, "score": 1, "last_activity_date": 1516233426, "creation_date": 1516231333, "question_id": 48311594, "link": "https://stackoverflow.com/questions/48311594/how-to-test-code-throws-a-cv2-error-in-opencv", "title": "How to test code throws a `cv2.error` in OpenCV", "body": "<p>I am using OpenCV for a project (version 3.2.0) and I have a part of my code that calls <a href=\"https://docs.opencv.org/trunk/d7/d1b/group__imgproc__misc.html#ga909c1dda50efcbeaa3ce126be862b37f\" rel=\"nofollow noreferrer\"><code>cv2.grabCut</code></a> on an image, as in</p>\n\n<pre><code>import cv2    \n\ncv2.grabCut(image,\n            mask,\n            None,\n            bgd_model,\n            fgd_model,\n            5,\n            cv2.GC_INIT_WITH_MASK)\n</code></pre>\n\n<p>which fails in the case of images which are somehow too small for it to compute anything. In these cases, the error thrown by OpenCV is</p>\n\n<pre><code>cv2.error: /tmp/opencv3-20170714-64983-13zymq9/opencv-3.2.0/modules/imgproc/src/grabcut.cpp:379: error: (-215) !bgdSamples.empty() &amp;&amp; !fgdSamples.empty() in function initGMMs\n</code></pre>\n\n<p>Now, I need to write a unit test that checks this really happens and I'm using <a href=\"https://docs.python.org/2/library/unittest.html#unittest.TestCase.assertRaises\" rel=\"nofollow noreferrer\"><code>unittest</code></a> for it. How would I go about catching this error? <code>assertRaises</code> isn't looking promising for the job.</p>\n"}, {"tags": ["python", "django", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 15015, "user_id": 1191635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I8bEt.jpg?s=128&g=1", "display_name": "Armeen Harwood", "link": "https://stackoverflow.com/users/1191635/armeen-harwood"}, "edited": false, "score": 0, "creation_date": 1516232524, "post_id": 48311684, "comment_id": 83609348, "body": "I&#39;ve updated the question, as I think I miscommunicated the problem."}, {"owner": {"reputation": 15015, "user_id": 1191635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I8bEt.jpg?s=128&g=1", "display_name": "Armeen Harwood", "link": "https://stackoverflow.com/users/1191635/armeen-harwood"}, "edited": false, "score": 1, "creation_date": 1516232580, "post_id": 48311684, "comment_id": 83609358, "body": "Stories maybe have a length but not when filtered by published/draft status"}, {"owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "reply_to_user": {"reputation": 15015, "user_id": 1191635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I8bEt.jpg?s=128&g=1", "display_name": "Armeen Harwood", "link": "https://stackoverflow.com/users/1191635/armeen-harwood"}, "edited": false, "score": 0, "creation_date": 1516283434, "post_id": 48311684, "comment_id": 83630890, "body": "Right, and I can&#39;t think of a &quot;template&quot; solution for that. But you could do a &quot;custom filter&quot;, or directly pass the published stories to the template."}], "tags": [], "owner": {"reputation": 10371, "user_id": 3322400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/l3BGk.jpg?s=128&g=1", "display_name": "Lo&#239;c", "link": "https://stackoverflow.com/users/3322400/lo%c3%afc"}, "is_accepted": false, "score": 1, "last_activity_date": 1516232458, "last_edit_date": 1516232458, "creation_date": 1516231812, "answer_id": 48311684, "question_id": 48311586, "link": "https://stackoverflow.com/questions/48311586/how-to-handle-for-if-loops-from-jinja2-in-django-tempates/48311684#48311684", "title": "How to handle for/if loops from Jinja2 in Django Tempates", "body": "<p>There is some doc for django template system :</p>\n\n<p><a href=\"https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#if\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#if</a></p>\n\n<p>And this should do :</p>\n\n<pre><code>{% if stories|length %}\n    {% for story in stories %}\n        {%  if story.status == \"published\" %}\n            &lt;h1&gt; {{story.title}} &lt;/h1&gt;\n        {% endif %}\n    {% endfor %}\n{% else %}\n    &lt;p&gt;Nothing to see here.&lt;/p&gt;\n{% endif %}\n</code></pre>\n"}], "owner": {"reputation": 15015, "user_id": 1191635, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I8bEt.jpg?s=128&g=1", "display_name": "Armeen Harwood", "link": "https://stackoverflow.com/users/1191635/armeen-harwood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1516232497, "creation_date": 1516231283, "last_edit_date": 1516232497, "question_id": 48311586, "link": "https://stackoverflow.com/questions/48311586/how-to-handle-for-if-loops-from-jinja2-in-django-tempates", "title": "How to handle for/if loops from Jinja2 in Django Tempates", "body": "<p>Working on a legacy project where we're using django templates.\nHow can I translate this for/if syntax from Jinja2 to django:</p>\n\n<p>This Jinja example works as intended but syntax error out in django:</p>\n\n<pre><code> {% for story in stories if story.status == \"draft\"  %}\n    &lt;h1&gt; {{story.title}} &lt;/h1&gt;\n {% empty %}\n   &lt;p&gt; No drafts to see here&lt;/p&gt;\n {% endfor %}\n\n {% for story in stories if story.status == \"published\"  %}\n    &lt;h1&gt; {{story.title}} &lt;/h1&gt;\n {% empty %}\n   &lt;p&gt; No published stories to see here&lt;/p&gt;\n {% endfor %}\n</code></pre>\n\n<p>This will not work with <code>{% empty %}</code> because the if statement is inside \nthe scope of the for loop.</p>\n\n<pre><code> {% for story in stories %}\n    {%  if story.status == \"draft\" %}\n      &lt;h1&gt; {{story.title}} &lt;/h1&gt;\n    {% endif %}\n {% empty %}\n   &lt;p&gt; No drafts to see here&lt;/p&gt;\n {% endfor %}\n\n {% for story in stories %}\n    {%  if story.status == \"published\" %}\n      &lt;h1&gt; {{story.title}} &lt;/h1&gt;\n    {% endif %}\n {% empty %}\n   &lt;p&gt;No published stories&lt;/p&gt;\n {% endfor %}\n</code></pre>\n"}, {"tags": ["python", "zipfile", "epub"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9122680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-czP5_iPzTIE/AAAAAAAAAAI/AAAAAAAACSw/oZp_j28k924/photo.jpg?sz=128", "display_name": "Hal Motley", "link": "https://stackoverflow.com/users/9122680/hal-motley"}, "edited": false, "score": 0, "creation_date": 1516236769, "post_id": 48311773, "comment_id": 83610357, "body": "It indeed works nicely for &lt;code&gt;mimetype&lt;/code&gt; and I feel like I am a third of the way to solving this problem. I am stumped on the two directories &lt;code&gt;META-INF&lt;/code&gt; and &lt;code&gt;OEBPS&lt;/code&gt;."}], "tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232533, "creation_date": 1516232533, "answer_id": 48311773, "question_id": 48311513, "link": "https://stackoverflow.com/questions/48311513/how-to-move-files-into-the-root-of-a-zip-archive/48311773#48311773", "title": "How to move files into the root of a zip archive?", "body": "<pre><code>&gt;&gt;&gt; z = ZipFile('test', 'w')\n&gt;&gt;&gt; help(z.write)\nHelp on method write in module zipfile:\n\nwrite(self, filename, arcname=None, compress_type=None) method of zipfile.ZipFile instance\n    Put the bytes from filename into the archive under the name\n    arcname.\n</code></pre>\n\n<p>There's a second argument to <code>.write</code> for zip files that indicates the name of where to store the file within the zip.  So, for your example, <code>zf.write(data[\"fileName\"] + '/mimetype', 'mimetype')</code> ought to do the trick.</p>\n"}], "owner": {"reputation": 1, "user_id": 9122680, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-czP5_iPzTIE/AAAAAAAAAAI/AAAAAAAACSw/oZp_j28k924/photo.jpg?sz=128", "display_name": "Hal Motley", "link": "https://stackoverflow.com/users/9122680/hal-motley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1067, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1516240477, "creation_date": 1516230878, "last_edit_date": 1516240477, "question_id": 48311513, "link": "https://stackoverflow.com/questions/48311513/how-to-move-files-into-the-root-of-a-zip-archive", "title": "How to move files into the root of a zip archive?", "body": "<p>So I finally figured out the main problem with my GenEpub.py program and why while it produces deflated, valid zip files as demonstrated by both <code>zip -t</code> and <code>zipinfo</code>, it fails the ultimate test of <code>epubcheck</code>.</p>\n\n<p>The problem is as follows, the script below writes the whole folder called in this case <code>IdealogicalEcho</code>, then zips it up and names the zip file itself <code>IdealogicalEcho.epub</code>, as instructed. <code>epubcheck</code> however cannot see past this folder and then reports that none of the three core ePub files <code>mimetype META-INF OEBPS</code> can be found.</p>\n\n<p>Is there a way of moving these files to the root of the zip directory? Either before or after zipping?</p>\n\n<p><a href=\"https://github.com/inferno986return/Damore-essay-ebook\" rel=\"nofollow noreferrer\">https://github.com/inferno986return/Damore-essay-ebook</a></p>\n\n<p>Here's the current version of <code>EpubGen.py</code>:</p>\n\n<pre><code>#!/usr/bin/env python\n\n#GenEpub.py - Generates an .epub file from the data provided.\n#Ideally with no errors or warnings from epubcheck (needs to be implemented, maybe with the Python wrapper).\n\nimport os\nimport json\nimport zipfile\n\nwith open('metadata.json') as json_file:\n   data = json.load(json_file)\n\n#The ePub standard requires deflated compression and a compression order.\nzf = zipfile.ZipFile(data[\"fileName\"] + '.epub', mode='w', compression=zipfile.ZIP_STORED)\n\nzf.write(data[\"fileName\"] + '/mimetype')\n\nfor dirname, subdirs, files in os.walk(data[\"fileName\"] + '/META-INF'):\n    zf.write(dirname)\n    for filename in files:\n        zf.write(os.path.join(dirname, filename))\n\nfor dirname, subdirs, files in os.walk(data[\"fileName\"] + '/OEBPS'):\n    zf.write(dirname)\n    for filename in files:\n        zf.write(os.path.join(dirname, filename))\n\nzf.close()\n\n#zipfile has a built-in validator for debugging\nwith open(data[\"fileName\"] + '.epub','r') as f:\n    if zipfile.is_zipfile(f) is True:\n    print(\"ZIP file is valid.\")\n\n#Extra debugging information\n#print(getinfo.compress_type(zf))\n#print(getinfo.compress_size(zf))\n#print(getinfo.file_size(zf))\n</code></pre>\n\n<p>And the <code>metadata.json</code>:</p>\n\n<pre><code>{\n        \"comment1\": \"Metadata.json - Insert the e-book's metadata here. WIP\",\n\n        \"comment2\": \"Technical metadata - This is the where the cover image is specified. Recommended to use ePub V2.0.1 over 3.0 for epubVersion and Reflowable rather than Fixed for textPresentation (unless doing a project that requires a specific layout). mobiCover and generateKindle are currently unused but added for futureproofing.\",\n        \"epubCover\": \"cover.jpg\",\n        \"mobiCover\": \"cover.jpg\",\n        \"fileName\": \"IdealogicalEcho\",\n        \"epubVersion\": \"2.0.1\",\n        \"textPresentation\": \"Reflowable\",\n        \"generateKindle\": \"no\",\n\n        \"comment3\": \"Book metadata - Information about the e-book itself. Language is specified with ISO 639-1. Rights can be worldwide, country specific or under a permissable license such as Creative-Commons SA\",\n        \"title\": \"Google's Idealogical Echochamber: How bias clouds our thinking about diversity and inclusion\",\n        \"creator\": \"James Damore\",\n        \"subject\": \"Academic\",\n        \"publisher\": \"Hal Motley\",\n        \"ISBN\": \"-\",\n        \"language\": \"en\",\n        \"rights\": \"Creative Commons BY-SA 4.0\",\n\n        \"comment4\": \"This is the page order that the e-book has. The first number before the colon is the page order, the second is the indentation, third is the page name and fourth is file itself.\",\n        \"pages\": [\n                {\n                    \"pageNumber\": \"0\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Cover\",\n                    \"fileName\": \"bookcover.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"1\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Title\",\n                    \"fileName\": \"title.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"2\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Indicia\",\n                    \"fileName\": \"indicia.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"3\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"License\",\n                    \"fileName\": \"license.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"4\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Contents\",\n                    \"fileName\": \"toc.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"5\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Foreword\",\n                    \"fileName\": \"foreword.xhtml\"\n                },\n                {\n                    \"pageNumber\": \"6\",\n                    \"indentation\": \"0\",\n                    \"pageName\": \"Article\",\n                    \"fileName\": \"article.xhtml\"\n                }\n            ]\n}\n</code></pre>\n"}, {"tags": ["python", "matlab", "pad"], "comments": [{"owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "edited": false, "score": 0, "creation_date": 1516230072, "post_id": 48311286, "comment_id": 83608638, "body": "Try this: <a href=\"https://stackoverflow.com/questions/35751306/python-how-to-pad-numpy-array-with-zeros\" title=\"python how to pad numpy array with zeros\">stackoverflow.com/questions/35751306/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 6751494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2fe3487e725813a2449a04be8a34a4e5?s=128&d=identicon&r=PG&f=1", "display_name": "shlezz", "link": "https://stackoverflow.com/users/6751494/shlezz"}, "edited": false, "score": 0, "creation_date": 1516231245, "post_id": 48311421, "comment_id": 83609016, "body": "ok great , i have just fixed it to : b=np.pad(a,((0,1),(0,1)),&#39;constant&#39;) and its working well thank you !"}], "tags": [], "owner": {"reputation": 1845, "user_id": 1245694, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/061c75dcdd77111af71482c5a1f7fed0?s=128&d=identicon&r=PG", "display_name": "anishtain4", "link": "https://stackoverflow.com/users/1245694/anishtain4"}, "is_accepted": true, "score": 1, "last_activity_date": 1516230345, "creation_date": 1516230345, "answer_id": 48311421, "question_id": 48311286, "link": "https://stackoverflow.com/questions/48311286/how-to-convert-padarray-post-to-python-pad-function/48311421#48311421", "title": "how to convert padarray post to python pad function", "body": "<pre><code>a=np.array([[1,3,4]])\nb=np.pad(a,((0,1),(0,0)),'constant')\n</code></pre>\n\n<p>Notice that a should be a two dimensional array.\nIf this is confusing, read the documentation:\n<a href=\"https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.pad.html\" rel=\"nofollow noreferrer\">https://docs.scipy.org/doc/numpy-1.13.0/reference/generated/numpy.pad.html</a></p>\n"}], "owner": {"reputation": 91, "user_id": 6751494, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/2fe3487e725813a2449a04be8a34a4e5?s=128&d=identicon&r=PG&f=1", "display_name": "shlezz", "link": "https://stackoverflow.com/users/6751494/shlezz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "accepted_answer_id": 48311421, "answer_count": 1, "score": 0, "last_activity_date": 1516230345, "creation_date": 1516229490, "question_id": 48311286, "link": "https://stackoverflow.com/questions/48311286/how-to-convert-padarray-post-to-python-pad-function", "title": "how to convert padarray post to python pad function", "body": "<p>im having a problem to convert post in matlab padarray to pad function in python,\ni want to do the same in python pad function  :</p>\n\n<pre><code>padded=np.pad(MAT,(1,1),'post');\n</code></pre>\n\n<p>this is not working because there is no post function in python</p>\n\n<p>this is an example in matlab (i want to do the same in python pad function):</p>\n\n<p><a href=\"https://i.stack.imgur.com/hZIzp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hZIzp.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>it will really help me , thank you</p>\n"}, {"tags": ["python", "encryption", "python-3.6", "vigenere"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8180514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d163bd351fd5c9a947ad436ecc895baf?s=128&d=identicon&r=PG&f=1", "display_name": "Hitacha", "link": "https://stackoverflow.com/users/8180514/hitacha"}, "edited": false, "score": 0, "creation_date": 1516300391, "post_id": 48311484, "comment_id": 83641707, "body": "Thank you. I will play around with that."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 3, "user_id": 8180514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d163bd351fd5c9a947ad436ecc895baf?s=128&d=identicon&r=PG&f=1", "display_name": "Hitacha", "link": "https://stackoverflow.com/users/8180514/hitacha"}, "edited": false, "score": 0, "creation_date": 1516302225, "post_id": 48311484, "comment_id": 83642683, "body": "You&#39;re welcome. Note you may want to add some newline (<code>&quot;\\n&quot;</code>) characters to the <code>printText</code> string to make what gets put into the <code>results</code> list and <code>join()</code>ed more readable. Also please read <a href=\"http://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>."}], "tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 0, "last_activity_date": 1516302008, "last_edit_date": 1516302008, "creation_date": 1516230685, "answer_id": 48311484, "question_id": 48311259, "link": "https://stackoverflow.com/questions/48311259/vigen%c3%a8re-cipher-how-to-make-it-so-that-the-encrypted-message-appears-in-a-print/48311484#48311484", "title": "Vigen&#232;re cipher: How to make it so that the encrypted message appears in a print function?", "body": "<p>You can gather the results in a <code>list</code> and then <code>join()</code> them all into a single string at the end after the <code>for</code> loop. See the comments for the changes.</p>\n\n<pre><code>...\nresults = []  # ADDED.\n\n# Iterate though the range and therefor show all the letters\nfor i in ran:\n    # get current letters for this iteration\n    currentLetter = message[i]\n    currentKeyLetter = key[i % len(key)]\n\n    # Get corresponding numbers\n    numberLetter = ord(currentLetter)\n    numberKeyLetter = ord(currentKeyLetter)\n\n    # Add two letters\n    sumTwoLetters = numberLetter + numberKeyLetter\n\n    # Get the number of the encrypted letter\n    newNumberLetter = sumTwoLetters % 128\n    # Get the encrypted number based on number\n    newLetter = chr(newNumberLetter)\n\n    # print out the result\n    printText = currentLetter + \"(\" + str(numberLetter) + \") + \"\n    printText += currentKeyLetter + \"(\" + str(numberKeyLetter) + \") = \"\n    printText += newLetter + \"(\" + str(newNumberLetter) + \")\"\n    results.append(printText)  # PUT IN results LIST INSTEAD OF PRINTING.\n\nprint(''.join(results))  # ADDED.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8180514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d163bd351fd5c9a947ad436ecc895baf?s=128&d=identicon&r=PG&f=1", "display_name": "Hitacha", "link": "https://stackoverflow.com/users/8180514/hitacha"}, "edited": false, "score": 0, "creation_date": 1516300440, "post_id": 48311489, "comment_id": 83641734, "body": "Thank you. I will try it. I will keep you posted."}], "tags": [], "owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1516230707, "creation_date": 1516230707, "answer_id": 48311489, "question_id": 48311259, "link": "https://stackoverflow.com/questions/48311259/vigen%c3%a8re-cipher-how-to-make-it-so-that-the-encrypted-message-appears-in-a-print/48311489#48311489", "title": "Vigen&#232;re cipher: How to make it so that the encrypted message appears in a print function?", "body": "<p>There are two easy ways. Either (1) build the string inside the loop and print it outside the loop, or (2) print each character as you move through the loop but without newlines, plus one newline after the loop. </p>\n\n<p>Try one of those approaches and if you need more help, add a comment. You'll learn more by trying it yourself!</p>\n"}], "owner": {"reputation": 3, "user_id": 8180514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d163bd351fd5c9a947ad436ecc895baf?s=128&d=identicon&r=PG&f=1", "display_name": "Hitacha", "link": "https://stackoverflow.com/users/8180514/hitacha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 48311484, "answer_count": 2, "score": 0, "last_activity_date": 1516302008, "creation_date": 1516229298, "last_edit_date": 1516229856, "question_id": 48311259, "link": "https://stackoverflow.com/questions/48311259/vigen%c3%a8re-cipher-how-to-make-it-so-that-the-encrypted-message-appears-in-a-print", "title": "Vigen&#232;re cipher: How to make it so that the encrypted message appears in a print function?", "body": "<p>I'm a beginner in coding and in Python too. Right now I'm working on a <a href=\"https://en.wikipedia.org/wiki/Vigen%C3%A8re_cipher\" rel=\"nofollow noreferrer\">Vigen\u00e8re cipher</a>.</p>\n\n<p>I've gotten far enough to encrypt the message using a key. I added comments on each section of code for reference. Here is my code. My question is below the code.</p>\n\n<pre><code># Ask user for message\nprint('type a message.')\nmessage = input()\n\n# print a white line for neatness\nprint()\n\n# ask user for a key\nprint('give your key')\nkey = input()\n\n# create a range with the length of the message\nran = range(len(message))\n\n# Iterate though the range and therefor show all the letters\nfor i in ran:\n    # get current letters for this iteration\n    currentLetter = message[i]\n    currentKeyLetter = key[i % len(key)]\n\n    # Get corresponding numbers\n    numberLetter = ord(currentLetter)\n    numberKeyLetter = ord(currentKeyLetter)\n\n    # Add two letters\n    sumTwoLetters = numberLetter + numberKeyLetter\n\n    # Get the number of the encrypted letter\n    newNumberLetter = sumTwoLetters % 128\n    # Get the encrypted number based on number\n    newLetter = chr(newNumberLetter)\n\n    # print out the result\n    printText = currentLetter + \"(\" + str(numberLetter) + \") + \"\n    printText += currentKeyLetter + \"(\" + str(numberKeyLetter) + \") = \"\n    printText += newLetter + \"(\" + str(newNumberLetter) + \")\"\n    print(printText)\n</code></pre>\n\n<p>The code asks for the user's input for the message and key. The <code>ran</code> variable creates a range with the length of the message.</p>\n\n<p>After that, the <code>for</code> loop encrypts the message with the key using <code>ord</code> and <code>chr</code></p>\n\n<p>The encrypted letter is stored in the variable <code>newLetter</code>\nthe user can see what the program has done with <code>printText</code></p>\n\n<p>However, my question is: How can I make the encrypted text appear on a single string. I tried to do it in a loop. I failed miserably (so much so that I don't want to show it)</p>\n\n<p>Does anyone have any suggestions on how to make the encrypted message appear in a single line of text?</p>\n"}, {"tags": ["python", "xbee"], "comments": [{"owner": {"reputation": 10869, "user_id": 266392, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/173e2caa17a8522cae442e23e7879921?s=128&d=identicon&r=PG", "display_name": "tomlogic", "link": "https://stackoverflow.com/users/266392/tomlogic"}, "edited": false, "score": 0, "creation_date": 1516295723, "post_id": 48311247, "comment_id": 83639048, "body": "Why do you need to read the routing details?  The mesh network is transparent to network operation.  The coordinator can discover all 5 nodes and address them directly.  Lower levels of the networking protocol handle route discovery and ensuring the message gets to the destination node."}], "answers": [{"tags": [], "owner": {"reputation": 138, "user_id": 3902007, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/63261e0acd39dc42de7deba43a2645b0?s=128&d=identicon&r=PG&f=1", "display_name": "cdjackson", "link": "https://stackoverflow.com/users/3902007/cdjackson"}, "is_accepted": false, "score": 0, "last_activity_date": 1517161946, "creation_date": 1517161946, "answer_id": 48489548, "question_id": 48311247, "link": "https://stackoverflow.com/questions/48311247/mesh-networking-zigbee/48489548#48489548", "title": "Mesh networking zigbee", "body": "<p>There are a number of ZDO calls that can be used to gather information on the ZigBee network topology and health. </p>\n\n<p>The <code>Management Routing Request</code> call gets the routing table from each device. This lists the route through that device to an end destination - ie it will show the next hop to a final destination. By gathering these tables from all devices, you can build the routing table and map the available routes through the network.</p>\n\n<p>The <code>Management LQI Request</code> call gets the neighbor table from each device. This is not strictly the routing table, but will provide the link quality for each neighbor. This is the quality of the signal received by the node. Again, by gathering this information for all devices, you can build a map of the network with link quality.</p>\n\n<p>It's also worth noting that many coordinators will provide route details when they send a message. The ZDO requests will need to be polled periodically and this can generate a considerable amount of network traffic if not performed carefully.</p>\n"}], "owner": {"reputation": 1, "user_id": 8826206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/414511ada64141c9c2981aec4ef48d4b?s=128&d=identicon&r=PG&f=1", "display_name": "RC10", "link": "https://stackoverflow.com/users/8826206/rc10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1517161946, "creation_date": 1516229244, "question_id": 48311247, "link": "https://stackoverflow.com/questions/48311247/mesh-networking-zigbee", "title": "Mesh networking zigbee", "body": "<p>I have a mesh network with 5 routers and 1 coordinator. The data from the coordinator is sent to database in pi and then hosted to website. When i try to read the routing table information from the coordinator , i see that all routers are connected to coordinator(star network) but when i see the flow diagram on XCTU i can see the mesh network. How can i read the routing details and update on the database? the database needs to be updated as and when the routing changes. In python should i handle this?</p>\n"}, {"tags": ["python", "streaming", "webm", "mediarecorder-api"], "comments": [{"owner": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1516229860, "post_id": 48311244, "comment_id": 83608573, "body": "Just how &quot;real time&quot; is this? Does it start analyzing before the student has finished recording? How much are you doing client versus server side?"}, {"owner": {"reputation": 61, "user_id": 1870573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2ee6ecaf961ebcf17b73a420ef67a5?s=128&d=identicon&r=PG", "display_name": "Nicolas Girault", "link": "https://stackoverflow.com/users/1870573/nicolas-girault"}, "reply_to_user": {"reputation": 2261, "user_id": 8544123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f32b871be77d8c71efc294359b300367?s=128&d=identicon&r=PG&f=1", "display_name": "Acccumulation", "link": "https://stackoverflow.com/users/8544123/acccumulation"}, "edited": false, "score": 0, "creation_date": 1516266448, "post_id": 48311244, "comment_id": 83620281, "body": "Thanks @Acccumulation I edited the question to be clearer. For client/server I don&#39;t understand well what is the question. What I can say is that the full analysis won&#39;t be do-able on the front. However, for now I&#39;m ready to perform all the pretreatment on front (encoding in another format etc.)."}], "owner": {"reputation": 61, "user_id": 1870573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff2ee6ecaf961ebcf17b73a420ef67a5?s=128&d=identicon&r=PG", "display_name": "Nicolas Girault", "link": "https://stackoverflow.com/users/1870573/nicolas-girault"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 2, "answer_count": 0, "score": 4, "last_activity_date": 1516266504, "creation_date": 1516229217, "last_edit_date": 1516266504, "question_id": 48311244, "link": "https://stackoverflow.com/questions/48311244/how-to-handle-real-time-media-analysis-on-a-web-server", "title": "How to handle real time media analysis on a web server?", "body": "<p><strong>The use case</strong>: I'm developing a web app to help students learn to read. The student is recorded while reading a text on a web app. The signal is sent by segment of 200ms to the backend and analysed before the student finishes reading to give live feedback during the reading. The server will send feedback after each segment analysis.</p>\n\n<p>On the web app the code looks like this:</p>\n\n<pre><code>navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n.then(stream =&gt; {\n    const mediaRecorder = new MediaRecorder(stream)\n    mediaRecorder.start(200)\n\n    mediaRecorder.ondataavailable = event =&gt; {\n        socket.emit('my_event', Blob([event.data]))\n    }\n})\n</code></pre>\n\n<p>On chrome, the media type produced is webm. <strong>I'm wondering how to handle the data on the backend so that I can analyse the media with numpy before the end of the recording.</strong></p>\n\n<p>For now I couldn't find a better way than something like:</p>\n\n<pre><code>from pydub import AudioSegment\ndef blobToSignal(blob, is_first_sequence):\n    webm_header = b'\\x1aE...'\n    fp = tempfile.NamedTemporaryFile()\n    fp.write(blob) if is_first_sequence else fp.write(webm_header + blob)\n    fp.seek(0)\n    samples = AudioSegment.from_file(fp.name, 'webm').get_array_of_samples()\n    fp.close()\n    return samples # this is almost a numpy array (analyzable)\n</code></pre>\n\n<p>I tried to change the front to return a Float32Array instead of a webm:</p>\n\n<pre><code>navigator.mediaDevices.getUserMedia({ audio: true, video: false })\n.then(stream =&gt; {\n    audio_context = new AudioContext()\n    var audioInput = audio_context.createMediaStreamSource(stream)\n    var recorder = audio_context.createScriptProcessor(8096, 1, 1)\n    recorder.onaudioprocess = event =&gt; {\n        socket.emit(\n            'my_event',\n            Array.from(event.inputBuffer.getChannelData(0))\n        )\n    }\n    audioInput.connect(recorder)\n    recorder.connect(audio_context.destination)\n</code></pre>\n\n<p>So that the backend can use the raw signal but this method requires a too high bandwidth (~1Mb/s).</p>\n\n<p>So my questions are:</p>\n\n<ul>\n<li>am I doing something wrong here?</li>\n<li>is there a Python librairy to decode a webm coming from a Buffer? (or something similar? I'm not so familiar with Python...)</li>\n<li>how would you handle this use case?</li>\n</ul>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229138, "post_id": 48311185, "comment_id": 83608277, "body": "Try Revo Uninstaller?"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516230033, "post_id": 48311185, "comment_id": 83608623, "body": "I try to avoid installing excess programs. I used GeekUninstaller (which is portable) and there I can see only Python 3.X. This version I need."}, {"owner": {"reputation": 17342, "user_id": 763269, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/0c27474bcff67974d6a9fcb43cb7ba4e?s=128&d=identicon&r=PG", "display_name": "Chris Johnson", "link": "https://stackoverflow.com/users/763269/chris-johnson"}, "edited": false, "score": 0, "creation_date": 1516230565, "post_id": 48311185, "comment_id": 83608795, "body": "Do you need to uninstall it, or do you just need a different version to be available for use on that machine? Those are not the same thing."}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516231168, "post_id": 48311185, "comment_id": 83608986, "body": "Well... I need 3.6 to open some script. Earlier versions can stay."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1516238010, "post_id": 48311185, "comment_id": 83610659, "body": "maybe check the location where Python <i>is</i> installed and being used (this answer should help get that: <a href=\"https://stackoverflow.com/a/647798/1248974\">How can I get Python path under Windows?</a>), then navigate to that location and see if there is an &quot;uninstall&quot; executable. Also, inspecting the installed programs in &quot;Control Panel&quot; might be helpful."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516243601, "post_id": 48311185, "comment_id": 83611930, "body": "If there is no uninstallation option, then you can find that versions installer, reinstall it, then perform an uninstallation"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516257353, "post_id": 48311185, "comment_id": 83615758, "body": "@cricket_007 Like Saint Thomas... <a href=\"https://vgy.me/UWil4G.png\" rel=\"nofollow noreferrer\">vgy.me/UWil4G.png</a>"}], "answers": [{"comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229208, "post_id": 48311228, "comment_id": 83608312, "body": "<a href=\"https://meta.stackexchange.com/questions/8231/are-answers-that-just-contain-links-elsewhere-really-good-answers\" title=\"are answers that just contain links elsewhere really good answers\">meta.stackexchange.com/questions/8231/&hellip;</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229226, "post_id": 48311228, "comment_id": 83608318, "body": "<a href=\"https://meta.stackexchange.com/questions/225370/your-answer-is-in-another-castle-when-is-an-answer-not-an-answer\" title=\"your answer is in another castle when is an answer not an answer\">meta.stackexchange.com/questions/225370/&hellip;</a>"}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229310, "post_id": 48311228, "comment_id": 83608352, "body": "i am sorry, but it helpfull"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229397, "post_id": 48311228, "comment_id": 83608388, "body": "The content of your answer should then cover the steps <b>and</b> provide the link. You are welcome to edit to update it"}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229888, "post_id": 48311228, "comment_id": 83608584, "body": "I Fixed it to your standards"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 1, "creation_date": 1516229910, "post_id": 48311228, "comment_id": 83608592, "body": "I want to point that in Python 2.5.4 installer there is <b>no</b> uninstaller option.   This Python mess is probably created or/and augumented by the fact that installed Anki (which uses Python 2.5) and AmeSIM (which uses Python 2.7).  On top of that, today I installed Python 3.X.  I need only Python 3.X. What should I do?"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516230997, "post_id": 48311228, "comment_id": 83608938, "body": "2.5 and 2.7 were installed by other programs in the past.  I also installed 2.5, 3.5, 3.7 manually recently."}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516231063, "post_id": 48311228, "comment_id": 83608960, "body": "can you specify?"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516231677, "post_id": 48311228, "comment_id": 83609126, "body": "What do you mean? What kind of data should I provide?"}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516231743, "post_id": 48311228, "comment_id": 83609143, "body": "some screenshots may be helpful"}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516231997, "post_id": 48311228, "comment_id": 83609199, "body": "Can you recommend what I should type in cmd?  I&#39;m fighting with this: <a href=\"https://www.reddit.com/r/Xiaomi/comments/7r2ed5/yeelight_app_alternative/dstq4b8/\" rel=\"nofollow noreferrer\">reddit.com/r/Xiaomi/comments/7r2ed5/yeelight_app_alternative&zwnj;&#8203;/&hellip;</a>  To be more precise: <a href=\"https://nofile.io/f/v3ZyK3j9Wtp/fluxee-master.zip\" rel=\"nofollow noreferrer\">nofile.io/f/v3ZyK3j9Wtp/fluxee-master.zip</a>  This doesn&#39;t work with Python 2.X."}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516257408, "post_id": 48311228, "comment_id": 83615777, "body": "@Hippolippo just check my comment before yours"}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516283974, "post_id": 48311228, "comment_id": 83631247, "body": "If the reason that you want to uninstall the old version is because the code doesn&#39;t work in it, then run it with the new version, if you do not no how I can post another answer that shows how."}, {"owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "edited": false, "score": 0, "creation_date": 1516327048, "post_id": 48311228, "comment_id": 83651709, "body": "I would appreciate any help. Thanks in advance."}], "tags": [], "owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "is_accepted": false, "score": 1, "last_activity_date": 1516229866, "last_edit_date": 1516229866, "creation_date": 1516229147, "answer_id": 48311228, "question_id": 48311185, "link": "https://stackoverflow.com/questions/48311185/how-do-i-uninstall-python-2-5-4-x86-on-win-7/48311228#48311228", "title": "How do I uninstall Python 2.5.4 x86 on Win 7?", "body": "<p>You start by running the installer for the python that you want to remove (python 2.5.4)<br><br>\nThen, you click remove python 2.5.4 and click finished<br><br>Next, go to Windows Control Panel and click Programs and Features<br><br>After that, find python 2.5.4 and uninstall it</p>\n\n<p><a href=\"https://www.wikihow.com/Uninstall-Python\" rel=\"nofollow noreferrer\">wikihow.com/Uninstall-Python</a></p>\n"}], "owner": {"reputation": 11, "user_id": 9232060, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e5a8faa10fe5657809afad6337dc8f7?s=128&d=identicon&r=PG&f=1", "display_name": "John Smith", "link": "https://stackoverflow.com/users/9232060/john-smith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516229866, "creation_date": 1516228893, "question_id": 48311185, "link": "https://stackoverflow.com/questions/48311185/how-do-i-uninstall-python-2-5-4-x86-on-win-7", "title": "How do I uninstall Python 2.5.4 x86 on Win 7?", "body": "<p>I've got the problem with Python 2.5.4 x86 on Win 7.</p>\n\n<p>Unfortunately, my installer doesn't offer uninstallation.</p>\n\n<p>I played around with installing many python version, but I finally need only 3.X and \"magically\" there is this Python 2.5.4.</p>\n\n<p>What can I do?</p>\n"}, {"tags": ["python", "python-3.x", "graph", "graphviz", "dot"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9232038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kknMBvw3Yok/AAAAAAAAAAI/AAAAAAAAAEo/DKr09rnnvy8/photo.jpg?sz=128", "display_name": "Matt Kremer", "link": "https://stackoverflow.com/users/9232038/matt-kremer"}, "edited": false, "score": 0, "creation_date": 1516279901, "post_id": 48311836, "comment_id": 83628719, "body": "sorry, I should&#39;ve emphasized the need for <b>updating it in the same window</b>.  The issue with g.view() is that it opens a new file every time in a separate viewer.  g.render() is the one I&#39;m currently using to save the file, but the end goal is to have one image/pdf/output view of some kind that just has the edges/nodes disappear/reappear as they are modified in a separate function"}, {"owner": {"reputation": 443, "user_id": 3897027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be7b3bb3739cfa418020c9477a04bbc?s=128&d=identicon&r=PG&f=1", "display_name": "domochevski", "link": "https://stackoverflow.com/users/3897027/domochevski"}, "reply_to_user": {"reputation": 11, "user_id": 9232038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kknMBvw3Yok/AAAAAAAAAAI/AAAAAAAAAEo/DKr09rnnvy8/photo.jpg?sz=128", "display_name": "Matt Kremer", "link": "https://stackoverflow.com/users/9232038/matt-kremer"}, "edited": false, "score": 0, "creation_date": 1516291522, "post_id": 48311836, "comment_id": 83636430, "body": "Your poc makes it clearer what you want indeed. However, from what I could gather, there are no such visualizer for the moment. Most projects that exist on github and come close to your requirements &quot;simply&quot; use PyQt to display the image file that is being refreshed over and over. So all in all the solution you found with JPEGViewer is the easiest to implement. Still you might want to have a try at PyQt if you want an all included solution."}], "tags": [], "owner": {"reputation": 443, "user_id": 3897027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be7b3bb3739cfa418020c9477a04bbc?s=128&d=identicon&r=PG&f=1", "display_name": "domochevski", "link": "https://stackoverflow.com/users/3897027/domochevski"}, "is_accepted": false, "score": 0, "last_activity_date": 1516232984, "creation_date": 1516232984, "answer_id": 48311836, "question_id": 48311177, "link": "https://stackoverflow.com/questions/48311177/dot-file-viewer-for-live-updates-from-python-through-graphviz/48311836#48311836", "title": "Dot file viewer for live updates from python (Through GraphViz)", "body": "<p>Since your question is not really clear, may I ask if you only wish to visualize the result of your python script? Are you looking for a python library to manage and visualize graphs? Do you want to do more with your graphs?\nIf your goal is simply to build graphs and display the result, why not stick with graphviz and use the <a href=\"https://graphviz.readthedocs.io/en/stable/index.html\" rel=\"nofollow noreferrer\">GraphViz</a> python module. It allows you to build from very simple to advanced graphs and render the result in different formats.\nA simple example extracted from the documentation:</p>\n\n<pre><code>from graphviz import Digraph\n\n# Create a directed graph\ng = Digraph('G', filename='graph.gv', format='png')\n\n# Add an edge between two nodes\n# The nodes are created on the fly\ng.edge('Hello', 'World')  \n\n# Display the result\ng.view()\n# Render/save to disk\ng.render()\n</code></pre>\n\n<p>Hope this helps in your endeavor.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9232038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kknMBvw3Yok/AAAAAAAAAAI/AAAAAAAAAEo/DKr09rnnvy8/photo.jpg?sz=128", "display_name": "Matt Kremer", "link": "https://stackoverflow.com/users/9232038/matt-kremer"}, "is_accepted": false, "score": 0, "last_activity_date": 1516280202, "creation_date": 1516280202, "answer_id": 48321922, "question_id": 48311177, "link": "https://stackoverflow.com/questions/48311177/dot-file-viewer-for-live-updates-from-python-through-graphviz/48321922#48321922", "title": "Dot file viewer for live updates from python (Through GraphViz)", "body": "<p>Here is what ended up working in the end.  I outputted the file as a 'png' rather than a .dot file (though I believe any image filetype would work), and then found a tool online called \"<a href=\"https://sourceforge.net/projects/jpegview/\" rel=\"nofollow noreferrer\">JPEGViewer</a>\" that will automatically update a file in the same window if the file is changed somewhere else.  The poc code below changes an arrow from black to green and back repeatedly, and then I can use JPEGViewer on the output file to accomplish the task.</p>\n\n<pre><code>from graphviz import Digraph\nfrom time import sleep\n\ndot = Digraph(comment='The Round Table', format='png', strict=True)\n\ndot.node('A', 'one', color=\"red\")\ndot.node('B', 'two', color=\"red\")\ndot.node('C', 'three', color=\"red\")\ndot.node('D', 'four', color=\"red\")\ndot.node('E', 'five', color=\"red\")\ndot.node('F', 'six', color=\"red\")\ndot.node('G', 'device1', color=\"sienna\")\ndot.node('H', 'device2', color=\"green\")\n\n\n\n\ndot.edges(['AB', 'AG', 'AD', 'AE', 'BH', 'BC', 'BF'])\ndot.edges(['BA', 'GA', 'DA', 'EA', 'HB', 'CB', 'FB'])\ndot.edges(['CD', 'DC', 'EF', 'FE'])\n\n\n\nwhile (True):\n    dot.edge('H', 'B', color=\"black\")\n    sleep(.5)\n    dot.render(\"TestGraphLiveUpdate\")\n    dot.view()\n    dot.edge('H', 'B', color=\"green\")\n    sleep(.5)\n    dot.render(\"TestGraphLiveUpdate\")\n    dot.view()\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9232038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kknMBvw3Yok/AAAAAAAAAAI/AAAAAAAAAEo/DKr09rnnvy8/photo.jpg?sz=128", "display_name": "Matt Kremer", "link": "https://stackoverflow.com/users/9232038/matt-kremer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1712, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516280202, "creation_date": 1516228840, "question_id": 48311177, "link": "https://stackoverflow.com/questions/48311177/dot-file-viewer-for-live-updates-from-python-through-graphviz", "title": "Dot file viewer for live updates from python (Through GraphViz)", "body": "<p>I'm trying to find a way to visualize a directed graph of nodes in a way such that I can run a script in Python that modifies the graph, and in turn, outputs a new graph.  The goal is really to be able to programmatically add and remove edges from the graph in real time.  </p>\n\n<p>My current implementation is using GraphViz and Python 3.6 on a Windows box, and outputting it into a .dot file.  I found a viewer online under a Github project by the name of \"gvuv\", but it doesn't support Python 3.6.  </p>\n\n<p>My graph is currently defined by a dictionary of sets, where each key in the dictionary is a node, and each value is a set containing all nodes with a directed edge.  If anyone has a different way of viewing this information, please let me know as well.</p>\n\n<p>Example graph:</p>\n\n<pre><code>graph = { \"a\" : set(\"c\"),\n      \"b\" : set(\"c\", \"e\"),\n      \"c\" : set(\"a\", \"b\", \"d\", \"e\"),\n      \"d\" : set(\"c\"),\n      \"e\" : set(\"c\", \"b\"),\n      \"f\" : set()\n    } \n</code></pre>\n"}, {"tags": ["python", "python-sphinx", "restructuredtext"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1516228802, "post_id": 48311159, "comment_id": 83608139, "body": "The 3-space rule you&#39;re citing is from a style guide. It&#39;s one project&#39;s style rule."}, {"owner": {"reputation": 1276, "user_id": 9219425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd28593a1ccb28d6e7408b5a2d5df832?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/9219425/tim"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1516356232, "post_id": 48311159, "comment_id": 83662062, "body": "Okay, so is the &quot;project&quot; here official Python documentation? As in, it&#39;s the style guide for documentation on docs.python.org?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1516382595, "post_id": 48311159, "comment_id": 83678579, "body": "Yes. You&#39;re reading the guide for developers working on Python itself."}], "answers": [{"comments": [{"owner": {"reputation": 1276, "user_id": 9219425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd28593a1ccb28d6e7408b5a2d5df832?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/9219425/tim"}, "edited": false, "score": 0, "creation_date": 1516356364, "post_id": 48313531, "comment_id": 83662142, "body": "I know the advice says to &quot;avoid comments like &#39;thanks&#39; &quot;, but this is my first SO question, so...thanks for the advice, and that bonus tip for numbered lists is great! (I appreciate that it both makes working with 4-space indents easier, and gives consistency to the look for no.s 10-99)"}], "tags": [], "owner": {"reputation": 9881, "user_id": 2214933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IrPyi.jpg?s=128&g=1", "display_name": "Steve Piercy", "link": "https://stackoverflow.com/users/2214933/steve-piercy"}, "is_accepted": true, "score": 14, "last_activity_date": 1516247207, "creation_date": 1516247207, "answer_id": 48313531, "question_id": 48311159, "link": "https://stackoverflow.com/questions/48311159/is-3-space-indentation-required-in-rest/48313531#48313531", "title": "Is 3-space indentation required in reST?", "body": "<p>As you have found through your research of the authoritative source and elsewhere, there is no definitive indentation specification, except a minimum of 2 spaces for option lists, and a minimum of 3 spaces for footnotes. See the <a href=\"http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#indentation\" rel=\"noreferrer\">specification on indentation for reStructuredText</a>.</p>\n\n<p>That said, there are some recommendations.</p>\n\n<ol>\n<li>Choose a style and keep it consistent for your documentation.</li>\n<li>IDEs often complain about incorrect indentation, like for docstrings in Python, so using 4 spaces can avoid those warnings.</li>\n<li>IDEs can be set to indent to 4 spaces for code, so why not keep it the same for documentation?</li>\n<li>See my <a href=\"https://stackoverflow.com/a/45683081/2214933\">bonus tip about indenting for numbered lists</a>.</li>\n</ol>\n"}], "owner": {"reputation": 1276, "user_id": 9219425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd28593a1ccb28d6e7408b5a2d5df832?s=128&d=identicon&r=PG&f=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/9219425/tim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1586, "favorite_count": 0, "accepted_answer_id": 48313531, "answer_count": 1, "score": 13, "last_activity_date": 1586244496, "creation_date": 1516228700, "last_edit_date": 1586244496, "question_id": 48311159, "link": "https://stackoverflow.com/questions/48311159/is-3-space-indentation-required-in-rest", "title": "Is 3-space indentation required in reST?", "body": "<p>I'm documenting my Python code using Sphinx, and read <a href=\"https://devguide.python.org/documenting/#style-guide\" rel=\"noreferrer\">in the Python developer's guide</a> (and I think elsewhere as well) that reST files use an indentation of 3 spaces:</p>\n\n<blockquote>\n  <p>All reST files use an indentation of 3 spaces; no tabs are allowed.</p>\n</blockquote>\n\n<p>This is the case for the example I copied for my index file, and some other files where my IDE picked up the 3-space indentation and used it for the whole page. The <code>sphinx-apidoc</code> extension also uses 3 spaces for the <code>modules.rst</code> file it builds.</p>\n\n<p>On the other hand, because Python uses 4-space indentation, all my docstrings are indented with 4 spaces. Moreover the <code>.. automodule::</code> directives generated by <code>sphinx-apidox</code> are indented with 4 spaces.</p>\n\n<p>The point is, it all still <em>works</em>! So I'm left wondering whether the 3-space indentation thing is a requirement, or if it's good practice, but only in terms of style? (And if so, why, when all things Python are 4-space indented?)</p>\n\n<p>Or are there cases where not having 3-space indentation will break my build?</p>\n\n<h2>Other places I've looked</h2>\n\n<ul>\n<li>The <a href=\"http://www.sphinx-doc.org/en/stable/rest.html#rst-primer\" rel=\"noreferrer\">Sphinx reStructuredText Primer</a> doesn't mention a specific number of spaces, only:\n\n<blockquote>\n  <p>As in Python, indentation is significant in reST, so all lines of the same paragraph must be left-aligned to the same level of indentation.</p>\n</blockquote></li>\n<li>This <a href=\"https://stackoverflow.com/questions/18876046/how-can-i-change-the-default-indentation-in-sphinx\">(unanswered) SO question</a>, which is about lists specifically, not spacing generally</li>\n<li>The <a href=\"http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#indentation\" rel=\"noreferrer\">reStructuredText Markup Specification</a> only mentions 3 spaces in reference to <a href=\"http://docutils.sourceforge.net/docs/ref/rst/restructuredtext.html#footnotes\" rel=\"noreferrer\">footnotes</a>.</li>\n<li>This <a href=\"https://github.com/benoitbryon/documentation-style-guide-sphinx/issues/9\" rel=\"noreferrer\">issue on GitHub</a>, though I <em>think</em> this issue here is the mixture of indentation levels for different elements.</li>\n</ul>\n\n<hr>\n\n<p>I'm beginning to think the Python developer's guide might be the anomaly, rather than everything else, especially since in all my searching I've come across basically no discussion of the \"3-or-4 space problem\" when working with Sphinx and Python.</p>\n"}, {"tags": ["javascript", "jquery", "python", "html", "cgi"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1516228752, "post_id": 48311151, "comment_id": 83608115, "body": "any &quot;communication&quot; between client (javascript) and server (pythin) is usually done using AJAX (XMLHttpRequest or fetch on the client side)"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8483647"}, "is_accepted": false, "score": 0, "last_activity_date": 1518300205, "creation_date": 1518300205, "answer_id": 48726029, "question_id": 48311151, "link": "https://stackoverflow.com/questions/48311151/how-to-communicate-between-javascript-and-python-in-a-cgi-script/48726029#48726029", "title": "How to communicate between JavaScript and Python in a CGI script", "body": "<p>AJAX/JQUERY can send the data, JSON for instance, to your python endpoint. But your script is not a server. You need a server a.k.a middleware like apache. POST via AJAX to your server adress:</p>\n\n<pre><code>    $(function(){\n    $.ajax({\n    url: \"ServerAdress/cgi-bin/\" + service.py,\n    type: \"POST\",\n    async:true,\n    data: {key_vehicule: 'mercedes'},\n    success: function(response){\n\n        },\n    error: function(){\n\n        },\n    complete: function(){\n\n        }\n    });\n</code></pre>\n\n<p>Be sure to have your server configured to execute the python script with the python interpeter and all the right it needs. In the python script, just importing the cgi is not enought, you need the to receive the data:</p>\n\n<pre><code>     form = cgi.FieldStorage()\n     vehicule = form.getvalue('key_vehicule')\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 7452543, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/10211311036113433/picture?type=large", "display_name": "Kiran Baktha", "link": "https://stackoverflow.com/users/7452543/kiran-baktha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1102, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518300205, "creation_date": 1516228671, "question_id": 48311151, "link": "https://stackoverflow.com/questions/48311151/how-to-communicate-between-javascript-and-python-in-a-cgi-script", "title": "How to communicate between JavaScript and Python in a CGI script", "body": "<p>I have a CGI script which runs on local host. It has a Python function named compute(argument 1) and prints html tags along with a JavaScript function called onClick which gets called when a button is clicked on the browser. I am not sure how to communicate between JavaScript and Python here. </p>\n\n<p>Here is a snippet of the CGI file </p>\n\n<pre><code>   import cgi\n\n   def worker():\n      #Does something here and returns an python list called data\n   def compute(index) \n       #Does something with data[index] and returns another python list called data2\n   print (\"Content-type: text/html\")\n   print ()\n   print (\"&lt;html&gt;\")\n   print (\"&lt;head&gt;\")\n   print (\"&lt;title&gt;Worker&lt;/title&gt;\")\n   print(\"\"\"&lt;script type = \"text/javascript\"&gt;\n   var count = 0;\n   function onClick(){\n    count = count+1;\n     document.getElementById(\"dis\").innerHTML = count; \n    };\n  &lt;/script&gt;\"\"\")\n   print (\"&lt;/head&gt;\")\n   print (\"&lt;body&gt;\")\n  &lt;button  type = \"button\" class  = \"next\" onclick = \"onClick()\" &gt;Next &amp;rarr; &lt;/button&gt;\n   print(\"\"\"Count: &lt;p id = \"dis\" &gt; 0 &lt;/p&gt;\"\"\")\n   print (\"&lt;/body&gt;\")\n   print (\"&lt;/html&gt;\")\n</code></pre>\n\n<p>My question here is how do I make the JavaScript function OnClick() call the python function compute() by passing variable count as a parameter and then storing the resulting list returned by compute() as a JavaScript variable. It would be better if worker function does not have to be called again. It would be fine to even return a single variable in compute(index) rather than a python list and pass it to JavaScript. Thanks in advance :).</p>\n"}, {"tags": ["python", "tkinter", "zip", "tuples"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 0, "creation_date": 1516229519, "post_id": 48311136, "comment_id": 83608438, "body": "Is some of the top code cut off/ misindented? And are you encountering an Exception? A stack trace, or comparison between actual and expected results would be helpful."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1516229858, "post_id": 48311136, "comment_id": 83608572, "body": "My advice is, never make a GUI non-resizable. Users should have control over their windows."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516229976, "post_id": 48311136, "comment_id": 83608610, "body": "It seems like all these attributes - size, title, resizeable - should be attributes of the classes themselves. Why are you passing them in rather than making them attributes of each page?"}, {"owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516230237, "post_id": 48311136, "comment_id": 83608683, "body": "@BryanOakley hmm... good advice, something to think about."}], "answers": [{"tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 0, "last_activity_date": 1516305117, "last_edit_date": 1516305117, "creation_date": 1516229639, "answer_id": 48311311, "question_id": 48311136, "link": "https://stackoverflow.com/questions/48311136/passing-zipped-tuple-into-function/48311311#48311311", "title": "Passing zipped tuple into function", "body": "<p>Close. Try this: </p>\n\n<pre><code>    self.frames = {}\n    for F,geometry,title,options in zip((StartPage,PageOne,PageTwo,PageThree),\n                                (\"532x279\",\"532x279\",\"254x279\",\"299x620\"),\n                                (\"\",\"Experimental Data\",\"Orientation Distribution\",\"Manifold Embedding\"),\n                                ((False,False),(False,False),(True,True),(True,True))):\n        page_name = F.__name__\n        frame = F(container, self)\n        self.frames[page_name] = (frame,geometry,title,options) #puts all pages in stacked order\n        frame.grid(row=0, column=0, sticky=\"nsew\")\n    self.show_frame(\"StartPage\")\n\ndef show_frame(self, page_name): #show a frame for the given page name\n    frame, geometry, title,options = self.frames[page_name]\n    self.geometry(geometry) #changes between window sizes\n    self.title(title) #window heading\n    self.resizable(*options)\n###########       \n    frame.tkraise() #raises window to top\n</code></pre>\n\n<p>Assuming this is a subclass of <code>Tk()</code>. </p>\n\n<p><code>update_idletasks</code> should not be needed (it's very rarely used). </p>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "edited": false, "score": 0, "creation_date": 1516231484, "post_id": 48311564, "comment_id": 83609082, "body": "wow! thank you so much for your advice!!  this is truly helpful"}], "tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516231167, "creation_date": 1516231167, "answer_id": 48311564, "question_id": 48311136, "link": "https://stackoverflow.com/questions/48311136/passing-zipped-tuple-into-function/48311564#48311564", "title": "Passing zipped tuple into function", "body": "<p>It would be a lot neater to put those options in each Frame's <code>tkraise()</code> method. In order to do that you would need a hook to the root (the Tk() instance). Since you've obfuscated that somewhat with your \"container\" Frame (why?) you need to be sure to pass the root instance along. A simple example: </p>\n\n<pre><code>import tkinter as tk\n\nclass BigWindow(tk.Frame):\n    def __init__(self, master=None, **kwargs):\n        tk.Frame.__init__(self, master, **kwargs)\n        tk.Button(self, text='go to\\nsmall window', command=lambda: master.show_frame(SmallWindow)).pack()\n\n    def tkraise(self):\n        self.master.title('Big Window')\n        self.master.geometry('600x600')\n        self.master.resizable(True, True)\n        tk.Frame.tkraise(self) # raise this Frame\n\nclass SmallWindow(tk.Frame):\n    def __init__(self, master=None, **kwargs):\n        tk.Frame.__init__(self, master, **kwargs)\n        tk.Button(self, text='go to\\nbig window', command=lambda: master.show_frame(BigWindow)).pack()\n\n    def tkraise(self):\n        self.master.title('Small Window')\n        self.master.geometry('200x200')\n        self.master.resizable(False, False)\n        tk.Frame.tkraise(self)\n\nclass Manifold(tk.Tk):\n    def __init__(self, *args, **kwargs):\n        tk.Tk.__init__(self, *args, **kwargs)\n\n        self.frames = {}\n        for F in (SmallWindow, BigWindow):\n            frame = F(self)\n            self.frames[F] = frame\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n        self.show_frame(SmallWindow)\n\n    def show_frame(self, page): #show a frame for the given page\n        self.frames[page].tkraise()\n\nif __name__ == \"__main__\":\n    app = Manifold()\n    app.mainloop()\n</code></pre>\n\n<p>You could make this even cleaner by making a base class for all your other frames to inherit from, and then just setting some variables: </p>\n\n<pre><code>import tkinter as tk\n\nclass AutoSizeFrame(tk.Frame):\n    def tkraise(self):\n        self.master.title(self.title)\n        self.master.geometry(self.geometry)\n        self.master.resizable(*self.resizemodes)\n        tk.Frame.tkraise(self) # raise this Frame\n\nclass BigWindow(AutoSizeFrame):\n    def __init__(self, master=None, **kwargs):\n        tk.Frame.__init__(self, master, **kwargs)\n        self.title = 'Big Window'\n        self.geometry = '600x600'\n        self.resizemodes = (True, True)\n\n        tk.Button(self, text='go to\\nsmall window', command=lambda: master.show_frame(SmallWindow)).pack()\n\nclass SmallWindow(AutoSizeFrame):\n    def __init__(self, master=None, **kwargs):\n        tk.Frame.__init__(self, master, **kwargs)\n        self.title = 'Small Window'\n        self.geometry = '200x200'\n        self.resizemodes = (False, False)\n\n        tk.Button(self, text='go to\\nbig window', command=lambda: master.show_frame(BigWindow)).pack()\n\nclass Manifold(tk.Tk):\n    def __init__(self, *args, **kwargs):\n        tk.Tk.__init__(self, *args, **kwargs)\n\n        self.frames = {}\n        for F in (SmallWindow, BigWindow):\n            frame = F(self)\n            self.frames[F] = frame\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n        self.show_frame(SmallWindow)\n\n    def show_frame(self, page): #show a frame for the given page\n        self.frames[page].tkraise()\n\nif __name__ == \"__main__\":\n    app = Manifold()\n    app.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 9220545, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7XlPS.jpg?s=128&g=1", "display_name": "evambivalence", "link": "https://stackoverflow.com/users/9220545/evambivalence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1516241574, "accepted_answer_id": 48311311, "answer_count": 2, "score": -2, "last_activity_date": 1516305117, "creation_date": 1516228580, "last_edit_date": 1516229771, "question_id": 48311136, "link": "https://stackoverflow.com/questions/48311136/passing-zipped-tuple-into-function", "closed_reason": "Not suitable for this site", "title": "Passing zipped tuple into function", "body": "<p>I have a Class hierarchy where I am trying to switch tkinter windows while retaining specific properties (such as window name, dimensions, resizable, etc.).  I'm having some issues with the resizable part since it takes in two values:</p>\n\n<pre><code>import tkinter as tk                \nfrom tkinter import font as tkfont\n\nclass Manifold(tk.Tk):\n    def __init__(self, *args, **kwargs):\n        tk.Tk.__init__(self, *args, **kwargs)\n\n        container = tk.Frame(self) #container = stack of frames; one on top is visible\n        container.pack(side=\"top\", fill=\"both\", expand=True)\n        container.grid_rowconfigure(0, weight=1)\n        container.grid_columnconfigure(0, weight=1)\n\n        self.frames = {}\n        for F,geometry,title in zip((StartPage,PageOne,PageTwo,PageThree),\n                                (\"532x279\",\"532x279\",\"254x279\",\"299x620\"),\n                                (\"\",\"Experimental Data\",\"Orientation Distribution\",\"Manifold Embedding\"),\n                                ((False,False),(False,False),(True,True),(True,True))):\n            page_name = F.__name__\n            frame = F(container, self)\n            self.frames[page_name] = (frame,geometry,title,(option1,option2)) #puts all pages in stacked order\n            frame.grid(row=0, column=0, sticky=\"nsew\")\n    self.show_frame(\"StartPage\")\n\ndef show_frame(self, page_name): #show a frame for the given page name\n    frame, geometry, title = self.frames[page_name]\n    self.update_idletasks()\n    self.geometry(geometry) #changes between window sizes\n    tk.Tk.wm_title(self, title) #window heading\n###UNKNOWN:\n    self.resizable(*options)\n###########       \n    frame.tkraise() #raises window to top\n\nif __name__ == \"__main__\":\n    app = Manifold()\n    app.mainloop()\n</code></pre>\n\n<p>Any advice would be greatly appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1516228697, "post_id": 48311109, "comment_id": 83608081, "body": "Why did you write a raw string literal if you wanted a regular string literal?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 2, "creation_date": 1516229116, "post_id": 48311109, "comment_id": 83608267, "body": "This is a perfect example of the kind of thing our duplicate system is meant for -- finding a case where we already have a question answered, but with a completely different description / set of search terms."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 2, "creation_date": 1516229328, "post_id": 48311109, "comment_id": 83608361, "body": "On the linked duplicate, I prefer the solutions that use <code>ast.literal_eval</code>. A one-liner might be like <code>import ast; b = ast.literal_eval(&quot;&#39;&#39;&#39;%s&#39;&#39;&#39;&quot; % a)</code>. Quoting might get a bit tricky, but the use of the triple quotes around the string helps."}], "owner": {"reputation": 119, "user_id": 700048, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c49111ee4d1e2697830c8aab04162c82?s=128&d=identicon&r=PG", "display_name": "user700048", "link": "https://stackoverflow.com/users/700048/user700048"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "closed_date": 1516229071, "answer_count": 0, "score": 1, "last_activity_date": 1516229188, "creation_date": 1516228480, "question_id": 48311109, "link": "https://stackoverflow.com/questions/48311109/how-do-you-unraw-a-raw-string-in-python", "closed_reason": "Duplicate", "title": "How do you &#39;unraw&#39; a raw string in python?", "body": "<p>Is there a way to take a raw string/literal string in python and interpret it as a regular string.  For example.</p>\n\n<pre><code>&gt;&gt;&gt; a = r'un\\x00'\n&gt;&gt;&gt; len(a)\n6\n</code></pre>\n\n<p>What can I do to 'a' to make len(a) = 3</p>\n"}, {"tags": ["python", "locking", "multiprocessing", "joblib"], "comments": [{"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "edited": false, "score": 0, "creation_date": 1516230604, "post_id": 48311096, "comment_id": 83608808, "body": "I found a possible solution based on <a href=\"https://eli.thegreenplace.net/2012/01/04/shared-counter-with-pythons-multiprocessing\" rel=\"nofollow noreferrer\">this post</a>. Making <code>Thing.COUNT</code> a <code>multiprocessing.RawValue</code> and then setting <code>mecount = Thing.COUNT.value</code> and incrementing <code>Thing.COUNT.value += 1</code> causes <code>mecount</code> to have the correct value. In the unmodified code in the question above it&#39;s as if even though <code>Thing.lock</code> and <code>Thing.COUNT</code> are the same objects across all processes (checked via <code>id()</code>), the COUNT is not in shared memory. Can someone explain fully?"}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "edited": false, "score": 0, "creation_date": 1516231870, "post_id": 48311651, "comment_id": 83609167, "body": "The problem here is I am using spawning processes rather than threads: The Java example I provided and many of the other examples I was able to find focus on this threading context. Because threads share a memory space, there is not this extra complication of needing a special sort of value in shared memory. Because processes do not share a memory space, updating the COUNT in one space has no effect on the COUNT in other memory spaces, which are all individually pickled copies. So even though locking is working in the code as given, there is no benefit."}], "tags": [], "owner": {"reputation": 1996, "user_id": 4620420, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f042995922d39078a6c252040748eb6c?s=128&d=identicon&r=PG&f=1", "display_name": "bivouac0", "link": "https://stackoverflow.com/users/4620420/bivouac0"}, "is_accepted": true, "score": 1, "last_activity_date": 1516231641, "creation_date": 1516231641, "answer_id": 48311651, "question_id": 48311096, "link": "https://stackoverflow.com/questions/48311096/counting-parallel-function-calls-python/48311651#48311651", "title": "Counting parallel function calls python", "body": "<p>With multiprocessing, python forks your code and creates a child process where it runs the code.  In doing this it creates a copy of the class for each child process.  It doesn't share the code/data.  You can debug this a bit by placing print comments such as...</p>\n\n<p><code>print multiprocessing.current_process().name</code> </p>\n\n<p>in your constructor and in your <code>objFn</code> to see what's running where and what it's value is.</p>\n\n<p>In order to share data between processes you have to something designed for this from the <code>multiprocessing</code> library.  These are the <code>Value and Array</code> objects.  These use shared memory and because of that are generally limited to integral <code>ctypes</code>, not just any generic python object.</p>\n"}], "owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 272, "favorite_count": 0, "accepted_answer_id": 48311651, "answer_count": 1, "score": 0, "last_activity_date": 1516231797, "creation_date": 1516228403, "question_id": 48311096, "link": "https://stackoverflow.com/questions/48311096/counting-parallel-function-calls-python", "title": "Counting parallel function calls python", "body": "<p>I have a problem where I need to call an instance function of a class in parallel and count the number of times it has been called so each call has a unique identifier (to be used to store results in a unique location).</p>\n\n<p><a href=\"https://stackoverflow.com/questions/2120248/how-to-synchronize-a-static-variable-among-threads-running-different-instances-o\">Here is a question with solutions for what I want but in Java</a></p>\n\n<p>Here is a minimal example:</p>\n\n<p>para2.py, which sets up all the instance-method pickling stuff (less relevant):</p>\n\n<pre><code>from copy_reg import pickle\nfrom types import MethodType\nfrom para import func\n\ndef _pickle_method(method):\n    return _unpickle_method, (method.im_func.__name__, method.im_self, method.im_class)\n\ndef _unpickle_method(func_name, obj, cls):\n    return cls.__dict__[func_name].__get__(obj, cls)\n\npickle(MethodType, _pickle_method, _unpickle_method)\n\nfunc()\n</code></pre>\n\n<p>And now para.py contains:</p>\n\n<pre><code>from sklearn.externals.joblib import Parallel, delayed\nfrom math import sqrt\nfrom multiprocessing import Lock\n\nclass Thing(object):\n\n    COUNT = 0\n    lock = Lock()\n\n    def objFn(self, x):\n        with Thing.lock:\n            mecount = Thing.COUNT\n            Thing.COUNT += 1\n\n        print mecount\n\n        n=0\n        while n &lt; 10000000:# add a little delay for consistency\n            n += 1\n        return sqrt(x)\n\ndef func()\n    thing = Thing()\n\n    y = Parallel(n_jobs=4)(delayed(thing.objFn)(i**2) for i in range(10))\n    print y\n</code></pre>\n\n<p>Now running <code>python para2.py</code> in a terminal prints</p>\n\n<pre><code>0\n0\n0\n0\n1\n1\n1\n1\n2\n2\n[0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 9.0]\n</code></pre>\n\n<p>I need those numbers on the vertical to count 0 to 9, but it appears that all four processes are still accessing and trying to update <code>COUNT</code> concurrently. How can I make this do what I want? </p>\n"}, {"tags": ["python", "python-3.x", "email"], "comments": [{"owner": {"reputation": 57, "user_id": 8693370, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BCzU6yXT6zM/AAAAAAAAAAI/AAAAAAAAAHk/PGg7dkNHh8Q/photo.jpg?sz=128", "display_name": "v0rtex", "link": "https://stackoverflow.com/users/8693370/v0rtex"}, "edited": false, "score": 0, "creation_date": 1516228377, "post_id": 48311080, "comment_id": 83607957, "body": "What are you using to send it? Google&#39;s api, Microsofts?"}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "reply_to_user": {"reputation": 57, "user_id": 8693370, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BCzU6yXT6zM/AAAAAAAAAAI/AAAAAAAAAHk/PGg7dkNHh8Q/photo.jpg?sz=128", "display_name": "v0rtex", "link": "https://stackoverflow.com/users/8693370/v0rtex"}, "edited": false, "score": 0, "creation_date": 1516228507, "post_id": 48311080, "comment_id": 83607996, "body": "I am using python?"}, {"owner": {"reputation": 1096, "user_id": 5150303, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5IihF.jpg?s=128&g=1", "display_name": "Daniel R. Livingston", "link": "https://stackoverflow.com/users/5150303/daniel-r-livingston"}, "edited": false, "score": 0, "creation_date": 1516228914, "post_id": 48311080, "comment_id": 83608177, "body": "What libraries are you importing for this? At the top of your code, when you write <code>import ...</code>, what is it that you&#39;re importing? Also - you need (i) to explain the exact problem you&#39;re having and any errors you get, and (ii) to attach an example of your code or this question is going to very quickly get  down voted or closed."}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1516229318, "post_id": 48311080, "comment_id": 83608356, "body": "You need an SMTP server, yes. Gmail, for example is commonly used."}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516229411, "post_id": 48311080, "comment_id": 83608398, "body": "I need someone to teach me, I am not using anything right now, it was just I need to know so I can make a project in the future."}, {"owner": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "edited": false, "score": 0, "creation_date": 1516229797, "post_id": 48311080, "comment_id": 83608553, "body": "Read this to get a little idea <a href=\"http://stackabuse.com/how-to-send-emails-with-gmail-using-python/\" rel=\"nofollow noreferrer\">stackabuse.com/how-to-send-emails-with-gmail-using-python</a>"}, {"owner": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "edited": false, "score": 1, "creation_date": 1516239714, "post_id": 48311080, "comment_id": 83611049, "body": "SO is not a coding service. If you don\u2019t know how to program, I\u2019d suggest google for free tutorials and watch YouTube videos."}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "reply_to_user": {"reputation": 7927, "user_id": 5214807, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aq31b.jpg?s=128&g=1", "display_name": "Saleem", "link": "https://stackoverflow.com/users/5214807/saleem"}, "edited": false, "score": 0, "creation_date": 1545184922, "post_id": 48311080, "comment_id": 94535179, "body": "@Saleem I am not asking for you to code for me. I know how to code. I just wanted to know where to start in this whole pretty complicated process"}], "answers": [{"comments": [{"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516283812, "post_id": 48312574, "comment_id": 83631136, "body": "this looks like it will work, I will test it when I get home."}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516309873, "post_id": 48312574, "comment_id": 83646456, "body": "I got this: Traceback (most recent call last):   File &quot;C:/Python32/email.py&quot;, line 1, in &lt;module&gt;     import smtplib   File &quot;C:\\Python32\\lib\\smtplib.py&quot;, line 47, in &lt;module&gt;     import email.utils   File &quot;C:/Python32\\email.py&quot;, line 3, in &lt;module&gt;     from email.mime.text import MIMEText ImportError: No module named mime.text"}, {"owner": {"reputation": 86, "user_id": 7764224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bdef60623621562e06ad01e1e6c283?s=128&d=identicon&r=PG&f=1", "display_name": "lszpiczakowski", "link": "https://stackoverflow.com/users/7764224/lszpiczakowski"}, "reply_to_user": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516354126, "post_id": 48312574, "comment_id": 83660750, "body": "Yes it works. I tried on Windows 7, fresh install of python 3.2.2. And I got  a message to my email. :) Try to reinstall python or simply install new version."}, {"owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "edited": false, "score": 0, "creation_date": 1516381882, "post_id": 48312574, "comment_id": 83678187, "body": "@Iszpiczakowski I am on windows 10"}], "tags": [], "owner": {"reputation": 86, "user_id": 7764224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4bdef60623621562e06ad01e1e6c283?s=128&d=identicon&r=PG&f=1", "display_name": "lszpiczakowski", "link": "https://stackoverflow.com/users/7764224/lszpiczakowski"}, "is_accepted": true, "score": 7, "last_activity_date": 1516353955, "last_edit_date": 1516353955, "creation_date": 1516239485, "answer_id": 48312574, "question_id": 48311080, "link": "https://stackoverflow.com/questions/48311080/how-to-send-an-email-with-python/48312574#48312574", "title": "How to send an email with python", "body": "<p>I made it in python3.6.3 and after that I rebuilt the code to python3.2.6 but it works. :)</p>\n\n<p>First of all we gonna import few things which are in a standard Python library.</p>\n\n<pre><code>import smtplib\nfrom getpass import getpass\nfrom email.mime.text import MIMEText\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Tip!\n  If you want to send email from gmail you have to enable less-secure\n  app: <a href=\"https://myaccount.google.com/lesssecureapps\" rel=\"noreferrer\">https://myaccount.google.com/lesssecureapps</a></p>\n</blockquote>\n\n<hr>\n\n<p>We have to make an email so:</p>\n\n<pre><code>sender = 'example_sender@gmail.com'\nreceiver = 'example_receiver@gmail.com'\n\ncontent = \"\"\"The receiver will see this message.\n            Best regards\"\"\"\n\nmsg = MIMEText(content)\nmsg['From'] = sender\nmsg['To'] = receiver\nmsg['Subject'] = 'Simple app script'\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Tip! Of course you can also read content for example from file by using:</p>\n\n<pre><code>with open('/path/to/your/file', 'r') as file:\n    content = file.read()\n</code></pre>\n</blockquote>\n\n<hr>\n\n<p>Now we can handle a \"magic\" server side.</p>\n\n<hr>\n\n<blockquote>\n  <p>Tip! Server name you can easily found in your email settings. (IMAP/POP\n  page) \n  Here you have a list of servers I've found:\n  <a href=\"https://www.arclab.com/en/kb/email/list-of-smtp-and-pop3-servers-mailserver-list.html\" rel=\"noreferrer\">https://www.arclab.com/en/kb/email/list-of-smtp-and-pop3-servers-mailserver-list.html</a></p>\n</blockquote>\n\n<hr>\n\n<p>The solution for gmail, but you it can work with any server:</p>\n\n<pre><code>smtp_server_name = 'smtp.gmail.com'\n#port = '465' # for secure messages\nport = '587' # for normal messages\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Tip! There are answers for difference of these ports:\n  <a href=\"https://stackoverflow.com/questions/15796530/what-is-the-difference-between-ports-465-and-587\">What is the difference between ports 465 and 587?</a></p>\n</blockquote>\n\n<hr>\n\n<p>I think this sample of code is simply. By smtplib.SMTP_SSL we can only handle server by secure port (465). In other case we use different method.</p>\n\n<pre><code>if port == '465':\n    server = smtplib.SMTP_SSL('{}:{}'.format(smtp_server_name, port))\nelse :\n    server = smtplib.SMTP('{}:{}'.format(smtp_server_name, port))\n    server.starttls() # this is for secure reason\n\nserver.login(sender, getpass(prompt=\"Email Password: \"))\nserver.send_message(msg)\nserver.quit()\n</code></pre>\n\n<p>When server is going to login you have to type your password after prompt in your shell.</p>\n\n<p>And that's it. I ran this on Linux from command line. </p>\n\n<p>Please feel free to ask for questions! :)</p>\n\n<p>PS. I tested it on Windows 7 on fresh install of python 3.2.2. Everything works.</p>\n"}, {"tags": [], "owner": {"reputation": 2005, "user_id": 9180179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHVRQ.jpg?s=128&g=1", "display_name": "Usman", "link": "https://stackoverflow.com/users/9180179/usman"}, "is_accepted": false, "score": 1, "last_activity_date": 1516354824, "creation_date": 1516354824, "answer_id": 48338053, "question_id": 48311080, "link": "https://stackoverflow.com/questions/48311080/how-to-send-an-email-with-python/48338053#48338053", "title": "How to send an email with python", "body": "<p>Try this code !  </p>\n\n<pre><code>import smtplib\n\n# Import the email modules we'll need\nfrom email.mime.text import MIMEText\n\n# Open a plain text file for reading.  For this example, assume that\n# the text file contains only ASCII characters.\nfp = open(textfile, 'rb')\n# Create a text/plain message\nmsg = MIMEText(fp.read())\nfp.close()\n\n# me == the sender's email address\n# you == the recipient's email address\nmsg['Subject'] = 'The contents of %s' % textfile\nmsg['From'] = me\nmsg['To'] = you\n\n# Send the message via our own SMTP server, but don't include the\n# envelope header.\ns = smtplib.SMTP('localhost')\ns.sendmail(me, [you], msg.as_string())\ns.quit()\n</code></pre>\n"}], "owner": {"reputation": 714, "user_id": 9231492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXIcc.jpg?s=128&g=1", "display_name": "Hippolippo", "link": "https://stackoverflow.com/users/9231492/hippolippo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8287, "favorite_count": 3, "accepted_answer_id": 48312574, "answer_count": 2, "score": -2, "last_activity_date": 1584999260, "creation_date": 1516228301, "last_edit_date": 1584999260, "question_id": 48311080, "link": "https://stackoverflow.com/questions/48311080/how-to-send-an-email-with-python", "title": "How to send an email with python", "body": "<p>What is the process for sending an email using python. What I found in my research was either different than what I was attempting or didn't work when I attempted to actually use it. This doesn't seem like it would be a complicated task.</p>\n"}, {"tags": ["python", "python-3.x", "python-asyncio", "discord", "discord.py"], "answers": [{"tags": [], "owner": {"reputation": 759, "user_id": 9171481, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c28Z.png?s=128&g=1", "display_name": "mental", "link": "https://stackoverflow.com/users/9171481/mental"}, "is_accepted": false, "score": 0, "last_activity_date": 1516233397, "creation_date": 1516233397, "answer_id": 48311889, "question_id": 48311074, "link": "https://stackoverflow.com/questions/48311074/can-wait-for-message-check-for-multiple-contents/48311889#48311889", "title": "Can wait_for_message check for multiple contents?", "body": "<pre><code>content = '.hit' or '.pass'\n</code></pre>\n\n<p>will not do what you think it will, it (if you check in idle) will just return <code>'.hit'</code> for what you want to do, simply don't include the content keyword argument and check the content yourself like so</p>\n\n<pre><code>msg = await bot.wait_for_message(author=message.author)\nif msg:\n    if msg.content == '.hit':\n        print('He hits')\n    elif msg.content == '.pass':\n        print('He passes')\n    else:\n        print('He didn\\'t give a valid option')\n</code></pre>\n\n<p>The reason why I put an <code>if msg</code> branch first is that if you have a timeout set, the bot will return <code>None</code> in place of a <code>discord.Message</code></p>\n"}, {"tags": [], "owner": {"reputation": 339, "user_id": 11788276, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4d9be5f577b99d3b2710d720a94f81?s=128&d=identicon&r=PG&f=1", "display_name": "Dec0Dedd", "link": "https://stackoverflow.com/users/11788276/dec0dedd"}, "is_accepted": false, "score": 3, "last_activity_date": 1563274046, "creation_date": 1563274046, "answer_id": 57055532, "question_id": 48311074, "link": "https://stackoverflow.com/questions/48311074/can-wait-for-message-check-for-multiple-contents/57055532#57055532", "title": "Can wait_for_message check for multiple contents?", "body": "<p>You can just do this:</p>\n\n<pre><code>msg = (await bot.wait_for(\"message\")).content\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>    if msg == \".hit\":\n        print(\"He hits!\")\n    elif msg == \".pass\":\n        print(\"He passes!\")\n    else:\n        print(\"He doesn't do anything\")\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 9199718, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f69f0a2fc96ba2dacfaaf256a05ee173?s=128&d=identicon&r=PG&f=1", "display_name": "Mark W", "link": "https://stackoverflow.com/users/9199718/mark-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3193, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1563274046, "creation_date": 1516228265, "question_id": 48311074, "link": "https://stackoverflow.com/questions/48311074/can-wait-for-message-check-for-multiple-contents", "title": "Can wait_for_message check for multiple contents?", "body": "<p>I am waiting for a message like:</p>\n\n<pre><code>msg = await bot.wait_for_message(author=message.author, content = '.hit')\n</code></pre>\n\n<p>What I want to do though is to wait for a message, and proceed with 2 different kinds of content, for example:</p>\n\n<pre><code>msg = await bot.wait_for_message(author=message.author, content = '.hit' or '.pass')\n</code></pre>\n\n<p>While this does not throw any errors, it does not work. I checked with:</p>\n\n<pre><code>if msg.content == (\".hit\"):\n\n    print(\"He hits.\")\n\nelif msg.content == (\".pass\"):\n\n    print(\"He passes.\")\n\nelse:\n\n   print(\"It did not work.\")\n</code></pre>\n\n<p>Does anyone know if this is possible? Thanks!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516228805, "post_id": 48311073, "comment_id": 83608143, "body": "Something seems amiss here. Does your CSV have headers? I would expect <code>start_dates = pd.to_datetime(df[&#39;CURRENT_PLAN_START_DATE&#39;])</code> to look something like <code>df[&#39;CURRENT_PLAN_START_DATE&#39;] = pd.to_datetime(df[&#39;CURRENT_PLAN_START_DATE&#39;])</code>. Where are <code>BEFORE_DATE</code> and <code>AFTER_DATE</code> columns coming from if your initial CSV has 2 columns?"}, {"owner": {"reputation": 1655, "user_id": 6567270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c2aba1e2e67131f0bba140dd5c86da6?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6567270/brian"}, "edited": false, "score": 1, "creation_date": 1516229165, "post_id": 48311073, "comment_id": 83608290, "body": "df = df[(df[&#39;CURRENT_PLAN_START_DATE&#39;] &gt; &#39;7-1-16&#39;)        &amp; (df[&#39;CURRENT_PLAN_END_DATE&#39;] &lt; &#39;7-31-16&#39;)]"}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1516229048, "creation_date": 1516229048, "answer_id": 48311210, "question_id": 48311073, "link": "https://stackoverflow.com/questions/48311073/find-rows-that-are-in-between-two-column-dates-pandas/48311210#48311210", "title": "Find rows that are in between two column dates pandas", "body": "<p>You can try this </p>\n\n<pre><code>df['CURRENT_PLAN_START_DATE'] = pd.to_datetime(df['CURRENT_PLAN_START_DATE'])\ndf['CURRENT_PLAN_END_DATE'] = pd.to_datetime(df['CURRENT_PLAN_END_DATE'])\ndf=df.loc[(df['CURRENT_PLAN_START_DATE']&gt;pd.to_datetime('2016-07-01'))&amp;(df['CURRENT_PLAN_END_DATE']&lt;pd.to_datetime('2016-07-31')),:]\n</code></pre>\n"}], "owner": {"reputation": 1055, "user_id": 6317608, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c38e6a15ad519a4a887cb319e50be186?s=128&d=identicon&r=PG&f=1", "display_name": "Taylor", "link": "https://stackoverflow.com/users/6317608/taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516229048, "creation_date": 1516228262, "question_id": 48311073, "link": "https://stackoverflow.com/questions/48311073/find-rows-that-are-in-between-two-column-dates-pandas", "title": "Find rows that are in between two column dates pandas", "body": "<p>I have a csv with a two columns CURRENT_PLAN_START_DATE and CURRENT_PLAN_END_DATE. I want to return all the rows that have a CURRENT_PLAN_START_DATE date after 7/1/16 and CURRENT_PLAN_END_DATE before 7/31/16. I tried to do this by parsing the 7/1/16 and 7/31/16 strings using python datetime but kept getting a type mismatch so I added two columns in the spreadsheet with those strings copied over and over. This is what I have so far:</p>\n\n<pre><code>import pandas as pd\n\n\ndf = pd.read_csv('/Users/Margaret/Desktop/CP1.csv')\n\nstart_dates = pd.to_datetime(df['CURRENT_PLAN_START_DATE'])\nend_dates = pd.to_datetime(df['CURRENT_PLAN_END_DATE'])\nbefore_date = pd.to_datetime(df['BEFORE_DATE'])\nafter_date = pd.to_datetime(df['AFTER_DATE'])\n\n#print(start_dates.sort_values())\n#print(df.sort_values(by=['CURRENT_PLAN_START_DATE']))\n\nx = df[(df['CURRENT_PLAN_START_DATE'] &gt; df['BEFORE_DATE'][1]) &amp; (df['CURRENT_PLAN_END_DATE'] &gt; df['AFTER_DATE'][1])]\n</code></pre>\n"}, {"tags": ["python", "algorithm", "machine-learning", "nlp", "expectation-maximization"], "answers": [{"tags": [], "owner": {"reputation": 18716, "user_id": 240457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ffaa31b18c7c5ac916d95f172b7ac?s=128&d=identicon&r=PG", "display_name": "mcdowella", "link": "https://stackoverflow.com/users/240457/mcdowella"}, "is_accepted": true, "score": 1, "last_activity_date": 1516341519, "creation_date": 1516341519, "answer_id": 48334978, "question_id": 48311021, "link": "https://stackoverflow.com/questions/48311021/baum-welch-em-algorithm-likelihood-px-is-not-monotonically-converging/48334978#48334978", "title": "Baum Welch (EM Algorithm) likelihood (P(X)) is not monotonically converging", "body": "<p>For EM iterations, or any other iteration proved to be non-decreasing, you should be seeing increases until the size of increases becomes small compared with floating point error, at which time floating point errors violate the assumptions in the proof, and you may see not only a failure to increase, but a very small decrease - but this should only be very small.</p>\n\n<p>One good way to check these sorts of probability based calculations is to create a small test problem where the right answer is glaringly obvious - so obvious that you can see whether the answers from the code under test are obviously correct at all.</p>\n\n<p>It might be worth comparing the paper you reference with  <a href=\"https://en.wikipedia.org/wiki/Expectation%E2%80%93maximization_algorithm#Proof_of_correctness\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Expectation%E2%80%93maximization_algorithm#Proof_of_correctness</a>. I think equations such as (11) and (12) are not intended for you to actually calculate, but as arguments to motivate and prove the final result. I think the equation corresponding to the traditional EM step, which you do calculate, is equation (15) which says that you change the parameters at each step to increase the expected log-likelihood, which is the expectation under the distribution of hidden states calculated according to the old parameters, which is the standard EM step. In fact, turning over I see this is stated explicitly at the top of P 8.</p>\n"}], "owner": {"reputation": 120, "user_id": 7728702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iOIDd.jpg?s=128&g=1", "display_name": "I. Cantrell", "link": "https://stackoverflow.com/users/7728702/i-cantrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "accepted_answer_id": 48334978, "answer_count": 1, "score": 0, "last_activity_date": 1516341519, "creation_date": 1516227983, "question_id": 48311021, "link": "https://stackoverflow.com/questions/48311021/baum-welch-em-algorithm-likelihood-px-is-not-monotonically-converging", "title": "Baum Welch (EM Algorithm) likelihood (P(X)) is not monotonically converging", "body": "<p>So I am sort of an amateur when comes to machine learning and I am trying to program the Baum Welch algorithm, which is a derivation of the EM algorithm for Hidden Markov Models. Inside my program I am testing for convergence using the probability of each observation sequence in the new model and then terminating once the new model is less than or equal to the old model. However, when I run the algorithm it seems to converge somewhat and gives results that are far better than random but <strong>when converging it goes down on the last iteration</strong>. Is this a sign of a bug or am I doing something wrong? </p>\n\n<p>It seems to me that I should have been using the <strong>summation of the log of each observation's probability</strong> for the comparison instead since it seems like the function I am maximizing. However, the paper I read said to use the <strong>log of the sum of probabilities</strong>(which I am pretty sure is the same as the sum of the probabilities) of the observations(<a href=\"https://www.cs.utah.edu/~piyush/teaching/EM_algorithm.pdf\" rel=\"nofollow noreferrer\">https://www.cs.utah.edu/~piyush/teaching/EM_algorithm.pdf</a>). </p>\n\n<p>I fixed this on another project where I implemented backpropogation with feed-forward neural nets by implementing a for loop with pre-set number of epochs instead of a while loop with a condition for the new iteration to be strictly greater than but I am wondering if this is a bad practice.</p>\n\n<p>My code is at <a href=\"https://github.com/icantrell/Natural-Language-Processing\" rel=\"nofollow noreferrer\">https://github.com/icantrell/Natural-Language-Processing</a>\ninside the nlp.py file.</p>\n\n<p>Any advice would be appreciated.\nThank You.</p>\n"}, {"tags": ["python", "django", "forms", "foreign-keys", "models"], "comments": [{"owner": {"reputation": 70, "user_id": 1604470, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/090b5d0907e03fe3e78f387857ec11d6?s=128&d=identicon&r=PG", "display_name": "Dev", "link": "https://stackoverflow.com/users/1604470/dev"}, "reply_to_user": {"reputation": 735, "user_id": 7636315, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1eUipVXzZfs/AAAAAAAAAAI/AAAAAAAAADE/lYjPZABMCu0/photo.jpg?sz=128", "display_name": "Paandittya", "link": "https://stackoverflow.com/users/7636315/paandittya"}, "edited": false, "score": 0, "creation_date": 1516229623, "post_id": 48310912, "comment_id": 83608479, "body": "i found the answer to my problem here, he explained the situation way better than me: <a href=\"https://stackoverflow.com/questions/41663229/show-columns-of-referenced-table-instead-of-the-object-in-django-admin\" title=\"show columns of referenced table instead of the object in django admin\">stackoverflow.com/questions/41663229/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 70, "user_id": 1604470, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/090b5d0907e03fe3e78f387857ec11d6?s=128&d=identicon&r=PG", "display_name": "Dev", "link": "https://stackoverflow.com/users/1604470/dev"}, "is_accepted": true, "score": 1, "last_activity_date": 1516230376, "creation_date": 1516230376, "answer_id": 48311429, "question_id": 48310912, "link": "https://stackoverflow.com/questions/48310912/using-foreign-key-on-django-model-to-populate-select-input/48311429#48311429", "title": "Using Foreign Key on Django model to populate select input", "body": "<p>Turned out all i had to do was to set the default value to be returned by adding a unicode function to each model:</p>\n\n<pre><code>def __unicode__(self):\n    return self.student_name\n</code></pre>\n\n<p>And the full model code below:</p>\n\n<pre><code>Class StudentRoom(models.Model):\n    student_id  = models.ForeignKey('Student')\n    room_id  = models.ForeignKey('Room')\n\nClass Student(models.Model):\n    student_name = models.CharField(max_length=100)\n    student_email = models.CharField(max_length=100)\n\n  def __unicode__(self):\n    return self.student_name\n\nClass Room(models.Model):\n    room_name = models.CharField(max_length=100)\n    room_faction = models.CharField(max_length=100)\n\n  def __unicode__(self):\n    return self.room_name\n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 1604470, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/090b5d0907e03fe3e78f387857ec11d6?s=128&d=identicon&r=PG", "display_name": "Dev", "link": "https://stackoverflow.com/users/1604470/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1027, "favorite_count": 1, "accepted_answer_id": 48311429, "answer_count": 1, "score": 0, "last_activity_date": 1516230376, "creation_date": 1516227394, "question_id": 48310912, "link": "https://stackoverflow.com/questions/48310912/using-foreign-key-on-django-model-to-populate-select-input", "title": "Using Foreign Key on Django model to populate select input", "body": "<p>im having problems finding out on the documentation how to solve my problem so im posting here: \nI have 3 Models one for a class room with its attributes, one for students and the last one a relation of the room and the student.\nSo on the template i want it to show a select button with a option value being the student id and the label being the student name </p>\n\n<p>on my models.py i have this:</p>\n\n<pre><code>student_id = models.ForeignKey('Student', verbose_name=u\"Student\")\n</code></pre>\n\n<p>on my template.html i just call the field:</p>\n\n<pre><code>  {{ field }}\n</code></pre>\n\n<p>and the result that i get is:</p>\n\n<pre><code>&lt;select name='student_id'&gt;\n  &lt;option value='1'&gt;Student object&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>is there a way that i can preset the value and label like its done using choices for static data? to something like this:</p>\n\n<pre><code>STUDENT_CHOICES =(\n    (model.student.id , model.student.name),\n)\nstudent_id = models.ForeignKey('Student', verbose_name=u\"Student\",, choices=STUDENT_CHOICES)\n</code></pre>\n\n<p>let me know if im not clear enough on the question since im fairly new to python and django</p>\n"}, {"tags": ["python", "regex", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516227418, "post_id": 48310832, "comment_id": 83607595, "body": "The question is not very clear. Do you want the number of times % or $ appears in the dataframe?"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516227567, "post_id": 48310832, "comment_id": 83607654, "body": "Okay, I will rephrase it. Here&#39;s what I want:  (1) find a specific regex match in a dataframe (i.e. all dollars/cents/percents) (2) list every instance of that regex match in output (3) count the total amount of those matches in output"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1516227610, "post_id": 48310832, "comment_id": 83607673, "body": "@David, can you post your desired data set?"}], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": false, "score": 2, "last_activity_date": 1516227878, "creation_date": 1516227878, "answer_id": 48311000, "question_id": 48310832, "link": "https://stackoverflow.com/questions/48310832/creating-a-list-of-regex-matches-from-a-data-frame-in-python-and-then-counting-t/48311000#48311000", "title": "Creating a list of regex matches from a data frame in Python and then counting the number of matches", "body": "<p>If you want total number of times % or $ appears in your dataframe, try</p>\n\n<pre><code>sample_csv.stack().str.contains('%|\\$').sum()\n</code></pre>\n\n<p>It returns 4</p>\n\n<p>If you want all the instance of the cells in which those appear, try</p>\n\n<pre><code>sample_csv[sample_csv.stack().str.contains('%|\\$').unstack()]\n</code></pre>\n\n<p>And you get</p>\n\n<pre><code>    Amount  Percent SMS_number  SMS_text\n0   12.12%  10%     NaN         $1\n1   $10.12  NaN     NaN         NaN\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516230029, "post_id": 48311191, "comment_id": 83608621, "body": "I&#39;m working with a large csv that contains a bunch of text/sentence entries and I&#39;m trying to tease out any dollars/cents/percents. So I&#39;m not trying to convert anything into a numeric value, I&#39;m just trying to pull out $ and % from the text/sentences.  Is there a way to do this without creating a boolean mask or do you think this is a good approach? It&#39;s a bit above my head so the simpler the better for me."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516230130, "post_id": 48311191, "comment_id": 83608650, "body": "@David, and how did you get/parse <code>Amount</code> column?"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516230514, "post_id": 48311191, "comment_id": 83608780, "body": "I just used sample_csv.Amount.str.extract(r&#39;(\\$?(?:\\d[ ,.]?)+%?)(?=\\s|$)&#39;) to pull out any regex matches from the Amount column"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516230746, "post_id": 48311191, "comment_id": 83608857, "body": "@David, i&#39;m trying to understand whether you&#39;re fishing for &quot;dollars/cents/percents&quot; in a free text or from a column like <code>Amount</code> (it doesn&#39;t look like a free text). Adding more different samples for parsing could help..."}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516231214, "post_id": 48311191, "comment_id": 83609005, "body": "The column will contain things like this in practice: <code>&#39;Amount&#39;: [&#39;Hi there, you earned a bonus of 12.12%, keep it up!&#39;, &#39;Your daily payout is $10.12&#39;, &#39;Great it was nice speaking with you today!&#39;, Make sure your balance is more than $100.50&#39;, &#39;Have a great day!]</code>  So the output I&#39;m looking for would be something like: 12.12%"}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516231563, "post_id": 48311191, "comment_id": 83609104, "body": "So the output I&#39;m looking for would be something like: <code>12.12% $10.12 $100.50</code>  <code>total = 3</code>"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516231695, "post_id": 48311191, "comment_id": 83609131, "body": "then just extract matching substrings first into a Series/array/list and then simply get the length of that list - you don&#39;t need to search using RegEx for a second time..."}, {"owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "edited": false, "score": 0, "creation_date": 1516234474, "post_id": 48311191, "comment_id": 83609848, "body": "I guess that&#39;s what I&#39;m not sure about. How would I go about doing this? Thanks for all of your help btw"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 1, "last_activity_date": 1516229396, "last_edit_date": 1516229396, "creation_date": 1516228931, "answer_id": 48311191, "question_id": 48310832, "link": "https://stackoverflow.com/questions/48310832/creating-a-list-of-regex-matches-from-a-data-frame-in-python-and-then-counting-t/48311191#48311191", "title": "Creating a list of regex matches from a data frame in Python and then counting the number of matches", "body": "<p>It seems (to me) you want to find those values in the <code>Amount</code> column that can't be converted to numbers:</p>\n\n<p>Assuming you have the following DF:</p>\n\n<pre><code>In [107]: sample_csv\nOut[107]:\n   Amount Percent  SMS_number      SMS_text\n0  12.12%     10%           1            $1\n1  $10.12       1           1  214-233-4455\n2    1.23       2           1  214-233-4455\n3    33,5       3           1  214-233-4455\n</code></pre>\n\n<p>first create a boolean mask of those rows where Amount can't be converted to numeric value:</p>\n\n<pre><code>In [108]: mask = pd.to_numeric(sample_csv['Amount'], errors='coerce').isnull()\n\nIn [109]: mask\nOut[109]:\n0     True\n1     True\n2    False\n3     True\nName: Amount, dtype: bool\n</code></pre>\n\n<p>now you can easily filter DF, using this mask:</p>\n\n<pre><code>In [110]: sample_csv.loc[mask, 'Amount']\nOut[110]:\n0    12.12%\n1    $10.12\n3      33,5\nName: Amount, dtype: object\n\nIn [111]: sample_csv.loc[mask, 'Amount'].tolist()\nOut[111]: ['12.12%', '$10.12', '33,5']\n\nIn [112]: len(sample_csv.loc[mask, 'Amount'])\nOut[112]: 3\n</code></pre>\n"}], "owner": {"reputation": 451, "user_id": 5446767, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/06931cd45bf769f35739dacaff4d8ff7?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/5446767/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1516229396, "creation_date": 1516226966, "last_edit_date": 1516228154, "question_id": 48310832, "link": "https://stackoverflow.com/questions/48310832/creating-a-list-of-regex-matches-from-a-data-frame-in-python-and-then-counting-t", "title": "Creating a list of regex matches from a data frame in Python and then counting the number of matches", "body": "<p>I'm trying to </p>\n\n<p>-match the number of times a dollar/cent/percent appears in a column in a data frame  -create a function that lists all of these matches  -create a function that  count the number of matches </p>\n\n<p>I'm able to successfully use regex to find the matches, but I'm unable to get a list to appear and count them. I tried using <code>str.extract()</code> to list out all of the matches and <code>str.contains().sum()</code> to count the number of matches. However, I can't get these to work at the same time and I'm not sure if this is even the right approach. </p>\n\n<p>Here's what I have so far:</p>\n\n<pre><code>(?:^|\\s)(\\$?(?:\\d[ ,.]?)+%?)(?=\\s|$) \n</code></pre>\n\n<p>This will match any dollar/cent or percent, and accounts for a bunch of different typos that I'm trying to include so the regex string is fine.</p>\n\n<pre><code>import re\nimport pandas as pd\n\nsample_csv = pd.DataFrame({'SMS_text': ['$1', '214-233-4455'],\n                           'SMS_number': ['1', '1'],\n                           'Amount': ['12.12%', '$10.12'],\n                           'Percent': ['10%', '1']})\n\nsample_csv.Amount.str.extract(r'(\\$?(?:\\d[ ,.]?)+%?)(?=\\s|$)')\n</code></pre>\n\n<p>This will list out the matches from the Amount column. </p>\n\n<pre><code>0    12.12%\n1    $10.12\nName: Amount, dtype: object\n</code></pre>\n\n<p>And if I substitute <code>str.extract()</code> with <code>sample_csv.Amount.str.contains(r'(\\$?(?:\\d[ ,.]?)+%?)(?=\\s|$)').sum()</code> it will tell me how many matches there are (i.e. 2) but again, I can't get them to work at the same time. </p>\n\n<p>Is this the right approach or am I setting this up wrong? Seems like maybe a <code>findall()</code> or maybe an <code>re.compile()</code> might work better, but I'm not sure how to get these to work properly. </p>\n\n<p>My desired output from above would be something like:</p>\n\n<pre><code>regex_number_matches = ['12.12%', '$10.12']\nregex_number_matches_count = 2\n</code></pre>\n"}, {"tags": ["python", "opencv", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1516227065, "post_id": 48310820, "comment_id": 83607409, "body": "You call <code>plt.show()</code> before <code>main()</code>. That makes no sense."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1516227126, "post_id": 48310820, "comment_id": 83607445, "body": "you should also explicitly create a <code>Figure</code> object (call it <code>fig</code>) and explicitly add the axes to that via <code>fig.add_subplot(...)</code>"}, {"owner": {"reputation": 1882, "user_id": 1242028, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rRidE.jpg?s=128&g=1", "display_name": "noel", "link": "https://stackoverflow.com/users/1242028/noel"}, "edited": false, "score": 0, "creation_date": 1516227325, "post_id": 48310820, "comment_id": 83607544, "body": "I made some updates to what I&#39;ve tried."}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1516227405, "post_id": 48310820, "comment_id": 83607585, "body": "@noel show me what you tried as described in that edit"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1516227437, "post_id": 48310820, "comment_id": 83607602, "body": "also, remove the <code>cv2</code> requirement. no one else can run this code so it&#39;s going to be tough to troubleshoot"}, {"owner": {"reputation": 1882, "user_id": 1242028, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rRidE.jpg?s=128&g=1", "display_name": "noel", "link": "https://stackoverflow.com/users/1242028/noel"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1516227504, "post_id": 48310820, "comment_id": 83607631, "body": "@PaulH I just made all those changes again to be sure I was remembering correctly. It works now. SMH. I&#39;ll post the working code."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1516227588, "post_id": 48310820, "comment_id": 83607662, "body": "I doubt a figure object is in any way necessary here. What is additionally not clear is how you run the script. There is an argument <code>-i</code> required, which is not passed at any point in the script. <a href=\"https://stackoverflow.com/questions/44598124/update-frame-in-matplotlib-with-live-camera-preview\">Here</a> is a working example of how to animate a cv2 video."}], "owner": {"reputation": 1882, "user_id": 1242028, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/rRidE.jpg?s=128&g=1", "display_name": "noel", "link": "https://stackoverflow.com/users/1242028/noel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1516227274, "creation_date": 1516226919, "last_edit_date": 1516227274, "question_id": 48310820, "link": "https://stackoverflow.com/questions/48310820/matplotlib-draw-function-not-working", "title": "Matplotlib draw function not working", "body": "<p>I'm trying to use matplotlib.pyplot to view a video as I process the frames. The code below displays a plot window, but the images are never drawn.</p>\n\n<pre><code>import cv2\nimport matplotlib.pyplot as plt  \n\nclass Viewer:\n    def __init__(self, video_filename):\n        self.cap = cv2.VideoCapture(video_filename)\n        self.ax1 = plt.subplot(1, 2, 1)\n        self.ax2 = plt.subplot(1, 2, 2)\n\n        # Grab the first frame.\n        frame = self.grabframe()\n        self.im1 = self.ax1.imshow(frame)\n        self.im2 = self.ax2.imshow(frame)\n\n    def grabframe(self):\n        ret, frame = self.cap.read()\n        if ret:\n            return frame\n        else:\n            print('[ERROR] grabframe failed')\n            return self.grabframe()\n\n    def update(self, frame):\n        \"\"\"Update the display.\"\"\"\n        print('[INFO] updating...')\n        self.im1.set_data(frame)\n        self.im2.set_data(frame)\n        plt.draw()\n\n\ndef main():\n    \"\"\"Run it.\"\"\"\n    cli = argparse.ArgumentParser()\n    cli.add_argument('-i', '--input', type=str, required=True)\n    args = cli.parse_args()\n\n    viewer = Viewer(args.input)\n\n    while True:\n        viewer.update(viewer.grabframe())\n\nif __name__ == '__main__':\n    plt.ion()\n    plt.show()\n    main()\n</code></pre>\n\n<p>The update function is definitely being called and I am sure that the frames contain image data. I tried explicitly creating a figure and adding the axis to that. I also tried <code>fig.canvas.draw</code>. Also I've experimented with calling <code>plt.show()</code> in the main function. Nothing changed in any of those cases. \n<strong>Why aren't the images drawn on the plot like I expect?</strong></p>\n"}, {"tags": ["python", "pandas", "pandas-groupby"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1516227042, "post_id": 48310814, "comment_id": 83607396, "body": "How do you actually <i>merge</i> something here?"}, {"owner": {"reputation": 5677, "user_id": 1592364, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9fRvr.jpg?s=128&g=1", "display_name": "Ankur Sinha", "link": "https://stackoverflow.com/users/1592364/ankur-sinha"}, "edited": false, "score": 0, "creation_date": 1516227064, "post_id": 48310814, "comment_id": 83607408, "body": "Could you please elaborate on the pattern as to how you got values in Colm3?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 5973121, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222070204474648/picture?type=large", "display_name": "Arjun Augustine", "link": "https://stackoverflow.com/users/5973121/arjun-augustine"}, "edited": false, "score": 0, "creation_date": 1516228128, "post_id": 48310855, "comment_id": 83607867, "body": "Thank you, your generic solution works. Could you also please add an explanation to your answer? Thanks!"}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 2, "last_activity_date": 1516228244, "last_edit_date": 1516228244, "creation_date": 1516227084, "answer_id": 48310855, "question_id": 48310814, "link": "https://stackoverflow.com/questions/48310814/create-new-column-in-pandas-dataframe-that-merges-specific-column-names-and-corr/48310855#48310855", "title": "Create new column in pandas dataframe that merges specific column names and corresponding values", "body": "<p>A stupid solution:</p>\n\n<pre><code>In [62]: df['Colm3'] = 'Colm1_'+df['Colm1'].astype(str)+'_Colm2_'+df['Colm2'].astype(str)\n\nIn [63]: df\nOut[63]:\n   Colm1  ColmX  Colm2            Colm3\n0      1      2      3  Colm1_1_Colm2_3\n1      4      5      6  Colm1_4_Colm2_6\n</code></pre>\n\n<p>A bit more generic solution:</p>\n\n<pre><code>cols=['Colm1','Colm2']\n\ndf['new'] = df[cols].apply(lambda x: x.name+'_'+x.astype(str)).add('_').sum(1).str.rstrip('_')\n</code></pre>\n\n<p>Detailed:</p>\n\n<pre><code>In [4]: df[cols].apply(lambda x: x.name+'_'+x.astype(str))\nOut[4]:\n     Colm1    Colm2\n0  Colm1_1  Colm2_3\n1  Colm1_4  Colm2_6\n\nIn [5]: df[cols].apply(lambda x: x.name+'_'+x.astype(str)).add('_')\nOut[5]:\n      Colm1     Colm2\n0  Colm1_1_  Colm2_3_\n1  Colm1_4_  Colm2_6_\n\nIn [6]: df[cols].apply(lambda x: x.name+'_'+x.astype(str)).add('_').sum(1)\nOut[6]:\n0    Colm1_1_Colm2_3_\n1    Colm1_4_Colm2_6_\ndtype: object\n\nIn [7]: df[cols].apply(lambda x: x.name+'_'+x.astype(str)).add('_').sum(1).str.rstrip('_')\nOut[7]:\n0    Colm1_1_Colm2_3\n1    Colm1_4_Colm2_6\ndtype: object\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 5973121, "user_type": "registered", "profile_image": "https://graph.facebook.com/1222070204474648/picture?type=large", "display_name": "Arjun Augustine", "link": "https://stackoverflow.com/users/5973121/arjun-augustine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48310855, "answer_count": 1, "score": 1, "last_activity_date": 1516228618, "creation_date": 1516226879, "last_edit_date": 1516228618, "question_id": 48310814, "link": "https://stackoverflow.com/questions/48310814/create-new-column-in-pandas-dataframe-that-merges-specific-column-names-and-corr", "title": "Create new column in pandas dataframe that merges specific column names and corresponding values", "body": "<p>I have a dataframe that looks like the following:</p>\n\n<pre><code>       Colm1 ColmX Colm2\n  0      1     2     3\n  1      4     5     6\n</code></pre>\n\n<p>I need a new one as follows:</p>\n\n<pre><code>       Colm1 ColmX Colm2 Colm3\n  0      1     2     3   Colm1_1_Colm2_3\n  1      4     5     6   Colm1_4_Colm2_6\n</code></pre>\n\n<p>The merged value in Colm3 is constructed as an underscore separated list of  pair of a specific list of columns, in this case, [Colm1, Colm2]</p>\n\n<p>How do I go about doing this? I have a list of column names that I need to merge as above, to start off with.\nThank you!</p>\n"}, {"tags": ["python", "soap", "wsdl", "robotframework", "suds"], "answers": [{"comments": [{"owner": {"reputation": 687, "user_id": 2953137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83acc33ec2016bdab658fa16317a7206?s=128&d=identicon&r=PG&f=1", "display_name": "koxta", "link": "https://stackoverflow.com/users/2953137/koxta"}, "edited": false, "score": 0, "creation_date": 1516301817, "post_id": 48323986, "comment_id": 83642453, "body": "Adding &quot;?WSDL&quot; throws an error but &quot;Requests&quot; works fine. Thank you very much for the solution."}], "tags": [], "owner": {"reputation": 2206, "user_id": 5889853, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YchtutzLM8c/AAAAAAAAAAI/AAAAAAAAAG0/CWPL0ucZfOc/photo.jpg?sz=128", "display_name": "Helio", "link": "https://stackoverflow.com/users/5889853/helio"}, "is_accepted": true, "score": 2, "last_activity_date": 1516286854, "creation_date": 1516286854, "answer_id": 48323986, "question_id": 48310788, "link": "https://stackoverflow.com/questions/48310788/send-soap-request-in-robotframework-without-wsdl/48323986#48323986", "title": "Send SOAP Request in Robotframework without WSDL", "body": "<p>Don't you get the WSDL from the URL you have, by adding ?WSDL ?\nFor example: \"<a href=\"http://IP:PORT/exampleAction?WSDL\" rel=\"nofollow noreferrer\">http://IP:PORT/exampleAction?WSDL</a>\"</p>\n\n<p>You can use RequestsLibrary to send a XML file to the service.</p>\n"}], "owner": {"reputation": 687, "user_id": 2953137, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/83acc33ec2016bdab658fa16317a7206?s=128&d=identicon&r=PG&f=1", "display_name": "koxta", "link": "https://stackoverflow.com/users/2953137/koxta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1456, "favorite_count": 0, "accepted_answer_id": 48323986, "answer_count": 1, "score": 1, "last_activity_date": 1526892443, "creation_date": 1516226733, "question_id": 48310788, "link": "https://stackoverflow.com/questions/48310788/send-soap-request-in-robotframework-without-wsdl", "title": "Send SOAP Request in Robotframework without WSDL", "body": "<p>I am trying to send a SOAP request in Robotframework using SudsLibrary.</p>\n\n<p>It works fine if I have a WSDL file (locally or remotely), but in this specific situation, I don't have any kind of WSDL. Just a URL for an application endpoint.</p>\n\n<p>Note: I tried to send it with SoapUI without WSDL (only with URL) and it just works fine, and in another languages I can do it too (like Ruby+Savon for example).</p>\n\n<p>Now, any ideas how can I accomplish that only with an URL and Suds? or even with another library?</p>\n\n<p>Thank you very much.</p>\n\n<p>Example code (that throws error 500 when using a \"non WSDL\" URL instead a true WSLD):</p>\n\n<pre><code>#Example URL: \"http://IP:PORT/exampleAction\"\n\n${wsdl}=  set variable    ${CURDIR}/WSDLs/CreateService.WSDL\n${wsdl_operation}=    set variable    X.Asset.UpdateNotification\n\n${msg}=   Keyword That Returns Some Kind of XML\n\nCreate Soap Client   ${wsdl}\n${raw_msg}=     Create Raw Soap Message    ${msg}\n\n${result}=      Call Soap Method    ${wsdl_operation}    ${raw_msg}\n</code></pre>\n"}, {"tags": ["python", "amazon-ec2", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 42040, "user_id": 4237701, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OeLef.jpg?s=128&g=1", "display_name": "helloV", "link": "https://stackoverflow.com/users/4237701/hellov"}, "edited": false, "score": 1, "creation_date": 1516235349, "post_id": 48311120, "comment_id": 83610058, "body": "and you posted the userdata in your question with no blank line"}], "tags": [], "owner": {"reputation": 501, "user_id": 3736286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7ZqEb.jpg?s=128&g=1", "display_name": "MakleBirt", "link": "https://stackoverflow.com/users/3736286/maklebirt"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228516, "creation_date": 1516228516, "answer_id": 48311120, "question_id": 48310785, "link": "https://stackoverflow.com/questions/48310785/ec2-boto3-userdata-not-executing/48311120#48311120", "title": "EC2 &amp; boto3 - UserData not executing", "body": "<p>This is very silly, but I found the problem. When I create a string variable to hold the UserData, I had a line break at the top of the file before the shebang. The shebang must be the very fist line of the UserData file. Learn something every day!</p>\n\n<p>Hopefully this helps someone down the road.</p>\n"}], "owner": {"reputation": 501, "user_id": 3736286, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7ZqEb.jpg?s=128&g=1", "display_name": "MakleBirt", "link": "https://stackoverflow.com/users/3736286/maklebirt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 902, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516228516, "creation_date": 1516226723, "question_id": 48310785, "link": "https://stackoverflow.com/questions/48310785/ec2-boto3-userdata-not-executing", "title": "EC2 &amp; boto3 - UserData not executing", "body": "<p>When I create and instance with UserData, I am doing so like this:</p>\n\n<pre><code>_i = ec2.create_instances(\n  ImageId=my_ami,\n  MinCount=1, \n  MaxCount=1,\n  KeyName=my_key,\n  InstanceType=\"t2.small\",\n  UserData=u_data)\n</code></pre>\n\n<p>This instance is then launched. I ssh into the instance and my UserData file does not seem to be executed. I logged everything in the console using <code>boto3.set_stream_logger('botocore')</code> and inspected the base64 encoding of my UserData parameter. It looks like this:</p>\n\n<pre><code>#!/bin/bash\necho \"Hello World\" &gt;&gt; /tmp/data.txt\n</code></pre>\n\n<p>I can copy that to a shell file on the ec2 instance, make it executable, and execute it just fine. I am really confused why my UserData argument is not applied when I create the instance. Any help is much appreciated.</p>\n"}, {"tags": ["python", "amazon-web-services", "concurrency", "queue", "amazon-sqs"], "comments": [{"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1516228373, "post_id": 48310756, "comment_id": 83607952, "body": "Have you thought of just disabling the form submit button for X minutes via JavaScript or JQuery? You could also persist a key value for the user&#39;s session and prevent multiple form submissions."}, {"owner": {"reputation": 664, "user_id": 1752676, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e551751342832e23787f28821363ab18?s=128&d=identicon&r=PG", "display_name": "John Magistr", "link": "https://stackoverflow.com/users/1752676/john-magistr"}, "reply_to_user": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1516228651, "post_id": 48310756, "comment_id": 83608069, "body": "Yes, but that would not stop a malicious user from just sending the payload the browser sends to my backend directly 50 times in a row. I cannot rely on the front-end for this."}, {"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 0, "creation_date": 1516231021, "post_id": 48310756, "comment_id": 83608947, "body": "Agreed, but you can maintain session on the web server and prevent multiple submissions. You could also request a key (passphrase) to mitigate. Or better yet, required authentication and authorization. Your design with queues does not handle this."}], "answers": [{"tags": [], "owner": {"reputation": 1341, "user_id": 6809571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000a638897147ab84cf57cde60e2d05b?s=128&d=identicon&r=PG&f=1", "display_name": "John R", "link": "https://stackoverflow.com/users/6809571/john-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228649, "creation_date": 1516228649, "answer_id": 48311147, "question_id": 48310756, "link": "https://stackoverflow.com/questions/48310756/delay-form-submission-and-commit-only-the-latest/48311147#48311147", "title": "Delay form submission and commit only the latest", "body": "<p>Hard to understand what exactly you're trying to accomplish, but I think you should let the user submit through the web server to a database, and then have your timed process query that database for 'valid' submissions to process every so many minutes. Timestamp, max() and a user/sessionId within SQL should be the only necessary elements.</p>\n\n<p>Might give one of the managed database offerings on AWS, IBM Cloud, etc. a go if you don't want to sink in the time to running your own database server.</p>\n\n<p>Best of luck.</p>\n"}], "owner": {"reputation": 664, "user_id": 1752676, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e551751342832e23787f28821363ab18?s=128&d=identicon&r=PG", "display_name": "John Magistr", "link": "https://stackoverflow.com/users/1752676/john-magistr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516228649, "creation_date": 1516226587, "last_edit_date": 1516227111, "question_id": 48310756, "link": "https://stackoverflow.com/questions/48310756/delay-form-submission-and-commit-only-the-latest", "title": "Delay form submission and commit only the latest", "body": "<p>I have made a web form which, upon submit, starts a large process of operations that could result in a large batch of notifications being sent to a number of other users.</p>\n\n<p>In order to avoid an end-user mass-submitting many times during a short time span, I would like to queue up these operations in a queue (or what?) and after a certain delay, only actually submit the latest entry.</p>\n\n<p>I am currently working on AWS and experimenting with various solutions using SQS. Unfortunately I have not been able to find a good solution.</p>\n\n<h2>Current solution</h2>\n\n<p>Right now, I am doing the following, but I am assuming I am using the wrong tool for the job:</p>\n\n<p>First time the user submits:</p>\n\n<ul>\n<li>Backend receives request, looks if a temporary queue exists in amazon\ncalled something like temp_queue_[user's id] </li>\n<li>If true, delete this queue, then create a new queue, <strong>with a\ndelivery delay of 10    minutes</strong>, enqueue the message in this one </li>\n<li>If false, the same as   above, just without deleting a queue first</li>\n</ul>\n\n<p>I then have a separate process which reloads a list of queues every 10-some minutes and actually commits any message they find.</p>\n\n<hr>\n\n<p>I have played around with other approaches such as trying different delivery delays, various <code>MessageGroupId</code>s and so forth, but I end up with the same problem which is, that one consumer will not be guaranteed to get all messages, and in flight, delayed and invisible messages are not able to be dequeued. </p>\n\n<p>Furthermore, I cannot \"filter\" messages from a queue, such as to only receive messages related to only a specific user. So I am definitely starting to think that a queue is the wrong tool. Problem is, I don't know what is.</p>\n\n<p>Best regards,</p>\n"}, {"tags": ["python", "arrays", "pandas", "numpy", "bigdata"], "comments": [{"owner": {"reputation": 828, "user_id": 1582573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d84ff0aa6095b850ca7cda46db37693?s=128&d=identicon&r=PG", "display_name": "Matteo T.", "link": "https://stackoverflow.com/users/1582573/matteo-t"}, "edited": false, "score": 0, "creation_date": 1516227668, "post_id": 48310744, "comment_id": 83607706, "body": "The time-complexity can&#39;t be lowered quite much, but you can lower the average case time by sorting the dataset before processing it and also using some Pandas function to restrict the dataset to the rows having repeated values or group by the joined columns."}, {"owner": {"reputation": 5056, "user_id": 8472976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/808aa1971d8e50ab541e1f54a705afad?s=128&d=identicon&r=PG&f=1", "display_name": "MegaIng", "link": "https://stackoverflow.com/users/8472976/megaing"}, "edited": false, "score": 0, "creation_date": 1516228199, "post_id": 48310744, "comment_id": 83607892, "body": "Please format your code properly."}, {"owner": {"reputation": 18008, "user_id": 241605, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/01175ac61664b22485bc5b4e46169ccc?s=128&d=identicon&r=PG", "display_name": "Matthew Strawbridge", "link": "https://stackoverflow.com/users/241605/matthew-strawbridge"}, "edited": false, "score": 0, "creation_date": 1516229310, "post_id": 48310744, "comment_id": 83608353, "body": "Formatted code and embedded image"}], "answers": [{"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516228346, "creation_date": 1516228346, "answer_id": 48311084, "question_id": 48310744, "link": "https://stackoverflow.com/questions/48310744/find-couple-of-objects-from-a-dataframe/48311084#48311084", "title": "find couple of objects from a dataframe", "body": "<p>you can group by columns <code>[1,2]</code> and then aggregate values from column <code>0</code> as follows:</p>\n\n<pre><code>In [91]: df.groupby([1,2])[0] \\\n           .agg(lambda x: tuple(x.values) if len(x)&gt;1 else np.nan) \\\n           .dropna() \\\n           .tolist()\nOut[91]: [('1', '7'), ('2', '5'), ('3', '6')]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "reply_to_user": {"reputation": 63, "user_id": 9124641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627ec3fc3083242e08271d834c381a14?s=128&d=identicon&r=PG&f=1", "display_name": "c&#39;est moi", "link": "https://stackoverflow.com/users/9124641/cest-moi"}, "edited": false, "score": 0, "creation_date": 1516297734, "post_id": 48311833, "comment_id": 83640244, "body": "@c&#39;estmoi no problem."}], "tags": [], "owner": {"reputation": 6414, "user_id": 4829258, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/3CeCz.jpg?s=128&g=1", "display_name": "Tai", "link": "https://stackoverflow.com/users/4829258/tai"}, "is_accepted": true, "score": 0, "last_activity_date": 1516233385, "last_edit_date": 1516233385, "creation_date": 1516232945, "answer_id": 48311833, "question_id": 48310744, "link": "https://stackoverflow.com/questions/48310744/find-couple-of-objects-from-a-dataframe/48311833#48311833", "title": "find couple of objects from a dataframe", "body": "<p>Group by the second and third column. Then use the combination function: <code>chain</code> and <code>combinations</code>. </p>\n\n<pre><code>from itertools import combinations\nlist(chain(*df.groupby(by=[1, 2])[0].apply(lambda x: combinations(x, 2))))\n[('1', '7'), ('2', '5'), ('3', '6')]\n</code></pre>\n\n<p>Change the dataset a bit.</p>\n\n<pre><code>array = np.array([[1,'aaa','bbb'],[2,'ccc','bbb'],[3,'zzzz','bbb'],\n                  [4,'eee','zzzz'],[5,'ccc','bbb'],[6,'zzzz','bbb'],\n                  [7,'aaa','bbb'], [8, \"aaa\", \"bbb\"], [9, 'zzzz','bbb']])\ndf = pd.DataFrame(array)\n\nlist(chain(*df.groupby(by=[1, 2])[0].apply(lambda x: combinations(x, 2))))\n\n[('1', '7'),\n ('1', '8'),\n ('7', '8'),\n ('2', '5'),\n ('3', '6'),\n ('3', '9'),\n ('6', '9')]\n\nlist(chain(*df.groupby(by=[1, 2])[0].apply(lambda x: combinations(x, 2))))\n1.67 ms \u00b1 34.8 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9124641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/627ec3fc3083242e08271d834c381a14?s=128&d=identicon&r=PG&f=1", "display_name": "c&#39;est moi", "link": "https://stackoverflow.com/users/9124641/cest-moi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 48311833, "answer_count": 2, "score": 1, "last_activity_date": 1516233385, "creation_date": 1516226524, "last_edit_date": 1516229955, "question_id": 48310744, "link": "https://stackoverflow.com/questions/48310744/find-couple-of-objects-from-a-dataframe", "title": "find couple of objects from a dataframe", "body": "<p>How can I avoid the two <code>for</code> loops and optimize my code to be able to handle big data?</p>\n\n<pre><code>import pandas as pd \nimport numpy as np\narray = np.array([[1,'aaa','bbb'],[2,'ccc','bbb'],[3,'zzzz','bbb'],[4,'eee','zzzz'],[5,'ccc','bbb'],[6,'zzzz','bbb'],[7,'aaa','bbb']])\ndf= pd.DataFrame(array)\nl=[]\nfor i in range(len(df)):\n    for j in range(i+1,len(df)):\n        if (df.loc[i][1] == df.loc[j][1]) &amp; (df.loc[i][2] == df.loc[j][2]):\n            l.append((df.loc[i][0],df.loc[j][0]))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Z8FIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z8FIX.png\" alt=\"Screenshot of Jupyter notebook\"></a></p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 1, "creation_date": 1516226518, "post_id": 48310701, "comment_id": 83607165, "body": "Do you have to use Regex? Since there are ways to do this with just pure Python"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 3, "creation_date": 1516226538, "post_id": 48310701, "comment_id": 83607172, "body": "Regex isn&#39;t needed here... <code>if pattern in text.split():</code>"}, {"owner": {"reputation": 423, "user_id": 7421972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-1MCGQL-V1bs/AAAAAAAAAAI/AAAAAAAAABU/0wnuZBCHMvA/photo.jpg?sz=128", "display_name": "user7421972", "link": "https://stackoverflow.com/users/7421972/user7421972"}, "edited": false, "score": 0, "creation_date": 1516226754, "post_id": 48310701, "comment_id": 83607273, "body": "Oh I also tried to make sure without Regex , however I did not have that idea to use text.split(). Thank you so much for all !"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1516227066, "post_id": 48310701, "comment_id": 83607411, "body": "But that will not work well with any punctuation, as it will not find the word &quot;punctuation&quot; in this comment. Or &quot;comment&quot; for that matter."}], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 7421972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-1MCGQL-V1bs/AAAAAAAAAAI/AAAAAAAAABU/0wnuZBCHMvA/photo.jpg?sz=128", "display_name": "user7421972", "link": "https://stackoverflow.com/users/7421972/user7421972"}, "edited": false, "score": 0, "creation_date": 1516226817, "post_id": 48310731, "comment_id": 83607294, "body": "Thank you kind explanation. It is more understandable than other site."}, {"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "reply_to_user": {"reputation": 423, "user_id": 7421972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-1MCGQL-V1bs/AAAAAAAAAAI/AAAAAAAAABU/0wnuZBCHMvA/photo.jpg?sz=128", "display_name": "user7421972", "link": "https://stackoverflow.com/users/7421972/user7421972"}, "edited": false, "score": 1, "creation_date": 1516226850, "post_id": 48310731, "comment_id": 83607307, "body": "@user7421972 Happy to help :)"}], "tags": [], "owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "is_accepted": false, "score": 0, "last_activity_date": 1516226472, "creation_date": 1516226472, "answer_id": 48310731, "question_id": 48310701, "link": "https://stackoverflow.com/questions/48310701/how-to-search-a-word-in-a-sentence/48310731#48310731", "title": "How to search a word in a sentence", "body": "<p>You can use the pattern (assuming words can only be comprised of alphabetics):</p>\n\n<pre><code>\\b[A-Za-z]+\\b\n</code></pre>\n\n<p>If you want to match digits too:</p>\n\n<pre><code>\\b[A-Za-z0-9]+\\b\n</code></pre>\n\n<ul>\n<li><p><code>\\b</code> matches empty string at the end of word </p></li>\n<li><p><code>[A-Za-z0-9]+</code> matches one or more characters from <code>[A-Za-z0-9]</code></p></li>\n</ul>\n\n<p>As a side note, if you want to include <code>_</code> too, you can use the token <code>\\w</code>:</p>\n\n<pre><code>\\b\\w+\\b\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 7421972, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-1MCGQL-V1bs/AAAAAAAAAAI/AAAAAAAAABU/0wnuZBCHMvA/photo.jpg?sz=128", "display_name": "user7421972", "link": "https://stackoverflow.com/users/7421972/user7421972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "closed_date": 1516226722, "answer_count": 1, "score": 0, "last_activity_date": 1516226472, "creation_date": 1516226351, "question_id": 48310701, "link": "https://stackoverflow.com/questions/48310701/how-to-search-a-word-in-a-sentence", "closed_reason": "Duplicate", "title": "How to search a word in a sentence", "body": "<p>I am struggling to find a certain word in a sentence.\nFor instance,\nIf I have a this sentence 'look toward cage again'</p>\n\n<pre><code>import re\npattern = r'again'\ntext = 'look toward cage again'\nmatchOB = re.search(pattern , text)\nif match0B:\n   print('True')\n</code></pre>\n\n<p>This code returns True, however </p>\n\n<pre><code>pattern = r'aga'\ntext = 'look toward cage again'\nmatchOB = re.search(pattern , text)\nif match0B:\n   print('True')\n</code></pre>\n\n<p>This code also returns  True.\nI want to return only if it is completely matched with word not with characters.</p>\n\n<p>It would be really appreciated if it is explained in detail.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 2, "creation_date": 1516226129, "post_id": 48310610, "comment_id": 83606989, "body": "Yeah that is possible. Any attempt from your side?"}, {"owner": {"reputation": 7081, "user_id": 789671, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/feaaeb3d021966d84450cbfb24b1824a?s=128&d=identicon&r=PG", "display_name": "glibdud", "link": "https://stackoverflow.com/users/789671/glibdud"}, "edited": false, "score": 1, "creation_date": 1516226197, "post_id": 48310610, "comment_id": 83607018, "body": "No, there&#39;s no trick. You have to actually code it to do that."}, {"owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1516226695, "post_id": 48310610, "comment_id": 83607247, "body": "@WillemVanOnsem I&#39;ve made a few attempts, but none of them worked out, so I didn&#39;t publish them here"}], "answers": [{"comments": [{"owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516226483, "post_id": 48310670, "comment_id": 83607150, "body": "not exactly what I&#39;m searching for. Reasons: 1. Here you usean instance of Parent, not the type itself; 2. In the Parent.__getattr__() you hardcoded Child, while there can be different classes (but I&#39;ve got the idea will make a few attempts)"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516226581, "post_id": 48310670, "comment_id": 83607185, "body": "@VasylBratushka: then <b>be clearer in your question</b>. Why does it <b>have</b> to be a class object? You can always use a <i>metatype</i> to hook the <code>__getattr__</code> call, or just use <code>child = Child(Parent, &#39;child&#39;)</code> to hard-code the attribute."}, {"owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516227564, "post_id": 48310670, "comment_id": 83607650, "body": "<code>child = Child(Parent, &#39;child&#39;</code> is definitely a working option and resolves all the issue, but smells really bad. Just imagine there&#39;s 10 different <code>Child</code> (or its descendants) properties in the Parent descendant - in each of them you&#39;ll have to put those 2 properties. Other than that - <code>Child</code> can have several other arguments in the <code>__init__</code>. I was looking for a solution without the 2 extra arguments. Sorry for not being clear enough in the question, will add this right now."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516228601, "post_id": 48310670, "comment_id": 83608038, "body": "@VasylBratushka: the point is that if you want to include the information about parent (class name, attribute name) you have no choice but to pass that through."}, {"owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516229216, "post_id": 48310670, "comment_id": 83608315, "body": "this is exactly the reason why I asked this here. If there&#39;s no way to solve this without passing info through - the answer to this post is &quot;no, it&#39;s impossible&quot;. Thanks for your efforts, I appreciate it."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "edited": false, "score": 0, "creation_date": 1516291174, "post_id": 48310670, "comment_id": 83636226, "body": "@VasylBratushka: I recalled another technique and expanded on that; those allow you to ignore the attribute name and parent type in the <code>__init__</code> method."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 4, "last_activity_date": 1516291133, "last_edit_date": 1516291133, "creation_date": 1516226216, "answer_id": 48310670, "question_id": 48310610, "link": "https://stackoverflow.com/questions/48310610/get-type-of-object-and-name-of-the-property-from-a-comparison-in-python3/48310670#48310670", "title": "Get type of object and name of the property from a comparison in Python3", "body": "<p>Yes, it's possible, but you need to store the parent reference in the child object explicitly. The <code>&gt;</code> operator can be hooked into with the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__gt__\" rel=\"nofollow noreferrer\"><code>__gt__</code> method</a>.</p>\n\n<p>Since you are producing output that contains <em>dynamic</em> information on the <code>child</code> attribute, you could produce a <em>dynamic</em> child object, using the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__getattr__\" rel=\"nofollow noreferrer\"><code>__getattr__</code> method</a>, which is called whenever an otherwise non-existing attribute is accessed:</p>\n\n<pre><code>class Child:\n    def __init__(self, parent_type, attr_name):\n        self._parent_type = parent_type\n        self._parent_attr_name = attr_name\n\n    def __gt__(self, other):\n        return {\n            'type': self._parent_type,\n            'property': self._parent_attr_name,\n            'action': '&gt;',\n            'value': other,\n        }\n\nclass Parent:\n    def __getattr__(self, name):\n        return Child(type(self), name)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; Parent().child &gt; 1\n{'type': &lt;class '__main__.Parent'&gt;, 'property': 'child', 'action': '&gt;', 'value': 1}\n</code></pre>\n\n<p>If <code>Parent</code> <em>must</em> be a class (why?) then use a fixed attribute (<code>child = Child(Parent, 'child')</code>), or use a metaclass:</p>\n\n<pre><code>class ParentMeta(type):\n    def __getattr__(cls, name):\n        return Child(cls, name)\n\nclass Parent(metaclass=ParentMeta):\n    pass\n</code></pre>\n\n<p>at which point you get the same effect, but without creating an instance:</p>\n\n<pre><code>&gt;&gt;&gt; Parent.child &gt; 1\n{'type': &lt;class '__main__.Parent'&gt;, 'property': 'child', 'action': '&gt;', 'value': 1}\n</code></pre>\n\n<p>As of Python 3.6 onwards, you also use the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__set_name__\" rel=\"nofollow noreferrer\"><code>__set_name__</code> hook</a> to capture the type of the class on which your attribute is defined:</p>\n\n<pre><code>class Child:\n    def __set_name__(self, owner, attr_name):\n        self._parent_type = owner\n        self._parent_attr_name = attr_name\n\n    def __gt__(self, other):\n        return {\n            'type': self._parent_type,\n            'property': self._parent_attr_name,\n            'action': '&gt;',\n            'value': other,\n        }\n</code></pre>\n\n<p>Note that these attributes are not set in the <code>__init__</code>! You create the child object as an attribute on the class, at which point the <code>__set_name__</code> method is called automatically. The output is again the same:</p>\n\n<pre><code>&gt;&gt;&gt; class Parent:\n...     child = Child()\n...\n&gt;&gt;&gt; Parent.child &gt; 1\n{'type': &lt;class '__main__.Parent'&gt;, 'property': 'child', 'action': '&gt;', 'value': 1}\n</code></pre>\n\n<p>Note that <em>subclasses</em> are not going to be reflected in the parent type; you'd have to use the <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__get__\" rel=\"nofollow noreferrer\"><code>__get__</code> method</a> to capture the current type each time and return a wrapper object:</p>\n\n<pre><code>class ChildWrapper:\n    def __init__(self, child, parent_type):\n        self._child = child\n        self._parent_type = parent_type\n\n    def __getattr__(self, name):\n        return getattr(self._child, name)\n\n    def __gt__(self, other):\n        return {\n            'type': self._parent_type,\n            'property': self._child._parent_attr_name,\n            'action': '&gt;',\n            'value': other,\n        }\n\nclass Child:\n    def __set_name__(self, owner, attr_name):\n        self._parent_attr_name = attr_name\n\n    def __get__(self, instance, owner):\n        return ChildWrapper(self, owner)\n</code></pre>\n\n<p>This creates a <code>ChildWrapper()</code> instance on each attribute access (on the class or an instance), and all further attribute access is delegated back to the original <code>Child()</code> instance (but note that special methods <a href=\"https://docs.python.org/3/reference/datamodel.html#special-method-lookup\" rel=\"nofollow noreferrer\">can't be proxied this way</a>):</p>\n\n<pre><code>&gt;&gt;&gt; class Parent:\n...     child = Child()\n...\n&gt;&gt;&gt; Parent.child\n&lt;__main__.ChildWrapper object at 0x10fc564e0&gt;\n&gt;&gt;&gt; Parent.child &gt; 1\n{'type': &lt;class '__main__.Parent'&gt;, 'property': 'child', 'action': '&gt;', 'value': 1}\n</code></pre>\n\n<p>Because the <code>ChildWrapper</code> is created each time based on the object it was accessed on, this works with subclassing too, tracking the <em>current</em> type:</p>\n\n<pre><code>&gt;&gt;&gt; class Subclass(Parent):\n...     pass\n...\n&gt;&gt;&gt; Subclass.child &gt; 1\n{'type': &lt;class '__main__.Subclass'&gt;, 'property': 'child', 'action': '&gt;', 'value': 1}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "is_accepted": true, "score": 0, "last_activity_date": 1528974150, "creation_date": 1528974150, "answer_id": 50855997, "question_id": 48310610, "link": "https://stackoverflow.com/questions/48310610/get-type-of-object-and-name-of-the-property-from-a-comparison-in-python3/50855997#50855997", "title": "Get type of object and name of the property from a comparison in Python3", "body": "<p>For future references:</p>\n\n<pre><code>class BaseChild:\n    type = None\n    property = None\n\n    def __gt__(self, other):\n        return {\n            'type': self.type,\n            'property': self.property,\n            'action': '&gt;',\n            'value': other,\n        }\n\n\nclass MetaParent(type):\n    def __new__(mcs, name, bases, attrs):\n        cls = super().__new__(mcs, name, bases, attrs)\n\n        # This is the needed trick\n        for name, attr in attrs.items():\n            if isinstance(attr, BaseChild):\n                attr.type = cls\n                attr.property = name\n\n        return cls\n\n\nclass SomeChild(BaseChild):\n    pass\n\n\nclass Parent(metaclass=MetaParent):\n    first_child = SomeChild()\n\n\nprint(Parent.first_child &gt; 1)\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>{'type': &lt;class '__main__.Parent'&gt;, 'value': 1, 'property': 'first_child', 'action': '&gt;'}\n</code></pre>\n"}], "owner": {"reputation": 296, "user_id": 4321796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7JML0.jpg?s=128&g=1", "display_name": "Vasyl Bratushka", "link": "https://stackoverflow.com/users/4321796/vasyl-bratushka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 50855997, "answer_count": 2, "score": 0, "last_activity_date": 1528974150, "creation_date": 1516225950, "last_edit_date": 1516227779, "question_id": 48310610, "link": "https://stackoverflow.com/questions/48310610/get-type-of-object-and-name-of-the-property-from-a-comparison-in-python3", "title": "Get type of object and name of the property from a comparison in Python3", "body": "<p>This is the definition of classes:</p>\n\n<pre><code>class Child:\n    pass\nclass Parent:\n    child = Child()\n</code></pre>\n\n<p>where <code>Child</code> can have different <code>args</code> and <code>kwargs</code>, so please do not consider this notation: <code>child = Child(Parent, 'child')</code></p>\n\n<p>After an assignment like:</p>\n\n<pre><code>result = Parent.child &gt; 1\n</code></pre>\n\n<p>where <code>Parent</code> is a type (not an instance)</p>\n\n<p><strong>result</strong> should be:</p>\n\n<pre><code>{\n    'type': Parent,\n    'property': 'child',\n    'action': '&gt;',\n    'value': 1,\n}\n</code></pre>\n\n<p>I'm not sure if it's possible at all, but is there anybody who knows a trick?</p>\n"}, {"tags": ["python", "python-3.6"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1516225909, "post_id": 48310572, "comment_id": 83606903, "body": "in your print loop you&#39;re printing the last values printed, not the values of the list..."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516226148, "post_id": 48310572, "comment_id": 83606995, "body": "<code>for student in range(len(studentList)):</code> complicates this further since <code>student</code> then becomes an integer with which to index your list, which isn&#39;t very intuitive. I would change to <code>for student in studentList:</code> and the first part of your <code>print</code> would be <code>print(&quot;\\nStudent Name:&quot;, student[0] ,&quot;\\nStudent-ID:&quot;, student[1] ,...&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1143, "user_id": 8759952, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7d8e784fa5cd3e5a2dfe13b405fc1de1?s=128&d=identicon&r=PG&f=1", "display_name": "Liora Haydont", "link": "https://stackoverflow.com/users/8759952/liora-haydont"}, "is_accepted": false, "score": 0, "last_activity_date": 1516226194, "creation_date": 1516226194, "answer_id": 48310664, "question_id": 48310572, "link": "https://stackoverflow.com/questions/48310572/python-3-6-appending-list-created-duplicates/48310664#48310664", "title": "python 3.6 appending list created duplicates", "body": "<p>The issue is not in your list, it's in you for loop.</p>\n\n<p>Instead of using the <code>name</code>, <code>net_id</code>, <code>fnl_grade</code> and <code>let_grade</code> variable you need to use the student you are looping on. Also, since <code>studentList</code> is a list, you can simply loop on it</p>\n\n<pre><code>for student in studentList:\n    print(\"\\nStudent Name:\", student[0] ,\"\\nStudent-ID:\", student[1] ,\"\\nFinal Grade:\",student[2] ,\"\\nLetter Grade:\", student[3])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 9230828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAlXy.jpg?s=128&g=1", "display_name": "Benjamin Drung", "link": "https://stackoverflow.com/users/9230828/benjamin-drung"}, "is_accepted": true, "score": 1, "last_activity_date": 1516226470, "creation_date": 1516226470, "answer_id": 48310730, "question_id": 48310572, "link": "https://stackoverflow.com/questions/48310572/python-3-6-appending-list-created-duplicates/48310730#48310730", "title": "python 3.6 appending list created duplicates", "body": "<p>You define <code>name</code>, <code>net_id</code>, <code>fnl_grade</code>, and <code>let_grade</code> in the <code>while</code> loop. When you exit the loop, these variable keep the value of the last iteration. You just print these variables in the following for loop without setting them. You probably want to use following for condition:</p>\n\n<pre><code>  for name, net_id, fnl_grade, let_grade in studentList:\n      print(\"\\nStudent Name:\", name.title() ,\"\\nStudent-ID:\", net_id ,\"\\nFinal Grade:\",fnl_grade ,\"\\nLetter Grade:\", let_grade)\n      print()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9231039, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-StxAj9wera0/AAAAAAAAAAI/AAAAAAAAAYg/LE_-OQfOy0M/photo.jpg?sz=128", "display_name": "Sailorjoey", "link": "https://stackoverflow.com/users/9231039/sailorjoey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1516232755, "accepted_answer_id": 48310730, "answer_count": 2, "score": -3, "last_activity_date": 1516226470, "creation_date": 1516225815, "question_id": 48310572, "link": "https://stackoverflow.com/questions/48310572/python-3-6-appending-list-created-duplicates", "closed_reason": "Not suitable for this site", "title": "python 3.6 appending list created duplicates", "body": "<p>My program will calculate a final grade, I believe thats all correct up until Im creating multiple entries. when i enter 'y' to enter another student the second student copies into the first students list then dulplicates itself resulting in a copy and not my first original entry. so instead of having mike, jim, and mary its mary, mary, and mary.</p>\n\n<pre><code>#This program will calculate a classes final grades.\n\ndef get_grades():\n\n    print(\"\\nEnter grades for assignments 1-5 (0-20 PT scale)\")\n\n    assignment1 = eval(input(\"\\nEnter assignment 1 grade: \"))\n    assignment2 = eval(input(\"Enter     ''     2 grade: \"))\n    assignment3 = eval(input(\"Enter     ''     3 grade: \"))\n    assignment4 = eval(input(\"Enter     ''     4 grade: \"))\n    assignment5 = eval(input(\"Enter     ''     5 grade: \"))\n\n    total = (assignment1 + assignment2 + assignment3 + assignment4 + assignment5)\n\n    print(\"\\nEnter the Midterm and Final exam grades (0-100 PT scale))\")\n    midterm = eval(input(\"\\nMidterm grade: \"))\n    final = eval(input(\"Final grade: \"))\n\n    exam_avg = (final + midterm)/2\n\n    print(\"\\nEnter the participation grade (0-10 PT scale)\")\n    participation = int(input(\"Participation: \"))\n\n    final_grade = (total*0.45) + (exam_avg*0.45) + participation\n\n    return final_grade\n\ndef determine_let_grade(final_grade):\n\n    if final_grade &gt; 100 or final_grade &lt; 0:\n        return \"ERROR!\"\n\n    elif final_grade &lt;= 100 and final_grade &gt; 90:\n        return \"A\"\n\n    elif final_grade &lt;= 89 and final_grade &gt; 80:\n        return \"B\"\n\n    elif final_grade &lt;= 79 and final_grade &gt; 70:\n        return \"C\"\n\n    elif final_grade &lt;= 69 and final_grade &gt; 60:\n        return \"D\"\n\n    elif final_grade &lt;= 59:\n        return \"F\"   \n\ndef main():\n\n    print(\"This program will calculate your students final grades.\")\n\n    studentList = []\n    another_student = \"y\" \n\n    while another_student == 'y':\n        name = input(\"\\nEnter the student's name: \")\n        net_id = int(input(\"Enter the student's Identification number: \")) \n        fnl_grade = get_grades()\n        let_grade = determine_let_grade(fnl_grade)\n        studentList.append([name, net_id, fnl_grade, let_grade])\n        another_student = input(\"\\nEnter y or n to add another student: \")\n\n    for student in range(len(studentList)):\n        print(\"\\nStudent Name:\", name.title() ,\"\\nStudent-ID:\", net_id ,\"\\nFinal Grade:\",fnl_grade ,\"\\nLetter Grade:\", let_grade)\n        print()\n    input (\"Please press Enter to quit the program\")\nmain()\n</code></pre>\n"}, {"tags": ["python", "beautifulsoup"], "comments": [{"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 1, "creation_date": 1516225719, "post_id": 48310534, "comment_id": 83606820, "body": "do you mean beautifulsoup?"}, {"owner": {"reputation": 3298, "user_id": 8928024, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/75f4b1f5d87975964979ce2718af1ae9?s=128&d=identicon&r=PG&f=1", "display_name": "ZF007", "link": "https://stackoverflow.com/users/8928024/zf007"}, "edited": false, "score": 1, "creation_date": 1516226020, "post_id": 48310534, "comment_id": 83606943, "body": "&quot;soap&quot;, &quot;soup&quot;.. &quot;patato&quot;... &quot;pateto&quot;.... in coding all different results ahead expected. and it ain&#39;t vegies! Aaron.. fix the lingo ;-) End of reviewing question."}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": true, "score": 0, "last_activity_date": 1516227990, "last_edit_date": 1516227990, "creation_date": 1516226488, "answer_id": 48310737, "question_id": 48310534, "link": "https://stackoverflow.com/questions/48310534/python-beautifulsoup-find-all-function-without-duplication/48310737#48310737", "title": "Python Beautifulsoup find all function without duplication", "body": "<p><code>BeautifulSoup</code> is not analyzing the text of the <code>html</code>, instead, it is acquiring the desired tag structure. In this case, you need to perform an additional step and check if the text of an <code>&lt;p&gt;</code> is already seen in a different structure:</p>\n\n<pre><code>from bs4 import BeautifulSoup as soup\nmarkup = '&lt;b&gt;&lt;/b&gt;&lt;a&gt;&lt;/a&gt;&lt;p&gt;hey&lt;/p&gt;&lt;li&gt;&lt;p&gt;How&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;are you &lt;/p&gt;&lt;/li&gt;'\ns = soup(markup, 'lxml')\nfinal_s = s.find_all(re.compile('p|li'))\nfinal_data = [','.join(map(str, [a for i, a in enumerate(final_s) if not any(a.text == b.text for b in final_s[:i])]))]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['&lt;p&gt;hey&lt;/p&gt;,&lt;li&gt;&lt;p&gt;How&lt;/p&gt;&lt;/li&gt;,&lt;li&gt;&lt;p&gt;are you &lt;/p&gt;&lt;/li&gt;']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6659, "user_id": 7832176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5923d496015d26974109a16c7af1b4b?s=128&d=identicon&r=PG&f=1", "display_name": "Keyur Potdar", "link": "https://stackoverflow.com/users/7832176/keyur-potdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1516249956, "creation_date": 1516249956, "answer_id": 48313894, "question_id": 48310534, "link": "https://stackoverflow.com/questions/48310534/python-beautifulsoup-find-all-function-without-duplication/48313894#48313894", "title": "Python Beautifulsoup find all function without duplication", "body": "<p>If you are looking for the text and not the <code>&lt;li&gt;</code> tags, you can just search for the <code>&lt;p&gt;</code> tags and get the desired result without duplication.</p>\n\n<pre><code>&gt;&gt;&gt; data = soup.find_all('p')\n&gt;&gt;&gt; data\n[&lt;p&gt;hey&lt;/p&gt;, &lt;p&gt;How&lt;/p&gt;, &lt;p&gt;are you &lt;/p&gt;]\n</code></pre>\n\n<p>Or, if you are simply looking for the text, you can use this: </p>\n\n<pre><code>&gt;&gt;&gt; data = [x.text for x in soup.find_all('p')]\n&gt;&gt;&gt; data\n['hey', 'How', 'are you ']\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7096864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bd4fad88d2582a09f703cea0e1b1b4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron", "link": "https://stackoverflow.com/users/7096864/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 48310737, "answer_count": 2, "score": 0, "last_activity_date": 1516257699, "creation_date": 1516225621, "last_edit_date": 1516257699, "question_id": 48310534, "link": "https://stackoverflow.com/questions/48310534/python-beautifulsoup-find-all-function-without-duplication", "title": "Python Beautifulsoup find all function without duplication", "body": "<pre><code>markup = '&lt;b&gt;&lt;/b&gt;&lt;a&gt;&lt;/a&gt;&lt;p&gt;hey&lt;/p&gt;&lt;li&gt;&lt;p&gt;How&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;are you &lt;/p&gt;&lt;/li&gt;'\nsoup = BeautifulSoup(markup)\ndata = soup.find_all('p','li')\nprint(data)\n</code></pre>\n\n<p>The result looks like this</p>\n\n<pre><code>['&lt;p&gt;hey&lt;/p&gt;,&lt;p&gt;How &lt;/p&gt;,&lt;li&gt;&lt;p&gt;How&lt;/p&gt;&lt;/li&gt;,&lt;p&gt;are you &lt;/p&gt;,&lt;li&gt;&lt;p&gt;are you &lt;/p&gt;&lt;/li&gt;']\n</code></pre>\n\n<p>How can I  make it only return</p>\n\n<pre><code>['&lt;p&gt;hey&lt;/p&gt;,&lt;li&gt;&lt;p&gt;How&lt;/p&gt;&lt;/li&gt;,&lt;li&gt;&lt;p&gt;are you &lt;/p&gt;&lt;/li&gt;']\n</code></pre>\n\n<p>or any ways that I can remove the duplicated p tags Thanks </p>\n"}, {"tags": ["python", "facebook", "facebook-graph-api"], "comments": [{"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 1, "creation_date": 1526526152, "post_id": 48310511, "comment_id": 87781138, "body": "Hi, did you find out the solution for this problem?"}, {"owner": {"reputation": 1387, "user_id": 1253952, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0bfe2b2f5eb6cdb4453ab4124321a7c9?s=128&d=identicon&r=PG", "display_name": "user1253952", "link": "https://stackoverflow.com/users/1253952/user1253952"}, "reply_to_user": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 1, "creation_date": 1526541849, "post_id": 48310511, "comment_id": 87786809, "body": "No :/ I just added error handling to catch and ignore that error message after seeing it 3 times in a row. Let me know if you come across a better solution!"}, {"owner": {"reputation": 5016, "user_id": 4254681, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/17tFz.jpg?s=128&g=1", "display_name": "Duannx", "link": "https://stackoverflow.com/users/4254681/duannx"}, "edited": false, "score": 0, "creation_date": 1526545410, "post_id": 48310511, "comment_id": 87788818, "body": "Sad to hear that. I&#39;m finding the solution too :D"}], "owner": {"reputation": 1387, "user_id": 1253952, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/0bfe2b2f5eb6cdb4453ab4124321a7c9?s=128&d=identicon&r=PG", "display_name": "user1253952", "link": "https://stackoverflow.com/users/1253952/user1253952"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1556, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1516225534, "creation_date": 1516225534, "question_id": 48310511, "link": "https://stackoverflow.com/questions/48310511/facebook-graph-api-service-temporarily-unavailable-oauthexception", "title": "Facebook Graph API - Service temporarily unavailable OAuthException", "body": "<p>I am attempting to scrape the statuses of a public facebook place via version 2.11's posts endpoint. The generated URL I am calling is as follows:</p>\n\n<pre><code>https://graph.facebook.com/v2.11/41585566807/posts?access_token=XXX&amp;fields=message%2Clink%2Ccreated_time%2Ctype%2Cname%2Cid%2Ccomments.limit%280%29.summary%28true%29%2Cshares%2Creactions.limit%280%29.summary%28true%29&amp;limit=100&amp;after=Q2c4U1pXNTBYM0YxWlhKNVgzTjBiM0o1WDJsa0R5QTBNVFU0TlRVMk5qZA3dOem90TmprM05qWTFOREEwTmprMU1qUTVOREEwTXc4TVlYQnBYM04wYjNKNVgybGtEeDAwTVRVNE5UVTJOamd3TjE4eE1ERTFNRFF6TmpjME5UZAzNOamd3T0E4RWRHbHRaUVpPcUpBRUFRPT0ZD\n</code></pre>\n\n<p>I am paging through chunks of 100 statuses to return them all. This method works great for the first 2600 statuses on the page, but once I try to get the next 100, I get the following error message.</p>\n\n<pre><code>{\n   \"error\": {\n      \"message\": \"(#2) Service temporarily unavailable\",\n      \"type\": \"OAuthException\",\n      \"is_transient\": true,\n      \"code\": 2,\n      \"fbtrace_id\": \"EezWeUvcCXd\"\n   }\n}\n</code></pre>\n\n<p>Even though, is_transient is true, it lasts through hours of repeated calls (every 5 seconds) to the api. Any idea why this error message is occurring and how to avoid it?</p>\n"}, {"tags": ["python", "mysql", "r", "kubernetes", "google-kubernetes-engine"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "edited": false, "score": 0, "creation_date": 1516290689, "post_id": 48310711, "comment_id": 83635861, "body": "Steinman        Thank you so much for a quick answer but when I tried that I get the same error. I will switch back to ClusterIP only.                <code>db&lt;-dbConnect(MySQL(), user = &#39;root&#39;, password =&#39;neurocoreai&#39;, +                  host =  &quot;mysql&quot;, port=3306) Error in .local(drv, ...) :    Failed to connect to database: Error: Can&#39;t connect to MySQL server on &#39;mysql&#39; (107)</code>"}, {"owner": {"reputation": 2815, "user_id": 5613927, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gc6vmJ9sDLk/AAAAAAAAAAI/AAAAAAAAAF8/W4v4Yghj6Y8/photo.jpg?sz=128", "display_name": "David Steiman", "link": "https://stackoverflow.com/users/5613927/david-steiman"}, "reply_to_user": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "edited": false, "score": 0, "creation_date": 1516295057, "post_id": 48310711, "comment_id": 83638687, "body": "it looks like a network issue...it actually should work"}, {"owner": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "edited": false, "score": 0, "creation_date": 1516297184, "post_id": 48310711, "comment_id": 83639951, "body": "is this a GCE thing? Pinging the mysql service comes back empty: <code>root@r-user-app-1788932656-vgczh:&#47;# ping mysql PING mysql.default.svc.cluster.local (10.15.245.25): 56 data bytes</code>"}, {"owner": {"reputation": 2815, "user_id": 5613927, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gc6vmJ9sDLk/AAAAAAAAAAI/AAAAAAAAAF8/W4v4Yghj6Y8/photo.jpg?sz=128", "display_name": "David Steiman", "link": "https://stackoverflow.com/users/5613927/david-steiman"}, "reply_to_user": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "edited": false, "score": 0, "creation_date": 1516301644, "post_id": 48310711, "comment_id": 83642363, "body": "is your mysql pod running well? check out the logs of the pod behind mysql"}, {"owner": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "edited": false, "score": 0, "creation_date": 1516307740, "post_id": 48310711, "comment_id": 83645435, "body": "<code>20:32:44 1 [Note] Server hostname (bind-address): &#39;*&#39;; port: 3306 2018-01-17 20:32:44 1 [Note] IPv6 is available. 2018-01-17 20:32:44 1 [Note]   - &#39;::&#39; resolves to &#39;::&#39;; 2018-01-17 20:32:44 1 [Note] Server socket created on IP: &#39;::&#39;. 2018-01-17 20:32:44 1 [Warning] &#39;proxies_priv&#39; entry &#39;@ root@mysql-3648550465-lmzxc&#39; ignored in --skip-name-resolve mode. 2018-01-17 20:32:44 1 [Note] Event Scheduler: Loaded 0 events 2018-01-17 20:32:44 1 [Note] mysqld: ready for connections. Version: &#39;5.6.39&#39;  socket: &#39;&#47;var&#47;run&#47;mysqld&#47;mysqld.sock&#39;  port: 3306  MySQL Community Server (GPL)</code>"}], "tags": [], "owner": {"reputation": 2815, "user_id": 5613927, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-gc6vmJ9sDLk/AAAAAAAAAAI/AAAAAAAAAF8/W4v4Yghj6Y8/photo.jpg?sz=128", "display_name": "David Steiman", "link": "https://stackoverflow.com/users/5613927/david-steiman"}, "is_accepted": false, "score": 1, "last_activity_date": 1516226410, "creation_date": 1516226410, "answer_id": 48310711, "question_id": 48310468, "link": "https://stackoverflow.com/questions/48310468/how-to-connect-to-database-using-scripting-language-inside-kubernetes-cluster/48310711#48310711", "title": "How to connect to database using scripting language inside kubernetes cluster", "body": "<p>You don't need to use the IP. You can access the servers directly by name. You even don't need to use the full DNS name with \"mysql.default.svc.cluster.local\", just \"mysql\" is enough.</p>\n\n<p>You should also check the mysql pod, if it is deployed properly. Using <code>Type=LoadBalancer</code> is not a good idea for databases, as it opens them to the outer network.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "is_accepted": true, "score": 0, "last_activity_date": 1516655432, "creation_date": 1516655432, "answer_id": 48390319, "question_id": 48310468, "link": "https://stackoverflow.com/questions/48310468/how-to-connect-to-database-using-scripting-language-inside-kubernetes-cluster/48390319#48390319", "title": "How to connect to database using scripting language inside kubernetes cluster", "body": "<p>Answering my own question: This was an issue with the yaml. Needed to be sure to match the <code>Service</code> </p>\n\n<pre><code>  selector:\n    app: my-app\n    tier: mysql\n</code></pre>\n\n<p>and the <code>Deployment</code></p>\n\n<pre><code>spec:\n  selector:\n    matchLabels:\n      app: my-app\n      tier: mysql\n</code></pre>\n\n<p>Now we can access the database using \"mysql\" instead of a host IP address.</p>\n"}], "owner": {"reputation": 53, "user_id": 7608607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae7702c2488f68b7390d07ba3fc8a59?s=128&d=identicon&r=PG&f=1", "display_name": "anweb", "link": "https://stackoverflow.com/users/7608607/anweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 861, "favorite_count": 0, "accepted_answer_id": 48390319, "answer_count": 2, "score": 0, "last_activity_date": 1516655432, "creation_date": 1516225350, "question_id": 48310468, "link": "https://stackoverflow.com/questions/48310468/how-to-connect-to-database-using-scripting-language-inside-kubernetes-cluster", "title": "How to connect to database using scripting language inside kubernetes cluster", "body": "<p>Using Google Kubernetes Engine, I have set up a mysql database deployment &amp; service in kubernetes, much like the <a href=\"https://kubernetes.io/docs/tutorials/stateful-application/mysql-wordpress-persistent-volume/\" rel=\"nofollow noreferrer\">wordpress example</a>. I want to access it via R with R which I have in another deployment &amp; service in my kubernetes cluster (r-user-app, w/2 containers). This worked with networks in docker.</p>\n\n<pre><code>&gt; kubectl get services\nNAME         TYPE           CLUSTER-IP      EXTERNAL-IP      PORT(S)                         AGE\nkubernetes   ClusterIP      10.15.240.1     &lt;none&gt;           443/TCP                         8d\nmysql        LoadBalancer   10.15.248.129   35.227.123.232   3306:31410/TCP                  3m\nr-user-app   LoadBalancer   10.15.255.135   35.227.33.206    3838:31003/TCP,8787:32395/TCP   1d\n</code></pre>\n\n<p>Exec into the rstudio container inside the <code>r-user-app</code> deployment, I see the mysql service:</p>\n\n<pre><code>root@r-user-app-1788932656-vgczh:/# getent hosts mysql\n10.15.248.129   mysql.default.svc.cluster.local\n</code></pre>\n\n<p>However, when I try to get it via R, I have no such luck:</p>\n\n<pre><code>root@r-user-app-1788932656-vgczh:/# R\nR version 3.4.2 (2017-09-28) -- \"Short Summer\"\n-----\n&gt; require(\"RMySQL\")\nLoading required package: RMySQL\nLoading required package: DBI\n&gt; mydb&lt;-dbConnect(MySQL(), user=\"root\", password=\"mypassword\", host=\"10.15.248.129\")\nError in .local(drv, ...) :\n  Failed to connect to database: Error: Can't connect to MySQL server on '10.15.248.129' (107)\n</code></pre>\n\n<p>Using the <code>EXTERNAL-IP</code> doesn't work either, and putting <code>port=3306</code> doesn't help.</p>\n\n<p>Same thing in python:</p>\n\n<pre><code>&gt; db=MySQLdb.connect(\"10.15.248.129\", \"root\", \"mypassword\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"/usr/local/lib/python2.7/dist-packages/MySQLdb/__init__.py\", line 81, in Connect\n    return Connection(*args, **kwargs)\n  File \"/usr/local/lib/python2.7/dist-packages/MySQLdb/connections.py\", line 193, in __init__\n    super(Connection, self).__init__(*args, **kwargs2)\n_mysql_exceptions.OperationalError: (2003, 'Can\\'t connect to MySQL server on \\'10.15.248.129\\' (111 \"Connection refused\")')\n</code></pre>\n\n<p>Maybe I don't even know the right question to ask! Please help! #kubenube</p>\n"}, {"tags": ["python", "c", "numpy"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 2, "creation_date": 1516225546, "post_id": 48310452, "comment_id": 83606742, "body": "Could you add the (minimized) code that &quot;creates the numpy array of strings in a C extension module&quot; and gives you the wrong result?"}, {"owner": {"reputation": 12179, "user_id": 1480131, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/WZPm4.jpg?s=128&g=1", "display_name": "Pablo", "link": "https://stackoverflow.com/users/1480131/pablo"}, "edited": false, "score": 0, "creation_date": 1516230385, "post_id": 48310452, "comment_id": 83608739, "body": "This looks like C++ code, it would be better if you replace the <code>c</code> tag of your question with the <code>c++</code> tag. Then your question will appear in the correct filter."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 1, "creation_date": 1516233408, "post_id": 48310452, "comment_id": 83609585, "body": "sorry, but that&#39;s not some code that can be executed without having your GrowingBuffer. Could you include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}], "owner": {"reputation": 833, "user_id": 3812403, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/0963dc953188cca0374d4fa3436748ab?s=128&d=identicon&r=PG&f=1", "display_name": "ByteMe95", "link": "https://stackoverflow.com/users/3812403/byteme95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 553, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1516287814, "creation_date": 1516225283, "last_edit_date": 1516287814, "question_id": 48310452, "link": "https://stackoverflow.com/questions/48310452/how-to-properly-create-numpy-string-arrays-using-the-numpy-c-api", "title": "How to properly create numpy string arrays using the NumPY C API", "body": "<p>I'm trying to create a numpy array of strings in a C extension module.  I cant tell what im doing wrong, I've tried various things at this point.  My main issue is that im creating a fixed-size string type array, where the fixed size is effectively the max size but the strings are null-terminated c strings.\nThe problem is that when I print out the array ive returned, it prints the entire fixed length rather than respecting the null terminator, ie:</p>\n\n<blockquote>\n  <p>b'PZYJKT\\x00A\\x04' b'PZYJKBT\\x00\\x04' b'PZYJKBT\\x00\\x04'</p>\n</blockquote>\n\n<p>rather than</p>\n\n<blockquote>\n  <p>b'PZYJKT' b'PZYJKBT' b'PZYJKBT'</p>\n</blockquote>\n\n<p>I set the dtype in this example = \"S13\".  If I do the same thing in native python, everything works fine:</p>\n\n<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; np.array( [ 'PZYJKT', 'PZYJKBT', 'PZYJKBT' ], dtype = 'S13' )\narray([b'PZYJKT', b'PZYJKBT', b'PZYJKBT'], dtype='|S13')\n</code></pre>\n\n<p>even though internally it seems to be represented just like my string array:</p>\n\n<pre><code>&gt;&gt;&gt; _.tobytes()\nb'PZYJKT\\x00\\x00\\x00\\x00\\x00\\x00\\x00PZYJKBT\\x00\\x00\\x00\\x00\\x00\\x00PZYJKBT\\x00\\x00\\x00\\x00\\x00\\x00'\n</code></pre>\n\n<p>The only thing I just noticed is that if i zero init the entire fixed string, then it seems to work similar to python.   Could it be that numpy looks at the entire string for the <em>last</em> null-terminator?</p>\n\n<p>EDIT: Code im using to create the array:</p>\n\n<pre><code>template&lt;size_t N&gt;\nPyObject * as_nparray( char * data )\n{\n    npy_intp dims[1]{ ( npy_intp ) buffer.size() };\n\n    bp::str date_type = ( \"S\"s + std::to_string( N ) ).c_str();\n    PyArray_Descr *descr;\n    PyArray_DescrConverter( date_type.ptr(), &amp;descr );\n    return PyArray_NewFromDescr( &amp;PyArray_Type, descr, 1, dims, NULL, data, NPY_ARRAY_OWNDATA, NULL );\n}\n</code></pre>\n\n<p>I'll also add that I found this post which seems to imply my suspicion that numpy strings are expected to be null <em>padded</em> rather than null terminated:\n<a href=\"https://mail.scipy.org/pipermail/numpy-discussion/2014-July/070637.html\" rel=\"nofollow noreferrer\">https://mail.scipy.org/pipermail/numpy-discussion/2014-July/070637.html</a></p>\n"}, {"tags": ["python", "sequencematcher"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 2, "creation_date": 1516225421, "post_id": 48310446, "comment_id": 83606684, "body": "What is your desired output? Do you want to allow for some fuzziness in the matching?"}, {"owner": {"reputation": 5381, "user_id": 9203110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PQESrk-PCHA/AAAAAAAAAAI/AAAAAAAAAJk/6bqvsnrh4Dg/photo.jpg?sz=128", "display_name": "match", "link": "https://stackoverflow.com/users/9203110/match"}, "edited": false, "score": 1, "creation_date": 1516225552, "post_id": 48310446, "comment_id": 83606745, "body": "What&#39;s the reason behind repeating the open in the try/except block?"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9231846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3039aa6d0041d9fb760153c7918e6eb8?s=128&d=identicon&r=PG&f=1", "display_name": "Fidycent", "link": "https://stackoverflow.com/users/9231846/fidycent"}, "edited": false, "score": 0, "creation_date": 1516226195, "post_id": 48310549, "comment_id": 83607016, "body": "That would solve that problem, yes, but my examples were just that, examples, there&#39;s way more slight differences that id like not to be displayed as full out different lines, for example -v7- replaced by v7 etc, so what i&#39;m trying to say is, fixing each of the slight differences would not be an efficient workaround"}, {"owner": {"reputation": 5381, "user_id": 9203110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PQESrk-PCHA/AAAAAAAAAAI/AAAAAAAAAJk/6bqvsnrh4Dg/photo.jpg?sz=128", "display_name": "match", "link": "https://stackoverflow.com/users/9203110/match"}, "edited": false, "score": 0, "creation_date": 1516226360, "post_id": 48310549, "comment_id": 83607097, "body": "For that you probably want a fuzzy matching algorithm, such as <a href=\"https://github.com/seatgeek/fuzzywuzzy\" rel=\"nofollow noreferrer\">fuzzywuzzy</a>"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "reply_to_user": {"reputation": 21, "user_id": 9231846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3039aa6d0041d9fb760153c7918e6eb8?s=128&d=identicon&r=PG&f=1", "display_name": "Fidycent", "link": "https://stackoverflow.com/users/9231846/fidycent"}, "edited": false, "score": 0, "creation_date": 1516227920, "post_id": 48310549, "comment_id": 83607789, "body": "@Fidycent I updated the post to add an example with Fuzzy matching. This allows for &lt; <code>threshold</code> number of differences between the line, not including white space or capitalization"}], "tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": true, "score": 2, "last_activity_date": 1516228300, "last_edit_date": 1516228300, "creation_date": 1516225697, "answer_id": 48310549, "question_id": 48310446, "link": "https://stackoverflow.com/questions/48310446/python-comparing-text-files-for-similar-or-equal-lines/48310549#48310549", "title": "Python Comparing text files for similar or equal lines", "body": "<p>IIUC, you want to match lines even if the white space or capitalization is different.</p>\n\n<p>One easy way to do this is to remove white space and just make everything the same case on the read:</p>\n\n<pre><code>import re\n\ndef format_line(line):\n    return re.sub(\"\\s+\", \"\", line.strip()).lower()\n\nfilePrimary = open('First.txt', 'r', encoding='utf-8', errors='ignore')\nfileSecondary = open('Second.txt', 'r', encoding='utf-8', errors='ignore')\nbLines = set([format_line(thing) for thing in fileSecondary.readlines()])\nfor line in filePrimary:\n    fline = format_line(line)\n    if fline in bLines:\n        continue\n    else:\n        fileOutPut.write(line + '\\n')\n</code></pre>\n\n<p><strong>Update 1</strong>: Fuzzy matching</p>\n\n<p>If you wanted to fuzzy match, you could do something like <code>nltk.metrics.distance.edit_distance</code> (<a href=\"http://www.nltk.org/api/nltk.metrics.html#nltk.metrics.distance.edit_distance\" rel=\"nofollow noreferrer\">docs</a>)\n but you can't get around comparing every line to every other line (worst case). You lose the speed of the <code>in</code> operation.</p>\n\n<p>For example</p>\n\n<pre><code>from nltk.metrics.distance import edit_distance as dist\n\nthreshold = 3  # the maximum number of edits between lines\n\nfor line in filePrimary:\n    fline = format_line(line)\n    match_found = any([dist(fline, other_line) &lt; threshold for other_line in bLines])\n\n    if not match_found:\n        fileOutPut.write(line + '\\n')\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 9231846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3039aa6d0041d9fb760153c7918e6eb8?s=128&d=identicon&r=PG&f=1", "display_name": "Fidycent", "link": "https://stackoverflow.com/users/9231846/fidycent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1312, "favorite_count": 0, "accepted_answer_id": 48310549, "answer_count": 1, "score": 2, "last_activity_date": 1516228300, "creation_date": 1516225246, "question_id": 48310446, "link": "https://stackoverflow.com/questions/48310446/python-comparing-text-files-for-similar-or-equal-lines", "title": "Python Comparing text files for similar or equal lines", "body": "<p>I have 2 text files, my goal is to find the lines in file First.txt that are not in Second.txt and output said lines to a third text file Missing.txt, i have that done:</p>\n\n<pre><code>fn = \"Missing.txt\"\ntry:\n    fileOutPut = open(fn, 'w')\nexcept IOError:\n    fileOutPut = open(fn, 'w')\nfileOutPut.truncate()\nfilePrimary = open('First.txt', 'r', encoding='utf-8', errors='ignore')\nfileSecondary = open('Second.txt', 'r', encoding='utf-8', errors='ignore')\nbLines = set([thing.strip() for thing in fileSecondary.readlines()])\nfor line in filePrimary:\n    line = line.strip()\n    if line in bLines:\n        continue\n    else:\n        fileOutPut.write(line)\n        fileOutPut.write('\\n')\nfileOutPut.close()\nfilePrimary.close()\nfileSecondary.close()\n</code></pre>\n\n<p>But after running the script i've come to a problem, there are lines that are very similar, examples:</p>\n\n<pre><code>[PR] Zero One Two Three ft Four\n</code></pre>\n\n<p>and (No space after the bracket)</p>\n\n<pre><code>[PR]Zero One Two Three ft Four\n</code></pre>\n\n<p>or</p>\n\n<pre><code>[PR] Zero One Two Three ft Four\n</code></pre>\n\n<p>and (capital F letter)</p>\n\n<pre><code>[PR] Zero One Two Three Ft Four\n</code></pre>\n\n<p>I have found SequenceMatcher, which does what i require, but how do i implement this into the comparison, since those are not just two strings, but a string and a set</p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "popup", "pyinstaller"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516231967, "post_id": 48310413, "comment_id": 83609189, "body": "do you get error message when you run in console/terminal/cmd.exe ?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1516232019, "post_id": 48310413, "comment_id": 83609208, "body": "To make code more readable see <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8 -- Style Guide for Python Code</a>"}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516237321, "post_id": 48310413, "comment_id": 83610491, "body": "Don\u2019t know why I didn\u2019t think of trying running from terminal yes there is an error:    File &quot;tkinterhtml/__init__.py&quot;, line 34, in <b>init</b>   File &quot;tkinterhtml/__init__.py&quot;, line 22, in load_tkhtml tkinter.TclError: can&#39;t find package Tkhtml"}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516237635, "post_id": 48310413, "comment_id": 83610564, "body": "I have tried it without tkinterhtml sending the output to a temp file and using webbrowser.open() instead of tkinterhtml but I got no widgets showing then as well. I can try that again tomorrow and run it from terminal to see what error it gives but I&#39;d prefer to display the results in my app over sending it to a web browser"}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516284432, "post_id": 48310413, "comment_id": 83631560, "body": "Unlike last time where the form still was empty: this time removing all references to tkinterhtml displayed the other four widgets before and after pyinstaller build. Last time I redirected the data to a webbrowser this time I just ignored the data making the pop up dialog useless. Apparently webbrowser doesn&#39;t work in the build as well. Does anyone know how I can get Tkhtml working in a pyinstaller build?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516284969, "post_id": 48310413, "comment_id": 83631892, "body": "pyinstaller (and similar programs) is not ideal and sometimes it can&#39;t find all modules which it has to add to project but you can create config file and manually add needed modules - you have to read documentation. Especially about <a href=\"https://pyinstaller.readthedocs.io/en/stable/spec-files.html\" rel=\"nofollow noreferrer\">spec file</a>"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516285144, "post_id": 48310413, "comment_id": 83632017, "body": "BTW: error message always put in question, not in comment. It will be more readable. You error shows that pyinstaller didn&#39;t add tkhtml module to project."}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516288242, "post_id": 48310413, "comment_id": 83634163, "body": "I have tried to use --add-binary &#39;tkhtml.so&#39; it did not help"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516305458, "post_id": 48310413, "comment_id": 83644338, "body": "why do you think it has to be <code>tkhtml.so</code> and not <code>libtkhtml.so</code> nor <code>libtkhtml.3.0.so</code> nor anything else ?"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516305913, "post_id": 48310413, "comment_id": 83644573, "body": "using Google I found source code and this <a href=\"https://bitbucket.org/aivarannamaa/tkinterhtml/src/aaa7ccff86cce9def2d311d76b81a14e4b3a5916/tkinterhtml/tkhtml/Linux/64-bit/Tkhtml/?at=master\" rel=\"nofollow noreferrer\">bitbucket.org/aivarannamaa/tkinterhtml/src/&hellip;</a> You could do the same. BTW: You could also use full path in pyinstaller."}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516313179, "post_id": 48310413, "comment_id": 83647965, "body": "I had tried libtkhtml.3.0.so as well"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516313372, "post_id": 48310413, "comment_id": 83648038, "body": "You don&#39;t understand - I put <code>libtkhtml.3.0.so</code> only as example - you have to find correct name. Don&#39;t guess it. You can search on your disk, or in source code in repo (see link in previous comment)"}, {"owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "reply_to_user": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1516315504, "post_id": 48310413, "comment_id": 83648832, "body": "I didn&#39;t guess it I found the file in my Python 3.5x library folder and copied it to my folder with my source code."}], "owner": {"reputation": 157, "user_id": 1146948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c17cd3c6f9937f23905e46f260a6d461?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1146948/kevin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1516234665, "creation_date": 1516225091, "last_edit_date": 1516234665, "question_id": 48310413, "link": "https://stackoverflow.com/questions/48310413/tkinter-popup-dialog-works-fine-running-in-python-3-5-but-not-in-a-pyinstaller-b", "title": "tkinter popup dialog works fine running in python 3.5 but not in a pyinstaller build", "body": "<p>I have a help pop up dialog that works fine in Linux and Windows where Python 3.5.x is installed but after a pyinstaller build the rest of the app works fine but that pop up is just an empty form void of all five of its widgets. I can&rsquo;t see anything wrong with the code I&rsquo;ve tried to remove widgets one at a time to see if any of them is a problem yet same result works before building and fails after</p>\n\n<pre><code>from tkinter import *\nfrom tkinter import ttk\n\nfrom tkinterhtml import TkinterHtml as tkhtml\n\n\nclass HelpSystem(Toplevel):\n    def __init__(self, parent, dlgTitle='Help', helpfile='help.db',\n                 Manuals=None, showtopic=None):\n        Toplevel.__init__(self, parent)\n        self.transient(parent)\n        self.parent = parent\n        self.title(dlgTitle)\n        self.con = sqlite3.connect(helpfile)\n        self.cur = self.con.cursor()\n        self.helpfile = helpfile\n        self.Manuals = Manuals\n        self.showtopic = showtopic\n        self.searchresults = []\n        self.searchindex = -1\n        self.search_width = 67\n        self.tree_height = 19\n        body = Frame(self)\n        self.initial_focus = self.Dialog_Builder(body)\n        body.pack()\n        self.grab_set()\n        if not self.initial_focus:\n            self.initial_focus = self\n        self.protocol(\"WM_DELETE_WINDOW\", self.exitme)\n        self.initial_focus.focus_set()\n        self.wait_window(self)\n\n    def Dialog_Builder(self, mybody):\n        self.sbox = Entry(mybody, width=self.search_width,\n                          font=('Helvetica', 15))\n        self.sbuts = Button(mybody, text='Search',\n                            command=lambda: self.btnClick('s'))\n        self.sbutn = Button(mybody, text='Next',\n                            command=lambda: self.btnClick('n'))\n        ff = self._font_details('Helvetica', 15)\n        self.toc = ttk.Treeview(mybody, show='tree', height=self.tree_height,\n                                selectmode=BROWSE)\n        self.toc.bind('&lt;ButtonRelease-1&gt;', self._clicktopic)\n        self.style = ttk.Style()\n        self.style.configure('Treeview', font=(\"Helvetica\", 15))\n        self.style.configure('Treeview', rowheight=ff[1])\n        self.toc.column('#0', width=(ff[0] * 20))\n        self.vwr = tkhtml(mybody, height=ff[1] * self.tree_height)\n        self.sbox.grid(column=0, row=0, columnspan=8, rowspan=1, padx=5,\n                       pady=5, sticky=W)\n        self.sbuts.grid(column=8, row=0, columnspan=1, rowspan=1, padx=5,\n                        pady=5, sticky=W)\n        self.sbutn.grid(column=9, row=0, columnspan=1, rowspan=1, padx=5,\n                        pady=5, sticky=W)\n        self.toc.grid(column=0, row=1, columnspan=3, rowspan=1, padx=5, pady=5,\n                      sticky=NW)\n        self.vwr.grid(column=3, row=1, columnspan=7, rowspan=1, padx=5, pady=5,\n                      sticky=NW)\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy", "sparse-matrix"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1516225150, "post_id": 48310331, "comment_id": 83606578, "body": "Do not rely on <code>sys.getsizeof</code>, this doesn&#39;t give you the total memory usage of the data-frame, only of the object itself."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1516225425, "post_id": 48310331, "comment_id": 83606685, "body": "getsizeof also won&#39;t help with scipy sparse."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1516233480, "post_id": 48310331, "comment_id": 83609597, "body": "With an <code>array</code> (or <code>np.matrix</code>) the <code>nbytes</code> attribute is the most useful size measure.  <code>getsizeof</code> appears to be recording this plus some sort of object overhead, which with this small of an array is a relatively big chunk."}, {"owner": {"reputation": 942, "user_id": 9043549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef7c062b0bdc0ff8a5f21ea8ecd46fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Yury Wallet", "link": "https://stackoverflow.com/users/9043549/yury-wallet"}, "edited": false, "score": 0, "creation_date": 1516260412, "post_id": 48310331, "comment_id": 83617115, "body": "so is there any proper way to track memory usage?"}], "owner": {"reputation": 942, "user_id": 9043549, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ef7c062b0bdc0ff8a5f21ea8ecd46fe8?s=128&d=identicon&r=PG&f=1", "display_name": "Yury Wallet", "link": "https://stackoverflow.com/users/9043549/yury-wallet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1516262545, "creation_date": 1516224747, "last_edit_date": 1516262545, "question_id": 48310331, "link": "https://stackoverflow.com/questions/48310331/sparse-matrices-memory-usage-and-concatenate-hstack-pandas-vs-numpy-vs-spicy", "title": "Sparse matrices memory usage and concatenate/hstack Pandas vs Numpy vs Spicy", "body": "<p>I've tried to understand sparse matrices in Python and came with such comparison:</p>\n\n<pre><code>import scipy.sparse as sp\nimport pandas as pd\nimport numpy as np\nimport sys\n''' Pandas '''\nx_p=pd.DataFrame()\nx_p[\"A\"]=[0,1,0,2]\nx_p[\"B\"]=[1,1,0,0]\nx_p[\"C\"]=[1,0,0,0]\nsys.getsizeof(x_p)\n\nx_ps=x_p.to_sparse(fill_value=0)\nprint(x_ps)\nsys.getsizeof(x_ps)\n\nx_pd=x_p.to_dense() \nprint(x_pd)\nsys.getsizeof(x_pd)\n\n''' Pandas concat'''\n#if stack we get the same size\nhp=pd.concat([x_ps,x_ps], axis=1)\nsys.getsizeof(hp) #296\n\nhp=pd.concat([x_pd,x_pd], axis=1)\nsys.getsizeof(hp) #296\n\n#only if we manualy convert to sparse we get lower usage\nhp=pd.concat([x_ps,x_ps], axis=1).to_sparse(fill_value=0)\nsys.getsizeof(hp) #184\n\n''' Pandas -&gt; Numpy'''\n#pandas -&gt; numpy array\nx_n=np.array(x_p)\nprint(x_n)\nsys.getsizeof(x_n) #size 208\n# or\nx_n=x_p.values\nprint(x_n)\nsys.getsizeof(x_n) #size 112 Almost 2 times less memory usage?!\n\n#pandas -&gt; numpy matrix\nx_n_mat=np.asmatrix(x_p)\nsys.getsizeof(x_n_mat) #size 136\n\n\n'''numpy concatenate/hstack'''\nhn=np.hstack((x_n_mat,x_n_mat)) #matrix\nprint(hn)\nsys.getsizeof(hn) #size 328\n\nhn=np.concatenate((x_n_mat,x_n_mat), axis=1)\nprint(hn)\nsys.getsizeof(hn) #size 328\n\n''' Numpy -&gt; Pandas'''\n#numpy -&gt; pandas\nx_n_p=pd.DataFrame(x_n_mat) #same with \"x_n\"\nsys.getsizeof(x_n_p)  #size 200\n\n\n''' spicy crs_matrix '''\n#pandas -&gt; spicy crs_matrix\n#keep names and index\nrow_names = x_p.index\ncol_names = list(x_p.columns)\n\nx_sp=sp.csr_matrix(x_p) \nprint(x_sp)\nsys.getsizeof(x_sp) #size 56\n\n#pandas sparse -&gt; spicy crs_matrix\nx_sps=sp.csr_matrix(x_ps)\nprint(x_sps)\nsys.getsizeof(x_sps) #size 56\n\n#numpy matrix or array -&gt; spicy crs_matrix \nx_sn=sp.csr_matrix(x_n_mat)\nprint(x_sn)\nsys.getsizeof(x_sn) #size 56\n\n''' spicy hstack '''\n# stack sparse matrices \n#spicy\nh = sp.hstack((x_sp, x_sp), format='csr')\nprint(h)\nsys.getsizeof(h) #size 56\n\n''' from spicy to numpy and pandas '''\n#spicy -&gt; numpy\nhd=h.todense() #-&gt;numpy matrix \nsys.getsizeof(hd) #size 136\n\nhd=h.toarray() #-&gt;numpy array\nsys.getsizeof(hd) # size 304\n\n#spicy -&gt; numpy matrix -&gt;pandas df\nhdp=pd.DataFrame(h.todense()) #no direct way\nhdp.index=row_names #keep index from pandas df\nhdp.columns=col_names #set column names from pandas df\nsys.getsizeof(hd) # size 304\n#spicy -&gt; numpy array -&gt;pandas df\nhdp=pd.DataFrame(h.toarray())\nsys.getsizeof(hd) # size 304\n</code></pre>\n\n<p>There are some unexpected cases like when we hstack 2 identical matrices the size in memory doesn't increase.</p>\n\n<p>The second thing is when we create numpy array from pandas dataframe .values the size in memory is 2 times less than with np.array</p>\n\n<p>And third, if we concat 2 pandas sparse dataframes it creates dense dataframe which should be manually converted to sparse again.</p>\n\n<p>Maybe that will be useful.</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 9121609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1640890422640566/picture?type=large", "display_name": "William Karlsson", "link": "https://stackoverflow.com/users/9121609/william-karlsson"}, "edited": false, "score": 0, "creation_date": 1516226280, "post_id": 48310438, "comment_id": 83607062, "body": "Thank you for your thorough answer. To clarify: site is an instance of the AdminSite class, instantiated within sites.py. Admin.py inherits from sites.py, thus making it possible to import it in the <b>init</b> method of django.contrib.admin. Then, in admin.site.register(Model), register is a method from within the site-instance (of the AdminSite class), and I pass my model name as an argument. Would this be a correct understanding?"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 209, "user_id": 9121609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1640890422640566/picture?type=large", "display_name": "William Karlsson", "link": "https://stackoverflow.com/users/9121609/william-karlsson"}, "edited": false, "score": 0, "creation_date": 1516226605, "post_id": 48310438, "comment_id": 83607193, "body": "I&#39;m not sure about your description <i>Admin.py inherits from sites.py thus making it possible</i>. Note that you&#39;re not passing a model name (e.g. <code>&quot;MyModel&quot;</code>) when you call <code>admin.site.register()</code>, you are passing the actual model class. Apart from that, I think you&#39;ve got it."}, {"owner": {"reputation": 209, "user_id": 9121609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1640890422640566/picture?type=large", "display_name": "William Karlsson", "link": "https://stackoverflow.com/users/9121609/william-karlsson"}, "edited": false, "score": 0, "creation_date": 1516227847, "post_id": 48310438, "comment_id": 83607768, "body": "Alright, I now understand. Admin is not a file, but rather a directory. Regarding the <b>init</b>.py file, am I right to understand it as this: without it, Admin will not be regarded as a package, and it will be impossible to import from, for example sites. Moreover, <b>init</b> allows me to import functions and classes etc, thus making them easier to import in a script (making it possible to go &#39;admin.site&#39; instead of &#39;admin.sites.site&#39;). IF this is true, I think I&#39;ve completely got it! Thank you S O much! Really. Thank you thank you thank you."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "reply_to_user": {"reputation": 209, "user_id": 9121609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1640890422640566/picture?type=large", "display_name": "William Karlsson", "link": "https://stackoverflow.com/users/9121609/william-karlsson"}, "edited": false, "score": 0, "creation_date": 1516228347, "post_id": 48310438, "comment_id": 83607945, "body": "Yes, the <code>__init__.py</code> is used to simplify imports. Note that <a href=\"https://www.python.org/dev/peps/pep-0420/\" rel=\"nofollow noreferrer\">as of Python 3.3</a>, the <code>__init__.py</code> is not necessary to make it a package."}], "tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1516226472, "last_edit_date": 1516226472, "creation_date": 1516225204, "answer_id": 48310438, "question_id": 48310326, "link": "https://stackoverflow.com/questions/48310326/syntax-for-connecting-models-to-admin-django/48310438#48310438", "title": "Syntax for connecting models to admin, Django", "body": "<p><code>admin.site</code> is the default instance of the <a href=\"https://github.com/django/django/blob/fcd431c6c3159a753f1cc0658cc4b25803ffccc1/django/contrib/admin/sites.py#L29\" rel=\"nofollow noreferrer\"><code>AdminSite</code></a> class. It is <a href=\"https://github.com/django/django/blob/fcd431c6c3159a753f1cc0658cc4b25803ffccc1/django/contrib/admin/sites.py#L523\" rel=\"nofollow noreferrer\">instantiated</a> in <code>django.contrib.admin.sites</code>.</p>\n\n<p>It is then <a href=\"https://github.com/django/django/blob/fcd431c6c3159a753f1cc0658cc4b25803ffccc1/django/contrib/admin/__init__.py#L13\" rel=\"nofollow noreferrer\">imported</a> in the <code>django/contrib/admin/__init__.py</code>. This makes it available as <code>admin.site</code> when you have done <code>from django.contrib import admin</code>.</p>\n\n<p>When you call <code>admin.site.register(Model)</code>, you are calling the <code>register</code> method of this admin site instance.</p>\n"}], "owner": {"reputation": 209, "user_id": 9121609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://graph.facebook.com/1640890422640566/picture?type=large", "display_name": "William Karlsson", "link": "https://stackoverflow.com/users/9121609/william-karlsson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48310438, "answer_count": 1, "score": 0, "last_activity_date": 1516226472, "creation_date": 1516224739, "question_id": 48310326, "link": "https://stackoverflow.com/questions/48310326/syntax-for-connecting-models-to-admin-django", "title": "Syntax for connecting models to admin, Django", "body": "<p>I have been learning python for some months, and started tinkering with Django. Before posting this, I read up on the auto-generated 'admin.py'-code on github, as well as googled the matter. It appears my question is a little specific, and I was quite frankly very confused from that specific reading. Thus, I hope asking this adds value to this wonderful community. Question:</p>\n\n<p>When connecting a model to the admin page, in admin.py, you first import admin:</p>\n\n<blockquote>\n  <p>from django.contrib import admin</p>\n</blockquote>\n\n<p>After this, you import your model. Then, you supposedly connect your model through:</p>\n\n<blockquote>\n  <p>admin.site.register(MODEL)</p>\n</blockquote>\n\n<p>What I do not understand is what 'site.register' is. The fact that the line starts off with 'admin.' makes perfect sense, as you are specifying from where the following import (ex. 'admin.function' or 'admin.class') comes from. Had it only been 'admin.somefunctionfromadmin' I would have totally understood this. Now, instead, I am confused as to what 'sites.register' is. \nIs 'sites' a module, a file, and 'register' a function from within that module? If so, what does that make 'admin'? A package? </p>\n\n<p>I have seen lines similar to these throughout Django, and feel a bit confused.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "keras", "rnn"], "owner": {"reputation": 316, "user_id": 4518087, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/hpcDU.png?s=128&g=1", "display_name": "Wedoso", "link": "https://stackoverflow.com/users/4518087/wedoso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516224716, "creation_date": 1516224716, "question_id": 48310322, "link": "https://stackoverflow.com/questions/48310322/how-to-design-an-rnn-to-treat-all-training-set-as-a-time-series-in-keras", "title": "How to design an RNN to treat all training set as a time series in Keras?", "body": "<p>I am working on a classification problem, where we have a pairwise input,</p>\n\n<pre><code>X1 = Input(shape=(input_size,), name='input_1')\nX2 = Input(shape=(input_size,), name='input_2')\n</code></pre>\n\n<p>and the expected output is binary.</p>\n\n<p>To solve this problem, I first design an <code>encoder</code> which takes these pairwise inputs and encode them with the shape of <code>(encoder_size, 2)</code>. Next, I want to design an RNN, where can treat the training set as a time series. In other words, I will feed <code>(X1, X2)</code> first, and feed <code>(X1, X3)</code> and so on. The reason is the former input may contain some global information need to memorize, which might be helpful to do the prediction for the later input.</p>\n\n<p>For each input pair, I expect to see a binary prediction result. And the model keeps the memory of it and do a prediction for the next input pair.</p>\n\n<p>I attach the code below, but I am not sure whether it can work like what I describe or not.</p>\n\n<pre><code>encoder = Sequential()\nencoder.add(Dropout(dropout_rate, input_shape=(input_size,)))\nencoder.add(Dense(encoder_size, activation='relu'))\nencoder.add(Reshape((-1,1)))\n\nencoded_1 = encoder(X1)\nencoded_2 = encoder(X2)\nmerged = concatenate([encoded_1, encoded_2])\n\n# RNN model           \ncomparer = Sequential()\ncomparer.add(LSTM(64, input_shape=(encoder_size,2), return_sequences=False))     \ncomparer.add(Dropout(dropout_rate))\ncomparer.add(Dense(1))\ncomparer.add(Activation('sigmoid'))\n\nY = comparer(merged)\nmodel = Model(inputs=[X1, X2], outputs=Y)\n</code></pre>\n\n<p>If not, what is the correct way? If yes, what is the way to treat the <code>(encoder_size, 2)</code> as the time series instead of the whole training set?</p>\n"}, {"tags": ["python", "web", "knime"], "comments": [{"owner": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516271201, "post_id": 48310269, "comment_id": 83623392, "body": "There are reader nodes in KNIME for JSON or the File Reader will handle csv.  Both will take URLs or absolute file paths - that&#39;s probably easier than doing something with Python, unless you need to do something with the output first before KNIME gets hold of it, or in order to make it accessible to KNIME"}, {"owner": {"reputation": 73, "user_id": 9231872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8aO3m.png?s=128&g=1", "display_name": "matrixfox", "link": "https://stackoverflow.com/users/9231872/matrixfox"}, "reply_to_user": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516290095, "post_id": 48310269, "comment_id": 83635430, "body": "Do the reader nodes in KNIME have some sort of event-listener that triggers whether the data is new? This sounds like an on-demand only function."}, {"owner": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516292320, "post_id": 48310269, "comment_id": 83636997, "body": "Not directly, but there is a delay or wait node which can either was it for a file creation event or a period of time after which you could test if there was new data in a loop"}, {"owner": {"reputation": 73, "user_id": 9231872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8aO3m.png?s=128&g=1", "display_name": "matrixfox", "link": "https://stackoverflow.com/users/9231872/matrixfox"}, "reply_to_user": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516305738, "post_id": 48310269, "comment_id": 83644483, "body": "Ok great.. thanks Steve. May have a few more questions in the near future. You&#39;ve been a big help so far!"}, {"owner": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516306489, "post_id": 48310269, "comment_id": 83644895, "body": "Glad to help (I wrote the original wait nodes in a community contribution, KNIME added the file event option when we donated it to them!)"}, {"owner": {"reputation": 73, "user_id": 9231872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8aO3m.png?s=128&g=1", "display_name": "matrixfox", "link": "https://stackoverflow.com/users/9231872/matrixfox"}, "reply_to_user": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516890814, "post_id": 48310269, "comment_id": 83882269, "body": "Hey Steve, after playing around a bit I&#39;m still struggling on how to connect my web-app to Knime.. any chance you have skype or discord so we could talk through it a bit?"}, {"owner": {"reputation": 573, "user_id": 6076839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a4f00773353713f1a8980678ecf65b8?s=128&d=identicon&r=PG&f=1", "display_name": "SteveR", "link": "https://stackoverflow.com/users/6076839/stever"}, "edited": false, "score": 0, "creation_date": 1516982462, "post_id": 48310269, "comment_id": 83923290, "body": "Very little web-app experience, so not sure how much more help I can be - what sort of issues are you having?  If your app is writing files somewhere OK and KNIME is not picking them up very well then I might be able to make some suggestions"}], "owner": {"reputation": 73, "user_id": 9231872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8aO3m.png?s=128&g=1", "display_name": "matrixfox", "link": "https://stackoverflow.com/users/9231872/matrixfox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516224435, "creation_date": 1516224435, "question_id": 48310269, "link": "https://stackoverflow.com/questions/48310269/conduct-knime-workflow-using-web-input", "title": "Conduct Knime Workflow using Web Input", "body": "<p>Does anyone have experience using inputs from a web-app into their Knime workflow? I'm thinking of using Python to somehow pull the .json or .csv that the website creates as input.. but I'm struggling on how to begin going about it.</p>\n\n<p>Happy to provide further information to assist if possible.</p>\n"}, {"tags": ["python", "amazon-s3", "amazon-sagemaker"], "comments": [{"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "edited": false, "score": 0, "creation_date": 1516306020, "post_id": 48310237, "comment_id": 83644627, "body": "Might be missing some configuration. <a href=\"https://docs.aws.amazon.com/sagemaker/latest/dg/mxnet-example1-prepare.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/sagemaker/latest/dg/&hellip;</a>"}, {"owner": {"reputation": 399, "user_id": 735333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f80f38ff7a8f183f25f9dd6c5f29893?s=128&d=identicon&r=PG", "display_name": "jonincanada", "link": "https://stackoverflow.com/users/735333/jonincanada"}, "edited": false, "score": 0, "creation_date": 1547692964, "post_id": 48310237, "comment_id": 95282131, "body": "And, you shouldn&#39;t have to even include the save / model_fn in your .py"}], "answers": [{"tags": [], "owner": {"reputation": 11001, "user_id": 179529, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yGraC.jpg?s=128&g=1", "display_name": "Guy", "link": "https://stackoverflow.com/users/179529/guy"}, "is_accepted": true, "score": 0, "last_activity_date": 1516602490, "creation_date": 1516602490, "answer_id": 48375741, "question_id": 48310237, "link": "https://stackoverflow.com/questions/48310237/sagemaker-could-not-find-model-data-when-trying-to-deploy-my-model/48375741#48375741", "title": "Sagemaker &quot;Could not find model data&quot; when trying to deploy my model", "body": "<p>When you are calling the training job you should specify the output directory:</p>\n\n<pre><code>#Bucket location where results of model training are saved.\nmodel_artifacts_location = 's3://&lt;bucket-name&gt;/artifacts'\n\nm = MXNet(entry_point='lstm_trainer.py',\n          role=role,\n          output_path=model_artifacts_location,\n          ...)\n</code></pre>\n\n<p>If you don't specify the output directory the function will use a default location, that it might not have the permissions to create or write to.</p>\n"}, {"tags": [], "owner": {"reputation": 1604, "user_id": 5363885, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36143d3ad75cd2c668bf87e484723f2f?s=128&d=identicon&r=PG&f=1", "display_name": "Liam Ferris", "link": "https://stackoverflow.com/users/5363885/liam-ferris"}, "is_accepted": false, "score": 0, "last_activity_date": 1557152192, "creation_date": 1557152192, "answer_id": 56007028, "question_id": 48310237, "link": "https://stackoverflow.com/questions/48310237/sagemaker-could-not-find-model-data-when-trying-to-deploy-my-model/56007028#56007028", "title": "Sagemaker &quot;Could not find model data&quot; when trying to deploy my model", "body": "<p>I have had the same issue using a different Estimator in a very similar way on Sagemaker.</p>\n\n<p>My issue was after the first deployment on a re-deploy I had to delete the old \"Endpoint Configuration\" - which was confusingly pointing the endpoint to an old model location. I imagine this could be done from python using the AWS API, although very easy to test on the portal if this is the same issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/EOd9b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EOd9b.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1785, "favorite_count": 0, "accepted_answer_id": 48375741, "answer_count": 2, "score": 3, "last_activity_date": 1613102281, "creation_date": 1516224347, "question_id": 48310237, "link": "https://stackoverflow.com/questions/48310237/sagemaker-could-not-find-model-data-when-trying-to-deploy-my-model", "title": "Sagemaker &quot;Could not find model data&quot; when trying to deploy my model", "body": "<p>I have a training script in Sagemaker like,</p>\n\n<pre><code>def train(current_host, hosts, num_cpus, num_gpus, channel_input_dirs, model_dir, hyperparameters, **kwargs):\n    ... Train a network ...\n    return net\n\ndef save(net, model_dir):\n    # save the model\n    logging.info('Saving model')\n    y = net(mx.sym.var('data'))\n    y.save('%s/model.json' % model_dir)\n    net.collect_params().save('%s/model.params' % model_dir)\n\ndef model_fn(model_dir):\n    symbol = mx.sym.load('%s/model.json' % model_dir)\n    outputs = mx.symbol.softmax(data=symbol, name='softmax_label')\n    inputs = mx.sym.var('data')\n    param_dict = gluon.ParameterDict('model_')\n    net = gluon.SymbolBlock(outputs, inputs, param_dict)\n    net.load_params('%s/model.params' % model_dir, ctx=mx.cpu())\n    return net\n</code></pre>\n\n<p>Most of which I stole from the <a href=\"https://github.com/awslabs/amazon-sagemaker-examples/blob/master/sagemaker-python-sdk/mxnet_gluon_mnist/mnist.py\" rel=\"nofollow noreferrer\">MNIST Example</a>.</p>\n\n<p>When I train, everything goes fine, but when trying to deploy like,</p>\n\n<pre><code>m = MXNet(\"lstm_trainer.py\", \n          role=role, \n          train_instance_count=1, \n          train_instance_type=\"ml.c4.xlarge\",\n          hyperparameters={'batch_size': 100, \n                         'epochs': 20, \n                         'learning_rate': 0.1, \n                         'momentum': 0.9, \n                         'log_interval': 100})\nm.fit(inputs) # No errors\npredictor = m.deploy(initial_instance_count=1, instance_type='ml.m4.xlarge')\n</code></pre>\n\n<p>I get, (<a href=\"https://gist.github.com/aidan-plenert-macdonald/7eb7ba7402790b61596938b5cbf605b6\" rel=\"nofollow noreferrer\">full output</a>)</p>\n\n<pre><code>INFO:sagemaker:Creating model with name: sagemaker-mxnet-py2-cpu-2018-01-17-20-52-52-599\n---------------------------------------------------------------------------\n  ... Stack dump ...\nClientError: An error occurred (ValidationException) when calling the CreateModel operation: Could not find model data at s3://sagemaker-us-west-2-01234567890/sagemaker-mxnet-py2-cpu-2018-01-17-20-52-52-599/output/model.tar.gz.\n</code></pre>\n\n<p>Looking in my S3 bucket <code>s3://sagemaker-us-west-2-01234567890/sagemaker-mxnet-py2-cpu-2018-01-17-20-52-52-599/output/model.tar.gz</code>, I in fact don't see the model.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1655, "user_id": 6567270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c2aba1e2e67131f0bba140dd5c86da6?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6567270/brian"}, "edited": false, "score": 0, "creation_date": 1516387390, "post_id": 48310230, "comment_id": 83681182, "body": "does my method answer your question?"}, {"owner": {"reputation": 789, "user_id": 6361235, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/611539dabb6611523a989a27fec068b1?s=128&d=identicon&r=PG&f=1", "display_name": "himi64", "link": "https://stackoverflow.com/users/6361235/himi64"}, "reply_to_user": {"reputation": 1655, "user_id": 6567270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c2aba1e2e67131f0bba140dd5c86da6?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6567270/brian"}, "edited": false, "score": 0, "creation_date": 1516655765, "post_id": 48310230, "comment_id": 83768623, "body": "Yes, this worked well. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1655, "user_id": 6567270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3c2aba1e2e67131f0bba140dd5c86da6?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/6567270/brian"}, "is_accepted": true, "score": 2, "last_activity_date": 1516225288, "creation_date": 1516225288, "answer_id": 48310453, "question_id": 48310230, "link": "https://stackoverflow.com/questions/48310230/creating-a-new-column-for-historical-information-on-a-time-sensitive-dataset-in/48310453#48310453", "title": "Creating a new column for historical information on a time-sensitive dataset in pandas", "body": "<p>Try .pivot_table (see code and output below).</p>\n\n<pre><code>df = df.pivot_table(index=['id'], columns='Year', values=['issue_1','issue_2'])\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/FmlCS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FmlCS.png\" alt=\"enter image description here\"></a>  </p>\n"}], "owner": {"reputation": 789, "user_id": 6361235, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/611539dabb6611523a989a27fec068b1?s=128&d=identicon&r=PG&f=1", "display_name": "himi64", "link": "https://stackoverflow.com/users/6361235/himi64"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 48310453, "answer_count": 1, "score": 1, "last_activity_date": 1516225288, "creation_date": 1516224315, "last_edit_date": 1516224626, "question_id": 48310230, "link": "https://stackoverflow.com/questions/48310230/creating-a-new-column-for-historical-information-on-a-time-sensitive-dataset-in", "title": "Creating a new column for historical information on a time-sensitive dataset in pandas", "body": "<p>I want to create a new dataframe that groups by 'id' and creates a new column for everything on and before 2016. Effectively, I am trying to flatten the dataframe below. \nHere is the original dataframe:</p>\n\n<pre><code>Year | id | issue_1 | issue_2\n=====|====|=========|========\n2014 | 11 | 1       | 0\n2015 | 11 | 0       | 1\n2016 | 11 | 1       | 0\n2014 | 15 | 1       | 1\n2016 | 15 | 0       | 0\n</code></pre>\n\n<p>Note that it is possible to skip years, as shown by id=15 which doesn't have any 2015 data.</p>\n\n<p>My aim is to get the final output to look like this:</p>\n\n<pre><code>id | 2016issue_1 | 2015issue_1 | 2014issue_1 | 2016issue_2 | 2015issue_2 | 2014issue_2\n===|=============|=============|=============|=============|=============|=============\n11 | 1           | 0           | 1           | 0           | 1           | 0\n15 | 0           | 0           | 1           | 0           | 0           | 1\n</code></pre>\n"}, {"tags": ["python", "pandas", "row", "division"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516224598, "post_id": 48310216, "comment_id": 83606340, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44241521/dataframe-element-wise-divide-by-sum-of-row-inplace\">DataFrame element-wise divide by sum of row inplace</a>"}, {"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516224700, "post_id": 48310216, "comment_id": 83606377, "body": "do you want the column to be dynamically calculated?"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "reply_to_user": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516224798, "post_id": 48310216, "comment_id": 83606414, "body": "@Usernamenotfound that would be the goal"}, {"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516225597, "post_id": 48310216, "comment_id": 83606767, "body": "I don&#39;t think that is possible. Why don&#39;t you create a function that recalculates the column and call it after every update?"}], "answers": [{"comments": [{"owner": {"reputation": 1341, "user_id": 6388994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00d56f9550cf209ae3c4620eb1a31109?s=128&d=identicon&r=PG&f=1", "display_name": "Usernamenotfound", "link": "https://stackoverflow.com/users/6388994/usernamenotfound"}, "edited": false, "score": 0, "creation_date": 1516224561, "post_id": 48310277, "comment_id": 83606327, "body": "could you please explain what is happening here?"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516224924, "post_id": 48310277, "comment_id": 83606469, "body": "@Wen I got TypeError: include and exclude must both be non-string sequences"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516225285, "post_id": 48310277, "comment_id": 83606631, "body": "@TylerNG ummm, seems like I am ok with the code , can you try it with you sample dataframe ?"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516225587, "post_id": 48310277, "comment_id": 83606763, "body": "@Wen I got it now :) Thank you as always!"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1516224473, "creation_date": 1516224473, "answer_id": 48310277, "question_id": 48310216, "link": "https://stackoverflow.com/questions/48310216/pandas-dividing-rows-by-its-total/48310277#48310277", "title": "pandas dividing rows by its total", "body": "<p>You need    <code>select_dtypes</code></p>\n\n<pre><code>df.loc[:,df.select_dtypes(exclude='object').columns]=df.select_dtypes(exclude='object').div(df.select_dtypes(exclude='object').sum(1),0)\n\ndf\nOut[66]: \n  Name      num1      num2   num3\n0    A  0.166667  0.333333  0.500\n1    B  0.266667  0.333333  0.400\n2    C  0.291667  0.333333  0.375\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516224860, "post_id": 48310316, "comment_id": 83606448, "body": "Nice answer! How would this change if instead of num1, num2, num3 I just have 1,2,3?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516224912, "post_id": 48310316, "comment_id": 83606464, "body": "@TylerNG, do you mean numbers or strings?"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516224975, "post_id": 48310316, "comment_id": 83606492, "body": "I converted 1,2,3 to strings"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 1, "creation_date": 1516225026, "post_id": 48310316, "comment_id": 83606528, "body": "@TylerNG, then use <code>cols = df.columns[df.columns.str.contains(&#39;^\\d+&#39;)]</code>"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516226039, "post_id": 48310316, "comment_id": 83606953, "body": "How would the code change if you use numbers instead of string?"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 1, "creation_date": 1516226140, "post_id": 48310316, "comment_id": 83606993, "body": "@TylerNG, that&#39;s easy: <code>cols = df.columns[df.columns.astype(str).str.contains(&#39;^\\d+&#39;)]</code>"}, {"owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516226365, "post_id": 48310316, "comment_id": 83607100, "body": "you guys make coding looks so simple :)"}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "reply_to_user": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "edited": false, "score": 0, "creation_date": 1516226474, "post_id": 48310316, "comment_id": 83607146, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/163359/discussion-between-maxu-and-tylerng\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": true, "score": 4, "last_activity_date": 1516224695, "creation_date": 1516224695, "answer_id": 48310316, "question_id": 48310216, "link": "https://stackoverflow.com/questions/48310216/pandas-dividing-rows-by-its-total/48310316#48310316", "title": "pandas dividing rows by its total", "body": "<p>first select matching columns:</p>\n\n<pre><code>In [21]: cols = df.columns[df.columns.str.contains('^num\\d+')]\n</code></pre>\n\n<p>then divide elements in those rows by their sum (calculated for each row):</p>\n\n<pre><code>In [22]: df[cols] = df[cols].div(df[cols].sum(axis=1), axis=0)\n\nIn [23]: df\nOut[23]:\n  Name      num1      num2   num3\n0    A  0.166667  0.333333  0.500\n1    B  0.266667  0.333333  0.400\n2    C  0.291667  0.333333  0.375\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 9028003, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f4a20f30230076b8851eba1d475abe57?s=128&d=identicon&r=PG&f=1", "display_name": "TylerNG", "link": "https://stackoverflow.com/users/9028003/tylerng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2923, "favorite_count": 0, "accepted_answer_id": 48310316, "answer_count": 2, "score": 2, "last_activity_date": 1516224695, "creation_date": 1516224240, "last_edit_date": 1516224297, "question_id": 48310216, "link": "https://stackoverflow.com/questions/48310216/pandas-dividing-rows-by-its-total", "title": "pandas dividing rows by its total", "body": "<p>I have this df:</p>\n\n<pre><code>Name    num1  num2   num3  \nA       1      2      3    \nB       4      5      6    \nC       7      8      9    \n</code></pre>\n\n<p>My goal is to divide each row by the total.  This is what I came up with:</p>\n\n<pre><code>df.loc[:,\"num1\":\"num3\"] = df.loc[:,\"num1\":\"num3\"].div(df[\"total\"], axis=0)\n</code></pre>\n\n<p>It works well.  However, if there are more \"numx\" columns added in after num3, I would have to manually update the code to \"num1\":\"numx\".  Is there a way to work around this?  </p>\n"}, {"tags": ["python", "pandas", "loops", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1516224745, "creation_date": 1516224745, "answer_id": 48310329, "question_id": 48310207, "link": "https://stackoverflow.com/questions/48310207/how-to-iterate-a-dataframe-then-return-rows-values-in-python/48310329#48310329", "title": "How to iterate a dataframe then return rows values in python?", "body": "<p>Something like this</p>\n\n<pre><code>df1 = df.loc[(df['col2'].shift() &lt; 0) &amp; (df['col2'] &gt; 0)].copy()\ndf1.rename(columns = {'col1': 'head_date', 'col2': 'col2h', 'col3': 'col3h'}, inplace = True)\n\ndf2 = df.loc[(df['col2'].shift(-1) &lt; 0) &amp; (df['col2'] &gt; 0)].copy()\ndf2.rename(columns = {'col1': 'head_date', 'col2': 'col2t', 'col3': 'col3t'})\n\nnew_df = pd.concat([df1.reset_index(drop = True), df2.reset_index(drop = True)], axis = 1)\n</code></pre>\n\n<p>You get</p>\n\n<pre><code>    head_date   col2h   col3h   head_date   col2t   col3t\n0   2004-02-27  4       1       2004-03-02  3       0\n1   2004-03-04  11      0       2004-03-08  43      0\n2   2004-03-10  3       1       2004-03-10  3       1\n</code></pre>\n"}], "owner": {"reputation": 669, "user_id": 8816642, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/--sptEe0bMuY/AAAAAAAAAAI/AAAAAAAAAA4/B0Oa481JYu0/photo.jpg?sz=128", "display_name": "Jiayu Zhang", "link": "https://stackoverflow.com/users/8816642/jiayu-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 48310329, "answer_count": 1, "score": 1, "last_activity_date": 1516224745, "creation_date": 1516224191, "question_id": 48310207, "link": "https://stackoverflow.com/questions/48310207/how-to-iterate-a-dataframe-then-return-rows-values-in-python", "title": "How to iterate a dataframe then return rows values in python?", "body": "<p>I have a dataframe like this,</p>\n\n<pre><code>import pandas as pd\nd = {'col1': [\"2004-02-26\", \"2004-02-27\", \"2004-03-01\",\n              \"2004-03-02\", \"2004-03-03\", \"2004-03-04\",\n              \"2004-03-05\", \"2004-03-08\", \"2004-03-09\",\n              \"2004-03-10\", \"2004-03-11\", \"2004-03-12\"],\n     'col2': [-3, 4, 5, 3, -1, 11, 123, 43, -5, 3, -4, -7],\n     'col3': [0, 1, 0, 0, 1, 0, 0, 0, 0, 1, 1, 0,]}\ndf = pd.DataFrame(data=d)\nprint(df)\n</code></pre>\n\n<p>Print it out,</p>\n\n<pre><code>              col1  col2  col3\n    0   2004-02-26    -3     0\n    1   2004-02-27     4     1\n    2   2004-03-01     5     0\n    3   2004-03-02     3     0\n    4   2004-03-03    -1     1\n    5   2004-03-04    11     0\n    6   2004-03-05   123     0\n    7   2004-03-08    43     0\n    8   2004-03-09    -5     0\n    9   2004-03-10     3     1\n    10  2004-03-11    -4     1\n    11  2004-03-12    -7     0\n</code></pre>\n\n<p>You can see in <code>df['col2']</code>, positive values are seperated by a couple of negative values. I want to select the head and tail row of every group of positive values to a new dataframe. If only one positive row stay in the middle of nagetives I assume the head and tail are the same.</p>\n\n<p>For example, </p>\n\n<pre><code>head_date  col2h  co3h    tail_date  col2t  col3t\n2004-02-27     4     1     2004-03-02     3     0\n2004-03-04    11     0     2004-03-08    43     0\n2004-03-10     3     1     2004-03-10     3     1\n</code></pre>\n\n<p>I was thinking select the rows when (i)th row of col2&lt;0 and (i+1)th row of col2>0, return the i+1 row values, and also when (i)th row of col2>0 and (i+1)th row of col2&lt;0, return the i row values. But feels a bit confused.</p>\n\n<p>I hope I described the problem clearly. Really hope someone can help me out.</p>\n"}, {"tags": ["python", "google-cloud-platform", "speech-recognition", "google-cloud-speech"], "answers": [{"tags": [], "owner": {"reputation": 1453, "user_id": 8831875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7b9bb7786f4f3ac167a75ed2911b2d3?s=128&d=identicon&r=PG&f=1", "display_name": "A.Queue", "link": "https://stackoverflow.com/users/8831875/a-queue"}, "is_accepted": true, "score": 2, "last_activity_date": 1516283696, "creation_date": 1516283696, "answer_id": 48323000, "question_id": 48310149, "link": "https://stackoverflow.com/questions/48310149/google-cloud-speech-to-text-grammar-to-narrow-results-to-a-number/48323000#48323000", "title": "Google cloud speech to text grammar to narrow results to a number?", "body": "<p>Try adding <a href=\"https://cloud.google.com/speech/reference/rest/v1beta1/RecognitionConfig#FIELDS.speech_context\" rel=\"nofollow noreferrer\">speechContexts</a>. You can then add a few phrases that you think are most probable.</p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 315699, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/31157a64cff2486fe5eabd1513c6c339?s=128&d=identicon&r=PG", "display_name": "talkingnews", "link": "https://stackoverflow.com/users/315699/talkingnews"}, "is_accepted": false, "score": 4, "last_activity_date": 1516383392, "last_edit_date": 1592644375, "creation_date": 1516383392, "answer_id": 48346616, "question_id": 48310149, "link": "https://stackoverflow.com/questions/48310149/google-cloud-speech-to-text-grammar-to-narrow-results-to-a-number/48346616#48346616", "title": "Google cloud speech to text grammar to narrow results to a number?", "body": "<p>A.Queue's answer is correct, however, in case others are bitten by the docs:</p>\n<p>The <a href=\"https://cloud.google.com/speech/reference/rest/v1beta1/RecognitionConfig#SpeechContext\" rel=\"nofollow noreferrer\">link given</a> suggests:</p>\n<pre><code>{ &quot;phrases&quot;: [ string], } \n</code></pre>\n<p>The <a href=\"https://googlecloudplatform.github.io/google-cloud-python/latest/speech/gapic/types.html#google.cloud.speech_v1.types.RecognitionConfig.speech_contexts\" rel=\"nofollow noreferrer\">python documentation</a> says:</p>\n<blockquote>\n<p>speech_contexts</p>\n<p>Optional: A means to provide context to assist the speech recognition.</p>\n</blockquote>\n<p>The python examples show:</p>\n<pre><code>language_code='en-US',\nmax_alternatives=max_alternatives,\nprofanity_filter=True,\nspeech_contexts=['Google', 'cloud'],\n</code></pre>\n<p>What actually works is:</p>\n<pre><code>speech_contexts=[speech.types.SpeechContext(\n     phrases=['Google', 'cloud'],\n )]\n</code></pre>\n<p>I managed to get this from a Googler on Slack who pointed me to some alternative more comprehensive and accurate <a href=\"https://googlecloudplatform.github.io/google-cloud-python/latest/speech/#synchronous-recognition\" rel=\"nofollow noreferrer\">documentation</a>. Bookmark that last link for future sanity.</p>\n"}], "owner": {"reputation": 211, "user_id": 315699, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/31157a64cff2486fe5eabd1513c6c339?s=128&d=identicon&r=PG", "display_name": "talkingnews", "link": "https://stackoverflow.com/users/315699/talkingnews"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 1, "accepted_answer_id": 48323000, "answer_count": 2, "score": 1, "last_activity_date": 1516383392, "creation_date": 1516223946, "question_id": 48310149, "link": "https://stackoverflow.com/questions/48310149/google-cloud-speech-to-text-grammar-to-narrow-results-to-a-number", "title": "Google cloud speech to text grammar to narrow results to a number?", "body": "<p>I very simply want to pass is a tiny audio clip (8Khz telephony) containing a single digit number, and get back a single digit number as text, narrowed down to a number.</p>\n\n<p>File in > number as text out. Preferably via the python command line API. </p>\n\n<p>The problem is, by default, it recognises things like 1,2,3,4,5 as  won,too,free,fore,5 ... no good!</p>\n\n<p>I believe I want what is called a grammar? Or something like Amazon's number slot types it uses in Alexa? I've looked over the cloud speech docs and can't find it. The only thing I could think of is looping over the alternatives given and see if any match an int rather than a word. And if none do, then what?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "windows", "unicode", "tkinter", "tcl"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 1, "creation_date": 1516224131, "post_id": 48310132, "comment_id": 83606152, "body": "ask authors why. Create minimal working example with your problem."}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1516227446, "post_id": 48310132, "comment_id": 83607608, "body": "You could use pillow to solve that problem."}, {"owner": {"reputation": 172, "user_id": 7385015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FDOad.png?s=128&g=1", "display_name": "Alec White", "link": "https://stackoverflow.com/users/7385015/alec-white"}, "reply_to_user": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 1, "creation_date": 1516230735, "post_id": 48310132, "comment_id": 83608856, "body": "@Simon Pillow is Python 3&#39;s version of python imaging library correct? Here BMP does not mean an image bitmap but Basic Multilingual Plane (Plane 0) which means 3-byte unicode characters. Would pillow be helpful with extending tcl to 4-byte characters?"}, {"owner": {"reputation": 8884, "user_id": 8372104, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/72UbV.png?s=128&g=1", "display_name": "Simon", "link": "https://stackoverflow.com/users/8372104/simon"}, "edited": false, "score": 0, "creation_date": 1516230802, "post_id": 48310132, "comment_id": 83608871, "body": "Ah I misunderstood."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1516239441, "post_id": 48310132, "comment_id": 83610979, "body": "In Windows, tkinter should support non-BMP characters if you pass UTF-16 surrogate codes in the string. Python allows this with the <code>&#39;surrogatepass&#39;</code> error handler. I don&#39;t think this is possible with UTF-8 in Unix. For example: <code>title_bytes = &#39;\\U0001F60A&#39;.encode(&#39;utf-16le&#39;);</code> <code>title = &#39;&#39;.join(title_bytes[n:n+2].decode(&#39;utf-16le&#39;, &#39;surrogatepass&#39;) for n in range(0, len(title_bytes), 2));</code> <code>root = Tk();</code> <code>root.title(title);</code> <code>root.mainloop()</code>."}, {"owner": {"reputation": 119001, "user_id": 301832, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/965220a70d38e6a29466f44cdb4f804e?s=128&d=identicon&r=PG", "display_name": "Donal Fellows", "link": "https://stackoverflow.com/users/301832/donal-fellows"}, "edited": false, "score": 5, "creation_date": 1516266748, "post_id": 48310132, "comment_id": 83620480, "body": "Tkinter only supports the BMP because Tk (the library that Tkinter is a wrapper around) only supports the BMP. That&#39;s a known issue with Tk that should be minimally fixed (provided you don&#39;t poke too closely) in 8.7. Encoding as surrogate pairs should work for now."}], "owner": {"reputation": 172, "user_id": 7385015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FDOad.png?s=128&g=1", "display_name": "Alec White", "link": "https://stackoverflow.com/users/7385015/alec-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1516224934, "creation_date": 1516223830, "last_edit_date": 1516224934, "question_id": 48310132, "link": "https://stackoverflow.com/questions/48310132/why-does-tcl-tkinter-only-support-bmp-characters", "title": "Why does tcl/tkinter only support BMP characters?", "body": "<p>I am trying to query and display utf-8 encoded characters in a gui built on tkinter and thus tcl. However, I have found that tkinter cannot display 4-byte characters i.e. unicode codepoints greater than U+FFFF. <strong>Why is this the case? What limitations would implementing non-BMP characters have for tcl?</strong></p>\n\n<p>I can't query non-BMP characters through my gui, but if they come up in a result I can copy/paste the character and see the character/codepoint through unicode-table.com despite my system not displaying it. So, it seems that the character is being displayed as codepoint U+FFFD but stored in the view with the correct codepoint.</p>\n\n<p>I am running a Python 3.6.4 script on Windows 7.</p>\n\n<p><strong>Update:</strong> Here is the error I get for some context where the 4-byte unicode codepoint is out of range of BMP characters and can't be handled by Tcl</p>\n\n<pre><code> File \"Project/userInterface.py\", line 569, in populate_tree\n    iids.append(self.detailtree.insert('', 'end', values=entry))\n  File \"C:\\Program Files (x86)\\Python36-32\\Lib\\tkinter\\ttk.py\", line 1343, in insert\n    res = self.tk.call(self._w, \"insert\", parent, index, *opts)\n_tkinter.TclError: character U+1f624 is above the range (U+0000-U+FFFF) allowed by Tcl\n</code></pre>\n\n<p>I handle this by using regular expressions to substitute out of range unicode characters with the replacement character.</p>\n\n<pre><code>  for item in entries:\n        #handles unicode characters that are greator than 3 bytes as tkinter/tcl cannot handle/display them\n        entry = list(item)\n        for i, col in enumerate(entry):\n            if col and isinstance(col, str):\n                re_pattern = re.compile(u'[^\\u0000-\\uD7FF\\uE000-\\uFFFF]', re.UNICODE)\n                filtered_string = re_pattern.sub(u'\\uFFFD', col) #replaces \\u1000 and greater with the unknow character\n                if filtered_string != col:\n                    entry[i] = filtered_string\n        entry = tuple(entry)\n        iids.append(self.detailtree.insert('', 'end', values=entry))\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "loops"], "comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1516224009, "post_id": 48310130, "comment_id": 83606097, "body": "Your logic is wrong. The <code>or</code> condition returns <code>True</code> if any of those conditions are <code>True</code>. You should change the <code>or</code>s to <code>and</code>s. But even better, use <code>in</code>. Eh this comment is getting long, I&#39;ll write an answer. Edit: Multiple people beat me to it. Also you don&#39;t the list <code>sandwiches</code>-  the dict <code>sandwichVAL</code> is sufficient."}], "answers": [{"tags": [], "owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "is_accepted": false, "score": 3, "last_activity_date": 1516224011, "creation_date": 1516224011, "answer_id": 48310166, "question_id": 48310130, "link": "https://stackoverflow.com/questions/48310130/python-loop-keeps-returning-incorrectly-how-can-i-amend-this/48310166#48310166", "title": "Python loop keeps returning incorrectly, how can I amend this?", "body": "<pre><code>if choice!=\"Baguette\" or choice!=\"Bagel\" or choice!=\"Sub\" or choice!=\"Wrap\" or choice!=\"White\":\n</code></pre>\n\n<p>This logic is incorrect.  The branch will be taken when <em>any</em> of these expressions is true.  e.g. if <code>choice = \"Bagel\"</code>, then <code>(choice != \"Sub\") == True</code>.</p>\n\n<p>You probably want <code>and</code>s instead of <code>or</code>s.  Even better, since you have already defined a list of valid sandwiches, you can write:</p>\n\n<pre><code>if choice not in sandwiches:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1516224475, "last_edit_date": 1516224475, "creation_date": 1516224044, "answer_id": 48310169, "question_id": 48310130, "link": "https://stackoverflow.com/questions/48310130/python-loop-keeps-returning-incorrectly-how-can-i-amend-this/48310169#48310169", "title": "Python loop keeps returning incorrectly, how can I amend this?", "body": "<p>Look at your logic:</p>\n\n<pre><code>if choice != A or choice != B ...\n</code></pre>\n\n<p><code>choice</code> can match only <em>one</em> of your hard-coded alternatives; this test <em>must</em> be <code>True</code> for any value of <code>choice</code>.\nInstead, try something like</p>\n\n<pre><code>if choice not in [\"Baguette\", \"Bagel\", \"Sub\", ...]:\n</code></pre>\n\n<p>Better yet, use the list you already have:</p>\n\n<pre><code>if choice not in sandwiches:\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1516224095, "creation_date": 1516224095, "answer_id": 48310181, "question_id": 48310130, "link": "https://stackoverflow.com/questions/48310130/python-loop-keeps-returning-incorrectly-how-can-i-amend-this/48310181#48310181", "title": "Python loop keeps returning incorrectly, how can I amend this?", "body": "<p>You can simply check if the choice is valid via:</p>\n\n<pre><code>if choice not in sandwiches:\n    print(\"Unfortunately, ...\")\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9035366, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WKMnq9q7uC4/AAAAAAAAAAI/AAAAAAAAAHI/YFMfSMquhyM/photo.jpg?sz=128", "display_name": "voidedGround", "link": "https://stackoverflow.com/users/9035366/voidedground"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "closed_date": 1516224363, "accepted_answer_id": 48310169, "answer_count": 3, "score": 1, "last_activity_date": 1516224475, "creation_date": 1516223819, "last_edit_date": 1516224407, "question_id": 48310130, "link": "https://stackoverflow.com/questions/48310130/python-loop-keeps-returning-incorrectly-how-can-i-amend-this", "closed_reason": "Duplicate", "title": "Python loop keeps returning incorrectly, how can I amend this?", "body": "<pre><code>sandwichType=\"\"\ntotalCost=0\nsandwiches=[\"Baguette\", \"Bagel\", \"Sub\", \"Wrap\", \"White\"]\nsandwichVAL={\"Baguette\":3.50, \"Bagel\":2.10, \"Sub\":3.99, \"Wrap\":4.15, \"White\":0.90}\nchoice=\"\"\nwhile choice!=\"Baguette\" or choice!=\"Bagel\" or choice!=\"Sub\" or choice!=\"Wrap\" or choice!=\"White\":\n  choice=str(input(\"What type of sandwich would you like?\\n&gt;Baguette - \u00a33.50\\n&gt;Bagel    - \u00a32.10\\n&gt;Sub      - \u00a33.99\\n&gt;Wrap     - \u00a34.15\\n&gt;White    - \u00a30.90\\n\"))\n  if choice!=\"Baguette\" or choice!=\"Bagel\" or choice!=\"Sub\" or choice!=\"Wrap\" or choice!=\"White\":\n    print(\"Unfortunately, that is not a valid choice! Please pick again and remember to capitalise the first letter!\")\n  else:\n    print()\ntotalCost+=sandwichVAL[choice]\nprint(totalCost)\n</code></pre>\n\n<p>This code keeps returning</p>\n\n<pre><code>Unfortunately, that is not a valid choice! Please pick again and remember to capitalise the first letter!\n</code></pre>\n\n<p>even when the choice variable is correct. What edits should I make to make it print the total cost?</p>\n"}, {"tags": ["python", "youtube", "beautifulsoup", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 7472522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c3d164b58f08e99da54db01ac33be9?s=128&d=identicon&r=PG&f=1", "display_name": "keysersoze977", "link": "https://stackoverflow.com/users/7472522/keysersoze977"}, "edited": false, "score": 0, "creation_date": 1516225596, "post_id": 48310374, "comment_id": 83606766, "body": "Thank you. I got the class included in the code by &quot;inspecting&quot; the page, which is probably visible in the bottom half of my original picture. Is there something wrong with doing that? Also can you please tell me how you obtained those video links markup?"}, {"owner": {"reputation": 1882, "user_id": 825240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4fe0d8dd37ea4b7afa8f77165dc922c?s=128&d=identicon&r=PG", "display_name": "powerc9000", "link": "https://stackoverflow.com/users/825240/powerc9000"}, "reply_to_user": {"reputation": 51, "user_id": 7472522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c3d164b58f08e99da54db01ac33be9?s=128&d=identicon&r=PG&f=1", "display_name": "keysersoze977", "link": "https://stackoverflow.com/users/7472522/keysersoze977"}, "edited": false, "score": 1, "creation_date": 1516231231, "post_id": 48310374, "comment_id": 83609010, "body": "@beebeckzzz I just ran a curl on the url you had in your screenshot <code>curl https:&#47;&#47;www.youtube.com&#47;results\\?search_query\\=hello</code>"}], "tags": [], "owner": {"reputation": 1882, "user_id": 825240, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d4fe0d8dd37ea4b7afa8f77165dc922c?s=128&d=identicon&r=PG", "display_name": "powerc9000", "link": "https://stackoverflow.com/users/825240/powerc9000"}, "is_accepted": true, "score": 1, "last_activity_date": 1570648023, "last_edit_date": 1570648023, "creation_date": 1516224921, "answer_id": 48310374, "question_id": 48310129, "link": "https://stackoverflow.com/questions/48310129/scraping-a-youtube-page-returns-empty-list/48310374#48310374", "title": "Scraping a youtube page returns empty list", "body": "<p>I think the problem lies with the way you are trying to find the links. When I <code>curl</code> the same url as you <code>curl https://www.youtube.com/results\\?search_query\\=hello</code></p>\n\n<p>I don't get any <code>a</code> tags with those css elements on it. This seems based on the <code>User-Agent</code> property set in the header. </p>\n\n<p>So there are a few options:</p>\n\n<ol>\n<li><p>Change how you look for the video link.</p>\n\n<p>This is what video links markup looks like for my curl</p>\n\n<pre><code>&lt;a href=\"/watch?v=YQHsXMglC9A\" class=\"yt-uix-tile-link yt-ui-ellipsis yt-ui-ellipsis-2 yt-uix-sessionlink spf-link \" data-sessionlink=\"itct=CFcQ3DAYASITCLfbt4P439gCFQzYfgodkDYKVij0JFIFaGVsbG8\" title=\"Adele - Hello\" aria-describedby=\"description-id-484065\" rel=\"spf-prefetch\" dir=\"ltr\"&gt;Adele - Hello&lt;/a&gt;\n</code></pre>\n\n<p>As you can see those classes do not exist here.</p>\n\n<p>However you can use some sort of regular expression on the hrefs to find ones that contain the correct format</p>\n\n<pre><code>page.find_all(\"a\", {'href': re.compile('/watch?v=[A-Za-z0-9_\\-]`)})\n</code></pre>\n\n<p>(you will have to mess with the regex it isn't perfect</p></li>\n<li><p>Use the <a href=\"https://developers.google.com/youtube/\" rel=\"nofollow noreferrer\">Youtube API</a></p>\n\n<p>I would say this would be the preferred method just guessing what you are trying to do. Specifically the <a href=\"https://developers.google.com/youtube/v3/docs/search/list\" rel=\"nofollow noreferrer\">search api</a> they even have python snippets</p></li>\n</ol>\n"}], "owner": {"reputation": 51, "user_id": 7472522, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37c3d164b58f08e99da54db01ac33be9?s=128&d=identicon&r=PG&f=1", "display_name": "keysersoze977", "link": "https://stackoverflow.com/users/7472522/keysersoze977"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 0, "accepted_answer_id": 48310374, "answer_count": 1, "score": 1, "last_activity_date": 1570648023, "creation_date": 1516223813, "question_id": 48310129, "link": "https://stackoverflow.com/questions/48310129/scraping-a-youtube-page-returns-empty-list", "title": "Scraping a youtube page returns empty list", "body": "<p>I've been trying to scrape links from this youtube page. . But, the links variable comes up empty. Anything I am doing wrong?? <a href=\"https://i.stack.imgur.com/zFwtg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zFwtg.png\" alt=\"I have attached the code with this question\"></a></p>\n"}, {"tags": ["python", "decorator", "python-decorators"], "comments": [{"owner": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1516223961, "post_id": 48310109, "comment_id": 83606074, "body": "Why not creating a single decorator that takes the formats as parameter ?"}, {"owner": {"reputation": 194, "user_id": 2228145, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Uua4y.jpg?s=128&g=1", "display_name": "Carlos P Ceballos", "link": "https://stackoverflow.com/users/2228145/carlos-p-ceballos"}, "reply_to_user": {"reputation": 18922, "user_id": 3633742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thyJX.jpg?s=128&g=1", "display_name": "n00dl3", "link": "https://stackoverflow.com/users/3633742/n00dl3"}, "edited": false, "score": 0, "creation_date": 1516224133, "post_id": 48310109, "comment_id": 83606153, "body": "I think your right, will do that"}], "answers": [{"tags": [], "owner": {"reputation": 8720, "user_id": 3846213, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/5PGh1.jpg?s=128&g=1", "display_name": "Eli Korvigo", "link": "https://stackoverflow.com/users/3846213/eli-korvigo"}, "is_accepted": true, "score": 3, "last_activity_date": 1516226069, "last_edit_date": 1516226069, "creation_date": 1516225558, "answer_id": 48310519, "question_id": 48310109, "link": "https://stackoverflow.com/questions/48310109/transparently-chain-combine-decorators/48310519#48310519", "title": "Transparently chain (combine) decorators", "body": "<p>This kinda reminds me of monads. Anyway, you can make a transparent generic logging decorator:</p>\n\n<pre><code>def log(callback):\n    def logger(fn):\n        def logwrapper(*args, **kwargs):\n            value = fn(*args, **kwargs)\n            callback(value)\n            return value\n        return logwrapper\n    return logger\n\ncsv_callback = lambda x: print('writing {} to a csv file'.format(x))\nxlsx_callback = lambda x: print('writing {} to an xlsx file'.format(x))\n\n@log(csv_callback)\n@log(xlsx_callback)\ndef test(a, b):\n    return a + b\n\nIn [2]: test(1, 2)\nwriting 3 to an xlsx file\nwriting 3 to a csv file\nOut[2]: 3\n\nIn [3]: test(2, 3)\nwriting 5 to an xlsx file\nwriting 5 to a csv file\nOut[3]: 5\n</code></pre>\n\n<p>You can also just pass several callbacks into the logger to avoid excessive  nesting</p>\n\n<pre><code>def log(*callbacks):\n    def logger(fn):\n        def logwrapper(*args, **kwargs):\n            value = fn(*args, **kwargs)\n            for callback in callbacks:\n                callback(value)\n            return value\n        return logwrapper\n    return logger\n\n@log(csv_callback, xlsx_callback)\ndef test(a, b):\n    return a + b\n</code></pre>\n"}], "owner": {"reputation": 194, "user_id": 2228145, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Uua4y.jpg?s=128&g=1", "display_name": "Carlos P Ceballos", "link": "https://stackoverflow.com/users/2228145/carlos-p-ceballos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 48310519, "answer_count": 1, "score": 2, "last_activity_date": 1516228248, "creation_date": 1516223738, "last_edit_date": 1516228248, "question_id": 48310109, "link": "https://stackoverflow.com/questions/48310109/transparently-chain-combine-decorators", "title": "Transparently chain (combine) decorators", "body": "<p>I know this is not how decorators are intended but.. </p>\n\n<p>I have decorators to save various outpust from functions to xlsx, csv, other</p>\n\n<p>what I want to do is</p>\n\n<pre><code>@save_xlsx\n@save_csv\ndef whatever_function():\n</code></pre>\n\n<p>and have one file saved in .xlsx and the other in .csv, both working with the same output from <code>whatever_function()</code>. I also want to be able to use only one decorator on other functions.</p>\n\n<p>Or maybe this is not the right approach?</p>\n"}, {"tags": ["python", "arrays", "json", "python-3.x", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 5358, "user_id": 3171657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/J3bKr.png?s=128&g=1", "display_name": "Turn", "link": "https://stackoverflow.com/users/3171657/turn"}, "edited": false, "score": 1, "creation_date": 1516223990, "post_id": 48310099, "comment_id": 103771805, "body": "In addition to user2357112&#39;s correct answer about how to specifically get your code working, consider extending <code>json</code> to be able to encode your array as specified <a href=\"https://stackoverflow.com/a/24375113/3171657\">here</a>."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 14, "last_activity_date": 1516234849, "last_edit_date": 1516234849, "creation_date": 1516223688, "answer_id": 48310099, "question_id": 48310067, "link": "https://stackoverflow.com/questions/48310067/making-numpy-arrays-json-serializable/48310099#48310099", "title": "Making numpy arrays JSON serializable", "body": "<p>That <code>3</code> is a <a href=\"https://docs.scipy.org/doc/numpy-1.14.0/reference/arrays.scalars.html\" rel=\"noreferrer\">NumPy integer</a> that displays like a regular Python int, but isn't one. Use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.ndarray.tolist.html#numpy.ndarray.tolist\" rel=\"noreferrer\"><code>tolist</code></a> to get a list of ordinary Python ints:</p>\n\n<pre><code>json.dumps(my_array.tolist())\n</code></pre>\n\n<p>This will also convert multidimensional arrays to nested lists, so you don't have to deal with a 3-layer list comprehension for a 3-dimensional array.</p>\n"}], "owner": {"reputation": 283, "user_id": 9231236, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G5c1i.png?s=128&g=1", "display_name": "Drubbels", "link": "https://stackoverflow.com/users/9231236/drubbels"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7755, "favorite_count": 0, "accepted_answer_id": 48310099, "answer_count": 1, "score": 9, "last_activity_date": 1516234849, "creation_date": 1516223563, "question_id": 48310067, "link": "https://stackoverflow.com/questions/48310067/making-numpy-arrays-json-serializable", "title": "Making numpy arrays JSON serializable", "body": "<p>I have a program which handles data in the form of NumPy arrays, which needs to be stored in JSON form (to later pass it to another program to visualize the data). When I try the following:</p>\n\n<pre><code>my_array = np.array([3, 4, 5])\njson.dumps(my_array)\n</code></pre>\n\n<p>I get an error message reading</p>\n\n<pre><code>TypeError: array([3, 4, 5]) is not JSON serializable\n</code></pre>\n\n<p>So it turns out that arrays are not serializable. I hoped to solve this by converting the arrays into ordinary lists, but if I try</p>\n\n<pre><code>my_array = np.array([3, 4, 5])\nmy_list = list(my_array)\njson.dumps(my_list)\n</code></pre>\n\n<p>I just get an error reading</p>\n\n<pre><code>TypeError: 3 is not JSON serializable\n</code></pre>\n\n<p>(That <code>3</code> appears to be because '3' is the first element of the list)</p>\n\n<p>Even stranger, this error persists when I try to reconstruct a list from scratch:</p>\n\n<pre><code>def plain_list(ls):\n  pl = []\n  for element in ls:\n    pl.append(element)\n  return pl\n\nmy_array = np.array([3, 4, 5])\nmy_list = plain_list(my_array)\njson.dumps(my_list)\n</code></pre>\n\n<p>still returns</p>\n\n<pre><code>TypeError: 3 is not JSON serializable\n</code></pre>\n\n<p>I have two questions:</p>\n\n<ol>\n<li>How is it that even that last one doesn't work? Shouldn't it have 'forgotten' everything about having ever been a NumPy array? Are integers in NumPy arrays not <em>really</em> the same objects as ordinary integers, and do they carry some special invisible property with them that persists even outside of the array?</li>\n<li>How <em>can</em> I effectively store arrays in JSON form (no matter how convoluted the solution may need to be)?</li>\n</ol>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 434, "user_id": 9092892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dcac9f98e09564e0e7ba9511cda33a6?s=128&d=identicon&r=PG&f=1", "display_name": "the_grumpy_cat", "link": "https://stackoverflow.com/users/9092892/the-grumpy-cat"}, "edited": false, "score": 0, "creation_date": 1516225748, "post_id": 48310427, "comment_id": 83606838, "body": "Where does &#39;lectures = course.lectures.all()&#39; go ? syntax is incorrect. Also, how exactly the view should look ?"}, {"owner": {"reputation": 163, "user_id": 2720806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1af26b13ac20b89b836839ae7b6bd5bf?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/2720806/marc"}, "reply_to_user": {"reputation": 434, "user_id": 9092892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dcac9f98e09564e0e7ba9511cda33a6?s=128&d=identicon&r=PG&f=1", "display_name": "the_grumpy_cat", "link": "https://stackoverflow.com/users/9092892/the-grumpy-cat"}, "edited": false, "score": 0, "creation_date": 1516226128, "post_id": 48310427, "comment_id": 83606988, "body": "I&#39;ve edited and removed this misleading example. Now the example provides the full view function. I hope it helps"}], "tags": [], "owner": {"reputation": 163, "user_id": 2720806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1af26b13ac20b89b836839ae7b6bd5bf?s=128&d=identicon&r=PG", "display_name": "Marc", "link": "https://stackoverflow.com/users/2720806/marc"}, "is_accepted": true, "score": 1, "last_activity_date": 1516226074, "last_edit_date": 1516226074, "creation_date": 1516225151, "answer_id": 48310427, "question_id": 48310059, "link": "https://stackoverflow.com/questions/48310059/represent-two-models-in-the-same-django-template/48310427#48310427", "title": "Represent two models in the same Django template", "body": "<p>You can use the <a href=\"https://docs.djangoproject.com/en/2.0/ref/models/fields/#django.db.models.ForeignKey.related_name\" rel=\"nofollow noreferrer\">related_name</a> parameter in the Lecture and CourseCategory models:</p>\n\n<pre><code>class Lecture(models.Model):\n    course = models.ForeignKey('Course', on_delete=models.CASCADE, default='', related_name='lectures')\n    ...\n</code></pre>\n\n<p>In the CourseCategory:</p>\n\n<pre><code>class CourseCategory(models.Model):\n    course = models.ForeignKey('Course', on_delete=models.CASCADE, related_name='categories')\n    ...\n</code></pre>\n\n<p>Also, in the view render, you can put the lectures and categories in the render context, so they will be available in the template (as <code>courses</code>, <code>lectures</code> and <code>categories</code>):</p>\n\n<pre><code>def courses(request, slug):\n    con = get_object_or_404(Course, slug=slug)\n    context = {\n        'course': con,\n        'lectures': con.lectures.all(),\n        'categories': con.categories.all(),\n    }\n    return render(request, 'courses/courses.html', context)\n</code></pre>\n"}], "owner": {"reputation": 434, "user_id": 9092892, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2dcac9f98e09564e0e7ba9511cda33a6?s=128&d=identicon&r=PG&f=1", "display_name": "the_grumpy_cat", "link": "https://stackoverflow.com/users/9092892/the-grumpy-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 48310427, "answer_count": 1, "score": 0, "last_activity_date": 1516226074, "creation_date": 1516223514, "last_edit_date": 1516225110, "question_id": 48310059, "link": "https://stackoverflow.com/questions/48310059/represent-two-models-in-the-same-django-template", "title": "Represent two models in the same Django template", "body": "<p>I represented my courses as a list already and then generated the page below for each course. On the same page I want to represent, for that specific course, all <code>course_category</code> fields with their specific <code>lecture_title</code> and content, etc.</p>\n\n<pre><code>def courses(request, slug):\n    con = get_object_or_404(Course, slug=slug)\n    return render(request, 'courses/courses.html', {'course': con})\n\nclass Lecture(models.Model):\n    course = models.ForeignKey('Course', on_delete=models.CASCADE, default='')\n    course_category = models.ForeignKey('CourseCategory', on_delete=models.CASCADE)\n    lecture_title = models.CharField(max_length=100)\n    content = models.TextField()\n    link = models.URLField(blank=True)\n    file = models.FileField(blank=True, upload_to='documents')\n\n    def __str__(self):\n        return self.lecture_title\n\nclass CourseCategory(models.Model):\n    course = models.ForeignKey('Course', on_delete=models.CASCADE)\n    course_category = models.CharField(max_length=50, unique=True)\n\n    def __str__(self):\n        return self.course_category\n\nclass Course(models.Model):\n    study_programme = models.ForeignKey('StudyProgramme', on_delete=models.CASCADE)\n    name = models.CharField(max_length=50)\n    ects = models.PositiveSmallIntegerField(validators=[MaxValueValidator(99)])\n    description = models.TextField()\n    year = models.PositiveSmallIntegerField(validators=[MaxValueValidator(99)])\n    semester = models.IntegerField(choices=((1, \"1\"),\n                                            (2, \"2\"),\n                                            ), default=None)\n    slug = models.SlugField(max_length=140, unique=True)\n\n    def __str__(self):\n        return self.name\n\n    def _get_unique_slug(self):\n        slug = slugify(self.name)\n        unique_slug = slug\n        num = 1\n        while Course.objects.filter(slug=unique_slug).exists():\n            unique_slug = '{}-{}'.format(slug, num)\n            num += 1\n        return unique_slug\n\n    def save(self, *args, **kwargs):\n        if not self.slug:\n            self.slug = self._get_unique_slug()\n        super().save()\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>{% block body %}\n    &lt;ul&gt;\n        &lt;li&gt;{{ course.study_programme }}&lt;/li&gt;\n        &lt;li&gt;{{ course.name }}&lt;/li&gt;\n        &lt;li&gt;{{ course.ects }}&lt;/li&gt;\n        &lt;li&gt;{{ course.description }}&lt;/li&gt;\n        &lt;li&gt;{{ course.year }}&lt;/li&gt;\n        &lt;li&gt;{{ course.semester }}&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;br/&gt;\n     &lt;ul&gt;\n     {% for c in course.course_category %}\n        &lt;li&gt;&lt;strong&gt;{{ c.course_category}}&lt;/strong&gt;&lt;/li&gt;\n     {% endfor %}\n        &lt;li&gt;{{ course.lecture_title }}&lt;/li&gt;\n        &lt;li&gt;{{ course.content}}&lt;/li&gt;\n\n    &lt;/ul&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "one-hot-encoding"], "comments": [{"owner": {"reputation": 4414, "user_id": 5241032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/056c678e99e8253ad280b230ba30a7fb?s=128&d=identicon&r=PG&f=1", "display_name": "cmaher", "link": "https://stackoverflow.com/users/5241032/cmaher"}, "edited": false, "score": 0, "creation_date": 1516223731, "post_id": 48310058, "comment_id": 83605966, "body": "Can you add sample data to your question?"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516225846, "post_id": 48310058, "comment_id": 83606875, "body": "You new_levels contains level_2 twice instead of level_3. Correct that and you will get level_3 in new_df"}, {"owner": {"reputation": 385, "user_id": 3699823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc9d64baa3134adc85c2a4f158541e7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/3699823/sam"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516227202, "post_id": 48310058, "comment_id": 83607486, "body": "@Vaishali The point is that level_3 is <i>not</i> in the <code>new_df</code> DataFrame. <code>new_df</code> can be something like 5000 records, but not containing the level <code>level_3</code>."}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516227529, "post_id": 48310058, "comment_id": 83607638, "body": "Oh so you mean that you need a new column level_3 in the new_df with all the zeros as the level_3 is not present in the column level?"}, {"owner": {"reputation": 1394, "user_id": 4525474, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TyxqmL3pRxU/AAAAAAAAAAI/AAAAAAAAjOo/hXcVmKq1cOo/photo.jpg?sz=128", "display_name": "Bert Kellerman", "link": "https://stackoverflow.com/users/4525474/bert-kellerman"}, "edited": false, "score": 0, "creation_date": 1516256859, "post_id": 48310058, "comment_id": 83615585, "body": "Have you considered feature hashing?  It maps categorical values to columns indices, but you don&#39;t need to have seen all possible categorical values in your training data."}], "answers": [{"tags": [], "owner": {"reputation": 8351, "user_id": 6498293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhNtK.jpg?s=128&g=1", "display_name": "David Dale", "link": "https://stackoverflow.com/users/6498293/david-dale"}, "is_accepted": true, "score": 1, "last_activity_date": 1516258668, "creation_date": 1516258668, "answer_id": 48315465, "question_id": 48310058, "link": "https://stackoverflow.com/questions/48310058/one-hot-encoding-of-uncommon-feature-levels-in-python/48315465#48315465", "title": "One Hot Encoding of uncommon feature levels in Python", "body": "<p>The most stable solution is to <code>reindex</code> the dataframe of dummies.</p>\n\n<p>When you encode the first (prototype) dataframe, you remember the list of dummy columns:</p>\n\n<pre><code># the initial encoding\nlevels=['level_1', 'level_2', 'level_3']\ndf_original = pd.DataFrame({'levels': levels, 'A': [0,1,2], 'B': [3,4,5]})\ndummies = pd.get_dummies(df_original.levels)\ndf = df_original.drop('levels', axis=1).join(dummies)\n# remember the levels and their order\ndummy_columns = list(dummies.columns)\n</code></pre>\n\n<p>After that, you force your new dummy dataframe to have the same columns:</p>\n\n<pre><code># encoding another dataframe\nnew_levels=['level_1', 'level_2', 'level_2']\nnew_df_original = pd.DataFrame({'levels': new_levels, 'A': [5,6,7], 'B': [8,9,7]})\n# this is where I use the remembered information\nnew_dummies = pd.get_dummies(new_df_original.levels). \\\n    reindex(columns=dummy_columns).fillna(0).astype(int)\nnew_df = new_df_original.drop('levels', axis=1).join(new_dummies)\nprint(new_df)\n</code></pre>\n\n<p>And it gives the result you wanted:</p>\n\n<pre><code>   A  B  level_1  level_2  level_3\n0  5  8        1        0        0\n1  6  9        0        1        0\n2  7  7        0        1        0\n</code></pre>\n"}], "owner": {"reputation": 385, "user_id": 3699823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fc9d64baa3134adc85c2a4f158541e7?s=128&d=identicon&r=PG", "display_name": "Sam", "link": "https://stackoverflow.com/users/3699823/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 48315465, "answer_count": 1, "score": 0, "last_activity_date": 1516258668, "creation_date": 1516223512, "last_edit_date": 1516224993, "question_id": 48310058, "link": "https://stackoverflow.com/questions/48310058/one-hot-encoding-of-uncommon-feature-levels-in-python", "title": "One Hot Encoding of uncommon feature levels in Python", "body": "<p>I have a model with a categorical factor. I encode it as One Hot Encoding using <code>pandas.get_dummies</code>.</p>\n\n<p>The categorical factor has many levels that are uncommon, though. were I to re-encode the new data using <code>pandas.get_dummies</code> the new columns might be 'off' because that new level won't appear in the new data.</p>\n\n<p>I was thinking about doing the following:</p>\n\n<pre><code>dummies_df = pd.get_dummies(list_of_all_possible_levels)\ndummies_df[:] =  0\n\ndummies_df.drop(dummies_df.index[1:], inplace=True)\n# If there are 10 levels this becomes a 10x10 Dataframe. I only need\n# one 'empty' row and drop everything after the first.\n\n\n# Let's say the DataFrame looks like this:\ndf['categorical_factor', 'numeric_factor', 'other_numeric_factor']\n\n# I want to do something where I flag the column of the feature as 1\n# and append the one-row dummies_df to each row of df\n\nfor cat in df.categorical_factor:\n    dummies_df[cat] = 1\n    df['numeric_factor', 'other_numeric_factor'] + dummies_df\n</code></pre>\n\n<p>I'm just confused to whether I should be looping though the rows like this, or there's a better 'cartesian product'-type answer. If this were R I would just do <code>cbind(df, dummies_df)</code> since R knows to recycle the values of <code>dummies_df</code>.</p>\n\n<p>Or maybe I should use <code>pandas.get_dummies</code> on the new data and join-in the missing levels as new columns like this:</p>\n\n<pre><code>new_dat['missing_level_1'] = [0 for _ in new_dat.index]\nnew_dat['missing_level_2'] = [0 for _ in new_dat.index]\n</code></pre>\n\n<h3>Edit: Sample Data</h3>\n\n<pre><code>levels=['level_1', 'level_2', 'level_3']\n\nA = [0,1,2]\nB = [3,4,5]\n\ndf = pd.DataFrame({'levels': levels, 'A': A, 'B': B})\n\ndf = df.drop('levels', axis=1).join(pd.get_dummies(df.levels))\n\n\n\nnew_levels=['level_1', 'level_2', 'level_2']\n\nnew_A = [5,6,7]\nnew_B = [8,9,7]\n\nnew_df = pd.DataFrame({'levels': new_levels, 'A': new_A, 'B': new_B})\n\nnew_df = new_df.drop('levels', axis=1).join(pd.get_dummies(new_df.levels))\n</code></pre>\n\n<p><code>df</code> is now</p>\n\n<pre><code>+---------+---+---+---------+---------+---------+\n| (index) | A | B | level_1 | level_2 | level_3 |\n+---------+---+---+---------+---------+---------+\n|       0 | 0 | 3 |       1 |       0 |       0 |\n|       1 | 1 | 4 |       0 |       1 |       0 |\n|       2 | 2 | 5 |       0 |       0 |       1 |\n+---------+---+---+---------+---------+---------+\n</code></pre>\n\n<p>and <code>new_df</code> is now</p>\n\n<pre><code>+---------+---+---+---------+---------+\n| (index) | A | B | level_1 | level_2 |\n+---------+---+---+---------+---------+\n|       0 | 5 | 8 |       1 |       0 |\n|       1 | 6 | 9 |       0 |       1 |\n|       2 | 7 | 7 |       0 |       1 |\n+---------+---+---+---------+---------+\n</code></pre>\n\n<p>(It's missing the <code>level_3</code> column.)</p>\n\n<p>I want <code>new_df</code> to be</p>\n\n<pre><code>+---------+---+---+---------+---------+---------+\n| (index) | A | B | level_1 | level_2 | level_3 |\n+---------+---+---+---------+---------+---------+\n|       0 | 5 | 8 |       1 |       0 |       0 |\n|       1 | 6 | 9 |       0 |       1 |       0 |\n|       2 | 7 | 7 |       0 |       1 |       0 |\n+---------+---+---+---------+---------+---------+\n</code></pre>\n"}, {"tags": ["python", "nlp", "word2vec", "doc2vec"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516223394, "post_id": 48310002, "comment_id": 83605799, "body": "this is probably better suited for <a href=\"https://stats.stackexchange.com\">Cross Validated</a>"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 8315960, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2094bb1edd831a82af3a4ac718393c7a?s=128&d=identicon&r=PG&f=1", "display_name": "mudstick", "link": "https://stackoverflow.com/users/8315960/mudstick"}, "edited": false, "score": 0, "creation_date": 1516393288, "post_id": 48330805, "comment_id": 83684081, "body": "Great explanation, thanks for the response. -- How is the dimensionality of the dense continuous vectors determined? Is something like PCA performed on the one-hot vectors for words and documents? -- Are both the input vectors and weight matrices initialized to random values?"}, {"owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "reply_to_user": {"reputation": 89, "user_id": 8315960, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2094bb1edd831a82af3a4ac718393c7a?s=128&d=identicon&r=PG&f=1", "display_name": "mudstick", "link": "https://stackoverflow.com/users/8315960/mudstick"}, "edited": false, "score": 0, "creation_date": 1516394369, "post_id": 48330805, "comment_id": 83684656, "body": "The dimensionality of dense embeddings often defaults to the 100-300 range, but best chosen by meta-optimization, once there&#39;s a rigorous, repeatable way to evaluate the quality of vectors for your purpose. (Something like the common &#39;analogies-solving&#39; eval is easy to use for word-vecs \u2013 but vectors that do best for that might not be best for other purposes, such as topical-information-retrieval, so devise your own scoring if possible.) Commonly (as in Google word2vec.c or gensim) only the word/doc-vectors (&#39;projection weights&#39;) are random-initialized; hidden-to-output weights begin as 0.0&#39;s."}], "tags": [], "owner": {"reputation": 39521, "user_id": 130288, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/ab7ddf1907847478bc7ad808cd176305?s=128&d=identicon&r=PG", "display_name": "gojomo", "link": "https://stackoverflow.com/users/130288/gojomo"}, "is_accepted": true, "score": 3, "last_activity_date": 1516387675, "last_edit_date": 1516387675, "creation_date": 1516311801, "answer_id": 48330805, "question_id": 48310002, "link": "https://stackoverflow.com/questions/48310002/are-the-document-vectors-used-in-doc2vec-one-hot/48330805#48330805", "title": "Are the document vectors used in doc2vec one-hot?", "body": "<p>No, the vectors created by Word2Vec or the 'Paragraph Vectors' form of Doc2Vec are 'dense embeddings' \u2013 scattered continuous real-valued coordinates throughout a smaller number of dimensions, rather than 0/1 coordinates in a very-high number of dimensions.</p>\n\n<p>It's possible to think of parts of the training as having a 'one-hot' encoding of the presence or absence of a word, or of a particular document-ID \u2013 with these raw 'one-hot' layers then activating a 'projection' layer that maps/averages the one-hots into a dense space. But the implementations I'm familiar with, such as the original Google word2vec.c or Python gensim, don't ever realize giant vocabulary-sized one-hot vectors. </p>\n\n<p>Rather, they use words/document-tags as lookup keys to select the right dense vectors for later operations. These looked-up dense vectors start at random low-magnitude coordinates, but then get continually adjusted by training until they reach the useful distance/direction arrangements for which people use Word2Vec/PV-Doc2Vec. </p>\n\n<p>So in skip-gram, the word 'apple' will pull up a vector, initially random, and that context vector is forward-propagated to see how well it predicts a specific in-window target word. Then, nudges to all values (including to the 'apple' vector's individual dimensions) are applied to make the prediction slightly better. </p>\n\n<p>In PV-Doc2Vec PV-DBOW, the document ID 'doc#123' (or perhaps just the int slot 123) will pull up a candidate vector for that document, initially random, and evaluated/nudged for how well it predicts the words in that document.</p>\n\n<p>Word2Vec CBOW and Doc2Vec PV-DM involve some extra averaging of multiple candidate vectors together before forward-propagation, and then fractional distribution of the nudges back across all vectors that combined to make the context, but it's still the same general approach \u2013 and involves working with dense continuous vectors (often of 100-1000 dimensions) rather than one-hot vectors (of dimensionality as large as the whole vocabulary, or whole document-set-size).</p>\n"}], "owner": {"reputation": 89, "user_id": 8315960, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2094bb1edd831a82af3a4ac718393c7a?s=128&d=identicon&r=PG&f=1", "display_name": "mudstick", "link": "https://stackoverflow.com/users/8315960/mudstick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 48330805, "answer_count": 1, "score": 0, "last_activity_date": 1516387675, "creation_date": 1516223297, "question_id": 48310002, "link": "https://stackoverflow.com/questions/48310002/are-the-document-vectors-used-in-doc2vec-one-hot", "title": "Are the document vectors used in doc2vec one-hot?", "body": "<p>I understand conceptually how word2vec and doc2vec work, but am struggling with the nuts and bolts of how the numbers in the vectors get processed algorithmically.</p>\n\n<p>If the vectors for three context words are: [1000], [0100], [0010]</p>\n\n<p>and the vector for the target word is [0001], does the algorithm perform one backward pass for each input/target output pair, like this:</p>\n\n<pre><code>[1000]--&gt;[0001]\n[0100]--&gt;[0001]\n[0010]--&gt;[0001]\n</code></pre>\n\n<p>or are the input (context) vectors added together, like this:</p>\n\n<pre><code>[1110]--&gt;[0001]\n</code></pre>\n\n<p>or is some other process used?</p>\n\n<p>Additionally, do the document vectors used in doc2vec take the one-hot form of the word vectors, or are documents tagged with individual numbers on a continuous scale, like 1, 2, 3, etc.?</p>\n\n<p>I get that the document tags are included as input nodes during the training process, but how are they used in the test phase? When entering the context word vectors to try to predict the target word (or vice versa) during testing, shouldn't an input for some document ID be required as well?</p>\n"}, {"tags": ["python", "unit-testing", "nose"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 2816254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d776317a5b6571ca9acfc754db78db81?s=128&d=identicon&r=PG&f=1", "display_name": "user2816254", "link": "https://stackoverflow.com/users/2816254/user2816254"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223486, "creation_date": 1516223486, "answer_id": 48310054, "question_id": 48309969, "link": "https://stackoverflow.com/questions/48309969/executing-unittests-in-a-python-egg-after-deployment/48310054#48310054", "title": "Executing unittests in a python egg after deployment", "body": "<p>I've answered my own question. The egg can be added to the PYTHONPATH and accessed as if it were expanded. </p>\n\n<pre><code>export PYTHONPATH='/path/to/egg/Example.egg'\n\nnosetests example-module\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 2816254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d776317a5b6571ca9acfc754db78db81?s=128&d=identicon&r=PG&f=1", "display_name": "user2816254", "link": "https://stackoverflow.com/users/2816254/user2816254"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516223486, "creation_date": 1516223134, "question_id": 48309969, "link": "https://stackoverflow.com/questions/48309969/executing-unittests-in-a-python-egg-after-deployment", "title": "Executing unittests in a python egg after deployment", "body": "<p>I have a Python egg deployed to an edge node of our Hadoop cluster, as we have some integration tests that can only be run in the cluster. </p>\n\n<p>I'd like to add a step in our testing process where we run our unit tests, and then the integration tests if the unit tests pass. My issue is that we only deploy a python egg, and though it contains all of our app's code, I don't know how to get to the tests with nose. </p>\n\n<p>Ideally I'd like to be able to call it from a Python script outside the egg. </p>\n\n<p>Something like </p>\n\n<pre><code> nose.run(argv=['Example.egg', 'example-module'])\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["python", "django", "rest", "django-rest-framework"], "comments": [{"owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "edited": false, "score": 0, "creation_date": 1516226981, "post_id": 48309877, "comment_id": 83607369, "body": "tommy, are you trying to access the data from within the app in the backend? could you provide more context on what you are trying to do that is requiring you to make requests to the REST API in python?"}, {"owner": {"reputation": 41, "user_id": 8539771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1713627d4301605774b1c225e0ce291b?s=128&d=identicon&r=PG&f=1", "display_name": "tommyshere", "link": "https://stackoverflow.com/users/8539771/tommyshere"}, "reply_to_user": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "edited": false, "score": 0, "creation_date": 1516232125, "post_id": 48309877, "comment_id": 83609235, "body": "@RohanVarma yes that is exactly what I&#39;m doing. I&#39;m trying not to use the django query, but rather data that has been serialized."}], "answers": [{"tags": [], "owner": {"reputation": 363, "user_id": 4884846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f6e819b1da8c4645e5b7158bf09f8?s=128&d=identicon&r=PG&f=1", "display_name": "David", "link": "https://stackoverflow.com/users/4884846/david"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223070, "creation_date": 1516223070, "answer_id": 48309955, "question_id": 48309877, "link": "https://stackoverflow.com/questions/48309877/is-there-an-alternative-way-to-request-json-rest-api-in-django/48309955#48309955", "title": "Is there an alternative way to request JSON REST API in django?", "body": "<p>Try <code>data = r.json()</code> to remove the need for <code>json.loads(r.text)</code></p>\n\n<p>See the docs for <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#json-response-content\" rel=\"nofollow noreferrer\">response.json</a></p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 8539771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1713627d4301605774b1c225e0ce291b?s=128&d=identicon&r=PG&f=1", "display_name": "tommyshere", "link": "https://stackoverflow.com/users/8539771/tommyshere"}, "edited": false, "score": 0, "creation_date": 1516319924, "post_id": 48330851, "comment_id": 83650118, "body": "Are there attributes that I can insert into <code>&#39;m1&#39;</code> of <code>ModelSerializer(m1).data</code> that will let me access specific objects without having to do <code>from api_app.models import Model1, Model2</code>? Essentailly do a <code>Model1.objects.find(id=1)</code> but in <code>ModelSerializer()</code>?"}, {"owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "reply_to_user": {"reputation": 41, "user_id": 8539771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1713627d4301605774b1c225e0ce291b?s=128&d=identicon&r=PG&f=1", "display_name": "tommyshere", "link": "https://stackoverflow.com/users/8539771/tommyshere"}, "edited": false, "score": 0, "creation_date": 1516320045, "post_id": 48330851, "comment_id": 83650150, "body": "I don&#39;t believe that is possible. Why are you trying to fit that constraint? Maybe if I know what you are trying to avoid, I can think of another workaround"}], "tags": [], "owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "is_accepted": false, "score": 1, "last_activity_date": 1516311999, "creation_date": 1516311999, "answer_id": 48330851, "question_id": 48309877, "link": "https://stackoverflow.com/questions/48309877/is-there-an-alternative-way-to-request-json-rest-api-in-django/48330851#48330851", "title": "Is there an alternative way to request JSON REST API in django?", "body": "<p>Since you are trying to access the data in your backend, you can do this in a clean python file by simply importing your models and also import your serializers and then using them as your wish. For example:</p>\n\n<pre><code>from api_app.models import Model1, Model2\nfrom api_app.serializers import ModelSerializer1, ModelSerializer2\n\ndef get_model1_instance():\n    m1 = Model1.get(pk=1)\n    m1_data = ModelSerializer1(m1).data\n    print(m1_data)\n</code></pre>\n\n<p>The important thing to understand is that you cannot just run this python file. Since it is using django libraries and your django project code, it has to be run from the context of django. The way to do this would be to open the django shell with the command <code>python manage.py shell</code>, import the functions you want to run from the file, and then call the functions. When you import and run code in the django shell, it runs the files as though it was in the django app. For example:</p>\n\n<pre><code>$ python manage.py shell\n&gt; from access_api_data.py import get_model1_instance\n&gt; get_model1_instance()\n...\n</code></pre>\n\n<p>If you want to call the functions that you write in this file within your backend in the actual web app, you can import the functions from the file into your views and call them and they should work.</p>\n"}], "owner": {"reputation": 41, "user_id": 8539771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1713627d4301605774b1c225e0ce291b?s=128&d=identicon&r=PG&f=1", "display_name": "tommyshere", "link": "https://stackoverflow.com/users/8539771/tommyshere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1516311999, "creation_date": 1516222727, "last_edit_date": 1516225830, "question_id": 48309877, "link": "https://stackoverflow.com/questions/48309877/is-there-an-alternative-way-to-request-json-rest-api-in-django", "title": "Is there an alternative way to request JSON REST API in django?", "body": "<p>I currently have a fully working Serializers using the Django REST Framework.\nI want to be able to parse data or request data that can be used in my django app.\nI have been using</p>\n\n<pre><code>import requests\nr = requests.get('django_api_url')\ndata = json.loads(r.text)\n</code></pre>\n\n<p>I have no problem using this, but I'm trying to see if there's a better/faster way.\nEDIT:\nBasically looking for something to replace requests.get()</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "edited": false, "score": 0, "creation_date": 1516222688, "post_id": 48309840, "comment_id": 83605441, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19753897/difference-between-class-variables-and-instance-variables\">Difference between Class variables and Instance variables</a>"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 2, "creation_date": 1516222721, "post_id": 48309840, "comment_id": 83605461, "body": "@Stack  that doesn&#39;t increment the class variable, it creates an instance variable shadowing the class variable."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516222761, "post_id": 48309840, "comment_id": 83605478, "body": "Yes, of course. <code>cntr</code> here is marked as local by the compiler because you assign to it, but even if you didn&#39;t, it would first check locals then globals and never check the class namespace."}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1516222769, "post_id": 48309840, "comment_id": 83605482, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15790493/python-changing-class-variables\">Python changing class variables</a>"}, {"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "reply_to_user": {"reputation": 5170, "user_id": 9200529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgIT2.jpg?s=128&g=1", "display_name": "Nathan V\u0113rzemnieks", "link": "https://stackoverflow.com/users/9200529/nathan-v%c4%93rzemnieks"}, "edited": false, "score": 0, "creation_date": 1516222805, "post_id": 48309840, "comment_id": 83605502, "body": "@NathanV\u0113rzemnieks true, my bad. Thanks"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 3, "creation_date": 1516222829, "post_id": 48309840, "comment_id": 83605513, "body": "It&#39;s a bad design to do this in the class itself (it&#39;s not his responsibility to track instances).  Do it in a metaclass, or some other external registry."}], "answers": [{"tags": [], "owner": {"reputation": 1577, "user_id": 2000793, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/15633af44136f3101fd113fe4e838aac?s=128&d=identicon&r=PG", "display_name": "Eric Ed Lohmar", "link": "https://stackoverflow.com/users/2000793/eric-ed-lohmar"}, "is_accepted": true, "score": 5, "last_activity_date": 1516222733, "creation_date": 1516222733, "answer_id": 48309881, "question_id": 48309840, "link": "https://stackoverflow.com/questions/48309840/is-it-possible-to-increment-access-a-class-variable-from-inside-a-constructor-in/48309881#48309881", "title": "Is it possible to increment/access a class variable from inside a constructor in Python?", "body": "<p>You just have to call the variable through the class:</p>\n\n<pre><code>class Cl:\n    cntr = 0\n    def __init__(self):\n        Cl.cntr += 1  # &lt;---Like this\n\n\nprint(Cl().cntr)  # prints 1\nprint(Cl().cntr)  # prints 2\nprint(Cl().cntr)  # prints 3\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516223250, "post_id": 48309947, "comment_id": 83605731, "body": "Although, on Python 2, make sure to use a new-style class. Not sure if <code>classmethod</code> will behave"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1516223252, "last_edit_date": 1516223252, "creation_date": 1516223038, "answer_id": 48309947, "question_id": 48309840, "link": "https://stackoverflow.com/questions/48309840/is-it-possible-to-increment-access-a-class-variable-from-inside-a-constructor-in/48309947#48309947", "title": "Is it possible to increment/access a class variable from inside a constructor in Python?", "body": "<pre><code>class Foo:\n    n = 0\n    def __init__(self):\n        self._increment()\n\n    @classmethod\n    def _increment(cls):\n        cls.n += 1\n\nf1 = Foo()\nf2 = Foo()\n\n&gt;&gt;&gt; f1.n\n2\n\n&gt;&gt;&gt; f2.n\n2\n</code></pre>\n"}], "owner": {"reputation": 10570, "user_id": 222279, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3bbfbf318fab2f44ff5a51f9851cda10?s=128&d=identicon&r=PG", "display_name": "GregH", "link": "https://stackoverflow.com/users/222279/gregh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "accepted_answer_id": 48309881, "answer_count": 2, "score": 1, "last_activity_date": 1516223252, "creation_date": 1516222506, "question_id": 48309840, "link": "https://stackoverflow.com/questions/48309840/is-it-possible-to-increment-access-a-class-variable-from-inside-a-constructor-in", "title": "Is it possible to increment/access a class variable from inside a constructor in Python?", "body": "<p>I want to keep track via a counter, every time a class is instantiated.  I was trying to do this by incrementing a counter defined as a class variable from inside the class' consructor ala:</p>\n\n<pre><code>class Cl:\n   cntr = 0\n   def __init__(self):\n      cntr += 1\n</code></pre>\n\n<p>However, when I instantiate the class, I get an \"UnboundLocalError: local variable 'cntr' referenced before assignement\" I'm assuming this is because the constructor is treating it as a local variable.  How do I reference the class variable from inside a method or constructor in Python 2.7?</p>\n"}, {"tags": ["python", "list", "sorting"], "comments": [{"owner": {"reputation": 2932, "user_id": 5770658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e3e0c78a33e4620eb8436e182535e2?s=128&d=identicon&r=PG&f=1", "display_name": "internet_user", "link": "https://stackoverflow.com/users/5770658/internet-user"}, "edited": false, "score": 1, "creation_date": 1516222439, "post_id": 48309806, "comment_id": 83605323, "body": "Why <code>dict</code>s instead of <code>tuple</code>s? ex. <code>{&#39;10100&#39;: u&#39;Z&#39;}</code> -&gt; <code>(&#39;10100&#39;, u&#39;Z&#39;)</code>"}, {"owner": {"reputation": 2153, "user_id": 3687725, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/1We1W.jpg?s=128&g=1", "display_name": "Preston Martin", "link": "https://stackoverflow.com/users/3687725/preston-martin"}, "edited": false, "score": 0, "creation_date": 1516222468, "post_id": 48309806, "comment_id": 83605337, "body": "Can you post the code that you&#39;ve tried thus far?"}, {"owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "edited": false, "score": 0, "creation_date": 1516222595, "post_id": 48309806, "comment_id": 83605398, "body": "Related: <a href=\"https://stackoverflow.com/questions/72899/how-do-i-sort-a-list-of-dictionaries-by-values-of-the-dictionary-in-python\" title=\"how do i sort a list of dictionaries by values of the dictionary in python\">stackoverflow.com/questions/72899/&hellip;</a>"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1516222882, "post_id": 48309806, "comment_id": 83605536, "body": "<code>sorted(a, key=lambda k: k.values())</code>"}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516222992, "post_id": 48309806, "comment_id": 83605593, "body": "@Stack Nah, that one has a shared key by which to compare. This one doesn&#39;t."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1516223032, "post_id": 48309806, "comment_id": 83605613, "body": "@davedwards <code>sorted(a, key=dict.values)</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1516223058, "post_id": 48309806, "comment_id": 83605628, "body": "Just use <code>tuple</code> objects... <code>dict</code> doesn&#39;t make any sense"}], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1516223141, "creation_date": 1516223141, "answer_id": 48309971, "question_id": 48309806, "link": "https://stackoverflow.com/questions/48309806/sorting-list-of-dicts-in-order-of-values/48309971#48309971", "title": "Sorting list of dicts in order of values", "body": "<p>You can use <code>dict.values()</code> in the sorting key:</p>\n\n<pre><code>a = [{'10100': u'Z'}, {u'00101': u'C'}, {u'01100': u'B'}, {u'00111': u'T'}]\nnew_a = sorted(a, key=lambda x:x.values()[0])\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{u'01100': u'B'}, {u'00101': u'C'}, {u'00111': u'T'}, {'10100': u'Z'}]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5276537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea050106bee82ac3e0aaf91704d8a6da?s=128&d=identicon&r=PG&f=1", "display_name": "Twentyseven", "link": "https://stackoverflow.com/users/5276537/twentyseven"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "closed_date": 1579229350, "answer_count": 1, "score": -5, "last_activity_date": 1516223436, "creation_date": 1516222351, "question_id": 48309806, "link": "https://stackoverflow.com/questions/48309806/sorting-list-of-dicts-in-order-of-values", "closed_reason": "Duplicate", "title": "Sorting list of dicts in order of values", "body": "<p>How can i do this:</p>\n\n<blockquote>\n  <p>In: </p>\n</blockquote>\n\n<pre><code>a = [{'10100': u'Z'}, {u'00101': u'C'}, {u'01100': u'B'}, {u'00111': u'T'}]\n</code></pre>\n\n<blockquote>\n  <p>Out:</p>\n</blockquote>\n\n<pre><code>a = [{u'01100': u'B'}, {u'00101': u'C'}, {u'00111': u'T'}, {'10100': u'Z'}]\n</code></pre>\n\n<p>I mean in order to value</p>\n"}, {"tags": ["python", "selenium", "automated-tests", "modular"], "comments": [{"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1516222521, "post_id": 48309776, "comment_id": 83605356, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47861813/how-can-i-reconnect-to-the-browser-opened-by-webdriver-with-selenium\">How can I reconnect to the browser opened by webdriver with selenium?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "is_accepted": false, "score": 0, "last_activity_date": 1516230608, "creation_date": 1516230608, "answer_id": 48311473, "question_id": 48309776, "link": "https://stackoverflow.com/questions/48309776/is-it-possible-to-make-sequential-tests-in-python-selenium-tests/48311473#48311473", "title": "Is it possible to make sequential tests in Python-Selenium tests?", "body": "<p>You don't really want your tests to be sequential. That breaks one of the core rules of unit tests where they should be able to be run in any order.</p>\n\n<p>You haven't posted any code so it's hard to know what to suggest but if you aren't using the page object model, I would suggest that you start. There are a lot of resources on the web for this but the basics are that you create a single class per page or widget. That class would hold all the code and locators that pertains to that page. This will help with the modular aspect of what you are seeking because in your script you just instantiate the page object and then consume the API. The details of interacting with the page, the logic, etc. all lives in the page object is exposed via the API it provides.</p>\n\n<p>Changes/updates are easy. If the login page changes, you edit the page object for the login page and you're done. If the page objects are properly implemented and the changes to the page aren't severe, many times you won't need to change the scripts at all.</p>\n\n<p>A simple example would be the login page. In the login class for that page, you would have a <code>login()</code> method that takes username and password. The <code>login()</code> method would handle entering the username and password into the appropriate fields and clicking the sign in button, etc.</p>\n"}], "owner": {"reputation": 1, "user_id": 9231731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/511e94c2d2f1ea632f8ec9159a78cfc7?s=128&d=identicon&r=PG&f=1", "display_name": "Billiamaire727", "link": "https://stackoverflow.com/users/9231731/billiamaire727"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1516811324, "creation_date": 1516222253, "last_edit_date": 1516811324, "question_id": 48309776, "link": "https://stackoverflow.com/questions/48309776/is-it-possible-to-make-sequential-tests-in-python-selenium-tests", "title": "Is it possible to make sequential tests in Python-Selenium tests?", "body": "<p>Edited Question:\nI guess I worded my previous question improperly, I actually want to get away from \"unit tests\" and create automated, modular system tests that build off of each other to test the application as whole.  Many parts are dependent upon the previous pages and subsequent pages cannot be reached without first performing the necessary steps on the previous pages.  </p>\n\n<p>For example (and I am sorry I cannot give the actual code), I want to sign into an app, then insert some data, then show that the data was sent successfully.  It is more involved than that, however, I would like to make the web driver portion, 'Module 1.x'. Then the sign in portion, 'Module 2.x'.  The data portion, 'Module 3.x'.  Finally, success portion, 'Module 4.x'.  I was hoping to achieve this so that I could eventually say, \"ok, for this test, I need it to be a bit more complicated so let's do, IE (ie. Module 1.4), sign in (ie. Module 2.1), add a name (ie Module 3.1), add an address (ie. Module 3.2), add a phone number (ie Module 3.3), then check for success (ie Module 4.1).  So, I need all of these strung together.  (This is extremely simplified and just an example of what I need to occur.  Even in the case of the unit tests, I am unable to simply skip to a page to check that the elements are present without completing the required prerequisite information.) The issue that I am running into with the lengthy tests that I have created is that each one requires multiple edits when something is changed and then multiplied by the number of drivers, in this case Chrome, IE, Edge and Firefox (a factor of 4).  Maybe my approach is totally wrong but this is new ground for me, so any advice is much appreciated. Thank you again for your help!</p>\n\n<p>Previous Question:\nI have found many answers for creating unit tests, however, I am unable to find any advice on how to make said tests sequential.  </p>\n\n<p>I really want to make modular tests that can be reused when the same action is being performed repeatedly.  I have tried various ways to achieve this but I have been unsuccessful.  Currently I have several lengthy tests that reuse much of the same code in each test, but I have to adjust each one individually with any new changes.  </p>\n\n<p>So, I really would like to have .py files that only contain a few lines of code for the specific task that I am trying to complete, while re-using the same browser instance that is already open and on the page where the previous portion of the test left off.  Hoping to achieve this by 'calling' the smaller/modular test files.  </p>\n\n<p>Any help and/or examples are greatly appreciated.  Thank you for your time and assistance with this issue.</p>\n\n<p>Respectfully, </p>\n\n<p>Billiamaire</p>\n"}, {"tags": ["python", "csv"], "answers": [{"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": false, "score": 0, "last_activity_date": 1516222644, "last_edit_date": 1516222644, "creation_date": 1516222329, "answer_id": 48309799, "question_id": 48309759, "link": "https://stackoverflow.com/questions/48309759/save-url-csv-to-csv/48309799#48309799", "title": "Save url CSV to CSV?", "body": "<p>Use </p>\n\n<pre><code>with open('jj.csv', 'w') as out_file:\n    writer = csv.writer(out_file)\n    writer.writerows(zz.split(\",\"))\n</code></pre>\n\n<p>This will create a list from your string, split at <code>','</code> - <code>writerows</code> takes an iterable and writes it into the file -  a string is also iterable, thats why you gett each character seperately.</p>\n\n<p>Read up on it here: <a href=\"https://docs.python.org/3/library/csv.html#writer-objects\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/csv.html#writer-objects</a></p>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 8627444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqVXT.png?s=128&g=1", "display_name": "shrumm", "link": "https://stackoverflow.com/users/8627444/shrumm"}, "is_accepted": false, "score": 0, "last_activity_date": 1516222928, "creation_date": 1516222928, "answer_id": 48309923, "question_id": 48309759, "link": "https://stackoverflow.com/questions/48309759/save-url-csv-to-csv/48309923#48309923", "title": "Save url CSV to CSV?", "body": "<p>try this:</p>\n\n<pre><code>import csv\nimport requests\nfrom requests.auth import HTTPBasicAuth\n\nrequests.get('url', auth=HTTPBasicAuth('url', 'pass'))\na = requests.get('url2', auth=HTTPBasicAuth('url', 'pass'))\n\nb = a.text\na = b.replace('\"', '')\nf = a.replace('%', '')\ng = f.replace('.','')\nz = g.replace(',', '.')\nzz = z.replace(';',',')\nzz = zz.split('.')\n\nwith open('jj.csv', 'w') as out_file:\n    writer = csv.writer(out_file)\n    writer.writerows([zz])\n</code></pre>\n\n<p><strong>Explanation</strong>\nYou need to pass a 2 dimensional array to write rows, in this case you only have one row so we pass [zz] to writer.writerows. zz itself should be an array where each element is a new column, which we achieve by doing zz.split('.')</p>\n"}], "owner": {"reputation": 321, "user_id": 8717507, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh6.googleusercontent.com/-ypOvYN8TpUo/AAAAAAAAAAI/AAAAAAAAABw/ejXMZv6nabA/photo.jpg?sz=128", "display_name": "Martin Bouhier", "link": "https://stackoverflow.com/users/8717507/martin-bouhier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 443, "favorite_count": 0, "closed_date": 1516223316, "answer_count": 2, "score": -1, "last_activity_date": 1516223980, "creation_date": 1516222170, "last_edit_date": 1516223980, "question_id": 48309759, "link": "https://stackoverflow.com/questions/48309759/save-url-csv-to-csv", "closed_reason": "Duplicate", "title": "Save url CSV to CSV?", "body": "<p>I extract some data from a url but I can't create a csv with that. When I try to save it into a csv each character is in a row and not in a cell...</p>\n\n<pre><code>import csv\nimport requests\nfrom requests.auth import HTTPBasicAuth\n\nrequests.get('url', auth=HTTPBasicAuth('url', 'pass'))\na = requests.get('url2', auth=HTTPBasicAuth('url', 'pass'))\n\nb = a.text\na = b.replace('\"', '')\nf = a.replace('%', '')\ng = f.replace('.','')\nz = g.replace(',', '.')\nzz = z.replace(';',',')\n\nwith open('jj.csv', 'w') as out_file:\n        writer = csv.writer(out_file)\n        writer.writerows(zz)\n&gt;&gt;&gt; zz\n</code></pre>\n\n<p>Data:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Tuky,Fecha,Bid_requests,Bid_responses_won,Fill_rate,Bid_responses_won_clearing_price,Bid_responses_won_clearing_income,aaaP,17/01/2018,41325955,22453,0.05,3.97,89.17\n</code></pre>\n\n<p>This is my saved csv:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aZBye.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aZBye.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "loops", "dictionary", "for-loop", "append"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1516223113, "post_id": 48309747, "comment_id": 83605655, "body": "I do not understand your question... can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? Images of csv-files are not very helpful..."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1516223753, "post_id": 48309747, "comment_id": 83605973, "body": "Please don&#39;t post images of code or data.  Post a portion of the data and format it as code."}, {"owner": {"reputation": 11, "user_id": 9226067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f8091b0f2bc180eadb104969cc284e?s=128&d=identicon&r=PG&f=1", "display_name": "paulie", "link": "https://stackoverflow.com/users/9226067/paulie"}, "edited": false, "score": 0, "creation_date": 1516223789, "post_id": 48309747, "comment_id": 83605984, "body": "That&#39;s the code I am running, I inserted a link to the csv"}], "owner": {"reputation": 11, "user_id": 9226067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f8091b0f2bc180eadb104969cc284e?s=128&d=identicon&r=PG&f=1", "display_name": "paulie", "link": "https://stackoverflow.com/users/9226067/paulie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1516223751, "creation_date": 1516222112, "last_edit_date": 1516223751, "question_id": 48309747, "link": "https://stackoverflow.com/questions/48309747/append-open-list-from-dictionary", "title": "Append Open List from Dictionary", "body": "<p>I have created a csv file containing zip codes and corresponding vendors in those zip codes. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hIOeA.png\" rel=\"nofollow noreferrer\">CSV File Image</a></p>\n\n<p><strong>Download CSV:</strong>\n<a href=\"https://www.dropbox.com/s/8hm6yvy9gviydcv/us_postal_codes.csv?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/8hm6yvy9gviydcv/us_postal_codes.csv?dl=0</a></p>\n\n<p>I wrote some code to convert this into a dictionary. What I want have is an input zip code prompt so that the program spits out the corresponding dictionary data in a new dataframe. I tried using the append function below with an open set, but it is not running properly.Novice to python, so any suggestions on how to do this efficiently are greatly appreciated. </p>\n\n<p><strong>please see below:</strong></p>\n\n<pre><code>python\nimport sys\nimport os\ncwd = os.getcwd()\ncwd\nos.chdir(\"/Users/PRAnthony/Desktop\")\n\nfrom pandas import DataFrame, read_csv\nimport pandas as pd \n\nfile1 = r'us_postal_codes.csv'\ndf_1 = pd.read_csv(file1, index_col=0)\ndic = df_1.to_dict()\n\nzipcode = input(\"Insert Zip \")\n\nvendors = []\nfor row in df_1['zip'] :\n    if row == zipcode :\n        vendors.append(dic.get(zipcode))\n\nprint(vendors)\n</code></pre>\n\n<hr>\n"}, {"tags": ["python", "email", "awk", "sed", "boundary"], "comments": [{"owner": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 1, "creation_date": 1516221995, "post_id": 48309702, "comment_id": 83605083, "body": "Whats your input and desired output?"}, {"owner": {"reputation": 360, "user_id": 9102484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GJKydLdbyM8/AAAAAAAAAAI/AAAAAAAAA4o/cTHI8ysEWik/photo.jpg?sz=128", "display_name": "francois P", "link": "https://stackoverflow.com/users/9102484/francois-p"}, "edited": false, "score": 1, "creation_date": 1516223639, "post_id": 48309702, "comment_id": 83605917, "body": "do you mean <code>sed &#39;s&#47;.*\\(B.*[0-9]\\).*&#47;\\1&#47;&#39;</code> to get ot get only B06E1103658.1514636705 ?"}, {"owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "reply_to_user": {"reputation": 32215, "user_id": 3789550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8mGqv.gif?s=128&g=1", "display_name": "heemayl", "link": "https://stackoverflow.com/users/3789550/heemayl"}, "edited": false, "score": 0, "creation_date": 1516240512, "post_id": 48309702, "comment_id": 83611229, "body": "@heemayl OP updated"}], "answers": [{"comments": [{"owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "edited": false, "score": 0, "creation_date": 1516286639, "post_id": 48310479, "comment_id": 83633050, "body": "It will be good when that <code>grep</code> will return first boundary occurrence as <code>sed -n -e</code> does by adding <code>-m 1</code>  and <code>| head -1</code>"}], "tags": [], "owner": {"reputation": 62252, "user_id": 1435869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TrEd9.jpg?s=128&g=1", "display_name": "karakfa", "link": "https://stackoverflow.com/users/1435869/karakfa"}, "is_accepted": true, "score": 2, "last_activity_date": 1516225396, "creation_date": 1516225396, "answer_id": 48310479, "question_id": 48309702, "link": "https://stackoverflow.com/questions/48309702/how-to-get-primary-boundary-value-from-eml-file/48310479#48310479", "title": "How to get primary boundary value from EML file", "body": "<p>Probably simpler with <code>grep</code> lookbehind</p>\n\n<pre><code>grep -oP '(?&lt;=boundary=\")[^/]+'\n</code></pre>\n\n<p>will give you <code>B06E1103658.1514636705</code>, whereas</p>\n\n<pre><code>grep -oP '(?&lt;=boundary=\")[^\"]+'\n</code></pre>\n\n<p>gives <code>B06E1103658.1514636705/test-box.local</code></p>\n\n<p>not sure which one you want? </p>\n"}], "owner": {"reputation": 2666, "user_id": 1090360, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/VRQdK.jpg?s=128&g=1", "display_name": "JackTheKnife", "link": "https://stackoverflow.com/users/1090360/jacktheknife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48310479, "answer_count": 1, "score": 0, "last_activity_date": 1516296663, "creation_date": 1516221914, "last_edit_date": 1516240475, "question_id": 48309702, "link": "https://stackoverflow.com/questions/48309702/how-to-get-primary-boundary-value-from-eml-file", "title": "How to get primary boundary value from EML file", "body": "<p>I'm trying to get primary boundary value from EML file using sed</p>\n\n<p><code>sed -n -e '/boundary=\\\"/,/\\\"/p; /\\\"/q' file.eml</code></p>\n\n<p>but what I'm getting is a whole line</p>\n\n<p><code>boundary=\"B06E1103658.1514636705/test-box.local\"</code></p>\n\n<p>instead of a value only</p>\n\n<p><code>B06E1103658.1514636705/test-box.local</code></p>\n\n<p>What I have done wrong? <code>awk</code> solution is welcome as well (or Python).</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516222092, "post_id": 48309669, "comment_id": 83605126, "body": "<code>idx.append(&#39;{}&#39;.format())</code> gives me an <code>IndexError</code> in 3.6. What is its purpose?"}, {"owner": {"reputation": 477, "user_id": 8745343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f6237c44c2ffa37d46a8621bea760ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Bode ", "link": "https://stackoverflow.com/users/8745343/bode"}, "reply_to_user": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516222281, "post_id": 48309669, "comment_id": 83605226, "body": "to append the name of the dataframe,trex and dher into the empty list,idx"}, {"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516222355, "post_id": 48309669, "comment_id": 83605265, "body": "<code>idx.append(&#39;{}&#39;.format())</code> incorrect , <code>format</code> requires a variable. I think it should be <code>idx.append(&#39;{}&#39;.format(i))</code>"}, {"owner": {"reputation": 477, "user_id": 8745343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f6237c44c2ffa37d46a8621bea760ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Bode ", "link": "https://stackoverflow.com/users/8745343/bode"}, "reply_to_user": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516223404, "post_id": 48309669, "comment_id": 83605805, "body": "@Stack even with <code>idx.append(&#39;{}&#39;.format(i)) </code> , the dataframe,df does not still represent the names in the <code>df_list </code> as the index"}], "answers": [{"comments": [{"owner": {"reputation": 477, "user_id": 8745343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f6237c44c2ffa37d46a8621bea760ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Bode ", "link": "https://stackoverflow.com/users/8745343/bode"}, "edited": false, "score": 0, "creation_date": 1516225006, "post_id": 48310123, "comment_id": 83606515, "body": "its is still with the default index of pandas and not the dataframe,TREX and DHER"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1516223791, "creation_date": 1516223791, "answer_id": 48310123, "question_id": 48309669, "link": "https://stackoverflow.com/questions/48309669/iterating-through-a-list-error/48310123#48310123", "title": "iterating through a list error", "body": "<p>You can assign name to your df </p>\n\n<pre><code>TREX.name='TREX'\nDHER.name='DHER'\ndf_list = [TREX,DHER]\nidx, v = [], []\nfor i, df in enumerate(df_list, 1):\n    idx.append(df.name)\n    v.append(len(df.columns))\ndf = pd.DataFrame(v, index=idx, columns=['noOfColumn'])\ndf['pct'] = df['noOfColumn'] / DELF.inp.nunique()\ndf\nOut[55]: \n      noOfColumn   pct\nTREX           3  0.75\nDHER           2  0.50\n</code></pre>\n"}], "owner": {"reputation": 477, "user_id": 8745343, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f6237c44c2ffa37d46a8621bea760ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Bode ", "link": "https://stackoverflow.com/users/8745343/bode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 48310123, "answer_count": 1, "score": 0, "last_activity_date": 1516223791, "creation_date": 1516221804, "question_id": 48309669, "link": "https://stackoverflow.com/questions/48309669/iterating-through-a-list-error", "title": "iterating through a list error", "body": "<pre><code>I have a dataframe,delf\n     Date        inp  name   \n0  2017-08-07  2.3.6  ABC \n1  2017-08-07  2.3.6  ABC      \n2  2017-08-08  2.3.6  TAC         \n3  2017-08-22  2.5.9  TTT         \n4  2017-09-23  0.8.0  TAC         \n5  2017-10-09  2.3.6  ABC         \n6  2017-10-09  2.3.6  TAC\n7  2017-10-09  2.3.6  TAC                  \n8  2017-10-23  0.8.0  TAC         \n9  2017-11-08  6.2.6  ABC        \n\nthen another dataframe,trex\n               2.3.6ABC  2.3.6TAC      2.5.9TTT      \nAugust            2         1            0            \nSeptember         0         0            0             \nOctober           1         2            0             \nNovember          0         0            1             \n\nanother dataframe,dher\n              2.3.6ABC  2.3.6TAC       \nAugust            2         1                      \nSeptember         0         0                         \nOctober           1         2                        \nNovember          0         0                        \n</code></pre>\n\n<p>I want to get the distinct values in column: 'inp' of DELF which in this case is 4. Then, number of columns of TREX and DHER which is 3 and 2 in this case. How can I store the number of columns of the 2 dataframes,TREX  and DHER, then getting the percentage TREX  and DHER in df1. It should look like this:</p>\n\n<pre><code>                 noOfColumn      pct\n  TREX                 3         3/4=75                      \n  DHER                 2         2/4=50\n</code></pre>\n\n<p>I tried using this code:</p>\n\n<pre><code>df_list = [TREX,DHER]\nidx, v = [], []\nfor i, df in enumerate(df_list, 1):\nidx.append('{}'.format())\nv.append(len(df.columns))\n</code></pre>\n\n<p>then, </p>\n\n<pre><code>df = pd.DataFrame(v, index=idx, columns=['noOfColumn'])\ndf['pct'] = df['noOfColumn'] / DELF.inp.nunique()\n</code></pre>\n\n<p>Not giving me the right output</p>\n"}, {"tags": ["python", "video", "tensorflow", "hdf5", "tensorflow-datasets"], "comments": [{"owner": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "edited": false, "score": 0, "creation_date": 1516404852, "post_id": 48309631, "comment_id": 83688669, "body": "Does the <code>tf.data.Dataset.map(your_map_function, num_parallel_calls=N)</code> do what you want? It will run <code>N</code> threads of your map function. The problem that I see with this is that you now have 6 threads each reading 1 HDF5 file, meaning you better have enough memory for all 6 full HDF5 files. I came to this question because of a related question I posted trying to resolve the issue of limited memory and large HDF5 files. <a href=\"https://stackoverflow.com/questions/48349409/can-the-map-function-supplied-to-tf-data-dataset-from-generator-resolve-a\" title=\"can the map function supplied to tf data dataset from generator resolve a\">stackoverflow.com/questions/48349409/&hellip;</a>"}, {"owner": {"reputation": 1167, "user_id": 3419427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TZ1EW.png?s=128&g=1", "display_name": "verified.human", "link": "https://stackoverflow.com/users/3419427/verified-human"}, "reply_to_user": {"reputation": 25553, "user_id": 4790871, "user_type": "registered", "accept_rate": 99, "profile_image": "https://lh4.googleusercontent.com/-7sCm6Bl96nw/AAAAAAAAAAI/AAAAAAAAAH4/0LGbJtwJZd0/photo.jpg?sz=128", "display_name": "David Parks", "link": "https://stackoverflow.com/users/4790871/david-parks"}, "edited": false, "score": 1, "creation_date": 1516446913, "post_id": 48309631, "comment_id": 83697392, "body": "Memory with the HDF5 files is not an issue as it does not read the entire file into memory. But it remains problematic to open-read-close-reopen ... the files all the time and this will come at significant speed penalty."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 4218720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a431f094a33b1d8e5ec59333be743e0?s=128&d=identicon&r=PG&f=1", "display_name": "ShaneAhmed Siddiqui", "link": "https://stackoverflow.com/users/4218720/shaneahmed-siddiqui"}, "edited": false, "score": 1, "creation_date": 1523547211, "post_id": 49335970, "comment_id": 86615844, "body": "Is there a way to load multiple datasets from the same hdf file? For example hf[&quot;train_img&quot;] and hf[&quot;labels&quot;]."}, {"owner": {"reputation": 1167, "user_id": 3419427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TZ1EW.png?s=128&g=1", "display_name": "verified.human", "link": "https://stackoverflow.com/users/3419427/verified-human"}, "edited": false, "score": 2, "creation_date": 1524919523, "post_id": 49335970, "comment_id": 87169434, "body": "I have a follow-up question on this. The example of a single HDF5 file works correctly, but I have trouble getting the multi example to work with interleave. The problem is that tf.data.Dataset.from_tensor_slices(filenames) returns a collection of Tensor objects rather than Python strings and thus the generator can&#39;t deal with this. What is the correct way of dealing with this?"}], "tags": [], "owner": {"reputation": 3109, "user_id": 5471520, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/22f3caaf9178270549a1c486b1587290?s=128&d=identicon&r=PG&f=1", "display_name": "mikkola", "link": "https://stackoverflow.com/users/5471520/mikkola"}, "is_accepted": false, "score": 24, "last_activity_date": 1521491596, "last_edit_date": 1521491596, "creation_date": 1521289454, "answer_id": 49335970, "question_id": 48309631, "link": "https://stackoverflow.com/questions/48309631/tensorflow-tf-data-dataset-reading-large-hdf5-files/49335970#49335970", "title": "TensorFlow - tf.data.Dataset reading large HDF5 files", "body": "<p>I stumbled across this question while dealing with a similar issue. I came up with a solution based on using a Python generator, together with the TF dataset construction method <a href=\"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#from_generator\" rel=\"noreferrer\"><code>from_generator</code></a>. Because we use a generator, the HDF5 file should be opened for reading only once and kept open as long as there are entries to read. So it will not be opened, read, and then closed for every single call to get the next data element.</p>\n\n<h1>Generator definition</h1>\n\n<p>To allow the user to pass in the HDF5 filename as an argument, I generated a class that has a <code>__call__</code> method since <code>from_generator</code> specifies that the generator has to be callable. This is the generator:</p>\n\n<pre><code>import h5py\nimport tensorflow as tf\n\nclass generator:\n    def __init__(self, file):\n        self.file = file\n\n    def __call__(self):\n        with h5py.File(self.file, 'r') as hf:\n            for im in hf[\"train_img\"]:\n                yield im\n</code></pre>\n\n<p>By using a generator, the code should pick up from where it left off at each call from the last time it returned a result, instead of running everything from the beginning again. In this case it is on the next iteration of the inner <code>for</code> loop. So this should skip opening the file again for reading, keeping it open as long as there is data to <code>yield</code>. For more on generators, see <a href=\"https://stackoverflow.com/questions/231767/what-does-the-yield-keyword-do\">this excellent Q&amp;A</a>.</p>\n\n<p>Of course, you will have to replace anything inside the <code>with</code> block to match how your dataset is constructed and what outputs you want to obtain.</p>\n\n<h1>Usage example</h1>\n\n<pre><code>ds = tf.data.Dataset.from_generator(\n    generator(hdf5_path), \n    tf.uint8, \n    tf.TensorShape([427,561,3]))\n\nvalue = ds.make_one_shot_iterator().get_next()\n\n# Example on how to read elements\nwhile True:\n    try:\n        data = sess.run(value)\n        print(data.shape)\n    except tf.errors.OutOfRangeError:\n        print('done.')\n        break\n</code></pre>\n\n<p>Again, in my case I had stored <code>uint8</code> images of height <code>427</code>, width <code>561</code>, and <code>3</code> color channels in my dataset, so you will need to modify these in the above call to match your use case.</p>\n\n<h1>Handling multiple files</h1>\n\n<p>I have a proposed solution for handling multiple HDF5 files. The basic idea is to construct a <code>Dataset</code> from the filenames as usual, and then use the <a href=\"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#interleave\" rel=\"noreferrer\"><code>interleave</code></a> method to process many input files concurrently, getting samples from each of them to form a batch, for example.</p>\n\n<p>The idea is as follows:</p>\n\n<pre><code>ds = tf.data.Dataset.from_tensor_slices(filenames)\n# You might want to shuffle() the filenames here depending on the application\nds = ds.interleave(lambda filename: tf.data.Dataset.from_generator(\n        generator(filename), \n        tf.uint8, \n        tf.TensorShape([427,561,3])),\n       cycle_length, block_length)\n</code></pre>\n\n<p>What this does is open <code>cycle_length</code> files concurrently, and produce <code>block_length</code> items from each before moving to the next file - see <code>interleave</code> documentation for details. You can set the values here to match what is appropriate for your application: e.g., do you need to process one file at a time or several concurrently, do you only want to have a single sample at a time from each file, and so on.</p>\n\n<p><em>Edit</em>: for a parallel version, take a look at <a href=\"https://www.tensorflow.org/api_docs/python/tf/contrib/data/parallel_interleave\" rel=\"noreferrer\"><code>tf.contrib.data.parallel_interleave</code></a>!</p>\n\n<h1>Possible caveats</h1>\n\n<p>Be aware of the peculiarities of using <code>from_generator</code> if you decide to go with the solution. For Tensorflow 1.6.0, the <a href=\"https://www.tensorflow.org/api_docs/python/tf/data/Dataset#from_generator\" rel=\"noreferrer\">documentation of <code>from_generator</code></a> mentions these two notes.</p>\n\n<p>It may be challenging to apply this across different environments or with distributed training:</p>\n\n<blockquote>\n  <p>NOTE: The current implementation of Dataset.from_generator() uses\n  tf.py_func and inherits the same constraints. In particular, it\n  requires the Dataset- and Iterator-related operations to be placed on\n  a device in the same process as the Python program that called\n  Dataset.from_generator(). The body of generator will not be serialized\n  in a GraphDef, and you should not use this method if you need to\n  serialize your model and restore it in a different environment.</p>\n</blockquote>\n\n<p>Be careful if the generator depends on external state:</p>\n\n<blockquote>\n  <p>NOTE: If generator depends on mutable global variables or other\n  external state, be aware that the runtime may invoke generator\n  multiple times (in order to support repeating the Dataset) and at any\n  time between the call to Dataset.from_generator() and the production\n  of the first element from the generator. Mutating global variables or\n  external state can cause undefined behavior, and we recommend that you\n  explicitly cache any external state in generator before calling\n  Dataset.from_generator().</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 171, "user_id": 3631538, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kS4bVjRRaGQ/AAAAAAAAAAI/AAAAAAAAARs/sKhSHukSW9g/photo.jpg?sz=128", "display_name": "William J. Cunningham", "link": "https://stackoverflow.com/users/3631538/william-j-cunningham"}, "edited": false, "score": 0, "creation_date": 1542747808, "post_id": 51203189, "comment_id": 93678196, "body": "I can confirm I needed this modification to get it to work."}, {"owner": {"reputation": 195, "user_id": 6847038, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4f8aa32bdf4b383c47757ea083b2802?s=128&d=identicon&r=PG&f=1", "display_name": "void", "link": "https://stackoverflow.com/users/6847038/void"}, "edited": false, "score": 0, "creation_date": 1556510009, "post_id": 51203189, "comment_id": 98449745, "body": "Hello,  In the above generator, you didn&#39;t return the label of the image? how to return the label?  what I want to do is : yield h5file[data_name], label, is there any change need to be made about the the shape of the return: tf.TensorShape([427,561,3]),"}, {"owner": {"reputation": 178, "user_id": 3501872, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3973c8cb776a35c2006ed273ab3e777c?s=128&d=identicon&r=PG&f=1", "display_name": "armen", "link": "https://stackoverflow.com/users/3501872/armen"}, "edited": false, "score": 0, "creation_date": 1589123169, "post_id": 51203189, "comment_id": 109162040, "body": "I regret not looking at the second answer (ie. this one). Took me hours to try to get the original one work!"}, {"owner": {"reputation": 178, "user_id": 3501872, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/3973c8cb776a35c2006ed273ab3e777c?s=128&d=identicon&r=PG&f=1", "display_name": "armen", "link": "https://stackoverflow.com/users/3501872/armen"}, "reply_to_user": {"reputation": 195, "user_id": 6847038, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4f8aa32bdf4b383c47757ea083b2802?s=128&d=identicon&r=PG&f=1", "display_name": "void", "link": "https://stackoverflow.com/users/6847038/void"}, "edited": false, "score": 0, "creation_date": 1589123266, "post_id": 51203189, "comment_id": 109162087, "body": "@void to get the label, what I&#39;m doing is that I&#39;m concating the label with the rest of the output in the generator, and then pass it through a tf.data.Dataset.map() that just slices it into two parts, the features and the labels."}], "tags": [], "owner": {"reputation": 61, "user_id": 4946958, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-e-IncWN13ds/AAAAAAAAAAI/AAAAAAAARJc/e-URxLHcx24/photo.jpg?sz=128", "display_name": "Rong Ou", "link": "https://stackoverflow.com/users/4946958/rong-ou"}, "is_accepted": false, "score": 6, "last_activity_date": 1530852552, "creation_date": 1530852552, "answer_id": 51203189, "question_id": 48309631, "link": "https://stackoverflow.com/questions/48309631/tensorflow-tf-data-dataset-reading-large-hdf5-files/51203189#51203189", "title": "TensorFlow - tf.data.Dataset reading large HDF5 files", "body": "<p>I took me a while to figure this out, so I thought I should record this here. Based on mikkola's answer, this is how to handle multiple files:</p>\n\n<pre><code>import h5py\nimport tensorflow as tf\n\nclass generator:\n    def __call__(self, file):\n        with h5py.File(file, 'r') as hf:\n            for im in hf[\"train_img\"]:\n                yield im\n\nds = tf.data.Dataset.from_tensor_slices(filenames)\nds = ds.interleave(lambda filename: tf.data.Dataset.from_generator(\n        generator(), \n        tf.uint8, \n        tf.TensorShape([427,561,3]),\n        args=(filename,)),\n       cycle_length, block_length)\n</code></pre>\n\n<p>The key is you can't pass <code>filename</code> directly to <code>generator</code>, since it's a <code>Tensor</code>. You have to pass it through <code>args</code>, which tensorflow evaluates and converts it to a regular python variable.</p>\n"}], "owner": {"reputation": 1167, "user_id": 3419427, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/TZ1EW.png?s=128&g=1", "display_name": "verified.human", "link": "https://stackoverflow.com/users/3419427/verified-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14039, "favorite_count": 11, "answer_count": 2, "score": 21, "last_activity_date": 1530852552, "creation_date": 1516221561, "last_edit_date": 1524991042, "question_id": 48309631, "link": "https://stackoverflow.com/questions/48309631/tensorflow-tf-data-dataset-reading-large-hdf5-files", "title": "TensorFlow - tf.data.Dataset reading large HDF5 files", "body": "<p>I am setting up a TensorFlow pipeline for reading large HDF5 files as input for my deep learning models. Each HDF5 file contains 100 videos of variable size length stored as a collection of compressed JPG images (to make size on disk manageable). Using <code>tf.data.Dataset</code> and a map to <code>tf.py_func</code>, reading examples from the HDF5 file using custom Python logic is quite easy. For example:</p>\n\n<pre><code>def read_examples_hdf5(filename, label):\n    with h5py.File(filename, 'r') as hf:\n        # read frames from HDF5 and decode them from JPG\n    return frames, label\n\nfilenames = glob.glob(os.path.join(hdf5_data_path, \"*.h5\"))\nlabels = [0]*len(filenames) # ... can we do this more elegantly?\n\ndataset = tf.data.Dataset.from_tensor_slices((filenames, labels))\ndataset = dataset.map(\n    lambda filename, label: tuple(tf.py_func(\n        read_examples_hdf5, [filename, label], [tf.uint8, tf.int64]))\n)\n\ndataset = dataset.shuffle(1000 + 3 * BATCH_SIZE)\ndataset = dataset.batch(BATCH_SIZE)\niterator = dataset.make_one_shot_iterator()\nnext_batch = iterator.get_next()\n</code></pre>\n\n<p>This example works, however the problem is that it seems like <code>tf.py_func</code> can only handle one example at a time. As my HDF5 container stores 100 examples, this limitation causes significant overhead as the files constantly need to be opened, read, closed and reopened. It would be much more efficient to read all the 100 video examples into the dataset object and then move on with the next HDF5 file (preferably in multiple threads, each thread dealing with it's own collection of HDF5 files).</p>\n\n<p>So, what I would like is a number of threads running in the background, reading video frames from the HDF5 files, decode them from JPG and then feed them into the dataset object. Prior to the introduction of the <code>tf.data.Dataset</code> pipeline, this was quite easy using the <code>RandomShuffleQueue</code> and <code>enqueue_many</code> ops, but it seems like there is currently no elegant way of doing this (or the documentation is lacking). </p>\n\n<p>Does anyone know what would be the best way of achieving my goal? I have also looked into (and implemented) the pipeline using <code>tfrecord</code> files, but taking a random sample of video frames stored in a <code>tfrecord</code> file seems quite impossible (see <a href=\"https://stackoverflow.com/questions/48101576/tensorflow-read-video-frames-from-tfrecords-file\">here</a>). Additionally, I have looked at the <code>from_generator()</code> inputs for <code>tf.data.Dataset</code> but that is definitely not going to run in multiple threads it seems. Any suggestions are more than welcome.</p>\n"}, {"tags": ["python", "variables", "rust", "var"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1516221629, "post_id": 48309591, "comment_id": 83604891, "body": "You need something like <a href=\"https://github.com/lukemetz/rustpy\" rel=\"nofollow noreferrer\">github.com/lukemetz/rustpy</a> or <a href=\"https://github.com/dgrunwald/rust-cpython\" rel=\"nofollow noreferrer\">github.com/dgrunwald/rust-cpython</a>"}, {"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 3, "creation_date": 1516221702, "post_id": 48309591, "comment_id": 83604935, "body": "1. You can save the urls in a file and make python load the urls from the file. 2. You can pass url as command line args to the python file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9216466"}, "edited": false, "score": 0, "creation_date": 1516222238, "post_id": 48309591, "comment_id": 83605200, "body": "I think I like the idea of the urls in a file, but then comes the problem of telling Python WHEN to download the files. Maybe the program reads the text file for a signal?"}, {"owner": {"reputation": 1470, "user_id": 2075745, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6f9a084d236381e1882c4e28edb5151f?s=128&d=identicon&r=PG", "display_name": "user25064", "link": "https://stackoverflow.com/users/2075745/user25064"}, "edited": false, "score": 0, "creation_date": 1516222277, "post_id": 48309591, "comment_id": 83605224, "body": "see also <a href=\"https://github.com/PyO3/pyo3\" rel=\"nofollow noreferrer\">github.com/PyO3/pyo3</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9216466"}, "edited": false, "score": 0, "creation_date": 1516222762, "post_id": 48309591, "comment_id": 83605480, "body": "Stack, would the code I posted also function if instead of url = &#39;insert url here&#39; I put url = x ?"}, {"owner": {"reputation": 96489, "user_id": 788207, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/KQmlY.jpg?s=128&g=1", "display_name": "Vladimir Matveev", "link": "https://stackoverflow.com/users/788207/vladimir-matveev"}, "edited": false, "score": 1, "creation_date": 1516231401, "post_id": 48309591, "comment_id": 83609063, "body": "It is really unclear what your desired architecture is. There are lots of ways to invoke Python code from Rust and vice versa (and in general, to invoke one program from another), including: 1) run Rust program as a subprocess from Python; 2) run Python program as a subprocess from Rust; 3) embed Python interpreter in a Rust program and run the script in it; 4) use the Rust program as a native module in a Python program; 5) run Rust and Python programs separately and use one of the zillion IPC mechanisms to communicate between them. You need to consider all these options and choose one."}, {"owner": {"reputation": 22505, "user_id": 1411457, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XqssD.png?s=128&g=1", "display_name": "harmic", "link": "https://stackoverflow.com/users/1411457/harmic"}, "edited": false, "score": 1, "creation_date": 1516234241, "post_id": 48309591, "comment_id": 83609799, "body": "It&#39;s not that clear to me why you need to use python in the first place. Your example program is just downloading three copies of the file using 3 different python libs. But if all you are trying to do is download a file why not do it directly in rust?"}], "owner": {"user_type": "does_not_exist", "display_name": "user9216466"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516225491, "creation_date": 1516221407, "last_edit_date": 1516225491, "question_id": 48309591, "link": "https://stackoverflow.com/questions/48309591/send-rust-variable-to-python", "title": "Send Rust variable to Python?", "body": "<p>I am building a Rust program in which the user types in a command, and then the program reads the command and responds accordingly. One of these commands is to download a file from a set site. </p>\n\n<p>I have a .py file with the following code that I made a while ago that downloads files from a set site:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import urllib\nimport urllib2\nimport requests\n\nurl = 'http://www.blog.pythonlibrary.org/wpcontent/uploads/2012/06/wxDbViewer.zip'\n\nprint \"downloading with urllib\"\nurllib.urlretrieve(url, \"code.zip\")\n\nprint \"downloading with urllib2\"\nf = urllib2.urlopen(url)\ndata = f.read()\nwith open(\"code2.zip\", \"wb\") as code:\ncode.write(data)\n\nprint \"downloading with requests\"\nr = requests.get(url)\nwith open(\"code3.zip\", \"wb\") as code:\ncode.write(r.content)\n</code></pre>\n\n<p>The URLs in the code are not ones that I will be using; they are examples.</p>\n\n<p>If the Rust program sets the site it needs to go to as a variable, is there a way that I could send the variable to my Python program? I know you can send Python to Rust:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/31074994/passing-a-list-of-strings-from-python-to-rust\">Passing a list of strings from Python to Rust</a></p>\n\n<p><a href=\"http://www.joesacher.com/blog/2017/08/24/ptr-types/\" rel=\"nofollow noreferrer\">http://www.joesacher.com/blog/2017/08/24/ptr-types/</a></p>\n\n<p>Is there a way to do this in the other direction? </p>\n"}, {"tags": ["python", "pandas", "pivot", "pivot-table", "reshape"], "answers": [{"comments": [{"owner": {"reputation": 1146, "user_id": 5270267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6eb68e782ec2dea30ca627dfe416c13a?s=128&d=identicon&r=PG&f=1", "display_name": "Lisle", "link": "https://stackoverflow.com/users/5270267/lisle"}, "edited": false, "score": 0, "creation_date": 1516222581, "post_id": 48309834, "comment_id": 83605389, "body": "There it is! I was thinking my index needed to be a grouping of the two variables and kept receiving errors."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 3, "last_activity_date": 1516222476, "creation_date": 1516222476, "answer_id": 48309834, "question_id": 48309590, "link": "https://stackoverflow.com/questions/48309590/create-pivot-table-with-multilevel-index-in-pandas/48309834#48309834", "title": "create pivot table with multilevel index in pandas", "body": "<p>This is just a simple pivot table, is it not?</p>\n\n<pre><code>df.pivot_table(index=['account', 'pseudo'], columns='week', values='sales')\n\nweek               2017-12-16  2017-12-23  2017-12-30\naccount    pseudo                                    \n4430012511 6362          5.58         NaN         NaN\n           31527          NaN         NaN        2.79\n           31608          NaN       19.53         NaN\n           145584        8.37         NaN         NaN\n</code></pre>\n"}], "owner": {"reputation": 1146, "user_id": 5270267, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6eb68e782ec2dea30ca627dfe416c13a?s=128&d=identicon&r=PG&f=1", "display_name": "Lisle", "link": "https://stackoverflow.com/users/5270267/lisle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1887, "favorite_count": 0, "closed_date": 1516222582, "accepted_answer_id": 48309834, "answer_count": 1, "score": 1, "last_activity_date": 1516222476, "creation_date": 1516221400, "question_id": 48309590, "link": "https://stackoverflow.com/questions/48309590/create-pivot-table-with-multilevel-index-in-pandas", "closed_reason": "Duplicate", "title": "create pivot table with multilevel index in pandas", "body": "<p>Dataframe is setup like so. I want a pivot table with a multi-level index of account, pseudo. I want the columns to be the individual weeks, and the values to be sales. The data is pseudo x week x account so I shouldn't need to aggregate any data. How can I accomplish?</p>\n\n<pre><code>   pseudo        week     account   sales\n0   31527  2017-12-30  4430012511    2.79\n1  145584  2017-12-16  4430012511    8.37\n2   31608  2017-12-23  4430012511   19.53\n3    6362  2017-12-16  4430012511    5.58\n</code></pre>\n"}, {"tags": ["python", "python-os"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 1, "creation_date": 1516221397, "post_id": 48309567, "comment_id": 83604762, "body": "You might want to show some examples of what you&#39;re trying to do so it&#39;s clear what you mean. Also, if you&#39;ve written some code that attempts to do what you want, you should show that too."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1516221398, "post_id": 48309567, "comment_id": 83604763, "body": "It&#39;s not clear what you want; is it just <code>os.path.join(path2, path1)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": false, "score": 0, "last_activity_date": 1516221463, "creation_date": 1516221463, "answer_id": 48309609, "question_id": 48309567, "link": "https://stackoverflow.com/questions/48309567/how-can-i-get-a-path-relative-from-an-other/48309609#48309609", "title": "How can i get a path relative from an other?", "body": "<p>You can use the <a href=\"https://docs.python.org/2/library/os.path.html#os.path.relpath\" rel=\"nofollow noreferrer\"><strong><code>os.relpath</code></strong></a> function for this:</p>\n\n<blockquote>\n  <p><strong><code>os.path.relpath(path[, start])</code></strong></p>\n  \n  <p>Return a <strong>relative filepath to <code>path</code></strong> either from the current directory or from an optional <code>start</code> directory. This is a path computation: the filesystem is not accessed to confirm the existence or nature of <code>path</code> or <code>start</code>.</p>\n</blockquote>\n\n<p>So you can call:</p>\n\n<pre><code>&gt;&gt;&gt; relpath('/home/foo/bar', '/home/qux')\n'../foo/bar'\n</code></pre>\n\n<p>So you can access <code>/home/foo/bar</code> from <code>/home/qux</code> by the relative path <code>../foo/bar</code>.</p>\n\n<p>Or for your case:</p>\n\n<pre><code>replath(path2, path_of_script)\n</code></pre>\n\n<p>where <code>path2</code> is an absolute path.</p>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 9231693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84441f8fac8202bf5f2e3eee4498f941?s=128&d=identicon&r=PG&f=1", "display_name": "Icetom54", "link": "https://stackoverflow.com/users/9231693/icetom54"}, "is_accepted": true, "score": 0, "last_activity_date": 1517084080, "creation_date": 1517084080, "answer_id": 48480098, "question_id": 48309567, "link": "https://stackoverflow.com/questions/48309567/how-can-i-get-a-path-relative-from-an-other/48480098#48480098", "title": "How can i get a path relative from an other?", "body": "<p>made my own funtion</p>\n\n<pre><code>import pathlib\n\ndef convert_path(path, org_path):\n    org_path = pathlib.Path(org_path).parent # need the folder where my file is\n    for element in path.split(os.path.sep):\n        if element == \"..\":\n            org_path = org_path.parent\n        else:\n            org_path = org_path.joinpath(element)\n    return str(org_path)\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 9231693, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/84441f8fac8202bf5f2e3eee4498f941?s=128&d=identicon&r=PG&f=1", "display_name": "Icetom54", "link": "https://stackoverflow.com/users/9231693/icetom54"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 48480098, "answer_count": 2, "score": 0, "last_activity_date": 1517084080, "creation_date": 1516221294, "last_edit_date": 1516222640, "question_id": 48309567, "link": "https://stackoverflow.com/questions/48309567/how-can-i-get-a-path-relative-from-an-other", "title": "How can i get a path relative from an other?", "body": "<p><a href=\"https://i.stack.imgur.com/xl1aT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xl1aT.png\" alt=\"Visualization\"></a> I have a path1 relative from a path2 and I want to get this path1 from my script which isn't path1 or path2. I know the absolute path of path2. </p>\n"}, {"tags": ["python", "python-2.7", "try-catch"], "comments": [{"owner": {"reputation": 138, "user_id": 2054726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hM5QU.jpg?s=128&g=1", "display_name": "Mario Idival", "link": "https://stackoverflow.com/users/2054726/mario-idival"}, "edited": false, "score": 2, "creation_date": 1516221332, "post_id": 48309546, "comment_id": 83604739, "body": "To give more details, print just <code>ex</code> and see results..."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1516221553, "post_id": 48309546, "comment_id": 83604836, "body": "What&#39;s in the <code>try</code> block? We can&#39;t debug code we can&#39;t see."}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 1, "creation_date": 1516221561, "post_id": 48309546, "comment_id": 83604845, "body": "To get even more info, <code>import traceback</code> and on exception, <code>print traceback.format_exc()</code>. I&#39;m not sure how the exception doesn&#39;t exist without <code>try</code>/<code>except</code> so it&#39;s useful to see the traceback"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1516221584, "post_id": 48309546, "comment_id": 83604862, "body": "You only print the exception <code>message</code>, not the entire message (that will also contain the type, etc.)"}, {"owner": {"reputation": 79, "user_id": 9072684, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/af3dbf93971a1de1fa6b4ef2074d195c?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Pickles", "link": "https://stackoverflow.com/users/9072684/mr-pickles"}, "edited": false, "score": 0, "creation_date": 1516222366, "post_id": 48309546, "comment_id": 83605277, "body": "When I just print <code>ex</code> it also returns <code>93</code>.  When calling <code>print traceback.format_exc(ex)</code>, it prints <code>KeyError: 93</code>"}, {"owner": {"reputation": 10847, "user_id": 4799172, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/17539586d5bb4e528d94f3bc4131e6c0?s=128&d=identicon&r=PG&f=1", "display_name": "roganjosh", "link": "https://stackoverflow.com/users/4799172/roganjosh"}, "edited": false, "score": 0, "creation_date": 1516222598, "post_id": 48309546, "comment_id": 83605401, "body": "Ok, so I&#39;m not sure that your assertion that removing <code>try</code>/<code>except</code> means that the code no longer raises an exception. Presumably it&#39;s just coincidental and you&#39;re not getting a <code>KeyError</code> when you remove the <code>try</code>/<code>except</code>"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 9072684, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/af3dbf93971a1de1fa6b4ef2074d195c?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Pickles", "link": "https://stackoverflow.com/users/9072684/mr-pickles"}, "edited": false, "score": 0, "creation_date": 1516223182, "post_id": 48309783, "comment_id": 83605694, "body": "You&#39;re right. It was a coincidence that when I ran the code previously without the Try and Except, that no exceptions were raised. I tried it again and it turned out to be an encoding issue - trying to write an unsupported unicode character into a latin-1 encoded csv file. Thanks to everyone for their help and sorry for the lack of exhaustive testing."}], "tags": [], "owner": {"reputation": 1341, "user_id": 6809571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000a638897147ab84cf57cde60e2d05b?s=128&d=identicon&r=PG&f=1", "display_name": "John R", "link": "https://stackoverflow.com/users/6809571/john-r"}, "is_accepted": true, "score": 0, "last_activity_date": 1517358797, "last_edit_date": 1517358797, "creation_date": 1516222275, "answer_id": 48309783, "question_id": 48309546, "link": "https://stackoverflow.com/questions/48309546/why-is-exception-displaying-as-a-number/48309783#48309783", "title": "Why is exception displaying as a number?", "body": "<p>It depends on what you're doing in your try. The exception is created and raised in that code. It is possible to set an exception's message to 93, or to anything else.</p>\n\n<p>Try evaluating the entire exception in your debugger, or stepping through the code you're running in try until you get the the exception, and look at the context in which it is created/raised. This will at least give you an idea of what the code/module was doing when it failed.</p>\n\n<p>My guess is that the code running in try isn't well written or maintained. Try a different module, or post more details about it here.</p>\n\n<p>Update:</p>\n\n<p>If your stack trace is giving you KeyError, then the code you're executing is throwing a KeyError exception that isn't handled by an except block deeper down in the code, which would mean it's either poorly written or being poorly used. The issue is most likely within your 'do something'</p>\n"}, {"tags": [], "owner": {"reputation": 44, "user_id": 9220192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVUV0.jpg?s=128&g=1", "display_name": "rodcoelho", "link": "https://stackoverflow.com/users/9220192/rodcoelho"}, "is_accepted": false, "score": 0, "last_activity_date": 1516222588, "creation_date": 1516222588, "answer_id": 48309856, "question_id": 48309546, "link": "https://stackoverflow.com/questions/48309546/why-is-exception-displaying-as-a-number/48309856#48309856", "title": "Why is exception displaying as a number?", "body": "<p>Rather than use smtplib.SMTP you should use Yagmail. It's easier to use:</p>\n\n<p><code>import yagmail\nyag = yagmail.SMTP(username, password)\nyag.send(emailto, subject = \"I now can send an attachment\", contents = fileToSend)</code></p>\n"}], "owner": {"reputation": 79, "user_id": 9072684, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/af3dbf93971a1de1fa6b4ef2074d195c?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. Pickles", "link": "https://stackoverflow.com/users/9072684/mr-pickles"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 48309783, "answer_count": 2, "score": -2, "last_activity_date": 1517358797, "creation_date": 1516221232, "last_edit_date": 1516224294, "question_id": 48309546, "link": "https://stackoverflow.com/questions/48309546/why-is-exception-displaying-as-a-number", "title": "Why is exception displaying as a number?", "body": "<p>I have a Python script running on a schedule and I have set up a <code>try/except</code> block to catch all exceptions and email me the exception message so that I can be made aware that something has gone wrong.</p>\n\n<p>I am observing some odd behavior. For every execution of my script, an Exception is being caught where the message is simply:</p>\n\n<p><code>93</code></p>\n\n<p>This content is the same when I print it to the console as well.</p>\n\n<p>When I remove the <code>try/except</code> block, there aren't any exceptions being thrown by my code. Does anyone know why the presence of the <code>try/except</code> blocks are causing exceptions and why it is just returning digits?</p>\n\n<pre><code>try:\n\n    #do something\n\nexcept Exception as ex:\n    s = smtplib.SMTP('000.000.000.000',25)\n    s.starttls()\n    s.sendmail('email@email.com', 'email@email.com', 'General Exception in final_parse method       ' + str(ex.message))\n    print str(ex.message)\n    s.quit()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "boolean"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1516221521, "post_id": 48309531, "comment_id": 83604819, "body": "Why do you think it was only kept for backwards-compatibility? Also note that Python3 wasn&#39;t intended as the &quot;big breaking release&quot;, lots of the breaking changes were either accidental or at least unexpected."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1516221928, "post_id": 48309531, "comment_id": 83605051, "body": "The example you gave is not really &quot;casting&quot; to integers.  Any class that implements <code>__index__</code> can do the same."}, {"owner": {"reputation": 37256, "user_id": 736308, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/o5EqQ.jpg?s=128&g=1", "display_name": "cdarke", "link": "https://stackoverflow.com/users/736308/cdarke"}, "edited": false, "score": 0, "creation_date": 1516221952, "post_id": 48309531, "comment_id": 83605064, "body": "Personally I don&#39;t see and dis-advantage to it.  If you really <i>want</i> to use a <code>bool</code> as an <code>int</code>, then go ahead.  Why change it unless there is a good reason?  If you have a good reason then maybe you should add it to your question."}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 1, "creation_date": 1516222109, "post_id": 48309531, "comment_id": 83605133, "body": "Question to your question: What&#39;s the harm? The compatibility breaks in Python 3 were generally made only when the the old behavior was problematic or confusing. What is the harm of <code>bool</code> behaving as a number? There are legit uses, e.g. <code>sum(x % 2 == 0 for x in someseq)</code> as a way of counting even numbers (substitute whatever boolean test you like). I frequently count that way (sometimes it&#39;s <code>cnt += booleantest(someval)</code> in a normal <code>for</code> loop), because it happens to be convenient; sure, <code>if booleantest(someval): cnt += 1</code> also works, but why eliminate the option?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "reply_to_user": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "edited": false, "score": 0, "creation_date": 1516223871, "post_id": 48309531, "comment_id": 83606025, "body": "@ShadowRanger  I reckon <code>sum(1 for x in someseq if x%2 == 0)</code> is more Pythonic, but opinions differ."}, {"owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "edited": false, "score": 0, "creation_date": 1516223877, "post_id": 48309531, "comment_id": 83606029, "body": "@ShadomRanger I don&#39;t think there is harm, it&#39;s just a question that came up in a conversation with a friend about language quirks"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1516227704, "post_id": 48309531, "comment_id": 83607722, "body": "@wim: I agree (I believe explicit <code>1</code> after test is faster on multiple levels too), but they&#39;re both fine. A lot of code assumes <code>bool</code>s are numerically 0 or 1, and violating that expectation to needlessly break code for no real benefit would be pointlessly harmful."}], "answers": [{"comments": [{"owner": {"reputation": 6451, "user_id": 1827457, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/36a4fa28b2cfce2c219592f7880e4008?s=128&d=identicon&r=PG", "display_name": "LtWorf", "link": "https://stackoverflow.com/users/1827457/ltworf"}, "edited": false, "score": 0, "creation_date": 1562681570, "post_id": 48309633, "comment_id": 100447399, "body": "And this leads to Union[int, bool] being equal to &quot;int&quot;, which means typing stuff gets broken."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 8, "last_activity_date": 1516221565, "creation_date": 1516221565, "answer_id": 48309633, "question_id": 48309531, "link": "https://stackoverflow.com/questions/48309531/why-is-bool-a-subclass-of-int-in-python-3/48309633#48309633", "title": "Why is bool a subclass of int in Python 3?", "body": "<p>From the <a href=\"https://www.python.org/dev/peps/pep-0285/#review\" rel=\"noreferrer\">original bool PEP</a>:</p>\n\n<blockquote>\n  <p>Should we strive to eliminate non-Boolean operations on bools in the\n  future, through suitable warnings, so that for example True+1 would\n  eventually (in Python 3000) be illegal?</p>\n  \n  <p>=> No.</p>\n  \n  <p>There's a small but vocal minority that would prefer to see \"textbook\"\n  bools that don't support arithmetic operations at all, but most\n  reviewers agree with me that bools should always allow arithmetic\n  operations.</p>\n</blockquote>\n\n<p>And later in the same document:</p>\n\n<blockquote>\n  <p>Because of backwards compatibility, the bool type lacks many\n  properties that some would like to see. For example, arithmetic\n  operations with one or two bool arguments is allowed, treating False\n  as 0 and True as 1. Also, a bool may be used as a sequence index.</p>\n  \n  <p>I don't see this as a problem, and I don't want evolve the language in\n  this direction either. I don't believe that a stricter interpretation\n  of \"Booleanness\" makes the language any clearer.</p>\n</blockquote>\n\n<p>Removing bools-as-numbers was not an intended language direction. Guido didn't think it'd make the language better.</p>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1516224434, "creation_date": 1516224434, "answer_id": 48310268, "question_id": 48309531, "link": "https://stackoverflow.com/questions/48309531/why-is-bool-a-subclass-of-int-in-python-3/48310268#48310268", "title": "Why is bool a subclass of int in Python 3?", "body": "<p>Usefulness example: The two Boolean values 0, <code>False</code> and 1, <code>True</code> can represent the 2 parts of any binary partition.  Suppose n people answer m questions and their response to each question is labelled 'fail' or 'pass'.  We create a data table with n rows and m (+1, for id) columns and code fail/pass as 0/1.  We can then count the passes for each question by summing rows and the passes for each question by summing columns.  Any decent analysis software should be able to do this little or no custom programming.</p>\n\n<p>Python 3 development: I participated in the discussion and am sure that there were many more compatibility breaking proposals rejected than accepted.  Each change had to pay for itself.</p>\n"}], "owner": {"reputation": 8789, "user_id": 539465, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2acba600ecfbe1cc2e7f3c94b686ac84?s=128&d=identicon&r=PG", "display_name": "Valentin Lorentz", "link": "https://stackoverflow.com/users/539465/valentin-lorentz"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "closed_date": 1516264750, "answer_count": 2, "score": 2, "last_activity_date": 1516224434, "creation_date": 1516221174, "last_edit_date": 1516221782, "question_id": 48309531, "link": "https://stackoverflow.com/questions/48309531/why-is-bool-a-subclass-of-int-in-python-3", "closed_reason": "Opinion-based", "title": "Why is bool a subclass of int in Python 3?", "body": "<p>Since the introduction of <code>bool</code>, it has been a subclass of <code>int</code>, and bools can be \u201ccast\u201d into integers implicitly:</p>\n\n<pre><code>&gt;&gt;&gt; issubclass(bool, int)\nTrue\n&gt;&gt;&gt; ['one', 'two'][False]\n'one'\n&gt;&gt;&gt; ['one', 'two'][True]\n'two'\n&gt;&gt;&gt; True/20\n0.05\n</code></pre>\n\n<p>This was for historical reasons: compatibility with pre-2.3 APIs; and I understand it was kept from 2.3 to 2.7. (This was addressed in <a href=\"https://stackoverflow.com/q/8169001/539465\">this question</a> from 2011)</p>\n\n<p>However, why is it still true in Python 3? I do not see any advantage to it. And there is no reason to keep that for backward compatibility: Python 3.0 was a breaking release; and I don't think any pre-2.3 API is still around anyway.</p>\n"}, {"tags": ["javascript", "jquery", "python", "ajax", "django"], "comments": [{"owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "reply_to_user": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516221759, "post_id": 48309523, "comment_id": 83604966, "body": "@Stack this is the error &#39;POST <a href=\"http://localhost:8000/listClients/\" rel=\"nofollow noreferrer\">localhost:8000/listClients</a> 500 (Internal Server Error)&#39; so I think that the problem is in <code>return HttpResponse(json.dumps(data), content_type=&quot;application&#47;json&quot;)</code>"}, {"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 1, "creation_date": 1516222103, "post_id": 48309523, "comment_id": 83605128, "body": "check this <a href=\"https://stackoverflow.com/a/17548578/8150371\">stackoverflow.com/a/17548578/8150371</a>  or use JsonResponse instead of HttpResponse"}], "answers": [{"comments": [{"owner": {"reputation": 2630, "user_id": 8150371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Yqtry.jpg?s=128&g=1", "display_name": "Stack", "link": "https://stackoverflow.com/users/8150371/stack"}, "edited": false, "score": 0, "creation_date": 1516221422, "post_id": 48309578, "comment_id": 83604780, "body": "OP is using csrf_exempt in his urls.py on the view, though I am not sure if it is implemented correctly"}, {"owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "edited": false, "score": 0, "creation_date": 1516221569, "post_id": 48309578, "comment_id": 83604851, "body": "In my urls.py I have this csrf_exempt(ajaxview.listClients) so the problem is not csrf"}], "tags": [], "owner": {"reputation": 5565, "user_id": 923934, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5e4b81619dada3148128270a9699fa8a?s=128&d=identicon&r=PG", "display_name": "bzmw", "link": "https://stackoverflow.com/users/923934/bzmw"}, "is_accepted": false, "score": -2, "last_activity_date": 1516221350, "creation_date": 1516221350, "answer_id": 48309578, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django/48309578#48309578", "title": "Get object list with ajax in Django", "body": "<p>You need to include a <code>csrftoken</code> in your request. <a href=\"https://docs.djangoproject.com/en/2.0/ref/csrf/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.0/ref/csrf/</a></p>\n\n<p>But also you should be using Class Based Views, and Django Forms to make these kinds of requests.</p>\n\n<p>The other option that you have is to use the Django Templating language to insert the data that you want. Simply pass the data into the view's context_data.</p>\n"}, {"tags": [], "owner": {"reputation": 957, "user_id": 2778668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZeufD.jpg?s=128&g=1", "display_name": "Rohan Varma", "link": "https://stackoverflow.com/users/2778668/rohan-varma"}, "is_accepted": true, "score": 1, "last_activity_date": 1516230277, "creation_date": 1516230277, "answer_id": 48311407, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django/48311407#48311407", "title": "Get object list with ajax in Django", "body": "<p>You have the right idea and depending on your django version, you could be correct. For django version &lt;1.7, you have the correct syntax. For version 1.7 onwards, you should use a JsonResponse as such:</p>\n\n<pre><code>from django.http import JsonResponse\n\ndef listClients(request):\n    data = []\n    clientlist = clients.objects.filter(clientstatus=1)\n    #Here is where I don't know if I am doing correctly\n    #I don't know how to send the client list or if I have to send it as a JSON\n    #Please help here\n    data.append({'clist':clientlist })\n    return JsonResponse(data)\n</code></pre>\n\n<p>In your AJAX request in the javascript, the result object will, in fact, be the json that you sent from the backend. And then in your .each() method you can add the list to the HTML. </p>\n\n<p>While you can use the JsonResponse to solve this problem, I would also recommend looking into setting up django-rest-framework since you are creating, in essence, a rest API and could leverage the django-rest-framework library to make it much easier. This would require some overhead to learn but definitely could be useful if you need to make more APIs. Documentation is <a href=\"http://www.django-rest-framework.org/api-guide/views/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Good luck!</p>\n"}], "owner": {"reputation": 737, "user_id": 8747207, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-R1BCkXtE1t4/AAAAAAAAAAI/AAAAAAAAABk/04aQ8PYOW6s/photo.jpg?sz=128", "display_name": "Sergio Mendez", "link": "https://stackoverflow.com/users/8747207/sergio-mendez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1800, "favorite_count": 0, "accepted_answer_id": 48311407, "answer_count": 2, "score": 0, "last_activity_date": 1516230277, "creation_date": 1516221146, "question_id": 48309523, "link": "https://stackoverflow.com/questions/48309523/get-object-list-with-ajax-in-django", "title": "Get object list with ajax in Django", "body": "<p>I'm using ajax in my django aplication, it works well except when I want to get all the registers in a table. I don't know how to send from my 'ajaxview' to the javascript code and then, how to parse the result.</p>\n\n<p>Here is my <strong>list.html</strong></p>\n\n<pre><code>&lt;table&gt;\n  &lt;thead&gt;\n   &lt;tr&gt;\n    &lt;th&gt;id&lt;/th&gt;\n    &lt;th&gt;Name&lt;/th&gt;\n    &lt;th&gt;Gender&lt;/th&gt;\n    &lt;th&gt;Birth date&lt;/th&gt;\n   &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody id=\"clientList\"&gt;\n    &lt;!--Here where I want to put the client list--&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;script&gt;\n  getAllClients();\n&lt;/script&gt;\n</code></pre>\n\n<p>This is my <strong>urls.py</strong></p>\n\n<pre><code>from django.conf.urls import url, include\nfrom django.contrib import admin\nfrom django.urls import path\nfrom django.views.decorators.csrf import csrf_exempt\nfrom store_app import ajax as ajaxview\nurlpatterns = [\n    path('admin/', admin.site.urls),\n    url(r'^listClients/$', csrf_exempt(ajaxview.listClients), name='listClients'),\n]\n</code></pre>\n\n<p>This is my <strong>ajax.py</strong> where I have diferent views than in views.py</p>\n\n<pre><code>def listClients(request):\n    data = []\n    clientlist = clients.objects.filter(clientstatus=1)\n    #Here is where I don't know if I am doing correctly\n    #I don't know how to send the client list or if I have to send it as a JSON\n    #Please help here\n    data.append({'clist':clientlist })\n    return HttpResponse(json.dumps(data), content_type=\"application/json\")\n</code></pre>\n\n<p>The last code actually work for other stuff, but not to send all the data</p>\n\n<p>This is my <strong>list.js</strong> script</p>\n\n<pre><code>funtion getAllClients()\n{\n  $.ajax(\n  {\n    type: \"POST\",\n    url: \"/getAllClients/\",\n    data: \"\",\n    success: function(result)\n    {\n      console.log(result); //Should I have a json object in 'result' variable?\n      $.each(result, function(key, val)\n      {\n        //Here is where I want to parse each object and add to the HTML table\n      });\n    }\n  });\n}\n</code></pre>\n\n<p>This code give me an error in the browser console. Please Help. Thanks.</p>\n"}, {"tags": ["python", "django", "django-forms"], "comments": [{"owner": {"reputation": 1602, "user_id": 5682919, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4rC18.png?s=128&g=1", "display_name": "jsanchezs", "link": "https://stackoverflow.com/users/5682919/jsanchezs"}, "edited": false, "score": 0, "creation_date": 1516221682, "post_id": 48309493, "comment_id": 83604922, "body": "Any error in broswer ?, any error in terminal ?"}, {"owner": {"reputation": 1, "user_id": 6813522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5543dcaad34947f39376948bdb3d3ef0?s=128&d=identicon&r=PG&f=1", "display_name": "IrishBoy", "link": "https://stackoverflow.com/users/6813522/irishboy"}, "reply_to_user": {"reputation": 1602, "user_id": 5682919, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4rC18.png?s=128&g=1", "display_name": "jsanchezs", "link": "https://stackoverflow.com/users/5682919/jsanchezs"}, "edited": false, "score": 0, "creation_date": 1516229387, "post_id": 48309493, "comment_id": 83608382, "body": "none of them, page just reloads"}, {"owner": {"reputation": 2543, "user_id": 2729584, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e084672ade86cfe255fe710fe9ba66e?s=128&d=identicon&r=PG", "display_name": "dethos", "link": "https://stackoverflow.com/users/2729584/dethos"}, "edited": false, "score": 0, "creation_date": 1516235974, "post_id": 48309493, "comment_id": 83610201, "body": "Can you provide the <code>template</code> code (HTML form being used)?"}, {"owner": {"reputation": 1, "user_id": 6813522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5543dcaad34947f39376948bdb3d3ef0?s=128&d=identicon&r=PG&f=1", "display_name": "IrishBoy", "link": "https://stackoverflow.com/users/6813522/irishboy"}, "edited": false, "score": 0, "creation_date": 1516308926, "post_id": 48309493, "comment_id": 83646035, "body": "Here you are, but I don&#39;t think it&#39;s going to help you))"}], "owner": {"reputation": 1, "user_id": 6813522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5543dcaad34947f39376948bdb3d3ef0?s=128&d=identicon&r=PG&f=1", "display_name": "IrishBoy", "link": "https://stackoverflow.com/users/6813522/irishboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1516266208, "creation_date": 1516221056, "last_edit_date": 1516266208, "question_id": 48309493, "link": "https://stackoverflow.com/questions/48309493/saving-data-from-form-to-database-django", "title": "Saving data from form to database django", "body": "<p>I am trying to add objects to database via form, but nothing happens, information does not appear in db. Here is my code, i've been searching for a few hours and found nothing  </p>\n\n<p>models.py</p>\n\n<pre><code>    from django.db import models\n    import os\n    from django import forms\n    from django.contrib.auth.models import User\n\n    class Projects(models.Model):\n        Cascades = []\n        for d, dirs, files in os.walk('pd/haarcascades'):\n            for f in files:\n                path = os.path.abspath(f) # \u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0430\u0434\u0440\u0435\u0441\u0430\n                name = os.path.splitext(f)[0]\n                file_name_path  = ()\n                file_name_path = (path, name)\n                Cascades.append(file_name_path)\n        ProjectName = models.CharField(max_length = 15)\n        ProjectOwner = models.OneToOneField(User, primary_key = True) #\n        ProjectType = models.CharField(max_length = 1) # D for Detection , C for Creating Own Cascacde\n        CascadeType = models.CharField(max_length = 150, choices=Cascades)\n        CascadePath = models.CharField(max_length = 150, null  = True)\n        ProjectPath = models.CharField(max_length = 100)# for later downloading\n        ProjectReadyFilter = models.BooleanField(default=False)# 0 uncompleted project, 1 - completed\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>    from django import forms\n    import os\n    from .models import Projects\n\n    class ChosingCascade(forms.ModelForm):\n        class Meta:\n            model = Projects\n            fields = ('ProjectName', 'CascadeType',)\n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>    class PhotoDetectionProcessView(FormView):\n        template_name = \"pd/ChosingCascade.html\"\n        success_url = \"/pd/ChosingCascade\"\n        form_class = ChosingCascade\n        def ChosingCascade(request):\n            def get(self, request):\n                form_class = ChosingCascade()\n                return render(request, self.template_name, {'form_class':form_class})\n\n\n            def post(self,request):\n                form = ChosingCascade(request.POST)\n                if form.is_valid():\n                    post = form.save(commit = False)\n                    UserName = request.user\n                    post.ProjectOwner = request.user\n                    post.ProjectName = form.cleaned_data.get(\"ProjectName\")\n                    post.CascadeType = CascadeType(initial={'origin':ChosingCascade.Cascades[1]})\n                    post.CascadePath = CascadeType(initial={'origin':ChosingCascade.Cascades[0]})\n                    post.ProjectType = 'D'\n                    os.makedirs('users/%s/PhotoDetection/%s', UserName, ProjectName)\n                    post.ProjectPath = ('users/%s/PhotoDetection/%s', UserName, ProjectName)\n                    post.save()\n                    form= ChosingCascade()\n                    return redirect('pd/ChosingCascade: pd/ChosingCascade')\n                args = {'form':form }\n                return render(request, self.template_name, args)\n</code></pre>\n\n<p>ChosingCascade.html</p>\n\n<pre><code>    &lt;html&gt;\n    &lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Chosing Cascade&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n      &lt;form action=\"\" method=\"post\"&gt;\n        {% csrf_token %}\n        {{ form.as_p }}\n        &lt;input type=\"submit\" value=\"Vote\" /&gt;\n    &lt;/form&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p>the idea is the follow: user create project, by entering the name and choosing haarcascade, but when i press \"Vote\" no data appears in db </p>\n"}, {"tags": ["python", "django", "forms", "django-forms", "django-views"], "comments": [{"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1516221088, "post_id": 48309478, "comment_id": 83604625, "body": "How are you declaring this field in your form?"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1516222278, "post_id": 48309478, "comment_id": 83605225, "body": "@PauloScardine I&#39;ve made an edit to the question, please check it now"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1516280394, "post_id": 48309478, "comment_id": 83628985, "body": "I think you should inherit from MultipleChoiceField and disable the validation against a choices list in order to pull this off. Unfortunately I lack the time to write a proper answer, sorry."}], "answers": [{"comments": [{"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516283570, "post_id": 48310007, "comment_id": 83630979, "body": "Using Formsets doesn&#39;t solve the problem of fetching and validating fields with same name. The issue still remains"}, {"owner": {"reputation": 766, "user_id": 4121455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9f0032ba8ed4698b9725eae09da3f75f?s=128&d=identicon&r=PG&f=1", "display_name": "DisneylandSC", "link": "https://stackoverflow.com/users/4121455/disneylandsc"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516363909, "post_id": 48310007, "comment_id": 83666840, "body": "It does however generate the end result you want. My question would be why you insist on having the same name value on the inputs in your html?"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516364530, "post_id": 48310007, "comment_id": 83667194, "body": "I do not insist on having fields with same name. If i may explain the situation with an example, if user 1 wanted to add 15-20 more fields, and keeping this is mind i set the extra to 15, it would be counter intuitive for user 2 who just wants 2-3 fields since the form would appear to be very long when rendered. So if I render the formset again using JQuery and AJAX to add more fields, the initial problem of similar field names would arise again. As @PauloScardine said, the issue would be solved if I do the dynamic rendering of fields entirely at the front end without creating formsets."}, {"owner": {"reputation": 766, "user_id": 4121455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9f0032ba8ed4698b9725eae09da3f75f?s=128&d=identicon&r=PG&f=1", "display_name": "DisneylandSC", "link": "https://stackoverflow.com/users/4121455/disneylandsc"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516364937, "post_id": 48310007, "comment_id": 83667451, "body": "Thats why you set extra to say, just 1, and then use jquery to allow the user to add and delete forms as needed. Good example of this can be found here: <a href=\"http://stellarchariot.com/blog/2011/02/dynamically-add-form-to-formset-using-javascript-and-django/\" rel=\"nofollow noreferrer\">stellarchariot.com/blog/2011/02/&hellip;</a>"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516365741, "post_id": 48310007, "comment_id": 83667938, "body": "Great link share mate! This is better than my approach of packing all field data into a hidden field. I&#39;ll accept your answer."}], "tags": [], "owner": {"reputation": 766, "user_id": 4121455, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/9f0032ba8ed4698b9725eae09da3f75f?s=128&d=identicon&r=PG&f=1", "display_name": "DisneylandSC", "link": "https://stackoverflow.com/users/4121455/disneylandsc"}, "is_accepted": true, "score": 1, "last_activity_date": 1516363763, "last_edit_date": 1516363763, "creation_date": 1516223314, "answer_id": 48310007, "question_id": 48309478, "link": "https://stackoverflow.com/questions/48309478/clean-django-form-fields-with-same-name/48310007#48310007", "title": "Clean Django form fields with same name", "body": "<p>I think that what you are looking for is formsets. <a href=\"https://docs.djangoproject.com/en/2.0/topics/forms/formsets/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/2.0/topics/forms/formsets/</a></p>\n\n<pre><code>from django.forms import formset_factory\n\nItemFormSet = formset_factory(ItemForm, extra=2)\n</code></pre>\n\n<p>You can the essentialy use ItemFormSet in the way you would use a normal form except that this objects is <em>iterable</em>.</p>\n\n<p>You will also have to change your jquery if you want to dynamically add items. There are many examples online on how to do this. In short what you do is</p>\n\n<ol>\n<li>clone one of the forms in the formset</li>\n<li>clear all the values from the copied form</li>\n<li>update the input's (prefixes of) id's</li>\n</ol>\n\n<blockquote>\n  <p>Using Formsets doesn't solve the problem of fetching and validating\n  fields with same name. The issue still remains</p>\n</blockquote>\n\n<p>It does however generate the end result you wanted (see below). My question would be why you need to have inputs with the same name? If there is some jquery stuff that uses these names I dont see any reason why you wouldn't be able to use name like... or assign a class to the inputs instead.</p>\n\n<pre><code>def pickup_order_view(request):\n\n    if request.method == 'GET':\n        ItemFormSet = formset_factory(ItemForm, extra=5)\n        item_formset = ItemFormSet()\n\n        template = \"some_template.html\"\n        template_context = {'item_formset': item_formset}\n        return render(request, template, template_context)\n\n    if request.method == 'POST':\n        ItemFormSet = formset_factory(ItemForm)\n        item_formset = ItemFormSet(request.POST)\n\n        same_name_fields=[]\n        if item_formset.is_valid():\n\n            for item_form in item_formset:\n                same_name_fields.append(item_form.cleaned_data['this_field'])\n\n            print(same_name_fields)\n</code></pre>\n\n<p>Template</p>\n\n<pre><code>&lt;form id = \"orderForm\" action=\"newPickupOrder/\" method=\"post\" name=\"processForm\"&gt;\n    {% csrf_token %}\n    {{ item_formset.management_form }}\n    {{ for item_form in item_formset }}\n        {{ item_form.as_p }}\n    {{ endfor }}\n\n    &lt;input type='submit' value='submit'&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>Go to newPickupOrder/ , fill in the 5 fields, hit submit, and watch it print your list.</p>\n"}, {"comments": [{"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516284972, "post_id": 48322274, "comment_id": 83631893, "body": "So essentially what you&#39;re saying is that I need to create new form field class and then render it to the template each time the user wants to add a new field? What if user has to add 15 fields, I&#39;ll need to create 15 classes then! I think this method won&#39;t be suitable in scenarios where number of fields required to be generated is large. I feel there should be some elegant way to do this which i&#39;m not aware of"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516288201, "post_id": 48322274, "comment_id": 83634132, "body": "No, it is not what I&#39;m saying. My answer addresses only the server side and it would work with the HTML you presented. If it is a single instance, you can leave it to the frontend to render as many <code>&lt;input name=&#39;this_field&#39;&gt;</code> as you need (or add/remove them). If you are going to use it a lot, it makes sense to subclass something like <code>MultipleHiddenInput</code> and add the javascript to add/remove items, then set <code>AcceptAnythingMultipleChoiceField.widget</code> to the new widget."}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516288824, "post_id": 48322274, "comment_id": 83634576, "body": "Oh yes! Now you put it like that, it makes more sense to render those forms in front-end rather than using form field class. Thanks!"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516289466, "post_id": 48322274, "comment_id": 83634998, "body": "I&#39;ve updated the answer to clarify this, but it is still untested."}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516289753, "post_id": 48322274, "comment_id": 83635210, "body": "A modification to your method is that all the fields&#39; data could be packed into one hidden field (with some separator appended to the end of each field&#39;s data) so that in the <code>views.py</code> the data could be separated (based on the separator) and stored individually after splitting. Using this modification, there would be no need to create multiple hidden fields, where the initial problem of getting data from hidden-fields with similar names could arise again."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516290015, "post_id": 48322274, "comment_id": 83635367, "body": "Yes, you may be interested into <a href=\"https://djangosnippets.org/snippets/2753/\" rel=\"nofollow noreferrer\">djangosnippets.org/snippets/2753</a>"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516299078, "post_id": 48322274, "comment_id": 83640960, "body": "I&#39;ll accept your answer as soo as you restructure your answer by including the explanation for dynamic form field addition using JS or JQuery. Thanks!"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516306268, "post_id": 48322274, "comment_id": 83644769, "body": "Are you aware how much the &quot;I&#39;ll accept your answer as soon as you [do something for me]&quot; sounds wrong?"}, {"owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "edited": false, "score": 0, "creation_date": 1516363858, "post_id": 48322274, "comment_id": 83666802, "body": "Please don&#39;t take my comment in the wrong way, I&#39;ve understood the solution and have already implemented it. I want you to get the credit and want others to benefit from your answer. Since your answer has only hinted upon the dynamic addition of fields using JS or JQuery and not actually explaining it, also, since you&#39;ve said &quot;this is not actually an answer&quot; I want you to edit it and add the JQuery bit so that it becomes more helpful."}], "tags": [], "owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "is_accepted": false, "score": 2, "last_activity_date": 1516289381, "last_edit_date": 1516289381, "creation_date": 1516281307, "answer_id": 48322274, "question_id": 48309478, "link": "https://stackoverflow.com/questions/48309478/clean-django-form-fields-with-same-name/48322274#48322274", "title": "Clean Django form fields with same name", "body": "<p>I'm sorry, I can't test if this works so this is not really an answer - but the comment system is not suitable for larger code chunks so I'm posting here.</p>\n\n<p>Django forms lack a field type that renders to multiple text inputs with the same name. The proper thing to do would be to write a new form field class and a new widget. Since you are not rendering the form in the template (you are using it only for validation) I will omit the widget part.</p>\n\n<pre><code>class AcceptAnythingMultipleChoiceField(forms.MultipleChoiceField):\n    def validate(self, value):\n        if self.required and not value:\n            raise ValidationError(\n                self.error_messages['required'], \n                code='required'\n            )\n</code></pre>\n\n<p>Then use this field class instead of <code>forms.CharField()</code> (you may need to pass an empty choices parameter).</p>\n\n<p>[update]</p>\n\n<blockquote>\n  <p>So essentially what you're saying is that I need to create new form field class and then render it to the template each time the user wants to add a new field? What if user has to add 15 fields, I'll need to create 15 classes then! I think this method won't be suitable in scenarios where number of fields required to be generated is large. I feel there should be some elegant way to do this which i'm not aware of \u2013 The OP</p>\n</blockquote>\n\n<p>No, it is not what I'm saying. You probably want to subclass something like <code>MultipleHiddenInput</code> and set <code>AcceptAnythingMultipleChoiceField.widget</code> to it. You will have to create a new template based on the template for <code>MultipleHiddenInput</code> and replace input <code>type=\"hidden\"</code> for <code>type=\"text\"</code> (the original template is <code>django/forms/widgets/multiple_hidden.html</code>).</p>\n\n<pre><code>class AcceptAnythingWidget(MultipleHiddenInput):\n    template_name = 'django/forms/widgets/multiple_visible.html'\n\nclass AcceptAnythingMultipleChoiceField(forms.MultipleChoiceField):\n    widget = AcceptAnythingWidget\n    def validate(self, value):\n        if self.required and not value:\n            raise ValidationError(\n                self.error_messages['required'], \n                code='required'\n            )\n</code></pre>\n\n<p>This should render as many <code>&lt;input name='this_field'&gt;</code> as needed for instantiated forms at the frontend if you use:</p>\n\n<pre><code>{{ form.this_field }}\n</code></pre>\n\n<p>in the template, but will not add/remove them dynamically. </p>\n\n<p>In order to do that you must plug in the JavaScript required to add/remove inputs dynamically in the widget but I will left this as an exercise for you. Look at <a href=\"https://docs.djangoproject.com/en/2.0/topics/forms/media/#form-assets-the-media-class\" rel=\"nofollow noreferrer\">Form Assets (the Media class)</a> in the docs in order to figure out how to do that.</p>\n"}], "owner": {"reputation": 724, "user_id": 4930565, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/5e0c68261d92d70caecd9acf61adbfbb?s=128&d=identicon&r=PG&f=1", "display_name": "hulkinBrain", "link": "https://stackoverflow.com/users/4930565/hulkinbrain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1289, "favorite_count": 0, "accepted_answer_id": 48310007, "answer_count": 2, "score": 1, "last_activity_date": 1516363763, "creation_date": 1516220962, "last_edit_date": 1516291564, "question_id": 48309478, "link": "https://stackoverflow.com/questions/48309478/clean-django-form-fields-with-same-name", "title": "Clean Django form fields with same name", "body": "<p>I have a django template in which I'm dynamically rendering multiple fields (using ajax)\nBelow is a Django form (which has been rendered in a template) whose fields have same names. I want to use the <code>cleaned_data</code> method to clean form data in <code>views.py</code> before storing them in the database. </p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;div class=\"form-container\"&gt;\n    &lt;!-- ASSUMING I HAVE ALREADY ADDED FIELDS DYNAMICALLY --&gt;\n    &lt;form id = \"orderForm\" action=\"newPickupOrder/\" method=\"post\" name=\"processForm\"&gt;\n        &lt;input type='text' name='this_field'&gt;\n        &lt;input type='text' name='this_field'&gt;\n        &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;   \n\n&lt;form id=\"addItemForm\"&gt;\n    {% csrf_token %}\n    &lt;!-- BUTTON TO ADD MORE FIELDS DYNAMICALLY --&gt;\n    &lt;button id = \"addItemButton\"&gt;Add item&lt;/button&gt;\n&lt;/form&gt;\n\n&lt;script&gt;\n    var addItemButton = document.querySelector('#addItemButton');\n\n    addItemButton.onclick = function(){            \n\n        $.ajax({\n            type: 'POST',\n            url: 'addItem/',\n            data: addItemForm.serialize(),\n            success: function (response) {\n                 $(\"#orderForm\").append(response);                     \n                 console.log('Success');\n            },\n            error: function (response) {                    \n                console.log('Error = '+response);\n            }\n        });\n    };\n&lt;/script&gt;\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class ItemForm(forms.Form):\n    this_field = forms.CharField()\n</code></pre>\n\n<p><strong>urls.py</strong> </p>\n\n<pre><code>urlpatterns = [\n    url(r'^newPickupOrder/$', views.pickup_order_view, name='new_pickup_order'),\n]\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>def add_item(request):\n    if request.method == 'POST':\n        itemForm = ItemForm()\n        return HttpResponse(itemForm.as_p())\n\ndef pickup_order_view(request):\n    if request.method == 'POST':\n        form = ItemForm(request.POST)\n        same_name_fields = request.POST.getlist('this_field')  \n        # WANT TO CLEAN DATA IN same_name_fields\n\n        if form.is_valid():\n            print(form.cleaned_data)\n            # ONLY PRINTS THE LAST FIELD's DATA\n            return HttpResponseRedirect('/viewPickupRequests')              \n</code></pre>\n\n<p>The problem I'm facing is that if I use <code>form.cleaned_data['this_field']</code>, only the last field's data is fetched i.e. in this example, the field with value <code>anotherTestValue</code> is fetched and cleaned. If I fetch the data using <code>request.POST.getlist('this_field')</code>, all the fields' data is fetched and stored as a list, but, I don't know how to clean it using <code>cleaned_data</code> method. Is there a way to apply the <code>cleaned_data</code> method to the list of field data?</p>\n"}, {"tags": ["python", "sockets"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9231629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529e294c189cc4a3346accae9fccf932?s=128&d=identicon&r=PG&f=1", "display_name": "ceejay", "link": "https://stackoverflow.com/users/9231629/ceejay"}, "edited": false, "score": 0, "creation_date": 1516224330, "post_id": 48309714, "comment_id": 83606235, "body": "thanks, your answer made me aware of where I went wrong. I found this <a href=\"https://docs.python.org/2/howto/sockets.html\" rel=\"nofollow noreferrer\">docs.python.org/2/howto/sockets.html</a> for more information on the problem for anybody who sees this and has the same problem"}], "tags": [], "owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "is_accepted": true, "score": 2, "last_activity_date": 1516223912, "last_edit_date": 1516223912, "creation_date": 1516221972, "answer_id": 48309714, "question_id": 48309432, "link": "https://stackoverflow.com/questions/48309432/python-socket-file-transfer-verified-with-sha256-not-working-but-only-sometimes/48309714#48309714", "title": "python socket file transfer verified with sha256 not working, but only sometimes?", "body": "<p>First of all: this is unrelated to sha.</p>\n\n<p>Streaming over the network is unpredictable. This line</p>\n\n<pre><code>rawdata = self.sock.recv(BUFFER_SIZE)\n</code></pre>\n\n<p><strong>doesn't guarantee</strong> that you read <code>BUFFER_SIZE</code> bytes. You may have read only 1 byte in the worst case scenario. Therefore your server side is completely broken because of the assumption that rawdata contains whole message. It is even worse. If the client sends command and hash fast you may get e.g. <code>rawdata == 'DONEa2daf78c44(...)</code> which is a mixed output.</p>\n\n<p>The \"hanging\" part just follows from that. Trace your code and see what happens when the server receives partial/broken messages ( I already did that in my imagination :P ).</p>\n\n<hr>\n\n<p>Streaming over the network is almost never as easy as calling <code>sock.send</code> on one side and <code>sock.recv</code> on the other side. You need some buffering/framing protocol. For example you can implement this simple protocol: always interpret first two bytes as the size of incoming message, like this:</p>\n\n<p><strong>client</strong> (pseudocode)</p>\n\n<pre><code># convert len of msg into two-byte array\n# I am assuming the max size of msg is 65536\nbuf = bytearray([len(msg) &amp; 255, len(msg) &gt;&gt; 8])\nsock.sendall(buf)\nsock.sendall(msg)\n</code></pre>\n\n<p><strong>server</strong> (pseudocode)</p>\n\n<pre><code>size = to_int(sock.recv(1))\nsize += to_int(sock.recv(1)) &lt;&lt; 8\n# You need two calls to recv since recv(2) can return 1 byte.\n# (well, you can try recv(2) with `if` here to avoid additional\n#     syscall, not sure if worth it)\nbuffer = bytearray()\nwhile size &gt; 0:\n    tmp = sock.recv(size)\n    buffer += tmp\n    size -= len(tmp)\n</code></pre>\n\n<p>Now you have properly read data in <code>buffer</code> variable which you can work with.</p>\n\n<p><strong>WARNING:</strong> the pseudocode for the server is simplified. For example you need to check for empty <code>recv()</code> result everywhere (including where size is calculated). This is the case when the client disconnects.</p>\n\n<p>So unfortunately there's a lot of work in front of you. You have to rewrite whole sending and receving code.</p>\n"}], "owner": {"reputation": 13, "user_id": 9231629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/529e294c189cc4a3346accae9fccf932?s=128&d=identicon&r=PG&f=1", "display_name": "ceejay", "link": "https://stackoverflow.com/users/9231629/ceejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 48309714, "answer_count": 1, "score": 1, "last_activity_date": 1516223912, "creation_date": 1516220736, "last_edit_date": 1516223333, "question_id": 48309432, "link": "https://stackoverflow.com/questions/48309432/python-socket-file-transfer-verified-with-sha256-not-working-but-only-sometimes", "title": "python socket file transfer verified with sha256 not working, but only sometimes?", "body": "<p>Client side:</p>\n\n<pre><code>def send_file_to_hashed(data, tcpsock):\ntime.sleep(1)\nf = data\nflag = 0\ni=0\ntcpsock.send(hashlib.sha256(f.read()).hexdigest())\nf.seek(0)\ntime.sleep(1)\nl = f.read(BUFFER_SIZE-64)\nwhile True:\n    while (l):\n        tcpsock.send(hashlib.sha256(l).hexdigest() + l)\n        time.sleep(1)\n        hashok = tcpsock.recv(6) \n        if  hashok == \"HASHOK\":\n            l = f.read(BUFFER_SIZE-64)\n            flag = 1\n        if hashok == \"BROKEN\":\n            flag = 0\n    if not l:\n        time.sleep(1)\n        tcpsock.send(\"DONE\")\n        break\nreturn (tcpsock,flag)\n\ndef upload(filename):\nflag = 0\nwhile(flag == 0):\n    with open(os.getcwd()+'\\\\data\\\\'+ filename +'.csv', 'rU') as UL:\n        tuplol = send_file_to_hashed(UL ,send_to_sock(filename +\".csv\",send_to(\"upload\",TCP_IP,TCP_PORT)))\n        (sock,flagn) = tuplol\n        flag = flagn\n        time.sleep(2)\n        sock.close()\n</code></pre>\n\n<p>Server Side:</p>\n\n<pre><code>   elif(message == \"upload\"):\n        message = rec_OK(self.sock)\n        fis = os.getcwd()+'/data/'+ time.strftime(\"%H:%M_%d_%m_%Y\") + \"_\" + message\n        f = open(fis , 'w')\n        latest = open(os.getcwd()+'/data/' + message , 'w')\n        time.sleep(1)\n        filehash = rec_OK(self.sock)\n        print(\"filehash:\" + filehash)\n        while True:\n            time.sleep(1)\n            rawdata = self.sock.recv(BUFFER_SIZE)\n            log.write(\"rawdata :\" + rawdata + \"\\n\")\n            data = rawdata[64:]\n            dhash = rawdata[:64]\n            log.write(\"chash: \" + dhash + \"\\n\")\n            log.write(\"shash: \" + hashlib.sha256(data).hexdigest() + \"\\n\")\n            if dhash == hashlib.sha256(data).hexdigest():\n                f.write(data)\n                latest.write(data)\n                self.sock.send(\"HASHOK\")\n                log.write(\"HASHOK\\n\" )\n                print\"HASHOK\"\n            else:\n                self.sock.send(\"HASHNO\")\n                print \"HASHNO\"\n                log.write(\"HASHNO\\n\")\n            if rawdata == \"DONE\":\n                f.close()\n                f = open(fis , 'r')\n\n                if (hashlib.sha256(f.read()).hexdigest() == filehash): \n                    print \"ULDONE\"\n                    log.write(\"ULDONE\")\n                    f.close()\n                    latest.close()\n                    break\n                else:\n                    self.sock.send(\"BROKEN\")\n                    print hashlib.sha256(f.read()).hexdigest()\n                    log.write(\"BROKEN\")\n                    print filehash\n                    print \"BROKEN UL\"\n        f.close()\n</code></pre>\n\n<p>So the data upload is working fine in all tests that i ran from my computer, even worked fine while uploading data over my mobile connection and still sometimes people say it takes a long time and they kill it after a few minutes. the data is there on their computers but not on the server. I don't know what is happening please help!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 4, "creation_date": 1516220623, "post_id": 48309395, "comment_id": 83604403, "body": "lts a dupe, look into value_counts()"}, {"owner": {"reputation": 135, "user_id": 9185547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3c4a0e7e807e2b64b78a83e3fa9411f?s=128&d=identicon&r=PG&f=1", "display_name": "batmanforever", "link": "https://stackoverflow.com/users/9185547/batmanforever"}, "reply_to_user": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516221998, "post_id": 48309395, "comment_id": 83605087, "body": "Ok I have  pd.value_counts(df[&#39;colours&#39;].values, sort=True)  But there are more than one records. I want to see the only one record from this code.   How can I do this?"}, {"owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "edited": false, "score": 0, "creation_date": 1516222433, "post_id": 48309395, "comment_id": 83605320, "body": "df[&#39;colours&#39;].value_counts()[0] will do. Default is sort = True so that parameter is not needed"}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 9185547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3c4a0e7e807e2b64b78a83e3fa9411f?s=128&d=identicon&r=PG&f=1", "display_name": "batmanforever", "link": "https://stackoverflow.com/users/9185547/batmanforever"}, "is_accepted": false, "score": 1, "last_activity_date": 1570818026, "last_edit_date": 1570818026, "creation_date": 1516222314, "answer_id": 48309796, "question_id": 48309395, "link": "https://stackoverflow.com/questions/48309395/pandas-data-frame-select-most-common-value-from-all-rows/48309796#48309796", "title": "pandas data frame, select most common value from all rows", "body": "<p>Ok I found the solution </p>\n\n<pre><code>pd.value_counts(df['colours'].values, sort=True).head(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 9207908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/147d455fcca939bb1647c4a7edb269c1?s=128&d=identicon&r=PG&f=1", "display_name": "MissBleu", "link": "https://stackoverflow.com/users/9207908/missbleu"}, "is_accepted": false, "score": 0, "last_activity_date": 1516235301, "last_edit_date": 1516235301, "creation_date": 1516222450, "answer_id": 48309829, "question_id": 48309395, "link": "https://stackoverflow.com/questions/48309395/pandas-data-frame-select-most-common-value-from-all-rows/48309829#48309829", "title": "pandas data frame, select most common value from all rows", "body": "<p>you could try something like</p>\n\n<pre><code>import pandas as pd\ncolordf = { 'colors' : ['Green', 'Yellow', 'Blue', 'Orange', 'Green',\n          'Yellow', 'Blue', 'Orange', 'Green', 'Yellow'],\n            'numbers' : [1,2,3,4,5,6,7,8,9,8]}\ndf = pd.DataFrame.from_dict(colordf)\ndf['colors'].value_counts().head(1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1516222878, "creation_date": 1516222878, "answer_id": 48309911, "question_id": 48309395, "link": "https://stackoverflow.com/questions/48309395/pandas-data-frame-select-most-common-value-from-all-rows/48309911#48309911", "title": "pandas data frame, select most common value from all rows", "body": "<p>You are looking for <code>mode</code> , data from MissBleu</p>\n\n<pre><code>df.colors.mode()\nOut[36]: \n0     Green\n1    Yellow\ndtype: object\n</code></pre>\n\n<p>The reason why you have two rather than one : Both of them have frequency 4 </p>\n"}], "owner": {"reputation": 135, "user_id": 9185547, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f3c4a0e7e807e2b64b78a83e3fa9411f?s=128&d=identicon&r=PG&f=1", "display_name": "batmanforever", "link": "https://stackoverflow.com/users/9185547/batmanforever"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1917, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1570818026, "creation_date": 1516220587, "last_edit_date": 1516221507, "question_id": 48309395, "link": "https://stackoverflow.com/questions/48309395/pandas-data-frame-select-most-common-value-from-all-rows", "title": "pandas data frame, select most common value from all rows", "body": "<p>I have a data frame and I'd like to take from one Col1 the one most frequent colour. There are a few types of colours: Green, Yellow, Blue, Black.</p>\n\n<p>Col1 has a lot of data. Random colours. For example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JG1Ro.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JG1Ro.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any idea? </p>\n"}, {"tags": ["python", "list", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 9177722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056f92807990c2bfb0b1c44d22007d1?s=128&d=identicon&r=PG&f=1", "display_name": "carmo", "link": "https://stackoverflow.com/users/9177722/carmo"}, "edited": false, "score": 0, "creation_date": 1516220998, "post_id": 48309396, "comment_id": 83604579, "body": "Thanks, do you also know of a way to search just one key, for example, if I want to search for &#39;a&#39; by only looking through key 0?"}, {"owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "reply_to_user": {"reputation": 37, "user_id": 9177722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056f92807990c2bfb0b1c44d22007d1?s=128&d=identicon&r=PG&f=1", "display_name": "carmo", "link": "https://stackoverflow.com/users/9177722/carmo"}, "edited": false, "score": 1, "creation_date": 1516221046, "post_id": 48309396, "comment_id": 83604608, "body": "@carmo: That&#39;s just <code>&#39;a&#39; in myDict[0]</code>."}], "tags": [], "owner": {"reputation": 54837, "user_id": 2390182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KKx5r.png?s=128&g=1", "display_name": "schwobaseggl", "link": "https://stackoverflow.com/users/2390182/schwobaseggl"}, "is_accepted": false, "score": 8, "last_activity_date": 1516221058, "last_edit_date": 1516221058, "creation_date": 1516220590, "answer_id": 48309396, "question_id": 48309380, "link": "https://stackoverflow.com/questions/48309380/how-to-check-a-dictionary-where-values-are-lists-for-an-element-of-that-list/48309396#48309396", "title": "How to check a dictionary where values are lists for an element of that list?", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/functions.html#any\" rel=\"nofollow noreferrer\"><code>any</code></a>:</p>\n\n<pre><code>any('a' in lst for lst in myDict.values())\n</code></pre>\n\n<p>This will stop the iteration and evaluate to <code>True</code> on the first find. <code>any</code> is the built-in short-cut for the following pattern:</p>\n\n<pre><code>for x in y:\n    if condition:\n        return True\nreturn False\n# return any(condition for x in y)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 2, "last_activity_date": 1516220817, "creation_date": 1516220817, "answer_id": 48309453, "question_id": 48309380, "link": "https://stackoverflow.com/questions/48309380/how-to-check-a-dictionary-where-values-are-lists-for-an-element-of-that-list/48309453#48309453", "title": "How to check a dictionary where values are lists for an element of that list?", "body": "<p>It always strikes me as strange when someone wants to scan the values of a dictionary. It's highly unefficient if done many times.</p>\n\n<p>Instead, I'd build another dictionary, or a <code>set</code> for quick check:</p>\n\n<pre><code>myDict = { 0 : ['a','b','c'],\n           1 : ['d','e','f']}\n\nrset = {x for v in myDict.values() for x in v}\n\nprint(rset)\n</code></pre>\n\n<p>gives:</p>\n\n<pre><code>{'b', 'e', 'c', 'd', 'a', 'f'}\n</code></pre>\n\n<p>now:</p>\n\n<pre><code>'a' in rset\n</code></pre>\n\n<p>is super fast and concise. Build as many sets &amp; dictionaries as you need on your original data set to get a fast lookup.</p>\n"}, {"tags": [], "owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "is_accepted": true, "score": 1, "last_activity_date": 1516221230, "last_edit_date": 1516221230, "creation_date": 1516220916, "answer_id": 48309472, "question_id": 48309380, "link": "https://stackoverflow.com/questions/48309380/how-to-check-a-dictionary-where-values-are-lists-for-an-element-of-that-list/48309472#48309472", "title": "How to check a dictionary where values are lists for an element of that list?", "body": "<h1>Check all values</h1>\n\n<p>We can use <a href=\"https://docs.python.org/3.7/library/itertools.html#itertools.chain\" rel=\"nofollow noreferrer\"><strong><code>itertools.chain</code></strong></a> and use it in a rather self-explaining <em>one liner</em>:</p>\n\n<pre><code>from itertools import chain\n\nif 'a' in chain.from_iterable(myDict.values()):\n    # do something\n    pass\n</code></pre>\n\n<p>Here we will chain the <code>.values()</code> of a list together in an iterable, and thus check membership of <code>'a'</code>.</p>\n\n<p>Note that this runs in <em>linear</em> time with the total number of values in the lists. In case you have to perform the membership check a single time, we can not do much about it, but in case we have to check it multiple times, it is better to cache the values in a set (given the values are hashable).</p>\n\n<h1>Check a specific key</h1>\n\n<p>In case you want to check a specific key, we can just lookup the corresponding value and check membership:</p>\n\n<pre><code>if 'a' in myDict[0]:\n    # do something\n    pass\n</code></pre>\n\n<p>In case it is not certain if the key is present in <code>myDict</code>, and we want to return <code>False</code> in that case, we can use <code>.get(..)</code> and use <code>()</code> (the empty tuple) as a fallback value:</p>\n\n<pre><code># will not error, but False in case key does not exists\nif 'a' in myDict.get(0, ()):\n    # do something\n    pass\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 9177722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d056f92807990c2bfb0b1c44d22007d1?s=128&d=identicon&r=PG&f=1", "display_name": "carmo", "link": "https://stackoverflow.com/users/9177722/carmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 48309472, "answer_count": 3, "score": 0, "last_activity_date": 1516224582, "creation_date": 1516220515, "last_edit_date": 1516224582, "question_id": 48309380, "link": "https://stackoverflow.com/questions/48309380/how-to-check-a-dictionary-where-values-are-lists-for-an-element-of-that-list", "title": "How to check a dictionary where values are lists for an element of that list?", "body": "<p>If I have a dictionary where each value is a list, how can I check if there is a specific element in my list? For example:</p>\n\n<pre><code>myDict = { 0 : ['a','b','c'],\n           1 : ['d','e','f']}\n</code></pre>\n\n<p>How can I check if <code>'a'</code> exists?</p>\n"}, {"tags": ["python", "ppl", "polyhedra", "diophantine"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516220676, "post_id": 48309363, "comment_id": 83604425, "body": "I <i>think</i> that the C++ BOOST <code>polygon</code> library has such a function in it."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 1, "creation_date": 1516221135, "post_id": 48309363, "comment_id": 83604654, "body": "<a href=\"https://scicomp.stackexchange.com/\">scicomp.stackexchange.com</a> or <a href=\"https://softwarerecs.stackexchange.com/\">softwarerecs.stackexchange.com</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 4194, "user_id": 387778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2e50475f3273d6676c39d0d2fb5fe3e?s=128&d=identicon&r=PG", "display_name": "Joseph O&#39;Rourke", "link": "https://stackoverflow.com/users/387778/joseph-orourke"}, "is_accepted": false, "score": 1, "last_activity_date": 1516322679, "creation_date": 1516322679, "answer_id": 48332537, "question_id": 48309363, "link": "https://stackoverflow.com/questions/48309363/how-to-find-integer-points-coordinates-inside-a-polytope-polyhedra/48332537#48332537", "title": "How to find integer points (coordinates) inside a polytope/polyhedra?", "body": "<p>There is a nice answer in Mathematica <a href=\"https://mathematica.stackexchange.com/a/16105/194\">here</a>:</p>\n\n<blockquote>\n  <p>points = {x, y} /.   List@ToRules@    Reduce[x >= 4 y &amp;&amp; x &lt;= 4 y + 3\n  &amp;&amp; 0 &lt; x &lt; 63 &amp;&amp; 0 &lt; y &lt; 15, {x, y}, Integers]</p>\n</blockquote>\n\n<p><hr />\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \n<a href=\"https://i.stack.imgur.com/vp7xv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vp7xv.jpg\" alt=\"LatticePlot\"></a></p>\n\n<hr />\n"}], "owner": {"reputation": 167, "user_id": 6826641, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-kd_6NOAVxmE/AAAAAAAAAAI/AAAAAAAAAQQ/2qkRoHYRk34/photo.jpg?sz=128", "display_name": "Vin&#237;cius Godim", "link": "https://stackoverflow.com/users/6826641/vin%c3%adcius-godim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1522017658, "creation_date": 1516220460, "last_edit_date": 1522017658, "question_id": 48309363, "link": "https://stackoverflow.com/questions/48309363/how-to-find-integer-points-coordinates-inside-a-polytope-polyhedra", "title": "How to find integer points (coordinates) inside a polytope/polyhedra?", "body": "<p>I am using Python but I wouldn't mind changing language. All I have gotten from my research are tools to <em>count</em> the number of (lattice) points inside a region given the equations for the planes that enclose it. Other tools are made to optimize a given function inside the polytope (linear programming).</p>\n\n<p>How about finding the lattice points alone? For example, a function of the kind</p>\n\n<pre><code>latticePoints( 'x &lt; 5 &amp; x &gt; 0' ) = [ 1, 2, 3, 4]\n</code></pre>\n\n<p>Plus I am looking for something to work in the multivariate scenario (constrains on x, y, z, ...).</p>\n\n<p>I am currently trying to solve this using <a href=\"https://pypi.python.org/pypi/pplpy/0.7\" rel=\"nofollow noreferrer\">ppl</a>.</p>\n"}, {"tags": ["python", "python-3.x", "pycharm"], "answers": [{"comments": [{"owner": {"reputation": 1494, "user_id": 7926479, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-h0cTmvESd2U/AAAAAAAAAAI/AAAAAAAAAG0/AgASXHA7WdQ/photo.jpg?sz=128", "display_name": "Andres Urrego Angel", "link": "https://stackoverflow.com/users/7926479/andres-urrego-angel"}, "edited": false, "score": 0, "creation_date": 1516221583, "post_id": 48309595, "comment_id": 83604861, "body": "what means *_ ?"}, {"owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "reply_to_user": {"reputation": 1494, "user_id": 7926479, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-h0cTmvESd2U/AAAAAAAAAAI/AAAAAAAAAG0/AgASXHA7WdQ/photo.jpg?sz=128", "display_name": "Andres Urrego Angel", "link": "https://stackoverflow.com/users/7926479/andres-urrego-angel"}, "edited": false, "score": 0, "creation_date": 1516221717, "post_id": 48309595, "comment_id": 83604942, "body": "I&#39;ve renamed it to <code>*rest</code>. It binds to the other items in the list resulting from splitting the string. <code>year</code> binds to the first item in that list."}], "tags": [], "owner": {"reputation": 27093, "user_id": 5189811, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FzPWr.png?s=128&g=1", "display_name": "Oluwafemi Sule", "link": "https://stackoverflow.com/users/5189811/oluwafemi-sule"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221640, "last_edit_date": 1516221640, "creation_date": 1516221425, "answer_id": 48309595, "question_id": 48309356, "link": "https://stackoverflow.com/questions/48309356/get-a-row-counts-from-a-file-based-in-a-list-field-python-3/48309595#48309595", "title": "Get a row counts from a file based in a list field python 3", "body": "<p>A couple of things you want to change in your code.</p>\n\n<p>Use context managers where necessary. You can implicitly manage file closing with it whether or not an exception occurs.</p>\n\n<p>You can also use <code>defaultdict</code> in the <code>collections</code> library. It helps to set a default factory for setting the initial value of any key accessed in the dictionary for the first time. In this case, we use the <code>int</code> builtin function to set the default value as <code>0</code>.</p>\n\n<pre><code>from collections import defaultdict\n\nyear_count = defaultdict(int)\n\nwith open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\ssa-pop3-eng.csv\",\"r\") as file:    \n    for line in file:\n        year, *rest = line.split(',')\n        year = year.strip()  # clean year\n        year_count[year] += 1\n\nfor year, count in year_count.items():\n    print(year, count)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 898, "user_id": 1786967, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bdb37f71889f136513c7b42f9805666f?s=128&d=identicon&r=PG", "display_name": "timmur", "link": "https://stackoverflow.com/users/1786967/timmur"}, "edited": false, "score": 0, "creation_date": 1516221855, "post_id": 48309625, "comment_id": 83605018, "body": "you are opening and closing file len(years_unique) times. This is not necessary and can be done in one go as @Oluwafemi shows."}, {"owner": {"reputation": 1494, "user_id": 7926479, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-h0cTmvESd2U/AAAAAAAAAAI/AAAAAAAAAG0/AgASXHA7WdQ/photo.jpg?sz=128", "display_name": "Andres Urrego Angel", "link": "https://stackoverflow.com/users/7926479/andres-urrego-angel"}, "reply_to_user": {"reputation": 898, "user_id": 1786967, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/bdb37f71889f136513c7b42f9805666f?s=128&d=identicon&r=PG", "display_name": "timmur", "link": "https://stackoverflow.com/users/1786967/timmur"}, "edited": false, "score": 0, "creation_date": 1516222145, "post_id": 48309625, "comment_id": 83605150, "body": "I know mine is more expensive, I&#39;m trying to understand @Oluwafemi approach. thanks guys."}], "tags": [], "owner": {"reputation": 1494, "user_id": 7926479, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-h0cTmvESd2U/AAAAAAAAAAI/AAAAAAAAAG0/AgASXHA7WdQ/photo.jpg?sz=128", "display_name": "Andres Urrego Angel", "link": "https://stackoverflow.com/users/7926479/andres-urrego-angel"}, "is_accepted": false, "score": 0, "last_activity_date": 1516221542, "creation_date": 1516221542, "answer_id": 48309625, "question_id": 48309356, "link": "https://stackoverflow.com/questions/48309356/get-a-row-counts-from-a-file-based-in-a-list-field-python-3/48309625#48309625", "title": "Get a row counts from a file based in a list field python 3", "body": "<p>I figure it out in this way!</p>\n\n<pre><code>input_f = open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\ssa-pop3-eng.csv\",\"r\")\noutput_f = open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\output.txt\",\"w\")\n\nnext(input_f)\n\n\nyears_unique = []\n\n\nfor line in input_f:\n    item = line.split(',')\n    year_f = item[0][:4]\n\n    if (year_f not in years_unique):\n        years_unique.append(year_f)\n\n\ninput_f.close()\n\n\n\nfor year in years_unique:\n    counter_rows =0\n    input_f = open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\ssa-pop3-eng.csv\",\"r\")      \n    next(input_f)   \n    for line in input_f:\n        item = line.split(',')\n        year_f = item[0][:4]\n        if (year_f in year):\n            counter_rows += 1\n    input_f.close()            \n    print(year,counter_rows)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 4394577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SkCzL.jpg?s=128&g=1", "display_name": "OMar Mohamed", "link": "https://stackoverflow.com/users/4394577/omar-mohamed"}, "is_accepted": false, "score": 1, "last_activity_date": 1516222995, "last_edit_date": 1516222995, "creation_date": 1516222613, "answer_id": 48309859, "question_id": 48309356, "link": "https://stackoverflow.com/questions/48309356/get-a-row-counts-from-a-file-based-in-a-list-field-python-3/48309859#48309859", "title": "Get a row counts from a file based in a list field python 3", "body": "<p>The problem in the second loop specifically in the inner loop which runs only once; you can iterate over a file object only once (unless you <code>seek</code> to the beginning of the file on each iteration).</p>\n\n<pre><code>for year in years_unique:\n            for line in input_f:\n                item = line.split(',')\n                year_f = item[0][:4]\n                if (year == year_f):\n                    counter_rows +=1\n</code></pre>\n\n<p>The '2012' is the first item in <code>years_unique</code> list, so the inner loop will run and every occurrence in the file will cause the <code>counter_rows</code> to increase by 1, but on next iterations, the <code>input_f</code> is already exhausted, so to speak, and no other increments occur.</p>\n\n<p>Also, notice that you didn't reset <code>counter_rows</code> on each iteration.</p>\n\n<p>An easier approach is to use a <code>dict</code> in one loop, here's an example:</p>\n\n<pre><code>input_f = open(\"YOUR_FILE\")\nnext(input_f)\n\nyears = {}\n\nfor line in input_f:\n    items = line.split(\",\")\n    year = items[0][:4]\n    years.setdefault(year, 0)\n    years[year] += 1\n\ninput_f.close()\nprint(years)\n</code></pre>\n"}], "owner": {"reputation": 1494, "user_id": 7926479, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-h0cTmvESd2U/AAAAAAAAAAI/AAAAAAAAAG0/AgASXHA7WdQ/photo.jpg?sz=128", "display_name": "Andres Urrego Angel", "link": "https://stackoverflow.com/users/7926479/andres-urrego-angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1516222995, "creation_date": 1516220434, "question_id": 48309356, "link": "https://stackoverflow.com/questions/48309356/get-a-row-counts-from-a-file-based-in-a-list-field-python-3", "title": "Get a row counts from a file based in a list field python 3", "body": "<p>I have a file read in my code, then I got a year field from the source in a list and now I need go throughout the file by every year to find out how many rows I have per year.</p>\n\n<p>I did the exercise in Excel and I'm expecting the output below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/X5zYM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X5zYM.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code:</p>\n\n<pre><code>input_f = open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\ssa-pop3-eng.csv\",\"r\")\nnext(input_f)\n\n\nyears_unique = []\ncontroler = False\n\nwhile(controler != True):\n        counter_rows = 0\n        #Get a list with the read years\n        for line in input_f:\n            item = line.split(',')\n            year_f = item[0][:4]\n            if (year_f not in years_unique):\n                years_unique.append(year_f)\n\n\n        input_f.close()\n\n        input_f = open(\"C:\\\\Users\\\\P928260\\\\Downloads\\\\ssa-pop3-eng.csv\",\"r\")\n        next(input_f)\n\n\n        for year in years_unique:\n            for line in input_f:\n                item = line.split(',')\n                year_f = item[0][:4]\n                if (year == year_f):\n                    counter_rows +=1\n\n            print(year,counter_rows)\n\n\n    controler = True\n</code></pre>\n\n<p>My current output is only printing the same row account that is right for 2012 but is not including the other years. I know I'm close. I appreciate your help guys.</p>\n\n<p><a href=\"https://i.stack.imgur.com/tCwlC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tCwlC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "neural-network", "deep-learning"], "answers": [{"comments": [{"owner": {"reputation": 41121, "user_id": 2956066, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/Bqbcr.png?s=128&g=1", "display_name": "kmario23", "link": "https://stackoverflow.com/users/2956066/kmario23"}, "edited": false, "score": 2, "creation_date": 1516299080, "post_id": 48309577, "comment_id": 83640962, "body": "If you want to do it in a straightforward way: <a href=\"https://www.tensorflow.org/api_docs/python/tf/losses/mean_squared_error\" rel=\"nofollow noreferrer\">tensorflow.org/api_docs/python/tf/losses/mean_squared_error</a>"}], "tags": [], "owner": {"reputation": 47598, "user_id": 712995, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c7ImO.png?s=128&g=1", "display_name": "Maxim", "link": "https://stackoverflow.com/users/712995/maxim"}, "is_accepted": true, "score": 3, "last_activity_date": 1516221335, "creation_date": 1516221335, "answer_id": 48309577, "question_id": 48309346, "link": "https://stackoverflow.com/questions/48309346/learn-the-sum-of-two-numbers-in-tensorflow/48309577#48309577", "title": "Learn the sum of two numbers in Tensorflow", "body": "<p>Cross-entropy loss is used for <em>classification</em> problems, while your task is clearly a <em>regression</em>. The computed <code>cross_entropy</code> value doesn't make sense, hence the result.</p>\n\n<p>Change your loss to: </p>\n\n<pre><code>cross_entropy = tf.reduce_mean(\n    tf.nn.l2_loss(y_ - y2)\n)\n</code></pre>\n\n<p>... and you'll see much more sensible results.</p>\n"}, {"tags": [], "owner": {"reputation": 1225, "user_id": 9231518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28dcfaab991e38274adf3652d750a87b?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/9231518/user9123"}, "is_accepted": false, "score": 0, "last_activity_date": 1516221961, "creation_date": 1516221961, "answer_id": 48309712, "question_id": 48309346, "link": "https://stackoverflow.com/questions/48309346/learn-the-sum-of-two-numbers-in-tensorflow/48309712#48309712", "title": "Learn the sum of two numbers in Tensorflow", "body": "<p>Maxim, thanks a lot. Now it's work.</p>\n\n<pre><code>import numpy as np\nimport tensorflow as tf\n\n\ninput_size = 2\nhidden_size = 3\nout_size = 1\n\n\ndef generate_test_data():\n    inp = 0.5*np.random.rand(10, 2)\n    oup = np.zeros((10, 1))\n    for idx, val in enumerate(inp):\n        oup[idx] = np.array([val[0] + val[1]])\n    return inp, oup\n\n\ndef create_network():\n    x = tf.placeholder(tf.float32, [None, input_size])\n\n    w01 = tf.Variable(tf.truncated_normal([input_size, hidden_size], stddev=0.1))\n    y1 = tf.matmul(x, w01)\n\n    w12 = tf.Variable(tf.truncated_normal([hidden_size, out_size], stddev=0.1))\n    y2 = tf.matmul(y1, w12)\n\n    y_ = tf.placeholder(tf.float32, [None, out_size])\n    return x, y_, y2\n\n\ndef train(x, y_, y2):\n    cross_entropy = tf.reduce_mean(\n        tf.nn.l2_loss(y_ - y2)\n    )\n    train_step = tf.train.GradientDescentOptimizer(0.5).minimize(cross_entropy)\n\n    sess = tf.InteractiveSession()\n    tf.global_variables_initializer().run()\n\n    # Train\n    for i in range(100000):\n        batch_xs, batch_ys = generate_test_data()\n        sess.run(train_step, feed_dict={x: batch_xs, y_: batch_ys})\n\n        # Test\n        if i % 2000 == 0:\n            out_batch = sess.run(y2, {x: batch_xs})\n            inx = 0\n            print(batch_xs[inx][0], \" + \", batch_xs[inx][1], \" = \", out_batch[inx][0], \"|\", batch_xs[inx][0] + batch_xs[inx][1])\n\n\n(x, y_, y2) = create_network()\ntrain(x, y_, y2)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 3414168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ftXJF.png?s=128&g=1", "display_name": "pieryrappy", "link": "https://stackoverflow.com/users/3414168/pieryrappy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516338456, "creation_date": 1516338456, "answer_id": 48334420, "question_id": 48309346, "link": "https://stackoverflow.com/questions/48309346/learn-the-sum-of-two-numbers-in-tensorflow/48334420#48334420", "title": "Learn the sum of two numbers in Tensorflow", "body": "<p>If you consider predicting each digit to be a classification problem where you predict a value in \"0123456789 \", you can use cross-entropy as your loss. For reference, see the <a href=\"https://github.com/keras-team/keras/blob/master/examples/addition_rnn.py\" rel=\"nofollow noreferrer\">Keras - Addition RNN Example</a>.</p>\n\n<p>But like Maxim said, it shouldn't be used for a regression problem. </p>\n"}], "owner": {"reputation": 1225, "user_id": 9231518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28dcfaab991e38274adf3652d750a87b?s=128&d=identicon&r=PG&f=1", "display_name": "User9123", "link": "https://stackoverflow.com/users/9231518/user9123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 807, "favorite_count": 0, "accepted_answer_id": 48309577, "answer_count": 3, "score": 1, "last_activity_date": 1516338456, "creation_date": 1516220410, "last_edit_date": 1516244839, "question_id": 48309346, "link": "https://stackoverflow.com/questions/48309346/learn-the-sum-of-two-numbers-in-tensorflow", "title": "Learn the sum of two numbers in Tensorflow", "body": "<p>I'm trying to train a neural network to predict the sum of two numbers. But I don't understand what's wrong with my model. Model consists of 2 inputs, 2 hidden and 1 output layers. Every 1000 iteration I print test execution, but the result is getting smaller and smaller.</p>\n\n<pre><code>import numpy as np\nimport tensorflow as tf\n\n\ninput_size = 2\nhidden_size = 3\nout_size = 1\n\n\ndef generate_test_data():\n    inp = 0.5*np.random.rand(10, 2)\n    oup = np.zeros((10, 1))\n    for idx, val in enumerate(inp):\n        oup[idx] = np.array([val[0] + val[1]])\n    return inp, oup\n\n\ndef create_network():\n    x = tf.placeholder(tf.float32, [None, input_size])\n\n    w01 = tf.Variable(tf.truncated_normal([input_size, hidden_size], stddev=0.1))\n    y1 = tf.sigmoid(tf.matmul(tf.sigmoid(x), w01))\n\n    w12 = tf.Variable(tf.truncated_normal([hidden_size, out_size], stddev=0.1))\n    y2 = tf.sigmoid(tf.matmul(y1, w12))\n\n    y_ = tf.placeholder(tf.float32, [None, out_size])\n    return x, y_, y2\n\n\ndef train(x, y_, y2):\n    cross_entropy = tf.reduce_mean(\n        tf.nn.softmax_cross_entropy_with_logits(labels=y_, logits=y2)\n    )\n    train_step = tf.train.GradientDescentOptimizer(0.5).minimize(cross_entropy)\n\n    sess = tf.InteractiveSession()\n    tf.global_variables_initializer().run()\n\n    # Train\n    for i in range(100000):\n        batch_xs, batch_ys = generate_test_data()\n        sess.run(train_step, feed_dict={x: batch_xs, y_: batch_ys})\n\n        # Test\n        if i % 1000 == 0:\n            out_batch = sess.run(y2, {x: batch_xs})\n            inx = 0\n            print(batch_xs[inx][0], \" + \", batch_xs[inx][1], \" = \", out_batch[inx][0])\n\n\n\n(x, y_, y2) = create_network()\ntrain(x, y_, y2)\n</code></pre>\n\n<p>Output every 1000 iteration:</p>\n\n<pre><code>0.37301352864927173  + 0.28949461772342683  = 0.49111518\n0.050899466843458474 + 0.006174158992116541 = 0.0025260744\n0.3974852369427063   + 0.22402098418952499  = 0.00090828544\n0.15735921047969498  + 0.39645077887600294  = 0.0005903727\n0.23560825884336228  + 0.29010766384718145  = 0.0004317883\n0.4250063393420791   + 0.24181166029062096  = 0.00031525563\n                                            = smaller and smaller\n</code></pre>\n"}, {"tags": ["python", "machine-learning", "neural-network", "keras", "deep-learning"], "answers": [{"comments": [{"owner": {"reputation": 2419, "user_id": 5171213, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0aaed7bfc17efce0ded2b6f35fb32fea?s=128&d=identicon&r=PG&f=1", "display_name": "StatsSorceress", "link": "https://stackoverflow.com/users/5171213/statssorceress"}, "edited": false, "score": 0, "creation_date": 1516227850, "post_id": 48310249, "comment_id": 83607769, "body": "...ugh. Okay, so, I guess Multiply() is a wrapper for multiply() or something. Thank you!"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 2419, "user_id": 5171213, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0aaed7bfc17efce0ded2b6f35fb32fea?s=128&d=identicon&r=PG&f=1", "display_name": "StatsSorceress", "link": "https://stackoverflow.com/users/5171213/statssorceress"}, "edited": false, "score": 0, "creation_date": 1562149131, "post_id": 48310249, "comment_id": 100284519, "body": "@StatsSorceress It&#39;s the other way around: <code>multiply()</code> is a wrapper for <code>Multiply()</code>."}], "tags": [], "owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "is_accepted": true, "score": 13, "last_activity_date": 1516224375, "creation_date": 1516224375, "answer_id": 48310249, "question_id": 48309322, "link": "https://stackoverflow.com/questions/48309322/keras-multiply-layer-in-functional-api/48310249#48310249", "title": "Keras Multiply() layer in functional API", "body": "<p>With <code>keras</code> > 2.0:</p>\n\n<pre><code>from keras.layers import multiply\noutput = multiply([dense_all, dense_att])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 34711, "user_id": 5974433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ojtxg.jpg?s=128&g=1", "display_name": "Marcin Mo\u017cejko", "link": "https://stackoverflow.com/users/5974433/marcin-mo%c5%bcejko"}, "edited": false, "score": 0, "creation_date": 1516224448, "post_id": 48310260, "comment_id": 83606278, "body": "Ha! Almost exactly on the same time :)"}], "tags": [], "owner": {"reputation": 49730, "user_id": 349130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e4efeebbf6994bb904738c4fb8922bf?s=128&d=identicon&r=PG", "display_name": "Dr. Snoopy", "link": "https://stackoverflow.com/users/349130/dr-snoopy"}, "is_accepted": false, "score": 5, "last_activity_date": 1516224405, "creation_date": 1516224405, "answer_id": 48310260, "question_id": 48309322, "link": "https://stackoverflow.com/questions/48309322/keras-multiply-layer-in-functional-api/48310260#48310260", "title": "Keras Multiply() layer in functional API", "body": "<p>Under the functional API, you just use the <code>multiply</code> function, note the lowercase \"m\". The Multiply class is a layer as you see, intended to be used with the sequential API.</p>\n\n<p>More information in <a href=\"https://keras.io/layers/merge/#multiply_1\" rel=\"noreferrer\">https://keras.io/layers/merge/#multiply_1</a></p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9915495, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-t17AMH_Xldo/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0cFBh43dJpDZD8wEZrGC_leQ7D4g/mo/photo.jpg?sz=128", "display_name": "shaival shah", "link": "https://stackoverflow.com/users/9915495/shaival-shah"}, "is_accepted": false, "score": 5, "last_activity_date": 1531510866, "creation_date": 1531510866, "answer_id": 51331862, "question_id": 48309322, "link": "https://stackoverflow.com/questions/48309322/keras-multiply-layer-in-functional-api/51331862#51331862", "title": "Keras Multiply() layer in functional API", "body": "<p>You need to add one more open close parenthesis at front.</p>\n\n<pre><code>from keras.layers import Multiply\natt_mull = Multiply()([dense_all, dense_att])\n</code></pre>\n"}], "owner": {"reputation": 2419, "user_id": 5171213, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/0aaed7bfc17efce0ded2b6f35fb32fea?s=128&d=identicon&r=PG&f=1", "display_name": "StatsSorceress", "link": "https://stackoverflow.com/users/5171213/statssorceress"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15911, "favorite_count": 0, "accepted_answer_id": 48310249, "answer_count": 3, "score": 7, "last_activity_date": 1609375732, "creation_date": 1516220301, "last_edit_date": 1526055287, "question_id": 48309322, "link": "https://stackoverflow.com/questions/48309322/keras-multiply-layer-in-functional-api", "title": "Keras Multiply() layer in functional API", "body": "<p>Under the new API changes, how do you do element-wise multiplication of layers in Keras? Under the old API, I would try something like this:</p>\n\n<pre><code>merge([dense_all, dense_att], output_shape=10, mode='mul')\n</code></pre>\n\n<p>I've tried this (MWE):</p>\n\n<pre><code>from keras.models import Model\nfrom keras.layers import Input, Dense, Multiply\n\ndef sample_model():\n        model_in = Input(shape=(10,))\n        dense_all = Dense(10,)(model_in)\n        dense_att = Dense(10, activation='softmax')(model_in)\n        att_mull = Multiply([dense_all, dense_att]) #merge([dense_all, dense_att], output_shape=10, mode='mul')\n        model_out = Dense(10, activation=\"sigmoid\")(att_mull)\n        return 0\n\nif __name__ == '__main__':\n        sample_model()\n</code></pre>\n\n<p>Full trace:</p>\n\n<pre><code>Using TensorFlow backend.\nTraceback (most recent call last):\n  File \"testJan17.py\", line 13, in &lt;module&gt;\n    sample_model()\n  File \"testJan17.py\", line 8, in sample_model\n    att_mull = Multiply([dense_all, dense_att]) #merge([dense_all, dense_att], output_shape=10, mode='mul')\nTypeError: __init__() takes exactly 1 argument (2 given)\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>I tried implementing tensorflow's elementwise multiply function. Of course, the result is not a <code>Layer()</code> instance, so it doesn't work. Here's the attempt, for posterity:</p>\n\n<pre><code>def new_multiply(inputs): #assume two only - bad practice, but for illustration...\n        return tf.multiply(inputs[0], inputs[1])\n\n\ndef sample_model():\n        model_in = Input(shape=(10,))\n        dense_all = Dense(10,)(model_in)\n        dense_att = Dense(10, activation='softmax')(model_in) #which interactions are important?\n        new_mult = new_multiply([dense_all, dense_att])\n        model_out = Dense(10, activation=\"sigmoid\")(new_mult)\n        model = Model(inputs=model_in, outputs=model_out)\n        model.compile(optimizer='adam', loss='categorical_crossentropy', metrics=['accuracy'])\n        return model\n</code></pre>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1569, "user_id": 2819689, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/07cce556c9a96b1ec9622df191fc651c?s=128&d=identicon&r=PG&f=1", "display_name": "MikiBelavista", "link": "https://stackoverflow.com/users/2819689/mikibelavista"}, "edited": false, "score": 0, "creation_date": 1516221263, "post_id": 48309447, "comment_id": 83604713, "body": "Works fine without $."}, {"owner": {"reputation": 116, "user_id": 8627444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqVXT.png?s=128&g=1", "display_name": "shrumm", "link": "https://stackoverflow.com/users/8627444/shrumm"}, "reply_to_user": {"reputation": 1569, "user_id": 2819689, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/07cce556c9a96b1ec9622df191fc651c?s=128&d=identicon&r=PG&f=1", "display_name": "MikiBelavista", "link": "https://stackoverflow.com/users/2819689/mikibelavista"}, "edited": false, "score": 0, "creation_date": 1516222233, "post_id": 48309447, "comment_id": 83605197, "body": "Glad it helped! I removed the &#39;$&#39; from the answer"}], "tags": [], "owner": {"reputation": 116, "user_id": 8627444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HqVXT.png?s=128&g=1", "display_name": "shrumm", "link": "https://stackoverflow.com/users/8627444/shrumm"}, "is_accepted": true, "score": 3, "last_activity_date": 1516222211, "last_edit_date": 1516222211, "creation_date": 1516220801, "answer_id": 48309447, "question_id": 48309310, "link": "https://stackoverflow.com/questions/48309310/how-to-format-my-pandas-dataframe-output/48309447#48309447", "title": "How to format my pandas dataFrame output?", "body": "<p>you should be able to do</p>\n\n<pre><code>df['Open'] = df['Open'].map('{:,.2f}'.format)\ndf['High'] = df['High'].map('{:,.2f}'.format)\ndf['Low'] = df['Low'].map('{:,.2f}'.format)\ndf['Close'] = df['Close'].map('{:,.2f}'.format)\ndf['Adj Close'] = df['Adj Close'].map('{:,.2f}'.format)\n</code></pre>\n\n<p>related question: <a href=\"https://stackoverflow.com/questions/20937538/how-to-display-pandas-dataframe-of-floats-using-a-format-string-for-columns\">How to display pandas DataFrame of floats using a format string for columns?</a></p>\n"}], "owner": {"reputation": 1569, "user_id": 2819689, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/07cce556c9a96b1ec9622df191fc651c?s=128&d=identicon&r=PG&f=1", "display_name": "MikiBelavista", "link": "https://stackoverflow.com/users/2819689/mikibelavista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4900, "favorite_count": 2, "accepted_answer_id": 48309447, "answer_count": 1, "score": 1, "last_activity_date": 1516222211, "creation_date": 1516220233, "last_edit_date": 1516221011, "question_id": 48309310, "link": "https://stackoverflow.com/questions/48309310/how-to-format-my-pandas-dataframe-output", "title": "How to format my pandas dataFrame output?", "body": "<p>This is my code</p>\n\n<pre><code>from pandas_datareader import data as pdr\nimport datetime \nimport fix_yahoo_finance as yf\nyf.pdr_override() # &lt;== that's all it takes :-)   \n\nstart = datetime.datetime(2008, 1, 1)\nend = datetime.datetime(2018, 1, 1)\ndata = yf.download(\"CGG\", start, end)\n\nprint (type(data))\n\ndata.to_csv('cgg.csv', sep='\\t')\n</code></pre>\n\n<p>I am using yahoo fix to get yahoo data.These are 50 lines from my csv file</p>\n\n<pre><code>head -50 cgg.csv \nDate    Open    High    Low Close   Adj Close   Volume\n2007-12-31  1828.160034 1828.47998  1793.5999760000002  1793.5999760000002  1339.275269 2100\n2008-01-02  1821.119995 1840.319946 1801.5999760000002  1819.52002  1358.629639 5100\n2008-01-03  1844.160034 1871.359985 1841.280029 1857.9200440000002  1387.302856 6100\n2008-01-04  1859.199951 1861.439941 1783.040039 1806.0799559999998  1348.5939939999998  12600\n2008-01-07  1793.5999760000002  1795.839966 1744.319946 1767.680054 1319.920898 6700\n2008-01-08  1786.880005 1808.319946 1758.0799559999998  1762.880005 1316.336792 6000\n2008-01-09  1775.040039 1812.47998  1772.47998  1804.800049 1347.638306 10800\n2008-01-10  1681.9200440000002  1744.0  1676.800049 1730.2399899999998  1291.9646   19900\n2008-01-11  1626.560059 1656.319946 1619.839966 1643.839966 1227.449951 25700\n2008-01-14  1691.52002  1733.119995 1650.880005 1720.0  1284.3183589999999  9900\n2008-01-15  1652.47998  1665.280029 1593.280029 1603.52002  1197.3432619999999  14400\n2008-01-16  1555.199951 1600.319946 1533.439941 1547.199951 1155.2891849999999  13300\n2008-01-17  1620.47998  1641.599976 1553.280029 1567.359985 1170.342651 40200\n2008-01-18  1590.400024 1590.400024 1504.0  1540.47998  1150.271362 25100\n2008-01-22  1449.599976 1470.079956 1344.0  1462.719971 1092.208252 13600\n2008-01-23  1339.199951 1409.920044 1312.0  1406.079956 1049.915283 16900\n2008-01-24  1427.52002  1479.359985 1415.680054 1477.439941 1103.199585 12000\n2008-01-25  1534.079956 1544.319946 1474.23999  1484.800049 1108.6953130000002  10900\n2008-01-28  1500.47998  1528.0  1464.319946 1528.0  1140.9526369999999  7200\n2008-01-29  1555.52002  1560.959961 1531.839966 1549.439941 1156.961792 9600\n2008-01-30  1509.76001  1552.0  1496.0  1513.599976 1130.200195 7200\n2008-01-31  1424.319946 1503.680054 1424.319946 1484.800049 1108.6953130000002  9500\n2008-02-01  1496.640015 1539.52002  1494.079956 1538.23999  1148.598755 5200\n2008-02-04  1553.920044 1556.800049 1537.280029 1540.160034 1150.032471 7300\n2008-02-05  1504.959961 1507.839966 1475.52002  1477.76001  1103.438599 9000\n2008-02-06  1445.76001  1457.280029 1422.079956 1423.359985 1062.818237 9400\n2008-02-07  1412.160034 1431.040039 1393.920044 1418.560059 1059.2341310000002  7500\n2008-02-08  1408.0  1424.319946 1400.0  1419.839966 1060.189941 13800\n2008-02-11  1429.119995 1429.119995 1399.040039 1424.319946 1063.535034 8200\n2008-02-12  1466.880005 1490.560059 1442.23999  1458.560059 1089.102051 9100\n2008-02-13  1511.040039 1548.160034 1504.319946 1544.319946 1153.138672 7000\n2008-02-14  1522.880005 1522.880005 1471.359985 1471.359985 1098.659668 9100\n2008-02-15  1507.839966 1507.839966 1458.23999  1478.719971 1104.155396 9900\n2008-02-19  1546.880005 1557.76001  1527.359985 1537.280029 1147.881958 6200\n2008-02-20  1548.160034 1587.839966 1544.0  1578.560059 1178.705688 7100\n2008-02-21  1657.280029 1661.119995 1598.400024 1603.199951 1197.104126 16100\n2008-02-22  1619.199951 1634.23999  1599.040039 1633.599976 1219.803711 9700\n2008-02-25  1647.359985 1687.040039 1633.280029 1682.2399899999998  1256.123047 5700\n2008-02-26  1664.640015 1707.839966 1654.400024 1704.959961 1273.088013 8600\n2008-02-27  1687.040039 1720.959961 1675.52002  1704.640015 1272.8491210000002  9800\n2008-02-28  1632.959961 1634.560059 1577.920044 1588.800049 1186.351807 19400\n2008-02-29  1577.920044 1587.839966 1555.839966 1555.839966 1161.740601 7800\n2008-03-03  1534.719971 1547.839966 1516.800049 1540.800049 1150.510376 7100\n2008-03-04  1527.040039 1536.640015 1508.160034 1532.47998  1144.297852 16400\n2008-03-05  1543.680054 1596.47998  1543.680054 1592.640015 1189.219116 9500\n2008-03-06  1601.920044 1601.920044 1550.400024 1552.640015 1159.351196 7000\n2008-03-07  1491.839966 1511.680054 1467.199951 1483.199951 1107.50061  6400\n2008-03-10  1485.76001  1502.079956 1448.959961 1458.880005 1089.340942 6800\n2008-03-11  1552.640015 1560.319946 1520.959961 1555.199951 1161.262817 9700\n</code></pre>\n\n<p>How to format the five float columns and leave the first and last unchanged?Something like</p>\n\n<pre><code>pd.options.display.float_format = '${:,.2f}'.format\n</code></pre>\n\n<p>except on the first and on the last.How to round these floats to two decimal places?\nIf I try wht @shrumm has suggested I got</p>\n\n<pre><code>Date    Open    High    Low Close   Adj Close   Volume\n2007-12-31  $1,828.16   $1,828.48   $1,793.60   $1,793.60   $1,339.28   2100\n2008-01-02  $1,821.12   $1,840.32   $1,801.60   $1,819.52   $1,358.63   5100\n2008-01-03  $1,844.16   $1,871.36   $1,841.28   $1,857.92   $1,387.30   6100\n2008-01-04  $1,859.20   $1,861.44   $1,783.04   $1,806.08   $1,348.59   12600\n</code></pre>\n\n<p>I want to get rid of $ sign.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 0, "creation_date": 1516220217, "post_id": 48309294, "comment_id": 83604147, "body": "Python needs white space, so when you one-line it, it doesn&#39;t know what your indentation is"}, {"owner": {"reputation": 4426, "user_id": 4099813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d53c6c37d906b105371aeff8bbe0603?s=128&d=identicon&r=PG&f=1", "display_name": "MooingRawr", "link": "https://stackoverflow.com/users/4099813/mooingrawr"}, "reply_to_user": {"reputation": 4232, "user_id": 6772373, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMTdt.jpg?s=128&g=1", "display_name": "Mike Tung", "link": "https://stackoverflow.com/users/6772373/mike-tung"}, "edited": false, "score": 1, "creation_date": 1516220294, "post_id": 48309294, "comment_id": 83604190, "body": "@MikeTung not 100% true, <code>import time; x = time.time(); print(x)</code> works fine, the real answer is in the dup link from Vaultah"}], "owner": {"reputation": 731, "user_id": 1214547, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9cb4c009ced93d992fe9ce0d845c641c?s=128&d=identicon&r=PG", "display_name": "Pastafarianist", "link": "https://stackoverflow.com/users/1214547/pastafarianist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "closed_date": 1516220250, "answer_count": 0, "score": 0, "last_activity_date": 1516220467, "creation_date": 1516220145, "question_id": 48309294, "link": "https://stackoverflow.com/questions/48309294/syntaxerror-when-using-a-semicolon-after-import-in-python", "closed_reason": "Duplicate", "title": "SyntaxError when using a semicolon after import in Python", "body": "<p>I want to execute the following command:</p>\n\n<pre><code>python -c \"import os, random, string; for _ in range(30): os.mkdir(''.join(random.choice(string.ascii_lowercase) for _ in range(random.randint(3, 10))))\"\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<pre><code>  File \"&lt;string&gt;\", line 1\n    import os, random, string; for _ in range(30): os.mkdir(''.join(random.choice(string.ascii_lowercase) for _ in range(random.randint(3, 10))))\n                                 ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>Why does this error occur?</p>\n\n<p>Same code with linebreaks and without the semicolon:</p>\n\n<pre><code>import os, random, string\n\nfor _ in range(30):\n    os.mkdir(''.join(\n        random.choice(string.ascii_lowercase) for _ in range(random.randint(3, 10))\n        ))\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "edited": false, "score": 0, "creation_date": 1516220604, "post_id": 48309282, "comment_id": 83604387, "body": "I think when you saying <code>df[&#39;newcol&#39;].loc[0] = 1</code> your actually editing the <code>series</code> and not the <code>dataframe</code>. Use <code>df.loc[0, &#39;col&#39;]</code> like in @Vaishali&#39;s answer"}, {"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "reply_to_user": {"reputation": 1731, "user_id": 6509519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xEcoP.jpg?s=128&g=1", "display_name": "Ian Thompson", "link": "https://stackoverflow.com/users/6509519/ian-thompson"}, "edited": false, "score": 0, "creation_date": 1516221610, "post_id": 48309282, "comment_id": 83604880, "body": "Yes, but the DataFrame points to that Series, so it&#39;s odd it doesn&#39;t reflect the changes. @Vaishali&#39;s method updates both because you&#39;re telling the DataFrame to update itself, and then it manages updating the Series also. All this evidently means that when you ask a DataFrame about itself, it doesn&#39;t gather data from its constituent Series at query-time."}], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "edited": false, "score": 0, "creation_date": 1516222610, "post_id": 48309343, "comment_id": 83605406, "body": "An additionally useful detail for all you noobs out there: It isn&#39;t necessary to set df[&#39;column&#39;] = a pandas Series here. Exclude those lines, and everything still works just fine."}], "tags": [], "owner": {"reputation": 32054, "user_id": 6287308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdmQp.jpg?s=128&g=1", "display_name": "Vaishali", "link": "https://stackoverflow.com/users/6287308/vaishali"}, "is_accepted": true, "score": 2, "last_activity_date": 1516220399, "creation_date": 1516220399, "answer_id": 48309343, "question_id": 48309282, "link": "https://stackoverflow.com/questions/48309282/adding-entries-sequentially-to-an-empty-pandas-dataframe/48309343#48309343", "title": "Adding entries sequentially to an empty pandas DataFrame", "body": "<p>You would be able to assign data to an empty dataframe using following</p>\n\n<pre><code>df = pd.DataFrame()\ndf['newcol'] = pd.Series()\ndf['othercol'] = pd.Series()\ndf.loc[0, 'newcol'] = 1\ndf.loc[1, 'newcol'] = 5\ndf.loc[0, 'othercol'] = 12\ndf.loc[1, 'othercol'] = -10\n\n    newcol  othercol\n0   1.0     12.0\n1   5.0     -10.0\n</code></pre>\n"}], "owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 48309343, "answer_count": 1, "score": 0, "last_activity_date": 1516220930, "creation_date": 1516220056, "last_edit_date": 1516220930, "question_id": 48309282, "link": "https://stackoverflow.com/questions/48309282/adding-entries-sequentially-to-an-empty-pandas-dataframe", "title": "Adding entries sequentially to an empty pandas DataFrame", "body": "<p>I am encountering pretty strange behavior. If I let</p>\n\n<pre><code>dict = {'newcol':[1,5], 'othercol':[12,-10]}\ndf = pandas.DataFrame(data=dict)\nprint df['newcol']\n</code></pre>\n\n<p>I get back a pandas Series object with 1 and 5 in it. Great.</p>\n\n<pre><code>print df\n</code></pre>\n\n<p>I get back the DataFrame as I would expect. Cool.</p>\n\n<p>But what if I want to add to a DataFrame a little at a time? (My use case is saving metrics for machine learner training runs happening in parallel, where each process gets a number and then adds to only that row of the DataFrame.)</p>\n\n<p>I can do the following:</p>\n\n<pre><code>df = pandas.DataFrame()\ndf['newcol'] = pandas.Series()\ndf['othercol'] = pandas.Series()\ndf['newcol'].loc[0] = 1\ndf['newcol'].loc[1] = 5\ndf['othercol'].loc[0] = 12\ndf['othercol'].loc[1] = -10\nprint df['newcol']\n</code></pre>\n\n<p>I get back the pandas Series I would expect, identical to creating the DataFrame by the first method.</p>\n\n<pre><code>print df\n</code></pre>\n\n<p>I see printed that df is an Empty DataFrame with columns [newcol, othercol].</p>\n\n<p>Clearly in the second method the DataFrame's contents are equivalent to the first method. So why is it not smart enough to know it is filled? Is there a function I can call to update the DataFrame's knowledge of its own Series so all these (possibly out-of-order) Series can be unified in to a consistent DataFrame?</p>\n"}, {"tags": ["python", "text", "io", "text-files"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1516220310, "post_id": 48309143, "comment_id": 83604205, "body": "<code>if flag and line.split()[0] == &#39;fruit&#39;:</code> just test for the flag to avoid comparison"}, {"owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "edited": false, "score": 0, "creation_date": 1516221176, "post_id": 48309143, "comment_id": 83604666, "body": "Your second piece of code is already what you&#39;re asking...?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221121, "last_edit_date": 1516221121, "creation_date": 1516220418, "answer_id": 48309348, "question_id": 48309143, "link": "https://stackoverflow.com/questions/48309143/skip-lines-until-the-next-block-in-a-text-file-if-a-condition-is-met-in-python/48309348#48309348", "title": "Skip lines until the next block in a text file if a condition is met in PYthon", "body": "<p>You can add an inner loop that you trigger after you find a <code>block</code> line. Note that this assumes your data is well-formed (i.e., every block has a fruit).</p>\n\n<pre><code>with open('data.txt') as f:\n    for line in f:\n        line = line.strip()\n        if line == 'block':\n            print(line)\n            for line in f:\n                line = line.strip()\n                if line.startswith('fruit '):\n                    print('the fruit is:', line.split(None, 1)[1])\n                    break\n                else:\n                    print(line)\n</code></pre>\n\n<p>Another thing you can do that's a bit more involved but could be a lot faster if the data file is truly huge is use <a href=\"https://docs.python.org/3.6/library/mmap.html\" rel=\"nofollow noreferrer\"><code>mmap</code></a> with <a href=\"https://docs.python.org/3.6/library/mmap.html#mmap.mmap.find\" rel=\"nofollow noreferrer\"><code>find()</code></a>.</p>\n"}, {"comments": [{"owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "edited": false, "score": 0, "creation_date": 1521167152, "post_id": 48309504, "comment_id": 85626285, "body": "Steven, thank you for your helpful answer, and sorry about forgetting to &quot;accept&quot; it."}], "tags": [], "owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "is_accepted": true, "score": 2, "last_activity_date": 1516224299, "last_edit_date": 1516224299, "creation_date": 1516221088, "answer_id": 48309504, "question_id": 48309143, "link": "https://stackoverflow.com/questions/48309143/skip-lines-until-the-next-block-in-a-text-file-if-a-condition-is-met-in-python/48309504#48309504", "title": "Skip lines until the next block in a text file if a condition is met in PYthon", "body": "<pre><code>from itertools import takewhile, dropwhile\n\ndef not_block(line): return line != 'block\\n'\ndef not_fruit(line): return not line.startswith('fruit ')\n\nwith open(\"sample.txt\", \"r\") as f:\n    while True:\n        for line in takewhile(not_fruit, dropwhile(not_block(f)):\n            print line.rstrip()\n        fruitline = next(f, None)\n        if fruitline:\n            print \"the fruit is: \" + fruitline.split()[1]\n        else:\n            break\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8651755"}, "edited": false, "score": 0, "creation_date": 1516227313, "post_id": 48310281, "comment_id": 83607542, "body": "This reads all the lines into memory up front, which for a large file might be too slow or use too much memory. It also iterates over the lines twice. It is pretty clever, though."}, {"owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "edited": false, "score": 0, "creation_date": 1516230344, "post_id": 48310281, "comment_id": 83608717, "body": "Ah shoot forgot the big list part of the requirements.  Ah well, all in good fun."}], "tags": [], "owner": {"reputation": 11919, "user_id": 9183344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U7r5r.png?s=128&g=1", "display_name": "r.ook", "link": "https://stackoverflow.com/users/9183344/r-ook"}, "is_accepted": false, "score": 0, "last_activity_date": 1516225324, "last_edit_date": 1516225324, "creation_date": 1516224513, "answer_id": 48310281, "question_id": 48309143, "link": "https://stackoverflow.com/questions/48309143/skip-lines-until-the-next-block-in-a-text-file-if-a-condition-is-met-in-python/48310281#48310281", "title": "Skip lines until the next block in a text file if a condition is met in PYthon", "body": "<p>Call me crazy but I want to take a different dig at this with <code>list comprehension</code> and <code>zip()</code>:</p>\n\n<pre><code>with open(\"sample.txt\", \"r\") as file:\n    lines = [line.strip('\\n') for line in file.readlines()]\n\nblocks = [i for i, j in enumerate(lines) if j == 'block']\nfruits = [i for i, j in enumerate(lines) if 'fruit' in j]\n\nfor i, j in zip(blocks, fruits):\n    print('\\n'.join(lines[i:j+1]))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>block\nobject pen\nfruit apple\nblock\nelectronic laptop\ncity dallas\nfruit banana\nblock\npeople george\nfruit orange\n</code></pre>\n\n<p>But that'll <em>only work</em> if each <code>block</code> is always followed by a <code>fruit</code> before the next <code>block</code>.</p>\n\n<p>It looks pretty, okay.  Don't question my weapon of choice...</p>\n"}], "owner": {"reputation": 3653, "user_id": 6520041, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-y2Mls6eJLA0/AAAAAAAAAAI/AAAAAAAAAAA/_V6LCP-xzt8/photo.jpg?sz=128", "display_name": "FatihAkici", "link": "https://stackoverflow.com/users/6520041/fatihakici"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2581, "favorite_count": 0, "accepted_answer_id": 48309504, "answer_count": 3, "score": 0, "last_activity_date": 1516225324, "creation_date": 1516219474, "question_id": 48309143, "link": "https://stackoverflow.com/questions/48309143/skip-lines-until-the-next-block-in-a-text-file-if-a-condition-is-met-in-python", "title": "Skip lines until the next block in a text file if a condition is met in PYthon", "body": "<p>I have a huge text file consisting of \"blocks\" like this:</p>\n\n<pre><code>block\nobject pen\nfruit apple\npeople mike\nblock\nelectronic laptop\ncity dallas\nfruit banana\nobject stapler\nvehicle car\nblock\npeople george\nfruit orange\nvehicle truck\ncity austin\nobject hammer\n</code></pre>\n\n<p>In each block there is only one fruit at a random line. Each block has different number of lines. I want to iterate in this file, print everything including the fruit's name, and then skip until the next block. Once I find the fruit in one block, it is a waste of time to check if the next line is fruit or not. I just want to jump to the next block, but the problem is I don't know how many lines ahead the block is. So the output should look like:</p>\n\n<pre><code>block\nobject pen\nthe fruit is: apple\nblock\nelectronic laptop\ncity dallas\nthe fruit is: banana\nblock\npeople george\nthe fruit is: orange\n</code></pre>\n\n<p>I can produce this output in two ways, one:</p>\n\n<pre><code>flag = True\nwith open(\"sample.txt\", \"r\") as f:\n    for line in f.readlines():\n        if line.split()[0] == 'fruit':\n            print \"the fruit is: \" + line.split()[1]\n            flag = False\n        if line.split()[0] == 'block':\n            flag = True\n        if flag:\n            print line\n</code></pre>\n\n<p>And two:</p>\n\n<pre><code>flag = False\nwith open(\"sample.txt\", \"r\") as f:\n    for line in f.readlines():\n        if line.split()[0] == 'fruit':\n            print \"the fruit is: \" + line.split()[1]\n            flag = True\n        if line.split()[0] == 'block':\n            flag = False\n        if flag:\n            continue\n        print line \n</code></pre>\n\n<p>But this is not what I want. My code still checks each line whether it is fruit. I want to skip the lines after fruit until block, and continue from there. How can I do that jump?</p>\n"}, {"tags": ["python", "multithreading", "tkinter", "python-multithreading", "tkinter-canvas"], "comments": [{"owner": {"reputation": 354, "user_id": 8433996, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-G2k2aahkYjs/AAAAAAAAAAI/AAAAAAAAAFE/VA-qO6BCx1w/photo.jpg?sz=128", "display_name": "jmoney", "link": "https://stackoverflow.com/users/8433996/jmoney"}, "edited": false, "score": 1, "creation_date": 1516219658, "post_id": 48309112, "comment_id": 83603871, "body": "<a href=\"https://stackoverflow.com/questions/22541693/tkinter-and-thread-out-of-stack-space-infinite-loop\" title=\"tkinter and thread out of stack space infinite loop\">stackoverflow.com/questions/22541693/&hellip;</a>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516219709, "post_id": 48309112, "comment_id": 83603900, "body": "You aren&#39;t using threading the way you think you are. All of the movement is happening in the main thread since that&#39;s where your infinite loop is. Tkinter isn&#39;t designed to create widgets in one thread and then update them in another."}, {"owner": {"reputation": 37, "user_id": 6666816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/17PcO.jpg?s=128&g=1", "display_name": "Muhammad Essam", "link": "https://stackoverflow.com/users/6666816/muhammad-essam"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516220165, "post_id": 48309112, "comment_id": 83604119, "body": "so what i need is that i have a multi-agent each running on a thread, each thread no is updating their locations i need theme to be update in the GUI what should i used as a library @BryanOakley"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1516222288, "post_id": 48309112, "comment_id": 83605231, "body": "To be honest, you don&#39;t need threads at all. Assuming you will have no more than a few hundred balls, a single thread is more than powerful enough."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516222814, "post_id": 48309112, "comment_id": 83605508, "body": "See this example for a solution that doesn&#39;t use threads: <a href=\"http://stackoverflow.com/a/25431690/7432\">stackoverflow.com/a/25431690/7432</a>"}, {"owner": {"reputation": 37, "user_id": 6666816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/17PcO.jpg?s=128&g=1", "display_name": "Muhammad Essam", "link": "https://stackoverflow.com/users/6666816/muhammad-essam"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1516223011, "post_id": 48309112, "comment_id": 83605600, "body": "I got that but the project requires that each agent operates on a single thread @Bryan Oakley"}], "answers": [{"tags": [], "owner": {"reputation": 19107, "user_id": 216356, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/dc105cdd75395154274f9da3d7612a9f?s=128&d=identicon&r=PG", "display_name": "Noctis Skytower", "link": "https://stackoverflow.com/users/216356/noctis-skytower"}, "is_accepted": true, "score": 2, "last_activity_date": 1516233364, "last_edit_date": 1516233364, "creation_date": 1516224985, "answer_id": 48310386, "question_id": 48309112, "link": "https://stackoverflow.com/questions/48309112/python-tkinter-multithreading/48310386#48310386", "title": "python Tkinter multithreading", "body": "<p>Your program is not very difficult to modify so that it uses the GUI main loop and <code>after</code> method calls. The code in the <code>main</code> function should probably be encapsulated in a class that inherits from <code>tkinter.Frame</code>, but the following example is complete and demonstrates one possible solution:</p>\n\n<pre><code>#! /usr/bin/env python3\nimport tkinter\n\nFPS = 25\nWIDTH, HEIGHT = 500, 500\n\n\ndef main():\n    tkinter.NoDefaultRoot()\n    root = tkinter.Tk()\n    root.resizable(False, False)\n    canvas = tkinter.Canvas(root, bg='grey', width=WIDTH, height=HEIGHT)\n    canvas.grid()\n    balls = (\n        Ball(canvas, 10, 10, 40, 40, 'black'),\n        Ball(canvas, 50, 50, 80, 80, 'red')\n    )\n    root.after(1000 // FPS, update_balls, root, balls)\n    root.mainloop()\n\n\ndef update_balls(root, balls):\n    root.after(1000 // FPS, update_balls, root, balls)\n    for ball in balls:\n        ball.update()\n\n\nclass Ball:\n    def __init__(self, canvas, x1, y1, x2, y2, color):\n        self.__canvas = canvas\n        self.__x_velocity = 9\n        self.__y_velocity = 5\n        self.__id = canvas.create_oval(x1, y1, x2, y2, fill=color)\n\n    def update(self):\n        self.__canvas.move(self.__id, self.__x_velocity, self.__y_velocity)\n        x1, y1, x2, y2 = self.__canvas.coords(self.__id)\n        if x1 &lt; 0 or x2 &gt; WIDTH:\n            self.__x_velocity *= -1\n        if y1 &lt; 0 or y2 &gt; HEIGHT:\n            self.__y_velocity *= -1\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 6666816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/17PcO.jpg?s=128&g=1", "display_name": "Muhammad Essam", "link": "https://stackoverflow.com/users/6666816/muhammad-essam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5977, "favorite_count": 0, "accepted_answer_id": 48310386, "answer_count": 1, "score": 2, "last_activity_date": 1516233364, "creation_date": 1516219342, "last_edit_date": 1516222287, "question_id": 48309112, "link": "https://stackoverflow.com/questions/48309112/python-tkinter-multithreading", "title": "python Tkinter multithreading", "body": "<p>I'm trying to make two balls to move on the screen the position is being updated with thread and the main thread is updating the graphics here is my code:</p>\n\n<pre><code>from tkinter import *\nfrom threading import *\nimport time\n\nwidth = 500\nheight = 500\n\n\nclass Ball(Thread):\n    def __init__(self, canvas, x1, y1, x2, y2, color):\n        super().__init__()\n        self.x1 = x1\n        self.y1 = y1\n        self.x2 = x2\n        self.y2 = y2\n        self.x_velocity = 9\n        self.y_velocity = 5\n        self.canvas = canvas\n        self.id = self.canvas.create_oval(self.x1, self.y1, self.x2, self.y2, fill=color)\n\n    def update(self):\n        self.canvas.move(self.id, self.x_velocity, self.y_velocity)\n        pos = self.canvas.coords(self.id)\n        if pos[0] &lt;= 0 or pos[2] &gt;= width:\n            self.x_velocity *= -1\n        if pos[1] &lt;= 0 or pos[3] &gt;= height:\n            self.y_velocity *= -1\n\n    def run(self):\n        self.update()\n\n\ndef main():\n    master = Tk()\n    canvas = Canvas(master=master, bg='Grey', width=width, height=height)\n    ball1 = Ball(canvas=canvas, x1=10, y1=10, x2=40, y2=40, color='Black')\n    ball2 = Ball(canvas=canvas, x1=50, y1=50, x2=80, y2=80, color='Red')\n    canvas.pack()\n    ball1.start()\n    ball2.start()\n    while 1:\n        master.update()\n        time.sleep(0.04)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>it seems that is not working what is wrong and how to handle it ?\nthe error message is:</p>\n\n<pre><code>Exception in thread Thread-2: Traceback (most recent call last):   File \"/home/muhammad_essam/anaconda3/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\n    self.run()   File \"/mnt/sda6/CSE/Project/GUI/Learnning/GUI101/main.py\", line 30, in run\n    self.update()   File \"/mnt/sda6/CSE/Project/GUI/Learnning/GUI101/main.py\", line 22, in update\n    self.canvas.move(self.id, self.x_velocity, self.y_velocity)   File \"/home/muhammad_essam/anaconda3/lib/python3.6/tkinter/__init__.py\", line 2585, in move\n    self.tk.call((self._w, 'move') + args)\n_tkinter.TclError: out of stack space (infinite loop?)\n\nException in thread Thread-1: Traceback (most recent call last):   File \"/home/muhammad_essam/anaconda3/lib/python3.6/threading.py\", line 916, in _bootstrap_inner\n    self.run()   File \"/mnt/sda6/CSE/Project/GUI/Learnning/GUI101/main.py\", line 30, in run\n    self.update()   File \"/mnt/sda6/CSE/Project/GUI/Learnning/GUI101/main.py\", line 22, in update\n    self.canvas.move(self.id, self.x_velocity, self.y_velocity)   File \"/home/muhammad_essam/anaconda3/lib/python3.6/tkinter/__init__.py\", line 2585, in move\n    self.tk.call((self._w, 'move') + args)\n_tkinter.TclError: out of stack space (infinite loop?)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1516219023, "post_id": 48309004, "comment_id": 83603527, "body": "You forgot the parenthses on <code>readdata.filename()</code>.  Instead of calling the function, you passed the function itself as the file name to <code>open</code>."}, {"owner": {"reputation": 24179, "user_id": 1672429, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0815eb7d4e9dd58022d51ba2011b9c0a?s=128&d=identicon&r=PG", "display_name": "Stefan Pochmann", "link": "https://stackoverflow.com/users/1672429/stefan-pochmann"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516219225, "post_id": 48309004, "comment_id": 83603648, "body": "@Prune Nah, he didn&#39;t pass the function to <code>open</code>."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516220370, "post_id": 48309004, "comment_id": 83604240, "body": "Right -- to <code>str</code>, not to <code>open</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1814, "user_id": 1739725, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5aad6b54b723a83e1b5b52683c09d6da?s=128&d=identicon&r=PG", "display_name": "Pwnosaurus", "link": "https://stackoverflow.com/users/1739725/pwnosaurus"}, "is_accepted": false, "score": 4, "last_activity_date": 1516291253, "last_edit_date": 1516291253, "creation_date": 1516219263, "answer_id": 48309093, "question_id": 48309004, "link": "https://stackoverflow.com/questions/48309004/invalid-arguments-for-open-function/48309093#48309093", "title": "Invalid arguments for open function", "body": "<p>First off, the <code>filename</code> function needs to return something.\nSo the body of that function would need to look like:</p>\n\n<pre><code>def filename():\n    filename = \"inputs2.txt\"\n    return filename\n</code></pre>\n\n<p>But the error message you are seeing is caused by trying to convert a function, <code>readdata.filename</code>, to a string. You need to call the function first to get the value:</p>\n\n<pre><code>open(str(readdata.filename()), 'a')\n</code></pre>\n\n<p>(note the open and close parentheses after <code>filename</code>)</p>\n\n<p>If <code>readdata.filename</code> is returning a string already though, you don't need to call <code>str()</code>, and can just open the file like so:</p>\n\n<pre><code>open(readdata.filename(), 'a')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 0, "last_activity_date": 1516220299, "creation_date": 1516220299, "answer_id": 48309321, "question_id": 48309004, "link": "https://stackoverflow.com/questions/48309004/invalid-arguments-for-open-function/48309321#48309321", "title": "Invalid arguments for open function", "body": "<p>Paul, you passed the string representation of the function to open, and that string is not a legitimate file name.  PySide is not showing us the actual Python exception, but error numbers generally come from OSError, and <code>import errno; errno.errorcode[22]</code> is <code>EINVAL</code>, which expands to invalid argument.  (Windows uses different error numbers, so you are either not using Windows or PySide is translating numbers.)  The fix is to pass a string that is at least potentially a file name.  If the file name is too long or the file is not found, you will get a different errno and message.</p>\n"}], "owner": {"reputation": 21, "user_id": 8481837, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212522474850428/picture?type=large", "display_name": "Paul", "link": "https://stackoverflow.com/users/8481837/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1516291253, "creation_date": 1516218942, "last_edit_date": 1516219446, "question_id": 48309004, "link": "https://stackoverflow.com/questions/48309004/invalid-arguments-for-open-function", "title": "Invalid arguments for open function", "body": "<p>Here is what I try to do and I use windows and Python 3.4 and PySide:</p>\n\n<pre><code>    def computewrite(self):\n        text = self.lineID.text()\n        with open(str(readdata.filename), 'a') as myfile:\n            myfile.write(str(text))\n</code></pre>\n\n<p>The above codes are of course a part of a module and when I ran the module, I got an error message as follows:</p>\n\n<pre><code>[Errno 22] Invalid argument: '&lt;function readdata.filename at 0x0535BF18&gt;'\n</code></pre>\n\n<p>I am trying to write filename(readdata.filename) in string from other class, like this  </p>\n\n<pre><code>def filename():\n        filename = \"inputs2.txt\"\n</code></pre>\n\n<p>I have no idea how to fix the error thing as well.\nI will appreciate your time and help.</p>\n"}, {"tags": ["python", "asp.net", "https", "python-requests", "binaryfiles"], "answers": [{"tags": [], "owner": {"reputation": 13885, "user_id": 7811673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc232c9c0c9748fdd3dec0d5b816fb7?s=128&d=identicon&r=PG&f=1", "display_name": "t.m.adam", "link": "https://stackoverflow.com/users/7811673/t-m-adam"}, "is_accepted": true, "score": 1, "last_activity_date": 1516221072, "creation_date": 1516221072, "answer_id": 48309500, "question_id": 48308973, "link": "https://stackoverflow.com/questions/48308973/python-download-image-from-https-aspx/48309500#48309500", "title": "Python download image from HTTPS aspx", "body": "<p><code>.text</code> decodes the response content to string, so  your imge file will be corrupted.<br>\nInstead you should use <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#binary-response-content\" rel=\"nofollow noreferrer\"><code>.content</code></a> which holds the binary response content. </p>\n\n<pre><code>import requests \n\ntest_image = \"https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?Image&amp;amp;ImageID=497001669&amp;amp;CaseID=149006692&amp;amp;Version=1\"\npull_image = requests.get(test_image)\n\nwith open(\"test_image.jpg\", \"wb+\") as myfile:\n    myfile.write(pull_image.content)\n</code></pre>\n\n<p><code>.raw.read()</code> also returns bytes, but in order to use it you must set the <code>stream</code> parameter to <code>True</code>.  </p>\n\n<pre><code>pull_image = requests.get(test_image, stream=True)\nwith open(\"test_image.jpg\", \"wb+\") as myfile:\n    myfile.write(pull_image.raw.read())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "is_accepted": false, "score": 0, "last_activity_date": 1516234727, "creation_date": 1516234727, "answer_id": 48312047, "question_id": 48308973, "link": "https://stackoverflow.com/questions/48308973/python-download-image-from-https-aspx/48312047#48312047", "title": "Python download image from HTTPS aspx", "body": "<p>I wanted to follow up on @t.m.adam 's answer to provide a complete answer for anyone who is interested in using this data for their own projects.</p>\n\n<p>Here is my code to pull all images for a sample of Case IDs. It's fairly un-clean code, but I think it gives you what you may need to get started.</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\nfrom tqdm import tqdm\n\n\nCaseIDs = [149006673, 149006651, 149006672, 149006673, 149006692, 149006693]\n\nurl_part1 = 'https://www-nass.nhtsa.dot.gov/nass/cds/'\n\ndata = []\nwith requests.Session() as sesh:\n    for caseid in tqdm(CaseIDs):\n        url_full = f\"https://www-nass.nhtsa.dot.gov/nass/cds/CaseForm.aspx?ViewText&amp;CaseID={caseid}&amp;xsl=textonly.xsl&amp;websrc=true\"\n        #print(url_full)\n        source = sesh.get(url_full).text\n        soup = BeautifulSoup(source, 'lxml')\n        tr_tags = soup.find_all('tr',  style=\"page-break-after: always\")\n        for tag in tr_tags:\n            #print(tag)\n            \"\"\"\n            try:\n                vehicle = [x for x  in tag.text.split('\\n') if 'Vehicle' in x][0] ## return the first element\n            except IndexError:\n                vehicle = [x for x  in tag.text.split('\\n') if 'Scene' in x][0] ## return the first element\n            \"\"\"\n            tag_list = tag.find_all('tr', class_ = 'label')\n            test = [x.find('td').text for x in tag_list]\n            #print(test)\n            img_id, img_type, part_name = test\n            img_id = img_id.replace(\":\", \"\")\n            img = tag.find('img')\n            #part_name = img.get('alt').replace(\":\", \"\").replace(\"/\", \"\")\n            part_name = part_name.replace(\":\", \"\").replace(\"/\", \"\")\n            image_name = \" \".join([img_type, part_name, img_id]) + \".jpg\"\n            url_src = img.get('src')\n            img_url =  url_part1 + url_src\n            print(img_url)\n            pull_image = sesh.get(img_url, stream=True)\n            with open(image_name, \"wb+\") as myfile:\n                myfile.write(pull_image.content)\n</code></pre>\n"}], "owner": {"reputation": 1606, "user_id": 5079666, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5Awfk.jpg?s=128&g=1", "display_name": "Jon", "link": "https://stackoverflow.com/users/5079666/jon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 1, "accepted_answer_id": 48309500, "answer_count": 2, "score": 1, "last_activity_date": 1516240003, "creation_date": 1516218843, "last_edit_date": 1516240003, "question_id": 48308973, "link": "https://stackoverflow.com/questions/48308973/python-download-image-from-https-aspx", "title": "Python download image from HTTPS aspx", "body": "<p>I am trying to download some images from NASS Case Viewer. An example of a case is </p>\n\n<ul>\n<li><a href=\"https://www-nass.nhtsa.dot.gov/nass/cds/CaseForm.aspx?xsl=main.xsl&amp;CaseID=149006692\" rel=\"nofollow noreferrer\">https://www-nass.nhtsa.dot.gov/nass/cds/CaseForm.aspx?xsl=main.xsl&amp;CaseID=149006692</a> </li>\n</ul>\n\n<p>The link to the <strong>image viewer</strong> for this case is</p>\n\n<ul>\n<li><a href=\"https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?ImageView&amp;ImageID=497001669&amp;Desc=FRONT&amp;Title=Vehicle+1+-+Front&amp;Version=1&amp;Extend=jpg\" rel=\"nofollow noreferrer\">https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?ImageView&amp;ImageID=497001669&amp;Desc=FRONT&amp;Title=Vehicle+1+-+Front&amp;Version=1&amp;Extend=jpg</a></li>\n</ul>\n\n<p>which may not be viewable, I assume because of the https. However, this is simply the <strong>Front</strong> second image.</p>\n\n<p>The actual link to the image is (or should be?)</p>\n\n<ul>\n<li><a href=\"https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?Image&amp;ImageID=497001669&amp;CaseID=149006692&amp;Version=1\" rel=\"nofollow noreferrer\">https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?Image&amp;ImageID=497001669&amp;CaseID=149006692&amp;Version=1</a></li>\n</ul>\n\n<p>This will simply download aspx binaries.</p>\n\n<p>My problem is that I do not know how to store these binaries to proper jpg files.</p>\n\n<p>Example of code I've tried is</p>\n\n<pre><code>import requests \ntest_image = \"https://www-nass.nhtsa.dot.gov/nass/cds/GetBinary.aspx?Image&amp;amp;ImageID=497001669&amp;amp;CaseID=149006692&amp;amp;Version=1\"\npull_image = requests.get(test_image)\n\nwith open(\"test_image.jpg\", \"wb+\") as myfile:\n    myfile.write(str.encode(pull_image.text))\n</code></pre>\n\n<p>But this does not result in a proper jpg file. I've also inspected <code>pull_image.raw.read()</code> and saw that it's empty. </p>\n\n<p>What could be the issue here? Are my URL's improper? I've used Beautifulsoup to put these URLs together and reviewed them by inspecting the HTML code from a few pages. </p>\n\n<p>Am I saving the binaries incorrectly?</p>\n"}, {"tags": ["python", "django", "python-3.x", "django-models", "django-views"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516218921, "post_id": 48308933, "comment_id": 83603457, "body": "You&#39;re making us guess where the error is happening.  Please edit the question to include the full error traceback message."}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516218970, "post_id": 48308933, "comment_id": 83603491, "body": "@JohnGordon I stated &quot;the view with which I am struggling&quot; And in that view there is only one .save()... error location: /site-packages/django/utils/dateparse.py in parse_date, line 74"}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219198, "post_id": 48308933, "comment_id": 83603633, "body": "@JohnGordon requested info added to question"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219351, "post_id": 48308933, "comment_id": 83603710, "body": "So <code>new_entry = Calendar(...)</code> is successful, but <code>new_entry.save()</code> has the error?"}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219409, "post_id": 48308933, "comment_id": 83603744, "body": "@JohnGordon Yes if i remove the line new_entry.save() and submit the form I get no errors."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219441, "post_id": 48308933, "comment_id": 83603767, "body": "Why are you passing <code>date=datetime.timedelta(days=7)</code> to the new <code>Calendar</code> object?  A <code>timedelta</code> is not a date."}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219538, "post_id": 48308933, "comment_id": 83603817, "body": "@JohnGordon first I plan to only submit that form on mondays. So it takes todays date, and goes forward 7 days which brings it to next monday, and find that DateField, 7 days from now and sets the Calenders field day to that future date"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219641, "post_id": 48308933, "comment_id": 83603861, "body": "A date plus a timedelta is a date, but a timedelta by itself is not a date.  I think that may be your problem."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219767, "post_id": 48308933, "comment_id": 83603928, "body": "<code>datetime.timedelta(days=7)</code> means &quot;a period of seven days&quot;, which is meaningless without a starting date."}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219775, "post_id": 48308933, "comment_id": 83603931, "body": "@JohnGordon yes that seems to be likely, if you don&#39;t mind.. How would I be able to do date plus a timedelta... I tried datetime.timezone.now() + datetime.timedelta(days=7), and get an error: type object &#39;datetime.timezone&#39; has no attribute &#39;now&#39;"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219875, "post_id": 48308933, "comment_id": 83603974, "body": "<code>datetime.date.today() + datetime.timedelta(days=7)</code>"}, {"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1516219943, "post_id": 48308933, "comment_id": 83604000, "body": "@JohnGordon Ok that works now THANK YOU! Would you like to submit an answer to this question of how I can avoid doing this only on mondays and only projecting into the future one week? Say instead project into the future 12 weeks?"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "edited": false, "score": 0, "creation_date": 1516220083, "post_id": 48309272, "comment_id": 83604066, "body": "Thanks that is the issue. Would you like to explain how I can avoid doing this only on mondays and only projecting into the future one week? Say instead project into the future 12 weeks?"}, {"owner": {"reputation": 443, "user_id": 3897027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be7b3bb3739cfa418020c9477a04bbc?s=128&d=identicon&r=PG&f=1", "display_name": "domochevski", "link": "https://stackoverflow.com/users/3897027/domochevski"}, "reply_to_user": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "edited": false, "score": 0, "creation_date": 1516221409, "post_id": 48309272, "comment_id": 83604769, "body": "I will be brutally honest here: No I can not. In your original post you haven&#39;t described how you built your application, what you expect as inputs or how you plan on computing the date for your Calendars. Without any context, the best anyone can do is guess. Don&#39;t get me wrong I am willing to help, but I will need more information to work with."}], "tags": [], "owner": {"reputation": 443, "user_id": 3897027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be7b3bb3739cfa418020c9477a04bbc?s=128&d=identicon&r=PG&f=1", "display_name": "domochevski", "link": "https://stackoverflow.com/users/3897027/domochevski"}, "is_accepted": true, "score": 3, "last_activity_date": 1516220027, "creation_date": 1516220027, "answer_id": 48309272, "question_id": 48308933, "link": "https://stackoverflow.com/questions/48308933/cant-get-model-to-be-saved-getting-error-typeerror-expected-string-or-bytes-l/48309272#48309272", "title": "Can&#39;t get model to be saved getting error: &quot;TypeError expected string or bytes-like object&quot;", "body": "<p>My guess would be that the error happens because you're using a <strong>datetime.timedelta</strong> as a value for the <strong>date</strong> property of your <strong>Calendar</strong> entry. What <a href=\"https://docs.djangoproject.com/en/2.0/ref/models/fields/#django.db.models.DateField\" rel=\"nofollow noreferrer\">Django</a> needs is a <strong>datetime.date</strong>.\nTo be more precise, Django needs a date (e.g.: \"2018-01-17\"), while you are only providing a difference between two dates (in your case: \"7 days\"). What your code should do is compute the date for the next Monday and then pass that value (cast as a datetime.date) to the <strong>Calendar.date</strong> property.</p>\n"}], "owner": {"reputation": 251, "user_id": 8854130, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/58e9aa165a182965ccd085f13abeac21?s=128&d=identicon&r=PG&f=1", "display_name": "questnofinterest", "link": "https://stackoverflow.com/users/8854130/questnofinterest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 0, "accepted_answer_id": 48309272, "answer_count": 1, "score": 2, "last_activity_date": 1516220027, "creation_date": 1516218718, "last_edit_date": 1516219026, "question_id": 48308933, "link": "https://stackoverflow.com/questions/48308933/cant-get-model-to-be-saved-getting-error-typeerror-expected-string-or-bytes-l", "title": "Can&#39;t get model to be saved getting error: &quot;TypeError expected string or bytes-like object&quot;", "body": "<p>I'm trying to take info from a few models and generate table entries in the model Calendar. I cannot get it to save the Calendar entry. Getting a TypeError. Eventually I would like this system to add calendar entries into the future based of the last scheduled monday. But currently this task will only be performed on mondays. But I would like to be able to project more than one week forward if possible. </p>\n\n<p><strong>Template:</strong></p>\n\n<pre><code>&lt;form action=\"{% url 'portal:custom_admin' %}\" method=\"post\"&gt;\n    {% csrf_token %}\n    &lt;div style=\"background-color:red; width:15%;\"&gt;\n        &lt;button name=\"submit\"&gt;Project&lt;/button&gt;\n        DANGER! Only click on mondays, until future projecter can go based off futuremost monday generated into Calendar\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>View with which I am struggling:</strong></p>\n\n<pre><code>def custom_admin(request):\n\"\"\"\nDisplays MaxSettings, also\nTakes time_slots and create a week of it into the future (only should be done on mondays)\nNote:eventually this should be able to generate from the last monday in the calendar instead of today\n\"\"\"\nmax_settings = MaxSettings.objects.filter()\ntime_slots = TimeSlots.objects.filter()\n\nif request.method != 'POST':\n    pass\n    # Do nothing\nelse:\n    # Project A week forward\n    for slot in time_slots:\n         #there will be an if statement for each weekday\n        if slot.day.weekday == 'Monday':\n            new_entry = Calendar(\n                date=datetime.timedelta(days=7),\n                timeslot_A=slot.timeslot_A,\n                timeslot_B=slot.timeslot_B,\n                booked=False\n            )\n            new_entry.save()\n            return HttpResponseRedirect(reverse('portal:custom_admin'))\n\ncalendar = Calendar.objects.filter()\n\ncontext = {\n    'max_settings': max_settings,\n    'calendar': calendar,\n}\nreturn render(request, 'portal/custom_admin.html', context)\n</code></pre>\n\n<p><strong>Here are the relevant models:</strong></p>\n\n<pre><code>class MaxSettings(models.Model):\n\"\"\"\nEveryweek day has its own specified open/close time, time slots along with number of available jobs\n\"\"\"\nMONDAY = 'Monday'\nTUESDAY = 'Tuesday'\nWEDNESDAY = 'Wednesday'\nTHURSDAY = 'Thursday'\nFRIDAY = 'Friday'\nSATURDAY = 'Saturday'\nSUNDAY = 'Sunday'\nWEEKDAY_CHOICES = (\n    (MONDAY, 'monday'),\n    (TUESDAY, 'tuesday'),\n    (WEDNESDAY, 'wednesday'),\n    (THURSDAY, 'thursday'),\n    (FRIDAY, 'friday'),\n    (SATURDAY, 'saturday'),\n    (SUNDAY, 'sunday'),\n)\nweekday = models.CharField(max_length=9, choices=WEEKDAY_CHOICES, )\noperating = models.BooleanField()\nstart_work_time = models.TimeField()\nend_work_time = models.TimeField()\n\ndef __str__(self):\n    \"\"\"Return a string representation of the model.\"\"\"\n    return self.weekday\n\n\nclass TimeSlots(models.Model):\n\"\"\"time slots along with number of available jobs for that slot\"\"\"\nday = models.ForeignKey(MaxSettings, on_delete=models.CASCADE)\ntimeslot_A = models.TimeField()\ntimeslot_B = models.TimeField()\nmax_jobs = models.PositiveSmallIntegerField()\n\ndef __str__(self):\n    \"\"\"Return a string representation of the model.\"\"\"\n    return '%s %s %s' % (self.timeslot_A, self.timeslot_B, self.day)\n\n\nclass Calendar(models.Model):\n\"\"\"\nthis will get it details from TimeSlots and be generated into the future from the  MaxSettings\n\"\"\"\ndate = models.DateField()\ntimeslot_A = models.TimeField()\ntimeslot_B = models.TimeField()\nbooked = models.BooleanField()\n</code></pre>\n\n<p><strong>Error Details:</strong></p>\n\n<pre><code>TypeError at /custom_admin/\n\nexpected string or bytes-like object\n\nRequest Method:     POST\nRequest URL:    http://127.0.0.1:8000/custom_admin/\n Django Version:    2.0\nException Type:     TypeError\nException Value: expected string or bytes-like object\n\nException Location:         error location: /site-packages/django/utils/dateparse.py in parse_date, line 74\n</code></pre>\n"}, {"tags": ["python", "recursion", "dijkstra"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 2, "creation_date": 1516218828, "post_id": 48308910, "comment_id": 83603397, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately describe the problem. We should be able to paste your posted code into a text file and reproduce the problem you described. StackOverflow is not a coding or tutorial service."}, {"owner": {"reputation": 828, "user_id": 1582573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d84ff0aa6095b850ca7cda46db37693?s=128&d=identicon&r=PG", "display_name": "Matteo T.", "link": "https://stackoverflow.com/users/1582573/matteo-t"}, "edited": false, "score": 0, "creation_date": 1516218927, "post_id": 48308910, "comment_id": 83603460, "body": "Is the program not stopping? Maybe you have erroneously swapped +1 and -1 for the y: <code>y &gt; 0 and search(x, y+1)</code> will make y go to infinity and <code>y &lt; 5-1 and search(x, y-1)</code> will make y go to -infinity."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1516218943, "post_id": 48308910, "comment_id": 83603474, "body": "<a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> also apply here.  You haven&#39;t researched how to return a path.  &quot;I don&#39;t know how&quot; is generally too broad -- it suggests a local tutor, rather than  SO."}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1516221031, "creation_date": 1516221031, "answer_id": 48309491, "question_id": 48308910, "link": "https://stackoverflow.com/questions/48308910/unsure-with-dijkstras-algorithm/48309491#48309491", "title": "Unsure with Dijkstra&#39;s algorithm", "body": "<p>Dijkstra's algorithm for shortest A to B path works, even if your code does not.   <a href=\"https://en.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Wikipedia page</a> has code that you should be able to translate.  </p>\n\n<p>Since you can compute a fairly accurate minimum distance from each point to the goal, you would probably do better with the <a href=\"https://en.wikipedia.org/wiki/A*_search_algorithm\" rel=\"nofollow noreferrer\">A* improvement</a> on Dijkstra.</p>\n"}], "owner": {"reputation": 53, "user_id": 9179096, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/4e7c78f766702f3994e3587465b49751?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Brown", "link": "https://stackoverflow.com/users/9179096/paul-brown"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1516221031, "creation_date": 1516218615, "question_id": 48308910, "link": "https://stackoverflow.com/questions/48308910/unsure-with-dijkstras-algorithm", "title": "Unsure with Dijkstra&#39;s algorithm", "body": "<p>With the help of so many people on this site, I have some brilliant code. Unfortunately, the Dijkstra Algorithm doesn't work. It is supposed to find the shortest distance between the AI and the player and move the AI closer to the player. I don't know how to get this to return a path and how to move the AI one step closer to the player or even if it works as I intended it to.</p>\n\n<pre><code>def search(x, y):\n    if maze[x][y] == visblock():\n        return False\n    elif maze[x][y] == 3:\n        return False\n    elif maze[x][y] == player():\n        print(\"Found Player\")\n        return True\n\n    maze[x][y] = 3\n\n    if ((x &lt; 5 - 1 and search(x+1, y))\n        or (y &gt; 0 and search(x, y+1))\n        or (x &gt; 0 and search(x-1, y))\n        or (y &lt; 5-1 and search(x, y-1))):\n            return True\n\n    return False\n</code></pre>\n"}, {"tags": ["python", "linker", "shared-libraries", "ctypes", "extern"], "answers": [{"comments": [{"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 0, "creation_date": 1516298861, "post_id": 48327494, "comment_id": 83640836, "body": "I guess that is the only way."}, {"owner": {"reputation": 13849, "user_id": 4201810, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-y_UkutO0V_M/AAAAAAAAAAI/AAAAAAAAAjQ/PK7PzkynAm0/photo.jpg?sz=128", "display_name": "georgexsh", "link": "https://stackoverflow.com/users/4201810/georgexsh"}, "edited": false, "score": 1, "creation_date": 1516298937, "post_id": 48327494, "comment_id": 83640878, "body": "btw you could generate .so in one step: <code>gcc -shared -fPIC -o resolve.so resolve.c</code>."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 2, "creation_date": 1516306752, "post_id": 48327494, "comment_id": 83645019, "body": "Do you really need to load libadd with RTLD_GLOBAL?  It is unnecessary to make all symbols visible for all. I suppose it is only necessary for resolve.so."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1516307102, "post_id": 48327494, "comment_id": 83645169, "body": "Btw, this ingenious solution made my day. Let\u2019s hope you will get the memory layout correct for all symbols - otherwise the debugging could become pretty funny:)"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1517420474, "post_id": 48327494, "comment_id": 84092452, "body": "Or modify &quot;<i>program that uses this shared library</i>&quot; (<i>python</i>) by adding <code>int var = 1;</code> in one of its sources, and recompiling it :)"}], "tags": [], "owner": {"reputation": 195, "user_id": 2055824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1146e79e262ad0b586c439ed040a5fc?s=128&d=identicon&r=PG", "display_name": "Bosz", "link": "https://stackoverflow.com/users/2055824/bosz"}, "is_accepted": false, "score": 2, "last_activity_date": 1516297960, "creation_date": 1516297960, "answer_id": 48327494, "question_id": 48308845, "link": "https://stackoverflow.com/questions/48308845/how-to-use-python-ctypes-to-define-an-undefined-symbol/48327494#48327494", "title": "How to use python ctypes to define an undefined symbol", "body": "<p>One possibility is to create a seperate shared library to define <code>var</code> and load this before <code>libadd.so</code>. </p>\n\n<pre><code>/* resolve.c */\nint var = 1;\n</code></pre>\n\n\n\n<pre><code>gcc -c -Wall -Werror -fpic resolve.c\ngcc -shared -o resolve.so resolve.o\n</code></pre>\n\n\n\n<pre><code>from ctypes import *\n\nsharedlib = CDLL(\"sharedlib/resolve.so\", mode = RTLD_GLOBAL)\nsharedlib = CDLL(\"sharedlib/libadd.so\", mode = RTLD_GLOBAL)\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 2055824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1146e79e262ad0b586c439ed040a5fc?s=128&d=identicon&r=PG", "display_name": "Bosz", "link": "https://stackoverflow.com/users/2055824/bosz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1575404238, "creation_date": 1516218315, "last_edit_date": 1575404238, "question_id": 48308845, "link": "https://stackoverflow.com/questions/48308845/how-to-use-python-ctypes-to-define-an-undefined-symbol", "title": "How to use python ctypes to define an undefined symbol", "body": "<p>I would like to use a shared library (with python ctypes) which expects that some symbols are defined in the program that uses this shared library. </p>\n\n<p>In the following example, <code>var</code> is defined in <code>test.c</code>, while <code>nm libadd.so</code> shows that <code>var</code> is undefined;</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>/* libadd.c */\n#include &lt;stdio.h&gt;\n\nextern int var;\n\nint add(int a, int b) {\n    return (a + b + var);\n}\n</code></pre>\n\n\n\n<pre><code>gcc -c -Wall -Werror -fpic libadd.c\ngcc -shared -o libadd.so libadd.o\n</code></pre>\n\n\n\n<pre><code>/* test.c */\n#include &lt;stdio.h&gt;\n#include \"libadd.h\"\n\nint var = 1;\n\nint main(void) {\n    printf(\"%d\", add(1,2));\n    return 0;\n}\n</code></pre>\n\n\n\n<pre><code>gcc -L/path/to/libadd -Wall -o test test.c -ladd\n</code></pre>\n\n<p>Similarly, how to do this with python ctypes; </p>\n\n<pre><code># test.py\nfrom ctypes import *\n\n#what to do to define var?\n\nsharedlib = CDLL(\"sharedlib/libadd.so\", mode = RTLD_GLOBAL)\nprint( sharedlib.add(1,2) )\n</code></pre>\n\n\n\n<pre><code>OSError: sharedlib/libadd.so: undefined symbol: var\n</code></pre>\n"}, {"tags": ["python", "image", "opencv", "kivy"], "comments": [{"owner": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "edited": false, "score": 2, "creation_date": 1516220066, "post_id": 48308776, "comment_id": 83604057, "body": "Have you tried <code>image.reload()</code> ?"}, {"owner": {"reputation": 71, "user_id": 8180766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43b951dc77795da6f54fe3bf7e4ec19?s=128&d=identicon&r=PG&f=1", "display_name": "TonyJ", "link": "https://stackoverflow.com/users/8180766/tonyj"}, "reply_to_user": {"reputation": 4377, "user_id": 3244542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/824d97462f60717863214b3efca87c24?s=128&d=identicon&r=PG&f=1", "display_name": "CasualDemon", "link": "https://stackoverflow.com/users/3244542/casualdemon"}, "edited": false, "score": 1, "creation_date": 1516810990, "post_id": 48308776, "comment_id": 83844528, "body": "Sorry for the late reply. I got sidetracked. I ended up going with clearing the cache and re-reading the image.  I will try this today and let you know."}], "owner": {"reputation": 71, "user_id": 8180766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43b951dc77795da6f54fe3bf7e4ec19?s=128&d=identicon&r=PG&f=1", "display_name": "TonyJ", "link": "https://stackoverflow.com/users/8180766/tonyj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 215, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1616765156, "creation_date": 1516218086, "question_id": 48308776, "link": "https://stackoverflow.com/questions/48308776/kivy-image-widget-does-not-update-image", "title": "Kivy image widget does not update image", "body": "<p>I am currently reading a file using imread in the opencv package for python. I do some editing, and then I save the file with a different name, which for convenience say \"test.png\". I then load this file and display it using the Kivy image widget. All of this works.</p>\n\n<p>However, when I try to edit another image file and save it under the same name \"test.png\", then load and display it to the Kivy widget, the new file does not seem to ever get read. Opencv imwrite operation seems to work and the file is there. But kivy seems to load previous version of the file. Even when I try to save files with multiple names, Kivy seems to only display the original files, and not the rewritten versions. </p>\n\n<p>So my question is whether Kivy caches the images? If it does, is there a way around it?</p>\n"}]