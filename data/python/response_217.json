[{"tags": ["python", "list", "math", "prime-factoring"], "comments": [{"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1551917044, "post_id": 55034050, "comment_id": 96820642, "body": "Python arithmetical operators are not vectorized over lists. You would need to loop. Better yet, write a function which returns the largest prime factor of a given number, and use that to craft a <code>key</code> argument for the <code>sorted</code> function."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 2, "creation_date": 1551917318, "post_id": 55034050, "comment_id": 96820709, "body": "By the way, I don&#39;t think your question deserved a downvote. Python doesn&#39;t work the way you seem to hope it does (perhaps you are coming from R?) but your question was reasonably well written and contained the relevant code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9991165"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 1, "creation_date": 1551917556, "post_id": 55034050, "comment_id": 96820781, "body": "Thank you John, yes I have an R background."}, {"owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1551918041, "post_id": 55034050, "comment_id": 96820895, "body": "The answer I gave is essentially the same as @John Coleman&#39;s idea."}], "answers": [{"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 3, "last_activity_date": 1551917190, "creation_date": 1551917190, "answer_id": 55034110, "question_id": 55034050, "link": "https://stackoverflow.com/questions/55034050/how-do-i-write-a-program-that-displays-the-values-in-this-list-of-numbers-sorted/55034110#55034110", "title": "How do I write a program that displays the values in this list of numbers sorted by their largest prime factor?", "body": "<p>Your problem is at the top, and the error message is quite straightforward:</p>\n\n<pre><code>numbers = [865, 1169, 1208, 1243, 329]\nn=numbers    # n is now another reference to the list of numbers\nwhile n % 2 == 0:\n</code></pre>\n\n<p>You cannot apply the modulus operator to a list.  I suspect that what you want here is</p>\n\n<pre><code>for n in numbers:\n    while n% 2 == 0:\n</code></pre>\n\n<p>That should get you to the next error ... there are several in the program.  Fixing them for you is off-topic for Stack Overflow.  See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help.</p>\n"}, {"tags": [], "owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "is_accepted": false, "score": 1, "last_activity_date": 1551917870, "creation_date": 1551917870, "answer_id": 55034203, "question_id": 55034050, "link": "https://stackoverflow.com/questions/55034050/how-do-i-write-a-program-that-displays-the-values-in-this-list-of-numbers-sorted/55034203#55034203", "title": "How do I write a program that displays the values in this list of numbers sorted by their largest prime factor?", "body": "<p>I think you can do this better with list comprehension.</p>\n\n<pre><code>import numpy as np\nnumbers = [865, 1169, 1208, 1243, 329]\n\n#create function to be used in list comprehension\ndef largest_prime_factor(n):\n    i = 2\n    while i * i &lt;= n:\n        if n % i:\n            i += 1\n        else:\n            n //= i\n    return n\n\n#use list comprehension to get the largest common factor\nlargest_fact=[largest_prime_factor(x) for x in numbers]\n\n #sort your numbers by the largest factor\nanswer=[x for _,x in sorted(zip(largest_fact,numbers))]\nprint (answer)\n\nOut:\n[329, 1243, 1208, 1169, 865]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9991165"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1551917870, "creation_date": 1551916755, "last_edit_date": 1592644375, "question_id": 55034050, "link": "https://stackoverflow.com/questions/55034050/how-do-i-write-a-program-that-displays-the-values-in-this-list-of-numbers-sorted", "title": "How do I write a program that displays the values in this list of numbers sorted by their largest prime factor?", "body": "<h1>My list</h1>\n<pre><code>numbers = [865, 1169, 1208, 1243, 329]\n</code></pre>\n<p>I want to sort this list in ascending order of largest prime factor</p>\n<p>My input:</p>\n<pre><code>import math\nmaxPrime = -1\nn=numbers   \n# Print the number of 2s that divide n \nwhile n % 2 == 0: \n    maxPrime = 2\n    n &gt;&gt;= 1     # equivalent to n /= 2 \n          \n    # n must be odd at this point,  \n    # thus skip the even numbers and  \n    # iterate only for odd integers \nfor i in range(3, int(math.sqrt(n)) + 1, 2): \n    while n % i == 0: \n        maxPrime = i \n        n = n / i \n</code></pre>\n<p>However, this is not printing n and I receive an error</p>\n<pre><code>TypeError: unsupported operand type(s) for %: 'list' and 'int'\n</code></pre>\n<p>My desired output:</p>\n<pre><code>Sorted by largest prime factor:\n[290, 1243, 1208, 1169, 865]\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551920840, "post_id": 55034041, "comment_id": 96821485, "body": "Please <a href=\"https://stackoverflow.com/posts/55034041/edit\">edit</a> your question and add the code that&#39;s causing the <code>ValueError</code> exception (and presumably using one or both of the functions)."}], "answers": [{"tags": [], "owner": {"reputation": 107137, "user_id": 364696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7eBCp.jpg?s=128&g=1", "display_name": "ShadowRanger", "link": "https://stackoverflow.com/users/364696/shadowranger"}, "is_accepted": false, "score": 2, "last_activity_date": 1551917068, "creation_date": 1551917068, "answer_id": 55034097, "question_id": 55034041, "link": "https://stackoverflow.com/questions/55034041/converting-string-to-binary-then-xor-binary/55034097#55034097", "title": "Converting string to binary then xor binary", "body": "<p><code>bin</code> is bad here; it doesn't pad out to eight digits (so you'll lose data alignment whenever the high bit is a <code>0</code> and misinterpret all bits to the left of that loss as being lower magnitude than they should be), and it adds a <code>0b</code> prefix that you don't want. <code>str.format</code> can fix both issues, by zero padding and omitting the <code>0b</code> prefix (I also removed the space in the joiner string, since you don't want spaces in the result):</p>\n\n<pre><code>def string_to_binary(s):\n    return ''.join(map('{:08b}'.format, bytearray(s, encoding='utf-8')))\n</code></pre>\n\n<p>With that, <code>string_to_binary('byeee')</code> gets you <code>'0110001001111001011001010110010101100101'</code> which is what you want, as opposed to <code>'0b1100010 0b1111001 0b1100101 0b1100101 0b1100101'</code> which is obviously not a (single) valid base-2 integer.</p>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 0, "last_activity_date": 1551922376, "creation_date": 1551922376, "answer_id": 55034718, "question_id": 55034041, "link": "https://stackoverflow.com/questions/55034041/converting-string-to-binary-then-xor-binary/55034718#55034718", "title": "Converting string to binary then xor binary", "body": "<p>Your question is unclear because you don't show how the two functions you defined where being used when the error occurred \u2014 therefore this answer is a guess.</p>\n\n<p>You can convert a binary string representation of an integer into a Python <code>int</code>, (which are stored internally as binary values) by simply using passing it to the <code>int()</code> function \u2014 as you're doing in the <code>xor_bin()</code> function. Once you have two <code>int</code> values, you can xor them \"in binary\" by simply using the <code>^</code> operator \u2014 which again, you seem to know.</p>\n\n<p>This means means to xor the binary string representations of two integers and convert the result back into a binary string representation could be done like this you one of your functions just as it is. Here's what I mean:</p>\n\n<pre><code>def xor_bin(a, b):\n    return int(a, 2) ^ int(b, 2)\n\n\ns1 = '0b11000101111001110010111001011100101'\ns2 = '0b00000000000000000000000000001111111'\n#    ---------------------------------------\n#    '0b11000101111001110010111001010011010'  expected result of xoring them\n\nresult = xor_bin(s1, s2)\nprint bin(result)  # -&gt; 0b11000101111001110010111001010011010\n</code></pre>\n"}], "owner": {"reputation": 185, "user_id": 8826866, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f9cda44212ca1b0a461b9afb21008c48?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Murphy", "link": "https://stackoverflow.com/users/8826866/dan-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1551922376, "creation_date": 1551916703, "last_edit_date": 1551919714, "question_id": 55034041, "link": "https://stackoverflow.com/questions/55034041/converting-string-to-binary-then-xor-binary", "title": "Converting string to binary then xor binary", "body": "<p>So I am trying to convert a string to binary then xor the binary by using the following methods</p>\n\n<pre><code>def string_to_binary(s):\n    return ' '.join(map(bin,bytearray(s,encoding='utf-8')))\n\ndef xor_bin(a,b):\n    return int(a,2) ^ int(b,2)\n</code></pre>\n\n<p>When I try and run the <code>xor_bin</code> function I get the following error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Exception has occurred: exceptions.ValueError\ninvalid literal for int() with base 2: '0b1100010 0b1111001 0b1100101 0b1100101 0b1100101'\n</code></pre>\n\n<p>I can't see what's wrong here.</p>\n"}, {"tags": ["python", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "reply_to_user": {"reputation": 3, "user_id": 4616927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dac5524ff27329949809bc505cf748?s=128&d=identicon&r=PG&f=1", "display_name": "tvortiz", "link": "https://stackoverflow.com/users/4616927/tvortiz"}, "edited": false, "score": 0, "creation_date": 1551956372, "post_id": 55034372, "comment_id": 96835090, "body": "Please accept it as the answer if it does solve your problem."}], "tags": [], "owner": {"reputation": 17763, "user_id": 5317403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8TwWN.png?s=128&g=1", "display_name": "acw1668", "link": "https://stackoverflow.com/users/5317403/acw1668"}, "is_accepted": true, "score": 0, "last_activity_date": 1551919273, "creation_date": 1551919273, "answer_id": 55034372, "question_id": 55034019, "link": "https://stackoverflow.com/questions/55034019/python-with-tkinter-auto-resize-buttons-but-keeping-same-size/55034372#55034372", "title": "python with TkInter - Auto resize buttons but keeping same size", "body": "<p>You can specify the <code>minsize</code> option in <code>columnconfigure(...)</code> as below:</p>\n\n<pre><code># get the width of the bigger button\nminwidth = max(self.btn1.winfo_reqwidth(), self.btn2.winfo_reqwidth())\nfor x in range(2):\n    Grid.columnconfigure(master, x, weight=1, minsize=minwidth)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4616927, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69dac5524ff27329949809bc505cf748?s=128&d=identicon&r=PG&f=1", "display_name": "tvortiz", "link": "https://stackoverflow.com/users/4616927/tvortiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 337, "favorite_count": 1, "accepted_answer_id": 55034372, "answer_count": 1, "score": 0, "last_activity_date": 1551919273, "creation_date": 1551916496, "question_id": 55034019, "link": "https://stackoverflow.com/questions/55034019/python-with-tkinter-auto-resize-buttons-but-keeping-same-size", "title": "python with TkInter - Auto resize buttons but keeping same size", "body": "<p>I'm working with python and TkInter.</p>\n\n<p>I need to place two buttons in a resizable screen that when the screen gets bigger, so do the buttons. \nI found how to do that in <a href=\"https://stackoverflow.com/questions/7591294/how-to-create-a-self-resizing-grid-of-buttons-in-tkinter\">here</a>.</p>\n\n<p>I also found how the weight in grid work in <a href=\"https://stackoverflow.com/questions/45847313/what-does-weight-do-in-tkinter\">here</a> and got what I wanted:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3GUSD.png\" rel=\"nofollow noreferrer\">Two buttons the same size</a></p>\n\n<p>In theory it works perfect, if I use weight 3 and 1 I should get a column 3 times bigger then the second, if I use 1 and 1 I get 50% each...</p>\n\n<p>My problem is when the text of one button is bigger then the other. \nI want my buttons to stay with 50% each and it's not what I'm getting:</p>\n\n<p><a href=\"https://i.stack.imgur.com/E9YPW.png\" rel=\"nofollow noreferrer\">Two buttons not the same size</a></p>\n\n<p>My code is:</p>\n\n<pre><code>class MyGUI:\n\ndef __init__(self, master):\n    self.master = master\n\n    self.btn1 = Button(master, text='X')\n    self.btn2 = Button(master, text='XXXXX')\n\n    self.btn1.grid(row=0, column=0, sticky=N+S+E+W)\n    self.btn2.grid(row=0, column=1, sticky=N+S+E+W)\n\n    for x in range(2):\n        Grid.columnconfigure(master, x, weight=1)\n\nroot = Tk()\nmy_gui = MyGUI(root)\nroot.mainloop()\n</code></pre>\n\n<p>So how do I make the buttons stay with 50% each regardless of the text in it?</p>\n"}, {"tags": ["python", "azure", "azure-blob-storage", "azure-databricks"], "answers": [{"comments": [{"owner": {"reputation": 1137, "user_id": 2546291, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51eb405deba9f4b60ce537e683d4f7a2?s=128&d=identicon&r=PG", "display_name": "m1nkeh", "link": "https://stackoverflow.com/users/2546291/m1nkeh"}, "edited": false, "score": 0, "creation_date": 1551951492, "post_id": 55038715, "comment_id": 96831911, "body": "thanks for the well reasoned response, not a bad idea.. will give it a twirl!"}, {"owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "reply_to_user": {"reputation": 1137, "user_id": 2546291, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51eb405deba9f4b60ce537e683d4f7a2?s=128&d=identicon&r=PG", "display_name": "m1nkeh", "link": "https://stackoverflow.com/users/2546291/m1nkeh"}, "edited": false, "score": 0, "creation_date": 1554190117, "post_id": 55038715, "comment_id": 97649418, "body": "@m1nkeh If it helps you, could you mark it? Thanks."}, {"owner": {"reputation": 1137, "user_id": 2546291, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51eb405deba9f4b60ce537e683d4f7a2?s=128&d=identicon&r=PG", "display_name": "m1nkeh", "link": "https://stackoverflow.com/users/2546291/m1nkeh"}, "edited": false, "score": 0, "creation_date": 1554205599, "post_id": 55038715, "comment_id": 97658482, "body": "in the end i actually used the python blob storage SDK.. it was fast enough for my use case :D"}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": false, "score": 1, "last_activity_date": 1551945407, "creation_date": 1551945407, "answer_id": 55038715, "question_id": 55034007, "link": "https://stackoverflow.com/questions/55034007/databricks-list-all-blobs-in-azure-blob-storage/55038715#55038715", "title": "Databricks list all blobs in Azure Blob Storage", "body": "<p>Per my experience and based on my understanding for Azure Blob Storage, all operations in SDK or others on Azure Blob Storage will be translated to REST API calling. So your <code>dbutils.fs.ls</code> calling is actually calling the related REST API <a href=\"https://docs.microsoft.com/en-us/rest/api/storageservices/list-blobs\" rel=\"nofollow noreferrer\"><code>List Blobs</code></a> on a \nBlob container. </p>\n\n<p>Therefore, I'm sure the performance neck of your code is really affected by transfering the data of amount size of the <code>XML</code> response body of blobs list on Blob Storage to extract blob names to the <code>list</code> variable , even there is around 160,000 blobs.</p>\n\n<p>Meanwhile, all blob names will be wrapped in many slices of XML response, and there is a <code>MaxResults</code> limit per slice, and to get next slice is depended on the <code>NextMarker</code> value of previous slice. The above reason is why to list blobs slow, and it can not be parallelism.</p>\n\n<p>My suggestion for enhancing the efficiency of loading blob list is to cache the result of list blobs in advance, such as to generate a blob to write the blob list line by line. Considering for realtime update, you can try to use <a href=\"https://docs.microsoft.com/en-us/azure/azure-functions/functions-create-storage-blob-triggered-function\" rel=\"nofollow noreferrer\">Azure Function with Blob Trigger</a> to add the blob name record to an Append Blob when an event of blob creation happened.</p>\n"}], "owner": {"reputation": 1137, "user_id": 2546291, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/51eb405deba9f4b60ce537e683d4f7a2?s=128&d=identicon&r=PG", "display_name": "m1nkeh", "link": "https://stackoverflow.com/users/2546291/m1nkeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2109, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1566489966, "creation_date": 1551916420, "question_id": 55034007, "link": "https://stackoverflow.com/questions/55034007/databricks-list-all-blobs-in-azure-blob-storage", "title": "Databricks list all blobs in Azure Blob Storage", "body": "<p>I have mounted a Blob Storage Account in to Databricks, and can access it fine, so i know that it works.</p>\n\n<p>What i want to do though, is list out the names all of the files at a given path.. currently i'm doing this with:</p>\n\n<pre><code>list = dbutils.fs.ls('dbfs:/mnt/myName/Path/To/Files/2019/03/01')\ndf = spark.createDataFrame(list).select('name')\n</code></pre>\n\n<p>The issue i have though, is that it's exceptionally slow.. due to there being around 160,000 blobs at that location (storage explorer shows this as ~1016106592 bytes which is 1Gb!)</p>\n\n<p>This surely can't be pulling down all this data, all i need/want is the filename..</p>\n\n<p>Is blob storage my bottle neck, or can i (somehow) get Databricks to execute the command in parallel or something?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "function"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1551916426, "post_id": 55033993, "comment_id": 96820485, "body": "<code>return</code> ends the function immediately - even if it&#39;s in the first iteration of a loop. Instead of returning, you should do something like append the value to an array and return that after the loop is complete. (I don&#39;t see that this code should return <code>None</code> btw, it should return either <code>&quot;head&quot;</code> or <code>&quot;tail&quot;</code> according to the one random flip it actually does)."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1551916473, "post_id": 55033993, "comment_id": 96820500, "body": "I don&#39;t see how this code could possibly print &quot;None&quot;. Can we have a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>; i.e. formatted code?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1551916705, "post_id": 55033993, "comment_id": 96820562, "body": "When I run this, it prints <code>head head</code> (on separate lines), once for each call."}, {"owner": {"reputation": 7091, "user_id": 1836618, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/552e7df10bda07699d7771ad835c691c?s=128&d=identicon&r=PG", "display_name": "Peter Featherstone", "link": "https://stackoverflow.com/users/1836618/peter-featherstone"}, "edited": false, "score": 2, "creation_date": 1551916775, "post_id": 55033993, "comment_id": 96820584, "body": "Change the <code>return</code> inside <code>ply</code> to be the <code>print</code> or build a list and return that at the end and then print that. Currently <code>return TC()</code> will just return after the first iteration."}], "answers": [{"tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": false, "score": 0, "last_activity_date": 1551918430, "creation_date": 1551918430, "answer_id": 55034261, "question_id": 55033993, "link": "https://stackoverflow.com/questions/55033993/repeating-a-function-with-another-function/55034261#55034261", "title": "Repeating a function with another function", "body": "<p>Just to start, your method naming is very bad. I doubt this is how your professor is teaching you to name methods and variables. It's ugly, against Python standards and hard to read I suggest you take some time and read <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP 8</a> it's how python was intended to be written.</p>\n\n<p>So instead of <code>TC</code> you should use something like <code>flip_coin</code> and instead of <code>ply</code> use something like <code>play_coin_flip</code> or even simply <code>play</code>.</p>\n\n<p>Next I don't know if I'm stepping outside of what you have learned but instead of using <code>randon.randint</code> you can use <code>randon.choice</code>.</p>\n\n<p>And finally, as others have said, when you return you quit any other execution in a function and return whatever variable you retrun in that statement thus nullifying any other iterations of the loop you're performing. I suggest something like the below as a better program with corrections applied to make it function as intended.</p>\n\n<pre><code>from random import choice\n\nfaces = ['head', 'tail']\n\ndef flip_coin():\n    face = choice(faces)\n    return face\n\ndef play_coin_flip(flips = 1):\n    for i in range(flips):\n        print(flip_coin)\n\nif __name__ == \"__main__\":\n    play_coin_flip(100)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11162593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8a8822c741e65bce9b298d9a718be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Treehugger101", "link": "https://stackoverflow.com/users/11162593/treehugger101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551918430, "creation_date": 1551916319, "last_edit_date": 1551916585, "question_id": 55033993, "link": "https://stackoverflow.com/questions/55033993/repeating-a-function-with-another-function", "title": "Repeating a function with another function", "body": "<p>for an assignment we needed to make a function that flipped a coin and another to flip it 100 times. I was able to make a function that flipped a coin, but got stuck when trying to call it a 100 times with another function. This is what I have right now:</p>\n\n<pre><code>import random\n\ndef TC():\n    face = random.randint(0,1)\n    if face == 1:\n        return \"head\"\n    else:\n        return \"tail\"\n\nprint TC()\n\ndef ply(flips):\n    for i in range(flips):\n        return TC()\n\n\nprint ply(100)\n</code></pre>\n\n<p>When I run it it just says 'none.' Please tell me where I am going wrong. Thank You!</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 1772, "user_id": 2421817, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/GFWOi.jpg?s=128&g=1", "display_name": "kerwei", "link": "https://stackoverflow.com/users/2421817/kerwei"}, "edited": false, "score": 0, "creation_date": 1551924961, "post_id": 55033982, "comment_id": 96822404, "body": "I&#39;ve never used the plugin before but based on this <a href=\"https://programtalk.com/python-examples/mpld3.plugins.InteractiveLegendPlugin/\" rel=\"nofollow noreferrer\">link</a>, it seems like you may have other construct options"}], "owner": {"reputation": 85, "user_id": 10187312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d2c91975113f2d756698d7209603450?s=128&d=identicon&r=PG&f=1", "display_name": "Carolina", "link": "https://stackoverflow.com/users/10187312/carolina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551919382, "creation_date": 1551916185, "last_edit_date": 1551919382, "question_id": 55033982, "link": "https://stackoverflow.com/questions/55033982/zip-list-created-by-iteration-to-use-in-mpld3-interactivelegendplugin", "title": "Zip list created by iteration to use in mpld3 InteractiveLegendPlugin", "body": "<p>I want to apply mpd3 interactive legend plugin to all suplots in my figure, something like this:</p>\n\n<pre><code>d = {'x': [1,2,3,4,1,2,3,4,1,2,3,4],\n     'y1': np.random.randn(12),\n     'y2': np.random.randn(12),\n     'y3': np.random.randn(12),\n     'hue': ['a','a','a','a','b','b','b','b','c','c','c','c']}\ndf = pd.DataFrame(d)\n\nfig, ax = plt.subplots(1, 3, figsize=(12,7))\n\n\nplot_list = ['y1','y2','y3']\nsub=1\nk = df.hue.nunique()\nlines = []\nfor y in plot_list:\n  plt.subplot(1, 3, sub)\n\n  ax = sns.lineplot('x',y,'hue',data=df, ci=None, palette=sns.cubehelix_palette(k, start=.2, rot=-.3))\n  handles, labels = ax.get_legend_handles_labels() # return lines and labels\n  ax.get_legend().remove()\n  lines = lines + (plt.subplot(1, 3, sub).lines) #this doesn't do anything in the code as it is right now\n  sub=sub+1\n\ninteractive_legend = InteractiveLegendPlugin(zip(handles[1:], \n                                                 (plt.subplot(1, 3, 1).lines),\n                                                 (plt.subplot(1, 3, 2).lines),\n                                                 (plt.subplot(1, 3, 3).lines)\n                                                ),\n                                                   labels[1:],\n                                                   alpha_unsel=0.1,\n                                                   alpha_over=1.5, \n                                                   start_visible=True, font_size=18, legend_offset=(750, -20))\n\n\n\nplugins.connect(fig, interactive_legend)\n\nplt.subplots_adjust(bottom=0.25, right=0.9, left=0.05, top=0.88, wspace=0.2, hspace= 0.7)\n\ndisplayHTML(mpld3.fig_to_html(fig))\n</code></pre>\n\n<p>This code works for what I want, but as it is a have to manually add <code>(plt.subplot(1, 3, 3).lines)</code> for each subplot I create, which looks very ugly, as in the original code I have 12 subplots. </p>\n\n<p>I imagine there must be very simple way to do this as I iterate through the \"for\", but I tried things like \nadding the <code>lines = lines + (plt.subplot(1, 3, sub).lines)</code> and using it inside the zip and it doesn't work. It ends up applying the plugin only to one of the plots. </p>\n\n<p>I also tried replacing the \"+\" for a \",\" but with this the code doesn't even work. </p>\n\n<p>I may be overexplaning myself now, but I believe the problem may be that I need the result of \"lines\" after the iterations to be something like this:</p>\n\n<pre><code>[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;],\n[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;],\n[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;]\n</code></pre>\n\n<p>But using \"+\" I get something like:</p>\n\n<pre><code>[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;]\n</code></pre>\n\n<p>And \",\" something like this:</p>\n\n<pre><code>((([],[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;]),\n[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;]),\n[&lt;matplotlib.lines.Line2D at 0x7f16ab20d240&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20df28&gt;,\n&lt;matplotlib.lines.Line2D at 0x7f16ab20d710&gt;])\n</code></pre>\n\n<p>So neither works.</p>\n\n<p>I tried other approachs to reach this and failed, and as it is hard to see the result of the zip (and the code only seem to work with the zip), I'm out of options</p>\n"}, {"tags": ["python", "matplotlib", "plot"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1551916232, "post_id": 55033959, "comment_id": 96820429, "body": "Is speed a large consideration for your result?"}, {"owner": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1551916262, "post_id": 55033959, "comment_id": 96820443, "body": "yes. i have 482 plots to do this with.  well over a million data points overall lol"}, {"owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 0, "creation_date": 1551916713, "post_id": 55033959, "comment_id": 96820564, "body": "Do you need to reproject along that axis or can you basically just trim it horizontally as close as possible? One option is to just select only the data you want, potentially by chucking your data into a pandas df and taking a slice over the value range you want. Also, is this hoizontal-ish line you show of a variable nature? Can it range all the way up to vertical? Since it is a best fit I am guessing so."}, {"owner": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "edited": false, "score": 0, "creation_date": 1551917333, "post_id": 55033959, "comment_id": 96820714, "body": "i don&#39;t need to reproject, just toss all the values above and below the lines.  the&#39;yre linear, but not horizontal"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "edited": false, "score": 0, "creation_date": 1551916899, "post_id": 55034006, "comment_id": 96820607, "body": "this seems like it has potential to work, but my &quot;equation&quot; array is not as long as my color array, so it can&#39;t broadcast the elements together"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "edited": false, "score": 0, "creation_date": 1551917623, "post_id": 55034006, "comment_id": 96820803, "body": "Then you need to create an equation of straight line for y1 and y2 and then get the indices of values which are between and two lines"}, {"owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "reply_to_user": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "edited": false, "score": 0, "creation_date": 1551917896, "post_id": 55034006, "comment_id": 96820867, "body": "just use the first and the last point to create equation of straight line"}], "tags": [], "owner": {"reputation": 31711, "user_id": 4932316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OL5Si.png?s=128&g=1", "display_name": "Sheldore", "link": "https://stackoverflow.com/users/4932316/sheldore"}, "is_accepted": false, "score": 1, "last_activity_date": 1551916415, "creation_date": 1551916415, "answer_id": 55034006, "question_id": 55033959, "link": "https://stackoverflow.com/questions/55033959/eliminate-plot-values-above-and-below-a-value/55034006#55034006", "title": "Eliminate plot values above and below a value", "body": "<p>You can make use of indexing and create a mask defining your boundary conditions since your <code>equation</code> seems to be a NumPy array as you are performing arithmetic operation (<code>+0.5</code>) on it as</p>\n\n<pre><code>y1 = equation - 0.5\ny2 = equation + 0.5\n\nmask = (color&gt;y1) &amp; (color&lt;y2)\n\nplt.scatter(magnitude[mask], color[mask])\nplt.plot(x, equation)\nplt.plot(x, y1, linestyle =  '--')\nplt.plot(x, y2, linestyle = '--')\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 11009832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a26e592daba5f6faa528b8935397b91?s=128&d=identicon&r=PG&f=1", "display_name": "AWiltzer", "link": "https://stackoverflow.com/users/11009832/awiltzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551916415, "creation_date": 1551916034, "question_id": 55033959, "link": "https://stackoverflow.com/questions/55033959/eliminate-plot-values-above-and-below-a-value", "title": "Eliminate plot values above and below a value", "body": "<p>I'm graphing several points and I want to eliminate all values above and below a given range.</p>\n\n<p>So i've plotted all my points as </p>\n\n<pre><code>import numpy as np\nimport matplotlib.pylab as plt\n</code></pre>\n\n<p>I have two arrays: \"magnitude\" and \"color\", and equations of best fit so im plotting as:</p>\n\n<pre><code>plt.scatter(magnitude,color)\nplt.plot(x,equation)\nplt.plot(x,equation +0.5, linestyle =  '--')\nplt.plot(x,equation-0.5, linestyle = '--')\n</code></pre>\n\n<p>where x is just some linspace.\nIt gives me a plot that looks like this:\n<a href=\"https://i.stack.imgur.com/h0CAy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h0CAy.png\" alt=\"enter image description here\"></a></p>\n\n<p>which is exactly what I want, but now I want to remove all of the points above and below the red dotted lines (which are equation +0.5, and equation -0.5) but I really have no clue how to do this.  Tips?</p>\n"}, {"tags": ["python", "css", "django", "django-forms", "choicefield"], "answers": [{"tags": [], "owner": {"reputation": 8696, "user_id": 10746224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/znUL5.jpg?s=128&g=1", "display_name": "Lord Elrond", "link": "https://stackoverflow.com/users/10746224/lord-elrond"}, "is_accepted": false, "score": 0, "last_activity_date": 1551916996, "creation_date": 1551916996, "answer_id": 55034088, "question_id": 55033935, "link": "https://stackoverflow.com/questions/55033935/how-can-i-prevent-css-header-from-making-drop-downs-disapear-in-django-form/55034088#55034088", "title": "How can I prevent CSS header from making drop downs disapear in Django form", "body": "<p>Make sure to add this to the top of the page:</p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt; //always include this at the top of the page of your base file\n&lt;html&gt;\n</code></pre>\n\n<p>Scripts always go on the bottom of the page <strong>before</strong> the closing <code>&lt;/body&gt;</code> tag: </p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"{% static \"tinymce/js/prism.js\" %}\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>This is generally rendered with with a <code>footer.html</code> template using <code>{% include 'footer.html' %}</code></p>\n\n<p>I added the <code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;</code> jquery script because it looks like the cloudfare materialize script requires it (although I'm not sure).  Regardless, you should be using <a href=\"http://jquery.com/\" rel=\"nofollow noreferrer\">jQuery</a> on all your html files! ;-) </p>\n\n<p>Also, I'm not sure if this will fix your problem or not, but its generally good practice to make sure <strong>all</strong> of your elements have closing tags (if they require them).  There might be a random <code>&lt;div&gt;</code> tag on your name.html (or somewhere else) that is causing unexpected errors.</p>\n"}], "owner": {"reputation": 93, "user_id": 9706484, "user_type": "registered", "profile_image": "https://graph.facebook.com/2152919491391170/picture?type=large", "display_name": "Matthew Macfarlane", "link": "https://stackoverflow.com/users/9706484/matthew-macfarlane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551916996, "creation_date": 1551915854, "question_id": 55033935, "link": "https://stackoverflow.com/questions/55033935/how-can-i-prevent-css-header-from-making-drop-downs-disapear-in-django-form", "title": "How can I prevent CSS header from making drop downs disapear in Django form", "body": "<p>Hello I am using modelforms . One of my entries is a ChoiceField, when I have my CSS header in the name.html file (the html file for the form page) the page does not show the drop downs. When I remove this header in name.html the drop downs show. Can anyone explain what is happening?</p>\n\n<p>name.html </p>\n\n<pre><code>{% extends 'fitness/header.html' %}\n\n{% block content %}\n    &lt;form method=\"post\"&gt;\n        {% csrf_token %}\n        {{form.as_p}}\n        &lt;input type=\"submit\" value=\"Submit\"&gt;\n    &lt;/form&gt;\n\n{% endblock %}\n</code></pre>\n\n<p>header.html</p>\n\n<pre><code>&lt;head&gt;\n    {% load static %}\n    &lt;!-- Prism CSS --&gt;\n    &lt;link href=\"{% static \"tinymce/css/prism.css\" %}\" rel=\"stylesheet\"&gt;\n    &lt;!-- Compiled and minified CSS --&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css\"&gt;\n    &lt;!-- Compiled and minified JavaScript --&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js\"&gt;&lt;/script&gt;\n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n\n  &lt;nav&gt;\n    &lt;div class=\"nav-wrapper\"&gt;\n      &lt;a href=\"#\" class=\"brand-logo\"&gt;Gainz.com&lt;/a&gt;    &lt;!\u2013\u2013    Need to adjust this logo           \u2013\u2013&gt;\n      &lt;ul id=\"nav-mobile\" class=\"right \n\n      hide-on-med-and-down\"&gt;\n\n\n        {% if user.is_authenticated %}\n\n          &lt;li&gt;&lt;a href=\"/profile\"&gt;profile&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/logout\"&gt;logout&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/dashboard\"&gt;dashboard&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/feed\"&gt;feed&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/forum\"&gt;forum&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/manual\"&gt;manual entry&lt;/a&gt;&lt;/li&gt;\n\n\n        {% else %}\n\n          &lt;li&gt;&lt;a href=\"/\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/feed\"&gt;feed&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/login\"&gt;login&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"/register\"&gt;register&lt;/a&gt;&lt;/li&gt;\n\n        {% endif %}\n\n      &lt;/ul&gt;\n    &lt;/div&gt;\n  &lt;/nav&gt;\n\n\n  {% block content %}\n\n  {% endblock %}\n\n\n&lt;/body&gt;\n\n\n\n\n&lt;!-- Prism JS --&gt;\n&lt;script src=\"{% static \"tinymce/js/prism.js\" %}\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "edited": false, "score": 0, "creation_date": 1551917061, "post_id": 55033929, "comment_id": 96820646, "body": "&quot;getSavings(bill)&quot; has the variable hours in it yet you haven&#39;t defined what hours is? As mentioend below, pass all the variables you need into your function, def myfunc(input1, input2, input3,)"}], "answers": [{"tags": [], "owner": {"reputation": 450, "user_id": 10813463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RByWNItLv0/AAAAAAAAAAI/AAAAAAAAAGg/n1O8RqzoTQU/photo.jpg?sz=128", "display_name": "Nick Vitha", "link": "https://stackoverflow.com/users/10813463/nick-vitha"}, "is_accepted": false, "score": 3, "last_activity_date": 1551916694, "creation_date": 1551916694, "answer_id": 55034039, "question_id": 55033929, "link": "https://stackoverflow.com/questions/55033929/program-for-internet-service-provider/55034039#55034039", "title": "Program for Internet Service Provider", "body": "<p>You can pass in multiple parameters to a function.</p>\n\n<pre><code>def printBill(bill)\n</code></pre>\n\n<p>becomes:</p>\n\n<pre><code>def printBill(bill,hours):\n</code></pre>\n\n<p>and you call it with:</p>\n\n<pre><code>printBill(bill,hours)\n</code></pre>\n\n<p>You will also have to pass it to getSavings in the same way.</p>\n"}, {"tags": [], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "is_accepted": true, "score": 1, "last_activity_date": 1551917878, "last_edit_date": 1551917878, "creation_date": 1551917488, "answer_id": 55034157, "question_id": 55033929, "link": "https://stackoverflow.com/questions/55033929/program-for-internet-service-provider/55034157#55034157", "title": "Program for Internet Service Provider", "body": "<p>You need to pass hours to every function that needs to use it, also when you RETURN something, it needs a place to get returned to. So you were saying if hours were &lt; 10, return 9.95, but when you say return it sends the code back to the place it got called, you didnt assign this to a variable, so bill defaults to $1. Here is the updated code to work</p>\n\n<pre><code>    #Bill for Package A\ndef getPackageA(hours):\n    if hours &lt; 10:\n        return 9.95 #Cost of Package A\n    else:\n        return (hours-10)*2 + 9.95\n\n\n#Bill for Package B\ndef getPackageB(hours):\n    if hours &lt; 20:\n        return 13.95 #Cost of Package B\n    else:\n        return (hours - 20) + 13.95\n\n\n#Bill for Package C\ndef getPackageC():\n    return 19.95 #Cost of Package C\n\n\n#Print Bill and savings\ndef printBill(bill, hours):\n    if (bill != 0):\n        print(\"Your monthly bill is $\", format(bill, '.2f'), sep='')\n        getSavings(bill, hours)\n        print('\\n')\n\n\n#Checks and display savings if applicable\ndef getSavings(bill, hours):\n    if bill &gt; getPackageA(hours):\n        print(\"If you had package A, you'd save $\",\\\n            format(bill - getPackageA(hours),'.2f'), sep='')\n    if bill &gt; getPackageB(hours):\n        print(\"If you had package B, you'd save $\",\\\n            format(bill - getPackageB(hours),'.2f'), sep='')\n    if bill &gt; getPackageC():\n        print(\"If you had package C, you'd save $\",\\\n              format(bill - getPackageC(), '.2f'), sep='')\n\n\ndef main():\n    bill = 1\n    #Asks user to enter choice of package and hours used\n    packageChoice = str(input(\"Enter package purchased (A, B, or C): \"))\n    hours = int(input(\"Enter the number of hours used: \"))\n\n    if packageChoice in ('a', 'A') :\n        bill = getPackageA(hours)\n    elif packageChoice.lower() == 'b':\n        bill = getPackageB(hours)\n    elif packageChoice.upper() == 'C':\n        bill = getPackageC()\n    else:\n        print(\"Package choice must be A, B, or C.\")\n\n    printBill(bill, hours)\n\n\nmain()\n</code></pre>\n\n<p>I also edited your main() function to show you different ways to check responses. You also don't need to wrap things in brackets in Python in IF statements.</p>\n"}, {"tags": [], "owner": {"reputation": 2220, "user_id": 5250453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9de95c1fce91a3a5031507466e580744?s=128&d=identicon&r=PG", "display_name": "daaawx", "link": "https://stackoverflow.com/users/5250453/daaawx"}, "is_accepted": false, "score": 0, "last_activity_date": 1551917911, "creation_date": 1551917911, "answer_id": 55034211, "question_id": 55033929, "link": "https://stackoverflow.com/questions/55033929/program-for-internet-service-provider/55034211#55034211", "title": "Program for Internet Service Provider", "body": "<p>To answer your question, you can simply do:</p>\n\n<pre><code>bill = 1\nbill += getPackage()  # call function and add return value to total bill\nprintBill(bill)\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11132254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40df02abb051a57e8b3c20f8f958cfd9?s=128&d=identicon&r=PG&f=1", "display_name": "Sleepy", "link": "https://stackoverflow.com/users/11132254/sleepy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 238, "favorite_count": 0, "accepted_answer_id": 55034157, "answer_count": 3, "score": 2, "last_activity_date": 1551917911, "creation_date": 1551915816, "question_id": 55033929, "link": "https://stackoverflow.com/questions/55033929/program-for-internet-service-provider", "title": "Program for Internet Service Provider", "body": "<p>I am writing an internet service provider program. My problem with the code is that it is not printing the monthly bill correctly.</p>\n\n<p>For example:\nIf the user enters package \"A\" and num of hours used (say 9 hrs)\nThen it should print 9.95 when the function printBill is called</p>\n\n<p>My question: How can I call the data from getPackage() to the function printBill()</p>\n\n<pre><code>#Bill for Package A\ndef getPackageA(hours):\n    if (hours &lt; 10):\n        return 9.95 #Cost of Package A\n    else:\n        return (hours-10)*2 + 9.95\n\n#Bill for Package B\ndef getPackageB(hours):\n    if (hours &lt; 20):\n        return 13.95 #Cost of Package B\n    else:\n        return (hours - 20) + 13.95\n\n#Bill for Package C\ndef getPackageC():\n    return 19.95 #Cost of Package C\n\n#Print Bill and savings\ndef printBill(bill):\n    if (bill != 0):\n        print(\"Your monthly bill is $\", format(bill, '.2f'), \n        sep = '')\n        getSavings(bill)\n        print()\n        print()\n    else:\n        print()\n\n\n#Checks and display savings if applicable\ndef getSavings(bill):\n    if(bill &gt; getPackageA(hours)):\n        print(\"If you had package A, you'd save $\",\\\n            format(bill - getPackageA(hours),'.2f'), sep = \n            '')\n    if(bill &gt; getPackageB(hours)):\n        print(\"If you had package B, you'd save $\",\\\n            format(bill - getPackageB(hours),'.2f'), sep = \n            '')\n    if(bill &gt; getPackageC()):\n        print(\"If you had package C, you'd save $\",\\\n              format(bill - getPackageC(), '.2f'), sep = '')\n\ndef main():\n    bill = 1\n    #Asks user to enter choice of package and hours used\n    packageChoice = str(input(\"Enter package purchased (A, \n    B, or C): \"))\n    hours = int(input(\"Enter the number of hours used: \"))\n\n    if(packageChoice == 'A' or packageChoice == 'a'):\n        getPackageA(hours)\n    elif (packageChoice == 'B' or packageChoice == 'b'):\n        getPackageB(hours)\n    elif (packageChoice == 'C' or packageChoice == 'c'):\n        getPackageC()\n    else:\n        print(\"Package choice must be A, B, or C.\")\n\n    printBill(bill)\n\nmain()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy", "indexing"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 6, "last_activity_date": 1551916405, "creation_date": 1551916405, "answer_id": 55034005, "question_id": 55033915, "link": "https://stackoverflow.com/questions/55033915/numpy-how-to-index-2d-array-with-1d-array/55034005#55034005", "title": "Numpy: How to index 2d array with 1d array?", "body": "<p>Since you have the column indices, all you need are the row indices. You can generate those with <code>arange</code>.</p>\n\n<pre><code>&gt;&gt;&gt; a[np.arange(len(a)), idx]\n array([72, 87, 25, 94, 28, 67])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 182, "user_id": 8082086, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011ffc1eee6f7e94bfe6c2fafdff0358?s=128&d=identicon&r=PG&f=1", "display_name": "leo", "link": "https://stackoverflow.com/users/8082086/leo"}, "is_accepted": false, "score": 1, "last_activity_date": 1607447381, "creation_date": 1607447381, "answer_id": 65203572, "question_id": 55033915, "link": "https://stackoverflow.com/questions/55033915/numpy-how-to-index-2d-array-with-1d-array/65203572#65203572", "title": "Numpy: How to index 2d array with 1d array?", "body": "<p>Is there any way to get by this without <code>arange</code>? It seems counterintuitive to me that something like</p>\n<pre class=\"lang-py prettyprint-override\"><code>a[idx.reshape(-1,1)]\n</code></pre>\n<p>or</p>\n<pre class=\"lang-py prettyprint-override\"><code>a[:,idx]\n</code></pre>\n<p>would not produce this result.</p>\n"}], "owner": {"reputation": 2783, "user_id": 2722504, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/72ff43ae6c37ced4d244c7f7ddcf30d3?s=128&d=identicon&r=PG&f=1", "display_name": "MichaelSB", "link": "https://stackoverflow.com/users/2722504/michaelsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1395, "favorite_count": 1, "protected_date": 1603175480, "accepted_answer_id": 55034005, "answer_count": 2, "score": 4, "last_activity_date": 1607447381, "creation_date": 1551915669, "last_edit_date": 1551972922, "question_id": 55033915, "link": "https://stackoverflow.com/questions/55033915/numpy-how-to-index-2d-array-with-1d-array", "title": "Numpy: How to index 2d array with 1d array?", "body": "<p>I have a 2d array:</p>\n\n<pre><code>a = np.random.randint(100, size=(6, 4))\n[[72 76 40 11]\n [48 82  6 87]\n [53 24 25 99]\n [ 7 94 82 90]\n [28 81 10  9]\n [94 99 67 58]]\n</code></pre>\n\n<p>And a 1d array: </p>\n\n<pre><code>idx = np.random.randint(4, size=6)\n[0, 3, 2, 1, 0, 2]\n</code></pre>\n\n<p>Is it possible to index the 2d array so that the result is:</p>\n\n<pre><code>a[idx]\n[72, 87, 25, 94, 28, 67]\n</code></pre>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1551916222, "post_id": 55033914, "comment_id": 96820425, "body": "The error (which btw you should include directly in your post, not as a link or image) clearly says that Django can&#39;t find your <code>base.html</code>. So please show us where it is in your file structure, and what the <code>TEMPLATES</code> setting is in <code>settings.py</code>"}, {"owner": {"reputation": 1130, "user_id": 8966274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g6t6A.jpg?s=128&g=1", "display_name": "Bidhan Majhi", "link": "https://stackoverflow.com/users/8966274/bidhan-majhi"}, "edited": false, "score": 0, "creation_date": 1551940177, "post_id": 55033914, "comment_id": 96826270, "body": "You don&#39;t have a base.html file how it will be extended. Create base.html first."}, {"owner": {"reputation": 11, "user_id": 11160791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qZP5CHPbpdM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcHLN2ki7O7mopG9oMbaTFwcZ6Tpg/mo/photo.jpg?sz=128", "display_name": "Merari Christian", "link": "https://stackoverflow.com/users/11160791/merari-christian"}, "edited": false, "score": 0, "creation_date": 1551952789, "post_id": 55033914, "comment_id": 96832739, "body": "I already create base.html"}, {"owner": {"reputation": 11, "user_id": 11160791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qZP5CHPbpdM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcHLN2ki7O7mopG9oMbaTFwcZ6Tpg/mo/photo.jpg?sz=128", "display_name": "Merari Christian", "link": "https://stackoverflow.com/users/11160791/merari-christian"}, "edited": false, "score": 0, "creation_date": 1551953045, "post_id": 55033914, "comment_id": 96832889, "body": "base.html is on : myapp/templates/base.html"}], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 5295778, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/00b1b27df967704477a8dfbafcb2a3d8?s=128&d=identicon&r=PG&f=1", "display_name": "cristian", "link": "https://stackoverflow.com/users/5295778/cristian"}, "is_accepted": false, "score": 0, "last_activity_date": 1594902755, "last_edit_date": 1594902755, "creation_date": 1594901929, "answer_id": 62934526, "question_id": 55033914, "link": "https://stackoverflow.com/questions/55033914/django-private-chat-in-templatedoesnotexist-at-dialogs/62934526#62934526", "title": "Django-Private-Chat in , TemplateDoesNotExist at /dialogs/", "body": "<p>You should copy both 'dialogs.html' and 'base.html' from:</p>\n<pre><code>\\your_virtualenvs\\your_project\\Lib\\site-packages\\django_private_chat\\templates\\django_private_chat\\\n</code></pre>\n<p>into:</p>\n<pre><code>\\your_project\\templates\\django_private_chat\\\n</code></pre>\n<p>in order to modify them accordingly.</p>\n<p>And add this to your settings if you din't already:</p>\n<pre><code>TEMPLATES = [\n    {\n       ...\n       'DIRS': [ os.path.join( BASE_DIR, 'templates' ) ],\n       ...\n    }\n]\n</code></pre>\n<p>Reference:</p>\n<p><a href=\"https://django-private-chat.readthedocs.io/en/latest/readme.html#example-project\" rel=\"nofollow noreferrer\">https://django-private-chat.readthedocs.io/en/latest/readme.html#example-project</a></p>\n"}], "owner": {"reputation": 11, "user_id": 11160791, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qZP5CHPbpdM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcHLN2ki7O7mopG9oMbaTFwcZ6Tpg/mo/photo.jpg?sz=128", "display_name": "Merari Christian", "link": "https://stackoverflow.com/users/11160791/merari-christian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1594902755, "creation_date": 1551915666, "last_edit_date": 1551917195, "question_id": 55033914, "link": "https://stackoverflow.com/questions/55033914/django-private-chat-in-templatedoesnotexist-at-dialogs", "title": "Django-Private-Chat in , TemplateDoesNotExist at /dialogs/", "body": "<p><img src=\"https://i.stack.imgur.com/u3lEo.png\" alt=\"\"></p>\n\n<p>This is the code of my <code>base.html</code>     </p>\n\n<p>{% comment %}\nAs the developer of this package, don't place anything here if you can help it\nsince this allows developers to have interoperability between your template\nstructure and their own.</p>\n\n<p>Example: Developer melding the 2SoD pattern to fit inside with another pattern::</p>\n\n<pre><code>{% extends \"base.html\" %}\n{% load static %}\n\n&lt;!-- Their site uses old school block layout --&gt;\n{% block extra_js %}\n\n    &lt;!-- Your package using 2SoD block layout --&gt;\n    {% block javascript %}\n        &lt;script src=\"{% static 'js/ninja.js' %}\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    {% endblock javascript %}\n\n{% endblock extra_js %}{% endcomment %}\n</code></pre>\n\n<p>This is code of dialogs.html</p>\n\n<pre><code>{% extends \"base.html\" %}\n{% load static %}\n{% load i18n %}\n{% block css %}\n{{ block.super }}\n    &lt;link href=\"{% static 'django_private_chat/css/django_private_chat.css' %}\" rel=\"stylesheet\" type=\"text/css\" media=\"all\"&gt;\n{% endblock css %}\n{% block content %}\n&lt;input id=\"owner_username\" type=\"hidden\" value=\"{{ request.user.username }}\"&gt;\n&lt;div class=\"container\"&gt;\n    &lt;div class=\"col-md-3\"&gt;\n        &lt;div class=\"user-list-div\"&gt;\n            &lt;ul&gt;\n{% for dialog in object_list %}\n                    &lt;li&gt;\n                        {% if dialog.owner == request.user %}\n                            {% with dialog.opponent.username as username %}\n                                &lt;a href=\"{% url 'dialogs_detail' username %}\" id=\"user-{{ username }}\"\n                                   class=\"btn btn-danger\"&gt;{% trans \"Chat with\" %} {{ username }}&lt;/a&gt;\n                            {% endwith %}\n                        {% else %}\n                            {% with dialog.owner.username as username %}\n                                &lt;a href=\"{% url 'dialogs_detail' username %}\" id=\"user-{{ username }}\"\n                                   class=\"btn btn-danger\"&gt;{% trans \"Chat with\" %} {{ username }}&lt;/a&gt;\n                            {% endwith %}\n                        {% endif %}\n                    &lt;/li&gt;\n                {% endfor %}\n            &lt;/ul&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;div class=\"col-md-9\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-md-3 col-md-offset-9\"&gt;\n                &lt;span class=\"pull-right\" hidden id=\"typing-text\"&gt;\n                    &lt;strong&gt;{{ opponent_username }} {% trans \"is typing...\" %}&lt;/strong&gt;\n                &lt;/span&gt;\n            &lt;/div&gt;\n            &lt;p&gt;\n                {{ opponent_username }}\n            &lt;/p&gt;\n            &lt;p class=\"text-success\" id=\"online-status\" style=\"display: none\"&gt;{% trans \"Online\" %}&lt;/p&gt;\n            &lt;p class=\"text-danger\" id=\"offline-status\" style=\"display: none\"&gt;{% trans \"Offline\" %}&lt;/p&gt;\n\n            &lt;div class=\"messages-container\"&gt;\n                &lt;div id=\"messages\" class=\"messages\"&gt;\n                    {% for msg in active_dialog.messages.all %}\n                        &lt;div class=\"row {% if msg.read %}msg-read{% else %}msg-unread{% endif %}\"\n                             data-id=\"{{ msg.id }}\"&gt;\n                            &lt;p class=\"{% if msg.sender == request.user %}pull-left{% else %}pull-right{% endif %}\"&gt;\n                                &lt;span class=\"username\"&gt;{{ msg.sender.username }}:&lt;/span&gt;\n                                {{ msg.text }}\n                                &lt;span class=\"timestamp\"&gt;&amp;ndash; &lt;span\n                                        data-livestamp=\"{{ msg.get_formatted_create_datetime }}\"&gt;{{ msg.get_formatted_create_datetime }}&lt;/span&gt;&lt;/span&gt;\n                            &lt;/p&gt;\n                        &lt;/div&gt;\n                    {% endfor %}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"add-message\"&gt;\n                &lt;div class=\"form-group\"&gt;\n                    &lt;textarea id=\"chat-message\" class=\"form-control message\"\n                              placeholder=\"{% trans 'Write a message' %}\"&gt;&lt;/textarea&gt;\n                &lt;/div&gt;\n\n                &lt;div class=\"form-group clearfix\"&gt;\n                    &lt;input id=\"btn-send-message\" type=\"submit\" class=\"btn btn-primary pull-right send-message\"\n                           style=\"margin-left: 10px;\" value=\"{% trans 'Send' %}\"/&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n{% endblock %}\n{% block extra_js %}\n {{ block.super }}\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/scrollmonitor/1.2.0/scrollMonitor.js\"\n        integrity=\"sha256-BseZlDlA+yL4qu+Voi82iFa5aaifralQEXIjOjaXgeo=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script&gt;\nvar base_ws_server_path = \"{{ ws_server_path }}\";\n    $(document).ready(function () {\n        var websocket = null;\n        var monitor = null;\n\n        function initReadMessageHandler(containerMonitor, elem) {\n            var id = $(elem).data('id');\n            var elementWatcher = containerMonitor.create(elem);\n            elementWatcher.enterViewport(function () {\n                var opponent_username = getOpponnentUsername();\n                var packet = JSON.stringify({\n                    type: 'read_message',\n                    session_key: '{{ request.session.session_key }}',\n                    username: opponent_username,\n                    message_id: id\n                });\n                $(elem).removeClass('msg-unread').addClass('msg-read');\n                websocket.send(packet);\n            });\n        }\nfunction initScrollMonitor() {\n            var containerElement = $(\"#messages\");\n            var containerMonitor = scrollMonitor.createContainer(containerElement);\n            $('.msg-unread').each(function (i, elem) {\n                if ($(elem).hasClass('opponent')){\n                    initReadMessageHandler(containerMonitor, elem);\n                }\n\n            });\n            return containerMonitor\n        }\n function getOpponnentUsername() {\n            return \"{{ opponent_username }}\";\n        }\n\n        // TODO: Use for adding new dialog\n        function addNewUser(packet) {\n            $('#user-list').html('');\n            packet.value.forEach(function (userInfo) {\n                if (userInfo.username == getUsername()) return;\n                var tmpl = Handlebars.compile($('#user-list-item-template').html());\n                $('#user-list').append(tmpl(userInfo))\n            });\n        }\nfunction addNewMessage(packet) {\n            var msg_class = \"\";\n            if (packet['sender_name'] == $(\"#owner_username\").val()) {\n                msg_class = \"pull-left\";\n            } else {\n                msg_class = \"pull-right\";\n            }\n            var msgElem =\n                $('&lt;div class=\"row msg-unread\" data-id=\"' + packet.message_id + '\"&gt;' +\n                    '&lt;p class=\"' + msg_class + '\"&gt;' +\n                    '&lt;span class=\"username\"&gt;' + packet['sender_name'] + ': &lt;/span&gt;' +\n                    packet['message'] +\n                    ' &lt;span class=\"timestamp\"&gt;&amp;ndash; &lt;span data-livestamp=\"' + packet['created'] + '\"&gt; ' + packet['created'] + '&lt;/span&gt;&lt;/span&gt; ' +\n                    '&lt;/p&gt; ' +\n                    '&lt;/div&gt;');\n            $('#messages').append(msgElem);\n            scrollToLastMessage()\n        }\n function scrollToLastMessage() {\n            var $msgs = $('#messages');\n            $msgs.animate({\"scrollTop\": $msgs.prop('scrollHeight')})\n        }\n\n        function generateMessage(context) {\n            var tmpl = Handlebars.compile($('#chat-message-template').html());\n            return tmpl({msg: context})\n        }\n\n        function setUserOnlineOffline(username, online) {\n            var elem = $(\"#user-\" + username);\n            if (online) {\n                elem.attr(\"class\", \"btn btn-success\");\n            } else {\n                elem.attr(\"class\", \"btn btn-danger\");\n            }\n        }\n\n        function gone_online() {\n            $(\"#offline-status\").hide();\n            $(\"#online-status\").show();\n        }\n\n        function gone_offline() {\n            $(\"#online-status\").hide();\n            $(\"#offline-status\").show();\n        }\n\n        function flash_user_button(username) {\n            var btn = $(\"#user-\" + username);\n            btn.fadeTo(700, 0.1, function () {\n                $(this).fadeTo(800, 1.0);\n            });\n        }\nfunction setupChatWebSocket() {\n            var opponent_username = getOpponnentUsername();\n            websocket = new WebSocket(base_ws_server_path + '{{ request.session.session_key }}/' + opponent_username);\n\n            websocket.onopen = function (event) {\n                var opponent_username = getOpponnentUsername();\n\n                var onOnlineCheckPacket = JSON.stringify({\n                    type: \"check-online\",\n                    session_key: '{{ request.session.session_key }}',\n                    username: opponent_username\n\n                });\n                var onConnectPacket = JSON.stringify({\n                    type: \"online\",\n                    session_key: '{{ request.session.session_key }}'\n\n                });\n console.log('connected, sending:', onConnectPacket);\n                websocket.send(onConnectPacket);\n                console.log('checking online opponents with:', onOnlineCheckPacket);\n                websocket.send(onOnlineCheckPacket);\n                monitor = initScrollMonitor();\n            };\n\n\n            window.onbeforeunload = function () {\n\n                var onClosePacket = JSON.stringify({\n                    type: \"offline\",\n                    session_key: '{{ request.session.session_key }}',\n                    username: opponent_username,\n\n                });\n                console.log('unloading, sending:', onClosePacket);\n                websocket.send(onClosePacket);\n                websocket.close();\n            };\n\n\n            websocket.onmessage = function (event) {\n                var packet;\n\n                try {\n                    packet = JSON.parse(event.data);\n                    console.log(packet)\n                } catch (e) {\n                    console.log(e);\n                }\n\n                switch (packet.type) {\n                    case \"new-dialog\":\n                        // TODO: add new dialog to dialog_list\n                        break;\n                    case \"user-not-found\":\n                        // TODO: dispay some kind of an error that the user is not found\n                        break;\n                    case \"gone-online\":\n                        if (packet.usernames.indexOf(opponent_username) != -1) {\n                            gone_online();\n                        } else {\n                            gone_offline();\n                        }\n                        for (var i = 0; i &lt; packet.usernames.length; ++i) {\n                            setUserOnlineOffline(packet.usernames[i], true);\n                        }\n                        break;\n                    case \"gone-offline\":\n                        if (packet.username == opponent_username) {\n                            gone_offline();\n                        }\n                        setUserOnlineOffline(packet.username, false);\n                        break;\n                    case \"new-message\":\n                        if (packet['sender_name'] == opponent_username || packet['sender_name'] == $(\"#owner_username\").val()) {\n                            addNewMessage(packet);\n                            if (packet['sender_name'] == opponent_username) {\n                                initReadMessageHandler(monitor, $(\"div[data-id='\" + packet['message_id'] + \"']\"));\n                            }\n                        } else {\n                            flash_user_button(packet['sender_name']);\n                        }\n                        break;\n                    case \"opponent-typing\":\n                        var typing_elem = $('#typing-text');\n                        if (!typing_elem.is(\":visible\")) {\n                            typing_elem.fadeIn(500);\n                        } else {\n                            typing_elem.stop(true);\n                            typing_elem.fadeIn(0);\n                        }\n                        typing_elem.fadeOut(3000);\n                        break;\n                    case \"opponent-read-message\":\n                        if (packet['username'] == opponent_username) {\n                            $(\"div[data-id='\" + packet['message_id'] + \"']\").removeClass('msg-unread').addClass('msg-read');\n                        }\n                        break;\n\n                    default:\n                        console.log('error: ', event)\n                }\n            }\n        }\n\n        function sendMessage(message) {\n            var opponent_username = getOpponnentUsername();\n            var newMessagePacket = JSON.stringify({\n                type: 'new-message',\n                session_key: '{{ request.session.session_key }}',\n                username: opponent_username,\n                message: message\n            });\n            websocket.send(newMessagePacket)\n        }\n\n        $('#chat-message').keypress(function (e) {\n            if (e.which == 13 &amp;&amp; this.value) {\n                sendMessage(this.value);\n                this.value = \"\";\n                return false\n            } else {\n                var opponent_username = getOpponnentUsername();\n                var packet = JSON.stringify({\n                    type: 'is-typing',\n                    session_key: '{{ request.session.session_key }}',\n                    username: opponent_username,\n                    typing: true\n                });\n                websocket.send(packet);\n            }\n        });\n $('#btn-send-message').click(function (e) {\n            var $chatInput = $('#chat-message');\n            var msg = $chatInput.val();\n            if (!msg) return;\n            sendMessage($chatInput.val());\n            $chatInput.val('')\n        });\n\n        setupChatWebSocket();\n        scrollToLastMessage();\n    });\n\n&lt;/script&gt;\n{% endblock %}\n</code></pre>\n"}, {"tags": ["python", "pandas", "postgresql", "psycopg2"], "comments": [{"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1551927494, "post_id": 55033886, "comment_id": 96822961, "body": "At a <code>psql</code> prompt, type <code>\\d test.t_product</code>. That should show you the names of the columns in the <code>test.t_product</code> table. On the Python side, you could <code>print(data1.columns.tolist())</code> to see what Python thinks the column names are."}, {"owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "edited": false, "score": 0, "creation_date": 1551927620, "post_id": 55033886, "comment_id": 96822994, "body": "If that does not clarify what the issue is, please post a few lines of the csv file. That might help us reproduce the problem."}, {"owner": {"reputation": 1869, "user_id": 11139634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b3d0220aa641f9d660a316336d8ddb6?s=128&d=identicon&r=PG&f=1", "display_name": "Ancoron", "link": "https://stackoverflow.com/users/11139634/ancoron"}, "edited": false, "score": 0, "creation_date": 1551963076, "post_id": 55033886, "comment_id": 96839070, "body": "Do you have to use python/pandas? Otherwise, getting a CSV into a PostgreSQL table is supported out-of-the-box using <a href=\"https://www.postgresql.org/docs/current/sql-copy.html\" rel=\"nofollow noreferrer\">COPY</a>"}, {"owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "edited": false, "score": 0, "creation_date": 1551974328, "post_id": 55033886, "comment_id": 96846131, "body": "No, its not necessary for me to use pandas/python. I just used it because I thought it would be better fit with the encoding piece of the problem that I have with the csv files."}], "owner": {"reputation": 519, "user_id": 7606132, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/9069d541601174043ebc632288e7645d?s=128&d=identicon&r=PG&f=1", "display_name": "Manas Jani", "link": "https://stackoverflow.com/users/7606132/manas-jani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 281, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551915467, "creation_date": 1551915467, "question_id": 55033886, "link": "https://stackoverflow.com/questions/55033886/pandas-dataframe-to-postgres-table-conversion-not-working", "title": "Pandas Dataframe to Postgres table conversion not working", "body": "<p>I am converting a csv file into a Pandas dataframe and then converting it to Postgres table essentially. </p>\n\n<p>The problem is that I am able to create a table in Postgres but I am unable to select column names from the table while querying it.</p>\n\n<p>This is the sample code I have:</p>\n\n<pre><code>import pandas as pd\nfrom sqlalchemy import create_engine\nimport psycopg2\nengine = create_engine('postgresql://postgres:pwd@localhost:5432/test')\n\ndef convertcsvtopostgres(csvfileloc, table_name, delimiter):\n    data = pd.read_csv(csvfileloc, sep=delimiter, encoding='latin-1')\n\n    data.head()\n    data1 = data.rename(columns=lambda x: x.strip())\n\n    data1.to_sql(table_name, engine, index=False)\n\nconvertcsvtopostgres(\"Product.csv\",\"t_product\",\"~\")\n</code></pre>\n\n<p>I can do a <code>select * from test.t_product;</code> but I am unable to do a <code>select product_id from test.t_product;</code></p>\n\n<p>I am not sure if that is happening because of the encoding of the file and the conversion because of that. Is there any way around this, since I do not want to specify the table structure each time.</p>\n"}, {"tags": ["python", "python-3.x", "pandas", "jupyter-notebook", "jupyter-lab"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1551915914, "post_id": 55033883, "comment_id": 96820350, "body": "df[list_of_my_columns].sum(axis=1)"}, {"owner": {"reputation": 101, "user_id": 11162557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf58572696ad50cb6d9ad8603cabc47?s=128&d=identicon&r=PG&f=1", "display_name": "virgilus", "link": "https://stackoverflow.com/users/11162557/virgilus"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1551916925, "post_id": 55033883, "comment_id": 96820612, "body": "Thanks, but I&#39;ve already tried this and it returns an index error :-("}], "answers": [{"comments": [{"owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "edited": false, "score": 1, "creation_date": 1551917549, "post_id": 55034036, "comment_id": 96820776, "body": "When you use a loop by rows in pandas, you are almost surely doing it wrong."}], "tags": [], "owner": {"reputation": 505, "user_id": 9651079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a90f3857376317dfbe5f27f72d417c6a?s=128&d=identicon&r=PG", "display_name": "SafeDev", "link": "https://stackoverflow.com/users/9651079/safedev"}, "is_accepted": false, "score": 0, "last_activity_date": 1551916688, "creation_date": 1551916688, "answer_id": 55034036, "question_id": 55033883, "link": "https://stackoverflow.com/questions/55033883/create-a-list-of-columns-and-sum-them-in-a-new-column-with-pandas-python/55034036#55034036", "title": "Create a list of columns and sum them in a new column with Pandas (Python)", "body": "<p>All you have to do is create a <code>Series</code> (which is a column in pandas) and take the sum of each row and append it to the <code>Series</code>. Then just add the Series to the dataframe.</p>\n\n<pre><code>import pandas as pd\n\ndf = pd.read_csv('input.csv', header=None)\ncol = pd.Series()\n\nfor i, row in df.iterrows():\n    col.set_value(i, (row[0] + row[1] + row[2]))\n\ndf = df.assign(sum=col)\n\nprint(df)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 11162557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf58572696ad50cb6d9ad8603cabc47?s=128&d=identicon&r=PG&f=1", "display_name": "virgilus", "link": "https://stackoverflow.com/users/11162557/virgilus"}, "edited": false, "score": 0, "creation_date": 1551917694, "post_id": 55034087, "comment_id": 96820817, "body": "Works like a charm thank you! So you used the pd.concat function to create a temporary dataframe containing only my columns, right? Two questions :  - When I create a list of columns, are they duplicated in the variable meaning they take more space in the RAM?  - Same thing with the df generated with pd.concat, does the new dataframe takes up memory space as well? Or is it destroyed right after the sum has been computed?"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1551916994, "creation_date": 1551916994, "answer_id": 55034087, "question_id": 55033883, "link": "https://stackoverflow.com/questions/55033883/create-a-list-of-columns-and-sum-them-in-a-new-column-with-pandas-python/55034087#55034087", "title": "Create a list of columns and sum them in a new column with Pandas (Python)", "body": "<p>Let me write as an answer </p>\n\n<pre><code>list_of_my_columns = [df['Col A'], df['Col E'], df['Col Z']]\n</code></pre>\n\n<p>Using <code>concat</code> </p>\n\n<pre><code>df['Sum']=pd.concat(list_of_my_columns,axis=1 ).sum(axis=1)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 11162557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf58572696ad50cb6d9ad8603cabc47?s=128&d=identicon&r=PG&f=1", "display_name": "virgilus", "link": "https://stackoverflow.com/users/11162557/virgilus"}, "edited": false, "score": 1, "creation_date": 1551918402, "post_id": 55034150, "comment_id": 96820958, "body": "Thanks! You rightly pointed out my mistake! Using the column names is much more efficient than creating a new df. :)"}, {"owner": {"reputation": 1197, "user_id": 2943352, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/5fbdbca8ad03a7b584d457f6ebb27404?s=128&d=identicon&r=PG&f=1", "display_name": "rmutalik", "link": "https://stackoverflow.com/users/2943352/rmutalik"}, "edited": false, "score": 2, "creation_date": 1573413110, "post_id": 55034150, "comment_id": 103865754, "body": "Fyi, that produces the SettingWithCopyWarning Pandas warning:  <code>A value is trying to be set on a copy of a slice from a DataFrame.  Try using .loc[row_indexer,col_indexer] = value instead.</code>   See the caveats in the documentation: <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/user_guide/indexing.htm&zwnj;&#8203;l</a>"}], "tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 3, "last_activity_date": 1551917442, "creation_date": 1551917442, "answer_id": 55034150, "question_id": 55033883, "link": "https://stackoverflow.com/questions/55033883/create-a-list-of-columns-and-sum-them-in-a-new-column-with-pandas-python/55034150#55034150", "title": "Create a list of columns and sum them in a new column with Pandas (Python)", "body": "<p>You do not need the list of columns. You need a list of column names:</p>\n\n<pre><code>list_of_my_columns = ['Col A', 'Col E', 'Col Z']\ndf['Sum'] = df[list_of_my_columns].sum(axis=1)\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 11162557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bf58572696ad50cb6d9ad8603cabc47?s=128&d=identicon&r=PG&f=1", "display_name": "virgilus", "link": "https://stackoverflow.com/users/11162557/virgilus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3852, "favorite_count": 0, "accepted_answer_id": 55034150, "answer_count": 3, "score": 4, "last_activity_date": 1551974368, "creation_date": 1551915447, "last_edit_date": 1551974368, "question_id": 55033883, "link": "https://stackoverflow.com/questions/55033883/create-a-list-of-columns-and-sum-them-in-a-new-column-with-pandas-python", "title": "Create a list of columns and sum them in a new column with Pandas (Python)", "body": "<p>I do know some posts are quite similar to my question but none of them succeded in giving me the correct answer. I want, for each row of a pandas dataframe, to perform the sum of values taken from several columns. As the number of columns tends to vary, I want this sum to be performed from a list of columns.</p>\n\n<p>At the moment my code looks like this:</p>\n\n<pre><code>df['Sum'] = df['Col A'] + df['Col E'] + df['Col Z']\n</code></pre>\n\n<p>I want it to be something like :</p>\n\n<pre><code>df['Sum'] = sum(list_of_my_columns)\n</code></pre>\n\n<p>or</p>\n\n<pre><code>df[list_of_my_columns].sum(axis=1)\n</code></pre>\n\n<p>But both of them return an error. Might be because my list isn't properly created? This is how I did it:</p>\n\n<pre><code>list_of_my_columns = [df['Col A'], df['Col E'], df['Col Z']]\n</code></pre>\n\n<p>But this doesn't seem to work... Any ideas ? Thank you !</p>\n"}, {"tags": ["python", "numpy", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "edited": false, "score": 0, "creation_date": 1551967378, "post_id": 55034040, "comment_id": 96841697, "body": "Thanks.  You must be a numpy god.  Yes. <code>a[px[0],px[1],:3] = 0</code>, <code>a[:,:,:3][px] = 0</code>, and <code>a[(px[0], px[1], np.s_[:3])] = 0</code> work too.  The <a href=\"https://stackoverflow.com/a/773472\">Ellipsis syntax</a> and unpacking to a tuple with <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.s_.html\" rel=\"nofollow noreferrer\">s_ slice syntax</a> are pretty cool.  Why does <code>a[px][:,0:3] = 0</code> not work?  What principle am I missing?"}, {"owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "reply_to_user": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "edited": false, "score": 1, "creation_date": 1551972151, "post_id": 55034040, "comment_id": 96844732, "body": "It&#39;s a bit tricky. <code>a[px] = 0</code> is syntactic sugar for <code>a.__setitem__(px, 0)</code> so just works. <code>a[px][:, :3] = 0</code> is <code>a.__getitem__(px).__setitem__((slice(None), slice(3)), 0)</code>. As <code>px</code> instructs fancy indexing, <code>__getitem__</code> copies the referenced data. As the subsequent <code>__setitem__</code> writes to this copy, <code>a</code> is not modified. If we do <code>[..., :3]</code> first and then <code>[px]</code> it looks similar with one crucial difference. The arg to <code>__getitem__</code> is a slice, hence it returns a view into the original data buffer of <code>a</code>. So <code>__setitem__</code> by writing into this view automatically also affects <code>a</code>."}], "tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": true, "score": 1, "last_activity_date": 1551917063, "last_edit_date": 1551917063, "creation_date": 1551916695, "answer_id": 55034040, "question_id": 55033861, "link": "https://stackoverflow.com/questions/55033861/set-a-numpy-slice-using-np-where-based-on-another-dimension/55034040#55034040", "title": "Set a numpy slice using np.where based on another dimension", "body": "<p>Here is one way:</p>\n\n<pre><code>&gt;&gt;&gt; px0, px1 = np.where(0==a[:,:,3]%3)\n&gt;&gt;&gt; a[px0, px1, :3] = 0\n&gt;&gt;&gt; a\narray([[[ 0,  0,  0,  3],\n        [ 4,  5,  6,  7]],\n\n       [[ 8,  9, 10, 11],\n        [ 0,  0,  0, 15]],\n\n       [[16, 17, 18, 19],\n        [20, 21, 22, 23]]])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&gt;&gt;&gt; px = np.where(0==a[:,:,3]%3)\n&gt;&gt;&gt; a[..., :3][px] = 0\n&gt;&gt;&gt; a\narray([[[ 0,  0,  0,  3],\n        [ 4,  5,  6,  7]],\n\n       [[ 8,  9, 10, 11],\n        [ 0,  0,  0, 15]],\n\n       [[16, 17, 18, 19],\n        [20, 21, 22, 23]]])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&gt;&gt;&gt; a[(*px, np.s_[:3])] = 0\n&gt;&gt;&gt; a\narray([[[ 0,  0,  0,  3],\n        [ 4,  5,  6,  7]],\n\n       [[ 8,  9, 10, 11],\n        [ 0,  0,  0, 15]],\n\n       [[16, 17, 18, 19],\n        [20, 21, 22, 23]]])\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 1134881, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/k4bte.jpg?s=128&g=1", "display_name": "SpeedCoder5", "link": "https://stackoverflow.com/users/1134881/speedcoder5"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 55034040, "answer_count": 1, "score": 1, "last_activity_date": 1551917063, "creation_date": 1551915260, "question_id": 55033861, "link": "https://stackoverflow.com/questions/55033861/set-a-numpy-slice-using-np-where-based-on-another-dimension", "title": "Set a numpy slice using np.where based on another dimension", "body": "<p>How can I set values in the first 3 channels of a 4 channel numpy array based on values in the 4th channel?  Is it possible to do so with a numpy slice as a l-value?</p>\n\n<p>Given a 3 by 2 pixel numpy array with 4 channels</p>\n\n<pre><code>a = np.arange(24).reshape(3,2,4)\narray([[[ 0,  1,  2,  3],\n        [ 4,  5,  6,  7]],\n       [[ 8,  9, 10, 11],\n        [12, 13, 14, 15]],\n       [[16, 17, 18, 19],\n        [20, 21, 22, 23]]])\n</code></pre>\n\n<p>I can select slices where the 4th channel is modulo 3.</p>\n\n<pre><code>px = np.where(0==a[:,:,3]%3)\n(array([0, 1], dtype=int64), array([0, 1], dtype=int64))\n\na[px]\narray([[ 0,  1,  2,  3],\n       [12, 13, 14, 15]])\n</code></pre>\n\n<p>Now I want to set the first 3 channels in those rows in a to 0 such that the results looks like:</p>\n\n<pre><code>a\narray([[[ 0,  0,  0,  3],\n        [ 4,  5,  6,  7]],\n       [[ 8,  9, 10, 11],\n        [ 0,  0,  0, 15]],\n       [[16, 17, 18, 19],\n        [20, 21, 22, 23]]])\n</code></pre>\n\n<p>I tried</p>\n\n<pre><code>a[px][:,0:3] = 0\n</code></pre>\n\n<p>but that leaves the array unchanged.</p>\n\n<p>I read <a href=\"https://stackoverflow.com/q/18634455\">Setting values in a numpy arrays indexed by a slice and two boolean arrays</a> and do not understand how to use a Boolean index to set only the first 3 channels.</p>\n"}, {"tags": ["python", "django", "django-views"], "comments": [{"owner": {"reputation": 1239, "user_id": 6284315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0ntl.jpg?s=128&g=1", "display_name": "Jrog", "link": "https://stackoverflow.com/users/6284315/jrog"}, "edited": false, "score": 0, "creation_date": 1551918484, "post_id": 55033826, "comment_id": 96820976, "body": "Please post your template code"}, {"owner": {"reputation": 181, "user_id": 11081766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1149008741939381/picture?type=large", "display_name": "Clayton Horning", "link": "https://stackoverflow.com/users/11081766/clayton-horning"}, "reply_to_user": {"reputation": 1239, "user_id": 6284315, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t0ntl.jpg?s=128&g=1", "display_name": "Jrog", "link": "https://stackoverflow.com/users/6284315/jrog"}, "edited": false, "score": 0, "creation_date": 1551923352, "post_id": 55033826, "comment_id": 96822045, "body": "I figured it out. I had to put return in my scripts.py instead of print."}], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 11081766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1149008741939381/picture?type=large", "display_name": "Clayton Horning", "link": "https://stackoverflow.com/users/11081766/clayton-horning"}, "edited": false, "score": 0, "creation_date": 1551917387, "post_id": 55034102, "comment_id": 96820731, "body": "Hmm I am still getting none. Is this object variable not being recognized for some reason?"}], "tags": [], "owner": {"reputation": 4530, "user_id": 1701240, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/525a094ce482e8b404cc199764c8816c?s=128&d=identicon&r=PG", "display_name": "Endre Both", "link": "https://stackoverflow.com/users/1701240/endre-both"}, "is_accepted": true, "score": 1, "last_activity_date": 1551917911, "last_edit_date": 1551917911, "creation_date": 1551917144, "answer_id": 55034102, "question_id": 55033826, "link": "https://stackoverflow.com/questions/55033826/how-can-i-run-a-function-inside-of-views-py-and-print-result-django/55034102#55034102", "title": "How Can I Run a Function Inside of Views.py and Print Result? -- Django", "body": "<p>You're calling the function in the view. To call it in the template, assign the function object, not the result of the function call:</p>\n\n<pre><code>test = earnings_object.print_discrep  # no ()\n</code></pre>\n\n<p>Update:\n<code>print</code> prints to the command line, not into your template.</p>\n\n<p>The template displays the return value of functions you call. Your <code>print_discrep</code> doesn't have a return value, defaulting to <code>None</code>.</p>\n\n<p>If you want to display data in the template, return that data in your function:</p>\n\n<pre><code>def get_discrep(self):\n    return 'This is a test function for the graph ' + self.symbol\n</code></pre>\n\n<p>Then you can call the function either in the view or in the template.</p>\n"}], "owner": {"reputation": 181, "user_id": 11081766, "user_type": "registered", "profile_image": "https://graph.facebook.com/1149008741939381/picture?type=large", "display_name": "Clayton Horning", "link": "https://stackoverflow.com/users/11081766/clayton-horning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1292, "favorite_count": 0, "accepted_answer_id": 55034102, "answer_count": 1, "score": 1, "last_activity_date": 1551917911, "creation_date": 1551915013, "last_edit_date": 1551915837, "question_id": 55033826, "link": "https://stackoverflow.com/questions/55033826/how-can-i-run-a-function-inside-of-views-py-and-print-result-django", "title": "How Can I Run a Function Inside of Views.py and Print Result? -- Django", "body": "<p>The problem is that I am trying to call a function from my views.py and print the result in my template through a context variable. The function prints in the terminal and does not work in the template. I posted a question a few days ago regarding doing this with subprocess, but I still could not figure it out.</p>\n\n<p>How can I print \"This is a test function for AAPL\" in my template instead of in the terminal?</p>\n\n<p><strong>Views.py</strong></p>\n\n<pre><code>from django.shortcuts import render  \nfrom backtests.scripts import Backtests\n\ndef index(request):\n\n    if 'symbol' in request.GET:\n        symbol = request.GET.get('symbol','Invalid Symbol')\n        request.session['symbol'] = symbol\n    else:\n        symbol = request.session['symbol']\n\n\n    earnings_object = Backtests(\"AAPL\")\n    test = earnings_object.print_discrep()\n\n\n    return render(request, 'backtests/earnings.html', {'symbol':symbol, 'test':test})\n</code></pre>\n\n<p><strong>scripts.py</strong></p>\n\n<pre><code>class Backtests:\n\n    def __init__(self, symbol):\n        self.symbol = symbol\n\n    def print_discrep(self):\n        print('This is a test function for the graph ' + self.symbol)\n</code></pre>\n\n<blockquote>\n  <p>It is returning None in my template.</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "tkinter", "python-multithreading"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1551970867, "post_id": 55033820, "comment_id": 96843943, "body": "Relevant: <a href=\"https://stackoverflow.com/a/14381671/7414759\">Mutli-threading with Tkinter</a>"}], "answers": [{"tags": [], "owner": {"reputation": 411, "user_id": 10007759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9Hms.png?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/10007759/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1551994056, "creation_date": 1551994056, "answer_id": 55053055, "question_id": 55033820, "link": "https://stackoverflow.com/questions/55033820/tkinter-running-task-in-background/55053055#55053055", "title": "Tkinter Running Task In Background", "body": "<p><strong>Solution!</strong></p>\n\n<p>Create another function (I called it ThreadTask()) and inside put <code>a = threading.Thread(name='background', target=listener)\n  a.start()</code> and it below before 'root.mainloop()' do 'root.after(100, threadtask)' and that will run the listener and stop freezing by putting it in another thread!</p>\n"}], "owner": {"reputation": 411, "user_id": 10007759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e9Hms.png?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/10007759/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55053055, "answer_count": 1, "score": 0, "last_activity_date": 1551994056, "creation_date": 1551914967, "question_id": 55033820, "link": "https://stackoverflow.com/questions/55033820/tkinter-running-task-in-background", "title": "Tkinter Running Task In Background", "body": "<p>I'm making an app where you can message other people (just for learning &amp; testing purposes) and I would like to have a window open with a listener running in the background waiting for someone to type something into a google spreadsheet (using the same program to input to a spreadsheet &amp; listen and display that message) and I a cannot figure out how to do that (threading? multiprocessing?). Here's my code:</p>\n\n<pre><code>import gspread\nfrom oauth2client.service_account import ServiceAccountCredentials\n#basic import below\nimport os\nimport time\nfrom time import gmtime, strftime\nimport sys\nfrom queue import Queue\nimport getpass\nimport threading\nfrom tkinter import *\nimport threading\n#setup stuff\n\nversion = '1.0'\nwritten = '3/5/2019'\n\ncurrentUser = getpass.getuser()\nprint(\"Currrent User = \" + currentUser)\njsonDict = {\n  \"type\": \"service_account\",\n  \"project_id\": \"glossy-aloe-233621\",\n  \"private_key_id\": \"c9f3e566e7482867e941bcd7129e2bbf87cf7429\",\n  \"private_key\": PRIVATEKEYSTUFF,\n  \"client_email\": EMAIL STUFF,\n  \"client_id\": \"116858167893987826316\",\n  \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\",\n  \"token_uri\": \"https://oauth2.googleapis.com/token\",\n  \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\",\n  \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/pymessengerclient%40glossy-aloe-233621.iam.gserviceaccount.com\"\n}\n\n\nscope = ['https://spreadsheets.google.com/feeds', 'https://www.googleapis.com/auth/drive']\ncredentials = ServiceAccountCredentials.from_json_keyfile_dict(jsonDict, scope)\ngc = gspread.authorize(credentials)\n#get\nwks = gc.open('PyMessenger').sheet1\n\n#------------------------------------------------------------\n#STUFF TO LOOK AT BELOW\n\n\n\n\n\ndef sendMessage(self, message):\n  currentTime = strftime(\"%Y-%m-%d %H:%M:%S\", gmtime())\n  wks.append_row([str(currentUser), str(message), str(currentTime)])\n\n\ndef listener(self):\n  i = 0\n  lastM = \"\"\n  while(True):\n    colVals = wks.col_values(2)\n    prevU = colVals[-1]\n    if prevU != \"Message\":\n      if lastM != prevU:\n        cell = wks.find(prevU)\n        row = cell.row\n        vallist = wks.row_values(row)\n        sent = vallist[0] + \": \" + vallist[1] + \" - \" + vallist[2]\n        print(vallist[0] + \": \" + vallist[1] + \" - \" + vallist[2])\n        txt.insert(0.0, sent)\n        lastM = prevU\n      else:\n        pass\n    time.sleep(2)\n\n\n\ndef createMessage(self):\n  messageRaw = ent.get()\n  self.sendMessage(messageRaw)\n\n#---------------------------------------------\nroot = Tk()\n\nroot.geometry(\"400x300\")\nroot.title(\"PyMessenger\")\n\nl1 = Label(root, text=\"Message:\")\n\nent = Entry(root)\n\nsend = Button(root, text=\"Send\", command=createMessage)\n\nl1.grid(row=0, sticky=W)\nent.grid(row=1, column=0, sticky=W)\n\nsend.grid(row=2, column=0, sticky=W)\n\ntxt = Text(root, width=45, height=15, wrap=WORD)\ntxt.grid(row=3, columnspan=2, sticky=W)\n\n\n\n\n#HERE RUN WINDOW &amp; LISTEN TASK IN BACKGROUND\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 3, "creation_date": 1551914930, "post_id": 55033799, "comment_id": 96820122, "body": "<code>base64.b64decode(b&#39;Mw==&#39;)</code>. That thing is supposed to be <a href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" rel=\"nofollow noreferrer\">bytes</a>, not a string."}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 2, "creation_date": 1551915196, "post_id": 55033799, "comment_id": 96820204, "body": "Remove double quotes, i.e. <code>x = b&#39;Mw==&#39;</code>. Also, <code>b64decode</code> does not modify the original string (strings are immutable). It returns a new one."}, {"owner": {"reputation": 11, "user_id": 11162554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3qVaTW1Qe-o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTVhip7tn-BQCh7RzhQW2wAcf6cA/mo/photo.jpg?sz=128", "display_name": "Michael Toohig", "link": "https://stackoverflow.com/users/11162554/michael-toohig"}, "edited": false, "score": 0, "creation_date": 1551916567, "post_id": 55033799, "comment_id": 96820521, "body": "I don&#39;t control the doublequotes or this is an <code>xy</code> problem. The form I receive the data from has put quotes around the bytes already."}, {"owner": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 3, "creation_date": 1551917048, "post_id": 55033799, "comment_id": 96820645, "body": "Someone called <code>str()</code> on a bytes object instead of <code>decode()</code>, giving you a broken <code>x</code>. Need to fix that upstream."}, {"owner": {"reputation": 11, "user_id": 11162554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3qVaTW1Qe-o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTVhip7tn-BQCh7RzhQW2wAcf6cA/mo/photo.jpg?sz=128", "display_name": "Michael Toohig", "link": "https://stackoverflow.com/users/11162554/michael-toohig"}, "reply_to_user": {"reputation": 27649, "user_id": 5067311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qjltV.png?s=128&g=1", "display_name": "Andras Deak", "link": "https://stackoverflow.com/users/5067311/andras-deak"}, "edited": false, "score": 0, "creation_date": 1551924886, "post_id": 55033799, "comment_id": 96822387, "body": "@AndrasDeak you are right it is ultimately an upstream error."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11162554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3qVaTW1Qe-o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTVhip7tn-BQCh7RzhQW2wAcf6cA/mo/photo.jpg?sz=128", "display_name": "Michael Toohig", "link": "https://stackoverflow.com/users/11162554/michael-toohig"}, "edited": false, "score": 0, "creation_date": 1551924882, "post_id": 55034130, "comment_id": 96822386, "body": "Technically this solves the problem but my real issue was upstream feeding me the incorrectly encoded <code>x</code>. So I accept this answer for those who can not control the upstream but in my case I was able to fix the upstream source and decode my string as originally expected."}], "tags": [], "owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "is_accepted": true, "score": 1, "last_activity_date": 1551917331, "creation_date": 1551917331, "answer_id": 55034130, "question_id": 55033799, "link": "https://stackoverflow.com/questions/55033799/base64decode-a-string-like-bmw-containing-literal-b-substring/55034130#55034130", "title": "base64decode a string like &quot;b&#39;Mw==&#39;&quot; (containing literal b&#39; substring)", "body": "<p>If you have <code>b'...'</code> in your data, that's the <code>repr()</code>esentation of a bytestring.</p>\n\n<p>If you can't get your data source to fix their content (it <em>should</em> just be <code>Mw==</code>: what they're giving you isn't valid base64 encoding!), you can use <code>ast.literal_eval()</code> to read it into a bytestring:</p>\n\n<pre><code>&gt;&gt;&gt; import ast, base64\n&gt;&gt;&gt; x = \"b'Mw=='\"\n&gt;&gt;&gt; base64.b64decode(ast.literal_eval(x))\n'3'\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11162554, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3qVaTW1Qe-o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcTVhip7tn-BQCh7RzhQW2wAcf6cA/mo/photo.jpg?sz=128", "display_name": "Michael Toohig", "link": "https://stackoverflow.com/users/11162554/michael-toohig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 55034130, "answer_count": 1, "score": 0, "last_activity_date": 1551917369, "creation_date": 1551914801, "last_edit_date": 1551917369, "question_id": 55033799, "link": "https://stackoverflow.com/questions/55033799/base64decode-a-string-like-bmw-containing-literal-b-substring", "title": "base64decode a string like &quot;b&#39;Mw==&#39;&quot; (containing literal b&#39; substring)", "body": "<p>I encoded a comma delimited list (ex. <code>\"1,2,3\"</code>) of ids to base64 then the returned data from the form looks like <code>x</code> below.</p>\n\n<p>I tried decoding and encoding and all sorts of things but nothing seems to return a the original string.</p>\n\n<pre><code>x = \"b'Mw=='\"\n\nbase64.b64decode(x)\n# b'l\\xcc'\n\nx.decode()\n# AttributeError: 'str' object has no attribute 'decode'\n\ny = x.encode('utf-8')\nprint(y)\n# b\"b'Mw=='\"\n</code></pre>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551915114, "post_id": 55033794, "comment_id": 96820176, "body": "<code>fn1</code> and <code>fn2</code> look exactly identical to me; am I blind?"}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551915131, "post_id": 55033794, "comment_id": 96820180, "body": "They are indeed."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551915165, "post_id": 55033794, "comment_id": 96820191, "body": "They get replaced by different functions, based on the name of the original. They can be refactored more cleanly."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551915175, "post_id": 55033794, "comment_id": 96820195, "body": "Oh, you&#39;re saying the decorator makes them do different things. I get it now."}, {"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551915199, "post_id": 55033794, "comment_id": 96820206, "body": "@Aran-Fey Exactly."}], "answers": [{"comments": [{"owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "edited": false, "score": 0, "creation_date": 1551954892, "post_id": 55034146, "comment_id": 96834117, "body": "Brilliant. Thanks!"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1551918504, "last_edit_date": 1551918504, "creation_date": 1551917428, "answer_id": 55034146, "question_id": 55033794, "link": "https://stackoverflow.com/questions/55033794/using-decorators-to-supply-new-args-kwargs/55034146#55034146", "title": "Using decorators to supply new args, kwargs", "body": "<p>I wouldn't use a decorator here; I'd write a function that returns a closure over the specific data instead.</p>\n\n<pre><code>def make_test(arg):\n    @staticmethod\n    def _(dummy_data):\n        var = _do_something(arg)\n        return Test.__handle_data(dummy_data, var=var)\n    return _\n\nfn1 = make_test('fn1')\nfn2 = make_test('fn2')\n</code></pre>\n\n<p>(I didn't test, but I'm pretty sure it works the same if you decorate the closure as shown, or simply return an undecorated function and write <code>fn1 = staticmethod(make_test('fn1'))</code>, etc.)</p>\n\n<hr>\n\n<p>With a decorator that focuses on the what is <em>common</em>, it might look like</p>\n\n<pre><code>def foo(f):\n    def _(dummy_data):\n        var = _do_something(f())\n        return Test.__handle_data(dummy_data, var=var)\n    return _\n\n@foo\ndef fn1(self):\n    return 'fn1'\n\n\n@foo\ndef fn2(self):\n    return 'fn2'\n</code></pre>\n\n<p>which has the same behavior, but is less clear as to the intent. Too much is hidden in the decorator.</p>\n"}], "owner": {"reputation": 827, "user_id": 8916412, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3a005e3baa318485cba2a5ce59d90021?s=128&d=identicon&r=PG&f=1", "display_name": "needtobe", "link": "https://stackoverflow.com/users/8916412/needtobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 55034146, "answer_count": 1, "score": 2, "last_activity_date": 1551918504, "creation_date": 1551914771, "last_edit_date": 1551915090, "question_id": 55033794, "link": "https://stackoverflow.com/questions/55033794/using-decorators-to-supply-new-args-kwargs", "title": "Using decorators to supply new args, kwargs", "body": "<p>I have done some research about decorators, mainly about typical use-cases. It turned out that in majority of cases, they act as validators, timers, permission checkers - pretty transparent stuff. I was wondering if it would be pythonic to use them to precalculate and supply some variables to decorated function.</p>\n\n<p>I've on my mind situation like this:</p>\n\n<p>Decorator:</p>\n\n<pre><code>def foo(fn):\n    @functools.wraps(fn)\n    def wrapper(*args, **kwargs):\n        fn_name = fn.__name__\n        var = Test._do_something(Test.store_dict[fn_name])\n        kw_args = {**kwargs, **dict(var=var)}\n        return fn(*args, **kw_args)\n    return wrapper\n</code></pre>\n\n<p>Class:    </p>\n\n<pre><code>class Test:\n    store_dict = dict(fn1='fn1_operator',\n                      fn2='fn2_operator')\n\n    @staticmethod\n    @foo\n    def fn1(dummy_data, **kwargs):\n        return Test.__handle_data(dummy_data=dummy_data,\n                                  **kwargs)\n    @staticmethod\n    @foo\n    def fn2(dummy_data, **kwargs):\n        return Test.__handle_data(dummy_data=dummy_data,\n                                  **kwargs)\n\n    @staticmethod\n    def _do_something(var):\n        return var\n\n    @staticmethod\n    def __handle_data(dummy_data, var):\n        return (dummy_data, var)\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>test_instance = Test()\ntest_instance.fn1(dummy_data='test')\n</code></pre>\n\n<p>As you can see <code>fn1</code> and <code>fn2</code> methods are doing almost same thing (calling <code>__handle_data</code> method), but with different <code>var</code>. Variable <code>var</code> depends on called function name. Calling <code>fn1</code> results with <code>var=fn1_operator</code> and so on. Having in my mind the Zen of Python:</p>\n\n<blockquote>\n  <p>Simple is better than complex.</p>\n</blockquote>\n\n<p>I'm having doubts about that being pythonic.</p>\n\n<p>In the other hand, without that decorator, my code would have a lot of repetitions:</p>\n\n<pre><code>@staticmethod\ndef fn1(dummy_data):\n    var = _do_something('fn1')\n    return Test.__handle_data(dummy_data=dummy_data,\n                              var=var)\n@staticmethod\ndef fn2(dummy_data):\n    var = _do_something('fn2')\n    return Test.__handle_data(dummy_data=dummy_data,\n                              var=var)\n</code></pre>\n\n<p>Is it correct? What should I change?</p>\n"}, {"tags": ["python", "linux", "attributeerror", "clips", "clipspy"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9908443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de2f16c9c94f024eb5a9e4bb7a8a144?s=128&d=identicon&r=PG&f=1", "display_name": "Cartoli", "link": "https://stackoverflow.com/users/9908443/cartoli"}, "edited": false, "score": 0, "creation_date": 1552231054, "post_id": 55041047, "comment_id": 96922982, "body": "You were right. I still had a version of clips installed which caused the AttributeError. I have done the pip command before but still the same issue. Thank you for helping me solve the issue."}], "tags": [], "owner": {"reputation": 11520, "user_id": 1794497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t6y5r.png?s=128&g=1", "display_name": "noxdafox", "link": "https://stackoverflow.com/users/1794497/noxdafox"}, "is_accepted": true, "score": 0, "last_activity_date": 1600930273, "last_edit_date": 1600930273, "creation_date": 1551953206, "answer_id": 55041047, "question_id": 55033753, "link": "https://stackoverflow.com/questions/55033753/clipspy-getting-no-module-name-clips-clips-upon-importing-clips/55041047#55041047", "title": "CLIPSpy: Getting &quot;No module name &#39;clips._clips&#39;&quot; upon importing clips", "body": "<p>I am the author of the <code>clipspy</code> module. I would rather suggest you to open a GitHub issue for these types of matters rather than a SO question.</p>\n<p>As a general line, the issues you are suffering from indicate you are trying to install a Python module in a dirty environment. For example, installing via <code>pip</code> resolves in a noop because you ran <code>make install</code> beforehand and <code>pip</code> sees the package is already installed.</p>\n<p>To install from git, you either git clone a <a href=\"https://github.com/noxdafox/clipspy/tree/0.3.2\" rel=\"nofollow noreferrer\">specific tag</a> or download the code from a <a href=\"https://github.com/noxdafox/clipspy/releases/tag/0.3.2\" rel=\"nofollow noreferrer\">specific release</a>. <code>clipspy</code> uses tags to infer the version numbers hence you see the warning:</p>\n<blockquote>\n<p>UserWarning: The version specified ('0.3.2-2-g7dd9ca2') is an invalid version, this may not work as expected with newer versions of setuptools, pip, and PyPI. Please see PEP 440 for more details.</p>\n</blockquote>\n<p>A common issue when installing <code>clipspy</code> is an old version of <code>setuptools</code>. Have you tried updating it to a more recent version?</p>\n<pre><code># pip install --upgrade setuptools\n</code></pre>\n<p>One last note, do you happen to also have PyCLIPS installed within the system? The namespaces will conflict as the modules are both called <code>clips</code>. This would explain the error traceback:</p>\n<pre><code>Traceback (most recent call last):\n  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;\nAttributeError: 'Environment' object has no attribute 'assert_string'\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9908443, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0de2f16c9c94f024eb5a9e4bb7a8a144?s=128&d=identicon&r=PG&f=1", "display_name": "Cartoli", "link": "https://stackoverflow.com/users/9908443/cartoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 794, "favorite_count": 0, "accepted_answer_id": 55041047, "answer_count": 1, "score": 0, "last_activity_date": 1600930273, "creation_date": 1551914511, "last_edit_date": 1552231194, "question_id": 55033753, "link": "https://stackoverflow.com/questions/55033753/clipspy-getting-no-module-name-clips-clips-upon-importing-clips", "title": "CLIPSpy: Getting &quot;No module name &#39;clips._clips&#39;&quot; upon importing clips", "body": "<p>I have installed CLIPSpy from the git repository, and followed the instructions for installing with the source files. Yet after installing and running the python shell I get this error:</p>\n\n<pre><code>   `import clips\n       .../clipspy/clips/__init__.py\", line 30, in &lt;module&gt;\n    from clips.error import CLIPSError\n       .../clipspy/clips/error.py\", line 32, in &lt;module&gt;\n    from clips.router import Router\n       .../clipspy/clips/router.py\", line 7, in &lt;module&gt;\n    from clips._clips import lib, ffi\n ModuleNotFoundError: No module named 'clips._clips'`\n</code></pre>\n\n<p>Despite this error, if I run the same commands outside of my CLIPSpy directory, I can import clips but get a different error.</p>\n\n<pre><code>&gt;&gt;&gt; import clips\n&gt;&gt;&gt; env = clips.Environment()\n&gt;&gt;&gt; env.assert_string(\"(test 12)\")\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'Environment' object has no attribute 'assert_string'\n</code></pre>\n\n<p>My assumption is that <strong>ModuleNotFoundError</strong> may be responsible for the <strong>AttributeError</strong>.</p>\n\n<p><strong>OS:</strong> Arch Linux</p>\n\n<p><strong>git-repo:</strong> <a href=\"https://github.com/noxdafox/clipspy\" rel=\"nofollow noreferrer\">https://github.com/noxdafox/clipspy</a></p>\n\n<p>I followed the advice of specifying the directory of clips, <a href=\"https://stackoverflow.com/questions/6081317/using-pyclips-and-import-clips-as-a-python-module\">using pyclips and import clips as a python module</a>, to specify the location of clips but it still gives me the same error.</p>\n\n<p>Installing CLIPSpy via <em>pip</em> gave 'satisfactory' results: <a href=\"https://stackoverflow.com/questions/51786945/modulenotfounderror-no-module-named-pygame\">ModuleNotFoundError: No module named &#39;pygame&#39;</a></p>\n\n<pre><code>Requirement already satisfied: clipspy in /usr/lib/python3.7/site-packages/clipspy-0.3.2_2_g7dd9ca2-py3.7-linux-x86_64.egg (0.3.2-2-g7dd9ca2)\nRequirement already satisfied: cffi&gt;=1.0.0 in /usr/lib/python3.7/site-packages (from clipspy) (1.12.2)\nRequirement already satisfied: pycparser in /usr/lib/python3.7/site-packages (from cffi&gt;=1.0.0-&gt;clipspy) (2.19)\n</code></pre>\n\n<p>I tried re-installing clipspy via github many times, but the same issue persists. The interesting part is that I used pyclips as alternative for a while and it gave me the same error. It might be something to do with the directory or the installation, but I am not sure what it could be. </p>\n\n<p>The installation process for CLIPSpy was as follows:</p>\n\n<p><strong>make:</strong></p>\n\n<pre><code>python setup.py build_ext --include-dirs clips_source           \\\n        --library-dirs clips_source\n/usr/lib/python3.7/site-packages/setuptools/dist.py:484: UserWarning: The version specified ('0.3.2-2-g7dd9ca2') is an invalid version, this may not work as expected with newer versions of setuptools, pip, and PyPI. Please see PEP 440 for more details.\n  \"details.\" % self.metadata.version\nrunning build_ext\ngenerating cffi module 'build/temp.linux-x86_64-3.7/_clips.c'\nalready up-to-date\n</code></pre>\n\n<p>I tried re-installing setuptools to see if I could get a valid dist.py version, but alas nothing has changed.</p>\n\n<p><strong>sudo make install:</strong></p>\n\n<pre><code>....\nInstalled /usr/lib/python3.7/site-packages/clipspy-0.3.2_2_g7dd9ca2-py3.7-linux-x86_64.egg\nProcessing dependencies for clipspy===0.3.2-2-g7dd9ca2\nSearching for cffi==1.12.2\nBest match: cffi 1.12.2\nAdding cffi 1.12.2 to easy-install.pth file\n\nUsing /usr/lib/python3.7/site-packages\nSearching for pycparser==2.19\nBest match: pycparser 2.19\nAdding pycparser 2.19 to easy-install.pth file\n\nUsing /usr/lib/python3.7/site-packages\nFinished processing dependencies for clipspy===0.3.2-2-g7dd9ca2\n</code></pre>\n\n<p>The solution could be something simple, but I can't seem to know what it is.</p>\n\n<p>Any help or advice on what to do or where I went wrong would be greatly appreciated.</p>\n\n<p><strong>EDIT 1:</strong>\n   After removing files related to clips, and having a fresh install, I no longer receive the <strong>Atribute Error</strong>. Rather I get an <strong>ImportError</strong></p>\n\n<pre><code>File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nFile \"/usr/lib/python3.7/site-packages/clipspy-0.3.1-py3.7-linux-x86_64.egg/clips/__init.py\", line 30, in &lt;module&gt; from clips.error import CLIPSError\nFile \"/usr/lib/python3.7/site-packages/clipspy-0.3.1-py3.7-linux-x86_64.egg/clips/error.py\", line 32, in &lt;module&gt; from clips.router import Router\nFile \"/usr/lib/python3.7/site-packages/clipspy-0.3.1-py3.7-linux-x86_64.egg/clips/router.py\", line 7, in &lt;module&gt; from clips._clips import lib ffi\n\nImport Error: libclips.so: cannot open shared object file: No such file or directory\n</code></pre>\n\n<p>I've cloned the git repository that contains tag 3.2</p>\n\n<p><strong>EDIT 2:</strong>\n   Managed to fix the error by renaming the <em>libclips.so.6</em> file located in the <strong>/usr/lib/</strong> folder to <em>libclips.so</em>\nNow it works.</p>\n"}, {"tags": ["python", "machine-learning", "neural-network", "pytorch"], "comments": [{"owner": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1551917178, "post_id": 55033669, "comment_id": 96820674, "body": "What&#39;s the exact point of including a bunch of <code>plot</code> commands without showing their results?"}, {"owner": {"reputation": 11, "user_id": 11162266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44831053cb715d08a59c36c5936de0e1?s=128&d=identicon&r=PG&f=1", "display_name": "TGorlenko", "link": "https://stackoverflow.com/users/11162266/tgorlenko"}, "reply_to_user": {"reputation": 45172, "user_id": 4685471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/327dc718c142e3ea70e5db4b38050a36?s=128&d=identicon&r=PG", "display_name": "desertnaut", "link": "https://stackoverflow.com/users/4685471/desertnaut"}, "edited": false, "score": 0, "creation_date": 1551951499, "post_id": 55033669, "comment_id": 96831915, "body": "Thanks! Results added."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 11162266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44831053cb715d08a59c36c5936de0e1?s=128&d=identicon&r=PG&f=1", "display_name": "TGorlenko", "link": "https://stackoverflow.com/users/11162266/tgorlenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1552216031, "creation_date": 1552216031, "answer_id": 55087038, "question_id": 55033669, "link": "https://stackoverflow.com/questions/55033669/encoding-and-decoding-pictures-pytorch/55087038#55087038", "title": "encoding and decoding pictures pytorch", "body": "<p>1) replace line</p>\n\n<pre><code>mse_loss = loss(torch.tensor(decoded_x, dtype=torch.float), x)\n</code></pre>\n\n<p>with line</p>\n\n<pre><code>mse_loss = loss(decoded_x, x)\n</code></pre>\n\n<p>2) replace lines</p>\n\n<pre><code>model.eval()\n    with torch.no_grad():\n        for x, y in train_loader:\n</code></pre>\n\n<p>with lines</p>\n\n<p>replace lines</p>\n\n<pre><code>model.eval()\n    with torch.no_grad():\n        for x, y in test_loader:\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11162266, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44831053cb715d08a59c36c5936de0e1?s=128&d=identicon&r=PG&f=1", "display_name": "TGorlenko", "link": "https://stackoverflow.com/users/11162266/tgorlenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1446, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1552216031, "creation_date": 1551913978, "last_edit_date": 1551951096, "question_id": 55033669, "link": "https://stackoverflow.com/questions/55033669/encoding-and-decoding-pictures-pytorch", "title": "encoding and decoding pictures pytorch", "body": "<p>Task: Using the example of the \"fetch_lfw_people\" dataset to write and train an autocoder. \nWrite an iteration code by epoch. Write code to visualize the learning process and count the metrics for validation after each epoch.\nTrain auto encoder. Achieve low loss on validation.</p>\n\n<p>My code:</p>\n\n<pre><code>from sklearn.datasets import fetch_lfw_people\nimport numpy as np\nimport torch\nfrom torch.utils.data import TensorDataset, DataLoader\nfrom sklearn.model_selection import train_test_split\n</code></pre>\n\n<p>Data preparation:</p>\n\n<pre><code>lfw_people = fetch_lfw_people(min_faces_per_person=70, resize=0.4)    \nX = lfw_people['images']\n\nX_train, X_test = train_test_split(X, test_size=0.1)\n\nX_train = torch.tensor(X_train, dtype=torch.float32, requires_grad=True)\nX_test = torch.tensor(X_test, dtype=torch.float32, requires_grad=False)\ndataset_train = TensorDataset(X_train, torch.zeros(len(X_train)))\ndataset_test = TensorDataset(X_test, torch.zeros(len(X_test)))\n\nbatch_size = 32\n\ntrain_loader = DataLoader(dataset_train, batch_size=batch_size, shuffle=True)\ntest_loader = DataLoader(dataset_test, batch_size=batch_size, shuffle=False)\n</code></pre>\n\n<p>\u0421reate a network with encoding and decoding functions:</p>\n\n<pre><code>class Autoencoder(torch.nn.Module): \n    def __init__(self): \n        super(Autoencoder, self).__init__()\n        self.encoder = torch.nn.Sequential(\n            torch.nn.Conv2d(in_channels=1, out_channels=32, kernel_size=3, stride=2), \n            torch.nn.ReLU(),\n\n            torch.nn.Conv2d(in_channels=32, out_channels=64, stride=2, kernel_size=3),\n            torch.nn.ReLU(),\n\n            torch.nn.Conv2d(in_channels=64, out_channels=64, stride=2, kernel_size=3),\n            torch.nn.ReLU(),\n\n            torch.nn.Conv2d(in_channels=64, out_channels=64, stride=2, kernel_size=3)\n        )\n\n        self.decoder = torch.nn.Sequential( \n            torch.nn.ConvTranspose2d(in_channels=64, out_channels=64, kernel_size=3, stride=2),\n\n            torch.nn.ConvTranspose2d(in_channels=64, out_channels=64, kernel_size=(3,4), stride=2),\n\n            torch.nn.ConvTranspose2d(in_channels=64, out_channels=32, kernel_size=4, stride=2),          \n\n            torch.nn.ConvTranspose2d(in_channels=32, out_channels=1, kernel_size=(4,3), stride=2)\n        )\n\n    def encode(self, X):\n        encoded_X = self.encoder(X) \n        batch_size = X.shape[0] \n        return encoded_X.reshape(batch_size, -1)\n\n    def decode(self, X): \n        pre_decoder = X.reshape(-1, 64, 2, 1)  \n        return self.decoder(pre_decoder)\n</code></pre>\n\n<p>I check the work of the model before learning by one example:</p>\n\n<pre><code>model = Autoencoder()\n\nsample = X_test[:1]\nsample = sample[:, None] \nresult = model.decode(model.encode(sample))  # before train\n\nfig, (ax1, ax2) = plt.subplots(nrows=1, ncols=2)\nax1.imshow(sample[0][0].detach().numpy(), cmap=plt.cm.Greys_r)\nax2.imshow(result[0][0].detach().numpy(), cmap=plt.cm.Greys_r)\nplt.show()\n</code></pre>\n\n<p>The result is unsatisfactory. I start training:</p>\n\n<pre><code>model = Autoencoder()\nloss = torch.nn.MSELoss()\noptimizer = torch.optim.Adam(model.parameters(), lr=0.001)\n\nhistory_train = []\nhistory_test = []\n\nfor i in range(5):\n    for x, y in train_loader:\n        x = x[:, None]\n\n        model.train()\n\n        decoded_x = model.decode(model.encode(x))\n        mse_loss = loss(torch.tensor(decoded_x, dtype=torch.float), x)\n\n        optimizer.zero_grad()\n        mse_loss.backward()\n        optimizer.step()\n\n        history_train.append(mse_loss.detach().numpy())\n\n    model.eval()\n    with torch.no_grad():\n        for x, y in train_loader:\n            x = x[:, None]\n\n            result_x = model.decode(model.encode(x))\n            loss_test = loss(torch.tensor(result_x, dtype=torch.float), x)\n\n            history_test.append(loss_test.detach().numpy())\n\nplt.subplot(1, 2, 1)\nplt.plot(history_train)\nplt.title(\"Optimization process for train data\")\n\nplt.subplot(1, 2, 2)\nplt.plot(history_test)\nplt.title(\"Loss for test data\")\n\nplt.show\n</code></pre>\n\n<p>A huge loss on the training data and on the test.</p>\n\n<p>\u0410fter training nothing has changed:</p>\n\n<pre><code>with torch.no_grad():\n    model.eval()\n    res1 = model.decode(model.encode(sample))\n\nfig, (ax1, ax2) = plt.subplots(nrows=1, ncols=2)\nax1.imshow(sample[0][0].detach().numpy(), cmap=plt.cm.Greys_r)\nax2.imshow(res1[0][0].detach().numpy(), cmap=plt.cm.Greys_r)\nplt.show()\n</code></pre>\n\n<p>Why such a big loss? Reducing the input to the interval [-1, 1] does not help. I did it like this: (value / 255) * 2 - 1\nWhy do not change the parameters of the model after training? \nWhy does not change the decoded sample?</p>\n\n<p>Result: before train, after train, loss\n<a href=\"https://i.stack.imgur.com/OhdrJ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/OhdrJ.jpg</a></p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 201, "user_id": 8519006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11cb821618b0fb973e916ffdf2e0d023?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/8519006/mike"}, "edited": false, "score": 0, "creation_date": 1551914635, "post_id": 55033629, "comment_id": 96820043, "body": "Have you tried selecting the element by jspath or xpath, and did that give you the same results?"}, {"owner": {"reputation": 47, "user_id": 10939189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b67eae7a554f38bf69013f0c597e9a6?s=128&d=identicon&r=PG&f=1", "display_name": "sosa067", "link": "https://stackoverflow.com/users/10939189/sosa067"}, "reply_to_user": {"reputation": 201, "user_id": 8519006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11cb821618b0fb973e916ffdf2e0d023?s=128&d=identicon&r=PG&f=1", "display_name": "Mike", "link": "https://stackoverflow.com/users/8519006/mike"}, "edited": false, "score": 0, "creation_date": 1551914959, "post_id": 55033629, "comment_id": 96820135, "body": "I have not tried that Mike, I&#39;ll try that out thanks!"}, {"owner": {"reputation": 18006, "user_id": 2386774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea7da142cb7e85d5d5a8576e2625431?s=128&d=identicon&r=PG", "display_name": "JeffC", "link": "https://stackoverflow.com/users/2386774/jeffc"}, "edited": false, "score": 0, "creation_date": 1551921036, "post_id": 55033629, "comment_id": 96821534, "body": "Can you post a link to the page?"}], "answers": [{"tags": [], "owner": {"reputation": 1482, "user_id": 10446484, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DPJNPwHB7j0/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DV7oUQVhckzmNOxsNU7IvVVMLlZ3Q/mo/photo.jpg?sz=128", "display_name": "Nic Laforge", "link": "https://stackoverflow.com/users/10446484/nic-laforge"}, "is_accepted": false, "score": 0, "last_activity_date": 1551934277, "creation_date": 1551934277, "answer_id": 55036320, "question_id": 55033629, "link": "https://stackoverflow.com/questions/55033629/selenium-giving-different-results/55036320#55036320", "title": "Selenium giving different results", "body": "<p>Your parent class might be too broad and some time you might get a different element, then your second query will fail to find the proper child.</p>\n\n<p>When searching via css selector, you can combine multiple nested class by using spaces between them. You could then combine your nested query into one.</p>\n\n<p>Also I suggest that you use wait until in this case to ensure that the element will be present. Compare to sleep, this will send the request periodically to the page until it finds your request. </p>\n\n<pre><code>from selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.support.ui import WebDriverWait\n\nwait = WebDriverWait(driver, '30')\nwait.until(EC.presence_of_all_elements_located(\"css selector\", \".classname .anotherclassname\")))\n</code></pre>\n\n<p>If the element also need to be visible, change <strong><em>presence_of_all_elements_located</em></strong> to <strong><em>visibility_of_any_elements_located</em></strong></p>\n"}], "owner": {"reputation": 47, "user_id": 10939189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b67eae7a554f38bf69013f0c597e9a6?s=128&d=identicon&r=PG&f=1", "display_name": "sosa067", "link": "https://stackoverflow.com/users/10939189/sosa067"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 188, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551934277, "creation_date": 1551913691, "last_edit_date": 1551923760, "question_id": 55033629, "link": "https://stackoverflow.com/questions/55033629/selenium-giving-different-results", "title": "Selenium giving different results", "body": "<p>I'm having a bit of an issue using Selenium with python. There is a page I'm scraping, and I'm accessing a children of a parent element. However each time I run the script, it's not always guaranteed that I'll be able to get the children. </p>\n\n<p>So for example, I have:</p>\n\n<pre><code>filters = driver.find_element_by_class_name(\"classname\")\n\nfilters_children = filters.find_elements_by_class_name(\"anotherclassname\")\n</code></pre>\n\n<p>And I print out filters_children[1] just to make sure. </p>\n\n<p>Around 60% it will work fine, and filters_children will have a list of the children elements. However the other 40%, it'll have a NoneType so it won't be able to grab the elements.</p>\n\n<p>I tried using a sleep of up to 10 seconds after the page rendered but that hasn't helped a whole lot.</p>\n"}, {"tags": ["python", "conventions"], "owner": {"reputation": 13, "user_id": 10598113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PGcWT.jpg?s=128&g=1", "display_name": "Erick Velez", "link": "https://stackoverflow.com/users/10598113/erick-velez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551913449, "creation_date": 1551913449, "question_id": 55033595, "link": "https://stackoverflow.com/questions/55033595/should-main-py-reference-another-class-file-to-begin-work", "title": "Should __main__.py reference another class/file to begin work?", "body": "<p>I mostly program in Java and C++ so packages/execution in Python is a little new.</p>\n\n<p>I have a medium-sized project for which I can call <code>python myproject</code> to run <strong>main</strong>.py within the <code>myproject</code> directory. I was wondering if it is appropriate or accepted to instantiate the project's main process within that <strong>main</strong>.py file or to have it call myproject.py to begin the work/create an instance of a <code>myproject</code> class to have it handle work. </p>\n\n<p>I would be handing over command line arguments from <strong>main</strong>.py to the <code>myproject</code> class to enable some feature like debugging output/</p>\n"}, {"tags": ["python", "for-loop", "map-function"], "comments": [{"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "edited": false, "score": 0, "creation_date": 1551913649, "post_id": 55033588, "comment_id": 96819720, "body": "It&#39;s unlikely you will be able to rewrite these clear two lines with a single line and keep it readable. So why bother?"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 1, "creation_date": 1551913885, "post_id": 55033588, "comment_id": 96819797, "body": "It&#39;s helpful to know what the list looks like"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551914206, "post_id": 55033588, "comment_id": 96819908, "body": "Are there non-zero columns in <code>k_poss</code> that need to be preserved?"}], "answers": [{"comments": [{"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 2, "creation_date": 1551913958, "post_id": 55033637, "comment_id": 96819826, "body": "You&#39;re joining all of <code>x</code> in your map not <code>x[0]</code>"}, {"owner": {"reputation": 6415, "user_id": 6792743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dc0a5e4d9ff9645a9deca067ced1d60?s=128&d=identicon&r=PG&f=1", "display_name": "perl", "link": "https://stackoverflow.com/users/6792743/perl"}, "edited": false, "score": 0, "creation_date": 1551914050, "post_id": 55033637, "comment_id": 96819858, "body": "And returning a string instead of a list too"}, {"owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "edited": false, "score": 0, "creation_date": 1551914052, "post_id": 55033637, "comment_id": 96819859, "body": "depending on k_poss, maybe it&#39;s safer to change that to iter(k_poss)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551914163, "post_id": 55033637, "comment_id": 96819895, "body": "Doesn&#39;t this also lose all the non-zero columns of <code>k_poss</code>?"}, {"owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "edited": false, "score": 0, "creation_date": 1551914320, "post_id": 55033637, "comment_id": 96819941, "body": "the for look doesn&#39;t lose all non zero bits, the map may.. Hmm, I&#39;d never use map for stuff like this because it&#39;s so unreadable. I&#39;ll change the map part"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 1, "creation_date": 1551914410, "post_id": 55033637, "comment_id": 96819967, "body": "The map is not correct still, you&#39;d be losing data in each <code>x</code> this way. Don&#39;t use map for this. Just use the loop. If you want a one liner then make it a one liner. But that&#39;s just me"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551914679, "post_id": 55033637, "comment_id": 96820048, "body": "There&#39;s no reason to recreate the entire list from scratch just to update one small part of it. Python doesn&#39;t have the kind of optimizations that allow functional languages to do this efficiently. Stick with the <code>for</code> loop."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 1, "creation_date": 1551914743, "post_id": 55033637, "comment_id": 96820068, "body": "And to make the map even work you&#39;re doing yet another loop as a comprehension. This is just inefficient. Also you&#39;re missing a closing parentheses it should be <code>k_poss = list(map(lambda x: [&#39; &#39;.join(x[0])] + x[1:], iter(k_poss)))</code> if you use the map. And at that point I say it&#39;s too much work and readibility and efficiency is lost at that point."}, {"owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551915068, "post_id": 55033637, "comment_id": 96820165, "body": "@Jab, yes, I should just write, don&#39;t use map for this... Too late here to get it right without setting up a test example, I&#39;ll just mention your example instead."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551915348, "post_id": 55033637, "comment_id": 96820242, "body": "I gave you a +1 as you did answer OP&#39;s question but to be honest I wouldn&#39;t answer with something that may work but is not the most optimal solution. I say guide them in the correct path and let them decide."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551915402, "post_id": 55033637, "comment_id": 96820251, "body": "Add in the one liner in my answer so I can delete my answer as you do deserve the credit."}, {"owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551954741, "post_id": 55033637, "comment_id": 96834012, "body": "@Jab - Thanks &amp; Done."}], "tags": [], "owner": {"reputation": 4893, "user_id": 2335020, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ql0vj.png?s=128&g=1", "display_name": "576i", "link": "https://stackoverflow.com/users/2335020/576i"}, "is_accepted": true, "score": 2, "last_activity_date": 1551954712, "last_edit_date": 1551954712, "creation_date": 1551913822, "answer_id": 55033637, "question_id": 55033588, "link": "https://stackoverflow.com/questions/55033588/map-instead-of-for-loop/55033637#55033637", "title": "Map instead of for loop", "body": "<p>You can just loop over k_poss,\nlooping over a range of len of a object is considered non-Pythonic</p>\n\n<pre><code>for k in k_poss:\n     k[0] = ' '.join(k[0])\n</code></pre>\n\n<p>which will make things more readable.</p>\n\n<p>Since you asked, map will also work, but is really <strong>not recommended</strong>.</p>\n\n<p>See @Jab's example </p>\n\n<pre><code>k_poss = list(map(lambda x: [' '.join(x[0])] + x[1:], iter(k_poss)))\n</code></pre>\n\n<p>from taken the comment section if you really want to use map, it's better than the attempts I had in here...</p>\n"}], "owner": {"reputation": 150, "user_id": 10985704, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qr9cGw8Pl-0/AAAAAAAAAAI/AAAAAAAAA-E/oVizkas6ZGM/photo.jpg?sz=128", "display_name": "Kai036", "link": "https://stackoverflow.com/users/10985704/kai036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 55033637, "answer_count": 1, "score": 2, "last_activity_date": 1551954712, "creation_date": 1551913382, "last_edit_date": 1551915599, "question_id": 55033588, "link": "https://stackoverflow.com/questions/55033588/map-instead-of-for-loop", "title": "Map instead of for loop", "body": "<p>I have a for loop:</p>\n\n<pre><code>for i in range(len(k_poss)):\n    k_poss[i][0] = ' '.join(k_poss[i][0])\n</code></pre>\n\n<p>Is it possible to use the map function for this instead? I know it could be something like </p>\n\n<pre><code>map(lambda x: ' '.join(x), k_poss)\n</code></pre>\n\n<p>but how would I go to the index I want in a map?</p>\n"}, {"tags": ["python", "time", "pip", "pyinstaller"], "comments": [{"owner": {"reputation": 6690, "user_id": 4225229, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2YfJM.jpg?s=128&g=1", "display_name": "JacobIRR", "link": "https://stackoverflow.com/users/4225229/jacobirr"}, "edited": false, "score": 1, "creation_date": 1551913376, "post_id": 55033571, "comment_id": 96819627, "body": "let&#39;s see some code"}, {"owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 1, "creation_date": 1551913968, "post_id": 55033571, "comment_id": 96819829, "body": "Yeah, this is ambiguous. It is more likely than not that your code is the problem, not pyinstaller."}], "owner": {"reputation": 43, "user_id": 10272771, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-30M25mOA-J0/AAAAAAAAAAI/AAAAAAAAAIY/pKjz5W2PwfQ/photo.jpg?sz=128", "display_name": "Morplson", "link": "https://stackoverflow.com/users/10272771/morplson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551915313, "creation_date": 1551913282, "last_edit_date": 1551915313, "question_id": 55033571, "link": "https://stackoverflow.com/questions/55033571/why-doesnt-pyinstaller-work-with-the-time-package", "title": "Why doesn&#39;t pyinstaller work with the time package?", "body": "<p>Am I really the first one to wonder why the time.sleep() function wont work in a pyinstaller .exe?\nIt just keeps on going with either no or an miniscule amount of wait time. It also messes with the keyboard and the mouse pip packages (the input-event loops).</p>\n\n<p>How can I fix this issue? Are there alternatives?</p>\n"}, {"tags": ["python", "pandas", "apache-spark", "dataframe", "pyspark"], "answers": [{"tags": [], "owner": {"reputation": 1605, "user_id": 3012093, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5f51861c81e3729c8e883fa80ec741be?s=128&d=identicon&r=PG&f=1", "display_name": "Ranga Vure", "link": "https://stackoverflow.com/users/3012093/ranga-vure"}, "is_accepted": true, "score": 1, "last_activity_date": 1551969317, "creation_date": 1551969317, "answer_id": 55046308, "question_id": 55033569, "link": "https://stackoverflow.com/questions/55033569/scale-data-from-dataframe-obtained-with-pyspark/55046308#55046308", "title": "Scale data from dataframe obtained with pyspark", "body": "<p>sklearn works with pandas dataframe. So you have to convert spark dataframe to pandas dataframe.</p>\n\n<pre><code>X_scaled = preprocessing.scale(df.toPandas())\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 9220891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4edc7c17cbaa58968467ea4d992077d1?s=128&d=identicon&r=PG&f=1", "display_name": "Shaik Mohammad Abdullah A", "link": "https://stackoverflow.com/users/9220891/shaik-mohammad-abdullah-a"}, "is_accepted": false, "score": 0, "last_activity_date": 1593441177, "creation_date": 1593441177, "answer_id": 62640430, "question_id": 55033569, "link": "https://stackoverflow.com/questions/55033569/scale-data-from-dataframe-obtained-with-pyspark/62640430#62640430", "title": "Scale data from dataframe obtained with pyspark", "body": "<p>You can use the &quot;StandardScaler&quot; method from &quot;pyspark.ml.feature&quot;. Attaching a sample script to perform the exact pre-processing as sklearn,</p>\n<p><strong>Step 1:</strong></p>\n<pre><code>from pyspark.ml.feature import StandardScaler\n\nscaler = StandardScaler(inputCol=&quot;features&quot;, \n                        outputCol=&quot;scaled_features&quot;,\n                        withStd=True,withMean=True)\nscaler_model = scaler.fit(transformed_data)\nscaled_data = scaler_model.transform(transformed_data)\n</code></pre>\n<p>Remember before you perform step 1, you need to assemble all the features with VectorAssembler. Hence this will be your step 0.</p>\n<pre><code>from pyspark.ml.feature import VectorAssembler\nassembler = VectorAssembler(inputCols=required_features, outputCol='features')\ntransformed_data = assembler.transform(df)\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10438984, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156931536714560/picture?type=large", "display_name": "jdonlucas", "link": "https://stackoverflow.com/users/10438984/jdonlucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 55046308, "answer_count": 2, "score": 1, "last_activity_date": 1593441177, "creation_date": 1551913253, "question_id": 55033569, "link": "https://stackoverflow.com/questions/55033569/scale-data-from-dataframe-obtained-with-pyspark", "title": "Scale data from dataframe obtained with pyspark", "body": "<p>I'm trying to scale some data from a csv file. I'm doing this with pyspark to obtain the dataframe and sklearn for the scale part. Here is the code:</p>\n\n<pre><code>from sklearn import preprocessing\nimport numpy as np\nimport pyspark\n\nfrom pysparl.sql import SparkSession\n\nspark = SparkSession.builder.getOrCreate()\n\ndf = spark.read.option('header','true').csv('flights,csv')\nX_scaled = preprocessing.scale(df)\n</code></pre>\n\n<p>If I make the dataframe with pandas the scale part doesn't have any problems, but with spark I get this error:</p>\n\n<pre><code>ValueError: setting an array element with a sequence.\n</code></pre>\n\n<p>So I'm guessing that the element types are different between pandas and pyspark, but how can I work with pyspark to do the scale?</p>\n"}, {"tags": ["python", "string", "datetime", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10463727, "user_type": "registered", "profile_image": "https://graph.facebook.com/2148336618512516/picture?type=large", "display_name": "Bryan Saltos", "link": "https://stackoverflow.com/users/10463727/bryan-saltos"}, "edited": false, "score": 0, "creation_date": 1551966311, "post_id": 55033736, "comment_id": 96841050, "body": "Thank you so much this works i split the string this way:  <code>texto = a.split()</code> <code>texto = texto[0]+&quot; &quot;+texto[1]+&quot; &quot;+texto[2]+&quot; &quot;+texto[3]+&quot; &quot;+texto[4]+&quot; &quot;+texto[5]</code> and then i could parse it thank you again :)"}, {"owner": {"reputation": 450, "user_id": 10813463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RByWNItLv0/AAAAAAAAAAI/AAAAAAAAAGg/n1O8RqzoTQU/photo.jpg?sz=128", "display_name": "Nick Vitha", "link": "https://stackoverflow.com/users/10813463/nick-vitha"}, "reply_to_user": {"reputation": 63, "user_id": 10463727, "user_type": "registered", "profile_image": "https://graph.facebook.com/2148336618512516/picture?type=large", "display_name": "Bryan Saltos", "link": "https://stackoverflow.com/users/10463727/bryan-saltos"}, "edited": false, "score": 0, "creation_date": 1551981032, "post_id": 55033736, "comment_id": 96849955, "body": "I would recommend doing something like <code>a = &quot;Wed Mar 06 2019 17:35:33 GMT-0500 (Ecuador Time)&quot;</code> and then <code>a = a.split(&#39; (&#39;)[0]</code> instead, but your way should work as well."}], "tags": [], "owner": {"reputation": 450, "user_id": 10813463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--RByWNItLv0/AAAAAAAAAAI/AAAAAAAAAGg/n1O8RqzoTQU/photo.jpg?sz=128", "display_name": "Nick Vitha", "link": "https://stackoverflow.com/users/10813463/nick-vitha"}, "is_accepted": true, "score": 5, "last_activity_date": 1551914413, "creation_date": 1551914413, "answer_id": 55033736, "question_id": 55033556, "link": "https://stackoverflow.com/questions/55033556/parse-a-date-in-python-with-datetime/55033736#55033736", "title": "Parse a Date in Python with datetime", "body": "<p>The problem with the code is \"(Ecuador Time)\" is not in the format required to match \"(%Z)\".</p>\n\n<p>To fix your code, you can just simply remove \"(Ecuador Time)\" from your string and remove your \"(%Z)\". Since you already have your GMT offset, it shouldn't matter too much.</p>\n\n<p>This would leave your code as:</p>\n\n<pre><code>from datetime import datetime\n\na = \"Wed Mar 06 2019 17:35:33 GMT-0500\"\nfetcha = datetime.strptime(a , '%a %b %d %Y %H:%M:%S GMT%z')\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10463727, "user_type": "registered", "profile_image": "https://graph.facebook.com/2148336618512516/picture?type=large", "display_name": "Bryan Saltos", "link": "https://stackoverflow.com/users/10463727/bryan-saltos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 55033736, "answer_count": 1, "score": 0, "last_activity_date": 1551914413, "creation_date": 1551913172, "question_id": 55033556, "link": "https://stackoverflow.com/questions/55033556/parse-a-date-in-python-with-datetime", "title": "Parse a Date in Python with datetime", "body": "<p>I am getting this String:</p>\n\n<pre><code>a = \"Wed Mar 06 2019 17:35:33 GMT-0500 (Ecuador Time)\"\n</code></pre>\n\n<p>and i am trying to parse it in python with this code:</p>\n\n<pre><code>fecha = datetime.strptime(a , '%a %b %d %Y %H:%M:%S GMT%z (%Z)')\n</code></pre>\n\n<p>But i am getting an error</p>\n\n<pre><code>ValueError: time data 'Wed Mar 06 2019 17:35:33 GMT-0500 (Ecuador Time)' does not match format '%a %b %d %Y %H:%M:%S GMT%z (%Z)'\n</code></pre>\n\n<p>what am i doing wrong? i've try a lot of settings for the date but still can get a solution my goal is to get a date object  and save it into a MongoDatabase</p>\n"}, {"tags": ["python", "arrays", "numpy", "matrix"], "comments": [{"owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 0, "creation_date": 1551914771, "post_id": 55033541, "comment_id": 96820080, "body": "What do you mean by &#39;build a matrix out of a row&#39;? If you have already captured the row you want then it depends on its format. If the row is a pandas series (say s), then you can simply use s.values. What do you mean by &#39;builds rows for me&#39;? Build it it from individual cells?"}, {"owner": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "reply_to_user": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 0, "creation_date": 1551915054, "post_id": 55033541, "comment_id": 96820162, "body": "So row_func builds a row [1,cos(t),sin(t), cos(2*t), sin(2*t) , ... , cos(nt), sin(nt)], and I need to build a matrix out of [1,np.cos(t_j),np.sin(t_j), ... ,np.cos(nt_j),np.sin(nt_j)], where T is a row itself. So essentially, this should build a matrix, 291 rows tall, and 2n+1 columns wide (because row function runs sin, cos, and then I inserted 1 at the beginning)"}, {"owner": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "reply_to_user": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "edited": false, "score": 0, "creation_date": 1551915320, "post_id": 55033541, "comment_id": 96820233, "body": "@bartcubrich Sorry, I don&#39;t know if my previous comment made sense. Essentially, I need row_func to run it&#39;s function in a row (or each value in the T vector/array)."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "edited": false, "score": 0, "creation_date": 1551916383, "post_id": 55033932, "comment_id": 96820471, "body": "T is an array of 691 values.   When I try design_matrix(4)[100,:], I get index 100 is out of bounds for axis 0 with size 4. It seems that it&#39;s not building the right row size? Is that a problem with the initial for loop? Should it be T.size?"}, {"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "reply_to_user": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "edited": false, "score": 0, "creation_date": 1551916761, "post_id": 55033932, "comment_id": 96820581, "body": "@Joe-You-Know Ah, the number of rows should be fixed, ok. I edited my answer"}, {"owner": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "edited": false, "score": 0, "creation_date": 1551916885, "post_id": 55033932, "comment_id": 96820604, "body": "that looks like it works! Thanks for your help! I&#39;ll accept it when I can. It looks like stacking worked."}], "tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": true, "score": 1, "last_activity_date": 1551916728, "last_edit_date": 1551916728, "creation_date": 1551915841, "answer_id": 55033932, "question_id": 55033541, "link": "https://stackoverflow.com/questions/55033541/making-a-matrix-out-of-rows-that-are-passed-through-a-list-that-makes-rows-pytho/55033932#55033932", "title": "Making a matrix out of rows that are passed through a list that makes rows Python", "body": "<p>You could try to use <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.stack.html\" rel=\"nofollow noreferrer\"><code>numpy.stack()</code></a>.</p>\n\n<pre><code>def design_matrix(n):\n    row_list = []\n    for t in T:\n        row_list.append(\n            np.array(row_func(t, n)))\n\n    return np.stack(row_list, axis=0)\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 11019678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4cd9c584a283ed6bb3bd9c7d8704a241?s=128&d=identicon&r=PG&f=1", "display_name": "Joe-You-Know", "link": "https://stackoverflow.com/users/11019678/joe-you-know"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 55033932, "answer_count": 1, "score": 1, "last_activity_date": 1551916728, "creation_date": 1551913086, "last_edit_date": 1551915119, "question_id": 55033541, "link": "https://stackoverflow.com/questions/55033541/making-a-matrix-out-of-rows-that-are-passed-through-a-list-that-makes-rows-pytho", "title": "Making a matrix out of rows that are passed through a list that makes rows Python", "body": "<p>Here is the problem:</p>\n\n<blockquote>\n  <p>Using the function <code>row_func()</code>, create a function <code>design_matrix()</code> which takes\n  as input an integer <code>n</code>, and returns the <code>NumPy</code> array whose <code>j</code>th row is</p>\n\n<pre><code>[1, np.cos(t_j), np.sin(t_j), ... , np.cos(n*t_j), np.sin(n*t_j)]\n</code></pre>\n  \n  <p>where <code>t_j</code> is the <code>j</code>th time value in <code>T</code>. In other words, <code>design_matrix(n)</code> should produce a matrix whose <code>j</code>th row is <code>row_func(t_j, n)</code>.</p>\n</blockquote>\n\n<p>Here is <code>row_func()</code>; I made this first and tested to make sure it worked.</p>\n\n<pre><code>def row_func(t,n):\n    L = [f for k in range(1,n+1) for f in [np.cos(t*k), np.sin(t*k)]]\n    L.insert(0,1)\n    return L\n</code></pre>\n\n<p>This code gives me a row of numbers, based on the function</p>\n\n<pre><code>[1, cos(t), sin(t), cos(2*t), sin(2*t) , ... , cos(n*t), sin(n*t)]\n</code></pre>\n\n<p><code>T</code> is also a row of 291 numbers that I've imported in.</p>\n\n<p><code>design_matrix(10).shape</code> should return a value of <code>(629, 21)</code> and <code>design_matrix(4)[100,:]</code> should return the row</p>\n\n<pre><code>array([ 1. , 0.54030231, 0.84147098, -0.41614684, 0.90929743,\n  -0.9899925 , 0.14112001, -0.65364362, -0.7568025 ])\n</code></pre>\n\n<p>Here's what I've tried: Because I'm trying to get the <code>j</code>th time value in the array <code>T</code>, it should be as simple as replacing <code>t</code> for <code>T</code> in my function, right?</p>\n\n<pre><code>def design_matrix(n):\n    X_matrix = np.array(row_func(T,n))\n    return X_matrix\n</code></pre>\n\n<p><code>row_func()</code> should grab the values of <code>t</code> and compute them in a row. However, I get:</p>\n\n<pre><code>ValueError: setting an array element with a sequence as an error.\n</code></pre>\n\n<p>So my question is, how do I build a matrix out of a row/column and a function that builds rows for me?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "is_accepted": true, "score": 0, "last_activity_date": 1551914188, "creation_date": 1551914188, "answer_id": 55033706, "question_id": 55033524, "link": "https://stackoverflow.com/questions/55033524/call-a-python-script/55033706#55033706", "title": "Call a python script", "body": "<p>Depending on how you installed anaconda it can really donk up your python version and libraries. It will often connect to and make changes to your python libraries. You have a few options.</p>\n\n<p>1) uninstall anaconda an see if that helps. If so you need to work on your anaconda install</p>\n\n<p>2) start checking packages in the anaconda command prompt. You can do this</p>\n\n<pre><code>conda install -c anaconda paramiko \n</code></pre>\n\n<p>Try number 2 first. If that is the case you will just have to occasionally install libraries that don't come with anaconda on install.</p>\n\n<p><a href=\"https://anaconda.org/anaconda/paramiko\" rel=\"nofollow noreferrer\">https://anaconda.org/anaconda/paramiko</a></p>\n"}], "owner": {"reputation": 329, "user_id": 6679011, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f5c9a7d025e5cf7734e8d6de19a2113?s=128&d=identicon&r=PG&f=1", "display_name": "Yang L", "link": "https://stackoverflow.com/users/6679011/yang-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55033706, "answer_count": 1, "score": 1, "last_activity_date": 1551914188, "creation_date": 1551912995, "last_edit_date": 1551913220, "question_id": 55033524, "link": "https://stackoverflow.com/questions/55033524/call-a-python-script", "title": "Call a python script", "body": "<p>I have a python script, previously I could call it in multiple ways:</p>\n\n<ol>\n<li>double click it; </li>\n<li>in command line, directly call the script in the folder; </li>\n<li>use <code>python script_name.py</code> to explicitly call it.</li>\n</ol>\n\n<p>But today, I installed an <code>anaconda</code> in the system. Now the first two method to call a script will fail. something like <code>'No module named paramiko'</code>. but this library is already installed, and <code>python script_name.py</code> could run properly.</p>\n\n<p>Any suggestion how could I fix this? </p>\n"}, {"tags": ["php", "python", "command-line", "command"], "comments": [{"owner": {"reputation": 20643, "user_id": 3684882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff8NL.jpg?s=128&g=1", "display_name": "ArtisticPhoenix", "link": "https://stackoverflow.com/users/3684882/artisticphoenix"}, "edited": false, "score": 0, "creation_date": 1551917597, "post_id": 55033522, "comment_id": 96820794, "body": "I have one I made if you want it, <a href=\"https://github.com/ArtisticPhoenix/Cli\" rel=\"nofollow noreferrer\">Github</a> its about as small as it gets, it&#39;s like 1 file.  Should be pretty easy to use."}], "answers": [{"comments": [{"owner": {"reputation": 2219, "user_id": 5066083, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10204670165100601/picture?type=large", "display_name": "searain", "link": "https://stackoverflow.com/users/5066083/searain"}, "edited": false, "score": 0, "creation_date": 1551920028, "post_id": 55034344, "comment_id": 96821316, "body": "<a href=\"https://github.com/google/python-fire\" rel=\"nofollow noreferrer\">github.com/google/python-fire</a>  How about Python Fire? If I am going to run the commands on GCP, would python-fire be a good selection too? due to it is Google supported?"}], "tags": [], "owner": {"reputation": 2261, "user_id": 451201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08557ea48b0f92938bb0c01356ad606e?s=128&d=identicon&r=PG", "display_name": "jnrbsn", "link": "https://stackoverflow.com/users/451201/jnrbsn"}, "is_accepted": true, "score": 1, "last_activity_date": 1551919085, "creation_date": 1551919085, "answer_id": 55034344, "question_id": 55033522, "link": "https://stackoverflow.com/questions/55033522/micro-framework-for-command-applications-to-process-data-either-in-php-or-pytho/55034344#55034344", "title": "micro-framework for command applications to process data, either in php or python?", "body": "<p>For Python, I definitely recommend <a href=\"https://click.palletsprojects.com/\" rel=\"nofollow noreferrer\">Click</a>. It has become <em><strong>the</strong></em> Python library for creating command line tools. It's written/maintained by the author of <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">Flask</a> (currently the #5 most-starred Python repo on GitHub). I use Click all the time when creating command line tools. It has everything most people would need.</p>\n\n<p>Not sure what your definition of a micro-framework is, but Click has no external dependencies and takes up approx. 500 KB (including .pyc files) when I install it. Also, it doesn't really require any boilerplate to setup and start using. So I guess I would call it a micro-framework.</p>\n"}, {"tags": [], "owner": {"reputation": 20643, "user_id": 3684882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff8NL.jpg?s=128&g=1", "display_name": "ArtisticPhoenix", "link": "https://stackoverflow.com/users/3684882/artisticphoenix"}, "is_accepted": false, "score": 1, "last_activity_date": 1551920116, "last_edit_date": 1551920116, "creation_date": 1551919392, "answer_id": 55034378, "question_id": 55033522, "link": "https://stackoverflow.com/questions/55033522/micro-framework-for-command-applications-to-process-data-either-in-php-or-pytho/55034378#55034378", "title": "micro-framework for command applications to process data, either in php or python?", "body": "<p>I made this small library,</p>\n\n<p><a href=\"https://github.com/ArtisticPhoenix/Cli\" rel=\"nofollow noreferrer\">https://github.com/ArtisticPhoenix/Cli</a></p>\n\n<p>Your welcome to use it Or get inspiration from it, basically its a wrapper around <code>getopt()</code></p>\n\n<p><a href=\"http://php.net/manual/en/function.getopt.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/function.getopt.php</a></p>\n\n<blockquote>\n  <p>getopt \u2014 Gets options from the command line argument list</p>\n</blockquote>\n\n<p>You can get it on composer too: </p>\n\n<pre><code>\"require\" : {\n    \"evo/cli\" : \"~1.0\"\n}\n</code></pre>\n\n<p>Basic usage is like this:</p>\n\n<pre><code>$Cli = Cli::getInstance();\n$Cli-&gt;setArgument('h', 'help', 'Show this help document');\n//... other arguments \nif($Cli-&gt;getArgument('h')) $Cli-&gt;printHelpDoc(); //exits\n</code></pre>\n\n<p>And so on.</p>\n\n<p>You can even do it from a PHP config file, which just gets put into <code>setArgument()</code> ~ basically.</p>\n\n<pre><code>//config.php\nreturn [\n         [\n           'shortName' =&gt; 'h',\n           'longName' =&gt; 'help',\n           'doc' =&gt; 'Show this help document'\n         ]\n      ];\n</code></pre>\n\n<p>Then</p>\n\n<pre><code>  //cli.php\n\n  $config = require 'config.php';\n\n  $Cli = Cli::getInstance();\n  $Cli-&gt;fromConfig($config);\n\n  if($Cli-&gt;getArgument('h')) $Cli-&gt;printHelpDoc(); //exits\n</code></pre>\n\n<p>You can also do dynamic validation of the input args like this (with a closure):</p>\n\n<pre><code>    $Cli-&gt;setArgument('f', 'foo', 'This is just foo, and must always be foo', [\n        'accept' =&gt; function($shortName, $value){\n            if($value == 'foo') return true;\n            return false;\n        }\n    ]);\n</code></pre>\n\n<p>The above just returns a Boolean, if the value is good or not. If you return false it will issue an exception, etc. You can also make an argument required like this:</p>\n\n<pre><code>   $Cli-&gt;setArgument('i', 'input', 'This is input that requires a value', [\n       'requireValue' =&gt; true\n   ]);\n</code></pre>\n\n<p>And of course you can combine those 2.</p>\n\n<p>There is some documentation on the Github page.  It has a few small dependencies, just common stuff that I like to re-use (all in composer).  Together it's less then 1000 lines of code.  Maybe 20 or 30kb.</p>\n\n<p>I needed to make a small command line thing, and I had this idea...</p>\n"}], "owner": {"reputation": 2219, "user_id": 5066083, "user_type": "registered", "accept_rate": 84, "profile_image": "https://graph.facebook.com/10204670165100601/picture?type=large", "display_name": "searain", "link": "https://stackoverflow.com/users/5066083/searain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 55034344, "answer_count": 2, "score": 0, "last_activity_date": 1551920116, "creation_date": 1551912967, "last_edit_date": 1551914816, "question_id": 55033522, "link": "https://stackoverflow.com/questions/55033522/micro-framework-for-command-applications-to-process-data-either-in-php-or-pytho", "title": "micro-framework for command applications to process data, either in php or python?", "body": "<p>Here is what I use to build a php command line applications to process data.</p>\n\n<p>These applications are not web applications, they run in command line shell to process some data.</p>\n\n<p>Due to the Legacy reason, I use Laravel php framework.</p>\n\n<p>So I use Laravel \"Artisan Development\" to build custom commands and then run the commands use</p>\n\n<pre><code>php artisan ...\n</code></pre>\n\n<p>Laravel is for a web app, but now, I am only using its artisan commands. It seems an overkill, that I install the full version Laravel Framework for this purpose.</p>\n\n<p>But I could not find a good php micro-framework specially to building commands application.</p>\n\n<p>My questions are </p>\n\n<ul>\n<li>Like Lumen, a micro-framework by Laravel for API, do you have any laravel/php micro-framework for commands you can recommend?</li>\n<li>Or are there any python micro-frameworks for command applications you can recommend? I googled, \"Click\" is recommended. Any frameworks else? </li>\n</ul>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1551913043, "post_id": 55033499, "comment_id": 96819518, "body": "Please post your code with correct indentation. It&#39;s impossible to tell what you&#39;re doing from what you posted."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1551913099, "post_id": 55033499, "comment_id": 96819542, "body": "If you&#39;ve really nested the second <code>if</code> inside the first one, it will never execute. The <code>continue</code> statement goes to the next iteration of the loop, skipping over the rest of the code in the loop."}, {"owner": {"reputation": 101, "user_id": 465934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d36bc6c12b9f4662cb350ecad322d3d6?s=128&d=identicon&r=PG", "display_name": "Or D", "link": "https://stackoverflow.com/users/465934/or-d"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1551913839, "post_id": 55033499, "comment_id": 96819789, "body": "Sorry for not indenting it correctly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1551914248, "post_id": 55033499, "comment_id": 96819921, "body": "Don&#39;t just apologize, fix it."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 465934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d36bc6c12b9f4662cb350ecad322d3d6?s=128&d=identicon&r=PG", "display_name": "Or D", "link": "https://stackoverflow.com/users/465934/or-d"}, "edited": false, "score": 0, "creation_date": 1551913801, "post_id": 55033584, "comment_id": 96819775, "body": "Seems like you have solved the issue! Thank you for the answer."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1551913353, "creation_date": 1551913353, "answer_id": 55033584, "question_id": 55033499, "link": "https://stackoverflow.com/questions/55033499/index-changes-from-zero-in-python-array/55033584#55033584", "title": "Index changes from zero in python array", "body": "<p>You need a state variable to keep track of whether you're looking for zero or non-zero.</p>\n\n<pre><code>time.append(0)\nlook_for_zero = array[0] != 0\nfor i, v in enumerate(v[1:]):\n    if look_for_zero and v == 0:\n        look_for_zero = False\n        time.append(i/1000)\n    elif not look_for_zero and v != 0:\n        look_for_zero = True\n        time.append(i/1000)\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 465934, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d36bc6c12b9f4662cb350ecad322d3d6?s=128&d=identicon&r=PG", "display_name": "Or D", "link": "https://stackoverflow.com/users/465934/or-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 55033584, "answer_count": 1, "score": 0, "last_activity_date": 1551965607, "creation_date": 1551912814, "last_edit_date": 1551965607, "question_id": 55033499, "link": "https://stackoverflow.com/questions/55033499/index-changes-from-zero-in-python-array", "title": "Index changes from zero in python array", "body": "<p>I have a long biopac file that I was able to import using bioread (python package). The array consist of more than 1 million integers.\nI need to extract time point from the array. Basically, when the object is changed from zero (0) I should take the index of that point (the array's index is the time in milliseconds). Then, when its back to zero I should also take this time point. \nI have tried a nested if's without success. it looked like that:</p>\n\n<pre><code>for i,v enumerate(array):\n    if v != 0:\n        time.append(i/1000)\n        continue\n        if v==0:\n            time_offset.append(i/1000)\n</code></pre>\n\n<p>Anyone has any idea?</p>\n"}, {"tags": ["python", "loops", "url", "dna-sequence"], "answers": [{"tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": false, "score": 1, "last_activity_date": 1551950383, "last_edit_date": 1551950383, "creation_date": 1551916660, "answer_id": 55034034, "question_id": 55033478, "link": "https://stackoverflow.com/questions/55033478/loop-for-iterating-trhough-variable-url-python/55034034#55034034", "title": "Loop for iterating trhough variable URL (Python)", "body": "<p>If you already have all the parameters in a file, you can iterate over that data and make requests like this (I use lists, because you don't show your code how you read your data from the file):</p>\n\n<pre><code>import urllib\nurl = 'https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi'\n\nfor genome, start, end in zip(genome_list, start_list, end_list):\n    data = {\n        'db': 'nuccore',\n        'rettype': 'fasta',\n        'genome': genome,\n        'start': start,\n        'end': end,\n    }\n    f = urllib.urlopen(url, data)\n</code></pre>\n\n<p>By passgin a <code>dict</code> with the query params, <code>urlopen()</code> takes care of encoding all the parameters properly (with <code>=</code> and <code>&amp;</code>).</p>\n\n<hr>\n\n<p>If <code>urllib</code> is a bit complicated, you can try the python <code>requests</code> library, which is much nicer to work with in my experience (but it is a third-party lib, not built-in).</p>\n"}], "owner": {"reputation": 21, "user_id": 11161885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34e8a69d2f94f2f60297435c636bb8eb?s=128&d=identicon&r=PG&f=1", "display_name": "Voronin_10", "link": "https://stackoverflow.com/users/11161885/voronin-10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1551950383, "creation_date": 1551912730, "question_id": 55033478, "link": "https://stackoverflow.com/questions/55033478/loop-for-iterating-trhough-variable-url-python", "title": "Loop for iterating trhough variable URL (Python)", "body": "<p>Python newby here.</p>\n\n<p>I am developing a simple sequence search program for DNA sequences. The main idea is to get from the NCBI database the different sequences from an specific genome and start-end points. So far, I am able to do a simple search for one genome and one specific position:\n     `</p>\n\n<pre><code>  import urllib\n\n  genome=\"NC_009089.1\"\n  start=\"359055\"\n  end= \"359070\"\n\n  link = \"https://eutils.ncbi.nlm.nih.gov/entrez/eutils/efetch.fcgi?db=nuccore&amp;id=%s&amp;rettype=fasta&amp;seq_start=%s&amp;seq_stop=%s\" % (genome, start, end)\n\n\n  f = urllib.urlopen(link)\n  myfile = f.read()\n  print(myfile).splitlines()[1]\n                              `\n</code></pre>\n\n<p>And this is the output I'm getting (the sequence in that position):</p>\n\n<pre><code>AGTAAAACGGTTTCCT\n</code></pre>\n\n<p>Now,I would like to find several sequences from different genomes and with different start-end points at the same time, returning all the sequences that were found. I\u00b4ve tried to import the data as a csv with the genomes in the first column, starts in the second and ends in the thirds, and then do a for loop with the open file, but since I\u00b4m not familiar with changing variables in URLs, I don\u00b4t know how to proceed. </p>\n\n<p>Sorry if this is a naive question. Any help would be appreciated.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 2, "creation_date": 1551913141, "post_id": 55033470, "comment_id": 96819556, "body": "Your question isn\u2019t very easy to understand. Why not edit a Minimal Complete Verifiable Example of what you want to achieve (which doesn\u2019t work, presumably) into your question. See <a href=\"https://www.stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>"}, {"owner": {"reputation": 1, "user_id": 11162445, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d48vjbdsJW4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcTjska1eZ822lUitZelgPGIkw8Q/mo/photo.jpg?sz=128", "display_name": "Max Neumann", "link": "https://stackoverflow.com/users/11162445/max-neumann"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1551917441, "post_id": 55033470, "comment_id": 96820742, "body": "I am looking for something like multiprocessing/threading I think. I want to call from the main script some other which will work parallel instead of sequential, bcs e. g. test1.py have some time.sleep in it but other scripts should still run. I do not have an example for now, because I am trying atm to understand if it works/how it can work. I could run the main 3 times with each of them it will call another script test1, test2 and test3. But int this example all of them have their own main and I want to try to get them all into one main which execude the scripts parallel."}, {"owner": {"reputation": 1, "user_id": 11162445, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d48vjbdsJW4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcTjska1eZ822lUitZelgPGIkw8Q/mo/photo.jpg?sz=128", "display_name": "Max Neumann", "link": "https://stackoverflow.com/users/11162445/max-neumann"}, "reply_to_user": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1551917553, "post_id": 55033470, "comment_id": 96820779, "body": "If it is still not understandable, I will write later an example."}], "answers": [{"tags": [], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "is_accepted": false, "score": 0, "last_activity_date": 1551914529, "creation_date": 1551914529, "answer_id": 55033757, "question_id": 55033470, "link": "https://stackoverflow.com/questions/55033470/how-to-run-scripts-that-use-function-of-the-main-script-parallel-python/55033757#55033757", "title": "How to run scripts that use function of the main script? (parallel, python)", "body": "<p>You're looking for possibly a Flask server. Flask is just Python but for doing the sort of stuff you want to do.</p>\n\n<p>Check this tutorial out <a href=\"http://flask.pocoo.org/docs/1.0/quickstart/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/1.0/quickstart/</a></p>\n\n<p>Flask is more for websites but you can defnintely use it to make concurrent connections between computers/users</p>\n\n<p><a href=\"https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world\" rel=\"nofollow noreferrer\">https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11162445, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d48vjbdsJW4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfcTjska1eZ822lUitZelgPGIkw8Q/mo/photo.jpg?sz=128", "display_name": "Max Neumann", "link": "https://stackoverflow.com/users/11162445/max-neumann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551914529, "creation_date": 1551912695, "question_id": 55033470, "link": "https://stackoverflow.com/questions/55033470/how-to-run-scripts-that-use-function-of-the-main-script-parallel-python", "title": "How to run scripts that use function of the main script? (parallel, python)", "body": "<p>I have a main.py script with some function. Now I want to run other scripts (e. g. test1.py, test2.py and test3.py) from this main.py.\nInstead of running the main.py with each script manually, would it be possible to run them with only one main.py.\nThey also should work \"together\" and get the actual values of the main.py if they get changed from other scripts.</p>\n\n<p>What I'm looking for here?</p>\n"}, {"tags": ["python", "node.js", "spawn", "enoent"], "comments": [{"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 1, "creation_date": 1551914424, "post_id": 55033450, "comment_id": 96819972, "body": "Have you verified that calling <code>python .&#47;script.py</code> works when called from the command line on the Windows machine?"}, {"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "reply_to_user": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1551916714, "post_id": 55033450, "comment_id": 96820567, "body": "@Chase yes sir!"}, {"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 1, "creation_date": 1551918634, "post_id": 55033450, "comment_id": 96821002, "body": "This is a black hole that is easy to fall into but another obvious thing to check, was the Node code on the Windows machine simply copied over and run or was a fresh version of node_modules installed with <code>npm install</code>? Cross-OS and cross-architecture usually means some modules need to be compiled on install for the system they are on."}, {"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "reply_to_user": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1551923752, "post_id": 55033450, "comment_id": 96822144, "body": "@Chase I should have added it to the post. Yes we npm init installed, deleted chunks of code put back in and that kind of fiddling for a couple of hours before deciding to post this question. So no, if only it was the case!"}, {"owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "reply_to_user": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1551974409, "post_id": 55033450, "comment_id": 96846180, "body": "@Chase, I did you wrong. We went back and reinstalled python and it worked. You are the man of the hour!"}, {"owner": {"reputation": 2438, "user_id": 5096653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9914f480322b37883e3646e26da83c8?s=128&d=identicon&r=PG&f=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/5096653/chase"}, "edited": false, "score": 0, "creation_date": 1552005804, "post_id": 55033450, "comment_id": 96859544, "body": "It&#39;s all good, glad it worked."}], "answers": [{"tags": [], "owner": {"reputation": 273, "user_id": 7867026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/zGAGU.jpg?s=128&g=1", "display_name": "omn_1", "link": "https://stackoverflow.com/users/7867026/omn-1"}, "is_accepted": true, "score": 2, "last_activity_date": 1580730912, "creation_date": 1580730912, "answer_id": 60038771, "question_id": 55033450, "link": "https://stackoverflow.com/questions/55033450/spawn-python-enoent-node-js-in-windows/60038771#60038771", "title": "spawn python ENOENT node.js in windows", "body": "<p>Hey i had a similar problem and this did the trick , it was fixed when i added  <strong>pythonPath: 'python'</strong> :</p>\n\n<pre><code>const { PythonShell } = require('python-shell');\n\nlet options = {\n    mode: 'text',\n    pythonPath: 'python',\n    pythonOptions: ['-u'], // get print results in real-time\n    scriptPath: 'path',\n    args: ['arg1', 'arg2']\n};\n\nPythonShell.run('scraper.py', options, function(err, results) {\n    if (err) console.log(err);\n    // results is an array consisting of messages collected during execution\n    console.log('results: %j', results);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13407304, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qqlBAIO9SwE/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJMiZ6nxK8IvbMTSJDF5dbRyoJWOig/photo.jpg?sz=128", "display_name": "Constantin", "link": "https://stackoverflow.com/users/13407304/constantin"}, "is_accepted": false, "score": 0, "last_activity_date": 1606319249, "creation_date": 1606319249, "answer_id": 65008091, "question_id": 55033450, "link": "https://stackoverflow.com/questions/55033450/spawn-python-enoent-node-js-in-windows/65008091#65008091", "title": "spawn python ENOENT node.js in windows", "body": "<p>Hy I had similar error:</p>\n<blockquote>\n<p>events.js:292\nthrow er; // Unhandled 'error' event\n^</p>\n<p>Error: spawn python ENOENT\nat Process.ChildProcess._handle.onexit (internal/child_process.js:267:19)\nat onErrorNT (internal/child_process.js:469:16)\nat processTicksAndRejections (internal/process/task_queues.js:84:21)\nEmitted 'error' event on ChildProcess instance at:\nat Process.ChildProcess._handle.onexit (internal/child_process.js:273:12)\nat onErrorNT (internal/child_process.js:469:16)\nat processTicksAndRejections (internal/process/task_queues.js:84:21) {\nerrno: 'ENOENT',\ncode: 'ENOENT',\nsyscall: 'spawn python',\npath: 'python',\nspawnargs: [\n'/home/NodeJsRunPython/script2.py'\n]\n}</p>\n</blockquote>\n<p>for this script adapted from <a href=\"https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f\" rel=\"nofollow noreferrer\">https://medium.com/swlh/run-python-script-from-node-js-and-send-data-to-browser-15677fcf199f</a></p>\n<p>I change 'python' in 'python3' on</p>\n<p>const python = spawn('python3', [__dirname +'/script2.py']);</p>\n<p>For me it works:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const express = require('express')\nconst {spawn} = require('child_process');\nconst app = express()\nconst port = 3000\n\napp.get('/', (req, res) =&gt; {\n \n var dataToSend;\n // spawn new child process to call the python script\n const python = spawn('python', [__dirname +'/script2.py']);\n // collect data from script\n  python.stdout.on('data', function (data) {\n  console.log('Pipe data from python script ...');\n  dataToSend = data.toString();\n });\n // in close event we are sure that stream from child process is closed\n python.on('close', (code) =&gt; {\n console.log(`child process close all stdio with code ${code}`);\n // send data to browser\n res.send(dataToSend)\n });\n \n})\napp.listen(port, () =&gt; console.log(`Example app listening on port \n${port}!`))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 944, "user_id": 8766350, "user_type": "registered", "profile_image": "https://graph.facebook.com/1162890527145570/picture?type=large", "display_name": "Jonas Gr&#248;nbek", "link": "https://stackoverflow.com/users/8766350/jonas-gr%c3%b8nbek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3102, "favorite_count": 0, "accepted_answer_id": 60038771, "answer_count": 2, "score": 0, "last_activity_date": 1606319249, "creation_date": 1551912605, "last_edit_date": 1551924144, "question_id": 55033450, "link": "https://stackoverflow.com/questions/55033450/spawn-python-enoent-node-js-in-windows", "title": "spawn python ENOENT node.js in windows", "body": "<p>I created some code for my brother, that wanted use a python function from his node.js backend. When running it on my ubuntu computer, it works - however! When running the code on his windows machine it gives this stacktrace.</p>\n\n<pre><code>events.js:174\n      throw er; // Unhandled 'error' event\n      ^\n\nError: spawn python ENOENT\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:240:19)\n    at onErrorNT (internal/child_process.js:415:16)\n    at process._tickCallback (internal/process/next_tick.js:63:19)\n    at Function.Module.runMain (internal/modules/cjs/loader.js:757:11)\n    at startup (internal/bootstrap/node.js:283:19)\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\nEmitted 'error' event at:\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:246:12)\n    at onErrorNT (internal/child_process.js:415:16)\n    [... lines matching original stack trace ...]\n    at bootstrapNodeJSCore (internal/bootstrap/node.js:622:3)\n</code></pre>\n\n<p>This is the node.js file</p>\n\n<pre><code>const spawn = require(\"child_process\").spawn;\nconst pythonProcess = exec('python',[\"./script.py\", 2, 4]);\n\npythonProcess.stdout.on('data', function(data) {\n    console.log(data.toString('utf-8'))\n} )\n</code></pre>\n\n<p>and this is the script.py file</p>\n\n<pre><code>import sys\n\nprint(\"work with me please\")\nsys.stdout.flush()\n</code></pre>\n\n<p>There is a ton of people with issues like this, however all the answers seem to be over specfic for the particular person. Some mentions path variables, some npm.cmd and others something third.</p>\n\n<h2>How should I work around this particular case?</h2>\n\n<hr>\n\n<p>edit:</p>\n\n<p>I have tried npm init, npm install, fundling around moving pieces of code googling and changed scope of cmd and directory and so on. </p>\n"}, {"tags": ["python", "string", "selenium", "web-scraping", "int"], "comments": [{"owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "edited": false, "score": 0, "creation_date": 1551916236, "post_id": 55033433, "comment_id": 96820433, "body": "Try RegEx, &#39;import re&#39; then create a pattern to detect and remove the items you don&#39;t want."}, {"owner": {"reputation": 2021, "user_id": 5692012, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/a3FwR.gif?s=128&g=1", "display_name": "RobinFrcd", "link": "https://stackoverflow.com/users/5692012/robinfrcd"}, "edited": false, "score": 1, "creation_date": 1551916585, "post_id": 55033433, "comment_id": 96820528, "body": "Can you give an example ? I don&#39;t see any reason why <code>replace</code> won&#39;t work here!"}, {"owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "edited": false, "score": 1, "creation_date": 1551916863, "post_id": 55033433, "comment_id": 96820598, "body": "I cant see what the textis to say why it wont work. What does the result of that command give you, show us the string you&#39;re trying to work with. Check out my answer below, see if that helps"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 11162478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27f07d033aa1d62060d35442fc28e52?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11162478/mark"}, "edited": false, "score": 0, "creation_date": 1552066457, "post_id": 55034035, "comment_id": 96883936, "body": "Hello,This doesnt seem to work heres the raw HTML ``` &lt;span class=&quot;coordinateX&quot;&gt;(&amp;#8237;\u202d\u2212&amp;#8237;\u202d52&amp;#8236;&amp;#8237;\u202c\u202c&lt;/sp&zwnj;&#8203;an&gt; ```"}], "tags": [], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "is_accepted": false, "score": 1, "last_activity_date": 1551916673, "creation_date": 1551916673, "answer_id": 55034035, "question_id": 55033433, "link": "https://stackoverflow.com/questions/55033433/python-webscape-hidden-chars-show-in-len-how-do-i-remove-these/55034035#55034035", "title": "Python - Webscape hidden chars show in len how do i remove these?", "body": "<p>Maybe try regex?</p>\n\n<pre><code>import re\n\nstring = 'Here is some string to&amp;#8237test'\n\nstring = re.sub(r'(&amp;#\\d\\d\\d\\d)',' ', string)\n\nprint(string)\n\n&gt;&gt;&gt; 'Here is some string to test'\n</code></pre>\n\n<p>re.sub says, if you find this regex pattern r'(&amp;#\\d\\d\\d\\d)', replace it with a ' ', and do this search in the 'string' variable.</p>\n\n<p>Resources</p>\n\n<p><a href=\"https://pythex.org/\" rel=\"nofollow noreferrer\">https://pythex.org/</a> - for creating and testing patterns</p>\n\n<p>Learning material</p>\n\n<p><a href=\"https://developers.google.com/edu/python/regular-expressions\" rel=\"nofollow noreferrer\">https://developers.google.com/edu/python/regular-expressions</a>\n<a href=\"https://www.tutorialspoint.com/python/python_reg_expressions.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/python/python_reg_expressions.htm</a></p>\n"}, {"comments": [{"owner": {"reputation": 9, "user_id": 11162478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27f07d033aa1d62060d35442fc28e52?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11162478/mark"}, "edited": false, "score": 0, "creation_date": 1552065200, "post_id": 55047702, "comment_id": 96883296, "body": "Thanks for the reply I tried .get_attribute() and is still has the same issue len() brings back 8 but it should only actually be 4."}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 9, "user_id": 11162478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27f07d033aa1d62060d35442fc28e52?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11162478/mark"}, "edited": false, "score": 0, "creation_date": 1552065908, "post_id": 55047702, "comment_id": 96883644, "body": "@Mark Can you update the question with the relevant HTML for further analysis?"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1551973421, "creation_date": 1551973421, "answer_id": 55047702, "question_id": 55033433, "link": "https://stackoverflow.com/questions/55033433/python-webscape-hidden-chars-show-in-len-how-do-i-remove-these/55047702#55047702", "title": "Python - Webscape hidden chars show in len how do i remove these?", "body": "<p>The relevant HTML would have helped us to debug the issue in a better way. However, you can use <a href=\"https://seleniumhq.github.io/selenium/docs/api/py/webdriver_remote/selenium.webdriver.remote.webelement.html#selenium.webdriver.remote.webelement.WebElement.get_attribute\" rel=\"nofollow noreferrer\"><code>get_attribute()</code></a> method instead of <code>text</code> property as follows:</p>\n\n<pre><code>myText = driver.find_elements_by_xpath('(.//span[@class = \"x\"])')[0].get_attribute(\"innerHTML\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13722, "user_id": 5325862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cF7Mi.png?s=128&g=1", "display_name": "camille", "link": "https://stackoverflow.com/users/5325862/camille"}, "edited": false, "score": 0, "creation_date": 1603199857, "post_id": 64444122, "comment_id": 113956301, "body": "I really think the OP needs solutions in Python, not C#. Their question isn&#39;t as detailed as it could be, but they didn&#39;t mention anything about working with / being able to incorporate C# code into their project"}], "tags": [], "owner": {"reputation": 1, "user_id": 14483503, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GaHaOARVwpo/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclx7IsZAacFUyFO8wKkUEGREjGrNQ/s96-c/photo.jpg?sz=128", "display_name": "Marius Davidavicius", "link": "https://stackoverflow.com/users/14483503/marius-davidavicius"}, "is_accepted": false, "score": 0, "last_activity_date": 1603192928, "creation_date": 1603192928, "answer_id": 64444122, "question_id": 55033433, "link": "https://stackoverflow.com/questions/55033433/python-webscape-hidden-chars-show-in-len-how-do-i-remove-these/64444122#64444122", "title": "Python - Webscape hidden chars show in len how do i remove these?", "body": "<p>I had this problem when I was creating &quot;Travian&quot; inactive players search to scan all villages at the server :D.\nI am pretty sure you are facing same problem as I did.</p>\n<pre><code>        text = text.Replace((char)8237, ' ');\n        text = text.Replace((char)8236, ' ');\n        text = text.Replace('(', ' ');\n        text = text.Replace(')', ' ');\n        text = Regex.Replace(text, @&quot;\\s+&quot;, &quot;&quot;);\n        text = text.Replace('\u2212', '-');\n        int number = int.Parse(text);\n</code></pre>\n<p>I am sorry for sharing my answer in C# language but this code:</p>\n<ol>\n<li>replaces characters &amp;#8236, &amp;#8236 and parenthesis with white spaces.</li>\n<li>removes whitespaces</li>\n<li>Next line is super important because that &quot;minus sign&quot; you are working with is not in numeric format. You must replace '\u2212'symbol with ALT+45 symbol '-' to convert successfully.</li>\n<li>Converts modified text to coordinates integer.</li>\n</ol>\n<p>Another way to get coordinates is to use href=&quot;/karte.php?x=83&amp;y=-10&quot; attribute\nYou may try to get this link as string from browser. Then extract x and y from it</p>\n"}], "owner": {"reputation": 9, "user_id": 11162478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f27f07d033aa1d62060d35442fc28e52?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/11162478/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1603192928, "creation_date": 1551912522, "last_edit_date": 1552066707, "question_id": 55033433, "link": "https://stackoverflow.com/questions/55033433/python-webscape-hidden-chars-show-in-len-how-do-i-remove-these", "title": "Python - Webscape hidden chars show in len how do i remove these?", "body": "<p>I have used:</p>\n\n<pre><code>driver.find_elements_by_xpath('(.//span[@class = \"x\"])')[0].text\n</code></pre>\n\n<p>The information it pulls is correct but it adds spaces that show in the HTML as  as <code>\"&amp;#8237\"</code> from the website im scaping.</p>\n\n<p>How do I remove these so I can turn the str in to a int with as this is stopping me at the moment.</p>\n\n<p>I have tried <code>.strip</code> and <code>.replace</code> with no luck.</p>\n\n<p>Heres the raw HTML</p>\n\n<pre><code>&lt;span class=\"coordinateX\"&gt;(&amp;#8237;\u202d\u2212&amp;#8237;\u202d52&amp;#8236;&amp;#8237;\u202c\u202c&lt;/span&gt;\n</code></pre>\n\n<p>when I print this string i get (-52 but when I <code>len()</code> it I get 8 instead of 4 due to these hidden characters.</p>\n\n<p>Thanks\nMark.</p>\n"}, {"tags": ["python", "python-3.x", "string", "byte"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 10986780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3cafda52bd729ffb6a90558b6e4b48?s=128&d=identicon&r=PG&f=1", "display_name": "Pharah181", "link": "https://stackoverflow.com/users/10986780/pharah181"}, "edited": false, "score": 0, "creation_date": 1551912932, "post_id": 55033410, "comment_id": 96819468, "body": "Thank you,so much, it helped!"}, {"owner": {"reputation": 354, "user_id": 6342009, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-e1F8O7xkzqM/AAAAAAAAAAI/AAAAAAAAAHY/5FqzLCPm4ZU/photo.jpg?sz=128", "display_name": "Emerson Cardoso", "link": "https://stackoverflow.com/users/6342009/emerson-cardoso"}, "reply_to_user": {"reputation": 127, "user_id": 10986780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3cafda52bd729ffb6a90558b6e4b48?s=128&d=identicon&r=PG&f=1", "display_name": "Pharah181", "link": "https://stackoverflow.com/users/10986780/pharah181"}, "edited": false, "score": 0, "creation_date": 1576174744, "post_id": 55033410, "comment_id": 104823310, "body": "@Pharah181: if this works you should mark it as the correct answer."}, {"owner": {"reputation": 77, "user_id": 13446550, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GiCnSS7SlmONeU1BlQtaDZT1vtBn62Hr3Lg4xOG7g=k-s128", "display_name": "Jonas X", "link": "https://stackoverflow.com/users/13446550/jonas-x"}, "edited": false, "score": 0, "creation_date": 1590917606, "post_id": 55033410, "comment_id": 109857178, "body": "Hm that doesn&#39;t work.... before: Error:<code>TypeError: can only concatenate str (not &quot;bytes&quot;) to str</code> with this code: <code>cmd.send(output + output_error)</code> and with @chepner &#39;s solution I have this Code: <code>cmd.send(output.encode() + output_error.encode())</code>. But then I get this error: <code>AttributeError: &#39;bytes&#39; object has no attribute &#39;encode&#39;</code>."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": false, "score": 10, "last_activity_date": 1551912417, "creation_date": 1551912417, "answer_id": 55033410, "question_id": 55033372, "link": "https://stackoverflow.com/questions/55033372/can-only-concatenate-str-not-bytes-to-str/55033410#55033410", "title": "can only concatenate str (not &quot;bytes&quot;) to str", "body": "<p>A <code>str</code> is an abstract sequence of Unicode code points; a <code>bytes</code> is a sequence of 8-bit numbers. Python 3 made the distinction between the two very clear and does not allow you to combine them implicitly. A <code>str</code> may have several valid encodings, and a <code>bytes</code> object may or may not <em>be</em> the encoding of a valid Unicode string. (Or, the <code>bytes</code> could be the encoding of multiple <em>different</em> <code>str</code> objects depending on the encoding used to create it.)</p>\n\n<p><code>'GET '</code> and <code>user_url</code> are <code>str</code> objects, while <code>' HTTP/1.0\\r\\n\\r\\n'.encode()</code> is a <code>bytes</code> object. You want to encode the entire concatenated string instead.</p>\n\n<pre><code>cmd = 'GET {} HTTP/1.0\\r\\n\\r\\n'.format(user_url).encode()\n</code></pre>\n\n<p>Or perhaps written to show the steps more clearly,</p>\n\n<pre><code>cmd = 'GET {} HTTP/1.0\\r\\n\\r\\n'.format(user_url)  # still a str\nmysock.send(cmd.encode())  # send the encoding of the str\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 10986780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3cafda52bd729ffb6a90558b6e4b48?s=128&d=identicon&r=PG&f=1", "display_name": "Pharah181", "link": "https://stackoverflow.com/users/10986780/pharah181"}, "edited": false, "score": 0, "creation_date": 1551912949, "post_id": 55033421, "comment_id": 96819475, "body": "Thanks, I knew it was something minor."}], "tags": [], "owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "is_accepted": false, "score": 2, "last_activity_date": 1551912473, "creation_date": 1551912473, "answer_id": 55033421, "question_id": 55033372, "link": "https://stackoverflow.com/questions/55033372/can-only-concatenate-str-not-bytes-to-str/55033421#55033421", "title": "can only concatenate str (not &quot;bytes&quot;) to str", "body": "<p>The problem is that you're encoding before concatenating:</p>\n\n<pre><code>'GET ' + user_url + ' HTTP/1.0\\r\\n\\r\\n'.encode()\n</code></pre>\n\n<p>You have to concatenate first, and then encode the entire thing:</p>\n\n<pre><code>('GET ' + user_url + ' HTTP/1.0\\r\\n\\r\\n').encode()\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 10986780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b3cafda52bd729ffb6a90558b6e4b48?s=128&d=identicon&r=PG&f=1", "display_name": "Pharah181", "link": "https://stackoverflow.com/users/10986780/pharah181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52325, "favorite_count": 1, "answer_count": 2, "score": 12, "last_activity_date": 1551912473, "creation_date": 1551912237, "question_id": 55033372, "link": "https://stackoverflow.com/questions/55033372/can-only-concatenate-str-not-bytes-to-str", "title": "can only concatenate str (not &quot;bytes&quot;) to str", "body": "<pre><code>import socket\nimport os\n\nuser_url = input(\"Enter url: \")\n\nhost_name = user_url.split(\"/\")[2]\nmysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\nmysock.connect((host_name, 80))\ncmd = 'GET ' + user_url + ' HTTP/1.0\\r\\n\\r\\n'.encode()\nmysock.send(cmd)\n\nwhile True:\n    data = mysock.recv(512)\n    if len(data) &lt; 1:\n        break\n     print(data.decode(),end='\\n')\n\nmysock.close()\n</code></pre>\n\n<p>For some reason im gettin this error</p>\n\n<blockquote>\n  <h2>Enter url: <a href=\"http://data.pr4e.org/romeo.txt\" rel=\"noreferrer\">http://data.pr4e.org/romeo.txt</a></h2>\n\n<pre><code> 7 mysock = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n 8 mysock.connect((host_name, 80))\n 9 cmd = 'GET ' + user_url + ' HTTP/1.0\\r\\n\\r\\n'.encode()\n TypeError: can only concatenate str (not \"bytes\") to str\n</code></pre>\n</blockquote>\n\n<p>Any ideas what im doing wrong with it?Encoding and decoding seems right to me, and i've trasnfered it using \\n before .encode().\nThis is for a class</p>\n"}, {"tags": ["python", "setuptools", "distutils", "python-wheel"], "owner": {"reputation": 2268, "user_id": 1237919, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/8c1100cb8a95fb114330f153b014dc28?s=128&d=identicon&r=PG", "display_name": "jacob", "link": "https://stackoverflow.com/users/1237919/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1552324051, "creation_date": 1551911962, "last_edit_date": 1552324051, "question_id": 55033325, "link": "https://stackoverflow.com/questions/55033325/why-is-init-py-missing-for-pkgutil-style-namespace-package", "title": "Why is __init__.py missing for pkgutil-style namespace package?", "body": "<p>The following python library is missing its <code>__init__.py</code> file when the wheel is built:</p>\n\n<p><a href=\"https://github.com/intuit/oauth-pythonclient\" rel=\"nofollow noreferrer\">https://github.com/intuit/oauth-pythonclient</a></p>\n\n<p><a href=\"https://pypi.org/project/intuit-oauth/\" rel=\"nofollow noreferrer\">https://pypi.org/project/intuit-oauth/</a></p>\n\n<p>There is an <code>__init__.py</code> in the original source code (see the <code>intuitlib</code> directory), and it seems to be configured to use the python 2 compatible pkgutil-style namespace packages as described here:</p>\n\n<p><a href=\"https://packaging.python.org/guides/packaging-namespace-packages/#pkgutil-style-namespace-packages\" rel=\"nofollow noreferrer\">https://packaging.python.org/guides/packaging-namespace-packages/#pkgutil-style-namespace-packages</a></p>\n\n<p>I cloned the git repo, and ran this command to build the wheel myself using python 2.7:\n<code>python setup.py sdist bdist_wheel</code></p>\n\n<p>Since my application is running Python 2.7, it fails without the <code>__init__.py</code> file. What is misconfigured in that project that is omitting the <code>__init__.py</code> file in the build?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1551912315, "post_id": 55033323, "comment_id": 96819189, "body": "Can you give an example input file and some simple code showing the problem?"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551912392, "post_id": 55033323, "comment_id": 96819219, "body": "Welcome to SO, please show how you are you loading this data as well as a sample of the data."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 2, "creation_date": 1551912497, "post_id": 55033323, "comment_id": 96819274, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26551662/import-text-to-pandas-with-multiple-delimiters\">import text to pandas with multiple delimiters</a>"}, {"owner": {"reputation": 11, "user_id": 11162436, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TOirnwI1MQ4/AAAAAAAAAAI/AAAAAAAAAFA/l7f3-Ggufi8/photo.jpg?sz=128", "display_name": "Mayur", "link": "https://stackoverflow.com/users/11162436/mayur"}, "edited": false, "score": 0, "creation_date": 1551914938, "post_id": 55033323, "comment_id": 96820125, "body": "df = pd.read_csv(&quot;file location url&quot;,names=[&#39;a&#39;,&#39;b&#39;,&#39;c&#39;,&#39;d&#39;,&#39;e&#39;,&#39;f&#39;,&#39;g&#39;,&#39;h&#39;,&#39;i&#39;], sep= &#39;\\s+&#39;)"}, {"owner": {"reputation": 11, "user_id": 11162436, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TOirnwI1MQ4/AAAAAAAAAAI/AAAAAAAAAFA/l7f3-Ggufi8/photo.jpg?sz=128", "display_name": "Mayur", "link": "https://stackoverflow.com/users/11162436/mayur"}, "edited": false, "score": 0, "creation_date": 1552079500, "post_id": 55033323, "comment_id": 96889670, "body": "Can someone help me read the input using pandas ?"}], "owner": {"reputation": 11, "user_id": 11162436, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TOirnwI1MQ4/AAAAAAAAAAI/AAAAAAAAAFA/l7f3-Ggufi8/photo.jpg?sz=128", "display_name": "Mayur", "link": "https://stackoverflow.com/users/11162436/mayur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551921128, "creation_date": 1551911960, "last_edit_date": 1551921128, "question_id": 55033323, "link": "https://stackoverflow.com/questions/55033323/unable-to-read-a-txt-file-using-pandas", "title": "Unable to read a .txt file using pandas", "body": "<p>When I try to read a .txt file using pandas the output I get is all the rows and columns with <code>NaN</code>. The text file has multiple delimiters.</p>\n\n<p>I tried <code>sep = 's+'</code> and sep <code>'\\t'</code> and still I get <code>NaN</code> for all the values.</p>\n\n<p>Output:</p>\n\n<p><img src=\"https://i.stack.imgur.com/8B3gH.png\" alt=\"example output\"></p>\n\n<p>Input:\n<img src=\"https://i.stack.imgur.com/uNnmQ.png\" alt=\"example input\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551912201, "post_id": 55033301, "comment_id": 96819144, "body": "The code you posted doesn&#39;t do what you say it does. It crashes at <code>Profile.browser_object()</code> because of the missing <code>self</code> parameter."}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1551912318, "post_id": 55033301, "comment_id": 96819191, "body": "By the way, your class doesn&#39;t look very useful. I&#39;m fairly sure you&#39;d be better off without it. Also, why would importing a class create an instance of it? It looks like the import system is another thing you don&#39;t understand. Please read a tutorial."}], "answers": [{"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 0, "last_activity_date": 1551912531, "creation_date": 1551912531, "answer_id": 55033435, "question_id": 55033301, "link": "https://stackoverflow.com/questions/55033301/using-selenium-inside-a-class/55033435#55033435", "title": "Using Selenium inside a class", "body": "<p>Try changing your other script to actually make an instance of the class you defined in <code>test.py</code>.</p>\n\n<pre><code>from test import Profile\nprofile_instance = Profile() # make an instance\nbrowser_I_made = profile_instance.browser_object() # you probably wouldn't do this, but it's possible\n</code></pre>\n\n<p>I don't think you understand that a class is like a factory and you get \"instances\" of that object off the assembly line like in <code>profile_instance = Profile()</code></p>\n"}], "owner": {"reputation": 2727, "user_id": 986012, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/07059b53ad8cdae7f9955da84756b089?s=128&d=identicon&r=PG", "display_name": "Morgan Allen", "link": "https://stackoverflow.com/users/986012/morgan-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 55033435, "answer_count": 1, "score": 0, "last_activity_date": 1551912531, "creation_date": 1551911799, "question_id": 55033301, "link": "https://stackoverflow.com/questions/55033301/using-selenium-inside-a-class", "title": "Using Selenium inside a class", "body": "<p>I'm not very experience with writing classes and somewhat confused by their behavior. </p>\n\n<p><code>test.py</code></p>\n\n<pre><code>class Profile:\n  def __init__(self):\n    self.browser = webdriver.Chrome()\n  def browser_object(self):\n    return webdriver.Chrome()\n</code></pre>\n\n<p>from the terminal:</p>\n\n<pre><code>from test import Profile\n# I thought this would initialize webdriver.Chrome() and a browser window would pop up\n\nx = Profile.browser_object()\n# trying to access the webdriver so I can do something like\n\nx.get(url) #from the terminal\n</code></pre>\n\n<p>No browser window is popping up. When I run <code>x</code> I see that it is a <code>&lt;function Profile.browser_object ...&gt;</code></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551911840, "post_id": 55033291, "comment_id": 96819016, "body": "I think spending some time getting to know the DOM would help you immensely. CSS selectors are somewhat of an art form and will propel you to amazing height here. Here&#39;s a fan favorite training tool for you to get started! <a href=\"https://flukeout.github.io/\" rel=\"nofollow noreferrer\">flukeout.github.io</a>"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551913019, "post_id": 55033291, "comment_id": 96819503, "body": "To answer #2... no, web scraping is a bit of a cat and mouse game in that sense. I looked at the source for nytimes and they unfortunately don&#39;t use many of the semantic tags introduced in HTML5 (article, title etc.). I might look for <code>h2</code> and <code>.balancedHeadline</code> children of <code>section</code> tags to start."}, {"owner": {"reputation": 13, "user_id": 9071836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb2ba756c150392f2afb5dad5671a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Slash", "link": "https://stackoverflow.com/users/9071836/slash"}, "reply_to_user": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551913043, "post_id": 55033291, "comment_id": 96819517, "body": "@rgk This was an interesting tool. Any more suggestions to learn more after completing this one?"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551913454, "post_id": 55033291, "comment_id": 96819651, "body": "IIRC the tutorial is a pretty comprehensive review of the tools at your disposal. There are some specialty selectors (like the infamous &quot;lobotomized owl&quot;), but for the most part this is a matter of practice at this point. In Chrome&#39;s developer tools, you can experiment by adding new selectors in real time with the + icon. Here&#39;s a screenshot of selecting the headlines from NYT using my last suggestion: <a href=\"https://i.imgur.com/ARtrJIa.png\" rel=\"nofollow noreferrer\">i.imgur.com/ARtrJIa.png</a>"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551913777, "post_id": 55033291, "comment_id": 96819764, "body": "One thing to remember is that CSS prefers specificity, so more specific rules will always take precedence over less specific rules! <code>span {color:red}</code> will take a backseat to <code>body span {color: blue}</code> even though both apply to all <code>span</code> elements."}, {"owner": {"reputation": 353, "user_id": 6770946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e948c2a2b751d8ed4092ffeff48daec0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyyy", "link": "https://stackoverflow.com/users/6770946/sammyyy"}, "edited": false, "score": 0, "creation_date": 1551938909, "post_id": 55033291, "comment_id": 96825861, "body": "As the DOM returned via requests is different from the browser, I would suggest to use Selenium. I tried to scrap with Requests but the number of h2 is different from what observed from the browser"}, {"owner": {"reputation": 13, "user_id": 9071836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb2ba756c150392f2afb5dad5671a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Slash", "link": "https://stackoverflow.com/users/9071836/slash"}, "reply_to_user": {"reputation": 353, "user_id": 6770946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e948c2a2b751d8ed4092ffeff48daec0?s=128&d=identicon&r=PG&f=1", "display_name": "sammyyy", "link": "https://stackoverflow.com/users/6770946/sammyyy"}, "edited": false, "score": 0, "creation_date": 1552059260, "post_id": 55033291, "comment_id": 96880404, "body": "@YY I am trying to learn more about using Selenium. Is this a good resource to get started: <a href=\"https://selenium-python.readthedocs.io/\" rel=\"nofollow noreferrer\">selenium-python.readthedocs.io</a> ? Let me know if you know any other place to get started."}, {"owner": {"reputation": 3684, "user_id": 1684720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/86be27b4603e37fa66f3ae7693f1a94c?s=128&d=identicon&r=PG", "display_name": "gattsbr", "link": "https://stackoverflow.com/users/1684720/gattsbr"}, "edited": false, "score": 0, "creation_date": 1558381832, "post_id": 55033291, "comment_id": 99074947, "body": "To answer #1: use rss... now #2 isn&#39;t applicable."}], "answers": [{"comments": [{"owner": {"reputation": 1637, "user_id": 8464442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tcepL.jpg?s=128&g=1", "display_name": "AAEM", "link": "https://stackoverflow.com/users/8464442/aaem"}, "edited": false, "score": 0, "creation_date": 1602584919, "post_id": 55043131, "comment_id": 113760665, "body": "trying the above code resulted in the following error: Traceback (most recent call last):    File &quot;E:\\pythonCodes\\17_readWebPages.py&quot;, line 94, in &lt;module&gt;     for ele, v in jsonObj[&#39;initialState&#39;].items():  NameError: name &#39;jsonObj&#39; is not defined"}, {"owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "reply_to_user": {"reputation": 1637, "user_id": 8464442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tcepL.jpg?s=128&g=1", "display_name": "AAEM", "link": "https://stackoverflow.com/users/8464442/aaem"}, "edited": false, "score": 0, "creation_date": 1602586295, "post_id": 55043131, "comment_id": 113761260, "body": "it&#39;s possible you need to add the headers paramter to the <code>requests.get()</code>. I updated the code, try now and see if that works."}, {"owner": {"reputation": 1637, "user_id": 8464442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tcepL.jpg?s=128&g=1", "display_name": "AAEM", "link": "https://stackoverflow.com/users/8464442/aaem"}, "edited": false, "score": 0, "creation_date": 1602587654, "post_id": 55043131, "comment_id": 113761954, "body": "I have tried and gave me the same error:   Traceback (most recent call last):    File &quot;E:\\pythonCodes\\untitled0.py&quot;, line 34, in &lt;module&gt;     for ele, v in jsonObj[&#39;initialState&#39;].items():  NameError: name &#39;jsonObj&#39; is not defined"}, {"owner": {"reputation": 1637, "user_id": 8464442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tcepL.jpg?s=128&g=1", "display_name": "AAEM", "link": "https://stackoverflow.com/users/8464442/aaem"}, "edited": false, "score": 0, "creation_date": 1602587759, "post_id": 55043131, "comment_id": 113762001, "body": "this is weird, because it gave me NameError: name &#39;jsonObj&#39; is not defined, which is defined above!!"}, {"owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "reply_to_user": {"reputation": 1637, "user_id": 8464442, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/tcepL.jpg?s=128&g=1", "display_name": "AAEM", "link": "https://stackoverflow.com/users/8464442/aaem"}, "edited": false, "score": 0, "creation_date": 1602593850, "post_id": 55043131, "comment_id": 113764842, "body": "well it only will be defined <code>if &#39;preloadedData&#39; in script.text</code>. so it means for some reason, you aren&#39;t getting the html."}], "tags": [], "owner": {"reputation": 17276, "user_id": 7752296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/7033ea69df1e9dddbee828dc92ac967a?s=128&d=identicon&r=PG&f=1", "display_name": "chitown88", "link": "https://stackoverflow.com/users/7752296/chitown88"}, "is_accepted": true, "score": 1, "last_activity_date": 1602586264, "last_edit_date": 1602586264, "creation_date": 1551959502, "answer_id": 55043131, "question_id": 55033291, "link": "https://stackoverflow.com/questions/55033291/scraping-headlines-from-news-website-homepages-using-beautifulsoup-in-python/55043131#55043131", "title": "Scraping Headlines From News Website Homepages Using BeautifulSoup in Python", "body": "<p>It is possible, as you can find the <code>&lt;script&gt;</code> tags within the html, and then parse that as json format. It may not work specifically with every news website, as there will most likely be different tags/code to identify the headline tags, but you can have a genaral working code to pull these headlines even as they update later.</p>\n<p>Parse the html as you normally would:</p>\n<pre><code>import requests \nfrom bs4 import BeautifulSoup\nimport json\n\nheaders = {'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36'}\n\nurl = &quot;https://www.nytimes.com/&quot;\nr = requests.get(url, headers=headers)\nr_html = r.text\nsoup = BeautifulSoup(r_html, &quot;html.parser&quot;)\n</code></pre>\n<p>Then find all the <code>&lt;script&gt;</code> tags. The one we would want starts with the text <code>window.__preloadedData = </code>, so we'll just want to search that out from the 14 elements it finds with the <code>&lt;script&gt;</code> tag:</p>\n<pre><code>scripts = soup.find_all('script')\nfor script in scripts:\n    if 'preloadedData' in script.text:\n        jsonStr = script.text\n</code></pre>\n<p>After it finds it, we'll store it as <code>jsonStr</code>, and then start to trim off the begining and end parts of the string to change this into pure json format that can then be loaded using <code>json.loads()</code>, and store that as our <code>jsonObj</code>:</p>\n<pre><code>    jsonStr = jsonStr.split('=', 1)[1].strip()\n    jsonStr = jsonStr.rsplit(';', 1)[0]\n    jsonObj = json.loads(jsonStr)\n</code></pre>\n<p>Once we have the <code>jsonObj</code>, we'll iterate through the key:values within the structure to find the values associated with the <code>headline</code> key in the json object:</p>\n<pre><code>for ele, v in jsonObj['initialState'].items():\n    try:\n        if v['headline']:\n            print(v['headline'])\n    except:\n        continue\n</code></pre>\n<p><strong>Full Code:</strong></p>\n<p>I also added a date time element, as you might want to store that to see what the headlines were at specific dates/times as it updates later.</p>\n<pre><code>import requests \nfrom bs4 import BeautifulSoup\nimport json\nimport datetime\n\nheaders = {'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/85.0.4183.121 Safari/537.36'}\n\nurl = &quot;https://www.nytimes.com/&quot;\nr = requests.get(url, headers=headers)\nnow = datetime.datetime.now()\nnow = now.strftime('%A, %B %d, %Y  %I:%M %p')\n\nr_html = r.text\nsoup = BeautifulSoup(r_html, &quot;html.parser&quot;)\n\nscripts = soup.find_all('script')\nfor script in scripts:\n    if 'preloadedData' in script.text:\n        jsonStr = script.text\n        jsonStr = jsonStr.split('=', 1)[1].strip()\n        jsonStr = jsonStr.rsplit(';', 1)[0]\n        jsonObj = json.loads(jsonStr)\n \n\nprint ('%s\\nHeadlines\\n%s\\n' %(url, now))\ncount = 1\nfor ele, v in jsonObj['initialState'].items():\n    try:\n        if v['headline'] and v['__typename'] == 'PromotionalProperties':\n            print('Headline %s: %s' %(count, v['headline']))\n            count += 1\n    except:\n        continue\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>https://www.nytimes.com/\nHeadlines\nThursday, March 07, 2019  11:50 AM\n\nHeadline 1: The Trade Deficit Set a New Record. For Trump, That\u2019s a Failure.\nHeadline 2: Rules Relaxed for Banks, Giving Wall Street a Big Win\nHeadline 3: Biden\u2019s Candidacy Plan is Almost Complete. Democrats Are Impatient.\nHeadline 4: Why Did Four Top Democrats Just Say No to 2020?\nHeadline 5: Why Birthrates Among Hispanic Americans Have Plummeted\nHeadline 6: The Top 25 Songs That Matter Right Now\nHeadline 7: Cohen Says Papers Prove His Lies Were Aided by Trump Lawyers\nHeadline 8: Paul Manafort to Be Sentenced Thursday in 1 of 2 Cases Against Him\nHeadline 9: Trump\u2019s Lawyer Says Several Have Sought Presidential Pardons\nHeadline 10: Senator Says She Was Raped in the Military, Describing a Broken System\nHeadline 11: Your Thursday Briefing\nHeadline 12: Listen to \u2018The Daily\u2019\nHeadline 13: Listen: \u2018Modern Love\u2019 Podcast\nHeadline 14: In the \u2018DealBook\u2019 Newsletter\nHeadline 15: What if the Mueller Report Demands Bold Action?\nHeadline 16: Ilhan Omar Knows Exactly What She Is Doing\nHeadline 17: How to Think About Taxing and Spending Like a Swede\nHeadline 18: Even Google Can No Longer Hide Its Gender Pay Gap\nHeadline 19: Questions For and About Jared Kushner\nHeadline 20: The Big Race: It\u2019s Time for a Rhyme\nHeadline 21: Listen to \u2018The Argument\u2019: How Does the Catholic Church Redeem Itself?\nHeadline 22: We Will Survive. Probably.\nHeadline 23: A Peace Plan for India and Pakistan Already Exists\nHeadline 24: Ilhan Omar, Aipac and Me\nHeadline 25: The India-Pakistan Conflict Was a Parade of Lies\nHeadline 26: Seven Buds for Seven Brothers\nHeadline 27: This Tech Makes D.I.Y. Key Duplication Easy. Maybe Too Easy.\nHeadline 28: 36 Hours in St. Augustine\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9071836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbb2ba756c150392f2afb5dad5671a6a?s=128&d=identicon&r=PG&f=1", "display_name": "Slash", "link": "https://stackoverflow.com/users/9071836/slash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2280, "favorite_count": 0, "accepted_answer_id": 55043131, "answer_count": 1, "score": 0, "last_activity_date": 1602586264, "creation_date": 1551911726, "question_id": 55033291, "link": "https://stackoverflow.com/questions/55033291/scraping-headlines-from-news-website-homepages-using-beautifulsoup-in-python", "title": "Scraping Headlines From News Website Homepages Using BeautifulSoup in Python", "body": "<p>I am trying to extract headlines from the homepage of multiple news websites using BeautifulSoup. I am learning Python but do not have much knowledge on HTML, CSS of Javascript, so I use some trial and error using Inspect on Chrome. Here is the code for I wrote for doing this on the New York Times web page:</p>\n\n<pre><code>import requests from bs4\nimport BeautifulSoup\n\n\nurl = \"https://www.nytimes.com/\"\nr = requests.get(url)\nr_html = r.text\nsoup = BeautifulSoup(r_html, features=\"html.parser\")\nheadlines = soup.find_all(class_=\"css-1vynn0q esl82me3\")\n\nfor item in headlines:\n    if len(item.contents) == 1:\n        print(item.text)\n    elif len(item.contents) == 2:\n        print(item.contents[1].text)\n</code></pre>\n\n<p>Here are my questions:</p>\n\n<ol>\n<li><p>As I plan to do this for multiple news websites, is there a better solution than this approach which you can suggest?</p></li>\n<li><p>I have noticed that the CSS tag has been changed since I wrote this code, due to which I had to update it. Is there any solution which will not require me to change the code every time the tags are updated?</p></li>\n</ol>\n"}, {"tags": ["python", "ocr"], "comments": [{"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551911744, "post_id": 55033275, "comment_id": 96818981, "body": "What was the error message?"}, {"owner": {"reputation": 119, "user_id": 8429647, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1632336603456784/picture?type=large", "display_name": "Jonathan Prieto", "link": "https://stackoverflow.com/users/8429647/jonathan-prieto"}, "reply_to_user": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551911902, "post_id": 55033275, "comment_id": 96819038, "body": "Just Posted The Error"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551912188, "post_id": 55033275, "comment_id": 96819129, "body": "Looks like it&#39;s having trouble running ghostscript. First things first - can you confirm that you&#39;ve installed gs? And if so, does it work from a normal command prompt to type <code>gs -h</code>?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1551912386, "post_id": 55033275, "comment_id": 96819218, "body": "Edit the <i>text</i> of the error message into your question, not a picture of it."}, {"owner": {"reputation": 119, "user_id": 8429647, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1632336603456784/picture?type=large", "display_name": "Jonathan Prieto", "link": "https://stackoverflow.com/users/8429647/jonathan-prieto"}, "edited": false, "score": 0, "creation_date": 1551912416, "post_id": 55033275, "comment_id": 96819230, "body": "I do have it, but my computer doesn&#39;t recognise gs"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 0, "creation_date": 1551912546, "post_id": 55033275, "comment_id": 96819296, "body": "You may need to add the executable to your path variable then. This is covered in section 4.2 here: <a href=\"https://ghostscript.com/doc/9.21/Install.htm\" rel=\"nofollow noreferrer\">ghostscript.com/doc/9.21/Install.htm</a>"}], "owner": {"reputation": 119, "user_id": 8429647, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/1632336603456784/picture?type=large", "display_name": "Jonathan Prieto", "link": "https://stackoverflow.com/users/8429647/jonathan-prieto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551911863, "creation_date": 1551911638, "last_edit_date": 1551911863, "question_id": 55033275, "link": "https://stackoverflow.com/questions/55033275/running-ocr-python", "title": "Running OCR Python", "body": "<p><a href=\"https://i.stack.imgur.com/gfrA0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gfrA0.png\" alt=\"enter image description here\"></a>I am trying to make some OCR with Python. I found this code on the internet, which did what I want to. But when I try to run it, I receive this error message.</p>\n\n<p>Leave my code Here:</p>\n\n<pre><code>import io \nfrom PIL import Image\nimport pytesseract\nfrom wand.image import Image as wi\npdf = wi(filename=\"test1(citibank).pdf\", resolution=300)\npdfImage = pdf.convert('jpeg')\nimageBlobs = []\n\nfor img in pdfImage.sequence:\n    imgPage=wi(image=img)\n    imageBlobs.append(imgPage.make_blob('jpeg'))\n\nrecognisedtext = []\n\nfor imgBlob in imageBlobs:\n    im = Image.open(io.BytesIO(imgBlob))\n    text = pytesseract.image_to_string(im, lang='es')\n    recognisedtext.append(text)\n\nprint(recognisedtext[1])\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551911822, "post_id": 55033271, "comment_id": 96819006, "body": "<code>sudoku_solver</code> doesn&#39;t appear to return a tuple, only the code fragment above <code>P</code> that <i>calls</i> <code>sudoku_solver</code>."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551912067, "post_id": 55033271, "comment_id": 96819096, "body": "There&#39;s 2 functions missing in this code. <code>check_location_is_safe</code> and <code>sudoku_solver</code> and <code>P</code> is never called."}, {"owner": {"reputation": 5133, "user_id": 154762, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d07d8564c1726ca28a6b99e560f0ec7?s=128&d=identicon&r=PG", "display_name": "solarc", "link": "https://stackoverflow.com/users/154762/solarc"}, "edited": false, "score": 0, "creation_date": 1551912216, "post_id": 55033271, "comment_id": 96819147, "body": "if <code>sudoku_solver</code> returns 2 elements, you can retrieve them like this: <code>first, second = sudoku_solver(argument)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 512, "user_id": 6101126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2be7f7a86ee63ee179d839c721f2d64?s=128&d=identicon&r=PG&f=1", "display_name": "binky", "link": "https://stackoverflow.com/users/6101126/binky"}, "edited": false, "score": 0, "creation_date": 1551912458, "post_id": 55033393, "comment_id": 96819248, "body": "Yes, and more Pythonic than my approach."}, {"owner": {"reputation": 1, "user_id": 11162432, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qReCHNotZuE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpax1yimHQxriVmbSB2W2UrKQtAQ/mo/photo.jpg?sz=128", "display_name": "HAO ZHANG", "link": "https://stackoverflow.com/users/11162432/hao-zhang"}, "edited": false, "score": 0, "creation_date": 1551912984, "post_id": 55033393, "comment_id": 96819491, "body": "thanks for reply. The problem is that i want to return Sudoku only. But I don&#39;t know  how...if i delete the return True,the function will be wrong"}, {"owner": {"reputation": 1142, "user_id": 8411228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827222d28c74281de10de373b3f48293?s=128&d=identicon&r=PG&f=1", "display_name": "Uli Sotschok", "link": "https://stackoverflow.com/users/8411228/uli-sotschok"}, "reply_to_user": {"reputation": 1, "user_id": 11162432, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qReCHNotZuE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpax1yimHQxriVmbSB2W2UrKQtAQ/mo/photo.jpg?sz=128", "display_name": "HAO ZHANG", "link": "https://stackoverflow.com/users/11162432/hao-zhang"}, "edited": false, "score": 0, "creation_date": 1551915069, "post_id": 55033393, "comment_id": 96820166, "body": "@HAOZHANG if you only want to return sudoku at the one place and a bool at the other, you can check the return type with <code>isinstance(result, bool)</code> in your P() function"}, {"owner": {"reputation": 1, "user_id": 11162432, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qReCHNotZuE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpax1yimHQxriVmbSB2W2UrKQtAQ/mo/photo.jpg?sz=128", "display_name": "HAO ZHANG", "link": "https://stackoverflow.com/users/11162432/hao-zhang"}, "reply_to_user": {"reputation": 1142, "user_id": 8411228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827222d28c74281de10de373b3f48293?s=128&d=identicon&r=PG&f=1", "display_name": "Uli Sotschok", "link": "https://stackoverflow.com/users/8411228/uli-sotschok"}, "edited": false, "score": 0, "creation_date": 1551916726, "post_id": 55033393, "comment_id": 96820572, "body": "@Uli Sotschok in fact i just want to return Sudoku or just call Sudoku in P function, but it shows &#39;bool&#39; object is not subscriptable however Sudoku is not a bool type..."}, {"owner": {"reputation": 1142, "user_id": 8411228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827222d28c74281de10de373b3f48293?s=128&d=identicon&r=PG&f=1", "display_name": "Uli Sotschok", "link": "https://stackoverflow.com/users/8411228/uli-sotschok"}, "edited": false, "score": 0, "creation_date": 1551918209, "post_id": 55033393, "comment_id": 96820923, "body": "In this line you try to get the second element of a tuple: sudoku_solver(sudoku)[1]. This is possible when the function returned a tuple with two values. But the sudoku_solver function has two parts, where it only returns a bool. This is where the error occurs. I don&amp;#39;t exactly know what your function does, but you need either first check if the sudoku_solver function returned a tuple or a bool. You can add try except. You can change sudoku_solver to always return a tuple"}, {"owner": {"reputation": 4206, "user_id": 765076, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ksBrE.jpg?s=128&g=1", "display_name": "Shane Gannon", "link": "https://stackoverflow.com/users/765076/shane-gannon"}, "edited": false, "score": 0, "creation_date": 1551954586, "post_id": 55033393, "comment_id": 96833909, "body": "Expanded answer based on comments"}], "tags": [], "owner": {"reputation": 4206, "user_id": 765076, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ksBrE.jpg?s=128&g=1", "display_name": "Shane Gannon", "link": "https://stackoverflow.com/users/765076/shane-gannon"}, "is_accepted": false, "score": 0, "last_activity_date": 1551954572, "last_edit_date": 1551954572, "creation_date": 1551912342, "answer_id": 55033393, "question_id": 55033271, "link": "https://stackoverflow.com/questions/55033271/how-to-call-one-of-multiple-returns/55033393#55033393", "title": "How to call one of multiple returns?", "body": "<p>When you see </p>\n\n<pre><code>return  True,sudoku\n</code></pre>\n\n<p>you can catch the returned values like so</p>\n\n<pre><code>result, sudoku = my_function()\n</code></pre>\n\n<p>or if you've no interest in result</p>\n\n<pre><code>_, sudoku = my_function()\n</code></pre>\n\n<p>---Edit---</p>\n\n<p>It seems your question centers around the two returns. Namely</p>\n\n<pre><code>return True,sudoku\n</code></pre>\n\n<p>versus</p>\n\n<pre><code>return False\n</code></pre>\n\n<p>That's adds unnecessary complexity. Can I suggest you simplify by instead using</p>\n\n<pre><code>return sudoku\n</code></pre>\n\n<p>and then later</p>\n\n<pre><code>return None\n</code></pre>\n\n<p>That means you can check the returned value like so</p>\n\n<pre><code>sudoku = my_function()\nif (sudoku):\n    // Do something here\nelse:\n    // Do something else\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1142, "user_id": 8411228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/827222d28c74281de10de373b3f48293?s=128&d=identicon&r=PG&f=1", "display_name": "Uli Sotschok", "link": "https://stackoverflow.com/users/8411228/uli-sotschok"}, "edited": false, "score": 0, "creation_date": 1551914893, "post_id": 55033396, "comment_id": 96820113, "body": "<code>return  True, sudoku</code> is the same as <code>return  (True, sudoku)</code>. So this answer is misleading."}, {"owner": {"reputation": 4206, "user_id": 765076, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ksBrE.jpg?s=128&g=1", "display_name": "Shane Gannon", "link": "https://stackoverflow.com/users/765076/shane-gannon"}, "edited": false, "score": 0, "creation_date": 1551953983, "post_id": 55033396, "comment_id": 96833536, "body": "I agree with the above comment - you can return True, sudoku"}], "tags": [], "owner": {"reputation": 512, "user_id": 6101126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2be7f7a86ee63ee179d839c721f2d64?s=128&d=identicon&r=PG&f=1", "display_name": "binky", "link": "https://stackoverflow.com/users/6101126/binky"}, "is_accepted": false, "score": -1, "last_activity_date": 1551912357, "creation_date": 1551912357, "answer_id": 55033396, "question_id": 55033271, "link": "https://stackoverflow.com/questions/55033271/how-to-call-one-of-multiple-returns/55033396#55033396", "title": "How to call one of multiple returns?", "body": "<p>You can't return multiple objects from a function, but you can return a container object, such as a list or tuple, that contains multiple member objects. Try using</p>\n\n<pre><code>return [ True, sudoku ]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24329, "user_id": 5237560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CO92P.png?s=128&g=1", "display_name": "Alain T.", "link": "https://stackoverflow.com/users/5237560/alain-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1551917273, "creation_date": 1551917273, "answer_id": 55034123, "question_id": 55033271, "link": "https://stackoverflow.com/questions/55033271/how-to-call-one-of-multiple-returns/55034123#55034123", "title": "How to call one of multiple returns?", "body": "<p>You could make your function return a single value that would be either None or the sudoku data.</p>\n\n<p>Python treats None as false so your condition could then be:</p>\n\n<pre><code>...\nif sudoku_solver(sudoku):\n   a = sudoku_solver(sudoku)\n   ...\n</code></pre>\n\n<p>Note that if sudoku_solver() is a complex and time consuming function, you will want to place its result in a variable BEFORE testing the condition so that it is not executed twice (as would be the case in the above condition)</p>\n\n<pre><code>...\na = sudoku_solver(sudoku)\nif a:\n   ...\n</code></pre>\n\n<p>Another option would be to systematically return a tuple with the boolean and the sudoku data (or None).</p>\n\n<p>Your return statements would have to be changed to <code>return True,sudoku</code> and <code>return False,None</code></p>\n\n<p>Then your condition could use indexing directly:</p>\n\n<pre><code>...\nif sudoku_solver(sudoku)[0]:\n   a = sudoku_solver(sudoku)[1]\n   ...\n</code></pre>\n\n<p>but again, you probably don't want to execute the function twice so :</p>\n\n<pre><code>...\nok,a = sudoku_solver(sudoku)\nif ok :\n   ...\n</code></pre>\n\n<p>Another thing is that, if you're passing sudoku as a parameter, you have to realize that your function will modify the content of the calling variable even when it returns False.  That may not be what you want but if it is, then there is no point in returning a second value because the caller's instance of the sudoku variable will already be modified and available.</p>\n"}], "owner": {"reputation": 1, "user_id": 11162432, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qReCHNotZuE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpax1yimHQxriVmbSB2W2UrKQtAQ/mo/photo.jpg?sz=128", "display_name": "HAO ZHANG", "link": "https://stackoverflow.com/users/11162432/hao-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1551954572, "creation_date": 1551911623, "last_edit_date": 1551921088, "question_id": 55033271, "link": "https://stackoverflow.com/questions/55033271/how-to-call-one-of-multiple-returns", "title": "How to call one of multiple returns?", "body": "<pre><code>def sudoku_solver(sudoku):\n    l = [0, 0]\n    if not find_empty_location(sudoku, l):\n        return True\n    row = l[0]\n    col = l[1]\n    for num in range(1, 10):\n        if check_location_is_safe(sudoku, row, col, num):\n            sudoku[row][col] = num\n            if sudoku_solver(sudoku):\n                return  True,sudoku            \n            sudoku[row][col] = 0\n    return False\n\ndef P():\n    a = np.zeros((9,9))\n    if sudoku_solver(sudoku):\n        a = sudoku_solver(sudoku)[1]\n    else:\n        a = 1\n    return a\n</code></pre>\n\n<p>There are two returns, <code>True</code> and <code>sudoku</code>. How can I call <code>sudoku</code> only in function P? When I run the function <code>P()</code>, it will show\n<code>'bool' object is not subscriptable</code>.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551913824, "post_id": 55033202, "comment_id": 96819783, "body": "I prefer <code>float(&#39;-inf&#39;)</code> for negative infinity."}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551913876, "post_id": 55033202, "comment_id": 96819796, "body": "@darksky fewer characters, and -1e309 is far nerdier 8)"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551914046, "post_id": 55033202, "comment_id": 96819856, "body": "I don\u2019t know if it\u2019s fewer characters, you had to put a comment in front of it to explain what it is :)"}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "reply_to_user": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551914119, "post_id": 55033202, "comment_id": 96819880, "body": "@darksky ha, touche"}], "tags": [], "owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "is_accepted": false, "score": 5, "last_activity_date": 1551911324, "creation_date": 1551911324, "answer_id": 55033202, "question_id": 55033188, "link": "https://stackoverflow.com/questions/55033188/how-to-get-the-highest-numerical-value-in-an-array-in-python/55033202#55033202", "title": "How to get the highest numerical value in an array in python", "body": "<p>This is a built-in function:</p>\n\n<p><code>max(data)</code></p>\n\n<p>If you're doing this as a thought experiment, you can use a loop like so:</p>\n\n<pre><code>m = -1e309  # negative infinity\nfor i in data:\n  if i &gt; m:\n    m = i\n\nprint(m)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3743, "user_id": 233142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4532cda36d6e2e4e5f8f7be87657212?s=128&d=identicon&r=PG", "display_name": "levis501", "link": "https://stackoverflow.com/users/233142/levis501"}, "is_accepted": true, "score": 0, "last_activity_date": 1551911754, "creation_date": 1551911754, "answer_id": 55033296, "question_id": 55033188, "link": "https://stackoverflow.com/questions/55033188/how-to-get-the-highest-numerical-value-in-an-array-in-python/55033296#55033296", "title": "How to get the highest numerical value in an array in python", "body": "<p>To do it in a loop, you\u2019ll have to compare each x to the largest value seen so far.</p>\n\n<p>For example:</p>\n\n<pre>\nhighest=None\nfor x in data:\n  if (highest is None) or (x > highest):\n    highest = x\n</pre>\n"}], "owner": {"reputation": 1, "user_id": 11162394, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bhWr8.jpg?s=128&g=1", "display_name": "Sir Foxington", "link": "https://stackoverflow.com/users/11162394/sir-foxington"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55033296, "answer_count": 2, "score": -3, "last_activity_date": 1551911754, "creation_date": 1551911277, "question_id": 55033188, "link": "https://stackoverflow.com/questions/55033188/how-to-get-the-highest-numerical-value-in-an-array-in-python", "title": "How to get the highest numerical value in an array in python", "body": "<p>I'm a total novice in python and coding but I'm trying to use a loop on my array to get the highest numerical value in my array I don't even know where to begin so any help is greatly appreciated. So far all I can think to do is </p>\n\n<p>for x in data:\n    if x > Members  </p>\n\n<p>and that's all I got I don't know what to do next at all so any input will help thanks. </p>\n"}, {"tags": ["python", "list", "sorting"], "comments": [{"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1551911898, "post_id": 55033165, "comment_id": 96819036, "body": "unrelated, but you are overwriting your function. You may want to use a different name for the variable."}, {"owner": {"reputation": 3903, "user_id": 206545, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/c03fef2c351700918666bca7b3d9f3ed?s=128&d=identicon&r=PG", "display_name": "sizzzzlerz", "link": "https://stackoverflow.com/users/206545/sizzzzlerz"}, "edited": false, "score": 1, "creation_date": 1551912278, "post_id": 55033165, "comment_id": 96819174, "body": "Your key function is wrong. The argument is not the array of integers but an element taken from the array. What you want to do is process a single integer as input and return that integer&#39;s sum of the digits."}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551911927, "post_id": 55033299, "comment_id": 96819049, "body": "&lt;function s_num at 0x00000263FBB20840&gt; when i do the above and print sum and i get this output unfortunately"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551912012, "post_id": 55033299, "comment_id": 96819075, "body": "I don&#39;t think you&#39;re running my code correctly. Please run the demo: <a href=\"https://repl.it/repls/SpanishPrevailingPublishers\" rel=\"nofollow noreferrer\">repl.it/repls/SpanishPrevailingPublishers</a>"}, {"owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551912558, "post_id": 55033299, "comment_id": 96819301, "body": "Thanks it works. Also how would I go about it if I have to write a program that displays the values in the list numbers in ascending order sorted by their largest prime factor"}, {"owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "reply_to_user": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551913511, "post_id": 55033299, "comment_id": 96819672, "body": "Glad to be of help. Finding the largest prime factor is really out of the scope of this question. Please post a new question if you have issues coding it on your own."}], "tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 3, "last_activity_date": 1551911778, "creation_date": 1551911778, "answer_id": 55033299, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list/55033299#55033299", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>You can map the digit characters of a string-converted number to integers so that you can pass them to the <code>sum</code> function:</p>\n\n<pre><code>def s_num(n):\n    return sum(map(int, str(n)))\n</code></pre>\n\n<p>With this change, <code>sorted(numbers, key=s_num)</code> would return:</p>\n\n<pre><code>[1108, 1343, 1069, 389, 869]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551912600, "post_id": 55033303, "comment_id": 96819319, "body": "Thanks it works. Also how would I go about it if I have to write a program that displays the values in the list numbers in ascending order sorted by their largest prime factor"}, {"owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "reply_to_user": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1552596011, "post_id": 55033303, "comment_id": 97082502, "body": "@codeybanks If my post answers your question, please accept it. Thanks"}], "tags": [], "owner": {"reputation": 1608, "user_id": 3630128, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LYblt.jpg?s=128&g=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/3630128/amir"}, "is_accepted": true, "score": 3, "last_activity_date": 1551911828, "creation_date": 1551911828, "answer_id": 55033303, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list/55033303#55033303", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>The key function should take an argument and return a value to use for sorting purposes. You should not iterate over the <code>numbers</code> array in that function. So do this:</p>\n\n<pre><code>numbers = [869, 1069, 1108, 1343, 389]\ndef s_num(num):\n    return sum(map(int, str(num)))\n\nresult = sorted(numbers,key=s_num)\nprint(result)\n</code></pre>\n\n<p><strong>OUTPUT</strong></p>\n\n<pre><code>[1108, 1343, 1069, 389, 869]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551912606, "post_id": 55033335, "comment_id": 96819323, "body": "Thanks it works. Also how would I go about it if I have to write a program that displays the values in the list numbers in ascending order sorted by their largest prime factor"}], "tags": [], "owner": {"reputation": 247, "user_id": 4796617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZHDn1.jpg?s=128&g=1", "display_name": "Akshay Kumar", "link": "https://stackoverflow.com/users/4796617/akshay-kumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912010, "creation_date": 1551912010, "answer_id": 55033335, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list/55033335#55033335", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>I think you missed out on using the <code>s_num(nums)</code> function argument correctly. Moreover, the sorted function already loops over the individual elements of the <code>numbers</code> list, so you don't need a nested loop in the <code>s_num(nums)</code> function.</p>\n\n<pre><code>def s_num(nums):\n    digits = [int(digit) for digit in str(nums) ]\n    return sum(digits)\n\ns_num = sorted(numbers,key=s_num)\nprint(s_num)```\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "edited": false, "score": 0, "creation_date": 1551912612, "post_id": 55033368, "comment_id": 96819325, "body": "Thanks it works. Also how would I go about it if I have to write a program that displays the values in the list numbers in ascending order sorted by their largest prime factor"}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912222, "creation_date": 1551912222, "answer_id": 55033368, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list/55033368#55033368", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>You can do in a single line with <code>key</code> argument</p>\n\n<pre><code>sorted(numbers,key=lambda x:(sum(map(int,str(x)))))\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>[1108, 1343, 1069, 389, 869]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24329, "user_id": 5237560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CO92P.png?s=128&g=1", "display_name": "Alain T.", "link": "https://stackoverflow.com/users/5237560/alain-t"}, "is_accepted": false, "score": 1, "last_activity_date": 1551918117, "creation_date": 1551918117, "answer_id": 55034234, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list/55034234#55034234", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>Your s_sum(nums) function is ignoring the parameter it receives (nums) and computing the sum of digits for all items of the numbers variable.  This will always be the same result and so you list isn't sorted.</p>\n\n<p>You could change this to : <code>result = sum(int(digit) for digit in str(nums))</code> or use one of the suggested answers posted here.</p>\n"}], "owner": {"reputation": 46, "user_id": 10700950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c16ffea4acd7b0e4dc4ea8160b618fec?s=128&d=identicon&r=PG&f=1", "display_name": "codeybanks", "link": "https://stackoverflow.com/users/10700950/codeybanks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 55033303, "answer_count": 5, "score": -2, "last_activity_date": 1618671121, "creation_date": 1551911213, "last_edit_date": 1592644375, "question_id": 55033165, "link": "https://stackoverflow.com/questions/55033165/how-do-i-return-a-sorted-list-of-the-sum-of-numbers-in-a-list", "title": "How do I return a sorted list of the sum of numbers in a list?", "body": "<p>I have a list</p>\n<pre><code>numbers = [869, 1069, 1108, 1343, 389]\n</code></pre>\n<p>and i want to sort them in ascending order of the sum of the digits(ex:8+6+9 for 869)</p>\n<h1>My input:</h1>\n<pre><code>def s_num(nums):\n    result = [sum(int(digit) for digit in str(number)) for number in numbers]\n    return result\n   \ns_num = sorted(numbers,key=s_num)\nprint(s_num)\n</code></pre>\n<p>However, for some reason my output is the same as my initial list</p>\n<pre><code>print(s_num)\n[869, 1069, 1108, 1343, 389]\n</code></pre>\n<p>How do i change my script to get the correct sorted list?</p>\n"}, {"tags": ["python", "pandas", "apache-spark"], "answers": [{"tags": [], "owner": {"reputation": 26, "user_id": 11162442, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/0ffbb8d22ef9d216264f01f6959f39c7?s=128&d=identicon&r=PG", "display_name": "user11162442", "link": "https://stackoverflow.com/users/11162442/user11162442"}, "is_accepted": true, "score": 1, "last_activity_date": 1551911337, "creation_date": 1551911337, "answer_id": 55033211, "question_id": 55033137, "link": "https://stackoverflow.com/questions/55033137/spark-dataframe-version-of-pd-dataframe-from-dictdata/55033211#55033211", "title": "Spark dataframe version of pd.DataFrame.from_dict(data)", "body": "<p>There is no reason to use anything else than intermediate Pandas <code>DataFrame</code> here (where <code>spark</code> is a <code>SparkSession</code> instance):</p>\n\n<pre><code>spark.createDataFrame(pd.DataFrame.from_dict(data))\n</code></pre>\n\n<p>For any practical application having in memory dictionary will a bottleneck anyway, and should be abandoned for any but simplest, real-life applications.</p>\n"}], "owner": {"reputation": 971, "user_id": 7424495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d81108bd63495705b5c4051f80c140d?s=128&d=identicon&r=PG&f=1", "display_name": "S.MC.", "link": "https://stackoverflow.com/users/7424495/s-mc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 55033211, "answer_count": 1, "score": 0, "last_activity_date": 1551911337, "creation_date": 1551911025, "question_id": 55033137, "link": "https://stackoverflow.com/questions/55033137/spark-dataframe-version-of-pd-dataframe-from-dictdata", "title": "Spark dataframe version of pd.DataFrame.from_dict(data)", "body": "<p>I have a dictionary of the following structure</p>\n\n<pre><code>dictio = {\"name\":[\"name1\",\"name2\"],\n          \"tAcc\":[0.8,0.8],\n          \"eAcc\":[0.8,0.8]}\n</code></pre>\n\n<p>I want to convert this dictionary to a spark dataframe:</p>\n\n<pre><code>\"name\"   \"tAcc\"     \"eAcc\"\n___________________________\n\"name1\"   0.8       0.8\n\"name2\"   0.8       0.8\n</code></pre>\n\n<p>the pandas function\npd.DataFrame.from_dict(data) does this job.\nDoes a spark version of this function exist?</p>\n"}, {"tags": ["python", "polygon", "computational-geometry"], "comments": [{"owner": {"reputation": 1782, "user_id": 10548514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hky6xOH08T4/AAAAAAAAAAI/AAAAAAAABSM/Tw8IuIniovs/photo.jpg?sz=128", "display_name": "Juan Carlos Ramirez", "link": "https://stackoverflow.com/users/10548514/juan-carlos-ramirez"}, "edited": false, "score": 0, "creation_date": 1551911672, "post_id": 55033132, "comment_id": 96818947, "body": "How do you want to sort them? Here are a few options for clockwise sorting <a href=\"https://math.stackexchange.com/questions/1018164/sorting-a-list-of-points-in-2-d-clockwise\" title=\"sorting a list of points in 2 d clockwise\">math.stackexchange.com/questions/1018164/&hellip;</a>, alternatively you could try something like triangulating your polygon first and then inheriting the order from triangulation. When talking about non-convex polygons, you  have a non-unique notion of &quot;clockwise&quot;, so solution will be context dependent."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551911677, "post_id": 55033132, "comment_id": 96818951, "body": "Too many links, not enough information in the question itself; see <a href=\"https://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 1782, "user_id": 10548514, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Hky6xOH08T4/AAAAAAAAAAI/AAAAAAAABSM/Tw8IuIniovs/photo.jpg?sz=128", "display_name": "Juan Carlos Ramirez", "link": "https://stackoverflow.com/users/10548514/juan-carlos-ramirez"}, "edited": false, "score": 0, "creation_date": 1551912630, "post_id": 55033132, "comment_id": 96819339, "body": "@JuanCarlosRamirez Thanks for your comment, I did come across that link when searching. Approach 1 mentioned here is what I had assumed would work the best for me which is similar to what was posted <a href=\"https://stackoverflow.com/questions/44025403/how-to-use-matplotlib-path-to-draw-polygon\">link</a> I want to have the vertices ordered in a direction that would allow me to convert into a valid shapely polygon again. I did not consider inheriting the order from the triangulation though, thanks for the suggestion."}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "edited": false, "score": 0, "creation_date": 1551912890, "post_id": 55033132, "comment_id": 96819456, "body": "Edit a Minimal Complete Verifiable Example of your code into your question. See htps://www.stackoverflow.com/help/mcve"}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551914079, "post_id": 55033132, "comment_id": 96819866, "body": "@chepner , barny Thanks for your suggestion, I have added a mcve."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551914291, "post_id": 55033132, "comment_id": 96819932, "body": "This <i>really</i> isn&#39;t minimal."}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551914616, "post_id": 55033132, "comment_id": 96820037, "body": "@chepner Can you please elaborate? The poly2trap code depends heavily on the triangulation functions as defined in seidel.py. The test polygon has as many vertices to portray the complexity of the problem I am trying to solve."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1551914940, "post_id": 55033132, "comment_id": 96820126, "body": "Pinpoint <i>where</i> you think the problem is; don&#39;t just throw hundreds of lines of code in the question and ask us to figure out the problem. If the question in the title is accurate, all you need is a function that takes a list of points, a routine that sorts them, and the expected and actual output. You probably need to include the definition of <code>Point</code>, but you could probably exclude the methods unrelated to sorting."}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551916607, "post_id": 55033132, "comment_id": 96820537, "body": "@chepner Thanks for your input. I have realized that triangulation works well and is irrelevant to the question. I have removed that part from the mcve and updated the mcve."}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1551966150, "post_id": 55033132, "comment_id": 96840971, "body": "Your question is very unclear. You mention decomposition  into trapezoids (which seems to work), then triangulation, then angular sorting. These three processes are unrelated."}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1551971805, "post_id": 55033132, "comment_id": 96844539, "body": "@YvesDaoust From what I understand, triangulation is a part of the decomposition process. The end goal is to decompose into trapezoids and form another polygon from that. I&#39;ve updated the question to try and explain it more clearly. I am looking for a better sort method because of the complexities that the decomposition adds to the resultant geometry."}, {"owner": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1551976144, "post_id": 55033132, "comment_id": 96847279, "body": "If you decompose a polygon into trapezoids and re-form a polygon from them ... wouldn&#39;t you get the original polygon?"}, {"owner": {"reputation": 48421, "user_id": 1196549, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fa597bf0dc47449a25e1f7f5b57e3ef1?s=128&d=identicon&r=PG", "display_name": "Yves Daoust", "link": "https://stackoverflow.com/users/1196549/yves-daoust"}, "edited": false, "score": 0, "creation_date": 1551977388, "post_id": 55033132, "comment_id": 96847976, "body": "I am not sure to understand what you are trying to do, but angular sorting is a wrong idea. The polygon vertices are neither clockwise nor counterclockwise."}, {"owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "reply_to_user": {"reputation": 13335, "user_id": 8204776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e6qyq.jpg?s=128&g=1", "display_name": "meowgoesthedog", "link": "https://stackoverflow.com/users/8204776/meowgoesthedog"}, "edited": false, "score": 0, "creation_date": 1551989993, "post_id": 55033132, "comment_id": 96854258, "body": "@meowgoesthedog That&#39;s how I expect it to work too, but here the order is lost during decomposition. I also found a similar question for R : (<a href=\"https://stackoverflow.com/questions/53707655/sorting-coordinates-to-create-a-polygon-gives-messy-results\" title=\"sorting coordinates to create a polygon gives messy results\">stackoverflow.com/questions/53707655/&hellip;</a>). But the answer tackles it with a different approach (extracting coordinates from map). At the moment it seems like I should add a feature to the decomposition part where it maintains the order."}], "owner": {"reputation": 37, "user_id": 11013985, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-A3grz2iFYzo/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNyYcs8qu-jIZnjmllZx5rz8QtLQA/mo/photo.jpg?sz=128", "display_name": "ssohin", "link": "https://stackoverflow.com/users/11013985/ssohin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1421, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551971498, "creation_date": 1551911005, "last_edit_date": 1551971498, "question_id": 55033132, "link": "https://stackoverflow.com/questions/55033132/sorting-a-polygon-vertices-clockwise", "title": "Sorting a polygon vertices clockwise", "body": "<p>I am working on a project that involves conversion of polygon into trapezoids. I am using a version of seidel.py as featured <a href=\"https://deparkes.co.uk/2015/02/05/trapezoidal-decomposition-polygons-python/\" rel=\"nofollow noreferrer\">here</a>. This software essentially takes in coordinates of a polygon, and performs trapezoidal decomposition on it using an algorithm that finds the intersections of vertical lines eminating from the vertices building up the original polygon. </p>\n\n<p>You can find my version of this here: <a href=\"https://github.com/ssohin/poly2trap.git\" rel=\"nofollow noreferrer\">Poly2Trap</a>\nfor Python 3.6.7.</p>\n\n<p><strong>What I'm trying to achieve is:</strong> </p>\n\n<ul>\n<li>Input polygon</li>\n<li>decompose polygon using seidel.py</li>\n<li>extract decomposed polygon's newly added vertices</li>\n<li>Create new vertex list by adding new vertices created during triangulation to the original vertex list</li>\n<li>Draw a polygon with the new vertex list</li>\n</ul>\n\n<p><strong>What's happening:</strong></p>\n\n<ul>\n<li>The decomposition method works and outputs a list of trapezoids. These trapezoids each have three or four vertices, some of which are already defined in the original polygon. </li>\n<li>After I get the list of all trapezoids, I combine all into a list of vertices (all trapezoids and original polygon) and remove duplicates.</li>\n<li>At this point, I am left with a set of distinct vertices which I want to portray as a polygon again.</li>\n<li>To achieve this, I am using <a href=\"https://stackoverflow.com/questions/44025403/how-to-use-matplotlib-path-to-draw-polygon\">angular sort</a> method which takes the centroid of the polygon and sorts the vertices by calculating angles from the vertex to the centroid. </li>\n<li>When I plot and compare, the resultant polygon isn't as expected. </li>\n</ul>\n\n<p><strong>What I need your help with is:</strong>\nIf you know of any other method to sort vertices of a complex polygon because I think that's where I am lacking. </p>\n\n<p>Here are my results:</p>\n\n<ul>\n<li><a href=\"https://i.stack.imgur.com/piWRV.png\" rel=\"nofollow noreferrer\">Output: Decomposed polygon into trapezoids of the seidel.py</a></li>\n<li><a href=\"https://i.stack.imgur.com/qvXcs.png\" rel=\"nofollow noreferrer\">The results after sort and plot show that the sort fails</a></li>\n</ul>\n\n<p>Additional info:</p>\n\n<p>I want to work with complex polygons with vertices in the range of a few hundred in the future and that is why I am avoiding the use of convex hull.</p>\n\n<p>Here, a point is a tuple with x and y coordinates. and all the vertices of the polygon are stored in a list of tuples. </p>\n\n<pre><code>poly_coords = [(x,y),]\n</code></pre>\n\n<p>Minimal, Complete, and Verifiable example:\npoly2trap.py</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\noriginal_poly_coords = [(235.04275999999999, 739.07534999999996),\n(218.13066000000001, 719.73902999999996),\n(218.15215000000001, 709.96821),\n(218.17362, 700.19740000000002),\n(243.15215000000001, 685.27858000000003),\n(268.13065, 670.35974999999996),\n(268.13065, 660.81429000000003),\n(268.13065, 651.26882999999998),\n(314.55921999999998, 651.26882999999998),\n(360.98779000000002, 651.26882999999998),\n(360.98683999999997, 666.44740000000002),\n(360.98046561000007, 669.27438118000009),\n(360.96234088000011,672.68539864000013),\n(360.93345946999995, 676.58895225999993),\n(360.89481504000003, 680.89354191999996),\n(360.84740125000002, 685.50766749999991),\n(360.79221175999999, 690.33982888000003),\n(360.73024022999999, 695.29852593999999),\n(360.66248032000004, 700.29225856000005),\n(360.58992569000003, 705.22952662000012),\n(360.51357000000002, 710.01882999999998),\n(360.04131999999998, 738.41168000000005),\n(310.51454999999999, 738.41168000000005),\n(260.98779999999999, 738.41168000000005),\n(260.98779999999999, 748.41168000000005),\n(260.98779999999999, 758.41168000000005),\n(256.47133000000002, 758.41168000000005),\n(251.95484999999999, 758.41168000000005),\n(235.04275999999999, 739.07534999999996)\n]\n\n#After performing triangulation\ncoords_after_triangulation = [(257.22974168, 758.41168), (361.63905883, 651.2688300000154), \n(360.98046561000007, 669.2743811800001), (361.22358883000004, 651.26883), (361.29515521662, 651.26883),\n(243.15215, 685.27858), (243.83742858, 685.27858), (361.36277257856005, 651.26883), \n(361.42553875594,651.26883), (361.48255158887997, 651.26883), (361.53290891750004, 651.26883),\n(261.72621168, 738.41168), (251.95485, 758.41168), (261.72621168, 738.4116799999902),\n(361.53290891750004, 685.5076675000018), (361.42553875594, 695.2985259399975),\n(361.42553875594, 695.2985259400011), (315.21048883, 651.26883), (360.98684, 666.4474),\n(360.84740125, 685.5076674999999), (361.57570858192, 680.8935419200061),\n(360.9623408800001, 672.6853986400001), (361.57570858192, 680.8935419199988), \n(361.48255158887997, 690.3398288800017), (361.64973999118007, 662.6631410694681), \n(311.25296168, 738.41168), (268.80100975, 738.41168), (315.21048883, 738.41168), \n(218.13066, 719.73903), (218.86211821, 719.7524137325041), (218.8738174, 719.7657746356965),\n(268.13065, 660.81429), (268.79146429, 660.8142900000094), (218.85039903, 719.73903), \n(218.85039903, 719.739029999997), (360.98779, 651.26883), (360.77973168, 651.26883), \n(218.17362, 700.1974), (218.8738174, 700.1974000000046), (218.8738174, 700.1974), \n(314.55922, 651.26883), (243.83742858, 739.07535), (361.63905883, 671.7505493924255), \n(360.93345946999995, 676.5889522599999), (360.04132, 738.41168), \n(360.73024023, 695.29852594), (360.77973168, 738.4116800000011), \n(360.77973168, 738.41168), (360.51357, 710.01883), (261.72621168, 674.5878176386889), \n(361.65328739999995, 666.4474000000046), (361.36277257856005, 700.292258559999), \n(218.15215, 709.96821), (218.86211821, 709.9682099999918), (218.86211821, 709.9682100000209), \n(268.13065, 670.35975), (268.80100975, 670.3597500000615), (268.80100975, 670.35975), \n(361.22358883000004, 710.0188300000009), (361.29515521662, 705.2295266200017), \n(361.57570858192, 651.26883), (361.6100484222599, 651.26883), \n(361.6350262786401, 651.26883), (360.89481504, 680.89354192), \n(260.9878, 748.41168), (361.63905883, 651.26883), (311.25296168, 651.26883), \n(252.71326168, 679.9741709800953), (361.6350262786401, 672.6853986399947), \n(310.51455, 738.41168), (235.04276, 739.07535), (235.78183535, 739.07535), \n(243.83742858, 748.2751425044893), (235.78183535, 690.0927851454428), (257.22974168, 677.2750150833695), \n(360.79221176, 690.33982888), (260.9878, 758.41168), (360.58992569000003, 705.2295266200001), \n(261.73621168, 748.4116799999902), (252.71326168, 758.41168), (268.13065, 651.26883), \n(360.66248032000004, 700.29225856), (261.74621168, 758.4116799999902), (261.74621168, 758.41168), \n(268.79146429, 651.26883), (268.80100975, 651.26883), (268.78191883, 651.2688300000154), \n(268.78191883, 651.26883), (361.6100484222599, 676.5889522599973), (261.73621168, 758.41168), \n(261.72621168, 758.41168), (256.47133, 758.41168), (361.64973999118007, 669.2743811799883), \n(361.64973999118007, 669.2743811800028), (260.9878, 738.41168),(257.22974168, 758.41168)]\n\n\ndef ccw_sort(p):\n    \"\"\"Sort given polygon points in CCW order\"\"\"\n    p = np.array(p)\n    mean = np.mean(p,axis=0)\n    d = p-mean\n    s = np.arctan2(d[:,0], d[:,1])\n    return p[np.argsort(s),:]\n\n#sort poly after triangulation\nsorted_poly_coords = ccw_sort(coords_after_triangulation)\n\n#plot\n#How it should look like:\nfig,ax = plt.subplots()    \nxa = [i[0] for i in original_poly_coords[:]]\nya = [i[1] for i in original_poly_coords[:]]\nax.plot(xa,ya, color = 'b')\n\n#How it looks like:\nfig,bx = plt.subplots()\nxb = [i[0] for i in sorted_poly_coords[:]]\nyb = [i[1] for i in sorted_poly_coords[:]]\nbx.plot(xb,yb, color='r')\n\nplt.show()\n\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "edited": false, "score": 1, "creation_date": 1551911198, "post_id": 55033122, "comment_id": 96818776, "body": "Can you please post your current solution?"}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 3, "last_activity_date": 1551911646, "last_edit_date": 1551911646, "creation_date": 1551911289, "answer_id": 55033193, "question_id": 55033122, "link": "https://stackoverflow.com/questions/55033122/counting-continues-occurrence-of-a-value-in-a-column/55033193#55033193", "title": "Counting continues occurrence of a value in a column", "body": "<p>It is just too boring to using <code>shift</code> and <code>cumsum</code> , let us try <code>itertools</code> </p>\n\n<pre><code>import itertools \ndf['New']=list(itertools.chain(*[list(range(len(list(y))))for _,y in itertools.groupby(df.value)]))\ndf\nOut[596]: \n   index value  New\n0      1     A    0\n1      2     A    1\n2      3     A    2\n3      4     A    3\n4      5     B    0\n5      6     B    1\n6      7     A    0\n7      8     B    0\n8      9     C    0\n9     10     C    1\n</code></pre>\n\n<hr>\n\n<p><code>pandas</code> way </p>\n\n<pre><code>df['New']=df.groupby((df.value!=df.value.shift()).ne(0).cumsum()).cumcount()+1\n</code></pre>\n"}], "owner": {"reputation": 574, "user_id": 9778937, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/300f02b818cd2763e4cefa1a7d518771?s=128&d=identicon&r=PG&f=1", "display_name": "Hamid", "link": "https://stackoverflow.com/users/9778937/hamid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1551913593, "accepted_answer_id": 55033193, "answer_count": 1, "score": 1, "last_activity_date": 1551911646, "creation_date": 1551910957, "question_id": 55033122, "link": "https://stackoverflow.com/questions/55033122/counting-continues-occurrence-of-a-value-in-a-column", "closed_reason": "Duplicate", "title": "Counting continues occurrence of a value in a column", "body": "<p>I have a data frame like this:</p>\n\n<pre><code>index   value\n----    -----\n1         A\n2         A\n3         A\n4         A\n5         B\n6         B\n7         A\n8         B\n9         C\n10        C\n</code></pre>\n\n<p>I want to add a column to count continues occurrence of my value, like this:</p>\n\n<pre><code>index   value   continues-count\n----    -----    ----------\n1         A       1\n2         A       2\n3         A       3\n4         A       4\n5         B       1\n6         B       2\n7         A       1\n8         B       1\n9         C       1\n10        C       2\n</code></pre>\n\n<p>I am able to do it using a loop but as my dataset is huge it takes forever!</p>\n"}, {"tags": ["python", "c++", "sockets", "zeromq", "pyzmq"], "comments": [{"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 1, "creation_date": 1551913571, "post_id": 55033082, "comment_id": 96819694, "body": "I don&#39;t know if this can help you, but often very long delays in network-related stuff come from some non-essential network service down in the bowels of the library/network stack failing for timeout (and being retried multiple times) for some reason - say, some internal DNS query that should be instantaneous but hangs. Not saying that this is exactly the case, but that&#39;s the general direction where I&#39;d investigate. If you are on Linux, try to run it under <code>strace</code>; on any platform, run your program under a native code debugger, stop it during the wait and see what it&#39;s doing."}, {"owner": {"reputation": 1384, "user_id": 22252, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d80b19716a60a24832605302b76c8028?s=128&d=identicon&r=PG", "display_name": "e-holder", "link": "https://stackoverflow.com/users/22252/e-holder"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1551977027, "post_id": 55033082, "comment_id": 96847756, "body": "Thanks for the suggestion Matteo. PyCharm and pdb only let me debug to a certain depth in zmq/sugar/context. I&#39;m looking into methods to let me debug deeper."}, {"owner": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1551978533, "post_id": 55033082, "comment_id": 96848608, "body": "Indeed you should use gdb and see what&#39;s going on a lower level if you are on Linux, or some other native debugger (lldb on macOS IIRC and windbg/visual studio/cdb on Windows)."}, {"owner": {"reputation": 1384, "user_id": 22252, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d80b19716a60a24832605302b76c8028?s=128&d=identicon&r=PG", "display_name": "e-holder", "link": "https://stackoverflow.com/users/22252/e-holder"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1551999056, "post_id": 55033082, "comment_id": 96857649, "body": "This is a windows box. I tried creating a C++ project in Visual Studio that uses a ZMQ library pulled from NuGet. It also exhibits the same delay. I don&#39;t have the ZMQ source files readily available for this particular library, but I can see the disassembly. Most of the times when I pause execution the call stack is: create_socket -&gt; reaper_t -&gt; mailbox_t -&gt; signaler_t -&gt; signaler_t.make_fdpair(uint64 *, uint64 *)."}, {"owner": {"reputation": 1384, "user_id": 22252, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d80b19716a60a24832605302b76c8028?s=128&d=identicon&r=PG", "display_name": "e-holder", "link": "https://stackoverflow.com/users/22252/e-holder"}, "reply_to_user": {"reputation": 114796, "user_id": 214671, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f82954c7134fbe63282dc033fd52f3ab?s=128&d=identicon&r=PG", "display_name": "Matteo Italia", "link": "https://stackoverflow.com/users/214671/matteo-italia"}, "edited": false, "score": 0, "creation_date": 1552054618, "post_id": 55033082, "comment_id": 96877893, "body": "It is now working for both C++ and Python. I will try to find out from the IT folks if they pushed any changes to my machine and I&#39;ll post the solution."}], "answers": [{"tags": [], "owner": {"reputation": 1384, "user_id": 22252, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d80b19716a60a24832605302b76c8028?s=128&d=identicon&r=PG", "display_name": "e-holder", "link": "https://stackoverflow.com/users/22252/e-holder"}, "is_accepted": false, "score": 0, "last_activity_date": 1552056930, "creation_date": 1552056930, "answer_id": 55065746, "question_id": 55033082, "link": "https://stackoverflow.com/questions/55033082/zmq-context-socket-creation-is-much-slower-on-new-computer/55065746#55065746", "title": "ZMQ Context socket creation is MUCH slower on new computer", "body": "<p>This was apparently a Windows 10 or Laptop firmware issue. Some updates got pushed by the IT department and things worked normally the next day. Here are the items that were installed per the Event Viewer:</p>\n\n<ul>\n<li>Installed KB4456655:  Servicing stack update for Windows 10, version 1803: September 11, 2018 (stability improvements)</li>\n<li>Installed KB4462930: Update for Adobe Flash Player</li>\n<li>Installed KB4100347: Intel microcode updates</li>\n<li>Installed KB4485449: Servicing stack update for Windows 10 v1803 - Feb. 12</li>\n<li>Installed KB4487017: (Same description as KB4485449)</li>\n<li>Installed KB4487038: Security update for Adobe Flash Player</li>\n</ul>\n"}], "owner": {"reputation": 1384, "user_id": 22252, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d80b19716a60a24832605302b76c8028?s=128&d=identicon&r=PG", "display_name": "e-holder", "link": "https://stackoverflow.com/users/22252/e-holder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1552056930, "creation_date": 1551910754, "last_edit_date": 1551999977, "question_id": 55033082, "link": "https://stackoverflow.com/questions/55033082/zmq-context-socket-creation-is-much-slower-on-new-computer", "title": "ZMQ Context socket creation is MUCH slower on new computer", "body": "<p>This was originally seen in Python, but has since been replicated in C++. Here is the unit test that distills down and replicates the behavior on my new laptop. These are just local socket connections.</p>\n\n<pre><code>def test_zmq_publisher_duration(self):\n    max_duration = 1.0\n    t0 = time.time()\n    socket = zmq.Context.instance().socket(zmq.PUB)\n    duration = time.time() - t0\n    print(socket)\n    self.assertLess(duration, max_duration, msg=\"socket() took too long.\")\n</code></pre>\n\n<p>On other computers, and on my old laptop, this runs in a <em>fraction</em> of a second. However, on my new laptop (beefy Dell Precision 7730) this takes about <strong>44 seconds</strong>. I get similar results when creating a zmq.SUB (subscriber) socket.</p>\n\n<p>If I step down into the socket() call, the two statements which consume all the time are as follows:</p>\n\n<pre><code>zmq/sugar/context.py\n   class Context\n      def instance(cls, io_threads=1):\n         ...\n         cls._instance = cls(io_threads=io_threads)\n         ...\n\n      def socket(self, socket_type, **kwargs)\n         ...\n         s = self._socket_class(self, socket_type, **kwargs)\n         ...\n</code></pre>\n\n<p>I am perplexed and baffled. Everything else on the laptop seems to be fine. Perhaps I have <em>pip installed</em> my dependent modules in some slightly different way? Could a previously installed zmq module versus pyzmq be causing problems? Perhaps it is something in the laptop setup from our IT department? I have tried running as administrator, running from within PyCharm, running from the command-line, and unplugging the network cable while running.</p>\n\n<p>I am relatively new to Python and ZMQ, but we have been developing on this project for months with no performance issues. In production code, we have a MessageBroker class that contains most of the pub/sub architecture. The unit test above was created by simply pulling the first significant line of code out of our MessageBroker.Publisher constructor (which creates the socket). Even though the socket creation is SLOW on this computer, our application does still come up and run properly after the sockets get created. It just takes 7 minutes to start the application.</p>\n\n<p>I suspect Ed's Law of Debugging: \"The more bizarre the behavior, the more stupid the mistake.\"</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "edited": false, "score": 0, "creation_date": 1551911539, "post_id": 55033079, "comment_id": 96818899, "body": "can you try add &#39;path=os.path.realpath(&quot;models/model_epoch100_emb100_bs32_lr&zwnj;&#8203;0.025/&quot;)&#39; than run other functions with path variable"}, {"owner": {"reputation": 972, "user_id": 5208088, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0b9ad0a35608d37b10dd4d08352ad70c?s=128&d=identicon&r=PG&f=1", "display_name": "Mnemosyne", "link": "https://stackoverflow.com/users/5208088/mnemosyne"}, "reply_to_user": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "edited": false, "score": 1, "creation_date": 1551911747, "post_id": 55033079, "comment_id": 96818983, "body": "I did. The path exists. The problem is the checkpoint. I lifted this model from another machine to my local one."}], "owner": {"reputation": 972, "user_id": 5208088, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0b9ad0a35608d37b10dd4d08352ad70c?s=128&d=identicon&r=PG&f=1", "display_name": "Mnemosyne", "link": "https://stackoverflow.com/users/5208088/mnemosyne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 535, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551912952, "creation_date": 1551910732, "last_edit_date": 1551912952, "question_id": 55033079, "link": "https://stackoverflow.com/questions/55033079/problem-when-loading-existing-model-in-tensorflow", "title": "Problem when loading existing model in tensorflow", "body": "<p>I generate a tensorflow model in another machine and my model folder has the contents:</p>\n\n<pre><code>-model.meta\n-checkpoint\n-model.index\n-model.data-00000-of-00001\n</code></pre>\n\n<p>After copying it to my work machine I load the model using:</p>\n\n<pre><code>model1 = tf.train.import_meta_graph(\"models/model_epoch100_emb100_bs32_lr0.025/.meta\")\nmodel1.restore(sess, tf.train.latest_checkpoint(\"models/model_epoch100_emb100_bs32_lr0.025/\"))\n</code></pre>\n\n<p>This method used to work for another older model that I had. However now I get this error:</p>\n\n<pre><code>ERROR:tensorflow:Couldn't match files for checkpoint models/model_epoch100_emb100_bs32_lr0.025/.\nERROR:tensorflow:Couldn't match files for checkpoint models/model_epoch100_emb100_bs32_lr0.025/.\nTraceback (most recent call last):\n  File \"/datadisk/Workspace/project/fgsm.py\", line 148, in &lt;module&gt;\n    main(config)\n  File \"/datadisk/Workspace/project/fgsm.py\", line 76, in main\n    model1.restore(sess, tf.train.latest_checkpoint(\"models/model_epoch100_emb100_bs32_lr0.025/\"))\n  File \"/datadisk/Workspace/project/venv/lib/python3.6/site-packages/tensorflow/python/training/saver.py\", line 1534, in restore\n    raise ValueError(\"Can't load save_path when it is None.\")\nValueError: Can't load save_path when it is None.\n</code></pre>\n\n<p>I have made sure that the path really exists and I have marked the folders as source in my intellij environment. I am at a loss at what could be wrong.</p>\n\n<p>Edit:</p>\n\n<p>I originally stored the model using:</p>\n\n<pre><code>        saver = tf.train.Saver()\n        save_path = saver.save(sess=sess, save_path=\"g2v_model/model\")\n</code></pre>\n\n<p>But I copied the content of the folder and scp in my local machine in the aforementioned folder.</p>\n\n<p>Edit2:</p>\n\n<p>I don't know how relevant this is but there is also one thing. The code I generated the model was using python2 whereas the code I am using now is python 3.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 3, "last_activity_date": 1551911362, "creation_date": 1551911362, "answer_id": 55033217, "question_id": 55033054, "link": "https://stackoverflow.com/questions/55033054/converting-comma-separated-txt-file-into-dictionary/55033217#55033217", "title": "Converting comma separated .txt file into dictionary", "body": "<p>You can use <code>csv.reader</code> to read the rows into a sequence of two-item lists, so that you can pass it to the dict constructor to build the dict you're looking for:</p>\n\n<pre><code>with open(\"annual_chesapeakeCapital_diversifiedProgramLV.txt\") as infile:\n    answer = dict(csv.reader(infile))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 47, "user_id": 7805675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YcCbQ-PJO6Q/AAAAAAAAAAI/AAAAAAAAAcA/iTxL0Z9HAok/photo.jpg?sz=128", "display_name": "alwaysJuniorDev", "link": "https://stackoverflow.com/users/7805675/alwaysjuniordev"}, "edited": false, "score": 0, "creation_date": 1551914025, "post_id": 55033479, "comment_id": 96819849, "body": "they never will because every number before the comma is stated as a year, so unless the data is wrong (it&#39;s been checked a number of times), that problem shouldn&#39;t exist"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 47, "user_id": 7805675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YcCbQ-PJO6Q/AAAAAAAAAAI/AAAAAAAAAcA/iTxL0Z9HAok/photo.jpg?sz=128", "display_name": "alwaysJuniorDev", "link": "https://stackoverflow.com/users/7805675/alwaysjuniordev"}, "edited": false, "score": 0, "creation_date": 1551951172, "post_id": 55033479, "comment_id": 96831676, "body": "IME it&#39;s very disappointing when assumptions are proved wrong, and this usually creates a lot of head-scratching and stress - how much simpler would it be to now write a check that the year entry isn&#39;t already there and if it is raise an exception?"}, {"owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "reply_to_user": {"reputation": 47, "user_id": 7805675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YcCbQ-PJO6Q/AAAAAAAAAAI/AAAAAAAAAcA/iTxL0Z9HAok/photo.jpg?sz=128", "display_name": "alwaysJuniorDev", "link": "https://stackoverflow.com/users/7805675/alwaysjuniordev"}, "edited": false, "score": 0, "creation_date": 1551951280, "post_id": 55033479, "comment_id": 96831752, "body": "also you should use e.g. <code>key,value = infile.readline().split(&quot;,&quot;,1)</code> to get the key/value pair."}], "tags": [], "owner": {"reputation": 5192, "user_id": 2318649, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rW1HG.jpg?s=128&g=1", "display_name": "barny", "link": "https://stackoverflow.com/users/2318649/barny"}, "is_accepted": true, "score": 2, "last_activity_date": 1551912731, "creation_date": 1551912731, "answer_id": 55033479, "question_id": 55033054, "link": "https://stackoverflow.com/questions/55033054/converting-comma-separated-txt-file-into-dictionary/55033479#55033479", "title": "Converting comma separated .txt file into dictionary", "body": "<p>To specifically answer your question, what you are doing wrong is that <code>readline()</code> only reads <em>one</em> line - you need to iterate reading all the lines and splitting each of them, and using the result of each split to create entries in the dictionary.</p>\n\n<p>BTW dictionaries can by definition only have one entry for each key, so have you planned what will happen if two lines have the same value before the comma?</p>\n"}, {"tags": [], "owner": {"reputation": 884, "user_id": 10443508, "user_type": "registered", "profile_image": "https://graph.facebook.com/3464110364380/picture?type=large", "display_name": "bart cubrich", "link": "https://stackoverflow.com/users/10443508/bart-cubrich"}, "is_accepted": false, "score": 0, "last_activity_date": 1551912796, "creation_date": 1551912796, "answer_id": 55033493, "question_id": 55033054, "link": "https://stackoverflow.com/questions/55033054/converting-comma-separated-txt-file-into-dictionary/55033493#55033493", "title": "Converting comma separated .txt file into dictionary", "body": "<p>With pandas it's easy</p>\n\n<pre><code>import pandas as pd\ndf=pd.read_csv(\"annual_chesapeakeCapital_diversifiedProgramLV.txt\",header=None)\nanswer =dict(zip(df[0].values,df[1].values))\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 7805675, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YcCbQ-PJO6Q/AAAAAAAAAAI/AAAAAAAAAcA/iTxL0Z9HAok/photo.jpg?sz=128", "display_name": "alwaysJuniorDev", "link": "https://stackoverflow.com/users/7805675/alwaysjuniordev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1190, "favorite_count": 0, "accepted_answer_id": 55033479, "answer_count": 3, "score": 2, "last_activity_date": 1551912796, "creation_date": 1551910625, "last_edit_date": 1551912166, "question_id": 55033054, "link": "https://stackoverflow.com/questions/55033054/converting-comma-separated-txt-file-into-dictionary", "title": "Converting comma separated .txt file into dictionary", "body": "<p>I have a comma delimited .txt file and I need to convert the list into key:value pairs in python 3:</p>\n\n<p>Below is the .txt file:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>1988,0.4891\n1989,0.2830\n1990,0.4312\n1991,0.1251\n1992,0.0181\n1993,0.6182\n1994,0.1587\n1995,0.1409\n1996,0.1505\n1997,0.0994\n1998,0.1631\n1999,0.0330\n2000,0.0523\n2001,-0.0798\n2002,0.1107\n2003,0.2308\n2004,0.0484\n2005,0.0114\n2006,0.1088\n2007,0.0228\n2008,0.1538\n2009,0.0038\n2010,0.1085\n2011,-0.0631\n2012,-0.1581\n2013,0.2538\n2014,0.1377\n2015,0.0199\n2016,-0.0392\n2017,0.0433\n2018,-0.0154\n</code></pre>\n\n<p>Here is my python code:</p>\n\n<pre><code>import csv\nanswer = {}\nwith open(\"annual_chesapeakeCapital_diversifiedProgramLV.txt\") as infile:\n    keys = infile.readline().split(\",\")\n    values = infile.readline().split(\"\\n\")\n\n    answer = dict(zip(keys, values))\n    print(answer)\n</code></pre>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 4, "creation_date": 1551910620, "post_id": 55033044, "comment_id": 96818596, "body": "Please format the code properly."}, {"owner": {"reputation": 13, "user_id": 11155281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3si1g.jpg?s=128&g=1", "display_name": "Kian Alford", "link": "https://stackoverflow.com/users/11155281/kian-alford"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1551910808, "post_id": 55033044, "comment_id": 96818656, "body": "how exactly it is when I put it in format but it wont when i post??"}, {"owner": {"reputation": 187, "user_id": 8913779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wMKr.png?s=128&g=1", "display_name": "systrigger", "link": "https://stackoverflow.com/users/8913779/systrigger"}, "edited": false, "score": 0, "creation_date": 1551910834, "post_id": 55033044, "comment_id": 96818664, "body": "Indent your code then check for where you are forgetting to type cast"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551910916, "post_id": 55033044, "comment_id": 96818691, "body": "You are making <code>year</code> a <code>tuple</code>, is there a reason for this?"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "reply_to_user": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551910988, "post_id": 55033044, "comment_id": 96818716, "body": "@jab <code>(2019)</code> is not a tuple, <code>(2019,)</code> would be."}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "edited": false, "score": 0, "creation_date": 1551911088, "post_id": 55033044, "comment_id": 96818749, "body": "Correct, my mistake"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 1, "creation_date": 1551911099, "post_id": 55033044, "comment_id": 96818753, "body": "I think you&#39;ve confused <code>&lt;</code> for <code>&gt;</code>... If someone&#39;s age is less than 18, it&#39;s obviously less than 65, no need to check."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1551911112, "post_id": 55033044, "comment_id": 96818758, "body": "You logic is off; a pensioner should be someone with age <i>greater</i> than 65, which cannot be someone whose age is less than 18."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1551911188, "post_id": 55033044, "comment_id": 96818774, "body": "@KianAlford what is the result of running this code, if not printing \u201chere is your pensioners ticket\u201d? What did you input when asked \u201cwhat year were you born\u201d?"}, {"owner": {"reputation": 13, "user_id": 11155281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3si1g.jpg?s=128&g=1", "display_name": "Kian Alford", "link": "https://stackoverflow.com/users/11155281/kian-alford"}, "edited": false, "score": 0, "creation_date": 1551911190, "post_id": 55033044, "comment_id": 96818775, "body": "i did this the other way so did not work in age 18 the opposite the the correct one. dont know why but."}], "answers": [{"comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 13, "user_id": 11155281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3si1g.jpg?s=128&g=1", "display_name": "Kian Alford", "link": "https://stackoverflow.com/users/11155281/kian-alford"}, "edited": false, "score": 0, "creation_date": 1551911225, "post_id": 55033091, "comment_id": 96818781, "body": "@KianAlford well that was the syntax error, so clearly you did not properly fix it, or there were multiple errors. You can even see it is the error in your post because the text changes colors when it thinks the string is over."}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "reply_to_user": {"reputation": 13, "user_id": 11155281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3si1g.jpg?s=128&g=1", "display_name": "Kian Alford", "link": "https://stackoverflow.com/users/11155281/kian-alford"}, "edited": false, "score": 0, "creation_date": 1551912246, "post_id": 55033091, "comment_id": 96819159, "body": "@KianAlford No problem. We all started somewhere."}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1551911138, "last_edit_date": 1551911138, "creation_date": 1551910799, "answer_id": 55033091, "question_id": 55033044, "link": "https://stackoverflow.com/questions/55033044/the-elif-wont-work-when-i-try-it-and-this-wont-work-when-it-worked-in-my-last-co/55033091#55033091", "title": "The elif wont work when I try it and this wont work when it worked in my last code", "body": "<p>The error is likely at <code>print('Here is your child's fare ticket.')</code> because you use <code>'</code> without escaping it. Possible solutions:</p>\n\n<pre><code>print('Here is your child\\'s fare ticket.')\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>print(\"Here is your child's fare ticket.\")\n</code></pre>\n\n<p>The way I would approach it:</p>\n\n<pre><code>year_born = input('what year were you born? ')\nyear = 2019\nage = (year - int(year_born))\nif age &lt;= 18:\n    print('Here is your child\\'s fare ticket.')\nelif age &gt;= 65:\n    print('Here is your old person ticket.')\nelse:\n    print('here is your general adult ticket.')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": false, "score": 0, "last_activity_date": 1551911735, "last_edit_date": 1551911735, "creation_date": 1551911431, "answer_id": 55033230, "question_id": 55033044, "link": "https://stackoverflow.com/questions/55033044/the-elif-wont-work-when-i-try-it-and-this-wont-work-when-it-worked-in-my-last-co/55033230#55033230", "title": "The elif wont work when I try it and this wont work when it worked in my last code", "body": "<p>From a logic standpoint you want prisoners to be 65+ and children are 18 and below. Otherwise they get a regular ticket. If this is correct then I would use the following:</p>\n\n<pre><code>year_born = int(input('what year were you born? '))\nyear = 2019\nage = year - year_born\n\nif age &gt;= 65:\n    print('Here is your pensioners ticket.')\nelif age &lt;= 18:\n    print('Here is your child\\'s fare ticket.') #need to escape the backslash here btw\nelse:\n    print('here is your ticket.')\n</code></pre>\n\n<p>As for the other code you want to check the last letter first, then see if the length is above 5:</p>\n\n<pre><code>first_name = input('first name only: ')\n\nif first_name[-1] == 'a':\n    print('you won $1000!!')\nelse:\n  print('you did not win $1000')\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11155281, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3si1g.jpg?s=128&g=1", "display_name": "Kian Alford", "link": "https://stackoverflow.com/users/11155281/kian-alford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1551911735, "creation_date": 1551910549, "last_edit_date": 1551910767, "question_id": 55033044, "link": "https://stackoverflow.com/questions/55033044/the-elif-wont-work-when-i-try-it-and-this-wont-work-when-it-worked-in-my-last-co", "title": "The elif wont work when I try it and this wont work when it worked in my last code", "body": "<pre><code>year_born = input('what year were you born? ')\nyear = (2019)\nage = (year - int(year_born))\nif age &lt;= 18:\n  if age &lt;= 65:\n    print('Here is your pensioners ticket.')\n  print('Here is your child's fare ticket.')\nelse:\n  print('here is your ticket.')\n</code></pre>\n\n<p>I tried and elif statement on \"if age &lt;= 65:\" but it shows syntax error. this works in my last code bellow. so i'm not for sure what is wrong or what I could do to make this work correctly. the problem with this is it does not initiate the \"print('Here is your pensioners ticket.')\". thanks for the help love you all.</p>\n\n<pre><code>first_name = input('first name only: ')\nif len(first_name) &gt;= 5:\n  if first_name[-1] == 'a':\n    print('you won $1000!!')\n  else:\n    print('you did not win $1000')\nelse:\n  print('you did not win $1000')\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1551912262, "post_id": 55033006, "comment_id": 96819167, "body": "Math functions don&#39;t work on structured arrays like this.  You can though do the math on the individual fields."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1551912666, "post_id": 55033006, "comment_id": 96819352, "body": "Structured arrays are most useful when they contain a mix of dtypes, say string labels, plus integer and float values.  I don&#39;t think they should be used just as a labeling device."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1551913062, "post_id": 55033006, "comment_id": 96819527, "body": "It is possible to define a structure that has overlapping field definitions, such that &#39;xy&#39; could access the same two values as &#39;x&#39; and &#39;y&#39;.  But the syntax for doing that is harder to remember, so I won&#39;t try to demonstrate if off hand."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1551915331, "post_id": 55033006, "comment_id": 96820237, "body": "<a href=\"https://stackoverflow.com/questions/49503565/make-a-numpy-array-with-shape-and-offset-argument-in-another-style\" title=\"make a numpy array with shape and offset argument in another style\">stackoverflow.com/questions/49503565/&hellip;</a> demonstrates how to access separate fields as well as their union.  And an earlier example: <a href=\"https://stackoverflow.com/questions/26349116/no-binary-operators-for-structured-arrays-in-numpy\" title=\"no binary operators for structured arrays in numpy\">stackoverflow.com/questions/26349116/&hellip;</a>"}], "owner": {"reputation": 11, "user_id": 5492446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8xG7r.jpg?s=128&g=1", "display_name": "MacAttack", "link": "https://stackoverflow.com/users/5492446/macattack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551910344, "creation_date": 1551910344, "question_id": 55033006, "link": "https://stackoverflow.com/questions/55033006/how-to-interact-with-custom-numpy-dtypes", "title": "How to interact with custom numpy dtypes", "body": "\n\n<p>I'm trying to add some points together and custom dtypes do not behave as <code>ndarray</code>s. The following is code I'm trying to use:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>self.center = np.dtype([('x', np.uint16), ('y', np.uint16)])\n\nnd0 = np.array((1, 2))\nnd1 = np.array((3, 4))\nprint(nd0 + nd1)\n\nc0 = np.array((1, 2), dtype=self.center)\nc1 = np.array((3, 4), dtype=self.center)\nprint(c0 + c1)\n</code></pre>\n\n<p>The second <code>print</code> yields an error:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>TypeError: ufunc 'add' did not contain a loop with signature matching types \ndtype([('x', '&lt;u2'), ('y', '&lt;u2')]) \ndtype([('x', '&lt;u2'), ('y', '&lt;u2')]) \ndtype([('x', '&lt;u2'), ('y', '&lt;u2')])\n</code></pre>\n\n<p>Is standard practice to create a custom function to handle unique <code>dtype</code>? <code>c0</code> and <code>c1</code> are of type <code>numpy.void</code>, whereas <code>nd0</code> and <code>nd1</code> are <code>numpy.ndarray</code>. I attempted to cast with <code>numpy.asarray</code> but it still fails to add the two.</p>\n\n<p>I wanted to average the centers of two objects. The <code>center</code> named field is nested in another named array and I thought it'd be easier to do something like:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>new_center = (pop[i]['center'] + pop[j]['center']) / 2.0\n</code></pre>\n\n<p>Rather than:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>new_center = (pop[i][0] + pop[j][0]) / 2.0\n</code></pre>\n\n<p>for readability and maintenance.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551912113, "post_id": 55033000, "comment_id": 96819109, "body": "It&#39;s very unclear what you&#39;re asking. How do you reach these outputs from these inputs?"}, {"owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551913356, "post_id": 55033000, "comment_id": 96819619, "body": "column1 is based on stock options pricing from stock prices (column0) and in actuality column0 is the standard deviation from current price."}, {"owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551913872, "post_id": 55033000, "comment_id": 96819795, "body": "I should clarify... I can figure out column 0 as x = np.linspace(min(min(df.iloc[:,0])),max(max(df.iloc[:,0])), 5) with 5 intervals.  I need help summing the column 1 values that correspond to between the interval values."}, {"owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551915760, "post_id": 55033000, "comment_id": 96820320, "body": "conceptually each row is a paired value so if in a dictionary it would be row0 = { -2:-10 , -1:-5 , 0:5 , 1:5 , 2:-10} and row1 = {-.5:-3, .5:-2, 1.5:0, 2.5:-2, 3.5:-3}.  Somehow I need to iterate through each row and sum each value between the intervals of new x linspace (min,max)"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1551978609, "post_id": 55033000, "comment_id": 96848645, "body": "I&#39;m sorry, maybe I&#39;m being dense, but how do you get from ` -2:-10 , -1:-5 , 0:5 , 1:5 , 2:-10` to <code>-10,-5,0,-5,-5</code>? If you could show some pseudocode for the algorithm to get to the answer that would really help my brain"}, {"owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1552003309, "post_id": 55033000, "comment_id": 96858954, "body": "using x and y for simplicity: column0=x, column1=y.  the first part I have figured out, as above, the answer x = linspace(min(x),max(x), num of intervals).  The ys are the trouble.  have to start somewhere, so similar to merge(left) let&#39;s say y[0] = sum of all ys where x=-2, or -10.  Then y[1] = (sum of all ys where -2&lt; x &lt;= -.625) which is sum(x=-1: -5) so [-10, -5 ...] y[2] is then (sum of all ys where -.625 &lt; x &lt;= .75) or sum(x=-.5: -3, x=0: 5, x=.5: -2) = 0...y[2]=0.  y[3] is then (sum of all ys where .75 &lt; x &lt;=2.125) or sum(x=1: 5,  x=1.5:0, x=2:-10) = -5 and finally"}, {"owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1552003373, "post_id": 55033000, "comment_id": 96858976, "body": "y[4] = (sum all of ys where 2.125 &lt; x &lt;= 3.5) or sum(x=2.5: -2, x=3.5: -3) = -5... so answer y = [-10,-5,0,-5,-5]"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1552077867, "post_id": 55033000, "comment_id": 96889043, "body": "So given your original question, I think the answer is no, there isn&#39;t something built-in for your purpose. Your best bet may be to write the customer function, then you <code>apply()</code> to apply it to the rows of your DF. If your DF is going to be very large, I would look into some optimization options outlined in the <a href=\"https://pandas.pydata.org/pandas-docs/stable/user_guide/enhancingperf.html\" rel=\"nofollow noreferrer\">enhancing performance</a> docs"}], "owner": {"reputation": 69, "user_id": 11039375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ee34ed29058f8866722819e38e1c55f?s=128&d=identicon&r=PG&f=1", "display_name": "J Beckford", "link": "https://stackoverflow.com/users/11039375/j-beckford"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551911368, "creation_date": 1551910316, "last_edit_date": 1551911368, "question_id": 55033000, "link": "https://stackoverflow.com/questions/55033000/combining-different-scaled-arrays-in-dataframe", "title": "Combining Different Scaled arrays in dataframe", "body": "<p>Is there a built-in function (numpy or pandas I'm thinking) that would help combine multiple rows of one column in a dataframe, keeping the same dimensions, but different scale?  Also, combined with that, summing the values from a different column between the intervals?  Or is it something I just need to build from scratch?  Example below, I'm not sure exactly how to ask.  This would need to be scalable; the example is simple, in reality I'm working with a 250 dim array and theoretically unlimited rows.</p>\n\n<p>Ex:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n#Creating DF\n\ndf = pd.DataFrame([[[-2,-1,0,1,2],[-10,-5,5,5,-10]],\n                   [[-.5,.5,1.5,2.5,3.5],[-3,-2,0,-2,-3]]])\n\n\n\noutput:                     0                     1\n    0           [-2, -1, 0, 1, 2]  [-10, -5, 5, 5, -10]\n    1  [-0.5, 0.5, 1.5, 2.5, 3.5]   [-3, -2, 0, -2, -3]\n</code></pre>\n\n<p>where the answer is [-2,-0.625,0.75,2.125,3.5] (column0 combined with dim 5) , [-10,-5,0,-5,-5] (sum of column1 between steps of column0 where (interval-1) &lt; x&lt;=interval)</p>\n\n<pre><code>answer = pd.DataFrame([[[-2,-.625,.75,2.125,3.5],[-10,-5,0,-5,-5]]])\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "rest", "api"], "answers": [{"comments": [{"owner": {"reputation": 126, "user_id": 5196903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed545deec4b390b153b9eea92bfe50c?s=128&d=identicon&r=PG&f=1", "display_name": "stardamore", "link": "https://stackoverflow.com/users/5196903/stardamore"}, "edited": false, "score": 0, "creation_date": 1551911027, "post_id": 55033048, "comment_id": 96818727, "body": "Sorry for the typo, I&#39;ve fixed the description."}], "tags": [], "owner": {"reputation": 1588, "user_id": 1440562, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ov87a.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1440562/chris"}, "is_accepted": false, "score": 1, "last_activity_date": 1551910586, "creation_date": 1551910586, "answer_id": 55033048, "question_id": 55032958, "link": "https://stackoverflow.com/questions/55032958/saving-json-result-into-csv/55033048#55033048", "title": "Saving JSON result into CSV", "body": "<p>I think you meant this:</p>\n\n<pre><code>-         f.writerow([elem['log']['driver']['username']],elem[log['log']['driver']['first_name']])\n+         f.writerow([elem['log']['driver']['username'],elem[log['log']['driver']['first_name']]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1121, "user_id": 2150289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1256cfbd4bb053bad532320ad570f9a5?s=128&d=identicon&r=PG", "display_name": "maharvey67", "link": "https://stackoverflow.com/users/2150289/maharvey67"}, "is_accepted": false, "score": 1, "last_activity_date": 1551912108, "creation_date": 1551912108, "answer_id": 55033354, "question_id": 55032958, "link": "https://stackoverflow.com/questions/55032958/saving-json-result-into-csv/55033354#55033354", "title": "Saving JSON result into CSV", "body": "<p>You are dereferencing elem[log['log']] instead of elem['log']</p>\n\n<pre><code>- f.writerow([elem['log']['driver']['username']],elem[log['log']['driver']['first_name']]])\n+ f.writerow([elem['log']['driver']['username'],elem['log']['driver']['first_name']])\n</code></pre>\n"}], "owner": {"reputation": 126, "user_id": 5196903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ed545deec4b390b153b9eea92bfe50c?s=128&d=identicon&r=PG&f=1", "display_name": "stardamore", "link": "https://stackoverflow.com/users/5196903/stardamore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551912108, "creation_date": 1551910161, "last_edit_date": 1551911008, "question_id": 55032958, "link": "https://stackoverflow.com/questions/55032958/saving-json-result-into-csv", "title": "Saving JSON result into CSV", "body": "<p>So I'm pulling data in JSON from an API which has dicts and multiple lists in it. The data I pull gets parsed and printed correctly, it's saving it in the CSV that's a problem.</p>\n\n<pre><code>r=requests.get(url,headers=header)\nresult=r.json()\nfor log in result['logs']:\n    print('Driver ID: ', log['log']['driver']['username'])\n    print('First Name: ', log['log']['driver']['first_name'])\n    print('Last Name: ', log['log']['driver']['last_name'])\n    for event in log['log']['events']:\n        print('ID: ', event['event']['id'])\n        print('Start Time: ', event['event']['start_time'])\n        print('Type: ', event['event']['type'])\n        print('Location: ', event['event']['location'])\nwith open ('data.csv','w') as csvfile:\n    f=csv.writer(csvfile)\n    f.writerow(['username','first_name'])\n    for elem in result['logs']:\n        f.writerow([elem['log']['driver']['username']],elem[log['log']['driver']['first_name']]])\n</code></pre>\n\n<p>I'm only starting on adding the username and first_name into the CSV but I keep getting an error saying:</p>\n\n<pre><code>KeyError: 'Robert'\n</code></pre>\n\n<p>It's important to note that 'Robert' is not the username, it's the first name. Also, it's the last result in the JSON response, shouldn't the logic start from the top? Any ideas on how to fix it?</p>\n\n<p>This is the API I'm fetching the data from, the endpoint is /logs:\n<a href=\"https://developer.keeptruckin.com/reference#get-logs\" rel=\"nofollow noreferrer\">https://developer.keeptruckin.com/reference#get-logs</a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 574, "user_id": 6262818, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0qG2x.png?s=128&g=1", "display_name": "Jack Parkinson", "link": "https://stackoverflow.com/users/6262818/jack-parkinson"}, "edited": false, "score": 2, "creation_date": 1551910276, "post_id": 55032955, "comment_id": 96818486, "body": "Surely because after changing &quot;z&quot; to &quot;a&quot;, your last line will encounter an &quot;a&quot; (which was originally &quot;z&quot; but already changed) and change it to a &quot;b&quot;"}, {"owner": {"reputation": 574, "user_id": 6262818, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0qG2x.png?s=128&g=1", "display_name": "Jack Parkinson", "link": "https://stackoverflow.com/users/6262818/jack-parkinson"}, "edited": false, "score": 0, "creation_date": 1551911671, "post_id": 55032955, "comment_id": 96818946, "body": "(This is not on topic but I should mention that this does not sound like good password practice! You would be much better off randomising every time)"}, {"owner": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "reply_to_user": {"reputation": 574, "user_id": 6262818, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0qG2x.png?s=128&g=1", "display_name": "Jack Parkinson", "link": "https://stackoverflow.com/users/6262818/jack-parkinson"}, "edited": false, "score": 0, "creation_date": 1551911965, "post_id": 55032955, "comment_id": 96819062, "body": "@JackParkinson I realized that the first time, but since I&#39;m still a beginner I&#39;m having a lot of trouble understanding a lot of the answers I found online"}, {"owner": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "reply_to_user": {"reputation": 574, "user_id": 6262818, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0qG2x.png?s=128&g=1", "display_name": "Jack Parkinson", "link": "https://stackoverflow.com/users/6262818/jack-parkinson"}, "edited": false, "score": 0, "creation_date": 1551912199, "post_id": 55032955, "comment_id": 96819140, "body": "@JackParkinson (Yes, that&#39;s true, but my dad has to change one letter because the systems he uses do that and they reset monthly. So he has to change it to log in again. I do agree, it would be better to just give random passwords!)"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "edited": false, "score": 0, "creation_date": 1551912882, "post_id": 55033035, "comment_id": 96819452, "body": "Thank you, but instead of doing an [i - 1] it was better to do [i + 1]."}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "reply_to_user": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "edited": false, "score": 0, "creation_date": 1551913159, "post_id": 55033035, "comment_id": 96819563, "body": "@DeeDee One problem with <code>[i+1]</code> you&#39;ll encounter is with the z - you won&#39;t circle back to a, while using <code>[i-1]</code> will circle back to the last item if you start with a"}, {"owner": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "edited": false, "score": 0, "creation_date": 1551914448, "post_id": 55033035, "comment_id": 96819982, "body": "Actually, when I did this, it did circle back to a but only makes it capitalized. Still working on making it stay lower case it."}, {"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "reply_to_user": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "edited": false, "score": 0, "creation_date": 1551916157, "post_id": 55033035, "comment_id": 96820414, "body": "Ah right! ascii is A-Za-z... so then you can just do <code>lower(&#39;&#39;.join(new)))</code> instead"}], "tags": [], "owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "is_accepted": true, "score": 1, "last_activity_date": 1551910831, "last_edit_date": 1551910831, "creation_date": 1551910501, "answer_id": 55033035, "question_id": 55032955, "link": "https://stackoverflow.com/questions/55032955/i-am-trying-to-use-the-replace-function-in-python-but-am-having-some-problems/55033035#55033035", "title": "I am trying to use the replace function in python but am having some problems", "body": "<p>You're running your replacement on new data! Here's an example where we iterate over the characters given and replace them once, that prevents the problem you described:</p>\n\n<pre><code>code = input(\"Enter code\")\n\nkey = {'z': 'a',\n       'y': 'z',\n       'x': 'y',\n       'w': 'x',\n       'v': 'w',\n       'u': 'v',\n       't': 'u',\n       's': 't',\n       'r': 's',\n       'q': 'r',\n       'p': 'q',\n       'o': 'p',\n       'n': 'o',\n       'm': 'n',\n       'l': 'm',\n       'k': 'l',\n       'j': 'k',\n       'i': 'j',\n       'h': 'i',\n       'g': 'h',\n       'f': 'g',\n       'e': 'f',\n       'd': 'e',\n       'c': 'd',\n       'b': 'c',\n       'a': 'b'\n       }\n\nnew = list()\n\nfor c in list(code):\n    new.append(key[c])\n\nprint(''.join(new))\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Reading your example a bit more closely, it seems you just want to rotate the letters one position - no key necessary for that! And we can now easily adapt this to support numbers, special characters... anything you want!</p>\n\n<pre><code>from string import ascii_letters\n\ncode = input(\"Enter code\")\ncharset = ascii_letters\nnew = list()\n\nfor c in list(code):\n    i = charset.find(c)\n    new.append(charset[i - 1])\n\nprint(''.join(new))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "edited": false, "score": 1, "creation_date": 1551911007, "post_id": 55033045, "comment_id": 96818720, "body": "Nice, didn&#39;t think of that!"}], "tags": [], "owner": {"reputation": 15754, "user_id": 9835872, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PN0Lq.jpg?s=128&g=1", "display_name": "ruohola", "link": "https://stackoverflow.com/users/9835872/ruohola"}, "is_accepted": false, "score": 1, "last_activity_date": 1551911142, "last_edit_date": 1551911142, "creation_date": 1551910567, "answer_id": 55033045, "question_id": 55032955, "link": "https://stackoverflow.com/questions/55032955/i-am-trying-to-use-the-replace-function-in-python-but-am-having-some-problems/55033045#55033045", "title": "I am trying to use the replace function in python but am having some problems", "body": "<p>This is simple enough to do in one line:</p>\n\n<pre><code>new = [chr(ord(char) + 1) if char != 'z' else 'a' for char in code]\n</code></pre>\n\n<p>This increases the ascii value of each char by 1. If the char is 'z' then it is set as 'a'.</p>\n\n<p>The <code>ord()</code> function gets the ascii value of a char</p>\n\n<p>The <code>chr()</code> function returns the corresponding char from an ascii value</p>\n"}], "owner": {"reputation": 3, "user_id": 11161072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a037872f2be1d7d72ae4b8d0de101e73?s=128&d=identicon&r=PG&f=1", "display_name": "DeeDee", "link": "https://stackoverflow.com/users/11161072/deedee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "closed_date": 1551910961, "accepted_answer_id": 55033035, "answer_count": 2, "score": 0, "last_activity_date": 1551915091, "creation_date": 1551910135, "last_edit_date": 1551915091, "question_id": 55032955, "link": "https://stackoverflow.com/questions/55032955/i-am-trying-to-use-the-replace-function-in-python-but-am-having-some-problems", "closed_reason": "Duplicate", "title": "I am trying to use the replace function in python but am having some problems", "body": "<p>I am trying to make a program for my father so he can easily change passwords at his work. He has to change a list of passwords so the pattern would be like 'abcde123' to 'bcdef234' and so on.</p>\n\n<p>I figured out for the most part how to code it:</p>\n\n<pre><code>code = input(\"Enter code\")\n\ncode = code.replace(\"z\", \"a\")\ncode = code.replace(\"y\", \"z\")\ncode = code.replace(\"x\", \"y\")\ncode = code.replace(\"w\", \"x\")\ncode = code.replace(\"v\", \"w\")\ncode = code.replace(\"u\", \"v\")\ncode = code.replace(\"t\", \"u\")\ncode = code.replace(\"s\", \"t\")\ncode = code.replace(\"r\", \"s\")\ncode = code.replace(\"q\", \"r\")\ncode = code.replace(\"p\", \"q\")\ncode = code.replace(\"o\", \"p\")\ncode = code.replace(\"n\", \"o\")\ncode = code.replace(\"m\", \"n\")\ncode = code.replace(\"l\", \"m\")\ncode = code.replace(\"k\", \"l\")\ncode = code.replace(\"j\", \"k\")\ncode = code.replace(\"i\", \"j\")\ncode = code.replace(\"h\", \"i\")\ncode = code.replace(\"g\", \"h\")\ncode = code.replace(\"f\", \"g\")\ncode = code.replace(\"e\", \"f\")\ncode = code.replace(\"d\", \"e\")\ncode = code.replace(\"c\", \"d\")\ncode = code.replace(\"b\", \"c\")\ncode = code.replace(\"a\", \"b\")\n\nprint code\n</code></pre>\n\n<p>In the first line it says to change any 'z' to 'a'. In the second to last line it says to change any 'a' to 'b'. When you try and run this code, when you type in a 'z' it will automatically go to an 'b'. Does anyone know how I can fix this?</p>\n\n<p>EDIT: Yes, I also realized it was because I added a last line of code that changes the previous line into a b. </p>\n"}, {"tags": ["python", "django", "django-models", "django-views", "django-generic-views"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10036828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49a248d832ca59c0c0f8d226fe0d1fd?s=128&d=identicon&r=PG&f=1", "display_name": "cpit", "link": "https://stackoverflow.com/users/10036828/cpit"}, "edited": false, "score": 0, "creation_date": 1551956614, "post_id": 55033533, "comment_id": 96835243, "body": "Thank you for your question. However, I am looking to return only the Topic instance with the most questions. I do not want to return a queryset."}, {"owner": {"reputation": 2472, "user_id": 109554, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8d5e369f6d7fb6343f9559b0a65abde1?s=128&d=identicon&r=PG", "display_name": "tatlar", "link": "https://stackoverflow.com/users/109554/tatlar"}, "reply_to_user": {"reputation": 97, "user_id": 10036828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49a248d832ca59c0c0f8d226fe0d1fd?s=128&d=identicon&r=PG&f=1", "display_name": "cpit", "link": "https://stackoverflow.com/users/10036828/cpit"}, "edited": false, "score": 0, "creation_date": 1552322014, "post_id": 55033533, "comment_id": 96955803, "body": "I&#39;m a little confused by your comment -- if you want to use Django&#39;s <code>ListView</code> this is the most efficient method. In your solution you are adding to <code>get_context_data()</code> and I am adding to <code>get_queryset()</code> -- no real difference there. To only show the <code>Topic</code> with the most questions, just limit the results in your template to the first record? It might help if you explain what you trying to accomplish with getting the count of questions in a variable (like an if/else statement or something)?"}], "tags": [], "owner": {"reputation": 2472, "user_id": 109554, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8d5e369f6d7fb6343f9559b0a65abde1?s=128&d=identicon&r=PG", "display_name": "tatlar", "link": "https://stackoverflow.com/users/109554/tatlar"}, "is_accepted": true, "score": 1, "last_activity_date": 1551913055, "creation_date": 1551913055, "answer_id": 55033533, "question_id": 55032954, "link": "https://stackoverflow.com/questions/55032954/djangos-listview-how-to-customise-it/55033533#55033533", "title": "Django&#39;s ListView - How to customise it", "body": "<p>You might want to try using <code>.annotate()</code> to get the count of <code>Questions</code> associated with each <code>Topic</code>:</p>\n\n\n\n<pre><code>from django.db.models import Count\n\ntopics_count = Topics.objects.annotate(count_of_questions=Count('question'))\n</code></pre>\n\n<p>Each <code>Topic</code> object will have a new attribute <code>count_of_questions</code> which is the total number of questions associated with each <code>Topic</code>.</p>\n\n<p>In your <code>ListView</code>:</p>\n\n<pre><code>class TopicsView(ListView):\n    model = Topic\n    context_object_name = 'topics'\n    template_name = 'home.html'\n\n    def get_queryset(self):\n        queryset = super(TopicsView, self).get_queryset()\n        queryset = queryset.annotate(count_of_questions=Count('question'))\n</code></pre>\n\n<p>Then you should be able to use <a href=\"https://docs.djangoproject.com/en/2.1/ref/templates/builtins/#dictsortreversed\" rel=\"nofollow noreferrer\">dictsortreversed</a> to do the following in your template, which <em>should</em> return the topic with the most questions <strong>first</strong>:</p>\n\n<pre><code>{% for t in topics|dictsortreversed:\"count_of_questions\" %}\n    {{ t.count_of_questions }}\n{% endfor %}\n</code></pre>\n\n<p>There's a similar question and answer in the following <a href=\"https://stackoverflow.com/questions/32998591/django-count-of-foreign-key-model\">SO Q&amp;A</a></p>\n"}, {"tags": [], "owner": {"reputation": 97, "user_id": 10036828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49a248d832ca59c0c0f8d226fe0d1fd?s=128&d=identicon&r=PG&f=1", "display_name": "cpit", "link": "https://stackoverflow.com/users/10036828/cpit"}, "is_accepted": false, "score": 0, "last_activity_date": 1551967395, "creation_date": 1551967395, "answer_id": 55045647, "question_id": 55032954, "link": "https://stackoverflow.com/questions/55032954/djangos-listview-how-to-customise-it/55045647#55045647", "title": "Django&#39;s ListView - How to customise it", "body": "<p>In the end, I have managed to do it through the get_context_data() function. This is how my solution looks like:</p>\n\n<pre><code>def get_context_data(self, **kwargs):\n    context = super().get_context_data(**kwargs)\n\n    mostQuestions = context['object_list'][0].questions_count()\n    mostQuestionsTopic = context['object_list'][0]\n\n    for topic in context['object_list']:\n        if topic.questions_count() &gt; mostQuestions:\n            mostQuestions = topic.questions_count()\n            mostQuestionsTopic = topic\n\n    context['mostQuestions'] = mostQuestions\n    context['mostQuestionsTopic'] = mostQuestionsTopic\n\n    return context\n</code></pre>\n\n<p>Is there a more efficient solution?</p>\n"}], "owner": {"reputation": 97, "user_id": 10036828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f49a248d832ca59c0c0f8d226fe0d1fd?s=128&d=identicon&r=PG&f=1", "display_name": "cpit", "link": "https://stackoverflow.com/users/10036828/cpit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1085, "favorite_count": 0, "accepted_answer_id": 55033533, "answer_count": 2, "score": 0, "last_activity_date": 1551967395, "creation_date": 1551910132, "question_id": 55032954, "link": "https://stackoverflow.com/questions/55032954/djangos-listview-how-to-customise-it", "title": "Django&#39;s ListView - How to customise it", "body": "<p>I am sorry if this is a duplicate, but I did not find any answer to my question.</p>\n\n<p><strong>My issue below</strong></p>\n\n<p>I am really struggling to understand how to customise my views when using ListView. I read the Django documentation, but I find it very brief.</p>\n\n<p>What I would like to do is to <strong>count the questions for each topic</strong> and <strong>return the topic with the most questions</strong>. I would be able to count the number of questions for each topic with the following line of code in my models.py (Topic class):</p>\n\n<pre><code>def questions_count(self):\n    return Question.objects.filter(question__topic = self).count()\n</code></pre>\n\n<p>However, I would like to return only the most popular Topic and the number of questions.</p>\n\n<p>Using a function-based view, I would loop over the topics, and I would create two variables storing the topic name and the number of questions. However, with the ListView I do not know whether to use get_context_data(), get_queryset() or something else.</p>\n\n<p><strong>My view class</strong>:</p>\n\n<pre><code>class TopicsView(ListView):\n    model = Topic\n    context_object_name = 'topics'\n    template_name = 'home.html'\n</code></pre>\n\n<p><strong>My models</strong>:</p>\n\n<pre><code>class Topic(models.Model):\n    name = models.CharField(max_length=30, unique=True)\n    description = models.CharField(max_length=100)\n\nclass Question(models.Model):\n    ....\n    topic = models.ForeignKey(Topic, related_name='questions', on_delete=models.CASCADE)    \n    ....\n</code></pre>\n"}, {"tags": ["python", "mariadb", "mysql-python"], "comments": [{"owner": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 2, "creation_date": 1551910021, "post_id": 55032859, "comment_id": 96818397, "body": "looks like it&#39;s --target-dir and not --target-directory <a href=\"https://mariadb.com/kb/en/library/mariabackup-options/#-target-dir\" rel=\"nofollow noreferrer\">mariadb.com/kb/en/library/mariabackup-options/#-target-dir</a>"}, {"owner": {"reputation": 121, "user_id": 2983705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee36d6651400898bee2c12a10eb154c6?s=128&d=identicon&r=PG&f=1", "display_name": "imbrian21", "link": "https://stackoverflow.com/users/2983705/imbrian21"}, "reply_to_user": {"reputation": 2721, "user_id": 8767209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f22597b536b07b41525099a8c16e23ce?s=128&d=identicon&r=PG&f=1", "display_name": "MFisherKDX", "link": "https://stackoverflow.com/users/8767209/mfisherkdx"}, "edited": false, "score": 0, "creation_date": 1551970944, "post_id": 55032859, "comment_id": 96843988, "body": "Sometimes its the simple things that you miss while debugging your own code!. This was the problem - thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 2983705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee36d6651400898bee2c12a10eb154c6?s=128&d=identicon&r=PG&f=1", "display_name": "imbrian21", "link": "https://stackoverflow.com/users/2983705/imbrian21"}, "is_accepted": true, "score": 0, "last_activity_date": 1552328599, "creation_date": 1552328599, "answer_id": 55108111, "question_id": 55032859, "link": "https://stackoverflow.com/questions/55032859/mariabackup-ignoring-target-dir/55108111#55108111", "title": "Mariabackup ignoring --target-dir", "body": "<p>its --target-dir not --target-directory</p>\n\n<p>thanks to MFisherKDX </p>\n"}], "owner": {"reputation": 121, "user_id": 2983705, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ee36d6651400898bee2c12a10eb154c6?s=128&d=identicon&r=PG&f=1", "display_name": "imbrian21", "link": "https://stackoverflow.com/users/2983705/imbrian21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 55108111, "answer_count": 1, "score": 2, "last_activity_date": 1552328599, "creation_date": 1551909706, "last_edit_date": 1551912584, "question_id": 55032859, "link": "https://stackoverflow.com/questions/55032859/mariabackup-ignoring-target-dir", "title": "Mariabackup ignoring --target-dir", "body": "<p>I'm in the process of automating our mariadb backup jobs into a python program. However for some reason it appears that the --target-directory parameter, although being passed correctly and validated by printing, is ignored when running the actual command from os.system. code below:</p>\n\n<pre><code>import os\nimport datetime, time\nimport mysql.connector as mariadb\n\n\nunix_socket = \"/var/lib/mysql/mysql.sock\"\ncurrentdate = datetime.datetime.now()\nbkp_path = time.strftime(\"/%Y/%m-%d/%H%M\")\nro_status = (\"show global variables like 'read_only%'\")\ndblist = (\"show databases\")\ndb = mariadb.connect(user='pytest', password='pytest', unix_socket=unix_socket)\ncur = db.cursor()\ncur.execute(ro_status)\nresult = cur.fetchall()\nfor r in result:\n        if \"OFF\" in r:\n            cur.execute(dblist)\n            dbs = cur.fetchall()\n            for d in dbs:\n                dbstr = ''.join(d)\n                bkp_path = \"/backups/\" + dbstr + time.strftime(\"/%Y/%m-%d/%H%M/\")\n                bkp_cmd = \"sudo mariabackup --backup --databases='\" + dbstr + \"' --target-directory=\" + bkp_path +\"  --user pytest --password=pytest --no-lock\"\n                try:\n                    os.stat(bkp_path)\n                except:\n                    os.makedirs(bkp_path)\n                try:\n                   # print(bkp_cmd)\n                    os.system(bkp_cmd)\n                except:\n                        print(\"Problem running backup on this host\")\n        else:\n            print(h + \" is read only and will not be backed up\")\n</code></pre>\n\n<p>Example of the printed command:\nsudo mariabackup --backup --databases=\"testdbBA\" --target-directory=/backups/testdbBA/2019/03-06/1659/ --user pytest --password=pytest --no-lock</p>\n\n<p>even when run seperatly via the printed block - it attempts to write to my local home directory and not to the specified target dir.</p>\n"}, {"tags": ["python", "pyinstaller"], "comments": [{"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551910511, "post_id": 55032830, "comment_id": 96818563, "body": "Are you sure your project file tree is set up correctly as a python <i>package</i>? See <a href=\"https://hackernoon.com/the-one-stop-guide-to-easy-cross-platform-python-freezing-part-1-c53e66556a0a\" rel=\"nofollow noreferrer\">hackernoon.com/&hellip;</a> for a tutorial."}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 4698105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98479e854541c9a1fafb9f4e8ed779b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimanyu", "link": "https://stackoverflow.com/users/4698105/vimanyu"}, "edited": false, "score": 0, "creation_date": 1551917660, "post_id": 55033570, "comment_id": 96820812, "body": "<code>_MEIPASS</code> starts with an underscore character (<code>_</code>) - I believe it is not meant to be exposed and consumed directly. Are you sure it&#39;s safe to use?"}, {"owner": {"reputation": 599, "user_id": 6919667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25c77e26a4a7ee78437d7cba4bfd430?s=128&d=identicon&r=PG&f=1", "display_name": "Hiadore", "link": "https://stackoverflow.com/users/6919667/hiadore"}, "reply_to_user": {"reputation": 503, "user_id": 4698105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98479e854541c9a1fafb9f4e8ed779b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimanyu", "link": "https://stackoverflow.com/users/4698105/vimanyu"}, "edited": false, "score": 0, "creation_date": 1551918645, "post_id": 55033570, "comment_id": 96821004, "body": "It&#39;s the way to access temp folder created by pyinstaller. I can&#39;t guarantee it&#39;s safe or not, but I never heard people complaining about this."}], "tags": [], "owner": {"reputation": 599, "user_id": 6919667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a25c77e26a4a7ee78437d7cba4bfd430?s=128&d=identicon&r=PG&f=1", "display_name": "Hiadore", "link": "https://stackoverflow.com/users/6919667/hiadore"}, "is_accepted": false, "score": 0, "last_activity_date": 1551913258, "creation_date": 1551913258, "answer_id": 55033570, "question_id": 55032830, "link": "https://stackoverflow.com/questions/55032830/os-path-points-to-incorrect-location-with-pyinstaller-in-multiple-file-imports/55033570#55033570", "title": "os.path points to incorrect location with Pyinstaller in multiple file imports", "body": "<p>Instead of use <code>__file__</code> to refer to path, please use <code>sys._MEIPASS</code>.\nTo refer to the sibling of the aux.py file, please use this helper function:</p>\n\n<pre><code>import sys\nimport os\n\ndef resource_path(relative_path):\n    \"\"\" Get absolute path to resource, works for dev and for PyInstaller \"\"\"\n    base_path = getattr(sys, '_MEIPASS', os.path.dirname(os.path.abspath(__file__)))\n    return os.path.join(base_path, relative_path)\n</code></pre>\n\n<p>For example, if in your <code>aux.py</code> you want to read sibling files named <code>readme.txt</code>, you can refer as:</p>\n\n<pre><code>filepath = resource_path('readme.txt')\n</code></pre>\n\n<p>See the docs <a href=\"https://pyinstaller.readthedocs.io/en/stable/runtime-information.html#using-file-and-sys-meipass\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 503, "user_id": 4698105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98479e854541c9a1fafb9f4e8ed779b6?s=128&d=identicon&r=PG&f=1", "display_name": "Vimanyu", "link": "https://stackoverflow.com/users/4698105/vimanyu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551913258, "creation_date": 1551909570, "question_id": 55032830, "link": "https://stackoverflow.com/questions/55032830/os-path-points-to-incorrect-location-with-pyinstaller-in-multiple-file-imports", "title": "os.path points to incorrect location with Pyinstaller in multiple file imports", "body": "<p>I have two python files <code>main.py</code> and <code>aux.py</code> located in the same directory.</p>\n\n<p><code>main.py</code> contains the following code:</p>\n\n<pre><code>import aux\nprint \"aux imported\"\n</code></pre>\n\n<p><code>aux.py</code> contains the following code:</p>\n\n<pre><code>import os\ncurrent_path = os.path.dirname(os.path.realpath(__file__))\nprint current_path\n</code></pre>\n\n<p>Now, when I bundle main.py to .exe using <code>pyinstaller --onefile main.py</code> and try running the main.exe which gets produced, I get the following output:</p>\n\n<pre><code>C:\\Users\\vimanyua\\AppData\\Local\\Temp\\3\\_MEI90~1\naux imported\n</code></pre>\n\n<p>As can be seen, pyinstaller using a temp folder to locate my aux.py which is creating a lot of issue for me because <code>aux.py</code> in my actual code reads other sibling files located in its current directory. If I just create a .exe for <code>aux.py</code> like <code>pyinstaller --onefile aux.py</code> - it outputs the correct path </p>\n\n<p><code>C:\\Users\\vimanyua\\Documents\\pyinstaller test\\dist</code></p>\n\n<p>I read the documentation at <a href=\"https://pythonhosted.org/PyInstaller/when-things-go-wrong.html\" rel=\"nofollow noreferrer\">this link</a> and as I want to run <code>aux.py</code> first, I trie creating an exe file like this - </p>\n\n<p><code>pyinstaller --onefile --runtime-hook=aux.py main.py</code></p>\n\n<p>It creates a single <code>main.exe</code> which runs <code>aux.py</code> first and then runs <code>main.exe</code>. When it runs aux.py I get following output:</p>\n\n<pre><code>C:\\Users\\vimanyua\\Documents\\pyinstaller test\\dist\nC:\\Users\\vimanyua\\AppData\\Local\\Temp\\3\\_MEI90~1\naux imported\n</code></pre>\n\n<p>My <code>main.py</code> actually uses multiple functions/variables from <code>aux.py</code> so I cannot get rid of the <code>import aux</code> statement in <code>main.py</code> and I really do not want to merge the code into a single file.</p>\n\n<p>Can anyone please provide me any guidance? Thanks!</p>\n"}, {"tags": ["python", "pandas", "dataframe", "pandas-groupby"], "comments": [{"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 0, "creation_date": 1551910522, "post_id": 55032810, "comment_id": 96818566, "body": "I don&#39;t see a way around it with that requirement. Is there any reason it truly needs to be a percentage based window centered on each row, or could it suffice to compare rows within the same quantiles of salary? (in which case you can do one quick <code>groupby</code>)"}, {"owner": {"reputation": 99, "user_id": 9047557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYsXk.jpg?s=128&g=1", "display_name": "Matt Sosna", "link": "https://stackoverflow.com/users/9047557/matt-sosna"}, "reply_to_user": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1551911233, "post_id": 55032810, "comment_id": 96818785, "body": "@ALollz The end product involves looking up a person, with one of the metrics being this comparison to similar people. The issue with static bins is that if you&#39;re at the bottom or top of a bin, the bulk of the comparison group is fairly different from you, and there&#39;s some subjectivity in how you set bin cutoffs. Maybe those drawbacks are fine if we&#39;re trying to scale to 100,000s of rows and iteration isn&#39;t possible. But I want to first check whether this rolling window percentage is possible before arguing for static bins. I agree static bins would make this a much simpler question!"}, {"owner": {"reputation": 46860, "user_id": 4333359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/231e42e97a07b2937c1bf8a313dfa3f7?s=128&d=identicon&r=PG&f=1", "display_name": "ALollz", "link": "https://stackoverflow.com/users/4333359/alollz"}, "edited": false, "score": 1, "creation_date": 1551911431, "post_id": 55032810, "comment_id": 96818861, "body": "True, I agree with those issues. But sadly, all of the <code>.rolling</code> calculations assume a static window size, and <code>.groupby</code> ensures that elements can only belong to a single group, neither of which will help in this case. Hopefully someone else has an imaginative solution."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9047557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYsXk.jpg?s=128&g=1", "display_name": "Matt Sosna", "link": "https://stackoverflow.com/users/9047557/matt-sosna"}, "edited": false, "score": 0, "creation_date": 1551970012, "post_id": 55032872, "comment_id": 96843367, "body": "<code>pd.cut</code> isn&#39;t useful here because it creates pre-defined static bins (i.e. <code>np.arange(0, df[&#39;salary&#39;].max(), 1.0e5)</code>. The goal requires different bins for each row. Thanks, though - static bins are an increasingly attractive alternative."}], "tags": [], "owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "is_accepted": false, "score": 1, "last_activity_date": 1551909756, "creation_date": 1551909756, "answer_id": 55032872, "question_id": 55032810, "link": "https://stackoverflow.com/questions/55032810/avoid-iterating-through-every-row-in-pandas-for-custom-aggregation/55032872#55032872", "title": "Avoid iterating through every row in Pandas for custom aggregation", "body": "<p><code>pd.cut</code> was designed for this sort of thing: <a href=\"http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.cut.html\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.cut.html</a></p>\n\n<p><code>df.groupby(pd.cut(df[\"salary\"], np.arange(0, df[\"salary\"].max(), 1.0e5)))</code></p>\n"}, {"tags": [], "owner": {"reputation": 268, "user_id": 11092403, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N1PfXE8oqOs/AAAAAAAAAAI/AAAAAAAAG30/yDfDK4flwj4/photo.jpg?sz=128", "display_name": "Natalie Olivo", "link": "https://stackoverflow.com/users/11092403/natalie-olivo"}, "is_accepted": true, "score": 6, "last_activity_date": 1561344304, "last_edit_date": 1561344304, "creation_date": 1551976026, "answer_id": 55048554, "question_id": 55032810, "link": "https://stackoverflow.com/questions/55032810/avoid-iterating-through-every-row-in-pandas-for-custom-aggregation/55048554#55048554", "title": "Avoid iterating through every row in Pandas for custom aggregation", "body": "<p>To get a count of each peer group,  you could do use this:</p>\n\n<pre><code>data['sal_peer_group_count'] = \\\n     data['salary'].apply(lambda x: len(data.loc[(data['salary']&gt;.9*x) &amp; \\\n                                       (data['salary']&lt;1.1*x)]))\n</code></pre>\n\n<p>To get the peer group average of <code>sal_perc</code></p>\n\n<pre><code>data['peer_group_food_perc_mean'] = \\\n     data['salary'].apply(lambda x: data.loc[(data['salary'] &gt;.9*x) &amp; \\\n                                             (data['salary'] &lt; 1.1*x), 'food_perc'].mean())\n</code></pre>\n\n<p>Keep in mind that if you have any items of <code>salary</code> that are equal to zero and you would like them to be in the same group, you will need to modify the statement to be: </p>\n\n<pre><code>data['peer_group_food_perc_mean'] = \\\n     data['salary'].apply(lambda x: data.loc[(data['salary'] &gt;.9*x) &amp; \\\n                                             (data['salary'] &lt; 1.1*x) \\\n                                              if x != 0 else \\\n                                              (data['salary'] == 0), 'food_perc'].mean())\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 9047557, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYsXk.jpg?s=128&g=1", "display_name": "Matt Sosna", "link": "https://stackoverflow.com/users/9047557/matt-sosna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 1, "accepted_answer_id": 55048554, "answer_count": 2, "score": 3, "last_activity_date": 1561344304, "creation_date": 1551909456, "question_id": 55032810, "link": "https://stackoverflow.com/questions/55032810/avoid-iterating-through-every-row-in-pandas-for-custom-aggregation", "title": "Avoid iterating through every row in Pandas for custom aggregation", "body": "<p>Let's say I have a pandas DataFrame with two columns: <code>salary</code> and <code>food_perc</code> (the percentage of salary you spend on food). Each row corresponds to a different person.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\nimport numpy as np\n\n# Set seed\nnp.random.seed(1)\n\n# Create dataframe\ndf = pd.DataFrame({'salary': np.round(np.random.uniform(10000, 100000, 100), 2),\n                   'food_perc': np.round(np.random.uniform(0.1, 0.9, 100), 2)})\n\n</code></pre>\n\n<p>I want a new column called <code>food_compare</code> where for each person, I see how their <code>food_perc</code> compares to people with similar incomes (+/- 10%). </p>\n\n<p>Because the +/- 10% cohort will be different for every person, I don't see a way to avoid iterating through each row and creating the cohort every time, as below. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for i in df.index:\n\n    # Isolate the cohort\n    df_sub = df[(df.loc[:, 'salary'] * 0.9 &lt; df.loc[i, 'salary']) &amp;\n                (df.loc[:, 'salary'] * 1.1 &gt; df.loc[i, 'salary'])]\n\n    # Make the comparison\n    df.loc[i, 'food_compare'] = np.divide(df.loc[i, 'food_perc'],\n                                          np.mean(df_sub['food_perc']))\n</code></pre>\n\n<p>Subsetting the dataframe for every iteration is really not a scalable solution. <strong>Unfortunately, I can't preemptively create static bins (e.g. $10,000-$20,000, $20,001-$30,000, etc.) for the problem I'm working on.</strong></p>\n\n<p>Is there a way to do some sort of <code>.groupby</code> when you don't have a discrete key? Otherwise I'm not sure what to do besides maybe sorting the rows by <code>salary</code> beforehand and modifying the subsetting step so it doesn't search through the whole dataframe when constructing the cohort. Thanks!</p>\n"}, {"tags": ["python", "python-2.7", "python-3.7", "astropy"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551909760, "post_id": 55032796, "comment_id": 96818293, "body": "It looks like it might be because, when you added new data and changed the number of columns, you didn&#39;t also add a field/column name to the first row of the file."}, {"owner": {"reputation": 23, "user_id": 11162273, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jJEFjcAGYZU/AAAAAAAAAAI/AAAAAAAAACs/-tlhdvpa65Y/photo.jpg?sz=128", "display_name": "11162273", "link": "https://stackoverflow.com/users/11162273/11162273"}, "edited": false, "score": 0, "creation_date": 1551923488, "post_id": 55032796, "comment_id": 96822084, "body": "Hi martineau, I added new data but in the same columns that I had, didn&#39;t created a new set of columns"}, {"owner": {"reputation": 4837, "user_id": 9769953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14a586643a20c8d68010f7a329f5a04?s=128&d=identicon&r=PG", "display_name": "0 0", "link": "https://stackoverflow.com/users/9769953/0-0"}, "edited": false, "score": 0, "creation_date": 1551948116, "post_id": 55032796, "comment_id": 96829793, "body": "This appears to be an issue with your input file, given the error message. Could you list the first few lines of that file?"}, {"owner": {"reputation": 23, "user_id": 11162273, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jJEFjcAGYZU/AAAAAAAAAAI/AAAAAAAAACs/-tlhdvpa65Y/photo.jpg?sz=128", "display_name": "11162273", "link": "https://stackoverflow.com/users/11162273/11162273"}, "edited": false, "score": 0, "creation_date": 1551987748, "post_id": 55032796, "comment_id": 96853128, "body": "Solved! I saved the table like a csv, then opened it and saved it as .txt and worked but still don&#39;t know what was the problem. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 291, "user_id": 10168105, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kWY0vH7T1DI/AAAAAAAAAAI/AAAAAAAAAFg/5Hn7d18qGik/photo.jpg?sz=128", "display_name": "astrosnapper", "link": "https://stackoverflow.com/users/10168105/astrosnapper"}, "is_accepted": true, "score": 0, "last_activity_date": 1553279246, "creation_date": 1553279246, "answer_id": 55305800, "question_id": 55032796, "link": "https://stackoverflow.com/questions/55032796/inconsistenttableerror-rows-different-from-columns-error-of-astropy-table-read/55305800#55305800", "title": "InconsistentTableError rows different from columns error of astropy Table.read()", "body": "<p>The issue is occurring because your data table has varying numbers of columns, possibly because of a missing data value. AstroPy tries to guess where the header and the data parts of the table (which you can override with <code>header_start=</code> and <code>data_start=</code> in the call to <code>astropy.io.ascii.read()</code>, see <a href=\"http://docs.astropy.org/en/stable/api/astropy.io.ascii.read.html#astropy.io.ascii.read\" rel=\"nofollow noreferrer\">method definition</a> in the docs). The header is used to define the number of columns it's expecting to read from the table; if this changes midway through your data, you will get the <code>InconsistentTableError</code></p>\n\n<p>For example if you have a table that looks like this (with hash as the comment/header delimiter):</p>\n\n<pre><code># X Y Z\n1 2 3\n3 4 5\n6   9\n</code></pre>\n\n<p>then it will fail on row 3 as there are now 2 columns not 3. You need to ensure whatever produces the table fills in 'something' for bad/missing data and/or that this can't be mistaken for the separators between columns (or override this in the call). This may be why it \"appeared to work\" after converting to CSV; CSV makes a distinction between common blank values (spaces) and the column separators (commas) that may not have been in the original table data, preventing this confusion for the code between a missing value and the gaps between columns.</p>\n"}], "owner": {"reputation": 23, "user_id": 11162273, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jJEFjcAGYZU/AAAAAAAAAAI/AAAAAAAAACs/-tlhdvpa65Y/photo.jpg?sz=128", "display_name": "11162273", "link": "https://stackoverflow.com/users/11162273/11162273"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 55305800, "answer_count": 1, "score": 1, "last_activity_date": 1553279246, "creation_date": 1551909397, "last_edit_date": 1551946465, "question_id": 55032796, "link": "https://stackoverflow.com/questions/55032796/inconsistenttableerror-rows-different-from-columns-error-of-astropy-table-read", "title": "InconsistentTableError rows different from columns error of astropy Table.read()", "body": "<p>I'm triying to read a <strong>.txt</strong> file with astropy's <code>Table.read()</code> as:</p>\n\n<blockquote>\n<pre><code>data = Table.read('BD_FONDECYT_1120715Py(03-2019).txt', format='ascii', guess=False)\n</code></pre>\n</blockquote>\n\n<p>I added <code>guess=False</code> because without it the error was less clear.</p>\n\n<p>I'm working with a database and always use scripts to read it. Now, I added some new data and the code shows this error:</p>\n\n<pre><code>'Traceback (most recent call last):\ndata = Table.read('BD_FONDECYT_1120715Py(03-2019).txt', format='ascii', guess=False)                                                                  \nFile \"C:\\Python3\\lib\\site-packages\\astropy\\table\\table.py\", line 2550, in read \nout = io_registry.read(cls, *args, **kwargs)\nFile \"C:\\Python3\\lib\\site-packages\\astropy\\io\\registry.py\", line 517, in read\ndata = reader(*args, **kwargs)\nFile \"C:\\Python3\\lib\\site-packages\\astropy\\io\\ascii\\connect.py\", line 20, in read_asciitable\nreturn read(filename, **kwargs)\nFile \"C:\\Python3\\lib\\site-packages\\astropy\\io\\ascii\\ui.py\", line 390, in read\ndat = fast_reader_rdr.read(table)\nFile \"C:\\Python3\\lib\\site-packages\\astropy\\io\\ascii\\fastbasic.py\", line 128, in read\ndata, comments = self.engine.read(try_int, try_float, try_string)\nFile \"astropy\\io\\ascii\\cparser.pyx\", line 385, in astropy.io.ascii.cparser.CParser.read astropy.io.ascii.core.InconsistentTableError: Number of header columns (22) inconsistent with data columns in data line 0'\n</code></pre>\n\n<p>I looked every where, changed every value on the table (to float and 2 decimal), checked the new values if they have a blank space or something like it, but can't figure out what's happening. I even changed Python version from 2.7 to 3.7 and reinstalled <code>astropy</code> and <code>numpy</code>.</p>\n\n<p>How do I solve this issue? </p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 5, "creation_date": 1551909568, "post_id": 55032791, "comment_id": 96818217, "body": "Time to eplore json module <a href=\"https://docs.python.org/3/library/json.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/json.html</a>"}, {"owner": {"reputation": 187, "user_id": 8913779, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6wMKr.png?s=128&g=1", "display_name": "systrigger", "link": "https://stackoverflow.com/users/8913779/systrigger"}, "edited": false, "score": 0, "creation_date": 1551911328, "post_id": 55032791, "comment_id": 96818819, "body": "A wise man once said: &quot;Before using regex you have one problem but once you use it you&#39;ll have many more&quot;."}], "owner": {"reputation": 15, "user_id": 7555506, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1e64737c97679e406fa8e6c177d6c940?s=128&d=identicon&r=PG&f=1", "display_name": "Diwas", "link": "https://stackoverflow.com/users/7555506/diwas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551911238, "creation_date": 1551909361, "last_edit_date": 1551911238, "question_id": 55032791, "link": "https://stackoverflow.com/questions/55032791/how-do-i-extract-string-in-between-rolename-and", "title": "how do I extract string in between &quot;Rolename&quot;: and ,", "body": "<p>I have a <code>json object</code> that contains this : </p>\n\n<pre><code>\"RoleName\": \"sf-community-apple\", \"RoleId\": \"AROAI12345678954\",\n</code></pre>\n\n<p>how would I extract <code>sf-community-apple</code>, from the above string? I would really appreciate the help. Thanks </p>\n"}, {"tags": ["python", "file"], "comments": [{"owner": {"reputation": 3715, "user_id": 1241334, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fCjAE.jpg?s=128&g=1", "display_name": "Jonny Henly", "link": "https://stackoverflow.com/users/1241334/jonny-henly"}, "edited": false, "score": 0, "creation_date": 1551909497, "post_id": 55032785, "comment_id": 96818186, "body": "You either need to write to <code>outfile</code> after getting the first input, or switch the input and write to <code>outfile</code> lines in your while loop. The second option is better if you don&#39;t want a possible <code>-1</code> followed by <code>There is no numbers in the text file</code> in the <code>outfile</code>."}], "answers": [{"tags": [], "owner": {"reputation": 423, "user_id": 8206705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be032ba68741f45a5abf1c2c9df8b53?s=128&d=identicon&r=PG&f=1", "display_name": "H. Ross", "link": "https://stackoverflow.com/users/8206705/h-ross"}, "is_accepted": true, "score": 1, "last_activity_date": 1551909546, "creation_date": 1551909546, "answer_id": 55032825, "question_id": 55032785, "link": "https://stackoverflow.com/questions/55032785/writing-numbers-to-file-python-first-input-doesnt-print/55032825#55032825", "title": "Writing numbers to file python. First input doesn&#39;t print", "body": "<p>You are prompting the user a second time before you write the first input to the file.</p>\n\n<p>See here:  (I also simplified your code a little)</p>\n\n<pre><code>outfile = open(\"userInput.txt\",\"w\")\nuserInput = int(input(\"Enter a number to the text file: \"))\ncount = 0\nwhile(userInput !=-1): # You don't need the if, because if userInput == -1, this while loop won't run at all\n   outfile.write(str(userInput) + \"\\n\") # Swapped these lines so that it would write before asking the user again\n   userInput = int(input(\"Enter a number to the text file: \"))\n   count+=1\nif count == 0:\n   print(\"There is no numbers in the text file\")\n   outfile.write(\"There is no numbers in the text file\")\noutfile.close()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 9022690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ce0b2daee75aff3ef471a1735143ce?s=128&d=identicon&r=PG&f=1", "display_name": "l.m", "link": "https://stackoverflow.com/users/9022690/l-m"}, "edited": false, "score": 0, "creation_date": 1551909772, "post_id": 55032829, "comment_id": 96818299, "body": "Thank you as well!"}], "tags": [], "owner": {"reputation": 348, "user_id": 2514266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a21f7ff53d93d0c5f11c95d38c96b132?s=128&d=identicon&r=PG", "display_name": "Rohan", "link": "https://stackoverflow.com/users/2514266/rohan"}, "is_accepted": false, "score": 1, "last_activity_date": 1551909564, "creation_date": 1551909564, "answer_id": 55032829, "question_id": 55032785, "link": "https://stackoverflow.com/questions/55032785/writing-numbers-to-file-python-first-input-doesnt-print/55032829#55032829", "title": "Writing numbers to file python. First input doesn&#39;t print", "body": "<p>You're asking for new input and writing that before you write the first valid input to the file. Instead, write the valid input first and then ask for input.</p>\n\n<pre><code>outfile = open(\"userInput.txt\",\"w\")\nuserInput = int(input(\"Enter a number to the text file: \"))\ncount = 0\nwhile(userInput != -1)\n    outfile.write(str(userInput) + \"\\n\")\n    userInput = int(input(\"Enter a number to the text file: \"))\n    count+=1\nif count == 0:\n   print(\"There is no numbers in the text file\")\n   outfile.write(\"There is no numbers in the text file\")\noutfile.close()\n</code></pre>\n\n<p>This should work.</p>\n"}], "owner": {"reputation": 131, "user_id": 9022690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0ce0b2daee75aff3ef471a1735143ce?s=128&d=identicon&r=PG&f=1", "display_name": "l.m", "link": "https://stackoverflow.com/users/9022690/l-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55032825, "answer_count": 2, "score": 0, "last_activity_date": 1551909564, "creation_date": 1551909317, "question_id": 55032785, "link": "https://stackoverflow.com/questions/55032785/writing-numbers-to-file-python-first-input-doesnt-print", "title": "Writing numbers to file python. First input doesn&#39;t print", "body": "<p>i'm writing numbers to a text file and it works but the issue im having is that it doesn't print the first number.</p>\n\n<p>If I writing 1 2 3 4 5 6 then I have a sentinel loop and use -1 to end. </p>\n\n<p>It would print 2 3 4 5 6</p>\n\n<pre><code>outfile = open(\"userInput.txt\",\"w\")\nuserInput = int(input(\"Enter a number to the text file: \"))\ncount = 0\nif int(userInput) != -1:\n   while(userInput) !=-1:\n       userInput = int(input(\"Enter a number to the text file: \"))\n       outfile.write(str(userInput) + \"\\n\")\n       count+=1\nif count == 0:\n   print(\"There is no numbers in the text file\")\n   outfile.write(\"There is no numbers in the text file\")\ncount+=1\noutfile.close()\n</code></pre>\n"}, {"tags": ["python", "plc"], "comments": [{"owner": {"reputation": 3125, "user_id": 2878796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8bxWv.png?s=128&g=1", "display_name": "UnholySheep", "link": "https://stackoverflow.com/users/2878796/unholysheep"}, "edited": false, "score": 0, "creation_date": 1551909379, "post_id": 55032773, "comment_id": 96818139, "body": "There is no <code>error_8</code> anywhere in your code. Also that&#39;s way too much code, please reduce it to a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> (and include the full stack trace)"}], "owner": {"reputation": 11, "user_id": 11162094, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-lO_9iSm2MO0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAuOjqwmOHCgtIW7VOaSRcWcnDpA/mo/photo.jpg?sz=128", "display_name": "Fernando Justiniano", "link": "https://stackoverflow.com/users/11162094/fernando-justiniano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551921100, "creation_date": 1551909267, "last_edit_date": 1551921100, "question_id": 55032773, "link": "https://stackoverflow.com/questions/55032773/attribute-error-table-instance-has-no-attribute-error-8", "title": "Attribute Error: Table instance has no attribute &#39;error 8&#39;", "body": "<p>I mostly work with Programmable Logic Controllers (PLCs), however, I was tasked with fixing a program that helps us with our calibration procedures. I get the following errors when running this code: </p>\n\n<blockquote>\n  <p>AttributeError: Table instance has no attribute 'error_8'</p>\n</blockquote>\n\n<p>I had to erase some of the code since it wouldn't allow me to post everything. I am fairly new to Python, so I may be unaware of some scope related issues that I may be encountering with attributes.</p>\n\n<pre><code>class Info(tk.Frame):\n\n    def __init__(self, master=None, inst_type='Standard'):\n\n        tk.Frame.__init__(self, master, bg='white', highlightbackground=\"black\",\n                          highlightcolor=\"black\", highlightthickness=1)\n\n        self.order = [['inst_type_label', 'inst_type'],\n                      ['barcode_label', 'barcode'],\n                      ['model_label', 'model'],\n                      ['serial_number_label', 'serial_number'],\n                      ['firmware_label', 'firmware'],]\n\n        self.format_labels(inst_type)\n        self.gen_geometry()\n\n\n    def load_values(self, data):\n\n        for i in data:\n\n            value = getattr(self, i)\n            value['text'] = data[i]\n\n    def clear_values(self):\n\n        for i, j in self.order:\n\n            value = getattr(self, j)\n            value['text'] = ''\n\n\n\nclass Table(tk.Frame):\n\n    def __init__(self, master=None):\n\n        tk.Frame.__init__(self, master, bg='white', highlightbackground=\"black\",\n                          highlightcolor=\"black\", highlightthickness=1)\n\n        self.cell_color = '#F5F5F5'\n        self.gen_table()\n\n    def gen_table(self, samples=5):\n\n        self.samples = samples\n\n        headers = [['setpoint', 'Setpoint\\n(%RH)'],\n                   ['sp_std', 'Standard\\nDeviation'],\n                   ['setpoint_tmp', 'Setpoint\\nTemperature\\n(C)'],\n                   ['spt_tmp_std', 'Standard\\nDeviation'],\n                   ['response', 'Response\\n(%RH)'],\n                   ['r_std', 'Standard\\nDeviation'],\n                   ['response_tmp', 'Response\\nTemperature\\n(C)'],\n                   ['r_tmp_std', 'Standard\\nDeviation'],\n                   ['error','Absolute\\nError\\n(%RH)'],\n                   ['error_tmp', 'Temperature\\nError (C)'],\n                   ['pass_fail','Pass/Fail'],]\n\n        col = 0\n        row = 0\n\n        for i, j in headers:\n\n            setattr(self, i, tk.Label(self, text=j, bg='#107dac', fg='white', font=font_label, padx=4, pady=4))       \n            val = getattr(self, i)\n\n            val.grid(column=col, row=row, sticky='ewsn')\n            col+=1\n\n        row += 1\n\n        self.table_names = ['s_rh', 's_rh_stdev',\n                            's_t',  's_t_stdev',\n                            'i_rh', 'i_rh_stdev',\n                            'i_t',  'i_t_stdev',\n                            'error','error_tmp',\n                            'criteria']\n\n        columns = range(self.samples+2)\n\n        for j in columns:\n\n            col = 0 \n\n            for i in self.table_names:\n\n                cell_name = i + '_' + str(j+1)\n\n                if j % 2 == 0:\n                    bg='white'\n                else:\n                    bg=self.cell_color\n\n                setattr(self, cell_name, tk.Label(self, bg=bg, font=font_value))       \n                val = getattr(self, cell_name)\n\n                val.grid(column=col, row=row, sticky='ewsn')\n\n                if j == columns[-2] and i == 's_rh':\n                    val.config(text='Maximum', font=font_label)\n\n                elif j == columns[-1] and i == 's_rh':\n                    val.config(text='Limit', font=font_label)\n\n\n                col += 1\n\n            row += 1\n\n    def delete_row(self, row):\n\n        if hasattr(self, self.table_names[0] + '_' + str(row)):\n\n            for name in self.table_names:\n\n                val = getattr(self, name + '_' + str(row))\n                val.destroy()\n\n            for i in range(row+1, self.samples+3):\n\n                for name in self.table_names:\n\n                    setattr(self,\n                            name + '_' + str(i-1),\n                            getattr(self, name + '_' + str(i)))\n\n                    delattr(self, name + '_' + str(i))\n\n            self.samples -= 1\n\n        else:\n            print 'row does not exitst'\n\n    def resize_tables(self, samples):\n\n        while self.samples + 2 &gt; 0:\n            self.delete_row(1)\n\n        self.gen_table(samples)\n\n\n    def restyle_rows(self):\n\n        for i in range(self.samples+2):\n\n            for name in self.table_names:\n\n                val = getattr(self, name + '_' + str(i+1))\n\n                if i % 2 == 0:\n                    bg='white'\n                else:\n                    bg=self.cell_color\n\n                val.config(bg=bg)\n\n\n    def insert_row(self, row):\n\n        total_rows = self.samples + row\n\n        while self.samples + 2 &gt; 0:\n            self.delete_row(1)\n\n        self.gen_table(total_rows)\n\n\n    def load_values(self, row, values):\n\n        for name in values:\n            val = getattr(self, name + '_' + str(row))\n            val['text'] = str(values[name])\n\n\nclass LineCheck(tk.Frame):\n\n    def __init__(self, master=None):\n\n        tk.Frame.__init__(self, master, bg='white', highlightbackground=\"black\",\n                          highlightcolor=\"black\", highlightthickness=1)\n        self.cell_color = '#F5F5F5'\n        self.gen_table()\n\n\n\n    def load_table(self, values):\n\n        self.a1_calculated['text'] = values['a1'][0]\n        self.a1_criteria['text'] = values['a1'][1]\n\n        self.x_calculated['text'] = values['|x-min*(a1-1)+a0|'][0]\n        self.x_criteria['text'] = values['|x-min*(a1-1)+a0|'][1]\n\n        self.see_calculated['text'] = values['SEE'][0]\n        self.see_criteria['text'] = values['SEE'][1]\n\n        self.r_squared_calculated['text'] = values['r_squared'][0]\n        self.r_squared_criteria['text'] = values['r_squared'][1]\n\n\nclass Buttons(tk.Frame):\n\n    def __init__(self, master=None):\n\n        tk.Frame.__init__(self, master, bg='white')\n        self.gen_button()\n\n    def gen_button(self):\n\n        self.warm = tk.Canvas(self, width=20, height=20,\n                              borderwidth=0, highlightthickness=0, bg=\"white\")\n        self.warm_item = self.warm.create_oval(1, 1, 19, 19, fill=\"grey\")\n\n        self.warm_label = tk.Label(self, text='Status', bg=\"white\", font=font_value, padx=8, pady=2)\n\n\n\n        self.start_button =  tk.Button(self, text='START',\n                            bg='#01796F', fg='white', font=font_label, pady=10, padx=20)\n\n        self.close_button = tk.Button(self, text='CLOSE', font=font_label,\n                                     pady=10, padx=20 )\n\n        self.warm.grid(column=0, row=0, pady=8)\n        self.warm_label.grid(column=1, row=0, pady=8, sticky='w')\n\n        self.start_button.grid(column=0, row=1, padx=8)\n        self.close_button.grid(column=1, row=1, padx=8)\n\n    def ready(self, ready):\n\n        if ready:\n            self.warm.itemconfig(self.warm_item, fill='green')\n            self.warm_label['text'] = 'Ready'\n\n        else:\n            self.warm.itemconfig(self.warm_item, fill='red')\n            self.warm_label['text'] = 'Warming up'\n\n    def stable(self, stable):\n\n        if stable:\n            self.warm.itemconfig(self.warm_item, fill='green')\n            self.warm_label['text'] = 'Taking data'\n\n        else:\n            self.warm.itemconfig(self.warm_item, fill='orange')\n            self.warm_label['text'] = 'Checking stability'\n\n    def error(self, error):\n\n        if error:\n            # This will not be used\n            self.warm.itemconfig(self.warm_item, fill='green')\n            self.warm_label['text'] = 'Ready'\n\n        else:\n            self.warm.itemconfig(self.warm_item, fill='red')\n            self.warm_label['text'] = 'Calibration failed!'\n\n\nclass Configuration(tk.Frame):\n\n    def __init__(self, master=None):\n\n        tk.Frame.__init__(self, master, bg='white', highlightbackground=\"black\",\n                          highlightcolor=\"black\", highlightthickness=1)\n\n        self.forms()\n\n    def forms(self):\n\n        self.load_fluke_usb()\n        self.load_inst_adacs()\n\n    def load_fluke_usb(self):\n\n        self.fluke_clear_usb()\n        self.fluke_clear_ts()\n        self.fluke_usb()\n\n    def load_fluke_ts(self):\n\n        self.fluke_clear_usb()\n        self.fluke_clear_ts()\n        self.fluke_ts()\n\n    def load_inst_adacs(self):\n\n        self.inst_clear_adacs()\n        self.inst_clear_ip()\n        self.inst_adacs()\n\n    def load_inst_ip(self):\n\n        self.inst_clear_adacs()\n        self.inst_clear_ip()\n        self.inst_ip()\n\n    def fluke_usb(self):\n\n        self.fluke_entry_var = tk.StringVar()\n\n        if os.name == 'nt':\n            self.fluke_entry_var.set('COM3')\n        else:\n            self.fluke_entry_var.set('/dev/ttyUSB0')\n\n        self.fluke_config = tk.Label(self, text='USB Port:',\n                                     bg='white', font=font_label, padx=8, pady=2)\n        self.fluke_entry = tk.Entry(self, textvariable=self.fluke_entry_var)\n\n        self.fluke_config.grid(row=0, column=0, sticky='W')\n        self.fluke_entry.grid(row=0, column=1)\n\n    def fluke_clear_usb(self):\n\n        if hasattr(self, 'fluke_entry_var'):\n            #self.fluke_entry_var.destroy()\n            delattr(self, 'fluke_entry_var')\n\n        if hasattr(self, 'fluke_config'):\n            self.fluke_config.destroy()\n            delattr(self, 'fluke_config')\n\n        if hasattr(self, 'fluke_entry'):\n            self.fluke_entry.destroy()\n            delattr(self, 'fluke_entry')\n\n    def fluke_ts(self):\n\n        self.entry_var_port = tk.StringVar()\n        self.entry_var_port.set('8001')\n        self.fluke_entry_var = tk.StringVar()\n        self.fluke_entry_var.set('TS')\n\n        self.fluke_config = tk.Label(self, text='Fluke TS IP:',\n                                     bg='white', font=font_label, padx=8, pady=2)\n        self.fluke_entry = tk.Entry(self, textvariable=self.fluke_entry_var)\n\n        self.fluke_config.grid(row=0, column=0, sticky='W')\n        self.fluke_entry.grid(row=0, column=1)\n\n        self.fluke_port = tk.Entry(self, textvariable=self.entry_var_port, width=5)\n        self.fluke_port.pack_propagate(0)\n        self.fluke_port.grid(row=0, column=2)\n\n    def fluke_clear_ts(self):\n\n        if hasattr(self, 'entry_var_port'):\n            #self.entry_var_port.destroy()\n            delattr(self, 'entry_var_port')\n\n        if hasattr(self, 'fluke_port'):\n            self.fluke_port.destroy()\n            delattr(self, 'fluke_port')\n\n        if hasattr(self, 'fluke_config'):    \n            self.fluke_config.destroy()\n            delattr(self, 'fluke_config')\n\n        if hasattr(self, 'fluke_entry'):\n            self.fluke_entry.destroy()\n            delattr(self, 'fluke_entry')\n\n    def inst_adacs(self):\n\n        self.adacs_rh_var = tk.StringVar()\n        self.adacs_tmp_var = tk.StringVar()\n\n        self.adacs_rh_var.set(\"vaisala.RH\")\n        self.adacs_tmp_var.set(\"vaisala.Temp\")\n\n        self.adacs_rh_label = tk.Label(self, text='ADACS RH pt.:',\n                                    bg='white', font=font_label, padx=8, pady=2)\n        self.adacs_rh =  tk.Entry(self, textvariable=self.adacs_rh_var)\n\n        self.adacs_tmp_label = tk.Label(self, text='ADACS Tmp pt.:',\n                                        bg='white', font=font_label, padx=8, pady=2)\n        self.adacs_tmp = tk.Entry(self, textvariable=self.adacs_tmp_var)\n\n        self.adacs_rh_label.grid(row=1, column=0, sticky='W')\n        self.adacs_rh.grid(row=1, column=1)\n\n        self.adacs_tmp_label.grid(row=2, column=0, sticky='W')\n        self.adacs_tmp.grid(row=2, column=1)\n\n    def inst_clear_adacs(self):\n\n        if hasattr(self, 'adacs_rh_var'):\n            #self.adacs_rh_var.destroy()\n            delattr(self, 'adacs_rh_var')\n\n        if hasattr(self, 'adacs_tmp_var'):\n            #self.adacs_tmp_var.destroy()\n            delattr(self, 'adacs_tmp_var')\n\n        if hasattr(self, 'adacs_rh_label'):\n            self.adacs_rh_label.destroy()\n            delattr(self, 'adacs_rh_label')\n\n        if hasattr(self, 'adacs_rh'):\n            self.adacs_rh.destroy()\n            delattr(self, 'adacs_rh')\n\n        if hasattr(self, 'adacs_tmp_label'):\n            self.adacs_tmp_label.destroy()\n            delattr(self, 'adacs_tmp_label')\n\n        if hasattr(self, 'adacs_tmp'):\n            self.adacs_tmp.destroy()\n            delattr(self, 'adacs_tmp')\n\n    def inst_ip(self):\n\n        self.inst_entry_var = tk.StringVar()\n        self.inst_entry_var_port = tk.StringVar()\n        self.inst_entry_var_port.set('23')\n\n        self.inst_config = tk.Label(self, text='Inst. IP', bg='white', font=font_label, padx=8, pady=2)\n        self.inst_entry = tk.Entry(self, textvariable=self.inst_entry_var)\n        self.inst_entry_port = tk.Entry(self, textvariable=self.inst_entry_var_port, width=5)\n\n        self.inst_config.grid(row=1, column=0, sticky='W')\n        self.inst_entry.grid(row=1, column=1)\n        self.inst_entry_port.pack_propagate(0)\n        self.inst_entry_port.grid(row=1, column=2)\n\n    def inst_clear_ip(self):\n\n        if hasattr(self, 'inst_entry_var'):\n            #self.inst_entry_var.destroy()\n            delattr(self, 'inst_entry_var')\n\n        if hasattr(self, 'inst_entry_var'):\n            #self.inst_entry_var_port.destroy()\n            delattr(self, 'inst_entry_var')\n\n        if hasattr(self, 'inst_config'):\n            self.inst_config.destroy()\n            delattr(self, 'inst_config')\n\n        if hasattr(self, 'inst_entry'):\n            self.inst_entry.destroy()\n            delattr(self, 'inst_entry')\n\n        if hasattr(self, 'inst_entry_port'):\n            self.inst_entry_port.destroy()\n            delattr(self, 'inst_entry_port')\n\nclass Filler(tk.Frame):\n\n    def __init__(self, master=None, t_width=65):\n\n        tk.Frame.__init__(self, master, bg='white')\n\n        self.label = tk.Label(self, text='', bg='white', width=t_width)\n        self.label.grid(row=0,column=0)\n\n\nclass HUMICAL:\n\n    def __init__(self):\n\n        self.root = tk.Tk()\n        self.root.configure(background='white', padx=8, pady=8)\n        self.root.title(\"HUMICAL V-0.2\")\n\n        # Setup frame layout\n        self.standard = Info(master=self.root, inst_type='Standard')\n        self.instrument = Info(master=self.root, inst_type='Instrument')\n        self.controls = Controls(master=self.root)\n        self.buttons = Buttons(master=self.root)\n        self.table = Table(master=self.root)\n        self.filler = Filler(master=self.root)\n        self.configuration = Configuration(master=self.root)\n\n        self.controls.pack_propagate(0)\n        self.controls.grid(  column=0, row=0, padx=4, pady=4, sticky='n')\n        self.configuration.grid(column=0, row=1,  padx=4, pady=4, sticky='nw')\n        self.buttons.grid(   column=0, row=2, padx=4, pady=4, sticky='w')\n        self.standard.grid(  column=1, row=0, padx=4, pady=4, sticky='w')\n        self.instrument.grid(column=2, row=0, padx=4, pady=4)\n        self.filler.pack_propagate(0)\n\n        self.filler.grid(column=3, row=0, padx=4, pady=4)\n        self.table.grid(column=1, row=1, columnspan=3, rowspan=2, padx=4, pady=4)\n\n        self.root.bind(\"&lt;&lt;GLin&gt;&gt;\", self.gen_lin_check)\n        self.root.bind(\"&lt;&lt;DLin&gt;&gt;\", self.del_lin_check)\n\n        self.buttons.start_button.configure(command=self.start)\n\n        # remove adacs as an option for instrument\n        if 'adacs' not in sys.modules:\n            self.controls.inst_conn.set('TCP/IP')\n            self.controls.update_inst_settings('TCP/IP')\n\n        self.root.mainloop()\n\n\n    def gen_lin_check(self, value):\n\n        self.lin_checks = LineCheck(master=self.root)\n        self.lin_checks.grid(column=1, row=3, padx=4, pady=4, columnspan=3, sticky='w')\n\n        self.filler_bottom = Filler(master=self.root, t_width=20)\n        self.filler_bottom.pack_propagate(0)        \n        self.filler_bottom.grid(column=0, row=3, padx=4, pady=4)\n\n\n    def del_lin_check(self, value):\n\n        if hasattr(self, 'lin_checks'):\n\n            self.lin_checks.destroy()\n            self.filler_bottom.destroy()\n            delattr(self, 'lin_checks')\n            delattr(self, 'filler_bottom')\n\n    def start(self):\n\n        self.thread = Thread(target=self.run)\n        self.thread.start()\n\n    def run(self):\n\n        # Load meta data\n        self.load()\n\n        # Run As Found\n        self.calibrate()\n        self.RH_Cal.generate_report('As Found')\n\n        # If as found failed\n        if not self.RH_Cal.last_cal_pass:\n\n            # Wait for the adjustment mode to be switched on\n            tkMessageBox.showinfo(\n                \"Failed\", \n                \"Open the transmitter and switch on the adjustment mode\")\n\n            # Calibrate Vaisala Unit\n            try:\n                self.RH_Cal.update_instrument()\n\n            except:\n\n                tkMessageBox.showinfo(\"Error\", \"Retry Calibration\")\n\n                self.RH_Cal.instrument.cal_mode = False\n                del self.RH_Cal.instrument.conn\n\n                self.RH_Cal.update_instrument()\n\n            # Wait for the adjustment mode to be switched off\n            tkMessageBox.showinfo(\n                \"Ready\", \n                \"Switch off adjusment mode and close the transmitter\")\n\n            self.clear_table()\n\n            # Re-Run Calibration\n            self.calibrate()\n            self.RH_Cal.generate_report('New Calibration')\n\n        # Set setpoint low\n        self.RH_Cal.fluke.set(15)\n\n        tkMessageBox.showinfo(\n                \"Complete\", \n                \"Calibration finished\")\n\n        self.RH_Cal.close()\n\n        self.controls.cal_type_menu.config(state='enable')\n        self.controls.stnd_conn_menu.config(state='enable')\n        self.controls.inst_conn_menu.config(state='enable')\n\n\n    def load(self):\n\n        stnd_conn_type = self.controls.fluke_conn.get()\n        ubs_port = self.configuration.fluke_entry_var.get()\n\n        inst_conn_type = self.controls.inst_conn.get()\n\n        if 'adacs' in inst_conn_type.lower():\n            adacs= True\n            inst_ip = []\n\n        else:\n            adacs = False\n            inst_ip = [self.configuration.inst_entry_var.get(),\n                       self.configuration.inst_entry_var_port.get()]\n\n        # Initiate calibrator\n        self.RH_Cal =  RH_Cal('',\n                    conn_type=[stnd_conn_type, ubs_port],\n                    adacs=adacs, inst_ip=inst_ip)\n\n        # Load metadata\n        stnd = {'barcode':self.RH_Cal.fluke.meta_data['serial_number'],\n                'model':self.RH_Cal.fluke.meta_data['brand'] \\\n                        + ' ' +\\\n                        self.RH_Cal.fluke.meta_data['model'],\n                'serial_number':self.RH_Cal.fluke.meta_data['serial_number'],\n                'firmware':self.RH_Cal.fluke.meta_data['firmware'],}\n\n        inst = {'barcode':self.RH_Cal.instrument.meta_data['serial_number'],\n                'model':self.RH_Cal.instrument.meta_data['model'],\n                'serial_number':self.RH_Cal.instrument.meta_data['serial_number'],\n                'firmware':self.RH_Cal.instrument.meta_data['firmware'],}\n\n        self.standard.load_values(stnd)\n        self.instrument.load_values(inst)\n\n        # Check if standard is ready\n        self.buttons.ready(self.RH_Cal.fluke.ready)\n\n        # Turn on controls back on\n        self.controls.cal_type_menu.config(state='disable')\n        self.controls.stnd_conn_menu.config(state='disable')\n        self.controls.inst_conn_menu.config(state='disable')\n\n    def calibrate(self):\n\n        # Check ready status\n        time.sleep(1)\n        self.buttons.ready(self.RH_Cal.fluke.ready)\n\n        # Do not calibrate until the fluke is warm\n        while not self.RH_Cal.fluke.ready:\n\n            time.sleep(30)\n\n        # Change ready status\n        self.buttons.ready(self.RH_Cal.fluke.ready)\n\n        type_of_cal = self.controls.cal_type.get()\n\n        if 'standard' in type_of_cal:\n            cal_points = 5\n\n        else:\n            cal_points = 10\n\n        # Initiate calibrations\n        self.RH_Cal.calibrate(cal_points=cal_points)\n\n        # Tell gui if its stable\n        self.S = Thread(target=self.check_stability)\n        self.S.start()\n\n        # Cycle through every set point\n        while self.RH_Cal.cal_index &lt;= self.RH_Cal.cal_points-1:\n\n            # Run one calibration cycle\n            self.RH_Cal.cal_point()\n\n            # Store data in dict format to upload to gui\n            val = {'s_rh':self.RH_Cal.calibration['setpoint'][-1],\n                   's_rh_stdev':self.RH_Cal.calibration['setpoint_stdv'][-1],\n                   's_t':self.RH_Cal.calibration['setpoint_tmp'][-1],\n                   's_t_stdev':self.RH_Cal.calibration['setpoint_tmp_stdv'][-1],\n                   'i_rh':self.RH_Cal.calibration['response'][-1],\n                   'i_rh_stdev':self.RH_Cal.calibration['response_stdv'][-1],\n                   'i_t':self.RH_Cal.calibration['response_tmp'][-1],\n                   'i_t_stdev':self.RH_Cal.calibration['response_tmp_stdv'][-1],\n                   'error':self.RH_Cal.calibration['error'][-1],\n                   'error_tmp':self.RH_Cal.calibration['t_error'][-1],\n                   'criteria':self.RH_Cal.calibration['pass/fail'][-1]}\n\n            # Load values into tables\n            self.table.load_values(self.RH_Cal.cal_index, val)\n\n        # Find maximum errors\n        self.RH_Cal.find_max()\n\n        # Retrieve maximum tolerances \n        val_max = {'s_rh_stdev':self.RH_Cal.max_error['setpoint_stdv'],\n                   's_t_stdev':self.RH_Cal.max_error['setpoint_tmp_stdv'],\n                   'i_rh_stdev':self.RH_Cal.max_error['response_stdv'],\n                   'i_t_stdev':self.RH_Cal.max_error['response_tmp_stdv'],\n                   'error':self.RH_Cal.max_error['error'],\n                   'error_tmp':self.RH_Cal.max_error['t_error'],}\n\n        # Load tolerances into table\n        self.table.load_values(self.RH_Cal.cal_index+1, val_max)\n\n        # Retrieve limits\n        val_limit = {'s_rh_stdev':self.RH_Cal.maximum_specs['stimulus_stdv'],\n                     's_t_stdev':self.RH_Cal.maximum_specs['stimulus_tmp_stdv'],\n                     'i_rh_stdev':self.RH_Cal.maximum_specs['response_stdv'],\n                     'i_t_stdev':self.RH_Cal.maximum_specs['response_tmp_stdv'],\n                     'error':self.RH_Cal.maximum_specs['error'],\n                     'error_tmp':self.RH_Cal.maximum_specs['t_error'],}\n\n        # Load limits into table\n        self.table.load_values(self.RH_Cal.cal_index+2, val_limit)\n\n        if cal_points == 10:\n\n            # Run the linearity checks\n            self.RH_Cal.lin_check()\n\n            val_lin = {'a1'               :[round(self.RH_Cal.lin_check_results['data']['a1y'],3),\n                                            'pass' if self.RH_Cal.lin_check_results['checks']['a1'] else 'fail'],\n                       '|x-min*(a1-1)+a0|':[round(self.RH_Cal.lin_check_results['data']['|x-min*(a1-1)+a0|'],3),\n                                            'pass' if self.RH_Cal.lin_check_results['checks']['|x-min*(a1-1)+a0|'] else 'fail'],\n                       'SEE'              :[round(self.RH_Cal.lin_check_results['data']['SEE'],3),\n                                            'pass' if self.RH_Cal.lin_check_results['checks']['SEE'] else 'fail'],\n                       'r_squared'        :[round(self.RH_Cal.lin_check_results['data']['r_squared'],4),\n                                            'pass' if self.RH_Cal.lin_check_results['checks']['r_squared'] else 'fail'],}\n\n            # Load linearity checks into table\n            self.lin_checks.load_table(val_lin)\n\n\n    def check_stability(self):\n\n        # Check stabilization while the cal is not finished\n        while self.RH_Cal.cal_index &lt;= self.RH_Cal.cal_points-1 and self.thread.isAlive():\n            self.buttons.stable(self.RH_Cal.stable)\n            time.sleep(1)\n\n        # Check if thread died prematurely\n        if self.RH_Cal.cal_index &lt;= self.RH_Cal.cal_points-1 and not self.thread.isAlive():\n            self.buttons.error(self.thread.isAlive())\n</code></pre>\n"}, {"tags": ["python", "excel", "pandas", "csv"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551909272, "post_id": 55032757, "comment_id": 96818098, "body": "What is <code>len(df)</code> print? Assuming this is your actual problem..."}, {"owner": {"reputation": 77, "user_id": 10071193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481e9cc5f55bfb9d3dc6dcb4a12ca1ec?s=128&d=identicon&r=PG&f=1", "display_name": "RandomDev", "link": "https://stackoverflow.com/users/10071193/randomdev"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551910025, "post_id": 55032757, "comment_id": 96818399, "body": "It says the length is 3, but there 4 values in that column. Header and 3 values beneath"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551910059, "post_id": 55032757, "comment_id": 96818412, "body": "Then you will not get a &quot;ValueError: Length of values does not match length of index.&quot; there is either something wrong with your code or your data."}, {"owner": {"reputation": 77, "user_id": 10071193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481e9cc5f55bfb9d3dc6dcb4a12ca1ec?s=128&d=identicon&r=PG&f=1", "display_name": "RandomDev", "link": "https://stackoverflow.com/users/10071193/randomdev"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551963470, "post_id": 55032757, "comment_id": 96839286, "body": "Figured it out, it was a whitespace error."}], "owner": {"reputation": 77, "user_id": 10071193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/481e9cc5f55bfb9d3dc6dcb4a12ca1ec?s=128&d=identicon&r=PG&f=1", "display_name": "RandomDev", "link": "https://stackoverflow.com/users/10071193/randomdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551909190, "creation_date": 1551909190, "question_id": 55032757, "link": "https://stackoverflow.com/questions/55032757/python-use-pandas-to-overwrite-csv-column-with-list", "title": "Python - Use pandas to overwrite CSV column with list", "body": "<p>So I have an Excel file with two columns, Fruit Name and Price. In the Fruit Name column, I have three variables which I want to overwrite with the following values: apple, banana, cherry. </p>\n\n<p>My code is below, when I try and do this I get the error ValueError: Length of values does not match length of index. Even though there is three items in the column. Can anyone help?</p>\n\n<p>Code:</p>\n\n<pre><code>import pandas as pd\nimport csv\ndf = pd.read_csv('test.csv')\ndf['Col A'] = [\"apple\", \"banana\", \"cherry\"]\n</code></pre>\n"}, {"tags": ["python", "parsing", "text"], "comments": [{"owner": {"reputation": 191, "user_id": 11156437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac35c9be5e324315c19dd781094b532f?s=128&d=identicon&r=PG&f=1", "display_name": "jmiguel", "link": "https://stackoverflow.com/users/11156437/jmiguel"}, "edited": false, "score": 0, "creation_date": 1551910489, "post_id": 55032732, "comment_id": 96818559, "body": "<a href=\"https://pypi.org/project/plantuml/\" rel=\"nofollow noreferrer\">pypi.org/project/plantuml</a> Have you seen this?"}, {"owner": {"reputation": 850, "user_id": 1168628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ff73593a0f5582ef9129c5a323245175?s=128&d=identicon&r=PG", "display_name": "Hightower", "link": "https://stackoverflow.com/users/1168628/hightower"}, "reply_to_user": {"reputation": 191, "user_id": 11156437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac35c9be5e324315c19dd781094b532f?s=128&d=identicon&r=PG&f=1", "display_name": "jmiguel", "link": "https://stackoverflow.com/users/11156437/jmiguel"}, "edited": false, "score": 0, "creation_date": 1551912055, "post_id": 55032732, "comment_id": 96819092, "body": "Thank you!. I did not look at that. I think it will help to move from UML form back to PlantUML syntax, however, i dont think it will help for the reverse."}], "owner": {"reputation": 850, "user_id": 1168628, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/ff73593a0f5582ef9129c5a323245175?s=128&d=identicon&r=PG", "display_name": "Hightower", "link": "https://stackoverflow.com/users/1168628/hightower"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551909061, "creation_date": 1551909061, "last_edit_date": 1592644375, "question_id": 55032732, "link": "https://stackoverflow.com/questions/55032732/writing-code-to-read-commands-from-a-file-understanding-markup-style-strings-u", "title": "Writing code to read commands from a file - understanding markup style strings using Python", "body": "<p>I would like to write a program to read a psudoocode style text file that reads structured commands in a text file and &quot;understands&quot; the logic written in the file.  Specifically, I would like to convert <a href=\"http://plantuml.com/sequence-diagram\" rel=\"nofollow noreferrer\">PlantUML</a> syntax, into a UML style definition for certain files (specifically a sequence diagram)</p>\n<p>the typical file would look like this:</p>\n<pre><code>@startuml\nAlice -&gt; Bob: Authentication Request\nBob --&gt; Alice: Authentication Response\n\nAlice -&gt; Bob: Another authentication Request\nAlice &lt;-- Bob: Another authentication Response\n@enduml\n</code></pre>\n<p>As per the PlantUML spec, there are many conditions for this file (syntax and language wise) -- but I plan to read this file, and interface through the Standard API of a specific UML tool, to draw the diagram in that particular tool.</p>\n<p>I am stuck as to HOW i would apply logic to understand the logic, given instructions could be on multi-line, and some commands could have html injected into the word, as an example,\n<code>Alice -[#0000FF]-&gt;Bob : ok</code></p>\n<p>I have tried some initial attempts, and am happy to post my attempt, however, the question is rather if there are any standard frameworks to break this logic down -- do I just implement many &quot;case&quot; style statements and execute a function for each case?</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras", "data-science"], "answers": [{"comments": [{"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551925382, "post_id": 55033092, "comment_id": 96822510, "body": "Still same issue.. Got any ideas?"}, {"owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "reply_to_user": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551955733, "post_id": 55033092, "comment_id": 96834701, "body": "@HenryHub can you execute python -c &quot;import numpy.core._multiarray_umath&quot; what output you get. if you get error your numpy 1.16.1 installation is incorrect."}, {"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 1, "creation_date": 1551969765, "post_id": 55033092, "comment_id": 96843211, "body": "On my Windows 10 laptop I did the <code>pip install --upgrade numpy==1.16.1</code> in both 3.6 python &amp; anaconda 3.7 . In IDLE 3.6, the shell command prompt this appears to import without any problems <code>&gt;&gt;&gt; import numpy.core._multiarray_umath</code> but in IPython 3.7, Im getting a ` ------------------------------------------------------------&zwnj;&#8203;--------------- ModuleNotFoundError                       Traceback (most recent call last) &lt;ipython-input-1-8d3c7ed14171&gt; in &lt;module&gt;() ----&gt; 1 import numpy.core._multiarray_umath  ModuleNotFoundError: No module named &#39;numpy.core._multiarray_umath&#39;`"}, {"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551970195, "post_id": 55033092, "comment_id": 96843507, "body": "Is it easiest to ditch the IPython anaconda route and just use ordinary (my limited understanding of software) Python (IDLE)? When I run the code in 3.6 IDLE, I am getting a <code>ValueError: Cannot create group in read only mode.</code> But researching online there is a Keras git issue (link below) for this and I think the fix from reading this is to ` solved it by manually defining the architecture and then loading the weights.` Any tips on how to move forward in a direction would be greatly appreciated. How would I manually define the architecture on this route?"}, {"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551970209, "post_id": 55033092, "comment_id": 96843521, "body": "<a href=\"https://github.com/michalfaber/keras_Realtime_Multi-Person_Pose_Estimation/issues/100\" rel=\"nofollow noreferrer\">github.com/michalfaber/&hellip;</a>"}, {"owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551970520, "post_id": 55033092, "comment_id": 96843704, "body": "This link is a git gist of my code in Keras, its a simple regression application. <a href=\"https://gist.github.com/bbartling/472d27bf523b46e6321a362b08b394be\" rel=\"nofollow noreferrer\">gist.github.com/bbartling/472d27bf523b46e6321a362b08b394be</a>"}, {"owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "reply_to_user": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "edited": false, "score": 0, "creation_date": 1551988677, "post_id": 55033092, "comment_id": 96853584, "body": "are you sure youre installing package right? pls look at that <a href=\"https://docs.conda.io/projects/conda/en/latest/user-guide/tasks/manage-pkgs.html\" rel=\"nofollow noreferrer\">docs.conda.io/projects/conda/en/latest/user-guide/tasks/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1160, "user_id": 10809912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JKD6.jpg?s=128&g=1", "display_name": "Rifat Alptekin &#199;etin", "link": "https://stackoverflow.com/users/10809912/rifat-alptekin-%c3%87etin"}, "is_accepted": false, "score": 0, "last_activity_date": 1551989049, "last_edit_date": 1551989049, "creation_date": 1551910801, "answer_id": 55033092, "question_id": 55032687, "link": "https://stackoverflow.com/questions/55032687/run-keras-model-h5-on-windows-10/55033092#55033092", "title": "Run keras model (.h5) on Windows 10", "body": "<p>idk actualy what is anaconda but anaconda users's path where python files stored not looks healty and almost all anaconda users's path looks different</p>\n\n<p>but this error causes numpy version probably youre using numpy 1.15 wich doesnot have <code>numpy.core._multiarray_umath</code>. upgrading numpy to 1.16 hopfuly solve error</p>\n\n<pre><code>pip install --upgrade numpy==1.16.1\n</code></pre>\n\n<p>after installation run <code>python -c \"import numpy.core._multiarray_umath\"</code> if you get error you have a problem with numpy installation.</p>\n\n<p>edit) package installation for anaconda:</p>\n\n<ul>\n<li><p>for current environment:</p>\n\n<p>conda install numpy=1.16.1</p></li>\n<li><p>for spesific environment:</p>\n\n<p>conda install numpy=1.16.1 -n python37_environment</p></li>\n</ul>\n"}], "owner": {"reputation": 2015, "user_id": 8372455, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7937214051961aa38cd1b42a16a599d0?s=128&d=identicon&r=PG&f=1", "display_name": "HenryHub", "link": "https://stackoverflow.com/users/8372455/henryhub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1251, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551989049, "creation_date": 1551908825, "last_edit_date": 1551983397, "question_id": 55032687, "link": "https://stackoverflow.com/questions/55032687/run-keras-model-h5-on-windows-10", "title": "Run keras model (.h5) on Windows 10", "body": "<p>I trained a model in keras on a Linux platform and saved the model with a <code>model.save_weights(\"demandFinal.h5\")</code></p>\n\n<p>And then I was hoping to take my complete saved model to IPython on my Windows 10 laptop running Anaconda 3.7 and use it with:</p>\n\n<pre><code>from keras.models import load_model\n\n# load weights into new model\nloaded_model.load_weights(\"demandFinal.h5\")\nprint(\"Loaded model from disk\")\n</code></pre>\n\n<p>But I am running into some issues.. First I forgot Keras wasn't installed so I did a <code>!pip install keras</code> no problems. Then <code>!pip install Tensorflow</code> whether that was needed or not..</p>\n\n<p>Now I have a numpy error:</p>\n\n<p><code>ImportError: numpy.core.umath failed to import</code></p>\n\n<p>After some research online, I did a <code>pip install -U numpy</code> which installed that package... But I still have the same issue.. When I run the <code>load_model</code> in IPython anaconda 3.7, this will cause the kernel to crash/restart. Full traceback:</p>\n\n<pre><code>C:\\Users\\bbartling\\Desktop\\EC\n\nUsing TensorFlow backend.\n\n---------------------------------------------------------------------------\nModuleNotFoundError                       Traceback (most recent call last)\nModuleNotFoundError: No module named 'numpy.core._multiarray_umath'\n\n\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\nImportError: numpy.core.multiarray failed to import\n\nThe above exception was the direct cause of the following exception:\n\nSystemError                               Traceback (most recent call last)\nC:\\ProgramData\\Anaconda3\\lib\\importlib\\_bootstrap.py in _find_and_load(name, import_)\n\nSystemError: &lt;class '_frozen_importlib._ModuleLockManager'&gt; returned a result with an error set\n\n\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\nImportError: numpy.core._multiarray_umath failed to import\n\n\n---------------------------------------------------------------------------\nImportError                               Traceback (most recent call last)\nImportError: numpy.core.umath failed to import\n</code></pre>\n\n<p>Hopefully I didn't screw up my anaconda installation... But would anyone have any tips to try? Sorry not a lot of wisdom here... But maybe there is a better way to save the model as json or yml file to the process I was hoping run the model on a Windows machine after the training... </p>\n\n<p>Do utilize a deep learning model on a Windows machine do I need the deep learning libraries installed? I was hoping to not have to install Tensorflow</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>See this follow up <a href=\"https://stackoverflow.com/questions/55050339/keras-prediction-nonetype-object-has-no-attribute-predict?noredirect=1#comment96850733_55050339\">SO post</a> as final solution</p>\n"}, {"tags": ["python", "python-3.x", "class", "inheritance"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 3, "creation_date": 1551908913, "post_id": 55032685, "comment_id": 96817934, "body": "Your expectation is weird/bad.  <code>Child()</code> was created without any name and age, why should it re-use data from some otherwise unrelated instance?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1551908947, "post_id": 55032685, "comment_id": 96817953, "body": "You didn&#39;t pass a name or age when creating an instance of <code>Child</code>, so naturally that instance does not have a name or age."}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1551908967, "post_id": 55032685, "comment_id": 96817961, "body": "You need to pass the same arguments to Child as you do for Parent."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 2, "creation_date": 1551909114, "post_id": 55032685, "comment_id": 96818020, "body": "Suppose you have two objects <code>p1 = Parent(name=&quot;Derek&quot;, age=22)</code> and <code>p2 = Parent(name=&quot;Donna&quot;, age=21)</code>. Which values would you expect <code>Child()</code> to inherit? Inheritance applies to name lookups within the <i>class</i> hierarchy, not relationships between individual <i>instances</i> of those classes."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551909240, "post_id": 55032685, "comment_id": 96818079, "body": "@chepner, how can my child inherit the parent&#39;s value then? I have updated the code. I need to do something like this."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1551909269, "post_id": 55032685, "comment_id": 96818093, "body": "@wim, i have updated the code, i need to use it in such way"}, {"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 2, "creation_date": 1551909297, "post_id": 55032685, "comment_id": 96818110, "body": "You should avoid using <code>**kwargs</code> for now. It seems to obscure your understanding of what is going on."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 0, "creation_date": 1551909412, "post_id": 55032685, "comment_id": 96818152, "body": "@mkrieger1, how can I get the parent&#39;s value on the child class then? my parent class are called in the first place, then trigger the child class. So parent class variable with assigned value needs to be shared with child class"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551909447, "post_id": 55032685, "comment_id": 96818160, "body": "It can&#39;t; you have to <i>tell</i> <code>Child</code> which parent to use. <code>res2 = Child(res)</code>, with <code>Child.__init__</code> updated appropriately. Inheritance means that if <code>Parent</code> defines a method like <code>def eat(self, food)</code>, then <code>res2.eat(&quot;apple&quot;)</code> inherits the definition of the <code>eat</code> method, not that any particular <code>Parent</code> instance is involved in the eating process."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1551909509, "post_id": 55032685, "comment_id": 96818191, "body": "I can&#39;t tell for sure, but it seems to me like you are confusing classes and instances of classes. which are very different things."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551909666, "post_id": 55032685, "comment_id": 96818249, "body": "@chepner, why is the self.year value show up at Child class then?"}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551909879, "post_id": 55032685, "comment_id": 96818341, "body": "@martineau, I don&#39;t understand why self.name and self.age returns None in Child class while self.year shows 1994 in child class while both are initialized in init parent class"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1551910092, "post_id": 55032685, "comment_id": 96818420, "body": "@DerekLee Because you called the parent class&#39;s <code>__init__</code> method to set <code>self.name</code>, <code>self.age</code>, and <code>self.year</code>. As I noted in my answer, this is a weird hierarchy that doesn&#39;t really model real-word child/parent relationships."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551910324, "post_id": 55032685, "comment_id": 96818506, "body": "Classes for the most part don&#39;t contain data, they consist mainly of code and methods (functions) so they&#39;re more like code templates than anything else. Thus it&#39;s fairly meaningless to say a class inherits data from another class (whether that other class is a parent class or not). See the Wikipedia article on <a href=\"https://en.wikipedia.org/wiki/Object-oriented_programming\" rel=\"nofollow noreferrer\">Object-Oriented Programming</a>."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1551910907, "post_id": 55032685, "comment_id": 96818689, "body": "@martineau.. thanks for your advice. I got it finally :)"}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "edited": false, "score": 0, "creation_date": 1551910701, "post_id": 55032924, "comment_id": 96818626, "body": "Thanks for your answer, I think the main point of your answer here is to pass the parent class to child class.  c = Child(&quot;Didi&quot;, 9, p)"}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "edited": false, "score": 0, "creation_date": 1551910805, "post_id": 55032924, "comment_id": 96818655, "body": "I still got to stick with **kwargs since my organization is using it. However, what I do is as below:  <code>c = Child(parent_class = p)</code> and then process it with <code>p = kwargs.get(parent_class,None)</code> and then go with <code>self.parent_name = p.name</code>"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "edited": false, "score": 2, "creation_date": 1551910928, "post_id": 55032924, "comment_id": 96818694, "body": "<code>parent</code>, not <code>parent_class</code>. <code>p</code> is an <i>instance</i> of <code>Parent</code>, not the class itself. Seriously, make sure someone at your organization does code review on whatever you are writing, because you don&#39;t seem to have a firm enough grasp of the basics to be writing anything on your own."}, {"owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "edited": false, "score": 0, "creation_date": 1551911068, "post_id": 55032924, "comment_id": 96818741, "body": "opps..got it. Yea, there&#39;s a senior..but he&#39;s away for now. So seeking help on here"}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 1, "last_activity_date": 1551910841, "last_edit_date": 1551910841, "creation_date": 1551910000, "answer_id": 55032924, "question_id": 55032685, "link": "https://stackoverflow.com/questions/55032685/child-class-inherit-parent-class-self-variable/55032924#55032924", "title": "Child class inherit Parent class self.variable", "body": "<p>Inheritance, roughly speaking, deals with class-level concepts. Consider this parent class:</p>\n\n<pre><code>class Parent(object):\n    def __init__(self, name, age):\n        self.name = name\n        self.age = age\n        self.year = '1995'\n\n    def eat(self, food):\n        print(\"I ate {}\".format(food))\n</code></pre>\n\n<p>Now consider this child class:</p>\n\n<pre><code>class Child(Parent):\n    def __init__(self, name, age, p):\n        super().__init__(name, age)\n        self.parent_name = p.name\n        self.parent_age = p.age\n        self.parent_year = p.year\n        # Or, since you can already access the name, age, and year of\n        # an instance of Parent, just save the instance directly:\n        self.parent = p\n</code></pre>\n\n<p>Then you could write</p>\n\n<pre><code>p = Parent(\"Derek\", 22)\nc = Child(\"Didi\", 9, p)\n</code></pre>\n\n<p>Now <code>c.parent_name == \"Derek\"</code> and <code>c.parent_age == 22</code>, but <code>c.name == \"Didi\"</code> and <code>c.age == 9</code>. You explicitly <em>told</em> <code>Child</code> who the parent of Didi was; inheritance is not involved. (Inheritance <em>is</em> involved in setting the <code>name</code> and <code>age</code> attributes, since you call <code>super().__init__</code>, but this is kind of a weird class hierarchy. <code>Child</code> is a child class of <code>Parent</code>, but that doesn't really model the real world very well: not all children are parents.)</p>\n\n<p>Where inheritance comes in is with the <code>eat</code> method. There is no <code>Child.eat</code> method, so when you call <code>c.eat(\"apple\")</code>, what happens is <code>Parent.eat</code> gets called with a <code>Child</code> instance as its first argument.</p>\n\n<pre><code>&gt;&gt;&gt; p.eat(\"apple\")\n\"I ate apple\"\n&gt;&gt;&gt; c.eat(\"apple\")\n\"I ate apple\"\n</code></pre>\n\n<hr>\n\n<p>Inheritance should be used to model \"is-a\" relationships; if <code>B</code> inherits from <code>A</code>, then for all intents and purposes an instance of <code>B</code> should be usable anywhere an instance of <code>A</code> is usable. Your use here violates that; a <code>Child</code> <em>has</em> a parent, but is not necessarily a parent itself, and so <code>Child</code> should not inherit from <code>Parent</code>. A more sane modeling would involve just one class:</p>\n\n<pre><code>class Person:\n    def __init__(self, name, age, parents=None):\n        self.name = name\n        self.age = age\n        self.parents = parents\n\n# We've lost the genealogical records, and don't know who\n# Bob and Alice's parents were.\nfirst_man = Person(\"Alice\", 25)\nfirst_woman = Person(\"Bob\", 25)\nchildren = [\n    Person(\"Charlie\", 15, [first_man, first_woman]),\n    Person(\"Derek\", 13, [first_man, first_woman])\n]\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 6676960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GanDw.jpg?s=128&g=1", "display_name": "Derek Lee", "link": "https://stackoverflow.com/users/6676960/derek-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 55032924, "answer_count": 1, "score": -1, "last_activity_date": 1551910841, "creation_date": 1551908819, "last_edit_date": 1551909150, "question_id": 55032685, "link": "https://stackoverflow.com/questions/55032685/child-class-inherit-parent-class-self-variable", "title": "Child class inherit Parent class self.variable", "body": "<p>I am not sure if this questions has been asked as I can't see any similar issues.</p>\n\n<p>Below are my issues:</p>\n\n<pre><code>class Parent(object):\n    def __init__(self,**kwargs):\n        self.name = kwargs.get('name',None)\n        self.age = kwargs.get('age',None)\n        self.year = '1995'\n        print(self.name,self.age,self.year)\n\nclass Child(Parent):\n    def __init__(self,**kwargs):\n        super().__init__(**kwargs)\n        self.parent_name = self.name\n        self.parent_age = self.age\n        self.parent_year = self.year\n        print(\"Parent Details: \",self.parent_name,self.parent_age,self.parent_year)\n\n&gt;&gt;&gt; res = Parent(name='Derek',age=22)\nDerek 22 1994\n&gt;&gt;&gt; res2 = Child()\nNone None 1994\n</code></pre>\n\n<p>My question is, why does the child class return None? I have already used super() to inherit the parent init class. Below is my expectation and how can I achieve that?</p>\n\n<pre><code>&gt;&gt;&gt; res = Parent(name='Derek',age=22)\nDerek 22 1994\n&gt;&gt;&gt; res2 = Child()\nParent Details: Derek 22 1994\n</code></pre>\n"}, {"tags": ["python", "user-interface", "matplotlib", "colors", "color-scheme"], "comments": [{"owner": {"reputation": 410, "user_id": 7554912, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh3.googleusercontent.com/-mPMSLX772Cw/AAAAAAAAAAI/AAAAAAAAADM/uQ9yzgu-_Rg/photo.jpg?sz=128", "display_name": "Krishna", "link": "https://stackoverflow.com/users/7554912/krishna"}, "edited": false, "score": 2, "creation_date": 1551909015, "post_id": 55032648, "comment_id": 96817980, "body": "<a href=\"https://bsou.io/posts/color-gradients-with-python\" rel=\"nofollow noreferrer\">bsou.io/posts/color-gradients-with-python</a> this link is great!"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 2, "creation_date": 1551911627, "post_id": 55032648, "comment_id": 96818935, "body": "Already, interpolation in colorspace is not straight forward, <a href=\"https://stackoverflow.com/questions/3017019/non-linear-color-interpolation\">this question</a> is a nice read. But extrapolation is even less well defined."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551926607, "post_id": 55032648, "comment_id": 96822784, "body": "I did look into the colors you present here, which are interpolated. But the interpolation is based on some complicated model; <a href=\"https://i.stack.imgur.com/RpYiO.png\" rel=\"nofollow noreferrer\">neither in RGB, nor in HSV space is there any straight forward model observable</a>. So as long as you don&#39;t have a model for interpolation, you have no chance of extrapolating. Btw. seen from the answers you got here, people are struggling to understand that you are asking for extrapolation really."}], "answers": [{"comments": [{"owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 0, "creation_date": 1551910374, "post_id": 55032781, "comment_id": 96818526, "body": "Sorry I&#39;m a little confused by your answer.  Can you wrap this into a function and plot the colors with <code>sns.palplot</code> so I can see what&#39;s happening?"}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 0, "creation_date": 1551911043, "post_id": 55032781, "comment_id": 96818732, "body": "You should use modular addition modulo 256."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "reply_to_user": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "edited": false, "score": 2, "creation_date": 1551911488, "post_id": 55032781, "comment_id": 96818885, "body": "@O.rka think of the rgb axes as xyz coordinates in 3D space. X is red, y is blue, z is green. Then a color is a point, and start color to end color forms a vector. Then you can extend that vector to get more color \u201calong the same line\u201d. You could also do this same interpolation by setting xyz axes to hue saturation and lightness."}], "tags": [], "owner": {"reputation": 944, "user_id": 9095840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72c6c04283f6af25aed4f998e09f0133?s=128&d=identicon&r=PG&f=1", "display_name": "markemus", "link": "https://stackoverflow.com/users/9095840/markemus"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909290, "creation_date": 1551909290, "answer_id": 55032781, "question_id": 55032648, "link": "https://stackoverflow.com/questions/55032648/given-a-start-color-and-a-middle-color-how-to-get-the-remaining-colors-python/55032781#55032781", "title": "Given a start color and a middle color, how to get the remaining colors? (Python)", "body": "<p>If you use RGB colors you can find the vector and scale it:</p>\n\n<pre><code>#009392 = (0, 147, 146)\n#d0587e = (208, 88, 126)\n\n# slope\n(208, 88, 126) - (0, 147, 146) = (208, -59, -20)\n\n\nk = 4\nfor n in range(1,k+1):\n    color = (0, 147, 146) + (n/k*(208, -59, -20)) \n</code></pre>\n\n<p>eg (0, 147, 146) + (2/4*(208, -59, -20)) = (104, 117.5, 136)</p>\n"}, {"comments": [{"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "edited": false, "score": 1, "creation_date": 1551913466, "post_id": 55033412, "comment_id": 96819655, "body": "You could use <a href=\"https://python-colormath.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\"><code>python-colormath</code></a> to easily convert rgb to HCL or CIELab color."}], "tags": [], "owner": {"reputation": 1107, "user_id": 5905245, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dd58e460854fb991011268e46485f495?s=128&d=identicon&r=PG&f=1", "display_name": "kmh", "link": "https://stackoverflow.com/users/5905245/kmh"}, "is_accepted": false, "score": 1, "last_activity_date": 1551915175, "last_edit_date": 1551915175, "creation_date": 1551912430, "answer_id": 55033412, "question_id": 55032648, "link": "https://stackoverflow.com/questions/55032648/given-a-start-color-and-a-middle-color-how-to-get-the-remaining-colors-python/55033412#55033412", "title": "Given a start color and a middle color, how to get the remaining colors? (Python)", "body": "<p>Here's a solution that just does a simple interpolation between colors in the RGB colorspace.  There's a problem with that...  euclidian distance between colors in RGB doesn't directly relate to human perception.  So...  if you really want to be a wonk (in a good way) about how your colors are perceived, you may want to move into Lab or HCL to do something like this.</p>\n\n<p>These aren't the best refs, but they offer something about this phenomenon I think...</p>\n\n<ul>\n<li><a href=\"https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/08/05/subtleties-of-color-part-1-of-6/\" rel=\"nofollow noreferrer\">https://earthobservatory.nasa.gov/blogs/elegantfigures/2013/08/05/subtleties-of-color-part-1-of-6/</a></li>\n<li><a href=\"https://bl.ocks.org/mbostock/3014589\" rel=\"nofollow noreferrer\">https://bl.ocks.org/mbostock/3014589</a></li>\n</ul>\n\n<p>So...  with that caveat out of the way...  here's a solution in RGB, but doing it in Lab or HCL might be better.  :)</p>\n\n<p><strong>Helpers/Setup</strong></p>\n\n<pre><code>import numpy as np\n\n# hex (string) to rgb (tuple3)\ndef hex2rgb(hex):\n    hex_cleaned = hex.lstrip('#')\n    return tuple(int(hex_cleaned[i:i+2], 16) for i in (0, 2 ,4))\n\n# rgb (tuple3) to hex (string)\ndef rgb2hex(rgb):\n    return '#' + ''.join([str('0' + hex(hh)[2:])[-2:] for hh in rgb])\n\n# weighted mix of two colors in RGB space (takes and returns hex values)\ndef color_mixer(hex1, hex2, wt1=0.5):\n    rgb1 = hex2rgb(hex1)\n    rgb2 = hex2rgb(hex2)\n    return rgb2hex(tuple([int(wt1 * tup[0] + (1.0 - wt1) * tup[1]) for tup in zip(rgb1, rgb2)]))\n\n# create full palette\ndef create_palette(start_color, mid_color, end_color, num_colors):\n    # set up steps\n    # will create twice as many colors as asked for\n    # to allow an explicit \"mid_color\" with both even and odd number of colors\n    num_steps = num_colors  \n    steps = np.linspace(0, 1, num_steps)[::-1]\n\n    # create two halves of color values\n    pt1 = [color_mixer(first_color, mid_color, wt) for wt in steps]\n    pt2 = [color_mixer(mid_color,  last_color, wt) for wt in steps[1:]]\n\n    # combine and subsample to get back down to 'num_colors'\n    return (pt1 + pt2)[::2]\n</code></pre>\n\n<p><strong>Create the Palette</strong></p>\n\n<pre><code># the 3 colors you specified\nfirst_color = '#009392'\nlast_color  = '#d0587e'\nmid_color   = color_mixer('#2b89c8', '#7c7ac6')\n\n# create hex colors\nresult = create_pallette(first_color, mid_color, last_color, 5)\n\nresult\n# ['#009392', '#298aac', '#5381c7', '#916ca2', '#d0587e']\n</code></pre>\n\n<p>which looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/NuUwN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NuUwN.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551964516, "post_id": 55044465, "comment_id": 96839986, "body": "I suppose the idea would be to find out the interpolating model, which is used by the website OP took their colors from. Having this model, one might use it to extrapolate."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551990195, "post_id": 55044465, "comment_id": 96854335, "body": "From the colors produced, it doesn\u2019t seem like OP\u2019s website does anything different than a linear interpolation in RGB."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551990758, "post_id": 55044465, "comment_id": 96854570, "body": "Well, no. None of the colors you show here is close to what&#39;s in the quesiton. You can also check the image I posted as comment below the question to see how those colors are not at all linearly interpolated."}, {"owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1551995383, "post_id": 55044465, "comment_id": 96856382, "body": "Indeed, they do use the LCH color space to create a linear interpolation. Take a look at their <a href=\"https://learnui.design/tools/js/min/main-min.js\" rel=\"nofollow noreferrer\"><code>main.min.js</code></a>, you will find in it: <code>chroma.scale([a, i]).mode(&quot;lch&quot;).colors(n)</code>, indicating they use <code>chroma.js</code> to create the palette. <a href=\"https://gka.github.io/chroma.js/#color-scales\" rel=\"nofollow noreferrer\">Here</a> is the docs for <code>chroma.scale</code>. <a href=\"https://github.com/gka/chroma.js/blob/master/src/interpolator/_hsx.js\" rel=\"nofollow noreferrer\">This</a> is the source code of their interpolater. It is <a href=\"https://github.com/gka/chroma.js/blob/master/src/interpolator/_hsx.js#L51\" rel=\"nofollow noreferrer\">linear</a>"}], "tags": [], "owner": {"reputation": 1801, "user_id": 1362294, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a978a451c67d355f999c0dcb430b6594?s=128&d=identicon&r=PG", "display_name": "darksky", "link": "https://stackoverflow.com/users/1362294/darksky"}, "is_accepted": true, "score": 9, "last_activity_date": 1552104372, "last_edit_date": 1552104372, "creation_date": 1551963794, "answer_id": 55044465, "question_id": 55032648, "link": "https://stackoverflow.com/questions/55032648/given-a-start-color-and-a-middle-color-how-to-get-the-remaining-colors-python/55044465#55044465", "title": "Given a start color and a middle color, how to get the remaining colors? (Python)", "body": "<p>You can think of a color as a point in a color space which typically consists of three or four dimensions like RGB or HSL. To create a linear interpolation between two points in this space requires to simply follow the line created by these two points. Depending on the color space, you will get different continuation of colors.</p>\n\n<p>Below, I use the <code>matplotlib</code> to display the palettes and <code>colormath</code> for the conversions which you can install by <code>pip install colormath</code>. This library makes this job much easier than it would be otherwise.</p>\n\n<pre><code>import colormath\nimport numpy as np\nimport matplotlib as mpl\nimport matplotlib.pyplot as plt\nfrom colormath.color_objects import sRGBColor, HSVColor, LabColor, LCHuvColor, XYZColor, LCHabColor\nfrom colormath.color_conversions import convert_color\n\ndef hex_to_rgb_color(hex):\n    return sRGBColor(*[int(hex[i + 1:i + 3], 16) for i in (0, 2 ,4)], is_upscaled=True)\n\ndef plot_color_palette(colors, subplot, title, plt_count):\n    ax = fig.add_subplot(plt_count, 1, subplot)\n    for sp in ax.spines: ax.spines[sp].set_visible(False)\n    for x, color in enumerate(colors):\n        ax.add_patch(mpl.patches.Rectangle((x, 0), 0.95, 1, facecolor=color))\n    ax.set_xlim((0, len(colors)))\n    ax.set_ylim((0, 1))\n    ax.set_xticks([])\n    ax.set_yticks([])\n    ax.set_aspect(\"equal\")\n    plt.title(title)\n\ndef create_palette(start_rgb, end_rgb, n, colorspace):\n    # convert start and end to a point in the given colorspace\n    start = convert_color(start_rgb, colorspace).get_value_tuple()\n    end = convert_color(end_rgb, colorspace).get_value_tuple()\n\n    # create a set of n points along start to end\n    points = list(zip(*[np.linspace(start[i], end[i], n) for i in range(3)]))\n\n    # create a color for each point and convert back to rgb\n    rgb_colors = [convert_color(colorspace(*point), sRGBColor) for point in points]\n\n    # finally convert rgb colors back to hex\n    return [color.get_rgb_hex() for color in rgb_colors]\n\nstart_color = \"#009392\"\nend_color = \"#d0587e\"\nnumber_of_colors = 10\ncolorspaces = (sRGBColor, HSVColor, LabColor, LCHuvColor, LCHabColor, XYZColor)\n\nstart_rgb = hex_to_rgb_color(start_color)\nend_rgb = hex_to_rgb_color(end_color)\nfig = plt.figure(figsize=(number_of_colors, len(colorspaces)), frameon=False)\n\nfor index, colorspace in enumerate(colorspaces):\n    palette = create_palette(start_rgb, end_rgb, number_of_colors, colorspace)\n    plot_color_palette(palette, index + 1, colorspace.__name__, len(colorspaces))\n\nplt.subplots_adjust(hspace=1.5)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zcW1c.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zcW1c.png\" alt=\"enter image description here\"></a></p>\n\n<p>The basic idea of linear extrapolation is to simply extend the vector defined by the two colors. The biggest problem in doing that is when we hit the \"walls\" of the color space. For example, think of the color space RGB where Red goes from 0 to 255. What should happen after our interpolation line hits the 255 wall? A color cannot get any more red than red. One way I thought you can continue is to treat this line as a ray of light that can \"bounce off\" or \"reflect\" off the walls of the rgb space.</p>\n\n<p>Interestingly, <code>colormath</code> doesn't seem to mind when the parameters of its color objects exceed their limits. It proceeds to create a color object with an invalid hex value. This can sometimes occur during extrapolation. To prevent this, we can either cap the value of the RGB:</p>\n\n<pre><code>rgb_colors = np.maximum(np.minimum(rgb, [1, 1, 1]), [0, 0, 0])\n</code></pre>\n\n<p>or have it \"reflect\" back off the wall so to speak.</p>\n\n<pre><code>rgb_colors = []\nfor color in rgb:\n    c = list(color)\n    for i in range(3):\n        if c[i] &gt; 1:\n            c[i] = 2 - c[i]\n        if c[i] &lt; 0:\n            c[i] *= -1\n    rgb_colors.append(c)\n</code></pre>\n\n<p>The equations above should be self explanatory. When an RGB channel drops below zero, flip its sign to \"reflect\" off of the zero wall, and similarly when it exceeds 1, reflect it back towards zero. Here are some extrapolation results using this method:</p>\n\n<pre><code>def create_palette(start_rgb, end_rgb, n, colorspace, extrapolation_length):\n    # convert start and end to a point in the given colorspace\n    start = np.array(convert_color(start_rgb, colorspace, observer=2).get_value_tuple())\n    mid = np.array(convert_color(end_rgb, colorspace, observer=2).get_value_tuple())\n\n    # extrapolate the end point\n    end = start + extrapolation_length * (mid - start)\n\n    # create a set of n points along start to end\n    points = list(zip(*[np.linspace(start[i], end[i], n) for i in range(3)]))\n\n    # create a color for each point and convert back to rgb\n    rgb = [convert_color(colorspace(*point), sRGBColor).get_value_tuple() for point in points]\n\n    # rgb_colors = np.maximum(np.minimum(rgb, [1, 1, 1]), [0, 0, 0])\n\n    rgb_colors = []\n    for color in rgb:\n        c = list(color)\n        for i in range(3):\n            if c[i] &gt; 1:\n                c[i] = 2 - c[i]\n            if c[i] &lt; 0:\n                c[i] *= -1\n        rgb_colors.append(c)\n\n    # finally convert rgb colors back to hex\n    return [sRGBColor(*color).get_rgb_hex() for color in rgb_colors]\n\n\nstart_color = \"#009392\"\nend_color = \"#d0587e\"\nnumber_of_colors = 11\ncolorspaces = (sRGBColor, HSVColor, LabColor, LCHuvColor, LCHabColor, XYZColor, LuvColor)\n\nstart_rgb = hex_to_rgb_color(start_color)\nend_rgb = hex_to_rgb_color(end_color)\nfig = plt.figure(figsize=(6, len(colorspaces)), frameon=False)\n\nfor index, colorspace in enumerate(colorspaces):\n    palette = create_palette(start_rgb, end_rgb, number_of_colors, colorspace, extrapolation_length=2)\n    plot_color_palette(palette, index + 1, colorspace.__name__, len(colorspaces))\n\nplt.subplots_adjust(hspace=1.2)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/epsWn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/epsWn.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that because Hue is a circular axis, in color spaces like HSV or HSL it wraps back around, and if you put your end-color at the middle of the palette, you are likely to return back near your start-color.</p>\n\n<hr>\n\n<p>It's quiet fascinating to see the path these interpolations take in the color space. Take a look. Notice the effect bouncing off the walls creates.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ffaa6.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ffaa6.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/KTkNg.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KTkNg.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/ceb5Y.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ceb5Y.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/4c4kr.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4c4kr.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/E6Q5i.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/E6Q5i.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/FkIpm.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/FkIpm.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/i7ZVq.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/i7ZVq.png?s=256\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/qx3b9.png?s=256\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qx3b9.png?s=256\" alt=\"enter image description here\"></a></p>\n\n<p>I might at some point turn this into an open source project. </p>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1738, "favorite_count": 0, "accepted_answer_id": 55044465, "answer_count": 3, "score": 6, "last_activity_date": 1552104372, "creation_date": 1551908626, "question_id": 55032648, "link": "https://stackoverflow.com/questions/55032648/given-a-start-color-and-a-middle-color-how-to-get-the-remaining-colors-python", "title": "Given a start color and a middle color, how to get the remaining colors? (Python)", "body": "<p>I am trying to build a color palette around 2 colors: teal and rose</p>\n\n<p>I found this website: <a href=\"https://learnui.design/tools/data-color-picker.html#palette\" rel=\"noreferrer\">https://learnui.design/tools/data-color-picker.html#palette</a>\nWhich could do half of what  I was looking for so I wanted to try to do this in python using <code>matplotlib</code>, <code>seaborn</code>, <code>palettable</code>, and/or <code>colorsys</code>.</p>\n\n<p><strong>Is there a way to interpolate what the next colors would be given a series of colors in a gradient?</strong> </p>\n\n<p>For example, from the website I gave the <code>start_color</code> and <code>end_color</code>.  It gave me 6 colors ranging from <code>start_color</code> to <code>end_color</code>.  Is there a way to do this but to make the <code>end_color</code> the <code>middle_color</code> and continue to gradient? </p>\n\n<pre><code>from palettable.cartocolors.diverging import TealRose_7\nimport matplotlib as mpl\nimport seaborn as sns\n\nstart_color = \"#009392\"\nend_color = \"#d0587e\"\n\n# https://learnui.design/tools/data-color-picker.html#palette\ncolors = ['#009392', '#0091b2', '#2b89c8', '#7c7ac6', '#b366ac', '#d0587e']\n\nsns.palplot(colors)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PtsaR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PtsaR.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like to make the teal <code>start_color</code> remain the first color, make the rose <code>end_color</code> the <code>middle_color</code> (in between 3 and 4), and then have the color palette finish to make 6 total colors.  </p>\n\n<p>I was going to try and get the RGB values and then do some type of modeling to figure out where it would go but I think there is probably an easier way to do this. </p>\n"}, {"tags": ["python", "json", "sockets"], "comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551909481, "post_id": 55032621, "comment_id": 96818176, "body": "You are trying to send via the listening socket."}, {"owner": {"reputation": 491, "user_id": 10568263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ffcbbc596ebcf137ca3bd087acc21c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie101", "link": "https://stackoverflow.com/users/10568263/newbie101"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551909553, "post_id": 55032621, "comment_id": 96818210, "body": "What is the listening socket? Is it the code inside the <code>with conn:</code>?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551910147, "post_id": 55032621, "comment_id": 96818442, "body": "<code>s</code> is the listening socket, the one you called <code>listen()</code> on and accept from, and <code>s.send(...)</code> is where you try to send from it, and where you get this error."}, {"owner": {"reputation": 491, "user_id": 10568263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ffcbbc596ebcf137ca3bd087acc21c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie101", "link": "https://stackoverflow.com/users/10568263/newbie101"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551910355, "post_id": 55032621, "comment_id": 96818519, "body": "So how would I send data outside the listening socket?"}, {"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551910864, "post_id": 55032621, "comment_id": 96818674, "body": "Same way you are reading it?"}], "answers": [{"comments": [{"owner": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551922772, "post_id": 55034545, "comment_id": 96821920, "body": "Or afterwards. The listening socket is never connected."}, {"owner": {"reputation": 2261, "user_id": 451201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08557ea48b0f92938bb0c01356ad606e?s=128&d=identicon&r=PG", "display_name": "jnrbsn", "link": "https://stackoverflow.com/users/451201/jnrbsn"}, "reply_to_user": {"reputation": 288867, "user_id": 207421, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5cfe5f7d64f44be04f147295f5c7b88e?s=128&d=identicon&r=PG", "display_name": "user207421", "link": "https://stackoverflow.com/users/207421/user207421"}, "edited": false, "score": 0, "creation_date": 1551923654, "post_id": 55034545, "comment_id": 96822121, "body": "@user207421 I clarified the wording."}], "tags": [], "owner": {"reputation": 2261, "user_id": 451201, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08557ea48b0f92938bb0c01356ad606e?s=128&d=identicon&r=PG", "display_name": "jnrbsn", "link": "https://stackoverflow.com/users/451201/jnrbsn"}, "is_accepted": false, "score": 3, "last_activity_date": 1551923618, "last_edit_date": 1551923618, "creation_date": 1551920792, "answer_id": 55034545, "question_id": 55032621, "link": "https://stackoverflow.com/questions/55032621/oserror-errno-57-socket-is-not-connected/55034545#55034545", "title": "OSError: [Errno 57] Socket is not connected", "body": "<p>In your server code, you need to change ...</p>\n\n<pre><code>s.sendall(message)\n</code></pre>\n\n<p>... to ...</p>\n\n<pre><code>conn.sendall(message)\n</code></pre>\n\n<p>This is because when you do ...</p>\n\n<pre><code>conn, addr = s.accept()\n</code></pre>\n\n<p>... <code>conn</code> is a <em><strong>new</strong></em> socket instance <em><strong>for that connection</strong></em>. So that's the object you should use for sending and receiving data on that connection. Before you call <code>accept()</code> to accept a connection, you don't have a socket that's actually connected to anything.</p>\n"}], "owner": {"reputation": 491, "user_id": 10568263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ffcbbc596ebcf137ca3bd087acc21c?s=128&d=identicon&r=PG&f=1", "display_name": "Newbie101", "link": "https://stackoverflow.com/users/10568263/newbie101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1551923618, "creation_date": 1551908504, "question_id": 55032621, "link": "https://stackoverflow.com/questions/55032621/oserror-errno-57-socket-is-not-connected", "title": "OSError: [Errno 57] Socket is not connected", "body": "<p>I'm trying to understand networking on python using the <code>socket</code> module, but I think the problem is that I don't really understand how a server or client actually functions.</p>\n\n<p><strong>What I am trying to do:</strong></p>\n\n<ul>\n<li>Send a dictionary from the client to the server by turning it to a string first using JSON</li>\n<li>Make the server send back a message to the client to confirm they are connected</li>\n</ul>\n\n<p>Server program</p>\n\n<pre><code>import socket\nimport json\n\nHOST = '192.168.X.X'\nPORT = 50034\n\n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.bind((HOST, PORT))\n    s.listen(1)\n    conn, addr = s.accept()\n\n    with conn:\n        while True:\n            data = conn.recv(1024)\n            new_data = data.decode()\n            new_data = json.loads(data)\n            print(new_data[\"Name\"],\"has connected from\",addr)\n            message = (\"Hello %s welcome to the chat server\" % new_data[\"Name\"]).encode()\n            s.sendall(message)\n            if not data:\n                conn.sendall(data)\n</code></pre>\n\n<p>Client program </p>\n\n<pre><code>import socket\nimport json\n\nHOST = '192.168.X.X'\nPORT = 50034\n\nmy_dict = {\"Name\":\"Bob\"}\njsn = json.dumps(my_dict)\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.connect((HOST,PORT))\n    s.sendall((jsn).encode())\n    data = s.recv(1024)\n    print(data)\n</code></pre>\n\n<p>But I am getting the error:</p>\n\n<blockquote>\n  <p>OSError: [Errno 57] Socket is not connected</p>\n</blockquote>\n\n<p>Why?</p>\n"}, {"tags": ["python", "pandas", "dictionary"], "comments": [{"owner": {"reputation": 143, "user_id": 10654558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e74808ec3665e0ce42fb63d19ab5f56?s=128&d=identicon&r=PG&f=1", "display_name": "Steve P", "link": "https://stackoverflow.com/users/10654558/steve-p"}, "edited": false, "score": 0, "creation_date": 1551908717, "post_id": 55032545, "comment_id": 96817838, "body": "Hi, ALollz, yes. The value is zero if the state is not in the dictionary."}], "answers": [{"comments": [{"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1551908708, "post_id": 55032653, "comment_id": 96817832, "body": "I was in the process of referring to your pandas merging 101 Q/A to sort out the syntax here."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1551908804, "post_id": 55032653, "comment_id": 96817886, "body": "@pault I&#39;m happy to hear you&#39;re finding my QnA helpful :) Although in this particular case I&#39;m not quite sure it&#39;d help. . . :P"}, {"owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1551908850, "post_id": 55032653, "comment_id": 96817905, "body": "I was thinking make the columns the index and merge do and outer join, then calc the difference...I&#39;m just really deep in spark right now so I think of everything as table joins."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "edited": false, "score": 0, "creation_date": 1551908889, "post_id": 55032653, "comment_id": 96817924, "body": "@pault Ah, yes. I shorted that particular step using <code>align</code>."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 4, "last_activity_date": 1551908651, "creation_date": 1551908651, "answer_id": 55032653, "question_id": 55032545, "link": "https://stackoverflow.com/questions/55032545/find-the-max-diff-between-every-element-of-two-lists/55032653#55032653", "title": "Find the max diff between every element of two lists", "body": "<p>We want to compare the corresponding rows of the two DataFrames. First, let's <code>align</code> them:</p>\n\n<pre><code>df1 = pd.DataFrame(list1)    \ndf2 = pd.DataFrame(list2)   \n\ndf1, df2 = df1.fillna(0).align(df2.fillna(0), fill_value=0)\ndf1\n\n   CT  FL  NJ  NY\n0   0  30  30  40\n1   0  10  50  40\n\ndf2\n     CT    FL    NJ  NY\n0  20.0   0.0  45.0  50\n1   0.0  30.0   0.0  40\n</code></pre>\n\n<p></p>\n\n<p>Now, you can use <code>idmax</code> to find the values with the largest difference, call <code>lookup</code> to get the diff value and create a new DataFrame. </p>\n\n<pre><code>u = (df1 - df2).abs()\nidx = u.idxmax(1)\npd.DataFrame({'State': idx, 'Diff': u.lookup(u.index, u.idxmax(1))})\n\n  State  Diff\n0    FL  30.0\n1    NJ  50.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "edited": false, "score": 1, "creation_date": 1551909901, "post_id": 55032708, "comment_id": 96818359, "body": "@pault I know OP may have to convert it into a <code>list</code> in Python3. Updated the answer. Thanks for pointing out"}], "tags": [], "owner": {"reputation": 7468, "user_id": 2695448, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/074d0d3f1001c26d04edefb317f03059?s=128&d=identicon&r=PG&f=1", "display_name": "mad_", "link": "https://stackoverflow.com/users/2695448/mad"}, "is_accepted": true, "score": 3, "last_activity_date": 1551909924, "last_edit_date": 1551909924, "creation_date": 1551908921, "answer_id": 55032708, "question_id": 55032545, "link": "https://stackoverflow.com/questions/55032545/find-the-max-diff-between-every-element-of-two-lists/55032708#55032708", "title": "Find the max diff between every element of two lists", "body": "<p>Simple iteration over two lists together using <code>zip</code> and keep track of maximum value in each iteration </p>\n\n<pre><code>res=[]\nfor l1,l2 in zip(list1,list2):\n    max_diff = tuple((0,0))\n    for key in set(list(l1.keys()) + list(l2.keys())):\n        diff = abs(l1.get(key,0) - l2.get(key,0)) \n\n        if diff &gt; max_diff[1]:\n            max_diff = tuple((key,diff))\n    res.append((max_diff))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[('FL', 30), ('NJ', 50)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32007, "user_id": 5858851, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yXFCX.jpg?s=128&g=1", "display_name": "pault", "link": "https://stackoverflow.com/users/5858851/pault"}, "is_accepted": false, "score": 2, "last_activity_date": 1551909699, "last_edit_date": 1551909699, "creation_date": 1551909283, "answer_id": 55032776, "question_id": 55032545, "link": "https://stackoverflow.com/questions/55032545/find-the-max-diff-between-every-element-of-two-lists/55032776#55032776", "title": "Find the max diff between every element of two lists", "body": "<p>I'd probably go with the <code>pandas</code> approach, but you can also use a list comprehension here:</p>\n\n<pre><code>import numpy as np\nfrom operator import itemgetter\n\nmax_diffs = [\n    max(\n        [\n            (k, np.abs(a.get(k, 0) - b.get(k, 0))) \n            for k in set(list(a.keys()) + list(b.keys()))\n        ], \n        key=itemgetter(1)\n    ) \n    for a, b in zip(list1, list2)\n]\n\nprint(max_diffs)\n#[('FL', 30), ('NJ', 50)]\n</code></pre>\n\n<p>And if you wanted the output in a DataFrame, you can do:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame(max_diffs, columns=[\"State\", \"Diff\"])\nprint(df)\n#  State  Diff\n#0    FL    30\n#1    NJ    50\n</code></pre>\n"}], "owner": {"reputation": 143, "user_id": 10654558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e74808ec3665e0ce42fb63d19ab5f56?s=128&d=identicon&r=PG&f=1", "display_name": "Steve P", "link": "https://stackoverflow.com/users/10654558/steve-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 55032708, "answer_count": 3, "score": 2, "last_activity_date": 1551909924, "creation_date": 1551908214, "question_id": 55032545, "link": "https://stackoverflow.com/questions/55032545/find-the-max-diff-between-every-element-of-two-lists", "title": "Find the max diff between every element of two lists", "body": "<p>I have two lists of dictionaries and would like to find which state has the maximum difference for every element of the two lists. The length of the two lists is the same. </p>\n\n<pre><code>list1 = [{'NY':40, 'NJ':30, 'FL':30}, {'NY':40, 'NJ':50, 'FL':10}]\n\nlist2 = [{'NY':50, 'NJ':45, 'CT':20}, {'NY':40, 'FL':30}]\n</code></pre>\n\n<p>For <code>list1[0]</code> and <code>list2[0]</code>, <code>FL</code> has the maximum difference between the two since <code>FL</code> = 30, <code>NY</code> = 10, <code>NJ</code> = 15, and <code>CT</code> = 20. For <code>list1[1]</code> and <code>list2[1]</code>, <code>NJ</code> has the maximum difference. </p>\n\n<p>How to get the desired output below? Thanks.   </p>\n\n<pre><code> State  Diff \n FL     30\n NJ     50     \n</code></pre>\n"}, {"tags": ["python", "xml", "oop"], "comments": [{"owner": {"reputation": 13209, "user_id": 7414759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b272ce66c7c245c6cbe9a830691daddc?s=128&d=identicon&r=PG&f=1", "display_name": "stovfl", "link": "https://stackoverflow.com/users/7414759/stovfl"}, "edited": false, "score": 0, "creation_date": 1551970304, "post_id": 55032508, "comment_id": 96843587, "body": "Parse it using <a href=\"https://docs.python.org/3/library/xml.etree.elementtree.html#module-xml.etree.ElementTree\" rel=\"nofollow noreferrer\">module-xml.etree.ElementTree</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 15079077, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a0ef23144c07098132008ac3771e1677?s=128&d=identicon&r=PG", "display_name": "Guilherme Silva", "link": "https://stackoverflow.com/users/15079077/guilherme-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1611599957, "creation_date": 1611599957, "answer_id": 65890526, "question_id": 55032508, "link": "https://stackoverflow.com/questions/55032508/how-to-create-a-python-object-out-of-xsd-with-attributes/65890526#65890526", "title": "How to create a Python object out of XSD with attributes", "body": "<p>I had a project where I needed to iterate a XSD file and I used the xmlschema library using something similar to this code:</p>\n<pre><code>import xmlschema\nschema = xmlschema.XMLSchema('your xsd file')\n\nfor xsd_component in schema.iter_components():\n    if 'Element' in xsd_component:\n        element_name = xsd_component.name\n</code></pre>\n<p>For example, printing the xsd_component would result in &quot;XsdElement(name='sensor1value', occurs=[1, 1])&quot;  where I would use .split() function to retrieve the information that I needed. The if is a example of what you could do.\nThe documentation doesn't show everything you can use so check the other functions if you need something specific.</p>\n"}], "owner": {"reputation": 1165, "user_id": 1743837, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/9a0a633bc1223bbb43ebb48d42d1774a?s=128&d=identicon&r=PG", "display_name": "nerdenator", "link": "https://stackoverflow.com/users/1743837/nerdenator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1611599957, "creation_date": 1551908036, "question_id": 55032508, "link": "https://stackoverflow.com/questions/55032508/how-to-create-a-python-object-out-of-xsd-with-attributes", "title": "How to create a Python object out of XSD with attributes", "body": "<p>I am working on a project that is meant to take many different data sources and place them in a data table. To do this, we have a way to import the data through an XML document that has all of the fields defined in the table. A few of these fields are required. Fields that are required have a minimum occurrences value of a non-zero positive integer.</p>\n\n<p>I have the XSD files for these XML documents. This isn't a 1 to 1 copy (since it's proprietary), but here is an example:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xs:schema xmlns:xs=\"http://www.w3.org/2001/XMLSchema\" elementFormDefault=\"qualified\"   attributeFormDefault=\"unqualified\"&gt;\n    &lt;xs:element name=\"Widget\"&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:all&gt;\n                &lt;xs:element name=\"GuyWhoMadeWidget\" nillable=\"true\" minOccurs=\"1\"&gt;\n            &lt;/xs:all&gt;\n            &lt;xs:attribute name=\"version\" type=\"xs:string\"/&gt;\n        &lt;xs:complexType&gt;\n    &lt;/xs:element&gt;\n &lt;/xs:schema&gt;\n</code></pre>\n\n<p>What I want to be able to do is go into the <code>&lt;xs: element&gt;</code> element and do logic in Python on whether or not minOccurs is a non-zero value. Here's some pseudocode:</p>\n\n<pre><code>file_object = open(xsd_file)\nrequired_fields = []\nxsd_python_object = parse_xsd_to_python(file_object)\nfor element in xsd_python_object:\n    if element.minOccurs != 0:\n         required_fields.append(element.name)\nprint(required_fields)\n</code></pre>\n\n<p>Sample output here would be:</p>\n\n<pre><code>Required fields for \"Widget\" table:\nGuyWhoMadeWidget\n</code></pre>\n\n<p>I have been looking into the xmlschema and lxml packages but their facilities leave me wanting, confused, or both. </p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "edited": false, "score": 0, "creation_date": 1551908219, "post_id": 55032481, "comment_id": 96817622, "body": "any reason why this has to be done in <code>python</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11162181, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qRm9xjyjAF8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgFn4cQ3o9he6-SNWNHSJk8jiBg/mo/photo.jpg?sz=128", "display_name": "Marcos Matsuura Ayres", "link": "https://stackoverflow.com/users/11162181/marcos-matsuura-ayres"}, "edited": false, "score": 0, "creation_date": 1551911381, "post_id": 55032521, "comment_id": 96818839, "body": "How do I use this on the code? Do I need to import something? Place this before opening the .txt? After?"}, {"owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "reply_to_user": {"reputation": 15, "user_id": 11162181, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qRm9xjyjAF8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgFn4cQ3o9he6-SNWNHSJk8jiBg/mo/photo.jpg?sz=128", "display_name": "Marcos Matsuura Ayres", "link": "https://stackoverflow.com/users/11162181/marcos-matsuura-ayres"}, "edited": false, "score": 0, "creation_date": 1551954708, "post_id": 55032521, "comment_id": 96833991, "body": "it&#39;s a shell script to be run on the cmdline. it has nothing to do with python."}], "tags": [], "owner": {"reputation": 22991, "user_id": 1169096, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b4d93e08b2830786a7992e8af35514c6?s=128&d=identicon&r=PG", "display_name": "uml&#228;ute", "link": "https://stackoverflow.com/users/1169096/uml%c3%a4ute"}, "is_accepted": false, "score": 1, "last_activity_date": 1551908085, "creation_date": 1551908085, "answer_id": 55032521, "question_id": 55032481, "link": "https://stackoverflow.com/questions/55032481/replacing-a-numeric-string-with-another-in-a-txt-file/55032521#55032521", "title": "Replacing a numeric string with another in a .txt file", "body": "<p>while your question is tagged <code>python</code>, here's a super-simple non-pythonic way, using the <code>sed</code> cmdline utility.</p>\n\n<p>This will replace all commas (<code>,</code>) with dots (<code>.</code>) in your textfile, overwriting the original file:</p>\n\n<pre><code>sed -e 's/,/./g' -i yourtext.txt\n</code></pre>\n\n<p>Or, if you want the output in a different file:</p>\n\n<pre><code>sed -e 's/,/./g' yourtext.txt &gt; newfile.txt\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2675, "user_id": 6221828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HDEGb.png?s=128&g=1", "display_name": "Aaron_ab", "link": "https://stackoverflow.com/users/6221828/aaron-ab"}, "is_accepted": true, "score": 1, "last_activity_date": 1551908295, "last_edit_date": 1592644375, "creation_date": 1551908295, "answer_id": 55032563, "question_id": 55032481, "link": "https://stackoverflow.com/questions/55032481/replacing-a-numeric-string-with-another-in-a-txt-file/55032563#55032563", "title": "Replacing a numeric string with another in a .txt file", "body": "<p>Try this:</p>\n<pre><code>with open('input.txt') as input_f, open('output.txt', 'w') as output_f:\n    for line in input_f.readlines():\n        output_f.write(line.replace(',', '.'))\n</code></pre>\n<p>for <strong>input.txt</strong>:</p>\n<blockquote>\n<p>1,2,3,4,5</p>\n<p>10,20,30,40</p>\n</blockquote>\n<p>the <strong>output</strong> will be:</p>\n<blockquote>\n<p>1.2.3.4.5</p>\n<p>10.20.30.40.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 747, "user_id": 3191743, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e08e81ec3d105d74eb639991e56c23b?s=128&d=identicon&r=PG&f=1", "display_name": "rgk", "link": "https://stackoverflow.com/users/3191743/rgk"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908343, "creation_date": 1551908343, "answer_id": 55032577, "question_id": 55032481, "link": "https://stackoverflow.com/questions/55032481/replacing-a-numeric-string-with-another-in-a-txt-file/55032577#55032577", "title": "Replacing a numeric string with another in a .txt file", "body": "<p>umlaute's answer is good, but if you insist on doing this in Python you can use <code>fileinput</code>, which supports inplace replacement:</p>\n\n<pre><code>import fileinput\n\nwith fileinput.FileInput(filename, inplace=True, backup='.bak') as file:\n    for line in file:\n        line.replace(',', '~').replace('.', ',').replace('~', '.')\n</code></pre>\n\n<p>This example assumes you have .'s and ,'s in your example already so uses the tilde as an interim character while fixing both characters. If you have ~'s in your data, feel free to swap that out for another uncommon character.</p>\n\n<p>If you're working with a csv, be careful not to replace your column delimiter character. In this case, you'll probably want to use regex replace instead to ensure that each comma replaced is surrounded by digits: <code>r'\\d,\\d'</code></p>\n"}], "owner": {"reputation": 15, "user_id": 11162181, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qRm9xjyjAF8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reNgFn4cQ3o9he6-SNWNHSJk8jiBg/mo/photo.jpg?sz=128", "display_name": "Marcos Matsuura Ayres", "link": "https://stackoverflow.com/users/11162181/marcos-matsuura-ayres"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1551908663, "accepted_answer_id": 55032563, "answer_count": 3, "score": 0, "last_activity_date": 1573979280, "creation_date": 1551907920, "last_edit_date": 1573979280, "question_id": 55032481, "link": "https://stackoverflow.com/questions/55032481/replacing-a-numeric-string-with-another-in-a-txt-file", "closed_reason": "Duplicate", "title": "Replacing a numeric string with another in a .txt file", "body": "<p>My .txt have a lot of numbers divided in two rows but they are in the brazilian way to write them (this means the number 3.41 is writen as 3,41)... I know how to read each column, I just need to change every comma in the .txt to a dot, but I have no idea how to do that...</p>\n\n<p>There's 3 ways I thought how to solve the problem:</p>\n\n<p>Changing every comma into a dot and overwrite the previous .txt,</p>\n\n<p>Write another .txt with another name, but with every comma changed into a dot,</p>\n\n<p>Import every string (that should be float) from the txt and use replace to change the \",\" into a \".\".</p>\n\n<p>If you can help me with one of the first two ways would be better, especially the first one</p>\n\n<p>(I just imported numpy and don't know how to use others library yet, so if you could help me with the codes and recipes I would really appreciate that) (sorry about the bad english, love ya)</p>\n"}, {"tags": ["python", "pkg-resources"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 10072412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NtEYxVFJGW8/AAAAAAAAAAI/AAAAAAAAAXs/u4gyoq1NaR4/photo.jpg?sz=128", "display_name": "Ayush Jain", "link": "https://stackoverflow.com/users/10072412/ayush-jain"}, "edited": false, "score": 0, "creation_date": 1551991036, "post_id": 55032921, "comment_id": 96854681, "body": "Okay Thanks for answering. I am getting how pkg_resources work but what location is resource_filename() returning? Is it the location of install module in first arguement or is it the location of the file or directory in second arguement?"}, {"owner": {"reputation": 83, "user_id": 10072412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NtEYxVFJGW8/AAAAAAAAAAI/AAAAAAAAAXs/u4gyoq1NaR4/photo.jpg?sz=128", "display_name": "Ayush Jain", "link": "https://stackoverflow.com/users/10072412/ayush-jain"}, "edited": false, "score": 0, "creation_date": 1551991140, "post_id": 55032921, "comment_id": 96854727, "body": "The second command returns /home/ayush/anaconda3/lib/python3.6/distutils/wheel/__init__&zwnj;&#8203;.py to me. What does it specifies?"}, {"owner": {"reputation": 36561, "user_id": 36330, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/087bc3a6b2fe0dbbf39ca49f40e2bac1?s=128&d=identicon&r=PG", "display_name": "joeforker", "link": "https://stackoverflow.com/users/36330/joeforker"}, "reply_to_user": {"reputation": 83, "user_id": 10072412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NtEYxVFJGW8/AAAAAAAAAAI/AAAAAAAAAXs/u4gyoq1NaR4/photo.jpg?sz=128", "display_name": "Ayush Jain", "link": "https://stackoverflow.com/users/10072412/ayush-jain"}, "edited": false, "score": 0, "creation_date": 1551991711, "post_id": 55032921, "comment_id": 96854963, "body": "resource_filename(a, b) is returning you a path underneath where the module a is installed. In the simple case it just joins the path of a with b. In complex cases (like a zip file) it extracts the resource to the filesystem first and returns that path."}, {"owner": {"reputation": 83, "user_id": 10072412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NtEYxVFJGW8/AAAAAAAAAAI/AAAAAAAAAXs/u4gyoq1NaR4/photo.jpg?sz=128", "display_name": "Ayush Jain", "link": "https://stackoverflow.com/users/10072412/ayush-jain"}, "edited": false, "score": 0, "creation_date": 1551992052, "post_id": 55032921, "comment_id": 96855112, "body": "Ohh okay I got it. Thank you so much."}], "tags": [], "owner": {"reputation": 36561, "user_id": 36330, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/087bc3a6b2fe0dbbf39ca49f40e2bac1?s=128&d=identicon&r=PG", "display_name": "joeforker", "link": "https://stackoverflow.com/users/36330/joeforker"}, "is_accepted": true, "score": 3, "last_activity_date": 1551910343, "last_edit_date": 1551910343, "creation_date": 1551909991, "answer_id": 55032921, "question_id": 55032454, "link": "https://stackoverflow.com/questions/55032454/parameters-of-resource-filename-in-pkg-resource-in-python/55032921#55032921", "title": "Parameters of resource_filename in pkg_resource in python", "body": "<p>Here are a few examples. I have wheel 0.24 installed in an old environment:</p>\n\n<pre><code>pkg_resources.resource_filename('spamalot', \"wheel/__init__.py\")    \nImportError: No module named spamalot\n</code></pre>\n\n<p>The first argument has to be importable. The second argument should be a relative, /-separated path, including on systems that use \\ to separate paths.</p>\n\n<pre><code>In [27]: pkg_resources.resource_filename('distutils', \"wheel/__init__.py\")\nOut[27]: '/opt/pyenv/lib64/python2.7/distutils/wheel/__init__.py'\n</code></pre>\n\n<p>If it is importable, you will get a path inside the imported name. In this case it doesn't matter whether the file exists.</p>\n\n<pre><code>In [28]: pkg_resources.resource_filename(pkg_resources.Requirement.parse('wheel&gt;0.23.0'), \"core.py\")\nOut[28]: '/opt/pyenv/lib/python2.7/site-packages/core.py'\n</code></pre>\n\n<p>You can pass a requirement, and it will check if you actually have it installed. Now the path is relative to the install directory and not the <code>wheel</code> package.</p>\n\n<pre><code>In [29]: pkg_resources.resource_filename(pkg_resources.Requirement.parse('wheel&gt;0.27.0'), \"core.py\")\n\nVersionConflict: (wheel 0.24.0 (/opt/pyenv/lib/python2.7/site-packages), Requirement.parse('wheel&gt;0.27.0'))\n</code></pre>\n\n<p>If the requirement is not installed it will complain.</p>\n\n<p>One reason the <code>Requirement</code> feature exists is because it's possible to have eggs for multiple versions of the same package on the path, and <code>pkg_resources</code> will add the requested version, but this feature is not used very much any more.</p>\n\n<p>These examples are pretty simple, but <code>resource_filename</code> will also work if your resources are inside a <code>.zip</code> file or any other supported import location (it is possible to hook Python's import system so that imports come from anywhere - sqlite databases, the network, ..., and resource_filename should be able to work with these if the right hooks are installed.)</p>\n"}], "owner": {"reputation": 83, "user_id": 10072412, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NtEYxVFJGW8/AAAAAAAAAAI/AAAAAAAAAXs/u4gyoq1NaR4/photo.jpg?sz=128", "display_name": "Ayush Jain", "link": "https://stackoverflow.com/users/10072412/ayush-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2807, "favorite_count": 0, "accepted_answer_id": 55032921, "answer_count": 1, "score": 2, "last_activity_date": 1551910343, "creation_date": 1551907805, "question_id": 55032454, "link": "https://stackoverflow.com/questions/55032454/parameters-of-resource-filename-in-pkg-resource-in-python", "title": "Parameters of resource_filename in pkg_resource in python", "body": "<p>I don't understand how exactly pkg_resource.resource_filename() work and what are its parameters. I searched a lot on web but their official documentation does not cover it well. Can someone explain it?</p>\n"}, {"tags": ["python", "for-loop", "if-statement", "time", "jupyter"], "answers": [{"comments": [{"owner": {"reputation": 181, "user_id": 11111375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ea3c610221b7c9d0930547deb9b0a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Davies", "link": "https://stackoverflow.com/users/11111375/alex-davies"}, "edited": false, "score": 0, "creation_date": 1551930924, "post_id": 55034954, "comment_id": 96823774, "body": "Thanks for your answer. However, there is one more point I would like to know for the if condition   how to add or remove seconds on the time. for example: if (df.speed[time]&gt;df.speed[time+ 10]) or should it be (+00:00:10), or (+&#39;10s&#39;)?"}], "tags": [], "owner": {"reputation": 191, "user_id": 11156437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac35c9be5e324315c19dd781094b532f?s=128&d=identicon&r=PG&f=1", "display_name": "jmiguel", "link": "https://stackoverflow.com/users/11156437/jmiguel"}, "is_accepted": true, "score": 1, "last_activity_date": 1551941982, "last_edit_date": 1551941982, "creation_date": 1551924318, "answer_id": 55034954, "question_id": 55032453, "link": "https://stackoverflow.com/questions/55032453/iterating-over-time-series/55034954#55034954", "title": "Iterating over time series", "body": "<h2>Date Range (Seconds)</h2>\n\n<p>It seems you're using <code>pandas</code>. If that's so, you <strong>really</strong> should look at it's Time Series features: <a href=\"https://pandas.pydata.org/pandas-docs/stable/timeseries.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/timeseries.html</a></p>\n\n<p>More specific, at <code>pandas.date_range()</code>:</p>\n\n<pre><code>import pandas as pd\n\npd.date_range('00:00:00', '00:00:20', freq='5s')\n</code></pre>\n\n<p>Since it's a <strong>date</strong> range function, it'll return datetimes</p>\n\n<pre><code>DatetimeIndex(['2019-03-06 00:00:00',\n               '2019-03-06 00:00:05',\n                ...,\n               '2019-03-06 00:00:20'], dtype='datetime64[ns]', freq='5S')\n</code></pre>\n\n<p>From here just use <code>.strftime()</code> to get what you want:</p>\n\n<p><code>pd.date_range('00:00:00', '00:00:20', freq='5s').strftime('%H:%M:%S')</code></p>\n\n<p>Returns</p>\n\n<p><code>Index(['00:00:00', '00:00:05', ..., '00:00:20'], dtype='object')</code></p>\n\n<hr>\n\n<h2>Access dataframe by time</h2>\n\n<p>After that, in order to access your dataframe using this index you have two options:</p>\n\n<ol>\n<li>Using <code>.loc</code> to find the row where this time is:</li>\n</ol>\n\n<pre><code>for time in pd.date_range('00:00:00', '00:00:20', freq='5s').strftime('%H:%M:%S'):\n    if (df.loc[df['time'] == time, 'speed'] ..):\n</code></pre>\n\n<ol start=\"2\">\n<li>By redefining the dataframe index with <code>set_index()</code>, and then accessing it directly by time:</li>\n</ol>\n\n<pre><code>df.set_index('time', inplace=True)\nfor time in pd.date_range('00:00:00', '00:00:20', freq='5s').strftime('%H:%M:%S'):\n    if (df.speed[time] ...):\n</code></pre>\n\n<hr>\n\n<h2>Edit to address comment question</h2>\n\n<p>After you you use <code>strftime()</code> it is converted to a String. You could convert it back to add the 10 seconds like: </p>\n\n<p><code>df.speed[(pd.to_datetime(time) + pd.to_timedelta(10, unit='s')).strftime('%H:%M:%S')].</code> </p>\n\n<p>Or:</p>\n\n<pre><code>for time in pd.date_range('00:00:00', '00:00:20', freq='5s'):\n    if (df.speed[time.strftime('%H:%M:%S')]&gt;df.speed[(time + pd.to_timedelta(10, unit='s')).strftime('%H:%M:%S')]):\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 11111375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02ea3c610221b7c9d0930547deb9b0a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Davies", "link": "https://stackoverflow.com/users/11111375/alex-davies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 0, "accepted_answer_id": 55034954, "answer_count": 1, "score": 2, "last_activity_date": 1552167163, "creation_date": 1551907803, "last_edit_date": 1552167163, "question_id": 55032453, "link": "https://stackoverflow.com/questions/55032453/iterating-over-time-series", "title": "Iterating over time series", "body": "<p>The following is a sample of my dataset: </p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>index      time      speed\n 0      00:00:00      15\n 1      00:00:05      18\n 2      00:00:10      23\n 3      00:00:15      25\n 4      00:00:20      34\n</code></pre>\n\n<p>I would like to create a for loop that does the same function as below: </p>\n\n\n\n<pre class=\"lang-css prettyprint-override\"><code>for i in range (0,5,1):\n    if df.speed[i] &gt; df.speed [i+2]:\n         print ('Larger')\n    else:\n         print('Smaller')\n</code></pre>\n\n<p>However, I would like to refer to time instead of indices in the FOR loop. For example: </p>\n\n\n\n<pre class=\"lang-html prettyprint-override\"><code>for t in range (00:00:00, 00:00:20 , 5s):\n  if df.speed[t] &gt; df.speed [t+10s]: \n     print ('Larger')\n  else:\n     print('Smaller')\n</code></pre>\n\n<p>So the FOR LOOP will take the speed value at a certain t and compare with it the value of the speed after 10 seconds. If it is larger, then it prints Larger, otherwise, Smaller. </p>\n\n<p>I appreciate any help. Thanks.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 10593, "user_id": 4621513, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/uCfJK.png?s=128&g=1", "display_name": "mkrieger1", "link": "https://stackoverflow.com/users/4621513/mkrieger1"}, "edited": false, "score": 1, "creation_date": 1551907789, "post_id": 55032411, "comment_id": 96817428, "body": "Did you try something? Please show what the specific problem was."}], "answers": [{"comments": [{"owner": {"reputation": 3016, "user_id": 407861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6oTXFyxOgsM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdnbTTAUT8WV6--NCKwjh7D0ZnRw/mo/photo.jpg?sz=128", "display_name": "Alex V", "link": "https://stackoverflow.com/users/407861/alex-v"}, "edited": false, "score": 0, "creation_date": 1551908297, "post_id": 55032499, "comment_id": 96817670, "body": "This seems unnecessarily complicated. Why not just <code>dups = list(filter(lambda x: l.count(x)&gt;1, l))</code>"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "reply_to_user": {"reputation": 3016, "user_id": 407861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6oTXFyxOgsM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdnbTTAUT8WV6--NCKwjh7D0ZnRw/mo/photo.jpg?sz=128", "display_name": "Alex V", "link": "https://stackoverflow.com/users/407861/alex-v"}, "edited": false, "score": 0, "creation_date": 1551908494, "post_id": 55032499, "comment_id": 96817745, "body": "Well you are correct, I wasn&#39;t trying ot overcomplicate things, although with a counter they have the number of times a letter shows up"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "reply_to_user": {"reputation": 3016, "user_id": 407861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6oTXFyxOgsM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdnbTTAUT8WV6--NCKwjh7D0ZnRw/mo/photo.jpg?sz=128", "display_name": "Alex V", "link": "https://stackoverflow.com/users/407861/alex-v"}, "edited": false, "score": 0, "creation_date": 1551908683, "post_id": 55032499, "comment_id": 96817826, "body": "I edited, the list comprehension is better than a counter all day"}, {"owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "reply_to_user": {"reputation": 3016, "user_id": 407861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6oTXFyxOgsM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdnbTTAUT8WV6--NCKwjh7D0ZnRw/mo/photo.jpg?sz=128", "display_name": "Alex V", "link": "https://stackoverflow.com/users/407861/alex-v"}, "edited": false, "score": 0, "creation_date": 1551909911, "post_id": 55032499, "comment_id": 96818362, "body": "Using a list comp like you suggested, keeps the duplicates, he wanted them to be removed and keep only the ones that are duplicates. I believe the counter method would have worked but the above is probably the best I can think of."}, {"owner": {"reputation": 3016, "user_id": 407861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-6oTXFyxOgsM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCdnbTTAUT8WV6--NCKwjh7D0ZnRw/mo/photo.jpg?sz=128", "display_name": "Alex V", "link": "https://stackoverflow.com/users/407861/alex-v"}, "edited": false, "score": 0, "creation_date": 1551912943, "post_id": 55032499, "comment_id": 96819471, "body": "In that case <code>dups = list(set(filter(lambda x: l.count(x)&gt;1, l)))</code>. However, he never said he wanted to remove the duplicates in the new list of duplicates (though I agree it&#39;s a reasonable assumption)."}], "tags": [], "owner": {"reputation": 21440, "user_id": 225020, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/6ae07ec5b34fce5a6c5437fbdab9f079?s=128&d=identicon&r=PG", "display_name": "Jab", "link": "https://stackoverflow.com/users/225020/jab"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909530, "last_edit_date": 1551909530, "creation_date": 1551907998, "answer_id": 55032499, "question_id": 55032411, "link": "https://stackoverflow.com/questions/55032411/how-do-you-find-duplicate-strings-in-a-list/55032499#55032499", "title": "How do you find duplicate strings in a list?", "body": "<p>Use an <code>OrderedDict</code> to get a list without the duplicates then remove those from a copy of the original</p>\n\n<pre><code>from collections import OrderedDict\n\nlist_i = ['a','b','a','c','a','c','g','w','s','c','d','a','b','c','a','e']\n\nnon_dupes = list(OrderedDict.fromkeys(list_i))\n\ndupes = list(list_i)\nfor d in non_dupes:\n  dupes.remove(d)\n\nprint(dupes)\n#['a', 'a', 'c', 'c', 'a', 'b', 'c', 'a']\nprint(non_dupes)\n#['a', 'b', 'c', 'g', 'w', 's', 'd', 'e']\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11162190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3054e1cbcb0fa271366ffa0396c1565a?s=128&d=identicon&r=PG&f=1", "display_name": "matthew004", "link": "https://stackoverflow.com/users/11162190/matthew004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "closed_date": 1551910762, "answer_count": 1, "score": -4, "last_activity_date": 1551910294, "creation_date": 1551907629, "question_id": 55032411, "link": "https://stackoverflow.com/questions/55032411/how-do-you-find-duplicate-strings-in-a-list", "closed_reason": "Duplicate", "title": "How do you find duplicate strings in a list?", "body": "<p>I have a list with several stings, with some being duplicates. I need to pull out all the duplicate strings and append them into a new list. How can I do that?</p>\n\n<pre><code>list_i = ['a','b','a','c','a','c','g','w','s','c','d','a','b','c','a','e']\n</code></pre>\n"}, {"tags": ["python", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908337, "creation_date": 1551908337, "answer_id": 55032574, "question_id": 55032382, "link": "https://stackoverflow.com/questions/55032382/replace-values-along-a-given-axis/55032574#55032574", "title": "replace values along a given axis", "body": "<p>You can create an index tuple via generator expression:</p>\n\n<pre><code>x[tuple(0 if i == dim else slice(None) for i in range(4))] = y\n</code></pre>\n\n<p>A more verbose version:</p>\n\n<pre><code>index = [slice(None)] * len(x.shape)\nindex[dim] = 0\nx[tuple(index)] = y\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 47088, "user_id": 7207392, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dadc9567dde5f02b09a29695eca1ce40?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Panzer", "link": "https://stackoverflow.com/users/7207392/paul-panzer"}, "is_accepted": false, "score": 0, "last_activity_date": 1551919216, "creation_date": 1551919216, "answer_id": 55034363, "question_id": 55032382, "link": "https://stackoverflow.com/questions/55032382/replace-values-along-a-given-axis/55034363#55034363", "title": "replace values along a given axis", "body": "<p>You can move the dim'th axis to the front:</p>\n\n<pre><code>np.moveaxis(x, dim, 0)[0] = y\n</code></pre>\n"}], "owner": {"reputation": 22345, "user_id": 395573, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4a4cee4867d94511baabe7ebf49ef28a?s=128&d=identicon&r=PG", "display_name": "MBZ", "link": "https://stackoverflow.com/users/395573/mbz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551919216, "creation_date": 1551907505, "question_id": 55032382, "link": "https://stackoverflow.com/questions/55032382/replace-values-along-a-given-axis", "title": "replace values along a given axis", "body": "<p>Consider the following givens:</p>\n\n<ul>\n<li>a numpy hypercube e.g. <code>x = np.random.rand(8, 8, 8, 8)</code></li>\n<li>a dimension index e.g. <code>dim = 1</code></li>\n<li>a replacement array e.g. <code>y = np.random.rand(8)</code></li>\n</ul>\n\n<p>how can I replace all the values of the given dimension? </p>\n\n<p>i.e., can i do better than:</p>\n\n<pre><code>if dim == 0:\n    x[0,:,:,:] = y\nelif dim == 1:\n    x[:,0,:,:] = y\nelif dim == 2:\n    x[:,:,0,:] = y\nelif dim == 3:\n    x[:,:,:,0] = y\nelse:\n    throw\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1551907624, "post_id": 55032353, "comment_id": 96817354, "body": "Welcome to Stack Overflow. In order to help you understand how some code works, we need to first see the code. Please show us a short example that illustrates what you are asking about and we can help from there."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1551907694, "post_id": 55032353, "comment_id": 96817392, "body": "Related: <a href=\"https://stackoverflow.com/questions/19775692/use-and-meaning-of-in-in-an-if-statement\" title=\"use and meaning of in in an if statement\">stackoverflow.com/questions/19775692/&hellip;</a> Note that as this link explains, <code>in</code> works differently for different types of data."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 2, "creation_date": 1551907738, "post_id": 55032353, "comment_id": 96817411, "body": "It&#39;s not searching within the reviews but it&#39;s comparing the word with the whole reviews that are stored in the list. The internal workings of <code>a in b</code> depend very much on <code>type(b)</code>. For your list it comes down to roughly <code>any(a == x for x in b)</code>."}, {"owner": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1551908524, "post_id": 55032353, "comment_id": 96817755, "body": "@Code-Apprentice I added a sample code"}], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "edited": false, "score": 0, "creation_date": 1551908762, "post_id": 55032431, "comment_id": 96817855, "body": "I think I can try the dict._contains_ method and check the differences, thank you for your clarification"}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "reply_to_user": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "edited": false, "score": 0, "creation_date": 1551908951, "post_id": 55032431, "comment_id": 96817955, "body": "What do you mean &quot;try&quot;? Either you have a <code>dict</code> or you don&#39;t; you can&#39;t apply <code>dict.__contains__</code> to an object that isn&#39;t a <code>dict</code>."}, {"owner": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "edited": false, "score": 0, "creation_date": 1551909188, "post_id": 55032431, "comment_id": 96818056, "body": "Well I am thinking to create the dictionary using the reviews first instead of creating a list"}, {"owner": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "edited": false, "score": 0, "creation_date": 1552385222, "post_id": 55032431, "comment_id": 96979116, "body": "Note I am registering this as an answer because when I used a dictionary to search instead a list the code is much faster now thanks for the help ! If anyone is having any similar problem please let me know I will share the code with you."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1551908087, "last_edit_date": 1551908087, "creation_date": 1551907708, "answer_id": 55032431, "question_id": 55032353, "link": "https://stackoverflow.com/questions/55032353/how-does-the-in-keyword-in-python-work-is-there-a-faster-way/55032431#55032431", "title": "How does the &quot;in&quot; keyword in python work ? Is there a faster way?", "body": "<p><code>in</code> itself is not faster; it's just the public face of the <code>__contains__</code> method that a class can define. <code>list.__contains__</code> is an O(n) operation because it has to walk through the entire list looking for a match. </p>\n\n<pre><code># a in my_list\nfor x in my_list:\n    if x == a:\n        return True\nreturn False\n</code></pre>\n\n<p><code>dict.__contains__</code> is fast because it just needs to perform the O(1) lookup in a <code>dict</code> value.</p>\n\n<pre><code># a in my_dict\ntry:\n     my_dict[a]\n     return True\n except KeyError:\n     return False\n</code></pre>\n\n<p>Other classes can define <code>__contains__</code> as needed. Consider a class representing a binary search tree:</p>\n\n<pre><code>class BST:\n    # You should be able to infer enough of the structure of the tree\n    # from this definition.\n    def __contains__(self, x):\n        node = self.root\n        while node is not None:\n            if node.value == x:\n                return True\n            elif node.value &lt; x:\n                node = node.right\n            else:\n                node = node.left\n        return False\n</code></pre>\n\n<p>Most importantly, it doesn't do an O(n) traversal of the entire tree looking for <code>x</code>; instead, it does a O(lg n) walk down from the root.</p>\n"}], "owner": {"reputation": 83, "user_id": 6548008, "user_type": "registered", "profile_image": "https://graph.facebook.com/1705946826321725/picture?type=large", "display_name": "Essam Gouda", "link": "https://stackoverflow.com/users/6548008/essam-gouda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 55032431, "answer_count": 1, "score": -2, "last_activity_date": 1551921041, "creation_date": 1551907392, "last_edit_date": 1551921041, "question_id": 55032353, "link": "https://stackoverflow.com/questions/55032353/how-does-the-in-keyword-in-python-work-is-there-a-faster-way", "title": "How does the &quot;in&quot; keyword in python work ? Is there a faster way?", "body": "<p>I am a programming newbie and I was playing with some big data (yelp dataset 6m+ reviews) and for a simple example I wanted to try to find a certain word in a text so basically i tried to for loop through all this data and find a certain word in these reviews and before getting triggered I know that this is the worst way of doing that but then I used nltk to preprocess the data, put the reviews in a list and check for the word inside this list using the \"in\" keyword and it was much faster so my question is what makes the \"in\" keyword faster ? And is there an even faster way other than improving the preprocessing part ?</p>\n\n<p>Edit 1(here is an example code): </p>\n\n<p>First I tokenize the review e.x \"This place is good\" becomes [\"This\",\"place\",\"is\",\"good\"]</p>\n\n<pre><code>contents = word_tokenize(data[u'text'])\n</code></pre>\n\n<p>Then I check if a certain string is in this list</p>\n\n<pre><code>if(contents[i] in list_of_targeted_words): return 1\n</code></pre>\n\n<p>This appeared to be faster than using for loop </p>\n\n<pre><code>if(contents[i] == list_of_targeted_words[j]): return 1\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 5, "creation_date": 1551907400, "post_id": 55032234, "comment_id": 96817270, "body": "<code>ax.set_xticks(dates.date2num(datetime(1991,1,1)), minor=True)</code>"}, {"owner": {"reputation": 11, "user_id": 11106029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/043e2f9ef84dc63e24aa80094251966a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas L", "link": "https://stackoverflow.com/users/11106029/andreas-l"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1552833096, "post_id": 55032234, "comment_id": 97152228, "body": "This doesn&#39;t work for me. I keep getting &quot;object of type &#39;float&#39; has no len()&quot;"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1552833291, "post_id": 55032234, "comment_id": 97152304, "body": "I suspect its rather <code>ax.set_xticks([dates.date2num(datetime(1991,1,1))], minor=True)</code> then. Note that without <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, one cannot test."}], "owner": {"reputation": 11, "user_id": 11106029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/043e2f9ef84dc63e24aa80094251966a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas L", "link": "https://stackoverflow.com/users/11106029/andreas-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551907242, "creation_date": 1551906820, "last_edit_date": 1551907242, "question_id": 55032234, "link": "https://stackoverflow.com/questions/55032234/matplotlib-set-minor-tick-at-a-specific-date", "title": "Matplotlib set minor tick at a specific date", "body": "<p>I am trying to set a minor tick in Matplotlib at a specific date to indicate a change at that date, however I can not seem to find a way to implement that.\nI want my minor_locator to only be at the date 1991-01-01.</p>\n\n<p>My code:</p>\n\n<pre><code>fig,ax = plt.subplots(figsize=(12,8))\nax.plot_date(texas_third_final.index,texas_third_final['Value'],'-')\n\nax.xaxis.set_major_locator(dates.YearLocator())\nax.xaxis.set_major_formatter(dates.DateFormatter('%Y'))\n\nax.xaxis.set_minor_locator(dates.YearLocator())\nax.xaxis.set_minor_formatter(dates.DateFormatter('\\n\\n%Y'))\n\nfig.autofmt_xdate()\nplt.tight_layout()\n</code></pre>\n\n<p>Chart Layout and code:</p>\n\n<p><img src=\"https://i.stack.imgur.com/5MVfP.png\" alt=\"Chart Layout and code\"></p>\n"}, {"tags": ["python", "anaconda"], "owner": {"reputation": 508, "user_id": 7867604, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b6f48d00a4448cee7b8ae34450905df7?s=128&d=identicon&r=PG&f=1", "display_name": "RezAm", "link": "https://stackoverflow.com/users/7867604/rezam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1551916087, "creation_date": 1551906744, "last_edit_date": 1551916087, "question_id": 55032220, "link": "https://stackoverflow.com/questions/55032220/cant-either-install-or-uninstall-package-via-anaconda", "title": "Can&#39;t either install or uninstall package via Anaconda", "body": "<p>I've been trying to install the <a href=\"https://pypi.org/project/openquake.engine/\" rel=\"nofollow noreferrer\">openquake.engine</a> package via Anaconda. At first I got multiple errors one after another but [I thought] I fixed everything (pls see the P.S. for errors and solutions to them). Now, after going through all that, I get the following error:</p>\n\n<pre><code>openquake-engine 3.3.2 has requirement numpy&lt;1.15,&gt;=1.14, but you'll have numpy 1.16.2 which is incompatible.\nosmnx 0.9 has requirement networkx&gt;=2.2, but you'll have networkx 2.1 which is incompatible.\nosmnx 0.9 has requirement requests&gt;=2.21, but you'll have requests 2.20.1 which is incompatible.\n</code></pre>\n\n<p>First, it does not make sense as in PyPi the last released date of the package is Jan 22, 2019! Then here is the main issue: when I use <code>conda list</code>, <code>openquake.engine</code> is not listed!! </p>\n\n<p>But when I run<code>pip install openquake.engine</code>, I get the following:</p>\n\n<pre><code>Requirement already satisfied: openquake.engine in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (3.3.2)\nRequirement already satisfied: numpy&lt;1.15,&gt;=1.14 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (1.14.6)\nRequirement already satisfied: nose&lt;1.4,&gt;=1.3 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (1.3.7)\nRequirement already satisfied: requests&lt;2.21,&gt;=2.20 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (2.20.1)\nRequirement already satisfied: scipy&lt;1.2,&gt;=1.0.1 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (1.1.0)\nRequirement already satisfied: docutils&lt;0.15,&gt;=0.11 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (0.14)\nRequirement already satisfied: mock&lt;2.1,&gt;=1.0 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (2.0.0)\nRequirement already satisfied: rtree==0.8.3 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (0.8.3)\nRequirement already satisfied: decorator&gt;=4.3 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (4.3.2)\nRequirement already satisfied: shapely&lt;1.7,&gt;=1.3 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (1.6.4.post2)\nRequirement already satisfied: matplotlib&lt;2.3,&gt;=1.5 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (2.2.4)\nRequirement already satisfied: pyshp==1.2.3 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (1.2.3)\nRequirement already satisfied: setuptools in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (40.8.0)\nRequirement already satisfied: h5py&lt;2.9,&gt;=2.8 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from openquake.engine) (2.8.0)\nRequirement already satisfied: pyzmq&lt;18.0 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (17.1.3)\nRequirement already satisfied: django&lt;2.1,&gt;=1.10 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (2.0.13)\nRequirement already satisfied: psutil&lt;5.5,&gt;=2.0 in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (5.4.3)\nRequirement already satisfied: PyYAML in c:\\programdata\\anaconda3\\lib\\site-packages (from openquake.engine) (3.12)\nRequirement already satisfied: urllib3&lt;1.25,&gt;=1.21.1 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests&lt;2.21,&gt;=2.20-&gt;openquake.engine) (1.22)\nRequirement already satisfied: certifi&gt;=2017.4.17 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests&lt;2.21,&gt;=2.20-&gt;openquake.engine) (2018.11.29)\nRequirement already satisfied: idna&lt;2.8,&gt;=2.5 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests&lt;2.21,&gt;=2.20-&gt;openquake.engine) (2.6)\nRequirement already satisfied: chardet&lt;3.1.0,&gt;=3.0.2 in c:\\programdata\\anaconda3\\lib\\site-packages (from requests&lt;2.21,&gt;=2.20-&gt;openquake.engine) (3.0.4)\nRequirement already satisfied: pbr&gt;=0.11 in c:\\users\\ameri19\\appdata\\roaming\\python\\python36\\site-packages (from mock&lt;2.1,&gt;=1.0-&gt;openquake.engine) (5.1.3)\nRequirement already satisfied: six&gt;=1.9 in c:\\programdata\\anaconda3\\lib\\site-packages (from mock&lt;2.1,&gt;=1.0-&gt;openquake.engine) (1.11.0)\nRequirement already satisfied: python-dateutil&gt;=2.1 in c:\\programdata\\anaconda3\\lib\\site-packages (from matplotlib&lt;2.3,&gt;=1.5-&gt;openquake.engine) (2.6.1)\nRequirement already satisfied: pytz in c:\\programdata\\anaconda3\\lib\\site-packages (from matplotlib&lt;2.3,&gt;=1.5-&gt;openquake.engine) (2017.3)\nRequirement already satisfied: kiwisolver&gt;=1.0.1 in c:\\programdata\\anaconda3\\lib\\site-packages (from matplotlib&lt;2.3,&gt;=1.5-&gt;openquake.engine) (1.0.1)\nRequirement already satisfied: pyparsing!=2.0.4,!=2.1.2,!=2.1.6,&gt;=2.0.1 in c:\\programdata\\anaconda3\\lib\\site-packages (from matplotlib&lt;2.3,&gt;=1.5-&gt;openquake.engine) (2.2.0)\nRequirement already satisfied: cycler&gt;=0.10 in c:\\programdata\\anaconda3\\lib\\site-packages (from matplotlib&lt;2.3,&gt;=1.5-&gt;openquake.engine) (0.10.0)\n</code></pre>\n\n<p>Then, when I use <code>pip uninstall openquake.engine</code>, I get the following error:</p>\n\n<pre><code>Exception:\nTraceback (most recent call last):\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 179, in main\n    status = self.run(options, args)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\commands\\uninstall.py\", line 75, in run\n    auto_confirm=options.yes, verbose=self.verbosity &gt; 0,\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_install.py\", line 816, in uninstall\n    uninstalled_pathset = UninstallPathSet.from_dist(dist)\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_uninstall.py\", line 496, in from_dist\n    for path in uninstallation_paths(dist):\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_uninstall.py\", line 50, in unique\n    for item in fn(*args, **kw):\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_uninstall.py\", line 67, in uninstallation_paths\n    r = csv.reader(FakeFile(dist.get_metadata_lines('RECORD')))\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 1414, in get_metadata_lines\n    return yield_lines(self.get_metadata(name))\n  File \"C:\\ProgramData\\Anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 1411, in get_metadata\n    return value.decode('utf-8') if six.PY3 else value\nUnicodeDecodeError: 'utf-8' codec can't decode byte 0xe8 in position 152595: invalid continuation byte\n</code></pre>\n\n<p>Also, after I run <code>pip install openquake.engine</code>, it seems it automatically uninstalls the latest version of <code>numpy</code> and installs a former version that is compatible to <code>openquake.engine</code>, but then when I run something like <code>from openquake.hazardlib import const</code> I get the following error: </p>\n\n<pre><code>could not find or load spatialindex_c.dll\n</code></pre>\n\n<p>which is error #3 in the P.S. section below! And after I run <code>conda install -c conda-forge osmnx</code> to solve the issue, I start getting this error:</p>\n\n<pre><code>Something is wrong with the numpy installation. While importing we detected an older version of numpy in ['C:\\\\ProgramData\\\\Anaconda3\\\\lib\\\\site-packages\\\\numpy']. One method of fixing this is to repeatedly uninstall numpy until none is found, then reinstall this version.\n</code></pre>\n\n<p>So it seems like a deadlock! Dose anyone know how I could fix this?</p>\n\n<p><strong>P.S. Errors and Solutions:</strong></p>\n\n<p><em>error #1: (occurred while using 'pip install openquake.engine' in Anaconda)</em> </p>\n\n<pre><code>Command \"python setup.py egg_info\" failed with error code 1 in C:\\temp\\pip-install-mco6__1j\\shapely\\\n</code></pre>\n\n<p><em>Solution to error #1:</em> </p>\n\n<pre><code>conda install -c conda-forge shapely\n</code></pre>\n\n<p><em>error #2: (occurred while using 'pip install openquake.engine' in Anaconda, EVEN THOUGH I was running the prompt as administrator!!)</em></p>\n\n<pre><code>PermissionError: [WinError 5] Access is denied\n</code></pre>\n\n<p><em>Solution to error #2:</em></p>\n\n<pre><code>pip install openquake.engine --user\n</code></pre>\n\n<p>Here, I got multiple <em>warnings</em>, but they did not seem to be that important! I tried <code>import epenquake.engine</code> in the Spyder and as it worked like a charm I thought it is all good (but it was not; see error #3)!</p>\n\n<p><em>error #3: (occured while running <code>from openquake.hazardlib import const</code>)</em> </p>\n\n<pre><code>could not find or load spatialindex_c.dll\n</code></pre>\n\n<p><em>Solution to error #3:</em></p>\n\n<pre><code>conda install -c conda-forge osmnx\n</code></pre>\n"}, {"tags": ["python", "opencv"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10462374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac08fbd0432acde164fd86c9d6d7365?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/10462374/bill"}, "edited": false, "score": 0, "creation_date": 1552424053, "post_id": 55032330, "comment_id": 97002555, "body": "Thanks very much, once I added the int() function as suggested it worked fine, well the error disappeared :-)"}], "tags": [], "owner": {"reputation": 758, "user_id": 6203350, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/tHrBB.jpg?s=128&g=1", "display_name": "asendjasni", "link": "https://stackoverflow.com/users/6203350/asendjasni"}, "is_accepted": true, "score": 1, "last_activity_date": 1551907817, "last_edit_date": 1551907817, "creation_date": 1551907253, "answer_id": 55032330, "question_id": 55032216, "link": "https://stackoverflow.com/questions/55032216/error-encountered-when-running-opencv-line-drawing-script/55032330#55032330", "title": "Error encountered when running OpenCV line drawing script", "body": "<p>Your variables <code>ptx1, pty1, ptx2 and pty2</code> are floats, the function expects integers. Transtype them in integer using the <code>int()</code> function:</p>\n\n<pre><code>ptx1 = int((x1 + 800)/2)\n</code></pre>\n\n<p>Or use the following syntax:</p>\n\n<pre><code>ptx1 = (x1 + 800) // 2\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10462374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ac08fbd0432acde164fd86c9d6d7365?s=128&d=identicon&r=PG&f=1", "display_name": "Bill", "link": "https://stackoverflow.com/users/10462374/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 55032330, "answer_count": 1, "score": 0, "last_activity_date": 1551908828, "creation_date": 1551906720, "last_edit_date": 1551908828, "question_id": 55032216, "link": "https://stackoverflow.com/questions/55032216/error-encountered-when-running-opencv-line-drawing-script", "title": "Error encountered when running OpenCV line drawing script", "body": "<p>I am trying out some OpenCV code for a robot to navigate a maze. I am able to detect the edges of the walls of the maze and now for testing, I want to try and draw some imaginary lines halfway between each edge that has been detected. This will then be the driving line.</p>\n\n<p>Each line found has a start and end point defined by x1, y1 and x2, y2</p>\n\n<p>The code snippet below attempts to create the coordinates for the center lines and assign them to variables <code>ptx1</code>, <code>pty1</code>, <code>ptx2</code> and <code>pty2</code>. The math is probably wrong but I am getting a <code>TypeError</code> and need some help fixing it. </p>\n\n<p>Here is the error:</p>\n\n<blockquote>\n  <p>TypeError: integer argument expected, got float </p>\n</blockquote>\n\n<p>The error is pointing to the last line:</p>\n\n<pre><code>for line in lines:\nfor x1,y1,x2,y2 in line:\n    print(x1)\n    print(y1)\n    ptx1 = (x1+800)/2\n    pty1 = (y1+600)/2\n    ptx2 = (x2+800)/2\n    pty2 = (y2+600)/2\n\n    cv2.line(lines_edges, (ptx1,pty1),(ptx2,pty2), (0,0,255), 5)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "numpy"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551908444, "post_id": 55032193, "comment_id": 96817729, "body": "Why are you using list comprehensions to work with your <code>numpy.ndarray</code> objects? Just use lists. Note, you should <b>always</b> use a generic [python] tag for python questions"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1551908554, "post_id": 55032622, "comment_id": 96817767, "body": "Why? Why use numpy with lists?"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551908916, "post_id": 55032622, "comment_id": 96817935, "body": "I could also use math or the reduce function, but I find this to be the easiest way."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1551909009, "post_id": 55032622, "comment_id": 96817974, "body": "<b>But why use <code>list</code></b> objects? That doesn&#39;t make any sense. If you are going to use <code>numpy</code>, then <i>use <code>numpy.ndarray</code></i> objects, or else that defeats the entire purpose. If <code>a</code> were an <code>numpy.ndarray</code>, then you could simply do <code>a.prod(axis=1)</code>"}, {"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1551909239, "post_id": 55032622, "comment_id": 96818078, "body": "Because that is what the OP is asking in his question. He is not asking is there a more efficient way to solve the problem but if there was a way to do so for any 2-D array which is a list and not a numpy array. You are correct in a sense, but I argue that it does not defeat the purpose of using numpy since it shows the versatility of the numpy package. Plus it is in the relatively same format that the OP tried to solve the problem with in the first step - using numpy and list comprehension. But yes I agree, making a numpy array would be easier."}], "tags": [], "owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "is_accepted": true, "score": 1, "last_activity_date": 1551908506, "creation_date": 1551908506, "answer_id": 55032622, "question_id": 55032193, "link": "https://stackoverflow.com/questions/55032193/why-does-it-print-array-when-in-a-list-when-using-an-array-to-iterate-and-p/55032622#55032622", "title": "Why does it print array([ ]) when in a list when using an array to iterate and pull elements from?", "body": "<p>The easiest way is to use the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.prod.html\" rel=\"nofollow noreferrer\">prod</a> function in numpy. </p>\n\n<pre><code>from numpy import prod\n\na = [[1,2],[3,4]]\nb = [prod(x) for x in a] \nprint(b)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[2,12]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1123, "user_id": 5233175, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F4N6y.jpg?s=128&g=1", "display_name": "Paul W&#252;rtz", "link": "https://stackoverflow.com/users/5233175/paul-w%c3%bcrtz"}, "is_accepted": false, "score": 1, "last_activity_date": 1551913941, "creation_date": 1551913941, "answer_id": 55033661, "question_id": 55032193, "link": "https://stackoverflow.com/questions/55032193/why-does-it-print-array-when-in-a-list-when-using-an-array-to-iterate-and-p/55033661#55033661", "title": "Why does it print array([ ]) when in a list when using an array to iterate and pull elements from?", "body": "<p>To answer the question in parts.</p>\n\n<ul>\n<li><ol>\n<li>Why does it print array([ ])... ?</li>\n</ol></li>\n</ul>\n\n<p>The numpy array you use is a class with a <code>__repr__</code> or a <code>__str__</code> method, which decides what you see, when you have it as an argument in a <code>print</code> statement.</p>\n\n<p>In numpys array case, something along the lines of:</p>\n\n<pre><code>def __repr__(self):\n    return self.__class__.__name__ + \"(\" + repr(self.array) + \")\"\n</code></pre>\n\n<ul>\n<li>2 ... when in a list using an array...</li>\n</ul>\n\n<p>The list or dict calls the child elements <code>__repr__</code> methods in its <code>__repr__</code> method.</p>\n\n<ul>\n<li><ol start=\"3\">\n<li>...and pull elements from?</li>\n</ol></li>\n</ul>\n\n<p>in your inner <code>x*z</code> you are multiplying <code>x</code>, a number (1 or 2) with <code>z</code> a 1x2 array (<code>b[0:1] = array([[1, 2]])</code>). Which has an array as a result, which is the array of itself, multiplied by each of its elements as a scalar (<code>[[1*1, 1*2]], [2*1, 2*2]]</code>)</p>\n\n<p>Some other solution for your problem (but probably the already mentioned prod while for sure be much faster ;)): </p>\n\n<pre><code>import numpy as np\n\na=[[1,2],[3,4]]\n\nb=np.array(a)\n\nc=[[z1*z2] for z1, z2 in b]\n\nprint(c)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 11162078, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8VYo1jXEemM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQ2a0VG_GCGmK8dHfeLrIMwsvnEA/mo/photo.jpg?sz=128", "display_name": "Excubi", "link": "https://stackoverflow.com/users/11162078/excubi"}, "edited": false, "score": 0, "creation_date": 1552401934, "post_id": 55033740, "comment_id": 96990005, "body": "Than you very much really explained it and I was able to see so many areas where I could simply my code."}], "tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 3, "last_activity_date": 1551914732, "last_edit_date": 1551914732, "creation_date": 1551914431, "answer_id": 55033740, "question_id": 55032193, "link": "https://stackoverflow.com/questions/55032193/why-does-it-print-array-when-in-a-list-when-using-an-array-to-iterate-and-p/55033740#55033740", "title": "Why does it print array([ ]) when in a list when using an array to iterate and pull elements from?", "body": "<p>Look at the action - step by step:</p>\n\n<pre><code>In [170]: b.shape                                                               \nOut[170]: (2, 2)\nIn [171]: b[0:1]                                                                \nOut[171]: array([[1, 2]])              # (1,2) array\nIn [172]: [z for z in b[0:1]]                                                   \nOut[172]: [array([1, 2])]              # iteration on 1st, size 1 dimension\nIn [173]: [[x for x in z] for z in b[0:1]]                                      \nOut[173]: [[1, 2]]\nIn [174]: [[x*z for x in z] for z in b[0:1]]                                    \nOut[174]: [[array([1, 2]), array([2, 4])]]\n</code></pre>\n\n<p>So you are doing <code>[1*np.array([1,2]), 2*np.array([1,2])]</code></p>\n\n<p>With the <code>b[0:1]</code> slicing you aren't even touching the 2nd row of <code>b</code>.</p>\n\n<p>But a simpler list comprehension does:</p>\n\n<pre><code>In [175]: [i*j for i,j in b]     # this iterates on the rows of b                                               \nOut[175]: [2, 12]\n</code></pre>\n\n<p>or</p>\n\n<pre><code>In [176]: b[:,0]*b[:,1]                                                         \nOut[176]: array([ 2, 12])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 1, "last_activity_date": 1551914467, "creation_date": 1551914467, "answer_id": 55033747, "question_id": 55032193, "link": "https://stackoverflow.com/questions/55032193/why-does-it-print-array-when-in-a-list-when-using-an-array-to-iterate-and-p/55033747#55033747", "title": "Why does it print array([ ]) when in a list when using an array to iterate and pull elements from?", "body": "<p>You can just multiply the first column with the second one:</p>\n\n<pre><code>c = b[:, 0] * b[:, 1]\n</code></pre>\n\n<p>Or you can use <code>np.multiply</code>:</p>\n\n<pre><code>c = np.multiply.reduce(b[:, :2], axis=1)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11162078, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8VYo1jXEemM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQ2a0VG_GCGmK8dHfeLrIMwsvnEA/mo/photo.jpg?sz=128", "display_name": "Excubi", "link": "https://stackoverflow.com/users/11162078/excubi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 55032622, "answer_count": 4, "score": 3, "last_activity_date": 1551914732, "creation_date": 1551906618, "last_edit_date": 1551908619, "question_id": 55032193, "link": "https://stackoverflow.com/questions/55032193/why-does-it-print-array-when-in-a-list-when-using-an-array-to-iterate-and-p", "title": "Why does it print array([ ]) when in a list when using an array to iterate and pull elements from?", "body": "<p>Looking to see if I could use comprehensions or array operators, instead of for loops.</p>\n\n<pre><code>import numpy as np\n\na=[[1,2],[3,4]]\n\nb=np.array(a)\n\nc=[[x*z for x in z] for z in b[0:1]]\n\nprint(c)\n</code></pre>\n\n<blockquote>\n  <p>OUTPUT = [[array([1, 2]), array([2, 4])]]</p>\n</blockquote>\n\n<p>I want a list or array = [2,12]</p>\n\n<p>I can convert list to 1D array after.\nWhere it is first element * second element for each row in array.</p>\n\n<p>I want it to work on a general case for any 2 dimensional array.</p>\n"}, {"tags": ["python", "pagination", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 509, "user_id": 8194139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/126cdac8817612115ebf36928a3203f2?s=128&d=identicon&r=PG&f=1", "display_name": "NicoAdrian", "link": "https://stackoverflow.com/users/8194139/nicoadrian"}, "edited": false, "score": 0, "creation_date": 1606304640, "post_id": 55032163, "comment_id": 114922654, "body": "Do you mean that the pagination also fetch the ressource itself ? What can I do if I only want to list the content of my bucket under a specific prefix without pulling them ?"}], "tags": [], "owner": {"reputation": 1222, "user_id": 5818232, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208806722233433/picture?type=large", "display_name": "Antoine Boisier-Michaud", "link": "https://stackoverflow.com/users/5818232/antoine-boisier-michaud"}, "is_accepted": true, "score": 0, "last_activity_date": 1551906507, "creation_date": 1551906507, "answer_id": 55032163, "question_id": 55032162, "link": "https://stackoverflow.com/questions/55032162/why-is-iterating-over-pages-return-by-a-paginator-so-slow-with-boto3/55032163#55032163", "title": "Why is iterating over pages return by a paginator so slow with boto3?", "body": "<p>The reason why iterating over the pages is so slow is that you aren't only iterating over the resources, you are pulling the resources.</p>\n\n<p>From the documentation, here's what <code>paginator</code>says:</p>\n\n<blockquote>\n  <p><strong>paginate(**kwargs)</strong></p>\n  \n  <p>Create paginator object for an operation.</p>\n  \n  <p>This returns an iterable object. Iterating over this object will yield a \n     single page of a response at a time.</p>\n</blockquote>\n"}], "owner": {"reputation": 1222, "user_id": 5818232, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208806722233433/picture?type=large", "display_name": "Antoine Boisier-Michaud", "link": "https://stackoverflow.com/users/5818232/antoine-boisier-michaud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 318, "favorite_count": 0, "accepted_answer_id": 55032163, "answer_count": 1, "score": 0, "last_activity_date": 1551906507, "creation_date": 1551906507, "question_id": 55032162, "link": "https://stackoverflow.com/questions/55032162/why-is-iterating-over-pages-return-by-a-paginator-so-slow-with-boto3", "title": "Why is iterating over pages return by a paginator so slow with boto3?", "body": "<p>I am using boto3 to retrieve resources from an AWS infrastructure. My code is pulling functions from all 16 regions. I was curious about why it was so slow (around 20 seconds). While investigating, I realized the following line of code was the bottleneck:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>pages = client.get_paginator(paginator_name).paginate(**paginator_args)\nclient = AWSFacadeUtils.get_client(service, region)\npages = client.get_paginator(paginator_name).paginate(**paginator_args))\n\nresources = []\nfor page in pages: # This is hella slow\n    resources.extend(page[key])\n\nreturn resources\n</code></pre>\n\n<p>Why is iterating over the pages so slow?</p>\n"}, {"tags": ["python", "arrays", "random"], "comments": [{"owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "edited": false, "score": 1, "creation_date": 1551907203, "post_id": 55032150, "comment_id": 96817194, "body": "you can also use <code>np.random.sample(</code> which has an argument <code>replace</code> for with or without replacement"}], "answers": [{"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 2, "last_activity_date": 1551906995, "creation_date": 1551906995, "answer_id": 55032274, "question_id": 55032150, "link": "https://stackoverflow.com/questions/55032150/selecting-3-random-elements-from-an-array-in-python/55032274#55032274", "title": "Selecting 3 random elements from an array in python", "body": "<p>You can use <code>random.choices</code> instead:</p>\n\n<pre><code>result = random.choices(dataset[:,0], k=3)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 11154741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804f4a73e31da0efb11958062e8b8298?s=128&d=identicon&r=PG", "display_name": "Nicolaj Rasmussen", "link": "https://stackoverflow.com/users/11154741/nicolaj-rasmussen"}, "is_accepted": true, "score": 6, "last_activity_date": 1551907003, "creation_date": 1551907003, "answer_id": 55032276, "question_id": 55032150, "link": "https://stackoverflow.com/questions/55032150/selecting-3-random-elements-from-an-array-in-python/55032276#55032276", "title": "Selecting 3 random elements from an array in python", "body": "<p>You can use random.sample(), if you want to sample without replacement, ie. the same element can't be picked twice.</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; l = [0.3, 0.2, 0.1, 0.4, 0.5, 0.6]\n&gt;&gt;&gt; random.sample(l, 3)\n[0.3, 0.5, 0.1]\n</code></pre>\n\n<p>If you want to sample with replacement, you can random.choices()</p>\n\n<pre><code>&gt;&gt;&gt; import random\n&gt;&gt;&gt; l = [0.3, 0.2, 0.1, 0.4, 0.5, 0.6]\n&gt;&gt;&gt; random.choices(l, k=3)\n[0.3, 0.5, 0.3]\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 10190803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92cc0e9e3e6aa5c29bc05b9c64296921?s=128&d=identicon&r=PG&f=1", "display_name": "user10190803", "link": "https://stackoverflow.com/users/10190803/user10190803"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 919, "favorite_count": 1, "accepted_answer_id": 55032276, "answer_count": 2, "score": 1, "last_activity_date": 1551907018, "creation_date": 1551906457, "question_id": 55032150, "link": "https://stackoverflow.com/questions/55032150/selecting-3-random-elements-from-an-array-in-python", "title": "Selecting 3 random elements from an array in python", "body": "<p>I am trying to select three random elements from within a array.\nI currently have implemented:</p>\n\n<pre><code>result= np.random.uniform(np.min(dataset[:,1]), np.max(dataset[:,1]), size=3\n</code></pre>\n\n<p>Which returns three random floats between the min and max range. I am struggling finding a way to select random elements within an array, instead of a random float which may not exist as an element inside the array.</p>\n\n<p>I have also tried:</p>\n\n<pre><code>result = random.choice(dataset[:,0])\n</code></pre>\n\n<p>Which only returns a single element, is it possible to return 3 with this function</p>\n"}, {"tags": ["python", "django", "django-models", "django-templates", "django-views"], "answers": [{"tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907764, "creation_date": 1551907764, "answer_id": 55032441, "question_id": 55032140, "link": "https://stackoverflow.com/questions/55032140/how-to-shuffle-the-data-retrieved-from-the-database/55032441#55032441", "title": "how to shuffle the data retrieved from the database", "body": "<p>There are a lot of similar posts to randomly get objects in Django, like <a href=\"https://stackoverflow.com/a/38497778/9225671\">this</a> for example.</p>\n\n<p>I suggest doing the suffling in your view:</p>\n\n<pre><code>id_list = list(\n    Book.objects.exclude(pk=book.pk).values_list('id', flat=True))\n\nn = 2\nrand_ids = random.sample(id_list, n)\nsimilar_books = Book.objects.filter(id__in=rand_ids)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 10169689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2205748182978501/picture?type=large", "display_name": "Aya", "link": "https://stackoverflow.com/users/10169689/aya"}, "edited": false, "score": 0, "creation_date": 1551909398, "post_id": 55032647, "comment_id": 96818142, "body": "i&#39;m pretty new to Django, i didn&#39;t know about excluding nor order_by  but it worked! thanks for helping and adding new info to me :)"}, {"owner": {"reputation": 805, "user_id": 10397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817d4a66c9313f00aed2bb54c69a8b19?s=128&d=identicon&r=PG&f=1", "display_name": "marke", "link": "https://stackoverflow.com/users/10397775/marke"}, "reply_to_user": {"reputation": 37, "user_id": 10169689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2205748182978501/picture?type=large", "display_name": "Aya", "link": "https://stackoverflow.com/users/10169689/aya"}, "edited": false, "score": 0, "creation_date": 1551917184, "post_id": 55032647, "comment_id": 96820675, "body": "sure thing :) generally django has a lot of things that makes your life as a developer easy, at least when it comes to common use cases."}], "tags": [], "owner": {"reputation": 805, "user_id": 10397775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/817d4a66c9313f00aed2bb54c69a8b19?s=128&d=identicon&r=PG&f=1", "display_name": "marke", "link": "https://stackoverflow.com/users/10397775/marke"}, "is_accepted": true, "score": 1, "last_activity_date": 1551908626, "creation_date": 1551908626, "answer_id": 55032647, "question_id": 55032140, "link": "https://stackoverflow.com/questions/55032140/how-to-shuffle-the-data-retrieved-from-the-database/55032647#55032647", "title": "how to shuffle the data retrieved from the database", "body": "<p>Don't put logic into your template, for example if you don't want to show the book that is being featured, you can exclude it from the queryset, like so:</p>\n\n<pre><code>def book(request, book_id):\n    book = get_object_or_404(Book, pk=book_id)\n    similar_books = Book.objects.all().exclude(pk=book_id)[:4]\n    ...\n</code></pre>\n\n<p>You can get the results in the random order with the use of <code>order_by('?')</code>, so in the end it would look like:</p>\n\n<pre><code>def book(request, book_id):\n    book = get_object_or_404(Book, pk=book_id)\n    similar_books = Book.objects.all().exclude(pk=book_id).order_by('?')[:4]\n    ...\n</code></pre>\n\n<p>Note that <code>order_by('?')</code> can be slow. You can read about different ways of doing the shuffling here:\n<a href=\"https://stackoverflow.com/questions/962619/how-to-pull-a-random-record-using-djangos-orm\">How to pull a random record using Django&#39;s ORM?</a></p>\n"}], "owner": {"reputation": 37, "user_id": 10169689, "user_type": "registered", "profile_image": "https://graph.facebook.com/2205748182978501/picture?type=large", "display_name": "Aya", "link": "https://stackoverflow.com/users/10169689/aya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 55032647, "answer_count": 2, "score": 0, "last_activity_date": 1551908626, "creation_date": 1551906420, "last_edit_date": 1551907133, "question_id": 55032140, "link": "https://stackoverflow.com/questions/55032140/how-to-shuffle-the-data-retrieved-from-the-database", "title": "how to shuffle the data retrieved from the database", "body": "<p>I have book template which display more info about the book like title,price and author etc..</p>\n\n<p>in the same template I've similar books section where I want to display similar book to the featured book according to the classification (both have the same classification)</p>\n\n<p>and to do that i'm thinking of shuffling books i retrieve from the database instead of just using normal loop to make it more dynamic as in every book has that classification, the page shows different books not the same books every time </p>\n\n<p>here's the code in <code>views.py</code></p>\n\n<pre><code>def book(request, book_id):\nbook = get_object_or_404(Book, pk=book_id)\nsimilar_books = Book.objects.all()[:4]\n\nbook_context = {\n    'book': book,\n    'similar_books': similar_books\n}\nreturn render(request, 'books/book.html', book_context)\n</code></pre>\n\n<p>and this the the code in my template </p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n            &lt;div class=\"col py-5 text-center\"&gt;\n                &lt;h3 class=\"mb-5\"&gt;Similar books&lt;/h3&gt;\n                &lt;div class=\"row d-flex justify-content-center\"&gt;\n                    {% for similar_book in similar_books %}\n                        {% if similar_book.classification == book.classification and similar_book.id &gt; book.id %}\n                            &lt;div class=\"col-md-3\"&gt;\n                                &lt;a href=\"{% url 'book' similar_book.id %}\"&gt;&lt;img src=\"{{ similar_book.img.url }}\"&gt;&lt;/a&gt;\n                                &lt;a href=\"{% url 'book' similar_book.id %}\"&gt;&lt;p class=\"mt-2\"&gt;{{ similar_book.title}}&lt;/p&gt;&lt;/a&gt;\n                                &lt;p class=\"text-muted\"&gt;{{ similar_book.author }}&lt;/p&gt;\n                                &lt;p&gt;{{ similar_book.price }}&lt;/p&gt;\n                            &lt;/div&gt;\n                        {% endif %}\n                    {% endfor %}\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>the reason i'm including <code>similar_book.id &gt; book.id</code> is that i don't want it to display the featured book in its similar books</p>\n\n<p>i know it's not the best way to do it with logical as if the featured book is the last book in the list, the loop will stop </p>\n\n<p>i also thought of replacing the if statement above with</p>\n\n<p><code>{% for similar_book in similar_books[{{ similar_book.id }} -1:] %}</code> to start looping through books after the featured book and adding if statement <code>{% if book.id == len(similar_books) %}</code> then <code>{% similar_book.id == 1 %}</code></p>\n\n<p>but not sure if it's correct logical or not, any ideas?</p>\n"}, {"tags": ["python", "lambda", "amazon-lex"], "comments": [{"owner": {"reputation": 2913, "user_id": 8938083, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-yzZbJFEvxd0/AAAAAAAAAAI/AAAAAAAAGdc/zddCM-PRU6U/photo.jpg?sz=128", "display_name": "Jay A. Little", "link": "https://stackoverflow.com/users/8938083/jay-a-little"}, "edited": false, "score": 2, "creation_date": 1551930736, "post_id": 55032138, "comment_id": 96823723, "body": "How are you attempting to get the slot value? Did you try: <code>event.currentIntent.slots.slotOne</code> If that&#39;s not the simple answer, then we will need to see at least some of your Lambda code to help."}], "answers": [{"tags": [], "owner": {"reputation": 420, "user_id": 6835225, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154610934166424/picture?type=large", "display_name": "Ester Gonzalez De Langarica", "link": "https://stackoverflow.com/users/6835225/ester-gonzalez-de-langarica"}, "is_accepted": false, "score": 0, "last_activity_date": 1551958265, "last_edit_date": 1551958265, "creation_date": 1551948963, "answer_id": 55039671, "question_id": 55032138, "link": "https://stackoverflow.com/questions/55032138/access-to-intent-slots-from-lambda-function/55039671#55039671", "title": "Access to intent slots from lambda function", "body": "<p>My bad.\nI missed that the values indicated in the lamdda test must correspond to the whole JSON structure. So now I added this as event test:</p>\n\n<pre><code>{\n  \"currentIntent\": {\n    \"name\": \"intent-name\",\n    \"slots\": {\n      \"slotTwo\": \"Hi from the sendmessagetest\"\n    }\n  }\n}\n</code></pre>\n\n<p>and I access the slot within the lambda this way:</p>\n\n<pre><code> messagetext = event['currentIntent'] ['slots'] ['slotTwo']\n</code></pre>\n\n<p>Feel free to delete my post if you find it confusing.\nThanks everyone</p>\n"}], "owner": {"reputation": 420, "user_id": 6835225, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154610934166424/picture?type=large", "display_name": "Ester Gonzalez De Langarica", "link": "https://stackoverflow.com/users/6835225/ester-gonzalez-de-langarica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 840, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1551958265, "creation_date": 1551906403, "last_edit_date": 1551947668, "question_id": 55032138, "link": "https://stackoverflow.com/questions/55032138/access-to-intent-slots-from-lambda-function", "title": "Access to intent slots from lambda function", "body": "<p>I created a simple bot with a simple lex intent. This lex intent has one single slot <code>slotTwo</code>.</p>\n\n<p>Then I linked it with a python lambda function. I want to access to the value of that slot from inside the lambda function.</p>\n\n<p>python lambda function receives the parameters <code>context</code> and <code>event</code>. The link below shows the structure for the parameter <code>event</code>. \n<a href=\"https://docs.aws.amazon.com/lex/latest/dg/lambda-input-response-format.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/lex/latest/dg/lambda-input-response-format.html</a></p>\n\n<pre><code>I copy it here too:\n\n\n{\n  \"currentIntent\": {\n    \"name\": \"intent-name\",\n    \"slots\": {\n      \"slot name\": \"value\",\n      \"slot name\": \"value\"\n    },\n    \"slotDetails\": {\n      \"slot name\": {\n        \"resolutions\" : [\n          { \"value\": \"resolved value\" },\n          { \"value\": \"resolved value\" }\n        ],\n        \"originalValue\": \"original text\"\n      },\n      \"slot name\": {\n        \"resolutions\" : [\n          { \"value\": \"resolved value\" },\n          { \"value\": \"resolved value\" }\n        ],\n        \"originalValue\": \"original text\"\n      }\n    },\n    \"confirmationStatus\": \"None, Confirmed, or Denied (intent confirmation, if configured)\"\n  },\n  \"bot\": {\n    \"name\": \"bot name\",\n    \"alias\": \"bot alias\",\n    \"version\": \"bot version\"\n  },\n  \"userId\": \"User ID specified in the POST request to Amazon Lex.\",\n  \"inputTranscript\": \"Text used to process the request\",\n  \"invocationSource\": \"FulfillmentCodeHook or DialogCodeHook\",\n  \"outputDialogMode\": \"Text or Voice, based on ContentType request header in runtime API request\",\n  \"messageVersion\": \"1.0\",\n  \"sessionAttributes\": { \n     \"key\": \"value\",\n     \"key\": \"value\"\n  },\n  \"requestAttributes\": { \n     \"key\": \"value\",\n     \"key\": \"value\"\n  }\n}\n</code></pre>\n\n<p>However, when I print out the content of this parameter I see only the slot and I can access to its value directly, first level.</p>\n\n<pre><code>START RequestId: 60a541d8-b3c8-48b0-a7a3-6b3f65d96482 Version: $LATEST\n{\n\"slotTwo\": \"some text here\"\n}\n</code></pre>\n\n<p>The test from the lambda console works fine. It is able to retrieve the value and continue the logic.\nHowever when I test the bot from Lex it does not work.\nAny idea why? \nThanks so much\nEster</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2076, "user_id": 7359176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqgFb.jpg?s=128&g=1", "display_name": "Niels Henkens", "link": "https://stackoverflow.com/users/7359176/niels-henkens"}, "edited": false, "score": 0, "creation_date": 1551908714, "post_id": 55032115, "comment_id": 96817837, "body": "fixed the indentation of <code>gen_otp</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2076, "user_id": 7359176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FqgFb.jpg?s=128&g=1", "display_name": "Niels Henkens", "link": "https://stackoverflow.com/users/7359176/niels-henkens"}, "is_accepted": true, "score": 1, "last_activity_date": 1551940145, "last_edit_date": 1551940145, "creation_date": 1551907063, "answer_id": 55032291, "question_id": 55032115, "link": "https://stackoverflow.com/questions/55032115/python-login-counter/55032291#55032291", "title": "Python login counter", "body": "<p>Your for loop checks every line in the <code>db.txt</code> file and increments the counter if it doesn't match the password. Given that the <code>db.txt</code> probably contains more than 1 password, the counter will already reach 4 in the first attempt. You want to increment the counter only if NO line of db.txt matches the password. </p>\n\n<pre><code>def old_acc():\n   count = 0  # count created to limit number of failed logins\n   success = False # keeps track of succesful login\n   while count &lt;= 3 and not success:\n      login = input(\"Username:    \")  # prompts user to login in with their username\n      pw = input(\"Password:   \")  # prompts user to login in with their password\n\n       for line in open(\"db.txt\", \"r\").readlines():\n          acc_info = line.split()\n\n           # if username and pw match, login is successful; generate otp\n           if login == acc_info[0] and pw == acc_info[1]:\n               gen_otp()\n               print(\"ACCESS GRANTED\")\n               access_info()\n               success = True\n               break\n\n        # if username and pw do not match, prompt user to try again\n    if not success:\n        print(\"\\nIncorrect Username or Password. Please try again.\\n\")\n        count += 1\n\n    # if failure count is = 3, deny access and lock out.\n    if count == 3:\n        # stops code and doesn't allow any further input\n        sys.exit(\"ACCESS LOCKED. YOU DON'T DESERVE TO SEE WHAT'S HERE. GOODBYE.\")\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 6025042, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-khGN0aeVNig/AAAAAAAAAAI/AAAAAAAAAEw/CWfMr4DY5U0/photo.jpg?sz=128", "display_name": "PirateShepard PirateShepardN7 ", "link": "https://stackoverflow.com/users/6025042/pirateshepard-pirateshepardn7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1033, "favorite_count": 0, "accepted_answer_id": 55032291, "answer_count": 1, "score": 0, "last_activity_date": 1551940145, "creation_date": 1551906319, "last_edit_date": 1551909400, "question_id": 55032115, "link": "https://stackoverflow.com/questions/55032115/python-login-counter", "title": "Python login counter", "body": "<p>I'm new to Python and am trying to create a simple login with a faux OTP system and login limiter. The OTP works, but the counter for the login limiter doesn't. It gives me the desired result after only one failed attempt (I want 3). The output after a failed attempt is:</p>\n\n<p>ACCESS LOCKED. YOU DON'T DESERVE TO SEE WHAT'S HERE. GOODBYE.</p>\n\n<p>Incorrect Username or Password. Please try again.</p>\n\n<p>Incorrect Username or Password. Please try again.</p>\n\n<p>Incorrect Username or Password. Please try again.</p>\n\n<p>Process finished with exit code 1</p>\n\n<p>Here's the code:</p>\n\n<pre><code>def old_acc():\ncount = 0  # count created to limit number of failed logins\nlogin = input(\"Username:    \")  # prompts user to login in with their username\npw = input(\"Password:   \")  # prompts user to login in with their password\nwhile count &lt;= 3:\n    for line in open(\"db.txt\", \"r\").readlines():\n        acc_info = line.split()\n\n        # if username and pw do not match, prompt user to try again\n        if login != acc_info[0] and pw != acc_info[1]:\n            print(\"\\nIncorrect Username or Password. Please try again.\\n\")\n            count += 1\n        # if username and pw match, login is successful; generate otp\n        else:\n            gen_otp()\n            print(\"ACCESS GRANTED\")\n            access_info()\n\n        # if failure count is = 3, deny access and lock out.\n        if count == 3:\n            # stops code and doesn't allow any further input.\n            sys.exit(\"ACCESS LOCKED. YOU DON'T DESERVE TO SEE WHAT'S HERE. GOODBYE.\")\n</code></pre>\n\n<p>Here's the code for the OTP generation, for reference.</p>\n\n<pre><code>def gen_otp():\n    digits = \"0123456789\"  # digits for OTP generation\n    otp = \"\"\n\n    for i in range(4):\n        otp += digits[math.floor(random.random() * 10)]\n    mbox(\"Enter OTP\", otp, 1)  # gives user message with OTP\n    otp_input = input(\"Enter OTP:   \")\n\n    if otp == otp_input:\n        print(\"ACCESS GRANTED\")\n        access_info()\n\n    return otp\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "arrays", "list"], "comments": [{"owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "edited": false, "score": 0, "creation_date": 1551907939, "post_id": 55032109, "comment_id": 96817497, "body": "Could you add a more specific example? I don&#39;t quite understand what you intend to do"}, {"owner": {"reputation": 1, "user_id": 11090993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b08d7786824bef4535894f46cc6781?s=128&d=identicon&r=PG&f=1", "display_name": "Sicily_K", "link": "https://stackoverflow.com/users/11090993/sicily-k"}, "reply_to_user": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "edited": false, "score": 0, "creation_date": 1551908485, "post_id": 55032109, "comment_id": 96817742, "body": "Edited the questions"}, {"owner": {"reputation": 955, "user_id": 6194143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc1cd7ace9bb0ff64c8d1d0fccd7818a?s=128&d=identicon&r=PG&f=1", "display_name": "Tacratis", "link": "https://stackoverflow.com/users/6194143/tacratis"}, "edited": false, "score": 0, "creation_date": 1551909192, "post_id": 55032109, "comment_id": 96818059, "body": "is your list always 2 elements, the first one a 2-element tuple, and then one more number?"}], "answers": [{"tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": false, "score": 0, "last_activity_date": 1551909485, "creation_date": 1551909485, "answer_id": 55032814, "question_id": 55032109, "link": "https://stackoverflow.com/questions/55032109/array-of-list-of-tuples/55032814#55032814", "title": "array of list of tuples", "body": "<p>If you want to build a matrix (really a list of lists) you can use this:</p>\n\n<pre><code>data = [\n    [((0, 0), 0.0)\n     for j in range(5)]\n    for i in range(10)]\n</code></pre>\n\n<p>Or the same thing:</p>\n\n<pre><code>data = []\nfor i in range(10):\n    row = []\n    for j in range(5):\n        cell = ((0, 0), 0.0)\n        row.append(cell)\n    data.append(row)\n</code></pre>\n\n<hr>\n\n<p>This could be used like this:</p>\n\n<pre><code>&gt;&gt;&gt; data[0][2]                 # get data for row 0, column 2\n((0, 0), 0.0)\n\n&gt;&gt;&gt; data[0][5][0][1] = 555     # change data\n&gt;&gt;&gt; data[0][5][1] = 7.4        # change data\n&gt;&gt;&gt; data[0][5]\n((0, 555), 7.4)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11090993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6b08d7786824bef4535894f46cc6781?s=128&d=identicon&r=PG&f=1", "display_name": "Sicily_K", "link": "https://stackoverflow.com/users/11090993/sicily-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1551909485, "creation_date": 1551906288, "last_edit_date": 1551908670, "question_id": 55032109, "link": "https://stackoverflow.com/questions/55032109/array-of-list-of-tuples", "title": "array of list of tuples", "body": "<p>I need to build a data structure which is a 2D array in which each cell contains a position(of a previous cell) and a float value. Looks something like below:</p>\n\n<pre><code>((x1,y1),v1)... ((xl,ym),vn)\n.\n.\n.\n((xa,yb),vc)....\n</code></pre>\n\n<p>I know the dimensions of the array, so I thought it would be easier to make it a 2D array, in which each column is a list. Is there another elegant way of doing this? Also, I am unsure if I can append a list to an array. Am I heading in the right direction?</p>\n\n<p>edit: for clarification\nI need to make a array of list of tuples. Each tuple is of the form ((row_position,column_position),some_float_value). The list will contain some n number of these tuples. And each list needs to be a column of an array. Which I would be using to backtrace through.I am using something like this to make a viterbi chart for HMMs. </p>\n\n<pre><code>     word1 word2 word3..\ntag1 tuple1 tuple2 tuple3..\ntag2 tuple1 tuple2 tuple3..\n.\n.\n.\n</code></pre>\n"}, {"tags": ["python", "django", "django-views", "django-templates"], "answers": [{"comments": [{"owner": {"reputation": 170, "user_id": 5233187, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a8a7e7c0769f7fc972ffdc8bc1937a26?s=128&d=identicon&r=PG&f=1", "display_name": "Shazia Nusrat", "link": "https://stackoverflow.com/users/5233187/shazia-nusrat"}, "edited": false, "score": 0, "creation_date": 1551910047, "post_id": 55032409, "comment_id": 96818408, "body": "I tried {% url &#39;products&#39; slug=product.slug %} and slug=product.tag in fact all possible patterns. How do you propose it exactly can you please code the example."}], "tags": [], "owner": {"reputation": 1678, "user_id": 552491, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/W8k1W.png?s=128&g=1", "display_name": "WeGi", "link": "https://stackoverflow.com/users/552491/wegi"}, "is_accepted": false, "score": 0, "last_activity_date": 1551907620, "creation_date": 1551907620, "answer_id": 55032409, "question_id": 55032090, "link": "https://stackoverflow.com/questions/55032090/django-reverse-url-patterns-not-found/55032409#55032409", "title": "Django: Reverse URL patterns not found", "body": "<p>Your <code>products</code> route expects a slug argument. So you have to give it one.</p>\n\n<p>It has to be something like</p>\n\n<pre><code>&lt;li class=\"nav-item\"&gt;\n    &lt;a class=\"nav-link\" href=\"{% url 'products' 'my-nice-slug' %}\"&gt;Products&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>In this case <code>my-nice-slug</code> should of course be some existing slug.</p>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 6440096, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9SQTFtpJVik/AAAAAAAAAAI/AAAAAAAAADg/sUaphGJd444/photo.jpg?sz=128", "display_name": "Garvit Jain", "link": "https://stackoverflow.com/users/6440096/garvit-jain"}, "is_accepted": false, "score": 0, "last_activity_date": 1552488925, "creation_date": 1552488925, "answer_id": 55144886, "question_id": 55032090, "link": "https://stackoverflow.com/questions/55032090/django-reverse-url-patterns-not-found/55144886#55144886", "title": "Django: Reverse URL patterns not found", "body": "<p>The previous answer is correct, the exact url you want is simply -</p>\n\n<pre><code>{% url 'products' product.slug %}\n</code></pre>\n\n<p>if the <code>product</code> has a <code>slug</code> field in its model which contains the slug or -</p>\n\n<pre><code>{% url 'products' product.tag %}\n</code></pre>\n\n<p>if the <code>product</code> has a <code>tag</code> field in its model which contains the slug.</p>\n"}], "owner": {"reputation": 170, "user_id": 5233187, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/a8a7e7c0769f7fc972ffdc8bc1937a26?s=128&d=identicon&r=PG&f=1", "display_name": "Shazia Nusrat", "link": "https://stackoverflow.com/users/5233187/shazia-nusrat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1617696634, "creation_date": 1551906232, "last_edit_date": 1617696634, "question_id": 55032090, "link": "https://stackoverflow.com/questions/55032090/django-reverse-url-patterns-not-found", "title": "Django: Reverse URL patterns not found", "body": "<p>I am trying to make regex (Django URL) work with  with the queryset. I tried different patterns with template URL but it didn't work. </p>\n\n<p><strong>Generic ListView:</strong></p>\n\n<pre><code>class ProductListView(ListView):\n    template_name = \"main/product_list.html\"\n    paginate_by = 4\n\n    def get_queryset(self):\n        tag = self.kwargs[\"tag\"]\n        self.tag = None\n\n        if tag != \"all\":\n            self.tag = get_object_or_404(\n                models.ProductTag, slug=tag\n            )\n\n        if self.tag:\n            products = models.Product.objects.active().filter(\n                tags=self.tag\n            )\n        else:\n            products = models.Product.objects.active()\n\n        return products.order_by(\"name\")\n</code></pre>\n\n<p><strong>My URL:</strong></p>\n\n<pre><code>path(\"products/&lt;slug:tag&gt;/\", views.ProductListView.as_view(), name='products'),\n</code></pre>\n\n<p><strong>Template:</strong></p>\n\n<p>I couldn't get it work in tempalte like below. I tried passing different keyword arguments but it is not working:</p>\n\n<pre><code>&lt;li class=\"nav-item\"&gt;\n    &lt;a class=\"nav-link\" href=\"{% url 'products' %}\"&gt;Products&lt;/a&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p><strong>Error:</strong></p>\n\n<pre><code>Reverse for 'products' with arguments '('',)' not found. 1 pattern(s) tried: ['products\\\\/(?P&lt;tag&gt;[-a-zA-Z0-9_]+)\\\\/$']\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe", "data-analysis"], "answers": [{"tags": [], "owner": {"reputation": 209, "user_id": 10403943, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214350118045850/picture?type=large", "display_name": "Karim", "link": "https://stackoverflow.com/users/10403943/karim"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908022, "creation_date": 1551908022, "answer_id": 55032503, "question_id": 55032071, "link": "https://stackoverflow.com/questions/55032071/selection-of-df-rows-stored-in-variable-how-do-i-operate-on-these-rows-only/55032503#55032503", "title": "Selection of DF rows stored in variable. How do I operate on these rows only?", "body": "<p>I've never answered my own question before! But I found the answer here:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/15315452/selecting-with-complex-criteria-from-pandas-dataframe\">Selecting with complex criteria from pandas.DataFrame</a></p>\n\n<p>For anyone wondering what the solution was, the code format from the first response in that question worked in my situation:</p>\n\n<pre><code>df.loc[(df[\"Percent\"] == 100) &amp; (df[\"Rating1\"] != 8) &amp;\\\n      (df[\"Rating2\"] != 1) &amp; (df['Grade'] == \"NG\"), \"Percent\"] = np.nan\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 11156437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac35c9be5e324315c19dd781094b532f?s=128&d=identicon&r=PG&f=1", "display_name": "jmiguel", "link": "https://stackoverflow.com/users/11156437/jmiguel"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908520, "creation_date": 1551908520, "answer_id": 55032627, "question_id": 55032071, "link": "https://stackoverflow.com/questions/55032071/selection-of-df-rows-stored-in-variable-how-do-i-operate-on-these-rows-only/55032627#55032627", "title": "Selection of DF rows stored in variable. How do I operate on these rows only?", "body": "<p>With this:</p>\n\n<pre><code>df.loc[(df['Percent'] == 100) &amp;\\\n       (df['Rating1'] != 8) &amp;\\\n       (df['Rating2'] != 1)&amp;\\\n       (df['Grade'] == \"NG\")]\n</code></pre>\n\n<p>You're selecting all columns from rows that match this conditions.</p>\n\n<p>Since the changes wil only take place on <code>Percent</code> column, you should pass it into .loc. This way, you can set it directly.</p>\n\n<pre><code>df.loc[(df['Percent'] == 100) &amp;\\\n       (df['Rating1'] != 8) &amp;\\\n       (df['Rating2'] != 1)&amp;\\\n       (df['Grade'] == \"NG\"), 'Percent'] = np.nan\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 10403943, "user_type": "registered", "profile_image": "https://graph.facebook.com/10214350118045850/picture?type=large", "display_name": "Karim", "link": "https://stackoverflow.com/users/10403943/karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1551908520, "creation_date": 1551906144, "last_edit_date": 1551906919, "question_id": 55032071, "link": "https://stackoverflow.com/questions/55032071/selection-of-df-rows-stored-in-variable-how-do-i-operate-on-these-rows-only", "title": "Selection of DF rows stored in variable. How do I operate on these rows only?", "body": "<p>Say I have a selection of rows from dataframe stored in a variable errorData. When I display this variable, the correct rows are shown (i.e. selection appears to be valid). My goal is to replace only the rows that match the criteria in my variable to np.nan </p>\n\n<pre><code>errorData = df.loc[(df['Percent'] == 100) &amp;\\\n                  (df['Rating1'] != 8) &amp;\\\n                  (df['Rating2'] != 1)&amp;\\\n                  (df['Grade'] == \"NG\")]\n\nfor i in errorData:\n        df['Percent'].replace(df['Percent']==100, np.nan,inplace=True)\n</code></pre>\n\n<p>However, this doesn't appear to be working. Whenever I report the percent column again after performing this operation, values with 100 were also removed from </p>\n\n<pre><code>df['Grade'] == \"B\"\n</code></pre>\n\n<p>I've tried a couple of other ways too, like:</p>\n\n<pre><code>for i in errorData:\n        df['Percent'].replace(100, np.nan,inplace=True)\n</code></pre>\n\n<p>But again, to no avail. Sorry I haven't posted sample rows here. I've seen that done on other questions but I'm not entirely sure on the formatting of that.</p>\n\n<p>Apologies in advance for any errors in the above.</p>\n\n<p>Update: For more clarification if I execute</p>\n\n<pre><code>df.loc[(df['Percent'] == 100) &amp;\\\n                  (df['Rating1'] != 8) &amp;\\\n                  (df['Rating2'] != 1)&amp;\\\n                  (df['Grade'] == \"NG\")].shape\n</code></pre>\n\n<p>It returned (129,8) -- i.e. my valid rows.</p>\n\n<p>And if I perform </p>\n\n<pre><code>df['Percent'].isnull().sum()\n</code></pre>\n\n<p>Before the change, I'll receive 0, but after the change I'll receive 400. This means it's <strong>not</strong> only editing the rows selected in my variable erroneousData and I cannot see why. </p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1551908093, "post_id": 55032047, "comment_id": 96817568, "body": "For your new df here, which rows do you consider as duplicates or not existing in the original df?"}], "answers": [{"tags": [], "owner": {"reputation": 119882, "user_id": 3545273, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/RDWxl.png?s=128&g=1", "display_name": "Serge Ballesta", "link": "https://stackoverflow.com/users/3545273/serge-ballesta"}, "is_accepted": false, "score": 0, "last_activity_date": 1552241165, "creation_date": 1552241165, "answer_id": 55090761, "question_id": 55032047, "link": "https://stackoverflow.com/questions/55032047/comparing-two-pandas-data-frames-and-appending-the-rows-that-dont-exist/55090761#55090761", "title": "Comparing two pandas data frames and appending the rows that don&#39;t exist", "body": "<p>I would use an outer <code>join</code> to import the new lines, and the <code>fillna</code> method to fill empty cells with the values from the new column.</p>\n\n<p>Let us call <code>df_orig</code> the original dataframe and <code>df_new</code> the one containing new values. This should be enough:</p>\n\n<pre><code>df_temp = df_orig.join(df_new, how='outer', rsuffix='_na')\nfor col in df_orig.columns:\n    df_temp[col].fillna(df_temp[col + '_na'], inplace=True)\n\ndf_orig = df_temp.drop(columns=[col + '_na for col in df_orig.columns])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6103, "user_id": 8111755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba44734a0f158430bbb9c7d84d92cbc3?s=128&d=identicon&r=PG", "display_name": "Christian Sloper", "link": "https://stackoverflow.com/users/8111755/christian-sloper"}, "is_accepted": false, "score": 0, "last_activity_date": 1552241755, "creation_date": 1552241755, "answer_id": 55090845, "question_id": 55032047, "link": "https://stackoverflow.com/questions/55032047/comparing-two-pandas-data-frames-and-appending-the-rows-that-dont-exist/55090845#55090845", "title": "Comparing two pandas data frames and appending the rows that don&#39;t exist", "body": "<p>If you can assume that there is no duplicates in either frame you can just concat and drop duplicates:</p>\n\n<pre><code>pd.concat([df1,df2]).drop_duplicates()\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 10655528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3xwh1jYZZRk/AAAAAAAAAAI/AAAAAAAAAAc/qd7uZZh7x_w/photo.jpg?sz=128", "display_name": "Zak", "link": "https://stackoverflow.com/users/10655528/zak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 405, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1552241755, "creation_date": 1551905988, "last_edit_date": 1552233053, "question_id": 55032047, "link": "https://stackoverflow.com/questions/55032047/comparing-two-pandas-data-frames-and-appending-the-rows-that-dont-exist", "title": "Comparing two pandas data frames and appending the rows that don&#39;t exist", "body": "<p>I'm tracking some products online and creating a data frame based on some data I get from an api and it builds something like this:</p>\n\n<pre><code>                          rank    change     usedprice   sold \n2015-11-16 08:34:00     335865  0.159583         17.51  False\n2015-11-16 14:37:00     376721  0.121644         17.51  False\n2015-11-17 00:10:00     422663  0.121952         17.51  False\n2015-11-17 09:52:00     526799  0.246381         17.51  False\n2015-11-18 00:10:00     590056  0.120078         17.51  False\n2015-11-18 08:50:00     656206  0.112108         17.51  False\n2015-11-18 23:10:00     723676  0.102818         17.51  False\n</code></pre>\n\n<p>Each time that product gets searched I return a similar data frame but with new data added on. </p>\n\n<pre><code>                          rank    change     usedprice   sold\n2015-11-16 02:34:00     289643       NaN         17.51  False\n2015-11-16 08:34:00     335865  0.159583         17.51  False\n2015-11-16 14:37:00     376721  0.121644         17.51  False\n2015-11-17 00:10:00     422663  0.121952         17.51  False\n2015-11-17 09:52:00     526799  0.246381         17.51  False\n2015-11-18 00:10:00     590056  0.120078         17.51  False\n2015-11-18 08:50:00     656206  0.112108         17.51  False\n2015-11-18 23:10:00     723676  0.102818         17.51  False\n2015-11-19 11:53:00     818999  0.131721         17.51  False\n2015-11-19 20:46:00     840502  0.026255         17.51  False\n2015-11-22 12:38:00    1112502  0.323616         17.51  False\n2015-11-28 10:32:00    1445509  0.299332         17.51  False\n2015-12-03 03:51:00    1795895  0.242396         17.51  False\n2015-12-06 21:29:00    2071463  0.153443         17.51  False\n2015-12-13 03:26:00    1188341 -0.426328         17.51   True\n</code></pre>\n\n<p>How can I compare the new data frame to the old data frame and only append the rows that do not exists in the original?</p>\n\n<p>Because data is coming from multiple sources, I can not delete the first data frame and just replace it with the new one, sometimes it will only be fed a couple rows of new information that I need to see if that row already exists in the original df and append the row if it does not. </p>\n\n<p>Seems simple enough, but I just can't seem to find the answer. </p>\n"}, {"tags": ["python", "python-3.x", "string"], "answers": [{"tags": [], "owner": {"reputation": 8342, "user_id": 6942527, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d97c46958116a2a923d03f109876355?s=128&d=identicon&r=PG&f=1", "display_name": "busybear", "link": "https://stackoverflow.com/users/6942527/busybear"}, "is_accepted": true, "score": 2, "last_activity_date": 1551909163, "last_edit_date": 1551909163, "creation_date": 1551907148, "answer_id": 55032310, "question_id": 55032007, "link": "https://stackoverflow.com/questions/55032007/str-translate-not-removing-characters-numerics-and-spaces-from-filename/55032310#55032310", "title": "str.translate not removing characters (numerics and spaces) from filename", "body": "<p>You need to provide a translate map with <a href=\"https://docs.python.org/3/library/stdtypes.html#str.maketrans\" rel=\"nofollow noreferrer\"><code>str.maketrans</code></a> in Python 3 for <code>translate</code> to work. See the <a href=\"https://docs.python.org/3/library/stdtypes.html#str.translate\" rel=\"nofollow noreferrer\">docs</a> for more info. Here's something you can try:</p>\n\n<pre><code>os.rename(file_name, file_name.translate(str.maketrans('', '', '0123456789 ')))\n</code></pre>\n\n<p>The first two arguments for <code>str.maketrans</code> are irrelevant for your use so just leave them as empty strings. The third argument defines characters to be removed.</p>\n"}], "owner": {"reputation": 3, "user_id": 11090614, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f864e4b4c34caf07a0bb556c9e40929f?s=128&d=identicon&r=PG&f=1", "display_name": "P. Lewis", "link": "https://stackoverflow.com/users/11090614/p-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55032310, "answer_count": 1, "score": 0, "last_activity_date": 1555658188, "creation_date": 1551905830, "last_edit_date": 1555658188, "question_id": 55032007, "link": "https://stackoverflow.com/questions/55032007/str-translate-not-removing-characters-numerics-and-spaces-from-filename", "title": "str.translate not removing characters (numerics and spaces) from filename", "body": "<p>I am executing the following code using python 3.7 to rename a number of files, removing any numerics or spaces in the file name. However, when retrieving the file list, none of the files are renamed. Any reason why? </p>\n\n<p>Results are below the code.</p>\n\n<pre><code>import os\n\ndef rename_files():\n    # get files names\n    curr_dir = os.getcwd()\n    print(\"Current WD: \",curr_dir)\n    os.chdir(r\"c:\\udacity_files\\prank\")\n    new_dir = os.getcwd()\n    print(\"New WD: \",new_dir)\n    file_list = os.listdir()\n    for file_name in file_list:\n        os.rename(file_name, file_name.translate(\"0123456789 \"))\n    new_list = os.listdir()\n    print(\"New List: \", new_list)\n    os.chdir(curr_dir)\n    print(\"Restored WD: \",curr_dir)\n\nrename_files()\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Current WD:  C:\\Users\\qtbxxxx\nNew WD:  c:\\udacity_files\\prank\n3New List:  ['16los angeles.jpg', '17cairo.jpg', '22rochester.jpg', '25madrid.jpg', '28houston.jpg', '29bristol.jpg', '29buenos aires.jpg', '2chennai.jpg', '2hyderabad.jpg', '35miami.jpg', '36sydney.jpg']\nRestored WD:  C:\\Users\\qtbxxxx\n</code></pre>\n"}, {"tags": ["python", "pyqt", "pyqt4", "qtablewidget"], "comments": [{"owner": {"reputation": 9720, "user_id": 6371123, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f90991c1b06c79ae4c6e79fb616d608?s=128&d=identicon&r=PG", "display_name": "G.M.", "link": "https://stackoverflow.com/users/6371123/g-m"}, "edited": false, "score": 2, "creation_date": 1551907558, "post_id": 55031995, "comment_id": 96817326, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that can be used to reproduce the problem."}, {"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "edited": false, "score": 0, "creation_date": 1551909356, "post_id": 55031995, "comment_id": 96818126, "body": "My QTableWidget shows PyQt4.QtGui.QCommonStyle"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1551922832, "post_id": 55031995, "comment_id": 96821939, "body": "@panofish no, what is the output of the command that I have indicated: <code>print(QtGui.QApplication.style().objectName())</code>?"}, {"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1551937324, "post_id": 55031995, "comment_id": 96825363, "body": "Sorry @eyllanesc    AttributeError: &#39;NoneType&#39; object has no attribute &#39;objectName&#39;"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1551937550, "post_id": 55031995, "comment_id": 96825432, "body": "@panofish You have to execute it after <code>app = QtGui.QApplication(sys.argv)</code>"}, {"owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1552053432, "post_id": 55031995, "comment_id": 96877259, "body": "@eyllanesc See code above... after QApplication it says &quot;windowsvista&quot;, after setStyle it says plastique, after setStyleSheet it says nothing."}], "owner": {"reputation": 6472, "user_id": 259538, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/8zSjE.png?s=128&g=1", "display_name": "panofish", "link": "https://stackoverflow.com/users/259538/panofish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1551922896, "creation_date": 1551905789, "last_edit_date": 1551922896, "question_id": 55031995, "link": "https://stackoverflow.com/questions/55031995/why-does-font-change-size-when-i-shrink-qtablewidget-column", "title": "Why does font change size when I shrink QTableWidget column", "body": "<p>I have a simple Python application with a PyQt QTableWidget with multiple columns and rows.  If the user resizes a column to a size that is just smaller than the cell can hold.. the font of the cell will shrink by about 1 point in size (see animated GIF below).  I have fiddled with almost every QTableWidget setting in QtDesigner.  I would like the font size to remain consistent regardless.</p>\n\n<p>What is causing this and how can I prevent it? </p>\n\n<p><a href=\"https://i.stack.imgur.com/ZJp8v.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZJp8v.gif\" alt=\"QTableWiget Cell\"></a></p>\n\n<p>Update:</p>\n\n<p>In my <code>__main__</code> section, I create a stylesheet for buttons.</p>\n\n<p>I apply this style sheet using setStyleSheet.  </p>\n\n<p>If I comment-out setStyleSheet, the problem goes away.  </p>\n\n<p>Adding <code>QTableWidget{font: 9pt \"Segoe UI\";}</code> also fixes, but I'd rather not do that.</p>\n\n<p>Why is this stylesheet causing this?</p>\n\n<pre><code>if __name__ == \"__main__\":\n\n    app = QtGui.QApplication(sys.argv)\n\n    stylesheet = \"\"\"\n    QPushButton:hover, QComboBox:hover\n    {\n        background-color: QLinearGradient( x1: 0, y1: 0, x2: 0, y2: 1, stop: 0 #cbc9c5, stop: 1 #b9b7b5);\n        border: 2px solid #78879b;\n        border-radius: 3px;\n    }\n    \"\"\"    \n\n    app.setStyleSheet(stylesheet)       \n\n    myapp = MyProgram()      # instantiate the main window\n    myapp.show()             # show the main window\n\n    rc = app.exec_()\n\n    myapp.close()\n\n    sys.exit(rc)   # exit with the same return code of Qt application \n</code></pre>\n"}, {"tags": ["python", "pandas", "nested", "deep-copy"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 4, "creation_date": 1551905585, "post_id": 55031944, "comment_id": 96816508, "body": "Does <a href=\"https://stackoverflow.com/a/55031463/4909087\">this answer</a> help? <code>df2 = df.apply(copy.deepcopy)</code>"}, {"owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1551906364, "post_id": 55031944, "comment_id": 96816843, "body": "@coldspeed It solved the issue. Thanks!!"}], "owner": {"reputation": 453, "user_id": 7808713, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ddad79bce113d95e279f2b4e74f29752?s=128&d=identicon&r=PG", "display_name": "Elsa Li", "link": "https://stackoverflow.com/users/7808713/elsa-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1551906472, "answer_count": 0, "score": 0, "last_activity_date": 1551906174, "creation_date": 1551905542, "last_edit_date": 1551906174, "question_id": 55031944, "link": "https://stackoverflow.com/questions/55031944/how-to-deep-copy-pandas-dataframe-which-contains-nested-data-structure", "closed_reason": "Duplicate", "title": "How to deep copy Pandas Dataframe which contains nested data structure?", "body": "<p>I have studied <strong>shallow copy</strong> and <strong>deep copy</strong>. I found that <strong><code>copy.deepcopy()</code></strong> works perfectly fine for most cases. Somehow, it doesn't work on the pandas dataframe which has nested data structures.  </p>\n\n<p>Please see the following examples and results, you will immediately know what I am talking about:</p>\n\n<pre><code>import pandas as pd \nimport copy`\n\na = pd.Series([[1,2], 3], index=[\"a\", \"b\"])\nb = a.copy(deep=True)                       \nprint('--&gt;CASE 1')\nprint('before: \\n', a)\nd[0][0]=3\nprint('after: \\n', a, '\\n\\n')\n\nc = pd.Series([[1,2], 3], index=[\"a\", \"b\"])\nd = c.copy(deep=True)                       \nprint('--&gt;CASE 2')\nprint('before: \\n', c)\nd[0]=3\nprint('after: \\n', c, '\\n\\n')\n\ne = pd.Series([[1,2], 3], index=[\"a\", \"b\"])\nprint('--&gt;CASE 3')\nf = copy.deepcopy(e)                         \nprint('before: \\n', e)\nf[0][0]=3\nprint('after: \\n', e, '\\n\\n')\n\ng = pd.Series([[1,2], 3], index=[\"a\", \"b\"])\nprint('--&gt;CASE 4')                            \nh = copy.deepcopy(g)\nprint('before: \\n', g)\nh[0]=3\nprint('after: \\n', g, '\\n\\n')\n</code></pre>\n\n<p>The results are like:</p>\n\n<pre><code>--&gt;CASE 1\nbefore: \na    [1, 2]\nb         3\ndtype: object\nafter: \na    [3, 2]\nb         3\ndtype: object \n\n\n--&gt;CASE 2\nbefore: \na    [1, 2]\nb         3\ndtype: object\nafter: \n a    [1, 2]\nb         3\ndtype: object \n\n\n--&gt;CASE 3\nbefore: \na    [1, 2]\nb         3\ndtype: object\nafter: \na    [3, 2]\nb         3\ndtype: object \n\n\n--&gt;CASE 4\nbefore: \na    [1, 2]\nb         3\ndtype: object\nafter: \na    [1, 2]\nb         3\n</code></pre>\n\n<p>Apparently, neither <code>copy.deepcopy()</code> nor <code>df.copy(deep=True)</code> can truly perform deep copy when a dataframe contains nested data structures. </p>\n\n<p>How to do a real <strong>\"DEEP COPY\"</strong> of the dataframe with nested data like the example cases?</p>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "edited": false, "score": 0, "creation_date": 1552003899, "post_id": 55032067, "comment_id": 96859105, "body": "Thanks! This works great, except that any column that does not contain numbers is now filled with the value &#39;r&#39; or whatever I put in fillna(). What if I want these NaN values to be filled with say the first value in w that has the same value in v (which was used as the index in this answer) as the row just created? Asking too much?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "edited": false, "score": 0, "creation_date": 1552003971, "post_id": 55032067, "comment_id": 96859125, "body": "Change this part <code>(df.loc[df.w==&#39;p&#39;]&#47;df.sum(level=0)).fillna({&#39;w&#39;:&#39;r&#39;})</code> @MatthewSnyder"}, {"owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "edited": false, "score": 0, "creation_date": 1552004692, "post_id": 55032067, "comment_id": 96859291, "body": "Can I dynamically choose what to replace the NaN with? Like a value from another location in the dataframe? For example, just replace all NaN values with the value in the row above?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "edited": false, "score": 0, "creation_date": 1552004863, "post_id": 55032067, "comment_id": 96859331, "body": "@MatthewSnyder that is <code>ffill</code>, BTW just kind remind , if this solve you problem ,do not forget to accept/ upvote it"}, {"owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "edited": false, "score": 0, "creation_date": 1552005428, "post_id": 55032067, "comment_id": 96859450, "body": "Sorry, I will accept your answer as the correct one because you did technically answer my question. Sorry I came back asking for more. But ffill just uses the last valid instance, of which there are none for a column with no numbers."}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1551906130, "creation_date": 1551906130, "answer_id": 55032067, "question_id": 55031922, "link": "https://stackoverflow.com/questions/55031922/pandas-add-new-rows-to-dataframe-with-arithmetic/55032067#55032067", "title": "Pandas - Add new rows to dataframe with arithmetic", "body": "<p>IIUC I will <code>set_index</code> with columns v , then just slice what you need for <em>numerator</em> , the <em>denumerator</em> is the <code>sum</code> of all same value in v</p>\n\n<pre><code>df.set_index('v',inplace=True)\n\ndf=pd.concat([df,(df.loc[df.w=='p']/df.sum(level=0)).fillna('r')]).sort_index().reset_index()\ndf\nOut[539]: \n   v  w    x    y    z\n0  a  p  1.0  1.0  1.0\n1  a  q  0.0  1.0  0.0\n2  a  r  1.0  0.5  1.0\n3  b  p  1.0  1.0  1.0\n4  b  q  0.0  1.0  0.0\n5  b  r  1.0  0.5  1.0\n6  c  p  1.0  1.0  1.0\n7  c  q  1.0  0.0  1.0\n8  c  r  0.5  1.0  0.5\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 5692653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BGVHmZWZx2w/AAAAAAAAAAI/AAAAAAAAAH4/dV3ZOfxrHjo/photo.jpg?sz=128", "display_name": "Matthew Snyder", "link": "https://stackoverflow.com/users/5692653/matthew-snyder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 55032067, "answer_count": 1, "score": 1, "last_activity_date": 1551906130, "creation_date": 1551905487, "question_id": 55031922, "link": "https://stackoverflow.com/questions/55031922/pandas-add-new-rows-to-dataframe-with-arithmetic", "title": "Pandas - Add new rows to dataframe with arithmetic", "body": "<p>Suppose I have a data frame (df) like so with a large number of rows and columns...</p>\n\n<pre><code>    v   w   x   y   ... z\n0   a   p   1   1   ... 1\n1   a   q   0   1   ... 0\n2   b   p   1   1   ... 1\n3   b   q   0   1   ... 0\n4   c   p   1   1   ... 1\n5   c   q   1   0   ... 1\n</code></pre>\n\n<p>I want to divide the value in every row where v is the same and w equals p by the sum every value in across columns in rows where column v is the same, and return this new value in a new row or column.\nFor example:</p>\n\n<pre><code>    v   w   x   y   ... z\n0   a   p   1   1   ... 1\n1   a   q   0   1   ... 0\n2   a   r   1   0.5 ... 0.5\n3   b   p   1   1   ... 1\n4   b   q   0   1   ... 0\n5   b   r   0.5 1   ... 0.5\n6   c   p   1   1   ... 1\n7   c   q   1   0   ... 1\n8   c   r   1   0.5 ... 1\n</code></pre>\n\n<p>Where rows with r in column w have these proportions in them.</p>\n\n<p>Alternatively, these proportions could be in new columns. Some values I would assume would be NaN or missing, which is fine.</p>\n\n<pre><code>    v   w   x   y   ... z   rx  ry  ... rz\n0   a   p   1   1   ... 1   1   0.5 ... 0.5\n1   a   q   0   1   ... 0   Nan Nan ... Nan\n2   b   p   1   1   ... 1   0.5 1   ... 0.5\n3   b   q   0   1   ... 0   Nan Nan ... Nan\n4   c   p   1   1   ... 1   1   0.5 ... 1\n5   c   q   1   0   ... 1   Nan Nan ... Nan\n</code></pre>\n\n<p>I can do this with a simple statement for one set of paired rows in a single column.</p>\n\n<pre><code>df.loc[df['v'] == 'a','rx'] = df.loc[df['v'] == 'a', 'x'].sum()\n</code></pre>\n\n<p>But I want to do this for a large data frame where making individual statements would take a lot of time. I know I can do this with loops, but I'm wondering is there an easier way? I just get the feeling that this can be done easily with numpy or pandas functions/statements.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "keras", "deep-learning", "conv-neural-network", "autoencoder"], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 4821136, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7bb7ef198978eb7ad6ffa9aa4c3c5538?s=128&d=identicon&r=PG&f=1", "display_name": "mousa alsulaimi", "link": "https://stackoverflow.com/users/4821136/mousa-alsulaimi"}, "is_accepted": false, "score": 0, "last_activity_date": 1553715018, "creation_date": 1553715018, "answer_id": 55385124, "question_id": 55031885, "link": "https://stackoverflow.com/questions/55031885/using-non-square-input-matrix-for-convolutional-autoencoder/55385124#55385124", "title": "Using non-square input matrix for convolutional autoencoder", "body": "<p>it is hard to tell what is the issue here since no sample code is provided . However most propably your Matrix is diminsions are odd ( example 9\u00d79 )  or becomes odd while pooling. tofix this issue you need to either pad your input to make the matrix diminsions even . our crop the decoder lsyers of your autoencoder to have a matching output size  </p>\n"}], "owner": {"reputation": 1, "user_id": 2027555, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U8tiS.jpg?s=128&g=1", "display_name": "Bahti", "link": "https://stackoverflow.com/users/2027555/bahti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 350, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1553715018, "creation_date": 1551905235, "last_edit_date": 1551905542, "question_id": 55031885, "link": "https://stackoverflow.com/questions/55031885/using-non-square-input-matrix-for-convolutional-autoencoder", "title": "Using non-square input matrix for convolutional autoencoder", "body": "<p>Is it possible to train convolutional autoencoder (CAE) with non-square (rectangular) input matrix? All the tutorials and resources I have studied on CAE seems to use squared images. The data I am working with is not image. I have hundreds of single cells and for each cell there is a matrix (genomic data) with thousands of genes in rows and  hundreds of bins in columns (genomic region of interest for each gene divided into the bins of equal size).</p>\n\n<p>I have tried some models with Keras, but size of input in the encoder part of the model is always different than the size of output matrix in the decoder. So it is giving error. Can someone help me how to solve this problem?</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1554325735, "post_id": 55031882, "comment_id": 97714738, "body": "<b>Don\u2019t</b> use <code>str()</code> on a bytes object to convert it to a string! The response object has a <code>.text</code> attribute you should use instead. Or open the file in binary mode with <code>&#39;wb&#39;</code>. In other contexts, you want to <i>decode</i>, so <code>bytesval.decode(some_codec)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 8083549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2d811cffcdd5ba47505141bc9027d0e5?s=128&d=identicon&r=PG&f=1", "display_name": "django-unchained", "link": "https://stackoverflow.com/users/8083549/django-unchained"}, "edited": false, "score": 0, "creation_date": 1554313696, "post_id": 55033547, "comment_id": 97709015, "body": "DeCottis-Mauro Don&#39;t think it works. It&#39;s giving me below error now:     <b>outFile.write(str(r.content)) TypeError: a bytes-like object is required, not &#39;str&#39;</b>"}, {"owner": {"reputation": 47, "user_id": 6471039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JA4X-cr4ct8/AAAAAAAAAAI/AAAAAAAABHM/mgsA-2L9jlo/photo.jpg?sz=128", "display_name": "Andrew DeCotiis-Mauro", "link": "https://stackoverflow.com/users/6471039/andrew-decotiis-mauro"}, "reply_to_user": {"reputation": 759, "user_id": 8083549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2d811cffcdd5ba47505141bc9027d0e5?s=128&d=identicon&r=PG&f=1", "display_name": "django-unchained", "link": "https://stackoverflow.com/users/8083549/django-unchained"}, "edited": false, "score": 0, "creation_date": 1554401940, "post_id": 55033547, "comment_id": 97749398, "body": "Can you try it removing the str() around r.content in that line?"}], "tags": [], "owner": {"reputation": 47, "user_id": 6471039, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JA4X-cr4ct8/AAAAAAAAAAI/AAAAAAAABHM/mgsA-2L9jlo/photo.jpg?sz=128", "display_name": "Andrew DeCotiis-Mauro", "link": "https://stackoverflow.com/users/6471039/andrew-decotiis-mauro"}, "is_accepted": false, "score": -1, "last_activity_date": 1551913128, "creation_date": 1551913128, "answer_id": 55033547, "question_id": 55031882, "link": "https://stackoverflow.com/questions/55031882/how-to-replace-n-b-and-single-quotes-from-raw-file-from-github/55033547#55033547", "title": "How to Replace \\n, b and single quotes from Raw File from GitHub?", "body": "<p>Depending on your version of Python/OS it could be as simple as changing the file to read/write in binary (and if they're still there then altering where you have the <code>replace</code>s):</p>\n\n<pre><code>with open(filename,'rb') as theFile, open(filename,'wb') as outFile:\n    outfile.write(str(r.content))\n    data = theFile.read().split('\\n')\n    data = data.replace('\\n','')\n    data = data.replace(\"b'\",\"\")\n    outFile.write(data)\n</code></pre>\n\n<p>It would help to have a copy of the file and the line the error is occurring on.</p>\n"}, {"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 1, "last_activity_date": 1584824080, "last_edit_date": 1584824080, "creation_date": 1554327702, "answer_id": 55504736, "question_id": 55031882, "link": "https://stackoverflow.com/questions/55031882/how-to-replace-n-b-and-single-quotes-from-raw-file-from-github/55504736#55504736", "title": "How to Replace \\n, b and single quotes from Raw File from GitHub?", "body": "<p>You introduced a <code>b'..</code> prefix by converting the <code>response.content</code> bytes value to a string with <code>str()</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; r = requests.get(\"https://github.com/raw/abc/master/file_name?token=Anvn3lJXDks5ciVaPwA%3D%3D\")\n&gt;&gt;&gt; r.content\nb'Not Found'\n&gt;&gt;&gt; str(r.content)\n\"b'Not Found'\"\n</code></pre>\n\n<p>Of course, the specific dummy URL you gave in your question produces a 404 Not Found response, hence the <code>Not Found</code> content of the response body:</p>\n\n<pre><code>&gt;&gt;&gt; r.status_code\n404\n</code></pre>\n\n<p>so the contents in this demonstration are not actually all that useful. However, even for your real URL you probably want to test for a 200 status code before moving to write the data to a file!</p>\n\n<p>What is going wrong in the above is that <code>str(bytesvalue)</code> converts a bytes object to its <em>representation</em>. You'd normally want to <em>decode</em> a bytes value with a text codec, using the <a href=\"https://docs.python.org/3/library/stdtypes.html#bytes.decode\" rel=\"nofollow noreferrer\"><code>bytes.decode()</code> method</a>. But because you are writing the data to a file here, you should instead just open the file in <em>binary</em> mode and write the bytes object without decoding:</p>\n\n<pre><code>r = requests.get(url)\nif r.status_code == 200:\n    with open(filename, 'wb') as f:\n        f.write(r.content)\n</code></pre>\n\n<p>The <code>'wb'</code> mode opens the file for writing in binary mode. Writing binary content to a binary file is the most efficient; decoding it first then writing to a text file requires that it is <em>encoded</em> again. Better to avoid doing double work.</p>\n\n<p>As a side note: there is no need to join a local filename with <code>getcwd()</code>; relative paths always end up in the current working directory, and otherwise it's better to use <code>os.path.abspath(filename)</code>.</p>\n\n<p>You <em>could</em> also trust that GitHub sets the correct character set in the Content-Type headers and have response decode the value to str for you in the form of the <a href=\"https://requests.readthedocs.io/en/master/user/quickstart/#response-content\" rel=\"nofollow noreferrer\"><code>response.text</code> attribute</a>:</p>\n\n<pre><code>r = requests.get(url)\nif r.status_code == 200:\n    with open(filename, 'w') as f:\n        f.write(r.text)\n</code></pre>\n\n<p>but again, that's really doing extra work for nothing, first decoding the binary content from the request, then encoding again when writing to a text file.</p>\n\n<p>Finally, for larger file responses it is better to <em>stream</em> the data and copy it directly to a file. The <a href=\"https://docs.python.org/3/library/shutil.html#shutil.copyfileobj\" rel=\"nofollow noreferrer\"><code>shutil.copyfileobj()</code> function</a> can take a raw response fileobject directly, provided you enable transparent transport decompression:</p>\n\n<pre><code>import shutil\n\nr = requests.get(url, stream=True)\nif r.status_code == 200:\n    with open(filename, 'wb') as f:\n        # enable transparent transport decompression handling\n        r.raw.decode_content = True\n        shutil.copyfileobj(r.raw, f)\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 8083549, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2d811cffcdd5ba47505141bc9027d0e5?s=128&d=identicon&r=PG&f=1", "display_name": "django-unchained", "link": "https://stackoverflow.com/users/8083549/django-unchained"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 55504736, "answer_count": 2, "score": 0, "last_activity_date": 1584824080, "creation_date": 1551905226, "last_edit_date": 1554313735, "question_id": 55031882, "link": "https://stackoverflow.com/questions/55031882/how-to-replace-n-b-and-single-quotes-from-raw-file-from-github", "title": "How to Replace \\n, b and single quotes from Raw File from GitHub?", "body": "<p>I am trying to download file from GitHub(raw file) and then run this file as .sql file. </p>\n\n<pre><code>import snowflake.connector\nfrom codecs import open\nimport logging\nimport requests\nfrom os import getcwd\nimport os\nimport sys\n\n#logging\nlogging.basicConfig(\n    filename='C:/Users/abc/Documents/Test.log',\n    level=logging.INFO\n)\n\nurl = \"https://github.com/raw/abc/master/file_name?token=Anvn3lJXDks5ciVaPwA%3D%3D\"\ndirectory = getcwd()\nfilename = os.path.join(getcwd(),'VIEWS.SQL')\nr = requests.get(url)\nfilename.decode(\"utf-8\")\n\nf = open(filename,'w')\nf.write(str(r.content))\n\nwith open(filename,'r') as theFile, open(filename,'w') as outFile:\n    data = theFile.read().split('\\n')\n    data = theFile.read().replace('\\n','')\n    data = theFile.read().replace(\"b'\",\"\")\n    data = theFile.read()\n    outFile.write(data)\n</code></pre>\n\n<p>However I get this error </p>\n\n<blockquote>\n  <p>syntax error line 1 at position 0 unexpected 'b'</p>\n</blockquote>\n\n<p>My converted sql file has b at the beginning and bunch of newline \\n characters in the file. Also the entire output file is in single quotes 'text'. Can anyone help me get rid of these? Looks like replace isn't working.</p>\n\n<p>OS: Windows\nPython Version: 3.7.0</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 7479662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d84516ce9e886b904c56a1590a14ff?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Rabiz", "link": "https://stackoverflow.com/users/7479662/danny-rabiz"}, "edited": false, "score": 0, "creation_date": 1551905787, "post_id": 55031898, "comment_id": 96816584, "body": "Thank you! this is like 90% of what I was looking for. One more thing: Do you know how to convert this to the same format as my original DataFrame? To make a df with Chromosome, Position, Gene , list and count all columns?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 35, "user_id": 7479662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d84516ce9e886b904c56a1590a14ff?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Rabiz", "link": "https://stackoverflow.com/users/7479662/danny-rabiz"}, "edited": false, "score": 0, "creation_date": 1551905883, "post_id": 55031898, "comment_id": 96816623, "body": "@DannyRabiz See the second code sample after the line break? You can simply rename the columns after that."}, {"owner": {"reputation": 35, "user_id": 7479662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d84516ce9e886b904c56a1590a14ff?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Rabiz", "link": "https://stackoverflow.com/users/7479662/danny-rabiz"}, "edited": false, "score": 0, "creation_date": 1551905974, "post_id": 55031898, "comment_id": 96816670, "body": "Much appreciated."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1551905332, "creation_date": 1551905332, "answer_id": 55031898, "question_id": 55031858, "link": "https://stackoverflow.com/questions/55031858/identifying-duplicates-and-corresponding-indices/55031898#55031898", "title": "Identifying duplicates and corresponding indices", "body": "<p>Use <code>groupby</code> and <code>agg</code>:</p>\n\n<pre><code>df.groupby(['Chromosome', 'Position', 'Gene']).SAMPLE.agg([list, 'count'])\n                               list  count\nChromosome Position Gene                  \n1          100      CHD1   [S1, S4]      2\n           220      BRCA2  [S2, S5]      2\n           300      TP53       [S3]      1\n</code></pre>\n\n<hr>\n\n<pre><code>(df.groupby(['Chromosome', 'Position', 'Gene']).SAMPLE\n   .agg([list, 'count'])\n   .reset_index())\n\n   Chromosome  Position   Gene      list  count\n0           1       100   CHD1  [S1, S4]      2\n1           1       220  BRCA2  [S2, S5]      2\n2           1       300   TP53      [S3]      1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8369, "user_id": 4057186, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/87142ebe8244548dc01c3406b0ef2802?s=128&d=identicon&r=PG&f=1", "display_name": "edesz", "link": "https://stackoverflow.com/users/4057186/edesz"}, "is_accepted": false, "score": 0, "last_activity_date": 1551908376, "last_edit_date": 1551908376, "creation_date": 1551905776, "answer_id": 55031994, "question_id": 55031858, "link": "https://stackoverflow.com/questions/55031858/identifying-duplicates-and-corresponding-indices/55031994#55031994", "title": "Identifying duplicates and corresponding indices", "body": "<p>I used <code>groupby</code> with an aggregation dict to return the groups in a list (see this <a href=\"https://stackoverflow.com/a/22221675/4057186\">SO post</a>)</p>\n\n<p>Create data (per code in OP)</p>\n\n<pre><code>df = pd.DataFrame({\"Chromosome\":[1, 1, 1, 1, 1],\n               'Position': [100, 220,300,100,220],\n               \"Gene\":[\"CHD1\",\"BRCA2\",\"TP53\",\"CHD1\", \"BRCA2\"], \n               \"SAMPLE\":[\"A1\",\"A2\",\"A3\",\"A4\", \"A5\"]})\nprint(df)\n   Chromosome  Position   Gene SAMPLE\n0           1       100   CHD1     A1\n1           1       220  BRCA2     A2\n2           1       300   TP53     A3\n3           1       100   CHD1     A4\n4           1       220  BRCA2     A5\n</code></pre>\n\n<p>Perform <code>groupby</code> using aggregation dict</p>\n\n<pre><code>agg_dict = {'SAMPLE':[list, 'count']}\ngrouped = grouped = (\n    df.groupby(['Chromosome','Position','Gene'], as_index=False)\n    .agg(agg_dict)\n    )\ngrouped.columns = grouped.columns.map(' '.join).str.strip()\nprint(grouped)\n\n   Chromosome  Position   Gene SAMPLE list  SAMPLE count\n0           1       100   CHD1    [A1, A4]             2\n1           1       220  BRCA2    [A2, A5]             2\n2           1       300   TP53        [A3]             1\n</code></pre>\n\n<p>EDIT</p>\n\n<p>Modified per changes to sample data in the OP.</p>\n"}], "owner": {"reputation": 35, "user_id": 7479662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96d84516ce9e886b904c56a1590a14ff?s=128&d=identicon&r=PG&f=1", "display_name": "Danny Rabiz", "link": "https://stackoverflow.com/users/7479662/danny-rabiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55031898, "answer_count": 2, "score": 2, "last_activity_date": 1551908376, "creation_date": 1551905051, "last_edit_date": 1551907089, "question_id": 55031858, "link": "https://stackoverflow.com/questions/55031858/identifying-duplicates-and-corresponding-indices", "title": "Identifying duplicates and corresponding indices", "body": "<p>I am concatenating several dataframes of Mutational Data from different Samples. I know that there will be duplicates, i.e. several samples will be have the same common mutations. I want to remove extra duplicate rows of same mutation, and instead include a columns with all samples with that mutation. I don't think df.drop_duplicates() does this, in the same way that np.unique() can.  </p>\n\n<p>Simplified Example:</p>\n\n<pre><code>import pandas as pd\ndf = pd.DataFrame({\"Chromosome\":[1, 1, 1, 1, 1],\n               'Position': [100, 220,300,100,220],\n               \"Gene\":[\"CHD1\",\"BRCA2\",\"TP53\",\"CHD1\", \"BRCA2\"], \n               \"SAMPLE\":[\"A1\",\"A2\",\"A3\",\"A4\", \"A5\"]})\ndf\nOutput:\n     Chromosome Position Gene   SAMPLE\n 0        1     100      CHD1      S1\n 1        1     220      BRCA2     S2\n 2        1     300      TP53      S3\n 3        1     100      CHD1      S4\n 4        1     220      BRCA2     S5\n</code></pre>\n\n<p>and I would like to end up with this: </p>\n\n<pre><code>df_new \nOutput:\n     Chromosome Position Gene   SAMPLES     Count \n 0        1     100      CHD1      [S1, S4]    2\n 1        1     220      BRCA2     [S2,S5]     2\n 2        1     300      TP53      S3          1\n</code></pre>\n\n<p>I'm sure there is some easy way to do this that I am missing. </p>\n\n<p>Here is the way I've been doing in numpy (using inverse output from np.uniue(return_inverse=True). It works, but not so efficient. </p>\n\n<pre><code>Samples = array(master_df['Sample_ID'], dtype=str)\ntemp_array = array(master_df[master_df.columns[0:3]], dtype=str)\ntemp_unq, ind1, inv1, cnts1 = unique(temp_array, return_index= True, return_inverse=True, return_counts=True, axis=0)\ns1 = [[] for i in cnts1]\nfor i in range(temp_unq.shape[0]): \n        whr = np.where(inv1==i)[0]\n        s1[i].append(list(Samples[whr]))\n    unq_combo = master_df.iloc[ind1]\n    unq_combo = unq_combo.reset_index(drop=True)\n    unq_combo['Counts'] =pd.Series(cnts1)\n    unq_combo['Samples#'] = pd.Series(s1)\n</code></pre>\n"}, {"tags": ["python", "mysql", "pandas", "sqlalchemy", "pymysql"], "answers": [{"comments": [{"owner": {"reputation": 786, "user_id": 968132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/26b9a0a61c4829d27e6407bb2e077fdb?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/968132/peter"}, "edited": false, "score": 0, "creation_date": 1551905654, "post_id": 55031912, "comment_id": 96816538, "body": "To clarify, you mean to remove the parentheses (not brackets) around the text in <code>query</code>, correct?"}], "tags": [], "owner": {"reputation": 40001, "user_id": 2681632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnXs3.png?s=128&g=1", "display_name": "Ilja Everil&#228;", "link": "https://stackoverflow.com/users/2681632/ilja-everil%c3%a4"}, "is_accepted": true, "score": 1, "last_activity_date": 1551906657, "last_edit_date": 1551906657, "creation_date": 1551905440, "answer_id": 55031912, "question_id": 55031850, "link": "https://stackoverflow.com/questions/55031850/multiple-parameters-in-mysql-in-query/55031912#55031912", "title": "Multiple parameters in MySQL &quot;IN&quot; query", "body": "<p>Remove the brackets around the placeholder. As it is the query is comparing <code>word</code> against <code>(('lol', 'hi'))</code> after parameter substitution done by pymysql, or in other words a scalar against a tuple. A list of length 1 is fine because the result is <code>(('hi'))</code> and SQL actually treats the scalar <code>word</code> as a 1-column row when comparing, which the perhaps slightly non obvious error hints at.</p>\n\n<p>So the query should look like:</p>\n\n<pre><code>query = \"\"\"\n    select word, count(1)\n    from table\n    where word in %(ids)s\n    group by 1\n    \"\"\"\n</code></pre>\n"}], "owner": {"reputation": 786, "user_id": 968132, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/26b9a0a61c4829d27e6407bb2e077fdb?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/968132/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 55031912, "answer_count": 1, "score": 0, "last_activity_date": 1551906657, "creation_date": 1551905029, "last_edit_date": 1551905466, "question_id": 55031850, "link": "https://stackoverflow.com/questions/55031850/multiple-parameters-in-mysql-in-query", "title": "Multiple parameters in MySQL &quot;IN&quot; query", "body": "<p>I'm clearly doing something wrong in the parameterization, but not sure what the proper syntax is. </p>\n\n<p><strong>Desired, but doesn't work: multiple conditions in where IN</strong></p>\n\n<pre><code>data = ['lol', 'hi']\nquery = \"\"\" select word, count(1) from table where word in (%(ids)s) group by 1\"\"\"\npandas.read_sql_query(sql=query, con=db_engine, params={'ids':data})\n</code></pre>\n\n<p><em>Output:</em></p>\n\n<pre><code>InternalError: (pymysql.err.InternalError) (1241, 'Operand should contain 1 column(s)') [SQL: \"select word, count(1) from table where word in (%(ids)s) group by 1 \"] [parameters: {'ids': ('lol', 'hi')}]\n</code></pre>\n\n<p><strong>Not desired, but works: single condition in where IN</strong>\n(it's fine with a list of length 1)</p>\n\n<pre><code>data = ['lol']\nquery = \"\"\" select word, count(1) from table where word in (%(ids)s) group by 1\"\"\"\npandas.read_sql_query(sql=query, con=db_engine, params={'ids':data})\n</code></pre>\n"}, {"tags": ["python", "graphviz"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 7931127, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bmr25kXwk_o/AAAAAAAAAAI/AAAAAAAADlI/N-oPDB9F7ns/photo.jpg?sz=128", "display_name": "yo252yo", "link": "https://stackoverflow.com/users/7931127/yo252yo"}, "edited": false, "score": 0, "creation_date": 1551949811, "post_id": 55037600, "comment_id": 96830842, "body": "Thanks a lot! dot produces a very horizontal graph for this case, so I&#39;m not sure I can make it work, but I&#39;ll keep trying!"}], "tags": [], "owner": {"reputation": 5278, "user_id": 7852833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1333bac6d21a493f46946a5850895d2?s=128&d=identicon&r=PG&f=1", "display_name": "tk421", "link": "https://stackoverflow.com/users/7852833/tk421"}, "is_accepted": false, "score": 0, "last_activity_date": 1551941090, "creation_date": 1551941090, "answer_id": 55037600, "question_id": 55031840, "link": "https://stackoverflow.com/questions/55031840/can-graphviz-constrain-the-graph-to-a-certain-width/55037600#55037600", "title": "Can graphviz constrain the graph to a certain width?", "body": "<p><code>sfdp</code>, because it uses a spring model, tends to produce square graphs.  However, if you use <code>dot</code> you have the added attributes like <code>rank</code> and <code>rankdir</code> to shape your graph more to your wishes.</p>\n\n<p>You can refer to <a href=\"https://www.graphviz.org/doc/info/attrs.html\" rel=\"nofollow noreferrer\">Node, Edge and Graph Attributes</a> to see which attributes sfdp supports.</p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 7931127, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bmr25kXwk_o/AAAAAAAAAAI/AAAAAAAADlI/N-oPDB9F7ns/photo.jpg?sz=128", "display_name": "yo252yo", "link": "https://stackoverflow.com/users/7931127/yo252yo"}, "edited": false, "score": 0, "creation_date": 1551949752, "post_id": 55038844, "comment_id": 96830805, "body": "Thanks a lot for this answer! I&#39;ve tried playing around with ratio, but it seems completely ignored, and size seems to affect only the scaling of the final output. I believe it&#39;s probably a problem of support of the python library :s I&#39;ve tried sfdp and neato, but it seems not to matter. This is probably as good as it gets with my library :s sorry!"}], "tags": [], "owner": {"reputation": 3674, "user_id": 5068435, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iQVwFEhRuDM/AAAAAAAAAAI/AAAAAAAAAfQ/cXgS1x9i-Gw/photo.jpg?sz=128", "display_name": "Dany", "link": "https://stackoverflow.com/users/5068435/dany"}, "is_accepted": false, "score": 1, "last_activity_date": 1551945928, "creation_date": 1551945928, "answer_id": 55038844, "question_id": 55031840, "link": "https://stackoverflow.com/questions/55031840/can-graphviz-constrain-the-graph-to-a-certain-width/55038844#55038844", "title": "Can graphviz constrain the graph to a certain width?", "body": "<p>Try playing with the <a href=\"https://graphviz.gitlab.io/_pages/doc/info/attrs.html#d:ratio\" rel=\"nofollow noreferrer\"><code>ratio</code></a> attribute:</p>\n\n<blockquote>\n  <p>...</p>\n  \n  <p>If ratio is numeric, it is taken as the desired aspect ratio. Then, if the actual aspect ratio is less than the desired ratio, the drawing height is scaled up to achieve the desired ratio; if the actual ratio is greater than that desired ratio, the drawing width is scaled up. </p>\n</blockquote>\n\n<p>So if the original graph was like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/tqENL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tqENL.png\" alt=\"enter image description here\"></a></p>\n\n<p>Adding the <code>graph [ratio=\"1.5\"]</code> attribute will make it look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LOr2v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LOr2v.png\" alt=\"enter image description here\"></a></p>\n\n<p>UPD: also notice how the <code>ratio</code> attribute works in pair with <code>size</code> attribute, maybe the combination will be best for you. Detailed explanation in the ratio docs over the link I've posted.</p>\n"}], "owner": {"reputation": 31, "user_id": 7931127, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bmr25kXwk_o/AAAAAAAAAAI/AAAAAAAADlI/N-oPDB9F7ns/photo.jpg?sz=128", "display_name": "yo252yo", "link": "https://stackoverflow.com/users/7931127/yo252yo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1551945928, "creation_date": 1551904976, "question_id": 55031840, "link": "https://stackoverflow.com/questions/55031840/can-graphviz-constrain-the-graph-to-a-certain-width", "title": "Can graphviz constrain the graph to a certain width?", "body": "<p>I'm using graphviz from python to plot japanese kanjis and their relationships. I'm exporting the output as a svg and using sfdp as a render engine. \nThe output is roughly square (3000x3000). I was wondering if there was any way to specify a constraint so that the output is more like a vertical rectangle (for instance 5000x1000) than a square. \nIt seems that the size parameters mostly work on the scale of the resulting image, and not on the positioning of the nodes themselves. But I have a lot of different connexe components so it should be easy to move them around.\nIs what I'm trying to do impossible?\nThanks!</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 200, "user_id": 9921408, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5QwXcZu7LNQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3L5hJoKezJqIl_na0GKDprd0BKiw/mo/photo.jpg?sz=128", "display_name": "Ciaran O Brien", "link": "https://stackoverflow.com/users/9921408/ciaran-o-brien"}, "edited": false, "score": 0, "creation_date": 1551907704, "post_id": 55031881, "comment_id": 96817396, "body": "This seems to work fine. Although one question. I do have some entries which begin with 1, 2, or 3 numbers followed by some letters (addresses) which I would like to keep. Is there a way to remove only entries beginning with a letter followed by 2 numbers? i.e. these are postcodes.  Edit: nevermind, your original way, and not @coldspeed&#39;s method does this. Thank you!"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1551905213, "creation_date": 1551905213, "answer_id": 55031881, "question_id": 55031839, "link": "https://stackoverflow.com/questions/55031839/removing-entries-from-pandas-df-beginning-with-letter-and-two-numbers/55031881#55031881", "title": "Removing entries from Pandas DF beginning with letter and two numbers", "body": "<p>You can try this:</p>\n\n<pre><code>df.mask(df.apply(lambda r: r.str.contains('[a-zA-Z]{1}\\d{2}')))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>       A     B     C       D\n0  Apple  Pear   NaN    John\n1    Cat   NaN  Mary  Sponge\n2    Hat   NaN   Bed     NaN\n</code></pre>\n\n<p>I like @coldspeed's stack too:</p>\n\n<pre><code>df[~df.stack().str.contains('[a-zA-Z]{1}\\d{2}').unstack()]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>       A     B     C       D\n0  Apple  Pear   NaN    John\n1    Cat   NaN  Mary  Sponge\n2    Hat   NaN   Bed     NaN\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 200, "user_id": 9921408, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5QwXcZu7LNQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3L5hJoKezJqIl_na0GKDprd0BKiw/mo/photo.jpg?sz=128", "display_name": "Ciaran O Brien", "link": "https://stackoverflow.com/users/9921408/ciaran-o-brien"}, "edited": false, "score": 0, "creation_date": 1551906055, "post_id": 55031886, "comment_id": 96816707, "body": "Thanks for the comment, I never full got up to speed with regular expressions. I would have never thought of this solution. It runs fine, although my columns are object type which I just noticed. I will try convert to str and run this. Thank you."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1551905242, "creation_date": 1551905242, "answer_id": 55031886, "question_id": 55031839, "link": "https://stackoverflow.com/questions/55031839/removing-entries-from-pandas-df-beginning-with-letter-and-two-numbers/55031886#55031886", "title": "Removing entries from Pandas DF beginning with letter and two numbers", "body": "<p>Use <code>stack</code> and <code>str.extract</code> with a pattern that <em>does not match</em> what you want to match (this way, they're replaced with NaNs).</p>\n\n<pre><code>df.stack().str.extract(r'(^[^a-z]\\D{2}.*)').unstack()[0]\n\n       A     B     C       D\n0  Apple  Pear   NaN    John\n1    Cat   NaN  Mary  Sponge\n2    Hat   NaN   Bed     NaN\n</code></pre>\n"}], "owner": {"reputation": 200, "user_id": 9921408, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5QwXcZu7LNQ/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3L5hJoKezJqIl_na0GKDprd0BKiw/mo/photo.jpg?sz=128", "display_name": "Ciaran O Brien", "link": "https://stackoverflow.com/users/9921408/ciaran-o-brien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 55031881, "answer_count": 2, "score": 1, "last_activity_date": 1551905242, "creation_date": 1551904973, "question_id": 55031839, "link": "https://stackoverflow.com/questions/55031839/removing-entries-from-pandas-df-beginning-with-letter-and-two-numbers", "title": "Removing entries from Pandas DF beginning with letter and two numbers", "body": "<p>I am curious as to how to remove string entries from a Pandas DF beginning with a letter and two numbers and replacing with NaN.</p>\n\n<pre><code>A        B         C          D\nApple    Pear      N45 82f    John \nCat      P48 hH2   Mary       Sponge \nHat      P67 De1   Bed        S90 GGGF\n</code></pre>\n\n<p>I would like to replace all entries across the DF beginning with a letter and two numbers with NaN. </p>\n\n<p>I have tried something along the lines of</p>\n\n<pre><code>for columns in df.columns[1:]:\n    for i in columns: \n        if i[0].isalpha() and i[1].isdigit and i.[2].isdigit():\n            i.replace(i,None)\n</code></pre>\n\n<p>Unfortunately this not seem to function. Any help would be appreciated.</p>\n"}, {"tags": ["python", "parent-child"], "comments": [{"owner": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1551904924, "post_id": 55031805, "comment_id": 96816245, "body": "Do you want the output of the child script to be <i>displayed</i> or to be <i>captured</i> for use by the parent script? (Note that you can&#39;t do both at once; the best you can do is to capture and re-display, possibly in real time if needed.)"}, {"owner": {"reputation": 505, "user_id": 9150012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b2bbe649257e1fb9e7264a2d7d9ba4?s=128&d=identicon&r=PG&f=1", "display_name": "amquack", "link": "https://stackoverflow.com/users/9150012/amquack"}, "reply_to_user": {"reputation": 54296, "user_id": 128397, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/22b05e50077230ba919b240af4bc13cd?s=128&d=identicon&r=PG", "display_name": "Daniel Pryden", "link": "https://stackoverflow.com/users/128397/daniel-pryden"}, "edited": false, "score": 0, "creation_date": 1551905254, "post_id": 55031805, "comment_id": 96816382, "body": "If I can&#39;t do both, I have preference for displayed (so that I can see if the optimization gets hung up in one of the child scripts). However, it sounds like your option of the output being captured and re-displayed in real-time would be optimal."}], "answers": [{"tags": [], "owner": {"reputation": 505, "user_id": 9150012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b2bbe649257e1fb9e7264a2d7d9ba4?s=128&d=identicon&r=PG&f=1", "display_name": "amquack", "link": "https://stackoverflow.com/users/9150012/amquack"}, "is_accepted": true, "score": 0, "last_activity_date": 1551995968, "creation_date": 1551995968, "answer_id": 55053463, "question_id": 55031805, "link": "https://stackoverflow.com/questions/55031805/run-a-child-python-script-and-both-display-output-print-and-within-function-dis/55053463#55053463", "title": "Run a child python script and both display output (print and within-function displays) and access variables from child", "body": "<p>It looks like the answer is to use the following line of code in the parent file:</p>\n\n<pre><code>exec(open('child.py').read())\n</code></pre>\n\n<p>This runs the file as desired, allows access to the variables created by the child file, and displays all desired output.</p>\n\n<p>To give credit where deserved, I found the syntax described here: <a href=\"https://stackoverflow.com/questions/436198/what-is-an-alternative-to-execfile-in-python-3\">What is an alternative to execfile in Python 3?</a> and this explains the reason my previous attempts at using exec() were incorrect.</p>\n\n<p>Perhaps others can improve the answer by including alternatives to those concerned about insecurities related to exec().</p>\n"}], "owner": {"reputation": 505, "user_id": 9150012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23b2bbe649257e1fb9e7264a2d7d9ba4?s=128&d=identicon&r=PG&f=1", "display_name": "amquack", "link": "https://stackoverflow.com/users/9150012/amquack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 1, "accepted_answer_id": 55053463, "answer_count": 1, "score": 0, "last_activity_date": 1551995968, "creation_date": 1551904832, "question_id": 55031805, "link": "https://stackoverflow.com/questions/55031805/run-a-child-python-script-and-both-display-output-print-and-within-function-dis", "title": "Run a child python script and both display output (print and within-function displays) and access variables from child", "body": "<p>I have two files: parent.py and child.py. I wish to use the parent to run the child script, but I want the displays within the child script to appear in the console window. Example files are below:</p>\n\n<p>child.py:</p>\n\n<pre><code>from scipy import optimize\nx0=1\n\ndef f(x):\n    return x**2\n\nres = optimize.fmin(f, x0, disp=True)\n\nprint('print printed')\n</code></pre>\n\n<p>parent.py:</p>\n\n<pre><code>import subprocess\nsubprocess.run([\"python\", \"child.py\"], capture_output=True)\n</code></pre>\n\n<p>My understanding was that the <code>capture_output</code> option should display the output as desired, but this does not appear to be the case. (This comes from the comment reply on my question <a href=\"https://stackoverflow.com/questions/54991448/consecutively-execute-multiple-python-scripts\">Consecutively execute multiple python scripts</a> which I am trying to ask here in a clearer way).</p>\n\n<p>Both parent and child files are located within the same working directory, and I am using Spyder (not sure if that matters). I see what makes me think the child file is running <code>In: runfile('C:/.../parent.py', wdir='C:/.../testing')</code>, but I see neither the print() command nor the display from the optimize command displayed in my console. I also do not have access to the child variables once I have run the parent.</p>\n\n<p>How do see the outputs (from print() and the optimize(.,disp=True) commands), as well as access the variables in the child script when running the parent?</p>\n"}]