[{"tags": ["python", "mysql"], "comments": [{"owner": {"reputation": 18656, "user_id": 355931, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/16121b31590e34cfbd754a162bb88120?s=128&d=identicon&r=PG", "display_name": "Barranka", "link": "https://stackoverflow.com/users/355931/barranka"}, "edited": false, "score": 1, "creation_date": 1439424182, "post_id": 31977351, "comment_id": 51860967, "body": "Is there any particular reason you want to use python to do this? You can do it with MySQL client programs (specifically <code>mysqldump</code> and <code>mysql</code> CLI)"}], "answers": [{"tags": [], "owner": {"reputation": 418, "user_id": 5179810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n9H7e.jpg?s=128&g=1", "display_name": "Camilo Torres", "link": "https://stackoverflow.com/users/5179810/camilo-torres"}, "is_accepted": true, "score": 1, "last_activity_date": 1439425037, "last_edit_date": 1495541677, "creation_date": 1439425037, "answer_id": 31977515, "question_id": 31977351, "link": "https://stackoverflow.com/questions/31977351/python-script-to-transfer-data-from-one-mysql-server-to-another-one/31977515#31977515", "title": "Python script to transfer data from one MySQL server to another one", "body": "<p>To obtain partial data from table 1 of server 1 you can perform a query and use a cursor inside Python. You can then iterate over the cursor and insert the data into table 2 of server 2.</p>\n\n<p>To insert the data into table 2 of server 2 there are some recommendations:</p>\n\n<ol>\n<li>Set autocommit off and commit every (say) 500 records. Remember to commit at the end. This way you can speed up the insertion. [0]</li>\n<li>You can also create insert statements to insert many value sets at once. Take into account memory usage, don't put thousands of value sets into a single insert. [1]</li>\n</ol>\n\n<p>[0] <a href=\"http://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlconnection-autocommit.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlconnection-autocommit.html</a></p>\n\n<p>[1] <a href=\"https://stackoverflow.com/questions/14011160/how-to-use-python-mysqldb-to-insert-many-values-at-once\">How to use python mysqldb to insert many rows at once</a></p>\n"}], "owner": {"reputation": 59, "user_id": 4927476, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/80b1c55ca4fb285a65163f15e0892205?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Wong", "link": "https://stackoverflow.com/users/4927476/michael-wong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 1, "accepted_answer_id": 31977515, "answer_count": 1, "score": 1, "last_activity_date": 1439433188, "creation_date": 1439423841, "last_edit_date": 1439433188, "question_id": 31977351, "link": "https://stackoverflow.com/questions/31977351/python-script-to-transfer-data-from-one-mysql-server-to-another-one", "title": "Python script to transfer data from one MySQL server to another one", "body": "<p>I want to automatically transfer some of the data in table 1 of server 1 to table 2 of server 2 with a python script. Can this be done with the cursor class or is there any other way of doing is? I'm fairly new to Python so please correct me if there is anything wrong about what I am asking.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 5083843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fd385e16aa9a6a83d4d17773bfef7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Benister", "link": "https://stackoverflow.com/users/5083843/jeff-benister"}, "edited": false, "score": 1, "creation_date": 1439423817, "post_id": 31977336, "comment_id": 51860879, "body": "That did. Thanks for the quick reply"}, {"owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 1, "creation_date": 1439423899, "post_id": 31977336, "comment_id": 51860899, "body": "Why don&#39;t u use <code>.read()</code>? This will give you the whole content of the file. And you can compare this content with content of second file. Which you can also get with <code>.read()</code>"}, {"owner": {"reputation": 378, "user_id": 5083843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fd385e16aa9a6a83d4d17773bfef7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Benister", "link": "https://stackoverflow.com/users/5083843/jeff-benister"}, "reply_to_user": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "edited": false, "score": 0, "creation_date": 1439423955, "post_id": 31977336, "comment_id": 51860909, "body": "@golobich I will try that approach as well. I am still new to python and programming overall."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1439424685, "post_id": 31977336, "comment_id": 51861074, "body": "You might consider using difflib (<a href=\"https://docs.python.org/2/library/difflib.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/difflib.html</a>) for file comparison, since the way you are doing it could show all lines different if one file is missing the first line and all the rest of the lines are the same as in the other file. A code example of difflib usage is at  <a href=\"http://stackoverflow.com/questions/19120489/compare-two-files-report-difference-in-python\" title=\"compare two files report difference in python\">stackoverflow.com/questions/19120489/&hellip;</a>. If you just want to know if the contents of the files are the same or not, comparing checksums is efficient and so is filecmp (<a href=\"https://docs.python.org/2/library/filecmp.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/filecmp.html</a>)."}], "tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": true, "score": 0, "last_activity_date": 1439423771, "creation_date": 1439423771, "answer_id": 31977336, "question_id": 31977323, "link": "https://stackoverflow.com/questions/31977323/comparing-two-files-in-python/31977336#31977336", "title": "Comparing two files in python", "body": "<p>You dont need to use <code>range(len(fp1))</code>. You can use the <code>fp1</code> directly. That should fix the error.</p>\n\n<pre><code>def compareString(line1,line2): #sub function to compare strings of files\n    i=0 #initial index\n    while line1[i]==line2[i]: #compare each line until they are equal\n        i=i+1\n    if line1[i]!=line2[i]: #if unequal\n        print('Mismatch at character ',i,line1[i]) #print error message\n\ndef compareMain(): #\n    file1=input('Enter the name of the first file: ') #input file1 name\n    file2=input('Enter the name of the second file: ') #input file2 name\n\n    fp1=open(file1,'r') #open file1, reading mode\n    fp2=open(file2,'r') #open file2, reading mode\n    for line1 in fp1: #Getting each line of file1\n        for line2 in fp2: #Getting each line of file2\n            compareString(line1,line2) #Call compare function\n    fp1.close() #Close file1\n    fp2.close() #Close file2\n\ncompareMain() #Execute\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1195, "user_id": 1413903, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9ZUsJ.jpg?s=128&g=1", "display_name": "golobitch", "link": "https://stackoverflow.com/users/1413903/golobitch"}, "is_accepted": false, "score": 1, "last_activity_date": 1439424520, "creation_date": 1439424520, "answer_id": 31977448, "question_id": 31977323, "link": "https://stackoverflow.com/questions/31977323/comparing-two-files-in-python/31977448#31977448", "title": "Comparing two files in python", "body": "<p>I would do it like this:</p>\n\n<pre><code>def compare_files():\n    file1=input('Enter the name of the first file: ') #input file1 name\n    file2=input('Enter the name of the second file: ') #input file2 name\n    fp1=open(file1,'r') #open file1, reading mode\n    fp2=open(file2,'r') #open file2, reading mode\n    if (fp1.read() == fp2.read()):\n        print(\"Files are the same\")\n    else:\n        print(\"Files are not the same\")\n\ncompare_files()\n</code></pre>\n\n<p>Method <code>.read()</code> will return content of the file. We get content of both files and then we compare contents of this files.</p>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 1139273, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d98c84020d48cb2bb2ffd665e3850b84?s=128&d=identicon&r=PG&f=1", "display_name": "AmirC", "link": "https://stackoverflow.com/users/1139273/amirc"}, "is_accepted": false, "score": 0, "last_activity_date": 1439429392, "creation_date": 1439429392, "answer_id": 31978066, "question_id": 31977323, "link": "https://stackoverflow.com/questions/31977323/comparing-two-files-in-python/31978066#31978066", "title": "Comparing two files in python", "body": "<p>As Tris mentioned, I would suggest to use <strong>difflib</strong> (<a href=\"https://docs.python.org/2/library/difflib.html\" rel=\"nofollow\">https://docs.python.org/2/library/difflib.html</a>). Here is the snippet that you may use to start:</p>\n\n<pre><code>import difflib\nimport sys\n\nfile1=sys.argv[1] \nfile2=sys.argv[2]\n\nline1 = open(file1).readlines()\nline2 = open(file2).readlines()\n\nline1_idx = 0\nline2_idx = 0\n\nfor l1 in line1:\n    l1 = l1.rstrip()\n    line2_idx = 0\n    for l2 in line2:\n        l2 = l2.rstrip()\n        diff = difflib.SequenceMatcher(None, l1, l2)\n        for tag, i1, i2, j1, j2 in diff.get_opcodes():\n            if((tag == \"delete\") or (tag == \"replace\") or (tag == \"insert\")):\n                print(\"Mismatch file1-line%d file2-line%d, line1-index[%d:%d] line2-index[%d:%d]\" % (line1_idx, line2_idx, i1, i2, j1, j2))\n        line2_idx += 1\n    line1_idx += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": false, "score": 0, "last_activity_date": 1439432550, "creation_date": 1439432550, "answer_id": 31978480, "question_id": 31977323, "link": "https://stackoverflow.com/questions/31977323/comparing-two-files-in-python/31978480#31978480", "title": "Comparing two files in python", "body": "<p>I started this answer before I realized that the questioner wanted a diff, not just an identical-or-not check, but I figure this question might be found by people who do want that, so here it is. While the <code>main()</code> function works with only two files, the core code can work with any number of files. Either way, it'll only check up to the first line that doesn't match.</p>\n\n<pre><code>#\n# Python 2/3 compatibility\n#\n\nfrom __future__ import print_function\n\ntry:\n    from itertools import izip as zip  # Python 2\nexcept ImportError:\n    pass  # Python 3\n\ntry:\n    input = raw_input  # Python 2\nexcept NameError:\n    pass  # Python 3\n\n\n#\n# You can leave out everything above if you're on Python 3\n#\n\ndef all_equal(first_item, *items):\n    return all(item == first_item for item in items)\n\n\ndef iterables_are_identical(*iterables):\n    return all(all_equal(*tup) for tup in zip(*iterables))\n\n\ndef files_are_identical(*files, **kwargs):\n    mode = kwargs.get('mode', 'r')\n\n    open_files = []\n    try:\n        for f in files:\n            open_files.append(open(f, mode))\n\n        return iterables_are_identical(*open_files)\n    finally:\n        for handle in open_files:\n            handle.close()\n\n\ndef main():\n    msg = 'Enter the name of the %s file: '\n    file_a = input(msg % 'first')\n    file_b = input(msg % 'second')\n\n    if files_are_identical(file_a, file_b):\n        print('Files are identical')\n    else:\n        print('Files are NOT identical')\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 378, "user_id": 5083843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72fd385e16aa9a6a83d4d17773bfef7d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Benister", "link": "https://stackoverflow.com/users/5083843/jeff-benister"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 31977336, "answer_count": 4, "score": 3, "last_activity_date": 1439432550, "creation_date": 1439423689, "question_id": 31977323, "link": "https://stackoverflow.com/questions/31977323/comparing-two-files-in-python", "title": "Comparing two files in python", "body": "<p>I have the following code. I have checked other links on stackoverflow, but they are slightly complicated than mine. </p>\n\n<p>For now my text files have <code>hello</code>(in file1) and <code>hell</code>(in file2) as data. </p>\n\n<p>I believe my logic is correct but I get the following error</p>\n\n<pre><code>TypeError: object of type '_io.TextIOWrapper' has no len()\n</code></pre>\n\n<p>Where am I going wrong?</p>\n\n<pre><code>def compareString(line1,line2): #sub function to compare strings of files\n    i=0 #initial index\n    while line1[i]==line2[i]: #compare each line until they are equal\n        i=i+1\n    if line1[i]!=line2[i]: #if unequal\n        print('Mismatch at character ',i,line1[i]) #print error message\n\ndef compareMain(): #\n    file1=input('Enter the name of the first file: ') #input file1 name\n    file2=input('Enter the name of the second file: ') #input file2 name\n\n    fp1=open(file1,'r') #open file1, reading mode\n    fp2=open(file2,'r') #open file2, reading mode\n    for line1 in range(len(fp1)): #Getting each line of file1\n        for line2 in range(len(fp2)): #Getting each line of file2\n            compareString(line1,line2) #Call compare function\n    fp1.close() #Close file1\n    fp2.close() #Close file2\n\ncompareMain() #Execute\n</code></pre>\n"}, {"tags": ["python", "csv", "pandas", "dataframe", "floating-point-precision"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1439424423, "post_id": 31977319, "comment_id": 51861019, "body": "how does the visual representation affect your application?"}], "answers": [{"tags": [], "owner": {"reputation": 1872, "user_id": 3651127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7LZvG.png?s=128&g=1", "display_name": "dagrha", "link": "https://stackoverflow.com/users/3651127/dagrha"}, "is_accepted": false, "score": 0, "last_activity_date": 1439424670, "creation_date": 1439424670, "answer_id": 31977468, "question_id": 31977319, "link": "https://stackoverflow.com/questions/31977319/floating-point-precision-affected-when-converting-dataframe-to-list/31977468#31977468", "title": "Floating point precision affected when converting DataFrame to list", "body": "<p>As Padraic alluded, you are not modifying the correct option with <code>display.precision</code>.  Instead, try: </p>\n\n<pre><code>pd.options.display.float_format = '{:,.3f}'.format\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8162, "user_id": 294313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/165e55c78689e561c554c3dec671fb50?s=128&d=identicon&r=PG", "display_name": "SamB", "link": "https://stackoverflow.com/users/294313/samb"}, "is_accepted": false, "score": 2, "last_activity_date": 1439425459, "creation_date": 1439425459, "answer_id": 31977575, "question_id": 31977319, "link": "https://stackoverflow.com/questions/31977319/floating-point-precision-affected-when-converting-dataframe-to-list/31977575#31977575", "title": "Floating point precision affected when converting DataFrame to list", "body": "<p>The \"loss of precision\" you're seeing is due to the fact that binary floating-point can't precisely represent decimal fractions, so there's some rounding error. If you really want to pass decimal values through unchanged, you'd get better results using an actual decimal representation...</p>\n\n<p>Unfortunately, NumPy doesn't seem to provide any decimal datatypes for you to use.</p>\n"}, {"tags": [], "owner": {"reputation": 2928, "user_id": 7747942, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5jXKyAbmi_M/AAAAAAAAAAI/AAAAAAAAAFQ/AewmU0ev_68/photo.jpg?sz=128", "display_name": "Sylhare", "link": "https://stackoverflow.com/users/7747942/sylhare"}, "is_accepted": false, "score": 2, "last_activity_date": 1575826546, "creation_date": 1575826546, "answer_id": 59238047, "question_id": 31977319, "link": "https://stackoverflow.com/questions/31977319/floating-point-precision-affected-when-converting-dataframe-to-list/59238047#59238047", "title": "Floating point precision affected when converting DataFrame to list", "body": "<p>Eventhough, you might still have a problem with precision depending on the base values.\n You can still use <code>round</code> to specify the amount of decimal you wish to have.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>df = pd.DataFrame([(.2132481, .399452), (.012311, .13267), (.613216, .01233), (.213211, .181235)])\ndf.values.round(3).tolist()\n\n&gt;&gt; [[0.213, 0.399], [0.012, 0.133], [0.613, 0.012], [0.213, 0.181]]\n</code></pre>\n\n<p>The <code>3</code> in <code>.round(3)</code> goes for three decimals.</p>\n"}], "owner": {"reputation": 177, "user_id": 3112249, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ec00b641022dfb779488778005906c36?s=128&d=identicon&r=PG&f=1", "display_name": "absay", "link": "https://stackoverflow.com/users/3112249/absay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1172, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1575826546, "creation_date": 1439423627, "question_id": 31977319, "link": "https://stackoverflow.com/questions/31977319/floating-point-precision-affected-when-converting-dataframe-to-list", "title": "Floating point precision affected when converting DataFrame to list", "body": "<p>So I'm trying to convert a float DataFrame to a list (of list) by using <code>row.values.tolist()</code> (<code>row</code> was read from a CSV file). It does the job pretty okay though for a few values the precision is being affected, so, for instance, instead of <code>32.337</code> it's outputting <code>32.336999999999996.</code></p>\n\n<p>Since <code>tolist()</code> yields a <em>list of list</em> and I need to work with <em>lists</em>, I decided to switch to <code>list(row.values.flatten())</code>, but it introduces precision issues for almost <strong>any</strong> value in the list, which just makes it worst.</p>\n\n<p>I found a <a href=\"https://github.com/pydata/pandas/issues/2069\" rel=\"nofollow\">discussion on Github</a> about this issue, from almost 3 years ago, but I can't find anything else up to date and I have no idea how to overcome this.</p>\n\n<p>I tried using <code>pd.set_option('display.precision',4)</code> since for most values I need a maximum of four significant digits, but this isn't working either (assuming I'm using it right).</p>\n\n<p>Is there any workaround for this?</p>\n"}, {"tags": ["python", "multithreading", "multiprocessing", "python-multithreading", "python-multiprocessing"], "answers": [{"comments": [{"owner": {"reputation": 1007, "user_id": 3470632, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/765982866/picture?type=large", "display_name": "Kevin Wheeler", "link": "https://stackoverflow.com/users/3470632/kevin-wheeler"}, "edited": false, "score": 0, "creation_date": 1439504841, "post_id": 31977272, "comment_id": 51902278, "body": "Lol, this is pretty much Will&#39;s answer. He edited my one sentence answer. I guess he doesn&#39;t care about getting the credit for it, what a boss."}], "tags": [], "owner": {"reputation": 1007, "user_id": 3470632, "user_type": "registered", "accept_rate": 36, "profile_image": "https://graph.facebook.com/765982866/picture?type=large", "display_name": "Kevin Wheeler", "link": "https://stackoverflow.com/users/3470632/kevin-wheeler"}, "is_accepted": false, "score": 1, "last_activity_date": 1439442981, "last_edit_date": 1439442981, "creation_date": 1439423277, "answer_id": 31977272, "question_id": 31977245, "link": "https://stackoverflow.com/questions/31977245/how-can-i-efficiently-implement-multithreading-multiprocessing-in-a-python-web-b/31977272#31977272", "title": "How can I efficiently implement multithreading/multiprocessing in a Python web bot?", "body": "<p>Threads are slow in python because of the <a href=\"https://wiki.python.org/moin/GlobalInterpreterLock\" rel=\"nofollow\">Global Interpreter Lock</a>. You should consider using multiple processes with the Python <code>multiprocessing</code> module instead of threads. Using multiple processes can increase the \"ramp up\" time of your code, as spawning a real process takes more time than a light thread, but due to the GIL, <code>threading</code> won't do what you're after.</p>\n\n<p><a href=\"http://pymotw.com/2/multiprocessing/basics.html\" rel=\"nofollow\">Here</a> and <a href=\"http://sebastianraschka.com/Articles/2014_multiprocessing_intro.html\" rel=\"nofollow\">here</a> are a couple of basic resources on using the <code>multiprocessing</code> module. Here's an example from the second link:</p>\n\n<pre><code>import multiprocessing as mp\nimport random\nimport string\n\n# Define an output queue\noutput = mp.Queue()\n\n# define a example function\ndef rand_string(length, output):\n    \"\"\" Generates a random string of numbers, lower- and uppercase chars. \"\"\"\n    rand_str = ''.join(random.choice(\n                    string.ascii_lowercase\n                    + string.ascii_uppercase\n                    + string.digits)\n               for i in range(length))\n    output.put(rand_str)\n\n# Setup a list of processes that we want to run\nprocesses = [mp.Process(target=rand_string, args=(5, output)) for x in range(4)]\n\n# Run processes\nfor p in processes:\n    p.start()\n\n# Exit the completed processes\nfor p in processes:\n    p.join()\n\n# Get process results from the output queue\nresults = [output.get() for p in processes]\n\nprint(results)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5410, "user_id": 1390022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d29e994a1301613f40c4cc99909edb0?s=128&d=identicon&r=PG", "display_name": "derricw", "link": "https://stackoverflow.com/users/1390022/derricw"}, "is_accepted": true, "score": 2, "last_activity_date": 1439424233, "last_edit_date": 1439424233, "creation_date": 1439423909, "answer_id": 31977366, "question_id": 31977245, "link": "https://stackoverflow.com/questions/31977245/how-can-i-efficiently-implement-multithreading-multiprocessing-in-a-python-web-b/31977366#31977366", "title": "How can I efficiently implement multithreading/multiprocessing in a Python web bot?", "body": "<p>This sounds like a recipe for <code>multiprocessing.Pool</code></p>\n\n<p>See here: <a href=\"https://docs.python.org/2/library/multiprocessing.html#introduction\" rel=\"nofollow\">https://docs.python.org/2/library/multiprocessing.html#introduction</a></p>\n\n<pre><code>from multiprocessing import Pool\n\ndef test(num):\n    if num%2 == 0:\n        return True\n    else:\n        return False\n\nif __name__ == \"__main__\":\n    list_of_datas_to_test = [0, 1, 2, 3, 4, 5, 6, 7, 8]\n\n    p = Pool(4)  # create 4 processes to do our work\n    print(p.map(test, list_of_datas_to_test))  # distribute our work\n</code></pre>\n\n<p>Output looks like:</p>\n\n<pre><code>[True, False, True, False, True, False, True, False, True, False]\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 2313602, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9c85ea2735aeea426acb42dfb5de3e9?s=128&d=identicon&r=PG", "display_name": "user2313602", "link": "https://stackoverflow.com/users/2313602/user2313602"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 0, "accepted_answer_id": 31977366, "answer_count": 2, "score": 2, "last_activity_date": 1439442981, "creation_date": 1439423059, "last_edit_date": 1439423285, "question_id": 31977245, "link": "https://stackoverflow.com/questions/31977245/how-can-i-efficiently-implement-multithreading-multiprocessing-in-a-python-web-b", "title": "How can I efficiently implement multithreading/multiprocessing in a Python web bot?", "body": "<p>Let's say I have a web bot written in python that sends data via POST request to a web site. The data is pulled from a text file line by line and passed into an array. Currently, I'm testing each element in the array through a simple for-loop. How can I effectively implement multi-threading to iterate through the data quicker. Let's say the text file is fairly large. Would attaching a thread to each request be smart? What do you think the best approach to this would be?</p>\n\n<pre><code>with open(\"c:\\file.txt\") as file:\n     dataArr = file.read().splitlines()\n\ndataLen = len(open(\"c:\\file.txt\").readlines())-1\n\ndef test(data):\n     #This next part is pseudo code\n     result = testData('www.example.com', data)\n     if result == 'whatever':\n          print 'success'\n\nfor i in range(0, dataLen):\n    test(dataArr[i])\n</code></pre>\n\n<p>I was thinking of something along the lines of this, but I feel it would cause issues depending on the size of the text file. I know there is software that exists which allows the end-user to specify the amount of the threads when working with large amounts of data. I'm not entirely sure of how that works, but that's something I'd like to implement.</p>\n\n<pre><code>import threading\n\nwith open(\"c:\\file.txt\") as file:\n     dataArr = file.read().splitlines()\n\ndataLen = len(open(\"c:\\file.txt\").readlines())-1\n\ndef test(data):\n     #This next part is pseudo code\n     result = testData('www.example.com', data)\n     if result == 'whatever':\n          print 'success'\n\njobs = []\n\nfor x in range(0, dataLen):\n     thread = threading.Thread(target=test, args=(dataArr[x]))\n     jobs.append(thread)\n\nfor j in jobs:\n    j.start()\nfor j in jobs:\n    j.join()\n</code></pre>\n"}, {"tags": ["python", "delete-row", "overwrite", "file-rename"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1439423841, "post_id": 31977236, "comment_id": 51860885, "body": "I see that your filenames are different.  In the with statement you access files named emails.csv and emailed.csv, but in the calls to <code>remove</code> they are full pathnames.  They might be the same files (depending on the current directory) and they might not.  The file named <code>C:\\Python27\\emails.csv</code> might very well be open in another process."}, {"owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "edited": false, "score": 0, "creation_date": 1439424918, "post_id": 31977236, "comment_id": 51861117, "body": "Also, you need to use double-backslashes, or raw strings."}, {"owner": {"reputation": 75, "user_id": 5046672, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-TImRF304i1A/AAAAAAAAAAI/AAAAAAAAAjI/LoA3Y7q0Sso/photo.jpg?sz=128", "display_name": "Samson", "link": "https://stackoverflow.com/users/5046672/samson"}, "edited": false, "score": 0, "creation_date": 1439433696, "post_id": 31977236, "comment_id": 51863073, "body": "I changed the filepaths as you mentioned to clear up some confusion. I had tried this before but the same error occurs. I also added the double backslash just in case. Same problem. Also to reiterate, neither file is open in any other visible way (eg; Notepad, Excel, etc.)"}, {"owner": {"reputation": 75, "user_id": 5046672, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-TImRF304i1A/AAAAAAAAAAI/AAAAAAAAAjI/LoA3Y7q0Sso/photo.jpg?sz=128", "display_name": "Samson", "link": "https://stackoverflow.com/users/5046672/samson"}, "edited": false, "score": 0, "creation_date": 1439434253, "post_id": 31977236, "comment_id": 51863228, "body": "Okay, Windows must be accessing the file in some way or another because the script runs perfectly from a webserver. The script now works fine for my purposes, just not from Windows. Thanks for the help!"}], "answers": [{"tags": [], "owner": {"reputation": 418, "user_id": 5179810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n9H7e.jpg?s=128&g=1", "display_name": "Camilo Torres", "link": "https://stackoverflow.com/users/5179810/camilo-torres"}, "is_accepted": true, "score": 1, "last_activity_date": 1439425801, "creation_date": 1439425801, "answer_id": 31977622, "question_id": 31977236, "link": "https://stackoverflow.com/questions/31977236/windows-not-allowing-me-to-replace-file/31977622#31977622", "title": "windows not allowing me to replace file", "body": "<p>Sometimes in some Microsoft Windows systems, if you open the file with another program, say the Notepad, the file cannot be deleted because it is being used by that program.</p>\n"}], "owner": {"reputation": 75, "user_id": 5046672, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-TImRF304i1A/AAAAAAAAAAI/AAAAAAAAAjI/LoA3Y7q0Sso/photo.jpg?sz=128", "display_name": "Samson", "link": "https://stackoverflow.com/users/5046672/samson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 31977622, "answer_count": 1, "score": 1, "last_activity_date": 1439435890, "creation_date": 1439423038, "last_edit_date": 1439435890, "question_id": 31977236, "link": "https://stackoverflow.com/questions/31977236/windows-not-allowing-me-to-replace-file", "title": "windows not allowing me to replace file", "body": "<p>I'm using python to iterate through a csv file, and then delete a number of rows. To do this, I'm creating a new file and then attempting to remove the old file before then renaming the new file to the old file name. I keep getting an error and it's unclear to me as to why. The error is as follows:</p>\n\n<pre><code> Traceback (most recent call last):\n      File \"sendemails.py\", line 85, in &lt;module&gt;\n        os.remove('C:\\Python27\\emails.csv')\n    WindowsError: [Error 32] The process cannot access the file because it is being used by another process: 'C:\\\\Python27\\\\emails.csv'\n</code></pre>\n\n<p>The relevant code is as follows:</p>\n\n<pre><code>FIRST_ROW_NUM = 1\nROWS_TO_DELETE = {1,3}\n\nwith open('C:\\\\Python27\\\\emails.csv', 'rt') as infile, open('C:\\\\Python27\\\\emailed.csv', 'wt') as outfile:\n    outfile.writelines(row for row_num, row in enumerate(infile, FIRST_ROW_NUM)\n                        if row_num not in ROWS_TO_DELETE)\n\nos.remove('C:\\\\Python27\\\\emails.csv')\nos.rename('C:\\\\Python27\\\\emailed.csv','C:\\\\Python27\\\\emails.csv')\n</code></pre>\n\n<p>The csv file is not open anywhere that I'm aware of, and I printed the infile and outfile (to see whether closed) and both are closed prior to removing or renaming. Any help? I'm completely lost. </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "is_accepted": true, "score": 0, "last_activity_date": 1439425057, "creation_date": 1439425057, "answer_id": 31977518, "question_id": 31977213, "link": "https://stackoverflow.com/questions/31977213/can-i-import-a-function-from-other-user-directory-while-running-the-main-code-as/31977518#31977518", "title": "can I import a function from other user directory while running the main code as super user?", "body": "<p>It is possible, if you import sys and add the directory to sys.path (or alternatively if you modify the PYTHONPATH), and the file is readable by root.</p>\n\n<p>But it may not be a good idea.  It may leave a root-owned .pyc file in that directory that the user cannot overwrite, and it is a huge security hole for a random user to be able to change code that root will be running.</p>\n"}], "owner": {"reputation": 443, "user_id": 3549017, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a40c68ac9835a36366b4c33c0c4c6602?s=128&d=identicon&r=PG&f=1", "display_name": "secarica", "link": "https://stackoverflow.com/users/3549017/secarica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 31977518, "answer_count": 1, "score": 0, "last_activity_date": 1439425057, "creation_date": 1439422878, "question_id": 31977213, "link": "https://stackoverflow.com/questions/31977213/can-i-import-a-function-from-other-user-directory-while-running-the-main-code-as", "title": "can I import a function from other user directory while running the main code as super user?", "body": "<p>Using Linux, while the program itself and some other config files are located in one of the user's home directory (and run from there), because of hardware restrictions I am forced to run the main Python code prefixed by <em>sudo</em>. Now I want to call a function that already exists in one other Python file inside that user directory.</p>\n\n<p>Simply using <code>import functionfile</code> does not seem to work, because (I assume) the program looks for that file in the root directory.</p>\n\n<p>For \"normal\" tasks such as handling a config file that exists in that user directory, I can recreate the complete path by getting the user that was logged in before launching the <em>sudo</em> command, something like:</p>\n\n<pre><code>import os\nsudo_username = os.getenv(\"SUDO_USER\")\nhome_dir = \"/home/\" + sudo_username\n</code></pre>\n\n<p>However, I cannot imagine a method to <code>import functionfile</code> from other user directory, especially if I want to avoid absolute reference to usernames.</p>\n\n<p>Is this technically possible ?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1439422822, "post_id": 31977197, "comment_id": 51860625, "body": "Yes, replace <code>search</code> with <code>findall</code>."}, {"owner": {"reputation": 369, "user_id": 4192044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/61e26f9dd314fb350e4182ba77f27128?s=128&d=identicon&r=PG&f=1", "display_name": "Giggle", "link": "https://stackoverflow.com/users/4192044/giggle"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439423007, "post_id": 31977197, "comment_id": 51860677, "body": "Oh, thank you. Solved my problem. Just, how can I remove the brackets ?"}], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 4192044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/61e26f9dd314fb350e4182ba77f27128?s=128&d=identicon&r=PG&f=1", "display_name": "Giggle", "link": "https://stackoverflow.com/users/4192044/giggle"}, "edited": false, "score": 0, "creation_date": 1439423060, "post_id": 31977216, "comment_id": 51860689, "body": "Thank you. That&#39;s what I was searching for."}], "tags": [], "owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "is_accepted": true, "score": 2, "last_activity_date": 1439422888, "creation_date": 1439422888, "answer_id": 31977216, "question_id": 31977197, "link": "https://stackoverflow.com/questions/31977197/retrieve-matching-strings-from-text-file/31977216#31977216", "title": "Retrieve matching strings from text file", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/re.html#re.findall\" rel=\"nofollow\"><code>re.findall</code></a> for example</p>\n\n<pre><code>&gt;&gt;&gt; re.findall('\\((\\d+)\\)', text)\n['12930', '394839', '958236']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": false, "score": 1, "last_activity_date": 1439422895, "creation_date": 1439422895, "answer_id": 31977218, "question_id": 31977197, "link": "https://stackoverflow.com/questions/31977197/retrieve-matching-strings-from-text-file/31977218#31977218", "title": "Retrieve matching strings from text file", "body": "<p>All you have to do is replace that <code>search</code> with <code>findall</code>. This will produce a <code>list</code> of all the matches.</p>\n"}], "owner": {"reputation": 369, "user_id": 4192044, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/61e26f9dd314fb350e4182ba77f27128?s=128&d=identicon&r=PG&f=1", "display_name": "Giggle", "link": "https://stackoverflow.com/users/4192044/giggle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 1, "accepted_answer_id": 31977216, "answer_count": 2, "score": 4, "last_activity_date": 1439423007, "creation_date": 1439422779, "last_edit_date": 1439423007, "question_id": 31977197, "link": "https://stackoverflow.com/questions/31977197/retrieve-matching-strings-from-text-file", "title": "Retrieve matching strings from text file", "body": "<p>I have the following text file and I want to retrieve the numbers in brackets</p>\n\n<pre><code>ID&amp;number:Track_number(12930)_\nID&amp;number:Track_number(394839)_\nID&amp;number:Track_number(958236)_\n</code></pre>\n\n<p>So I've tried this </p>\n\n<pre><code> import re\n\n file = open(\"text.txt\", \"r\")\n text = file.read()\n file.close()\n pattern = re.compile(ur'Track_number(.*)_', re.UNICODE)\n string = pattern.search(text).group(1)\n print string\n</code></pre>\n\n<p>But it only displays the first result : <code>(12930)</code>.\nI was wondering if it was possible to have a list of all the matching results.\nThanks</p>\n"}, {"tags": ["python", "numpy", "statistics", "scipy", "probability"], "comments": [{"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 0, "creation_date": 1439423000, "post_id": 31977175, "comment_id": 51860673, "body": "The docs suggest <code>r = lognorm.rvs(s, size=1000)</code> returns a list of 1000 random variables.  s is a floating point number (a seed, I suppose),  Why won&#39;t that do what you want?"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1439426248, "post_id": 31977175, "comment_id": 51861380, "body": "@PaulCornelius: Check those docs again.  <code>s</code> is not a seed; it is the shape parameter of the distribution."}, {"owner": {"reputation": 2245, "user_id": 2486302, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5971eccc4646be6e50874e6d28b68b84?s=128&d=identicon&r=PG", "display_name": "Mack", "link": "https://stackoverflow.com/users/2486302/mack"}, "edited": false, "score": 0, "creation_date": 1439427280, "post_id": 31977175, "comment_id": 51861595, "body": "I believe what you&#39;re referencing would draw 1000 samples from a univariate distribution. I want to sample once from a multivariate distribution with a covariance matrix and a vector of means."}], "answers": [{"tags": [], "owner": {"reputation": 44364, "user_id": 2487184, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d8cd1dea84cfe8312c532088a0da08e8?s=128&d=identicon&r=PG", "display_name": "CT Zhu", "link": "https://stackoverflow.com/users/2487184/ct-zhu"}, "is_accepted": true, "score": 4, "last_activity_date": 1501202734, "last_edit_date": 1501202734, "creation_date": 1440017219, "answer_id": 32105387, "question_id": 31977175, "link": "https://stackoverflow.com/questions/31977175/how-can-i-sample-a-multivariate-log-normal-distribution-in-python/32105387#32105387", "title": "How can I sample a multivariate log-normal distribution in Python?", "body": "<p>A multivariate lognormal distributed random variable <code>Rv</code> should have this property: <code>log(Rv)</code> should follow a normal distribution.  Therefore, the problem is really just to generation a random variable of multivariate normal distribution and <code>np.exp</code> it.</p>\n\n<pre><code>In [1]: import numpy.random as nr\n\nIn [2]: cov = np.array([[1.0, 0.2, 0.3,],\n                        [0.2, 1.0, 0.3,],\n                        [0.3, 0.3, 1.0]])\n\nIn [3]: mu  = np.log([0.3, 0.4, 0.5])\n\nIn [4]: mvn = nr.multivariate_normal(mu, cov, size=5)\n\nIn [5]: mvn   # This is multivariate normal\nOut[5]:\narray([[-1.36808854, -1.32562291, -1.9706876 ],\n       [-2.13119289,  1.28146425,  0.66000019],\n       [-2.82590272, -1.22500654, -0.32635701],\n       [-0.4967589 , -0.34469589, -2.04084115],\n       [-0.85590235, -1.27133544, -0.70959595]])\n\nIn [6]: mvln = np.exp(mvn)\n\nIn [7]: mvln   # This is multivariate log-normal\nOut[7]:\narray([[ 0.25459314,  0.26563744,  0.139361  ],\n       [ 0.11869562,  3.60190996,  1.9347927 ],\n       [ 0.05925514,  0.29375578,  0.72154754],\n       [ 0.60849968,  0.70843576,  0.12991938],\n       [ 0.42489961,  0.28045684,  0.49184289]])\n</code></pre>\n"}], "owner": {"reputation": 2245, "user_id": 2486302, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/5971eccc4646be6e50874e6d28b68b84?s=128&d=identicon&r=PG", "display_name": "Mack", "link": "https://stackoverflow.com/users/2486302/mack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4505, "favorite_count": 2, "accepted_answer_id": 32105387, "answer_count": 1, "score": 4, "last_activity_date": 1605361325, "creation_date": 1439422624, "question_id": 31977175, "link": "https://stackoverflow.com/questions/31977175/how-can-i-sample-a-multivariate-log-normal-distribution-in-python", "title": "How can I sample a multivariate log-normal distribution in Python?", "body": "<p>Using Python, how can I sample data from a multivariate log-normal distribution? For instance, for a multivariate normal, there are two options. Let's assume we have a 3 x 3 covariance matrix and a 3-dimensional mean vector mu.</p>\n\n<pre><code># Method 1\nsample = np.random.multivariate_normal(mu, covariance)\n\n# Method 2\nL = np.linalg.cholesky(covariance)\nsample = L.dot(np.random.randn(3)) + mu\n</code></pre>\n\n<p>I found numpy's <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.random.lognormal.html\" rel=\"nofollow\">numpy.random.lognormal</a>, but that only seems to work for univariate samples. I also noticed scipy's <a href=\"http://docs.scipy.org/doc/scipy/reference/generated/scipy.stats.lognorm.html#scipy.stats.lognorm.rvs\" rel=\"nofollow\">scipy.stats.lognorm</a>. This does seem to have the potential for multivariate samples. However, I can't figure out how to do this.</p>\n"}, {"tags": ["python", "pandas", "group-by"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5221275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8a89352bdca7d137bde82c45a80153?s=128&d=identicon&r=PG&f=1", "display_name": "pedramoh", "link": "https://stackoverflow.com/users/5221275/pedramoh"}, "edited": false, "score": 0, "creation_date": 1439483727, "post_id": 31977350, "comment_id": 51891850, "body": "Thanks Stefan, I tried this but I must be doing something wrong. Error is &quot;If using all scalar values, you must pass an index&quot;."}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 3, "user_id": 5221275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8a89352bdca7d137bde82c45a80153?s=128&d=identicon&r=PG&f=1", "display_name": "pedramoh", "link": "https://stackoverflow.com/users/5221275/pedramoh"}, "edited": false, "score": 0, "creation_date": 1439483869, "post_id": 31977350, "comment_id": 51891923, "body": "Hi, could you pls share what your data, esp your &#39;products&#39; look like?"}, {"owner": {"reputation": 3, "user_id": 5221275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8a89352bdca7d137bde82c45a80153?s=128&d=identicon&r=PG&f=1", "display_name": "pedramoh", "link": "https://stackoverflow.com/users/5221275/pedramoh"}, "edited": false, "score": 0, "creation_date": 1439484629, "post_id": 31977350, "comment_id": 51892379, "body": "Just added example format in the original question.  Cheers"}, {"owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "reply_to_user": {"reputation": 3, "user_id": 5221275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8a89352bdca7d137bde82c45a80153?s=128&d=identicon&r=PG&f=1", "display_name": "pedramoh", "link": "https://stackoverflow.com/users/5221275/pedramoh"}, "edited": false, "score": 0, "creation_date": 1439486701, "post_id": 31977350, "comment_id": 51893565, "body": "Thanks - updated my answer, let&#39;s see if this works."}], "tags": [], "owner": {"reputation": 34745, "user_id": 1494637, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a50559f059e0621b4f543bcda9aad0a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan", "link": "https://stackoverflow.com/users/1494637/stefan"}, "is_accepted": true, "score": 0, "last_activity_date": 1439486418, "last_edit_date": 1495535314, "creation_date": 1439423840, "answer_id": 31977350, "question_id": 31977156, "link": "https://stackoverflow.com/questions/31977156/mean-of-30-most-recent-data-points-for-each-unique-value-of-another-column/31977350#31977350", "title": "Mean of 30 most recent data points for each unique value of another column", "body": "<p>In general terms, you could <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> your DataFrame assumed to be called <code>df</code> by its column 'b' like so:</p>\n\n<pre><code>products = df.groupby('b)\n</code></pre>\n\n<p>then iterate through each product group as follows:</p>\n\n<pre><code>mean = {}\nfor product, data in products:\n    mean[product] = data.sort('c', ascending=False).head(30)['a'].mean()\nprint DataFrame.from_dict(mean.items(), columns=['Product', 'Mean')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>print Series(mean)\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/questions/18837262/convert-python-dict-into-a-dataframe\">here</a> for details on the error you encountered.</p>\n"}], "owner": {"reputation": 3, "user_id": 5221275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df8a89352bdca7d137bde82c45a80153?s=128&d=identicon&r=PG&f=1", "display_name": "pedramoh", "link": "https://stackoverflow.com/users/5221275/pedramoh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 31977350, "answer_count": 1, "score": 0, "last_activity_date": 1463347054, "creation_date": 1439422529, "last_edit_date": 1463347054, "question_id": 31977156, "link": "https://stackoverflow.com/questions/31977156/mean-of-30-most-recent-data-points-for-each-unique-value-of-another-column", "title": "Mean of 30 most recent data points for each unique value of another column", "body": "<p>I am trying to get the mean of 30 most recent points in column <code>a</code> for each type of product specified in column <code>b</code> given a date column <code>c</code>. </p>\n\n<p>So the calculation of the average will be based on the most recent 30 points of each particular <code>Product</code> as opposed to the overall most recent data points of the whole <code>DataFrame</code>. </p>\n\n<pre><code>df:\n\nProduct            Value      Date\nPOL Mumbai         22.5       2015-6-26\nSTOLCO Finesse     55.5       2015-7-1\nMPLR  Pure         85.0       2015-8-1\n</code></pre>\n"}, {"tags": ["python", "timer", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 1371, "user_id": 5103577, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Okf5j.png?s=128&g=1", "display_name": "Luke Borowy", "link": "https://stackoverflow.com/users/5103577/luke-borowy"}, "is_accepted": false, "score": 0, "last_activity_date": 1441312355, "creation_date": 1441312355, "answer_id": 32384927, "question_id": 31977152, "link": "https://stackoverflow.com/questions/31977152/reset-pygame-set-timer-dynamically/32384927#32384927", "title": "reset pygame set_timer dynamically", "body": "<p>Whenever you change <code>ms_til_turn</code> just run this line again:<code>pygame.time.set_timer(25,ms_til_turn)</code>.</p>\n"}], "owner": {"reputation": 577, "user_id": 3150635, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d11c1fc2093ec354211de328e25f5c55?s=128&d=identicon&r=PG&f=1", "display_name": "user3150635", "link": "https://stackoverflow.com/users/3150635/user3150635"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 292, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1441312355, "creation_date": 1439422514, "question_id": 31977152, "link": "https://stackoverflow.com/questions/31977152/reset-pygame-set-timer-dynamically", "title": "reset pygame set_timer dynamically", "body": "<p>I'm coding a game in pygame and I want an event to happen on a timer.  I've been using this</p>\n\n<pre><code>ms_til_turn = 4000\npygame.time.set_timer(25,ms_til_turn)\n</code></pre>\n\n<p>but now that I want to change the value of the milliseconds til turn variable dynamically, I'm realizing that the timer doesn't change when ms_til_turn changes, it still just triggers the event every 4 seconds.  How can I do this so that I can reset the timer to be a different length?</p>\n"}, {"tags": ["python", "mysql", "django", "database", "insert"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "edited": false, "score": 0, "creation_date": 1439499928, "post_id": 31977326, "comment_id": 51900370, "body": "can&#39;t really do much with the db stuff, I have really limited access to configuration when it comes to that.  I&#39;m basically trying to insert rows into the table as fast as possible, but kinda hard when 50 inserts takes ~3 seconds (which I believe is incredibly slow)"}, {"owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "reply_to_user": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "edited": false, "score": 0, "creation_date": 1439503107, "post_id": 31977326, "comment_id": 51901688, "body": "Something seems to be wrong with your DB. I just had a test with creating 100 users (custom model, 20 fields) in postgres and it took 0.9 seconds \u2026 Have a look at figuring out whether other apps/ways are as slow and then have a look at what&#39;s wrong with your db"}, {"owner": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "edited": false, "score": 0, "creation_date": 1439504226, "post_id": 31977326, "comment_id": 51902074, "body": "should also mention the inserts are relatively huge, each one is approximately 200kB with all the fields combined"}, {"owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "reply_to_user": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "edited": false, "score": 0, "creation_date": 1439504519, "post_id": 31977326, "comment_id": 51902193, "body": "I&#39;d recommend using a task queue for it like celery then \u2026 If it&#39;s not time critical. Seems like there is no way around waiting - especially at 2 million inserts."}], "tags": [], "owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "is_accepted": false, "score": 1, "last_activity_date": 1439423715, "creation_date": 1439423715, "answer_id": 31977326, "question_id": 31977138, "link": "https://stackoverflow.com/questions/31977138/increasing-insert-performance-in-django-for-many-records-of-huge-data/31977326#31977326", "title": "Increasing INSERT Performance in Django For Many Records of HUGE Data", "body": "<p>This is out of django's scope really. Django just translates your python into on <code>INSERT INTO</code> statement. For most performance on the django layer skipping it entirely (by doing sql raw) might be best, even though python processing is pretty fast compared to IO of a sql-database.</p>\n\n<p>You should rather focus on the database. I'm a postgres person, so I don't know what config options mysql has, but there is probably some fine tuning available.<br>\nIf you have done that and there is still no increase you should consider using SSDs, SSDs in a RAID 0, or even a db in memory, to skip IO times.\nSharding may be a solution too - splitting the tasks and executing them in parallel.</p>\n\n<p>If the inserts however are not time critical, i.e. can be done whenever, but shouldn't block the page from loading, I recommend celery.\nThere you can queue a task to be executed whenever there is time - asynchronously.</p>\n"}, {"comments": [{"owner": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "edited": false, "score": 0, "creation_date": 1439500080, "post_id": 31977679, "comment_id": 51900427, "body": "Oh yes, I&#39;ve also tried disabling and enabling indexes with no success using the query:  &quot;ALTER TABLE <i>table_name</i> DISABLE KEYS&quot;"}], "tags": [], "owner": {"reputation": 418, "user_id": 5179810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n9H7e.jpg?s=128&g=1", "display_name": "Camilo Torres", "link": "https://stackoverflow.com/users/5179810/camilo-torres"}, "is_accepted": false, "score": 0, "last_activity_date": 1439426197, "creation_date": 1439426197, "answer_id": 31977679, "question_id": 31977138, "link": "https://stackoverflow.com/questions/31977138/increasing-insert-performance-in-django-for-many-records-of-huge-data/31977679#31977679", "title": "Increasing INSERT Performance in Django For Many Records of HUGE Data", "body": "<p>You can also try to delete any index on the tables (and any other constraint), the recreate the indexes and constraints after the insert.</p>\n\n<p>Updating indexes and checking constraints can slow down every insert.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "is_accepted": true, "score": 0, "last_activity_date": 1439592493, "last_edit_date": 1439592493, "creation_date": 1439514176, "answer_id": 32000816, "question_id": 31977138, "link": "https://stackoverflow.com/questions/31977138/increasing-insert-performance-in-django-for-many-records-of-huge-data/32000816#32000816", "title": "Increasing INSERT Performance in Django For Many Records of HUGE Data", "body": "<p>So I found that editing the mysql /etc/mysql/my.cnf file and configuring some of the InnoDB settings significantly increased performance.</p>\n\n<p>I set:</p>\n\n<ul>\n<li>innodb_buffer_pool_size = 9000M <em>75% of your system RAM</em></li>\n<li>innodb_log_file_size = 2000M    <em>20%-30% of the above value</em></li>\n</ul>\n\n<p>restarted the mysql server and this cut down 50 inserts from ~3 seconds to ~0.8 seconds. Not too bad!</p>\n\n<p>Now I'm noticing the inserts are gradually taking longer longer for big data amounts. 50 inserts starts at about 0.8 seconds but after 100 or so batches the average is up to 1.4 seconds and continues increasing.</p>\n\n<p>Will report back if solved.</p>\n"}], "owner": {"reputation": 21, "user_id": 5221287, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c7d565b1a0da609ce88ca8473fb63e1?s=128&d=identicon&r=PG&f=1", "display_name": "gigaTitan", "link": "https://stackoverflow.com/users/5221287/gigatitan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1702, "favorite_count": 0, "accepted_answer_id": 32000816, "answer_count": 3, "score": 2, "last_activity_date": 1439592493, "creation_date": 1439422403, "question_id": 31977138, "link": "https://stackoverflow.com/questions/31977138/increasing-insert-performance-in-django-for-many-records-of-huge-data", "title": "Increasing INSERT Performance in Django For Many Records of HUGE Data", "body": "<p>So I've been trying to solve this for a while now and can't seem to find a way to speed up performance of inserts with Django despite the many suggestions and tips found on StackOverflow and many Google searches.</p>\n\n<p>So basically I need to insert a LOT of data records (~2 million) through Django into my MySQL DB, each record entry being a whopping 180KB. I've scaled my testing down to 2,000 inserts yet still cant get the running time down to a reasonable amount. 2,000 inserts currently takes approximately 120 seconds.</p>\n\n<p>So I've tried ALL of the following (and many combinations of each) to no avail:</p>\n\n<ul>\n<li>\"Classic\" Django ORM create model and .save()</li>\n<li>Single transaction (transaction.atomic())</li>\n<li>Bulk_create</li>\n<li>Raw SQL INSERT in for loop</li>\n<li>Raw SQL \"executemany\" (multiple value inserts in one query)</li>\n<li>Setting SQL attributes like \"SET FOREIGN_KEY_CHECKS=0\"</li>\n<li>SQL BEGIN ... COMMIT</li>\n<li>Dividing the mass insert into smaller batches</li>\n</ul>\n\n<p>Apologizes if I forgot to list something, but I've just tried so many different things at this point, I can't even keep track ahah.</p>\n\n<p>Would greatly appreciate a little help here in speeding up performance from someone who maybe had to perform a similar task with Django database insertions.</p>\n\n<p>Please let me know if I've left out any necessary information!</p>\n"}, {"tags": ["python", "django", "django-models", "django-orm"], "answers": [{"tags": [], "owner": {"reputation": 1040, "user_id": 5141290, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-69p2nKVcyWg/AAAAAAAAAAI/AAAAAAAAB9A/AF3Ceew_KtU/photo.jpg?sz=128", "display_name": "Chris Sch&#228;pers", "link": "https://stackoverflow.com/users/5141290/chris-sch%c3%a4pers"}, "is_accepted": false, "score": 0, "last_activity_date": 1439424608, "creation_date": 1439424608, "answer_id": 31977459, "question_id": 31977116, "link": "https://stackoverflow.com/questions/31977116/django-filter-all-in-generic-foreign-keys/31977459#31977459", "title": "django filter all in generic foreign keys?", "body": "<p>How about reversing it?</p>\n\n<pre><code>internal = InternalOffer.objects.filter(user=user)\nexternal = ExternalOffer.objects.filter(user=user)\nresult = [internal, external]\n</code></pre>\n\n<p>And in the template do:</p>\n\n<pre><code>{% for subresult in result %}\n  {% for offer in subresult %}\n    {{ offer.relation }}\n  {% endfor %}\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 197, "user_id": 4020578, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "King_llama", "link": "https://stackoverflow.com/users/4020578/king-llama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439541936, "creation_date": 1439422242, "last_edit_date": 1439541936, "question_id": 31977116, "link": "https://stackoverflow.com/questions/31977116/django-filter-all-in-generic-foreign-keys", "title": "django filter all in generic foreign keys?", "body": "<p>I have 2 tables and a third with a Generic foreign key, essentially joining table one a two.</p>\n\n<pre><code>class InternalOffer(models.Model):\n    user = models.ForeignKey('User')\n    (offer data...)\n    relation = GenericRelation(OfferJoin, related_query_name='offer')\n\nclass ExternalOffer(models.Model):\n    user = models.ForeignKey('User')\n    (offer data...)\n    relation = GenericRelation(OfferJoin, related_query_name='offer')\n\nclass OfferJoin(models.Model):\n    content_type = models.ForeignKey(ContentType)\n    object_id = models.PositiveIntegerField()\n    offer = GenericForeignKey('content_type', 'object_id')\n</code></pre>\n\n<p>I want to be able to query both External and Internal Offers to display all of them on a single page. I can query all of them with <code>OfferJoin.objects.all()</code> but I need to be able to filter by user, something like <code>OfferJoin.objects.filter(offer__user__id=request.user.id)</code></p>\n\n<p>What am I doing wrong? Is there a better way to do this?</p>\n\n<p>Thanks.</p>\n\n<p><strong>EDIT: Solution</strong></p>\n\n<p>It turns out, <code>related_query_name</code> in <code>GenericRelation</code> can not be identical to the name of the <code>GenericForeignKey</code> column. Here is the update line:</p>\n\n<pre><code>    relation = GenericRelation(OfferJoin, related_query_name='offerquery')\n</code></pre>\n\n<p>This lets me filter properly, but I can't <code>.exclude()</code> on the query. It's a step in the right direction though.</p>\n"}, {"tags": ["python", "recursion", "return"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1439422310, "post_id": 31977102, "comment_id": 51860476, "body": "Your function has no return value for anything other than the input <code>&quot;&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 1993656, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/cz7vR.jpg?s=128&g=1", "display_name": "still learning", "link": "https://stackoverflow.com/users/1993656/still-learning"}, "edited": false, "score": 0, "creation_date": 1439422803, "post_id": 31977120, "comment_id": 51860621, "body": "Ahh I didn&#39;t think about having to go back out of my recursion with the return statement. It makes sense though. Thanks."}], "tags": [], "owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "is_accepted": true, "score": 2, "last_activity_date": 1439422293, "creation_date": 1439422293, "answer_id": 31977120, "question_id": 31977102, "link": "https://stackoverflow.com/questions/31977102/python-my-return-variable-is-always-none/31977120#31977120", "title": "Python: My return variable is always None", "body": "<p>You have to return the return value of the recursive call.</p>\n\n<pre><code>def reverse(string, output = \"\"):\n    if string == \"\":\n        print \"winner: \", output\n        return output\n    output = output + string[-1]\n    string = string[:-1]\n    return reverse(string, output=output)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1439422387, "creation_date": 1439422387, "answer_id": 31977133, "question_id": 31977102, "link": "https://stackoverflow.com/questions/31977102/python-my-return-variable-is-always-none/31977133#31977133", "title": "Python: My return variable is always None", "body": "<pre><code>def reverse(string, output = \"\"):\n    if string == \"\":\n        print (\"winner: \", output)\n        return output\n    output = output + string[-1]\n    string = string[:-1]\n    return reverse(string, output=output)\ndef main():\n    reverse(\"hello\")\nmain()\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>def reverse(string, output = \"\"):\n    if string == \"\":\n        print (\"winner: \", output)\n        return output\n    output = output + string[-1]\n    string = string[:-1]\n    return reverse(string, output=output)\nreverse(\"hello\")\n</code></pre>\n\n<p>OUTPUT FOR BOTH</p>\n\n<pre><code>&gt;&gt;&gt; \nwinner:  olleh\n&gt;&gt;&gt; ================================ RESTART ================================\n&gt;&gt;&gt; \nwinner:  olleh\n&gt;&gt;&gt; \n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 1993656, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/cz7vR.jpg?s=128&g=1", "display_name": "still learning", "link": "https://stackoverflow.com/users/1993656/still-learning"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 31977120, "answer_count": 2, "score": 0, "last_activity_date": 1439422387, "creation_date": 1439422169, "question_id": 31977102, "link": "https://stackoverflow.com/questions/31977102/python-my-return-variable-is-always-none", "title": "Python: My return variable is always None", "body": "<p>So I found a strange thing that happens in python whenever I try to return an optional parameter or at least I think that is why it is happening.</p>\n\n<p>Here is my code</p>\n\n<pre><code>def reverse(string, output = \"\"):\n    if string == \"\":\n        print \"winner: \", output\n        return output\n    output = output + string[-1]\n    string = string[:-1]\n    reverse(string, output=output)\n</code></pre>\n\n<p>And here is what happens when I run it:</p>\n\n<pre><code>&gt;&gt;&gt; output = reverse(\"hello\")\nwinner:  olleh\n&gt;&gt;&gt; print output\nNone\n</code></pre>\n\n<p>Anyone know why my return is always None?</p>\n"}, {"tags": ["python", "elasticsearch"], "comments": [{"owner": {"reputation": 7676, "user_id": 154694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b876c6ad05fba27a1e515192414a769?s=128&d=identicon&r=PG", "display_name": "Nick Zadrozny", "link": "https://stackoverflow.com/users/154694/nick-zadrozny"}, "edited": false, "score": 0, "creation_date": 1439425987, "post_id": 31977040, "comment_id": 51861336, "body": "Can you put together a gist of sample requests and responses? A few sample queries would help."}, {"owner": {"reputation": 163519, "user_id": 4604579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reC2t.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/4604579/val"}, "edited": false, "score": 0, "creation_date": 1439453961, "post_id": 31977040, "comment_id": 51871180, "body": "In your <code>elasticsearch.yml</code> file (at the bottom), can you try to change the following two settings <code>index.search.slowlog.threshold.query.info: 1ms</code> and index.search.slowlog.threshold.fetch.info: 1ms` and then check in your slow log file that all your queries make it? That would be a first step to see what ES actually receives?"}, {"owner": {"reputation": 1494, "user_id": 2744821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/06b6ecdda9c7593466476586c1d9dcfe?s=128&d=identicon&r=PG&f=1", "display_name": "kevin.w.johnson", "link": "https://stackoverflow.com/users/2744821/kevin-w-johnson"}, "reply_to_user": {"reputation": 7676, "user_id": 154694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b876c6ad05fba27a1e515192414a769?s=128&d=identicon&r=PG", "display_name": "Nick Zadrozny", "link": "https://stackoverflow.com/users/154694/nick-zadrozny"}, "edited": false, "score": 0, "creation_date": 1439479730, "post_id": 31977040, "comment_id": 51889294, "body": "@Nick thanks I updated with an example query for a product Val thanks trying that now!"}], "answers": [{"comments": [{"owner": {"reputation": 7676, "user_id": 154694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b876c6ad05fba27a1e515192414a769?s=128&d=identicon&r=PG", "display_name": "Nick Zadrozny", "link": "https://stackoverflow.com/users/154694/nick-zadrozny"}, "edited": false, "score": 0, "creation_date": 1439493960, "post_id": 31994070, "comment_id": 51897523, "body": "Yes, this. I was tempted to guess. Similar caveat on bulk API actions as well :)"}, {"owner": {"reputation": 1039, "user_id": 2666216, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/Gbjlg.jpg?s=128&g=1", "display_name": "Taaam", "link": "https://stackoverflow.com/users/2666216/taaam"}, "edited": false, "score": 1, "creation_date": 1547059628, "post_id": 31994070, "comment_id": 95065712, "body": "Just saved me hours probably... Thanks!"}], "tags": [], "owner": {"reputation": 1494, "user_id": 2744821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/06b6ecdda9c7593466476586c1d9dcfe?s=128&d=identicon&r=PG&f=1", "display_name": "kevin.w.johnson", "link": "https://stackoverflow.com/users/2744821/kevin-w-johnson"}, "is_accepted": true, "score": 14, "last_activity_date": 1439484439, "creation_date": 1439484439, "answer_id": 31994070, "question_id": 31977040, "link": "https://stackoverflow.com/questions/31977040/elasticsearch-multi-search-not-returning-correct-number-of-results/31994070#31994070", "title": "Elasticsearch multi search not returning correct number of results", "body": "<p>Whew! That was annoying.</p>\n\n<p>So the caveat between search and msearch is that elasticsearch expects two lines per query. The first line indicates the index (can be left blank if you've already specified it) and the second line is your actual query.</p>\n\n<p>So when creating my list of queries, I just append {} right before it as so:</p>\n\n<pre><code>list_of_queries = []\nfor thing in list_of_things:\n    list_of_queries.append({})\n    list_of_queries.append(thing.get_query())\n</code></pre>\n\n<p>Then it works!</p>\n"}], "owner": {"reputation": 1494, "user_id": 2744821, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/06b6ecdda9c7593466476586c1d9dcfe?s=128&d=identicon&r=PG&f=1", "display_name": "kevin.w.johnson", "link": "https://stackoverflow.com/users/2744821/kevin-w-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 0, "accepted_answer_id": 31994070, "answer_count": 1, "score": 6, "last_activity_date": 1439484439, "creation_date": 1439421776, "last_edit_date": 1439479033, "question_id": 31977040, "link": "https://stackoverflow.com/questions/31977040/elasticsearch-multi-search-not-returning-correct-number-of-results", "title": "Elasticsearch multi search not returning correct number of results", "body": "<p>I'm using Elasticsearch's <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-multi-search.html\" rel=\"noreferrer\">multi search</a> to run a list of queries through the <a href=\"https://elasticsearch-py.readthedocs.org/en/master/api.html#elasticsearch.Elasticsearch.msearch\" rel=\"noreferrer\">python library</a>. It seems to be working... mostly. The problem is that if I send up 200 queries, it returns 100 results (no errors). I've tried running even 20 queries and still get 10 results. For some reason it seems to always return only half of the queries. Which also means I don't know which query the results correlate to.</p>\n\n<p>The queries all work individually but would take too long. There's no mention in the docs of the possibility of the response not containing the same number of queries so I'm not sure where to go here. I've stepped into the code as much as the python library will let me to verify all of the queries are being sent up and it seems to work as expected.</p>\n\n<p>Thanks for any help or a push in the right direction!</p>\n\n<p>Edit:\nHere's an example of the query I use.</p>\n\n<pre><code>   {  \n   \"filter\":{  \n      \"and\":[  \n         {  \n            \"not\":{  \n               \"term\":{  \n                  \"uuid\":\"60507f9e-01c1-11e5-a369-34363bd16ec4\"\n               }\n            }\n         },\n         {  \n            \"term\":{  \n               \"brand_id\":22212\n            }\n         }\n      ]\n   },\n   \"query\":{  \n      \"bool\":{  \n         \"minimum_should_match\":1,\n         \"should\":[  \n            {  \n               \"match\":{  \n                  \"name\":{  \n                     \"query\":\"spork\",\n                     \"boost\":3\n                  }\n               }\n            },\n            {  \n               \"match\":{  \n                  \"categories\":{  \n                     \"slop\":10,\n                     \"type\":\"phrase\",\n                     \"query\":\"household plates, bowls, cups &amp; flatware\"\n                  }\n               }\n            }\n         ],\n         \"must_not\":[  \n\n         ],\n         \"must\":[  \n            {  \n               \"match\":{  \n                  \"name_analyzed\":{  \n                     \"boost\":4,\n                     \"query\":\"spork\",\n                     \"type\":\"phrase\",\n                     \"slop\":15\n                  }\n               }\n            }\n         ]\n      }\n   }\n}\n</code></pre>\n\n<p>I create a list of however many queries like these I'd like to run and execute them as so, as per the python elasticsearch documentation:</p>\n\n<pre><code>elasticsearch.msearch(list_of_search_queries)\n</code></pre>\n"}, {"tags": ["python", "pandas", "statsmodels"], "comments": [{"owner": {"reputation": 9097, "user_id": 368311, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/5db52f950caf13b2702499daab09ddfe?s=128&d=identicon&r=PG&f=1", "display_name": "itzy", "link": "https://stackoverflow.com/users/368311/itzy"}, "edited": false, "score": 0, "creation_date": 1439425474, "post_id": 31976981, "comment_id": 51861234, "body": "No, Newey-West isn&#39;t the same thing as clustering by time. You&#39;ll probably have more luck asking your question on the statsmodels group at <a href=\"https://groups.google.com/group/pystatsmodels?hl=en\" rel=\"nofollow noreferrer\">groups.google.com/group/pystatsmodels?hl=en</a>"}, {"owner": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1439425956, "post_id": 31976981, "comment_id": 51861331, "body": "Wow! Heavy duty econometrics in Python? For extensive modelling, I would defer to R as a strong statistician community readily contributes. Plus, it too is open-source. This might be a Stats Exchange question and I may be wrong but two-way clustering is a newer concept for cluster-robust SEs and I would bet the house R like in <a href=\"https://cran.r-project.org/web/packages/plm/index.html\" rel=\"nofollow noreferrer\">plm</a> would have a package than Python. But consider grouping <code>entity</code> and <code>time</code> as new variable, then run that as the cluster."}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 1, "creation_date": 1439437726, "post_id": 31976981, "comment_id": 51864003, "body": "@Parfait What&#39;s that supposed to mean? Here is the list of available heteroscedasticity or correlation robust covariance matrices <a href=\"http://www.statsmodels.org/dev/generated/statsmodels.regression.linear_model.RegressionResults.get_robustcov_results.html\" rel=\"nofollow noreferrer\">statsmodels.org/dev/generated/&hellip;</a> which includes one way and two way cluster robust and two kinds of panel-HAC sandwiches. However, statsmodels doesn&#39;t have the traditional econometrics panel data models yet. (Fixed effects can be created with a categorical variable in the formula. Random Effects for linear models could be estimated with a linear mixed effects model.)"}, {"owner": {"reputation": 3258, "user_id": 1418224, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7feecc0d2234310c68ee0f57e2abae55?s=128&d=identicon&r=PG", "display_name": "Plug4", "link": "https://stackoverflow.com/users/1418224/plug4"}, "edited": false, "score": 0, "creation_date": 1439446649, "post_id": 31976981, "comment_id": 51867032, "body": "I am actually thinking to simply run a OLS using Driscoll-Kraay standard errors (cluster on time and entity) outside of the Panel OLS framework of Pandas and then use time dummies to control time seasonality instead"}, {"owner": {"reputation": 18838, "user_id": 333700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad13088a623822caf74e635a68a55eae?s=128&d=identicon&r=PG", "display_name": "Josef", "link": "https://stackoverflow.com/users/333700/josef"}, "edited": false, "score": 0, "creation_date": 1439467240, "post_id": 31976981, "comment_id": 51879737, "body": "see recent mailing list thread for use of Driscoll-Kraay <a href=\"https://groups.google.com/d/msg/pystatsmodels/Cs-2mlC3C8g/kWUxPZK_JQAJ\" rel=\"nofollow noreferrer\">groups.google.com/d/msg/pystatsmodels/Cs-2mlC3C8g/kWUxPZK_JQ&zwnj;&#8203;AJ</a>  Error in docstring, and fragility to input specification."}], "answers": [{"tags": [], "owner": {"reputation": 1520, "user_id": 3820991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2b55c01c375e7a49cbfdae4d99e9561b?s=128&d=identicon&r=PG&f=1", "display_name": "user3820991", "link": "https://stackoverflow.com/users/3820991/user3820991"}, "is_accepted": false, "score": 0, "last_activity_date": 1491568932, "last_edit_date": 1491568932, "creation_date": 1491475443, "answer_id": 43252900, "question_id": 31976981, "link": "https://stackoverflow.com/questions/31976981/python-panelols-two-way-clustering/43252900#43252900", "title": "Python: PanelOLS - two-way clustering?", "body": "<p>In Thompson (2011) \"Simple Formulas for standard errors that cluster by both frim and time\" he describes how you can achieve double-clustering with commands that allow only one way clustering.</p>\n\n<p>Denote your variance estimator clustered by entity by <code>V_ent</code> and your variance estimator clustered by time by <code>V_time</code> and the heteroskedasticity-robust estimator by <code>V_white</code>. Then the double clustering standard error is given by <code>V = V_ent + V_time - V_white</code>. So you can use your PanelOLS regression to give you each of these variance estimators and then compute the double-clustering standard errors by yourself. </p>\n"}], "owner": {"reputation": 3258, "user_id": 1418224, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/7feecc0d2234310c68ee0f57e2abae55?s=128&d=identicon&r=PG", "display_name": "Plug4", "link": "https://stackoverflow.com/users/1418224/plug4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2693, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498758481, "creation_date": 1439421367, "last_edit_date": 1439472455, "question_id": 31976981, "link": "https://stackoverflow.com/questions/31976981/python-panelols-two-way-clustering", "title": "Python: PanelOLS - two-way clustering?", "body": "<p>In Python/Pandas I use the PanelOLS function. This function gives you the ability to cluster your standard errors. For instance:</p>\n\n<pre><code>PanelOLS(y=panel.Y, x=panel[['X1', 'X2'], nw_lags=10, time_effects=True,\n         cluster='time')\n</code></pre>\n\n<p>But I would like to also cluster by standard errors by <code>entity</code> as well as in <code>time</code>.</p>\n\n<p>Is there a way to do so? If not, what about the panel function in <code>statsmodel</code>? I have a hard time to find the documentation on Panel regression using statsmodel.</p>\n\n<p><strong>UPDATE</strong>\nIf I control using the newey-west lags (<code>nw_lags</code>) , isn't this like <code>cluster='entity'</code>? So, if I use both <code>nw_lags</code> and <code>cluster=time</code>, it is like doing a 2-way clustering?</p>\n"}, {"tags": ["python", "python-2.7", "encryption", "serialization", "pickle"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1439421403, "post_id": 31976975, "comment_id": 51860226, "body": "What is the result file size?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 1, "creation_date": 1439421500, "post_id": 31976975, "comment_id": 51860256, "body": "Use JSON. Not <code>pickle</code>, not <code>eval()</code> on a dict in a .txt file; JSON :)."}, {"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1439421535, "post_id": 31976975, "comment_id": 51860261, "body": "I&#39;d take a look here for a bit more information (though not encryption): <a href=\"http://stackoverflow.com/questions/28326725/a-user-score-saving-program/28326996#28326996\" title=\"a user score saving program\">stackoverflow.com/questions/28326725/&hellip;</a>"}, {"owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1439421550, "post_id": 31976975, "comment_id": 51860266, "body": "@ReutSharabani Currently only about 500kB, however that is with relatively little game-play, and I would expect it to grow significantly. I am also looking to store more game data."}, {"owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439421632, "post_id": 31976975, "comment_id": 51860289, "body": "@Cyphase why do you recommend JSON, which of the features I&#39;m looking for would you say it offers particularly?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1439421779, "post_id": 31976975, "comment_id": 51860331, "body": "this is exactly what stuff like postgres,redis,mongodb,mysql,etc were created for..."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439421827, "post_id": 31976975, "comment_id": 51860344, "body": "Can you give us an estimate of the size of your game&#39;s playerbase?"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 1, "creation_date": 1439421851, "post_id": 31976975, "comment_id": 51860353, "body": "@Siwel <code>json</code> is more secure(and faster if you use <code>simplejson</code>) ... if I made my username <code>os.system(&quot;format C:&quot;)</code> and you run your <code>eval</code> on that you might not like the outcome"}, {"owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439421963, "post_id": 31976975, "comment_id": 51860382, "body": "@JoranBeasley Thanks for that point, I was aware it was not something to keep! I currently only have a few friends playing it, but am looking to make it available online."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439422047, "post_id": 31976975, "comment_id": 51860399, "body": "if you want to define your own serialization YAML is like json, but you can define your own object types (you could also use pycrypto to encrypt/decrypt as part of the serialization)"}, {"owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "edited": false, "score": 0, "creation_date": 1440600726, "post_id": 31976975, "comment_id": 52342305, "body": "Anyone want to comment on why the downvote?"}], "answers": [{"comments": [{"owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "edited": false, "score": 0, "creation_date": 1439422383, "post_id": 31977110, "comment_id": 51860493, "body": "I use <code>py2exe</code>, so the source code shouldn&#39;t be easily available. I&#39;m not hugely concerned about security at the moment, but a basic level of it would be good."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439422441, "post_id": 31977110, "comment_id": 51860506, "body": "if you want it decentralized you should really look at postgres or something ... (but then you&#39;ll need a server)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4322779"}, "edited": false, "score": 0, "creation_date": 1439424181, "post_id": 31977110, "comment_id": 51860966, "body": "HDF5 storage is an option. It&#39;s compressed, can be accessed in parallel with MPI (<a href=\"http://mpi4py.scipy.org/docs/usrman/index.html\" rel=\"nofollow noreferrer\">mpi4py.scipy.org/docs/usrman/index.html</a>) and remotely with OPeNDAP (<a href=\"http://hdfeos.org/software/hdf5_handler.php\" rel=\"nofollow noreferrer\">hdfeos.org/software/hdf5_handler.php</a>), available on many platforms , portable and sharable.  A Python API for it is provided by the h5py package (<a href=\"http://www.h5py.org/\" rel=\"nofollow noreferrer\">h5py.org</a>).  The O&#39;Reilly book &quot;Python and HDF5&quot; by Andrew Collette gives additional documentation of this API. The HDF5 project website is <a href=\"https://www.hdfgroup.org/HDF5/\" rel=\"nofollow noreferrer\">hdfgroup.org/HDF5</a>."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1439427480, "post_id": 31977110, "comment_id": 51861640, "body": "What encryption modules are part of a standard python install?"}, {"owner": {"reputation": 2588, "user_id": 3476918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJURd.png?s=128&g=1", "display_name": "OldGeeksGuide", "link": "https://stackoverflow.com/users/3476918/oldgeeksguide"}, "edited": false, "score": 0, "creation_date": 1439488696, "post_id": 31977110, "comment_id": 51894626, "body": "It looks like I was slightly mistaken on that.  I took these - <a href=\"https://docs.python.org/2/library/crypto.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/crypto.html</a> - to be encryption/decryption, but they seem to be just hash functions.  But it looks like Crypto or Simple-Crypt are good possibilities.  I&#39;ve updated my answer to reflect this."}], "tags": [], "owner": {"reputation": 2588, "user_id": 3476918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PJURd.png?s=128&g=1", "display_name": "OldGeeksGuide", "link": "https://stackoverflow.com/users/3476918/oldgeeksguide"}, "is_accepted": true, "score": 1, "last_activity_date": 1439488597, "last_edit_date": 1439488597, "creation_date": 1439422195, "answer_id": 31977110, "question_id": 31976975, "link": "https://stackoverflow.com/questions/31976975/storing-highscores-in-a-secure-space-efficient-way-in-python/31977110#31977110", "title": "Storing highscores in a secure, space efficient way in python", "body": "<p><a href=\"http://www.json.org/\" rel=\"nofollow\">JSON</a> would be a good format to store your scores in.  If you're concerned about file size, you could gzip the JSON file, though that could have an impact on performance.</p>\n\n<p>If your users have access to the source code, I doubt there's a good way to encrypt the file that couldn't be undone with a careful examination of the code.  If it's \"compiled\" into a less source friendly format, then you could probably do some encryption, though the key would be in there somewhere.</p>\n\n<p>JSON and gzip seem to be part of a standard python install, while there are a couple of seemingly well regarded encryption libs, like <a href=\"https://pypi.python.org/pypi/simple-crypt\" rel=\"nofollow\">Simple-Crypt</a> and <a href=\"https://pypi.python.org/pypi/pycrypto\" rel=\"nofollow\">Crypto</a> which would need to be installed.</p>\n\n<p>However, if you may have multiple processes possibly updating this file (e.g. multiple players playing simultaneously), you could run into collisions resulting in a corrupted file.  As others have suggested here, some sort of database would be a better solution.</p>\n"}, {"tags": [], "owner": {"reputation": 108, "user_id": 4667498, "user_type": "registered", "accept_rate": 20, "profile_image": "https://lh4.googleusercontent.com/-TNn_poCQoAc/AAAAAAAAAAI/AAAAAAAAABk/SgBW2zQFsag/photo.jpg?sz=128", "display_name": "Braden1996", "link": "https://stackoverflow.com/users/4667498/braden1996"}, "is_accepted": false, "score": 1, "last_activity_date": 1439423283, "creation_date": 1439423283, "answer_id": 31977273, "question_id": 31976975, "link": "https://stackoverflow.com/questions/31976975/storing-highscores-in-a-secure-space-efficient-way-in-python/31977273#31977273", "title": "Storing highscores in a secure, space efficient way in python", "body": "<p>As suggested in the comments, JSON does seem to be ideal storage method for your project. Below is a modified version of your code which has been modified to read &amp; write JSON to your <code>highscores.txt</code> file.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import os\nimport json\n\n#Reading from file\ntry:\n    with open(os.path.join(root_directory, 'highscores.txt'), 'r') as f:\n        highscores = json.load(f)\nexcept IOError:\n    highscores = dict()\n\n#Writing to file\nwith open(os.path.join(root_directory, 'highscores.txt'), 'w') as f:\n    json.dump(highscores, f)\n</code></pre>\n\n<p>Regarding security, to write to the text-file you would probably want to encode the highscores into JSON; encrypt the JSON'd data; write the encrypted JSON'd data to the text file. To then read this data, simply reverse what we just did in the order we did it. If you search around, you will come across multiple useful cryptography libraries that Python has to offer. Best of luck!</p>\n"}], "owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 1, "accepted_answer_id": 31977110, "answer_count": 2, "score": -1, "last_activity_date": 1508211104, "creation_date": 1439421314, "last_edit_date": 1508211104, "question_id": 31976975, "link": "https://stackoverflow.com/questions/31976975/storing-highscores-in-a-secure-space-efficient-way-in-python", "title": "Storing highscores in a secure, space efficient way in python", "body": "<p>I have made a game in python which generates quite a large number of highscores which I want to store, with preference for security, storage efficiency and ease of use. At the moment I am storing them in a dictionary, with keys that refer to the different level types, which is then written to a <code>.txt</code> file and retrieved using <code>eval</code>.<br>\n<strong>EDIT</strong>: I am now aware this is a bad idea and am using json instead. However the file is still legible, and any encryption that could be added would be beneficial.</p>\n\n<pre><code>import os\n\n#Reading from file\ntry:\n    with open(os.path.join(root_directory, 'highscores.txt'), 'r') as f:\n        highscores = eval(f.read())\nexcept IOError:\n    highscores = dict()\n\n#Writing to file\nwith open(os.path.join(root_directory, 'highscores.txt'), 'w') as f:\n    f.write(highscores)\n</code></pre>\n\n<p>However, there a few issues I have with this method that I would like to get some advice on.</p>\n\n<ul>\n<li>I want to <strong>reduce the file size</strong>. Compressing the file does make a big difference, but any more efficient formats would be preferable.</li>\n<li>I would like to make it a bit <strong>more secure</strong>. Ideally I would want it to be hard for a player who is familiar with python to be able to work out how to edit the highscores.</li>\n<li>I would like to make it <strong>easier to update</strong> a master copy of the highscores with new additions to distributed copies, in particular the use of tuple keys in the dictionary is rather clumsy.</li>\n</ul>\n\n<p>Would it be worthwhile making a <code>Highscore</code> class which would make use of <code>serialize</code> and <code>deserialize</code> methods, and is there any additional security which could/should be added to this?</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 0, "creation_date": 1439421430, "post_id": 31976935, "comment_id": 51860240, "body": "What is the ` *` inside the group for? The initial ` *` will greedily match these spaces, so the group itself will never include spaces."}], "answers": [{"comments": [{"owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "edited": false, "score": 2, "creation_date": 1439421677, "post_id": 31976953, "comment_id": 51860309, "body": "You should probably explain what <code>re.M</code> does."}], "tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": true, "score": 2, "last_activity_date": 1439454334, "last_edit_date": 1592644375, "creation_date": 1439421211, "answer_id": 31976953, "question_id": 31976935, "link": "https://stackoverflow.com/questions/31976935/getting-regex-to-be-more-leniant/31976953#31976953", "title": "Getting regex to be more leniant", "body": "<p>You can use <a href=\"http://www.regular-expressions.info/anchors.html\" rel=\"nofollow noreferrer\">start of string anchor</a> to match any combinations of word characters which presents at the leading of the lines  :</p>\n<pre><code>&gt;&gt;&gt; s=&quot;&quot;&quot;a0={}\n... # z={}\n... a = \\\n... {\n...  }\n... b \\\n... = \\\n... { \\\n...  }&quot;&quot;&quot;\n\n&gt;&gt;&gt; re.findall(r'^\\w+',s,re.M)\n['a0', 'a', 'b']\n</code></pre>\n<blockquote>\n<p><code>re.M</code>\n(re.MULTILINE)</p>\n<p>When specified, the pattern character <code>'^'</code> matches at the beginning of the string and at the beginning of each line (immediately following each newline); and the pattern character <code>'$'</code> matches at the end of the string and at the end of each line (immediately preceding each newline). By default, <code>'^'</code> matches only at the beginning of the string, and <code>'$'</code> only at the end of the string and immediately before the newline (if any) at the end of the string.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 14050, "user_id": 1858225, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8afcf8a38024eb5b17c0b0b58ff96d79?s=128&d=identicon&r=PG", "display_name": "Kyle Strand", "link": "https://stackoverflow.com/users/1858225/kyle-strand"}, "is_accepted": false, "score": 1, "last_activity_date": 1439421652, "creation_date": 1439421652, "answer_id": 31977027, "question_id": 31976935, "link": "https://stackoverflow.com/questions/31976935/getting-regex-to-be-more-leniant/31977027#31977027", "title": "Getting regex to be more leniant", "body": "<p>You're right that you'll need to look at multiple lines at once, since the escaped newlines make it impossible to tell from looking at a single line whether that line is the start of an assignment statement.</p>\n\n<p>You can do this either by searching within the entire string at once (as in Kasramvd's answer, which makes use of the <code>MULTILINE</code> regex flag to change the behavior of the <code>^</code> anchor) or simply concatenating lines as you see escape-characters:</p>\n\n<pre><code># ... inside of some loop, with an open filehandle `f`:\nline = f.readline().rstrip()\nwhile line[-1] == '\\':\n    line += f.readline().rstrip()\n# ... then apply your regex\n</code></pre>\n"}], "owner": {"reputation": 201, "user_id": 5192211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f35842ce28804edaf9a30db88452581a?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Adams", "link": "https://stackoverflow.com/users/5192211/nick-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 31976953, "answer_count": 2, "score": 0, "last_activity_date": 1439454334, "creation_date": 1439421062, "question_id": 31976935, "link": "https://stackoverflow.com/questions/31976935/getting-regex-to-be-more-leniant", "title": "Getting regex to be more leniant", "body": "<p>So i saw a lot of questions yesterday asking for help about regex, i was wondering myself how to make it so that when reading from the file.</p>\n\n<pre><code>a0={}\n# z={}\na = \\\n{\n }\nb \\\n= \\\n{ \\\n }\n</code></pre>\n\n<p>The regex should be some variation roughly of:</p>\n\n<pre><code>' *( *\\w*) *= *{'\n</code></pre>\n\n<p>and the output should be, a0, a, b</p>\n\n<p>I cant output b or a probably because its multiline and im using a for loop that reads each line.\nMake sure its reading from a file not a string. Thanks</p>\n"}, {"tags": ["android", "python", "sms", "sl4a", "qpython3"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1439424435, "post_id": 31976934, "comment_id": 51861022, "body": "Which Android version are you running?"}, {"owner": {"reputation": 1, "user_id": 5221252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f10ea12f30eefb4bc400e191ddfb23a?s=128&d=identicon&r=PG&f=1", "display_name": "The one", "link": "https://stackoverflow.com/users/5221252/the-one"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1439457493, "post_id": 31976934, "comment_id": 51873350, "body": "It&#39;s 5.0.2 on a galaxy s4 (i9505)"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 5221252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f10ea12f30eefb4bc400e191ddfb23a?s=128&d=identicon&r=PG&f=1", "display_name": "The one", "link": "https://stackoverflow.com/users/5221252/the-one"}, "edited": false, "score": 0, "creation_date": 1440350052, "post_id": 32167367, "comment_id": 52225250, "body": "Thanks. I&#39;ll try in a few days when I will be back from holidays"}], "tags": [], "owner": {"reputation": 61, "user_id": 2885484, "user_type": "registered", "profile_image": "https://graph.facebook.com/1680361824/picture?type=large", "display_name": "Sergey White", "link": "https://stackoverflow.com/users/2885484/sergey-white"}, "is_accepted": false, "score": 1, "last_activity_date": 1440337944, "creation_date": 1440337944, "answer_id": 32167367, "question_id": 31976934, "link": "https://stackoverflow.com/questions/31976934/how-can-i-delete-an-sms-straight-after-it-is-sent-on-android-with-sl4a/32167367#32167367", "title": "How can I delete an sms straight after it is sent on android with SL4A?", "body": "<p>try:</p>\n\n<pre><code>import sl4a, time\ndroid=sl4a.Android()\n</code></pre>\n\n<p>and numbers in international format: ['+7989xxxxxxx', '+7961xxxxxxx']\nthis is work for me in qpython 3</p>\n"}, {"comments": [{"owner": {"reputation": 409, "user_id": 4927688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQSvb.jpg?s=128&g=1", "display_name": "manishrw", "link": "https://stackoverflow.com/users/4927688/manishrw"}, "edited": false, "score": 0, "creation_date": 1451543472, "post_id": 34542036, "comment_id": 56826156, "body": "Could you rewrite the code inside the code sample (Press Ctrl + K to put it inside code sample i.e. &lt;pre&gt;&lt;code&gt; )"}, {"owner": {"reputation": 11, "user_id": 5733095, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/eb4889a69cb97cbdc8c491af1e92af4d?s=128&d=identicon&r=PG", "display_name": "Tray", "link": "https://stackoverflow.com/users/5733095/tray"}, "reply_to_user": {"reputation": 409, "user_id": 4927688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQSvb.jpg?s=128&g=1", "display_name": "manishrw", "link": "https://stackoverflow.com/users/4927688/manishrw"}, "edited": false, "score": 0, "creation_date": 1451548481, "post_id": 34542036, "comment_id": 56827869, "body": "I had to correct one thing, had number and numbers backwards."}, {"owner": {"reputation": 11, "user_id": 5733095, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/eb4889a69cb97cbdc8c491af1e92af4d?s=128&d=identicon&r=PG", "display_name": "Tray", "link": "https://stackoverflow.com/users/5733095/tray"}, "reply_to_user": {"reputation": 409, "user_id": 4927688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DQSvb.jpg?s=128&g=1", "display_name": "manishrw", "link": "https://stackoverflow.com/users/4927688/manishrw"}, "edited": false, "score": 0, "creation_date": 1451548560, "post_id": 34542036, "comment_id": 56827894, "body": "Manishrw, Do I just press Ctrl + k the start typing? I wondered why mine looked different than other peoples."}], "tags": [], "owner": {"reputation": 11, "user_id": 5733095, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/eb4889a69cb97cbdc8c491af1e92af4d?s=128&d=identicon&r=PG", "display_name": "Tray", "link": "https://stackoverflow.com/users/5733095/tray"}, "is_accepted": false, "score": 1, "last_activity_date": 1451548176, "last_edit_date": 1451548176, "creation_date": 1451542729, "answer_id": 34542036, "question_id": 31976934, "link": "https://stackoverflow.com/questions/31976934/how-can-i-delete-an-sms-straight-after-it-is-sent-on-android-with-sl4a/34542036#34542036", "title": "How can I delete an sms straight after it is sent on android with SL4A?", "body": "<p>I used this code with no problem:</p>\n\n<h1>Imports</h1>\n\n<pre><code>import androidhelper, time\nimport sl4a\n</code></pre>\n\n<h1>Set up sl4a</h1>\n\n<pre><code>droid = sl4a.Android()\n</code></pre>\n\n<h1>Here you put in a prompting message that will create an empty input to type your message</h1>\n\n<pre><code>message = droid.dialogGetInput('This text will prompt for the message you want to send').result\n</code></pre>\n\n<h1>Turns what you type in into a StringVariable</h1>\n\n<pre><code>message = str(message)\n\n\nnumbers = ('phone number one', 'phone number two', 'phone number ETC')\nfor number in numbers:\n     droid.smsSend(number, message)\n     time.sleep(3)\n\nif __name__ == '__main__':\n     droid = sl4a.Android()\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5221252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f10ea12f30eefb4bc400e191ddfb23a?s=128&d=identicon&r=PG&f=1", "display_name": "The one", "link": "https://stackoverflow.com/users/5221252/the-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 403, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1451548176, "creation_date": 1439421043, "question_id": 31976934, "link": "https://stackoverflow.com/questions/31976934/how-can-i-delete-an-sms-straight-after-it-is-sent-on-android-with-sl4a", "title": "How can I delete an sms straight after it is sent on android with SL4A?", "body": "<p>I have a small company and I wanted to make a rather simple python3 program that will run on my phone on Qpython3 using SL4A. The purpose of it is to send group SMSs to my customers with offers (whose phone numbers I store in a list) from my personal phone because I have unlimited texts.</p>\n\n<p>I have managed to create a program which sends the texts (relevant fragment below) but the problem is that I have quite a few numbers collected in the list by now. When the texts are sent, a new thread is created for each customer in my messages so I have about 550 threads created each time I send a group sms and I end up deleting them manually which is rather annoying to get to my personal sms threads below.</p>\n\n<p>What I wanted to ask for is help to create a short code fragment whereby the sms sent by the script will be immediately deleted after it is sent so overall, after sending all text messages, no threads relating to these will appear in my messaging app (default samsung galaxy s4 app). Also, is there a way to send the message so that the next message is only sent once the previous one is confirmed as sent (not in the process of sending) because to stop my phone from freezing, I currently just use time.sleep?</p>\n\n<pre><code>import androidhelper, time\ndroid=androidhelper.Android()\n\n#loads of irrelevant code here\n#example values of variables numbers and message below\nnumbers=[\"0000000001\",\"000000000002\",\"000000000000003\"]\nmessage=\"This is a sample message.\"\n\nfor number in numbers:\n    droid.smsSend(number,message)\n    #The code below is here so that the texts don't fail to send as they did before I added this in. Hopefully, you could help me to replace it with something to wait for the previous sms to be confirmed as sent.\n    time.sleep(3)\n</code></pre>\n\n<p>Please help me with this problem. I would be very grateful. Thanks in advance to anyone who replies.</p>\n"}, {"tags": ["python", "xpath", "web-crawler", "scrapy"], "answers": [{"comments": [{"owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447062, "post_id": 31978014, "comment_id": 51867235, "body": "still not working have you checked I want the price one by one and mobile_name along with it if there are 6 prices then I need 6 time price to be printed along with the different prices"}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "reply_to_user": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447142, "post_id": 31978014, "comment_id": 51867275, "body": "well that is what this should do, are you getting any error? What are you getting right now?"}, {"owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447278, "post_id": 31978014, "comment_id": 51867341, "body": "I am getting only one output that is a mobile name and the first price in the list"}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "reply_to_user": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447357, "post_id": 31978014, "comment_id": 51867387, "body": "Are you sure you are using my code? Maybe you didn&#39;t fix the second part I talked about where you move mspItem() creation inside the loop?"}, {"owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447788, "post_id": 31978014, "comment_id": 51867615, "body": "I have copy pasted your code ,let me just do it once more"}, {"owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439447876, "post_id": 31978014, "comment_id": 51867670, "body": "getting only one result ! plz check on your side the code"}, {"owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "reply_to_user": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "edited": false, "score": 0, "creation_date": 1439448039, "post_id": 31978014, "comment_id": 51867756, "body": "Can you update the question with the latest code you are using?"}, {"owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "reply_to_user": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "edited": false, "score": 0, "creation_date": 1439448514, "post_id": 31978014, "comment_id": 51868024, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/86851/discussion-between-john-dene-and-anand-s-kumar\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 76298, "user_id": 795990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UxQhT.jpg?s=128&g=1", "display_name": "Anand S Kumar", "link": "https://stackoverflow.com/users/795990/anand-s-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1439428991, "creation_date": 1439428991, "answer_id": 31978014, "question_id": 31976926, "link": "https://stackoverflow.com/questions/31976926/why-scrapy-not-giving-results-for-one-item/31978014#31978014", "title": "why scrapy not giving results for one item?", "body": "<p>I am guessing your first xpath for <code>sites</code> is the one wrong , and according to the site's source, it is wrong, because the <code>div</code> with class attribute as <code>'store_pricetable'</code> is not a child of <code>div</code> with class <code>'pricetable'</code> .</p>\n\n<p>Also, there are some divs with class as - <code>'store_pricetable featured_seller'</code> .</p>\n\n<p>So you may want to use <code>contains()</code> here to see get all divs that have <code>'store_pricetable'</code> .</p>\n\n<p>And your xpath for <code>price</code> is also wrong, as when you do - <code>//div[store_price_out]</code> , it is not checking what you intend it to.</p>\n\n<p>You should do - <code>item['price'] = site.xpath('.//div[@class=\"store_price\"]/text()').extract()</code> - along with the <code>dot</code> at the start to make this xpath relative to current element.</p>\n\n<p>Also, you should recreate item for each loop, do not use the same item object again and again, it overwrites the previous item object.</p>\n\n<p>Example -</p>\n\n<pre><code>def parse(self, response):\n    sites = response.xpath('//div[contains(@class,\"store_pricetable\")]')\n    items = []\n    for site in sites:\n\n        item = mspItem()\n        item['model_name'] = response.xpath('//h2[contains(@class,\"priceindia\")]/text()').extract()\n        item['price'] = site.xpath('.//div[@class=\"store_price\"]/text()').extract()\n\n\n\n        items.append(item)\n    return items\n</code></pre>\n"}], "owner": {"reputation": 492, "user_id": 4806116, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1642162032683147/picture?type=large", "display_name": "John Dene", "link": "https://stackoverflow.com/users/4806116/john-dene"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1452067135, "creation_date": 1439420978, "last_edit_date": 1439448495, "question_id": 31976926, "link": "https://stackoverflow.com/questions/31976926/why-scrapy-not-giving-results-for-one-item", "title": "why scrapy not giving results for one item?", "body": "<p>I want to get the prices and sellers name in the scrapy but unable to parse them in the correct xpath so that the iterate over them.How to get the correct xpath so that i can retrieve the seller and all the prices?  </p>\n\n<pre><code>import scrapy\nfrom scrapy.contrib.spiders import CrawlSpider, Rule\nfrom scrapy.selector import Selector\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor\nfrom urlparse import urljoin\nfrom scrapy.contrib.linkextractors import LinkExtractor\n\n\n\nclass mspItem(scrapy.Item):\n    model_name = scrapy.Field()\n\n    price  = scrapy.Field()\n    seller = scrapy.Field()\n\n\nclass criticspider(CrawlSpider):\n    name = \"msp_specs\"\n    allowed_domains = [\"mysmartprice.com/\"]\n    #### Give array of URLS here, it will generate specs.json, run clean.py on it, mentioning words to include and remove ####\n    start_urls = [\"http://www.mysmartprice.com/mobile/microsoft-lumia-535-msp5042\"]\n\n\n    def parse(self, response):\n        sites = response.xpath('//div[@id=\"pricetable\"]//div[@class=\"store_pricetable\"]')\n        items = []\n        item = mspItem()\n        item['model_name'] = response.xpath('//h2[contains(@class,\"priceindia\")]/text()').extract()\n        for site in sites:\n\n            #item[\"seller\"] = site.xpath(\"/@data-storename\").extract()[0]\n            item['price'] = site.xpath('//div[store_price_out]/text()').extract()\n\n\n\n            items.append(item)\n        return items\n</code></pre>\n\n<p>Updated code --</p>\n\n<pre><code>import scrapy\nfrom scrapy.contrib.spiders import CrawlSpider, Rule\nfrom scrapy.selector import Selector\nfrom scrapy.contrib.linkextractors.sgml import SgmlLinkExtractor\nfrom urlparse import urljoin\nfrom scrapy.contrib.linkextractors import LinkExtractor\n\n\n\nclass mspItem(scrapy.Item):\n    model_name = scrapy.Field()\n\n    price  = scrapy.Field()\n    seller = scrapy.Field()\n\n\nclass criticspider(CrawlSpider):\n    name = \"msp_specs\"\n    allowed_domains = [\"mysmartprice.com/\"]\n    #### Give array of URLS here, it will generate specs.json, run clean.py on it, mentioning words to include and remove ####\n    start_urls = [\"http://www.mysmartprice.com/mobile/microsoft-lumia-535-msp5042\"]\n\n\n\n\n    def parse(self, response):\n            sites = response.xpath('//div[contains(@class,\"store_pricetable\")]')\n            items = []\n            for site in sites:\n\n                item = mspItem()\n                item['model_name'] = response.xpath('//h2[contains(@class,\"priceindia\")]/text()').extract()\n                item['price'] = site.xpath('.//div[@class=\"store_price\"]/text()').extract()\n\n\n\n                items.append(item)\n            return items\n</code></pre>\n"}, {"tags": ["python", "django", "templates", "django-templates"], "comments": [{"owner": {"reputation": 2570, "user_id": 2701933, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a333823e66ff766dfeef3eb81891c355?s=128&d=identicon&r=PG&f=1", "display_name": "Austin A", "link": "https://stackoverflow.com/users/2701933/austin-a"}, "edited": false, "score": 0, "creation_date": 1439432916, "post_id": 31976842, "comment_id": 51862888, "body": "You&#39;re views.py is kind of difficult to follow. You say &quot; I&#39;m passing in a list where each element in the list is an html table.&quot; but I don&#39;t see where your doing this. I&#39;m assuming I&#39;m just being a dingus and missing it. If there is this list, my answer below should help you."}], "answers": [{"comments": [{"owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "edited": false, "score": 1, "creation_date": 1439486133, "post_id": 31978555, "comment_id": 51893218, "body": "that fixed it! Thank you!"}], "tags": [], "owner": {"reputation": 2570, "user_id": 2701933, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/a333823e66ff766dfeef3eb81891c355?s=128&d=identicon&r=PG&f=1", "display_name": "Austin A", "link": "https://stackoverflow.com/users/2701933/austin-a"}, "is_accepted": true, "score": 4, "last_activity_date": 1439433153, "creation_date": 1439433153, "answer_id": 31978555, "question_id": 31976842, "link": "https://stackoverflow.com/questions/31976842/looping-over-multiple-lists-in-django-template/31978555#31978555", "title": "Looping over multiple lists in Django Template", "body": "<p>Since this is kind of difficult troubleshoot without creating a django app from scratch, I'm going to be doing a lot of thinking out loud.</p>\n\n<p>First, let's look at your template. You have</p>\n\n<pre><code> &lt;div class=\"panel panel-body\"&gt;\n    {% for df in key1 %}\n      {% for l in labels %}\n        &lt;div class=\"panel-heading\"&gt;{{ l }}\n          &lt;div class=\"table-responsive\"&gt;\n            {{ df | safe }}\n          &lt;/div&gt;\n        &lt;/div&gt;\n      {% endfor %}\n    {% endfor %}\n&lt;/div&gt;\n</code></pre>\n\n<p>Now, let's set <code>key1</code> and <code>labels</code> to something simple for this. How about ...</p>\n\n<pre><code>key1 = {'df1' : df1TableHTML, 'df2' : df2TableHTML}\nlabels = ['label1', 'label2']\n</code></pre>\n\n<p>Now, let's see how you're for-loops will structure the html.</p>\n\n<pre><code>&lt;div class=\"panel panel-body\"&gt;\n\n  &lt;div class=\"panel-heading\"&gt; label1\n    &lt;div class=\"table-responsive\"&gt;\n      df1TableHTML\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"panel-heading\"&gt; label2\n    &lt;div class=\"table-responsive\"&gt;\n      df1TableHTML\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"panel-heading\"&gt; label1\n    &lt;div class=\"table-responsive\"&gt;\n      df2TableHTML\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n  &lt;div class=\"panel-heading\"&gt; label2\n    &lt;div class=\"table-responsive\"&gt;\n      df2TableHTML\n    &lt;/div&gt;\n  &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>I'm sure at this point you can see where your problem is. Since you are using a nested for-loop, you end up with much more output than you originally wanted. To solve this, you want to iterate over <code>key1</code> and <code>labels</code> simultaneously. </p>\n\n<p>A pythonic way of doing this is by using the <code>zip()</code> command.</p>\n\n<pre><code>&gt;&gt;&gt; a = ['a','b','c']\n&gt;&gt;&gt; b = ['A','B','C']\n&gt;&gt;&gt; for x in zip(a,b):\n...     print x\n... \n('a', 'A')\n('b', 'B')\n('c', 'C')\n</code></pre>\n\n<p>However, Django doesn't have a zip equivlent for a template tag. This means you'll have to do this \"zipping\" server side in your views.py. Do something like below.</p>\n\n<pre><code>...\nlabels = ['New Plan','New Operation','Current Operation']\nhtml_dict['labels_tables'] = zip(label, list_of_tables)\n</code></pre>\n\n<p>Then in your template, do this.</p>\n\n<pre><code>&lt;div class=\"panel panel-body\"&gt;\n  {% for lt in label_table %}\n    &lt;div class=\"panel-heading\"&gt;{{ lt.0 }}\n      &lt;div class=\"table-responsive\"&gt;\n        {{ lt.1 | safe }}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  {% endfor %}\n&lt;/div&gt;\n</code></pre>\n\n<p>Hopefully this answers your question and sorry for the verbose answer.\nLet me know if this works and I'm happy to give you further help if this isn't what you were looking for.</p>\n"}], "owner": {"reputation": 808, "user_id": 4851728, "user_type": "registered", "accept_rate": 74, "profile_image": "https://graph.facebook.com/10155525332165154/picture?type=large", "display_name": "kdubs", "link": "https://stackoverflow.com/users/4851728/kdubs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1640, "favorite_count": 1, "accepted_answer_id": 31978555, "answer_count": 1, "score": 1, "last_activity_date": 1439451945, "creation_date": 1439420529, "last_edit_date": 1439451945, "question_id": 31976842, "link": "https://stackoverflow.com/questions/31976842/looping-over-multiple-lists-in-django-template", "title": "Looping over multiple lists in Django Template", "body": "<p>I have a django template that I want to display a bunch of html tables created in my view.  I'm passing in a list where each element in the list is an html table.  I also want to label the tables but I am having trouble figuring out how to loop over the list of html tables and the list of labels correctly.</p>\n\n<p>In views.py I create the html tables from simple dataframes:</p>\n\n<pre><code>##task_dict is a dictionary where the values are lists of dataframes.\nkeys = task_dict.keys()\nhtml_dict = dict.fromkeys(keys,[])\n\nfor key in keys:\n    for df in task_dict[key]:\n        temp_html = df.to_html(classes=\"table table-hover\")\n        html_dict[key].append('&lt;br&gt;')\n        html_dict[key].append(temp_html)\n\nlabels = ['New Plan','New Operation','Current Operation']\nhtml_dict['labels'] = labels\n\nreturn render(request,'InterfaceApp/SchedulerIngestResults.html',html_dict)\n</code></pre>\n\n<p>My html template currently looks like this:</p>\n\n<pre><code> &lt;div class=\"panel panel-body\"&gt;\n    {% for df in key1 %}\n      {% for l in labels %}\n        &lt;div class=\"panel-heading\"&gt;{{ l }}\n          &lt;div class=\"table-responsive\"&gt;\n            {{ df | safe }}\n          &lt;/div&gt;\n        &lt;/div&gt;\n      {% endfor %}\n    {% endfor %}\n  &lt;/div&gt;\n</code></pre>\n\n<p>I know this isn't right but I can't figure out how to do it correctly.  All I want is for it to look like this:</p>\n\n<p><em>Table Label1</em></p>\n\n<p><strong>Table 1</strong></p>\n\n<hr>\n\n<p><em>Table Label2</em></p>\n\n<p><strong>Table 2</strong></p>\n"}, {"tags": ["python", "numpy", "fft", "normal-distribution"], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 1913647, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f3402cac80a065ebab94c4e80ea2dad?s=128&d=identicon&r=PG", "display_name": "Steve Schulist", "link": "https://stackoverflow.com/users/1913647/steve-schulist"}, "is_accepted": false, "score": 0, "last_activity_date": 1439572975, "last_edit_date": 1439572975, "creation_date": 1439563427, "answer_id": 32012785, "question_id": 31976812, "link": "https://stackoverflow.com/questions/31976812/does-anyone-have-example-numpy-fftn-code-that-correctly-implements-multivariate/32012785#32012785", "title": "Does anyone have example numpy.fftn code that correctly implements multivariate_normal pdf?", "body": "<p>I figured it out: in 1-d I can get away with integrating over only positive wave numbers <code>k</code>, in higher dimensions I cannot.</p>\n\n<p>Here's the corrected code:</p>\n\n<pre><code>class LevyKhintchine:\n    def __init__(self, mean, cov, jump_measure):\n        self.mean = mean\n        self.cov = cov\n        self.jump_measure = jump_measure\n        self.factors = mean.shape[0]\n    def logCF(self, k):\n        rolled = Roll(k)\n        out = np.empty(Shape(k))\n        return (self.jump_measure(k) -\n            Dot(rolled, self.cov, rolled, out)*0.5 +\n            np.sum(np.multiply(Roll(k), self.mean), axis=-1)*1j)\n    def pdf_grid(self, J):\n        diag = np.diagonal(self.cov)\n        tmp = np.pi*2/J\n        dk = np.sqrt(tmp/diag)\n        dx = np.sqrt(tmp*diag)\n        k0 = -0.5*dk*J\n        x0 = -0.5*dx*J + self.mean\n        k = Grid(k0, dk, J)\n        x = Grid(x0, dx, J)\n        f = np.exp(-1j*Coef(dk, x0, J) + self.logCF(k))\n        for n in range(self.factors):\n            f[ 0] *= 0.5\n            f[-1] *= 0.5\n            f = np.rollaxis(f, 0, factors)\n        c = ((0.5/np.pi)**self.factors*np.product(dk)*np.exp(-1j*np.dot(k0, x0)))\n        pdf = np.fft.fftn(f)*np.exp(-1j*Coef(k0, dx, J))*c\n        return x, pdf.real\n\ndef Grid(left, width, J):\n    def Slice(slices, j):\n        slices.append(slice(left[j], left[j] + width[j]*(J-1), 1j*J))\n        return slices\n    slices = reduce(Slice, range(len(left)), [])\n    return np.mgrid[slices]\n\ndef Shape(grid):\n    return np.asarray(grid).shape[1:]\n\ndef Roll(grid):\n    grid = np.asarray(grid)\n    try:\n        rolled = np.rollaxis(grid, 0, len(grid)+1)\n    except ValueError:\n        rolled = grid\n    return rolled\n\ndef Dot(x, cov, y, out): #x &amp; y are \"rolled\"\n    for j in np.ndindex(out.shape):\n        out[j] = np.dot(x[j].T, np.dot(cov, y[j]))\n    return out\n\ndef Coef(dks, x0s, J):\n    factors = len(dks)\n    coef = np.zeros((J,)*factors)\n    for n, (dk, x0) in enumerate(zip(dks, x0s)):\n        shape = np.ones(factors, dtype=int)\n        shape[n] = J\n        coef += np.arange(J).reshape(shape)*(dk*x0)\n    return coef\n</code></pre>\n\n<p>Here's the tests:</p>\n\n<pre><code>from scipy.stats import multivariate_normal\n\nJ = 32\n\nfor factors in range(1, 4):\n    mean = np.full((factors,), -1)\n    cov = np.identity(factors)\n    rv = LevyKhintchine(mean, cov, lambda k: 0)\n    rv0 = multivariate_normal(mean, cov)\n    x, pdf = rv.pdf_grid(J)\n    pdf0 = rv0.pdf(Roll(x))\n    print np.allclose(pdf, pdf0)\n\nTrue\nTrue\nTrue\n</code></pre>\n"}], "owner": {"reputation": 751, "user_id": 1913647, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9f3402cac80a065ebab94c4e80ea2dad?s=128&d=identicon&r=PG", "display_name": "Steve Schulist", "link": "https://stackoverflow.com/users/1913647/steve-schulist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 196, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439572975, "creation_date": 1439420338, "last_edit_date": 1439447226, "question_id": 31976812, "link": "https://stackoverflow.com/questions/31976812/does-anyone-have-example-numpy-fftn-code-that-correctly-implements-multivariate", "title": "Does anyone have example numpy.fftn code that correctly implements multivariate_normal pdf?", "body": "<p>With the code below, I'm attempting to implement the Levy-Khintchine formula (<a href=\"https://en.wikipedia.org/wiki/L%C3%A9vy_process#L.C3.A9vy.E2.80.93Khintchine_representation\" rel=\"nofollow\">https://en.wikipedia.org/wiki/L%C3%A9vy_process#L.C3.A9vy.E2.80.93Khintchine_representation</a>). In the limit of no jumps, the Levy-Khitchine formula reduces to the multivariate normal distribution. My code uses the (multi-dimensional) trapeziodal integration rule (<a href=\"http://mathfaculty.fullerton.edu/mathews/n2003/SimpsonsRule2DMod.html\" rel=\"nofollow\">http://mathfaculty.fullerton.edu/mathews/n2003/SimpsonsRule2DMod.html</a>) to approximate the Fourier transform of the characteristic function as a discrete Fourier transform. For the 1-dimensional case, the code works perfectly. For the 2-D case, I can't find what I'm doing wrong.</p>\n\n<p>Does anyone have example numpy.fftn code that correctly implements multivariate_normal pdf?</p>\n\n<pre><code>class LevyKhintchine:\n    def __init__(self, mean, cov, jump_measure):\n        self.mean = mean\n        self.cov = cov\n        self.jump_measure = jump_measure\n        self.factors = mean.shape[0]\n    def logCF(self, k):\n        rolled = Roll(k)\n        out = np.empty(Shape(k))\n        return (self.jump_measure(k) -\n            Dot(rolled, self.cov, rolled, out)*0.5 +\n            np.sum(np.multiply(Roll(k), self.mean), axis=-1)*1j)\n    def pdf_grid(self, J):\n        diag = np.diagonal(self.cov)\n        tmp = np.pi*2/J\n        dk = np.sqrt(tmp/diag)\n        dx = np.sqrt(tmp*diag)\n        k = Grid(np.zeros(self.factors), dk, J)\n        x0 = self.mean - dx*J*0.5\n        f = np.exp(self.logCF(k) - Coef(dk, x0, J)*1j)\n        for n in range(self.factors):\n            f[ 0] *= 0.5\n            f[-1] *= 0.5\n            f = np.rollaxis(f, 0, factors)\n        pdf = np.fft.fftn(f)\n        return Grid(x0, dx, J), pdf.real*(np.product(dk)/np.pi)\n\ndef Grid(left, width, J):\n    def Slice(slices, j):\n        slices.append(slice(left[j], left[j] + width[j]*(J-1), 1j*J))\n        return slices\n    slices = reduce(Slice, range(len(left)), [])\n    return np.mgrid[slices]\n\ndef Shape(grid):\n    return np.asarray(grid).shape[1:]\n\ndef Roll(grid):\n    grid = np.asarray(grid)\n    try:\n        rolled = np.rollaxis(grid, 0, len(grid)+1)\n    except ValueError:\n        rolled = grid\n    return rolled\n\ndef Dot(x, cov, y, out): #x &amp; y are \"rolled\"\n    for j in np.ndindex(out.shape):\n        out[j] = np.dot(x[j].T, np.dot(cov, y[j]))\n    return out\n\ndef Coef(dks, x0s, J):\n    factors = len(dks)\n    coef = np.zeros((J,)*factors)\n    for n, (dk, x0) in enumerate(zip(dks, x0s)):\n        shape = np.ones(factors, dtype=int)\n        shape[n] = J\n        coef += np.arange(J).reshape(shape)*(dk*x0)\n    return coef\n</code></pre>\n\n<p>Here's the tests:</p>\n\n<pre><code>from scipy.stats import multivariate_normal\n\nJ = 64\n\nfactors = 1\nmean = np.full((factors,), -1)\ncov = np.identity(factors)\nrv = LevyKhintchine(mean, cov, lambda k: 0)\nrv0 = multivariate_normal(mean, cov)\n\nx, pdf = rv.pdf_grid(J)\nplt.plot(x[0], pdf, x[0], rv0.pdf(Roll(x)))\n\n\nfactors = 2\nmean = np.full((factors,), 5)\ncov = np.identity(factors)\nrv = LevyKhintchine(mean, cov, lambda k: 0)\nx, pdf = rv.pdf_grid(J)\nrv0 = multivariate_normal(mean, cov)\n\nfig2 = plt.figure()\nax2 = fig2.add_subplot(111)\nax2.contourf(x[0], x[1], pdf)\nfig3 = plt.figure()\nax3 = fig3.add_subplot(111)\nax3.contourf(x[0], x[1], rv0.pdf(Roll(x)))\n</code></pre>\n"}, {"tags": ["python", "overflow", "division"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439420464, "post_id": 31976778, "comment_id": 51859970, "body": "what line is it crashing on? ...try using some prints and try/except blocks to try and get a little more information .... you also might benifit from memoizing the ncr method"}, {"owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "edited": false, "score": 0, "creation_date": 1439420540, "post_id": 31976778, "comment_id": 51859985, "body": "Why are you using floats?  (hint: replace / with //)"}, {"owner": {"reputation": 23, "user_id": 5030391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f917b413efbe170d5580bdd424249d64?s=128&d=identicon&r=PG&f=1", "display_name": "PacMan", "link": "https://stackoverflow.com/users/5030391/pacman"}, "edited": false, "score": 0, "creation_date": 1439420584, "post_id": 31976778, "comment_id": 51859998, "body": "it is when i = 520 when the program crashes. catalan(519) = 1.4023904365091493e+308"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439420663, "post_id": 31976778, "comment_id": 51860015, "body": "it worked fine for me up to 10,000 using this exact code with python2.6 win32"}, {"owner": {"reputation": 23, "user_id": 5030391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f917b413efbe170d5580bdd424249d64?s=128&d=identicon&r=PG&f=1", "display_name": "PacMan", "link": "https://stackoverflow.com/users/5030391/pacman"}, "edited": false, "score": 1, "creation_date": 1439420670, "post_id": 31976778, "comment_id": 51860019, "body": "Oh right.  &#39;//&#39; works. Welp, that was dumb of me. Thanks Patrick."}, {"owner": {"reputation": 23, "user_id": 5030391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f917b413efbe170d5580bdd424249d64?s=128&d=identicon&r=PG&f=1", "display_name": "PacMan", "link": "https://stackoverflow.com/users/5030391/pacman"}, "edited": false, "score": 0, "creation_date": 1439420753, "post_id": 31976778, "comment_id": 51860050, "body": "Yeah. I totally forgot that Python 3 do &#39;/&#39; division in float."}], "answers": [{"tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1439420869, "creation_date": 1439420869, "answer_id": 31976904, "question_id": 31976778, "link": "https://stackoverflow.com/questions/31976778/overflowerror-python-large-calculation-division/31976904#31976904", "title": "OverflowError python large calculation (division)", "body": "<p>Here is a hint. The code can find the catalan numbers. You just need to add statement to find the odd numbers now</p>\n\n<pre><code>def catalan(n):\n    res = 0\n    if( n &lt;= 1):\n        return 1\n    for i in range(n):\n        res += catalan(i) * catalan(n-i-1)\n    return res\ndef main():\n    for i in range(1000):\n        print(catalan(i))\n    return 0\nmain()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5030391, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f917b413efbe170d5580bdd424249d64?s=128&d=identicon&r=PG&f=1", "display_name": "PacMan", "link": "https://stackoverflow.com/users/5030391/pacman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 357, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439420869, "creation_date": 1439420197, "question_id": 31976778, "link": "https://stackoverflow.com/questions/31976778/overflowerror-python-large-calculation-division", "title": "OverflowError python large calculation (division)", "body": "<p>I'm trying to write a program to find odd Catalan numbers through Python but apparently Python can't divide really large numbers. \nAnybody knows how I can get around this? \nHere's my code: </p>\n\n<pre><code># catalan number python program\n\nimport math\n\nf = math.factorial\n\ndef ncr(n,r):\n    return f(n)//(f(r)*f(n-r))\n\n\ndef catalan(x):\n    return (ncr(2*x,x)/(x+1))\n\n\nfor i in range(1,600):\n    z = catalan(i)\n    if not z%2 == 0:\n        print(str(i) + ' : ' + str(z))\n</code></pre>\n\n<p>I'm trying to get to at least the first 10,000 Catalan numbers, but my code currently can't even handle 1000. I don't need to print out the big number. I just want to know what number is it in. </p>\n\n<p>Edit: add import math (whoops) and the error is: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Python34/catalan odd tester.py\", line 18, in &lt;module&gt;\n    z = catalan(i)\n  File \"C:/Python34/catalan odd tester.py\", line 14, in catalan\n    return (ncr(2*x,x)/(x+1))\nOverflowError: integer division result too large for a float\n</code></pre>\n"}, {"tags": ["python", "datetime", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "edited": false, "score": 0, "creation_date": 1466599411, "post_id": 31977096, "comment_id": 63382451, "body": "This solution was quite helpful for my problem, too -- except that it doesn&#39;t seem to be very robust. If you try the following little program with the data file at <a href=\"http://redmine.iek.fz-juelich.de/attachments/download/483/test.csv\" rel=\"nofollow noreferrer\">redmine.iek.fz-juelich.de/attachments/download/483/test.csv</a> it fails with a KeyError. With other datasets it works fine. Can someone tell me what to do to make it work also for the test data?"}, {"owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "edited": false, "score": 0, "creation_date": 1466599448, "post_id": 31977096, "comment_id": 63382481, "body": "&lt;code&gt;       FILE=&quot;test.csv&quot;       sampling = &#39;AS&#39;       import pandas as pd       data = pd.read_csv(FILE, index_col=0, parse_dates=True)       grouped = data.groupby(pd.TimeGrouper(sampling))       dfres = grouped.agg(lambda df: df.loc[df[&#39;values&#39;].idxmax(), :])"}, {"owner": {"reputation": 1145, "user_id": 1901376, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9e85e4d2537592dbdc3ad4ea4d70c35b?s=128&d=identicon&r=PG", "display_name": "maschu", "link": "https://stackoverflow.com/users/1901376/maschu"}, "edited": false, "score": 0, "creation_date": 1466606281, "post_id": 31977096, "comment_id": 63388727, "body": "OK - found the solution. I need to fillna() missing values beforehand. <code>data.loc[:,&#39;values&#39;].fillna(-999., inplace=True)</code>does the trick."}], "tags": [], "owner": {"reputation": 38434, "user_id": 3657742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/027d13e2b9077479fa7857166c272c16?s=128&d=identicon&r=PG&f=1", "display_name": "chrisb", "link": "https://stackoverflow.com/users/3657742/chrisb"}, "is_accepted": true, "score": 2, "last_activity_date": 1439422144, "creation_date": 1439422144, "answer_id": 31977096, "question_id": 31976669, "link": "https://stackoverflow.com/questions/31976669/resampling-in-pandas-while-keeping-value-associations/31977096#31977096", "title": "Resampling in Pandas while keeping value associations", "body": "<p>Here's one way -  the <code>.groupby(TimeGrouper())</code> is essentially what <code>resample</code> is doing, then the aggregation function filters each group to the max observation.</p>\n\n<pre><code>In [60]: (df.groupby(pd.TimeGrouper('24H'))\n            .agg(lambda df: df.loc[df['heat_index'].idxmax(), :]))\n\nOut[60]: \n            air_temperature  heat_index\n2015-08-01               95         103\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 4997059, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e922aef4030c92a999bcc469190749da?s=128&d=identicon&r=PG&f=1", "display_name": "csg2136", "link": "https://stackoverflow.com/users/4997059/csg2136"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3165, "favorite_count": 0, "accepted_answer_id": 31977096, "answer_count": 1, "score": 6, "last_activity_date": 1439422622, "creation_date": 1439419595, "question_id": 31976669, "link": "https://stackoverflow.com/questions/31976669/resampling-in-pandas-while-keeping-value-associations", "title": "Resampling in Pandas while keeping value associations", "body": "<p>Starting with something like this:</p>\n\n<pre><code>from pandas import DataFrame\ntime = np.array(('2015-08-01T00:00:00','2015-08-01T12:00:00'),dtype='datetime64[ns]')\nheat_index = np.array([101,103])\nair_temperature = np.array([96,95])\n\ndf = DataFrame({'heat_index':heat_index,'air_temperature':air_temperature},index=time)\n</code></pre>\n\n<p>yielding this for <code>df</code>:</p>\n\n<pre><code>                     air_temperature    heat_index\n2015-08-01 07:00:00  96                 101\n2015-08-01 19:00:00  95                 103\n</code></pre>\n\n<p>then resample daily:</p>\n\n<pre><code>df_daily = df.resample('24H',how='max')\n</code></pre>\n\n<p>To get this for <code>df_daily</code>:</p>\n\n<pre><code>            air_temperature     heat_index\n2015-08-01  96                  103\n</code></pre>\n\n<p>So by resampling using <code>how='max'</code> pandas resamples each 24 hour period, taking the maximum value within that period from each column.</p>\n\n<p>But as you can see looking at <code>df</code> output for <code>2015-08-01</code>, that day's maximum heat index (which occurs at <code>19:00:00</code>) does not correlate with air temperature occurred at the same time. That is, the heat index of 103F was caused with an air temperature of 95F. This association is lost through resampling, and we end up looking at the air temperature from a different part of the day.</p>\n\n<p>Is there a way to resample just one column, and preserve the value in another column at the same index? So that the final outcome would look like this:</p>\n\n<pre><code>            air_temperature     heat_index\n2015-08-01  95                  103\n</code></pre>\n\n<p>My first guess is to just resample the <code>heat_index</code> column...</p>\n\n<pre><code>df_daily = df.resample('24H',how={'heat_index':'max'})\n</code></pre>\n\n<p>to get...</p>\n\n<pre><code>            air_temperature\n2015-08-01  103\n</code></pre>\n\n<p>...and then trying to do some sort of DataFrame.loc or DataFrame.ix from there, but have been unsuccessful. Any thoughts on how to find the related value after resampling (e.g. to find the <code>air_temperature</code> that occurred at the same time as what is later found to be the maximum <code>heat_index</code>)?</p>\n"}, {"tags": ["python", "django", "date", "templates", "range"], "comments": [{"owner": {"reputation": 3168, "user_id": 1753891, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YEOWR.png?s=128&g=1", "display_name": "duffn", "link": "https://stackoverflow.com/users/1753891/duffn"}, "edited": false, "score": 0, "creation_date": 1439427545, "post_id": 31976657, "comment_id": 51861650, "body": "I may not have it right, but you want to find all dates between two dates? <a href=\"http://stackoverflow.com/a/1060330/1753891\">stackoverflow.com/a/1060330/1753891</a>"}], "answers": [{"tags": [], "owner": {"reputation": 19, "user_id": 2608759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9410dc6c9083105565dbbc2e25f08c36?s=128&d=identicon&r=PG", "display_name": "haiiiiiyun", "link": "https://stackoverflow.com/users/2608759/haiiiiiyun"}, "is_accepted": false, "score": 0, "last_activity_date": 1439430438, "last_edit_date": 1495541677, "creation_date": 1439430438, "answer_id": 31978208, "question_id": 31976657, "link": "https://stackoverflow.com/questions/31976657/django-date-range-to-template-issue/31978208#31978208", "title": "Django date range to template issue", "body": "<ol>\n<li><p>In View:\ncollect all dates into a list, see <a href=\"https://stackoverflow.com/a/1060330/1753891\">https://stackoverflow.com/a/1060330/1753891</a></p></li>\n<li><p>In template:\nUse template forloop to populate the HTML table.</p>\n\n<pre>\n{% for d in date_list %}\n{# table cell here #}\n{% endfor %}\n</pre></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 1052803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/118457aa46fa92793a5ef389b9860b37?s=128&d=identicon&r=PG", "display_name": "majestic1", "link": "https://stackoverflow.com/users/1052803/majestic1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439472753, "creation_date": 1439419541, "last_edit_date": 1439472753, "question_id": 31976657, "link": "https://stackoverflow.com/questions/31976657/django-date-range-to-template-issue", "title": "Django date range to template issue", "body": "<p>I am trying to solve an issue with getting all dates within a range into my Django application template. I have a start date and an end date of a time sheet which are defined and I am able to pass them into the template. However, I want to fill in all of the dates in between into an HTML table but cannot seem to find a solution to this problem, as most solutions are for 1 date only. Any and all help is greatly appreciated! </p>\n\n<pre><code>views.py\n\ndef time_page(request, result_name):\n    records = TimeSheetMain.objects.get(timeSheet_code=result_name)\n    empID = Employee.objects.get()\n    req_user = request.user\n    recordsUser = records.user\n    if req_user == recordsUser:\n        return render_to_response('ts.html',\n                                  {'records': records, 'empID': empID},\n                                  context_instance=RequestContext(request))\n</code></pre>\n\n<p>HTML Call:</p>\n\n<pre><code>Date Range: {{ records.startDate }} - {{ records.endDate }}\n</code></pre>\n\n<p>urls.py</p>\n\n<pre><code>url(r'^ts/(.{36})', 'TimeSheetApp.views.time_page', name=\"time_page\"),\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "group-by", "boxplot"], "comments": [{"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1439421582, "post_id": 31976640, "comment_id": 51860272, "body": "As written you&#39;ll only ever get 2 combinations ( (A,X) and (B,Y) ).  But as for those, did you look at the documentation for boxplot?  What&#39;s wrong with <code>df.boxplot(column=&#39;Col1&#39;, by=[&#39;X&#39;, &#39;Y&#39;])</code>?"}, {"owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1439424486, "post_id": 31976640, "comment_id": 51861034, "body": "@Ajean - Sorry, assume the series for &#39;X&#39; and &#39;Y&#39; are random.   Good spot. I&#39;l try your suggestion."}, {"owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1439425048, "post_id": 31976640, "comment_id": 51861143, "body": "@Ajean - That worked....thanks from a newbie!  :-)"}], "owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 411, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1439419403, "creation_date": 1439419403, "question_id": 31976640, "link": "https://stackoverflow.com/questions/31976640/using-matplotlib-boxplot-with-groupby", "title": "Using matplotlib boxplot with groupby", "body": "<p>I have what superficially appears to be a simple question, but I cannot find the answer.  I have a feature in my df for which I would like to use groupby on two different categories.   Here's my metacode: </p>\n\n<pre><code>df = pd.DataFrame(np.random.rand(100,2), columns=['Col1', 'Col2'] )\n# Assume each series below repeats.  \ndf['X'] = pd.Series(['A','B','A','B',...,'A','B','A','B'])\ndf['Y'] = pd.Series(['X','Y','X','Y',...,'X','Y','X','Y'])\n</code></pre>\n\n<p>How can I use groupby to create 4 box plotsfor a particular feature in the df?  (Eg, keys {'A','X'},{'B','X'},{'A','Y'},{'B','Y'}) for the each data series?   I can do the following: </p>\n\n<pre><code>df['Col1'].groupby([df.X,df.Y]).describe()\n</code></pre>\n\n<p>...what's the analogy for box plot?  </p>\n"}, {"tags": ["python", "curl", "python-requests", "restheart"], "comments": [{"owner": {"reputation": 5690, "user_id": 1551948, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/710df1916afe732a80ba572dfb895d47?s=128&d=identicon&r=PG", "display_name": "harperville", "link": "https://stackoverflow.com/users/1551948/harperville"}, "edited": false, "score": 0, "creation_date": 1548970009, "post_id": 31976518, "comment_id": 95746788, "body": "I&#39;m seeing so many questions on StackOverflow with one or two upvotes on the question and zero upvotes on the answers.  This question has no &quot;accepted answer&quot;.  Did any of these solutions work for you?  Answers without any votes or being marked as &quot;accepted&quot; causes StackOverflow to lose some of its usefulness."}], "answers": [{"tags": [], "owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "is_accepted": false, "score": 1, "last_activity_date": 1439424433, "creation_date": 1439424433, "answer_id": 31977434, "question_id": 31976518, "link": "https://stackoverflow.com/questions/31976518/converting-curl-f-to-python-requests/31977434#31977434", "title": "Converting &#39;curl -F&#39; to Python requests", "body": "<p>Check out the <a href=\"http://docs.python-requests.org/en/latest/user/quickstart/#post-a-multipart-encoded-file\" rel=\"nofollow\">example in the manual</a>:</p>\n\n<pre><code>files = {'file': ('report.xls', open('report.xls', 'rb'))}\nr = requests.post(url, files=files)\n</code></pre>\n\n<p>Note that the first you should pass the file and not the data (you don't need to <code>read()</code> the content of your file, you just need to pass the file object)</p>\n"}, {"tags": [], "owner": {"reputation": 551, "user_id": 615095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7665ee97f52bf0cd506e73e78677ef18?s=128&d=identicon&r=PG", "display_name": "mturatti", "link": "https://stackoverflow.com/users/615095/mturatti"}, "is_accepted": false, "score": 0, "last_activity_date": 1441804842, "creation_date": 1441804842, "answer_id": 32480726, "question_id": 31976518, "link": "https://stackoverflow.com/questions/31976518/converting-curl-f-to-python-requests/32480726#32480726", "title": "Converting &#39;curl -F&#39; to Python requests", "body": "<p>By the way, there is also a <a href=\"https://github.com/SoftInstigate/restheart-python-test\" rel=\"nofollow\">Github repository</a> which shows some basic examples of accessing RESTHeart with Python.</p>\n\n<p>The objective was to show how to make simple RESTful calls using Python and the <a href=\"http://www.python-requests.org/en/latest/\" rel=\"nofollow\">requests library</a>, please, feel free to contribute your pull requests adding more cases, or just have a look at the existing tests if they can help you.</p>\n"}], "owner": {"reputation": 91, "user_id": 5221182, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4eb08a8bdcd44dc1a9ac01283051ca?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Leong", "link": "https://stackoverflow.com/users/5221182/gary-leong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1023, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1525976054, "creation_date": 1439418672, "last_edit_date": 1525976054, "question_id": 31976518, "link": "https://stackoverflow.com/questions/31976518/converting-curl-f-to-python-requests", "title": "Converting &#39;curl -F&#39; to Python requests", "body": "<p>I'm trying to do a multi-part form upload with \"requests\" in python.  I can upload the file, but it never loads the additional fields that are typically passed through the -F flag with curl.  The curl command I'm trying to mimic:</p>\n\n<pre><code>curl -v -u user:password -X POST -F 'properties={\"filename\":\"maurizio.png\"}' -F \"file=@maurizio.png\" 192.168.59.103:8080/testdb/mybucket.files\n</code></pre>\n\n<p>The requests code is:</p>\n\n<pre><code>url = \"http://192.168.59.103:8080/testdb/mybucket.files\"\ncontent_type = \"multipart/form-data\"\n\nparams = {\"filename\":\"maurizio.png\"}\nparams[\"_id\"] = \"test_hash_1234\" \n\ndata = open('maurizio.png','rb').read()\n\nfiles = {'file': ('maurizio.png',data,content_type,params)}               \nrequest = requests.post(url,files=files,auth=('user','password'))\n</code></pre>\n\n<p>This file is loaded into restheart api for mongodb.  The \"_id\" is a special object id that the database uses to reference the object.  I need to specify that document field in additional to other document fields like the filename.  The file is uploaded into Mongo's blob datastore called gridfs.  I can upload the data and the additional document fields with curl, but the \"requests\" code above only uploads the data and not the additional document fields. I need those additional fields for querying.  </p>\n\n<p>Can somebody help me convert the -F flag into something that equivalent to python's requests module? Thanks!</p>\n"}, {"tags": ["python", "curses"], "answers": [{"comments": [{"owner": {"reputation": 163, "user_id": 5196007, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dfbe866a40921aa8144aced2de396f56?s=128&d=identicon&r=PG&f=1", "display_name": "Emlingur", "link": "https://stackoverflow.com/users/5196007/emlingur"}, "edited": false, "score": 0, "creation_date": 1439423541, "post_id": 31976758, "comment_id": 51860810, "body": "thats what i thought, but curses doesnt seem to recognize arrow inputs wih getch(), but it fixed when i wrapped it up for some reason..."}, {"owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "edited": false, "score": 0, "creation_date": 1439426282, "post_id": 31976758, "comment_id": 51861386, "body": "The example doesn&#39;t do <a href=\"https://docs.python.org/2/library/curses.html#curses.window.keypad\" rel=\"nofollow noreferrer\">stdscr.keypad</a>(yes)"}], "tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": false, "score": 0, "last_activity_date": 1439420119, "creation_date": 1439420119, "answer_id": 31976758, "question_id": 31976515, "link": "https://stackoverflow.com/questions/31976515/using-keypad-with-curses/31976758#31976758", "title": "Using keypad with curses", "body": "<p>Something like this I believe should work?</p>\n\n<pre><code>count = 0\nwhile True:\n    char = screen.getch()\n    if char == 113: exit()  \n    elif char == curses.KEY_UP: count+= 1\n    ...\n    ...\n    ..\n    .\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 5196007, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/dfbe866a40921aa8144aced2de396f56?s=128&d=identicon&r=PG&f=1", "display_name": "Emlingur", "link": "https://stackoverflow.com/users/5196007/emlingur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439431417, "creation_date": 1439418667, "last_edit_date": 1439431417, "question_id": 31976515, "link": "https://stackoverflow.com/questions/31976515/using-keypad-with-curses", "title": "Using keypad with curses", "body": "<p>I'm using curses for python 3.4, and I need a simple way to count with the arrow keys, every time I press up, x adds 1 to itself, press down, it subtracts one from itself. </p>\n"}, {"tags": ["python", "string", "recursion", "error-handling", "int"], "comments": [{"owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "edited": false, "score": 0, "creation_date": 1439418726, "post_id": 31976463, "comment_id": 51859472, "body": "You&#39;re trying to convert an empty string to an int, so it&#39;s failing. Try to debug through and find out why you&#39;re getting an empty string."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439418753, "post_id": 31976463, "comment_id": 51859485, "body": "As the error says, you are sending <code>int()</code> an empty string. Don&#39;t send it an empty string."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1439418833, "post_id": 31976463, "comment_id": 51859507, "body": "You say <code>i = int(i)</code> then check whether <code>i == &quot; &quot;</code> which could never happen; an integer can&#39;t be a string with a single space."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 2, "creation_date": 1439418922, "post_id": 31976463, "comment_id": 51859538, "body": "You also say <code>number = str(number)</code> and then check whether <code>number == 1</code> which, again, could never happen."}, {"owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "edited": false, "score": 0, "creation_date": 1439419189, "post_id": 31976463, "comment_id": 51859618, "body": "Your file must have a line that is not empty (<code>&quot;&quot;</code>) but still has a non-integer value, like <code>&quot; &quot;</code> (a single space). Try changing <code>if line == &quot;&quot;</code> to <code>if line.strip() == &quot;&quot;</code> in <code>happy_number_check</code>"}, {"owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "edited": false, "score": 1, "creation_date": 1439421782, "post_id": 31976463, "comment_id": 51860335, "body": "Protip: when you need a new variable, use a new name.  Example: instead of <code>number=str(number)</code> use <code>str_number=str(number)</code>.  The Python interpreter accepts both, but your poor carbon-based brain works much better with the second than the first."}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5221126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1EBLRlZaXDA/AAAAAAAAAAI/AAAAAAAAAAw/tviEr9H7rpU/photo.jpg?sz=128", "display_name": "Alex Lyman", "link": "https://stackoverflow.com/users/5221126/alex-lyman"}, "edited": false, "score": 0, "creation_date": 1439569609, "post_id": 31976642, "comment_id": 51931578, "body": "Thank you! I got it working correctly. Now the fun part of refactoring out that other logic bug you mentioned. : )"}], "tags": [], "owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1439419906, "last_edit_date": 1439419906, "creation_date": 1439419425, "answer_id": 31976642, "question_id": 31976463, "link": "https://stackoverflow.com/questions/31976463/python-trying-to-convert-string-to-int-get-error-to-int-invalid-literal-for-in/31976642#31976642", "title": "Python: Trying to convert string to int, get error to int invalid literal for int() with base 10: &#39;&#39;", "body": "<p>Try changing <code>happy_number_check</code> like this (validate each line is an integer):</p>\n\n<pre><code>def happy_number_check(file):\n    with open(file, 'r+') as f:   # Safer way to open a file. Will automatically close for you even if something goes wrong\n        for line in f:\n            if line.strip().isdigit():\n                happy_or_not(line.strip())\n</code></pre>\n\n<p>The <code>strip()</code> will also make it so that you can remove this code:</p>\n\n<pre><code>if i == \" \":\n    continue\nelse:\n</code></pre>\n\n<p>By the way, you also have a bug in your logic. You are relying on a RuntimeError - a Stack Overflow interestingly enough :-) - to terminate a test. You should really keep track of what numbers have been tried, and if you try the same number again, return 0.</p>\n\n<p>Don't click this link if you don't want a straight up solution to the problem, but if you do, here is an iterative solution: <a href=\"http://rosettacode.org/wiki/Happy_numbers#Python\" rel=\"nofollow\">http://rosettacode.org/wiki/Happy_numbers#Python</a></p>\n"}], "owner": {"reputation": 61, "user_id": 5221126, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1EBLRlZaXDA/AAAAAAAAAAI/AAAAAAAAAAw/tviEr9H7rpU/photo.jpg?sz=128", "display_name": "Alex Lyman", "link": "https://stackoverflow.com/users/5221126/alex-lyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2458, "favorite_count": 0, "accepted_answer_id": 31976642, "answer_count": 1, "score": 1, "last_activity_date": 1439419906, "creation_date": 1439418466, "question_id": 31976463, "link": "https://stackoverflow.com/questions/31976463/python-trying-to-convert-string-to-int-get-error-to-int-invalid-literal-for-in", "title": "Python: Trying to convert string to int, get error to int invalid literal for int() with base 10: &#39;&#39;", "body": "<p>I am new to Python, so I apologize if this is a simple fix. I have been stuck on a Codeval problem (Happy Numbers) for quite some time and I am not sure what is going wrong.</p>\n\n<p><b>Problem Description:</b></p>\n\n<p>Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1, or it loops endlessly in a cycle which does not include 1.Those numbers for which this process ends in 1 are happy, while those that do not end in 1 are unhappy.</p>\n\n<p><b>For example:</b></p>\n\n<p>7 is a happy number (7->49->97->130->10->1)</p>\n\n<p>22 is not a happy number (22->8->64->52->29->85->89->145->42->20->4->16->37->58->89 ...)</p>\n\n<p><b>My test input and expected outcome:</b></p>\n\n<p>1    -->  1</p>\n\n<p>7    -->  1</p>\n\n<p>22   -->  0</p>\n\n<p>If the number is a happy number, print out 1. If not, print out 0.</p>\n\n<p><b>Here is the full Traceback:</b></p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/happy_number.py\", line 58, in &lt;module&gt;\n    happy_number_check(\"happy_numbers.txt\")\n  File \"/happy_number.py\", line 55, in happy_number_check\n    happy_or_not(line)\n  File \"/happy_number.py\", line 33, in happy_or_not\n    i = int(i)\nValueError: invalid literal for int() with base 10: ''\n</code></pre>\n\n<p><b>Here is my code:</b></p>\n\n<pre><code># test = 7\n\n\ndef happy_or_not(number):\n    number = str(number)\n    if number == 1:\n        print 1\n    else:\n        new_num = 0\n        for i in number:\n            i = int(i)\n            if i == \" \":\n                continue\n            else:\n                new_num += i**2\n        if new_num == 10 or new_num == 10:\n            print 1\n        else:\n            try:\n                happy_or_not(new_num)\n            except RuntimeError:\n                print 0\n\n# happy_or_not(test)\n\n\ndef happy_number_check(file):\n    f = open(file, 'r+')\n    for line in f:\n        if line == \"\":\n            continue\n        else:\n            happy_or_not(line)\n\n\nhappy_number_check(\"happy_numbers.txt\")\n</code></pre>\n\n<p><b>What I have already tried:</b></p>\n\n<p>Based on what I gathered from other similar questions, the issue may be that I am not able to convert a <code>str</code> into an <code>int</code> when I hit the line <code>i = int(i)</code>. It is my understanding that I have to convert the <code>str</code> type into an <code>int</code> type before doing any math on it, yet it looks like that is where it is failing.</p>\n\n<p>I tested the <code>happy_or_not</code> function by itself, and it does print out the value that I expect it to. It seems like to me that the issue comes when I try and call that <code>happy_or_not</code> function inside of the <code>happy_number_check</code> function, which is reading my txt file (containing a list of numbers to test). I must not be grasping a larger principle here, so any explanations would be helpful. </p>\n\n<p>This is also my first real attempt at a recursive function and there probably is a better way to structure this, so any suggestions on how to change things up to be more effective is most welcome.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 1, "creation_date": 1439418320, "post_id": 31976392, "comment_id": 51859315, "body": "If you change <code>i</code> in the loop it&#39;s not going to terminate. Even if it did - you are doing something <b>conceptually</b> wrong."}, {"owner": {"reputation": 403, "user_id": 2327814, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/05b84e128b25ff9c2abb6985df38aaf7?s=128&d=identicon&r=PG", "display_name": "user2327814", "link": "https://stackoverflow.com/users/2327814/user2327814"}, "reply_to_user": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "edited": false, "score": 0, "creation_date": 1439418602, "post_id": 31976392, "comment_id": 51859421, "body": "I realize this hence my output bring 5, 5, 5, ... as in repeating. My real code will only change the iterator inside of a condition so it can skip unnecessary data."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1439418649, "post_id": 31976392, "comment_id": 51859439, "body": "Why don&#39;t you tell us <a href=\"http://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">the problem you&#39;re trying to solve instead of the problem your attempted solution is causing</a>?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439418913, "post_id": 31976392, "comment_id": 51859537, "body": "You should tell us your actual problem, as @TigerhawkT3 said. Because while you can get the desired output that you show in your question with <code>for x in ([0] + [5]*9): print x</code>, or even just <code>print &#39;\\n&#39;.join([&#39;0&#39;] + [&#39;5&#39;]*9)</code>, I don&#39;t think that&#39;s going to help with your actual problem :)."}, {"owner": {"reputation": 403, "user_id": 2327814, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/05b84e128b25ff9c2abb6985df38aaf7?s=128&d=identicon&r=PG", "display_name": "user2327814", "link": "https://stackoverflow.com/users/2327814/user2327814"}, "edited": false, "score": 0, "creation_date": 1439418922, "post_id": 31976392, "comment_id": 51859539, "body": "I am more interested in how python&#39;s for loops is implemented than fixing my current problem. Cody presented an answer which explains how the for loop works though. I can see how it is confusing for others though so I will edit my original post to reflect what I am interested in."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 1, "creation_date": 1439419353, "post_id": 31976392, "comment_id": 51859676, "body": "I deleted my comment that was attributing a different answer to Cody than the one he actually posted; whoops :P."}], "answers": [{"tags": [], "owner": {"reputation": 661, "user_id": 5171073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DINumKQGaXk/AAAAAAAAAAI/AAAAAAAAAjI/FKfUWOj6H9Q/photo.jpg?sz=128", "display_name": "Cody Braun", "link": "https://stackoverflow.com/users/5171073/cody-braun"}, "is_accepted": true, "score": 0, "last_activity_date": 1439418411, "creation_date": 1439418411, "answer_id": 31976456, "question_id": 31976392, "link": "https://stackoverflow.com/questions/31976392/setting-python-for-loop-iterator-during-iteration/31976456#31976456", "title": "setting python for loop iterator during iteration", "body": "<p>The for loop is iterating over every number in the list created by range. You can change i for a given iteration, but the for loop just goes to the next number in the list. I think a while loop would be a different story, it actually uses the current value of i</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2127913, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f82cdb9d390e1c68d9bef886c18024f9?s=128&d=identicon&r=PG", "display_name": "L.B.", "link": "https://stackoverflow.com/users/2127913/l-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1439418549, "creation_date": 1439418549, "answer_id": 31976486, "question_id": 31976392, "link": "https://stackoverflow.com/questions/31976392/setting-python-for-loop-iterator-during-iteration/31976486#31976486", "title": "setting python for loop iterator during iteration", "body": "<p>To echo Cody Braun, see the following code and output:</p>\n\n<pre><code>for i in range(10):\n    if i &gt;= 5:\n        i = 5\n    print i\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0\n1\n2\n3\n4\n5\n5\n5\n5\n5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 27354, "user_id": 948550, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/YWVjs.jpg?s=128&g=1", "display_name": "Reut Sharabani", "link": "https://stackoverflow.com/users/948550/reut-sharabani"}, "is_accepted": false, "score": 1, "last_activity_date": 1439418796, "creation_date": 1439418796, "answer_id": 31976549, "question_id": 31976392, "link": "https://stackoverflow.com/questions/31976392/setting-python-for-loop-iterator-during-iteration/31976549#31976549", "title": "setting python for loop iterator during iteration", "body": "<p>Following your response what you're trying to do already exists in the form of <code>continue</code>. It lets you skip an iteration by checking a certain condition holds:</p>\n\n<pre><code>for i in range(10):\n    if i &gt;= 5:\n        continue # go to next iteration\n    print i\n</code></pre>\n\n<p>Assuming you're using an iterator and not a list you can skip one element at a time, so a jump to a given index is irrelevant.</p>\n"}, {"tags": [], "owner": {"reputation": 1594, "user_id": 4297051, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TRTp6N_8pBo/AAAAAAAAAAI/AAAAAAAAD-E/yZ3_Hkm-dH4/photo.jpg?sz=128", "display_name": "Jake Griffin", "link": "https://stackoverflow.com/users/4297051/jake-griffin"}, "is_accepted": false, "score": 0, "last_activity_date": 1439420955, "creation_date": 1439420955, "answer_id": 31976919, "question_id": 31976392, "link": "https://stackoverflow.com/questions/31976392/setting-python-for-loop-iterator-during-iteration/31976919#31976919", "title": "setting python for loop iterator during iteration", "body": "<p>You could make a class that was iterable and modify the iteration in the for-loop:</p>\n\n<pre><code>&gt;&gt;&gt; class MyRange:\n...     def __init__(self, stop):\n...         self.current = 0 \n...         self.stop = stop\n...     def __iter__(self):\n...         return self\n...     def next(self): # Python 3: def __next__(self)\n...         if self.current &gt;= self.stop:\n...             raise StopIteration\n...         else:\n...             self.current += 1\n...             return self.current - 1 \n...\n&gt;&gt;&gt; for i in MyRange(3):\n...     print i\n...\n0\n1\n2\n&gt;&gt;&gt; r = MyRange(10)\n&gt;&gt;&gt; for i in r:\n...     print i\n...     r.current += 1\n...\n0\n2\n4\n6\n8\n&gt;&gt;&gt; r = MyRange(10)\n&gt;&gt;&gt; for i in r:\n...     print i\n...     r.current = 5\n0\n5\n5\n5\n5\n5\n# and so on...\n</code></pre>\n"}], "owner": {"reputation": 403, "user_id": 2327814, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/05b84e128b25ff9c2abb6985df38aaf7?s=128&d=identicon&r=PG", "display_name": "user2327814", "link": "https://stackoverflow.com/users/2327814/user2327814"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 31976456, "answer_count": 4, "score": 0, "last_activity_date": 1439420955, "creation_date": 1439418059, "last_edit_date": 1439419102, "question_id": 31976392, "link": "https://stackoverflow.com/questions/31976392/setting-python-for-loop-iterator-during-iteration", "title": "setting python for loop iterator during iteration", "body": "<p>How do I change a python iterator mid iteration? </p>\n\n<p>For example:    </p>\n\n<pre><code>for i in range(10):\n    print i\n    i = 5\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>0\n1\n...\n9\n</code></pre>\n\n<p>I would like to print:</p>\n\n<pre><code>0\n5\n5\n5\n...\n</code></pre>\n\n<p>EDIT: Sorry this question came out as confusing to people. I was interested in why when I try to change an iterator during a for loop the for loop ignores it on the next iteration. </p>\n\n<p>Someone else has already submitted an answer that clears my confusion. range creates a list and then the for loop assigns the iterator to the next variable in the list. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439418524, "post_id": 31976385, "comment_id": 51859390, "body": "Did you try pasting your question&#39;s title into Google? The first result that turns up (after this question, of course) is the <a href=\"https://docs.python.org/2/library/re.html\" rel=\"nofollow noreferrer\">documentation for regular expressions in Python</a>."}, {"owner": {"reputation": 627, "user_id": 5125264, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/79e4ec52139b5ff4f11504e27538d90d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5125264/matt"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439418830, "post_id": 31976385, "comment_id": 51859506, "body": "I&#39;m sure that would have helped but I&#39;m new to python, I was not aware of &quot;regular expressions&quot; before. But yes I did google a lot but could not find satisfactory answer."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439418973, "post_id": 31976385, "comment_id": 51859557, "body": "Exactly - using Google to find relevant documentation, and then reading that documentation (or, if it&#39;s too advanced, Googling tutorials about those topics), is how you become aware of these things."}, {"owner": {"reputation": 627, "user_id": 5125264, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/79e4ec52139b5ff4f11504e27538d90d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5125264/matt"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439419166, "post_id": 31976385, "comment_id": 51859613, "body": "Google is a big place, but thanks for you advice."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439419445, "post_id": 31976385, "comment_id": 51859704, "body": "It was the <i>very first result</i>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439419465, "post_id": 31976385, "comment_id": 51859714, "body": "I&#39;m voting to close this question as off-topic because SO is not a coding service."}], "answers": [{"tags": [], "owner": {"reputation": 9386, "user_id": 2526441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/0EYEm.jpg?s=128&g=1", "display_name": "DJanssens", "link": "https://stackoverflow.com/users/2526441/djanssens"}, "is_accepted": true, "score": 1, "last_activity_date": 1439418197, "creation_date": 1439418197, "answer_id": 31976422, "question_id": 31976385, "link": "https://stackoverflow.com/questions/31976385/substituting-all-numbers-in-a-string-with-a-different-character-in-python/31976422#31976422", "title": "Substituting all numbers in a string with a different character in python", "body": "<p>You can use the regular expression module and more specifically the <a href=\"https://docs.python.org/2/library/re.html#re.sub\" rel=\"nofollow\">substitute</a> (<code>sub</code>) method.\n    import re\n    string = \"word 8008 7 str50ing2 \" # ---> \"word 8888 8 str88ing8 \"</p>\n\n<pre><code>print  re.sub(r'\\d', '8', string)\n</code></pre>\n\n<p>Does the trick, the output is:</p>\n\n<pre><code>word 8888 8 str88ing8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7478, "user_id": 4619397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/705c728a2b8a96676b4ec7023841e462?s=128&d=identicon&r=PG", "display_name": "emunsing", "link": "https://stackoverflow.com/users/4619397/emunsing"}, "is_accepted": false, "score": 0, "last_activity_date": 1439418664, "creation_date": 1439418664, "answer_id": 31976514, "question_id": 31976385, "link": "https://stackoverflow.com/questions/31976385/substituting-all-numbers-in-a-string-with-a-different-character-in-python/31976514#31976514", "title": "Substituting all numbers in a string with a different character in python", "body": "<p>Here's an option using just native functions:</p>\n\n<pre><code>a = \"word 8008 7  str50ing2 \"    \nfor x in range(0,9): a = a.replace(str(x),'8')\n</code></pre>\n\n<p>should work; outputs: </p>\n\n<pre><code>&gt;&gt;&gt; a\n'word 8888 8  str88ing8 '\n</code></pre>\n"}], "owner": {"reputation": 627, "user_id": 5125264, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/79e4ec52139b5ff4f11504e27538d90d?s=128&d=identicon&r=PG&f=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/5125264/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 31976422, "answer_count": 2, "score": 0, "last_activity_date": 1439418664, "creation_date": 1439418018, "last_edit_date": 1439418145, "question_id": 31976385, "link": "https://stackoverflow.com/questions/31976385/substituting-all-numbers-in-a-string-with-a-different-character-in-python", "title": "Substituting all numbers in a string with a different character in python", "body": "<p>I want to take all number characters <code>[0,9]</code> within a string and replace them with the character 8. I'm sure there's a simple method but I just can't seem to find it! All related questions on here are for deleting the numbers, not for substituting with a different character.</p>\n\n<p>e.g. \"<code>word 8008 7  str50ing2 \" ---&gt; \"word 8888 8 str88ing8</code> \"</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["python", "python-requests"], "answers": [{"tags": [], "owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "is_accepted": true, "score": 1, "last_activity_date": 1439418824, "creation_date": 1439418824, "answer_id": 31976552, "question_id": 31976362, "link": "https://stackoverflow.com/questions/31976362/requests-forcing-header/31976552#31976552", "title": "Requests Forcing Header", "body": "<p>It looks like you are trying to specify the content type that you will receive in the response, not the content type of your request. So you should use the <code>Accept</code> header, not <code>content-type</code>.</p>\n"}], "owner": {"reputation": 879, "user_id": 4372631, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/098322f35c59c0e6d2b04ca2df0ca0e6?s=128&d=identicon&r=PG&f=1", "display_name": "James Lam", "link": "https://stackoverflow.com/users/4372631/james-lam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 31976552, "answer_count": 1, "score": 0, "last_activity_date": 1439418824, "creation_date": 1439417904, "question_id": 31976362, "link": "https://stackoverflow.com/questions/31976362/requests-forcing-header", "title": "Requests Forcing Header", "body": "<p>I am currently using the requests library to pass in a header.</p>\n\n<p>I believe the documentation states that certain events take precedence over custom headers.</p>\n\n<p>Is there a way to have your custom header take precedence?</p>\n\n<p>For example, I want a <code>content-type</code> of <code>'application/vnd.reviewboard.org.diff.data+json'</code>.</p>\n\n<p>However, the response continues to suggest a different header:</p>\n\n<pre><code>requests.get('url_here', headers={'content-type':'application/vnd.reviewboard.org.diff.data+json'}).__dict__\n</code></pre>\n\n<p>will return</p>\n\n<pre><code>'content-type': 'application/vnd.reviewboard.org.file+json'\n</code></pre>\n\n<p>If relevant, I am trying to hit a Review Board endpoint at</p>\n\n<p><a href=\"https://www.reviewboard.org/docs/manual/2.5/webapi/2.0/resources/file-diff/\" rel=\"nofollow\">https://www.reviewboard.org/docs/manual/2.5/webapi/2.0/resources/file-diff/</a></p>\n"}, {"tags": ["python", "amazon-web-services", "pyspark", "amazon-emr"], "answers": [{"tags": [], "owner": {"reputation": 3457, "user_id": 2708667, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/da3688bbbf608ce43f998f63651088d6?s=128&d=identicon&r=PG&f=1", "display_name": "santon", "link": "https://stackoverflow.com/users/2708667/santon"}, "is_accepted": false, "score": 4, "last_activity_date": 1439428401, "creation_date": 1439428401, "answer_id": 31977949, "question_id": 31976353, "link": "https://stackoverflow.com/questions/31976353/amazon-emr-pyspark-module-not-found/31977949#31977949", "title": "Amazon EMR Pyspark Module not found", "body": "<p>You probably need to add the pyspark files to the path. I typically use a function like the following.</p>\n\n<pre><code>def configure_spark(spark_home=None, pyspark_python=None):\n    spark_home = spark_home or \"/path/to/default/spark/home\"\n    os.environ['SPARK_HOME'] = spark_home\n\n    # Add the PySpark directories to the Python path:\n    sys.path.insert(1, os.path.join(spark_home, 'python'))\n    sys.path.insert(1, os.path.join(spark_home, 'python', 'pyspark'))\n    sys.path.insert(1, os.path.join(spark_home, 'python', 'build'))\n\n    # If PySpark isn't specified, use currently running Python binary:\n    pyspark_python = pyspark_python or sys.executable\n    os.environ['PYSPARK_PYTHON'] = pyspark_python\n</code></pre>\n\n<p>Then, you can call the function before importing pyspark:</p>\n\n<pre><code>configure_spark('/path/to/spark/home')\nfrom pyspark import SparkContext\n</code></pre>\n\n<p>Spark home on an EMR node should be something like <code>/home/hadoop/spark</code>. See <a href=\"https://aws.amazon.com/articles/Elastic-MapReduce/4926593393724923\" rel=\"nofollow\">https://aws.amazon.com/articles/Elastic-MapReduce/4926593393724923</a> for more details.</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 849722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iXogF.jpg?s=128&g=1", "display_name": "Fan", "link": "https://stackoverflow.com/users/849722/fan"}, "edited": false, "score": 0, "creation_date": 1536543459, "post_id": 35545918, "comment_id": 91448141, "body": "<code>py4j-0.10.7-src.zip</code> for emr 5.16"}, {"owner": {"reputation": 302, "user_id": 7167599, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hXR3tTpm2yE/AAAAAAAAAAI/AAAAAAAAAL0/jdlEyKoRcoM/photo.jpg?sz=128", "display_name": "Daniel R Carletti", "link": "https://stackoverflow.com/users/7167599/daniel-r-carletti"}, "edited": false, "score": 2, "creation_date": 1570712169, "post_id": 35545918, "comment_id": 103005530, "body": "This didn&#39;t work for me on a Jupyter notebook. Still getting <code>ModuleNotFoundError: No module named &#39;pyspark&#39;</code>"}, {"owner": {"reputation": 211, "user_id": 6649899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UaMyZ.png?s=128&g=1", "display_name": "mathisfun", "link": "https://stackoverflow.com/users/6649899/mathisfun"}, "edited": false, "score": 0, "creation_date": 1578953514, "post_id": 35545918, "comment_id": 105600273, "body": "This is a hacky but effective way to be able to use spyder remote kernels plus spark on an EMR cluster."}], "tags": [], "owner": {"reputation": 3097, "user_id": 5058588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-2JN6_yvR-04/AAAAAAAAAAI/AAAAAAAAI1g/4S0B-xB7UH0/photo.jpg?sz=128", "display_name": "Bob Baxley", "link": "https://stackoverflow.com/users/5058588/bob-baxley"}, "is_accepted": false, "score": 9, "last_activity_date": 1536673289, "last_edit_date": 1536673289, "creation_date": 1456115962, "answer_id": 35545918, "question_id": 31976353, "link": "https://stackoverflow.com/questions/31976353/amazon-emr-pyspark-module-not-found/35545918#35545918", "title": "Amazon EMR Pyspark Module not found", "body": "<p>I add the following lines to <code>~/.bashrc</code> for emr 4.3:</p>\n\n<pre><code>export SPARK_HOME=/usr/lib/spark\nexport PYTHONPATH=$SPARK_HOME/python/lib/py4j-0.XXX-src.zip:$PYTHONPATH\nexport PYTHONPATH=$SPARK_HOME/python:$SPARK_HOME/python/build:$PYTHONPATH\n</code></pre>\n\n<p>Here <code>py4j-0.XXX-src.zip</code> is the py4j file in your spark python library folder.  Search <code>/usr/lib/spark/python/lib/</code> to find the exact version and replace the <code>XXX</code> with that version number.</p>\n\n<p>Run <code>source ~/.bashrc</code> and you should be good.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 8875079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3581a434a02869388e099202e8ea1182?s=128&d=identicon&r=PG&f=1", "display_name": "k0L1081", "link": "https://stackoverflow.com/users/8875079/k0l1081"}, "is_accepted": false, "score": 3, "last_activity_date": 1533995289, "creation_date": 1533995289, "answer_id": 51800274, "question_id": 31976353, "link": "https://stackoverflow.com/questions/31976353/amazon-emr-pyspark-module-not-found/51800274#51800274", "title": "Amazon EMR Pyspark Module not found", "body": "<p>Try using <a href=\"https://github.com/minrk/findspark\" rel=\"nofollow noreferrer\">findspark</a>: Install via shell using <code>pip install findspark</code>.</p>\n\n<p>Sample code:</p>\n\n<pre><code># Import package(s).\nimport findspark\nfindspark.init()\n\nfrom pyspark import SparkContext\nfrom pyspark.sql import SQLContext\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 5017232, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d6283095d58ef678f263e07c42ed8aae?s=128&d=identicon&r=PG&f=1", "display_name": "Stephen Cheng", "link": "https://stackoverflow.com/users/5017232/stephen-cheng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7593, "favorite_count": 2, "answer_count": 3, "score": 11, "last_activity_date": 1536673289, "creation_date": 1439417884, "question_id": 31976353, "link": "https://stackoverflow.com/questions/31976353/amazon-emr-pyspark-module-not-found", "title": "Amazon EMR Pyspark Module not found", "body": "<p>I created an Amazon EMR cluster with Spark already on it. When I run pyspark from the terminal it goes into the pyspark terminal when I ssh into my cluster.</p>\n\n<p>I uploaded a file using scp, and when I try to run it with python FileName.py, I get an import error:</p>\n\n<pre><code>from pyspark import SparkContext\nImportError: No module named pyspark\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["python", "typeerror"], "comments": [{"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1439417903, "post_id": 31976331, "comment_id": 51859170, "body": "what should the final output be?"}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1439418267, "post_id": 31976331, "comment_id": 51859295, "body": "You are passing a a list inside a tuple I believe. Is that what you want?"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1439418291, "post_id": 31976331, "comment_id": 51859303, "body": "You do not need to end Python statements with a semicolon."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1439418426, "post_id": 31976331, "comment_id": 51859357, "body": "There are alot of errors in your code.  here is what data when you print out x_value <code>[-10.490162792663932, -4.71237568360262]</code>. You have a list of list."}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439418649, "post_id": 31976331, "comment_id": 51859438, "body": "I honestly can&#39;t tell you what the final output should be as this is something I legitimately don&#39;t know. From a list of 20 vectors, I&#39;m trying to find 10, that when added, will get me as close as possible to my starting point. It&#39;s for physics. And Tigerhawk, I think I&#39;m doing that now because I started to learn Java. And are you saying that x_value is holding two values? It should only be holding one, I thought."}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439418709, "post_id": 31976331, "comment_id": 51859466, "body": "Nevermind, I totally get why there are two values."}, {"owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "edited": false, "score": 0, "creation_date": 1439418716, "post_id": 31976331, "comment_id": 51859467, "body": "using print statements to know if you have the output you are looking for will help you."}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439418804, "post_id": 31976331, "comment_id": 51859500, "body": "Well how can my code print anything if it can&#39;t run? And honestly, I don&#39;t even know what a tuple is, I thought I was storing My A through T values as Arrays."}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439418993, "post_id": 31976331, "comment_id": 51859564, "body": "This is my first time on the website, I don&#39;t see an answer, just comments. Where is that, and I will gladly accept the answer."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1439420052, "post_id": 31976331, "comment_id": 51859875, "body": "If you don&#39;t even know the name of the data type you&#39;re using, you really need to read some basic documentation."}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439446650, "post_id": 31976331, "comment_id": 51867033, "body": "Where do you recommend I learn how to code from, because I don&#39;t know any programmers, I&#39;ve asked and definitely made it clear I am trying to learn how to code, and I&#39;m going solely based off of online material. How did you learn? I just started a few weeks ago."}], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439419244, "post_id": 31976485, "comment_id": 51859642, "body": "An example of output I am looking for is like this: [A, B, D, G, H, I, K, L, P, Q, 3.295 meters off.]"}, {"owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "edited": false, "score": 0, "creation_date": 1439419311, "post_id": 31976485, "comment_id": 51859661, "body": "The output is the set of vectors in which the result is closest to 0"}], "tags": [], "owner": {"reputation": 1853, "user_id": 3029274, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/678505a60d20e850fb26b7bc12a440a0?s=128&d=identicon&r=PG&f=1", "display_name": "Maddy", "link": "https://stackoverflow.com/users/3029274/maddy"}, "is_accepted": true, "score": 1, "last_activity_date": 1439418546, "creation_date": 1439418546, "answer_id": 31976485, "question_id": 31976331, "link": "https://stackoverflow.com/questions/31976331/unsupported-operand-types-for-int-and-list/31976485#31976485", "title": "unsupported operand type(s) for +=: &#39;int&#39; and &#39;list&#39;", "body": "<p>When you print out <code>x_value</code> this is what your list has <code>[-10.490162792663932, -4.71237568360262]</code>. </p>\n\n<p>To fix that error you would need to do something like this I believe ( Since I dont know what output you are looking for, this is just a fix to the error)</p>\n\n<pre><code>    x_total += x_value[0]\n    y_total += y_value[1]\n</code></pre>\n\n<p>That being said. Your entire code has alot more error which I fixed. I have posted the code below but not sure about what output you are looking for</p>\n\n<pre><code>import math;\nimport itertools;\nvectors = [];\ntemp_list = [];\nbest_vector = [];\n\nA = [11.5, 30];\nB = [9.2, 55];\nC = [8.7, 125];\nD = [12.9, 190];\nE = [5.5, 340];\nF = [8.0, 295];\nG = [4.2, 140];\nH = [10.0, 315];\nI = [14.3, 220];\nJ = [5.6, 70];\nK = [7.5, 160];\nL = [3.6, 255];\nM = [7.1, 200];\nN = [5.9, 15];\nO = [6.4, 285];\nP = [9.9, 35];\nQ = [12.1, 135];\nR = [11.0, 115];\nS = [5.8, 245];\nT = [9.4, 300];\n#Just get them in a list to iterate them initially\n\nall_vectors = [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T];\nfor vector in all_vectors:\n    x_component = vector[0]*(math.cos(vector[1]*(180/math.pi)));\n    y_component = vector[0]*(math.sin(vector[1]*(180/math.pi)));\n    vector = [x_component, y_component];\n    vectors.append(vector);\n\n#Vector list with components.\n\noptions = [itertools.combinations(vectors,10)];\n\ndef get_best ():\n    best = 100;\n    x_total = 0;\n    y_total = 0;\n    x_value = 0;\n    y_value = 0;\n    result = 0;\n    print(temp_list)\n    for item in temp_list:\n        x_value = item[0]\n        y_value = item[1]\n        x_total += x_value[0]\n        y_total += y_value[1]\n    result = math.sqrt(((x_total)**2)+((y_total)**2))\n    if result &lt; best:\n        best = result\n        best_vector.append(result)\n        for item in temp_list:\n            best_vector.append(item);\n\n#Loop through all possible options, roughly 170,000 options.\n\nfor opt in options:\n    for char in opt:\n        temp_list.append(char);\n        get_best();\n    print(best_vector)\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 5221170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205196391009393/picture?type=large", "display_name": "Brandon Willis", "link": "https://stackoverflow.com/users/5221170/brandon-willis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 31976485, "answer_count": 1, "score": 0, "last_activity_date": 1509725851, "creation_date": 1439417743, "last_edit_date": 1509725851, "question_id": 31976331, "link": "https://stackoverflow.com/questions/31976331/unsupported-operand-types-for-int-and-list", "title": "unsupported operand type(s) for +=: &#39;int&#39; and &#39;list&#39;", "body": "<p><strong>[EDIT FOR FUTURE READERS] In this post, I bring up the term \"vector\" a lot. When I said vector, I meant a vector in physics and at the time did not know that vector is also a datatype in programming.</strong></p>\n\n<p>A little piece of my code is here:  </p>\n\n<pre><code>x_value = item[0]\ny_value = item[1]\nx_total += x_value\ny_total += y_value\n</code></pre>\n\n<p>The error I'm getting is this:</p>\n\n<pre><code>File \"main.py\", line 65, in &lt;module&gt;                                                                                                                                          \n    get_best();                                                                                                                                                                 \n  File \"main.py\", line 51, in get_best                                                                                                                                          \n    x_total += x_value                                                                                                                                                                \nTypeError: unsupported operand type(s) for +=: 'int' and 'list'                                                                                                                 \nsh-4.3$\n</code></pre>\n\n<p>And I just don't understand why this is not okay.</p>\n\n<p>Here is all of my code (It might not be great, but I'm a true beginner and am just lost pretty much all of the time):</p>\n\n<pre><code># Program takes all vectors, puts them in a list, iterates through every possible combination, \n# And selects the one with the result closest to 0 aka starting point.\nimport math;\nimport itertools;\nvectors = [];\ntemp_list = [];\nbest_vector = [];\n\nA = [11.5, 30];\nB = [9.2, 55];\nC = [8.7, 125];\nD = [12.9, 190];\nE = [5.5, 340];\nF = [8.0, 295];\nG = [4.2, 140];\nH = [10.0, 315];\nI = [14.3, 220];\nJ = [5.6, 70];\nK = [7.5, 160];\nL = [3.6, 255];\nM = [7.1, 200];\nN = [5.9, 15];\nO = [6.4, 285];\nP = [9.9, 35];\nQ = [12.1, 135];\nR = [11.0, 115];\nS = [5.8, 245];\nT = [9.4, 300];\n#Just get them in a list to iterate them initially\n\nall_vectors = [A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T];\nfor vector in all_vectors:\n    x_component = vector[0]*(math.cos(vector[1]*(180/math.pi)));\n    y_component = vector[0]*(math.sin(vector[1]*(180/math.pi)));\n    vector = [x_component, y_component];\n    vectors.append(vector);\n\n#Vector list with components.\nbest = 100;\noptions = [itertools.combinations(vectors,10)];\n\ndef get_best ():\n    x_total = 0;\n    y_total = 0;\n    x_value = 0;\n    y_value = 0;\n    result = 0;\n    for item in temp_list:\n        x_value = item[0]\n        y_value = item[1]\n        x_total += x_value\n        y_total += y_value\n    result = sqrt(((x_total)^2)+((y_total)^2))\n    if result &lt; best:\n        best = result\n        best_vector.append(result + \"meters off\")\n        for item in temp_list:\n            best_vector.append(item);\n\n#Loop through all possible options, roughly 170,000 options.\n\nfor opt in options:\n    for char in opt:\n        temp_list.append(char);\n        get_best();\n    print best_vector;\n</code></pre>\n"}, {"tags": ["python", "amazon-s3", "boto", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 1257, "user_id": 1728427, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PetwY.jpg?s=128&g=1", "display_name": "roehrijn", "link": "https://stackoverflow.com/users/1728427/roehrijn"}, "edited": false, "score": 1, "creation_date": 1448369990, "post_id": 31976895, "comment_id": 55551464, "body": "assuming &quot;Body&quot; contains string data, ou can use object.get()[&quot;Body&quot;].read() to convert to a Python string."}, {"owner": {"reputation": 9518, "user_id": 451718, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/02d2c0f65d305aaf6f33ebdaf826d05c?s=128&d=identicon&r=PG", "display_name": "Andrew_1510", "link": "https://stackoverflow.com/users/451718/andrew-1510"}, "edited": false, "score": 28, "creation_date": 1456419021, "post_id": 31976895, "comment_id": 58948425, "body": "boto3 get terrible doc, as of 2016."}, {"owner": {"reputation": 717, "user_id": 3586311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pmO7J.jpg?s=128&g=1", "display_name": "jeffrey", "link": "https://stackoverflow.com/users/3586311/jeffrey"}, "edited": false, "score": 3, "creation_date": 1491346373, "post_id": 31976895, "comment_id": 73509238, "body": "<a href=\"http://boto3.readthedocs.io/en/latest/reference/services/s3.html#S3.Object.get\" rel=\"nofollow noreferrer\">boto3.readthedocs.io/en/latest/reference/services/&hellip;</a> tells us the return value is a dict, with a key &quot;Body&quot; of type StreamingBody, searching for that in read the docs gets you to <a href=\"http://botocore.readthedocs.io/en/latest/reference/response.html\" rel=\"nofollow noreferrer\">botocore.readthedocs.io/en/latest/reference/response.html</a> which will tell you to use read()."}, {"owner": {"reputation": 22937, "user_id": 170521, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/35d213b719c9bfa00f5f62ca1bdbb164?s=128&d=identicon&r=PG", "display_name": "lurscher", "link": "https://stackoverflow.com/users/170521/lurscher"}, "edited": false, "score": 3, "creation_date": 1544718833, "post_id": 31976895, "comment_id": 94384468, "body": "seems that now <code>get expected at least 1 arguments, got 0</code>. Remove the <code>get()</code> and access the &quot;Body&quot; object property directly"}], "tags": [], "owner": {"reputation": 2511, "user_id": 3953331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWWID.png?s=128&g=1", "display_name": "Gahl Levy", "link": "https://stackoverflow.com/users/3953331/gahl-levy"}, "is_accepted": false, "score": 80, "last_activity_date": 1439420830, "creation_date": 1439420830, "answer_id": 31976895, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3/31976895#31976895", "title": "Open S3 object as a string with Boto3", "body": "<p>This isn't in the boto3 documentation. This worked for me:</p>\n\n<pre><code>object.get()[\"Body\"].read()\n</code></pre>\n\n<p>object being an s3 object: <a href=\"http://boto3.readthedocs.org/en/latest/reference/services/s3.html#object\">http://boto3.readthedocs.org/en/latest/reference/services/s3.html#object</a></p>\n"}, {"comments": [{"owner": {"reputation": 927, "user_id": 663485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79441dbcf6aadd39e9e7510aefdfafee?s=128&d=identicon&r=PG", "display_name": "Tzunghsing David Wong", "link": "https://stackoverflow.com/users/663485/tzunghsing-david-wong"}, "edited": false, "score": 1, "creation_date": 1506653144, "post_id": 35376156, "comment_id": 79916812, "body": "to get this answer to work, I had to <code>import botocore</code> as <code>obj.get()[&#39;Body&#39;]</code> is of type <code>&lt;class &#39;botocore.response.StreamingBody&#39;&gt;</code>"}, {"owner": {"reputation": 19714, "user_id": 169947, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/94c9072a6b1ac6e02e735b3df640e277?s=128&d=identicon&r=PG", "display_name": "Ken Williams", "link": "https://stackoverflow.com/users/169947/ken-williams"}, "reply_to_user": {"reputation": 927, "user_id": 663485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79441dbcf6aadd39e9e7510aefdfafee?s=128&d=identicon&r=PG", "display_name": "Tzunghsing David Wong", "link": "https://stackoverflow.com/users/663485/tzunghsing-david-wong"}, "edited": false, "score": 1, "creation_date": 1507326555, "post_id": 35376156, "comment_id": 80180848, "body": "@TzunghsingDavidWong you shouldn&#39;t have to import a package to call methods on an existing object, right?  Was that maybe only necessary while experimenting?"}, {"owner": {"reputation": 732, "user_id": 3355413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TGt7P.png?s=128&g=1", "display_name": "Amaresh Jana", "link": "https://stackoverflow.com/users/3355413/amaresh-jana"}, "edited": false, "score": 1, "creation_date": 1511241585, "post_id": 35376156, "comment_id": 81764868, "body": "what is the value of key in the obj = s3.Object(bucket,key)  ** bucket is buckername?? and key is the file name???*** please correct me if i m wrong..."}, {"owner": {"reputation": 143, "user_id": 4638220, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c68601a95d75d750846533f930f4f429?s=128&d=identicon&r=PG", "display_name": "Tipster", "link": "https://stackoverflow.com/users/4638220/tipster"}, "reply_to_user": {"reputation": 732, "user_id": 3355413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TGt7P.png?s=128&g=1", "display_name": "Amaresh Jana", "link": "https://stackoverflow.com/users/3355413/amaresh-jana"}, "edited": false, "score": 1, "creation_date": 1517007358, "post_id": 35376156, "comment_id": 83935303, "body": "@Amaresh yes, bucket = bucket name and key = filename"}, {"owner": {"reputation": 417, "user_id": 8842148, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/c19574467d2798384134555870791040?s=128&d=identicon&r=PG&f=1", "display_name": "Arun Kumar", "link": "https://stackoverflow.com/users/8842148/arun-kumar"}, "edited": false, "score": 1, "creation_date": 1519707682, "post_id": 35376156, "comment_id": 85007785, "body": "if a key is pdf format , is it work ? or please suggest another useful way, I tried import textract text = textract.process(&#39;path/to/a.pdf&#39;, method=&#39;pdfminer&#39;) It will sow import error"}, {"owner": {"reputation": 2349, "user_id": 3743216, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/wl32f.jpg?s=128&g=1", "display_name": "Jakobovski", "link": "https://stackoverflow.com/users/3743216/jakobovski"}, "edited": false, "score": 1, "creation_date": 1605105782, "post_id": 35376156, "comment_id": 114550445, "body": "@gatsby-lee&#39;s answer below is MUCH faster than this. I get 120mb/s vs 24mb/s"}], "tags": [], "owner": {"reputation": 16438, "user_id": 690430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28190f5ce27f4213ac50f6f624c6ff52?s=128&d=identicon&r=PG", "display_name": "Kamil Sindi", "link": "https://stackoverflow.com/users/690430/kamil-sindi"}, "is_accepted": false, "score": 264, "last_activity_date": 1476889270, "last_edit_date": 1476889270, "creation_date": 1455338471, "answer_id": 35376156, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3/35376156#35376156", "title": "Open S3 object as a string with Boto3", "body": "<p><code>read</code> will return bytes. At least for Python 3, if you want to return a string, you have to decode using the right encoding:</p>\n\n<pre><code>import boto3\n\ns3 = boto3.resource('s3')\n\nobj = s3.Object(bucket, key)\nobj.get()['Body'].read().decode('utf-8') \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 2484504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21230d9902ed1233a1fec5b2f0999bab?s=128&d=identicon&r=PG", "display_name": "Pyglouthon", "link": "https://stackoverflow.com/users/2484504/pyglouthon"}, "is_accepted": false, "score": -6, "last_activity_date": 1480500146, "creation_date": 1480500146, "answer_id": 40885338, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3/40885338#40885338", "title": "Open S3 object as a string with Boto3", "body": "<p>If body contains a io.StringIO, you have to do like below:</p>\n\n<pre><code>object.get()['Body'].getvalue()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4408, "user_id": 621917, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/2ud2H.jpg?s=128&g=1", "display_name": "Timo", "link": "https://stackoverflow.com/users/621917/timo"}, "edited": false, "score": 23, "creation_date": 1510588376, "post_id": 42737249, "comment_id": 81487364, "body": "Worked for me! AWS Boto3 documentation is a mess"}], "tags": [], "owner": {"reputation": 1964, "user_id": 2124529, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de9665b83b86459dd950f5bd90255aba?s=128&d=identicon&r=PG", "display_name": "EvgenyKolyakov", "link": "https://stackoverflow.com/users/2124529/evgenykolyakov"}, "is_accepted": false, "score": 118, "last_activity_date": 1531412644, "last_edit_date": 1531412644, "creation_date": 1489247570, "answer_id": 42737249, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3/42737249#42737249", "title": "Open S3 object as a string with Boto3", "body": "<p>I had a problem to read/parse the object from S3 because of <code>.get()</code> using Python 2.7 inside an AWS Lambda.</p>\n\n<p>I added json to the example to show it became parsable :)</p>\n\n<pre><code>import boto3\nimport json\n\ns3 = boto3.client('s3')\n\nobj = s3.get_object(Bucket=bucket, Key=key)\nj = json.loads(obj['Body'].read())\n</code></pre>\n\n<p>NOTE (for python 2.7): My object is all ascii, so I don't need <code>.decode('utf-8')</code></p>\n\n<p>NOTE (for python 3.6+): We moved to python 3.6 and discovered that <code>read()</code> now returns <code>bytes</code> so if you want to get a string out of it, you must use:</p>\n\n<p><code>j = json.loads(obj['Body'].read().decode('utf-8'))</code></p>\n"}, {"comments": [{"owner": {"reputation": 2349, "user_id": 3743216, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/wl32f.jpg?s=128&g=1", "display_name": "Jakobovski", "link": "https://stackoverflow.com/users/3743216/jakobovski"}, "edited": false, "score": 1, "creation_date": 1605105679, "post_id": 56814926, "comment_id": 114550393, "body": "This is MUCH faster than <code>object.get()[&quot;Body&quot;].read()</code> method."}], "tags": [], "owner": {"reputation": 320, "user_id": 8805126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7515b2f43e0801108341342f97bb9919?s=128&d=identicon&r=PG&f=1", "display_name": "Gatsby Lee", "link": "https://stackoverflow.com/users/8805126/gatsby-lee"}, "is_accepted": false, "score": 20, "last_activity_date": 1561779781, "creation_date": 1561779781, "answer_id": 56814926, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3/56814926#56814926", "title": "Open S3 object as a string with Boto3", "body": "<p>Python3 + Using boto3 API approach.</p>\n\n<p>By using <strong>S3.Client.download_fileobj API</strong> and <strong>Python file-like object</strong>, S3 Object content can be retrieved to memory.</p>\n\n<p>Since the retrieved content is bytes, in order to convert to <strong>str</strong>, it need to be decoded.</p>\n\n<pre><code>import io\nimport boto3\n\nclient = boto3.client('s3')\nbytes_buffer = io.BytesIO()\nclient.download_fileobj(Bucket=bucket_name, Key=object_key, Fileobj=bytes_buffer)\nbyte_value = bytes_buffer.getvalue()\nstr_value = byte_value.decode() #python3, default decoding is utf-8\n</code></pre>\n"}], "owner": {"reputation": 2511, "user_id": 3953331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jWWID.png?s=128&g=1", "display_name": "Gahl Levy", "link": "https://stackoverflow.com/users/3953331/gahl-levy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212455, "favorite_count": 31, "answer_count": 5, "score": 171, "last_activity_date": 1571045390, "creation_date": 1439417433, "last_edit_date": 1571045390, "question_id": 31976273, "link": "https://stackoverflow.com/questions/31976273/open-s3-object-as-a-string-with-boto3", "title": "Open S3 object as a string with Boto3", "body": "<p>I'm aware that with Boto 2 it's possible to open an S3 object as a string with: <a href=\"http://boto.readthedocs.org/en/latest/ref/file.html?highlight=contents%20string#boto.file.key.Key.get_contents_as_string\" rel=\"noreferrer\"><code>get_contents_as_string()</code></a></p>\n\n<p>Is there an equivalent function in boto3 ? </p>\n"}, {"tags": ["python", "pandas", "hdf5"], "comments": [{"owner": {"reputation": 207, "user_id": 2734178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e85ec1b3ccbb89a6f95835760ee6969?s=128&d=identicon&r=PG&f=1", "display_name": "user2734178", "link": "https://stackoverflow.com/users/2734178/user2734178"}, "edited": false, "score": 1, "creation_date": 1439418180, "post_id": 31976263, "comment_id": 51859258, "body": "What&#39;s your version of PyTables? Note that PyTables 3.2 has <a href=\"https://github.com/PyTables/PyTables/issues/455\" rel=\"nofollow noreferrer\">this</a> known bug which causes the interpreter to crash."}, {"owner": {"reputation": 632, "user_id": 2965673, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e9605225083416e8dd3da79c71189df0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2965673/adam"}, "reply_to_user": {"reputation": 207, "user_id": 2734178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e85ec1b3ccbb89a6f95835760ee6969?s=128&d=identicon&r=PG&f=1", "display_name": "user2734178", "link": "https://stackoverflow.com/users/2734178/user2734178"}, "edited": false, "score": 0, "creation_date": 1439432493, "post_id": 31976263, "comment_id": 51862765, "body": "Yes, 3.2.  That&#39;s the newest in macports.  Is there any work around?"}], "answers": [{"tags": [], "owner": {"reputation": 632, "user_id": 2965673, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e9605225083416e8dd3da79c71189df0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2965673/adam"}, "is_accepted": true, "score": 1, "last_activity_date": 1439484660, "creation_date": 1439484660, "answer_id": 31994150, "question_id": 31976263, "link": "https://stackoverflow.com/questions/31976263/merge-csv-into-hdf5-in-pandas-leads-to-crash/31994150#31994150", "title": "Merge CSV into HDF5 in pandas leads to crash", "body": "<p>I upgraded to 3.2.1 and that seems to have fixed it.  So, it was not a problem with my code (which was driving me crazy), but was a pytables problem.</p>\n"}, {"comments": [{"owner": {"reputation": 632, "user_id": 2965673, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e9605225083416e8dd3da79c71189df0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2965673/adam"}, "edited": false, "score": 0, "creation_date": 1441163604, "post_id": 32342080, "comment_id": 52562246, "body": "Just a guess, but it looks like that distribution was last updated on July 2 and I think this fix is more recent."}], "tags": [], "owner": {"reputation": 96, "user_id": 1420713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78b42e5894dd71e4ea1dda05a9a930ae?s=128&d=identicon&r=PG", "display_name": "Oscar6E", "link": "https://stackoverflow.com/users/1420713/oscar6e"}, "is_accepted": false, "score": 0, "last_activity_date": 1441147835, "creation_date": 1441147835, "answer_id": 32342080, "question_id": 31976263, "link": "https://stackoverflow.com/questions/31976263/merge-csv-into-hdf5-in-pandas-leads-to-crash/32342080#32342080", "title": "Merge CSV into HDF5 in pandas leads to crash", "body": "<p>Adam's answer solved my problem on my imac.\nBut as of 1sep15, while pytables is available for linux and osx, it is still not for Windows - I use the Anaconda distribution (very good in every other respect). Does anybody know why ? Is there a specific reason for that ?</p>\n"}], "owner": {"reputation": 632, "user_id": 2965673, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e9605225083416e8dd3da79c71189df0?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/2965673/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 31994150, "answer_count": 2, "score": 0, "last_activity_date": 1441147835, "creation_date": 1439417400, "last_edit_date": 1439417497, "question_id": 31976263, "link": "https://stackoverflow.com/questions/31976263/merge-csv-into-hdf5-in-pandas-leads-to-crash", "title": "Merge CSV into HDF5 in pandas leads to crash", "body": "<p>I have about 700 <code>CSV</code> files.  They are each typically a few meg and few thousand rows.  So, the total folder is ~1gig.  I want to merge them into a single <code>HDF5</code> file.  </p>\n\n<p>I first defined a function <code>read_file(file)</code> that reads a single file, and parses it using <code>pd.read_csv()</code>.  It then returns a dataframe.</p>\n\n<p>I then use this code to convert:</p>\n\n<pre><code>    for file in files:\n         print (file + \" Num: \"+str(file_num)+\" of: \"+str(len(files)))\n         file_num=file_num+1\n         in_pd=read_file(file)\n         in_pd.to_hdf('AllFlightLogs.h5','flights',mode='a',append=True)\n</code></pre>\n\n<p>And, it works just fine for about 202 files, and then python crashes with: <code>Abort trap: 6</code>\nI don't know what this error means.  I have also seen it pop up a window showing a stack error.  </p>\n\n<p>I have tried using <code>complib='lzo'</code> and that doesn't seem to make any difference.  I have tried saving to a different hdf5 file every 100 reads, and that does change the exact number of files before the crash.  But, it still happens.</p>\n\n<p>There doesn't seem to be anything special about that particular file.  Is there anyway to find out anything else about this particular error?  I know that the crash happens when I try to call <code>in_pd.to_hdf()</code> (I added print statements before and after). </p>\n\n<p>I am running on a <code>Mac</code>, and using <code>pandas 16.2</code>.</p>\n"}, {"tags": ["python", "datetime", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 5936, "user_id": 865662, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e2f0a2591abd6abbe073d5f3dd639d2b?s=128&d=identicon&r=PG", "display_name": "jbssm", "link": "https://stackoverflow.com/users/865662/jbssm"}, "edited": false, "score": 0, "creation_date": 1439585886, "post_id": 31976522, "comment_id": 51939581, "body": "Thank you, this works nicely to show only the data I wanted, but how to I go about as selecting the 5 minutes interval?"}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 1, "last_activity_date": 1439419202, "last_edit_date": 1439419202, "creation_date": 1439418690, "answer_id": 31976522, "question_id": 31976210, "link": "https://stackoverflow.com/questions/31976210/selecting-only-date-ranges-in-pandas-that-have-data-every-consecutive-minute/31976522#31976522", "title": "Selecting only date ranges in Pandas that have data every consecutive minute", "body": "<p>Here is one way by first <code>.asfreq('T')</code> to populate some <code>NaNs</code> and then using <code>rolling_apply</code> and count whether the recent or next 5 observations has no <code>NaNs</code>.</p>\n\n<pre><code># populate NaNs at minutely freq\n# ======================\ndf = raw_data.asfreq('T')\nprint(df)\n\n                       open    high     low   close  volume\ndate_time                                                  \n2014-01-02 08:56:00  1.3755  1.3755  1.3755  1.3755       3\n2014-01-02 08:57:00     NaN     NaN     NaN     NaN     NaN\n2014-01-02 08:58:00     NaN     NaN     NaN     NaN     NaN\n2014-01-02 08:59:00     NaN     NaN     NaN     NaN     NaN\n2014-01-02 09:00:00  1.3756  1.3756  1.3755  1.3755      21\n2014-01-02 09:01:00  1.3755  1.3755  1.3754  1.3755      18\n2014-01-02 09:02:00  1.3755  1.3755  1.3755  1.3755      15\n2014-01-02 09:03:00  1.3755  1.3756  1.3755  1.3756      39\n2014-01-02 09:04:00  1.3756  1.3756  1.3756  1.3756      37\n2014-01-02 09:05:00  1.3756  1.3756  1.3756  1.3756      35\n2014-01-02 09:06:00  1.3756  1.3757  1.3756  1.3756      38\n2014-01-02 09:07:00  1.3756  1.3757  1.3756  1.3757      42\n2014-01-02 09:08:00  1.3757  1.3757  1.3756  1.3757      25\n\nconsecutive_previous_5min = pd.rolling_apply(df['open'], 5, lambda g: np.isnan(g).any()) == 0\nconsecutive_previous_5min\n\ndate_time\n2014-01-02 08:56:00    False\n2014-01-02 08:57:00    False\n2014-01-02 08:58:00    False\n2014-01-02 08:59:00    False\n2014-01-02 09:00:00    False\n2014-01-02 09:01:00    False\n2014-01-02 09:02:00    False\n2014-01-02 09:03:00    False\n2014-01-02 09:04:00     True\n2014-01-02 09:05:00     True\n2014-01-02 09:06:00     True\n2014-01-02 09:07:00     True\n2014-01-02 09:08:00     True\nFreq: T, dtype: bool\n\n# use the reverse trick to get the next 5 values\nconsecutive_next_5min = (pd.rolling_apply(df['open'][::-1], 5, lambda g: np.isnan(g).any()) == 0)[::-1]\nconsecutive_next_5min\n\ndate_time\n2014-01-02 08:56:00    False\n2014-01-02 08:57:00    False\n2014-01-02 08:58:00    False\n2014-01-02 08:59:00    False\n2014-01-02 09:00:00     True\n2014-01-02 09:01:00     True\n2014-01-02 09:02:00     True\n2014-01-02 09:03:00     True\n2014-01-02 09:04:00     True\n2014-01-02 09:05:00    False\n2014-01-02 09:06:00    False\n2014-01-02 09:07:00    False\n2014-01-02 09:08:00    False\nFreq: T, dtype: bool\n\n# keep rows with either have recent 5 or next 5 elements non-null\ndf.loc[consecutive_next_5min | consecutive_previous_5min]\n\n                       open    high     low   close  volume\ndate_time                                                  \n2014-01-02 09:00:00  1.3756  1.3756  1.3755  1.3755      21\n2014-01-02 09:01:00  1.3755  1.3755  1.3754  1.3755      18\n2014-01-02 09:02:00  1.3755  1.3755  1.3755  1.3755      15\n2014-01-02 09:03:00  1.3755  1.3756  1.3755  1.3756      39\n2014-01-02 09:04:00  1.3756  1.3756  1.3756  1.3756      37\n2014-01-02 09:05:00  1.3756  1.3756  1.3756  1.3756      35\n2014-01-02 09:06:00  1.3756  1.3757  1.3756  1.3756      38\n2014-01-02 09:07:00  1.3756  1.3757  1.3756  1.3757      42\n2014-01-02 09:08:00  1.3757  1.3757  1.3756  1.3757      25\n</code></pre>\n"}], "owner": {"reputation": 5936, "user_id": 865662, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e2f0a2591abd6abbe073d5f3dd639d2b?s=128&d=identicon&r=PG", "display_name": "jbssm", "link": "https://stackoverflow.com/users/865662/jbssm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 31976522, "answer_count": 1, "score": 1, "last_activity_date": 1439419202, "creation_date": 1439417122, "question_id": 31976210, "link": "https://stackoverflow.com/questions/31976210/selecting-only-date-ranges-in-pandas-that-have-data-every-consecutive-minute", "title": "Selecting only date ranges in Pandas that have data every consecutive minute", "body": "<p>I'm trying to process some data in pandas that looks like this in the CSV:</p>\n\n<pre><code>2014.01.02,08:56,1.37549,1.37552,1.37549,1.37552,3\n2014.01.02,09:00,1.37562,1.37562,1.37545,1.37545,21\n2014.01.02,09:01,1.37545,1.37550,1.37542,1.37546,18\n2014.01.02,09:02,1.37546,1.37550,1.37546,1.37546,15\n2014.01.02,09:03,1.37546,1.37563,1.37546,1.37559,39\n2014.01.02,09:04,1.37559,1.37562,1.37555,1.37561,37\n2014.01.02,09:05,1.37561,1.37564,1.37558,1.37561,35\n2014.01.02,09:06,1.37561,1.37566,1.37558,1.37563,38\n2014.01.02,09:07,1.37563,1.37567,1.37561,1.37566,42\n2014.01.02,09:08,1.37570,1.37571,1.37564,1.37566,25\n</code></pre>\n\n<p>I imported it using:</p>\n\n<pre><code>raw_data = pd.read_csv('raw_data.csv', engine='c', header=None, index_col=0, names=['date', 'time', 'open', 'high', 'low', 'close', 'volume'], parse_dates=[[0,1]])\n</code></pre>\n\n<p>But now I want to extract some random (or even continuous) samples from the data, but only the ones where I have 5 consecutive minutes always with data. So, for instance, the data from <code>2014.01.02,08:56</code> can't be used because it has a gap. But the data from <code>2014.01.02,09:00</code> is ok because it has consecutive data always for the 5 next minutes.</p>\n\n<p>Any suggestions on how to accomplish this in a efficient way?</p>\n"}, {"tags": ["jquery", "python", "twitter-bootstrap"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 3934567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3921eb0566c79afa99d475e450bb28b?s=128&d=identicon&r=PG&f=1", "display_name": "Kharma", "link": "https://stackoverflow.com/users/3934567/kharma"}, "edited": false, "score": 0, "creation_date": 1439418314, "post_id": 31976274, "comment_id": 51859313, "body": "So in the flask post function set a variable to True (for example) and in the code if that is true change the html of the displayed page to make the specific tab the &quot;Active&quot; tab?   Am I understanding this correctly? If that is the case I don&#39;t see why I would have to use jquery for that (assuming it works)."}], "tags": [], "owner": {"reputation": 1056, "user_id": 3991407, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/BOmu7.jpg?s=128&g=1", "display_name": "Sorav Garg", "link": "https://stackoverflow.com/users/3991407/sorav-garg"}, "is_accepted": false, "score": 0, "last_activity_date": 1439417433, "creation_date": 1439417433, "answer_id": 31976274, "question_id": 31976203, "link": "https://stackoverflow.com/questions/31976203/redirect-to-a-specific-tab-on-submit-of-text-box-via-post-using-flask-bootstrap/31976274#31976274", "title": "Redirect to a specific tab on submit of text box via post using Flask/BootStrap/jquery", "body": "<p>after form submission redirect with unique keyword and put the condition in tab page if unique keyword is get then a particular tab class will be active and for this you have to use <code>jquery addClass() &amp; removeClass()</code> methods...</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3934567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3921eb0566c79afa99d475e450bb28b?s=128&d=identicon&r=PG&f=1", "display_name": "Kharma", "link": "https://stackoverflow.com/users/3934567/kharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1439419773, "creation_date": 1439419773, "answer_id": 31976700, "question_id": 31976203, "link": "https://stackoverflow.com/questions/31976203/redirect-to-a-specific-tab-on-submit-of-text-box-via-post-using-flask-bootstrap/31976700#31976700", "title": "Redirect to a specific tab on submit of text box via post using Flask/BootStrap/jquery", "body": "<p>I was able to figure this out (I just had to look at the problem a different way).</p>\n\n<p>Flask code didn't change.</p>\n\n<p>HTML Code did though:</p>\n\n<pre><code>&lt;div id=\"tabs\"&gt;\n\n  &lt;!-- Nav tabs --&gt;\n  &lt;ul class=\"nav nav-tabs\" style=\"width:98%\"&gt;\n    &lt;li role=\"presentation\" {% if pageType == \"remedy\" %} class=\"active\" {% endif %}&gt;&lt;a href=\"#open\" data-toggle=\"tab\" aria-controls=\"new\" role=\"tab\"&gt;Open Issues&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"#new\" data-toggle=\"tab\" aria-controls=\"reports\" role=\"tab\"&gt;New Issue&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\" {% if pageType == \"post\" %} class=\"active\" {% endif %}&gt;&lt;a href=\"#lookup\" data-toggle=\"tab\" aria-controls=\"incidents\" role=\"tab\"&gt;Lookup&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n\n  &lt;div class=\"tab-content\" style=\"width:98%\"&gt;\n  {% if pageType == \"post\" %}\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade\" id=\"open\"&gt;\n  {% else %}\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade in active\" id=\"open\"&gt;\n  {% endif %}\n\n        &lt;table class=\"table sortable\" align=\"center\" style=\"width:98%\"&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n        &lt;th data-defaultsort=\"asc\" width=\"10%\"&gt;&lt;center&gt;&lt;center&gt;Number&lt;/center&gt;&lt;/center&gt;&lt;/th&gt;\n        &lt;th width=\"50%\"&gt;&lt;center&gt;Subject&lt;/th&gt;\n        &lt;th width=\"10%\"&gt;&lt;center&gt;Owner&lt;/th&gt;\n        &lt;th width=\"15%\"&gt;&lt;center&gt;Updated&lt;/th&gt;\n        &lt;th width=\"15%\"&gt;&lt;center&gt;Created&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        {% for content in array %}\n        &lt;tr&gt;\n        &lt;td align=\"center\" width=\"10%\"&gt;{{ content['number'] }}&lt;/a&gt;&lt;/td&gt;\n        &lt;td align=\"center\" width=\"50%\"&gt;{{ content.Description }}&lt;/td&gt;\n        &lt;td align=\"center\" width=\"10%\"&gt;{{ content['ID'] }} &lt;/td&gt;\n        &lt;td&gt; blank&lt;/td&gt;\n        &lt;td&gt; blank&lt;/td&gt;\n        &lt;/tr&gt;\n        {% endfor %}\n        &lt;/tbody&gt;\n        &lt;/table&gt;\n\n    &lt;/div&gt;\n    {% if pageType == \"post\" %}\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade in active\" id=\"lookup\"&gt;\n         &lt;p&gt; This should be the redirect page&lt;/p&gt;\n    {% else  %}\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade\" id=\"lookup\"&gt;\n        {% if pagetype == \"post\" %}\n                &lt;p&gt; This should be the redirect page&lt;/p&gt;\n        {% else  %}\n                &lt;form method=\"post\"&gt;\n                &lt;div class=\"form-group col-xs-3\"&gt;\n                  &lt;label for=\"incident\"&gt;Incident Lookup&lt;/label&gt;\n                  &lt;input type=\"text\" id=\"lookup1\" name=\"incident\" placeholder=\"Incident Number\"&gt;\n                &lt;/div&gt;\n                &lt;button type=\"submit\" class=\"btn btn-default\"&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n        {% endif %}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This may not be the most elegant way to solve this problem but it works. If you have a solution you feel would be better please feel free to suggest.</p>\n"}], "owner": {"reputation": 21, "user_id": 3934567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3921eb0566c79afa99d475e450bb28b?s=128&d=identicon&r=PG&f=1", "display_name": "Kharma", "link": "https://stackoverflow.com/users/3934567/kharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1500, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1439419773, "creation_date": 1439417096, "last_edit_date": 1495541245, "question_id": 31976203, "link": "https://stackoverflow.com/questions/31976203/redirect-to-a-specific-tab-on-submit-of-text-box-via-post-using-flask-bootstrap", "title": "Redirect to a specific tab on submit of text box via post using Flask/BootStrap/jquery", "body": "<p>I am writing a webpage that contains 3 tabs on it. Tab 1 is the primary active tab. Tab 3 has Text box/Submit button pair. When I select the submit button on Tab 3 it redirects me to Tab 1. I need to get this to redirect me back to Tab 3.</p>\n\n<p>I have attempted to utilize solutions like the following:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/30972042/how-to-redirect-to-a-specific-tab-using-jquery\">How to redirect to a specific tab using jquery</a></p>\n\n<p>However, due to the way that Flask (which is the server I am using) performs template rendering it errors on me when I utilize the suggested solution saying that /page#tab3 is not a valid page (I can provide the actual error if that will help after I clean it up).</p>\n\n<p>Here is the code I am using for the submission of the text (html page):</p>\n\n<pre><code>&lt;div id=\"tabs\"&gt;\n\n  &lt;!-- Nav tabs --&gt;\n  &lt;ul class=\"nav nav-tabs\" style=\"width:98%\"&gt;\n    &lt;li role=\"presentation\" class=\"active\"&gt;&lt;a href=\"#open\" data-toggle=\"tab\" aria-controls=\"new\" role=\"tab\"&gt;Open Issues&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"#new\" data-toggle=\"tab\" aria-controls=\"reports\" role=\"tab\"&gt;New Issue&lt;/a&gt;&lt;/li&gt;\n    &lt;li role=\"presentation\"&gt;&lt;a href=\"#lookup\" data-toggle=\"tab\" aria-controls=\"incidents\" role=\"tab\"&gt;Lookup&lt;/a&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n\n  &lt;div class=\"tab-content\" style=\"width:98%\"&gt;\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade in active\" id=\"open\"&gt;\n\n        &lt;table class=\"table sortable\" align=\"center\" style=\"width:98%\"&gt;\n        &lt;thead&gt;\n        &lt;tr&gt;\n        &lt;th data-defaultsort=\"asc\" width=\"10%\"&gt;&lt;center&gt;&lt;center&gt;Number&lt;/center&gt;&lt;/center&gt;&lt;/th&gt;\n        &lt;th width=\"50%\"&gt;&lt;center&gt;Subject&lt;/th&gt;\n        &lt;th width=\"10%\"&gt;&lt;center&gt;Owner&lt;/th&gt;\n        &lt;th width=\"15%\"&gt;&lt;center&gt;Updated&lt;/th&gt;\n        &lt;th width=\"15%\"&gt;&lt;center&gt;Created&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;/thead&gt;\n        &lt;tbody&gt;\n        {% for content in array %}\n        &lt;tr&gt;\n        &lt;td align=\"center\" width=\"10%\"&gt;{{ content['number'] }}&lt;/a&gt;&lt;/td&gt;\n        &lt;td align=\"center\" width=\"50%\"&gt;{{ content.Description }}&lt;/td&gt;\n        &lt;td align=\"center\" width=\"10%\"&gt;{{ content['ID'] }} &lt;/td&gt;\n        &lt;td&gt; blank&lt;/td&gt;\n        &lt;td&gt; blank&lt;/td&gt;\n        &lt;/tr&gt;\n        {% endfor %}\n        &lt;/tbody&gt;\n        &lt;/table&gt;\n\n    &lt;/div&gt;\n    &lt;div role=\"tabpanel\" class=\"tab-pane fade\" id=\"lookup\"&gt;\n        {% if pagetype == \"post\" %}\n                &lt;p&gt; This should be the redirect page&lt;/p&gt;\n        {% else  %}\n                &lt;form method=\"post\"&gt;\n                &lt;div class=\"form-group col-xs-3\"&gt;\n                  &lt;label for=\"incident\"&gt;Incident Lookup&lt;/label&gt;\n                  &lt;input type=\"text\" id=\"lookup1\" name=\"incident\" placeholder=\"Incident Number\"&gt;\n                &lt;/div&gt;\n                &lt;button type=\"submit\" class=\"btn btn-default\"&gt;Submit&lt;/button&gt;\n                &lt;/form&gt;\n        {% endif %}\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Below is the Javascipt that I am importing:</p>\n\n<pre><code>&lt;script type = \"text/javascript\" src=\"/static/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script type = \"text/javascript\" src=\"/static/jquery.js\"&gt;&lt;/script&gt;\n&lt;script type = \"text/javascript\" src=\"/static/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script type = \"text/javascript\" src=\"/static/bootstrap.js\"&gt;&lt;/script&gt;\n&lt;script type = \"text/javascript\" src=\"/static/bootstrap-sortable.js\"&lt;/script&gt;\n</code></pre>\n\n<p>Here are the contents of the Flask Server that is relevant to this issue (cleaned of course):</p>\n\n<pre><code>@app.route(\"/page\", methods=['GET', 'POST'])\n@requires_auth\ndef page():\n        pageType=\"issue\"\n        title = \"Issue\"\n        issues = []\n        issues_open = db.issues_open\n        for post in issues_open.find():\n                issues.append(post.copy())\n\n        if request.method == 'POST':\n                id = request.form['incident']\n                app.logger.debug(id)\n                pagetype=\"post\"\n                return render_template(\"page.html\", id=id, pagetype=pagetype)\n\n        return render_template(\"page.html\", pageType=pageType, open_issues=issues, title=title)\n</code></pre>\n\n<p>If any more information or context is needed I am more than willing to provide but this should be enough to get the conversation started.</p>\n"}, {"tags": ["python", "python-asyncio"], "answers": [{"tags": [], "owner": {"reputation": 77965, "user_id": 2073595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ugcXJ.jpg?s=128&g=1", "display_name": "dano", "link": "https://stackoverflow.com/users/2073595/dano"}, "is_accepted": true, "score": 3, "last_activity_date": 1439429628, "creation_date": 1439429628, "answer_id": 31978098, "question_id": 31976190, "link": "https://stackoverflow.com/questions/31976190/fire-and-forget-task-in-asyncio/31978098#31978098", "title": "Fire and forget task in asyncio", "body": "<p>You're looking for <a href=\"https://docs.python.org/3/library/asyncio-task.html#asyncio.ensure_future\" rel=\"nofollow\"><code>asyncio.ensure_future</code></a> (or <code>asyncio.async</code> if your version of <code>trollius</code>/<code>asyncio</code> is too old to have <code>ensure_future</code>):</p>\n\n<pre><code>from __future__ import print_function\n\nimport trollius as asyncio\nfrom trollius import From\n\n@asyncio.coroutine\ndef f():\n    yield From(asyncio.sleep(1))\n    print(\"world!\")\n\n@asyncio.coroutine\ndef g():\n    asyncio.ensure_future(f())\n    print(\"Hello, \", end='')\n    yield From(asyncio.sleep(2))\n\nloop = asyncio.get_event_loop()\nloop.run_until_complete(g())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Hello, world!\n</code></pre>\n"}], "owner": {"reputation": 47893, "user_id": 616616, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/8749ec52cee260c4c1f67f2dec29d957?s=128&d=identicon&r=PG", "display_name": "MRocklin", "link": "https://stackoverflow.com/users/616616/mrocklin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1622, "favorite_count": 0, "accepted_answer_id": 31978098, "answer_count": 1, "score": 3, "last_activity_date": 1439429999, "creation_date": 1439417046, "last_edit_date": 1439429999, "question_id": 31976190, "link": "https://stackoverflow.com/questions/31976190/fire-and-forget-task-in-asyncio", "title": "Fire and forget task in asyncio", "body": "<p>When using Python's <code>asyncio</code> library, how can I fire off a task and then not care about its completion?</p>\n\n<h2>Example</h2>\n\n<pre><code>@asyncio.coroutine\ndef f():\n    yield From(asyncio.sleep(1))\n    print(\"world!\")\n\n@asyncio.coroutine\ndef g():\n    desired_operation(f())\n    print(\"Hello, \")\n    yield From(asyncio.sleep(2))\n\n&gt;&gt;&gt; loop.run_until_complete(g())\n'Hello, world!'\n</code></pre>\n"}, {"tags": ["python", "regex", "lua", "redis"], "comments": [{"owner": {"reputation": 5502, "user_id": 1664657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NaqGM.jpg?s=128&g=1", "display_name": "Ionut Hulub", "link": "https://stackoverflow.com/users/1664657/ionut-hulub"}, "edited": false, "score": 0, "creation_date": 1439417072, "post_id": 31976119, "comment_id": 51858919, "body": "perhaps it takes a regex. try <code>google:.*</code>"}, {"owner": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "edited": false, "score": 0, "creation_date": 1439417747, "post_id": 31976119, "comment_id": 51859129, "body": "This gives me the following error ResponseError: @user_script: 2: Lua redis() command arguments must be strings or integers"}], "answers": [{"comments": [{"owner": {"reputation": 39563, "user_id": 3160475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd8989da0a2c491338617b07df53e60c?s=128&d=identicon&r=PG", "display_name": "Itamar Haber", "link": "https://stackoverflow.com/users/3160475/itamar-haber"}, "edited": false, "score": 3, "creation_date": 1439450246, "post_id": 31977295, "comment_id": 51869028, "body": "This is the correct answer, <b>however</b> - using <code>KEYS</code> is probably the worst thing you can do with Redis. IMO the OP needs to rethink his approach."}, {"owner": {"reputation": 19878, "user_id": 556573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/az7kz.png?s=128&g=1", "display_name": "elithrar", "link": "https://stackoverflow.com/users/556573/elithrar"}, "edited": false, "score": 0, "creation_date": 1439790720, "post_id": 31977295, "comment_id": 51987097, "body": "Look at SCAN, which is designed for searching/matching keys: <a href=\"http://redis.io/commands/scan\" rel=\"nofollow noreferrer\">redis.io/commands/scan</a>"}, {"owner": {"reputation": 3864, "user_id": 1619619, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/RfqeC.png?s=128&g=1", "display_name": "Mwirabua Tim", "link": "https://stackoverflow.com/users/1619619/mwirabua-tim"}, "edited": false, "score": 1, "creation_date": 1474032305, "post_id": 31977295, "comment_id": 66379542, "body": "You would be more useful if you can demonstrate how to use scan to solve his problem"}], "tags": [], "owner": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1439485178, "last_edit_date": 1439485178, "creation_date": 1439423462, "answer_id": 31977295, "question_id": 31976119, "link": "https://stackoverflow.com/questions/31976119/getting-all-the-values-matching-a-key-pattern-from-redis-through-lua/31977295#31977295", "title": "Getting all the values matching a key pattern from redis through Lua", "body": "<p>I think that I have found what I was missing</p>\n\n<p>Instead of GET I should have passed KEYS as first argument of the initial redis.call and then iterate over the keys to get the values</p>\n\n<pre><code>get_script = \"\"\"\nlocal keys = (redis.call('keys', ARGV[1]))\nlocal values={}  \n\nfor i,key in ipairs(keys) do \n    local val = redis.call('GET', key)\n    values[i]=val\n    i=i+1\nend\n\nreturn values\n\"\"\"\nget_values = rc.register_script(get_script)\n\nprint get_values(args=['google:*'])\n</code></pre>\n"}], "owner": {"reputation": 2062, "user_id": 399111, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/59ec67ecc4c11d01cb34de124f9fc278?s=128&d=identicon&r=PG", "display_name": "MARK", "link": "https://stackoverflow.com/users/399111/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4882, "favorite_count": 0, "accepted_answer_id": 31977295, "answer_count": 1, "score": 3, "last_activity_date": 1439485178, "creation_date": 1439416692, "last_edit_date": 1439417889, "question_id": 31976119, "link": "https://stackoverflow.com/questions/31976119/getting-all-the-values-matching-a-key-pattern-from-redis-through-lua", "title": "Getting all the values matching a key pattern from redis through Lua", "body": "<p>I am trying to find all the keys and their values matching a specific pattern using py-redis and lua and here is my code</p>\n\n<pre><code>rc = redis.Redis(..)\n\nrc.set('google:',100)\nrc.set('google:3',200)\nrc.set('google:2',3400)\nrc.set('google',200)\nrc.set('fb',300)\n\n\nget_script = \"\"\"\nlocal value = redis.call('GET', KEYS[1])\nreturn value\n\"\"\"\nget_values = rc.register_script(get_script)\n\nprint get_values(rc.keys(pattern='google:*'))\n\nprint get_values(keys=['google:'])\nprint get_values(keys=['google:*'])\n</code></pre>\n\n<p>The output that I am getting is </p>\n\n<pre><code>100\n100\nNone\n</code></pre>\n\n<p>First of all I do not get why I am getting None for the last print statement. My original purpose is to get all the keys ( and their values) matching the pattern but I am only getting the first key</p>\n"}, {"tags": ["python", "function", "class", "inheritance", "overloading"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 5136621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f358dfa0804e3d9371b7f0e8b89e5622?s=128&d=identicon&r=PG&f=1", "display_name": "pystudent", "link": "https://stackoverflow.com/users/5136621/pystudent"}, "edited": false, "score": 0, "creation_date": 1439416824, "post_id": 31976094, "comment_id": 51858818, "body": "Thank you for the quick response! I&#39;ll give this one a try. I can&#39;t see how I can use it to do the second example I gave though (the timing example), any help on that one?"}, {"owner": {"reputation": 5502, "user_id": 1664657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NaqGM.jpg?s=128&g=1", "display_name": "Ionut Hulub", "link": "https://stackoverflow.com/users/1664657/ionut-hulub"}, "reply_to_user": {"reputation": 351, "user_id": 5136621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f358dfa0804e3d9371b7f0e8b89e5622?s=128&d=identicon&r=PG&f=1", "display_name": "pystudent", "link": "https://stackoverflow.com/users/5136621/pystudent"}, "edited": false, "score": 0, "creation_date": 1439416940, "post_id": 31976094, "comment_id": 51858872, "body": "Methods shouldn&#39;t time themselves. Whatever calls run should time it. You could make a method <code>run</code> that just times the execution and call <code>_run</code> and then have all the login in <code>_run</code>."}, {"owner": {"reputation": 351, "user_id": 5136621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f358dfa0804e3d9371b7f0e8b89e5622?s=128&d=identicon&r=PG&f=1", "display_name": "pystudent", "link": "https://stackoverflow.com/users/5136621/pystudent"}, "edited": false, "score": 0, "creation_date": 1439417597, "post_id": 31976094, "comment_id": 51859085, "body": "@lonut Thank you, that helped me a lot!"}], "tags": [], "owner": {"reputation": 5502, "user_id": 1664657, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/NaqGM.jpg?s=128&g=1", "display_name": "Ionut Hulub", "link": "https://stackoverflow.com/users/1664657/ionut-hulub"}, "is_accepted": false, "score": 1, "last_activity_date": 1439416616, "creation_date": 1439416616, "answer_id": 31976094, "question_id": 31976044, "link": "https://stackoverflow.com/questions/31976044/partial-function-overload-in-python/31976094#31976094", "title": "partial function overload in python", "body": "<p>Interfaces are not supposed to implemet code but in python there are no real interfaces so it doesn't matter.</p>\n\n<p>You can put <code>var = get_var()</code> in the base class (<code>Abs</code>) and then the other two method would look like this:</p>\n\n<pre><code>def run(self, var):\n  super(Sub1, self).run(var)\n  # Sub1 run\n\ndef run(self, var):\n  super(Sub2, self).run(var)\n  # Sub2 run\n</code></pre>\n\n<p><code>super()</code> will call the code in the base class (the \"interface\")</p>\n"}, {"comments": [{"owner": {"reputation": 351, "user_id": 5136621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f358dfa0804e3d9371b7f0e8b89e5622?s=128&d=identicon&r=PG&f=1", "display_name": "pystudent", "link": "https://stackoverflow.com/users/5136621/pystudent"}, "edited": false, "score": 0, "creation_date": 1439422406, "post_id": 31976241, "comment_id": 51860497, "body": "Thank you, that&#39;s what I&#39;ve ended up doing."}], "tags": [], "owner": {"reputation": 5908, "user_id": 2442613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c872ea7055801788bec55c7703b96d88?s=128&d=identicon&r=PG", "display_name": "Paul Cornelius", "link": "https://stackoverflow.com/users/2442613/paul-cornelius"}, "is_accepted": true, "score": 1, "last_activity_date": 1439417314, "creation_date": 1439417314, "answer_id": 31976241, "question_id": 31976044, "link": "https://stackoverflow.com/questions/31976044/partial-function-overload-in-python/31976241#31976241", "title": "partial function overload in python", "body": "<p>Write the common part and put it in a new method in the base class.  Consider giving it a name beginning with an underscore (the Python equivalent of protected access).  Call if from each place that needs it.</p>\n\n<pre><code>class Abs(object):\n    def run(self, var):\n        raise NotImplementedError\n\n    def _common_things(self,var):\n        pass\n\nclass Sub1(Abs):\n    def run(self, var):\n        self._common_things(var)\n        # etc\n\nclass Sub2(Abs):\n    def run(self, var):\n        self._common_things(var)\n        # etc\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 5136621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f358dfa0804e3d9371b7f0e8b89e5622?s=128&d=identicon&r=PG&f=1", "display_name": "pystudent", "link": "https://stackoverflow.com/users/5136621/pystudent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 157, "favorite_count": 0, "accepted_answer_id": 31976241, "answer_count": 2, "score": 0, "last_activity_date": 1439417314, "creation_date": 1439416389, "last_edit_date": 1439416830, "question_id": 31976044, "link": "https://stackoverflow.com/questions/31976044/partial-function-overload-in-python", "title": "partial function overload in python", "body": "<p>I wasn't sure how to name the title, so if anyone knows the specific name, please correct me.\nHere is my situation:</p>\n\n<pre><code>class Abs(object):\n    def run(self, var):\n        raise NotImplementedError\nclass Sub1(Abs):\n    def run(self, var):\n        var = get_var()\n        # Sub1 RUN\nclass Sub2(Abs):\n    def run(self, var):\n        var = get_var()\n        #Sub2 RUN\n</code></pre>\n\n<p>So as you can see I have to classes that inherit from the \"interface\" class and both have different run function. Even though some of the run functions are different between the two, there is some similar code. (as you can see in the example) Is there any way to write the common part in the \"interface\" class in order to not repeat it twice?</p>\n"}, {"tags": ["python", "xml", "parsing", "xml-parsing", "elementtree"], "comments": [{"owner": {"reputation": 1783, "user_id": 4258817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce01d19d8cdcbd8f2fe04627e6109c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mousey", "link": "https://stackoverflow.com/users/4258817/mousey"}, "edited": false, "score": 0, "creation_date": 1439416473, "post_id": 31976007, "comment_id": 51858692, "body": "it is complaining about line 2, position 15, which is the filename <b>country_data.xml</b>"}, {"owner": {"reputation": 11, "user_id": 5166918, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155856107990224/picture?type=large", "display_name": "Sophie Su", "link": "https://stackoverflow.com/users/5166918/sophie-su"}, "reply_to_user": {"reputation": 1783, "user_id": 4258817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce01d19d8cdcbd8f2fe04627e6109c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mousey", "link": "https://stackoverflow.com/users/4258817/mousey"}, "edited": false, "score": 0, "creation_date": 1439416942, "post_id": 31976007, "comment_id": 51858874, "body": "but I had no problems with line 2 until I tried using the for loop.."}, {"owner": {"reputation": 1783, "user_id": 4258817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce01d19d8cdcbd8f2fe04627e6109c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mousey", "link": "https://stackoverflow.com/users/4258817/mousey"}, "edited": false, "score": 0, "creation_date": 1439420974, "post_id": 31976007, "comment_id": 51860108, "body": "the loop was when you began using the content of the file, see my answer below"}, {"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1439449224, "post_id": 31976007, "comment_id": 51868403, "body": "The <code>&lt;&#47;svg&gt;</code> end tag is missing in the XML. But with that fixed, I am unable to reproduce the error in the question."}], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 1243457, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/YTIlN.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1243457/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1439420173, "last_edit_date": 1439420173, "creation_date": 1439418683, "answer_id": 31976520, "question_id": 31976007, "link": "https://stackoverflow.com/questions/31976007/python-element-tree-xml-parser-how-can-i-iterate-the-children-nodes-to-alter-th/31976520#31976520", "title": "Python Element Tree xml parser: how can I iterate the children nodes to alter the attribute?", "body": "<p>I tried your XML file and I had a problem that it is not valid XML.\n<code>&lt;svg&gt;</code> miss <code>&lt;/svg&gt;</code> element or just <code>&lt;svg ... /&gt;</code></p>\n\n<p>It makes different error message, but I can't see anything wrong with your code, which also works for me.</p>\n"}, {"comments": [{"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1439457780, "post_id": 31976916, "comment_id": 51873537, "body": "<i>and you can see the <code>&lt;?xml version</code> line must come first.</i> If present in an XML document, it must come first. But it can be left out. It is not mandatory. It is not clear how to reproduce the error in the question, but it is not caused by a missing XML declaration."}, {"owner": {"reputation": 11, "user_id": 5166918, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155856107990224/picture?type=large", "display_name": "Sophie Su", "link": "https://stackoverflow.com/users/5166918/sophie-su"}, "edited": false, "score": 0, "creation_date": 1439493338, "post_id": 31976916, "comment_id": 51897183, "body": "I have tried the tutorial again and I got the same syntax error at line 1, position 1. The &quot;&lt;?xml version&quot; line is present so I&#39;m not really sure where I&#39;m going wrong. I am using Wing to parse the document. Is it better to use sublime text?"}, {"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "reply_to_user": {"reputation": 11, "user_id": 5166918, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155856107990224/picture?type=large", "display_name": "Sophie Su", "link": "https://stackoverflow.com/users/5166918/sophie-su"}, "edited": false, "score": 0, "creation_date": 1439630905, "post_id": 31976916, "comment_id": 51948343, "body": "@SophieSu: Please ensure that the question includes everything needed to reproduce the problem. People seem to be unable to do just that, so something is missing. See <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>."}], "tags": [], "owner": {"reputation": 1783, "user_id": 4258817, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cce01d19d8cdcbd8f2fe04627e6109c3?s=128&d=identicon&r=PG&f=1", "display_name": "Mousey", "link": "https://stackoverflow.com/users/4258817/mousey"}, "is_accepted": false, "score": 0, "last_activity_date": 1439420941, "creation_date": 1439420941, "answer_id": 31976916, "question_id": 31976007, "link": "https://stackoverflow.com/questions/31976007/python-element-tree-xml-parser-how-can-i-iterate-the-children-nodes-to-alter-th/31976916#31976916", "title": "Python Element Tree xml parser: how can I iterate the children nodes to alter the attribute?", "body": "<p>The problem is your 'XML' file.  </p>\n\n<p>I presume you were looking at <a href=\"https://docs.python.org/2/library/xml.etree.elementtree.html\" rel=\"nofollow\">this tutorial</a>  -  see how this XML file looks:</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;data&gt;\n &lt;country name=\"Liechtenstein\"&gt;\n    &lt;rank&gt;1&lt;/rank&gt;\n    &lt;year&gt;2008&lt;/year&gt;\n    &lt;gdppc&gt;141100&lt;/gdppc&gt;\n    &lt;neighbor name=\"Austria\" direction=\"E\"/&gt;\n    &lt;neighbor name=\"Switzerland\" direction=\"W\"/&gt;\n &lt;/country&gt;\n &lt;country name=\"Singapore\"&gt;\n    &lt;rank&gt;4&lt;/rank&gt;\n    &lt;year&gt;2011&lt;/year&gt;\n    &lt;gdppc&gt;59900&lt;/gdppc&gt;\n    &lt;neighbor name=\"Malaysia\" direction=\"N\"/&gt;\n &lt;/country&gt;\n &lt;country name=\"Panama\"&gt;\n    &lt;rank&gt;68&lt;/rank&gt;\n    &lt;year&gt;2011&lt;/year&gt;\n    &lt;gdppc&gt;13600&lt;/gdppc&gt;\n    &lt;neighbor name=\"Costa Rica\" direction=\"W\"/&gt;\n    &lt;neighbor name=\"Colombia\" direction=\"E\"/&gt;\n &lt;/country&gt;\n&lt;/data&gt;\n</code></pre>\n\n<p>The first line in the file declares the type, stating which XML version it is <code>&lt;?xml version=\"1.0\"?&gt;</code></p>\n\n<p>Your file begins by stating it is an SVG graphics file: </p>\n\n<pre><code>&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"\n</code></pre>\n\n<p>Compare it with <a href=\"http://redsymbol.net/articles/svg-markup-chomsky/\" rel=\"nofollow\">this example</a> and you can see the <code>&lt;?xml version</code> line must come first.</p>\n\n<p>Since you are just starting out it might be best to complete the tutorial you are using with the data provided, then once it works adapt it to your file.</p>\n"}], "owner": {"reputation": 11, "user_id": 5166918, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155856107990224/picture?type=large", "display_name": "Sophie Su", "link": "https://stackoverflow.com/users/5166918/sophie-su"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 304, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1439420941, "creation_date": 1439416246, "question_id": 31976007, "link": "https://stackoverflow.com/questions/31976007/python-element-tree-xml-parser-how-can-i-iterate-the-children-nodes-to-alter-th", "title": "Python Element Tree xml parser: how can I iterate the children nodes to alter the attribute?", "body": "<p>I was given an XML file and was asked to change the fill color. I've been trying out Element Tree and every time I tried accessing the nodes, I kept getting a syntax error. I've copied the XML file I need to parse below and then what I need to change in the code below that:</p>\n\n<pre><code>&lt;!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\" \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\"&gt;\n&lt;svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" width=\"300px\"\n height=\"300px\" viewBox=\"0 0 300 300\" enable-background=\"new 0 0 300 300\" xml:space=\"preserve\"&gt;\n&lt;g id=\"Shapes\"&gt;\n&lt;g id=\"RootTip\"&gt;\n    &lt;path fill=\"none\" d=\"M98.178,143.456l112.03-0.079l-5.458,56.235c0,0-1.472,7.203-2.704,7.552s1.086,1.377,1.086,1.377\n        l-2.537,12.993l1.751,0.441l-5.252,13.787c0,0,0,6.126,0.219,7.658S196,244.079,196,244.079s-6.784,13.565-8.097,14.879\n        s-9.846,8.752-11.597,9.628s-10.941,4.158-10.941,4.158l0.209,1.312L159,273.619V275c0,0-13.547,1.683-17.486-0.943\n        s-12.035-7.439-14.879-10.284s-10.722-13.13-12.254-17.287s-7.44-18.38-7.002-20.568s1.094-3.501,1.094-3.501l-3.282-12.254\n        l-3.72-32.386l-0.875-5.688l-0.875-9.409L98.178,143.456z\"/&gt;\n    &lt;/g&gt;\n&lt;/g&gt;\n</code></pre>\n\n<p>I need to change the path fill to any color such as \"blue\" or \"red\". </p>\n\n<p>I used the tutorial online and tried doing this as my first step:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\ntree = ET.parse('country_data.xml')\nroot = tree.getroot()\nfor child in root:\n    print child.tag, child.attrib \n</code></pre>\n\n<p>However, I kept getting this syntax message??! </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"&lt;string&gt;\", line 2, in &lt;fragment&gt;\nSyntax Error: print child.tag, child.attrib: &lt;string&gt;, line 2, pos 15\n</code></pre>\n\n<p>Does anyone have any idea how I can fix this problem? I'm new to programming so any feedback would be much appreciated. Thank you! </p>\n"}, {"tags": ["python", "facebook"], "comments": [{"owner": {"reputation": 1550, "user_id": 568414, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/763ca5268736d60f00b78db10bb7b778?s=128&d=identicon&r=PG", "display_name": "Ofear", "link": "https://stackoverflow.com/users/568414/ofear"}, "edited": false, "score": 0, "creation_date": 1439416326, "post_id": 31975975, "comment_id": 51858639, "body": "I&#39;m not sure if it still like this... But... 2 years ago I had to do a server request to Facebook API with the short life token for extending it to 60 days. They had an API for token extending requests."}, {"owner": {"reputation": 81732, "user_id": 1427878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5fbf44c0eeeaf38c4e4a54ce9eff7a?s=128&d=identicon&r=PG&f=1", "display_name": "CBroe", "link": "https://stackoverflow.com/users/1427878/cbroe"}, "edited": false, "score": 1, "creation_date": 1439460322, "post_id": 31975975, "comment_id": 51875194, "body": "If your SDK doesn\u2019t provide a ready-made method for this, it is easy enough to implement yourself \u2013 <a href=\"https://developers.facebook.com/docs/facebook-login/access-tokens#extending\" rel=\"nofollow noreferrer\">developers.facebook.com/docs/facebook-login/&hellip;</a> describes what steps are necessary to extend an access token."}], "owner": {"reputation": 817, "user_id": 493643, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3j3zP.jpg?s=128&g=1", "display_name": "bhavinp", "link": "https://stackoverflow.com/users/493643/bhavinp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 100, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439416085, "creation_date": 1439416085, "question_id": 31975975, "link": "https://stackoverflow.com/questions/31975975/how-do-i-obtain-a-long-lived-user-token-using-the-facebook-python-sdk", "title": "How do I obtain a Long-lived User Token using the Facebook Python SDK?", "body": "<p>How do I obtain a Long-lived User Token using the Facebook Python SDK? I'm currently copying and pasting the User Token from the page <a href=\"https://developers.facebook.com/tools/accesstoken/\" rel=\"nofollow\">https://developers.facebook.com/tools/accesstoken/</a> but I would like to be able to obtain the User Token programatically using the Facebook Python SDK using ONLY Code. I don't want to have a dialog box because I'm making a server-to-server request.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1439415917, "post_id": 31975921, "comment_id": 51858504, "body": "But you used a different regex. You removed the 1st group. That is the reason. <a href=\"https://regex101.com/r/mS8zN4/3\" rel=\"nofollow noreferrer\">Revert it</a>. Is <code>([\\dt])(_\\d+)\\.</code> what you need? Also, you need <code>search</code>."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1439416080, "post_id": 31975921, "comment_id": 51858558, "body": "From the Pythex output, it looks like the matches occur in the middle of the strings. <code>re.match()</code> only returns a result if it occurs <i>at the beginning of the string</i>."}, {"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1439416203, "post_id": 31975921, "comment_id": 51858601, "body": "@stribizhev fixed. I had tried several variations. This variation returns nothing in the Python program but still works in pythex"}, {"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439416223, "post_id": 31975921, "comment_id": 51858609, "body": "@TigerhawkT3 I also tried <code>search</code> but that doesn&#39;t work either. Nothing is returned"}, {"owner": {"reputation": 954, "user_id": 4181692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EhyWX.png?s=128&g=1", "display_name": "Renae Lider", "link": "https://stackoverflow.com/users/4181692/renae-lider"}, "edited": false, "score": 0, "creation_date": 1439416457, "post_id": 31975921, "comment_id": 51858689, "body": "Use <code>re.search</code> instead of <code>re.match</code>."}, {"owner": {"reputation": 23445, "user_id": 416224, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/8dc3ac9987d21288deea853f47d8dd6e?s=128&d=identicon&r=PG&f=1", "display_name": "kay", "link": "https://stackoverflow.com/users/416224/kay"}, "edited": false, "score": 0, "creation_date": 1439416568, "post_id": 31975921, "comment_id": 51858721, "body": "@BobDylan, then you did not post your actual code. You code works as expected: <a href=\"http://ideone.com/u4QFuW\" rel=\"nofollow noreferrer\">ideone.com/u4QFuW</a>"}, {"owner": {"reputation": 954, "user_id": 4181692, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/EhyWX.png?s=128&g=1", "display_name": "Renae Lider", "link": "https://stackoverflow.com/users/4181692/renae-lider"}, "edited": false, "score": 0, "creation_date": 1439416919, "post_id": 31975921, "comment_id": 51858863, "body": "Try this regex <code>([\\dt])+(_\\d+)\\.</code> to match the ones that has the character <code>t</code> in them. (as shown in that screenshot)"}, {"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417169, "post_id": 31975921, "comment_id": 51858950, "body": "Turns out my real error had nothing to do with regex, but got it working now. Arg... -- thank you everyone"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 2, "creation_date": 1439417304, "post_id": 31975921, "comment_id": 51858994, "body": "Voting to close due to CNR."}], "answers": [{"comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 1, "creation_date": 1439416349, "post_id": 31976000, "comment_id": 51858649, "body": "@BobDylan, that code right there gives that output right there. Paste it directly into a script and run it."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439416949, "post_id": 31976000, "comment_id": 51858876, "body": "@BobDylan, I see you accepted the answer.. did you get it working? What was the issue?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417070, "post_id": 31976000, "comment_id": 51858918, "body": "@BobDylan, what was it, just out of curiosity? Plus someone else could run into the same issue."}, {"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417103, "post_id": 31976000, "comment_id": 51858929, "body": "In the actual code, I pass a file containing a file name on each line to a function that does this. I simply passed the filename rather than a handle to the open file, so it just searched the filename string and of course found nothing. I am an idiot. Sorry for wasting your time. I do appreciate the help, though"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417312, "post_id": 31976000, "comment_id": 51858997, "body": "In that case it probably would have tried each character in the filename separately. No problem, it&#39;s not a waste of time; the <code>re.match()</code> versus <code>re.search()</code> issue was real :). But as an aside, that&#39;s why it&#39;s good to show your <i>actual</i> code as much as you can, and not just something that is &quot;equivalent&quot; :P."}], "tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": true, "score": 8, "last_activity_date": 1439416735, "last_edit_date": 1439416735, "creation_date": 1439416201, "answer_id": 31976000, "question_id": 31975921, "link": "https://stackoverflow.com/questions/31975921/regex-works-fine-on-pythex-but-not-in-python/31976000#31976000", "title": "Regex works fine on Pythex, but not in Python", "body": "<p>You need to use <code>re.search()</code>, not <code>re.match()</code>. <code>re.search()</code> matches anywhere in the string, whereas <code>re.match()</code> matches only at the beginning.</p>\n\n<pre><code>import re\n\nfn_list = ['IMG_0064.png',\n           'IMG_0064.JPG',\n           'IMG_0064_1.JPG',\n           'IMG_0064_2.JPG',\n           'IMG_0064_2.PNG',\n           'IMG_0064_2.BMP',\n           'IMG_0064_3.JPEG',\n           'IMG_0065.JPG',\n           'IMG_0065.JPEG',\n           'IMG-20150623-00176-preview-left.jpg',\n           'IMG-20150623-00176-preview-left_2.jpg',\n           'thumb_2595.bmp',\n           'thumb_2595_1.bmp',\n           'thumb_2595_15.bmp']\n\npattern = re.compile(r'(\\d|t)(_\\d+){1}\\.', re.IGNORECASE)\n\nfor line in fn_list:\n    search_obj = re.search(pattern, line)  # CHANGED HERE\n    if search_obj:\n        matching_group = search_obj.groups()\n        print matching_group\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>('4', '_1')\n('4', '_2')\n('4', '_2')\n('4', '_2')\n('4', '_3')\n('t', '_2')\n('5', '_1')\n('5', '_15')\n</code></pre>\n\n<p>Since you are compiling the regular expression, you can do <code>search_obj = pattern.search(line)</code> instead of <code>search_obj = re.search(pattern, line)</code>. As for your regular expression itself, <code>r'([\\dt])(_\\d+)\\.'</code> is equivalent to the one you're using, and a bit cleaner.</p>\n"}, {"comments": [{"owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417423, "post_id": 31976010, "comment_id": 51859027, "body": "thank you, I upvoted but because I&#39;m a peon it doesn&#39;t show my vote"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "edited": false, "score": 0, "creation_date": 1439417544, "post_id": 31976010, "comment_id": 51859068, "body": ":) I hope my regex explanation was of help from the very beginning. When you get more rep, you can always come back and upvote."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": false, "score": 1, "last_activity_date": 1439416873, "last_edit_date": 1439416873, "creation_date": 1439416254, "answer_id": 31976010, "question_id": 31975921, "link": "https://stackoverflow.com/questions/31975921/regex-works-fine-on-pythex-but-not-in-python/31976010#31976010", "title": "Regex works fine on Pythex, but not in Python", "body": "<p>You need to use the following code:</p>\n\n<pre><code>import re\nfn_list = ['IMG_0064.png',\n           'IMG_0064.JPG',\n           'IMG_0064_1.JPG',\n           'IMG_0064_2.JPG',\n           'IMG_0064_2.PNG',\n           'IMG_0064_2.BMP',\n           'IMG_0064_3.JPEG',\n           'IMG_0065.JPG',\n           'IMG_0065.JPEG',\n           'IMG-20150623-00176-preview-left.jpg',\n           'IMG-20150623-00176-preview-left_2.jpg',\n           'thumb_2595.bmp',\n           'thumb_2595_1.bmp',\n           'thumb_2595_15.bmp']\n\npattern = re.compile(r'([\\dt])(_\\d+)\\.', re.IGNORECASE) # OPTIMIZED REGEX A BIT\n\nfor line in fn_list:\n    search_obj = pattern.search(line)  # YOU NEED SEARCH WITH THE COMPILED REGEX\n    if search_obj:\n        matching_group = search_obj.group(2) # YOU NEED TO ACCESS GROUP 2 IF YOU ARE INTERESTED JUST IN GROUP 2\n        print matching_group\n</code></pre>\n\n<p>See <a href=\"http://ideone.com/6mi6fI\" rel=\"nofollow\">IDEONE demo</a></p>\n\n<p>As for the regex, <code>(\\d|t)</code> is the same as <code>([\\dt])</code>, but the latter is more efficient. Also, <code>{1}</code> is redundant in regex.</p>\n"}], "owner": {"reputation": 1403, "user_id": 5221082, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/uAPUq.jpg?s=128&g=1", "display_name": "Bob Dylan", "link": "https://stackoverflow.com/users/5221082/bob-dylan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 0, "accepted_answer_id": 31976000, "answer_count": 2, "score": 3, "last_activity_date": 1439818811, "creation_date": 1439415838, "last_edit_date": 1439818811, "question_id": 31975921, "link": "https://stackoverflow.com/questions/31975921/regex-works-fine-on-pythex-but-not-in-python", "title": "Regex works fine on Pythex, but not in Python", "body": "<p>I used the following regular expression on pythex to test it:</p>\n\n<pre><code>(\\d|t)(_\\d+){1}\\.\n</code></pre>\n\n<p>It works fine and I am primarily interested in group 2. That it works successfully is shown below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Up8pT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Up8pT.png\" alt=\"pythex demo\"></a></p>\n\n<p>However, I can't get Python to actually show me the correct results. Here's a MWE:</p>\n\n<pre><code>fn_list = ['IMG_0064.png',\n           'IMG_0064.JPG',\n           'IMG_0064_1.JPG',\n           'IMG_0064_2.JPG',\n           'IMG_0064_2.PNG',\n           'IMG_0064_2.BMP',\n           'IMG_0064_3.JPEG',\n           'IMG_0065.JPG',\n           'IMG_0065.JPEG',\n           'IMG-20150623-00176-preview-left.jpg',\n           'IMG-20150623-00176-preview-left_2.jpg',\n           'thumb_2595.bmp',\n           'thumb_2595_1.bmp',\n           'thumb_2595_15.bmp']\n\npattern = re.compile(r'(\\d|t)(_\\d+){1}\\.', re.IGNORECASE)\n\nfor line in fn_list:\n    search_obj = re.match(pattern, line)\n    if search_obj:\n        matching_group = search_obj.groups()\n        print matching_group\n</code></pre>\n\n<p>The output is nothing.</p>\n\n<p>However, the pythex above clearly shows two groups returned for each, the second should be present and hit off many more files. What am I doing wrong?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1439415879, "creation_date": 1439415879, "answer_id": 31975931, "question_id": 31975886, "link": "https://stackoverflow.com/questions/31975886/issue-with-adding-elements-to-series/31975931#31975931", "title": "Issue with adding elements to Series", "body": "<p><code>series.append()</code> returns a copy, and therefore your original <code>series</code> has not been modified at all. Try this:</p>\n\n<pre><code>series = pd.Series()\nfor l in b_list:\n    series = series.append(l.get_results())\n    print(l.get_results())\n    count += 1\nprint(series)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1439417084, "creation_date": 1439417084, "answer_id": 31976198, "question_id": 31975886, "link": "https://stackoverflow.com/questions/31975886/issue-with-adding-elements-to-series/31976198#31976198", "title": "Issue with adding elements to Series", "body": "<p>It is probably more efficient to use a list comprehension to generate your expected values and then pass them to the Series initializer.</p>\n\n<p>Appending to the existing series is inefficient because it creates a new copy.</p>\n\n<pre><code>series = pd.Series([l.get_results() for l in b_list])\n</code></pre>\n"}], "owner": {"reputation": 1025, "user_id": 2279616, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/bad8191761d65b9480aab8c5f188d2ac?s=128&d=identicon&r=PG", "display_name": "Jojo", "link": "https://stackoverflow.com/users/2279616/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 31975931, "answer_count": 2, "score": 2, "last_activity_date": 1439417084, "creation_date": 1439415619, "question_id": 31975886, "link": "https://stackoverflow.com/questions/31975886/issue-with-adding-elements-to-series", "title": "Issue with adding elements to Series", "body": "<p>I am trying to fill the Series <code>series</code>. <code>print(l.get_results())</code> returns the Series's as I expected them to be, however, <code>print(series)</code> returns an empty series and I don't know how else to append the Series's to <code>series</code>.</p>\n\n<pre><code>series = pd.Series()\nfor l in b_list:\n    series.append(l.get_results())\n    print(l.get_results())\n    count += 1\nprint(series)\n</code></pre>\n"}, {"tags": ["python", "django"], "owner": {"reputation": 31, "user_id": 5176148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68372e29809ac6c4b1790d852e5c437c?s=128&d=identicon&r=PG&f=1", "display_name": "murdoc", "link": "https://stackoverflow.com/users/5176148/murdoc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1439433792, "creation_date": 1439415590, "last_edit_date": 1495542776, "question_id": 31975874, "link": "https://stackoverflow.com/questions/31975874/django-enable-logging-while-run-tests", "title": "Django enable logging while run tests", "body": "<p>how to enable logging when I`m running tests in django? My goal is to save all errors to file.\nHere is my config:</p>\n\n<pre><code>LOGGING = {\n'version': 1,\n'disable_existing_loggers': False,\n'handlers': {\n    'file': {\n        'level': 'DEBUG',\n        'class': 'logging.FileHandler',\n        'filename': os.path.join(BASE_DIR, 'file.log'),\n    },\n},\n'loggers': {\n    'django.request': {\n        'handlers': ['file'],\n        'level': 'DEBUG',\n        'propagate': True,\n    },\n    'apps.hello': {\n        'handlers': ['file'],\n        'level': 'DEBUG',\n        'propagate': True,\n    },\n},\n}\n</code></pre>\n\n<p>This config works good when runserver but when im trying to run tests it save nothing.</p>\n\n<p>Also I tried some hacks before i asked question.\n<a href=\"https://stackoverflow.com/questions/5255657/how-can-i-disable-logging-while-running-unit-tests-in-python-django\">One</a>\n<a href=\"https://stackoverflow.com/questions/24476447/django-logging-when-test-fails\">Two</a></p>\n"}, {"tags": ["python", "mysql", "arduino", "serial-port"], "comments": [{"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1439415971, "post_id": 31975844, "comment_id": 51858524, "body": "Are you meaning to close the cursor after one use? Try removing the <code>try</code> <code>except</code> blocks as they are concealing the actual errors you are having."}, {"owner": {"reputation": 11, "user_id": 5221028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354ddde3d2b3180e5ccaef8ec161265b?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaff87", "link": "https://stackoverflow.com/users/5221028/ollaff87"}, "reply_to_user": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1439416794, "post_id": 31975844, "comment_id": 51858809, "body": "Thank you!!!  I commented out the cursor.close() and it is running as expected."}, {"owner": {"reputation": 7154, "user_id": 1470749, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wyXz0.jpg?s=128&g=1", "display_name": "101", "link": "https://stackoverflow.com/users/1470749/101"}, "edited": false, "score": 0, "creation_date": 1439421658, "post_id": 31975844, "comment_id": 51860299, "body": "The real problem is your blanket <code>try</code> <code>except</code> block is suppressing any errors of any type that may arise in your code, which makes debugging much harder."}], "owner": {"reputation": 11, "user_id": 5221028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/354ddde3d2b3180e5ccaef8ec161265b?s=128&d=identicon&r=PG&f=1", "display_name": "Ollaff87", "link": "https://stackoverflow.com/users/5221028/ollaff87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 734, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439415417, "creation_date": 1439415417, "question_id": 31975844, "link": "https://stackoverflow.com/questions/31975844/python-serial-parser-only-works-for-1st-set-of-incoming-data", "title": "Python serial parser only works for 1st set of incoming data", "body": "<p>I am using an arduino with a DHT sensor to take temperature and humidity readings every 15 minutes send the data over an xBee to another xBee connected to a raspberry pi. For testing I am currently sending random numbers.  The code below read, splits and inserts only the first set of data sent, but does not insert any of the data coming in later. </p>\n\n<p>I can tell from the print statements that all data sent are being received and parsed, why aren't the values getting inserted to the DB?</p>\n\n<p>Here is the python script I am using:</p>\n\n<pre><code>#!/usr/bin/python\nimport serial \nimport MySQLdb\n\n#establish connection to MySQL.\ndbConn = MySQLdb.connect(\"localhost\",\"mysql_username\",\"mysql_password\",\"database_name\") or die (\"could not connect to database\")\n#open a cursor to the database\ncursor = dbConn.cursor()\n\ndevice = '/dev/ttyUSB0' # usually ttyUSB0 or ttyUSB1 for linux, or COM port number for windows\nbaudrate = 9600\n\n\n\ndef getSerialData():\n try:\n  print \"Trying...\",device\n  arduino = serial.Serial(device, baudrate) \n except: \n  print \"Failed to connect on\",device    \n try:\n     print \"Trying to get data\"\n     next(arduino)\n     data = arduino.readline()  #read the data from the arduino\n     pieces = data.split(\",\")  #split the data by the tab\n     print \"Data: %s\" % data\n     print \"Piece 1: %s\" % pieces[0]\n     print \"Piece 2: %s\" % pieces[1]\n     #Here we are going to insert the data into the Database\n     try:\n       print \"Trying insertion...\"\n       cursor.execute(\"INSERT INTO data (temp,humidity) VALUES (%s,%s)\", (pieces[0],pieces[1]))\n       dbConn.commit() #commit the insert\n       cursor.close()  #close the cursor\n     except MySQLdb.IntegrityError:\n      print \"failed to insert data\"\n     finally:\n      print \"closing cursor\"\n      cursor.close()  #close just in case it failed\n      del pieces[:]\n except:\n  print \"Failed to get data from Arduino!\"\n\n\nval = 0\nwhile val == 0 :\n getSerialData()\n</code></pre>\n\n<p>Output from running the script:</p>\n\n<pre><code>Trying... /dev/ttyUSB0\nTrying to get data\nData: 140,72\n\nPiece 1: 140\nPiece 2: 72\n\nTrying insertion...\nclosing cursor\nTrying... /dev/ttyUSB0\nTrying to get data\nData: 94,131\n\nPiece 1: 94\nPiece 2: 131\n\nTrying insertion...\nclosing cursor\nFailed to get data from Arduino!\nTrying... /dev/ttyUSB0\nTrying to get data\nData: 118,56\n\nPiece 1: 118\nPiece 2: 56\n\nTrying insertion...\nclosing cursor\nFailed to get data from Arduino!\n</code></pre>\n\n<p>MySQL only gets the first set:</p>\n\n<pre><code>mysql&gt; SELECT * FROM data;\n+----+--------+----------+\n| id | temp   | humidity |\n+----+--------+----------+\n|  1 | 140.00 |    72.00 |\n+----+--------+----------+\n</code></pre>\n\n<p>Code to create my 'data' table:</p>\n\n<pre><code>CREATE TABLE `data` ( \n`id` INT(255) NOT NULL AUTO_INCREMENT,\n`temp` DECIMAL(5,2) NOT NULL,\n`humidity` DECIMAL(5,2) NOT NULL,\nPRIMARY KEY(`id`) ) ENGINE = InnoDB;\n</code></pre>\n"}, {"tags": ["python", "numpy", "contour", "density-plot"], "answers": [{"comments": [{"owner": {"reputation": 1779, "user_id": 3860993, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/YtQGE.jpg?s=128&g=1", "display_name": "GCien", "link": "https://stackoverflow.com/users/3860993/gcien"}, "edited": false, "score": 0, "creation_date": 1439419198, "post_id": 31976538, "comment_id": 51859622, "body": "This is looking promising. Can we smooth the contour plot somehow?"}], "tags": [], "owner": {"reputation": 3352, "user_id": 5062848, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-q9vZC1ZFIGI/AAAAAAAAAAI/AAAAAAAAADc/2w-cUpWoQ6Y/photo.jpg?sz=128", "display_name": "Amy Teegarden", "link": "https://stackoverflow.com/users/5062848/amy-teegarden"}, "is_accepted": false, "score": 4, "last_activity_date": 1439418744, "creation_date": 1439418744, "answer_id": 31976538, "question_id": 31975832, "link": "https://stackoverflow.com/questions/31975832/2d-density-contour-plot-with-matplotlib/31976538#31976538", "title": "2d density contour plot with matplotlib", "body": "<p>It seems that histogram2d takes some fiddling to plot the contour in the right place. I took the transpose of the histogram matrix and also took the mean values of the elements in xedges and yedges instead of just removing one from the end. </p>\n\n<pre><code>from matplotlib import pyplot as plt\nimport numpy as np\nfig = plt.figure()\nh, xedges, yedges = np.histogram2d(x, y, bins=9)\nxbins = xedges[:-1] + (xedges[1] - xedges[0]) / 2\nybins = yedges[:-1] + (yedges[1] - yedges[0]) / 2\n\nh = h.T\nCS = plt.contour(xbins, ybins, h)\nplt.scatter(x, y)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ss4js.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ss4js.png\" alt=\"Contour density plot\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1124, "user_id": 8554487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce0322d706e1b494280c7fed6fe872e4?s=128&d=identicon&r=PG&f=1", "display_name": "\u03c3\u03b7\u03b3", "link": "https://stackoverflow.com/users/8554487/%cf%83%ce%b7%ce%b3"}, "is_accepted": false, "score": 4, "last_activity_date": 1504640582, "creation_date": 1504640582, "answer_id": 46062272, "question_id": 31975832, "link": "https://stackoverflow.com/questions/31975832/2d-density-contour-plot-with-matplotlib/46062272#46062272", "title": "2d density contour plot with matplotlib", "body": "<p><code>seaborn</code> does density plots right out of the box:</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\n\nsns.kdeplot(x, y)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/72hak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/72hak.png\" alt=\"kdeplot\"></a></p>\n"}], "owner": {"reputation": 1779, "user_id": 3860993, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/YtQGE.jpg?s=128&g=1", "display_name": "GCien", "link": "https://stackoverflow.com/users/3860993/gcien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3411, "favorite_count": 3, "answer_count": 2, "score": 3, "last_activity_date": 1504640582, "creation_date": 1439415378, "last_edit_date": 1504456814, "question_id": 31975832, "link": "https://stackoverflow.com/questions/31975832/2d-density-contour-plot-with-matplotlib", "title": "2d density contour plot with matplotlib", "body": "<p>I'm attempting to plot my dataset, <code>x</code> and <code>y</code> (generated from a csv file via <code>numpy.genfromtxt('/Users/.../somedata.csv', delimiter=',', unpack=True)</code>) as a simple density plot. To ensure this is self containing I will define them here:</p>\n\n<pre><code>x = [ 0.2933215   0.2336305   0.2898058   0.2563835   0.1539951   0.1790058\n  0.1957057   0.5048573   0.3302402   0.2896122   0.4154893   0.4948401\n  0.4688092   0.4404935   0.2901995   0.3793949   0.6343423   0.6786809\n  0.5126349   0.4326627   0.2318232   0.538646    0.1351541   0.2044524\n  0.3063099   0.2760263   0.1577156   0.2980986   0.2507897   0.1445099\n  0.2279241   0.4229934   0.1657194   0.321832    0.2290785   0.2676585\n  0.2478505   0.3810182   0.2535708   0.157562    0.1618909   0.2194217\n  0.1888698   0.2614876   0.1894155   0.4802076   0.1059326   0.3837571\n  0.3609228   0.2827142   0.2705508   0.6498625   0.2392224   0.1541462\n  0.4540277   0.1624592   0.160438    0.109423    0.146836    0.4896905\n  0.2052707   0.2668798   0.2506224   0.5041728   0.201774    0.14907\n  0.21835     0.1609169   0.1609169   0.205676    0.4500787   0.2504743\n  0.1906289   0.3447547   0.1223678   0.112275    0.2269951   0.1616036\n  0.1532181   0.1940938   0.1457424   0.1094261   0.1636615   0.1622345\n  0.705272    0.3158471   0.1416916   0.1290324   0.3139713   0.2422002\n  0.1593835   0.08493619  0.08358301  0.09691083  0.2580497   0.1805554 ]\n\ny = [ 1.395807  1.31553   1.333902  1.253527  1.292779  1.10401   1.42933\n  1.525589  1.274508  1.16183   1.403394  1.588711  1.346775  1.606438\n  1.296017  1.767366  1.460237  1.401834  1.172348  1.341594  1.3845\n  1.479691  1.484053  1.468544  1.405156  1.653604  1.648146  1.417261\n  1.311939  1.200763  1.647532  1.610222  1.355913  1.538724  1.319192\n  1.265142  1.494068  1.268721  1.411822  1.580606  1.622305  1.40986\n  1.529142  1.33644   1.37585   1.589704  1.563133  1.753167  1.382264\n  1.771445  1.425574  1.374936  1.147079  1.626975  1.351203  1.356176\n  1.534271  1.405485  1.266821  1.647927  1.28254   1.529214  1.586097\n  1.357731  1.530607  1.307063  1.432288  1.525117  1.525117  1.510123\n  1.653006  1.37388   1.247077  1.752948  1.396821  1.578571  1.546904\n  1.483029  1.441626  1.750374  1.498266  1.571477  1.659957  1.640285\n  1.599326  1.743292  1.225557  1.664379  1.787492  1.364079  1.53362\n  1.294213  1.831521  1.19443   1.726312  1.84324 ]\n</code></pre>\n\n<p>Now, I have used many attempts to plot my contours using variations on:</p>\n\n<pre><code>delta = 0.025\nOII_OIII_sAGN_sorted = numpy.arange(numpy.min(OII_OIII_sAGN), numpy.max(OII_OIII_sAGN), delta)\nDn4000_sAGN_sorted = numpy.arange(numpy.min(Dn4000_sAGN), numpy.max(Dn4000_sAGN), delta)\nOII_OIII_sAGN_X, Dn4000_sAGN_Y = np.meshgrid(OII_OIII_sAGN_sorted, Dn4000_sAGN_sorted)\n\nZ1 = matplotlib.mlab.bivariate_normal(OII_OIII_sAGN_X, Dn4000_sAGN_Y, 1.0, 1.0, 0.0, 0.0)\nZ2 = matplotlib.mlab.bivariate_normal(OII_OIII_sAGN_X, Dn4000_sAGN_Y, 0.5, 1.5, 1, 1)\n# difference of Gaussians\nZ = 0.2 * (Z2 - Z1)\npyplot_middle.contour(OII_OIII_sAGN_X, Dn4000_sAGN_Y, Z, 12, colors='k')\n</code></pre>\n\n<p>This doesn't seem to give the desired output.I have also tried:</p>\n\n<pre><code>H, xedges, yedges = np.histogram2d(OII_OIII_sAGN,Dn4000_sAGN)\nextent = [xedges[0],xedges[-1],yedges[0],yedges[-1]]\nax.contour(H, extent=extent)\n</code></pre>\n\n<p>Not quite working as I wanted either. Essentially, I am looking for something similar to this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Rj4Em.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rj4Em.png\" alt=\"enter image description here\"></a></p>\n\n<p>If anyone could help me with this I would be very grateful, either by suggesting a totally new method or modifying my existing code. Please also attach images of your output if you have some useful techniques or ideas.</p>\n"}, {"tags": ["python", "algorithm", "api", "lda", "gensim"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 2498849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91e31d7b7146d2dca7ec96a471fbdc6?s=128&d=identicon&r=PG", "display_name": "Eran Yogev", "link": "https://stackoverflow.com/users/2498849/eran-yogev"}, "edited": false, "score": 0, "creation_date": 1439454478, "post_id": 31977464, "comment_id": 51871501, "body": "It&#39;s an option, Thanks, but it still doesn&#39;t create very diverse topics. Id like to hear other options as well."}, {"owner": {"reputation": 6532, "user_id": 919578, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaAKB.jpg?s=128&g=1", "display_name": "Benjy Kessler", "link": "https://stackoverflow.com/users/919578/benjy-kessler"}, "reply_to_user": {"reputation": 784, "user_id": 2498849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91e31d7b7146d2dca7ec96a471fbdc6?s=128&d=identicon&r=PG", "display_name": "Eran Yogev", "link": "https://stackoverflow.com/users/2498849/eran-yogev"}, "edited": false, "score": 0, "creation_date": 1439454992, "post_id": 31977464, "comment_id": 51871795, "body": "What do you mean by diverse?"}, {"owner": {"reputation": 784, "user_id": 2498849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91e31d7b7146d2dca7ec96a471fbdc6?s=128&d=identicon&r=PG", "display_name": "Eran Yogev", "link": "https://stackoverflow.com/users/2498849/eran-yogev"}, "edited": false, "score": 0, "creation_date": 1439457001, "post_id": 31977464, "comment_id": 51873062, "body": "You&#39;re option will create topics with a little amount of strong words  (That have high probability) and the other will have very low probability which will result in very low prediction accuracy.  Perhaps diverse was the wrong term.  I&#39;d like for the generated list to be created with different words Or statistically speaking:  If the word &quot;Monkey&quot; had high probability in Topic A then it should have very low probability in other topics, thus, other words will be be chosen first when if i take only the first most significat words."}], "tags": [], "owner": {"reputation": 6532, "user_id": 919578, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/VaAKB.jpg?s=128&g=1", "display_name": "Benjy Kessler", "link": "https://stackoverflow.com/users/919578/benjy-kessler"}, "is_accepted": false, "score": 0, "last_activity_date": 1439424648, "creation_date": 1439424648, "answer_id": 31977464, "question_id": 31975754, "link": "https://stackoverflow.com/questions/31975754/gensim-lda-how-can-i-generate-topics-with-different-words-for-each-topic/31977464#31977464", "title": "gensim LDA: How can i generate topics with different words for each topic?", "body": "<p>LDA provides for each topic and each word a probability that the topic generates that word. You can try assigning words to topics by just taking the max over all topics of the probability to generate the word. In other words if topic A generates \"monkey\" with probability 0.01 and topic B generates the word monkey with probability 0.02 then you can assign the word monkey to topic B.</p>\n"}, {"tags": [], "owner": {"reputation": 556, "user_id": 2736889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/C34x9.jpg?s=128&g=1", "display_name": "Rohola Zandie", "link": "https://stackoverflow.com/users/2736889/rohola-zandie"}, "is_accepted": false, "score": 0, "last_activity_date": 1475847694, "creation_date": 1475847694, "answer_id": 39918722, "question_id": 31975754, "link": "https://stackoverflow.com/questions/31975754/gensim-lda-how-can-i-generate-topics-with-different-words-for-each-topic/39918722#39918722", "title": "gensim LDA: How can i generate topics with different words for each topic?", "body": "<p>I think what you want to do is logically incorrect. Take for example a word like \"bank\" which has two different meaning(\"river bank\" or \"money bank\") depending on the context. When you intentionally remove the word from one topic words it's probable that you lose the topic meaning(specially when the probability of that word is high). Take a look at this:</p>\n\n<p><a href=\"https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/topic_methods.ipynb\" rel=\"nofollow\">https://github.com/RaRe-Technologies/gensim/blob/develop/docs/notebooks/topic_methods.ipynb</a></p>\n\n<p>i think the only remaining option(if it's even be rational to do) is to use the probabilities of words in topics.</p>\n"}], "owner": {"reputation": 784, "user_id": 2498849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b91e31d7b7146d2dca7ec96a471fbdc6?s=128&d=identicon&r=PG", "display_name": "Eran Yogev", "link": "https://stackoverflow.com/users/2498849/eran-yogev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 771, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1475847694, "creation_date": 1439415008, "question_id": 31975754, "link": "https://stackoverflow.com/questions/31975754/gensim-lda-how-can-i-generate-topics-with-different-words-for-each-topic", "title": "gensim LDA: How can i generate topics with different words for each topic?", "body": "<p>I'm using the LDA algorithm from the gensim package to find topics in a given text.</p>\n\n<p>I've been asked that the resulting topics will include different words for each topic, E.G If topic A has the word 'monkey' in it then no other topic should include the word 'monkey' in its list.</p>\n\n<p><strong>My thoughts so far:</strong> run it multiple times and each time add the previous words to the stop words list.</p>\n\n<p>Since:\nA) I'm not even sure of algorithmically/logically it's the right thing to do.\nB) I hope there's a built in way to do it that i'm not aware of.\nC) This is a large database, and it takes about 20 minutes to run the LDA\neach time (using the multi-core version).</p>\n\n<p><strong>Question:</strong> Is there a better way to do it?</p>\n\n<p>Hope to get some help,</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "spyder"], "answers": [{"tags": [], "owner": {"reputation": 1105, "user_id": 3140336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35a6c551352f918dcc8bab2ec13ae04d?s=128&d=identicon&r=PG", "display_name": "stonebig", "link": "https://stackoverflow.com/users/3140336/stonebig"}, "is_accepted": true, "score": 0, "last_activity_date": 1442146465, "creation_date": 1442146465, "answer_id": 32549533, "question_id": 31975741, "link": "https://stackoverflow.com/questions/31975741/python-print-hyperlinked-text-to-spyder-console/32549533#32549533", "title": "Python print hyperlinked text to Spyder Console", "body": "<p>It has been deprecated.</p>\n\n<p>I find a reference here:\n<a href=\"https://github.com/pydata/pandas/pull/7499#issue-36016539\" rel=\"nofollow\">https://github.com/pydata/pandas/pull/7499#issue-36016539</a></p>\n"}], "owner": {"reputation": 2701, "user_id": 5042185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eOhc9.jpg?s=128&g=1", "display_name": "DStauffman", "link": "https://stackoverflow.com/users/5042185/dstauffman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 1, "accepted_answer_id": 32549533, "answer_count": 1, "score": 0, "last_activity_date": 1442146465, "creation_date": 1439414947, "question_id": 31975741, "link": "https://stackoverflow.com/questions/31975741/python-print-hyperlinked-text-to-spyder-console", "title": "Python print hyperlinked text to Spyder Console", "body": "<p>I'm using the WinPython distribution on Windows 7, which comes with the Spyder IDE (and I hope this will work the same on Anaconda).  I would like to know how to print hyperlinked text to the console output.</p>\n\n<p>I assume it's possible, because when I get an error in my code, I get the traceback that shows me where it crashed, and those links are clickable, and will then open the line of the function where it raised the error.  See below:</p>\n\n<p>(I can't post the image without 10 rep, that's lame, I'm new to the site)  See here: <a href=\"http://i.stack.imgur.com/oJ3Aw.png\" rel=\"nofollow\">http://i.stack.imgur.com/oJ3Aw.png</a></p>\n\n<p>However, I don't want to just open a file within the IDE, what I want to do is have a link to the folder location where my code just saved some plot images to disk, and when I click on the link, have it open the folder within windows explorer.  Bonus points if there is a platform independent way of doing this, but a windows only solution would be sufficient for me.</p>\n\n<p>I have some previously existing Matlab code that would do this for me, but I can't determine if there is a Python equivalent:</p>\n\n<pre><code>save_path = pwd;\nfprintf('Plots saved to: &lt;a href=\"matlab: web(''%s'',''-browser'');\"&gt;%s&lt;/a&gt;\\n',save_path,save_path);\n</code></pre>\n"}, {"tags": ["python", "pygame", "python-3.4", "cx-freeze"], "comments": [{"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439415005, "post_id": 31975689, "comment_id": 51858140, "body": "A word to the wise: Use a version control system such as Git to find out what changed since your last working version and debug using that information."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439415110, "post_id": 31975689, "comment_id": 51858178, "body": "To clarify, this doesn&#39;t have any problems when not frozen? It could be many things, especially because of the significant dependency on exact filepaths (which is almost always a <i>bad idea</i>). If you can&#39;t use a Python debugger, edit the code and throw <code>print</code> statements everywhere. That&#39;s better than nothing."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4304303"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439415251, "post_id": 31975689, "comment_id": 51858253, "body": "@Kupiakos Yes, the program has absolutely no issues when frozen. Also you have mentioned Git. Though not related to my question, where can I properly learn to use Git?"}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439415509, "post_id": 31975689, "comment_id": 51858356, "body": "I learned from the <a href=\"https://git-scm.com/\" rel=\"nofollow noreferrer\">source</a>. There&#39;s a <a href=\"https://try.github.io/levels/1/challenges/1\" rel=\"nofollow noreferrer\">tutorial</a> hosted by <a href=\"https://github.com/\" rel=\"nofollow noreferrer\">Github</a> as well as the official book <a href=\"https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control\" rel=\"nofollow noreferrer\">Pro Git</a>. To be frank though, your Python could also definitely use some work. Check out <a href=\"http://learnpythonthehardway.org/book/\" rel=\"nofollow noreferrer\">Learn Python the Hard Way</a> to improve your code. Globals, avoiding classes, and absolute file paths are big no-nos."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4304303"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439415777, "post_id": 31975689, "comment_id": 51858459, "body": "@Kupiakos Well, thank you. I guess I&#39;m screwed with my game though."}, {"owner": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439416103, "post_id": 31975689, "comment_id": 51858564, "body": "That&#39;s not necessarily true. Like I suggested, try putting print statements all throughout the initialization of the program (making sure that the application is a console application and not a GUI application so you have a console to look at) and finding out where the prints stop to see where it actually dies. Or, even better, take this as an opportunity to learn the <a href=\"https://docs.python.org/3/library/logging.html\" rel=\"nofollow noreferrer\">logging</a> module."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4304303"}, "reply_to_user": {"reputation": 3420, "user_id": 1530134, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d6b1b610a6302fd94ff9f8971a4f1899?s=128&d=identicon&r=PG", "display_name": "Alyssa Haroldsen", "link": "https://stackoverflow.com/users/1530134/alyssa-haroldsen"}, "edited": false, "score": 0, "creation_date": 1439426490, "post_id": 31975689, "comment_id": 51861427, "body": "@Kupiakos I&#39;ll look into it. The program apparently died to not having freesansbold.ttf despite it never being used. After that I ran into a cx_Freeze error."}], "answers": [{"tags": [], "owner": {"reputation": 22847, "user_id": 1290438, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b689dcfa3833cb016dfbc4cc82bb0eae?s=128&d=identicon&r=PG", "display_name": "zmo", "link": "https://stackoverflow.com/users/1290438/zmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1439428705, "creation_date": 1439428705, "answer_id": 31977975, "question_id": 31975689, "link": "https://stackoverflow.com/questions/31975689/pygame-screen-is-black-for-short-time-then-closes/31977975#31977975", "title": "Pygame Screen is Black for Short Time, Then Closes", "body": "<p>N.B.: I have no experience with <code>cx_Freeze</code>, and neither with pygame so my answer is only a \"feeling\" of what might be fishy, and where I'd look first if I was actually debugging the code:</p>\n\n<p>at many places in your code you're changing font size by using:</p>\n\n<pre><code>font = pygame.font.SysFont(None, 25)\n</code></pre>\n\n<p>As you give <code>None</code> as parameter for the font name, the documentation says:</p>\n\n<blockquote>\n  <p>If a suitable system font is not found this will fallback on loading the default pygame font.</p>\n</blockquote>\n\n<p>when you're packing your app to make it a self contained .exe, it's likely that cx_Freeze is trying to get the \"default\" font, and assumes (wrongly) that it is \n<code>freesansbold.ttf</code> that it couldn't find or put as a resource with the .exe. And then, it might refer to that font relatively to/within the .exe, without having it copied, making the code crash.</p>\n\n<p>though, when you run it with the python interpreter, the font resolution is going through the system and works appropriately, as it is supposed to.</p>\n\n<p>To validate my theory, you can remove/comment all references to font changes (making your code look likely to look ugly), try to .exe it again and see if it works. You can also printout:</p>\n\n<pre><code>pygame.font.get_default_font()\n</code></pre>\n\n<p>in both context and see if it's showing up the same file.</p>\n\n<p>That's my two cents, hope it'll help</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4304303"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439428705, "creation_date": 1439414697, "last_edit_date": 1439427889, "question_id": 31975689, "link": "https://stackoverflow.com/questions/31975689/pygame-screen-is-black-for-short-time-then-closes", "title": "Pygame Screen is Black for Short Time, Then Closes", "body": "<p>A game that I have been working on recently stopped working after converting it to .msi or .exe with cx_freeze. The first version worked perfectly fine, but now when I try to open the application, it just doesn't work. </p>\n\n<p>It displays no error codes either. All it does is display a black screen and close. My code can be found below:</p>\n\n<p>SpaceDodge.py</p>\n\n<pre><code>\"\"\"\nGame Developer: Austin H.\nGame Owner: Austin H.\nLicensed Through: theoiestinapps\nBuild: 2\nVersion: 1.0.1\n\"\"\"\n\nimport os\nimport pygame as pygame\nimport random\nimport sys\nimport time\n\npygame.init()\npygame.mixer.init()\npygame.font.init()\n\nleft = False\nright = False\nplayerDead = False\ndevMode = False\nmusicStopped = False\n\ngame_completed = False\ngame_level_score = (0)\ngame_display_score = (0)\ndeaths_this_session = (0)\n\nuser_teleport_active = False\nuser_health_active = False\nuser_health_inactive = False\nuser_teleport_display_active = (\"False\")\nuser_health_display_active = (\"False\")\n\ndisplay_width = 1280\ndisplay_height = 650\n\ncustomOrange = (210, 121, 19)\ncustomBlue = (17, 126, 194)\nblack = (0, 0, 0)\nblue = (0, 0, 255)\ngreen = (0, 225, 0)\nred = (250, 0, 0)\nwhite = (255, 255, 255)\nbright_red = (255,0,0)\nbright_green = (0,255,0)\n\ngameDisplay = pygame.display.set_mode((display_width, display_height))\npygame.display.set_caption(\"Space Dodge\")\nclock = pygame.time.Clock()\n\nbackgroundMusic = pygame.mixer.music.load('C:/Program Files/Space Dodge/game_background_music.mp3')\nenemyImg = pygame.image.load('C:/Program Files/Space Dodge/enemy_image.png')\nenemytwoImg = pygame.image.load('C:/Program Files/Space Dodge/enemy_image_two.png')\nbackgroundImg = pygame.image.load('C:/Program Files/Space Dodge/background_image.png')\nrocketImg = pygame.image.load('C:/Program Files/Space Dodge/player_image.png')\ninjuredSound = pygame.mixer.Sound('C:/Program Files/Space Dodge/player_hurt_sound.wav')\nerrorSound = pygame.mixer.Sound('C:/Program Files/Space Dodge/game_error_sound.wav')\n\n#Player Powerups\ndef teleport_powerup(user_teleport_display_active):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Teleport Powerup: \" + str(user_teleport_display_active), True, red)\n    gameDisplay.blit(text, (display_width - 205, 5))\ndef ehealth_powerup(user_health_display_active):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Ehealth Powerup: %s\" % user_health_display_active, True, red)\n    gameDisplay.blit(text, (display_width - 205, 25))\n\n#Game Stats   \ndef enemies_dodged(enemy_objects_dodged):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Dodged UIO: \" + str(enemy_objects_dodged), True, green)\n    gameDisplay.blit(text, (5, 5))\ndef game_level(game_display_score):\n    font = pygame.font.SysFont(None, 25)\n    game_display_score = game_level_score + 1\n    text = font.render(\"Game Level: \" + str(game_display_score), True, green)\n    gameDisplay.blit(text, (5, 25))\ndef session_deaths(deaths_this_session):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Session Deaths: \" + str(deaths_this_session), True, green)\n    gameDisplay.blit(text, (display_width - 150, 630))\ndef bot_speed(enemy_speed):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Bot Speed: \" + str(enemy_speed), True, green)\n    gameDisplay.blit(text, (5, 560))\ndef clock_speed(clockTick):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Clock Tick: \" + str(clockTick), True, green)\n    gameDisplay.blit(text, (5, 630))\ndef clock_speed_intro(clockTick):\n    font = pygame.font.SysFont(None, 25)\n    text = font.render(\"Clock Tick: \" + str(clockTick), True, green)\n    gameDisplay.blit(text, (5, 630))\n\n\n#Sprite Definitions    \ndef enemies(enemyx, enemyy):\n    gameDisplay.blit(enemyImg, (enemy_startx, enemy_starty))\ndef enemies_two(enemy_twox, enemy_twoy):\n    gameDisplay.blit(enemytwoImg, (enemy_two_startx, enemy_two_starty))\ndef rocket(x, y):\n    gameDisplay.blit(rocketImg, (x, y))\ndef background(cen1, cen2):\n    gameDisplay.blit(backgroundImg, (cen1, cen2))\n\n#Message Display   \ndef text_objects(text, font):\n    textSurface = font.render(text, True, blue)\n    return textSurface, textSurface.get_rect() \ndef message_display(text):\n    global game_completed\n    largeText = pygame.font.SysFont(None, 70)\n    TextSurf, TextRect = text_objects(text, largeText)\n    TextRect.center = ((display_width / 2), (display_height / 2))\n    gameDisplay.blit(TextSurf, TextRect)\n\n    pygame.display.update()\n\n    if game_completed == True:\n        time.sleep(60)\n        game_intro()\n\n    else:\n        time.sleep(5)\n        if game_level_score &gt; 0:\n            pass\n        else:\n            pygame.mixer.music.play()\n        game_loop()\n\n#User Crash\ndef crash():\n    injuredSound.play()\n    message_display(\"You Died. Game Over!\")\n\n#Button Usage\ndef button(msg,x,y,w,h,ic,ac,action=None):\n    mouse = pygame.mouse.get_pos()\n    click = pygame.mouse.get_pressed()\n    if x+w &gt; mouse[0] &gt; x and y+h &gt; mouse[1] &gt; y:\n        pygame.draw.rect(gameDisplay, ac,(x,y,w,h))\n\n        if click[0] == 1 and action != None:\n            action()         \n    else:\n        pygame.draw.rect(gameDisplay, ic,(x,y,w,h))\n\n    smallText = pygame.font.SysFont(None,20)\n    textSurf, textRect = text_objects(msg, smallText)\n    textRect.center = ((x+(w/2)), (y+(h/2)))\n    gameDisplay.blit(textSurf, textRect)\n\n#Quit\ndef quitgame():\n    pygame.quit()\n    sys.exit()\n\n#Game Intro\ndef game_intro():\n    global clockTick\n    global game_level_score\n    global user_teleport_active\n    global user_teleport_display_active\n    global user_health_active\n    global user_health_inactive\n    global user_health_display_active\n    global enemy_speed\n    global enemy_two_speed\n    global enemies_per_level\n\n    intro = True\n    cen1 = (0)\n    cen2 = (0)\n\n    enemy_speed = (random.randrange(5, 10))\n    enemy_two_speed = (random.randrange(5, 10))\n    enemies_per_level = (5)\n\n    game_level_score = (0)\n    user_teleport_active = False\n    user_teleport_display_active = (\"False\")\n    user_health_active = False\n    user_health_inactive = False\n    user_health_display_active = (\"False\")\n\n    while intro:\n        clockTick = clock.get_fps()\n\n        for event in pygame.event.get():\n\n            if event.type == pygame.QUIT:\n                quitgame()\n\n        gameDisplay.fill(white)\n        largeText = pygame.font.Font(None, 115)\n        TextSurf, TextRect = text_objects(\"Space Dodge\", largeText)\n        TextRect.center = ((display_width / 2),(display_height / 2))\n        background(cen1, cen2)\n        clock_speed_intro(clockTick)\n        gameDisplay.blit(TextSurf, TextRect)\n\n        button(\"Start\", display_width / 2.2, 370, 100, 50, green, bright_green, game_loop)\n        button(\"Quit\", display_width / 2.2, 445, 100, 50, red, bright_red, quitgame)\n\n        pygame.display.update()\n        clock.tick(15)\n\n#Game Loop   \ndef game_loop():\n    global left\n    global right\n    global playerDead\n    global musicStopped\n\n    global game_level_score\n    global enemy_speed\n    global enemy_two_speed\n    global game_completed\n    global user_teleport_active\n    global user_teleport_display_active\n    global user_health_active\n    global user_health_display_active\n    global user_health_inactive\n    global deaths_this_session\n    global enemies_per_level\n    global enemy_startx\n    global enemy_starty\n    global enemy_two_startx\n    global enemy_two_starty\n\n    x = (display_width * 0.43)\n    y = (display_height * 0.74)\n    cen1 = (0)\n    cen2 = (0)\n    x_change = 0\n\n    rocket_width = (86)\n    game_score = (0)\n    enemy_objects_dodged = (0)\n\n    enemy_startx = random.randrange(0, display_width)\n    enemy_starty = -600\n    enemy_width = 75\n    enemy_height = 75\n\n    enemy_two_startx = random.randrange(0, display_width)\n    enemy_two_starty = -600\n    enemy_two_width = 125\n    enemy_two_height = 125\n\n    while not playerDead:\n        clockTick = clock.get_fps()\n\n        for event in pygame.event.get():\n\n            if event.type == pygame.QUIT:\n                pygame.mixer.music.stop()\n                quitgame()\n\n            if devMode == True:\n                print(event)\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_a:\n                    left = True\n                if event.key == pygame.K_d:\n                    right = True\n\n                if event.key == pygame.K_LEFT:\n                    left = True\n                if event.key == pygame.K_RIGHT:\n                    right = True\n\n                if event.key == pygame.K_KP4:\n                    left = True\n                if event.key == pygame.K_KP6:\n                    right = True\n\n                if event.key == pygame.K_ESCAPE:\n                    game_intro()\n\n                if event.key == pygame.K_SPACE:\n                    pass\n\n                if event.key == pygame.K_m:\n                    if musicStopped == False:\n                        musicStopped = True\n                        pygame.mixer.music.stop()\n                    elif musicStopped == True:\n                        musicStopped = False\n                        pygame.mixer.music.play()\n\n            if event.type == pygame.KEYUP:\n                if event.key == pygame.K_a or pygame.K_d:\n                    left = False\n                if event.key == pygame.K_d:\n                    right = False\n\n                if event.key == pygame.K_LEFT:\n                    left = False\n                if event.key == pygame.K_RIGHT:\n                    right = False\n\n                if event.key == pygame.K_KP4:\n                    left = False\n                if event.key == pygame.K_KP6:\n                    right = False\n\n                if event.key == pygame.K_SPACE:\n                    pass\n\n        if left and right:\n            x_change *= 1\n        elif left and x &gt; -86:\n            x_change = -10\n        elif right and x &lt; (display_width - 89):\n            x_change = 10\n        else:\n            x_change = 0\n\n        if game_level_score &gt; 999:\n            quitgame()\n\n        if enemy_objects_dodged == enemies_per_level:\n            enemy_speed += 0.5\n            enemy_two_speed + 0.5\n            game_level_score += 1\n            enemies_per_level += 3\n\n            if game_level_score == 999:\n                game_completed = True\n                message_display('Game Complete! You Win! :D')\n\n            else:\n                message_display('You Completed Level: ' + str(game_level_score))\n        if user_health_inactive == False:\n            if game_level_score &gt; 9:\n                user_health_active = True\n                user_health_display_active = (\"True\")\n        if game_level_score &gt; 4:\n            user_teleport_active = True\n            user_teleport_display_active = (\"True\")\n\n        if user_teleport_active == True:\n\n            if x &lt; -0:\n                x = 1330\n\n        if enemy_starty &gt; display_height:\n            enemy_starty = 0 - enemy_height\n            enemy_startx = random.randrange(0, display_width)\n            game_score += 1\n            enemy_objects_dodged += 1\n\n        if enemy_two_starty &gt; display_height:\n            enemy_two_starty = 0 - enemy_two_height\n            enemy_two_startx = random.randrange(0, display_width)\n            game_score += 1\n            enemy_objects_dodged += 1\n\n        if y &lt; enemy_starty + enemy_height:\n\n            if x &gt; enemy_startx and x &lt; enemy_startx + enemy_width or x + rocket_width &gt; enemy_startx and x + rocket_width &lt; enemy_startx + enemy_width:\n                if user_health_active:\n                    x = (display_width * 0.43)\n                    y = (display_height * 0.74)\n\n                    user_health_active = False\n                    user_health_display_active = False\n                    user_health_inactive = True\n\n                else:\n                    pygame.mixer.music.stop()\n                    deaths_this_session += 1\n                    crash()\n\n        if y &lt; enemy_two_starty + enemy_two_height:\n\n            if x &gt; enemy_two_startx and x &lt; enemy_two_startx + enemy_two_width or x + rocket_width &gt; enemy_two_startx and x + rocket_width &lt; enemy_two_startx + enemy_two_width:\n                if user_health_active:\n                    x = (display_width * 0.43)\n                    y = (display_height * 0.74)\n\n                    user_health_active = False\n                    user_health_display_active = False\n                    user_health_inactive = True\n\n                else:\n                    pygame.mixer.music.stop()\n                    deaths_this_session += 1\n                    crash()\n\n        x += x_change\n\n        background(cen1, cen2)\n        enemies(enemy_startx, enemy_starty)\n        enemies_two(enemy_two_startx, enemy_two_starty)\n        enemy_starty += enemy_speed\n        enemy_two_starty += enemy_two_speed\n        rocket(x, y)\n        enemies_dodged(enemy_objects_dodged)\n        game_level(game_display_score)\n        clock_speed(clockTick)\n        session_deaths(deaths_this_session)\n        teleport_powerup(user_teleport_display_active)\n        ehealth_powerup(user_health_display_active)\n        pygame.display.update()\n        clock.tick(90)\n\nif __name__ == \"__main__\":\n    pygame.mixer.music.set_volume(0.20)\n    pygame.mixer.music.play(-1)\n    game_intro()\n</code></pre>\n\n<p>Setup.py</p>\n\n<pre><code>from cx_Freeze import *\nimport sys\n\nbase = None\n\nif sys.platform == 'win32':\n    base = \"Win32GUI\"\n\nsetup(\n    name = \"SpaceDodge\",\n    author = \"theoiestinapps\",\n    options = {\"build_exe\": {\"packages\": [\"pygame\"], \"include_files\": [\"game_background_music.mp3\", \"background_image.png\", \"enemy_image.png\",\n                                                                       \"player_image.png\", \"player_hurt_sound.wav\", \"game_error_sound.wav\"]},\n               \"bdist_msi\": {\"upgrade_code\": \"{9d3d322e74744a1282ce1ea2c5af2676}\"}},\n    executables = [Executable(\"SpaceDodge.py\", shortcutName = \"SpaceDodge\", shortcutDir = \"DesktopFolder\", base = base)]\n    )\n</code></pre>\n"}, {"tags": ["python", "c++", "heroku", "pyicu"], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 1438510, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/489083971c94b6702d6a61b1639bc51e?s=128&d=identicon&r=PG", "display_name": "Costas Kirgoussios", "link": "https://stackoverflow.com/users/1438510/costas-kirgoussios"}, "is_accepted": false, "score": 1, "last_activity_date": 1439627070, "creation_date": 1439627070, "answer_id": 32022933, "question_id": 31975668, "link": "https://stackoverflow.com/questions/31975668/installation-of-pyicu-on-heroku/32022933#32022933", "title": "Installation of PyICU on Heroku", "body": "<p>This is a working workaround until a proper answer to the question.</p>\n\n<ol>\n<li><p>Create the application as shown above (use the heroku-buildpack-apt to install libicu52 and libicu-dev).</p></li>\n<li><p>Upload and enter heroku run bash</p>\n\n<p>CPATH=$CPATH/app/.apt/usr/include/x86_64-linux-gnu</p>\n\n<p>pip install wheel</p>\n\n<p>pip wheel PyICU</p></li>\n</ol>\n\n<p>This will create a wheel (.whl file) in /app/wheelhouse.</p>\n\n<p>Download the file, save it somewhere in your project and install it by putting its name in your requirements.txt</p>\n"}], "owner": {"reputation": 99, "user_id": 1438510, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/489083971c94b6702d6a61b1639bc51e?s=128&d=identicon&r=PG", "display_name": "Costas Kirgoussios", "link": "https://stackoverflow.com/users/1438510/costas-kirgoussios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439627070, "creation_date": 1439414613, "last_edit_date": 1439516536, "question_id": 31975668, "link": "https://stackoverflow.com/questions/31975668/installation-of-pyicu-on-heroku", "title": "Installation of PyICU on Heroku", "body": "<p>Anyone know how to install PyICU on Heroku?</p>\n\n<p>Here is what I tried so far:</p>\n\n<ol>\n<li>Created a heroku-buildpack-multi application.</li>\n</ol>\n\n<p>In .buildpacks</p>\n\n<pre><code>https://github.com/ddollar/heroku-buildpack-apt\nhttps://github.com/heroku/heroku-buildpack-python.git\n</code></pre>\n\n<p>In Aptfile</p>\n\n<pre><code>libicu52\nlibicu-dev\n</code></pre>\n\n<p>Then heroku run bash</p>\n\n<pre><code>CPATH=$CPATH/app/.apt/usr/include/x86_64-linux-gnu\npip install PyICU\n</code></pre>\n\n<p>And it installs fine.</p>\n\n<p>I need one way to do that during the application's upload phase (push).</p>\n\n<p>I tried:</p>\n\n<pre><code>pip install --global-option=build_ext --global-option=\"-I/app/.apt/usr/lib/x86_64-linux-gnu\" PyICU\n</code></pre>\n\n<p>and to create a .pydistutils.cfg file in my home directory as</p>\n\n<pre><code>[build_ext]\ninclude_dirs=/app/.apt/usr/include/x86_64-linux-gnu\n</code></pre>\n\n<p>In both cases GCC fails to find the header files, but I can see the</p>\n\n<pre><code>-I/app/.apt/usr/lib/x86_64-linux-gnu\n</code></pre>\n\n<p>flag on the command line.</p>\n\n<p>Used</p>\n\n<pre><code>`gcc -print-prog-name=cc1plus` -v\n</code></pre>\n\n<p>to find the differences in search paths before and after CPATH=$CPATH/app/.apt/usr/include/x86_64-linux-gnu</p>\n\n<p>Before:</p>\n\n<pre><code>#include &lt;...&gt; search starts here:\n/app/.apt/usr/include\n.\n/usr/include/c++/4.8\n/usr/include/x86_64-linux-gnu/c++/4.8\n/usr/include/c++/4.8/backward\n/usr/lib/gcc/x86_64-linux-gnu/4.8/include\n/usr/local/include\n/usr/lib/gcc/x86_64-linux-gnu/4.8/include-fixed\n/usr/include\nEnd of search list.\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>#include &lt;...&gt; search starts here:\n/app/.apt/usr/include\n/app/.apt/usr/include/x86_64-linux-gnu\n/usr/include/c++/4.8\n/usr/include/x86_64-linux-gnu/c++/4.8\n/usr/include/c++/4.8/backward\n/usr/lib/gcc/x86_64-linux-gnu/4.8/include\n/usr/local/include\n/usr/lib/gcc/x86_64-linux-gnu/4.8/include-fixed\n/usr/include\nEnd of search list.\n</code></pre>\n\n<p>But I'm not a C++ programmer and cannot find what is wrong. Any ideas?</p>\n"}, {"tags": ["python", "django", "imagekit"], "answers": [{"comments": [{"owner": {"reputation": 1238, "user_id": 2929228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cb14a0ca1c489bdb92f63429a6a5cff2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam P", "link": "https://stackoverflow.com/users/2929228/sam-p"}, "edited": false, "score": 0, "creation_date": 1439417259, "post_id": 31976043, "comment_id": 51858972, "body": "Thanks a lot, great answer with the documentation link!"}], "tags": [], "owner": {"reputation": 386, "user_id": 5187108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9b391646a7a0dc16cd8468f250d472d?s=128&d=identicon&r=PG&f=1", "display_name": "Xebax", "link": "https://stackoverflow.com/users/5187108/xebax"}, "is_accepted": true, "score": 2, "last_activity_date": 1439416384, "creation_date": 1439416384, "answer_id": 31976043, "question_id": 31975662, "link": "https://stackoverflow.com/questions/31975662/django-saving-from-one-imagefield-to-another-oserror-errno-24-too-many-open/31976043#31976043", "title": "Django saving from one imagefield to another: OSError: [Errno 24] Too many open files", "body": "<p><code>FileField</code> has a <a href=\"https://docs.djangoproject.com/en/1.8/ref/models/fields/#django.db.models.fields.files.FieldFile.close\" rel=\"nofollow\"><code>close()</code></a> method, you should try to call it after saving the image: <code>o.image_thumb.close()</code></p>\n\n<p>The error you get is mentioned in the doc of Django, in the <a href=\"https://docs.djangoproject.com/en/1.8/topics/files/\" rel=\"nofollow\">Managing files</a> part:</p>\n\n<blockquote>\n  <p>Closing files is especially important when accessing file fields in a\n  loop over a large number of objects. If files are not manually closed\n  after accessing them, the risk of running out of file descriptors may\n  arise. This may lead to the following error:</p>\n  \n  <p>IOError: [Errno 24] Too many open files</p>\n</blockquote>\n\n<p>.</p>\n"}], "owner": {"reputation": 1238, "user_id": 2929228, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/cb14a0ca1c489bdb92f63429a6a5cff2?s=128&d=identicon&r=PG&f=1", "display_name": "Sam P", "link": "https://stackoverflow.com/users/2929228/sam-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 31976043, "answer_count": 1, "score": 0, "last_activity_date": 1439416384, "creation_date": 1439414579, "last_edit_date": 1439415935, "question_id": 31975662, "link": "https://stackoverflow.com/questions/31975662/django-saving-from-one-imagefield-to-another-oserror-errno-24-too-many-open", "title": "Django saving from one imagefield to another: OSError: [Errno 24] Too many open files", "body": "<p>I've written a migration that adds a subclass of an <code>ImageField</code> to an existing model. As part of that migration I would like to save to that imagefield the contents of another imagefield.</p>\n\n<p>Here is the migration:</p>\n\n<pre><code>from __future__ import unicode_literals\n\nimport os\nfrom django.db import models, migrations\nimport search.models\nimport imagekit.models.fields\n\ndef populate_image_thumb(apps, schema_editor):\n    ProductImage = apps.get_model('search', 'ProductImage')\n    for o in ProductImage.objects.all():\n        filename = os.path.basename(o.image.file.name)\n        o.image_thumb.save(filename, o.image)\n\n\nclass Migration(migrations.Migration):\n\n    dependencies = [\n        ('search', '0015_auto_20150811_1516'),\n    ]\n\n    operations = [\n        migrations.AddField(\n            model_name='productimage',\n            name='image_thumb',\n            field=imagekit.models.fields.ProcessedImageField(upload_to=search.models.product_thumb_upload_location, default=2),\n            preserve_default=False,\n        ),\n        migrations.RunPython(populate_image_thumb),\n    ]\n</code></pre>\n\n<p>And the traceback:</p>\n\n<pre><code>Operations to perform:\n  Synchronize unmigrated apps: staticfiles, tsl_auth, messages, allauth, haystack, project_core, rest_framework, mptt\n  Apply all migrations: feed, account, search, sessions, social, auth, discussions, sites, actstream, conversations, contenttypes, socialaccount, admin\nSynchronizing apps without migrations:\n  Creating tables...\n    Running deferred SQL...\n  Installing custom SQL...\nRunning migrations:\n  Rendering model states... DONE\n  Applying search.0016_productimage_image_thumb...Traceback (most recent call last):\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/base.py\", line 444, in execute\n    output = self.handle(*args, **options)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/commands/migrate.py\", line 221, in handle\n    executor.migrate(targets, plan, fake=fake, fake_initial=fake_initial)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 110, in migrate\n    self.apply_migration(states[migration], migration, fake=fake, fake_initial=fake_initial)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/db/migrations/executor.py\", line 148, in apply_migration\n    state = migration.apply(state, schema_editor)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/db/migrations/migration.py\", line 115, in apply\n    operation.database_forwards(self.app_label, schema_editor, old_state, project_state)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/db/migrations/operations/special.py\", line 183, in database_forwards\n    self.code(from_state.apps, schema_editor)\n  File \"/Users/sampeka/dev/thestylelocker/search/migrations/0016_productimage_image_thumb.py\", line 14, in populate_image_thumb\n    o.image_thumb.save(filename, o.image)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/imagekit/models/fields/files.py\", line 12, in save\n    content = generate(spec)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/imagekit/utils.py\", line 139, in generate\n    f = NamedTemporaryFile()\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/tempfile.py\", line 460, in NamedTemporaryFile\n    (fd, name) = _mkstemp_inner(dir, prefix, suffix, flags)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/tempfile.py\", line 200, in _mkstemp_inner\n    fd = _os.open(file, flags, 0o600)\nOSError: [Errno 24] Too many open files: '/var/folders/pd/sj03p3zn5cd201ghz54frv880000gn/T/tmpqoa4yecp'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"manage.py\", line 10, in &lt;module&gt;\n    execute_from_command_line(sys.argv)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/__init__.py\", line 338, in execute_from_command_line\n    utility.execute()\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/__init__.py\", line 330, in execute\n    self.fetch_command(subcommand).run_from_argv(self.argv)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/base.py\", line 393, in run_from_argv\n    self.execute(*args, **cmd_options)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/core/management/base.py\", line 458, in execute\n    translation.activate(saved_locale)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/__init__.py\", line 146, in activate\n    return _trans.activate(language)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/trans_real.py\", line 222, in activate\n    _active.value = translation(language)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/trans_real.py\", line 206, in translation\n    _translations[language] = DjangoTranslation(language)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/trans_real.py\", line 115, in __init__\n    self._init_translation_catalog()\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/trans_real.py\", line 153, in _init_translation_catalog\n    translation = self._new_gnu_trans(localedir, use_null_fallback)\n  File \"/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/utils/translation/trans_real.py\", line 136, in _new_gnu_trans\n    fallback=use_null_fallback)\n  File \"/usr/local/Cellar/python3/3.4.3/Frameworks/Python.framework/Versions/3.4/lib/python3.4/gettext.py\", line 409, in translation\n    with open(mofile, 'rb') as fp:\nOSError: [Errno 24] Too many open files: '/Users/sampeka/virtualenv/thestylelocker/lib/python3.4/site-packages/django/conf/locale/en/LC_MESSAGES/django.mo'\n</code></pre>\n\n<p>I'm not physically handling opening or closing files in my code but should I be? Do I need to somehow take control of this process?</p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>I've also tried the following approach to physically load the image into memory before attempting to write it to the next field. I'm still being thrown the same error:</p>\n\n<pre><code>def populate_image_thumb(apps, schema_editor):\n    ProductImage = apps.get_model('search', 'ProductImage')\n    for o in ProductImage.objects.all():\n        filename = o.image.file.name\n\n        fileio = io.BytesIO()\n\n        with open(filename, 'rb') as open_file:\n            fileio.write(open_file.read())\n\n        image = InMemoryUploadedFile(file=fileio, field_name=None,\n            name=filename, content_type='image/%s' % filename.split('.')[-1],\n            size=fileio.__sizeof__(), charset=None)\n\n        o.image_thumb.save(filename, image)\n</code></pre>\n"}, {"tags": ["python", "json", "twitter"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1439413763, "post_id": 31975395, "comment_id": 51857552, "body": "If you are reading this line by line there is not line 2. It means <i>line 1</i> is incomplete and the parser is looking for more. Note that the parser cannot see anything but that one line! It could be line 328 in your file, and it&#39;d still just see it as line 1."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1439413975, "post_id": 31975395, "comment_id": 51857639, "body": "Provided the leading whitespace is just a posting error here, your 2 sample lines are valid JSON and load without issues."}, {"owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1439414321, "post_id": 31975395, "comment_id": 51857815, "body": "So, does that mean one of the lines somewhere in the txt file are incomplete? How do I get around that?"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1439414427, "post_id": 31975395, "comment_id": 51857873, "body": "You could start by logging the line that fails to load. Use <code>try..except json.JSONDecodeError:</code> to catch the exception, then report on the line and continue."}, {"owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1439415171, "post_id": 31975395, "comment_id": 51858208, "body": "I tried ` tweets = [] try:     for line in open(&#39;tweets.txt&#39;, &#39;r&#39;):         tweets.append(json.loads(line))         print line      except ValueError as detail:  # includes simplejson.decoder.JSONDecodeError     print &#39;Decoding JSON has failed&#39;, detail    ` and it&#39;s failing on the last line. So none of the data are flawed, it&#39;s just freaking out at the end when it runs out of data."}], "answers": [{"tags": [], "owner": {"reputation": 3467, "user_id": 171450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a3babaa84012b7ec17726a6d899590b1?s=128&d=identicon&r=PG", "display_name": "Aidan Kane", "link": "https://stackoverflow.com/users/171450/aidan-kane"}, "is_accepted": true, "score": 1, "last_activity_date": 1439415087, "creation_date": 1439415087, "answer_id": 31975770, "question_id": 31975395, "link": "https://stackoverflow.com/questions/31975395/parsing-twitter-jsons-in-python-jsondecodeerror-expecting-value-line-2-column/31975770#31975770", "title": "Parsing Twitter JSONs in Python JSONDecodeError: Expecting value: line 2 column 1 (char 2)", "body": "<p>I think it's probably caused by a trailing newline at the end of the file.</p>\n\n<pre><code>for line in open('tweets.txt', 'r'):\n    if line.strip():\n        tweets.append(json.loads(line))\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1398, "favorite_count": 1, "accepted_answer_id": 31975770, "answer_count": 1, "score": 1, "last_activity_date": 1448628415, "creation_date": 1439413544, "question_id": 31975395, "link": "https://stackoverflow.com/questions/31975395/parsing-twitter-jsons-in-python-jsondecodeerror-expecting-value-line-2-column", "title": "Parsing Twitter JSONs in Python JSONDecodeError: Expecting value: line 2 column 1 (char 2)", "body": "<p>I'm trying to parse a text file of tweets captured by another researcher. The first two lines are: </p>\n\n<pre><code>    {\"firstpost_date\": 1435805238, \"title\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 https://t.co/0B8c0h1PwS\", \"url\": \"http://twitter.com/DANIELCP3/status/616437964219023360\", \"tweet\": {\"contributors\": null, \"truncated\": false, \"text\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 https://t.co/0B8c0h1PwS\", \"in_reply_to_status_id\": null, \"id\": 616437964219023360, \"favorite_count\": 0, \"source\": \"&lt;a href=\\\"http://instagram.com\\\" rel=\\\"nofollow\\\"&gt;Instagram&lt;/a&gt;\", \"retweeted\": false, \"coordinates\": null, \"timestamp_ms\": \"1435805238190\", \"entities\": {\"symbols\": [], \"user_mentions\": [], \"trends\": [], \"hashtags\": [{\"indices\": [0, 10], \"text\": \"Jetlounge\"}, {\"indices\": [12, 29], \"text\": \"100Days100Nights\"}, {\"indices\": [30, 35], \"text\": \"NOLA\"}, {\"indices\": [37, 43], \"text\": \"CWMB3\"}], \"urls\": [{\"indices\": [44, 67], \"url\": \"https://t.co/0B8c0h1PwS\", \"expanded_url\": \"https://instagram.com/p/4nhZSDRV5W/\", \"display_url\": \"instagram.com/p/4nhZSDRV5W/\"}]}, \"in_reply_to_screen_name\": null, \"in_reply_to_user_id\": null, \"retweet_count\": 0, \"id_str\": \"616437964219023360\", \"favorited\": false, \"user\": {\"follow_request_sent\": null, \"profile_use_background_image\": true, \"geo_enabled\": true, \"description\": null, \"verified\": false, \"profile_image_url_https\": \"https://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"is_translator\": false, \"id\": 106863509, \"profile_text_color\": \"333333\", \"followers_count\": 566, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"106863509\", \"default_profile_image\": false, \"location\": \"NEW ORLEANS\", \"utc_offset\": -18000, \"statuses_count\": 817, \"profile_background_color\": \"C0DEED\", \"friends_count\": 1354, \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"notifications\": null, \"profile_background_image_url_https\": \"https://abs.twimg.com/images/themes/theme1/bg.png\", \"profile_background_image_url\": \"http://abs.twimg.com/images/themes/theme1/bg.png\", \"name\": \"internationaldaniel\", \"lang\": \"en\", \"profile_background_tile\": false, \"favourites_count\": 211, \"screen_name\": \"DANIELCP3\", \"url\": \"http://www.datpiff.com/B3-The-Set-Up-mixtape.687448.html\", \"created_at\": \"Wed Jan 20 22:56:10 +0000 2010\", \"contributors_enabled\": false, \"time_zone\": \"Central Time (US &amp; Canada)\", \"protected\": false, \"default_profile\": true, \"following\": null, \"listed_count\": 5}, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"und\", \"created_at\": \"Thu Jul 02 02:47:18 +0000 2015\", \"filter_level\": \"low\", \"in_reply_to_status_id_str\": null, \"place\": null}, \"author\": {\"author_img\": \"http://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"name\": \"internationaldaniel\", \"url\": \"http://twitter.com/danielcp3\", \"nick\": \"danielcp3\", \"followers\": 555.0, \"image_url\": \"http://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"type\": \"twitter\", \"influence_level\": 1.0, \"description\": \"\"}, \"original_author\": {\"author_img\": \"http://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"description\": \"\", \"url\": \"http://twitter.com/danielcp3\", \"nick\": \"danielcp3\", \"followers\": 555.0, \"image_url\": \"http://pbs.twimg.com/profile_images/555269587395026946/agpaj4CS_normal.jpeg\", \"type\": \"twitter\", \"influence_level\": 1.0, \"name\": \"internationaldaniel\"}, \"citation_date\": 1435805238, \"metrics\": {\"acceleration\": 0, \"ranking_score\": 8.222051, \"citations\": {\"influential\": 1, \"total\": 2, \"data\": [{\"timestamp\": 1435777199, \"citations\": 0}, {\"timestamp\": 1435780799, \"citations\": 0}, {\"timestamp\": 1435784399, \"citations\": 0}, {\"timestamp\": 1435787999, \"citations\": 0}, {\"timestamp\": 1435791599, \"citations\": 0}, {\"timestamp\": 1435795199, \"citations\": 0}, {\"timestamp\": 1435798799, \"citations\": 0}, {\"timestamp\": 1435802399, \"citations\": 0}, {\"timestamp\": 1435805999, \"citations\": 0}, {\"timestamp\": 1435809599, \"citations\": 0}, {\"timestamp\": 1435813199, \"citations\": 0}, {\"timestamp\": 1435816799, \"citations\": 0}, {\"timestamp\": 1435820399, \"citations\": 0}, {\"timestamp\": 1435823999, \"citations\": 0}, {\"timestamp\": 1435827599, \"citations\": 0}, {\"timestamp\": 1435831199, \"citations\": 0}, {\"timestamp\": 1435834799, \"citations\": 0}, {\"timestamp\": 1435838399, \"citations\": 0}, {\"timestamp\": 1435841999, \"citations\": 0}, {\"timestamp\": 1435845599, \"citations\": 0}, {\"timestamp\": 1435849199, \"citations\": 0}, {\"timestamp\": 1435852799, \"citations\": 0}, {\"timestamp\": 1435856399, \"citations\": 0}, {\"timestamp\": 1435859999, \"citations\": 0}], \"matching\": 2, \"replies\": 0}, \"peak\": 0, \"impressions\": 7187, \"momentum\": 0}, \"highlight\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 https://t.co/0B8c0h1PwS\", \"type\": \"tweet\", \"citation_url\": \"http://twitter.com/DANIELCP3/status/616437964219023360\"}\n    {\"firstpost_date\": 1435806666, \"title\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 by internationalcorporation3 http://t.co/jiibcs21ho http://t.co/Ci2MkoKgMC\", \"url\": \"http://twitter.com/instaNewOrleans/status/616443954825981958\", \"tweet\": {\"contributors\": null, \"truncated\": false, \"text\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 by internationalcorporation3 http://t.co/jiibcs21ho http://t.co/Ci2MkoKgMC\", \"in_reply_to_status_id\": null, \"id\": 616443954825981958, \"favorite_count\": 0, \"source\": \"&lt;a href=\\\"http://ifttt.com\\\" rel=\\\"nofollow\\\"&gt;IFTTT&lt;/a&gt;\", \"retweeted\": false, \"coordinates\": null, \"timestamp_ms\": \"1435806666462\", \"entities\": {\"symbols\": [], \"media\": [{\"expanded_url\": \"http://twitter.com/instaNewOrleans/status/616443954825981958/photo/1\", \"sizes\": {\"large\": {\"h\": 640, \"resize\": \"fit\", \"w\": 640}, \"small\": {\"h\": 340, \"resize\": \"fit\", \"w\": 340}, \"medium\": {\"h\": 600, \"resize\": \"fit\", \"w\": 600}, \"thumb\": {\"h\": 150, \"resize\": \"crop\", \"w\": 150}}, \"url\": \"http://t.co/Ci2MkoKgMC\", \"media_url_https\": \"https://pbs.twimg.com/media/CI4MgsNWcAAO7Ry.jpg\", \"id_str\": \"616443954758840320\", \"indices\": [96, 118], \"media_url\": \"http://pbs.twimg.com/media/CI4MgsNWcAAO7Ry.jpg\", \"type\": \"photo\", \"id\": 616443954758840320, \"display_url\": \"pic.twitter.com/Ci2MkoKgMC\"}], \"hashtags\": [{\"indices\": [0, 10], \"text\": \"Jetlounge\"}, {\"indices\": [12, 29], \"text\": \"100Days100Nights\"}, {\"indices\": [30, 35], \"text\": \"NOLA\"}, {\"indices\": [37, 43], \"text\": \"CWMB3\"}], \"user_mentions\": [], \"trends\": [], \"urls\": [{\"indices\": [73, 95], \"url\": \"http://t.co/jiibcs21ho\", \"expanded_url\": \"http://ift.tt/1LW6KFA\", \"display_url\": \"ift.tt/1LW6KFA\"}]}, \"in_reply_to_screen_name\": null, \"in_reply_to_user_id\": null, \"retweet_count\": 0, \"id_str\": \"616443954825981958\", \"favorited\": false, \"user\": {\"follow_request_sent\": null, \"profile_use_background_image\": true, \"geo_enabled\": false, \"description\": \"Latest pics from New Orleans via Instagram\", \"verified\": false, \"profile_image_url_https\": \"https://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"profile_sidebar_fill_color\": \"DDEEF6\", \"is_translator\": false, \"id\": 2957041439, \"profile_text_color\": \"333333\", \"followers_count\": 970, \"profile_sidebar_border_color\": \"C0DEED\", \"id_str\": \"2957041439\", \"default_profile_image\": false, \"location\": \"\", \"utc_offset\": null, \"statuses_count\": 154998, \"profile_background_color\": \"C0DEED\", \"friends_count\": 98, \"profile_link_color\": \"0084B4\", \"profile_image_url\": \"http://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"notifications\": null, \"profile_background_image_url_https\": \"https://abs.twimg.com/images/themes/theme1/bg.png\", \"profile_banner_url\": \"https://pbs.twimg.com/profile_banners/2957041439/1420223502\", \"profile_background_image_url\": \"http://abs.twimg.com/images/themes/theme1/bg.png\", \"name\": \"Pics from NewOrleans\", \"lang\": \"ru\", \"profile_background_tile\": false, \"favourites_count\": 0, \"screen_name\": \"instaNewOrleans\", \"url\": null, \"created_at\": \"Fri Jan 02 18:24:44 +0000 2015\", \"contributors_enabled\": false, \"time_zone\": null, \"protected\": false, \"default_profile\": true, \"following\": null, \"listed_count\": 385}, \"geo\": null, \"in_reply_to_user_id_str\": null, \"possibly_sensitive\": false, \"lang\": \"en\", \"created_at\": \"Thu Jul 02 03:11:06 +0000 2015\", \"filter_level\": \"low\", \"in_reply_to_status_id_str\": null, \"place\": null, \"extended_entities\": {\"media\": [{\"expanded_url\": \"http://twitter.com/instaNewOrleans/status/616443954825981958/photo/1\", \"sizes\": {\"large\": {\"h\": 640, \"resize\": \"fit\", \"w\": 640}, \"small\": {\"h\": 340, \"resize\": \"fit\", \"w\": 340}, \"medium\": {\"h\": 600, \"resize\": \"fit\", \"w\": 600}, \"thumb\": {\"h\": 150, \"resize\": \"crop\", \"w\": 150}}, \"url\": \"http://t.co/Ci2MkoKgMC\", \"media_url_https\": \"https://pbs.twimg.com/media/CI4MgsNWcAAO7Ry.jpg\", \"id_str\": \"616443954758840320\", \"indices\": [96, 118], \"media_url\": \"http://pbs.twimg.com/media/CI4MgsNWcAAO7Ry.jpg\", \"type\": \"photo\", \"id\": 616443954758840320, \"display_url\": \"pic.twitter.com/Ci2MkoKgMC\"}]}}, \"author\": {\"author_img\": \"http://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"name\": \"InstaNewOrleans\", \"url\": \"http://twitter.com/instaneworleans\", \"nick\": \"instaneworleans\", \"followers\": 29.0, \"image_url\": \"http://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"type\": \"twitter\", \"description\": \"Latest pics from New Orleans via Instagram\"}, \"original_author\": {\"author_img\": \"http://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"description\": \"Latest pics from New Orleans via Instagram\", \"url\": \"http://twitter.com/instaneworleans\", \"nick\": \"instaneworleans\", \"followers\": 29.0, \"image_url\": \"http://pbs.twimg.com/profile_images/551083419187564545/5SaxR6d9_normal.jpeg\", \"type\": \"twitter\", \"name\": \"InstaNewOrleans\"}, \"citation_date\": 1435806666, \"metrics\": {\"acceleration\": 48, \"ranking_score\": 8.218007, \"citations\": {\"influential\": 1, \"total\": 3, \"data\": [{\"timestamp\": 1435777199, \"citations\": 0}, {\"timestamp\": 1435780799, \"citations\": 0}, {\"timestamp\": 1435784399, \"citations\": 1}, {\"timestamp\": 1435787999, \"citations\": 0}, {\"timestamp\": 1435791599, \"citations\": 0}, {\"timestamp\": 1435795199, \"citations\": 0}, {\"timestamp\": 1435798799, \"citations\": 0}, {\"timestamp\": 1435802399, \"citations\": 0}, {\"timestamp\": 1435805999, \"citations\": 0}, {\"timestamp\": 1435809599, \"citations\": 0}, {\"timestamp\": 1435813199, \"citations\": 1}, {\"timestamp\": 1435816799, \"citations\": 0}, {\"timestamp\": 1435820399, \"citations\": 0}, {\"timestamp\": 1435823999, \"citations\": 0}, {\"timestamp\": 1435827599, \"citations\": 0}, {\"timestamp\": 1435831199, \"citations\": 0}, {\"timestamp\": 1435834799, \"citations\": 0}, {\"timestamp\": 1435838399, \"citations\": 0}, {\"timestamp\": 1435841999, \"citations\": 0}, {\"timestamp\": 1435845599, \"citations\": 0}, {\"timestamp\": 1435849199, \"citations\": 0}, {\"timestamp\": 1435852799, \"citations\": 0}, {\"timestamp\": 1435856399, \"citations\": 0}, {\"timestamp\": 1435859999, \"citations\": 0}], \"matching\": 3, \"replies\": 0}, \"peak\": 1435827599, \"impressions\": 8377, \"momentum\": 2}, \"highlight\": \"#Jetlounge. #100Days100Nights #NOLA. #CWMB3 by internationalcorporation3 http://t.co/jiibcs21ho http://t.co/Ci2MkoKgMC\", \"type\": \"tweet\", \"citation_url\": \"http://twitter.com/instaNewOrleans/status/616443954825981958\"}\n</code></pre>\n\n<p>All the ways I've tried to parse the text file have given me some version of this error: </p>\n\n<pre><code>    JSONDecodeError: Expecting value: line 2 column 1 (char 2)\n</code></pre>\n\n<p>My current code is simple but I've tried a few different versions:</p>\n\n<pre><code>    tweets = []\n    for line in open('tweets.txt', 'r'):\n    tweets.append(json.loads(line))\n</code></pre>\n\n<p>Utf-8 encoding didn't fix it and there's nothing obviously hinky with line 2 column 1 that I can see. I'm at a loss for what's causing the error so I'm not sure what to try to fix it. </p>\n"}, {"tags": ["python", "xml", "single-sign-on", "saml", "saml-2.0"], "comments": [{"owner": {"reputation": 26078, "user_id": 145400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e40548053ab6deeef715a1f7fd0aafef?s=128&d=identicon&r=PG", "display_name": "Dr. Jan-Philip Gehrcke", "link": "https://stackoverflow.com/users/145400/dr-jan-philip-gehrcke"}, "edited": false, "score": 0, "creation_date": 1462970016, "post_id": 31975364, "comment_id": 61860883, "body": "Running into the same issue. Thanks for writing down your findings."}], "answers": [{"tags": [], "owner": {"reputation": 26078, "user_id": 145400, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e40548053ab6deeef715a1f7fd0aafef?s=128&d=identicon&r=PG", "display_name": "Dr. Jan-Philip Gehrcke", "link": "https://stackoverflow.com/users/145400/dr-jan-philip-gehrcke"}, "is_accepted": false, "score": 0, "last_activity_date": 1476454505, "creation_date": 1476454505, "answer_id": 40045383, "question_id": 31975364, "link": "https://stackoverflow.com/questions/31975364/namespace-issue-with-pysaml2-xml-canonicalization/40045383#40045383", "title": "Namespace issue with pysaml2 XML canonicalization", "body": "<p>This issue is resolved in the pysaml2 4.3.0 release, available on <a href=\"https://pypi.python.org/pypi/pysaml2\" rel=\"nofollow\">pypi/pysaml2</a>. Also see <a href=\"https://github.com/rohe/pysaml2/pull/336\" rel=\"nofollow\">https://github.com/rohe/pysaml2/pull/336</a> and <a href=\"https://github.com/rohe/pysaml2/pull/365\" rel=\"nofollow\">https://github.com/rohe/pysaml2/pull/365</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 3698094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a145493dffdb6dfcbfbfc53a31390fc9?s=128&d=identicon&r=PG&f=1", "display_name": "zlpublic", "link": "https://stackoverflow.com/users/3698094/zlpublic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 204, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1476454505, "creation_date": 1439413421, "question_id": 31975364, "link": "https://stackoverflow.com/questions/31975364/namespace-issue-with-pysaml2-xml-canonicalization", "title": "Namespace issue with pysaml2 XML canonicalization", "body": "<p>I'm new to SAML and just encountered a problem when using pysaml2 to build an IdP. When creating a signed authn response, the canonicalization algorithm specified in xmldsig/<strong>init</strong>.py is exclusive canonicalization ('<a href=\"http://www.w3.org/2001/10/xml-exc-c14n#\" rel=\"nofollow\">http://www.w3.org/2001/10/xml-exc-c14n#</a>') and it will not include declarations for some namespaces which are necessary for some SPs (e.g. namespace xmlns:xs for QNames like in xsi:type=\"xs:string\"). The W3C recommendation specified InclusiveNamespaces PrefixList to handle these cases, but I couldn't find how to do it in pysaml2. There's a similar issue here:\n<a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=49710\" rel=\"nofollow\">https://bz.apache.org/bugzilla/show_bug.cgi?id=49710</a></p>\n\n<p>Is there a solution for pysaml2? Either include these namespaces, or just remove all these xsi:type=\"xs:string\".</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "arduino", "bytearray", "serial-communication"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439413723, "post_id": 31975356, "comment_id": 51857531, "body": "in c/c++ bytestrings typically must end with &quot;\\0&quot; (ive used lots and lots of arduino serial and pyserial and I can tell you it works just fine in every case I have tried...)"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1439414236, "post_id": 31975356, "comment_id": 51857765, "body": "Can you also try sending something else besides &#39;0&#39; in the other array index positions? (just to see if those are coming back as expected.) Also, is this python 3 or python 2?"}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1439415506, "post_id": 31975356, "comment_id": 51858354, "body": "Also try sending <code>38</code> first, and <code>230</code> last and let us know what the results of that were"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439419766, "post_id": 31975356, "comment_id": 51859796, "body": "you could also put a minimal example that shows completely a reproducible issue"}, {"owner": {"reputation": 107, "user_id": 4704943, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/089b233db86fdca135cdb571ab2fbe54?s=128&d=identicon&r=PG&f=1", "display_name": "rtmurad", "link": "https://stackoverflow.com/users/4704943/rtmurad"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1439831806, "post_id": 31975356, "comment_id": 52011079, "body": "@Dan, I am using Python 3. Tried sending [0, 255, 0, 85, 0] as a bytearray, and received the correct numbers aside from the last, which should have been \\x00 and it instead gave me \\xd0."}, {"owner": {"reputation": 107, "user_id": 4704943, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/089b233db86fdca135cdb571ab2fbe54?s=128&d=identicon&r=PG&f=1", "display_name": "rtmurad", "link": "https://stackoverflow.com/users/4704943/rtmurad"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439837024, "post_id": 31975356, "comment_id": 52013870, "body": "@JoranBeasley, just to be clear, are you suggestingthat I should add a terminal byte to my bytearra, a \\x00, to use to inform the program that it is the end of the information that I need to collect? Or is it just in case one byte gets cut off, then it will be the last and most useless byte?"}], "answers": [{"comments": [{"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1439415733, "post_id": 31975555, "comment_id": 51858444, "body": "I think you missed a small detail. The question states they are sending an array, not the hex value of the bytes. The hex values are just the output when the array is printed on screen to confirm contents before they are sent over serial"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1439419717, "post_id": 31975555, "comment_id": 51859779, "body": "well this is a good start ...  I added a comment with a bytearray ... but ive not messed with them so im not sure how it will behave"}, {"owner": {"reputation": 107, "user_id": 4704943, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/089b233db86fdca135cdb571ab2fbe54?s=128&d=identicon&r=PG&f=1", "display_name": "rtmurad", "link": "https://stackoverflow.com/users/4704943/rtmurad"}, "edited": false, "score": 0, "creation_date": 1439831592, "post_id": 31975555, "comment_id": 52010949, "body": "Tried this code and it gives me the output: b&#39;\\x00\\x00\\x00\\x05\\x00\\x00\\x00\\x00\\x00&#39; which is not right. FYI I use Serial.write() in the arduino code instead of Serial.println() because it makes the output more readable.   Also, Joran is right and I am sending hex values through the s.write using bytearray to transform the numbers to hex values."}], "tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1439419694, "last_edit_date": 1439419694, "creation_date": 1439414169, "answer_id": 31975555, "question_id": 31975356, "link": "https://stackoverflow.com/questions/31975356/python-arduino-serial-communication/31975555#31975555", "title": "Python Arduino serial communication", "body": "<p><strong>test.ino</strong></p>\n\n<pre><code>char buffer[10] = {0,0,0,0,0,0,0,0,0,0};\nvoid setup(){\n    Serial.begin(9600);\n}\nvoid loop(){\n    Serial.println(Serial.readBytes(buffer,5));\n}\n</code></pre>\n\n<p><strong>test.py</strong></p>\n\n<pre><code>import serial\ns=serial.Serial(\"COM5\",timeout=5)\ntime.sleep(5) # wait a couple seconds\ns.write(b\"\\xe6\\x00\\x00\\x00&amp;\")\n# or alternatively\n# s.write(bytes(bytearray([0xe6,0x00,0x00,0x00,0x26])))\nprint(repr(s.read(1000)));\n</code></pre>\n\n<p>this is what a minimum code example looks like ... it should also work...</p>\n"}], "owner": {"reputation": 107, "user_id": 4704943, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/089b233db86fdca135cdb571ab2fbe54?s=128&d=identicon&r=PG&f=1", "display_name": "rtmurad", "link": "https://stackoverflow.com/users/4704943/rtmurad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1336, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439836218, "creation_date": 1439413399, "last_edit_date": 1439836218, "question_id": 31975356, "link": "https://stackoverflow.com/questions/31975356/python-arduino-serial-communication", "title": "Python Arduino serial communication", "body": "<p>So I am having an issue with my serial communication between Python and an Arduino Uno. I have Python sending the number 38 (along with other numbers) through serial communication by a bytearray to Arduino and then back to Python. </p>\n\n<p>The array I am sending is:</p>\n\n<pre><code> [230, 0, 0, 0, 38] \n</code></pre>\n\n<p>And the array it is printing out (when using print()) is:</p>\n\n<pre><code>bytearray(b'\\xe6\\x00\\x00\\x00&amp;\n</code></pre>\n\n<p>The ampersand is there because there is a weird nuance in the printing of the bytearray that when the number is between a certain range (sorry I can't remember the range) it prints it out in ASCII rather then hexidecimal, so the array I am sending to Arduino should still have all of the information needed. </p>\n\n<p>I am receiving the information in Arduino by:</p>\n\n<pre><code>char values[5];    \nSerial.readbytes(values, 5);\n</code></pre>\n\n<p>Once arduino reveives the information, I use Serial.write to send it back to  Python, where I print them out to ensure I have received the correct information. This output received in Python is:</p>\n\n<pre><code>b'\\xe6\\x00\\x00\\x00\\xf6' \n</code></pre>\n\n<p>where the 0xe6 is 230 (correct) and 0xf6 is 246 which is incorrect, it should be the hex value for 38 which is 0x26. </p>\n\n<p>Does anyone have any suggestions as to how to fix this? Any suggestions or help would be appreciated!</p>\n\n<p>EDIT: \nFound my problem, I accidentally had a  misplaced minus '0' because at one point I thought that I had to transform the information from ASCII to hex, but it turns out that I don't. Thanks for the help!</p>\n"}, {"tags": ["python", "json", "pandas", "out-of-memory", "analysis"], "comments": [{"owner": {"reputation": 22852, "user_id": 103081, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b1a6594470fc5cf65f7cc14c21d29c86?s=128&d=identicon&r=PG", "display_name": "Paul", "link": "https://stackoverflow.com/users/103081/paul"}, "edited": false, "score": 0, "creation_date": 1439444595, "post_id": 31975345, "comment_id": 51866150, "body": "This sounds RAM wise and dollar-foolish.   Programming time is usually expensive.  So you have an 11GB file.  Either buy 16/32GB RAM and upgrade your computer or rent a really large virtual machine.  Amazon has EC2 machine type <code>c4.4xlarge</code>  with 32GB RAM at under $1/hour.  And that&#39;s not their biggest one, either.  Google also has some large memory VMs for rent in their cloud, that I recall were more expensive.  Learn how to completely delete the VM when not in use, so you dont get billed for idle time and you will always have access to a big machine when these problems arise."}], "answers": [{"tags": [], "owner": {"reputation": 3258, "user_id": 1389596, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e0170920998e386d56d20ddfce18a9?s=128&d=identicon&r=PG", "display_name": "Kevin Seifert", "link": "https://stackoverflow.com/users/1389596/kevin-seifert"}, "is_accepted": false, "score": 0, "last_activity_date": 1439413561, "creation_date": 1439413561, "answer_id": 31975401, "question_id": 31975345, "link": "https://stackoverflow.com/questions/31975345/python-how-to-stream-large-11-gb-json-file-to-be-broken-up/31975401#31975401", "title": "Python - How to stream large (11 gb) JSON file to be broken up", "body": "<p>I think you need something like a stream parser. ijson may work:</p>\n\n<p><a href=\"https://changelog.com/ijson-parse-streams-of-json-in-python/\" rel=\"nofollow\">https://changelog.com/ijson-parse-streams-of-json-in-python/</a></p>\n"}, {"tags": [], "owner": {"reputation": 70790, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "is_accepted": true, "score": 4, "last_activity_date": 1439443425, "creation_date": 1439443425, "answer_id": 31980076, "question_id": 31975345, "link": "https://stackoverflow.com/questions/31975345/python-how-to-stream-large-11-gb-json-file-to-be-broken-up/31980076#31980076", "title": "Python - How to stream large (11 gb) JSON file to be broken up", "body": "<p>jq 1.5 has a streaming parser (documented at <a href=\"http://stedolan.github.io/jq/manual/#Streaming\" rel=\"nofollow\">http://stedolan.github.io/jq/manual/#Streaming</a>).  In one sense it's easy to use, e.g. if your 1G file is named 1G.json, then the following command will produce a stream of lines, including one line per \"leaf\" value:</p>\n\n<p><code>jq -c --stream . 1G.json</code></p>\n\n<p>(The output is shown below. Notice that each line is itself valid JSON.)</p>\n\n<p>However, using the streamed output may not be so easy, but that depends on what you want to do :-)  </p>\n\n<p>The key to understanding the streamed output is that most lines have the form:</p>\n\n<p><code>[ PATH, VALUE ]</code></p>\n\n<p>where \"PATH\" is an array representation of the path.  (When using jq, this array can in fact be used as a path.)</p>\n\n<pre><code>[[\"actor\",\"classification\",0],\"suggested\"]\n[[\"actor\",\"classification\",0]]\n[[\"actor\",\"displayName\"],\"myself\"]\n[[\"actor\",\"followersCount\"],0]\n[[\"actor\",\"followingCount\"],0]\n[[\"actor\",\"followingStocksCount\"],0]\n[[\"actor\",\"id\"],\"person:stocktwits:183087\"]\n[[\"actor\",\"image\"],\"http://avatars.stocktwits.com/production/183087/thumb-1350332393.png\"]\n[[\"actor\",\"link\"],\"http://stocktwits.com/myselfbtc\"]\n[[\"actor\",\"links\",0,\"href\"],null]\n[[\"actor\",\"links\",0,\"rel\"],\"me\"]\n[[\"actor\",\"links\",0,\"rel\"]]\n[[\"actor\",\"links\",0]]\n[[\"actor\",\"objectType\"],\"person\"]\n[[\"actor\",\"preferredUsername\"],\"myselfbtc\"]\n[[\"actor\",\"statusesCount\"],2]\n[[\"actor\",\"summary\"],null]\n[[\"actor\",\"tradingStrategy\",\"approach\"],\"Technical\"]\n[[\"actor\",\"tradingStrategy\",\"assetsFrequentlyTraded\",0],\"Forex\"]\n[[\"actor\",\"tradingStrategy\",\"assetsFrequentlyTraded\",0]]\n[[\"actor\",\"tradingStrategy\",\"experience\"],\"Novice\"]\n[[\"actor\",\"tradingStrategy\",\"holdingPeriod\"],\"Day Trader\"]\n[[\"actor\",\"tradingStrategy\",\"holdingPeriod\"]]\n[[\"actor\",\"tradingStrategy\"]]\n[[\"body\"],\"$BCOIN and macd is going down ..... http:&amp;#x2F;&amp;#x2F;stks.co&amp;#x2F;iDEB\"]\n[[\"entities\",\"chart\",\"fullImage\",\"link\"],\"http://charts.stocktwits.com/production/original_10047145.png\"]\n[[\"entities\",\"chart\",\"fullImage\",\"link\"]]\n[[\"entities\",\"chart\",\"image\",\"link\"],\"http://charts.stocktwits.com/production/small_10047145.png\"]\n[[\"entities\",\"chart\",\"image\",\"link\"]]\n[[\"entities\",\"chart\",\"link\"],\"http://stks.co/iDEB\"]\n[[\"entities\",\"chart\",\"objectType\"],\"image\"]\n[[\"entities\",\"chart\",\"objectType\"]]\n[[\"entities\",\"sentiment\",\"basic\"],\"Bearish\"]\n[[\"entities\",\"sentiment\",\"basic\"]]\n[[\"entities\",\"stocks\",0,\"displayName\"],\"Bitcoin\"]\n[[\"entities\",\"stocks\",0,\"exchange\"],\"PRIVATE\"]\n[[\"entities\",\"stocks\",0,\"industry\"],null]\n[[\"entities\",\"stocks\",0,\"sector\"],null]\n[[\"entities\",\"stocks\",0,\"stocktwits_id\"],9659]\n[[\"entities\",\"stocks\",0,\"symbol\"],\"BCOIN\"]\n[[\"entities\",\"stocks\",0,\"symbol\"]]\n[[\"entities\",\"stocks\",0]]\n[[\"entities\",\"video\"],null]\n[[\"entities\",\"video\"]]\n[[\"gnip\",\"language\",\"value\"],\"en\"]\n[[\"gnip\",\"language\",\"value\"]]\n[[\"gnip\",\"language\"]]\n[[\"id\"],\"tag:gnip.stocktwits.com:2012:note/10047145\"]\n[[\"inReplyTo\",\"id\"],\"tag:gnip.stocktwits.com:2012:note/10046953\"]\n[[\"inReplyTo\",\"objectType\"],\"comment\"]\n[[\"inReplyTo\",\"objectType\"]]\n[[\"link\"],\"http://stocktwits.com/myselfbtc/message/10047145\"]\n[[\"object\",\"id\"],\"note:stocktwits:10047145\"]\n[[\"object\",\"link\"],\"http://stocktwits.com/myselfbtc/message/10047145\"]\n[[\"object\",\"objectType\"],\"note\"]\n[[\"object\",\"postedTime\"],\"2012-10-17T19:13:50Z\"]\n[[\"object\",\"summary\"],\"$BCOIN and macd is going down ..... http:&amp;#x2F;&amp;#x2F;stks.co&amp;#x2F;iDEB\"]\n[[\"object\",\"updatedTime\"],\"2012-10-17T19:13:50Z\"]\n[[\"object\",\"updatedTime\"]]\n[[\"provider\",\"displayName\"],\"StockTwits\"]\n[[\"provider\",\"link\"],\"http://stocktwits.com\"]\n[[\"provider\",\"link\"]]\n[[\"verb\"],\"post\"]\n[[\"verb\"]]\n</code></pre>\n"}], "owner": {"reputation": 2465, "user_id": 3291077, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/inXvn.jpg?s=128&g=1", "display_name": "rgalbo", "link": "https://stackoverflow.com/users/3291077/rgalbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6055, "favorite_count": 1, "closed_date": 1549662333, "accepted_answer_id": 31980076, "answer_count": 2, "score": 3, "last_activity_date": 1506072343, "creation_date": 1439413358, "last_edit_date": 1506072343, "question_id": 31975345, "link": "https://stackoverflow.com/questions/31975345/python-how-to-stream-large-11-gb-json-file-to-be-broken-up", "closed_reason": "Duplicate", "title": "Python - How to stream large (11 gb) JSON file to be broken up", "body": "<p>I have a very large JSON (11 gb) file that is too large to read into my memory.\nI would like to break it up into smaller files to analyze the data. I am currently using Python and Pandas for the analysis and I am wondering if there is some way to access chunks of the file so that it can be read into memory without crashing the program. Ideally, I would like to break the years worth of data into smaller manageable files that span about a week, however there isn't a constant data size, although it doesn't matter as much if they are a set interval.</p>\n\n<p>Here is the data format</p>\n\n<pre><code>{\n\"actor\" : \n{\n    \"classification\" : [ \"suggested\" ],\n    \"displayName\" : \"myself\",\n    \"followersCount\" : 0,\n    \"followingCount\" : 0,\n    \"followingStocksCount\" : 0,\n    \"id\" : \"person:stocktwits:183087\",\n    \"image\" : \"http://avatars.stocktwits.com/production/183087/thumb-1350332393.png\",\n    \"link\" : \"http://stocktwits.com/myselfbtc\",\n    \"links\" : \n    [\n\n        {\n            \"href\" : null,\n            \"rel\" : \"me\"\n        }\n    ],\n    \"objectType\" : \"person\",\n    \"preferredUsername\" : \"myselfbtc\",\n    \"statusesCount\" : 2,\n    \"summary\" : null,\n    \"tradingStrategy\" : \n    {\n        \"approach\" : \"Technical\",\n        \"assetsFrequentlyTraded\" : [ \"Forex\" ],\n        \"experience\" : \"Novice\",\n        \"holdingPeriod\" : \"Day Trader\"\n    }\n},\n\"body\" : \"$BCOIN and macd is going down ..... http:&amp;#x2F;&amp;#x2F;stks.co&amp;#x2F;iDEB\",\n\"entities\" : \n{\n    \"chart\" : \n    {\n        \"fullImage\" : \n        {\n            \"link\" : \"http://charts.stocktwits.com/production/original_10047145.png\"\n        },\n        \"image\" : \n        {\n            \"link\" : \"http://charts.stocktwits.com/production/small_10047145.png\"\n        },\n        \"link\" : \"http://stks.co/iDEB\",\n        \"objectType\" : \"image\"\n    },\n    \"sentiment\" : \n    {\n        \"basic\" : \"Bearish\"\n    },\n    \"stocks\" : \n    [\n\n        {\n            \"displayName\" : \"Bitcoin\",\n            \"exchange\" : \"PRIVATE\",\n            \"industry\" : null,\n            \"sector\" : null,\n            \"stocktwits_id\" : 9659,\n            \"symbol\" : \"BCOIN\"\n        }\n    ],\n    \"video\" : null\n},\n\"gnip\" : \n{\n    \"language\" : \n    {\n        \"value\" : \"en\"\n    }\n},\n\"id\" : \"tag:gnip.stocktwits.com:2012:note/10047145\",\n\"inReplyTo\" : \n{\n    \"id\" : \"tag:gnip.stocktwits.com:2012:note/10046953\",\n    \"objectType\" : \"comment\"\n},\n\"link\" : \"http://stocktwits.com/myselfbtc/message/10047145\",\n\"object\" : \n{\n    \"id\" : \"note:stocktwits:10047145\",\n    \"link\" : \"http://stocktwits.com/myselfbtc/message/10047145\",\n    \"objectType\" : \"note\",\n    \"postedTime\" : \"2012-10-17T19:13:50Z\",\n    \"summary\" : \"$BCOIN and macd is going down ..... http:&amp;#x2F;&amp;#x2F;stks.co&amp;#x2F;iDEB\",\n    \"updatedTime\" : \"2012-10-17T19:13:50Z\"\n},\n\"provider\" : \n{\n    \"displayName\" : \"StockTwits\",\n    \"link\" : \"http://stocktwits.com\"\n},\n\"verb\" : \"post\"\n}\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 745, "user_id": 1316365, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4747a6d1d3402bb564b6231b9b1d67b7?s=128&d=identicon&r=PG", "display_name": "I.P. Freeley", "link": "https://stackoverflow.com/users/1316365/i-p-freeley"}, "is_accepted": false, "score": 0, "last_activity_date": 1439486886, "creation_date": 1439486886, "answer_id": 31994802, "question_id": 31975303, "link": "https://stackoverflow.com/questions/31975303/matplotlib-tricontourf-with-an-axis-projection/31994802#31994802", "title": "matplotlib tricontourf with an axis projection", "body": "<p>Here's the proof it works with basemap</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nfrom mpl_toolkits.basemap import Basemap\nra = np.random.rand(100)*np.pi*2-np.pi\ndec = np.random.rand(100)*np.pi-np.pi/2.\nz = np.sin(ra)+np.cos(dec)\nlevels=100\n\nfig = plt.figure()\nax = fig.add_subplot(111)\nm = Basemap(projection='nplaea', boundinglat=20., lon_0=0., resolution='l')\nMC = m.contourf(np.degrees(ra),np.degrees(dec),\n                z, levels, ax=ax, tri=True, latlon=True)\nm.drawparallels(np.arange(0,81,20))\nm.drawmeridians(np.arange(-180,181,60))\nfig.savefig('baseContour.png')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/cNldm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cNldm.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 745, "user_id": 1316365, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4747a6d1d3402bb564b6231b9b1d67b7?s=128&d=identicon&r=PG", "display_name": "I.P. Freeley", "link": "https://stackoverflow.com/users/1316365/i-p-freeley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439486886, "creation_date": 1439413165, "question_id": 31975303, "link": "https://stackoverflow.com/questions/31975303/matplotlib-tricontourf-with-an-axis-projection", "title": "matplotlib tricontourf with an axis projection", "body": "<p>I'm trying to contour irregularly sampled data on a sphere, but tricontourf is not behaving well.</p>\n\n<p>example of the problem:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n# Generate some random data points\nra = np.random.rand(100)*np.pi*2-np.pi\ndec = np.random.rand(100)*np.pi-np.pi/2.\nz = np.sin(ra)+np.cos(dec)\n\nlevels=100\n# Contour the data\nfig = plt.figure()\nax = fig.add_subplot(111)\nTF = ax.tricontourf(ra,dec,z, levels)\nfig.savefig('noproject.png')\n# Contour with an aitoff projection\nfig = plt.figure()\nax = fig.add_subplot(111, projection='aitoff')\nTF = ax.tricontourf(ra,dec,z, levels)\nfig.savefig('aitoff.png')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BFyj0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BFyj0.png\" alt=\"noproject.png\"></a>\n<a href=\"https://i.stack.imgur.com/zVsTG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zVsTG.png\" alt=\"aitoff.png\"></a></p>\n\n<p>I can do it with mpl_toolkits.basemap, but I'd like to avoid the dependency since it seems like this should work.</p>\n"}, {"tags": ["python", "numpy", "scipy", "anaconda", "numba"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1439414806, "post_id": 31975205, "comment_id": 51858051, "body": "Have you tried <code>from scipy import special</code> or <code>from scipy.special import ge...</code>?  Sometimes importing from <code>scipy</code> is tricky."}, {"owner": {"reputation": 7279, "user_id": 85248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e7fc3010b5ee1e1e9350ae5d47a74f9?s=128&d=identicon&r=PG", "display_name": "James Adams", "link": "https://stackoverflow.com/users/85248/james-adams"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1439432555, "post_id": 31975205, "comment_id": 51862786, "body": "Thanks for these suggestions, unfortunately I am still getting the errors when I attempt all of the above import methods: Failed at nopython (nopython frontend) Untyped global name &#39;gammainc&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 7279, "user_id": 85248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e7fc3010b5ee1e1e9350ae5d47a74f9?s=128&d=identicon&r=PG", "display_name": "James Adams", "link": "https://stackoverflow.com/users/85248/james-adams"}, "edited": false, "score": 0, "creation_date": 1439478163, "post_id": 31991111, "comment_id": 51888066, "body": "Excellent response, David. Like you say the code runs fine without nopython=True. I was just trying to take things to the end and eek out the most from Numba as possible, but from your explanation above it sounds like I will nevertheless get performance improvements when compiling in object mode. I get what looks to be a 20% increase in performance when using \\@jit with object mode on this one function containing gammainc, but I&#39;ve been spoiled already with the massive gains I&#39;ve seen after using \\@jit on the other functions, so getting nopython mode to work on this function was my goal."}], "tags": [], "owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "is_accepted": true, "score": 5, "last_activity_date": 1439476198, "creation_date": 1439476198, "answer_id": 31991111, "question_id": 31975205, "link": "https://stackoverflow.com/questions/31975205/python-numba-unknown-attribute-error-with-scipy-special-gammainc/31991111#31991111", "title": "Python/Numba: Unknown attribute error with scipy.special.gammainc()", "body": "<p>The problem is that <code>gammainc</code> isn't one of the small list of functions that Numba inherently knows how to deal with (see <a href=\"http://numba.pydata.org/numba-doc/dev/reference/numpysupported.html\" rel=\"noreferrer\">http://numba.pydata.org/numba-doc/dev/reference/numpysupported.html</a>) - in fact none of the scipy functions are. This means you can't use it in \"nopython\" mode, unfortunately - it just has to treat it as a normal python function call.</p>\n\n<p>If you remove <code>nopython=True</code>, it should work. However, that isn't hugely satisfactory, because it may well be slower. Without seeing your code it's difficult to know exact what to suggest. However, in general:</p>\n\n<ul>\n<li><p>loops (that don't contain things like <code>gammainc</code>) will be sped up, even without nopython.</p></li>\n<li><p><code>gammainc</code> is a \"ufunc\", which means it can be readily applied to a whole array at a time, and should run quickly anyway.</p></li>\n<li><p>you can call <code>func.inspect_types()</code> to see it's been able to compile.</p></li>\n</ul>\n\n<p>As a trivial example:</p>\n\n<pre><code>from scipy.special import gammainc\nimport numba as nb\nimport numpy as np\n\n@nb.jit # note - no \"nopython\"\ndef f(x):\n  for n in range(x.shape[0]):\n    x[n] += 1\n  y = gammainc(x,2.5)\n  for n in range(y.shape[0]):\n    y[n] -= 1\n  return y\n\nf(np.linspace(0,20)) # forces it to be JIT'd and outputs an array\n</code></pre>\n\n<p>Then <code>f.inspect_types()</code> identifies the two loops as \"lifted loops\", meaning they'll be JIT'd and run quickly. The bit with <code>gammainc</code> is not JIT'd, but is applied to the whole array at once and so should be fast too.</p>\n"}], "owner": {"reputation": 7279, "user_id": 85248, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/1e7fc3010b5ee1e1e9350ae5d47a74f9?s=128&d=identicon&r=PG", "display_name": "James Adams", "link": "https://stackoverflow.com/users/85248/james-adams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3216, "favorite_count": 1, "accepted_answer_id": 31991111, "answer_count": 1, "score": 4, "last_activity_date": 1439476198, "creation_date": 1439412831, "question_id": 31975205, "link": "https://stackoverflow.com/questions/31975205/python-numba-unknown-attribute-error-with-scipy-special-gammainc", "title": "Python/Numba: Unknown attribute error with scipy.special.gammainc()", "body": "<p>I am having an error when running code using the @jit decorator. It appears that some information for the function scipy.special.gammainc() can't be located:</p>\n\n<pre><code>Failed at nopython (nopython frontend)\nUnknown attribute 'gammainc' for Module(&lt;module 'scipy.special' from 'C:\\home\\Miniconda\\lib\\site-packages\\scipy\\special\\__init__.pyc'&gt;) $164.2 $164.3 = getattr(attr=gammainc, value=$164.2)\n</code></pre>\n\n<p>Without the @jit decorator the code will run fine. Maybe there is something required to make the attributes of the scipy.special module visible to Numba?</p>\n\n<p>Thanks in advance for any suggestions, comments, etc.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1439412874, "post_id": 31975139, "comment_id": 51857075, "body": "Is your <code>g3</code> example correct?  It looks like you have the values transposed relative to what you get from your first example."}, {"owner": {"reputation": 77, "user_id": 2475430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ia3Bz.jpg?s=128&g=1", "display_name": "MrGraeme", "link": "https://stackoverflow.com/users/2475430/mrgraeme"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1439413164, "post_id": 31975139, "comment_id": 51857240, "body": "You are of course correct, I have fixed the error, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "reply_to_user": {"reputation": 77, "user_id": 2475430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ia3Bz.jpg?s=128&g=1", "display_name": "MrGraeme", "link": "https://stackoverflow.com/users/2475430/mrgraeme"}, "edited": false, "score": 0, "creation_date": 1439413282, "post_id": 31975196, "comment_id": 51857299, "body": "@MrGraeme: You do need to use groupby to get <code>g</code>, like you already did in your question.  But yeah, once you&#39;ve done the grouping, you don&#39;t want to use <code>groupby</code> again to reshape your data."}, {"owner": {"reputation": 77, "user_id": 2475430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ia3Bz.jpg?s=128&g=1", "display_name": "MrGraeme", "link": "https://stackoverflow.com/users/2475430/mrgraeme"}, "edited": false, "score": 0, "creation_date": 1439413481, "post_id": 31975196, "comment_id": 51857407, "body": "Yup,  I noticed that the moment I posted the comment...  Looks like my evening is going to be spent with the pivot documentation.  I have accepted your answer and thanks again!"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": true, "score": 7, "last_activity_date": 1439412815, "creation_date": 1439412815, "answer_id": 31975196, "question_id": 31975139, "link": "https://stackoverflow.com/questions/31975139/reshaping-pandas-groupby-data-row-values-into-column-headers/31975196#31975196", "title": "Reshaping Pandas groupby data row values into column headers", "body": "<pre><code>&gt;&gt;&gt; g.reset_index().pivot('course_id', 'student_id', 'score')\nstudent_id     1     2\ncourse_id             \n101         82.5  65.0\n102         77.5  87.5\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 2475430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ia3Bz.jpg?s=128&g=1", "display_name": "MrGraeme", "link": "https://stackoverflow.com/users/2475430/mrgraeme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7488, "favorite_count": 3, "accepted_answer_id": 31975196, "answer_count": 1, "score": 5, "last_activity_date": 1439413119, "creation_date": 1439412586, "last_edit_date": 1439413119, "question_id": 31975139, "link": "https://stackoverflow.com/questions/31975139/reshaping-pandas-groupby-data-row-values-into-column-headers", "title": "Reshaping Pandas groupby data row values into column headers", "body": "<p>I am trying to extract grouped row data from a pandas groupby object so that the primary group data ('course' in the example below) act as a row index, the secondary grouped row values act as column headers ('student') and the aggregate values as the corresponding row data ('score').</p>\n\n<p>So, for example, I would like to transform:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndata = {'course_id':[101,101,101,101,102,102,102,102] ,\n    'student_id':[1,1,2,2,1,1,2,2],\n    'score':[80,85,70,60,90,65,95,80]}\n\ndf = pd.DataFrame(data, columns=['course_id', 'student_id','score'])\n</code></pre>\n\n<p>Which I have grouped by course_id and student_id:</p>\n\n<pre><code>group = df.groupby(['course_id', 'student_id']).aggregate(np.mean)\ng = pd.DataFrame(group)\n</code></pre>\n\n<p>Into something like this:</p>\n\n<pre><code>data = {'course':[101,102],'1':[82.5,77.5],'2':[65.0,87.5]}\ng3 = pd.DataFrame(data, columns=['course', '1', '2'])\n</code></pre>\n\n<p>I have spent some time looking through the <a href=\"http://pandas.pydata.org/pandas-docs/stable/groupby.html\" rel=\"noreferrer\">groupby documentation</a> and I have trawled stack overflow and the like but I'm still not sure how to approach the problem. I would be very grateful if anyone would suggest a sensible way of achieving this for a largish dataset.</p>\n\n<p>Many thanks!</p>\n\n<ul>\n<li>Edited: to fix g3 example typo</li>\n</ul>\n"}, {"tags": ["python", "unit-testing"], "comments": [{"owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "edited": false, "score": 0, "creation_date": 1439421331, "post_id": 31975106, "comment_id": 51860200, "body": "Why do you give it a type declaration and then complain when there is a complaint that it doesn&#39;t match the type declaration?"}, {"owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "reply_to_user": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "edited": false, "score": 0, "creation_date": 1439429098, "post_id": 31975106, "comment_id": 51862019, "body": "@PatrickMaupin The type declaration is required as part of testing. However, I am under the impression that I have taken care of the one case when it doesn&#39;t match the type and is in fact a <code>None</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 7261, "user_id": 3577601, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u0SS2.jpg?s=128&g=1", "display_name": "Patrick Maupin", "link": "https://stackoverflow.com/users/3577601/patrick-maupin"}, "is_accepted": true, "score": 1, "last_activity_date": 1439429560, "creation_date": 1439429560, "answer_id": 31978089, "question_id": 31975106, "link": "https://stackoverflow.com/questions/31975106/error-when-passing-none-instead-of-series-to-function/31978089#31978089", "title": "Error when passing None instead of Series to function", "body": "<p>According to the <a href=\"https://pypi.python.org/pypi/obiwan/1.0.2\" rel=\"nofollow\">obiwan PyPI page</a>:</p>\n\n<p>You can specify alternative constraint types using sets:</p>\n\n<pre><code>def example5(x: {int,float}):\n    ...\n</code></pre>\n\n<p>Taking that at face value, it would seem you should replace:</p>\n\n<pre><code>probabilities : pandas.Series = None\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>probabilities : {pandas.Series, type(None)} = None\n</code></pre>\n\n<p>This will tell obiwan that None is an acceptable value for the parameter.</p>\n\n<p>obiwan is not actually looking <em>into</em> the function itself and doesn't care about the <code>if</code> statement that compares the parameter to None.  It is only looking at the function declaration.</p>\n"}], "owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 31978089, "answer_count": 1, "score": 1, "last_activity_date": 1439429560, "creation_date": 1439412487, "question_id": 31975106, "link": "https://stackoverflow.com/questions/31975106/error-when-passing-none-instead-of-series-to-function", "title": "Error when passing None instead of Series to function", "body": "<p>I have a module <code>fi</code> with the following classes defined:</p>\n\n<pre><code>class CashFlows(Asset):\n\n   def __init__(self, amounts : pandas.Series, probabilities : pandas.Series = None):\n       amounts = Asset.to_cash_flows()\n\n       if probabilities is None:\n           probabilities = pandas.Series([1]*len(amounts), index=amounts.index)\n</code></pre>\n\n<p>I then have another class <code>Bond(fi.Asset)</code> with this method within it, which is where <code>CashFlows</code> is being called:</p>\n\n<pre><code>def to_cash_flows(self, notional : float = 100.0) -&gt; fi.asset.CashFlows:\n    #Bunch of stuff here which is not related\n    series = pandas.Series(list_of_data, indices_of_data)\n    return fi.CashFlows(series)\n</code></pre>\n\n<p>I get the error <code>obiwan.ObiwanError:__init__(probabilities) is None but should be &lt;class 'pandas.core.series.Series'&gt;</code>, but I thought I was addressing the possibility of such an Error with the <code>if</code> statement. <code>obiwan</code> is just a Python type-checking package that I am using during Unit-Testing.</p>\n\n<p>Thank You </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1439412579, "creation_date": 1439412579, "answer_id": 31975135, "question_id": 31975090, "link": "https://stackoverflow.com/questions/31975090/printing-parts-of-a-string-while-skipping-others-in-python/31975135#31975135", "title": "printing parts of a string while skipping others in Python", "body": "<pre><code>my_indices = [1,2,5,6,9]\nprint \"\".join(x for i,x in enumerate(my_string) if i in my_indices)\n</code></pre>\n\n<p>is one way you could do this </p>\n\n<p>you could also use numpy</p>\n\n<pre><code>print \"\".join(numpy.array(list(my_string))[my_indices])\n</code></pre>\n\n<p>this would let you do weird things like</p>\n\n<pre><code>my_indices = [1,2,3,4,9,9,8]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1439412838, "post_id": 31975155, "comment_id": 51857042, "body": "ahh better than my suggestion ... :P"}, {"owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "edited": false, "score": 0, "creation_date": 1439413422, "post_id": 31975155, "comment_id": 51857375, "body": "the letter <b>i</b>, can it be anything? And is <b>.join()</b> used for concatenating large number of things (like +, but better. just read about it here: <a href=\"http://stackoverflow.com/questions/1876191/explain-python-join\">stackoverflow.com/questions/1876191/explain-python-join</a> ) and the string before <b>.join</b> if I introduce a space or whatever inside of it, will it also be printed, or the quotes mean something else here?"}, {"owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "edited": false, "score": 0, "creation_date": 1439414030, "post_id": 31975155, "comment_id": 51857662, "body": "When you iterate over something such as a list, at each step the letter &#39;i&#39; (could be renamed to j, k, banana or whatever) would refer to the current item. &#39;&#39;.join basically takes a list and sticks all the items together with a seperator. In this case there is no seperator &#39;&#39;, resulting in no gaps. If your original list had a space in it as in &#39; &#39; then the space would survive. To experiment try using &#39; no_way &#39;.join(somelist) to see what happens. .join should also be much faster than using + for lists anyway"}, {"owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "edited": false, "score": 0, "creation_date": 1439414895, "post_id": 31975155, "comment_id": 51858096, "body": "Yes, it worked just as you said and I tried it in <a href=\"http://labs.codecademy.com/#:workspace\" rel=\"nofollow noreferrer\">labs.codecademy.com/#:workspace</a>.  I heard that there are different versions of Python but I&#39;ll assume this will be pretty much the same. Also, my original code that made me think of this question was myBanana = &quot;Banana&quot;, tried to make it print <b>Bna</b> (banana buddies!)"}], "tags": [], "owner": {"reputation": 2403, "user_id": 3190054, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/b7de233f9b761d1d0d75d64b608aca88?s=128&d=identicon&r=PG&f=1", "display_name": "kezzos", "link": "https://stackoverflow.com/users/3190054/kezzos"}, "is_accepted": true, "score": 2, "last_activity_date": 1439412914, "last_edit_date": 1439412914, "creation_date": 1439412667, "answer_id": 31975155, "question_id": 31975090, "link": "https://stackoverflow.com/questions/31975090/printing-parts-of-a-string-while-skipping-others-in-python/31975155#31975155", "title": "printing parts of a string while skipping others in Python", "body": "<p>You could try</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>myVariable = 'iheoiahwd'\nidxs = [0, 3, 4, 6, 7]\n\nmyVariable = [myVariable[i] for i in idxs] \nprint ''.join(myVariable)\n</code></pre>\n\n<p>Or simplified to a one liner:</p>\n\n<pre><code>print ''.join([myVariable[i] for i in [0, 3, 4, 6, 7]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 570, "user_id": 3072104, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0cf2000df8a8b2f53526102edcb8b0ca?s=128&d=identicon&r=PG&f=1", "display_name": "geeves", "link": "https://stackoverflow.com/users/3072104/geeves"}, "is_accepted": false, "score": 0, "last_activity_date": 1439413599, "creation_date": 1439413599, "answer_id": 31975408, "question_id": 31975090, "link": "https://stackoverflow.com/questions/31975090/printing-parts-of-a-string-while-skipping-others-in-python/31975408#31975408", "title": "printing parts of a string while skipping others in Python", "body": "<p>It can be as simple as</p>\n\n<pre><code>myVariable = \"goodmorning\"\nprint (myVariable[0] + myVariable[3] + myVariable[5]  + myVariable[6] + myVariable[7] )\n</code></pre>\n\n<p>which outputs \"gdorn\".</p>\n\n<p>It's not elegant.  It simply builds up the string one substring at a time.</p>\n"}], "owner": {"reputation": 135, "user_id": 5220769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E4SPz.png?s=128&g=1", "display_name": "Dick Armstrong", "link": "https://stackoverflow.com/users/5220769/dick-armstrong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 31975155, "answer_count": 3, "score": 1, "last_activity_date": 1439413599, "creation_date": 1439412449, "last_edit_date": 1495539834, "question_id": 31975090, "link": "https://stackoverflow.com/questions/31975090/printing-parts-of-a-string-while-skipping-others-in-python", "title": "printing parts of a string while skipping others in Python", "body": "<p>Say I have the following code:</p>\n\n<p><code>myVariable = \"goodmorning\"</code></p>\n\n<p>I can slice it with e.g. <code>myVariable[1:2]</code> (like Paolo Bergantino said here: <a href=\"https://stackoverflow.com/questions/663171/is-there-a-way-to-substring-a-string-in-python\">Is there a way to substring a string in Python?</a>), but how can I print some of the characters while jumping over others? e.g. how can I make it print <strong>\"gdorn\"</strong>? I tried <code>myVariable[0,3,5,6,7]</code> (which is wrong as it turns out) and I was thinking to myself that, if <code>myVariable[0,3,5,6,7]</code> worked then maybe <code>myVariable[0,3,5:7]</code> would work as well <em>(I hope you see my reasoning)</em>, which it doesn't. I am learning Python through <em>codecademy</em> and I didn't cover <em>functions</em> yet, in case you go into functions and such so if there is something easier like what I tried then I would be appreciate it if you explain it!</p>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 2, "creation_date": 1439412652, "post_id": 31975078, "comment_id": 51856937, "body": "Are those urls included by another urls.py?"}, {"owner": {"reputation": 7116, "user_id": 1394353, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/519ce8a904896c40b9a9e2d9a82e0d3c?s=128&d=identicon&r=PG", "display_name": "JL Peyret", "link": "https://stackoverflow.com/users/1394353/jl-peyret"}, "edited": false, "score": 0, "creation_date": 1439412956, "post_id": 31975078, "comment_id": 51857123, "body": "Agree w Daniel.  Specifically you may need to add a namespace to the % url bit if they are included that way at the higher level."}, {"owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "edited": false, "score": 0, "creation_date": 1439413358, "post_id": 31975078, "comment_id": 51857342, "body": "Hi, Daniel! thats the only file ( url.py) where i defined my urls. I wish to have another files for url in the future, but i prefer to keep it simple for now."}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 3, "creation_date": 1439414640, "post_id": 31975078, "comment_id": 51857974, "body": "Note those url patterns should be in <code>urls.py</code>, not <code>url.py</code> (not sure if that&#39;s a typo in your question or a mistake in your code)."}, {"owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "edited": false, "score": 0, "creation_date": 1439486733, "post_id": 31975078, "comment_id": 51893590, "body": "Sory, was just a typo, the file name is urls.py, thanks for it."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "edited": false, "score": 0, "creation_date": 1439486982, "post_id": 31976027, "comment_id": 51893719, "body": "You mean any <b>import from</b> statement missing? Check that i edit my question and i added to the code blocks with their respectives <b>import statements</b>"}, {"owner": {"reputation": 425, "user_id": 4931737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4p8HHMfnM00/AAAAAAAAAAI/AAAAAAAAALE/HKZLi9NZO-E/photo.jpg?sz=128", "display_name": "Javier Clavero", "link": "https://stackoverflow.com/users/4931737/javier-clavero"}, "reply_to_user": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "edited": false, "score": 0, "creation_date": 1439490618, "post_id": 31976027, "comment_id": 51895718, "body": "In <b>urls.py</b> try <code>from yourapp import views</code>. If you can show the file structure of the project."}, {"owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "edited": false, "score": 0, "creation_date": 1439492651, "post_id": 31976027, "comment_id": 51896780, "body": "Javier i found my mistake discover by @DanielRoseman i have another urls.py defined before, i fell like a dumb, didnt notice..."}], "tags": [], "owner": {"reputation": 425, "user_id": 4931737, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4p8HHMfnM00/AAAAAAAAAAI/AAAAAAAAALE/HKZLi9NZO-E/photo.jpg?sz=128", "display_name": "Javier Clavero", "link": "https://stackoverflow.com/users/4931737/javier-clavero"}, "is_accepted": false, "score": 0, "last_activity_date": 1439416325, "creation_date": 1439416325, "answer_id": 31976027, "question_id": 31975078, "link": "https://stackoverflow.com/questions/31975078/noreversematch-at-django-1-8-form/31976027#31976027", "title": "NoReverseMatch at / django 1.8 form", "body": "<p>I made a test with your data in the same Django version and work, check either because it must be something that is not there and has not imported.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "is_accepted": true, "score": 0, "last_activity_date": 1441921977, "creation_date": 1441921977, "answer_id": 32512242, "question_id": 31975078, "link": "https://stackoverflow.com/questions/31975078/noreversematch-at-django-1-8-form/32512242#32512242", "title": "NoReverseMatch at / django 1.8 form", "body": "<p>The mistake was tha my urls have been included by another urls.py.</p>\n\n<p>Thanks @Daniel Roseman</p>\n"}], "owner": {"reputation": 33, "user_id": 5216732, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153220282063220/picture?type=large", "display_name": "Kiki Mirizio", "link": "https://stackoverflow.com/users/5216732/kiki-mirizio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 397, "favorite_count": 0, "accepted_answer_id": 32512242, "answer_count": 2, "score": 0, "last_activity_date": 1441921977, "creation_date": 1439412413, "last_edit_date": 1439486874, "question_id": 31975078, "link": "https://stackoverflow.com/questions/31975078/noreversematch-at-django-1-8-form", "title": "NoReverseMatch at / django 1.8 form", "body": "<p>Im getting this error trying to load my index.html that has a form inside with a view call on the \"action\" tag.</p>\n\n<pre><code>NoReverseMatch at /\nReverse for 'create' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []\nRequest Method: GET\nRequest URL:    http://localhost:8000/\nDjango Version: 1.8.3\nException Type: NoReverseMatch\nException Value:    \nReverse for 'create' with arguments '()' and keyword arguments '{}' not found. 0 pattern(s) tried: []\n</code></pre>\n\n<p>This is my <strong>urls.py</strong></p>\n\n<pre><code>from django.conf.urls import url\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', views.index, name='index'),\n    url(r'^create_project/$', views.create, name='create'),\n]\n</code></pre>\n\n<p>This is my <strong>view.py</strong>:</p>\n\n<pre><code>from django.shortcuts import get_object_or_404, render\nfrom django.http import HttpResponseRedirect, HttpResponse\nfrom django.core.urlresolvers import reverse\n\ndef index(request):\n   return render(request, 'menu/index.html')\n\ndef create(request):\n   return render(request, 'menu/detail.html')\n</code></pre>\n\n<p>This is the <strong>index.html</strong>  part that shows the action tag that raises the error:</p>\n\n<pre><code>&lt;form class=\"nobottommargin\" id=\"template-contactform\" name=\"template-contactform\" action=\"{% url 'create' %}\" method=\"post\"&gt;\n                                {% csrf_token %}\n\n                                    &lt;div class=\"col_half\"&gt;\n                                        &lt;label for=\"name\"&gt;Project Name &lt;small&gt;*&lt;/small&gt;&lt;/label&gt;\n                                        &lt;input type=\"text\" id=\"name\" name=\"name\" value=\"{{ current_name }}\" class=\"sm-form-control required\" /&gt;\n                                    &lt;/div&gt;\n</code></pre>\n\n<p>I dont know what im doing wrong, hope you can help me!</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439412587, "post_id": 31975065, "comment_id": 51856910, "body": "So, you want to create several <code>Entry</code> widgets, populate their input fields with strings from a <code>list</code>, and then retrieve the contained strings?"}], "answers": [{"tags": [], "owner": {"reputation": 651, "user_id": 5181656, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f5a7c06f9b7f5b9f0d286b3379232d0e?s=128&d=identicon&r=PG", "display_name": "Siwel", "link": "https://stackoverflow.com/users/5181656/siwel"}, "is_accepted": false, "score": 0, "last_activity_date": 1439414371, "creation_date": 1439414371, "answer_id": 31975610, "question_id": 31975065, "link": "https://stackoverflow.com/questions/31975065/python-tkinter-get-has-no-attribute/31975610#31975610", "title": "Python tkinter get() has no attribute", "body": "<p>You are doing the wrong thing when creating the instances of <code>StringVar</code>. You set <code>e</code> to be the item in the list, then overwrite it as an empty <code>StringVar</code>. Instead try:</p>\n\n<pre><code>for i, e in enumerate(self.input_text):\n    self.input_text[i] = StringVar() #Overwrite this item in the list\n    self.input_text[i].set(e) #Set the StringVar to take the value from the list\n    t = Entry(textvariable=self.input_text[i])\n    t.grid(row=self.activeRow,column=4,columnspan=2,sticky=W)\n    self.activeRow += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1271, "user_id": 3339597, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/16ea9e6ce4d4fa8bfee0982ca0844f94?s=128&d=identicon&r=PG&f=1", "display_name": "Re&#39;em", "link": "https://stackoverflow.com/users/3339597/reem"}, "is_accepted": false, "score": 0, "last_activity_date": 1439414579, "creation_date": 1439414579, "answer_id": 31975661, "question_id": 31975065, "link": "https://stackoverflow.com/questions/31975065/python-tkinter-get-has-no-attribute/31975661#31975661", "title": "Python tkinter get() has no attribute", "body": "<p>self.input_text is basically a list of strings. If you want to retrieve something from an entry you need to keep the variable of this entry and call get() on it.</p>\n\n<p>for example:</p>\n\n<pre><code>self.input_text = ['l1', 'l2', 'l3']\nself.entries = []\n\n\nself.activeRow = 3\nfor e in self.input_text:\n    e = StringVar()\n    t = Entry(textvariable=e)\n    t.grid(row=self.activeRow,column=4,columnspan=2,sticky=W)\n    self.activeRow += 1\n\n    self.entries.append(t)\n\n\n\n\n\nbutton1 = Button(text='Write',command=self.__writeNewInfo, width = 15)\nbutton1.grid(row=self.activeRow,column=5,sticky=W)\n\ndef __writeNewInfo(self):\n    x = self.entries[0].get()\n    y = self.entries[1].get()\n    z = self.entries[2].get()\n    print x\n    print y\n    print z\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 5220874, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aUF0tlBWlW0/AAAAAAAAAAI/AAAAAAAAACI/6NotesYetiI/photo.jpg?sz=128", "display_name": "atyson987270", "link": "https://stackoverflow.com/users/5220874/atyson987270"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1439420390, "creation_date": 1439412347, "last_edit_date": 1439420390, "question_id": 31975065, "link": "https://stackoverflow.com/questions/31975065/python-tkinter-get-has-no-attribute", "title": "Python tkinter get() has no attribute", "body": "<p>I'd like to use each variable in the list in an <code>Entry</code> widget, and get the text after pressing a button.</p>\n\n<pre><code>self.input_text = ['l1', 'l2', 'l3']\n\nself.activeRow = 3\nfor e in self.input_text:\n    e = StringVar()\n    t = Entry(textvariable=e)\n    t.grid(row=self.activeRow,column=4,columnspan=2,sticky=W)\n    self.activeRow += 1\n</code></pre>\n\n<p>Eventually, I'd like to write the value of each variable in the list to a file but for now, I can't seem to print <code>self.input_text[0]</code> after the button press.</p>\n\n<pre><code>button1 = Button(text='Write',command=self.__writeNewInfo, width = 15)\nbutton1.grid(row=self.activeRow,column=5,sticky=W)\n\ndef __writeNewInfo(self):\n    x = self.input_text[0].get()\n    y = self.input_text[1].get()\n    z = self.input_text[2].get()\n    print x\n    print y\n    print z\n</code></pre>\n"}, {"tags": ["python", "django", "django-formwizard"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 676610, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/735be43486aa34e7db56d4141072a860?s=128&d=identicon&r=PG", "display_name": "Nils", "link": "https://stackoverflow.com/users/676610/nils"}, "is_accepted": false, "score": 0, "last_activity_date": 1439418622, "creation_date": 1439418622, "answer_id": 31976501, "question_id": 31975017, "link": "https://stackoverflow.com/questions/31975017/django-formwizard-namedurl-problems/31976501#31976501", "title": "Django FormWizard NamedUrl problems", "body": "<p>So I figured it out. My template files are named: step_0_template.html, step_1_template, etc. The correct template is served up by this function: </p>\n\n<pre><code> def get_template_names(self):\n    return ['step_{0}_template.html'.format(self.steps.current)]\n</code></pre>\n\n<p>However when I changed to NamedUrl it started indexing the templates starting at 1 rather than 0. So I just added 1 to all the template names.</p>\n"}], "owner": {"reputation": 85, "user_id": 676610, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/735be43486aa34e7db56d4141072a860?s=128&d=identicon&r=PG", "display_name": "Nils", "link": "https://stackoverflow.com/users/676610/nils"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439418622, "creation_date": 1439412179, "question_id": 31975017, "link": "https://stackoverflow.com/questions/31975017/django-formwizard-namedurl-problems", "title": "Django FormWizard NamedUrl problems", "body": "<p>I'm trying to use NamedUrlSessionWizardView with my form wizard in order to have each step of the form have it's own separate url. However there seems to be minimal documentation so I am having a hard time getting it to work properly. </p>\n\n<p>Right now I am able to enter the url (example.com/form/1) and get each step to display. However for some reason the templates are not displaying the fields for each step, so I can't enter any information. I checked the django debug toolbar and it says that the form is not valid:</p>\n\n<pre><code>'wizard': {'form': &lt;CompanyDetailsForm bound=True, valid=False, fields=(name;state;city;funding_level;products_offered)&gt;\n</code></pre>\n\n<p>Urls.py:</p>\n\n<pre><code>from .views import DataRequestWizardView, step_3_condition, step_4_condition, data_request_forms\nfrom . import views\n\nurlpatterns = [\n    url(r'^$', TemplateView.as_view(template_name=\"landing.html\")),\n    url(r'^start/$', TemplateView.as_view(template_name=\"start.html\"), name='start'),\n    url(r'^form/(?P&lt;step&gt;.+)/$', DataRequestWizardView.as_view(data_request_forms, url_name=\"product_wizard_step\"), name='product_wizard_step'),\n    url(r'^form/$', DataRequestWizardView.as_view(data_request_forms, url_name=\"product_wizard_step\"), name='product_wizard'),\n]\n</code></pre>\n\n<p>Views: </p>\n\n<pre><code>    data_request_forms = (\n        (\"1\", forms.CompanyDetailsForm),\n        (\"2\", forms.DataRequestForm1),\n        (\"3\", forms.DataRequestForm2),\n        (\"4\", forms.DataRequestForm3),\n        (\"5\", forms.DataRequestForm4),\n        (\"6\", forms.DataRequestForm5)\n    )\n\nclass DataRequestWizardView(NamedUrlSessionWizardView):    \n    instance = None\n    def get_template_names(self):\n        return ['step_{0}_template.html'.format(self.steps.current)]\n\n    def get_step_url(self, step):\n        return reverse('canareeform:product_wizard_step', kwargs={'step':step})\n\n    def get_form_instance( self, step ):\n        if self.instance is None:\n            self.instance = DataRequest()\n        return self.instance\n\n    def done( self, form_list, form_dict, **kwargs ):\n        form_dict={}\n        for x in form_list:\n            form_dict=dict(form_dict.items()+x.cleaned_data.items())\n        company = CompanyDetail(name=form_dict['name'], state=form_dict['state'], city=form_dict['city'], funding_level=form_dict['funding_level'], products_offered=form_dict['products_offered'])\n        company.save()\n        request = self.instance\n        request.company = company\n        request.save()\n        return render_to_response('done.html', {'form_data' : form_data})\n</code></pre>\n\n<p>It was working before I changed to NamedUrl and then with only a few edits, the fields are not displaying.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 9405, "user_id": 507544, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/75330946da121a9e1d905dd3f54042f6?s=128&d=identicon&r=PG", "display_name": "nealmcb", "link": "https://stackoverflow.com/users/507544/nealmcb"}, "edited": false, "score": 1, "creation_date": 1467306419, "post_id": 31974942, "comment_id": 63689898, "body": "Plotting with <code>use_index=False</code> is the cleanest and fastest.  That answer by paulperry needs more votes..."}, {"owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "reply_to_user": {"reputation": 9405, "user_id": 507544, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/75330946da121a9e1d905dd3f54042f6?s=128&d=identicon&r=PG", "display_name": "nealmcb", "link": "https://stackoverflow.com/users/507544/nealmcb"}, "edited": false, "score": 1, "creation_date": 1468251213, "post_id": 31974942, "comment_id": 64038359, "body": "done, it was indeed the cleanest so far"}], "answers": [{"comments": [{"owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1439413050, "post_id": 31975066, "comment_id": 51857173, "body": "Thanks, actually I was hoping for something even shorter... For example, normally the &#39;df&#39; variable that you use, would be in my &quot;playground&quot; a very long line of different filterings of the main dataframe, which in the end has some different columns, and I want to check and see how one of them look against the integer number, then maybe another one and so forth. So using your method, I would need at least 3 different actions for each time I want to plot (save a new variable, compute new index column, then drop it).. that makes things quite slow :/"}, {"owner": {"reputation": 1548, "user_id": 3631440, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uC6XS.jpg?s=128&g=1", "display_name": "chris-sc", "link": "https://stackoverflow.com/users/3631440/chris-sc"}, "reply_to_user": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "edited": false, "score": 0, "creation_date": 1439443304, "post_id": 31975066, "comment_id": 51865686, "body": "@nivniv I updated the answer with a simple wrapper that allows you do view plots quick and without modifiying the original data."}, {"owner": {"reputation": 9405, "user_id": 507544, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/75330946da121a9e1d905dd3f54042f6?s=128&d=identicon&r=PG", "display_name": "nealmcb", "link": "https://stackoverflow.com/users/507544/nealmcb"}, "edited": false, "score": 0, "creation_date": 1467306524, "post_id": 31975066, "comment_id": 63689949, "body": "@ninniv Plotting with <code>use_index=False</code> is the cleanest and fastest.  The other answer by paulperry needs your check, and more votes..."}, {"owner": {"reputation": 4268, "user_id": 1739325, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/HEDFv.jpg?s=128&g=1", "display_name": "Rocketq", "link": "https://stackoverflow.com/users/1739325/rocketq"}, "edited": false, "score": 0, "creation_date": 1519053887, "post_id": 31975066, "comment_id": 84742048, "body": "You dont have drop index, just use range(1,20) as x-axis as @tnknepp suggests"}], "tags": [], "owner": {"reputation": 1548, "user_id": 3631440, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uC6XS.jpg?s=128&g=1", "display_name": "chris-sc", "link": "https://stackoverflow.com/users/3631440/chris-sc"}, "is_accepted": false, "score": 3, "last_activity_date": 1439443249, "last_edit_date": 1439443249, "creation_date": 1439412351, "answer_id": 31975066, "question_id": 31974942, "link": "https://stackoverflow.com/questions/31974942/pandas-plot-sorted-column-to-increasing-integer-index/31975066#31975066", "title": "pandas - plot sorted column to increasing integer index", "body": "<p>Quick and easy: You can add a column with increasing integers and use this as x-values:</p>\n\n<pre><code># some dataframe df\ndf['int_index'] = range(len(df))\n\ndf.plot(x='int_index', y='sorted_values')\n</code></pre>\n\n<p>If you don't want to keep the index, drop it afterwards:</p>\n\n<pre><code>df.drop('int_index', axis=1, inplace=True)\n</code></pre>\n\n<p><strong>Helper function:</strong></p>\n\n<p>The Pandas <code>plot</code> function does not take \"external\" data as indices. You can  use matplotlib directly to plot as tnknepp showed, or keep the Pandas plotting (and formatting) with a helper function:</p>\n\n<pre><code>def plot_sorted(series, **kwargs):\n    df = pd.DataFrame({'data': series}).reset_index(drop=True)\n    df.plot(**kwargs)\n</code></pre>\n\n<p>Using a wrapper like this you can quickly plot any <code>Series</code> and customize the plot by calling with the appropriate arguments that will be used to call the <code>plot</code> method. Examples:</p>\n\n<pre><code>ts = pd.Series(np.random.randn(100), index=pd.date_range('1/1/2000', periods=100))\n# default pandas plot (with integer indices)\nplot_sorted(ts)\n\n# scatter plot (using `data` for x and y)\nplot_sorted(ts, x='data', y='data', kind=\"scatter\")\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/2DRfh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2DRfh.png\" alt=\"Default plot\"></a>\n<a href=\"https://i.stack.imgur.com/IgXNt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IgXNt.png\" alt=\"Scatter plot\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "is_accepted": false, "score": 2, "last_activity_date": 1439414357, "creation_date": 1439414357, "answer_id": 31975606, "question_id": 31974942, "link": "https://stackoverflow.com/questions/31974942/pandas-plot-sorted-column-to-increasing-integer-index/31975606#31975606", "title": "pandas - plot sorted column to increasing integer index", "body": "<p>For one line: </p>\n\n<pre><code>import pandas as pd\nfrom pylab import *\n\nfig = figure( figsize=(5,5) )\nax  = fig.add_subplot(111)\n\nax.plot( np.arange(df.shape[0]), df.sort(['A']).A )\n</code></pre>\n\n<p>This is assuming your dataframe is called df and you want to plot the data stored in column \"A\".</p>\n"}, {"tags": [], "owner": {"reputation": 610, "user_id": 4266478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/905bb5da397380a6c3fecf3f60c71544?s=128&d=identicon&r=PG", "display_name": "paulperry", "link": "https://stackoverflow.com/users/4266478/paulperry"}, "is_accepted": true, "score": 14, "last_activity_date": 1461848378, "creation_date": 1461848378, "answer_id": 36915460, "question_id": 31974942, "link": "https://stackoverflow.com/questions/31974942/pandas-plot-sorted-column-to-increasing-integer-index/36915460#36915460", "title": "pandas - plot sorted column to increasing integer index", "body": "<p>This will first sort the series and then plot, ignoring the index of the series:</p>\n\n<p><code>ts = pd.Series(np.random.randn(100), index=pd.date_range('1/1/2000', periods=100))\nts.sort_values().plot(use_index=False)</code></p>\n"}], "owner": {"reputation": 2621, "user_id": 736211, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7e174130c3e5d2a6c7c54418ec149fec?s=128&d=identicon&r=PG", "display_name": "nivniv", "link": "https://stackoverflow.com/users/736211/nivniv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16374, "favorite_count": 0, "accepted_answer_id": 36915460, "answer_count": 3, "score": 6, "last_activity_date": 1461848378, "creation_date": 1439411939, "last_edit_date": 1439413149, "question_id": 31974942, "link": "https://stackoverflow.com/questions/31974942/pandas-plot-sorted-column-to-increasing-integer-index", "title": "pandas - plot sorted column to increasing integer index", "body": "<p>Let's say I have a pandas series with numerical values. What's the shortest way to plot the sorted series against an increasing integer index?</p>\n\n<p>The plot should show:</p>\n\n<p>x-axis: 0,1,2,3,4,...</p>\n\n<p>y-axis: the sorted values of the series.</p>\n\n<p>(please notice that I cannot plot it against the series' index, because the index is not necessarily an increasing index. In my case it's some id that I use for different reasons)</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "shell"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1439412520, "post_id": 31974858, "comment_id": 51856873, "body": "Why not copy the env and set the environment variables using os.environ?"}, {"owner": {"reputation": 339, "user_id": 2793078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fc0922fef5444a7a7a645f3ce0b09833?s=128&d=identicon&r=PG&f=1", "display_name": "user2793078", "link": "https://stackoverflow.com/users/2793078/user2793078"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1439412652, "post_id": 31974858, "comment_id": 51856936, "body": "Thats exactly what I am trying to do but first I need to get the environment variables(in a file) of child process."}], "answers": [{"tags": [], "owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "is_accepted": false, "score": 2, "last_activity_date": 1439422303, "creation_date": 1439422303, "answer_id": 31977123, "question_id": 31974858, "link": "https://stackoverflow.com/questions/31974858/how-to-get-environment-of-child-process-in-python/31977123#31977123", "title": "How to get environment of child process in Python", "body": "<p>On my system (as with many others) the shell is bash, not csh, so explicitly invoking csh is a good idea. Also, you need to source, not execute <em>set_env_vars.csh</em>:</p>\n\n<pre><code>subprocess.call(['/bin/csh', '-c', 'source set_env_vars.csh; env &gt; crazy_vars.log'])\n</code></pre>\n"}], "owner": {"reputation": 339, "user_id": 2793078, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fc0922fef5444a7a7a645f3ce0b09833?s=128&d=identicon&r=PG&f=1", "display_name": "user2793078", "link": "https://stackoverflow.com/users/2793078/user2793078"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439422303, "creation_date": 1439411618, "last_edit_date": 1439412264, "question_id": 31974858, "link": "https://stackoverflow.com/questions/31974858/how-to-get-environment-of-child-process-in-python", "title": "How to get environment of child process in Python", "body": "<p>I need to source the environment of child process. I have a c-shell script(really complicated) that sets many environment variables and I want to use them in the parent process. I doing something like this:</p>\n\n<pre><code>subprocess.call(['set_env_vars.csh;    env&gt;crazy_vars.log' shell=True])\n</code></pre>\n\n<p>In this way I am trying to get the env of child process but this method is not working as I think commands after semicolon are treated as separate processes.</p>\n\n<p>A possible solution is that I created another c-shell script and put those two commands in there and then call that script in python but thats a dirty way.</p>\n\n<p>Is there a way to make two commands as the part of same process.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "opencv", "image-processing"], "comments": [{"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1439897767, "post_id": 31974843, "comment_id": 52039212, "body": "OpenCV C++ will be good for you?"}, {"owner": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1439908524, "post_id": 31974843, "comment_id": 52047171, "body": "@Miki if my C++ wasn&#39;t so rusty, I&#39;d definitely do it. Eventually though, I&#39;d like to migrate this app to C or C++ if the concept works in Python."}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1439908940, "post_id": 31974843, "comment_id": 52047460, "body": "well, I&#39;ll post my C++ answer as soon as I have a little spare time. Then I&#39;ll let you decide if it&#39;s good enough for you. BTW, you can have a look <a href=\"http://www.emgu.com/wiki/index.php/Shape_(Triangle,_Rectangle,_Circle,_Line)_Detection_in_CSharp\" rel=\"nofollow noreferrer\">here</a>. It&#39;s C#, but it&#39;s quite easy to follow."}, {"owner": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "reply_to_user": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "edited": false, "score": 0, "creation_date": 1439909665, "post_id": 31974843, "comment_id": 52048054, "body": "Thank you again Miki, any code in any language will help as I&#39;m literate in a few languages (though rusty to say the least in many). Currently checkout out Practical OpenCV as mentioned by rexroni in the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "edited": false, "score": 0, "creation_date": 1439908606, "post_id": 32060097, "comment_id": 52047240, "body": "Thank you @rexroni for the commentary, I will look into Brahmbhatt&#39;s book and see if it will be helpful!"}], "tags": [], "owner": {"reputation": 433, "user_id": 4951379, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/87650be1f7f26ee65657204cfef0a00a?s=128&d=identicon&r=PG&f=1", "display_name": "rexroni", "link": "https://stackoverflow.com/users/4951379/rexroni"}, "is_accepted": false, "score": 1, "last_activity_date": 1439847334, "creation_date": 1439847334, "answer_id": 32060097, "question_id": 31974843, "link": "https://stackoverflow.com/questions/31974843/detecting-lines-and-shapes-in-opencv-using-python/32060097#32060097", "title": "Detecting lines and shapes in OpenCV using Python", "body": "<p>You might check out a couple of resources.</p>\n\n<p>First, you might consider asking questions at answers.opencv.org.  There is probably a higher concentration of opencv specialists there.</p>\n\n<p>Second, the book Practical OpenCV by Samarth Brahmbhatt is available as a free pdf and is easily found on google.  It is contains many examples related to what you are looking for.</p>\n\n<p>For example, you can separate different (non-overlapping) contours, as is shown in example 6.1 on page 68.  He has a simple program for finding circles and lines in example 6.4 on page 78. You can also find a RANSAC-based ellipse-finder (much more complicated, but would be very useful here) in example 6.5 on page 82.</p>\n\n<p>The book is in C++, but I imagine it will be very relevant, only you will need an API reference to translate it to python.</p>\n\n<p>Personally, for your proejct, I would analyze one contour at a time, starting with his ellipse finder, and where a suitable ellipse can not be found, you could use a Hough transform of adjustable threshold, and truncate the resulting lines at their intersections, and bam!  You have polygons.</p>\n"}, {"comments": [{"owner": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "edited": false, "score": 0, "creation_date": 1439994658, "post_id": 32077775, "comment_id": 52091278, "body": "This is actually perfect. Thank you Miki! I&#39;ll transcribe the code to Python using the API as reference, and use your code when I migrate it to C++ after the POC is done. Many many many thanks!"}, {"owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "reply_to_user": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "edited": false, "score": 1, "creation_date": 1439994967, "post_id": 32077775, "comment_id": 52091506, "body": "@jsanc623 glad it helped!"}, {"owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "edited": false, "score": 0, "creation_date": 1509995312, "post_id": 32077775, "comment_id": 81238010, "body": "Awesome answer as always @Miki :) your implementations are top class :)"}], "tags": [], "owner": {"reputation": 37050, "user_id": 5008845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6a5f08da4793fc6fdd168f81c5100dc?s=128&d=identicon&r=PG&f=1", "display_name": "Miki", "link": "https://stackoverflow.com/users/5008845/miki"}, "is_accepted": true, "score": 14, "last_activity_date": 1439993848, "last_edit_date": 1439993848, "creation_date": 1439915158, "answer_id": 32077775, "question_id": 31974843, "link": "https://stackoverflow.com/questions/31974843/detecting-lines-and-shapes-in-opencv-using-python/32077775#32077775", "title": "Detecting lines and shapes in OpenCV using Python", "body": "<p>Here is my attempt. It's in C++, but can be easily ported to python since most are OpenCV functions.</p>\n\n<p>A brief outline of the method, comments in the code should help, too.</p>\n\n<ol>\n<li>Load the image</li>\n<li>Convert to grayscale</li>\n<li>Binaryze the image (threshold)</li>\n<li>Thinning, to have thin contours and help <code>findContours</code></li>\n<li>Get contours</li>\n<li><p>For each contour, get convex hull (to handle open contours), and classify according to <em>circularity</em>. Handle each shape differently.</p>\n\n<ul>\n<li><strong>Circle</strong> : find the minimum encolsing circle, or the best fitting ellipse</li>\n<li><strong>Recrangle</strong> : find the boundinx box, or the minimum oriented bounding box.</li>\n<li><strong>Triangle</strong> : search for the intersection of the minimum enclosing circle with the original shape, as they would intersect in the three vertices of the triangle. </li>\n</ul></li>\n</ol>\n\n<p>NOTES:</p>\n\n<ul>\n<li>I needed to modify the original image to 3 channel RGB from a png with transparency.</li>\n<li>The <em>thinning</em> code is from <a href=\"https://github.com/bsdnoobz/zhang-suen-thinning\">here</a>. There is also the Python version.</li>\n<li><em>Circularity</em> is defined as: A measures how close to a circle the shape is. E.g. a regular hexagon has higher circularity than say a square. Is defined as (\\frac{4*\\pi*Area}{perimeter * perimeter}). This means that a circle has a circularity of 1, circularity of a square is 0.785, and so on.</li>\n<li>Because of the contours, there may be multiple detection for each shape. These can be filtered out according to, for example, intersection over union condition. I did't inserted this part in the code for now, since it requires additional logic that isn't strictly related to the main task of finding the shapes.</li>\n</ul>\n\n<p><strong>UPDATE</strong>\n- Just noticed that in OpenCV 3.0.0 there is the function <a href=\"http://docs.opencv.org/3.0-beta/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#minenclosingtriangle\">minEnclosingTriangle</a>. This might be helpful to use instead of my procedure to find the triangle vertices. However, since inserting this function in the code would be trivial, I'll leave my procedure in the code in case one doesn't have OpenCV 3.0.0.</p>\n\n<p>The code:</p>\n\n<pre><code>#include &lt;opencv2\\opencv.hpp&gt;\n#include &lt;vector&gt;\n#include &lt;iostream&gt;\n\nusing namespace std;\nusing namespace cv;\n\n/////////////////////////////////////////////////////////////////////////////////////////////\n// Thinning algorithm from here:\n// https://github.com/bsdnoobz/zhang-suen-thinning\n/////////////////////////////////////////////////////////////////////////////////////////////\n\nvoid thinningIteration(cv::Mat&amp; img, int iter)\n{\n    CV_Assert(img.channels() == 1);\n    CV_Assert(img.depth() != sizeof(uchar));\n    CV_Assert(img.rows &gt; 3 &amp;&amp; img.cols &gt; 3);\n\n    cv::Mat marker = cv::Mat::zeros(img.size(), CV_8UC1);\n\n    int nRows = img.rows;\n    int nCols = img.cols;\n\n    if (img.isContinuous()) {\n        nCols *= nRows;\n        nRows = 1;\n    }\n\n    int x, y;\n    uchar *pAbove;\n    uchar *pCurr;\n    uchar *pBelow;\n    uchar *nw, *no, *ne;    // north (pAbove)\n    uchar *we, *me, *ea;\n    uchar *sw, *so, *se;    // south (pBelow)\n\n    uchar *pDst;\n\n    // initialize row pointers\n    pAbove = NULL;\n    pCurr = img.ptr&lt;uchar&gt;(0);\n    pBelow = img.ptr&lt;uchar&gt;(1);\n\n    for (y = 1; y &lt; img.rows - 1; ++y) {\n        // shift the rows up by one\n        pAbove = pCurr;\n        pCurr = pBelow;\n        pBelow = img.ptr&lt;uchar&gt;(y + 1);\n\n        pDst = marker.ptr&lt;uchar&gt;(y);\n\n        // initialize col pointers\n        no = &amp;(pAbove[0]);\n        ne = &amp;(pAbove[1]);\n        me = &amp;(pCurr[0]);\n        ea = &amp;(pCurr[1]);\n        so = &amp;(pBelow[0]);\n        se = &amp;(pBelow[1]);\n\n        for (x = 1; x &lt; img.cols - 1; ++x) {\n            // shift col pointers left by one (scan left to right)\n            nw = no;\n            no = ne;\n            ne = &amp;(pAbove[x + 1]);\n            we = me;\n            me = ea;\n            ea = &amp;(pCurr[x + 1]);\n            sw = so;\n            so = se;\n            se = &amp;(pBelow[x + 1]);\n\n            int A = (*no == 0 &amp;&amp; *ne == 1) + (*ne == 0 &amp;&amp; *ea == 1) +\n                (*ea == 0 &amp;&amp; *se == 1) + (*se == 0 &amp;&amp; *so == 1) +\n                (*so == 0 &amp;&amp; *sw == 1) + (*sw == 0 &amp;&amp; *we == 1) +\n                (*we == 0 &amp;&amp; *nw == 1) + (*nw == 0 &amp;&amp; *no == 1);\n            int B = *no + *ne + *ea + *se + *so + *sw + *we + *nw;\n            int m1 = iter == 0 ? (*no * *ea * *so) : (*no * *ea * *we);\n            int m2 = iter == 0 ? (*ea * *so * *we) : (*no * *so * *we);\n\n            if (A == 1 &amp;&amp; (B &gt;= 2 &amp;&amp; B &lt;= 6) &amp;&amp; m1 == 0 &amp;&amp; m2 == 0)\n                pDst[x] = 1;\n        }\n    }\n\n    img &amp;= ~marker;\n}\n\nvoid thinning(const cv::Mat&amp; src, cv::Mat&amp; dst)\n{\n    dst = src.clone();\n    dst /= 255;         // convert to binary image\n\n    cv::Mat prev = cv::Mat::zeros(dst.size(), CV_8UC1);\n    cv::Mat diff;\n\n    do {\n        thinningIteration(dst, 0);\n        thinningIteration(dst, 1);\n        cv::absdiff(dst, prev, diff);\n        dst.copyTo(prev);\n    } while (cv::countNonZero(diff) &gt; 0);\n\n    dst *= 255;\n}\n\n\nint main()\n{\n    RNG rng(123);\n\n    // Read image\n    Mat3b src = imread(\"path_to_image\");\n\n    // Convert to grayscale\n    Mat1b gray;\n    cvtColor(src, gray, COLOR_BGR2GRAY);\n\n    // Binarize\n    Mat1b bin;\n    threshold(gray, bin, 127, 255, THRESH_BINARY_INV);\n\n    // Perform thinning\n    thinning(bin, bin);\n\n    // Create result image\n    Mat3b res = src.clone();\n\n    // Find contours\n    vector&lt;vector&lt;Point&gt;&gt; contours;\n    findContours(bin.clone(), contours, CV_RETR_LIST, CV_CHAIN_APPROX_NONE);\n\n    // For each contour\n    for (vector&lt;Point&gt;&amp; contour : contours)\n    {\n        // Compute convex hull\n        vector&lt;Point&gt; hull;\n        convexHull(contour, hull);\n\n        // Compute circularity, used for shape classification\n        double area = contourArea(hull);\n        double perimeter = arcLength(hull, true);\n        double circularity = (4 * CV_PI * area) / (perimeter * perimeter);\n\n        // Shape classification\n\n        if (circularity &gt; 0.9)\n        {\n            // CIRCLE\n\n            //{\n            //  // Fit an ellipse ...\n            //  RotatedRect rect = fitEllipse(contour);\n            //  Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));\n            //  ellipse(res, rect, color, 5);\n            //}\n            {\n                // ... or find min enclosing circle\n                Point2f center;\n                float radius;\n                minEnclosingCircle(contour, center, radius);\n                Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));\n                circle(res, center, radius, color, 5);\n            }\n        }\n        else if (circularity &gt; 0.75)\n        {\n            // RECTANGLE\n\n            //{\n            //  // Minimum oriented bounding box ...\n            //  RotatedRect rect = minAreaRect(contour);\n            //  Point2f pts[4];\n            //  rect.points(pts);\n\n            //  Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));\n            //  for (int i = 0; i &lt; 4; ++i)\n            //  {\n            //      line(res, pts[i], pts[(i + 1) % 4], color, 5);\n            //  }\n            //}\n            {\n                // ... or bounding box\n                Rect box = boundingRect(contour);\n                Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));\n                rectangle(res, box, color, 5);\n            }\n        }\n        else if (circularity &gt; 0.7)\n        {\n            // TRIANGLE\n\n            // Select the portion of the image containing only the wanted contour\n            Rect roi = boundingRect(contour);\n            Mat1b maskRoi(bin.rows, bin.cols, uchar(0));\n            rectangle(maskRoi, roi, Scalar(255), CV_FILLED);\n            Mat1b triangle(roi.height, roi.height, uchar(0));\n            bin.copyTo(triangle, maskRoi);\n\n            // Find min encolsing circle on the contour\n            Point2f center;\n            float radius;\n            minEnclosingCircle(contour, center, radius);\n\n            // decrease the size of the enclosing circle until it intersects the contour\n            // in at least 3 different points (i.e. the 3 vertices)\n            vector&lt;vector&lt;Point&gt;&gt; vertices;\n            do\n            {\n                vertices.clear();\n                radius--;\n\n                Mat1b maskCirc(bin.rows, bin.cols, uchar(0));\n                circle(maskCirc, center, radius, Scalar(255), 5);\n\n                maskCirc &amp;= triangle;\n                findContours(maskCirc.clone(), vertices, CV_RETR_LIST, CV_CHAIN_APPROX_NONE);\n\n            } while (vertices.size() &lt; 3);\n\n            // Just get the first point in each vertex blob.\n            // You could get the centroid for a little better accuracy\n\n            Scalar color = Scalar(rng.uniform(0, 255), rng.uniform(0, 255), rng.uniform(0, 255));\n            line(res, vertices[0][0], vertices[1][0], color, 5);\n            line(res, vertices[1][0], vertices[2][0], color, 5);\n            line(res, vertices[2][0], vertices[0][0], color, 5);\n\n        }\n        else\n        {\n            cout &lt;&lt; \"Some other shape...\" &lt;&lt; endl;\n        }\n\n    }\n\n    return 0;\n}\n</code></pre>\n\n<p>The results (<code>minEnclosingCircle</code> and <code>boundingRect</code>):\n<a href=\"https://i.stack.imgur.com/RxFJx.png\"><img src=\"https://i.stack.imgur.com/RxFJx.png\" alt=\"enter image description here\"></a></p>\n\n<p>The results (<code>fitEllipse</code> and <code>minAreaRect</code>):\n<a href=\"https://i.stack.imgur.com/ZvSfE.png\"><img src=\"https://i.stack.imgur.com/ZvSfE.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 504, "user_id": 1753963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93d4becf45448f8b620c0e4b93abd606?s=128&d=identicon&r=PG", "display_name": "jsanc623", "link": "https://stackoverflow.com/users/1753963/jsanc623"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6957, "favorite_count": 7, "accepted_answer_id": 32077775, "answer_count": 2, "score": 12, "last_activity_date": 1439993848, "creation_date": 1439411571, "question_id": 31974843, "link": "https://stackoverflow.com/questions/31974843/detecting-lines-and-shapes-in-opencv-using-python", "title": "Detecting lines and shapes in OpenCV using Python", "body": "<p>I've been playing around with OpenCV (cv2) and detecting lines and shapes. Say that my daughter drew a drawing, like so:</p>\n\n<p><a href=\"https://i.stack.imgur.com/3jiNT.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/3jiNT.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am trying to write a Python script that would analyze the drawing and convert it into hard lines/shapes, something like: </p>\n\n<p><a href=\"https://i.stack.imgur.com/5b0XP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5b0XP.png\" alt=\"enter image description here\"></a></p>\n\n<p>That being said, I have installed opencv and tried to play around with it, but have had no luck aside from being able to draw a single vertical line through the image. Below is my code so far, any pointers or suggestions as to how I should go about doing this with opencv would be greatly appreciated. </p>\n\n<pre><code>import cv2\nimport numpy as np\n\nclass File(object):\n    def __init__(self, filename):\n        self.filename = filename\n\n    def open(self, filename=None, mode='r'):\n        if filename is None:\n            filename = self.filename\n\n        return cv2.imread(filename), open(filename, mode)\n\n    def save(self, image=None, filename_override=None):\n        filename = \"output/\" + self.filename.split('/')[-1]\n\n        if filename_override:\n            filename = \"output/\" + filename_override\n\n        return cv2.imwrite(filename, image)\n\nclass Image(object):\n    def __init__(self, image):\n        self.image = image\n\n    def grayscale(self):\n        return cv2.cvtColor(self.image, cv2.COLOR_BGR2GRAY)\n\n    def edges(self):\n        return cv2.Canny(self.image, 0, 255)\n\n    def lines(self):\n        lines = cv2.HoughLinesP(self.image, 1, np.pi/2, 6, None, 50, 10)\n        for line in lines[0]:\n            pt1 = (line[0],line[1])\n            pt2 = (line[2],line[3])\n            cv2.line(self.image, pt1, pt2, (0,0,255), 2)\n\nif __name__ == '__main__':\n    File = File('images/a.png')\n    Image = Image(File.open()[0])\n    Image.image = Image.grayscale()\n    Image.lines()\n    File.save(Image.image)\n</code></pre>\n\n<p>Unfortunately, for a simple square drawing, all I get back is: </p>\n\n<p><a href=\"https://i.stack.imgur.com/p46aO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/p46aO.png\" alt=\"enter image description here\"></a></p>\n\n<p>where the vertical line in the box is the output from the code.</p>\n"}, {"tags": ["python", "unicode"], "comments": [{"owner": {"reputation": 96896, "user_id": 2296458, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/wbG2s.png?s=128&g=1", "display_name": "Cory Kramer", "link": "https://stackoverflow.com/users/2296458/cory-kramer"}, "edited": false, "score": 0, "creation_date": 1439411688, "post_id": 31974815, "comment_id": 51856400, "body": "<a href=\"https://i.imgur.com/52vWeky.png\" rel=\"nofollow noreferrer\">Unable to reproduce</a> works for me"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439411750, "post_id": 31974815, "comment_id": 51856431, "body": "And here, albeit with 3.4.3 on Yosemite"}, {"owner": {"reputation": 313, "user_id": 4196423, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-OvDMesLoOeY/AAAAAAAAAAI/AAAAAAAAAGU/-yvc7hcDOfM/photo.jpg?sz=128", "display_name": "Velu narasimman", "link": "https://stackoverflow.com/users/4196423/velu-narasimman"}, "edited": false, "score": 0, "creation_date": 1439411903, "post_id": 31974815, "comment_id": 51856528, "body": "oh! CoryKramer , I am excited that that worked for you! how can I solve it? please help me!"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439414672, "post_id": 31974815, "comment_id": 51857990, "body": "The point is, if we can&#39;t recreate it we can&#39;t really help you solve it."}], "owner": {"reputation": 313, "user_id": 4196423, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-OvDMesLoOeY/AAAAAAAAAAI/AAAAAAAAAGU/-yvc7hcDOfM/photo.jpg?sz=128", "display_name": "Velu narasimman", "link": "https://stackoverflow.com/users/4196423/velu-narasimman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439411849, "creation_date": 1439411468, "last_edit_date": 1439411849, "question_id": 31974815, "link": "https://stackoverflow.com/questions/31974815/why-does-the-idle-interprets-and-renders-tamil-unicode-characters-improperly", "title": "why does the IDLE interprets and renders Tamil unicode characters improperly?", "body": "<p>I have installed IDLE 3.4.0 on Ubuntu 14.04 and that works fine for English. I tried to print Tamil Unicode characters:</p>\n\n<pre><code>#!/usr/bin/env python\n# -*- coding: UTF-8 -*-\n\nprint ('\\u0B85')\nprint('\\u0BA4\\u0BC1')\n</code></pre>\n\n<p>Which I thought would print Tamil unicode equivalent characters <code>'\u0b85 \n'</code> <code>'\u0ba4\u0bc1'</code>. I got the first one printed correctly but not the second one.</p>\n\n<p>So I got output like this in here <a href=\"http://imgur.com/87y1jWE\" rel=\"nofollow\">http://imgur.com/87y1jWE</a> , I want to print them as I mentioned above without any crash to characters; how can I do that? The same issue exists with Python in the terminal. </p>\n\n<p>After some searching I came to know that this is not a Python issue but a rendering issue. So how can I make IDLE render Unicode characters properly?</p>\n"}, {"tags": ["python", "ipython", "ipython-notebook", "jupyter"], "comments": [{"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412173, "post_id": 31974797, "comment_id": 51856669, "body": "Which version are you using?"}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412382, "post_id": 31974797, "comment_id": 51856791, "body": "IPython 4.0.0. python 2.7.9. @Cyphase"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 1, "creation_date": 1439412502, "post_id": 31974797, "comment_id": 51856865, "body": "Try <code>ipython --profile=myserver notebook --debug</code>. If it works, I&#39;ll post an answer."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412587, "post_id": 31974797, "comment_id": 51856908, "body": "It terminates with following messages. <code>[TerminalIPythonApp] Loading IPython extension: storemagic [TerminalIPythonApp] WARNING | File not found: u&#39;notebook&#39; [TerminalIPythonApp] IPython not interactive...</code>"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412645, "post_id": 31974797, "comment_id": 51856932, "body": "Using your original command line, try putting the configuration in <code>~&#47;.ipython&#47;profile_myserver&#47;ipython_config.py</code> instead of <code>~&#47;.ipython&#47;profile_myserver&#47;ipython_notebook_config.py</code>."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412730, "post_id": 31974797, "comment_id": 51856979, "body": "Already put the config in both those files. Doesn&#39;t change anything."}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412798, "post_id": 31974797, "comment_id": 51857019, "body": "Try setting the IP to <code>&#39;localhost&#39;</code> instead of <code>&#39;*&#39;</code>. Just in case. Make sure one file isn&#39;t messing with the other."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412870, "post_id": 31974797, "comment_id": 51857071, "body": "It still doesn&#39;t work. From log I can see that it reads the config.  But it complains about this: <code>[TerminalIPythonApp] WARNING | File not found: u&#39;notebook&#39; [TerminalIPythonApp] IPython not interactive...</code>"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439412932, "post_id": 31974797, "comment_id": 51857104, "body": "Wait, isn&#39;t that the error you got from trying the command I gave? I meant for you to go back to using the one in your question :)."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439413082, "post_id": 31974797, "comment_id": 51857194, "body": "I see! I&#39;m using this: <code>ipython notebook --profile=myserver --debug</code> Still the same problem. Runs on 8888. Doesn&#39;t read the config. And both config files are the same"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439413255, "post_id": 31974797, "comment_id": 51857282, "body": "Have you confirmed that it is actually running on port 8888 and not 8889? It&#39;s highly unlikely that it would be inconsistent in that way, but I would check to get that out of the way :P."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439413425, "post_id": 31974797, "comment_id": 51857379, "body": "Just checked. It is not running on 8889. I also tried it on IPython 3.1.0 and everything worked fine. What&#39;s wrong with 4.0.0?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439413803, "post_id": 31974797, "comment_id": 51857566, "body": "Perhaps this has to do with the Jupyter re-org. Try using <code>jupyter</code> instead of <code>ipython</code> to start the notebook."}, {"owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "reply_to_user": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 1, "creation_date": 1439414152, "post_id": 31974797, "comment_id": 51857720, "body": "That was the problem! Configuring the jupyter instead of ipython and starting it with <code>jupyther notebook --profile=myserver</code> solved the problem. Thanks! Please feel free to add the answer :)"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 1, "creation_date": 1439415088, "post_id": 31974797, "comment_id": 51858162, "body": "Done. Also, I added the &#39;jupyter&#39; tag to your post, but you could just do it yourself, as my edit needs to be approved. That&#39;ll make it easier for people to find. I expect others will be running into this over the next few days and beyond, as the new versions were just released."}], "answers": [{"comments": [{"owner": {"reputation": 745, "user_id": 539967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6329844ed5c0d13f3563249cba6d5eec?s=128&d=identicon&r=PG", "display_name": "Kevin Dahl", "link": "https://stackoverflow.com/users/539967/kevin-dahl"}, "edited": false, "score": 2, "creation_date": 1439875799, "post_id": 31975697, "comment_id": 52026296, "body": "jupyter actually no longer has profiles either, see here: <a href=\"https://github.com/jupyter/notebook/pull/310\" rel=\"nofollow noreferrer\">github.com/jupyter/notebook/pull/310</a>"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "reply_to_user": {"reputation": 745, "user_id": 539967, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6329844ed5c0d13f3563249cba6d5eec?s=128&d=identicon&r=PG", "display_name": "Kevin Dahl", "link": "https://stackoverflow.com/users/539967/kevin-dahl"}, "edited": false, "score": 0, "creation_date": 1439876577, "post_id": 31975697, "comment_id": 52026563, "body": "@KevinDahl, hmm, then I wonder what OP meant that it solved the problem.. I&#39;m not familiar enough with it to know."}], "tags": [], "owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "is_accepted": false, "score": 2, "last_activity_date": 1439414729, "creation_date": 1439414729, "answer_id": 31975697, "question_id": 31974797, "link": "https://stackoverflow.com/questions/31974797/ipython-notebook-wont-read-the-configuration-file/31975697#31975697", "title": "IPython notebook won&#39;t read the configuration file", "body": "<p>Instead of using the <code>ipython</code> command, use <code>jupyter</code>:</p>\n\n<pre><code>jupyter notebook --profile=myserver\n</code></pre>\n\n<p>With <a href=\"http://mail.scipy.org/pipermail/ipython-dev/2015-August/016805.html\" rel=\"nofollow\">the release of IPython 4.0</a>, the language-agnostic pieces of IPython, such as the notebook server, were moved to <a href=\"https://jupyter.org/\" rel=\"nofollow\">Jupyter</a>. You can read more about <a href=\"https://blog.jupyter.org/2015/04/15/the-big-split/\" rel=\"nofollow\">The Big Split</a> and <a href=\"http://blog.jupyter.org/2015/08/12/first-release-of-jupyter/\" rel=\"nofollow\">the new release of Jupyter</a> at those links.</p>\n"}, {"comments": [{"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1439850843, "post_id": 31982416, "comment_id": 52020206, "body": "What happens to all the profile folders that are in <code>~&#47;.ipython</code>? Are they ignored? Do I need to copy them over to <code>~&#47;.jupyter</code>?"}, {"owner": {"reputation": 12230, "user_id": 1479269, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8d6345c6e01f0f4ce8acf0792d7769c?s=128&d=identicon&r=PG", "display_name": "dmvianna", "link": "https://stackoverflow.com/users/1479269/dmvianna"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 1, "creation_date": 1439851095, "post_id": 31982416, "comment_id": 52020274, "body": "@raxacoricofallapatorius, I wouldn&#39;t just copy them across, as the API changed a little. The best thing is to edit the new config manually, copying accross whatever settings you had in the old one and reading the comments in the new one to understand the API changes. Yes, they are ignored (AFAIK)."}, {"owner": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1439851436, "post_id": 31982416, "comment_id": 52020379, "body": "That makes sense. Not everything needs to be moved/recreated though, right? It seems like the some things (e.g.<code>ipython_config.py</code>) are still used (at least outside of notebooks). It&#39;s not clear to me where <code>ipython</code> gets reads its configuration vs. where <code>ipython notebook</code> does (or for that matter, what happens with other kernels)."}, {"owner": {"reputation": 12230, "user_id": 1479269, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8d6345c6e01f0f4ce8acf0792d7769c?s=128&d=identicon&r=PG", "display_name": "dmvianna", "link": "https://stackoverflow.com/users/1479269/dmvianna"}, "reply_to_user": {"reputation": 35444, "user_id": 656912, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/ce95c01cbd4f90f014d988ae5c8a422d?s=128&d=identicon&r=PG", "display_name": "orome", "link": "https://stackoverflow.com/users/656912/orome"}, "edited": false, "score": 0, "creation_date": 1439851832, "post_id": 31982416, "comment_id": 52020497, "body": "@raxacoricofallapatorius, you really have to read the <a href=\"https://jupyter.readthedocs.org/en/latest/config.html\" rel=\"nofollow noreferrer\">installation instructions for Jupyter</a>. I didn&#39;t try it, but it seems to me that for the console application you should run <code>jupyter console --generate config</code>. For kernels I believe the process hasn&#39;t changed. I didn&#39;t do anything to them, but they work for me, so maybe it is still reading from <code>~&#47;.ipython</code> after all."}, {"owner": {"reputation": 2318, "user_id": 1913726, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/jEdHu.jpg?s=128&g=1", "display_name": "dmmfll", "link": "https://stackoverflow.com/users/1913726/dmmfll"}, "edited": false, "score": 0, "creation_date": 1443557795, "post_id": 31982416, "comment_id": 53539565, "body": "This section in the docs was helpful: <a href=\"http://jupyter.readthedocs.org/en/latest/migrating.html#migrating\" rel=\"nofollow noreferrer\">Migrating from IPython</a> The IPython configuration I was using for a notebook server needed no changes. After <code>jupyter notebook</code>: <code>The IPython Notebook is running at: https:&#47;&#47;10.0.1.207:10000&#47;</code>"}], "tags": [], "owner": {"reputation": 12230, "user_id": 1479269, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c8d6345c6e01f0f4ce8acf0792d7769c?s=128&d=identicon&r=PG", "display_name": "dmvianna", "link": "https://stackoverflow.com/users/1479269/dmvianna"}, "is_accepted": true, "score": 29, "last_activity_date": 1439452061, "creation_date": 1439452061, "answer_id": 31982416, "question_id": 31974797, "link": "https://stackoverflow.com/questions/31974797/ipython-notebook-wont-read-the-configuration-file/31982416#31982416", "title": "IPython notebook won&#39;t read the configuration file", "body": "<p>IPython has now moved to <strong><a href=\"http://blog.jupyter.org/2015/08/12/first-release-of-jupyter/\" rel=\"noreferrer\">version 4.0</a></strong>, which means that if you are using it, it will be reading its configuration from <code>~/.jupyter</code>, not <code>~/.ipython</code>. You have to create a new configuration file with</p>\n\n<pre><code>jupyter notebook --generate-config\n</code></pre>\n\n<p>and then edit the resulting <code>~/.jupyter/jupyter_notebook_config.py</code> file according to your needs.</p>\n\n<p>More installation instructions <a href=\"https://jupyter.readthedocs.org/en/latest/config.html\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 8004, "user_id": 3450064, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/fd82a72ed3da42b434e182f953399a43?s=128&d=identicon&r=PG&f=1", "display_name": "CentAu", "link": "https://stackoverflow.com/users/3450064/centau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10273, "favorite_count": 3, "accepted_answer_id": 31982416, "answer_count": 2, "score": 16, "last_activity_date": 1439484109, "creation_date": 1439411424, "last_edit_date": 1439484109, "question_id": 31974797, "link": "https://stackoverflow.com/questions/31974797/ipython-notebook-wont-read-the-configuration-file", "title": "IPython notebook won&#39;t read the configuration file", "body": "<p>I used the following command to initialize a profile:</p>\n\n<pre><code>ipython profile create myserver\n</code></pre>\n\n<p>Added thses lines to <code>~/.ipython/profile_myserver/ipython_notebook_config.py</code>:</p>\n\n<pre><code>c = get_config()\nc.NotebookApp.ip = '*'\nc.NotebookApp.port = 8889\n</code></pre>\n\n<p>Tried starting the notebook with:</p>\n\n<pre><code>ipython notebook --profile=myserver --debug\n</code></pre>\n\n<p>It does not read the config file at all.\nThis is the log output:</p>\n\n<pre><code>[W 16:26:56.607 NotebookApp] Unrecognized alias: '--profile=myserver', it will probably have no effect.\n[D 16:26:56.609 NotebookApp] Config changed:\n[D 16:26:56.609 NotebookApp] {'profile': u'myserver', 'NotebookApp': {'log_level': 10}}\n...\n[I 16:26:56.665 NotebookApp] 0 active kernels \n[I 16:26:56.665 NotebookApp] The IPython Notebook is running at: http://localhost:8888/\n</code></pre>\n\n<p>Since I've explicitly specified port 8889 and it still runs on 8888, it clearly ignores the config file. What am I missing?</p>\n"}, {"tags": ["python", "docx", "python-docx"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439411411, "post_id": 31974733, "comment_id": 51856248, "body": "Names with a leading underscore are <i>&quot;private-by-convention&quot;</i>, so you should not rely on them for functionality; the developer may have changed the class&#39;s internal implementation, removing that attribute entirely."}, {"owner": {"reputation": 135, "user_id": 1953832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/15601067/picture?type=large", "display_name": "Farhan Yusufzai", "link": "https://stackoverflow.com/users/1953832/farhan-yusufzai"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439425055, "post_id": 31974733, "comment_id": 51861144, "body": "If that is a private by convention method, is there a way to add in arbitrary XML tags? I still need to add this <code>&lt;w:bookmarkStart&gt;</code> tag..."}, {"owner": {"reputation": 135, "user_id": 1953832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/15601067/picture?type=large", "display_name": "Farhan Yusufzai", "link": "https://stackoverflow.com/users/1953832/farhan-yusufzai"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439425617, "post_id": 31974733, "comment_id": 51861266, "body": "After reading the python-docx source, it seems that you can utilize <code>document._part</code>. However, I am still not certain how to use it..."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439451138, "post_id": 31974733, "comment_id": 51869556, "body": "Again, you should not be relying on internal implementation for your functionality. Bookmarks are not currently supported, by the looks of things, though there&#39;s an open issue to do so: <a href=\"https://github.com/python-openxml/python-docx/issues/171\" rel=\"nofollow noreferrer\">github.com/python-openxml/python-docx/issues/171</a>"}, {"owner": {"reputation": 135, "user_id": 1953832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/15601067/picture?type=large", "display_name": "Farhan Yusufzai", "link": "https://stackoverflow.com/users/1953832/farhan-yusufzai"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1440038155, "post_id": 31974733, "comment_id": 52111424, "body": "I found the solution. Here&#39;s an example: <code>from docx.oxml.shared import OxmlElement # Necessary Import</code> \\ <code>tags = document.element.xpath(&#39;&#47;&#47;w:r&#39;) # Locate the right &lt;w:r&gt; tag</code> \\ <code>tag = tags[0] # Specify which &lt;w:r&gt; tag you want</code> \\ <code>child = OxmlElement(&#39;w:ARBITRARY&#39;) # Create arbitrary tag</code> \\ <code>tag.append(child) # Append in the new tag</code> \\ To add an attribute: <code>from docx.oxml.shared import qn</code> \\ <code>child.set( qn(&#39;w:val&#39;), &#39;VALUE&#39;) # Add in the value</code> \\"}], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 1953832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/15601067/picture?type=large", "display_name": "Farhan Yusufzai", "link": "https://stackoverflow.com/users/1953832/farhan-yusufzai"}, "is_accepted": false, "score": 0, "last_activity_date": 1440050558, "last_edit_date": 1440050558, "creation_date": 1440038317, "answer_id": 32108705, "question_id": 31974733, "link": "https://stackoverflow.com/questions/31974733/using-python-docxs-document-method/32108705#32108705", "title": "Using python-docx&#39;s _document method", "body": "<p>I found the solution. Here's an example:</p>\n\n<pre><code>from docx.oxml.shared import OxmlElement # Necessary Import\n\ntags = document.element.xpath('//w:r') # Locate the right &lt;w:r&gt; tag\n\ntag = tags[0] # Specify which &lt;w:r&gt; tag you want\n\nchild = OxmlElement('w:ARBITRARY') # Create arbitrary tag\n\ntag.append(child) # Append in the new tag\n</code></pre>\n\n<p>To add an attribute:</p>\n\n<pre><code>from docx.oxml.shared import qn\n\nchild.set( qn('w:val'), 'VALUE') # Add in the value\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 1953832, "user_type": "registered", "accept_rate": 23, "profile_image": "https://graph.facebook.com/15601067/picture?type=large", "display_name": "Farhan Yusufzai", "link": "https://stackoverflow.com/users/1953832/farhan-yusufzai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1316, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440050558, "creation_date": 1439411115, "question_id": 31974733, "link": "https://stackoverflow.com/questions/31974733/using-python-docxs-document-method", "title": "Using python-docx&#39;s _document method", "body": "<p>I am using python-docx and am trying to insert the a <code>&lt;w:bookmarkStart&gt;</code> tag. I do not see any immediate API method to create the tag. So I googled several references to gain access to the raw XML using the <code>document._document_part</code> attribute. However, when I attempt to use it, python tells me it does not exist:</p>\n\n<pre><code>&gt;&gt;&gt; import docx\n&gt;&gt;&gt; document = docx.Document()\n&gt;&gt;&gt; print document._document_part\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: 'Document' object has no attribute '_document_part'\n</code></pre>\n\n<p>I am using python-docx 0.8.5.</p>\n\n<p>Is there a method to add a <code>&lt;w:bookmarkStart&gt;</code> tag?</p>\n"}, {"tags": ["python", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 1, "creation_date": 1439410960, "post_id": 31974586, "comment_id": 51856004, "body": "I tried that already,  The code I used is,  b=pd.concat(a[a.v==1],b)  I am getting the following error,  TypeError: first argument must be an iterable of pandas objects, you passed an object of type &quot;DataFrame&quot;"}, {"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1439411004, "post_id": 31974586, "comment_id": 51856034, "body": "You have not closed the square bracket in the code. Where do we close it?"}, {"owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "reply_to_user": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1439411314, "post_id": 31974586, "comment_id": 51856188, "body": "Sorry about that, I missed the last square bracket...now corrected.  I just tested this and it works."}, {"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1439412769, "post_id": 31974586, "comment_id": 51857003, "body": "thanks for the edit. Now it is working. But I am facing an issue here. Before this statement is used, many calculations were done and there were not error. but after introduction of this statement, I am getting errors for the calculations made after that. The following is the error,    File &quot;C:\\Python27\\lib\\site-packages\\pandas\\core\\generic.py&quot;, line 714, in <b>nonzero</b>     .format(self.__class__.__name__)) ValueError: The truth value of a Series is ambiguous. Use a.empty, a.bool(), a.item(), a.any() or a.all().  You have any idea about this? I am not able to use the answer in my code"}, {"owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "reply_to_user": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1439413768, "post_id": 31974586, "comment_id": 51857554, "body": "Without seeing the code I cannot really help.  However, I have seen this error when slicing dataframes/arrays via multiple criteria, e.g. a = a[ a.V==1 and a.Q==5], which is wrong.  This works: a = a[ (a.V==1) &amp; (a.Q==5) ].  I would recommend checking for anything like that in your subsequent lines."}, {"owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "edited": false, "score": 0, "creation_date": 1439415452, "post_id": 31974586, "comment_id": 51858336, "body": "I am getting error in the second line here.  for j in range(1, len(b[1:])):     if b.y[j]== 0 :          b.y[j] = b.y[j-1]"}], "tags": [], "owner": {"reputation": 4442, "user_id": 1678467, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5f1e2e084cb0946c2c159ceaee9f43a0?s=128&d=identicon&r=PG", "display_name": "tnknepp", "link": "https://stackoverflow.com/users/1678467/tnknepp"}, "is_accepted": true, "score": 0, "last_activity_date": 1439411275, "last_edit_date": 1439411275, "creation_date": 1439410619, "answer_id": 31974586, "question_id": 31974548, "link": "https://stackoverflow.com/questions/31974548/take-a-row-from-one-dataframe-and-insert-into-first-row-of-another-dataframe-in/31974586#31974586", "title": "Take a row from one dataframe and insert into first row of another dataframe in python", "body": "<p>Just concatenate?</p>\n\n<pre><code>import pandas as pd\nb = pd.concat([A[A.v==1],b])\n</code></pre>\n"}], "owner": {"reputation": 561, "user_id": 5063127, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/aa46f899fbfac039642a857a833ba17c?s=128&d=identicon&r=PG&f=1", "display_name": "Observer", "link": "https://stackoverflow.com/users/5063127/observer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2072, "favorite_count": 0, "accepted_answer_id": 31974586, "answer_count": 1, "score": 0, "last_activity_date": 1439411302, "creation_date": 1439410493, "last_edit_date": 1439411302, "question_id": 31974548, "link": "https://stackoverflow.com/questions/31974548/take-a-row-from-one-dataframe-and-insert-into-first-row-of-another-dataframe-in", "title": "Take a row from one dataframe and insert into first row of another dataframe in python", "body": "<p>I have two dataframes. Both have the same structure with same columns/columnnames. </p>\n\n<pre><code>A-&gt; dataframe with (v,w,x,y,z) columns ( Some values)\nb -&gt; dataframe with (v,w,x,y,z) columns ( All values)\n</code></pre>\n\n<p>I want to take the value from A dataframe and insert it into B dataframe.</p>\n\n<p>Suppose when v=1, I need to fetch the rows from A dataframe where v==1 and insert into b dataframe. Also I want to insert it to the first row of the B Dataframe.</p>\n\n<p>I tried the following,</p>\n\n<p>b.insert(loc=1,values=A[A.v==1])</p>\n\n<p>But getting errors</p>\n\n<p>Can anybody help in doing this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "mongodb", "csv", "dictionary"], "comments": [{"owner": {"reputation": 1164, "user_id": 3704291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4765f40b9788ab42e575036273910fe7?s=128&d=identicon&r=PG&f=1", "display_name": "gkusner", "link": "https://stackoverflow.com/users/3704291/gkusner"}, "edited": false, "score": 0, "creation_date": 1439412192, "post_id": 31974544, "comment_id": 51856683, "body": "I see no other way to handle the flattening than to make a pass to accumulate the possible keys and the list of possible types for each key, then another pass to to actually make the output csv since you are correct that you cannot add keys partway thru a csv structure."}], "answers": [{"comments": [{"owner": {"reputation": 7325, "user_id": 389569, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5fb5aa9ca5e012bec29d368b1e601f6e?s=128&d=identicon&r=PG", "display_name": "GarlicFries", "link": "https://stackoverflow.com/users/389569/garlicfries"}, "edited": false, "score": 0, "creation_date": 1445545264, "post_id": 33286047, "comment_id": 54380074, "body": "I want to create a CSV file\u2014that&#39;s it. I don&#39;t really care about what happens with it after I generate the file. <code>pickle</code> and <code>repr</code> really don&#39;t have anything to do with what I&#39;m asking here."}], "tags": [], "owner": {"reputation": 1, "user_id": 3487988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a9402352c1e3efcbca0c06a022a0a3?s=128&d=identicon&r=PG&f=1", "display_name": "arahul", "link": "https://stackoverflow.com/users/3487988/arahul"}, "is_accepted": false, "score": 0, "last_activity_date": 1445531597, "creation_date": 1445531597, "answer_id": 33286047, "question_id": 31974544, "link": "https://stackoverflow.com/questions/31974544/creating-a-csv-file-from-heterogeneous-python-dictionaries/33286047#33286047", "title": "Creating a CSV file from heterogeneous Python dictionaries", "body": "<p>The mechanism of flattening depends on what you want to do with the flattened file. If you want to use python for further processing, then pickling might be a good option. Another option could be repr. </p>\n"}], "owner": {"reputation": 7325, "user_id": 389569, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/5fb5aa9ca5e012bec29d368b1e601f6e?s=128&d=identicon&r=PG", "display_name": "GarlicFries", "link": "https://stackoverflow.com/users/389569/garlicfries"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1445531597, "creation_date": 1439410473, "question_id": 31974544, "link": "https://stackoverflow.com/questions/31974544/creating-a-csv-file-from-heterogeneous-python-dictionaries", "title": "Creating a CSV file from heterogeneous Python dictionaries", "body": "<p>I have a list of Python dictionaries (retrieved MongoDB documents) that are heterogeneous in structure. This heterogeneity is by no means straightforward, either. All dicts will contain a certain subset of keys. Some dicts will have keys that others do not have. Two dicts may have the same keys, but the structure underneath those keys may differ. The value of one key for two dicts may be a list in each, but the lengths of the list may differ. I need to essentially flatten all of the dicts and write them to a CSV file. Here is a list of two very heavily abridged example dicts:</p>\n\n<pre><code>[\n  {\n    'answers': {\n      'age': 25.0,\n      'emotion_indices': [34.0951, 16.8922, 19.3003],\n      'hearing_impairments': False,\n      'music_styles': [\n        'rock',\n        'pop',\n        'classical',\n      ],\n      'ratings': {\n        'activity': [4.0, 3.0, 1.0],\n        'positivity': [5.0, 4.0, 3.0],\n      },\n    },\n    'timestamps': {\n      'media': [\n        datetime.datetime(2012, 3, 29, 11, 18, 26),\n        datetime.datetime(2012, 3, 29, 11, 21, 51),\n        datetime.datetime(2012, 3, 29, 11, 24, 13)\n      ],\n    },\n  },\n  {\n    'answers': {\n      'age': 16.0,\n      'emotion_indices': None,\n      'hearing_impairments': False,\n      'music_styles': [\n        'rock', \n        'pop', \n      ],\n      'ratings': {\n        'activity': [2.0, 4.0, 2.0, 2.0],\n        'like_dislike': [1.0, 4.0, 2.0, 1.0],\n        'positivity': [1.0, 4.0, 1.0, 2.0],\n      },\n    },\n    'timestamps': {\n      'media': [\n        datetime.datetime(2010, 7, 13, 19, 9, 50),\n        datetime.datetime(2010, 7, 13, 19, 13, 26),\n        datetime.datetime(2010, 7, 13, 19, 16, 2),\n        datetime.datetime(2010, 7, 13, 19, 18, 1)],\n      'test': datetime.datetime(2010, 7, 13, 19, 8, 36)\n    },\n  }\n]\n</code></pre>\n\n<p>There are solutions for flattening these, but I also see big gotchas. For instance, the first dict has a list for <code>answers.emotion_indices</code>, but the second has <code>None</code>. A 'typical' flattening scheme would represent the first with flattened keys like <code>'answers.emotion_indices.0'</code>, <code>'answers.emotion_indices.1'</code>, etc., and the first with simply <code>'answers.emotion_indices'</code>. The fact that the dicts that <em>do</em> have <code>emotion_indices</code> lists may have lists of varying sizes further complicates things. My data nerd friends (for whom I have a deep respect) would much rather see this and similar instances all represented with as many <code>'answers.emotion_indices.#'</code> as the longest list amongst all records for this field, and those that have either shorter lists or no lists simply show <code>NA</code> or similar.</p>\n\n<p>So, my first question is, <strong>is there a generic, flexible way to flatten all of these dicts?</strong> Or, will the process simply be full of finding all of these inconsistencies and handling them individually?</p>\n\n<p>My second problem has to do with writing all of these flattened dicts to a CSV file. The <code>csv.DictWriter</code> class handles <em>missing</em> values for keys very flexibly. However, as far as I can tell, it does not handle <em>adding</em> keys on the fly that were not originally specified when instantiating the <code>DictWriter</code></p>\n\n<p>So, my second question is, <strong>am I wrong on this, or am I stuck iterating over all of the flattened dicts first to gather keys, making the <code>DictWriter</code>, and then iterating over all of the dicts again to write them? Or, is there a better way to do this that I'm not seeing?</strong></p>\n\n<p>Note that because of the amount of data I'm juggling here, it's very likely that I won't be able to do this in memory--I'll have to retrieve the MongoDB documents, flatten the dicts, persist them to files, iterate over the files to gather keys, and then iterate over the files again after my <code>DictWriter</code> has been setup?</p>\n\n<p>Thanks for your time!</p>\n"}, {"tags": ["python", "argparse"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1439410353, "post_id": 31974472, "comment_id": 51855710, "body": "You never defined a variable called <code>args</code>.  Where do you expect it to come from?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1439410435, "post_id": 31974472, "comment_id": 51855736, "body": "Use <code>args = parser.parse_args()</code>"}, {"owner": {"reputation": 49, "user_id": 5220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1180961315250872/picture?type=large", "display_name": "Leo Shatokhin", "link": "https://stackoverflow.com/users/5220603/leo-shatokhin"}, "edited": false, "score": 0, "creation_date": 1439410439, "post_id": 31974472, "comment_id": 51855739, "body": "Thanks, but isn&#39;t there a special array called args that holds the arguments given? Am I wrong?"}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 2, "creation_date": 1439410469, "post_id": 31974472, "comment_id": 51855753, "body": "@LeoShatokhin: Yes, you are wrong."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1439410746, "post_id": 31974472, "comment_id": 51855886, "body": "You may be thinking of <code>sys.argv</code>, which is where the command line arguments are accessed within your code."}, {"owner": {"reputation": 49, "user_id": 5220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1180961315250872/picture?type=large", "display_name": "Leo Shatokhin", "link": "https://stackoverflow.com/users/5220603/leo-shatokhin"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1439411815, "post_id": 31974472, "comment_id": 51856474, "body": "@jonrsharpe Yes, that&#39;s what I was thinking of. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 30832, "user_id": 459745, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/08a2c6f16c0d4dad20d169d9d76848ac?s=128&d=identicon&r=PG", "display_name": "Hai Vu", "link": "https://stackoverflow.com/users/459745/hai-vu"}, "is_accepted": true, "score": 7, "last_activity_date": 1472067903, "last_edit_date": 1472067903, "creation_date": 1439410446, "answer_id": 31974534, "question_id": 31974472, "link": "https://stackoverflow.com/questions/31974472/python-weird-error-when-assigning-arg-values-to-variables/31974534#31974534", "title": "Python: Weird error when assigning arg values to variables", "body": "<p>You need to assign <code>args</code>:</p>\n\n<pre><code>args = parser.parse_args()\n</code></pre>\n"}], "owner": {"reputation": 49, "user_id": 5220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1180961315250872/picture?type=large", "display_name": "Leo Shatokhin", "link": "https://stackoverflow.com/users/5220603/leo-shatokhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9823, "favorite_count": 0, "accepted_answer_id": 31974534, "answer_count": 1, "score": 3, "last_activity_date": 1472067903, "creation_date": 1439410231, "last_edit_date": 1439483190, "question_id": 31974472, "link": "https://stackoverflow.com/questions/31974472/python-weird-error-when-assigning-arg-values-to-variables", "title": "Python: Weird error when assigning arg values to variables", "body": "<p>I have a weird error thrown by python when trying to assign values from <code>argparse</code> to variables.</p>\n\n<p>My code is:</p>\n\n<pre><code>if __name__ == \"__main__\":\n    parser = argparse.ArgumentParser()\n    parser.add_argument('--hostname', required=True)\n    parser.add_argument('--username', default='root', type=str)\n    parser.add_argument('--password', default='uy4h183D')\n    parser.parse_args()\n    hostname = args.hostname\n    username = args.username\n    password = args.password\n    file = hostname + '.csv'\n    print(\"The filename is {0}\".format(file))\n    main()\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>./4collect.py --hostname bar \nTraceback (most recent call last):\nFile \"./4collect.py\", line 68, in &lt;module&gt;\nhostname = args.hostname\nNameError: name 'args' is not defined\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1439412610, "post_id": 31974373, "comment_id": 51856921, "body": "save the figure before you show it. you destroy the figure after you close the window, which has to happen before your current savefig command is executed. unrelated advice: you should modify your code to make it copy/pastable instead  of providing caveats and leaving it as exercise to the people who are going to answer your questions."}, {"owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1439412823, "post_id": 31974373, "comment_id": 51857033, "body": "@PaulH - thanks....what do you mean by &#39;making it copy/pastable&#39;?"}, {"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1439413102, "post_id": 31974373, "comment_id": 51857205, "body": "The code provided in questions should be a minimal working example: <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>. Your code is not because it doesn&#39;t define the <code>default</code> object. As such, if I copy/paste it into an interpreter, it won&#39;t run, and I won&#39;t be able to observe the problematic behavior of the code. You recognized this and told people trying to help you how to work around it, but that&#39;s not their job. It&#39;s <i>your</i> job to directly provide the work-arounds in the code so we can copy, paste, and focus on solving problems."}, {"owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "reply_to_user": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 0, "creation_date": 1439415803, "post_id": 31974373, "comment_id": 51858467, "body": "@PaulH - Well thanks for taking so much time out to set me straight!  And thanks for the focus!"}], "answers": [{"tags": [], "owner": {"reputation": 1391, "user_id": 2450629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EP5Ah.jpg?s=128&g=1", "display_name": "Haochen Wu", "link": "https://stackoverflow.com/users/2450629/haochen-wu"}, "is_accepted": true, "score": 3, "last_activity_date": 1439410892, "creation_date": 1439410892, "answer_id": 31974661, "question_id": 31974373, "link": "https://stackoverflow.com/questions/31974373/how-to-save-pyplot-figure/31974661#31974661", "title": "How to save pyplot figure", "body": "<p><code>plt.show()</code> will clear your canvas as well. Simply remove it or run <code>plt.savefig</code> before <code>plt.show</code> will fix your problem.</p>\n"}], "owner": {"reputation": 1925, "user_id": 4897557, "user_type": "registered", "accept_rate": 66, "profile_image": "https://lh6.googleusercontent.com/-6zUCOJzQroc/AAAAAAAAAAI/AAAAAAAABZQ/Lg15Hj2Ji8g/photo.jpg?sz=128", "display_name": "GPB", "link": "https://stackoverflow.com/users/4897557/gpb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2577, "favorite_count": 0, "accepted_answer_id": 31974661, "answer_count": 1, "score": 0, "last_activity_date": 1439415343, "creation_date": 1439409856, "last_edit_date": 1439411448, "question_id": 31974373, "link": "https://stackoverflow.com/questions/31974373/how-to-save-pyplot-figure", "title": "How to save pyplot figure", "body": "<p>I am trying to save a pyplot figure to a <code>.png</code> file.</p>\n\n<p>Problem is, the graphic displays on the screen, but the file is a blank page!</p>\n\n<pre><code>import matplotlib.pyplot as plt\n\n# Pie plotting code from Matplotlib.org \nplt.figure(figsize=(12,9))\nlabels = defaults.grade\nsizes = defaults.grade_pct_of_total\ncolors = ['yellowgreen', 'gold', 'lightskyblue', \n          'lightcoral','blue','red','orange']\nexplode = (0.1, 0.1, 0.1, 0.1,0.1,0.1,0.1)\n\nplt.pie(sizes, explode=explode, labels=labels, colors=colors,\n        autopct='%1.1f%%', shadow=True, startangle=90)\n\nplt.title('Default contribution % \\n\\n')\n\n# Set aspect ratio to be equal so that pie is drawn as a circle.\nplt.axis('equal')\n\nplt.show()\nplt.savefig('Default Contributions by Grade.pdf', bbox_inches='tight')\n</code></pre>\n\n<p>Note that</p>\n\n<ul>\n<li><code>defaults.grade</code> is a list <code>['A','B','C','D'...]</code></li>\n<li><code>defaults.grade_pct_of_total</code> is a series of floats</li>\n</ul>\n"}, {"tags": ["python", "ctypes"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1439411288, "post_id": 31974350, "comment_id": 51856172, "body": "Please read the tutorial: <a href=\"https://docs.python.org/2/library/ctypes.html#return-types\" rel=\"nofollow noreferrer\">docs.python.org/2/library/ctypes.html#return-types</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1032, "user_id": 1440598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/269b104fcd29354b21469e99066ba4d9?s=128&d=identicon&r=PG", "display_name": "devanl", "link": "https://stackoverflow.com/users/1440598/devanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1441197676, "creation_date": 1441197676, "answer_id": 32353468, "question_id": 31974350, "link": "https://stackoverflow.com/questions/31974350/ctypes-function-return-double-value-mangled/32353468#32353468", "title": "ctypes function return double value mangled", "body": "<p>from the tutorial provided by eryksun, <a href=\"http://%20docs.python.org/2/library/ctypes.html#return-types\" rel=\"nofollow\">docs.python.org/2/library/ctypes.html#return-types</a></p>\n\n<p>\"By default functions are assumed to return the C int type. Other return types can be specified by setting the restype attribute of the function object.\"</p>\n\n<pre><code>mcc_lib = cdll.LoadLibrary(\"libmcchid.so\")\nvalue = 0x80d5\ngain = 1 #BP_5V\nmcc_lib.volts_USB1608G.restype = c_double\nvolts = mcc_lib.volts_USB1608G(daq.udev, gain, value)\nprint volts, type(volts)\n</code></pre>\n"}], "owner": {"reputation": 1032, "user_id": 1440598, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/269b104fcd29354b21469e99066ba4d9?s=128&d=identicon&r=PG", "display_name": "devanl", "link": "https://stackoverflow.com/users/1440598/devanl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1360, "favorite_count": 0, "accepted_answer_id": 32353468, "answer_count": 1, "score": 0, "last_activity_date": 1441197676, "creation_date": 1439409765, "question_id": 31974350, "link": "https://stackoverflow.com/questions/31974350/ctypes-function-return-double-value-mangled", "title": "ctypes function return double value mangled", "body": "<p>I have a shared library function which I am loading through ctypes:</p>\n\n<pre><code>double volts_USB1608G(usb_dev_handle *udev, const __u8 gain, __u16 value)\n{\n\n  double volt = 0.0;\n\n  switch (gain) {\n    case BP_10V:\n      volt = (value - 32768.)*10./32768.;\n      break;\n    case BP_5V:\n      volt = (value - 32768.)*5./32768.;\n      break;\n    case BP_2V:\n      volt = (value - 32768.)*2./32768.;\n      break;\n    case BP_1V:\n      volt = (value - 32768.)*1./32768;\n      break;\n  }\n  return volt;\n}\n</code></pre>\n\n<p>When I call this in python I get an integer value returned:</p>\n\n<pre><code>mcc_lib = cdll.LoadLibrary(\"libmcchid.so\")\nvalue = 0x80d5\ngain = 1 #BP_5V\nvolts = mcc_lib.volts_USB1608G(daq.udev, gain, value)\nprint volts, type(volts)\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>5117992 &lt;type 'int'&gt;\n</code></pre>\n\n<p>Is there a way to force the typecasting?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "class", "python-2.7"], "comments": [{"owner": {"reputation": 67048, "user_id": 388787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f786b1ad349a30e02802ae61b4518fc?s=128&d=identicon&r=PG", "display_name": "Dan D.", "link": "https://stackoverflow.com/users/388787/dan-d"}, "edited": false, "score": 1, "creation_date": 1439409796, "post_id": 31974298, "comment_id": 51855456, "body": "Why <code>int.__init__(self, val, **kw)</code> and not <code>int.__init__(self, val)</code>?"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1439410766, "post_id": 31974298, "comment_id": 51855894, "body": "Neither <code>int</code> or <code>Setting</code> know what to do with a <code>ul</code> keyword argument. What&#39;s your intention (what are you trying to accomplish)?"}, {"owner": {"reputation": 10256, "user_id": 892383, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbdbac684b02d5267ed66a8996ab53d?s=128&d=identicon&r=PG", "display_name": "Cyphase", "link": "https://stackoverflow.com/users/892383/cyphase"}, "edited": false, "score": 0, "creation_date": 1439411088, "post_id": 31974298, "comment_id": 51856082, "body": "You should really avoid subclassing built-in types like that. Why do you want to do that? What are you trying to accomplish?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1439411243, "post_id": 31974298, "comment_id": 51856151, "body": "<a href=\"http://stackoverflow.com/questions/3238350/subclassing-int-in-python\" title=\"subclassing int in python\">stackoverflow.com/questions/3238350/subclassing-int-in-pytho&zwnj;&#8203;n</a>"}, {"owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "edited": false, "score": 0, "creation_date": 1439708558, "post_id": 31974298, "comment_id": 51966448, "body": "Ok, thank you, I now understand the Ints are immutable. What I am trying to accomplish is to create a &quot;setting&quot; class that can be used to hold application global settings. These should be writeable/readable to/from file between program runs. My idea was to use a JSON object in the settings file, and if Setting was derived from Int (and other known types), the json module could pickle a global dictionary with Setting variables. I will have to think of another solution I guess."}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "edited": false, "score": 0, "creation_date": 1439707938, "post_id": 31974434, "comment_id": 51966314, "body": "Even if I change the line <code>int.__init__(self, val, **kw)</code> to <code>int.__init__(self, val)</code> I get the same error message."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "reply_to_user": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "edited": false, "score": 0, "creation_date": 1439709563, "post_id": 31974434, "comment_id": 51966640, "body": "@Robert: That&#39;s because of what I said about needing to override <code>__new__</code>."}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 2, "last_activity_date": 1439410097, "creation_date": 1439410097, "answer_id": 31974434, "question_id": 31974298, "link": "https://stackoverflow.com/questions/31974298/deriving-from-int-and-using-keyword-arguments-in-python-class/31974434#31974434", "title": "Deriving from int and using keyword arguments in python class", "body": "<p>You can't pass <code>ul</code> as a keyword argument to <code>int</code>, because <code>int</code> doesn't accept such an argument.  You need to just call<code>int.__init__(self, val)</code>.</p>\n\n<p>It's not clear what you intend the use of that argument to be, but whatever it is, you need to handle it in in your own class, not pass it on to <code>int</code>.</p>\n\n<p>Also, because <code>int</code> is immutable, overriding <code>__init__</code> will not work for changing the value.  You need to override <a href=\"https://docs.python.org/2/reference/datamodel.html#object.__new__\" rel=\"nofollow\"><code>__new__</code></a>.</p>\n"}], "owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439410103, "creation_date": 1439409592, "question_id": 31974298, "link": "https://stackoverflow.com/questions/31974298/deriving-from-int-and-using-keyword-arguments-in-python-class", "title": "Deriving from int and using keyword arguments in python class", "body": "<p>I am trying to implement a Setting class that should hold global settings for my application. From the base class I want to derive classes that should hold the actual setting value, can be int, str and so one... This looks like:</p>\n\n<pre><code>class Setting:\n    def __init__(self):\n        pass\n\n\nclass SettingInt(Setting, int):\n    \"\"\"\n    An int setting.\n    \"\"\"\n    def __init__(self, val = 0, **kw):\n        int.__init__(self, val, **kw)\n        Setting.__init__(self)\n</code></pre>\n\n<p>But when the SettingInt is used as</p>\n\n<pre><code>i = SettingInt(0, ul = 1)\n</code></pre>\n\n<p>I get an error:</p>\n\n<p>TypeError: 'ul' is an invalid keyword argument for this function</p>\n\n<p>Why?</p>\n"}, {"tags": ["python", "xml"], "comments": [{"owner": {"reputation": 2997, "user_id": 992504, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0c4dfdb99ee2fb795c568ef78d0c9d50?s=128&d=identicon&r=PG", "display_name": "Hayden Schiff", "link": "https://stackoverflow.com/users/992504/hayden-schiff"}, "edited": false, "score": 2, "creation_date": 1439409416, "post_id": 31974193, "comment_id": 51855262, "body": "What have you tried so far? What library are you using? Please show what you&#39;ve done so we can help resolve your issue. (If you haven&#39;t tried anything on your own yet, please do so and come back here if you have a specific issue. I&#39;d recommend the <a href=\"http://lxml.de\" rel=\"nofollow noreferrer\">lxml</a> library for working with XML in Python)"}, {"owner": {"reputation": 93, "user_id": 4776309, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/981eb9964d3c2a7f214fe542d9a36c1b?s=128&d=identicon&r=PG&f=1", "display_name": "gabesz", "link": "https://stackoverflow.com/users/4776309/gabesz"}, "reply_to_user": {"reputation": 2997, "user_id": 992504, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0c4dfdb99ee2fb795c568ef78d0c9d50?s=128&d=identicon&r=PG", "display_name": "Hayden Schiff", "link": "https://stackoverflow.com/users/992504/hayden-schiff"}, "edited": false, "score": 0, "creation_date": 1439410135, "post_id": 31974193, "comment_id": 51855615, "body": "Well, I&#39;m try to use the xml.etree.ElementTree library. Unfortunately it is not as simple as it appears, because there are lots of &lt;c&gt;..&lt;/c&gt; nodes.  import xml.etree.ElementTree as ET   file=open(&quot;6x6.xml&quot;, &quot;r&quot;) site=ET.Element(&quot;b&quot;) for c in file:     site.append(c) file.write(&quot;out.xml&quot;) file.close()"}, {"owner": {"reputation": 2997, "user_id": 992504, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/0c4dfdb99ee2fb795c568ef78d0c9d50?s=128&d=identicon&r=PG", "display_name": "Hayden Schiff", "link": "https://stackoverflow.com/users/992504/hayden-schiff"}, "edited": false, "score": 1, "creation_date": 1439410214, "post_id": 31974193, "comment_id": 51855649, "body": "Please post your code in your question so that it is easier to read."}], "answers": [{"comments": [{"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 7, "creation_date": 1439420059, "post_id": 31974297, "comment_id": 51859877, "body": "Please keep in mind that even though someone may post a &quot;simple&quot; question, they hopefully have cut out the details of why they are doing that and the larger picture may be unknown to us. This corresponds the Minimal, Complete, and Verifiable questions that stackoverflow encourages <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a>. So, it seems that hard-coding a string should be considered a half-attempted answer when the question shows DOM usage"}, {"owner": {"reputation": 423, "user_id": 3772517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50abc735657d6e563f2a04219ba60725?s=128&d=identicon&r=PG&f=1", "display_name": "michen00", "link": "https://stackoverflow.com/users/3772517/michen00"}, "reply_to_user": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 1, "creation_date": 1439501530, "post_id": 31974297, "comment_id": 51901120, "body": "Thank you for the advice.  I will take this to heart."}], "tags": [], "owner": {"reputation": 423, "user_id": 3772517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/50abc735657d6e563f2a04219ba60725?s=128&d=identicon&r=PG&f=1", "display_name": "michen00", "link": "https://stackoverflow.com/users/3772517/michen00"}, "is_accepted": false, "score": -3, "last_activity_date": 1439409590, "creation_date": 1439409590, "answer_id": 31974297, "question_id": 31974193, "link": "https://stackoverflow.com/questions/31974193/how-can-i-duplicate-an-xml-element-using-python/31974297#31974297", "title": "How can I duplicate an xml element using Python?", "body": "<p>If your problem is as simple as it appears, you don't really need to do it programmatically.  You could just use a text editor.  But if you want to use Python, this should do it:</p>\n\n<pre><code>my_xml_string = '&lt;a&gt;\\n\\t&lt;b&gt;\\n\\t\\t&lt;c&gt;World&lt;/c&gt;\\n\\t&lt;/b&gt;\\n&lt;/a&gt;'\nmy_xml_string2 = '&lt;a&gt;\\n\\t&lt;b&gt;\\n\\t\\t&lt;c&gt;World&lt;/c&gt;\\n\\t\\t&lt;c&gt;World&lt;/c&gt;\\n\\t&lt;/b&gt;\\n&lt;/a&gt;'\n</code></pre>\n\n<p>If this doesn't answer your question, I would recommend being more specific about the process you are trying to achieve.</p>\n"}, {"tags": [], "owner": {"reputation": 83665, "user_id": 2998271, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B7vUA.png?s=128&g=1", "display_name": "har07", "link": "https://stackoverflow.com/users/2998271/har07"}, "is_accepted": true, "score": 11, "last_activity_date": 1439446487, "last_edit_date": 1495541846, "creation_date": 1439446487, "answer_id": 31980746, "question_id": 31974193, "link": "https://stackoverflow.com/questions/31974193/how-can-i-duplicate-an-xml-element-using-python/31980746#31980746", "title": "How can I duplicate an xml element using Python?", "body": "<p>You can use <a href=\"https://docs.python.org/2/library/copy.html#copy.deepcopy\" rel=\"noreferrer\"><code>copy.deepcopy()</code></a> to achieve that, for example :</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nimport copy\n\ns = \"\"\"&lt;a&gt;\n   &lt;b&gt;\n    &lt;c&gt;World&lt;/c&gt;\n   &lt;/b&gt;\n &lt;/a&gt;\"\"\"\n\nfile = ET.fromstring(s)\nb = file.find(\"b\")\nfor c in file.findall(\".//c\"):\n    dupe = copy.deepcopy(c) #copy &lt;c&gt; node\n    b.append(dupe) #insert the new node\n\nprint(ET.tostring(file))\n</code></pre>\n\n<p><strong>output :</strong></p>\n\n<pre><code>&lt;a&gt;\n   &lt;b&gt;\n    &lt;c&gt;World&lt;/c&gt;\n   &lt;c&gt;World&lt;/c&gt;\n   &lt;/b&gt;\n &lt;/a&gt;\n</code></pre>\n\n<p>Related question : <a href=\"https://stackoverflow.com/questions/4005975/etree-clone-node\">etree Clone Node</a></p>\n"}], "owner": {"reputation": 93, "user_id": 4776309, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/981eb9964d3c2a7f214fe542d9a36c1b?s=128&d=identicon&r=PG&f=1", "display_name": "gabesz", "link": "https://stackoverflow.com/users/4776309/gabesz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9698, "favorite_count": 0, "accepted_answer_id": 31980746, "answer_count": 2, "score": 7, "last_activity_date": 1439446487, "creation_date": 1439409158, "last_edit_date": 1439410416, "question_id": 31974193, "link": "https://stackoverflow.com/questions/31974193/how-can-i-duplicate-an-xml-element-using-python", "title": "How can I duplicate an xml element using Python?", "body": "<p>I have an XML file that looks like this:</p>\n\n<pre><code> &lt;a&gt;\n   &lt;b&gt;\n    &lt;c&gt;World&lt;/c&gt;\n   &lt;/b&gt;\n &lt;/a&gt;\n</code></pre>\n\n<p>and should look like this:</p>\n\n<pre><code> &lt;a&gt;\n  &lt;b&gt;\n   &lt;c&gt;World&lt;/c&gt;\n   &lt;c&gt;World&lt;/c&gt;\n  &lt;/b&gt;\n &lt;/a&gt; \n</code></pre>\n\n<p>My code is the following:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\n\nfile=open(\"6x6.xml\", \"r\")\nsite=file.ET.Element(\"b\")\nfor c in file:\n  site.append(c)\nfile.write(\"out.xml\")\nfile.close()\n</code></pre>\n"}, {"tags": ["python", "scipy", "signal-processing"], "comments": [{"owner": {"reputation": 4342, "user_id": 1879010, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c078ef7744a1a430138a654d8d673956?s=128&d=identicon&r=PG", "display_name": "Dietrich", "link": "https://stackoverflow.com/users/1879010/dietrich"}, "edited": false, "score": 0, "creation_date": 1439417067, "post_id": 31974109, "comment_id": 51858914, "body": "It seems that your data is read as strings. Try using <code>numpy.loadtxt()</code>."}], "owner": {"reputation": 86, "user_id": 4844503, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FVzaR.jpg?s=128&g=1", "display_name": "rnt_42", "link": "https://stackoverflow.com/users/4844503/rnt-42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1506, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1439408860, "creation_date": 1439408860, "question_id": 31974109, "link": "https://stackoverflow.com/questions/31974109/ecg-60-hz-noise-filtering-in-python", "title": "ECG 60 Hz noise filtering in Python", "body": "<p>I got some ECG data from a acquisition circuit developed in the lab where I work, and I'm trying to implement a 60 Hz notch filter to minimize the background noise. </p>\n\n<p>Here is the code: </p>\n\n<pre><code>from scipy import fft\nfrom scipy import ifft\nimport matplotlib.pyplot as plt\n\ndef notchfilter(ECGdata):\n\"\"\" Filters the data using notch filter\n\n    Description:\n        Digital filter which returns the filtered signal using 60Hz\n        notch filter. Transforms the signal into frequency domain\n        using the fft function of the Scipy Module. Then, suppresses\n        the 60Hz signal by equating it to zero. Finally, transforms\n        the signal back to time domain using the ifft function.\n    Input:\n        ECGdata -- list of integers (ECG data)\n    Output:\n        ifft(fftECG) -- inverse fast fourier transformed array of filtered ECG data\n\"\"\"         \nfftECG = fft(ECGdata)\nfor i in range(len(fftECG)):\n    if 590&lt;i&lt;620 or 880&lt;i&lt;910: fftECG[i]=0\nreturn ifft(fftECG)\n\ndata = open('ECG_LOG4.TXT','r')\ny = data.readlines()\ndata.close()\n\nt = range(len(y))\n\nplt.plot(t,y)\nplt.show()\n</code></pre>\n\n<p>But I'm getting this error: </p>\n\n<p>\"TypeError: Cannot cast array data from dtype('U1') to dtype('complex128') according to the rule 'safe'.\"</p>\n\n<p>The input data ('ECG_LOG4.txt') is a list with sampled data: </p>\n\n<p>312\\n\n319\\n\n312\\n\n290\\n\n296\\n\n309\\n\n309\\n... </p>\n\n<p>Any idea? I'm a python begginer, so I have no idea for where to start to solve.\nThanks in advance.</p>\n"}, {"tags": ["python", "ipython", "ipython-notebook"], "answers": [{"tags": [], "owner": {"reputation": 771, "user_id": 3761363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oBCdD.png?s=128&g=1", "display_name": "cchi", "link": "https://stackoverflow.com/users/3761363/cchi"}, "is_accepted": false, "score": 0, "last_activity_date": 1440545270, "creation_date": 1440545270, "answer_id": 32215727, "question_id": 31974021, "link": "https://stackoverflow.com/questions/31974021/ipython-notebook-install-error/32215727#32215727", "title": "IPython notebook install error", "body": "<p>How are you installing ipython?</p>\n\n<p>If you have pip, are you using <code>pip install ipython[all]</code>?</p>\n\n<p>I also recommend using virtualenv to start with a completely clean python2.7 install from scratch and see if you encounter the errors still. There may be some version compatibility conflicts on the system.</p>\n\n<p>Alternative is you can install the Anaconda distribution which comes prepackaged with ipython and dependencies <a href=\"http://continuum.io/downloads\" rel=\"nofollow\">http://continuum.io/downloads</a></p>\n"}], "owner": {"reputation": 303, "user_id": 2002858, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/0a16575987658875c692b1238696fdb1?s=128&d=identicon&r=PG", "display_name": "user2002858", "link": "https://stackoverflow.com/users/2002858/user2002858"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1440545270, "creation_date": 1439408559, "last_edit_date": 1439411510, "question_id": 31974021, "link": "https://stackoverflow.com/questions/31974021/ipython-notebook-install-error", "title": "IPython notebook install error", "body": "<p>I'm trying to install IPython notebook on OS X 10.10.2.</p>\n\n<p>After all dependencies have been added, this error occurs:</p>\n\n<pre><code>File \"/Library/Python/2.7/site-packages/jinja2/tests.py\", line 14, in &lt;module&gt;\n    from jinja2._compat import text_type, string_types, integer_types\n  ImportError: cannot import name integer_types\n</code></pre>\n\n<p>How can I fix this?</p>\n"}, {"tags": ["python", "xpath", "web-scraping"], "comments": [{"owner": {"reputation": 159902, "user_id": 3297613, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KHhzd.jpg?s=128&g=1", "display_name": "Avinash Raj", "link": "https://stackoverflow.com/users/3297613/avinash-raj"}, "edited": false, "score": 0, "creation_date": 1439408529, "post_id": 31973952, "comment_id": 51854800, "body": "Think there isn&#39;t a class like above."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 1, "creation_date": 1439408684, "post_id": 31973952, "comment_id": 51854871, "body": "Your problem has nothing to do with this specific page, nor does it have to do with scraping. I&#39;m guessing that if you were to print the page variable, you&#39;d have data. I&#39;m guessing that if you were to print the tree variable, you&#39;d have data. Which means that the line of code that is failing is your <code>tree.xpath()</code> call. Which means your xpath is wrong. So, your question really is: Why is this xpath wrong: <code>&#47;&#47;div[@class=&quot;apr&quot;]&#47;text()</code>"}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "edited": false, "score": 0, "creation_date": 1439408741, "post_id": 31973952, "comment_id": 51854900, "body": "if you inspect the apr element on the web page you will see it is surrounded by the tag &lt;div class=&quot;apr&quot;&gt; #.###% &lt;/div&gt;"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1439408822, "post_id": 31973952, "comment_id": 51854937, "body": "Get your <a href=\"http://stackoverflow.com/questions/3030487/is-there-a-way-to-get-the-xpath-in-google-chrome\">xpath right in the browser</a>."}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "reply_to_user": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439408839, "post_id": 31973952, "comment_id": 51854953, "body": "@LynnCrumbling. Thank you, sorry I am new to this. Should I post &quot;Why is this xpath wrong&quot; as a separate question?"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439408916, "post_id": 31973952, "comment_id": 51855001, "body": "Nope, just please change your title, and edit your question to only include the relevant information. - Forget about the context of where you are having the issue (no need to mention mortgage rates, or yahoo finance.) Let&#39;s get it down to bare elements: (a) an xpath that you thought would work, but doesn&#39;t. (b) the url and element that you are targetting."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1439408973, "post_id": 31973952, "comment_id": 51855033, "body": "@PeterWood Nice - Zachary, take a look at this. It is exactly what you need."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1439408997, "post_id": 31973952, "comment_id": 51855045, "body": "@PeterWood If you answer, I think you deserve the +15 on this."}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "reply_to_user": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1439409206, "post_id": 31973952, "comment_id": 51855161, "body": "@PeterWood Great tool! I coppied the xpath using the tool included in Firebug and it gave me this: /html/body/form/div[4]/table/tbody/tr[2]/td[2]/div[1]. When I edited my code with this Xpath, I still got an empty list. Any Ideas?"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439409677, "post_id": 31973952, "comment_id": 51855407, "body": "@ZacharyLuety Do the other two variables contain data (<code>page</code> and <code>tree</code>)?"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439409934, "post_id": 31973952, "comment_id": 51855516, "body": "Update the full line of code that calls tree.xpath() so we can see exactly what you&#39;re running. If you copy and pasted that xpath exactly, you&#39;d only going to target a single element, not all of them. And you&#39;re getting an element reference, not the text or innertext."}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "reply_to_user": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439410091, "post_id": 31973952, "comment_id": 51855598, "body": "@LynnCrumbling. Both page and tree contain data (by that I mean print(page.text) and print(tree) return the expected output)"}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "edited": false, "score": 0, "creation_date": 1439410436, "post_id": 31973952, "comment_id": 51855737, "body": "Edited question to show code with updated path. How it is set up now should only pull a single interest rate, I think. Unfortunately I&#39;m still getting the follwoing as an output: One interest rate is:  [] [Finished in 1.036s]"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439411061, "post_id": 31973952, "comment_id": 51856064, "body": "What do you think the <code>&#47;text()</code> at the end is doing?"}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "edited": false, "score": 0, "creation_date": 1439411252, "post_id": 31973952, "comment_id": 51856159, "body": "I was assuming that it would select the data between the &lt;div&gt; &lt;/div&gt; tags"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439411305, "post_id": 31973952, "comment_id": 51856184, "body": "<a href=\"http://infohost.nmt.edu/tcc/help/pubs/pylxml/web/xpath.html\" rel=\"nofollow noreferrer\">Section 10.1: The \u201ctext()\u201d function selects only text nodes, discarding any elements, comments, and other non-textual content. The return value is a list of strings.</a>"}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439411432, "post_id": 31973952, "comment_id": 51856268, "body": "If I&#39;m reading that correctly, it doesn&#39;t hand you the element&#39;s innerText, which is what you really want."}, {"owner": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439411491, "post_id": 31973952, "comment_id": 51856294, "body": "However, if it is going to work, I suspect it would be ::text()"}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "reply_to_user": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439418160, "post_id": 31973952, "comment_id": 51859253, "body": "@LynnCrumbling You answer if you like, I don&#39;t have the time or expertise, I enjoy just helping along the way."}, {"owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "reply_to_user": {"reputation": 12051, "user_id": 656243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3afyW.png?s=128&g=1", "display_name": "Lynn Crumbling", "link": "https://stackoverflow.com/users/656243/lynn-crumbling"}, "edited": false, "score": 0, "creation_date": 1439418724, "post_id": 31973952, "comment_id": 51859470, "body": "Thanks @LynnCrumbling and Peter Wood for the help. I think I will be able to get the data I am looking for between the resources you both have provided. If either of you would like to post a formal &quot;answer&quot; with some of the suggestions in the comments, I&#39;d be glad to accept the answer"}], "owner": {"reputation": 19, "user_id": 2517198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f13885934f6feb7cd8022fdf1bc3aa8?s=128&d=identicon&r=PG", "display_name": "Zachary Luety", "link": "https://stackoverflow.com/users/2517198/zachary-luety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1439410321, "creation_date": 1439408288, "last_edit_date": 1439410321, "question_id": 31973952, "link": "https://stackoverflow.com/questions/31973952/finding-the-right-xpath-to-interest-rates", "title": "Finding the right XPath to Interest rates", "body": "<p>I need to pull the APR from Yahoo Finance using Python. I was trying to follow a basic example found <a href=\"http://docs.python-guide.org/en/latest/scenarios/scrape/\" rel=\"nofollow\"> here </a>, but I keep returning an empty list. This is the code that I am using:</p>\n\n<pre><code>import requests\nfrom lxml import html\n\npage = requests.get('http://finance.yahoo.com/rates/')\ntree = html.fromstring(page.text)\n\ninterest_rates = tree.xpath('//div[@class=\"apr\"]/text()')\nprint('Interest Rates: ', interest_rates)\n</code></pre>\n\n<p>It seems that the XPath I am using is incorrect. What would be the correct Xpath?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I used the firebug plugin and to copy the xpath of the data I wanted. It gave me the following xpath:</p>\n\n<p>/html/body/form/div[4]/table/tbody/tr[2]/td[2]/div[1]</p>\n\n<p>after rerunning my code with the updated xpath I am still returning an empty list. Is there something else I need to include in my Xpath?</p>\n\n<p><strong>Edit2</strong></p>\n\n<pre><code>import requests\nfrom lxml import html\n\npage = requests.get('http://finance.yahoo.com/rates/')\ntree = html.fromstring(page.text)\n\ninterest_rate = tree.xpath('/html/body/form/div[4]/table/tbody/tr[2]/td[2]/div[1]/text()')\nprint('One interest rate is: ', interest_rate)\n</code></pre>\n"}, {"tags": ["python", "https", "scrapy", "proxies"], "answers": [{"tags": [], "owner": {"reputation": 4019, "user_id": 286655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c9bf5815875df6482e3fd6c0f237bd6?s=128&d=identicon&r=PG", "display_name": "Artur Gaspar", "link": "https://stackoverflow.com/users/286655/artur-gaspar"}, "is_accepted": false, "score": 0, "last_activity_date": 1439423682, "last_edit_date": 1439423682, "creation_date": 1439419592, "answer_id": 31976668, "question_id": 31973947, "link": "https://stackoverflow.com/questions/31973947/is-it-possible-to-access-https-pages-through-a-proxy-with-scrapy/31976668#31976668", "title": "Is it possible to access https pages through a proxy with Scrapy?", "body": "<p>I think it's possible.</p>\n\n<p>If you're setting the proxy through <code>Request.meta</code> it should just work.\nIf you're setting the proxy with the <code>http_proxy</code> environment variable, you might also need to set <code>https_proxy</code>.</p>\n\n<p>It might be the case, however, that your proxy does not support HTTPS.</p>\n\n<p>It would be easier to help you if you posted the error you are getting.</p>\n"}, {"tags": [], "owner": {"reputation": 13601, "user_id": 1564659, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f7524296b1d11599c7a1bd2c045a73ac?s=128&d=identicon&r=PG", "display_name": "Aminah Nuraini", "link": "https://stackoverflow.com/users/1564659/aminah-nuraini"}, "is_accepted": false, "score": 1, "last_activity_date": 1473816729, "creation_date": 1473816729, "answer_id": 39481230, "question_id": 31973947, "link": "https://stackoverflow.com/questions/31973947/is-it-possible-to-access-https-pages-through-a-proxy-with-scrapy/39481230#39481230", "title": "Is it possible to access https pages through a proxy with Scrapy?", "body": "<p>I got this because of using <code>base64.encodestring</code> instead of <code>base64.b64encode</code> in the proxy middleware. Try changing it.</p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3944335, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b47fd0498faeb18a1187160df6e08a8?s=128&d=identicon&r=PG&f=1", "display_name": "Ken", "link": "https://stackoverflow.com/users/3944335/ken"}, "is_accepted": false, "score": 0, "last_activity_date": 1542111519, "last_edit_date": 1542111519, "creation_date": 1542111195, "answer_id": 53280784, "question_id": 31973947, "link": "https://stackoverflow.com/questions/31973947/is-it-possible-to-access-https-pages-through-a-proxy-with-scrapy/53280784#53280784", "title": "Is it possible to access https pages through a proxy with Scrapy?", "body": "<p>The Scrapy is automatically bypass the https ssl.\nlike @Aminah Nuraini said, just using base64.encodestring instead of base64.b64encode in the proxy middleware</p>\n\n<ol>\n<li><p>add following code in middlewares.py</p>\n\n<pre><code>import base64\nclass ProxyMiddleware(object):\n    # overwrite process request\n    def process_request(self, request, spider):\n        # Set the location of the proxy\n        request.meta['proxy'] = \"&lt;PROXY_SERVER&gt;:&lt;PROXY_PROT&gt;\"\n        # Use the following lines if your proxy requires authentication\n        proxy_user_pass = \"&lt;PROXY_USERNAME&gt;:&lt;PROXY_PASSWORD&gt;\"\n        # setup basic authentication for the proxy\n        encoded_user_pass = base64.b64encode(proxy_user_pass)\n        request.headers['Proxy-Authorization'] = 'Basic ' + encoded_user_pass\n</code></pre></li>\n<li><p>Add the proxy in settings.py</p>\n\n<pre><code>DOWNLOADER_MIDDLEWARES = {\n\n    'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware': 110,\n\n    '&lt;YOUR_PROJECT&gt;.middlewares.ProxyMiddleware': 100,\n\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 43, "user_id": 5207074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58b820d4a0bb1c83ebca0e70461eac88?s=128&d=identicon&r=PG&f=1", "display_name": "patrick.s", "link": "https://stackoverflow.com/users/5207074/patrick-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1346, "favorite_count": 1, "answer_count": 3, "score": 2, "last_activity_date": 1542111519, "creation_date": 1439408278, "last_edit_date": 1439432218, "question_id": 31973947, "link": "https://stackoverflow.com/questions/31973947/is-it-possible-to-access-https-pages-through-a-proxy-with-scrapy", "title": "Is it possible to access https pages through a proxy with Scrapy?", "body": "<p>I can successfully access http pages through a proxy in Scrapy, but I cannot access https sites. I've researched the topic, but it's still unclear to me. Is it possible to access https pages through a proxy with Scrapy? Do I need to patch anything? Or add some custom code? If it can be confirmed this is a standard feature, I can follow up with more details. Hopefully this is an easy one.</p>\n\n<p><strong>Edited:</strong></p>\n\n<p>Here is what I added to the settings file:</p>\n\n<pre><code>DOWNLOADER_MIDDLEWARES = {'scrapy.downloadermiddlewares.httpproxy.HttpProxyMiddleware': 110, 'test_website.middlewares.ProxyMiddleware': 100}\nPROXIES = [{'ip_port': 'us-il.proxymesh.com:31280', 'user_pass': 'username:password'}]\n</code></pre>\n\n<p>Here is the code for my spider:</p>\n\n<pre><code>import scrapy\n\nclass TestSpider(scrapy.Spider):\n    name = \"test_spider\"\n    allowed_domains = \"ipify.org\"\n     start_urls = [\"https://api.ipify.org\"]\n\n    def parse(self, response):\n        with open('test.html', 'wb') as f:\n            f.write(response.body)\n</code></pre>\n\n<p>Here is the middlewares file:</p>\n\n<pre><code>import base64\nimport random\nfrom settings import PROXIES\n\nclass ProxyMiddleware(object):\n    def process_request(self, request, spider):\n        proxy = random.choice(PROXIES)\n        if proxy['user_pass'] is not None:\n            request.meta['proxy'] = \"http://%s\" % proxy['ip_port']\n            encoded_user_pass = base64.encodestring(proxy['user_pass'])\n            request.headers['Proxy-Authorization'] = 'Basic ' + encoded_user_pass            \n        else:\n            request.meta['proxy'] = \"http://%s\" % proxy['ip_port']\n</code></pre>\n\n<p>Here is the log file:</p>\n\n<pre><code>2015-08-12 20:15:50 [scrapy] INFO: Scrapy 1.0.3 started (bot: test_website)\n2015-08-12 20:15:50 [scrapy] INFO: Optional features available: ssl, http11\n2015-08-12 20:15:50 [scrapy] INFO: Overridden settings: {'NEWSPIDER_MODULE': 'test_website.spiders', 'SPIDER_MODULES': ['test_website.spiders'], 'LOG_STDOUT': True, 'LOG_FILE': 'log.txt', 'BOT_NAME': 'test_website'}\n2015-08-12 20:15:51 [scrapy] INFO: Enabled extensions: CloseSpider, TelnetConsole, LogStats, CoreStats, SpiderState\n2015-08-12 20:15:53 [scrapy] INFO: Enabled downloader middlewares: ProxyMiddleware, HttpAuthMiddleware, DownloadTimeoutMiddleware, UserAgentMiddleware, RetryMiddleware, DefaultHeadersMiddleware, MetaRefreshMiddleware, HttpCompressionMiddleware, RedirectMiddleware, CookiesMiddleware, ChunkedTransferMiddleware, DownloaderStats\n2015-08-12 20:15:53 [scrapy] INFO: Enabled spider middlewares: HttpErrorMiddleware, OffsiteMiddleware, RefererMiddleware, UrlLengthMiddleware, DepthMiddleware\n2015-08-12 20:15:53 [scrapy] INFO: Enabled item pipelines: \n2015-08-12 20:15:53 [scrapy] INFO: Spider opened\n2015-08-12 20:15:53 [scrapy] INFO: Crawled 0 pages (at 0 pages/min), scraped 0 items (at 0 items/min)\n2015-08-12 20:15:53 [scrapy] DEBUG: Telnet console listening on 127.0.0.1:6023\n2015-08-12 20:15:53 [scrapy] DEBUG: Retrying &lt;GET https://api.ipify.org&gt; (failed 1 times): [&lt;twisted.python.failure.Failure &lt;class 'OpenSSL.SSL.Error'&gt;&gt;]\n2015-08-12 20:15:53 [scrapy] DEBUG: Retrying &lt;GET https://api.ipify.org&gt; (failed 2 times): [&lt;twisted.python.failure.Failure &lt;class 'OpenSSL.SSL.Error'&gt;&gt;]\n2015-08-12 20:15:53 [scrapy] DEBUG: Gave up retrying &lt;GET https://api.ipify.org&gt; (failed 3 times): [&lt;twisted.python.failure.Failure &lt;class 'OpenSSL.SSL.Error'&gt;&gt;]\n2015-08-12 20:15:53 [scrapy] ERROR: Error downloading &lt;GET https://api.ipify.org&gt;: [&lt;twisted.python.failure.Failure &lt;class 'OpenSSL.SSL.Error'&gt;&gt;]\n2015-08-12 20:15:53 [scrapy] INFO: Closing spider (finished)\n2015-08-12 20:15:53 [scrapy] INFO: Dumping Scrapy stats:\n{'downloader/exception_count': 3,\n 'downloader/exception_type_count/twisted.web._newclient.ResponseNeverReceived': 3,\n 'downloader/request_bytes': 819,\n 'downloader/request_count': 3,\n 'downloader/request_method_count/GET': 3,\n 'finish_reason': 'finished',\n 'finish_time': datetime.datetime(2015, 8, 13, 2, 15, 53, 943000),\n 'log_count/DEBUG': 4,\n 'log_count/ERROR': 1,\n 'log_count/INFO': 7,\n 'scheduler/dequeued': 3,\n 'scheduler/dequeued/memory': 3,\n 'scheduler/enqueued': 3,\n 'scheduler/enqueued/memory': 3,\n 'start_time': datetime.datetime(2015, 8, 13, 2, 15, 53, 38000)}\n2015-08-12 20:15:53 [scrapy] INFO: Spider closed (finished)\n</code></pre>\n\n<p>My spider works successfully if the 's' in 'https' is removed or I disable the proxy. I can access the https page through the proxy through my browser.</p>\n"}, {"tags": ["python", "regex", "string"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439408260, "post_id": 31973912, "comment_id": 51854656, "body": "First, I think you&#39;re looking for something along the lines of <code>str.format()</code>. Second, how is the specific element (<code>&#39;pulka&#39;</code>, <code>&#39;butter kp&#39;</code>, etc.) chosen? Is it random?"}, {"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439408444, "post_id": 31973912, "comment_id": 51854759, "body": "@TigerhawkT3 Yes. It is totally random."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 1, "creation_date": 1439408539, "post_id": 31973912, "comment_id": 51854804, "body": "What is wrong with your solution?"}, {"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "edited": false, "score": 0, "creation_date": 1439408693, "post_id": 31973912, "comment_id": 51854875, "body": "I can&#39;t replace those string in single pass. I get two sentences. In first pass I replace first word and then second word."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1439408736, "post_id": 31973912, "comment_id": 51854898, "body": "Please Post your solution."}, {"owner": {"reputation": 10986, "user_id": 1832942, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JM61c.jpg?s=128&g=1", "display_name": "Michael Currie", "link": "https://stackoverflow.com/users/1832942/michael-currie"}, "edited": false, "score": 1, "creation_date": 1439409333, "post_id": 31973912, "comment_id": 51855229, "body": "Suddenly I have a craving for Indian food."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 10986, "user_id": 1832942, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/JM61c.jpg?s=128&g=1", "display_name": "Michael Currie", "link": "https://stackoverflow.com/users/1832942/michael-currie"}, "edited": false, "score": 1, "creation_date": 1439409429, "post_id": 31973912, "comment_id": 51855273, "body": "@MichaelCurrie - with a name like that, don&#39;t you always have a craving for Indian food? :)"}, {"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "reply_to_user": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439409741, "post_id": 31973912, "comment_id": 51855429, "body": "@TigerhawkT3 Updated my question"}, {"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "edited": false, "score": 0, "creation_date": 1439409864, "post_id": 31973912, "comment_id": 51855482, "body": "I don&#39;t know how to attach excel files here so please bear with me"}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439409992, "post_id": 31973912, "comment_id": 51855554, "body": "&quot;cover all the food items infood_items.xlsx` with minimum number of user queries&quot; - do you want to generate a list of every possible combination of two foods, formatted in that sentence? That&#39;s a Cartesian product, not random."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439410336, "post_id": 31973912, "comment_id": 51855699, "body": "Please tell us what you&#39;re actually trying to achieve."}, {"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "edited": false, "score": 0, "creation_date": 1439410562, "post_id": 31973912, "comment_id": 51855788, "body": "Yes. I need to cover all food items but not more than once."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1439410899, "post_id": 31973912, "comment_id": 51855969, "body": "I&#39;ve updated my answer to show you how to generate all of those possible sentences."}, {"owner": {"reputation": 8478, "user_id": 3811592, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76q7x.jpg?s=128&g=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/3811592/d-coder"}, "edited": false, "score": 0, "creation_date": 1439474910, "post_id": 31973912, "comment_id": 51885435, "body": "Next time please keep your questions short and specific!"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 4030092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6l5vR.jpg?s=128&g=1", "display_name": "dingensundso", "link": "https://stackoverflow.com/users/4030092/dingensundso"}, "is_accepted": false, "score": 0, "last_activity_date": 1439408634, "creation_date": 1439408634, "answer_id": 31974055, "question_id": 31973912, "link": "https://stackoverflow.com/questions/31973912/python-multiple-string-replacement/31974055#31974055", "title": "Python multiple string replacement", "body": "<p>You could try something like:</p>\n\n<pre><code>if input_string in my_dict:\n  output_string = input_string\n  for k in my_dict[input_string].keys():\n    new_word = random.choice(my_dict[input_string][k])\n    output_string.replace(k,new_word)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "edited": false, "score": 0, "creation_date": 1439411184, "post_id": 31974136, "comment_id": 51856123, "body": "Close enough! I don&#39;t want to sentences to be repeated either! Next combinations should go to next user query in the excel sheet."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "reply_to_user": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "edited": false, "score": 0, "creation_date": 1439411533, "post_id": 31974136, "comment_id": 51856331, "body": "Each of the two lists contains only unique dishes, so each sentence will appear exactly once. There is no overlap between the two lists, so any given pair of dishes will appear exactly once."}], "tags": [], "owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "is_accepted": true, "score": 1, "last_activity_date": 1439410874, "last_edit_date": 1439410874, "creation_date": 1439408932, "answer_id": 31974136, "question_id": 31973912, "link": "https://stackoverflow.com/questions/31973912/python-multiple-string-replacement/31974136#31974136", "title": "Python multiple string replacement", "body": "<p>I would keep the main sentence as its own string, and then replace the words and save a new string.</p>\n\n<pre><code>import random\n\nsentence = 'Can I have some roti and aloo gobhi?'\nnew_sentence = sentence\n\nreplacements = {\n'roti': ['pulka', 'butter kp', 'wheat parota', 'chapati', 'gobi parota', 'onion parota', 'paneer parota', 'kerala parota', 'aloo parota', 'plain naan', 'butter naan', 'garlic naan', 'plain kulcha', 'butter kulcha', 'lacha parota', 'tandoori roti', 'tandoori butter roti', 'roti'],\n'aloo gobhi': ['paneer butter masala', 'palak paneer', 'kadai paneer', 'hydrabadi paneer', 'kadai gobi', 'aloo gobi', 'aloo mattar', 'mix veg curry', 'baby corn masala', 'dal fry', 'palak dal', 'dal tadka', 'mushroom masala', 'gobi masala', 'paneer tikka masala', 'mushroom tikka masala', 'aloo gobhi']\n}\n\nfor key in replacements:\n    new_sentence = new_sentence.replace(key, random.choice(replacements[key]))\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&gt;&gt;&gt; new_sentence\n'Can I have some onion parota and aloo mattar?'\n</code></pre>\n\n<hr>\n\n<p>If you just want a random item for each dish rather than only replacing those particular dishes, you should use string formatting:</p>\n\n<pre><code>import random\n\nsentence = 'Can I have some {} and {}?'\n\nreplacements = [\n['pulka', 'butter kp', 'wheat parota', 'chapati', 'gobi parota', 'onion parota', 'paneer parota', 'kerala parota', 'aloo parota', 'plain naan', 'butter naan', 'garlic naan', 'plain kulcha', 'butter kulcha', 'lacha parota', 'tandoori roti', 'tandoori butter roti', 'roti'],\n['paneer butter masala', 'palak paneer', 'kadai paneer', 'hydrabadi paneer', 'kadai gobi', 'aloo gobi', 'aloo mattar', 'mix veg curry', 'baby corn masala', 'dal fry', 'palak dal', 'dal tadka', 'mushroom masala', 'gobi masala', 'paneer tikka masala', 'mushroom tikka masala', 'aloo gobhi']\n]\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>&gt;&gt;&gt; new_sentence = sentence.format(*(random.choice(l) for l in replacements))\n&gt;&gt;&gt; new_sentence\n'Can I have some tandoori roti and mix veg curry?'\n&gt;&gt;&gt; new_sentence = sentence.format(*(random.choice(l) for l in replacements))\n&gt;&gt;&gt; new_sentence\n'Can I have some pulka and paneer butter masala?'\n&gt;&gt;&gt; new_sentence = sentence.format(*(random.choice(l) for l in replacements))\n&gt;&gt;&gt; new_sentence\n'Can I have some lacha parota and palak paneer?'\n</code></pre>\n\n<hr>\n\n<p>Based on your updated question and its comments, you're not looking for a random replacement at all; you're looking for the Cartesian product of those two <code>list</code>s. We'll use the <code>product()</code> function in the <code>itertools</code> module, along with string formatting.</p>\n\n<pre><code>import itertools\n\nreplacements = [\n['pulka', 'butter kp', 'wheat parota', 'chapati', 'gobi parota', 'onion parota', 'paneer parota', 'kerala parota', 'aloo parota', 'plain naan', 'butter naan', 'garlic naan', 'plain kulcha', 'butter kulcha', 'lacha parota', 'tandoori roti', 'tandoori butter roti', 'roti'],\n['paneer butter masala', 'palak paneer', 'kadai paneer', 'hydrabadi paneer', 'kadai gobi', 'aloo gobi', 'aloo mattar', 'mix veg curry', 'baby corn masala', 'dal fry', 'palak dal', 'dal tadka', 'mushroom masala', 'gobi masala', 'paneer tikka masala', 'mushroom tikka masala', 'aloo gobhi']\n]\n\nall_combos = itertools.product(*replacements)\n\nall_sentences = ['Can I have some {} and {}?'.format(*combo) for combo in all_combos]\n</code></pre>\n\n<p>Result (only every 30th sentence, not the whole thing):</p>\n\n<pre><code>&gt;&gt;&gt; for sentence in all_sentences[::30]:\n...     print(sentence)\n...\nCan I have some pulka and paneer butter masala?\nCan I have some butter kp and gobi masala?\nCan I have some chapati and dal fry?\nCan I have some onion parota and aloo gobi?\nCan I have some kerala parota and palak paneer?\nCan I have some aloo parota and paneer tikka masala?\nCan I have some butter naan and palak dal?\nCan I have some plain kulcha and aloo mattar?\nCan I have some lacha parota and kadai paneer?\nCan I have some tandoori roti and mushroom tikka masala?\nCan I have some roti and dal tadka?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15266, "user_id": 3419103, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/PN4sz.jpg?s=128&g=1", "display_name": "Falko", "link": "https://stackoverflow.com/users/3419103/falko"}, "is_accepted": false, "score": 0, "last_activity_date": 1439410163, "last_edit_date": 1495542668, "creation_date": 1439410163, "answer_id": 31974453, "question_id": 31973912, "link": "https://stackoverflow.com/questions/31973912/python-multiple-string-replacement/31974453#31974453", "title": "Python multiple string replacement", "body": "<p>I short solution based on <a href=\"https://stackoverflow.com/a/9479972/3419103\">this answer</a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import random\n\nreplacements = [(key, random.choice(my_dict[input_string][key])) for key in my_dict[input_string].iterkeys()]\noutput_string = reduce(lambda a, kv: a.replace(*kv), replacements, input_string)\n</code></pre>\n\n<p>You basically construct a list of tuples, each containing a word and its replacement. Then you make use of Python's <a href=\"https://docs.python.org/2/library/functions.html#reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a> function to execute each replacement.</p>\n\n<blockquote>\n  <p><strong><code>reduce(function, iterable[, initializer])</code></strong>\n  Apply function of two arguments cumulatively to the items of iterable, from left to right, so as to reduce the iterable to a single value. [...]</p>\n</blockquote>\n\n<p>Example output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Can I have some paneer parota and baby corn masala ?\nCan I have some paneer parota and gobi masala ?\nCan I have some butter naan and gobi masala ?\nCan I have some tandoori butter roti and gobi masala ?\nCan I have some onion parota and hydrabadi paneer ?\n...\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 5220722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e44c261fd19dec4f76ddbfb09dc01e4?s=128&d=identicon&r=PG&f=1", "display_name": "d-coder", "link": "https://stackoverflow.com/users/5220722/d-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 31974136, "answer_count": 3, "score": 0, "last_activity_date": 1439492509, "creation_date": 1439408125, "last_edit_date": 1439492509, "question_id": 31973912, "link": "https://stackoverflow.com/questions/31973912/python-multiple-string-replacement", "title": "Python multiple string replacement", "body": "<p>I want to do multiple string replacements in Python.</p>\n\n<p>I have a dictionary:</p>\n\n<pre><code>my_dict = {'Can I have some roti and aloo gobhi ?': \n              {'roti': ['pulka', 'butter kp', 'wheat parota', 'chapati',\n                        'gobi parota', 'onion parota', 'paneer parota',\n                        'kerala parota', 'aloo parota', 'plain naan',\n                        'butter naan', 'garlic naan', 'plain kulcha',\n                        'butter kulcha', 'lacha parota', 'tandoori roti',\n                        'tandoori butter roti', 'roti'],\n               'aloo gobhi': ['paneer butter masala', 'palak paneer', \n                              'kadai paneer', 'hydrabadi paneer', \n                              'kadai gobi', 'aloo gobi', 'aloo mattar', \n                              'mix veg curry', 'baby corn masala', \n                              'dal fry', 'palak dal', 'dal tadka', \n                              'mushroom masala', 'gobi masala', \n                              'paneer tikka masala', \n                              'mushroom tikka masala', 'aloo gobhi']\n              }\n          }\n</code></pre>\n\n<p>It basically has a sentence as a key and the value (which is again a dictionary). This dictionary which I have key as item to replace in the sentence by the corresponding value (which is a list). Now I want to construct a sentence using the key of a main dictionary by replacing <code>roti</code> with any of the ones in the corresponding list and 'aloo gobhi' with any item of the corresponding list.</p>\n\n<p>For example:</p>\n\n<blockquote>\n  <p>input_string = \"Can I have some roti and aloo gobhi ?\" <br/>\n    output_string = \"Can I have some pulka and panner butter masala ?\"</p>\n</blockquote>\n\n<p>UPDATE:\nI have an excel file (say <code>food_items.xlsx</code>) where I have list of food items which are separated as dessert, starters,main course, etc. I have another excel file (say <code>food_queries.xlsx</code>) where I have user queries requesting for order of food items which are present in <code>food_items.xlsx</code>.\nI'm trying to write a script which will cover all the food items in <code>food_items.xlsx</code> with minimum number of user queries so that machine learning can be done with minimum queries.</p>\n\n<pre><code>import xlrd\nimport xlsxwriter\nimport string\nimport random\nimport re\nimport time\nimport itertools\n\n\nlist_of_items = []\ndict_of_names = {}\n\ndef createList(filename):\n    try:\n        book = xlrd.open_workbook(filename)\n        sheet = book.sheet_by_name(book.sheet_names()[2])\n        for i in xrange(sheet.ncols):\n            list_1 = []\n            for j in xrange(sheet.nrows):\n                cell_value = sheet.cell(j,i).value\n                if str(cell_value) in (None,\"\"):\n                    j+=1\n                    break\n                else:\n                    list_1.append(str(cell_value).lower())\n            dict_of_names[str(list_1[0]).upper()] = list_1[1:]\n\n    except Exception, e:\n        print e\n\ndef getFile(readFile):\n    try:\n        list_of_sentences = []\n        row = 0\n        col = 0\n        query_book = xlrd.open_workbook(readFile)\n        first_sheet = query_book.sheet_by_index(0)\n        for i in xrange(first_sheet.ncols):\n            for j in xrange(first_sheet.nrows):\n                cell_value = str(first_sheet.cell(j,i).value)\n                if cell_value in (None,\"\",\" \"):\n                    j += 1\n                    # dict_of_names[keys].remove(value)\n                else:\n                    list_of_sentences.append(cell_value)\n        replaceStrings(list_of_sentences)\n    except Exception as e:\n        print e\n\n\n\ndef replaceStrings(list_of_sentences):\n    # all_dict = {}\n    # for sentence in list_of_sentences:\n    #   dict_values = {}\n    #   for keys,values in dict_of_names.items():\n    #       for val in values:\n    #           temp_dict = {}\n    #           if val in sentence:\n    #               temp_dict[val] = dict_of_names[keys]\n    #               dict_values.update(temp_dict)\n    #   all_dict[sentence] = dict_values\n    # print all_dict\n\n    # for keys,values in all_dict.items() :\n\n    # for b,c in itertools.izip(dict_values,food_item_1[0],food_item_1[1]):\n        # print sentence.replace(a,b).replace(a,c)\n\n    for sentence in list_of_sentences:\n        dict_values = {}\n        for keys,values in dict_of_names.items():\n            for val in values:\n                temp_dict = {}\n                if val in sentence:\n                    temp_dict[val] = dict_of_names[keys]\n                    dict_values.update(temp_dict)\n\n\n        keys = dict_values.keys()\n        n = len(keys)\n        for i in range(n):\n            thisKey = keys[i]\n            nextKey = keys[(i + 1) % n]\n            # print thisKey,nextKey\n            for c,a,b in itertools.izip(list_of_sentences, dict_values[thisKey],dict_values[nextKey]):\n                new_cell = c.replace(thisKey,a).replace(nextKey,b)\n                # del dict_values[a]\n                print new_cell\n\n\n            # for k in existing_names:\n                # if k in cell.value:\n                #   lines = str(cell.value).replace(k,str(random.choice(new_names_one)))\\\n                #       .replace(k,str(random.choice(new_names_two)))\n                #   worksheet.write(row,col,lines)\n                #   row  = row + 1\n                # else:\n                #   break\n\n\nif __name__ == \"__main__\":\n    print \"starting execution..\"\n    # workbook = xlsxwriter.Workbook('Query_set_1.xlsx')\n    # worksheet = workbook.add_worksheet()\n    createList(\"total food queries.xlsx\")\n    getFile(\"total food queries.xlsx\")\n\n    # workbook.close()\n</code></pre>\n\n<p>UPDATE 2:</p>\n\n<p>The basic algorithm I want to implement is :</p>\n\n<ol>\n<li><p>I need to cover all the food items (each food item can occur only once). </p></li>\n<li><p>Once all food items are covered I just stop. (though there are few query sample form the user still left)</p></li>\n</ol>\n\n<p>My main goal is cover all the food items, not the queries from the user.</p>\n"}, {"tags": ["python", "pandas", "string-to-datetime"], "answers": [{"tags": [], "owner": {"reputation": 42750, "user_id": 189134, "user_type": "moderator", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/jFsyb.png?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/189134/andy"}, "is_accepted": true, "score": 5, "last_activity_date": 1439408738, "creation_date": 1439408738, "answer_id": 31974080, "question_id": 31973895, "link": "https://stackoverflow.com/questions/31973895/in-python-pandas-how-can-i-convert-this-formatted-date-string-to-datetime/31974080#31974080", "title": "In python pandas, how can I convert this formatted date string to datetime", "body": "<p>You can pass a <code>format</code> parameter to the <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.to_datetime.html\" rel=\"noreferrer\"><code>to_datetime</code></a> function.</p>\n\n<pre><code>&gt;&gt;&gt; import pandas as pd\n&gt;&gt;&gt; df = pd.to_datetime(pd.Series(['28Dec2013 19:23:15']),format=\"%d%b%Y %H:%M:%S\",dayfirst=True)\n&gt;&gt;&gt; df\n0   2013-12-28 19:23:15\ndtype: datetime64[ns]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1548, "user_id": 3631440, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/uC6XS.jpg?s=128&g=1", "display_name": "chris-sc", "link": "https://stackoverflow.com/users/3631440/chris-sc"}, "is_accepted": false, "score": 0, "last_activity_date": 1439409073, "creation_date": 1439409073, "answer_id": 31974173, "question_id": 31973895, "link": "https://stackoverflow.com/questions/31973895/in-python-pandas-how-can-i-convert-this-formatted-date-string-to-datetime/31974173#31974173", "title": "In python pandas, how can I convert this formatted date string to datetime", "body": "<p>In case you need to convert existing columns in a dataframe here the solution using a helper function <code>conv</code> and the <code>apply</code> method.</p>\n\n<pre><code>import datetime\nimport pandas as pd\n\ndef conv(x):\n    return datetime.datetime.strptime(x, '%d%b%Y %H:%M:%S')\n\nseries = pd.Series(['28Dec2013 19:23:15'])\nconverted = series.apply(conv)\n\n0   2013-12-28 19:23:15\ndtype: datetime64[ns]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 5054110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82dc276d93d6b2b2d3a0e07d8f83b2f?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/5054110/adam"}, "is_accepted": false, "score": -1, "last_activity_date": 1439409219, "creation_date": 1439409219, "answer_id": 31974208, "question_id": 31973895, "link": "https://stackoverflow.com/questions/31973895/in-python-pandas-how-can-i-convert-this-formatted-date-string-to-datetime/31974208#31974208", "title": "In python pandas, how can I convert this formatted date string to datetime", "body": "<p>Pandas does not recognize that datetime format.</p>\n\n<pre><code>&gt;&gt;&gt; pd.to_datetime(Series(['28Dec2013 19:23:15']))\n0    28Dec2013 19:23:15\ndtype: object\n&gt;&gt;&gt; pd.to_datetime(Series(['28 Dec 2013 19:23:15']))\n0   2013-12-28 19:23:15\ndtype: datetime64[ns]\n</code></pre>\n\n<p>You will need to parse the strings you are feeding into the Series.  Regular expressions will likely be a good solution for this.</p>\n"}], "owner": {"reputation": 201, "user_id": 3466313, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f4a1219bf8dacec2d7fb88826c8498fa?s=128&d=identicon&r=PG&f=1", "display_name": "claudiaann1", "link": "https://stackoverflow.com/users/3466313/claudiaann1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3424, "favorite_count": 0, "accepted_answer_id": 31974080, "answer_count": 3, "score": 4, "last_activity_date": 1439409219, "creation_date": 1439408044, "last_edit_date": 1439408764, "question_id": 31973895, "link": "https://stackoverflow.com/questions/31973895/in-python-pandas-how-can-i-convert-this-formatted-date-string-to-datetime", "title": "In python pandas, how can I convert this formatted date string to datetime", "body": "<p>I have tried several ways of using <code>to_datetime</code>, but so far I can only get it to return the dtype as \"object\"    </p>\n\n<pre><code>pd.to_datetime(pd.Series(['28Dec2013 19:23:15']),dayfirst=True)\n</code></pre>\n\n<p>The return from this command is:</p>\n\n<pre><code>0    28Dec2013 19:23:15\ndtype: object\n</code></pre>\n"}, {"tags": ["python", "windows", "x86", "x86-64", "kivy"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 2, "creation_date": 1439410115, "post_id": 31973865, "comment_id": 51855611, "body": "A 32 bit application will work on 64 bit windows."}], "answers": [{"tags": [], "owner": {"reputation": 240669, "user_id": 224132, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/N4ivW.png?s=128&g=1", "display_name": "Peter Cordes", "link": "https://stackoverflow.com/users/224132/peter-cordes"}, "is_accepted": true, "score": 1, "last_activity_date": 1439426539, "creation_date": 1439426539, "answer_id": 31977726, "question_id": 31973865, "link": "https://stackoverflow.com/questions/31973865/kivy-build-64bit-application-on-32bit-windows/31977726#31977726", "title": "Kivy - build 64bit application on 32bit Windows", "body": "<p>A lot of windows software is still shipped as 32bit-only, because for some reason compat with obsolete 32bit-windows still matters.  Alternatively, 32 and 64bit builds are available.</p>\n\n<p>If you write your source code properly (without any assumptions about being able to store a possibly-64bit type in an <code>int</code>), you can make 32 and 64bit builds from the same source.  I think this is really unlikely to be a problem for python!</p>\n\n<p>Building 64bit software on a 32bit platform is no problem.  You'll only run into trouble if you have a complicated build system that builds some tools (which are part of what gets shipped, so you build them for the target instead of host), but also want to run those tools during the build.</p>\n"}], "owner": {"reputation": 5884, "user_id": 382971, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4cb6e2345be385ba57460c200dce2ff7?s=128&d=identicon&r=PG", "display_name": "Mateusz Jagie\u0142\u0142o", "link": "https://stackoverflow.com/users/382971/mateusz-jagie%c5%82%c5%82o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 263, "favorite_count": 0, "accepted_answer_id": 31977726, "answer_count": 1, "score": 0, "last_activity_date": 1439426539, "creation_date": 1439407937, "question_id": 31973865, "link": "https://stackoverflow.com/questions/31973865/kivy-build-64bit-application-on-32bit-windows", "title": "Kivy - build 64bit application on 32bit Windows", "body": "<p>I'd like build the kivy application which will work on 64bit Windows (and if possible 32bit also).</p>\n\n<ol>\n<li>Is it possible that one app will work on both platforms?</li>\n<li>Can I use 32bit system to build 64bit app?</li>\n</ol>\n\n<p>This is probably simple questions, but I've never write code for these systems.</p>\n"}, {"tags": ["python", "algorithm", "list", "grouping"], "comments": [{"owner": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 1, "creation_date": 1439408846, "post_id": 31973863, "comment_id": 51854959, "body": "Not sure if you&#39;re aware of this, but by using simple <code>operator.itemgetter(0, 1))</code> you&#39;re comparing those items lexicographically not by their actual numeral value."}, {"owner": {"reputation": 366, "user_id": 2256346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a5f9cbd50c4ad1836534519dc3f4e87?s=128&d=identicon&r=PG", "display_name": "Hellohowdododo", "link": "https://stackoverflow.com/users/2256346/hellohowdododo"}, "reply_to_user": {"reputation": 216457, "user_id": 846892, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/E9dZn.png?s=128&g=1", "display_name": "Ashwini Chaudhary", "link": "https://stackoverflow.com/users/846892/ashwini-chaudhary"}, "edited": false, "score": 0, "creation_date": 1439441448, "post_id": 31973863, "comment_id": 51865077, "body": "Yep, also noticed this, cause in this case &#39;14&#39; stands before &#39;2&#39; in sorted list, in this current case I&#39;m ok with it, cause it actually list of strings. Also found library called <a href=\"https://pypi.python.org/pypi/natsort\" rel=\"nofollow noreferrer\">natsort</a> and it do those sorting in more &#39;human way&#39;.  Also found out, that I should not name list with &#39;list&#39; identifier, cause it built in word :-)"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 2256346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a5f9cbd50c4ad1836534519dc3f4e87?s=128&d=identicon&r=PG", "display_name": "Hellohowdododo", "link": "https://stackoverflow.com/users/2256346/hellohowdododo"}, "edited": false, "score": 0, "creation_date": 1439441658, "post_id": 31973972, "comment_id": 51865144, "body": "Wow, I need to go and read all about itertools right NOW! Thanks!"}], "tags": [], "owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "is_accepted": true, "score": 3, "last_activity_date": 1439408335, "creation_date": 1439408335, "answer_id": 31973972, "question_id": 31973863, "link": "https://stackoverflow.com/questions/31973863/combine-group-merge-partially-the-list-of-lists-by-equal-first-field-joining-se/31973972#31973972", "title": "Combine/group/merge partially the list of lists by equal first field, joining second field in string and writing in other fields same data", "body": "<p>Once you've sorted your list so that your first-field groups are contiguous, you can use <a href=\"https://docs.python.org/3.4/library/itertools.html#itertools.groupby\" rel=\"nofollow\"><code>itertools.groupby</code></a> to do the heavy lifting:</p>\n\n<pre><code>&gt;&gt;&gt; grouped = [list(g) for k,g in groupby(sorted_list, key=lambda x: x[0])]\n&gt;&gt;&gt; grouped\n[[['1', '14', '89', '34', '15'], ['1', '2', '3'], ['1', '5', '6']], [['2', '3', '5', '3'], ['2', '8', '9', '8', '17']]]\n&gt;&gt;&gt; out = [[gg[0][0], ':'.join([g[1] for g in gg])] + gg[0][2:] for gg in grouped]\n&gt;&gt;&gt; out\n[['1', '14:2:5', '89', '34', '15'], ['2', '3:8', '5', '3']]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 94141, "user_id": 2867928, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/a8DM1.jpg?s=128&g=1", "display_name": "kasravnd", "link": "https://stackoverflow.com/users/2867928/kasravnd"}, "is_accepted": false, "score": 2, "last_activity_date": 1439408701, "last_edit_date": 1439408701, "creation_date": 1439408387, "answer_id": 31973984, "question_id": 31973863, "link": "https://stackoverflow.com/questions/31973863/combine-group-merge-partially-the-list-of-lists-by-equal-first-field-joining-se/31973984#31973984", "title": "Combine/group/merge partially the list of lists by equal first field, joining second field in string and writing in other fields same data", "body": "<p>You can use a dictionary to preserve the sublist with common first item then use a list comprehension with <code>zip</code> and <code>join</code> to create the desire result:</p>\n\n<pre><code>&gt;&gt;&gt; d={}\n&gt;&gt;&gt; \n&gt;&gt;&gt; for i,*j in sorted_list:\n...    d.setdefault(i,[]).append(iter(j))\n... \n\n&gt;&gt;&gt; [[i,':'.join(next(zip(*j)))]+next(j)[1:] for i,j in d.items()]\n[['1', '14:2:5', '89', '34', '15'], ['2', '3:8', '5', '3']]\n</code></pre>\n\n<p>But note that this code have been written in python 3. if you are in python 2 you can use <code>itertools.izip</code> instead of <code>zip</code> and for creating the dictionary you can do :</p>\n\n<pre><code>&gt;&gt;&gt; for i in sorted_list:\n...    d.setdefault(i[0],[]).append(iter(i[1:]))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": false, "score": 1, "last_activity_date": 1439417067, "creation_date": 1439417067, "answer_id": 31976192, "question_id": 31973863, "link": "https://stackoverflow.com/questions/31973863/combine-group-merge-partially-the-list-of-lists-by-equal-first-field-joining-se/31976192#31976192", "title": "Combine/group/merge partially the list of lists by equal first field, joining second field in string and writing in other fields same data", "body": "<p>You could do it with a pair of functions as shown below. The first one, named <code>grouper</code>, is a generator function which are often useful when there's a need to produce intermediate results from a process requires non-trivial amount of initialization and/or housekeeping to be done before multiple intermediate results are returned.</p>\n\n<p>As @Ashwini Chaudhary pointed out in a comment, you were sorting the fields lexicographically, not numerically, in your code, so that issue was also corrected.</p>\n\n<pre><code>import operator\n\ndef grouper(a_list):\n    if a_list:\n        sorted_list = sorted(a_list,\n                             key=lambda e, get_items=operator.itemgetter(0, 1):\n                                map(int, get_items(e)))\n        g = [sorted_list[0]]\n        for x in sorted_list[1:]:\n            if x[0] == g[-1][0]:\n                g.append(x)\n            else:\n                yield g\n                g = [x]\n        yield g\n\ndef combiner(a_list):\n    return [[g[0][0], ':'.join(e[1] for e in g)] + g[0][2:]\n                for g in grouper(a_list)]\n\na_list = [\n    ['1', '2', '3'],\n    ['1', '1', '10', '11', '12'],  # element added to test sorting\n    ['1', '5', '6'],\n    ['2', '8', '9', '8', '17'],\n    ['2', '3', '5', '3'],\n    ['1', '14', '89', '34', '15'],\n]\n\nprint(combiner(a_list))\n</code></pre>\n\n<p>Output:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>[['1', '1:2:5:14', '10', '11', '12'], ['2', '3:8', '5', '3']]\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 2256346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8a5f9cbd50c4ad1836534519dc3f4e87?s=128&d=identicon&r=PG", "display_name": "Hellohowdododo", "link": "https://stackoverflow.com/users/2256346/hellohowdododo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "accepted_answer_id": 31973972, "answer_count": 3, "score": 2, "last_activity_date": 1439442671, "creation_date": 1439407925, "last_edit_date": 1439442671, "question_id": 31973863, "link": "https://stackoverflow.com/questions/31973863/combine-group-merge-partially-the-list-of-lists-by-equal-first-field-joining-se", "title": "Combine/group/merge partially the list of lists by equal first field, joining second field in string and writing in other fields same data", "body": "<p>Example, I have list, I can sort it by first 2 fields, that's ok:</p>\n\n<pre><code>import operator\nlist = [\n    ['1', '2', '3'],\n    ['1', '5', '6'],\n    ['2', '8', '9', '8', '17'],\n    ['2', '3', '5', '3'],\n    ['1', '14', '89', '34', '15'],\n]\nsorted_list = sorted(list, key=operator.itemgetter(0, 1))\n</code></pre>\n\n<p>getting:</p>\n\n<pre><code>['1', '14', '89', '34', '15']\n['1', '2', '3']\n['1', '5', '6']\n['2', '3', '5', '3']\n['2', '8', '9', '8', '17']\n</code></pre>\n\n<p>So, what I need - is to combine those lists by 1st field, in first step it would be '1' from [0][0], [0][1], [0][2], then I join second field with something like comma: \"14:2:5\" and I don't care, which part of those 3 list I append then, so, after '|'  it can be any of:</p>\n\n<pre><code>['1', '14:2:5',| '89', '34', '15']\n['1', '14:2:5',| '3']\n['1', '14:2:5',| '6']\n</code></pre>\n\n<p>(in most cases data after '|' will match for first field)</p>\n\n<p>In the end, I want something like:</p>\n\n<pre><code>['1', '14:2:5', '89', '34', '15']\n['2', '3:8', '5', '3']\n</code></pre>\n\n<p>I'm currently into some sort of for loop and getting IndexError all the way :-(\nI feel it should be much easier pythonic way.\nDon't get yet how to find this algorithm and how it called. Something like list of lists reduce-map-shrink-normalization elements, appending another by element values?</p>\n\n<hr>\n\n<p>Thanks a lot for helping, things in python still surprise me, how cool it could be done, in the end from all answers, for python 3:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nimport operator\nimport itertools\nfrom natsort import humansorted\n\nlist_to_sort = [\n    ['1', 'A', '3'],\n    ['1', '5', '6'],\n    ['1', '1', '10', '11', '12'],\n    ['t', 'S', '7', '0asdf'],\n    ['2', '8', '9', '8', '17'],\n    ['2', '705', '5', '3'],\n    ['2', 'checks', 'df', '1'],\n    ['1', '14', '89', '34', '15'],\n]\n\nsorted_list = humansorted(list_to_sort, key=operator.itemgetter(0, 1))\ngrouped = [list(g) for k, g in itertools.groupby(sorted_list, key=lambda x: x[0])]\nout = [[gg[0][0], ':'.join([g[1] for g in gg])] + gg[0][2:] for gg in grouped]\n\nfor elem in out:\n    print(elem)\n</code></pre>\n"}, {"tags": ["python", "css", "flask", "wtforms", "flask-wtforms"], "comments": [{"owner": {"reputation": 7100, "user_id": 4726598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t398l.png?s=128&g=1", "display_name": "v1k45", "link": "https://stackoverflow.com/users/4726598/v1k45"}, "edited": false, "score": 0, "creation_date": 1439411334, "post_id": 31973839, "comment_id": 51856198, "body": "can you show the template code?"}, {"owner": {"reputation": 131, "user_id": 5149754, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b14e30b515d0703a3bf324cb507ce830?s=128&d=identicon&r=PG&f=1", "display_name": "jk0104", "link": "https://stackoverflow.com/users/5149754/jk0104"}, "reply_to_user": {"reputation": 7100, "user_id": 4726598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t398l.png?s=128&g=1", "display_name": "v1k45", "link": "https://stackoverflow.com/users/4726598/v1k45"}, "edited": false, "score": 0, "creation_date": 1439411473, "post_id": 31973839, "comment_id": 51856291, "body": "@v1k45 I have edited to include the template! thanks"}, {"owner": {"reputation": 1383, "user_id": 4112244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c2e41edf03067094b442985fed0df2?s=128&d=identicon&r=PG&f=1", "display_name": "Connie", "link": "https://stackoverflow.com/users/4112244/connie"}, "edited": false, "score": 0, "creation_date": 1439413388, "post_id": 31973839, "comment_id": 51857355, "body": "Are you returning form A or Additional? I tried using the most basic Jinja template with Flask-Bootstrap and it seemed to work for me. Perhaps something is wrong with your CSS."}, {"owner": {"reputation": 131, "user_id": 5149754, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b14e30b515d0703a3bf324cb507ce830?s=128&d=identicon&r=PG&f=1", "display_name": "jk0104", "link": "https://stackoverflow.com/users/5149754/jk0104"}, "reply_to_user": {"reputation": 1383, "user_id": 4112244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c2e41edf03067094b442985fed0df2?s=128&d=identicon&r=PG&f=1", "display_name": "Connie", "link": "https://stackoverflow.com/users/4112244/connie"}, "edited": false, "score": 0, "creation_date": 1439474848, "post_id": 31973839, "comment_id": 51885397, "body": "I&#39;m returning form A @Connie"}], "answers": [{"tags": [], "owner": {"reputation": 1383, "user_id": 4112244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c2e41edf03067094b442985fed0df2?s=128&d=identicon&r=PG&f=1", "display_name": "Connie", "link": "https://stackoverflow.com/users/4112244/connie"}, "is_accepted": false, "score": 1, "last_activity_date": 1439487662, "creation_date": 1439487662, "answer_id": 31995017, "question_id": 31973839, "link": "https://stackoverflow.com/questions/31973839/css-for-flask-wtforms/31995017#31995017", "title": "CSS for Flask wtforms", "body": "<p>The issue is that <code>{{ wtf.quick_form(form) }}</code> is calling <code>wtf.form_field()</code> on your <code>FieldList</code> <code>additional</code> in <code>A</code> instead of calling it on <code>additional</code>'s subfields. Because of this, I don't think you will be able to use <code>wtf.quick_form()</code> on your particular form.</p>\n\n<p>Instead, try templating your form like this:</p>\n\n<pre><code>{% extends \"base.html\" %}\n{% import \"bootstrap/wtf.html\" as wtf %}\n\n{% block title %}Grants - Find Grant{% endblock %}\n\n{% block page_content %}\n&lt;div class=\"page-header\"&gt;\n    &lt;h1&gt;Specify&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    &lt;form class=\"form form-horizontal\" method=\"post\" role=\"form\"&gt;\n        {{ form.hidden_tag() }}\n        {{ wtf.form_errors(form, hiddens=\"only\") }}\n\n        {% for subfield in form.additional %}\n            {{ wtf.form_field(subfield) }}\n        {% endfor %}\n        {{ wtf.form_field(form.submit) }}\n    &lt;/form&gt;\n&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>You can read more about <code>wtf.form_field()</code> on the Flask-Bootstrap <a href=\"http://pythonhosted.org/Flask-Bootstrap/forms.html\" rel=\"nofollow\">documentation</a> site.</p>\n"}, {"tags": [], "owner": {"reputation": 7100, "user_id": 4726598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t398l.png?s=128&g=1", "display_name": "v1k45", "link": "https://stackoverflow.com/users/4726598/v1k45"}, "is_accepted": false, "score": 3, "last_activity_date": 1439491205, "creation_date": 1439491205, "answer_id": 31996016, "question_id": 31973839, "link": "https://stackoverflow.com/questions/31973839/css-for-flask-wtforms/31996016#31996016", "title": "CSS for Flask wtforms", "body": "<p>Since your form class <code>A</code> is calling class <code>Additional</code> as a <code>FormField</code> and only adding <code>submit</code> to the field, i added the <code>submit</code> button the <code>Additional</code> form itself and then called it in the view.</p>\n\n<p>In the template, use</p>\n\n<pre><code>{{ wtf.quick_form(form, form_type=\"inline\") }}\n</code></pre>\n\n<p>It outputs the page like this:\n<a href=\"https://i.stack.imgur.com/cap1W.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cap1W.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>The form_type argument adds the <code>.form-inline</code> to the class attribute.</p>\n\n<p>This is just a hack, surely your form will have more inputs than this, for that, you'll be writing the whole form template yourself.</p>\n"}], "owner": {"reputation": 131, "user_id": 5149754, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b14e30b515d0703a3bf324cb507ce830?s=128&d=identicon&r=PG&f=1", "display_name": "jk0104", "link": "https://stackoverflow.com/users/5149754/jk0104"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5012, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1439491205, "creation_date": 1439407830, "last_edit_date": 1495535418, "question_id": 31973839, "link": "https://stackoverflow.com/questions/31973839/css-for-flask-wtforms", "title": "CSS for Flask wtforms", "body": "<p>I have a the following code for a Form that I have in my Flask application using Wtforms. I use FieldList to use two fields for one part. </p>\n\n<pre><code>class A(Form)\n        additional = FieldList(FormField(Additional), 'Additional', min_entries=1)\n        submit = SubmitField('Submit')\n\nclass Additional(Form):\n        choices = [('Funding Mechanism', 'Funding Mechanism'), ('Study Section Name', 'Study Section Name')]\n        critera = SelectField('Additional Criteria', choices=choices)\n        input = StringField()\n</code></pre>\n\n<p>The template uses wtf.quick_form:</p>\n\n<pre><code>{% extends \"base.html\" %}\n{% import \"bootstrap/wtf.html\" as wtf %}\n\n{% block title %}Grants - Find Grant{% endblock %}\n\n{% block page_content %}\n&lt;div class=\"page-header\"&gt;\n    &lt;h1&gt;Specify&lt;/h1&gt;\n&lt;/div&gt;\n&lt;div class=\"col-md-4\"&gt;\n    {{ wtf.quick_form(form) }}\n&lt;/div&gt;\n{% endblock %}\n</code></pre>\n\n<p>Currently the forms render in a squished and overlapping way like so: <a href=\"https://i.stack.imgur.com/qdubZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qdubZ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I change the code so that it is formated in one line like below? It is a screenshot of @Niklas in Stockholm 's <a href=\"https://stackoverflow.com/questions/8463209/how-to-make-a-field-conditionally-optional-in-wtforms\">form from his question</a>. </p>\n\n<p>Thank you! \n<a href=\"https://i.stack.imgur.com/xqizo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xqizo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "pygame"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 5210092, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hXWn8.jpg?s=128&g=1", "display_name": "Evan Quiney", "link": "https://stackoverflow.com/users/5210092/evan-quiney"}, "is_accepted": false, "score": 0, "last_activity_date": 1439408162, "creation_date": 1439408162, "answer_id": 31973921, "question_id": 31973826, "link": "https://stackoverflow.com/questions/31973826/pygame-installation-error-missing-dll/31973921#31973921", "title": "Pygame installation error; Missing DLL", "body": "<p>To install pygame you run the .msi binary, not in the python folder specifically. The error above says that you have installed part of pygame, but not all of it correctly.</p>\n\n<blockquote>\n  <p>ImportError: DLL load failed: The specified module could not be found.</p>\n</blockquote>\n\n<p>Python is saying that the run file is installed, but not other modules of pygame are in their correct location. My advice is remove whatever pygame files are installed and re-install pygame, but not python.   </p>\n\n<p>Edit: I would put this as a comment, but as I have just joined stack overflow I can't comment so I added extra information to create an answer.</p>\n"}], "owner": {"reputation": 1, "user_id": 5215895, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-X7jzvMc9JjU/AAAAAAAAAAI/AAAAAAAAACY/sc-pnxnbboI/photo.jpg?sz=128", "display_name": "Color Bl4de", "link": "https://stackoverflow.com/users/5215895/color-bl4de"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1439408441, "creation_date": 1439407772, "last_edit_date": 1439408441, "question_id": 31973826, "link": "https://stackoverflow.com/questions/31973826/pygame-installation-error-missing-dll", "title": "Pygame installation error; Missing DLL", "body": "<p>I've recently started learning python. So I installed pygame into Python folder and when I try to import it in SHELL it gives me this error:</p>\n\n<pre><code>&gt; Traceback (most recent call last):   File \"&lt;pyshell#0&gt;\", line 1, in\n&gt; &lt;module&gt;\n&gt;     import pygame   File \"C:\\Python34\\lib\\site-packages\\pygame\\__init__.py\", line 99, in\n&gt; &lt;module&gt;\n&gt;     from pygame.base import * ImportError: DLL load failed: The specified module could not be found. I was installing python-3.4.3 and\n&gt; pygame-1.9.2a0.win32-py3.2\n</code></pre>\n"}, {"tags": ["python", "django", "heroku", "wsgi", "python-3.4"], "answers": [{"tags": [], "owner": {"reputation": 2790, "user_id": 128507, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4892562b9298e9dfd5fddbc24b6445c2?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/128507/andres"}, "is_accepted": false, "score": 1, "last_activity_date": 1439455600, "last_edit_date": 1439455600, "creation_date": 1439448705, "answer_id": 31981361, "question_id": 31973812, "link": "https://stackoverflow.com/questions/31973812/import-error-when-switchin-from-python-2-7-to-python-3-4-on-heroku-running-djang/31981361#31981361", "title": "Import Error When Switchin from Python 2.7 to Python 3.4 on Heroku running django-oscar on django 1.7.6", "body": "<p>I fixed it by importing this way:</p>\n\n<pre><code>from oscar.app import application as shop\n</code></pre>\n"}], "owner": {"reputation": 2790, "user_id": 128507, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/4892562b9298e9dfd5fddbc24b6445c2?s=128&d=identicon&r=PG", "display_name": "Andres", "link": "https://stackoverflow.com/users/128507/andres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1439455600, "creation_date": 1439407735, "last_edit_date": 1592644375, "question_id": 31973812, "link": "https://stackoverflow.com/questions/31973812/import-error-when-switchin-from-python-2-7-to-python-3-4-on-heroku-running-djang", "title": "Import Error When Switchin from Python 2.7 to Python 3.4 on Heroku running django-oscar on django 1.7.6", "body": "<p>Somewhat similar issue to <a href=\"https://groups.google.com/forum/#!searchin/django-oscar/python$203.4$20django$201.7$20import$20error/django-oscar/BNBI2xgPm0o/Dd24lzpPQGwJ\" rel=\"nofollow noreferrer\">this one</a> although not quite. Installation was running fine on Heroku and Python 2.7 and also fine with Python 3.4 on my dev machine (OS X). Regretfully switched over to Python 3.4 on Heroku as well and am now getting</p>\n<pre><code> Django Version:    1.7.6\n Exception Type:    ImportError\n Exception Value: cannot import name 'shop' in urls.py  in &lt;module&gt;, line 5\n</code></pre>\n<p>Oscar is installed in the virtual env and imports without a problem from the shell</p>\n<p>wsgi.py looks as follows:</p>\n<pre><code> import os\n os.environ.setdefault(&quot;DJANGO_SETTINGS_MODULE&quot;, &quot;super_secret_project.settings&quot;)`\n\n from django.core.wsgi import get_wsgi_application\n # from whitenoise.django import DjangoWhiteNoise\n application = get_wsgi_application()\n # application = DjangoWhiteNoise(application)\n</code></pre>\n<p>I tried force loading models with an added dummy import in urls.py:\n<code>from oscar.apps.order import models</code></p>\n<p>Starting to think it might be an issue with Heroku/wsgi files</p>\n"}, {"tags": ["python", "pandas", "merge"], "comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1439407763, "post_id": 31973781, "comment_id": 51854419, "body": "Can you provide a small sample of data that demonstrates the error?"}, {"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1439407779, "post_id": 31973781, "comment_id": 51854433, "body": "Can you find the smallest failing case?  (<code>left = left.iloc[:200000]</code> etc. and decrease the numbers.)"}, {"owner": {"reputation": 661, "user_id": 5171073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DINumKQGaXk/AAAAAAAAAAI/AAAAAAAAAjI/FKfUWOj6H9Q/photo.jpg?sz=128", "display_name": "Cody Braun", "link": "https://stackoverflow.com/users/5171073/cody-braun"}, "edited": false, "score": 0, "creation_date": 1439408420, "post_id": 31973781, "comment_id": 51854741, "body": "So, interestingly enough this runs fine with 10,000 rows from each dataframce and turns into a memory error with 100,000 rows from from each. That may be underlying issue, I&#39;ll try this somewhere other than ipython notebook on a laptop"}, {"owner": {"reputation": 1063, "user_id": 10214220, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216051991748009/picture?type=large", "display_name": "Kshitij Yadav", "link": "https://stackoverflow.com/users/10214220/kshitij-yadav"}, "edited": false, "score": 0, "creation_date": 1553016657, "post_id": 31973781, "comment_id": 97226475, "body": "were you able to solve this?"}], "owner": {"reputation": 661, "user_id": 5171073, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DINumKQGaXk/AAAAAAAAAAI/AAAAAAAAAjI/FKfUWOj6H9Q/photo.jpg?sz=128", "display_name": "Cody Braun", "link": "https://stackoverflow.com/users/5171073/cody-braun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 671, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1439407590, "creation_date": 1439407590, "question_id": 31973781, "link": "https://stackoverflow.com/questions/31973781/negative-dimensions-are-not-allowed-when-merging-two-dataframes", "title": "Negative Dimensions Are Not Allowed When Merging Two DataFrames", "body": "<p>When merging two DataFrames, I'm getting the following error: </p>\n\n<p><em>pandas/src/join.pyx in pandas.algos.left_outer_join (pandas/algos.c:46783)()\nValueError: negative dimensions are not allowed</em></p>\n\n<p>Here's the line that's throwing it:</p>\n\n<pre><code>badges = pd.merge(left, right, how=\"inner\", on=\"year\").drop_duplicates()\n</code></pre>\n\n<p>The shapes of the two DataFrames are (227630, 5) (227630, 4), though it seems that shouldn't matter. I'm probably missing something obvious.</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 2397, "user_id": 996142, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/22f659c828b9c60e26aa2359387cebfb?s=128&d=identicon&r=PG", "display_name": "user996142", "link": "https://stackoverflow.com/users/996142/user996142"}, "edited": false, "score": 0, "creation_date": 1439407509, "post_id": 31973707, "comment_id": 51854288, "body": "You may be interested in &quot;Preventing duplicate signals&quot;: <a href=\"https://docs.djangoproject.com/en/1.8/topics/signals/#preventing-duplicate-signals\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/1.8/topics/signals/&hellip;</a>"}, {"owner": {"reputation": 6465, "user_id": 1182891, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/64170963e481496b89074f68786f4aeb?s=128&d=identicon&r=PG", "display_name": "Josh J", "link": "https://stackoverflow.com/users/1182891/josh-j"}, "edited": false, "score": 0, "creation_date": 1439407693, "post_id": 31973707, "comment_id": 51854380, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/2110545/why-is-init-module-in-django-project-loaded-twice\">why is __init__ module in django project loaded twice</a>"}, {"owner": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439408837, "post_id": 31973707, "comment_id": 51854950, "body": "Thanks, but these links does not contribute to the solution"}, {"owner": {"reputation": 316, "user_id": 2817219, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/89b91c209b145ead1e1a4309fc048afc?s=128&d=identicon&r=PG&f=1", "display_name": "user2817219", "link": "https://stackoverflow.com/users/2817219/user2817219"}, "edited": false, "score": 0, "creation_date": 1506181172, "post_id": 31973707, "comment_id": 79720849, "body": "if I try your solution then I get the following error: &quot;django.core.exceptions.AppRegistryNotReady: Apps aren&#39;t loaded yet.&quot; How did you solve that?"}], "answers": [{"comments": [{"owner": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439409107, "post_id": 31973981, "comment_id": 51855103, "body": "Thanks @chucksmash but I get the some issue with this."}, {"owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "reply_to_user": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439409560, "post_id": 31973981, "comment_id": 51855347, "body": "@nachopro Your print statement in signals.py is outside of the if statement checking whether <code>instance</code> is being created or updated. Do you still see it twice if you move <code>print &#39;---------&gt; Running callback&#39;</code> inside of the <code>if</code> block?"}, {"owner": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439409818, "post_id": 31973981, "comment_id": 51855468, "body": "Yes chucksmash, when I run the tests (fails because when one RemoteTask is created, two RemoteTaskStatus are added) I got two prints &quot;Running callback&quot;"}, {"owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "reply_to_user": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439409920, "post_id": 31973981, "comment_id": 51855508, "body": "@nachopro in that case you can pass a <code>dispatch_uid</code> parameter to the <code>receiver</code> decorator."}, {"owner": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "edited": false, "score": 0, "creation_date": 1439410202, "post_id": 31973981, "comment_id": 51855645, "body": ":( Why Django, WHY?!?!?!"}], "tags": [], "owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "is_accepted": true, "score": 9, "last_activity_date": 1439409857, "last_edit_date": 1439409857, "creation_date": 1439408380, "answer_id": 31973981, "question_id": 31973707, "link": "https://stackoverflow.com/questions/31973707/django-signals-how-to-initialize-bindings/31973981#31973981", "title": "Django Signals: How to initialize bindings?", "body": "<p>Import your <code>signals.py</code> inside of an <code>AppConfig.ready</code> method to prevent the callback from being registered twice. Here's the recommended way to do this:</p>\n\n<pre><code>my_awesome_project/\n|-- app/\n|   |-- __init__.py   &lt;-- set default_app_config here\n|   |-- apps.py       &lt;-- define your AppConfig subclass here\n|   |-- models.py\n|   |-- signals.py    &lt;-- define your signal handling functions here\n|-- other_app/\n|-- my_awesome_project/\n    |-- __init__.py\n    |-- settings.py\n    |-- wsgi.py\n</code></pre>\n\n<p><strong>app/__init__.py</strong></p>\n\n<pre><code>default_app_config = 'app.apps.MyAppConfig'\n</code></pre>\n\n<p><strong>app/apps.py</strong></p>\n\n<pre><code>from django.apps import AppConfig\n\nclass MyAppConfig(AppConfig):\n    name=\"app\"\n\n    def ready(self):\n        from . import signals\n</code></pre>\n\n<p><strong>apps/models.py</strong></p>\n\n<pre><code>from django.db import models\n\nclass RemoteTask(models.Model):\n    title = models.CharField(max_length=50)\n\nclass RemoteTaskStatus(models.Model):\n    remote_task = models.IntegerField()\n    status = models.IntegerField()\n</code></pre>\n\n<p><strong>app/signals.py</strong></p>\n\n<pre><code>from django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom app.models import RemoteTask, RemoteTaskStatus\n\n@receiver(post_save, sender=RemoteTask, dispatch_uid=\"status_new_signal_on_RemoteTask_post_save\")\ndef status_new(sender, **kwargs):\n    print '---------&gt; Running callback'\n    if kwargs.get('created', 'False') is True:\n        instance = kwargs['instance']\n        RemoteTaskStatus.objects.create(\n            remote_task=instance,\n            status=0\n        )\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Added <code>dispatch_uid</code> to <code>receiver</code> decorator.</p>\n"}, {"comments": [{"owner": {"reputation": 451, "user_id": 1940241, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1531e6450751ab82172b6c02a56d08d5?s=128&d=identicon&r=PG", "display_name": "Angel Vel&#225;squez", "link": "https://stackoverflow.com/users/1940241/angel-vel%c3%a1squez"}, "edited": false, "score": 1, "creation_date": 1439411811, "post_id": 31974863, "comment_id": 51856468, "body": "try:  import app.signals in your <code>__init__.py</code>"}], "tags": [], "owner": {"reputation": 451, "user_id": 1940241, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1531e6450751ab82172b6c02a56d08d5?s=128&d=identicon&r=PG", "display_name": "Angel Vel&#225;squez", "link": "https://stackoverflow.com/users/1940241/angel-vel%c3%a1squez"}, "is_accepted": false, "score": 1, "last_activity_date": 1439429825, "last_edit_date": 1439429825, "creation_date": 1439411639, "answer_id": 31974863, "question_id": 31973707, "link": "https://stackoverflow.com/questions/31973707/django-signals-how-to-initialize-bindings/31974863#31974863", "title": "Django Signals: How to initialize bindings?", "body": "<p>Hmm I've read that you were running tests? by any chance were py.test ? try deleting .pyc files or the <code>__pycache__</code> folder.</p>\n"}], "owner": {"reputation": 2249, "user_id": 890750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8b5721b4d1ad819031db37d52360a0c?s=128&d=identicon&r=PG", "display_name": "nachopro", "link": "https://stackoverflow.com/users/890750/nachopro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1826, "favorite_count": 2, "accepted_answer_id": 31973981, "answer_count": 2, "score": 1, "last_activity_date": 1439429825, "creation_date": 1439407319, "last_edit_date": 1439412102, "question_id": 31973707, "link": "https://stackoverflow.com/questions/31973707/django-signals-how-to-initialize-bindings", "title": "Django Signals: How to initialize bindings?", "body": "<p>I'm importing the signals file on the <code>__init__.py</code> file of the App. The issue happens when I run manage.py runserver i found that the <code>__init__.py</code> is imported two times, and my callbacks run two times.</p>\n\n<p>But, when I run manage.py shell, the <code>__init__.py</code> it's worked as expected (one time)</p>\n\n<p>(Django 1.8.3)</p>\n\n<p><code>app/__init__.py</code>:</p>\n\n<pre><code>print 'Hello!'\nimport signals\n</code></pre>\n\n<p>app/models.py:</p>\n\n<pre><code>from django.db import models\n\nclass RemoteTask(models.Model):\n    title = models.CharField(max_length=50)\n\nclass RemoteTaskStatus(models.Model):\n    remote_task = models.IntegerField()\n    status = models.IntegerField()\n</code></pre>\n\n<p>app/signals.py:</p>\n\n<pre><code>print '------&gt; app/signals.py'\n\nfrom django.db.models.signals import post_save\nfrom django.dispatch import receiver\nfrom app.models import RemoteTask, RemoteTaskStatus\n\n@receiver(post_save, sender=RemoteTask)\ndef status_new(sender, **kwargs):\n    print '---------&gt; Running callback'\n    if kwargs.get('created', 'False') is True:\n        instance = kwargs['instance']\n        RemoteTaskStatus.objects.create(\n            remote_task=instance,\n            status=0\n        )\n</code></pre>\n\n<p>Example output:</p>\n\n<pre><code>$ ./manage.py runserver\nHello!\n------&gt; app/signals.py\nHello!\n------&gt; app/signals.py\nPerforming system checks...\n\nSystem check identified no issues (0 silenced).\nAugust 12, 2015 - 19:50:38\nDjango version 1.8.3, using settings 'signal_loca.settings'\nStarting development server at http://127.0.0.1:8000/\nQuit the server with CONTROL-C.\n</code></pre>\n\n<p>Solution from Angel Velasquez:\n<code>app/__init__.py</code>:</p>\n\n<pre><code>print 'Hello!'\nimport app.signals\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "answers": [{"comments": [{"owner": {"reputation": 2982, "user_id": 976766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/812753feeddc1aa93f23b1e0d733b7b5?s=128&d=identicon&r=PG", "display_name": "g4ur4v", "link": "https://stackoverflow.com/users/976766/g4ur4v"}, "edited": false, "score": 1, "creation_date": 1439411349, "post_id": 31974524, "comment_id": 51856207, "body": "Hi , this works , but when I make a post request to add new data , I get error <code>StringRelatedField.to_internal_value() must be implemented</code> , are you aware of this ?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2913694"}, "edited": false, "score": 1, "creation_date": 1439500711, "post_id": 31974524, "comment_id": 51900738, "body": "You&#39;ll want to read up on the <a href=\"http://www.django-rest-framework.org/api-guide/relations/#custom-relational-fields\" rel=\"nofollow noreferrer\">custom relational fields</a> documentation."}], "tags": [], "owner": {"reputation": 5001, "user_id": 1971587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafdce836e1f30eaaa42b7238e5a7516?s=128&d=identicon&r=PG", "display_name": "Joey Wilhelm", "link": "https://stackoverflow.com/users/1971587/joey-wilhelm"}, "is_accepted": true, "score": 4, "last_activity_date": 1439410409, "creation_date": 1439410409, "answer_id": 31974524, "question_id": 31973706, "link": "https://stackoverflow.com/questions/31973706/serializers-in-django-rest-framework/31974524#31974524", "title": "Serializers in django rest framework", "body": "<p>What you will most likely want to do is use a <a href=\"http://www.django-rest-framework.org/api-guide/relations/#stringrelatedfield\" rel=\"nofollow\">StringRelatedField</a> for the genre field on your MovieSerializer. For instance:</p>\n\n<pre><code>class MovieSerializer(serializers.ModelSerializer):\n    genre = serializers.StringRelatedField(many=True)\n\n    class Meta:\n        model = Movie\n        fields = ('popularity', 'director', 'genre', 'imdb_score', 'name')\n        depth = 1\n</code></pre>\n"}], "owner": {"reputation": 2982, "user_id": 976766, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/812753feeddc1aa93f23b1e0d733b7b5?s=128&d=identicon&r=PG", "display_name": "g4ur4v", "link": "https://stackoverflow.com/users/976766/g4ur4v"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1007, "favorite_count": 0, "accepted_answer_id": 31974524, "answer_count": 1, "score": 1, "last_activity_date": 1439410409, "creation_date": 1439407318, "question_id": 31973706, "link": "https://stackoverflow.com/questions/31973706/serializers-in-django-rest-framework", "title": "Serializers in django rest framework", "body": "<p>Need help with serializer of django rest framework for ManyToMany Field .</p>\n\n<p><strong>Model</strong></p>\n\n<pre><code>class Genre(models.Model):\n    genre = models.CharField(max_length=255)\n\n    def __unicode__(self):\n        return u'%s' % (self.genre)\n\n\nclass Movie(models.Model):\n    popularity = models.FloatField()\n    director = models.CharField(max_length=255)\n    imdb_score = models.FloatField()\n    name = models.CharField(max_length=255)\n    genre = models.ManyToManyField(Genre)\n\n    def __unicode__(self):\n        return u'%s' % (self.name)\n</code></pre>\n\n<p><strong>Serializer</strong></p>\n\n<pre><code>class MovieSerializer(serializers.ModelSerializer):\n    class Meta:\n        model = Movie\n        fields = ('popularity', 'director', 'genre', 'imdb_score', 'name')\n        depth = 1\n</code></pre>\n\n<p><strong>View</strong></p>\n\n<pre><code>class MovieList(APIView):\n\n    def get(self, request, format=None):\n         movies = Movie.objects.all()\n         serializer = MovieSerializer(movies, many=True)\n             return Response(serializer.data)\n</code></pre>\n\n<p>The result of the API using the above serializer is below,</p>\n\n<pre><code>{\n    \"popularity\":83.0,\n    \"director\":\"Victor Fleming\",\n    \"genre\":[\n    {\"id\":1,\"genre\":\"Adventure\"},\n    {\"id\":2,\"genre\":\"Family\"},\n    {\"id\":3,\"genre\":\"Fantasy\"},\n    {\"id\":4,\"genre\":\"Musical\"}\n    ],\n    \"imdb_score\":8.3,\n    \"name\":\"The Wizard of Oz\"\n}\n</code></pre>\n\n<p>How can I exclude id and genre so that the output is like shown below.</p>\n\n<pre><code>{\n    \"99popularity\": 83.0,\n    \"director\": \"Victor Fleming\",\n    \"genre\": [\n      \"Adventure\",\n      \" Family\",\n      \" Fantasy\",\n      \" Musical\"\n    ],\n    \"imdb_score\": 8.3,\n    \"name\": \"The Wizard of Oz\"\n  }\n</code></pre>\n"}, {"tags": ["python", "recursion", "scrapy"], "comments": [{"owner": {"reputation": 273, "user_id": 4483828, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1215463883/picture?type=large", "display_name": "Rodrigo Ney", "link": "https://stackoverflow.com/users/4483828/rodrigo-ney"}, "edited": false, "score": 0, "creation_date": 1439413088, "post_id": 31973638, "comment_id": 51857200, "body": "Read about <a href=\"http://doc.scrapy.org/en/latest/topics/spiders.html#crawlspider\" rel=\"nofollow noreferrer\">Crawl Spider</a>"}, {"owner": {"reputation": 5635, "user_id": 823942, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/20a30fbd90856d74ec7b6ba78258b234?s=128&d=identicon&r=PG", "display_name": "Matt R. Wilson", "link": "https://stackoverflow.com/users/823942/matt-r-wilson"}, "edited": false, "score": 0, "creation_date": 1439427010, "post_id": 31973638, "comment_id": 51861537, "body": "What are the errors you are getting?"}, {"owner": {"reputation": 589, "user_id": 5210774, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-q6k8oAG-zew/AAAAAAAAAAI/AAAAAAAAAX8/ucTaUYHW5Jk/photo.jpg?sz=128", "display_name": "Marko", "link": "https://stackoverflow.com/users/5210774/marko"}, "edited": false, "score": 0, "creation_date": 1439460243, "post_id": 31973638, "comment_id": 51875135, "body": "I read about Crawl Spider but .."}, {"owner": {"reputation": 589, "user_id": 5210774, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-q6k8oAG-zew/AAAAAAAAAAI/AAAAAAAAAX8/ucTaUYHW5Jk/photo.jpg?sz=128", "display_name": "Marko", "link": "https://stackoverflow.com/users/5210774/marko"}, "edited": false, "score": 0, "creation_date": 1439461978, "post_id": 31973638, "comment_id": 51876247, "body": "Hey guys, I would like to ask your for your ideas. I would like to create a list of all unique webpages. How do I do that? It sounds like a simple task to me, great for some tutorial :) The thing is, that for each call of the function &quot;parse&quot; I get a list of webpages (items) and these lists contain the same webpages.  But I would like to have a unique list. I tried to create list &quot;items = []&quot; outside of &quot;def parse&quot; function, to just add new unique webpages, but I get NameError: global name &#39;items&#39; is not defined. When I try to &quot;return items&quot;, I get SyntaxError: return inside generator. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 5210774, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-q6k8oAG-zew/AAAAAAAAAAI/AAAAAAAAAX8/ucTaUYHW5Jk/photo.jpg?sz=128", "display_name": "Marko", "link": "https://stackoverflow.com/users/5210774/marko"}, "edited": false, "score": 0, "creation_date": 1439545469, "post_id": 31992413, "comment_id": 51916537, "body": "Thank you @Rejected, that is exactly what I needed. To get out of the parse function loop to the spider level. Now I know, how to use &quot;self&quot;. CrawlSpider and Dupefilter, that is the next level. When I learn more about Python, I might get there. For now it is important that my prototype is working. Later we might optimise it because we intend to use it for several tens of thousands of websites. Thank you very much again. Stackoverflow works fine. Best regards"}], "tags": [], "owner": {"reputation": 4024, "user_id": 1901546, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Vd82d.png?s=128&g=1", "display_name": "Rejected", "link": "https://stackoverflow.com/users/1901546/rejected"}, "is_accepted": true, "score": 0, "last_activity_date": 1439479843, "last_edit_date": 1439479843, "creation_date": 1439479395, "answer_id": 31992413, "question_id": 31973638, "link": "https://stackoverflow.com/questions/31973638/how-to-crawl-all-webpages-on-website-up-to-certain-depth/31992413#31992413", "title": "How to crawl all webpages on website up to certain depth?", "body": "<p>You're appending <code>item</code> (a newly instantiated object), to your list <code>items</code>.  Since <code>item</code> is always a new <code>JobItem()</code> object, it will never exist in your list <code>items</code>.</p>\n\n<p>To illustrate:</p>\n\n<pre><code>&gt;&gt;&gt; class MyItem(object):\n...   pass\n...\n&gt;&gt;&gt; a = MyItem()\n&gt;&gt;&gt; b = MyItem()\n&gt;&gt;&gt; a.url = \"abc\"\n&gt;&gt;&gt; b.url = \"abc\"\n&gt;&gt;&gt; a == b\nFalse\n</code></pre>\n\n<p>Just because they have one attribute that is the same, doesn't mean they are the same object.</p>\n\n<p>Even if this worked though, you're resetting the list <code>items</code> everytime you call parse (ie. for each request), so you'll never really remove duplicates.</p>\n\n<p>Instead, you would be better checking vs. the <code>absolute_url</code> itself, and putting the list at the spider level:</p>\n\n<pre><code>class JobSpider(scrapy.Spider):\n    name = \"jobs\"\n    allowed_domains = [\"www.gen-i.si\"]\n    start_urls = [\"http://www.gen-i.si\"]\n    all_urls = []\n\n    def parse(self, response):\n        # remove \"items = []\"\n        ...\n        for url in urls:\n            if (url[0:4] != \"http\") and not any(x in url for x in ['%', ':', '?', '&amp;']):    \n                absolute_url = urlparse.urljoin(base_url, url)\n                if absolute_url not in self.all_urls:\n                    self.all_urls.append(absolute_url)\n                    item = JobItem()\n                    item['link'] = absolute_url\n\n                    yield item\n                    yield Request(absolute_url, callback = self.parse)\n</code></pre>\n\n<p>This functionality, however, would be better served by creating a <code>Dupefilter</code> instead (<a href=\"http://doc.scrapy.org/en/1.0/topics/settings.html#dupefilter-class\" rel=\"nofollow\">see here for more information</a>).  Additionally, I agree with @RodrigoNey, a <code>CrawlSpider</code> would likely better serve your purpose, and be more maintainable in the long run. </p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11438633, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d9b8097cc12c9807da02f9a7929744e0?s=128&d=identicon&r=PG", "display_name": "Marc Bauer", "link": "https://stackoverflow.com/users/11438633/marc-bauer"}, "is_accepted": false, "score": 0, "last_activity_date": 1556738079, "creation_date": 1556738079, "answer_id": 55941432, "question_id": 31973638, "link": "https://stackoverflow.com/questions/31973638/how-to-crawl-all-webpages-on-website-up-to-certain-depth/55941432#55941432", "title": "How to crawl all webpages on website up to certain depth?", "body": "<p>I'm working on a web crawler and ended up making a list of links that needed to be crawled, then once we went there it was deleted from that list and added to the crawled list. then you can use a <code>not in</code> search to either add/delete/etc.</p>\n"}], "owner": {"reputation": 589, "user_id": 5210774, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-q6k8oAG-zew/AAAAAAAAAAI/AAAAAAAAAX8/ucTaUYHW5Jk/photo.jpg?sz=128", "display_name": "Marko", "link": "https://stackoverflow.com/users/5210774/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 31992413, "answer_count": 2, "score": 1, "last_activity_date": 1556738079, "creation_date": 1439407023, "last_edit_date": 1439426302, "question_id": 31973638, "link": "https://stackoverflow.com/questions/31973638/how-to-crawl-all-webpages-on-website-up-to-certain-depth", "title": "How to crawl all webpages on website up to certain depth?", "body": "<p>I have a website and I would like to find a webpage with information about job vacancies. There is only one page usually with such information. So I start crawling with website and I manage to get all webpages up to certain depth. It works. But they are many times duplicated. Instead of lets say 45 pages I get 1000 pages. I know the reason why. The reason is that every time I call my \"parse\" function, it parses all the webpages on a certain webpage. So when I come to a new webpage, it crawls all webpages, out of which some have been crawled before. </p>\n\n<p>1) I tried to make \"items=[]\" list out of parse function but I get some global error. I don't know how to get a list of unique webpages. When I have one, I will be able to choose the right one with simple url parsing. \n2) I also tried to have \"Request\" and \"return items\" in the \"parse\" function, but I get syntax error: return inside generator.</p>\n\n<p>I am using DEPTH_LIMIT. Do I really need to use Rules ? </p>\n\n<p>code:</p>\n\n<pre><code>import scrapy, urlparse, os\nfrom scrapy.spiders import Rule\nfrom scrapy.linkextractors import LinkExtractor\nfrom tutorial.items import JobItem\nfrom scrapy.utils.response import get_base_url\nfrom scrapy.http import Request\nfrom urlparse import urljoin\nfrom datetime import datetime\n\n\nclass JobSpider(scrapy.Spider):\n    name = \"jobs\"\n    allowed_domains = [\"www.gen-i.si\"]\n    start_urls = [\"http://www.gen-i.si\"]\n\n    def parse(self, response):\n        response.selector.remove_namespaces() #\n        urls = response.xpath('//@href').extract()#choose all \"href\", either new websites either webpages on our website\n        items = []\n\n\n        base_url = get_base_url(response) #base url\n\n\n        for url in urls:\n            #we need only webpages, so we remove all websites and urls with strange characters\n            if (url[0:4] != \"http\") and not any(x in url for x in ['%', ':', '?', '&amp;']):\n\n                item = JobItem()\n                absolute_url = urlparse.urljoin(base_url,url)\n                item[\"link\"] = absolute_url\n                if item not in items:\n                    items.append(item)\n\n                    yield item\n                    yield Request(absolute_url, callback = self.parse)\n        #return items\n</code></pre>\n"}, {"tags": ["python", "firefox", "selenium", "selenium-webdriver"], "answers": [{"tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1439407515, "last_edit_date": 1495542583, "creation_date": 1439407515, "answer_id": 31973759, "question_id": 31973635, "link": "https://stackoverflow.com/questions/31973635/firefox-custom-profile-doesnt-work-python/31973759#31973759", "title": "Firefox custom profile doesn&#39;t work [Python]", "body": "<p>Multiple issues here:</p>\n\n<ul>\n<li>the setting is called <code>network.cookie.cookieBehavior</code> (no <code>u</code> there)</li>\n<li><code>javascript.enabled</code> is a <a href=\"https://stackoverflow.com/questions/31384526/selenium-python-firefox-webdriver-cant-modify-profile\"><em>frozen preference</em></a> and cannot be changed </li>\n</ul>\n\n<p>Fixed version:</p>\n\n<pre><code>self.profile = webdriver.FirefoxProfile()\nself.profile.set_preference('network.proxy.type', 1)\nself.profile.set_preference('network.proxy.socks_remote_dns', True)\nself.profile.set_preference('network.cookie.cookieBehavior', 2)\nself.profile.set_preference('javascript.enabled', False)\nself.profile.update_preferences()\n</code></pre>\n"}], "owner": {"reputation": 1785, "user_id": 2899150, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7f7c50d691b29ea0fb1ddf0e773d1333?s=128&d=identicon&r=PG&f=1", "display_name": "The_Diver", "link": "https://stackoverflow.com/users/2899150/the-diver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 31973759, "answer_count": 1, "score": 1, "last_activity_date": 1439407920, "creation_date": 1439407021, "last_edit_date": 1439407920, "question_id": 31973635, "link": "https://stackoverflow.com/questions/31973635/firefox-custom-profile-doesnt-work-python", "title": "Firefox custom profile doesn&#39;t work [Python]", "body": "<p>I want to set a custom profile for Firefox using Selenium module. Here is my code:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.keys import Keys\n\nclass oo1():\n    def __init__(self, url):\n        self.url = url\n\n    def fps(self):\n        print 'running fp'\n        self.profile = webdriver.FirefoxProfile()\n        self.profile.set_preference('network.proxy.type', '1')\n        self.profile.set_preference('network.proxy.socks_remote_dns', 'true')\n        self.profile.set_preference('network.cookie.cookieBehaviour', '2')\n        self.profile.set_preference('javascript.enabled', 'False')\n        self.profile.update_preferences()\n    def driverr(self):\n        print 'running'\n        self.web = webdriver.Firefox(firefox_profile=self.profile)\n        self.web.get(self.url)\n\n\ns = oo1('127.0.0.1')\ns.fps()\ns.driverr()\n</code></pre>\n\n<p>When I run the above code, Firefox runs properly but none of the settings that I wrote above are applied to the Firefox.</p>\n\n<p>What is the problem and How do I fix that?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 79708, "user_id": 110707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97c4357dd1d0a26a62555ad949a77af?s=128&d=identicon&r=PG", "display_name": "Wooble", "link": "https://stackoverflow.com/users/110707/wooble"}, "is_accepted": true, "score": 11, "last_activity_date": 1439407004, "creation_date": 1439407004, "answer_id": 31973628, "question_id": 31973548, "link": "https://stackoverflow.com/questions/31973548/typeerror-cant-instantiate-abstract-class-in-python/31973628#31973628", "title": "TypeError: Can&#39;t instantiate abstract class in Python", "body": "<p>Your <code>CashFlows</code> class needs to define an implementation of <code>get_price</code>; it's an abstract method and concrete subclasses <strong>must</strong> implement it.</p>\n"}], "owner": {"reputation": 3299, "user_id": 3364569, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fd2163a38228368ffa4901278fda2eb6?s=128&d=identicon&r=PG&f=1", "display_name": "user131983", "link": "https://stackoverflow.com/users/3364569/user131983"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8245, "favorite_count": 0, "accepted_answer_id": 31973628, "answer_count": 1, "score": 5, "last_activity_date": 1439407004, "creation_date": 1439406726, "last_edit_date": 1495540679, "question_id": 31973548, "link": "https://stackoverflow.com/questions/31973548/typeerror-cant-instantiate-abstract-class-in-python", "title": "TypeError: Can&#39;t instantiate abstract class in Python", "body": "<p>I have a module <code>fi</code> with the following classes defined:</p>\n\n<pre><code>class Asset(metaclass=abc.ABCMeta):\n    pass\n\n    @abc.abstractmethod\n    def get_price(self, dt : datetime.date, **kwargs):\n    ''' Nothing here yet\n    '''\n\nclass CashFlows(Asset):\n\n   def __init__(self, amounts : pandas.Series, probabilities : pandas.Series = None):\n   amounts = Asset.to_cash_flows()\n</code></pre>\n\n<p>I then have another class <code>Bond(fi.Asset)</code> with this method within it:</p>\n\n<pre><code>def to_cash_flows(self, notional : float = 100.0) -&gt; fi.asset.CashFlows:\n    series = pandas.Series(list_of_data, indices_of_data)\n    return fi.CashFlows(series)\n</code></pre>\n\n<p>I get the error <code>TypeError: Can't instantiate abstract class CashFlows with abstract methods get_price</code> when I call <code>to_cash_flows</code>. I've seen <a href=\"https://stackoverflow.com/questions/8086826/cant-instantiate-abstract-class-with-abstract-methods-on-class-that-shouldn\">this answer</a>, but am unable to relate it with my current issue.</p>\n\n<p>Thank You</p>\n"}, {"tags": ["python", "algorithm", "function", "python-3.x"], "comments": [{"owner": {"reputation": 9484, "user_id": 1327235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92c96d4ad697e78400e312fe40b23dc?s=128&d=identicon&r=PG", "display_name": "Juan Lopes", "link": "https://stackoverflow.com/users/1327235/juan-lopes"}, "edited": false, "score": 1, "creation_date": 1439406826, "post_id": 31973507, "comment_id": 51853906, "body": "Please, explain the problem, so we don&#39;t have to infer what your code is trying to do."}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 2, "creation_date": 1439406857, "post_id": 31973507, "comment_id": 51853924, "body": "If <code>len(a)</code> is much much smaller than <code>len(aprime)</code> which it seems like it is in this case, you should just calculate <code>sum(a)</code> and subtract from the closed form of <code>sum(aprime)</code>: <code>a*(a+1)&#47;2</code>"}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 9484, "user_id": 1327235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e92c96d4ad697e78400e312fe40b23dc?s=128&d=identicon&r=PG", "display_name": "Juan Lopes", "link": "https://stackoverflow.com/users/1327235/juan-lopes"}, "edited": false, "score": 0, "creation_date": 1439406935, "post_id": 31973507, "comment_id": 51853961, "body": "@JuanLopes <code>I&#39;m writing a code that will count the gaps in the function g(x) below... However, this code performs ludicrously long...</code> I believe I stated my problem clearly; is it the unclear definition of a gap?"}, {"owner": {"reputation": 1096, "user_id": 5144555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c0f1046a519313e19ad3929479ec85?s=128&d=identicon&r=PG&f=1", "display_name": "Michael S Priz", "link": "https://stackoverflow.com/users/5144555/michael-s-priz"}, "edited": false, "score": 1, "creation_date": 1439407067, "post_id": 31973507, "comment_id": 51854033, "body": "This is a website for programming problems so if your code is related to other subjects we may not be able to understand immediately. Always best to give example input and output if there something which may be unclear :)"}, {"owner": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 2, "creation_date": 1439407085, "post_id": 31973507, "comment_id": 51854050, "body": "Also, I&#39;m hoping <code>g(x)</code> is just an example here -- if that&#39;s actually the function you&#39;re using then transforming it to <code>g(x) = floor(x*log10(x))</code> will be a lot faster for large <code>x</code>."}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 41878, "user_id": 257465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882a999c825707d8bfa799ee20bda1f2?s=128&d=identicon&r=PG", "display_name": "tzaman", "link": "https://stackoverflow.com/users/257465/tzaman"}, "edited": false, "score": 0, "creation_date": 1439407215, "post_id": 31973507, "comment_id": 51854116, "body": "@tzaman Thank you for both of your optimizations. It was indeed my original function, but was a combination of a digit-counting function and the function <code>x**x</code>."}, {"owner": {"reputation": 33202, "user_id": 987185, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e4c92f75eac948cee7e7e8913f9aa379?s=128&d=identicon&r=PG", "display_name": "musically_ut", "link": "https://stackoverflow.com/users/987185/musically-ut"}, "edited": false, "score": 0, "creation_date": 1439407364, "post_id": 31973507, "comment_id": 51854219, "body": "<code>g(x)</code> is also an increasing function of <code>x</code> if <code>x &gt;= 1</code> and takes only integer values. So you can probably do a <a href=\"https://en.wikipedia.org/wiki/Ternary_search\" rel=\"nofollow noreferrer\">ternary search</a> to determine at which points it switches between <code>x=1</code> and <code>x=n</code>."}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439408709, "post_id": 31973507, "comment_id": 51854882, "body": "try to calculate the scale of you expected problem, it&#39;s roughly <code>9.3*2^30</code>, that is 9.3G. presume your cpu is 4G and is very powerful, 2.2seconds are required just to iterate through all numbers. your 10 minutes requirement implies &lt;300 clock cycles each iteration, with <code>log</code> and <code>set</code> these expensive ones, and your code is in python, it&#39;s probably not achievable."}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439408871, "post_id": 31973507, "comment_id": 51854969, "body": "@HuStmpHrrr With the code as it is now, I am currently on the first step (setting <code>g(x)</code>). I am not entirely sure what you&#39;re saying, but I started the program about 20 minutes ago. It&#39;s still going, only on <code>855476</code>. a mere 0.008% done."}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439409049, "post_id": 31973507, "comment_id": 51855073, "body": "@C\u1d0f\u0274\u1d0f\u0280O&#39;B\u0280\u026a\u1d07\u0274 i was showing you a brief argument about how impossible it&#39;s gonna finish everything within 10 minutes with the scale you specified(<code>n = 10 ** 10</code>)."}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439409257, "post_id": 31973507, "comment_id": 51855186, "body": "@HuStmpHrrr Oh, I see. Sorry, I misunderstood. What would your estimate be, for <code>n = 10 ** 10</code>, then?"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439409529, "post_id": 31973507, "comment_id": 51855330, "body": "@C\u1d0f\u0274\u1d0f\u0280O&#39;B\u0280\u026a\u1d07\u0274 that&#39;s very coarse. python probably suffers <code>1&#47;100</code> slowdown, and <code>set</code> is unpredictably expensive. to finish your while loop, a good several thousands or tens of thousands minutes are the very least estimation."}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439409824, "post_id": 31973507, "comment_id": 51855470, "body": "@HuStmpHrrr It seems like you know a lot about the subject; you say that Python suffers a <code>1&#47;100</code> slowdown&amp;mdash;does that mean there are other, faster languages?"}, {"owner": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439409950, "post_id": 31973507, "comment_id": 51855526, "body": "@C\u1d0f\u0274\u1d0f\u0280O&#39;B\u0280\u026a\u1d07\u0274 that&#39;s not &quot;official&quot; at all. it&#39;s a rough scale estimation. there are of course languages considered commonly faster than python, like c/c++, java, c#, etc. any languages can be compiled into machine code will definitely faster than python."}, {"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "reply_to_user": {"reputation": 5681, "user_id": 3040064, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/02e7081757e69605a91b7f7aea47f4ae?s=128&d=identicon&r=PG&f=1", "display_name": "Jason Hu", "link": "https://stackoverflow.com/users/3040064/jason-hu"}, "edited": false, "score": 0, "creation_date": 1439410183, "post_id": 31973507, "comment_id": 51855636, "body": "@HuStmpHrrr I see. I will consider moving to a compiled language in favor of speed. Thanks for your non-official rough estimations ;)"}], "answers": [{"comments": [{"owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "edited": false, "score": 0, "creation_date": 1439408649, "post_id": 31973850, "comment_id": 51854854, "body": "No, actually. <code>g</code> as stated is the function I wish to optimize, and is not arbitrary. As for your optimizations, I am sure if they will work better for large <code>n</code>."}], "tags": [], "owner": {"reputation": 1096, "user_id": 5144555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1c0f1046a519313e19ad3929479ec85?s=128&d=identicon&r=PG&f=1", "display_name": "Michael S Priz", "link": "https://stackoverflow.com/users/5144555/michael-s-priz"}, "is_accepted": false, "score": 1, "last_activity_date": 1439407862, "creation_date": 1439407862, "answer_id": 31973850, "question_id": 31973507, "link": "https://stackoverflow.com/questions/31973507/efficient-algorithm-for-transforming-a-set-with-a-function/31973850#31973850", "title": "Efficient algorithm for transforming a set with a function", "body": "<p>Your troubles probably arise from the line <code>sum(aprime-a)</code>. This forces python to compute the set difference of your two sets. Considering how large your sets will be that is a <strong>huge</strong> waste of time.</p>\n\n<p>Instead notice that <code>sum(a-b) = sum(a)-sum(b)</code> when <code>b</code> is a subset of <code>a</code> (as it is in your case). So we now have <code>sum(aprime)-sum(a)</code>.</p>\n\n<p>Next take advantage of the fact that <code>aprime</code> is simply an arithmetic sequence! You have a formula to calculate the sum of those things! Instead of <code>sum(aprime)</code> you can do </p>\n\n<pre><code>maxVal = max(a)\nsumAPrime = ((maxVal +1)*maxVal)/2\n</code></pre>\n\n<p>So you now have <code>sumAPrime - sum(a)</code> as your solution!</p>\n\n<p>I am going to assume that you need the optimizations to work for any arbitrary function <code>g</code> and so you can't make assumptions about the function in your code.</p>\n\n<p>Hope this helps! :)</p>\n"}, {"comments": [{"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 0, "creation_date": 1439410978, "post_id": 31974536, "comment_id": 51856013, "body": "Doing it this way took about 5 mins or so to run using 10e6 so i imagine 10e10 is gonna take a while. a long while."}], "tags": [], "owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "is_accepted": false, "score": 1, "last_activity_date": 1439410809, "last_edit_date": 1439410809, "creation_date": 1439410451, "answer_id": 31974536, "question_id": 31973507, "link": "https://stackoverflow.com/questions/31973507/efficient-algorithm-for-transforming-a-set-with-a-function/31974536#31974536", "title": "Efficient algorithm for transforming a set with a function", "body": "<p>I'm not sure it would make much difference but you could prevent using <code>set()</code> and <code>eval()</code>. <code>eval()</code> could be changed to <code>int()</code> since you are already setting n = to the result of the input. Next you could check for the value of g(b) in a as it iterates. Removing aprime and changing a to a list will give the following.</p>\n\n<pre><code>from math import *\n\na = []\nn = int(input(\"n = \"))\n\ndef g(x):\n    return floor(x*log10(x))\n\nb = 1\nwhile g(b) &lt; n:\n    if g(b) in a:\n        b+=1\n    else:\n        a.append(g(b))\n        b+=1\n\nz = max(a)\n\nprint(z*(z+1)/2-sum(a))\n\ninput(\"Done!\")\n</code></pre>\n"}], "owner": {"reputation": 895, "user_id": 4119004, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-AYhjTWVrGTc/AAAAAAAAAAI/AAAAAAAAAN0/u_1BqARfLDg/photo.jpg?sz=128", "display_name": "Conor O&#39;Brien", "link": "https://stackoverflow.com/users/4119004/conor-obrien"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1439410809, "creation_date": 1439406591, "last_edit_date": 1439407547, "question_id": 31973507, "link": "https://stackoverflow.com/questions/31973507/efficient-algorithm-for-transforming-a-set-with-a-function", "title": "Efficient algorithm for transforming a set with a function", "body": "<p>I'm writing a code that will count the gaps in the function <code>g(x)</code> below, with respect to the natural numbers, and then sum them.</p>\n\n<pre><code>from math import *\n\na = set()\nn = eval(input(\"n = \"))\n\ndef g(x):\n    return floor(x*log10(x))   # thanks to tzaman\n\nb = 1\nwhile g(b) &lt; n:\n    a.add(g(b))\n    b+=1\n\naprime = set(range(max(a)))\n\nz = max(a)\n\nprint(z*(z+1)/2-sum(a))        # thanks to tzaman\n\ninput(\"Done!\")\n</code></pre>\n\n<p>I am trying to have <code>n = 10 ** 10</code>, that is, <code>10000000000</code>, and perform calculations within a reasonable amount of time (say, &lt; 10 minutes). However, this code performs ludicrously long, and I wonder: is there a more efficient way to do this?</p>\n\n<hr>\n\n<h2>Example I/Os</h2>\n\n<pre><code>n = 12, output = 15\n</code></pre>\n\n<h2>Other information</h2>\n\n<p>The following chart compares <code>x</code> to <code>g(x)</code>:</p>\n\n<pre><code> x   | 1 2 3 4 5 6 7 8 9 10 11 12\ng(x) | 0 0 1 2 3 4 5 7 8 10 11 12\n</code></pre>\n\n<p>The set <code>x \\ g(x)</code> represents the members in <code>x</code> not in <code>g(x)</code>, and is, for numbers below 12, <code>{0,6,9}</code>; the sum of these is 15. So, when <code>n = 12</code>, <code>output = 15</code>.</p>\n"}, {"tags": ["python", "bash", "python-2.7", "subprocess"], "answers": [{"comments": [{"owner": {"reputation": 2937, "user_id": 3502786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003265848409/picture?type=large", "display_name": "Alex Brodov", "link": "https://stackoverflow.com/users/3502786/alex-brodov"}, "edited": false, "score": 0, "creation_date": 1439407325, "post_id": 31973647, "comment_id": 51854193, "body": "I didn&#39;t understand the <code>os.environ[&#39;PATH&#39;] = &#39;&#47;bin&#47;&#39;</code> part, and is there any thing that i can do, i really need to get those variables.."}, {"owner": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "reply_to_user": {"reputation": 2937, "user_id": 3502786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003265848409/picture?type=large", "display_name": "Alex Brodov", "link": "https://stackoverflow.com/users/3502786/alex-brodov"}, "edited": false, "score": 0, "creation_date": 1439407733, "post_id": 31973647, "comment_id": 51854400, "body": "<code>os.environ</code> is just a list. You can add members (i.e.) new environment variables just by assigning a new index to a value. So for you: <code>os.environ[&quot;workspace_path&quot;] = &quot;$workspaceProjPathLocal&quot;</code>. To get this <i>from</i> the bash script and not just do it in Python you&#39;ll actually have to pipe the environment varibles from the bash script to python using <code>popen</code> there are lots of good examples out there to google."}], "tags": [], "owner": {"reputation": 796, "user_id": 4920579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EGG30.jpg?s=128&g=1", "display_name": "amza", "link": "https://stackoverflow.com/users/4920579/amza"}, "is_accepted": false, "score": 1, "last_activity_date": 1439407063, "creation_date": 1439407063, "answer_id": 31973647, "question_id": 31973500, "link": "https://stackoverflow.com/questions/31973500/python-2-7-read-exported-variables-from-bash/31973647#31973647", "title": "Python 2.7 read exported variables from bash", "body": "<p>From the documentation for <a href=\"https://docs.python.org/2/library/os.html#os.environ\" rel=\"nofollow\"><code>os.environ</code></a>:</p>\n\n<blockquote>\n  <p>This mapping is captured the first time the os module is imported, typically during Python startup as part of processing site.py. Changes to the environment made after this time are not reflected in os.environ, except for changes made by modifying os.environ directly.</p>\n</blockquote>\n\n<p>So basically when your bash script changes the environment and then goes back to your python script the environment variables aren't refreshed. Pretty annoying. As the docs say the best solution is to add your variables to the environ list directly, like:</p>\n\n<pre><code>os.environ['PATH'] = '/bin/'\n</code></pre>\n\n<p>How you accomplish this is up to you, piping is a pretty decent way to do it. Albeit annoying. Unfortunately there is no way to \"refresh\" the environment list. In a lot of situations it might be best just to drop your bash script and somehow adapt it to the python script.</p>\n"}], "owner": {"reputation": 2937, "user_id": 3502786, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/100003265848409/picture?type=large", "display_name": "Alex Brodov", "link": "https://stackoverflow.com/users/3502786/alex-brodov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1439407063, "creation_date": 1439406559, "question_id": 31973500, "link": "https://stackoverflow.com/questions/31973500/python-2-7-read-exported-variables-from-bash", "title": "Python 2.7 read exported variables from bash", "body": "<p>I have a python2.7 script which is calling a bash script, inside the bash script i'm exporting 2 variable i've tried with <code>declare -x</code> and with <code>export</code>, then i'm trying to read this variables in the python script using <code>os.getenv</code> and i also tried using <code>os.environ</code> but i'm getting  a <code>None</code>type each time.\nHere is a snippet from my scripts:</p>\n\n<p>Python:</p>\n\n<pre><code>def set_perforce_workspace():\n        global workspace_path\n        global workspace_root_path\n        script_path = \"somePath\"\n        depot_name = \"TestingTools\"\n        dir_to_download = \"vtf\"\n        bash_command = \"./createWorkspace.sh \" + \"-d \" + depot_name + \" -w \" \\\n                       + PerforceUtils.WORKSPACE_NAME + \" -a \" + dir_to_download\n        print bash_command\n        print os.getcwd()\n        try:\n            os.chdir(script_path)\n        except OSError as e:\n            print \"Error: {0}\".format(e)\n        print os.getcwd()\n        return_code = call([bash_command], shell=True)\n        test = os.getenv(\"workspace_path\")\n        print \"this is test {0}\".format(test)\n        workspace_path = os.getenv(\"workspace_path\")\n        workspace_root_path = os.getenv(\"workspace_root_path\")\n        print \"This is the return code {0}\".format(return_code)\n        print \"this is the workspace path: {0}\".format(workspace_path)\n        print \"this is the workspace root path: {0}\".format(workspace_root_path)\n        return return_code\n</code></pre>\n\n<p>Bash:</p>\n\n<pre><code>declare -x workspace_root_path=\"$workspaceProjPath\"\nexport workspace_path=\"$workspaceProjPathLocal\"\n</code></pre>\n"}, {"tags": ["python", "django", "forms"], "comments": [{"owner": {"reputation": 5725, "user_id": 3224008, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7IvbW.png?s=128&g=1", "display_name": "Leistungsabfall", "link": "https://stackoverflow.com/users/3224008/leistungsabfall"}, "edited": false, "score": 0, "creation_date": 1439407518, "post_id": 31973414, "comment_id": 51854292, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/5329586/django-modelchoicefield-filtering-query-set-and-setting-default-value-as-an-obj\">Django ModelChoiceField: filtering query set and setting default value as an object</a>"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "edited": false, "score": 0, "creation_date": 1439417775, "post_id": 31973754, "comment_id": 51859139, "body": "Anyway you could show me how to write the view I always use models forms would the view look any different, using a regular form like this."}, {"owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "edited": false, "score": 0, "creation_date": 1439423545, "post_id": 31973754, "comment_id": 51860812, "body": "@appa_lover Everything in the view looks the same when calling a Form instead of a ModelForm usually. This case is an exception because we have added a parameter to the <code>__init__</code> method signature. Instead of calling it like <code>f = Add_Profile()</code>, you&#39;ll call it like <code>f = Add_Profile(user=request.user)</code> if the user is logged in."}, {"owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "edited": false, "score": 0, "creation_date": 1439423600, "post_id": 31973754, "comment_id": 51860829, "body": "@appa_Iover oh and I left out the rest of the field definitions on the <code>forms.Form</code>. You&#39;ll need to define each of the fields you want to use there as well."}], "tags": [], "owner": {"reputation": 4945, "user_id": 341510, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9162e8bca37c48433207c1fccfb3bba1?s=128&d=identicon&r=PG", "display_name": "chucksmash", "link": "https://stackoverflow.com/users/341510/chucksmash"}, "is_accepted": false, "score": 2, "last_activity_date": 1439407499, "creation_date": 1439407499, "answer_id": 31973754, "question_id": 31973414, "link": "https://stackoverflow.com/questions/31973414/how-to-exclude-a-value-in-a-modelmultiplechoicefield/31973754#31973754", "title": "How To Exclude A Value In A ModelMultipleChoiceField?", "body": "<p>You can definitely do it using <code>forms.Form</code> instead of <code>forms.ModelForm</code> with something along the lines of <a href=\"https://docs.djangoproject.com/en/1.8/ref/forms/fields/#fields-which-handle-relationships\" rel=\"nofollow\">this example in the docs</a>:</p>\n\n<pre><code>from django import forms\nfrom django.contrib.auth import get_user_model\n\nclass Add_Profile(forms.Form):\n    follows = forms.ModelMultipleChoiceField(queryset=None)\n\n    def __init__(self, user=None, *args, **kwargs):\n        super(Add_Profile, self).__init__(*args, **kwargs)\n        if user is not None:\n            self.fields['follows'].queryset = get_user_model().objects.exclude(pk=user.pk)\n        else:\n            self.fields['follows'].queryset = get_user_model.objects.all()\n</code></pre>\n\n<p>Just pass in the user you wish to exclude when you instantiate the form:</p>\n\n<pre><code>form = Add_Profile()  # all users will be present in the dropdown\nsome_guy = User.objects.get(pk=4)\nform = Add_Profile(user=some_guy)  # all users except some_guy will be present\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "edited": false, "score": 1, "creation_date": 1439487110, "post_id": 31973776, "comment_id": 51893785, "body": "what does that ~Q do?"}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 2, "creation_date": 1439487769, "post_id": 31973776, "comment_id": 51894135, "body": "<code>Q()</code> is a query object. You can read more about it <a href=\"https://docs.djangoproject.com/en/1.7/ref/models/queries/#q-objects\" rel=\"nofollow noreferrer\">here</a> . Adding <code>~</code> is like doing a negative operation. You can also replace the queryset expression with <code>UserProfile.objects.exclude(id=user_id)</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "edited": false, "score": 0, "creation_date": 1439488032, "post_id": 31973776, "comment_id": 51894275, "body": "I&#39;m getting a keyword argument if I edit my question you think you could help me out, I think it is an issue with my view?"}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1439488158, "post_id": 31973776, "comment_id": 51894339, "body": "Please edit the question and let me know more about the issue."}, {"owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "edited": false, "score": 0, "creation_date": 1439488229, "post_id": 31973776, "comment_id": 51894377, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/86914/discussion-between-anupsabraham-and-appa-lover\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 2171, "user_id": 1666143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccf9b10bcf3d5759cedc2a482a6cbd05?s=128&d=identicon&r=PG", "display_name": "anupsabraham", "link": "https://stackoverflow.com/users/1666143/anupsabraham"}, "is_accepted": true, "score": 1, "last_activity_date": 1439497229, "last_edit_date": 1439497229, "creation_date": 1439407569, "answer_id": 31973776, "question_id": 31973414, "link": "https://stackoverflow.com/questions/31973414/how-to-exclude-a-value-in-a-modelmultiplechoicefield/31973776#31973776", "title": "How To Exclude A Value In A ModelMultipleChoiceField?", "body": "<p>Define an <code>__init__</code> method for the form class. Pass the logged in userid to the form while initializing it, this will work with a model form.</p>\n\n<pre><code>def __init__(self, *args, **kwargs):\n    user_id = kwargs.pop('user_id')\n    super(Add_Profile, self).__init__(*args, **kwargs)\n    self.fields['follows'] = forms.ModelMultipleChoiceField(queryset=UserProfile.objects.filter(~Q(user_id=user_id)))\n</code></pre>\n\n<p>While initializing your form, you can pass user_id</p>\n\n<pre><code>address_form = Add_Profile(request.POST, user_id=request.user.id)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4409008"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 901, "favorite_count": 0, "accepted_answer_id": 31973776, "answer_count": 2, "score": 3, "last_activity_date": 1439497229, "creation_date": 1439406255, "last_edit_date": 1439496510, "question_id": 31973414, "link": "https://stackoverflow.com/questions/31973414/how-to-exclude-a-value-in-a-modelmultiplechoicefield", "title": "How To Exclude A Value In A ModelMultipleChoiceField?", "body": "<p>I do not want the logged in user to show up on this ModelMultipleChoiceField in order to restrict themselves from creating a following relationship with themselves? So how do I exclude the logged in user from the queryset, probably an easy fix but I'm new to Django and it has eluded me for a few hours now.</p>\n\n<p>forms.py</p>\n\n<pre><code>class Add_Profile(forms.ModelForm):\n\ndef __init__(self,*args, **kwargs): # initializing your form in other words loading it\n    super(Add_Profile, self).__init__(*args, **kwargs)\n    user_id = kwargs.pop('user_id') # taking user_id out of the querylist\n    self.fields['follows'] = forms.ModelMultipleChoiceField(widget=forms.CheckboxSelectMultiple(), queryset=UserProfile.objects.filter(~Q(id=user_id)))\n\n  class Meta:\n     model = UserProfile\n     fields = (\n        'bio',\n        'follows',\n        'theme',\n        'profile_picture',\n     )\n</code></pre>\n\n<p>Views.py</p>\n\n<pre><code>@login_required   \ndef edit_profile(request, user_id):\nuserprofile = UserProfile.objects.get(pk=user_id)\nif request.method == 'POST':\n    edit_profile = Add_Profile(request.POST, request.FILES, instance=userprofile, user_id=request.user.id)\n    if edit_profile.is_valid():\n        edit_profile.save()\n        return redirect('/home/user/{0}/'.format(request.user.username))\n    else:\n        print edit_profile.errors\nelse:\n    edit_profile = Add_Profile(instance=userprofile, user_id=request.user.id)\nreturn render (request, 'edit.html', {'form': edit_profile,})\n</code></pre>\n\n<p>Error: <strong>init</strong>() got an unexpected keyword argument 'user_id'</p>\n"}, {"tags": ["python", "wxpython"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439418816, "post_id": 31973491, "comment_id": 51859504, "body": "So it&#39;s acceptable practice to create widgets outside of <code>__init__</code>?"}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439472182, "post_id": 31973491, "comment_id": 51883428, "body": "Yes. A lot of people will create widgets in a specific method that is called by something in the <code>__init__</code>, for example."}, {"owner": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439488268, "post_id": 31973491, "comment_id": 51894405, "body": "Thanks for your answers! I only ask because pycharm gives me the soft warning &quot;instance attribute defined outside <code>__init__</code>, but I suppose that&#39;s not an issue."}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439488842, "post_id": 31973491, "comment_id": 51894700, "body": "I&#39;m pretty sure WYSIWYG editors (wxGlade, Boa Constructor) for wxPython will do this sort of thing, so I don&#39;t think it&#39;s an issue"}, {"owner": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439516226, "post_id": 31973491, "comment_id": 51905319, "body": "So just to make sure I have the right idea, what you&#39;re suggesting is to instantiate all widgets in <code>__init__</code>, then <code>.Show()</code> and <code>.Hide()</code> them as necessary."}, {"owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "reply_to_user": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "edited": false, "score": 0, "creation_date": 1439557515, "post_id": 31973491, "comment_id": 51923904, "body": "I would instantiate the first page and show it. You can instantiate the rest too if you want to, but you don&#39;t have to. You can instantiate those right before you show them. It really depends on what you&#39;re going to show and how many pages there are."}], "tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 0, "last_activity_date": 1439406543, "creation_date": 1439406543, "answer_id": 31973491, "question_id": 31973378, "link": "https://stackoverflow.com/questions/31973378/how-to-properly-create-a-multi-page-gui-in-wxpython/31973491#31973491", "title": "How to properly create a multi-page gui in wxpython", "body": "<p>There are a couple of valid approaches. The most obvious would be to just use wxPython's built-in wizard which can be found in <code>wx.wizard</code>. You might want to take a look at the <a href=\"http://wxpython.org/Phoenix/docs/html/adv.Wizard.html\" rel=\"nofollow\">documentation</a>, the <a href=\"http://wiki.wxpython.org/wxWizard\" rel=\"nofollow\">wiki</a> or the wxPython demo for examples. You might also find this tutorial helpful:</p>\n\n<ul>\n<li><a href=\"http://www.blog.pythonlibrary.org/2011/01/27/wxpython-a-wizard-tutorial/\" rel=\"nofollow\">http://www.blog.pythonlibrary.org/2011/01/27/wxpython-a-wizard-tutorial/</a></li>\n</ul>\n\n<p>Of course the wizard is a bit limited, so if you needed something that gives you more flexibility, then you might want to look at rolling your own wizard. If you went with that approach, then yes, you would probably benefit from creating a base Page class that holds your assortment of widgets. Then as each page is shown, you can either <code>Hide</code> the previous page or <code>Destroy</code> it. Personally, I would just go with hiding it unless you had a lot of widgets per page.</p>\n\n<p>This tutorial might help you get started down this path:</p>\n\n<ul>\n<li><a href=\"http://www.blog.pythonlibrary.org/2012/07/12/wxpython-how-to-create-a-generic-wizard/\" rel=\"nofollow\">http://www.blog.pythonlibrary.org/2012/07/12/wxpython-how-to-create-a-generic-wizard/</a></li>\n</ul>\n"}], "owner": {"reputation": 93, "user_id": 5127535, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/025d0b44c188600c232a34728b3d35a7?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Gisi", "link": "https://stackoverflow.com/users/5127535/alex-gisi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 31973491, "answer_count": 1, "score": 0, "last_activity_date": 1439490252, "creation_date": 1439406135, "last_edit_date": 1439490252, "question_id": 31973378, "link": "https://stackoverflow.com/questions/31973378/how-to-properly-create-a-multi-page-gui-in-wxpython", "title": "How to properly create a multi-page gui in wxpython", "body": "<p>I'm very new to wxpython, so this is probably an obvious question.</p>\n\n<p>Let's say I wanted to create a program <a href=\"https://www.bitrixsoft.com/images/install_en/env/benv_setup_1.png\" rel=\"nofollow\">like an installation wizard</a> which, when next is clicked, destroys the current set of widgets and creates a new set. However, the user must also be able to go back to a previous page.</p>\n\n<p>Would I need classes for each page with their own <code>__init__</code>, could I just use a normal function, or is there a better way to do this?</p>\n"}, {"tags": ["python", "machine-learning", "apache-spark", "decision-tree", "pyspark"], "comments": [{"owner": {"reputation": 2163, "user_id": 2966197, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/171eadb3de26f91e2db374d3620be388?s=128&d=identicon&r=PG&f=1", "display_name": "user2966197", "link": "https://stackoverflow.com/users/2966197/user2966197"}, "reply_to_user": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "edited": false, "score": 0, "creation_date": 1439407366, "post_id": 31973282, "comment_id": 51854222, "body": "@zero323 can you help me in telling how exactly I do that as I am new to this?"}], "answers": [{"tags": [], "owner": {"reputation": 280325, "user_id": 1560062, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7c5027e3046fed86e8e34b4fa0e6246c?s=128&d=identicon&r=PG", "display_name": "zero323", "link": "https://stackoverflow.com/users/1560062/zero323"}, "is_accepted": true, "score": 2, "last_activity_date": 1439411416, "last_edit_date": 1439411416, "creation_date": 1439408202, "answer_id": 31973931, "question_id": 31973282, "link": "https://stackoverflow.com/questions/31973282/issue-in-analysis-using-decision-tree-algorithm-in-spark-and-python/31973931#31973931", "title": "issue in analysis using decision tree algorithm in Spark and Python", "body": "<p>You can do it exactly the same way as you add the label after prediction.</p>\n\n<p>Small helper:</p>\n\n<pre><code>customerIndex = ... # Put index of the column\n\ndef extract(line):\n    \"\"\"Given a line create a tuple (customerId, labeledPoint)\"\"\"\n    label = 1 if line[5] == 'True' else 0\n    point =  LabeledPoint(label, [line[6], line[7]])\n    customerId = line[customerIndex]\n    return (customerId, point)\n</code></pre>\n\n<p>Prepare date using the <code>extract</code> function:</p>\n\n<pre><code>final_data = (data\n    .map(lambda line: line.split(\",\"))\n    .filter(lambda line: len(line) &gt;1 )\n    .map(extract)) # Map to tuples\n</code></pre>\n\n<p>Train:</p>\n\n<pre><code># As before\n(trainingdata, testdata) = final_data.randomSplit([0.7, 0.3])\n\n# Use only points, put the rest of the arguments in place of ...\nmodel = DecisionTree.trainRegressor(trainingdata.map(lambda x: x[1]), ...)\n</code></pre>\n\n<p>Predict:</p>\n\n<pre><code># Make predictions using points\npredictions = model.predict(testdata.map(lambda x: x[1].features))\n\n# Add customer id and label\nlabelsIdsAndPredictions = (testData\n    .map(lambda x: (x[0], x[1].label))\n    .zip(predictions))\n</code></pre>\n\n<p>Extract top 50:</p>\n\n<pre><code>top50 = labelsIdsAndPredictions.top(50, key=lambda x: x[1])\n</code></pre>\n"}], "owner": {"reputation": 2163, "user_id": 2966197, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/171eadb3de26f91e2db374d3620be388?s=128&d=identicon&r=PG&f=1", "display_name": "user2966197", "link": "https://stackoverflow.com/users/2966197/user2966197"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 621, "favorite_count": 1, "accepted_answer_id": 31973931, "answer_count": 1, "score": 2, "last_activity_date": 1439411416, "creation_date": 1439405742, "question_id": 31973282, "link": "https://stackoverflow.com/questions/31973282/issue-in-analysis-using-decision-tree-algorithm-in-spark-and-python", "title": "issue in analysis using decision tree algorithm in Spark and Python", "body": "<p>I am doing a <code>churn</code> analysis for telecom industry and I have a sample dataset. I have written this code below where I am using <code>decision tree</code> algorithm in <code>Spark</code> through <code>python</code>. In the dataset I have multiple columns and I am selecting the columns that I need for my <code>feature</code> set.</p>\n\n<pre><code>from pyspark.mllib.regression import LabeledPoint\nfrom pyspark.mllib.tree import DecisionTree, DecisionTreeModel\nfrom pyspark.mllib.util import MLUtils\nimport os.path\nimport numpy as np\n\n\ninputPath = os.path.join('file1.csv')\nfile_name = os.path.join(inputPath)\ndata = sc.textFile(file_name).zipWithIndex().filter(lambda (line,rownum): rownum&gt;0).map(lambda (line, rownum): line)\n\n\nfinal_data = data.map(lambda line: line.split(\",\")).filter(lambda line: len(line)&gt;1).map(lambda line:LabeledPoint(1 if line[5] == 'True' else 0,[line[6],line[7]]))\n\n(trainingdata, testdata) = final_data.randomSplit([0.7, 0.3])\n\nmodel = DecisionTree.trainRegressor(trainingdata, categoricalFeaturesInfo={},\n                                    impurity='variance', maxDepth=5, maxBins=32)\n\npredictions = model.predict(testdata.map(lambda x: x.features))\nprediction= predictions.collect()\n\nlabelsAndPredictions = testData.map(lambda lp: lp.label).zip(predictions)\n</code></pre>\n\n<p>Now this code works fine and does the prediction but what I am missing is the identifier for each customer in the <code>prediction</code> set or <code>testdata</code>. In my dataset there is a column for <code>customerid</code> (column number 4) which as of now I am not selecting as its not a feature to be considered in the model. I am having difficulty in associating this <code>customerid</code> column with the <code>testdata</code> for the customers whose detail is in the <code>testdata</code>. If I add this select this column from the dataset in the <code>feature</code> vector I am forming in the <code>LabeledPoint</code> then this would lead to error as its not a feature value.</p>\n\n<p>How can I add this column in my analysis so that I can get say top 50 customers who have higher churn value?</p>\n"}, {"tags": ["python", "dictionary", "pandas", "dataframe", "simplify"], "comments": [{"owner": {"reputation": 2777, "user_id": 4852094, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10102767534136292/picture?type=large", "display_name": "Rob", "link": "https://stackoverflow.com/users/4852094/rob"}, "edited": false, "score": 0, "creation_date": 1439405973, "post_id": 31973169, "comment_id": 51853459, "body": "np.split can be used to break it into smaller segments, then I could take the mean of those but it doesn&#39;t seem to be the best way."}, {"owner": {"reputation": 4123, "user_id": 1757464, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/FTcq2.jpg?s=128&g=1", "display_name": "jhamman", "link": "https://stackoverflow.com/users/1757464/jhamman"}, "edited": false, "score": 0, "creation_date": 1439406493, "post_id": 31973169, "comment_id": 51853738, "body": "Maybe show us what you&#39;ve tried. Pandas has lots of rolling aggregation, resample, and grouping operations."}], "answers": [{"tags": [], "owner": {"reputation": 2777, "user_id": 4852094, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10102767534136292/picture?type=large", "display_name": "Rob", "link": "https://stackoverflow.com/users/4852094/rob"}, "is_accepted": false, "score": 0, "last_activity_date": 1439406231, "creation_date": 1439406231, "answer_id": 31973402, "question_id": 31973169, "link": "https://stackoverflow.com/questions/31973169/summarizing-dataframe-using-partitioned-columnwise-means/31973402#31973402", "title": "Summarizing DataFrame using partitioned columnwise means", "body": "<pre><code>    data = np.array([])\n    result2 = np.split(result,96158)\n    for each in range(len(result2)):\n        data = np.append(data, np.array(result2[each].mean()))\n</code></pre>\n\n<p>this works but I'm not in love with it, assuming the length is 96158*20</p>\n"}, {"comments": [{"owner": {"reputation": 288763, "user_id": 487339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbe4o.png?s=128&g=1", "display_name": "DSM", "link": "https://stackoverflow.com/users/487339/dsm"}, "edited": false, "score": 1, "creation_date": 1439406591, "post_id": 31973426, "comment_id": 51853784, "body": "Note that you can pass <code>np.arange(len(df))&#47;&#47;20</code> to groupby in case the index isn&#39;t already the standard."}], "tags": [], "owner": {"reputation": 20276, "user_id": 5014134, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/hSokd.jpg?s=128&g=1", "display_name": "Jianxun Li", "link": "https://stackoverflow.com/users/5014134/jianxun-li"}, "is_accepted": true, "score": 2, "last_activity_date": 1439411022, "last_edit_date": 1439411022, "creation_date": 1439406302, "answer_id": 31973426, "question_id": 31973169, "link": "https://stackoverflow.com/questions/31973169/summarizing-dataframe-using-partitioned-columnwise-means/31973426#31973426", "title": "Summarizing DataFrame using partitioned columnwise means", "body": "<p>Here is another way using <code>groupby</code> according to integer division <code>//</code> and then <code>.agg('mean')</code>.</p>\n\n<pre><code>df = pd.DataFrame(np.random.randn(50,2), columns=list('AB'))\ndf\n\n         A       B\n0  -0.6679 -0.3786\n1   0.4253  1.0187\n2   0.6159 -1.2768\n3  -1.0202 -0.1413\n4   0.2444  0.4939\n5  -0.2606  0.1346\n6  -1.2305  0.6479\n7   0.2113 -1.0190\n..     ...     ...\n42 -0.0498 -1.3164\n43  0.6948  0.5469\n44  0.2718  0.2487\n45 -2.9541 -0.9083\n46 -0.5636 -0.4476\n47 -0.1167  1.1087\n48 -0.3220 -3.1022\n49 -0.6414 -0.2629\n\n[50 rows x 2 columns]\n\n# the integer division\ndf.index//20\n\nInt64Index([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1,\n            1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2,\n            2, 2, 2, 2, 2, 2],\n           dtype='int64')\n\n\ndf.groupby(df.index//20).agg('mean')\n\n        A       B\n0 -0.9882 -0.0433\n1 -2.4081  1.5017\n2 -4.2048 -3.3826\n</code></pre>\n"}], "owner": {"reputation": 2777, "user_id": 4852094, "user_type": "registered", "accept_rate": 68, "profile_image": "https://graph.facebook.com/10102767534136292/picture?type=large", "display_name": "Rob", "link": "https://stackoverflow.com/users/4852094/rob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 31973426, "answer_count": 2, "score": -2, "last_activity_date": 1439411022, "creation_date": 1439405383, "question_id": 31973169, "link": "https://stackoverflow.com/questions/31973169/summarizing-dataframe-using-partitioned-columnwise-means", "title": "Summarizing DataFrame using partitioned columnwise means", "body": "<p>I want to take a dataframe that's a million lines long, and summarize it so I take the columnwise mean of every block of 20 rows.  Is there an easy way to do this?</p>\n"}]