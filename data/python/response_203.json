[{"tags": ["python", "browser", "automation", "mechanicalsoup"], "comments": [{"owner": {"reputation": 196, "user_id": 8834658, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VKdzFNNZBfY/AAAAAAAAAAI/AAAAAAAAFaM/FhX5DSypiBs/photo.jpg?sz=128", "display_name": "Daniel Hemberger", "link": "https://stackoverflow.com/users/8834658/daniel-hemberger"}, "edited": false, "score": 0, "creation_date": 1543451363, "post_id": 53529930, "comment_id": 93928723, "body": "I&#39;m not exactly sure what you mean by &quot;prompts javascript&quot;, but MechanicalSoup doesn&#39;t interact with javascript, so that might be the problem. A tool like Selenium is better suited for javascript tasks. This <a href=\"https://mechanicalsoup.readthedocs.io/en/stable/faq.html#form-submission-has-no-effect-or-fails\" rel=\"nofollow noreferrer\">MechanicalSoup FAQ</a> says much the same thing."}, {"owner": {"reputation": 1, "user_id": 10241018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c89b512af51bb1de96c80bd27d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "meganerdblue", "link": "https://stackoverflow.com/users/10241018/meganerdblue"}, "reply_to_user": {"reputation": 196, "user_id": 8834658, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VKdzFNNZBfY/AAAAAAAAAAI/AAAAAAAAFaM/FhX5DSypiBs/photo.jpg?sz=128", "display_name": "Daniel Hemberger", "link": "https://stackoverflow.com/users/8834658/daniel-hemberger"}, "edited": false, "score": 0, "creation_date": 1543452690, "post_id": 53529930, "comment_id": 93929033, "body": "Too clarify, from my understanding a button push in a form, would submit the form. Why can I not, interact with a button, that does not have a form attached to it? My button just calls a javascript function, this function should be executed on the web server and not by the python script, the script just pushes a button, the java should be run on the site as normal; my godaddy server."}, {"owner": {"reputation": 196, "user_id": 8834658, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VKdzFNNZBfY/AAAAAAAAAAI/AAAAAAAAFaM/FhX5DSypiBs/photo.jpg?sz=128", "display_name": "Daniel Hemberger", "link": "https://stackoverflow.com/users/8834658/daniel-hemberger"}, "edited": false, "score": 1, "creation_date": 1543540891, "post_id": 53529930, "comment_id": 93966316, "body": "It&#39;s a good question! In pure HTML, a form tells the browser where to submit the form data (in this case, &quot;the data&quot; is the name of the button you pressed). MechanicalSoup parses that information from the html and mimics pressing the button. However, if there is no form and javascript that runs when the button is pressed is telling the browser what data to submit, then that&#39;s something that MechanicalSoup doesn&#39;t support (since it doesn&#39;t run javascript)."}, {"owner": {"reputation": 1, "user_id": 10241018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c89b512af51bb1de96c80bd27d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "meganerdblue", "link": "https://stackoverflow.com/users/10241018/meganerdblue"}, "reply_to_user": {"reputation": 196, "user_id": 8834658, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VKdzFNNZBfY/AAAAAAAAAAI/AAAAAAAAFaM/FhX5DSypiBs/photo.jpg?sz=128", "display_name": "Daniel Hemberger", "link": "https://stackoverflow.com/users/8834658/daniel-hemberger"}, "edited": false, "score": 0, "creation_date": 1543606511, "post_id": 53529930, "comment_id": 93993315, "body": "Thank you for coming back to this and helping a noob. I will look into Selenium."}], "owner": {"reputation": 1, "user_id": 10241018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db0c89b512af51bb1de96c80bd27d3b9?s=128&d=identicon&r=PG&f=1", "display_name": "meganerdblue", "link": "https://stackoverflow.com/users/10241018/meganerdblue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1166, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1543449588, "creation_date": 1543449588, "question_id": 53529930, "link": "https://stackoverflow.com/questions/53529930/python-browser-automation-mechanicalsoup-beautifulsoup", "title": "Python - Browser Automation - MechanicalSoup/ BeautifulSoup", "body": "<p>I am attempting to automate a button push that prompts javascript on my own website(godaddy server). I am running a .py from my MAC OS Terminal.</p>\n\n<p>I have found beautiful soup and mechancial soup but only found documentation for parsing text or prefilling forms.\nI have attempted mechanical soup code absent any 'form' mention, and merely trying to click a button based on a css selector.</p>\n\n<p>I have played around with this code for a few hours and am not convinced what I want to accomplish is possible. Can anyone confirm this is possible with either of these modules? If not, what is a better tool?</p>\n\n<p>I have just been using the example provided here: <a href=\"https://mechanicalsoup.readthedocs.io/en/stable/tutorial.html#first-contact-step-by-step\" rel=\"nofollow noreferrer\">https://mechanicalsoup.readthedocs.io/en/stable/tutorial.html#first-contact-step-by-step</a></p>\n\n<p>my code in a function: </p>\n\n<pre><code>def updatePrices()\n    br = mechanicalsoup.StatefulBrowser()\n    br.open(\"http://example.com\")\n    br.get_current_page().find('button', id='exporter_decisionStream')\n    br.submit_selected()\nupdatePrices()\n</code></pre>\n\n<p>Any guidance is appreciated.\nThanks.</p>\n"}, {"tags": ["python", "single-sign-on", "saml-2.0", "netflix", "onelogin"], "answers": [{"tags": [], "owner": {"reputation": 4752, "user_id": 310852, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8d3c076e54bf051eb8771ed8f04a29c6?s=128&d=identicon&r=PG", "display_name": "Stefan Rasmusson", "link": "https://stackoverflow.com/users/310852/stefan-rasmusson"}, "is_accepted": false, "score": 0, "last_activity_date": 1543526159, "creation_date": 1543526159, "answer_id": 53547713, "question_id": 53529898, "link": "https://stackoverflow.com/questions/53529898/saml-based-single-sign-on-authentication-to-netflix/53547713#53547713", "title": "SAML based Single Sign On Authentication to Netflix", "body": "<p>Other sites like Bitium <a href=\"https://www.bitium.com/netflix-saml-provider\" rel=\"nofollow noreferrer\">https://www.bitium.com/netflix-saml-provider</a> also does not use SAML for authenticating. </p>\n\n<p>I feel it highly unlikely that Netflix and services like it would use SAML authentication with \"home made\" IDPs. Problem is that if Netflix choose to use your server as IDP, they then have to trust that you will authenticate users correctly and then tell them who the user is. And how would they be able to trust that your IDP actually tells them the correct user name. If you have control over the IDP you could just say that you are me and Netflix would accept it.</p>\n\n<p>Comparing to other solutions like SAML against Google Apps or SalesForce. In this case Google and SalesForce trusts that your organisation IDP to authenticate users, but only among your organisations users. The IDP of \"Toms boats\" would not be able to authenticate users in the Apple organisation. In Netflix there are no organisations and there would in that case have to be a IDP per user. It would not be technically impossible, but its not really the way SAML was meant to be used ad would result in alot of work at Netflix for a use case that few would need. </p>\n\n<p>Sorry but I think you are stuck with autofilling forms.</p>\n"}], "owner": {"reputation": 25, "user_id": 1092401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e376e88e05af8d26692493f2ea66ed43?s=128&d=identicon&r=PG", "display_name": "Vivek Malik", "link": "https://stackoverflow.com/users/1092401/vivek-malik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 366, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1589997607, "creation_date": 1543449333, "last_edit_date": 1589997607, "question_id": 53529898, "link": "https://stackoverflow.com/questions/53529898/saml-based-single-sign-on-authentication-to-netflix", "title": "SAML based Single Sign On Authentication to Netflix", "body": "<p>I'm trying to build a dashboard for myself that provides SAML based authentication to some Applications that I'm using.</p>\n\n<p>From what I have built as a testbed:</p>\n\n<p>I'm using One login as an Identity Provider to Apps that I want to use.</p>\n\n<p>Case in point here: For Netflix, I'm being re-routed to Netflix page and my user ID and password is prefilled in there, just like how a password manager works. (It uses OneLogin's extension)</p>\n\n<p>Does Netflix allow SAML based Single Sign-On authentication? I couldn't gather any definitive details from google searches so reached out here hoping someone might have built something on that front. </p>\n\n<p>If yes, can someone point me to some article that I can follow along or even the caveats that I need to ensure for SAML-based SSO to Netflix?</p>\n"}, {"tags": ["python", "html", "css", "django"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10421055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d1b4a406c6550de8e4f7c37c924105?s=128&d=identicon&r=PG&f=1", "display_name": "DieMauer", "link": "https://stackoverflow.com/users/10421055/diemauer"}, "edited": false, "score": 0, "creation_date": 1543568794, "post_id": 53530667, "comment_id": 93974013, "body": "Lasha Pareshishvili, Good day! it&#39;s not exactly what I&#39;m looking for, as you saw the project is made on jango."}, {"owner": {"reputation": 11, "user_id": 10421055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d1b4a406c6550de8e4f7c37c924105?s=128&d=identicon&r=PG&f=1", "display_name": "DieMauer", "link": "https://stackoverflow.com/users/10421055/diemauer"}, "edited": false, "score": 0, "creation_date": 1544398765, "post_id": 53530667, "comment_id": 94250933, "body": "Somebody help me?"}], "tags": [], "owner": {"reputation": 78, "user_id": 6039989, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/235646390114084/picture?type=large", "display_name": "L. P.", "link": "https://stackoverflow.com/users/6039989/l-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1543455835, "creation_date": 1543455835, "answer_id": 53530667, "question_id": 53529882, "link": "https://stackoverflow.com/questions/53529882/how-to-display-values-from-a-database-in-3-columns/53530667#53530667", "title": "How to display values from a database in 3 columns", "body": "<p>It's possible with bootstrap very easily</p>\n\n<pre><code>  &lt;div class=\"row\"&gt;\n    &lt;div class=\"col-xs-4 col-sm-4 col-lg-4\" &gt;.col-xs-4 .col-sm-4 .col-lg-4&lt;/div&gt;\n    &lt;div class=\"col-xs-4 col-sm-4 col-lg-4\" &gt;.col-xs-4 .col-sm-4 .col-lg-4&lt;/div&gt;\n    &lt;div class=\"col-xs-4 col-sm-4 col-lg-4\" &gt;.col-xs-4 .col-sm-4 .col-lg-4&lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>Check full article: <a href=\"https://www.w3schools.com/bootstrap/bootstrap_grid_examples.asp\" rel=\"nofollow noreferrer\">Bootstrap grid examples</a></p>\n"}], "owner": {"reputation": 11, "user_id": 10421055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d1b4a406c6550de8e4f7c37c924105?s=128&d=identicon&r=PG&f=1", "display_name": "DieMauer", "link": "https://stackoverflow.com/users/10421055/diemauer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543455835, "creation_date": 1543449259, "question_id": 53529882, "link": "https://stackoverflow.com/questions/53529882/how-to-display-values-from-a-database-in-3-columns", "title": "How to display values from a database in 3 columns", "body": "<p><a href=\"https://i.stack.imgur.com/qjAeh.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>Hello World, i need your help! </p>\n\n<p>I try to find how to display data in 3 columns.( like at picture )\nI work in django-framework.\nRight now i have 1 column.\nI have:</p>\n\n<pre><code>index.html\n{% block content %}\n\n\n{% for post in posts %}\n\n  {% include 'face/includes/post_card_template.html' %}\n\n{% endfor %}\n\n{% endblock %}\n</code></pre>\n\n<hr>\n\n<pre><code>post_card_template.html\n\n&lt;h1 class='mb-5'&gt; &lt;/h1&gt;\n   &lt;div class=\"card mb-3\" style=\"width:400px; border-radius: 8px; \" &gt;\n   {% if post.image %}\n       &lt;img src=\"{{ post.image.thumbnail.400x400 }}\" class=\"img-responsive\"  style=\"border-radius: 8px;\" alt=\"Card image\" font-size:8px ;&gt;\n   {% endif %}\n     &lt;div class=\"card-body\"&gt;\n  &lt;h4 class=\"card-title\"&gt;{{ post.title }}&lt;/h4&gt;\n  &lt;p class=\"card-text\"&gt;{{ post.body1 }}&lt;/p&gt;\n  &lt;p class=\"card-text\"&gt;{{ post.body2 }}&lt;/p&gt;\n  &lt;p class=\"card-text\"&gt;{{ post.body3 }}&lt;/p&gt;\n  &lt;p class=\"card-text\"&gt;{{ post.body4 }}&lt;/p&gt;\n  &lt;p class=\"card-text\"&gt;{{ post.body5 }}&lt;/p&gt;\n  &lt;a href=\"{{ post.get_absolute_url }}\" class=\"btn btn-secondary\"&gt;Read&lt;/a&gt;\n    &lt;/div&gt;\n &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "class", "oop", "object"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543449062, "post_id": 53529845, "comment_id": 93928230, "body": "If you want it to be private, why do you have the <code>x</code> property at all? Why not just remove all that?"}, {"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543449107, "post_id": 53529845, "comment_id": 93928243, "body": "@user2357112 so that&#39;s what I&#39;m wondering , do you need property on privates ?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1543449108, "post_id": 53529845, "comment_id": 93928244, "body": "@user2357112 you could use <code>def _x(self, x):</code> to show that it is &quot;private&quot;, and maybe this is a good use-case for double-underscores, although I might use something like <code>self._x_</code> instead. They way I think of it, <code>property</code> is for encapsulation, but I may want encapsulation with a variable that is not part of the public api."}, {"owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543449450, "post_id": 53529845, "comment_id": 93928330, "body": "@juanpa.arrivillaga is it fair to say a private variable is automatically encapsulated ?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1543449612, "post_id": 53529845, "comment_id": 93928365, "body": "@thomas.mac I suppose, I guess what I may mean is actually <i>information hiding</i>, that is according to <a href=\"https://en.wikipedia.org/wiki/Information_hiding\" rel=\"nofollow noreferrer\">wikipedia</a>: &quot; principle of segregation of the design decisions in a computer program that are most likely to change, thus protecting other parts of the program from extensive modification if the design decision is changed. The protection involves providing a stable interface which protects the remainder of the program from the implementation (the details that are most likely to change).&quot;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1543449726, "post_id": 53529845, "comment_id": 93928391, "body": "@thomas.mac IOW, let&#39;s say I never want to set a variable to a value higher than 42, then instead of using <code>if x &lt; 42: self.x = x</code> in every method, I instead &quot;hide&quot; this in a setter. Python <code>property</code>&#39;s just let you do this while maintaining a clean-looking syntax, and not forcing you to write boilerplate getters and setters and you can add them later without breaking the interface due to the magic of the descriptor protocol! Whether an attribute is part of the public API or not, I may want this regardless"}], "owner": {"reputation": 858, "user_id": 8242299, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/0cd6940dc9864484d7a6e71ad804dd89?s=128&d=identicon&r=PG&f=1", "display_name": "thomas.mac", "link": "https://stackoverflow.com/users/8242299/thomas-mac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 200, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543448980, "creation_date": 1543448980, "question_id": 53529845, "link": "https://stackoverflow.com/questions/53529845/is-it-ok-to-use-property-setter-on-private-variables-in-python", "title": "is it OK to use property setter on private variables in python?", "body": "<p>In the following code snippet, I use a setter on the x attribute (which I'd like to keep private) </p>\n\n<pre><code>class test:\n\ndef __init__(self, pos, x):\n\n    self._pos = pos\n    self.x = x       # Want to be a private variable, eg. self._x\n\n\n@property\ndef x(self):\n    return self._x\n\n\n@x.setter\ndef x(self, x):\n    # Logic for setting x\n    if self._pos == 'long':\n        self._x = -1 * abs(x)\n    elif self._pos == 'short':\n        self._x = abs(x)\n    else:\n        raise ValueError('$$ pos must be long or short')\n</code></pre>\n\n<p>The problem is I end up with TWO attributes , self.x AND self._x . Since I want x to be private - I'd like to only have self._x (and discard self.x) . What's missing in the code ?</p>\n"}, {"tags": ["python", "properties", "getter-setter", "abc"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10566281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1dc0c792c3deeb56ca4b8d4b8e4467b0?s=128&d=identicon&r=PG&f=1", "display_name": "Chirag Dave", "link": "https://stackoverflow.com/users/10566281/chirag-dave"}, "is_accepted": false, "score": 0, "last_activity_date": 1589210284, "last_edit_date": 1592644375, "creation_date": 1589210284, "answer_id": 61733145, "question_id": 53529828, "link": "https://stackoverflow.com/questions/53529828/python-abstract-setters-and-getters/61733145#61733145", "title": "Python abstract setters and getters", "body": "<p>from abc import ABCMeta, abstractmethod</p>\n<p>class Base(object):\n<strong>metaclass</strong> = ABCMeta</p>\n<pre><code>def __init__(self, val):\n    self._foo = val\n\n@abstractmethod\ndef _doStuff(self, signals):\n    print ('Base does stuff')\n\n@abstractmethod\ndef _get_foo(self):\n    return self._foo\n\n@abstractmethod\ndef _set_foo(self, val):\n    self._foo = val + 'r'\n\nfoo = property(_get_foo, _set_foo)\n</code></pre>\n<p>class floor_1(Base):\n<strong>metaclass</strong> = ABCMeta</p>\n<pre><code>def __init__(self, val):\n    self._foo = val\n    super(floor_1, self).__init__(val)\n\ndef _doStuff(self, signals):\n    print ('floor_1 does stuff')\n\ndef _get_foo(self):\n    return self._foo\n\ndef _set_foo(self, val):\n    #self._foo = val + 'r'\n    super()._set_foo(val + 'r')\n\nfoo = property(_get_foo, _set_foo)\n</code></pre>\n<p>class floor_2(floor_1):</p>\n<pre><code>@property\ndef foo(self):\n    return self._foo\n\n@foo.setter\ndef foo(self, val):\n    self._foo = val + 'r'\n    #super()._set_foo(val + 'r')\n</code></pre>\n<p>b1 = floor_1('bar')</p>\n<h1>b1 = floor_2('bar')</h1>\n<p>print(b1.foo)\nb1.foo = 'bar'\nprint(b1.foo)</p>\n"}], "owner": {"reputation": 718, "user_id": 2560816, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/CX8KC.jpg?s=128&g=1", "display_name": "Jakub Pastuszuk", "link": "https://stackoverflow.com/users/2560816/jakub-pastuszuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 551, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1589210284, "creation_date": 1543448835, "question_id": 53529828, "link": "https://stackoverflow.com/questions/53529828/python-abstract-setters-and-getters", "title": "Python abstract setters and getters", "body": "<p>I want to write abstract class that will force inheriting classes to implement all methods AND properties in my abstract class.</p>\n\n<p>Additionally I want to use of setters and getters for my abstract property to make my code uncluttered and looking nicely</p>\n\n<p>However, current implementation: </p>\n\n<pre><code>import abc\n\n\nclass Component(metaclass=abc.ABCMeta):\n\n    @property\n    @abc.abstractmethod\n    def status(self):\n        pass\n\n    @property\n    @status.setter\n    @abc.abstractmethod\n    def status(self, value):\n        pass\n</code></pre>\n\n<p>does enforce inheriting class to implement getter for my abstract property getter, but does not enforce creating a property setter (what is exactly what I want)</p>\n\n<p>How can I achieve this behavior without loosing all benefits from application of further mentioned method (aka writing new methods and executing them in my abstract class setter) ?</p>\n"}, {"tags": ["python", "python-3.x", "pickle"], "comments": [{"owner": {"reputation": 388, "user_id": 9170199, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179686118828793/picture?type=large", "display_name": "Max Collier", "link": "https://stackoverflow.com/users/9170199/max-collier"}, "edited": false, "score": 0, "creation_date": 1543526950, "post_id": 53529826, "comment_id": 93962268, "body": "Unsure if this will work but by looking at the documentation at <a href=\"https://docs.python.org/3/library/pickle.html\" rel=\"nofollow noreferrer\">Python 3.7 Pickle</a> the answer could be to call <code>pickle.load(f, *)</code> to load all object files at once?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 388, "user_id": 9170199, "user_type": "registered", "profile_image": "https://graph.facebook.com/1179686118828793/picture?type=large", "display_name": "Max Collier", "link": "https://stackoverflow.com/users/9170199/max-collier"}, "edited": false, "score": 1, "creation_date": 1543527534, "post_id": 53529826, "comment_id": 93962512, "body": "@MaxCollier: That&#39;s not valid syntax. I think you&#39;re misreading the function signatures. A <code>*</code> in a function signature specifies the beginning of keyword-only arguments. You can&#39;t pass <code>*</code> as an argument to a function."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543528502, "post_id": 53529826, "comment_id": 93962925, "body": "<code>pickle</code> will load one object at a time. there may be further serialized objects if someone has done <code>pickle.dump(f, obj)</code> ob the file to create it. Some people do this, for some odd reason. I suppose, it is easy to serialize various objects and read them in and process them lazily this way, but it is likely better to use something like <code>shelve</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543528553, "post_id": 53547765, "comment_id": 93962955, "body": "I believe this is part of the design of pickle, but in any event, one should probably use <code>shelve</code> for this"}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 5, "last_activity_date": 1543526364, "creation_date": 1543526364, "answer_id": 53547765, "question_id": 53529826, "link": "https://stackoverflow.com/questions/53529826/what-is-pickle-doing/53547765#53547765", "title": "What is pickle doing?", "body": "<p>This file is not quite a pickle file. Someone has dumped multiple pickles into the same file, resulting in the file contents being a concatenation of multiple pickles. When you call <code>pickle.load(f)</code>, <code>pickle</code> will read the file from the current file position until it finds a pickle end, so each <code>pickle.load</code> call will load the next pickle.</p>\n\n<p>You can create such a file yourself by calling <code>pickle.dump</code> repeatedly:</p>\n\n<pre><code>with open('demofile', 'wb') as f:\n    pickle.dump([1, 2, 3], f)\n    pickle.dump([10, 20], f)\n    pickle.dump([0, 0, 0], f)\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 9096398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76bd477060bdad4d7ee42fe2e7d94ec8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Holland", "link": "https://stackoverflow.com/users/9096398/ben-holland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1543526364, "creation_date": 1543448816, "last_edit_date": 1543526007, "question_id": 53529826, "link": "https://stackoverflow.com/questions/53529826/what-is-pickle-doing", "title": "What is pickle doing?", "body": "<p>I have used Python for years. I have used pickle extensively. I cannot figure out what this is doing:</p>\n\n<pre><code>with codecs.open(\"huge_picklefile.pc\", \"rb\") as f:\n    data = pickle.load(f)\n    print(len(data))\n    data = pickle.load(f)\n    print(len(data))\n    data = pickle.load(f)\n    print(len(data))\n</code></pre>\n\n<p>This returns to me:</p>\n\n<pre><code>335\n59\n12\n</code></pre>\n\n<p>I am beyond confused. I am use to pickle loading the massive file into memory. The object itself is a massive array of arrays (I assume). Could it be comprised of multiple pickle objects? Unfortunately, I didn't create the pickle object and I don't have access to who did. </p>\n\n<p>I cannot figure out why pickle is splitting up my file into chunks, which isn't the default, and I am not telling it to. What does reloading the same file do? I honestly never tried or even came across a use case until now. </p>\n\n<p>I spent a good 5 hours trying to figure out how to even ask this question on Google. Unsurprisingly, trying \"multiple pickle loads on the same document\" doesn't yield anything too useful. The Python 3.7 pickle docs does not describe this behavior. I can't figure out how repeatedly loading a pickle document doesn't (a) crash or (b) load the entire thing into memory and then just reference itself. In my 15 years of using python I have never run into this problem... so I am taking a leap of faith that this is just weird and we should probably just use a database instead. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1543448877, "post_id": 53529818, "comment_id": 93928187, "body": "If you want to generate passwords securely, the <code>random</code> module is not the tool for the job. <code>random.choice</code> does not provide the kind of guarantees needed for security work."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1543448936, "post_id": 53529818, "comment_id": 93928202, "body": "Also, you generated the password. Python didn&#39;t skip anything. Now, if you wanted to <i>see</i> the password, you&#39;d have to actually tell Python to show it to you."}, {"owner": {"reputation": 87, "user_id": 10719789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i8PnI5clxa0/AAAAAAAAAAI/AAAAAAAAAGg/VFVPLS1Yx-Y/photo.jpg?sz=128", "display_name": "Daniel Meskin", "link": "https://stackoverflow.com/users/10719789/daniel-meskin"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543448950, "post_id": 53529818, "comment_id": 93928205, "body": "The script is not intended to be secure, it is intended to be practice. I&#39;m simply wondering why the script seems to skip over the Join Random."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1543449016, "post_id": 53529818, "comment_id": 93928221, "body": "You said &quot;The goal is to ... generate a secure password&quot;."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 3, "creation_date": 1543449093, "post_id": 53529818, "comment_id": 93928240, "body": "It didn&#39;t skip it, it executed it and returned the result. You didn&#39;t <code>print</code> it, though. Try <code>print(randomword())</code> instead of <code>randomword()</code>."}, {"owner": {"reputation": 87, "user_id": 10719789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i8PnI5clxa0/AAAAAAAAAAI/AAAAAAAAAGg/VFVPLS1Yx-Y/photo.jpg?sz=128", "display_name": "Daniel Meskin", "link": "https://stackoverflow.com/users/10719789/daniel-meskin"}, "edited": false, "score": 0, "creation_date": 1543449141, "post_id": 53529818, "comment_id": 93928255, "body": "According to this example(<a href=\"https://pythontips.com/2013/07/28/generating-a-random-string/\" rel=\"nofollow noreferrer\">pythontips.com/2013/07/28/generating-a-random-string</a>&zwnj;&#8203;), I don&#39;t need to &quot;tell Python to show it to me&quot; as you said.  I admit that that is a discrepancy, and I apologize, I should have made my post clearer.  How do you suggest &quot;getting python to show it to me&quot;?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1543449203, "post_id": 53529818, "comment_id": 93928266, "body": "In interactive mode, python will print the result of each calculation as you type it. When you&#39;re running a program from a file, you don&#39;t get that behaviour."}, {"owner": {"reputation": 87, "user_id": 10719789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i8PnI5clxa0/AAAAAAAAAAI/AAAAAAAAAGg/VFVPLS1Yx-Y/photo.jpg?sz=128", "display_name": "Daniel Meskin", "link": "https://stackoverflow.com/users/10719789/daniel-meskin"}, "edited": false, "score": 0, "creation_date": 1543449212, "post_id": 53529818, "comment_id": 93928271, "body": "Thanks, Blorgbeard, that worked."}, {"owner": {"reputation": 87, "user_id": 10719789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i8PnI5clxa0/AAAAAAAAAAI/AAAAAAAAAGg/VFVPLS1Yx-Y/photo.jpg?sz=128", "display_name": "Daniel Meskin", "link": "https://stackoverflow.com/users/10719789/daniel-meskin"}, "edited": false, "score": 1, "creation_date": 1543449415, "post_id": 53529818, "comment_id": 93928319, "body": "Could you explain why <code>random</code> is not secure?"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 0, "creation_date": 1543520671, "post_id": 53529818, "comment_id": 93959470, "body": "Random numbers as generated by <code>random</code> are actually not <i>that</i> random - they&#39;re reasonably unpredictable (and fast to generate), but they are not considered &quot;cryptographically secure&quot;. Passwords generated by your program may exhibit patterns and structure which would reduce the work required to guess one of them. See: <a href=\"https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3047, "user_id": 10388629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/My8T3.png?s=128&g=1", "display_name": "Pika the Master of the Whales", "link": "https://stackoverflow.com/users/10388629/pika-the-master-of-the-whales"}, "is_accepted": true, "score": 1, "last_activity_date": 1543449809, "creation_date": 1543449809, "answer_id": 53529972, "question_id": 53529818, "link": "https://stackoverflow.com/questions/53529818/join-random-wont-work-in-my-password-generation-script/53529972#53529972", "title": "Join random won&#39;t work in my password generation script", "body": "<p>In your code, <code>pause</code> is called immediately after <code>randomword</code>. Its not that its skipping part of <code>randomword</code>, it's just executing it. When it returns a value, nothing is done with that value. You must add a <code>print</code> statement in order to see the returned result, like this:</p>\n\n<pre><code>import random\nimport string\n\ndef randomword():\n    possibles = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890- \n=_+!@#$%^&amp;*(),./&lt;&gt;?'\n    length = int(input(\"Password Length: \"))\n    return ''.join(random.choice(possibles) for i in range(length))\n\ndef pause():\n    pause = input(\"Hit enter to continue.\")\n\n\nprint(randomword()) #Notice the print statement here\npause()\n</code></pre>\n\n<p>Also, as mentioned in the comments, this program is not fully secure.</p>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 10697432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/S1q64.jpg?s=128&g=1", "display_name": "exe", "link": "https://stackoverflow.com/users/10697432/exe"}, "is_accepted": false, "score": 1, "last_activity_date": 1543450532, "creation_date": 1543450532, "answer_id": 53530043, "question_id": 53529818, "link": "https://stackoverflow.com/questions/53529818/join-random-wont-work-in-my-password-generation-script/53530043#53530043", "title": "Join random won&#39;t work in my password generation script", "body": "<p>You also could do it this way</p>\n\n<pre><code>import random\n\ndef randomword():\n    y = []\n    possibles = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-=_+!@#$%^&amp;*(),./&lt;&gt;?'\n    length = int(input(\"Password Length: \"))\n\n    for x in range(0, length):\n        y.append(random.choice(possibles))\n\n    print(''.join(y))\n\nrandomword()\ninput()\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 10719789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i8PnI5clxa0/AAAAAAAAAAI/AAAAAAAAAGg/VFVPLS1Yx-Y/photo.jpg?sz=128", "display_name": "Daniel Meskin", "link": "https://stackoverflow.com/users/10719789/daniel-meskin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 1, "accepted_answer_id": 53529972, "answer_count": 2, "score": 1, "last_activity_date": 1543450532, "creation_date": 1543448776, "last_edit_date": 1543449387, "question_id": 53529818, "link": "https://stackoverflow.com/questions/53529818/join-random-wont-work-in-my-password-generation-script", "title": "Join random won&#39;t work in my password generation script", "body": "<p>I've written this simple python script for a starter project as I am interested in learning python. The goal is to ask the user for a length of their desired password, and then generate a secure password of that length. This is my code:</p>\n\n<pre><code>import random\nimport string\n\ndef randomword():\n    possibles = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890-=_+!@#$%^&amp;*(),./&lt;&gt;?'\n    length = int(input(\"Password Length: \"))\n    return ''.join(random.choice(possibles) for i in range(length))\n\ndef pause():\n    pause = input(\"Hit enter to continue.\")\n\n\nrandomword()\npause()\n</code></pre>\n\n<p>However, when I run this, it asks for the length of the password, And then immediately skips over to the pause() function, like this:</p>\n\n<p><code>Password Length: 10\nHit enter to continue.\n</code></p>\n\n<p>Any help would be greatly appreciated. :)</p>\n"}, {"tags": ["python", "machine-learning", "scikit-learn"], "comments": [{"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1543474373, "post_id": 53529807, "comment_id": 93934404, "body": "You can do under-sampling. And by that I dont mean change the weights, but directly remove the data from majority classes to match with the minority class. ImbLearn has utilities to do that too."}, {"owner": {"reputation": 842, "user_id": 6394941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-c87IOIWr0QU/AAAAAAAAAAI/AAAAAAAAB-g/i2VM2saO040/photo.jpg?sz=128", "display_name": "Guido Muscioni", "link": "https://stackoverflow.com/users/6394941/guido-muscioni"}, "reply_to_user": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1543476828, "post_id": 53529807, "comment_id": 93935424, "body": "Ok, can you point me to the right utilities, I am not finding any method in the documentation for that. @VivekKumar"}, {"owner": {"reputation": 28829, "user_id": 3374996, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ijirj.png?s=128&g=1", "display_name": "Vivek Kumar", "link": "https://stackoverflow.com/users/3374996/vivek-kumar"}, "edited": false, "score": 0, "creation_date": 1543481021, "post_id": 53529807, "comment_id": 93937388, "body": "<a href=\"https://imbalanced-learn.readthedocs.io/en/stable/under_sampling.html\" rel=\"nofollow noreferrer\">imbalanced-learn.readthedocs.io/en/stable/under_sampling.htm&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 494, "user_id": 12407899, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBoUbNasImOVujX-Y8aFN75AoQweo0Paa16VCzDXw=k-s128", "display_name": "Aditya Bhattacharya", "link": "https://stackoverflow.com/users/12407899/aditya-bhattacharya"}, "edited": false, "score": 0, "creation_date": 1580873930, "post_id": 53529807, "comment_id": 106237476, "body": "I have used the Random Undersampler from imblearn, it does work well than others: <a href=\"https://imbalanced-learn.readthedocs.io/en/stable/generated/imblearn.under_sampling.RandomUnderSampler.html\" rel=\"nofollow noreferrer\">imbalanced-learn.readthedocs.io/en/stable/generated/&hellip;</a>  but I would recommend you to avoid undersampling as much as possible and go for oversampling techniques."}], "answers": [{"tags": [], "owner": {"reputation": 494, "user_id": 12407899, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBoUbNasImOVujX-Y8aFN75AoQweo0Paa16VCzDXw=k-s128", "display_name": "Aditya Bhattacharya", "link": "https://stackoverflow.com/users/12407899/aditya-bhattacharya"}, "is_accepted": false, "score": 0, "last_activity_date": 1580873809, "creation_date": 1580873809, "answer_id": 60068683, "question_id": 53529807, "link": "https://stackoverflow.com/questions/53529807/how-to-balance-a-dataset-without-oversampling/60068683#60068683", "title": "How to balance a dataset without oversampling", "body": "<p>Based on my experience, under-sampling really doesn't help every time as we are not utilizing the total available data and this approach might lead to a lot of overfitting. Synthetic Minority Over-sampling Technique (SMOTE) has worked well with most type of data (both structured and unstructured data like images), although the performance can be slow sometimes. But it is easy to use and available through [imblearn][1] In case if you want to try oversampling techniques this particular article might help: <a href=\"https://medium.com/@adib0073/how-to-use-smote-for-dealing-with-imbalanced-image-dataset-for-solving-classification-problems-3aba7d2b9cad\" rel=\"nofollow noreferrer\">https://medium.com/@adib0073/how-to-use-smote-for-dealing-with-imbalanced-image-dataset-for-solving-classification-problems-3aba7d2b9cad</a>\nBut for undersampling as mentioned in the above comments, you would have to slice your dataframe or array of the majority class to match the size of the minority class</p>\n"}, {"tags": [], "owner": {"reputation": 1714, "user_id": 7404323, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/jYEFn.png?s=128&g=1", "display_name": "sailfish009", "link": "https://stackoverflow.com/users/7404323/sailfish009"}, "is_accepted": false, "score": 0, "last_activity_date": 1580876411, "last_edit_date": 1592644375, "creation_date": 1580876411, "answer_id": 60068981, "question_id": 53529807, "link": "https://stackoverflow.com/questions/53529807/how-to-balance-a-dataset-without-oversampling/60068981#60068981", "title": "How to balance a dataset without oversampling", "body": "<p>try to apply <a href=\"https://github.com/trent-b/iterative-stratification\" rel=\"nofollow noreferrer\">iterative-stratification</a></p>\n<blockquote>\n<p>On the Stratification of Multi-label Data :</p>\n<p>Stratified sampling is a sampling method that takes into account the\nexistence of disjoint groups within a population and pro- duces\nsamples where the proportion of these groups is maintained. In\nsingle-label classification tasks, groups are differentiated based on\nthe value of the target variable. In multi-label learning tasks,\nhowever, where there are multiple target variables, it is not clear\nhow stratified sam- pling could/should be performed. This paper\ninvestigates stratification in the multi-label data context. It\nconsiders two stratification methods for multi-label data and\nempirically compares them along with random sampling on a number of\ndatasets and based on a number of evaluation criteria. The results\nreveal some interesting conclusions with respect to the utility of\neach method for particular types of multi-label datasets.</p>\n</blockquote>\n"}], "owner": {"reputation": 842, "user_id": 6394941, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-c87IOIWr0QU/AAAAAAAAAAI/AAAAAAAAB-g/i2VM2saO040/photo.jpg?sz=128", "display_name": "Guido Muscioni", "link": "https://stackoverflow.com/users/6394941/guido-muscioni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 545, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1580876411, "creation_date": 1543448724, "last_edit_date": 1543450710, "question_id": 53529807, "link": "https://stackoverflow.com/questions/53529807/how-to-balance-a-dataset-without-oversampling", "title": "How to balance a dataset without oversampling", "body": "<p>I am trying to balance my dataset, But I am struggling in finding the right way to do it. Let me set the problem. I have a multiclass dataset with the following class weights:</p>\n\n<pre><code>class     weight\n2.0       0.700578\n4.0       0.163401\n3.0       0.126727\n1.0       0.009294\n</code></pre>\n\n<p>As you can see the dataset is pretty unbalanced. What I would like to do is to obtain a balanced dataset in which each class is represented with the same weight.</p>\n\n<p>There are a lot of questions regarding but:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/23455728/scikit-learn-balanced-subsampling\">Scikit-learn balanced subsampling</a>: this subsamples can be overlapping, which for my approach is wrong. Moreover, I would like to get that using sklearn or packages that are well tested.</li>\n<li><a href=\"https://stackoverflow.com/questions/34831676/how-to-perform-undersampling-the-right-way-with-python-scikit-learn\">How to perform undersampling (the right way) with python scikit-learn?</a>: here they suggest to use an unbalanced dataset with a balance class weight vector, however, I need to have this balance dataset, is not a matter of which model and which weights.</li>\n<li><a href=\"https://github.com/scikit-learn-contrib/imbalanced-learn\" rel=\"nofollow noreferrer\">https://github.com/scikit-learn-contrib/imbalanced-learn</a>: a lot of question refers to this package. Below an example on how I am trying to use it.</li>\n</ul>\n\n<p>Here the example:</p>\n\n<pre><code>from imblearn.ensemble import EasyEnsembleClassifier    \neec = EasyEnsembleClassifier(random_state=42, sampling_strategy='not minority', n_estimators=2)\neec.fit(data_for, label_all.loc[data_for.index,'LABEL_O_majority'])\nnew_data = eec.estimators_samples_\n</code></pre>\n\n<p>However, the returned indexes are all the indexes of the initial data and they are repeated <code>n_estimators</code> times.</p>\n\n<p>Here the result:</p>\n\n<pre><code>[array([   0,    1,    2, ..., 1196, 1197, 1198]),\n array([   0,    1,    2, ..., 1196, 1197, 1198])]\n</code></pre>\n\n<p>Finally, a lot of techniques use oversampling but would like to not use them. Only for class <code>1</code> I can tolerate oversampling, as it is very predictable.\nI am wondering if really sklearn, or this contrib package do not have a function that does this. </p>\n"}, {"tags": ["python", "html", "pandas", "beautifulsoup", "datareader"], "comments": [{"owner": {"reputation": 7667, "user_id": 5120049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QQ912.jpg?s=128&g=1", "display_name": "Vishnudev", "link": "https://stackoverflow.com/users/5120049/vishnudev"}, "edited": false, "score": 0, "creation_date": 1543458225, "post_id": 53529785, "comment_id": 93930179, "body": "You need to associate each ticker with the table you have got. Pandas read html can&#39;t be used for all cases. As you said you need Beautiful Soup kind of library to parse the html and then build an table using it"}, {"owner": {"reputation": 11, "user_id": 10717019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xMUNi.png?s=128&g=1", "display_name": "j_rothmans", "link": "https://stackoverflow.com/users/10717019/j-rothmans"}, "reply_to_user": {"reputation": 7667, "user_id": 5120049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QQ912.jpg?s=128&g=1", "display_name": "Vishnudev", "link": "https://stackoverflow.com/users/5120049/vishnudev"}, "edited": false, "score": 0, "creation_date": 1543468681, "post_id": 53529785, "comment_id": 93932432, "body": "How would you suggest I do that? The post below doesn&#39;t solve it in BeautifulSoup."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543510907, "post_id": 53529785, "comment_id": 93954839, "body": "According to the terms of use of the site: &quot;scraping on data is not permitted as per the Terms of Use.&quot; And, unfortunately, it seems that the site intentionally makes it difficult to do the simple web scraping. You may be able to use beautifulsoup to pull all elements with <code>&lt;div class=&quot;filter-table__row js-tr&quot;&gt;</code> one at a time"}, {"owner": {"reputation": 11, "user_id": 10717019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xMUNi.png?s=128&g=1", "display_name": "j_rothmans", "link": "https://stackoverflow.com/users/10717019/j-rothmans"}, "edited": false, "score": 0, "creation_date": 1543518385, "post_id": 53529785, "comment_id": 93958444, "body": "I saw that class but wasn&#39;t sure how to use it, how would you incorporate it into ewwink&#39;s code in the comment below?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10717019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xMUNi.png?s=128&g=1", "display_name": "j_rothmans", "link": "https://stackoverflow.com/users/10717019/j-rothmans"}, "edited": false, "score": 0, "creation_date": 1543468627, "post_id": 53530995, "comment_id": 93932421, "body": "Thanks for your suggestion. Unfortunately, this yields the same result as I already have, there is no column in the CSV file for ticker or company name."}, {"owner": {"reputation": 11, "user_id": 10717019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xMUNi.png?s=128&g=1", "display_name": "j_rothmans", "link": "https://stackoverflow.com/users/10717019/j-rothmans"}, "edited": false, "score": 0, "creation_date": 1543472065, "post_id": 53530995, "comment_id": 93933521, "body": "How would I do that?"}], "tags": [], "owner": {"reputation": 15697, "user_id": 458214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ef09f4a6e7e0803825d17212d2dba67?s=128&d=identicon&r=PG", "display_name": "ewwink", "link": "https://stackoverflow.com/users/458214/ewwink"}, "is_accepted": false, "score": 0, "last_activity_date": 1543458787, "creation_date": 1543458787, "answer_id": 53530995, "question_id": 53529785, "link": "https://stackoverflow.com/questions/53529785/how-can-i-pull-webpage-data-into-my-dataframe-by-referencing-a-specific-html-cla/53530995#53530995", "title": "How can I pull webpage data into my DataFrame by referencing a specific HTML class or id using pandas read_html?", "body": "<p>it has multiple table, use BeautifulSoup to extract and do loop to write the csv.</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nimport requests, lxml\nimport pandas as pd\n\nurl = 'https://www.biopharmcatalyst.com/biotech-stocks/company-pipeline-database#marketCap=mid|stages=approved,crl'\nhtml = requests.get(url).text\nsoup = BeautifulSoup(html, 'lxml')\ntables = soup.findAll('table')\n\nfor table in tables:\n    df = pd.read_html(str(table))[0]\n    with open('my_data.csv', 'a+') as f:\n      df.to_csv(f)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10717019, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xMUNi.png?s=128&g=1", "display_name": "j_rothmans", "link": "https://stackoverflow.com/users/10717019/j-rothmans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 628, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543458787, "creation_date": 1543448607, "last_edit_date": 1543449736, "question_id": 53529785, "link": "https://stackoverflow.com/questions/53529785/how-can-i-pull-webpage-data-into-my-dataframe-by-referencing-a-specific-html-cla", "title": "How can I pull webpage data into my DataFrame by referencing a specific HTML class or id using pandas read_html?", "body": "<p>I'm trying to pull the data from the table at <a href=\"https://www.biopharmcatalyst.com/biotech-stocks/company-pipeline-database#marketCap=mid%7Cstages=approved,crl\" rel=\"nofollow noreferrer\">this site</a> and save it in a CSV with the column 'ticker' included. Right now my code is this:</p>\n\n<pre><code>import requests\nimport pandas as pd\n\nurl = 'https://www.biopharmcatalyst.com/biotech-stocks/company-pipeline-database#marketCap=mid|stages=approved,crl'\nhtml = requests.get(url).content\ndf_list = pd.read_html(html)\ndf = df_list[0]\nprint (df)\ndf.to_csv('my data.csv')\n</code></pre>\n\n<p>and it results in a file that looks like <a href=\"https://i.stack.imgur.com/heCAO.png\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p>I want to have the 'ticker' column in my CSV file with the corresponding ticker listed for each company. The ticker is in the HTML <a href=\"https://i.stack.imgur.com/7TkBs.png\" rel=\"nofollow noreferrer\">here</a> (class=\"ticker--small\"). The output should look like <a href=\"https://i.stack.imgur.com/f6mke.png\" rel=\"nofollow noreferrer\">this.</a></p>\n\n<p>I'm totally stuck on this. I've tried doing it in BeautifulSoup too but I can't get it working. Any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "file-io", "console", "stdout", "python-behave"], "answers": [{"tags": [], "owner": {"reputation": 1806, "user_id": 8754516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7be49dad417bd035463828d197cfb7c?s=128&d=identicon&r=PG&f=1", "display_name": "natn2323", "link": "https://stackoverflow.com/users/8754516/natn2323"}, "is_accepted": false, "score": 0, "last_activity_date": 1543512741, "creation_date": 1543512741, "answer_id": 53544602, "question_id": 53529734, "link": "https://stackoverflow.com/questions/53529734/capture-redirect-console-output-to-file/53544602#53544602", "title": "Capture/redirect console output to file", "body": "<p>So it depends on how you're doing it, but if you're using <code>behave_main</code>, then you can do something like the following:</p>\n\n<pre><code>from behave.__main__ import main as behave_main\n\nargs = ['--outfile=/path/to/your/log/directory/output.log']\nbehave_main(args)\n</code></pre>\n\n<p>If you're running your tests via the command line, then use the <code>-o</code>, or <code>--outfile</code>, flag and append your log name.</p>\n"}], "owner": {"reputation": 551, "user_id": 239205, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/7a69234370d19b1d2fd0678204640f1e?s=128&d=identicon&r=PG", "display_name": "linuxstack", "link": "https://stackoverflow.com/users/239205/linuxstack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 516, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543512741, "creation_date": 1543448231, "last_edit_date": 1543449281, "question_id": 53529734, "link": "https://stackoverflow.com/questions/53529734/capture-redirect-console-output-to-file", "title": "Capture/redirect console output to file", "body": "<p>So, I believe this issue can be applied to any python file generating logs to console.</p>\n\n<p>I am trying to capture the output generated while running a behave test(all code is in python3.x).</p>\n\n<p>Or more precisely: I am trying to capture the live generated console output to a file for a particular function of interest in the python code. </p>\n\n<p>My aim is to capture the console logs printed (on <code>stdout</code>) the moment it hits a particular function in the python code.</p>\n\n<p>I usually do a <code>behave data_base_scenarios.feature</code> without quotes on Ubuntu 18.04.\nI would like to capture the complete output as it is directed to the console to file.</p>\n\n<p>On StackOverflow, after searching for a while, I tried some of the methods described here: <a href=\"https://stackoverflow.com/questions/2654834/capturing-stdout-within-the-same-process-in-python/3113913#3113913\">Capturing stdout within the same process in Python</a>. I also found this: <a href=\"https://capturer.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">https://capturer.readthedocs.io/en/latest/</a></p>\n\n<p>Unfortunately, I don't see anything captured. \nI have taken care to set up the behave environment to generate the logs. For example all these flags are appropriately and explicitly set to generate outputs:\n<code>context.config.stdout_capture = True</code>, <code>context.config.log_capture = True</code>. \nWhat am I missing with behave environment.</p>\n\n<p>Behave framework also provides a variable within \"context\". Its \"context.stdout_capture\". But unfortunately it contains nothing.</p>\n\n<p>In short Behave prints on the console </p>\n\n<pre><code>  Captured logging:\n    INFO:database.system.status: MyDatabase is online.\n    INFO:database.system.status: MyDatabase is now offline.\n    INFO:database.system.status: MyDatabase has now initiated.\n</code></pre>\n\n<p>I just want to dump the above \"Captured Logging\" console output to a file for analysis.</p>\n\n<p>How can I do it? Please let me know.</p>\n"}, {"tags": ["python", "python-2.7", "unicode", "jinja2"], "comments": [{"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 1, "creation_date": 1543448162, "post_id": 53529696, "comment_id": 93927995, "body": "Printing it out should work fine. Also, what terminal are you on?"}, {"owner": {"reputation": 11, "user_id": 10719741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkcrQi7oho8/AAAAAAAAAAI/AAAAAAAADiw/hCFYiBpowuY/photo.jpg?sz=128", "display_name": "Katherine Waller", "link": "https://stackoverflow.com/users/10719741/katherine-waller"}, "reply_to_user": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543448494, "post_id": 53529696, "comment_id": 93928085, "body": "I am using this dictionary to pass to a Jinja template where it will be outputted in a html file. Printing individual values would work fine yes, but I am concerned with how they appear in the dictionary because that&#39;s ultimately what I will be passing. And I am using powershell on Windows."}, {"owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "edited": false, "score": 0, "creation_date": 1543448540, "post_id": 53529696, "comment_id": 93928101, "body": "Are you <i>sure</i> that&#39;s the output you get?  You seem to be missing a <code>:</code>, and <code>&#39;u\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d&#39;</code> is far more likely to be <code>u&#39;\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d&#39;</code>"}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543448585, "post_id": 53529696, "comment_id": 93928113, "body": "I assumed that was just a typo, but worth confirming."}, {"owner": {"reputation": 11, "user_id": 10719741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkcrQi7oho8/AAAAAAAAAAI/AAAAAAAADiw/hCFYiBpowuY/photo.jpg?sz=128", "display_name": "Katherine Waller", "link": "https://stackoverflow.com/users/10719741/katherine-waller"}, "edited": false, "score": 0, "creation_date": 1543448703, "post_id": 53529696, "comment_id": 93928139, "body": "Yes, I am sorry for the typos! I was missing a colon after Osaka, and I did mean u&#39;."}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543448778, "post_id": 53529696, "comment_id": 93928168, "body": "Just tested Unicode characters with Jinja, works like expected."}, {"owner": {"reputation": 11, "user_id": 10719741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkcrQi7oho8/AAAAAAAAAAI/AAAAAAAADiw/hCFYiBpowuY/photo.jpg?sz=128", "display_name": "Katherine Waller", "link": "https://stackoverflow.com/users/10719741/katherine-waller"}, "edited": false, "score": 1, "creation_date": 1543449368, "post_id": 53529696, "comment_id": 93928308, "body": "If I pass my dictionary into Jinja, with this code in the html template:&lt;h1&gt;Hello&lt;/h1&gt; {{citiesAndSongs}}    then, when running google app engine it opens localhost and outputs the dictionary. However, some city names aren&#39;t displayed properly. u&#39;Bras\\xedlia&#39; and u&#39;Bogot\\xe1&#39; are a couple examples of special character cities that don&#39;t output as they should."}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1543449484, "post_id": 53529696, "comment_id": 93928340, "body": "Change to Python 3 and all these problems will quietly disappear.."}, {"owner": {"reputation": 11, "user_id": 10719741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkcrQi7oho8/AAAAAAAAAAI/AAAAAAAADiw/hCFYiBpowuY/photo.jpg?sz=128", "display_name": "Katherine Waller", "link": "https://stackoverflow.com/users/10719741/katherine-waller"}, "edited": false, "score": 0, "creation_date": 1543449539, "post_id": 53529696, "comment_id": 93928348, "body": "I actually wrote it in python 3 originally, and it works perfectly. Google app engine doesn&#39;t work with python 3 however."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543450018, "post_id": 53529696, "comment_id": 93928461, "body": "@KatherineWaller ugh, I feel for you. For all the complaining people did, Python 2 - &gt; 3 was worth it for the unicode changes alone. Anyway, you should add your situation with Jinja /Google App engine, I&#39;m going to go ahead and tag those as well."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1543451221, "post_id": 53529696, "comment_id": 93928694, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/19138046/writing-and-reading-json-with-python-how-to-decode-encode-special-characters\">Writing and reading JSON with Python, how to decode/encode special characters?</a>"}, {"owner": {"reputation": 1012, "user_id": 9551246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1958ab4823553fb09e0c99f862736abf?s=128&d=identicon&r=PG&f=1", "display_name": "Rub&#233;n C.", "link": "https://stackoverflow.com/users/9551246/rub%c3%a9n-c"}, "edited": false, "score": 0, "creation_date": 1543486922, "post_id": 53529696, "comment_id": 93940971, "body": "Google App Engine does actually work with <a href=\"https://cloud.google.com/appengine/docs/standard/python3/\" rel=\"nofollow noreferrer\">Python 3</a>, right now it&#39;s in Beta but you can use it."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543449978, "post_id": 53529906, "comment_id": 93928445, "body": "Apparently, OP is encountering a problem with Jinja/ Google app engine, though. wouldn&#39;t surprise me if there was a call to <code>__repr__</code> somewhere..."}], "tags": [], "owner": {"reputation": 18468, "user_id": 5249307, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c640cd731ca8e455d79860519b6b208?s=128&d=identicon&r=PG", "display_name": "donkopotamus", "link": "https://stackoverflow.com/users/5249307/donkopotamus"}, "is_accepted": false, "score": 1, "last_activity_date": 1543449869, "last_edit_date": 1543449869, "creation_date": 1543449399, "answer_id": 53529906, "question_id": 53529696, "link": "https://stackoverflow.com/questions/53529696/want-python-27-to-print-out-foreign-characters/53529906#53529906", "title": "Want Python 27 to print out foreign characters", "body": "<p>The underlying issue in python 2.7 is that printing a dictionary involves converting it to a string, and that string will be a <code>str</code> rather than a <code>unicode</code>. Hence your output.  </p>\n\n<p>However when your render the <strong>individual</strong> items you will find they are fine:</p>\n\n<pre><code>&gt;&gt;&gt; d = {u'Osaka': [{u'\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d': u'Takajin Yashiki'}]} \n&gt;&gt;&gt; for k, v in d.viewitems():\n...   for pair in v:\n...     for song, artist in pair.viewitems():\n...         print k, song, artist\n... \nOsaka \u3086\u3081\u3044\u3089\u3093\u304b\u306d Takajin Yashiki\n</code></pre>\n\n<p>Note that this is a Python 2 behavior. In Python 3, where <code>str</code> is text, this data will be printed as UTF-8 and should render naturally in the console assuming you have the necessary fonts installed for Japanese glyphs:</p>\n\n<pre><code>(3.7) &gt;&gt;&gt; print(d)\n{'Osaka': [{'\u3086\u3081\u3044\u3089\u3093\u304b\u306d': 'Takajin Yashiki'}]}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": false, "score": 0, "last_activity_date": 1543457959, "last_edit_date": 1543457959, "creation_date": 1543456331, "answer_id": 53530732, "question_id": 53529696, "link": "https://stackoverflow.com/questions/53529696/want-python-27-to-print-out-foreign-characters/53530732#53530732", "title": "Want Python 27 to print out foreign characters", "body": "<p>Like in <a href=\"https://stackoverflow.com/questions/19138046/how-to-print-national-characters-in-list-representation\">How to print national characters in list representation?</a> , you need to use a custom procedure to print your data that would print strings themselves instead of their <code>repr</code>:</p>\n\n<pre><code>def nrepr(data):\n    city_items=[]\n    for city, jukebox in data.iteritems():\n       jukebox_items=[]\n       for song,artist in jukebox.iteritems():\n           jukebox_items.append(u'\"%s\":\"%s\"' % (song,artist) )\n       city_items.append(u'\"%s\":{%s}' % (city, u\",\".join(jukebox_items)))\n    return u'{%s}' % u\",\".join(city_items)\n\n&gt;&gt;&gt;  data={u'Osaka':{u'\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d':u'Takajin Yashiki'}}\n\n&gt;&gt;&gt; print nrepr(data)\n{\"Osaka\":{\"\u3086\u3081\u3044\u3089\u3093\u304b\u306d\":\"Takajin Yashiki\"}}\n</code></pre>\n\n<p><sub>(use <code>from __future__ import unicode_literals</code> at the start of the file to avoid putting <code>u</code> before every literal)</sub></p>\n\n<p>You are not constrained to mimicking Python's default output format, you can print them any way you like.</p>\n\n<hr>\n\n<p>Alternatively, you can use a <code>unicode</code> subclass for your strings that would have <code>repr</code> with national characters:</p>\n\n<pre><code>class nu(unicode):\n    def __repr__(self):\n        return self.encode('utf-8')    #must return str\n\n&gt;&gt;&gt; data={nu(u'Osaka'):{nu(u'\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d'):nu(u'Takajin Yashiki')}}\n&gt;&gt;&gt; data\n{Osaka: {\u3086\u3081\u3044\u3089\u3093\u304b\u306d: Takajin Yashiki}}\n</code></pre>\n\n<p><strong>This is problematic 'cuz <code>repr</code> output is presumed to only contain ASCII characters and various code relies on this. <a href=\"https://stackoverflow.com/questions/49941052/which-encoding-is-used-for-strings-in-python-2-x\">You are extremily likely to get <code>UnicodeError</code>s in random places</a>.</strong> It will also print mojibake <a href=\"https://stackoverflow.com/questions/49941052/which-encoding-is-used-for-strings-in-python-2-x\">if a specific output channel's encoding is different from <code>utf-8</code> or if further transcoding is involved.</a></p>\n"}], "owner": {"reputation": 11, "user_id": 10719741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nkcrQi7oho8/AAAAAAAAAAI/AAAAAAAADiw/hCFYiBpowuY/photo.jpg?sz=128", "display_name": "Katherine Waller", "link": "https://stackoverflow.com/users/10719741/katherine-waller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1543491381, "creation_date": 1543447955, "last_edit_date": 1543491381, "question_id": 53529696, "link": "https://stackoverflow.com/questions/53529696/want-python-27-to-print-out-foreign-characters", "title": "Want Python 27 to print out foreign characters", "body": "<p>I am working on a school project using Google App Engine and Python 2.7. I am trying to output a nested dictionary like so: <code>{city:[{song1:artist1},{song2:artist2}], city2:[{song1:artist1},{song2:artist2}]}</code>. However, the city names and the songs are from around the world, with special foreign characters. When I print out the dictionary, I get this string:</p>\n\n<p><code>{'uOsaka'[{'u\\u3086\\u3081\\u3044\\u3089\\u3093\\u304b\\u306d': u'Takajin Yashiki}</code>, etc... (where Osaka is the city, the unicode is the song, and Takajin is the artist)</p>\n\n<p>Does anyone know how to get the name of the cities/songs to appear correctly?</p>\n"}, {"tags": ["python", "python-3.x", "overload-resolution", "mypy", "union-types"], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1543473022, "post_id": 53530815, "comment_id": 93933873, "body": "Thank you for the excellent answer. I appreciate the time you took to post this. Since there is wiggle room, I&#39;ll take it. It&#39;s going to be verbose, but the current situation I&#39;m dealing with is particularly grotesque, so I shouldn&#39;t have to do this that often. I&#39;d like to think I was close to stumbling my way to this eventually ...  :)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543475838, "post_id": 53530815, "comment_id": 93934979, "body": "&quot;... declare &quot;bankruptcy&quot; on the pervasiveness of &#39;None&#39; throughout your codebase&quot; this aspect of the API is out of my control. In actuality, I have a singleton enum <code>Null</code>, and I&#39;m using a <code>Union</code> explicitly. I am purposefully <i>baking it all in</i> due to the requirements of the API, which will handle very messy medical data that must tolerate missing values. &quot;nullability&quot; is a feature, it can&#39;t be removed unfortunately. Anyway, I&#39;m going to leave the question open and give you a bounty on it, you deserve it!"}], "tags": [], "owner": {"reputation": 40179, "user_id": 646543, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/a6xF2.jpg?s=128&g=1", "display_name": "Michael0x2a", "link": "https://stackoverflow.com/users/646543/michael0x2a"}, "is_accepted": true, "score": 8, "last_activity_date": 1543458434, "last_edit_date": 1543458434, "creation_date": 1543457095, "answer_id": 53530815, "question_id": 53529693, "link": "https://stackoverflow.com/questions/53529693/mypy-error-overload-with-union-optional-overloaded-function-signatures-1-and/53530815#53530815", "title": "mypy error, overload with Union/Optional, &quot;Overloaded function signatures 1 and 2 overlap with incompatible return types&quot;", "body": "<p>There is not going to be a particularly clean way of solving this, I'm afraid -- at least, none that I'm personally aware of. As you've observed, your type signatures contain a fundamental ambiguity that mypy will not allow: if you attempt to call <code>Add</code> with an argument of type <code>None</code>, mypy will fundamentally not be able to deduce which of the given overload variants matches.</p>\n\n<p>For more discussion about this, see the mypy docs on <a href=\"https://mypy.readthedocs.io/en/stable/more_types.html#type-checking-the-variants\" rel=\"noreferrer\">checking overload invariants</a> -- search for the paragraph discussing \"inherently unsafely overlapping variants\" and start reading from there.</p>\n\n<hr>\n\n<p>However, we can wiggle free in this specific case by spelling out the overloads to more precisely match the actual runtime behavior. In particular, we have this nice property that if either argument is 'None', we <em>must</em> also return None. If we encode this, mypy ends up being satisfied:</p>\n\n<pre><code>@overload\ndef Add(this: None, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: Foo, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: Bar, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: Baz, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: None, that: Foo) -&gt; None:\n    ...\n@overload\ndef Add(this: None, that: Bar) -&gt; None:\n    ...\n@overload\ndef Add(this: Foo, that: Foo) -&gt; Foo:\n    ...\n@overload\ndef Add(this: Bar, that: Bar) -&gt; Bar:\n    ...\n@overload\ndef Add(this: Baz, that: Bar) -&gt; Baz:\n    ...\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n\nx: Optional[Baz]\ny: Optional[Bar]\n\nreveal_type(Add(x, y))  # Revealed type is 'Union[Baz, None]'\n</code></pre>\n\n<p>The fact that this works may initially seem surprising -- after all, we pass in an argument of type <code>Optional[...]</code> and yet none of the overloads contain that type!</p>\n\n<p>What mypy is doing here is informally called \"union math\" -- it basically observes that <code>x</code> and <code>y</code> are both unions of type <code>Union[Baz, None]</code> and <code>Union[Bar, None]</code> respectively, and tries doing the spiritual equivalent of a nested for loop to check every single possible combination of these unions. So, in this case it checks for an overload variant that matches <code>(Baz, Bar)</code>, <code>(Baz, None)</code>, <code>(None, Bar)</code>, and <code>(None, None)</code> and gets back return values of types Baz, None, None, and None respectively.</p>\n\n<p>The final return type is then the union of these values: <code>Union[Baz, None, None, None]</code>. This simplifies to <code>Union[Baz, None]</code>, which is the desired return type.</p>\n\n<hr>\n\n<p>The main downside of this solution of course, is that it's extremely verbose -- perhaps to an unbearable extent, depending on how many of these helper functions you have and how pervasive this \"we could maybe return None\" problem is in your codebase.</p>\n\n<p>If this is the case, something you could possibly do is declare \"bankruptcy\" on the pervasiveness of 'None' throughout your codebase and start running mypy with <a href=\"https://mypy.readthedocs.io/en/stable/kinds_of_types.html#disabling-strict-optional-checking\" rel=\"noreferrer\">\"strict optional\" mode disabled</a>.</p>\n\n<p>In short, if you run mypy with the <code>--no-strict-optional</code> flag, you're instructing mypy to assume that 'None' is a valid member of <em>every</em> class. This is the same as how Java assumes that 'null' is a valid member of every type. (Well, every non-primitive type, but whatever).</p>\n\n<p>This weakens the type safety of your code (sometimes dramatically), but it <em>will</em> let you simplify your code to look like this:</p>\n\n<pre><code>class Foo:\n    value: int\n    def __init__(self, value: int) -&gt; None:\n        self.value = value\n\n    # Note: with strict-optional disabled, returning 'Foo' vs\n    # 'Optional[Foo]' means the same thing\n    def __add__(self, other: 'Foo') -&gt; Foo:\n        result = self.value - other.value\n        if result &gt; 42:\n            return None\n        else:\n            return Foo(result)\n\n\n@overload\ndef Add(this: Foo, that: Foo) -&gt; Foo:\n    ...\n@overload\ndef Add(this: Bar, that: Bar) -&gt; Bar:\n    ...\n@overload\ndef Add(this: Baz, that: Bar) -&gt; Baz:\n    ...\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n\nx: Optional[Baz]\ny: Optional[Bar]\n\nreveal_type(Add(x, y))  # Revealed type is 'Baz'\n</code></pre>\n\n<p>Strictly speaking, the overload checks ought to report the \"unsafely overlapping\" error for the same reason they did back when strict-optional was enabled. However, if we did so, overloads would be completely unusable when strict-optional is disabled: so mypy deliberately weakens the checks here and ignores that particular error case.</p>\n\n<p>The main disadvantage of this mode is that you're now forced to do more runtime checking. If you receive back some value of type <code>Baz</code>, it might actually be <code>None</code> -- similar to how any object reference in Java could actually be <code>null</code>.</p>\n\n<p>This might potentially be an ok tradeoff in your case, since you're already scattering these types of runtime checks everywhere.</p>\n\n<p>If you subscribe to the \"null was a billion-dollar mistake\" school of thought and would like to live in the strict-optional world, one technique you can use is to progressively re-enable strict-optional in select parts of your codebase by using the <a href=\"https://mypy.readthedocs.io/en/stable/config_file.html\" rel=\"noreferrer\">mypy config file</a>. </p>\n\n<p>Basically, you can configure many (though not all) mypy options on a per-module basis via the config file, which can be pretty handy if you're attempting to add types to a pre-existing codebase and find that transitioning all at once is simply intractable. Start with loose global settings, then gradually make them stricter and stricter over time.</p>\n\n<hr>\n\n<p>If both of these options feels too extreme (e.g. you don't want to add the verbose signature from above everywhere, but also don't want to give up strict optional), the final option you could do is to just simply <em>silence</em> the error by adding a <code># type: ignore</code> to every line mypy reports an \"unsafely overlapping types\" error on.</p>\n\n<p>This is also defeat in a way, but possibly a more localized one. Even <a href=\"https://github.com/python/typeshed\" rel=\"noreferrer\">typeshed</a>, the repository of type hints for the standard library, contains a few scattered <code># type: ignore</code> comments here and there for certain functions that are simply inexpressible using PEP 484 types.</p>\n\n<p>Whether or not this is a solution you're ok will depend on your particular circumstance. If you analyze your codebase, and think that the potential unsafeness is something you're ok with ignoring, maybe this might be the simplest way forward.</p>\n"}], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1672, "favorite_count": 1, "accepted_answer_id": 53530815, "answer_count": 1, "score": 6, "last_activity_date": 1543908431, "creation_date": 1543447937, "last_edit_date": 1543452795, "question_id": 53529693, "link": "https://stackoverflow.com/questions/53529693/mypy-error-overload-with-union-optional-overloaded-function-signatures-1-and", "title": "mypy error, overload with Union/Optional, &quot;Overloaded function signatures 1 and 2 overlap with incompatible return types&quot;", "body": "<p>So, let's start with an example. Suppose we have several types that can be combined together, let's say we are using <code>__add__</code> to implement this. Unfortunately, due to circumstances beyond our control, everything has to be \"nullable\", so we are forced to use <code>Optional</code> everywhere. </p>\n\n<pre><code>from typing import Optional, List, overload\nclass Foo:\n    value: int\n    def __init__(self, value: int) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Foo') -&gt; 'Optional[Foo]':\n        result = self.value - other.value\n        if result &gt; 42:\n            return None\n        else:\n            return Foo(result)\n\nclass Bar:\n    value: str\n    def __init__(self, value: str) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Bar') -&gt; 'Optional[Bar]':\n        if len(self.value) + len(other.value) &gt; 42:\n            return None\n        else:\n            return Bar(self.value + other.value)\n\nclass Baz:\n    value: List[str]\n    def __init__(self, value:List[str]) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Bar') -&gt; 'Optional[Baz]':\n        if len(self.value) + 1 &gt; 42:\n            return None\n        else:\n            return Baz([*self.value, other.value])\n\n\n@overload\ndef Add(this: Optional[Foo], that: Optional[Foo]) -&gt; Optional[Foo]:\n    ...\n@overload\ndef Add(this: Optional[Bar], that: Optional[Bar]) -&gt; Optional[Bar]:\n    ...\n@overload\ndef Add(this: Optional[Baz], that: Optional[Bar]) -&gt; Optional[Baz]:\n    ...\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n</code></pre>\n\n<p>We want utility function that does null-checking for us, but can generically handle \"combinable\" types. Most of the types can only be combined with themselves, and just to be more true to my actual use-case, let's say one type combines with the other. I would have hoped that the <code>overload</code> decorator could have helped here, however mypy complains:</p>\n\n<pre><code>mcve4.py:35: error: Overloaded function signatures 1 and 2 overlap with incompatible return types\nmcve4.py:35: error: Overloaded function signatures 1 and 3 overlap with incompatible return types\nmcve4.py:38: error: Overloaded function signatures 2 and 3 overlap with incompatible return types\n</code></pre>\n\n<p>Using mypy version: <code>mypy 0.641</code></p>\n\n<p>Note, if I remove <code>Optional</code> madness, mypy doesn't complain. I can even keep one of them as optional!:</p>\n\n<pre><code>from typing import List, overload\nclass Foo:\n    value: int\n    def __init__(self, value: int) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Foo') -&gt; 'Foo':\n        result = self.value - other.value\n        return Foo(result)\n\nclass Bar:\n    value: str\n    def __init__(self, value: str) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Bar') -&gt; 'Bar':\n        return Bar(self.value + other.value)\n\nclass Baz:\n    value: List[str]\n    def __init__(self, value:List[str]) -&gt; None:\n        self.value = value\n    def __add__(self, other: 'Bar') -&gt; 'Optional[Baz]':\n        return Baz([*self.value, other.value])\n\n\n@overload\ndef Add(this: Foo, that: Foo) -&gt; Foo:\n    ...\n@overload\ndef Add(this: Bar, that: Bar) -&gt; Bar:\n    ...\n@overload\ndef Add(this: Baz, that: Bar) -&gt; 'Optional[Baz]':\n    ...\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n</code></pre>\n\n<p>This makes me suspect that the \"overlap\" is for NoneType, but feel like this should be resolvable, am I completely off base?</p>\n\n<h3>Edit</h3>\n\n<p>So, I'm really just flailing about here, but I suppose, when both argument are <code>None</code> this is definitely ambiguous, I would have hoped that the following would resolve it:</p>\n\n<pre><code>@overload\ndef Add(this: None, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: Optional[Foo], that: Optional[Foo]) -&gt; Optional[Foo]:\n    ...\n@overload\ndef Add(this: Optional[Bar], that: Optional[Bar]) -&gt; Optional[Bar]:\n    ...\n@overload\ndef Add(this: Optional[Baz], that: Optional[Bar]) -&gt; Optional[Baz]:\n    ...\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n</code></pre>\n\n<p>But I am still getting:</p>\n\n<pre><code>mcve4.py:37: error: Overloaded function signatures 2 and 3 overlap with incompatible return types\nmcve4.py:37: error: Overloaded function signatures 2 and 4 overlap with incompatible return types\nmcve4.py:40: error: Overloaded function signatures 3 and 4 overlap with incompatible return types\n</code></pre>\n\n<p>Edit2\nGoing along the same garden-trail, I've tried the following:</p>\n\n<pre><code>@overload\ndef Add(this: None, that: None) -&gt; None:\n    ...\n@overload\ndef Add(this: Foo, that: Optional[Foo]) -&gt; Optional[Foo]:\n    ...\n@overload\ndef Add(this: Optional[Foo], that: Foo) -&gt; Optional[Foo]:\n    ...\n@overload\ndef Add(this: Baz, that: Bar) -&gt; Optional[Baz]:\n    ...\n@overload\ndef Add(this: Baz, that: Optional[Bar]) -&gt; Optional[Baz]:\n    ...\n@overload\ndef Add(this: Optional[Baz], that: Bar) -&gt; Optional[Baz]: # 6\n    ...\n@overload\ndef Add(this: Bar, that: Optional[Bar]) -&gt; Optional[Bar]:\n    ...\n@overload\ndef Add(this: Optional[Bar], that: Bar) -&gt; Optional[Bar]: # 8\n    ...\n\ndef Add(this, that):\n    if this is None or that is None:\n        return None\n    else:\n        return this + that\n</code></pre>\n\n<p>I am now getting:</p>\n\n<pre><code>mcve4.py:49: error: Overloaded function signatures 6 and 8 overlap with incompatible return types\n</code></pre>\n\n<p>Which is starting to make sense to me, I think fundamentally what I am trying to do is unsafe/broken. I may have to just cut the gordian knot another way...</p>\n"}, {"tags": ["python", "python-3.x", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 6540590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4de189dc056cbf19546f957d4129c80?s=128&d=identicon&r=PG&f=1", "display_name": "Some Dude From the Internet", "link": "https://stackoverflow.com/users/6540590/some-dude-from-the-internet"}, "edited": false, "score": 0, "creation_date": 1543448969, "post_id": 53529815, "comment_id": 93928210, "body": "Appreciate the answer, but it doesn&#39;t look like that resolved it. I&#39;m starting to think this is either a bug with Pandas, or something changed in 3.7.1 that&#39;s breaking the interaction. I tried this using 3.7.0 and it worked okay."}, {"owner": {"reputation": 349, "user_id": 10719722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WA5tY.jpg?s=128&g=1", "display_name": "Aditya Lahiri", "link": "https://stackoverflow.com/users/10719722/aditya-lahiri"}, "reply_to_user": {"reputation": 105, "user_id": 6540590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4de189dc056cbf19546f957d4129c80?s=128&d=identicon&r=PG&f=1", "display_name": "Some Dude From the Internet", "link": "https://stackoverflow.com/users/6540590/some-dude-from-the-internet"}, "edited": false, "score": 1, "creation_date": 1543449219, "post_id": 53529815, "comment_id": 93928273, "body": "I see, did you try applying some of the answers here ?<a href=\"https://stackoverflow.com/questions/18039057/python-pandas-error-tokenizing-data\" title=\"python pandas error tokenizing data\">stackoverflow.com/questions/18039057/&hellip;</a>"}, {"owner": {"reputation": 105, "user_id": 6540590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4de189dc056cbf19546f957d4129c80?s=128&d=identicon&r=PG&f=1", "display_name": "Some Dude From the Internet", "link": "https://stackoverflow.com/users/6540590/some-dude-from-the-internet"}, "edited": false, "score": 0, "creation_date": 1543449802, "post_id": 53529815, "comment_id": 93928403, "body": "I had tried a few, but the comment there about deleting a particular column ended up being the correct answer. Thank you for your help!"}], "tags": [], "owner": {"reputation": 349, "user_id": 10719722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WA5tY.jpg?s=128&g=1", "display_name": "Aditya Lahiri", "link": "https://stackoverflow.com/users/10719722/aditya-lahiri"}, "is_accepted": false, "score": 0, "last_activity_date": 1543448766, "creation_date": 1543448766, "answer_id": 53529815, "question_id": 53529678, "link": "https://stackoverflow.com/questions/53529678/pandas-throws-parsererror-on-one-computer-but-not-on-another/53529815#53529815", "title": "Pandas throws ParserError on one computer but not on another", "body": "<p>I believe this is a problem with encoding </p>\n\n<p>try this :</p>\n\n<pre><code>import pandas as pd\ndf = pd.read_csv(\"report.csv\",encoding='cp1252')\ndf = df.drop(\"Agent Name\", axis=1)\ndf.to_csv(\"agent_report_updated.csv\")\n</code></pre>\n\n<p>There are other encoding options you can try utf-8 instead of cp1252.\n<a href=\"https://docs.python.org/3/library/codecs.html#standard-encodings\" rel=\"nofollow noreferrer\">Here</a> is a list of encodings used.</p>\n"}], "owner": {"reputation": 105, "user_id": 6540590, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d4de189dc056cbf19546f957d4129c80?s=128&d=identicon&r=PG&f=1", "display_name": "Some Dude From the Internet", "link": "https://stackoverflow.com/users/6540590/some-dude-from-the-internet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1543448766, "creation_date": 1543447793, "question_id": 53529678, "link": "https://stackoverflow.com/questions/53529678/pandas-throws-parsererror-on-one-computer-but-not-on-another", "title": "Pandas throws ParserError on one computer but not on another", "body": "<p>Here's the code I have, which works perfectly fine on my friend's computer: </p>\n\n<pre><code>#!/usr/bin/python\n\nimport pandas as pd\n\ndf = pd.read_csv(\"report.csv\")\ndf = df.drop(\"Agent Name\", axis=1)\ndf.to_csv(\"agent_report_updated.csv\")\n</code></pre>\n\n<p>Here's the error I receive on mine: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"./agent_calls_report.py\", line 10, in &lt;module&gt;\n    df = pd.read_csv(\"report.csv\")\n  File \"/usr/lib/python3.7/site-packages/pandas/io/parsers.py\", line 678, in parser_f\n    return _read(filepath_or_buffer, kwds)\n  File \"/usr/lib/python3.7/site-packages/pandas/io/parsers.py\", line 446, in _read\n    data = parser.read(nrows)\n  File \"/usr/lib/python3.7/site-packages/pandas/io/parsers.py\", line 1036, in read\n    ret = self._engine.read(nrows)\n  File \"/usr/lib/python3.7/site-packages/pandas/io/parsers.py\", line 1848, in read\n    data = self._reader.read(nrows)\n  File \"pandas/_libs/parsers.pyx\", line 876, in pandas._libs.parsers.TextReader.read\n  File \"pandas/_libs/parsers.pyx\", line 891, in pandas._libs.parsers.TextReader._read_low_memory\n  File \"pandas/_libs/parsers.pyx\", line 945, in pandas._libs.parsers.TextReader._read_rows\n  File \"pandas/_libs/parsers.pyx\", line 932, in pandas._libs.parsers.TextReader._tokenize_rows\n  File \"pandas/_libs/parsers.pyx\", line 2112, in pandas._libs.parsers.raise_parser_error\npandas.errors.ParserError: Error tokenizing data. C error: Expected 34 fields in line 3, saw 35\n</code></pre>\n\n<p>Any idea why this would work on one computer and not another? Edit: I've confirmed that we are using the same versions of both Python (3.7.1) and Pandas, the only difference is that he has a Mac while I'm on Linux.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1543448026, "post_id": 53529675, "comment_id": 93927949, "body": "(1) This requires that you read the entire file to determine the longest element of each column.  You code that width into your output formatting.  (2) I recommend that you look up the <code>format</code> operator."}, {"owner": {"reputation": 43, "user_id": 10648189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb8bf84a38725add3a3b41ba7760f15e?s=128&d=identicon&r=PG&f=1", "display_name": "GregG", "link": "https://stackoverflow.com/users/10648189/gregg"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1543448762, "post_id": 53529675, "comment_id": 93928160, "body": "@Prune Hi, I have tried to follow your advice, but im still struggling with what I need to change in my code to get this to work, Thanks"}], "owner": {"reputation": 43, "user_id": 10648189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb8bf84a38725add3a3b41ba7760f15e?s=128&d=identicon&r=PG&f=1", "display_name": "GregG", "link": "https://stackoverflow.com/users/10648189/gregg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 14, "favorite_count": 0, "closed_date": 1543448072, "answer_count": 0, "score": 0, "last_activity_date": 1543448510, "creation_date": 1543447773, "last_edit_date": 1543448510, "question_id": 53529675, "link": "https://stackoverflow.com/questions/53529675/how-to-set-width-of-columns-based-on-character-length-in-python", "closed_reason": "Duplicate", "title": "How to set width of columns based on character length in Python", "body": "<p>Currently my code has the width of each column fixed so they all line up like a table should. I want to be able to have the column width to vary to the character length of the longest row.</p>\n\n<pre><code>with open('geek-music.csv') as csv_file:\n     csv_reader = csv.reader(csv_file)\n     line_count = 0\n     dash = '-' * 82\n     print(dash)\n     for row in csv_reader:\n         if line_count == 0:\n             print(\"|\", row[0], \" \" * (20 - len(row[0])), \"|\",\n                   row[1], \" \" * (20 - len(row[1])), \"|\",\n                   row[2], \" \" * (20 - len(row[2])), \"|\",\n                   row[3], \" \" * (5 - len(row[3])), \"|\")\n             print(dash)\n             line_count = 1\n         else:\n             print(\"|\", row[0], \" \" * (20 - len(row[0])), \"|\",\n                   row[1], \" \" * (20 - len(row[1])), \"|\",\n                   row[2], \" \" * (20 - len(row[2])), \"|\",\n                   row[3], \" \" * (5 - len(row[3])), \"|\")\n     print(dash)\n</code></pre>\n\n<p>Thanks</p>\n\n<p>edit: I need to know what part of my code I need to change in order to get the width to change.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 1226, "user_id": 10655190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b7c2dbf23b847b212feadae80d8042?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Steinberg", "link": "https://stackoverflow.com/users/10655190/roger-steinberg"}, "edited": false, "score": 0, "creation_date": 1543448330, "post_id": 53529715, "comment_id": 93928047, "body": "what is -np? is it part of the numpy package?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 1226, "user_id": 10655190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b7c2dbf23b847b212feadae80d8042?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Steinberg", "link": "https://stackoverflow.com/users/10655190/roger-steinberg"}, "edited": false, "score": 0, "creation_date": 1543448388, "post_id": 53529715, "comment_id": 93928068, "body": "Yeah, it&#39;s negative infinity. You can also access it without explicitly importing numpy by using <code>-pd.np.inf</code>, or if you&#39;re just looking say between 0 and 1, replace <code>-np.inf</code> with 0 and <code>np.inf</code> with 1"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1543448068, "creation_date": 1543448068, "answer_id": 53529715, "question_id": 53529667, "link": "https://stackoverflow.com/questions/53529667/how-to-iterate-through-each-value-in-a-column-with-conditions-and-create-a-new-c/53529715#53529715", "title": "How to iterate through each value in a column with conditions and create a new column with new values", "body": "<p>I think you're looking for <a href=\"https://pandas.pydata.org/pandas-docs/version/0.23.4/generated/pandas.cut.html\" rel=\"nofollow noreferrer\"><code>pd.cut()</code></a>. In your case:</p>\n\n<pre><code>df['M_quintile'] = pd.cut(df.cumsumperc, bins=[-np.inf,0.2,0.4,0.6,0.8,np.inf], labels=[5,4,3,2,1])\n\n&gt;&gt;&gt; df\n   cumsum  cumsumperc M_quintile\n0     465    0.001320          5\n1     439    0.002499          5\n2     213    0.003624          5\n3     616    0.004583          5\n4     527    0.005468          5\n</code></pre>\n\n<p>This says: if <code>cumsumperc</code> is between negative infinity and 0.2 (the first 2 values in the <code>bins</code> argument), assign it 5 (the first value in your <code>labels</code> argument), if it's between 0.2 and 0.4, assign it 4, and so on until if it's between 0.8 and infinity, assign it 1.</p>\n\n<p>In your case, all values are between negative infinity and 0.2, so they all get assigned 5. Just for illustration, look what happens if you add another value:</p>\n\n<pre><code>&gt;&gt;&gt; df\n   cumsum  cumsumperc\n0     465    0.001320\n1     439    0.002499\n2     213    0.003624\n3     616    0.004583\n4     527    0.005468\n5     999    0.720000\n&gt;&gt;&gt; df['M_quintile'] = pd.cut(df.cumsumperc, bins=[-np.inf,0.2,0.4,0.6,0.8,np.inf], labels=[5,4,3,2,1])\n&gt;&gt;&gt; df\n   cumsum  cumsumperc M_quintile\n0     465    0.001320          5\n1     439    0.002499          5\n2     213    0.003624          5\n3     616    0.004583          5\n4     527    0.005468          5\n5     999    0.720000          2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3394, "user_id": 10708483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puvWi.jpg?s=128&g=1", "display_name": "tdurnford", "link": "https://stackoverflow.com/users/10708483/tdurnford"}, "is_accepted": false, "score": 1, "last_activity_date": 1543451612, "last_edit_date": 1543451612, "creation_date": 1543448473, "answer_id": 53529768, "question_id": 53529667, "link": "https://stackoverflow.com/questions/53529667/how-to-iterate-through-each-value-in-a-column-with-conditions-and-create-a-new-c/53529768#53529768", "title": "How to iterate through each value in a column with conditions and create a new column with new values", "body": "<p>I think there are better ways to do this through Pandas, but if you wanted to use your own function, you can use the apply function. </p>\n\n<pre><code>import pandas as pd\n\ndef score(x):\n    if x &lt;= 0.20:\n        return 5\n    elif x &lt;= 0.40:\n        return 4\n    elif x &lt;= 0.60:\n        return 3\n    elif x &lt;= 0.80:\n        return 2\n    else:\n        return 1 \n\ndf['M_quintile'] = df['cumsumperc'].apply(score)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>   cumsum  cumsumperc  M_quintile\n0     465    0.001320           5\n1     439    0.002499           5\n2     213    0.003624           5\n3     616    0.004583           5\n4     527    0.005468           5\n</code></pre>\n"}], "owner": {"reputation": 1226, "user_id": 10655190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73b7c2dbf23b847b212feadae80d8042?s=128&d=identicon&r=PG&f=1", "display_name": "Roger Steinberg", "link": "https://stackoverflow.com/users/10655190/roger-steinberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53529715, "answer_count": 2, "score": 1, "last_activity_date": 1543451612, "creation_date": 1543447713, "last_edit_date": 1543448070, "question_id": 53529667, "link": "https://stackoverflow.com/questions/53529667/how-to-iterate-through-each-value-in-a-column-with-conditions-and-create-a-new-c", "title": "How to iterate through each value in a column with conditions and create a new column with new values", "body": "<p>I have a cumulative sum % column in my data frame.\nI would like to have a function that iterate through each cell of that column and returns a value in the newly created column M_quintile.</p>\n\n<pre><code>cumsum  cumsumperc  M_quintile\n   465     0.001320   a number between 1-5    \n   439     0.002499   a number between 1-5        \n   213     0.003624   a number between 1-5        \n   616     0.004583   a number between 1-5        \n   527     0.005468   a number between 1-5   \n</code></pre>\n\n<p>Here's the function I currently have:</p>\n\n<pre><code>def score(x):\n    if x &lt;= 0.20:\n        return 5\n    elif x &lt;= 0.40:\n        return 4\n    elif x &lt;= 0.60:\n        return 3\n    elif x &lt;= 0.80:\n        return 2\n    else:\n        return 1 \n</code></pre>\n\n<p>How do i apply this function on a specific column specifically to the cumsumperc column?</p>\n"}, {"tags": ["python", "pandas", "list", "dictionary", "slice"], "answers": [{"comments": [{"owner": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1543449688, "post_id": 53529742, "comment_id": 93928382, "body": "Thanks a lot, man!   It didn&#39;t occur to me that accessing dictionaries by key needed loops, and it still is mysterious to me, since <code>dic[&#39;C&#39;]</code> in the list comprehension seems equivalent to what I was trying to do, <code>sorted_combos.iloc[:, 0][&#39;C&#39;]</code>, which did not work.  Does anybody know why?"}, {"owner": {"reputation": 79, "user_id": 10713359, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Drnu7RObGAc/AAAAAAAAAAI/AAAAAAAAAGk/GNEJ_S7qtlE/photo.jpg?sz=128", "display_name": "Mike Chen", "link": "https://stackoverflow.com/users/10713359/mike-chen"}, "reply_to_user": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1543463979, "post_id": 53529742, "comment_id": 93931320, "body": "You have to get the <code>[&#39;C&#39;]</code> value for each individual dictionary, <code>sorted_combos.iloc[:, 0]</code> itself is a list-like object and does not have keys."}, {"owner": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "edited": false, "score": 0, "creation_date": 1543470834, "post_id": 53529742, "comment_id": 93933111, "body": "That makes a lot of sense. Great start for a new stackoverflow account :)."}], "tags": [], "owner": {"reputation": 79, "user_id": 10713359, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Drnu7RObGAc/AAAAAAAAAAI/AAAAAAAAAGk/GNEJ_S7qtlE/photo.jpg?sz=128", "display_name": "Mike Chen", "link": "https://stackoverflow.com/users/10713359/mike-chen"}, "is_accepted": true, "score": 1, "last_activity_date": 1543448312, "creation_date": 1543448312, "answer_id": 53529742, "question_id": 53529655, "link": "https://stackoverflow.com/questions/53529655/error-slicing-list-of-dictionaries-by-key/53529742#53529742", "title": "Error slicing list of dictionaries by key?", "body": "<p>You can try using a list comprehension to loop over all the dictionaries. In this case, the code would be <code>[dic['C'] for dic in sorted_combos.iloc[:,0]]</code>.</p>\n"}], "owner": {"reputation": 1239, "user_id": 6541950, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/2e20d7b818f77d9851d86428783a5d4d?s=128&d=identicon&r=PG&f=1", "display_name": "Coolio2654", "link": "https://stackoverflow.com/users/6541950/coolio2654"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 1, "accepted_answer_id": 53529742, "answer_count": 1, "score": 1, "last_activity_date": 1543448312, "creation_date": 1543447659, "question_id": 53529655, "link": "https://stackoverflow.com/questions/53529655/error-slicing-list-of-dictionaries-by-key", "title": "Error slicing list of dictionaries by key?", "body": "<p>I have a Pandas <code>Series</code> which contains dictionaries holding two key-value pairs each. </p>\n\n<p>Here is a picture of the data (apologies for size)</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ix07Pm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ix07Pm.png\" alt=\"enter image description here\"></a></p>\n\n<p>How would I go about getting all of the <code>'C'</code> key's values, like <code>[10000000.0, 3162277.66 ..., 1000000.0, ...]</code> here? I've already tried <code>sorted_combos.iloc[:, 0]['C']</code>, but that gives me a <code>KeyError</code>, so I am stumped.</p>\n\n<p>How am I do to this for future reference? Thank you all in advance.</p>\n"}, {"tags": ["python", "tensorflow", "graph", "detection", "tensorboard"], "answers": [{"tags": [], "owner": {"reputation": 1527, "user_id": 10263280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e481f3c37e44c78182b11e48d5ea354?s=128&d=identicon&r=PG&f=1", "display_name": "netanel-sam", "link": "https://stackoverflow.com/users/10263280/netanel-sam"}, "is_accepted": true, "score": 0, "last_activity_date": 1543486599, "creation_date": 1543486599, "answer_id": 53536629, "question_id": 53529632, "link": "https://stackoverflow.com/questions/53529632/how-to-display-the-accuracy-graph-on-tensorboard/53536629#53536629", "title": "How to display the accuracy graph on TensorBoard?", "body": "<p>You can do this by switching from the deprecated train.py and eval.py to the recent model_main.py. It interleaves evaluation schedule into the training session, so that you can evaluate the training progress of the model without manually doing so.\nThe flags of model_main.py are very similar to those of train.py, and you can see an example in here:\n<a href=\"https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_locally.md#running-the-training-job\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/models/blob/master/research/object_detection/g3doc/running_locally.md#running-the-training-job</a></p>\n"}], "owner": {"reputation": 3, "user_id": 10719729, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TjU33SPHKrs/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gPZ9MSaq7T0tLsC5rtXfROcFAZJw/mo/photo.jpg?sz=128", "display_name": "Victor Gonzalez", "link": "https://stackoverflow.com/users/10719729/victor-gonzalez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3424, "favorite_count": 0, "accepted_answer_id": 53536629, "answer_count": 1, "score": 0, "last_activity_date": 1543486599, "creation_date": 1543447538, "last_edit_date": 1543477032, "question_id": 53529632, "link": "https://stackoverflow.com/questions/53529632/how-to-display-the-accuracy-graph-on-tensorboard", "title": "How to display the accuracy graph on TensorBoard?", "body": "<p>I'm new to TensorFlow. I am currently working on a project that uses the TF Object detection API. I'm training a model with two classes on my custom images. So far I have successfully run <code>train.py</code> and <code>eval.py</code> and executed TensorBoard at the same time to see how the training processes is progressing. </p>\n\n<p>Here is the image of my work:</p>\n\n<p><img src=\"https://i.stack.imgur.com/QR9Ve.png\" alt=\"enter image description here\"></p>\n\n<p>How do I display a graph in which I can see the accuracy of the model being developed ?</p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["python", "macos", "pip"], "comments": [{"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543447780, "post_id": 53529630, "comment_id": 93927869, "body": "Just use virtualenvs, much easier and safer."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1543455960, "post_id": 53529630, "comment_id": 93929757, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/31512422/pip-install-r-oserror-errno-13-permission-denied\">pip install -r: OSError: &#91;Errno 13&#93; Permission denied</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543447723, "post_id": 53529645, "comment_id": 93927857, "body": "Apparently it&#39;s not recommended: <a href=\"https://stackoverflow.com/questions/31512422/pip-install-r-oserror-errno-13-permission-denied\" title=\"pip install r oserror errno 13 permission denied\">stackoverflow.com/questions/31512422/&hellip;</a>"}, {"owner": {"reputation": 2479, "user_id": 2101808, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eac6c5555d5e72e2b4f2f2253e4579e2?s=128&d=identicon&r=PG", "display_name": "eri", "link": "https://stackoverflow.com/users/2101808/eri"}, "reply_to_user": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543447838, "post_id": 53529645, "comment_id": 93927890, "body": "but needed sometimes. for example for hand-made daemons."}, {"owner": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543447956, "post_id": 53529645, "comment_id": 93927927, "body": "But only sometimes. For the general use case, use <code>virtualenv</code> or <code>--user</code>."}, {"owner": {"reputation": 2479, "user_id": 2101808, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eac6c5555d5e72e2b4f2f2253e4579e2?s=128&d=identicon&r=PG", "display_name": "eri", "link": "https://stackoverflow.com/users/2101808/eri"}, "reply_to_user": {"reputation": 13049, "user_id": 10611983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/379cd29e7f3b043f4e563fed697dcf75?s=128&d=identicon&r=PG&f=1", "display_name": "iz_", "link": "https://stackoverflow.com/users/10611983/iz"}, "edited": false, "score": 0, "creation_date": 1543448400, "post_id": 53529645, "comment_id": 93928071, "body": "I using <code>--user</code>. Just another way is setting <code>PYTHONPATH</code>."}], "tags": [], "owner": {"reputation": 2479, "user_id": 2101808, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/eac6c5555d5e72e2b4f2f2253e4579e2?s=128&d=identicon&r=PG", "display_name": "eri", "link": "https://stackoverflow.com/users/2101808/eri"}, "is_accepted": false, "score": 0, "last_activity_date": 1543447623, "creation_date": 1543447623, "answer_id": 53529645, "question_id": 53529630, "link": "https://stackoverflow.com/questions/53529630/pip-not-installing-packages-without-user-on-my-own-laptop/53529645#53529645", "title": "Pip not installing packages without --user on my own laptop", "body": "<p>Use <code>sudo</code> or <code>su</code> to install packages system-wide.</p>\n"}], "owner": {"reputation": 283, "user_id": 3477763, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/46ed8131f241987f80042da8e442f4f5?s=128&d=identicon&r=PG&f=1", "display_name": "complextea", "link": "https://stackoverflow.com/users/3477763/complextea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543447623, "creation_date": 1543447525, "question_id": 53529630, "link": "https://stackoverflow.com/questions/53529630/pip-not-installing-packages-without-user-on-my-own-laptop", "title": "Pip not installing packages without --user on my own laptop", "body": "<p>Recently I messed up my steady environment by installing multiple versions of python. </p>\n\n<p>What I'm trying to do: install a particular package using pip</p>\n\n<p>pip cannot install any package without the --user tag</p>\n\n<pre><code>Could not install packages due to an EnvironmentError: [Errno 13 Permission denied: '/Library/Python/2.7/site-packages/PIL\n</code></pre>\n\n<p>Here's More information:</p>\n\n<pre><code>which pip\n/usr/local/bin/pip\n\nwhich python\n/usr/bin/python\n</code></pre>\n\n<p>What should I do?</p>\n"}, {"tags": ["python", "youtube-data-api", "live-streaming"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10668177, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YW9aSlJATbo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-itXwtaW5yIrwEdf4ubtjMVkCwm2g/mo/photo.jpg?sz=128", "display_name": "Younus Paperwala", "link": "https://stackoverflow.com/users/10668177/younus-paperwala"}, "edited": false, "score": 0, "creation_date": 1543484800, "post_id": 53530417, "comment_id": 93939644, "body": "Hello, Thanks for the response, i am going to execute this but before that i have one more query that this command also depends on the location where ffmpeg is installed, but i have installed it using pip instruction from command line so shall i worry about the location thing?"}, {"owner": {"reputation": 21, "user_id": 9226120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLAMO.jpg?s=128&g=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9226120/jeff"}, "reply_to_user": {"reputation": 11, "user_id": 10668177, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YW9aSlJATbo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-itXwtaW5yIrwEdf4ubtjMVkCwm2g/mo/photo.jpg?sz=128", "display_name": "Younus Paperwala", "link": "https://stackoverflow.com/users/10668177/younus-paperwala"}, "edited": false, "score": 0, "creation_date": 1543594887, "post_id": 53530417, "comment_id": 93988191, "body": "Can you share your command which produces the error below?  Reading from file preferred.  It says deprecated pixel format.  Can you double check &quot;-pix_fmt&quot;, &quot;yuv420p&quot;."}], "tags": [], "owner": {"reputation": 21, "user_id": 9226120, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lLAMO.jpg?s=128&g=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9226120/jeff"}, "is_accepted": false, "score": 0, "last_activity_date": 1543453731, "creation_date": 1543453731, "answer_id": 53530417, "question_id": 53529627, "link": "https://stackoverflow.com/questions/53529627/live-streaming-with-ffmpeg/53530417#53530417", "title": "Live streaming with FFmpeg", "body": "<p>You can try wrapping your entire ffmpeg command into a single subprocess.call, separating the arguments into a list.</p>\n\n<p>This (slightly modified) command is working for me streaming a clip to my facebook page:</p>\n\n<pre><code>subprocess.call([\"ffmpeg\", \"-ac\", \"2\", \"-i\", \"/home/ubuntu/clip.mp4\", \"-r\", \"10\", \"-i\", \"/home/ubuntu/clip.mp4\", \"-c:v\", \"libx264\", \"-pix_fmt\", \"yuv420p\", \"-preset\", \"ultrafast\", \"-g\", \"20\", \"-b:v\", \"2500k\", \"-c:a\", \"aac\", \"-ar\", \"44100\", \"-threads\", \"0\", \"-bufsize\", \"512k\", \"-f\", \"flv\", \"rtmp://rtmp-api-dev.facebook.com:80/rtmp/10156686554299774?&lt;my stream key&gt;\"])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10668177, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YW9aSlJATbo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-itXwtaW5yIrwEdf4ubtjMVkCwm2g/mo/photo.jpg?sz=128", "display_name": "Younus Paperwala", "link": "https://stackoverflow.com/users/10668177/younus-paperwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1677, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554056862, "creation_date": 1543447515, "last_edit_date": 1554056862, "question_id": 53529627, "link": "https://stackoverflow.com/questions/53529627/live-streaming-with-ffmpeg", "title": "Live streaming with FFmpeg", "body": "<p>How to use this code in python, please guide in detail i am completely new.</p>\n\n<pre><code>ffmpeg \\\n-f alsa -ac 2 -i hw:1,0 \\\n-f v4l2 -r 10 -i /dev/video0 \\\n-c:v libx264 -pix_fmt yuv420p -preset ultrafast -g 20 -b:v 2500k \\\n-c:a aac -ar 44100 \\\n-threads 0 -bufsize 512k \\\n-f flv rtmp://a.rtmp.youtube.com/live2/YOURSTREAM &amp;&gt; stream.log\n</code></pre>\n\n<p>i tried writing it in pycharm</p>\n\n<ol>\n<li><p>when i just pasted in the editor it gave me error as usual</p></li>\n<li><p>Then i tried it writing in os.system() and subprocess.call() like this</p></li>\n</ol>\n\n<h1>os.system</h1>\n\n<pre><code>os.system(ffmpeg \\)\nos.system(-f alsa -ac 2 -i hw:1,0 \\)\nos.system(-f v4l2 -r 10 -i /dev/video0 \\)\nos.system(-c:v libx264 -pix_fmt yuv420p -preset ultrafast -g 20 -b:v 2500k\\)\nos.system(-c:a aac -ar 44100 \\)\nos.system(-threads 0 -bufsize 512k \\)\nos.system(-f flv rtmp://a.rtmp.youtube.com/live2/YOURSTREAM &amp;&gt; stream.log)\n</code></pre>\n\n<h1>subprocess.call()</h1>\n\n<pre><code>subprocess.call(ffmpeg \\)\nsubprocess.call(-f alsa -ac 2 -i hw:1,0 \\)\nsubprocess.call(-f v4l2 -r 10 -i /dev/video0 \\)\nsubprocess.call(-c:v libx264 -pix_fmt yuv420p -preset ultrafast -g 20 -b:v 2500k\\)\nsubprocess.call(-c:a aac -ar 44100 \\)\nsubprocess.call(-threads 0 -bufsize 512k \\)\nsubprocess.call(-f flv rtmp://a.rtmp.youtube.com/live2/YOURSTREAM &amp;&gt; stream.log)\n</code></pre>\n\n<p>both time it gave me errors like </p>\n\n<pre><code>'-i' is not recognized as an internal or external command,\noperable program or batch file.\n'-vcodec' is not recognized as an internal or external command,\noperable program or batch file.\n'-acodec' is not recognized as an internal or external command,\noperable program or batch file.\n'-f' is not recognized as an internal or external command,\noperable program or batch file.\n</code></pre>\n\n<p>Please guide me and if there is any other way to upload a video to youtube live stream through python please let me know</p>\n"}, {"tags": ["python", "tensorflow", "machine-learning", "keras"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "edited": false, "score": 0, "creation_date": 1543518751, "post_id": 53532509, "comment_id": 93958611, "body": "Nope, when I change input shape to (4,) it give me the error                                                 &quot;ValueError: Error when checking target: expected dense_2 to have shape (None, 1) but got array with shape (120, 3)&quot;                                                                                             Which is what confuses my, it says that the array shape has changed"}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "edited": false, "score": 0, "creation_date": 1543518845, "post_id": 53532509, "comment_id": 93958654, "body": "You changed your last Dense layer. In the question, it&#39;s <code>Dense(3...</code>, now you&#39;re using <code>Dense(1....</code> or another layer with size 1."}, {"owner": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "edited": false, "score": 0, "creation_date": 1543518940, "post_id": 53532509, "comment_id": 93958693, "body": "model.add(tf.keras.layers.Dense(4, input_shape=(4,), activation= &#39;relu&#39;)) This is my line of code... hmmmmm"}, {"owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "reply_to_user": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "edited": false, "score": 0, "creation_date": 1543519012, "post_id": 53532509, "comment_id": 93958732, "body": "&quot;Target&quot; is the output, not the input."}, {"owner": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "edited": false, "score": 0, "creation_date": 1543519261, "post_id": 53532509, "comment_id": 93958849, "body": "Ohhhh... This is related to the output, the configuration of the input is fine now. Ok, i think i can get this now"}], "tags": [], "owner": {"reputation": 73682, "user_id": 2097240, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JskU5.jpg?s=128&g=1", "display_name": "Daniel M&#246;ller", "link": "https://stackoverflow.com/users/2097240/daniel-m%c3%b6ller"}, "is_accepted": true, "score": 0, "last_activity_date": 1543469868, "creation_date": 1543469868, "answer_id": 53532509, "question_id": 53529614, "link": "https://stackoverflow.com/questions/53529614/keras-cant-seem-to-configure-inputshape/53532509#53532509", "title": "Keras Cant Seem To Configure inputShape", "body": "<pre><code>input_shape=(4,)\n</code></pre>\n\n<p>Input shape doesn't care for the batch size, only for \"each\" sample size.</p>\n"}], "owner": {"reputation": 15, "user_id": 10300594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c177d1888c932500f8bd8c97991f44e?s=128&d=identicon&r=PG&f=1", "display_name": "tanndlin", "link": "https://stackoverflow.com/users/10300594/tanndlin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 53532509, "answer_count": 1, "score": 0, "last_activity_date": 1543469868, "creation_date": 1543447443, "question_id": 53529614, "link": "https://stackoverflow.com/questions/53529614/keras-cant-seem-to-configure-inputshape", "title": "Keras Cant Seem To Configure inputShape", "body": "<p>I'm trying to do the \"Hello World\" of Keras with Iris-Flowers and I cannot configure the input_shape. This is my error message:</p>\n\n<pre><code>\"ValueError: Error when checking input: expected dense_1_input to have 3 dimensions, but got array with shape (120, 4)\"\n</code></pre>\n\n<p>When I change my input_shape to the received input shape, it just changes what it says the received input is. As you know there are 4 inputs and one output with this data set. Does anyone know how I would configure my input_shape?</p>\n\n<p>Here's my code</p>\n\n<pre><code>import tensorflow as tf\n\ntext_file = open(\"iris.data.txt\")\nrawData = text_file.read().split('\\n')\ntext_file.close()\n\nfor x in range(0,150):\n    rawData[x] = rawData[x].split(',')\n\nxs_train = []\nys_train = []\nfor i in range (0,40):\n    ys_train.append(rawData[i][4])\n    xs_train.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\nfor i in range (50,90):\n    ys_train.append(rawData[i][4])\n    xs_train.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\nfor i in range (100,140):\n    ys_train.append(rawData[i][4])\n    xs_train.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\n\nxs_test = []\nys_test = []\nfor i in range (40,50):\n    ys_test.append(rawData[i][4])\n    xs_test.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\nfor i in range (90,100):\n    ys_test.append(rawData[i][4])\n    xs_test.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\nfor i in range (140,150):\n    ys_test.append(rawData[i][4])\n    xs_test.append([rawData[i][0], rawData[i][1], rawData[i][2], rawData[i][3]])\n\n# print(xs_train)   \n\nfor i in range(0, len(ys_train)):\n    if ys_train[i] == \"Iris-setosa\":\n        ys_train[i] = [1,0,0]\n    if ys_train[i] == \"Iris-versicolor\":\n        ys_train[i] = [0,1,0]\n    if ys_train[i] == \"Iris-virginica\":\n        ys_train[i] = [0,0,1]\n\n# print(ys_train)\n\n\nmodel = tf.keras.models.Sequential()\nmodel.add(tf.keras.layers.Dense(4, input_shape=(1,4), activation= 'relu'))\nmodel.add(tf.keras.layers.Dense(3, activation=tf.nn.softmax))\nmodel.compile(optimizer='adam',\n              loss='sparse_categorical_crossentropy',\n              metrics=['accuracy'])\nmodel.fit(xs_train, ys_train, epochs=3)\n</code></pre>\n\n<p>My inputs are formatted so that each array is a dataset, each set including 4 \ndata points, it goes as so:</p>\n\n<pre><code>[['5.1', '3.5', '1.4', '0.2'],\n ['4.9', '3.0', '1.4', '0.2'],\n ['4.7', '3.2', '1.3', '0.2']...]\n</code></pre>\n"}, {"tags": ["python", "class", "methods"], "comments": [{"owner": {"reputation": 97, "user_id": 10547193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb2b46a4c9dc8e67595e5939790f3b3c?s=128&d=identicon&r=PG", "display_name": "sebach1", "link": "https://stackoverflow.com/users/10547193/sebach1"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1543447901, "post_id": 53529612, "comment_id": 93927910, "body": "I dont want to call a function as a method of the class object, the function I wanna make is outside that."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 10547193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb2b46a4c9dc8e67595e5939790f3b3c?s=128&d=identicon&r=PG", "display_name": "sebach1", "link": "https://stackoverflow.com/users/10547193/sebach1"}, "edited": false, "score": 0, "creation_date": 1543448254, "post_id": 53529673, "comment_id": 93928021, "body": "Excellent. Thanks u! (ps: its a very particular case, ive to handle with too large named methods (i didnt built that) and ive to call a function which uses these methods too much time. Thanks u)"}], "tags": [], "owner": {"reputation": 4745, "user_id": 4289380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73c4c5f526ed9027b3ee1d0f0ddad3e4?s=128&d=identicon&r=PG&f=1", "display_name": "Corentin Limier", "link": "https://stackoverflow.com/users/4289380/corentin-limier"}, "is_accepted": true, "score": 4, "last_activity_date": 1543448112, "last_edit_date": 1543448112, "creation_date": 1543447772, "answer_id": 53529673, "question_id": 53529612, "link": "https://stackoverflow.com/questions/53529612/pass-method-as-a-parameter-on-python/53529673#53529673", "title": "Pass method as a parameter on python", "body": "<p>Uses getattr if you want to get the method from a string parameter.</p>\n\n<pre><code>class A:\n    def foo(self):\n        print(\"foo\")\n\ndef access_to(c, method=\"foo\"):\n     return getattr(c, method)\n\na = A()\nb = 5\naccess_to(a)()\naccess_to(b)()\n</code></pre>\n\n<p>It prints foo for a, then it raises error for b</p>\n\n<p>I have to say that I recommend not to abuse this type of functions unless you have to for some specific reasons.</p>\n"}, {"tags": [], "owner": {"reputation": 3394, "user_id": 10708483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puvWi.jpg?s=128&g=1", "display_name": "tdurnford", "link": "https://stackoverflow.com/users/10708483/tdurnford"}, "is_accepted": false, "score": 0, "last_activity_date": 1543454154, "creation_date": 1543454154, "answer_id": 53530473, "question_id": 53529612, "link": "https://stackoverflow.com/questions/53529612/pass-method-as-a-parameter-on-python/53530473#53530473", "title": "Pass method as a parameter on python", "body": "<p>You certainly can pass a method as a parameter to a function in Python. In my example below, I created a class (<code>MyClass</code>) which has two methods: <code>isOdd</code> and <code>filterArray</code>. I also created an <code>isEven</code> function outside of <code>MyClass</code>. The <code>filterArray</code>\ntakes two parameters - an array and a function that returns <code>True</code> or <code>False</code> - and uses the method passed as a parameter to filter the array.</p>\n\n<p>Additionally, you can pass lambda functions as parameter, which is like creating a function on the fly without having to write a function declaration. </p>\n\n<pre><code>def isEven(num):\n    return num % 2 == 0\n\nclass MyClass:\n\n    def isOdd(self, num):\n        return not isEven(num)\n\n    def filterArray(self, arr, method):\n        return [item for item in arr if method(item)]\n\nmyArr = list(range(10))  # [0, 1, 2, ... 9]\n\nmyClass = MyClass()\n\nprint(myClass.filterArray(myArr, isEven))\nprint(myClass.filterArray(myArr, myClass.isOdd))\nprint(myClass.filterArray(myArr, lambda x: x % 3 == 0))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0, 2, 4, 6, 8]\n[1, 3, 5, 7, 9]\n[0, 3, 6, 9]\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 10547193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb2b46a4c9dc8e67595e5939790f3b3c?s=128&d=identicon&r=PG", "display_name": "sebach1", "link": "https://stackoverflow.com/users/10547193/sebach1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 53529673, "answer_count": 2, "score": 0, "last_activity_date": 1543454154, "creation_date": 1543447426, "question_id": 53529612, "link": "https://stackoverflow.com/questions/53529612/pass-method-as-a-parameter-on-python", "title": "Pass method as a parameter on python", "body": "<p>Can I pass a method as a parameter on python? \nI want to do things like, for example, if anything is an instance of an object w/has foo method:</p>\n\n<p><code>def access_to(class=anything, method=\"foo\"):\n     return class.method</code></p>\n\n<p>(Note is obvious that Anything instance doesn't have the attribute 'method', and Ill get an AttributeError).</p>\n"}, {"tags": ["python", "json", "ajax", "python-3.x", "flask"], "comments": [{"owner": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "edited": false, "score": 0, "creation_date": 1543462497, "post_id": 53529610, "comment_id": 93931001, "body": "Share the code of <code>upT</code>. Send <code>JSON.stringify(tData)</code> rather than parsing it."}, {"owner": {"reputation": 558, "user_id": 10624521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfA2w.png?s=128&g=1", "display_name": "LoopingDev", "link": "https://stackoverflow.com/users/10624521/loopingdev"}, "reply_to_user": {"reputation": 9518, "user_id": 3129414, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/0k8zH.png?s=128&g=1", "display_name": "arsho", "link": "https://stackoverflow.com/users/3129414/arsho"}, "edited": false, "score": 0, "creation_date": 1543473544, "post_id": 53529610, "comment_id": 93934080, "body": "done , i&#39;ve updated the post"}], "answers": [{"tags": [], "owner": {"reputation": 558, "user_id": 10624521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfA2w.png?s=128&g=1", "display_name": "LoopingDev", "link": "https://stackoverflow.com/users/10624521/loopingdev"}, "is_accepted": false, "score": 0, "last_activity_date": 1543515338, "creation_date": 1543515338, "answer_id": 53545227, "question_id": 53529610, "link": "https://stackoverflow.com/questions/53529610/sending-ajax-from-java-script-to-flask/53545227#53545227", "title": "Sending Ajax from java script to flask", "body": "<pre><code>import json\n\njS = request.form.get(\"jsonData\")\njD = json.loads(jS)\n</code></pre>\n\n<p>that fixed it for me .. toke over 24h of my life to figure that out </p>\n"}], "owner": {"reputation": 558, "user_id": 10624521, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tfA2w.png?s=128&g=1", "display_name": "LoopingDev", "link": "https://stackoverflow.com/users/10624521/loopingdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1543515338, "creation_date": 1543447421, "last_edit_date": 1543515119, "question_id": 53529610, "link": "https://stackoverflow.com/questions/53529610/sending-ajax-from-java-script-to-flask", "title": "Sending Ajax from java script to flask", "body": "<p>I've a big form of data of a table that i've turned into JSON object in Javascript but whenever i sent it to python its always imported as a large string object no matter what i do </p>\n\n<p>jS data :</p>\n\n<p>on top of the page</p>\n\n<pre><code>const ajaxRequest = new XMLHttpRequest();\najaxRequest.open('post' , \"/addToTable\");\najaxRequest.onload = ()=&gt;{\nvar parseRespons = JSON.parse(ajaxRequest.responseText);\n</code></pre>\n\n<p>at the bottom:</p>\n\n<pre><code> const newJson = JSON.parse(jsonData);\n console.log(newJson[0]); // return a json object with the right formate\n const selectedTypeData = document.querySelector(\"#upType\").value;\n\nconst fd = new FormData();\n\nfd.append('selectedTypeData',selectedTypeData);\nfd.append('newJson',newJson);\n\n\najaxRequest.send(fd);\nreturn false;\n</code></pre>\n\n<p>on python :</p>\n\n<p>here are the methods i have tried </p>\n\n<pre><code>@app.route('/addToTable',methods=['POST'])\ndef addToTable():\nprint(\"active\")\njD = requests.json(\"newJson\") # print(jD[0]) ---&gt; [object Object],[object Object],[object Object]\n\ndata = request.get_json() # print(jD) ---&gt; None \n#jDD = request.form.get(\"jsonData\") # print(jD[0]) ---&gt; [\n#jD_ = jsonify(jD)  # print(jD) ---&gt; &lt;Response 3219 bytes [200 OK]&gt;\n#jD = json.loads(response.text) #print(jD) ---&gt;  None\n</code></pre>\n\n<p>I don't know which method to import it to python as a JSON object.</p>\n"}, {"tags": ["python", "pandas", "url"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543447720, "post_id": 53529601, "comment_id": 93927854, "body": "Do you consistently get this error, or does it work when you re-run the code? I was able to read the URL without issue"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 5055444, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d13439d0d096a23c502ae620857ad661?s=128&d=identicon&r=PG&f=1", "display_name": "knifer", "link": "https://stackoverflow.com/users/5055444/knifer"}, "is_accepted": false, "score": 0, "last_activity_date": 1543449204, "last_edit_date": 1543449204, "creation_date": 1543447658, "answer_id": 53529654, "question_id": 53529601, "link": "https://stackoverflow.com/questions/53529601/impossible-to-load-url-in-pandas/53529654#53529654", "title": "Impossible to load url in pandas", "body": "<p>At first you should make a request to get data and then you can read it.\nThe following code may be helpfull.</p>\n\n<pre><code>import pandas as pd\nimport io\nimport requests\nurl=\"https://archive.ics.uci.edu/ml/machine-learning-databases/flags/flag.data\"\ns=requests.get(url).content\nc=pd.read_csv(io.StringIO(s.decode('utf-8')))\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 10621151, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b4YELSTnFRM/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDt1Jw2tjcx5ITHyV_y2M3SOqer8Q/mo/photo.jpg?sz=128", "display_name": "FK IE", "link": "https://stackoverflow.com/users/10621151/fk-ie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543449204, "creation_date": 1543447331, "question_id": 53529601, "link": "https://stackoverflow.com/questions/53529601/impossible-to-load-url-in-pandas", "title": "Impossible to load url in pandas", "body": "<p>I have tried recently to load a url dataset by using a pandas \nfrom this here: <a href=\"https://archive.ics.uci.edu/ml/machine-learning-databases/flags/flag.data\" rel=\"nofollow noreferrer\">flag's dataset</a></p>\n\n<p>My code was:</p>\n\n<pre><code>enter code here\nImport pandas as pd\ndataset= pd.read_csv('https://archive.ics.uci.edu/ml/machine-learning-databases/flags/flag.data')\ndataset.head()\n</code></pre>\n\n<p>Everything should work normally but I have an error message. I have tried to understand as best I can could the message.. but I failed. Here the message:</p>\n\n<pre><code>TimeoutError: [WinError 10060] A connection attempt failed because the \nconnected party did not properly respond after a period of time, or \nestablished connection failed because connected host has failed to respond\n\nDuring handling of the above exception, another exception occurred:\n\nURLError                                  Traceback (most recent call last)\n&lt;ipython-input-16-13064d485dcd&gt; in &lt;module&gt;()\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "anaconda", "jupyter-notebook", "seaborn"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543451178, "post_id": 53529568, "comment_id": 93928683, "body": "The plot correctly plots the data. So if you are not satified with the data, you might want to share where it comes from and why you would expect it to be different."}, {"owner": {"reputation": 1, "user_id": 10719629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef497b32b0acfb9d2881efd568ca0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff_Flynn", "link": "https://stackoverflow.com/users/10719629/jeff-flynn"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543455551, "post_id": 53529568, "comment_id": 93929674, "body": "Thanks for the feedback! This is my first ever attempt at data analysis so this follow up question might be silly but I feel like I&#39;m missing a key link between the data I import into my notebook and how the graph labels each axis. I was expecting to see the monetary range of budgets from lowest to highest on the X axis and a range of movie runtimes from shortest to longest on the Y axis. I was basing my work on another person&#39;s notebook where they used the same dataset, but different columns from the CSV file. I just don&#39;t know why I&#39;m not getting the same labeling on the graph."}, {"owner": {"reputation": 1, "user_id": 10719629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef497b32b0acfb9d2881efd568ca0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff_Flynn", "link": "https://stackoverflow.com/users/10719629/jeff-flynn"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543455711, "post_id": 53529568, "comment_id": 93929699, "body": "They got the correct labels from their targeted data in the form of a decimal ranging from 0 -1.0 on the X axis and Years ranging from 1960 - 2015 on the Y axis. Using the same data set and the same code, I expected my axis labels and ranges to reflect the different data I was targeting and I don&#39;t know enough yet to know how to fix that or make sure the graph includes the right metrics on each axis. I&#39;ll post more screen shots and files if I can."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543456462, "post_id": 53529568, "comment_id": 93929852, "body": "You have the series index, which contains values like 260000000 and that is plotted on the x axis, because you use <code>x1=index_mean = p_mean.index</code> as first argument to <code>plot</code>. You have the series values, which are values like 116 and that is plotted on the y axis because you use <code>y1 = p_mean</code> as second argument to <code>plot</code>. In your series there are neither values between 0 and 1, nor dates like 2015. So if you want to see those values on your axes you would need to use a different dataset."}, {"owner": {"reputation": 1, "user_id": 10719629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef497b32b0acfb9d2881efd568ca0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff_Flynn", "link": "https://stackoverflow.com/users/10719629/jeff-flynn"}, "reply_to_user": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543456862, "post_id": 53529568, "comment_id": 93929924, "body": "I apologize, I believe I typed the wrong thing. The example I was using from someone else&#39;s JupNote was targeting data regarding Popularity and Year. I&#39;m targeting data regarding Budget and Movie runtime. I&#39;m trying to investigate if movie budget is correlated to movie runtime. I just uploaded another screenshot and the link to the original notebook I was pulling code from. I apologize if I&#39;m messing this up and explaining things terribly. :("}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543457419, "post_id": 53529568, "comment_id": 93930032, "body": "Yeah, so there might be a slight correlation as it looks as cheeper movies run around 110 minutes, while the really expensive ones mostly run above 120 minutes. For a detailed analysis you would probably want to make a fit through the data."}], "owner": {"reputation": 1, "user_id": 10719629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ef497b32b0acfb9d2881efd568ca0ac?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff_Flynn", "link": "https://stackoverflow.com/users/10719629/jeff-flynn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 412, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543456537, "creation_date": 1543447092, "last_edit_date": 1543456537, "question_id": 53529568, "link": "https://stackoverflow.com/questions/53529568/seaborn-matplotlib-graph-not-axis-not-displaying-correct-values", "title": "Seaborn/Matplotlib graph not axis not displaying correct values", "body": "<p>I'm working on a data analysis project for a class and I'm running up against an issue I can't really solve. When I run code against a dataset and use Seaborn/Matplotlib to print a graph in a Jupyter Notebook, the X,Y Axis don't show the correct values. The X axis should be a range of movie budgets but instead counts up in 25 number increments and the Y axis is supposed to be a range of years going from 1960 out to 2015, but instead that axis is just labeled 1 thru 5 going out. What am I missing so that the graph adds in the budget and year range that I need.</p>\n\n<p>Below is the code immediately before I print the graph. The code leading up to this is code that cleans and organizes the data.</p>\n\n<p><a href=\"https://i.stack.imgur.com/mKEvZ.jpg\" rel=\"nofollow noreferrer\">Screenshot from Jupyter Notebook of Seaborn code and graph with the issue</a>\n<a href=\"https://i.stack.imgur.com/O0s4S.jpg\" rel=\"nofollow noreferrer\">Code and graph teaching how to use Seaborn and matplotlib</a></p>\n\n<p><a href=\"https://github.com/onpillow/Udacity-DAND-Term1/blob/master/p2/Investigate_a_Dataset.ipynb\" rel=\"nofollow noreferrer\">GitHub repository with Jupyter Notebook: Investigate a Dataset</a></p>\n\n<pre><code># Compute the Mean for budget vs. runtime\np_mean = df.groupby('budget').mean()['runtime']\np_mean.tail()\n\nbudget\n260000000.0    116.\n280000000.0    141.0\n300000000.0    169.0\n380000000.0    136.0\n425000000.0    100.0\nName: runtime, dtype: float64\n\n# build the index location for x-axis\nindex_mean = p_mean.index\n\n#set style\nsns.set_style('whitegrid')\n#set x, y axis data\n#x1, y1 for mean data; x2, y2 for median data\nx1, y1 = index_mean, p_mean\n#set size\nplt.figure(figsize=(15, 8))\n#plot line chart for mean and median\nplt.plot(x1, y1, color = 'r', label = 'mean')\n#set title and labels\nplt.title('Budget vs. Movie Runtime')\nplt.xlabel('Budget')\nplt.ylabel('Runtime');\n#set legend\nplt.legend(loc='upper left')\nplt.show()\n</code></pre>\n"}, {"tags": ["python", "json", "python-3.x", "python-2.7", "raspberry-pi"], "owner": {"reputation": 175, "user_id": 10659929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/417c107877083e40720b4023d3f9945a?s=128&d=identicon&r=PG&f=1", "display_name": "isaiahoptics22", "link": "https://stackoverflow.com/users/10659929/isaiahoptics22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1543467128, "creation_date": 1543447083, "last_edit_date": 1543467128, "question_id": 53529567, "link": "https://stackoverflow.com/questions/53529567/arducam-valueerror-no-json-object-could-be-decoded", "title": "ArduCAM ValueError: No JSON object could be decoded", "body": "<p>I am working with an MT9J001_10MP ArduCam. I am unable to run the camera through the external trigger though. I am using the command:</p>\n\n<pre><code>*sudo python2.7 ./ArduCam_Ext_Trigger_Demo.py /home/pi/ArduCAM_USB_Camera_Shield/cpp_config/MT9J001_10MP.yml*. \n</code></pre>\n\n<p>This then returns the fact that a device has been found (this is good) but then later says </p>\n\n<blockquote>\n  <p><em>ValueError: No JSON object could be decoded</em> </p>\n</blockquote>\n\n<p>Does anyone have a solution as to why this is happening? P.S. if I try to run the exact line in python3 instead of python2.7 I get an error that says undefined symbol: Py_ZeroStruct</p>\n\n<p>Thank you in advance for your help</p>\n"}, {"tags": ["python", "pandas", "data-structures"], "answers": [{"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 1, "last_activity_date": 1543447552, "last_edit_date": 1592644375, "creation_date": 1543447057, "answer_id": 53529564, "question_id": 53529542, "link": "https://stackoverflow.com/questions/53529542/what-is-the-name-in-pandas-dataframe-columns/53529564#53529564", "title": "What is the &#39;name&#39; in pandas.DataFrame.columns?", "body": "<p>From the <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Index.html\" rel=\"nofollow noreferrer\">docs</a></p>\n<blockquote>\n<p>name : object</p>\n<p>Name to be stored in the index</p>\n</blockquote>\n<p>In your example, it's the name of the <code>pandas.Index</code> that is used as the column name.</p>\n<p>The name attribute becomes useful in some cases, for instance if you have a multiindex, you can refer to the level of the index by it's name:</p>\n<pre><code>&gt;&gt;&gt; df\nidx1  1  2  3 # &lt;- column header 1\nidx2  a  b  c # &lt;- column header 2\nvals  5  4  6\n\n&gt;&gt;&gt; df.columns\nMultiIndex(levels=[[1, 2, 3], ['a', 'b', 'c']],\n           labels=[[0, 1, 2], [0, 1, 2]],\n           names=['idx1', 'idx2'])\n\n&gt;&gt;&gt; df.columns.get_level_values('idx1')\nInt64Index([1, 2, 3], dtype='int64', name='idx1')\n&gt;&gt;&gt; df.columns.get_level_values('idx2')\nIndex(['a', 'b', 'c'], dtype='object', name='idx2')\n</code></pre>\n"}], "owner": {"reputation": 1427, "user_id": 665578, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9efc1191226b6eafb0d6893c07d70767?s=128&d=identicon&r=PG", "display_name": "westonplatter", "link": "https://stackoverflow.com/users/665578/westonplatter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 53529564, "answer_count": 1, "score": 0, "last_activity_date": 1583871014, "creation_date": 1543446962, "last_edit_date": 1543448334, "question_id": 53529542, "link": "https://stackoverflow.com/questions/53529542/what-is-the-name-in-pandas-dataframe-columns", "title": "What is the &#39;name&#39; in pandas.DataFrame.columns?", "body": "<p>When I execute a pivot on a pandas dataframe, </p>\n\n<pre><code>df = pd.DataFrame({'foo': ['one', 'one', 'one', 'two', 'two','two'],\n    'bar': ['A', 'B', 'C', 'A', 'B', 'C'],\n    'baz': [1, 2, 3, 4, 5, 6],\n    'zoo': ['x', 'y', 'z', 'q', 'w', 't']})\n\ndf.pivot(index='foo', columns='bar', values='baz')\n\n\n&gt;&gt;&gt; bar A   B   C\n    foo         \n    one 1   2   3\n    two 4   5   6\n</code></pre>\n\n<p>Which has these columns, </p>\n\n<pre><code>df.pivot(index='foo', columns='bar', values='baz').columns\n\n&gt;&gt;&gt; Index(['A', 'B', 'C'], dtype='object', name='bar')\n</code></pre>\n\n<p>My question is, what does <code>name=bar</code> part mean?</p>\n"}, {"tags": ["python", "docker"], "answers": [{"tags": [], "owner": {"reputation": 37029, "user_id": 358328, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/d56c3972b607b39dc840acef5fca07d0?s=128&d=identicon&r=PG", "display_name": "Uku Loskit", "link": "https://stackoverflow.com/users/358328/uku-loskit"}, "is_accepted": false, "score": 0, "last_activity_date": 1543447232, "creation_date": 1543447232, "answer_id": 53529588, "question_id": 53529526, "link": "https://stackoverflow.com/questions/53529526/docker-sdk-from-python-starting-a-container/53529588#53529588", "title": "docker SDK from python starting a container", "body": "<p><code>docker ps</code> only shows running containers, use <code>docker ps -a</code> to see all of them (including exited containers). Your container has exited, because it requires some environment variables to be set. You can see this from the exited container logs.</p>\n\n<pre><code>docker logs $(docker ps -n 1 -q)\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 5515032, "user_type": "registered", "profile_image": "https://graph.facebook.com/1026103257424618/picture?type=large", "display_name": "Peyo Peev", "link": "https://stackoverflow.com/users/5515032/peyo-peev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543447232, "creation_date": 1543446783, "question_id": 53529526, "link": "https://stackoverflow.com/questions/53529526/docker-sdk-from-python-starting-a-container", "title": "docker SDK from python starting a container", "body": "<p>I'm trying to execute the relevant docker command <code>docker-compose up -d</code> from python script, but can't find a way to do it.\nI'm using Docker SDK from python 2.0.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>import docker\nclient = docker.from_env()\n\nprint client.containers.list()\n\ncontainer = client.containers.run(\"mysql:latest\", detach=True)\n\ncontainer.start()\n\nprint client.containers.list()\n</code></pre>\n\n<p>and after that when i write in the terminal <code>docker ps</code> i get zero started containers.</p>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 24142, "user_id": 3955830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f57e29619783576502a620f47ad2e3b?s=128&d=identicon&r=PG", "display_name": "solarissmoke", "link": "https://stackoverflow.com/users/3955830/solarissmoke"}, "is_accepted": true, "score": 0, "last_activity_date": 1543460703, "creation_date": 1543460703, "answer_id": 53531242, "question_id": 53529463, "link": "https://stackoverflow.com/questions/53529463/with-statement-with-two-variables/53531242#53531242", "title": "With statement with two variables", "body": "<p>The <a href=\"https://docs.djangoproject.com/en/stable/ref/templates/builtins/#firstof\" rel=\"nofollow noreferrer\">documentation</a> for <code>firstof</code> explains how to do this:</p>\n\n<blockquote>\n  <p>You can use the syntax <code>{% firstof var1 var2 var3 as value %}</code> to store the output inside a variable.</p>\n</blockquote>\n\n<p>Which you can then use as:</p>\n\n<pre><code>{% with value as master_id %}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 53531242, "answer_count": 1, "score": 0, "last_activity_date": 1543460703, "creation_date": 1543446417, "question_id": 53529463, "link": "https://stackoverflow.com/questions/53529463/with-statement-with-two-variables", "title": "With statement with two variables", "body": "<p>How would I combine a <code>with</code> with a <code>firstof</code> in the django template? For example:</p>\n\n<pre><code>{% firstof item.item.master_id item.tracktitle.master_id %}\n{% with ^^ above as master_id %}\n</code></pre>\n"}, {"tags": ["python", "django", "apache2", "mod-wsgi"], "comments": [{"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1543470364, "post_id": 53529405, "comment_id": 93932956, "body": "You should not be installing system mod_wsgi package. Use <code>pip</code> method only. See correct way to configure existing Apache to use <code>pip</code> installed version in <a href=\"https://pypi.org/project/mod_wsgi/\" rel=\"nofollow noreferrer\">pypi.org/project/mod_wsgi</a> You also don&#39;t need uwsgi, that is something different again."}, {"owner": {"reputation": 4424, "user_id": 5452008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-305SHYPJuxE/AAAAAAAAAAI/AAAAAAAAABE/re8EZA9WuXs/photo.jpg?sz=128", "display_name": "S&#246;ren", "link": "https://stackoverflow.com/users/5452008/s%c3%b6ren"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1543522381, "post_id": 53529405, "comment_id": 93960281, "body": "So Apache is actually not needed? I find the documentations are not very clear."}, {"owner": {"reputation": 4424, "user_id": 5452008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-305SHYPJuxE/AAAAAAAAAAI/AAAAAAAAABE/re8EZA9WuXs/photo.jpg?sz=128", "display_name": "S&#246;ren", "link": "https://stackoverflow.com/users/5452008/s%c3%b6ren"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1543523375, "post_id": 53529405, "comment_id": 93960752, "body": "I can use it but the page looks pretty broken."}, {"owner": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1543532310, "post_id": 53529405, "comment_id": 93964304, "body": "You don&#39;t need <code>libapache2-mod-wsgi</code> but you still need the Apache package itself. If you have it running and have separate issue, create a new question."}, {"owner": {"reputation": 4424, "user_id": 5452008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-305SHYPJuxE/AAAAAAAAAAI/AAAAAAAAABE/re8EZA9WuXs/photo.jpg?sz=128", "display_name": "S&#246;ren", "link": "https://stackoverflow.com/users/5452008/s%c3%b6ren"}, "reply_to_user": {"reputation": 54548, "user_id": 128141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70dfb4afd84b106d0855184bf0ae4675?s=128&d=identicon&r=PG", "display_name": "Graham Dumpleton", "link": "https://stackoverflow.com/users/128141/graham-dumpleton"}, "edited": false, "score": 0, "creation_date": 1543536087, "post_id": 53529405, "comment_id": 93965261, "body": "I leave this question open though. It is still not answered. Running the wsgi stuff with apache is the first way mentioned in the django manual, so I am sure other people are running into this as well."}], "owner": {"reputation": 4424, "user_id": 5452008, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-305SHYPJuxE/AAAAAAAAAAI/AAAAAAAAABE/re8EZA9WuXs/photo.jpg?sz=128", "display_name": "S&#246;ren", "link": "https://stackoverflow.com/users/5452008/s%c3%b6ren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 778, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1543446632, "creation_date": 1543446099, "last_edit_date": 1543446632, "question_id": 53529405, "link": "https://stackoverflow.com/questions/53529405/run-wsgi-with-apache-and-django-in-anaconda-environment", "title": "Run wsgi with apache and django in anaconda environment", "body": "<p>I am trying to run a django application with wsgi_mod and apache2. But for some strange reason it cannot import django. </p>\n\n<pre><code># /etc/apache2/apache2.conf\nWSGIDaemonProcess django_apps python-home=/home/swacker/miniconda3/envs/django/\nWSGIProcessGroup django_apps\nWSGIScriptAlias /koala /var/www/production/Koala/Koala/wsgi.py process-group=django_apps\n\n&lt;Directory /var/www/production/Koala/&gt;\n        &lt;Files wsgi.py&gt;\n                Require all granted\n        &lt;/Files&gt;\n&lt;/Directory&gt;\n</code></pre>\n\n<p>The application sits in /var/www/production/Koala.\nMy conda enviromnent is installed in /home/user/miniconda3/envs/django.\nI installed wsgi inside the conda environment. </p>\n\n<p>I tried different things, but nothing worked. This is what I did to get wsgi running. </p>\n\n<pre><code>sudo apt-get install libapache2-mod-wsgi\npip install mod_wsgi\nconda install -c https://conda.binstar.org/travis uwsgi\n</code></pre>\n\n<p>It looks like wsgi is just not working with conda environments and I have to use virtualenv?? Wsgi works, I can render a test file just fine.</p>\n\n<p>Though, when I go to <code>localhost/koala</code> the <code>/var/log/apache2/error.log</code> shows:</p>\n\n<blockquote>\n  <p>from django.core.wsgi import get_wsgi_application\n   ImportError: No module named 'django'</p>\n</blockquote>\n\n<p>I searched a lot, but could not find an answer that addresses this properly.</p>\n"}, {"tags": ["python", "altair"], "comments": [{"owner": {"reputation": 69, "user_id": 5286439, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ffb197b428c3e68411abf5818ba0cc9e?s=128&d=identicon&r=PG&f=1", "display_name": "Guddi", "link": "https://stackoverflow.com/users/5286439/guddi"}, "edited": false, "score": 0, "creation_date": 1543446044, "post_id": 53529380, "comment_id": 93927474, "body": "@jakevdp - your feedback is appreciated. Thank you"}, {"owner": {"reputation": 69, "user_id": 5286439, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ffb197b428c3e68411abf5818ba0cc9e?s=128&d=identicon&r=PG&f=1", "display_name": "Guddi", "link": "https://stackoverflow.com/users/5286439/guddi"}, "edited": false, "score": 0, "creation_date": 1543446674, "post_id": 53529380, "comment_id": 93927626, "body": "@FlorianGD - your feedback is appreciated. Thank you"}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "edited": false, "score": 0, "creation_date": 1543459671, "post_id": 53529380, "comment_id": 93930455, "body": "Do you have the data in CSV or other easily readable format?"}, {"owner": {"reputation": 52229, "user_id": 2937831, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/56c4053438af8e8b90d6f53cbb7573be?s=128&d=identicon&r=PG", "display_name": "jakevdp", "link": "https://stackoverflow.com/users/2937831/jakevdp"}, "edited": false, "score": 0, "creation_date": 1543460725, "post_id": 53529380, "comment_id": 93930679, "body": "I can&#39;t test the idea, because I&#39;m not going to build a custom HTML parser to access your data, but from reading your code I suspect the issue is that you&#39;re including the color encoding in your line plot, so you end up with a bunch of lines containing a single point each."}], "answers": [{"tags": [], "owner": {"reputation": 1934, "user_id": 7404750, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E1lT7.jpg?s=128&g=1", "display_name": "FlorianGD", "link": "https://stackoverflow.com/users/7404750/floriangd"}, "is_accepted": true, "score": 1, "last_activity_date": 1543499041, "creation_date": 1543499041, "answer_id": 53540435, "question_id": 53529380, "link": "https://stackoverflow.com/questions/53529380/how-to-add-a-2nd-y-axis-on-a-grouped-bar-chart-using-altair-and-sort-the-bar-us/53540435#53540435", "title": "How to add a 2nd Y-axis on a grouped bar chart using Altair? and sort the bar using value of one of the column from the data", "body": "<p>The trouble is that, as far as I know, you cannot draw lines across charts. When creating a grouped bar chart, you have to facet across a column of your data. In effect, this produces several charts that are horizontally concatenated. So, for each chart you have only one point (for each color). If you want to have a line across years, you have to define your x axis to be years, and not facet it, and plot it separately. I would suggest vertical concatenation, to have the lines below the bars.</p>\n\n<p>Note that I have taken the data from your previous question (<a href=\"https://stackoverflow.com/questions/53517044/how-to-create-a-nested-grouped-bar-chart-using-altair-added-sample-data\">How to create a nested Grouped Bar Chart using Altair? - Added sample data</a>) because the way you provided it is not practical and I already had this one.</p>\n\n<h1></h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>import altair as alt\nimport pandas as pd\nfrom io import StringIO\n\nq13a = pd.read_table(StringIO(\"\"\"year   primary_type    Number_of_Incidents number_of_arrests   percent_arrest  rank\n2018    THEFT   57330   5503    9.6     1\n2018    BATTERY     44667   8886    19.89   2\n2018    CRIMINAL DAMAGE     24889   1498    6.02    3\n2018    ASSAULT     18229   2931    16.08   4\n2018    DECEPTIVE PRACTICE  15879   713     4.49    5\n2017    THEFT   64334   6459    10.04   1\n2017    BATTERY     49213   10060   20.44   2\n2017    CRIMINAL DAMAGE     29040   1747    6.02    3\n2017    ASSAULT     19298   3455    17.9    4\n2017    DECEPTIVE PRACTICE  18816   805     4.28    5\n2016    THEFT   61600   6518    10.58   1\n2016    BATTERY     50292   10328   20.54   2\n2016    CRIMINAL DAMAGE     31018   1668    5.38    3\n2016    ASSAULT     18738   3490    18.63   4\n2016    DECEPTIVE PRACTICE  18733   815     4.35    5\n2015    THEFT   57335   6771    11.81   1\n2015    BATTERY     48918   11558   23.63   2\n2015    CRIMINAL DAMAGE     28675   1835    6.4     3\n2015    NARCOTICS   23883   23875   99.97   4\n2015    OTHER OFFENSE   17552   4795    27.32   5\n2014    THEFT   61561   7415    12.04   1\n2014    BATTERY     49447   12517   25.31   2\n2014    NARCOTICS   29116   29000   99.6    3\n2014    CRIMINAL DAMAGE     27798   2095    7.54    4\n2014    OTHER OFFENSE   16979   4159    24.49   5\n2013    THEFT   71530   7727    10.8    1\n2013    BATTERY     54002   12927   23.94   2\n2013    NARCOTICS   34127   33819   99.1    3\n2013    CRIMINAL DAMAGE     30853   2107    6.83    4\n2013    OTHER OFFENSE   17993   3400    18.9    5\"\"\"))\n\nbar = alt.Chart(height=200, width=100).mark_bar().encode(\n    x=alt.X('primary_type:N',\n            axis=None,\n            title=None,\n            sort=alt.EncodingSortField(op='sum', field='rank')),\n    y=alt.Y('sum(Number_of_Incidents):Q',\n          title='Total Number of Incidents'),\n    color=alt.Color('primary_type:N')\n).facet(\n    column=alt.Column('year:O')\n).resolve_scale(\n    x='independent'\n)\n\nline = alt.Chart().mark_line(point=True, color='red').encode(\n    x=alt.X('year:O', axis=alt.Axis(labelAngle=0)),\n    y=alt.Y('percent_arrest:Q'),\n    color=alt.Color('primary_type:N', legend=None)\n).properties(height=80, width=680)\n\nalt.vconcat(bar, line, data=q13a).configure_view(stroke='transparent')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9f4dW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9f4dW.png\" alt=\"altair-grouped-bar-chart-line-chart-below\"></a></p>\n\n<p><sup>Created on 2018-11-29 by the <a href=\"https://github.com/crew102/reprexpy\" rel=\"nofollow noreferrer\">reprexpy package</a></sup></p>\n"}], "owner": {"reputation": 69, "user_id": 5286439, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ffb197b428c3e68411abf5818ba0cc9e?s=128&d=identicon&r=PG&f=1", "display_name": "Guddi", "link": "https://stackoverflow.com/users/5286439/guddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1420, "favorite_count": 1, "accepted_answer_id": 53540435, "answer_count": 1, "score": 0, "last_activity_date": 1543499041, "creation_date": 1543445940, "question_id": 53529380, "link": "https://stackoverflow.com/questions/53529380/how-to-add-a-2nd-y-axis-on-a-grouped-bar-chart-using-altair-and-sort-the-bar-us", "title": "How to add a 2nd Y-axis on a grouped bar chart using Altair? and sort the bar using value of one of the column from the data", "body": "<p>I'm trying to add a 3rd axis or 2nd Y-axis to the group chart. I'm not sure if it is possible. \nIdeally, I want to -\n1) add a line to this chart, which represents the \"percentage of Arrest\" made for the given year and a crime type.\n2) sort the bars with each group using a value of column \"rank\" from the data.</p>\n\n<p>Here is my code and the current visualization. Your valuable feedback is much appreciated. Thank you.</p>\n\n<pre><code>import altair as alt\n\nbase = alt.Chart().encode(\n    x=alt.X('primary_type',scale=alt.Scale(rangeStep=12),title=None,sort=alt.EncodingSortField(op='sum', field='rank')),\n    color=alt.Color('primary_type:N')\n    )\n\nbar = base.mark_bar().encode(\nalt.Y('sum(Number_of_Incidents):Q',title='Total Number of Incidents')\n)\nline =  base.mark_line(color='red').encode(\nalt.Y('percent_arrest',\n    axis=alt.Axis(title=None))\n)\n\ncombined = alt.layer(bar, line, data=q13a)\n\ncombined.facet(\ncolumn=alt.Column('year')\n  ).resolve_scale(x='independent'\n).configure_view(\nstroke='transparent'\n)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rVEx8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rVEx8.png\" alt=\"enter image description here\"></a></p>\n\n<p>Sample Data - </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table class=\"table table-bordered table-hover table-condensed\"&gt;\r\n&lt;thead&gt;&lt;tr&gt;&lt;th title=\"Field #1\"&gt;year&lt;/th&gt;\r\n&lt;th title=\"Field #2\"&gt;primary_type&lt;/th&gt;\r\n&lt;th title=\"Field #3\"&gt;Number_of_Incidents&lt;/th&gt;\r\n&lt;th title=\"Field #4\"&gt;number_of_arrests&lt;/th&gt;\r\n&lt;th title=\"Field #5\"&gt;percent_arrest&lt;/th&gt;\r\n&lt;th title=\"Field #6\"&gt;rank&lt;/th&gt;\r\n&lt;/tr&gt;&lt;/thead&gt;\r\n&lt;tbody&gt;&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2018&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;57330&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5503&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;9.6&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2018&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;44667&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;8886&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;19.89&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2018&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;24889&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1498&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.02&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2018&lt;/td&gt;\r\n&lt;td&gt;ASSAULT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18229&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2931&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;16.08&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2018&lt;/td&gt;\r\n&lt;td&gt;DECEPTIVE PRACTICE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;15879&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;713&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4.49&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2017&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;64334&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6459&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.04&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2017&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;49213&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10060&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20.44&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2017&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;29040&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1747&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.02&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2017&lt;/td&gt;\r\n&lt;td&gt;ASSAULT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;19298&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3455&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;17.9&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2017&lt;/td&gt;\r\n&lt;td&gt;DECEPTIVE PRACTICE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18816&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;805&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4.28&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2016&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;61600&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6518&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.58&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2016&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;50292&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10328&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20.54&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2016&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;31018&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1668&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5.38&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2016&lt;/td&gt;\r\n&lt;td&gt;ASSAULT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18738&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3490&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18.63&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2016&lt;/td&gt;\r\n&lt;td&gt;DECEPTIVE PRACTICE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18733&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;815&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4.35&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2015&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;57335&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6771&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11.81&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2015&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;48918&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11558&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.63&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2015&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;28675&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1835&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.4&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2015&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23883&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23875&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.97&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2015&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;17552&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4795&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;27.32&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2014&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;61561&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7415&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12.04&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2014&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;49447&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12517&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;25.31&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2014&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;29116&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;29000&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.6&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2014&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;27798&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2095&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.54&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2014&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;16979&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4159&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;24.49&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2013&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;71530&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7727&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.8&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2013&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;54002&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12927&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.94&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2013&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;34127&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;33819&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.1&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2013&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;30853&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2107&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.83&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2013&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;17993&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3400&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18.9&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2012&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;75460&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;8249&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.93&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2012&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;59135&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13061&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;22.09&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2012&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;35854&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2462&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.87&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2012&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;35488&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;35226&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.26&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2012&lt;/td&gt;\r\n&lt;td&gt;BURGLARY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;22843&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1285&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5.63&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2011&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;75148&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;8468&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11.27&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2011&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;60458&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;14139&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.39&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2011&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;38605&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;38544&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.84&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2011&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;37332&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2583&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.92&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2011&lt;/td&gt;\r\n&lt;td&gt;BURGLARY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;26619&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1272&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4.78&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2010&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;76754&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7844&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.22&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2010&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;65403&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;14277&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;21.83&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2010&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;43393&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;43294&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.77&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2010&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;40653&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2641&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.5&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2010&lt;/td&gt;\r\n&lt;td&gt;BURGLARY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;26422&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1382&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5.23&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2009&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;80973&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;9900&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12.23&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2009&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;68462&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;16325&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.85&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2009&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;47724&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3270&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.85&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2009&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;43543&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;43193&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.2&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2009&lt;/td&gt;\r\n&lt;td&gt;BURGLARY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;26766&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1412&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5.28&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2008&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;88433&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;9291&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10.51&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2008&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;75922&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;15520&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20.44&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2008&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;52841&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3403&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;6.44&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2008&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;46507&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;45459&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;97.75&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2008&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;26533&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3496&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13.18&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2007&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;85156&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;9783&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11.49&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2007&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;79591&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;19386&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;24.36&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2007&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;54454&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;53251&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;97.79&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2007&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;53749&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3994&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.43&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2007&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;26863&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4230&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;15.75&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2006&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;86240&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;10108&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11.72&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2006&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;80666&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18892&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.42&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2006&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;57124&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4135&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.24&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2006&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;55813&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;55236&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;98.97&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2006&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;27100&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4010&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;14.8&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2005&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;85685&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;11338&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13.23&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2005&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;83965&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;19994&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.81&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2005&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;56234&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;56121&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.8&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2005&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;54548&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4083&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.49&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2005&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;28028&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4726&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;16.86&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2004&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;95463&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12068&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12.64&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2004&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;87136&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20718&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.78&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2004&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;57060&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;57034&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.95&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2004&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;53164&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3965&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.46&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2004&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;29532&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5386&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18.24&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2003&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;98875&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;12889&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13.04&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2003&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;88378&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20459&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;23.15&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2003&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;55011&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4060&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.38&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2003&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;54288&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;54283&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.99&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2003&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;31147&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5856&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;18.8&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2002&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;98327&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13697&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;13.93&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2002&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;94153&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;21331&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;22.66&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2002&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;55940&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4403&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7.87&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2002&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;51789&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;51781&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.98&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2002&lt;/td&gt;\r\n&lt;td&gt;OTHER OFFENSE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;32599&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5701&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;17.49&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2001&lt;/td&gt;\r\n&lt;td&gt;THEFT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99264&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;15543&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;15.66&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;1&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2001&lt;/td&gt;\r\n&lt;td&gt;BATTERY&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;93447&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;20463&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;21.9&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;2&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2001&lt;/td&gt;\r\n&lt;td&gt;CRIMINAL DAMAGE&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;55851&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4548&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;8.14&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;3&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2001&lt;/td&gt;\r\n&lt;td&gt;NARCOTICS&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;50567&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;50559&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;99.98&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;4&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n&lt;td align=\"right\"&gt;2001&lt;/td&gt;\r\n&lt;td&gt;ASSAULT&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;31384&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;7150&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;22.78&lt;/td&gt;\r\n&lt;td align=\"right\"&gt;5&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;/tbody&gt;&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["python", "pandas", "sorting"], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 6065030, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Nz00_8Lmc0w/AAAAAAAAAAI/AAAAAAAAECw/SvdmblN97TA/photo.jpg?sz=128", "display_name": "Ravi M", "link": "https://stackoverflow.com/users/6065030/ravi-m"}, "edited": false, "score": 0, "creation_date": 1543449835, "post_id": 53529806, "comment_id": 93928412, "body": "Thanks a lot. <code>argsort</code> helped to reduce the time because of broadcasting. I didn&#39;t know before that a single array (<code>df.columns</code>) can be produced multiple times if I give an 2D index <code>np.argsort(-df.values, axis=1)</code>"}], "tags": [], "owner": {"reputation": 826, "user_id": 4267414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39869b9351200b0bea3133cdb77429cf?s=128&d=identicon&r=PG&f=1", "display_name": "Matthias Ossadnik", "link": "https://stackoverflow.com/users/4267414/matthias-ossadnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1543448724, "creation_date": 1543448724, "answer_id": 53529806, "question_id": 53529321, "link": "https://stackoverflow.com/questions/53529321/how-to-sort-each-row-of-pandas-dataframe-and-return-column-index-based-on-sorted/53529806#53529806", "title": "How to sort each row of pandas dataframe and return column index based on sorted values of row", "body": "<p>This is probably as fast as it gets with numpy:</p>\n\n<pre><code>def sort_df(df):\n    return pd.DataFrame(\n        data=df.columns.values[np.argsort(-df.values, axis=1)],\n        columns=['tag_{}'.format(i) for i in range(df.shape[1])]\n    )\n\nprint(sort_df(gapminder.head(3)))\n\n  tag_0 tag_1      tag_2    tag_3\n0   pop  year  gdpPercap  lifeExp\n1   pop  year  gdpPercap  lifeExp\n2   pop  year  gdpPercap  lifeExp\n</code></pre>\n\n<p>Explanation: <code>np.argsort</code> sorts the values along rows, but returns the indices that sort the array instead of sorted values, which can be used for co-sorting arrays. The minus sorts in descending order. In your case, you use the indices to sort the columns. numpy broadcasting takes care of returning the correct shape.</p>\n\n<p>Runtime is around 3ms for your example vs 2.5s with your function.</p>\n"}], "owner": {"reputation": 557, "user_id": 6065030, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Nz00_8Lmc0w/AAAAAAAAAAI/AAAAAAAAECw/SvdmblN97TA/photo.jpg?sz=128", "display_name": "Ravi M", "link": "https://stackoverflow.com/users/6065030/ravi-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1100, "favorite_count": 0, "accepted_answer_id": 53529806, "answer_count": 1, "score": 0, "last_activity_date": 1543448724, "creation_date": 1543445639, "question_id": 53529321, "link": "https://stackoverflow.com/questions/53529321/how-to-sort-each-row-of-pandas-dataframe-and-return-column-index-based-on-sorted", "title": "How to sort each row of pandas dataframe and return column index based on sorted values of row", "body": "<p>I am trying to sort each row of pandas dataframe and get the index of sorted values in a new dataframe. I could do it in a slow way. Can anyone suggest improvements using parallelization or vectorized code for this. I have posted an example below.</p>\n\n<p>data_url = '<a href=\"https://raw.githubusercontent.com/resbaz/r-novice-gapminder-files/master/data/gapminder-FiveYearData.csv\" rel=\"nofollow noreferrer\">https://raw.githubusercontent.com/resbaz/r-novice-gapminder-files/master/data/gapminder-FiveYearData.csv</a>'</p>\n\n<pre><code># read data from url as pandas dataframe\ngapminder = pd.read_csv(data_url)\n\n# drop categorical column\ngapminder.drop(['country', 'continent'], axis=1, inplace=True) \n\n# print the first three rows\nprint(gapminder.head(n=3))\n\n   year         pop  lifeExp   gdpPercap\n0  1952   8425333.0   28.801  779.445314\n1  1957   9240934.0   30.332  820.853030\n2  1962  10267083.0   31.997  853.100710\n</code></pre>\n\n<p>The result I am looking for is this</p>\n\n<pre><code>tag_0   tag_1   tag_2   tag_3\n0   pop year    gdpPercap   lifeExp\n1   pop year    gdpPercap   lifeExp\n2   pop year    gdpPercap   lifeExp\n</code></pre>\n\n<p>In this case, since <code>pop</code> is always higher than <code>gdpPercap</code> and <code>lifeExp</code>, it always comes first.</p>\n\n<p>I could achieve the required output by using the following code. But the computation takes longer time if the <code>df</code> has lot of rows/columns. </p>\n\n<p>Can anyone suggest an improvement over this</p>\n\n<pre><code>def sort_df(df):\n    sorted_tags = pd.DataFrame(index = df.index, columns = ['tag_{}'.format(i) for i in range(df.shape[1])])\n    for i in range(df.shape[0]):\n        sorted_tags.iloc[i,:] = list( df.iloc[i, :].sort_values(ascending=False).index)\n    return sorted_tags\n\nsort_df(gapminder)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "shelve"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 10591688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ca1d34593bc2739f2d7a777ee2e21?s=128&d=identicon&r=PG&f=1", "display_name": "DapperEmu", "link": "https://stackoverflow.com/users/10591688/dapperemu"}, "edited": false, "score": 0, "creation_date": 1543445921, "post_id": 53529296, "comment_id": 93927440, "body": "Do you know a way I can properly serialize classes with python?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 25, "user_id": 10591688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ca1d34593bc2739f2d7a777ee2e21?s=128&d=identicon&r=PG&f=1", "display_name": "DapperEmu", "link": "https://stackoverflow.com/users/10591688/dapperemu"}, "edited": false, "score": 0, "creation_date": 1543446017, "post_id": 53529296, "comment_id": 93927469, "body": "@DapperEmu: Nope, and it&#39;s a very hard problem in general. Ad-hoc solutions are unlikely to save a class&#39;s dependencies properly."}, {"owner": {"reputation": 25, "user_id": 10591688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ca1d34593bc2739f2d7a777ee2e21?s=128&d=identicon&r=PG&f=1", "display_name": "DapperEmu", "link": "https://stackoverflow.com/users/10591688/dapperemu"}, "edited": false, "score": 0, "creation_date": 1543446094, "post_id": 53529296, "comment_id": 93927487, "body": "I&#39;ll try something else, then. Thanks."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1543445514, "creation_date": 1543445514, "answer_id": 53529296, "question_id": 53529263, "link": "https://stackoverflow.com/questions/53529263/keyerror-and-atrributeerror-when-trying-to-retrieve-a-shelved-class-python-3-6/53529296#53529296", "title": "KeyError and AtrributeError when trying to retrieve a shelved class - Python 3.6", "body": "<p>You can't store classes by pickling and unpickling them like that. When <code>pickle</code> needs to pickle a class, it just records the class's module and name, not the contents. The pickle can only be unpickled in an environment where the same module has the same class defined.</p>\n"}], "owner": {"reputation": 25, "user_id": 10591688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/675ca1d34593bc2739f2d7a777ee2e21?s=128&d=identicon&r=PG&f=1", "display_name": "DapperEmu", "link": "https://stackoverflow.com/users/10591688/dapperemu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 53529296, "answer_count": 1, "score": 2, "last_activity_date": 1585176753, "creation_date": 1543445260, "question_id": 53529263, "link": "https://stackoverflow.com/questions/53529263/keyerror-and-atrributeerror-when-trying-to-retrieve-a-shelved-class-python-3-6", "title": "KeyError and AtrributeError when trying to retrieve a shelved class - Python 3.6", "body": "<p>When serializing a class in one program(with shelve), I cannot retrieve it without getting the follow error: </p>\n\n<pre><code> File \"\\Python36_64\\lib\\shelve.py\", line 111, in __getitem__\n    value = self.cache[key]\nKeyError: 'foo'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"program.py\", line 12, in &lt;module&gt;\n    bar = db['foo']\n  File \"\\Python36_64\\lib\\shelve.py\", line 114, in __getitem__\n    value = Unpickler(f).load()\nAttributeError: Can't get attribute 'bar' on &lt;module '__main__' (built-in)&gt;\n</code></pre>\n\n<p>This is my code initializing the shelf. It compiled:</p>\n\n<pre><code>import shelve \nclass bar:\n   x = {}\ndb = shelve.open('file.dat')\ndb['foo'] = bar\n</code></pre>\n\n<p>I've been trying to retrieve class bar in another program with the following code. This has not compiled properly.:</p>\n\n<pre><code>import shelve\ndb = shelve.open('file.dat')\nbar = db['foo']\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 9328988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae0bb790ca2c9e3e0518e170091f129?s=128&d=identicon&r=PG&f=1", "display_name": "annstudent93", "link": "https://stackoverflow.com/users/9328988/annstudent93"}, "edited": false, "score": 0, "creation_date": 1543500502, "post_id": 53529406, "comment_id": 93948683, "body": "that solves it thank you, I would be also glad for any advice to improve my skills to solve this kind of problems"}, {"owner": {"reputation": 121, "user_id": 9328988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae0bb790ca2c9e3e0518e170091f129?s=128&d=identicon&r=PG&f=1", "display_name": "annstudent93", "link": "https://stackoverflow.com/users/9328988/annstudent93"}, "edited": false, "score": 0, "creation_date": 1543506412, "post_id": 53529406, "comment_id": 93952294, "body": "dot is counting the same numbers, which command is looking for the differences (so for 101 and 102 the value in the cells would be 3) ?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 121, "user_id": 9328988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae0bb790ca2c9e3e0518e170091f129?s=128&d=identicon&r=PG&f=1", "display_name": "annstudent93", "link": "https://stackoverflow.com/users/9328988/annstudent93"}, "edited": false, "score": 0, "creation_date": 1543506590, "post_id": 53529406, "comment_id": 93952405, "body": "dot is matrix multiple @annstudent93 it will multiple each row of the matrix to each column"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1543446105, "creation_date": 1543446105, "answer_id": 53529406, "question_id": 53529239, "link": "https://stackoverflow.com/questions/53529239/compare-rows-among-each-other-of-same-values-in-the-columns-and-generate-a-matri/53529406#53529406", "title": "compare rows among each other of same values in the columns and generate a matrix", "body": "<p>You can check with <code>dot</code> </p>\n\n<pre><code>s=df.iloc[:,1:].values\ns.dot(s.T)\nOut[308]: \narray([[5, 2, 3],\n       [2, 2, 0],\n       [3, 0, 3]], dtype=int64)\n</code></pre>\n\n<hr>\n\n<p>Then we recreate the dataframe </p>\n\n<pre><code>newdf=pd.DataFrame(s.dot(s.T),index=df.object,columns=df.object)\nnewdf=newdf.astype(float)\nnewdf.values[[np.arange(len(newdf))]*2]=np.nan # mask the diagonal to nan\nnewdf\nOut[312]: \nobject  101  102  103\nobject               \n101     NaN  2.0  3.0\n102     2.0  NaN  0.0\n103     3.0  0.0  NaN\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 9328988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ae0bb790ca2c9e3e0518e170091f129?s=128&d=identicon&r=PG&f=1", "display_name": "annstudent93", "link": "https://stackoverflow.com/users/9328988/annstudent93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 53529406, "answer_count": 1, "score": 2, "last_activity_date": 1543446105, "creation_date": 1543445122, "question_id": 53529239, "link": "https://stackoverflow.com/questions/53529239/compare-rows-among-each-other-of-same-values-in-the-columns-and-generate-a-matri", "title": "compare rows among each other of same values in the columns and generate a matrix", "body": "<p>I have a dataframe like below and want to compare the rows among each others. Afterwards it should count how often two rows have in all the columns the value one. </p>\n\n<pre><code>object |A|B|C|D|E\n101     1 1 1 1 1\n102     1 0 1 0 0\n103     0 1 0 1 1\n</code></pre>\n\n<p>what I want to see (I put NaN since comparing the same row with itself does not make sense).  </p>\n\n<pre><code>   101 | 102 | 103\n101 NaN   2     3\n102 2   NaN     0\n103 3     0     NaN\n</code></pre>\n\n<p>Right now I only do that but that's making it only for the columns, and not rows:</p>\n\n<pre><code>data=pd.DataFrame()#dummy\nmatrix=data.T.dot(data.T)\n</code></pre>\n"}, {"tags": ["python", "performance"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 9, "creation_date": 1543445124, "post_id": 53529201, "comment_id": 93927222, "body": "<code>set</code>s are faster <i>after</i> you&#39;ve built them- take that out of your timing"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1543445179, "post_id": 53529201, "comment_id": 93927240, "body": "You are including the creation time, <code>set(range(10000000))</code> and <code>list(range(10000000))</code>, which is what dominates the timing, you need to isolate the membership testing to see what is really better"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 2, "creation_date": 1543445274, "post_id": 53529201, "comment_id": 93927264, "body": "if you&#39;re only doing a single membership test, building a <code>set</code> may not be the way forwards, but if you do many tests, you want to build a <code>set</code> first"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1543445304, "post_id": 53529201, "comment_id": 93927270, "body": "@Chris_Rands well in this case, membership testing for <code>range</code> is the fastest regardless!"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1543445338, "post_id": 53529201, "comment_id": 93927278, "body": "@juanpa.arrivillaga for this contrived example yes (in Python 3)"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1543445358, "post_id": 53529269, "comment_id": 93927287, "body": "searching is still O(N) for Python <i>lists</i>, sorted or not. The implementation of the <code>in</code> operator doesn&#39;t choose between binary search/linear search, it always does linear search"}, {"owner": {"reputation": 117, "user_id": 10719566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZxIBxbZaKdk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i3C2rPiEHbEHuz8HgA_p1e58YSFg/mo/photo.jpg?sz=128", "display_name": "senior_citizen_", "link": "https://stackoverflow.com/users/10719566/senior-citizen"}, "edited": false, "score": 0, "creation_date": 1543877547, "post_id": 53529269, "comment_id": 94068782, "body": "Thanks! I tried a slightly different code (because <code>timeit</code> doesn&#39;t accept anything outside the scope of it&#39;s arguments) and the results were of course drastically in favor of the set. I just don&#39;t like to take things as granted I guess. Going to read about hash tables now :)"}], "tags": [], "owner": {"reputation": 105, "user_id": 8285698, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154521951371333/picture?type=large", "display_name": "Evan", "link": "https://stackoverflow.com/users/8285698/evan"}, "is_accepted": true, "score": 5, "last_activity_date": 1543445295, "creation_date": 1543445295, "answer_id": 53529269, "question_id": 53529201, "link": "https://stackoverflow.com/questions/53529201/are-sets-really-faster-than-lists/53529269#53529269", "title": "Are sets really faster than lists?", "body": "<p>What you've been told is correct, searching in a set is O(1) since members are stored using a hash table.  Searching in an (unsorted) array is O(n).  </p>\n\n<p>The problem with your tests is that you're both creating the set/array and searching it in the same line.  In this case, you're both testing the speed of inserting all the items, and then searching for a single entry.</p>\n\n<p>Try something like this instead:</p>\n\n<pre><code>test_range = range(10000000)\ntest_set = set(test_range)\ntest_array = list(test_range)\n\ntimeit.timeit('10000 in test_set', number=10)\ntimeit.timeit('10000 in test_array', number=10)\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10719566, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ZxIBxbZaKdk/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i3C2rPiEHbEHuz8HgA_p1e58YSFg/mo/photo.jpg?sz=128", "display_name": "senior_citizen_", "link": "https://stackoverflow.com/users/10719566/senior-citizen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 1, "closed_date": 1543448868, "accepted_answer_id": 53529269, "answer_count": 1, "score": 2, "last_activity_date": 1543445295, "creation_date": 1543444902, "last_edit_date": 1543445167, "question_id": 53529201, "link": "https://stackoverflow.com/questions/53529201/are-sets-really-faster-than-lists", "closed_reason": "Duplicate", "title": "Are sets really faster than lists?", "body": "<p>I've been told that Python sets are faster then lists when it comes to membership testing.</p>\n\n<p>Despite that, <code>timeit</code> shows that for a large amount of values lists are actually faster. </p>\n\n<p>For smaller set with more repetitions the difference is smaller and even reversed, but still, no significant advantage to sets (and I guess performance issues are more important for very large sets of data, isn't it?)</p>\n\n<p>How can that data be explained?</p>\n\n<pre><code>&gt;&gt;&gt; import timeit\n&gt;&gt;&gt; # Few repetitions on a bigger set:\n&gt;&gt;&gt; timeit.timeit('10000 in set(range(10000000))', number=10)\n9.265543753999737\n&gt;&gt;&gt; timeit.timeit('10000 in list(range(10000000))', number=10)\n4.788996731000225\n&gt;&gt;&gt; # More repetitions on a smaller set:\n&gt;&gt;&gt; timeit.timeit('10000 in set(range(10000))', number=100000)\n32.068307194000226\n&gt;&gt;&gt; timeit.timeit('10000 in list(range(10000))', number=100000)\n32.45919990500079\n</code></pre>\n"}, {"tags": ["python", "user-interface", "tkinter", "tkinter-entry"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 3, "creation_date": 1543446606, "post_id": 53529193, "comment_id": 93927614, "body": "You need to fix the indentation in your examples."}, {"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1543457273, "post_id": 53529193, "comment_id": 93930010, "body": "We can&#39;t be sure until you show us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, but I&#39;ll bet that you are not deleting the contents, you are probably creating a new Entry widget and placing it on top of the old one, covering it up."}, {"owner": {"reputation": 1, "user_id": 10534638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KfR4cK7yv8U/AAAAAAAAAAI/AAAAAAAAPKQ/XhWBJI7tyqE/photo.jpg?sz=128", "display_name": "Slav King", "link": "https://stackoverflow.com/users/10534638/slav-king"}, "reply_to_user": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1543689773, "post_id": 53529193, "comment_id": 94012166, "body": "@Novel Thanks, it&#39;s fixed, you were right, the function was repeated multiple times, therefore covering it up"}], "owner": {"reputation": 1, "user_id": 10534638, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KfR4cK7yv8U/AAAAAAAAAAI/AAAAAAAAPKQ/XhWBJI7tyqE/photo.jpg?sz=128", "display_name": "Slav King", "link": "https://stackoverflow.com/users/10534638/slav-king"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543473962, "creation_date": 1543444841, "last_edit_date": 1543473962, "question_id": 53529193, "link": "https://stackoverflow.com/questions/53529193/tkinter-text-entry-text-deletes-itself-upon-pressing-a-button", "title": "tkinter text entry text deletes itself upon pressing a button", "body": "<p>So, I am having trouble with the Entry box in tkinter. Whenever I press the \"Submit\" button, the string inside the text entry boxes deletes. And I very well believe that this is the source of my problems with the output.</p>\n\n<p>The following code shows the entry boxes that are defined and used (the formatting may be a little off from the actual code):</p>\n\n<pre><code>def var_use():   \n    Label (window, text=\"Metric or Imperial Unit?:\", bg=\"white\", fg=\"black\", font=\"none 12 bold\") .grid(row=9, column=10, sticky=W)\n    textbox_measurement = Entry(window, width=20, bg=\"white\", fg=\"black\") \n    textbox_measurement.grid(row=10, column=10, sticky=W)\n    Label (window, text=\"Please enter your weight here:\", bg=\"white\", fg=\"black\", font=\"none 12 bold\") .grid(row=11, column=10, sticky=W)\n    textbox_weight = Entry(window, width=20, bg=\"white\", fg=\"black\") \n    textbox_weight.grid(row=12, column=10, sticky=W)\n    Label (window, text=\"Please as well, enter your height:\", bg=\"white\", fg=\"black\", font=\"none 12 bold\") .grid(row=13, column=10, sticky=W)\n    textbox_height = Entry(window, width=20, bg=\"white\", fg=\"black\") \n    textbox_height.grid(row=14, column=10, sticky=W)\n    return textbox_measurement\n    return textbox_weight\n    return textbox_height     #so i can call variables from this function\n    var_use()\n</code></pre>\n\n<p>The next lines I have just show a part of the submit button:</p>\n\n<pre><code>def click_submit():  \n    BMI_Calc()\n    BMI_output = BMI_Calc()\n    output.delete(0.0, END)\n    output.insert(END, str(BMI_output))\n</code></pre>\n\n<p>BMI_Calc I have tested and I know that it works. I need to get the BMI_output, but I can't, I'm pretty sure that it's because the text inside the text entry boxes is being deleted.</p>\n"}, {"tags": ["python", "reportlab"], "answers": [{"comments": [{"owner": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "edited": false, "score": 0, "creation_date": 1543465232, "post_id": 53531508, "comment_id": 93931564, "body": "And how to make it dynamic when it reaches end of pdf file to print on the next page?"}, {"owner": {"reputation": 154, "user_id": 2645281, "user_type": "registered", "profile_image": "https://graph.facebook.com/618470522/picture?type=large", "display_name": "Ryan Lee", "link": "https://stackoverflow.com/users/2645281/ryan-lee"}, "reply_to_user": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "edited": false, "score": 1, "creation_date": 1543474167, "post_id": 53531508, "comment_id": 93934316, "body": "It will be easier to use the doc templates for that purpose. E.g. <code>SimpleDocTemplate(buffer)</code>, then add the <code>Table</code> to the storyboard and build the document.  <code>elements = []</code> <code>elements.append(Table(data))</code> <code>doc.build(elements)</code>"}, {"owner": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "edited": false, "score": 0, "creation_date": 1543618750, "post_id": 53531508, "comment_id": 93997896, "body": "buffer = io.BytesIO()     p = canvas.Canvas(buffer)     doc = SimpleDocTemplate(p)     elements = []      elements.append(Table(data))     doc.build(elements)       p.showPage()     p.save()      buffer.seek(0)     return buffer"}, {"owner": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "edited": false, "score": 0, "creation_date": 1543618787, "post_id": 53531508, "comment_id": 93997906, "body": "Is it right to do that or their is any other method to do the table dynamic"}, {"owner": {"reputation": 154, "user_id": 2645281, "user_type": "registered", "profile_image": "https://graph.facebook.com/618470522/picture?type=large", "display_name": "Ryan Lee", "link": "https://stackoverflow.com/users/2645281/ryan-lee"}, "reply_to_user": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "edited": false, "score": 0, "creation_date": 1543802370, "post_id": 53531508, "comment_id": 94036415, "body": "You don&#39;t need <code>p.showPage()</code> and <code>p.save()</code> if you use <code>SimpleDocTemplate</code>. What did you get from buffer?"}], "tags": [], "owner": {"reputation": 154, "user_id": 2645281, "user_type": "registered", "profile_image": "https://graph.facebook.com/618470522/picture?type=large", "display_name": "Ryan Lee", "link": "https://stackoverflow.com/users/2645281/ryan-lee"}, "is_accepted": true, "score": 9, "last_activity_date": 1543462818, "creation_date": 1543462818, "answer_id": 53531508, "question_id": 53529173, "link": "https://stackoverflow.com/questions/53529173/how-to-draw-a-table-on-a-canvas-in-python-using-report-lab/53531508#53531508", "title": "How to draw a Table on a canvas in python using Report Lab", "body": "<p><code>Table</code> inherits <code>Flowable</code>, in which has a method called <code>drawOn</code>.</p>\n\n<pre><code>width = 400\nheight = 100\nx = 100\ny = 800\nf = Table(data)\nf.wrapOn(p, width, height)\nf.drawOn(p, x, y)\n</code></pre>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 137, "user_id": 9778350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b27f51014c6ee40096a9e6b98922f1c3?s=128&d=identicon&r=PG&f=1", "display_name": "Boutros", "link": "https://stackoverflow.com/users/9778350/boutros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6500, "favorite_count": 0, "accepted_answer_id": 53531508, "answer_count": 1, "score": 5, "last_activity_date": 1543462818, "creation_date": 1543444731, "question_id": 53529173, "link": "https://stackoverflow.com/questions/53529173/how-to-draw-a-table-on-a-canvas-in-python-using-report-lab", "title": "How to draw a Table on a canvas in python using Report Lab", "body": "<p>I have a table that i want to display on a canvas in python, i have displayed text in the canvas and i am returning the buffer to return a new FileResponse in another function.\nMy code :</p>\n\n<pre><code>     def Report(dict):\n          from reportlab.lib.utils import ImageReader\n          buffer = io.BytesIO()\n          p = canvas.Canvas(buffer)\n          textobject = p.beginText()\n          textobject.setTextOrigin(200, 680)\n          textobject.textLine('Title')\n          p.drawText(textobject)\n          logo = ImageReader('static/img/logo.png')\n          p.drawImage(logo, 100, 700,width = 400,height=100,mask = None)\n          data = [['00', '01', '02', '03', '04'],\n        ['10', '11', '12', '13', '14'],\n        ['20', '21', '22', '23', '24'],\n        ['30', '31', '32', '33', '34']]\n          f = Table(data)\n          f.setStyle(TableStyle([('BACKGROUND', (1, 1), (-2, -2), \n          colors.green),\n                       ('TEXTCOLOR', (0, 0), (1, -1), colors.red)]))\n\n          p.showPage()\n          p.save()\n\n          buffer.seek(0)\n          return buffer\n</code></pre>\n"}, {"tags": ["python", "list"], "comments": [{"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1543445573, "post_id": 53529165, "comment_id": 93927352, "body": "Please fix your post so its not as hard to read. Remove the code blocks throughout that are just supposed to be text."}, {"owner": {"reputation": 307, "user_id": 10559978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b8a73f6978bc910d936bd43c79b98c?s=128&d=identicon&r=PG&f=1", "display_name": "elly", "link": "https://stackoverflow.com/users/10559978/elly"}, "reply_to_user": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1543445922, "post_id": 53529165, "comment_id": 93927441, "body": "@kstullich I did it"}], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 10559978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b8a73f6978bc910d936bd43c79b98c?s=128&d=identicon&r=PG&f=1", "display_name": "elly", "link": "https://stackoverflow.com/users/10559978/elly"}, "edited": false, "score": 0, "creation_date": 1543446973, "post_id": 53529429, "comment_id": 93927693, "body": "how can I make the split function more general. for example if instead of 3 I want to use 1000, I can not do that manually like split. how can I make it more general?"}, {"owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "reply_to_user": {"reputation": 307, "user_id": 10559978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b8a73f6978bc910d936bd43c79b98c?s=128&d=identicon&r=PG&f=1", "display_name": "elly", "link": "https://stackoverflow.com/users/10559978/elly"}, "edited": false, "score": 0, "creation_date": 1543447484, "post_id": 53529429, "comment_id": 93927798, "body": "@elly You can use a <code>for</code> loop with the right calculations based on the chunk size (see updated answer)."}], "tags": [], "owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "is_accepted": true, "score": 1, "last_activity_date": 1543447447, "last_edit_date": 1543447447, "creation_date": 1543446224, "answer_id": 53529429, "question_id": 53529165, "link": "https://stackoverflow.com/questions/53529165/changing-a-list-of-lists-and-makind-a-new-one-in-python-2-7/53529429#53529429", "title": "changing a list of lists and makind a new one in python 2.7", "body": "<p>You're not really splitting your list into 3 separate ones (in your last loop). One way to do this is to define a function called <code>split</code> that splits your list like you want. Then you can call that function on each sub-list conveniently:</p>\n\n<pre><code>def split(l, chunks=3):\n    diff = (int(l[3]) - int(l[2])) // chunks\n    res = []\n    for i in range(chunks):\n        res.append([l[0], l[1], str(int(l[2]) + diff * i), str(int(l[2]) + diff * (i + 1)), l[4]])\n    res[-1][3] = l[3] # adjust last number to match what \"l\" has\n    return res    \n\nmylist = [['chr1', '+', '11873', '14409', 'DDX11L1'], ['chr1', '-', '14361', '16765', 'WASH7P']]\nnewmylist = []\nfor lst in mylist:\n    for newlst in split(lst):\n        newmylist.append(newlst)\n\nprint(newmylist)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>[['chr1', '+', '11873', '12718', 'DDX11L1'],\n ['chr1', '+', '12718', '13563', 'DDX11L1'],\n ['chr1', '+', '13563', '14409', 'DDX11L1'],\n ['chr1', '-', '14361', '15162', 'WASH7P'],\n ['chr1', '-', '15162', '15963', 'WASH7P'],\n ['chr1', '-', '15963', '16765', 'WASH7P']]\n</code></pre>\n\n<p>Note that you can also use a list comprehension if you prefer that:</p>\n\n<pre><code>newmylst = [newlst for lst in mylist for newlst in split(lst)]\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 10559978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b8a73f6978bc910d936bd43c79b98c?s=128&d=identicon&r=PG&f=1", "display_name": "elly", "link": "https://stackoverflow.com/users/10559978/elly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 53529429, "answer_count": 1, "score": 0, "last_activity_date": 1543447447, "creation_date": 1543444702, "last_edit_date": 1543445885, "question_id": 53529165, "link": "https://stackoverflow.com/questions/53529165/changing-a-list-of-lists-and-makind-a-new-one-in-python-2-7", "title": "changing a list of lists and makind a new one in python 2.7", "body": "<p>I have a list of list like this small example:</p>\n\n<pre><code>mylist = [['chr1', '+', '11873', '14409', 'DDX11L1'], ['chr1', '-', '14361', '16765', 'WASH7P']]\n</code></pre>\n\n<p>I am trying to make a new list of lists in which instead of every sublist, I would have 3 sublists. in fact the <code>new list of list</code> (called newmylist) would have 6 sublists.\nin fact in the newmylist every 3 new sublists are similar expect for columns 3 and 4. column 3 is start and column 4 is end. to calculate columns 3 and 4 in the newmylist, I would divide the <code>(difference between columns 4 and 3) by 3</code>. \nfor example regarding regarding the 1st <code>sublist</code> in <code>mylist</code>:</p>\n\n<pre><code>(14409 - 11873)/3 = 845\n</code></pre>\n\n<p>so in the 1st sublist in newmylisy, start is 11873 and end is 12718 and in the 2nd sublist start is 12718 and end is 13563. also in the 3rd sublist start is 13563 and end is 14409. the 2nd 3 sublists in newmylist will be made from the 2nd sublist from mylist. here is the expected output</p>\n\n<p><code>expected output</code>:</p>\n\n<pre><code>newmylist = [['chr1', '+', '11873', '12718', 'DDX11L1'], ['chr1', '+', '12718', '13563', 'DDX11L1'], ['chr1', '+', '13563', '14409', 'DDX11L1'], ['chr1', '-', '14361', '15162', 'WASH7P'], ['chr1', '-', '15162', '15963', 'WASH7P'], ['chr1', '-', '15963', '16765', 'WASH7P']]\n</code></pre>\n\n<p>I am trying to do that in <code>python</code> using the following code. this code does not return what I am looking for. do you know how to fix it?</p>\n\n<pre><code>start = []\nfor item in mylist:\n    start.append(item[2])\n\nend = []\nfor item in mylist:\n    end.append(item[3])\n\ndiff = []\nfor item in mylist:\n    d = item[3]-item[2]/3\n    diff.append(d)\n\nnewmylist = []\nfor i in range(len(mylist)):\n    content = [i[0], i[1], start[i], start[i]+diff[i], i[4]]\n    newmylist.append(content)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543446524, "post_id": 53529439, "comment_id": 93927592, "body": "I think you accidentally put in some sort of alternative bracket characters - those aren&#39;t normal brackets."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543446591, "post_id": 53529439, "comment_id": 93927607, "body": "@user2357112 Ah, sorry. I&#39;m on my phone and have a Chinese keyboard. Didn&#39;t realize I don&#39;t have normal brackets"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543446600, "post_id": 53529439, "comment_id": 93927611, "body": "Also, you really shouldn&#39;t use <code>map</code> or list comprehensions for side effects."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2201041"}, "is_accepted": true, "score": 1, "last_activity_date": 1543447160, "last_edit_date": 1543447160, "creation_date": 1543446281, "answer_id": 53529439, "question_id": 53529161, "link": "https://stackoverflow.com/questions/53529161/how-map-a-collection-and-single-value-to-function/53529439#53529439", "title": "How map a collection and single value to function", "body": "<p>As noted in the comments, the simple way is best:</p>\n\n<pre><code>for sql in queries:\n    invoke_query(connection, sql)\n</code></pre>\n\n<p>If you want to work the result, the built-in 'map' does kind of what you want, but first you'll need to make the function take only one argument.</p>\n\n<pre><code>from functools import partial\ninvoke = partial (invoke_query, connection)\nfor result in map (invoke, queries): \n    #...\n</code></pre>\n\n<p>But in simple cases there's no advantage.</p>\n"}], "owner": {"reputation": 199, "user_id": 8180069, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/abbf4f8cf2775c9cef7ecbdf8e905737?s=128&d=identicon&r=PG&f=1", "display_name": "johnsontroye", "link": "https://stackoverflow.com/users/8180069/johnsontroye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 53529439, "answer_count": 1, "score": 0, "last_activity_date": 1543447160, "creation_date": 1543444696, "question_id": 53529161, "link": "https://stackoverflow.com/questions/53529161/how-map-a-collection-and-single-value-to-function", "title": "How map a collection and single value to function", "body": "<p>I have a function invoke_query that takes two arguments (connection (object) and sql_query (string)).  I have a set of queries in a collection  queries = [\"queryA\", \"queryB\"].  I want to pass the connection object and each item in queries collection to the function invoke_query.  Is this possible or am i going about it wrong?</p>\n\n<pre><code>connector = handlers.helpers.sf_connector.SF_CONNECTOR().get_connector(str(Schemas.PRIVATE))\n\nqueries = [\"create table A...\", \"create table B...\"]\n\nwith ThreadPoolExecutor() as executor:\n    results = executor.map(invoke_query, connector, queries)\n\ndef invoke_query(connection, sql):\n    cursor = connection.cursor()\n    cursor.execute(sql)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1543444451, "post_id": 53529089, "comment_id": 93926978, "body": "At a guess, you&#39;re actually using Python 2.x. Step 1: upgrade. Step 2: <a href=\"https://www.python.org/dev/peps/pep-0008/\" rel=\"nofollow noreferrer\">PEP-8</a>."}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543444506, "post_id": 53529089, "comment_id": 93926998, "body": "`print(NamesArray[position]+&quot;account has the balance of: &quot;+str((BalanceArray[position])))"}, {"owner": {"reputation": 4555, "user_id": 8046232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13e3ba575c8b3e02aff4311da324f581?s=128&d=identicon&r=PG&f=1", "display_name": "Rocky Li", "link": "https://stackoverflow.com/users/8046232/rocky-li"}, "edited": false, "score": 0, "creation_date": 1543444606, "post_id": 53529089, "comment_id": 93927032, "body": "`    print(&#39; &#39;.join([NamesArray[position],&quot;account has the balance of: &quot;,BalanceArray[position]]))`"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 8351260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53bd765942fc6cc137a00b4654d8427e?s=128&d=identicon&r=PG&f=1", "display_name": "H. Khan", "link": "https://stackoverflow.com/users/8351260/h-khan"}, "edited": false, "score": 0, "creation_date": 1543445539, "post_id": 53529158, "comment_id": 93927343, "body": "That worked, thanks. Do you also know why if I put a position greater than 5 it doesn&#39;t print <code>The account number not found!</code>? It is supposed to, but doesn&#39;t."}, {"owner": {"reputation": 300, "user_id": 10060283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CpOPDk6LQ7M/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r-DKdRSCcqFOOY5X0ZFdhhw4xhYA/mo/photo.jpg?sz=128", "display_name": "Vikika", "link": "https://stackoverflow.com/users/10060283/vikika"}, "reply_to_user": {"reputation": 51, "user_id": 8351260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53bd765942fc6cc137a00b4654d8427e?s=128&d=identicon&r=PG&f=1", "display_name": "H. Khan", "link": "https://stackoverflow.com/users/8351260/h-khan"}, "edited": false, "score": 0, "creation_date": 1543592686, "post_id": 53529158, "comment_id": 93986967, "body": "When your position range of PopulateAccounts() is higher and the account which your are searching is at index higher than SearchAccount(), only then print will work. But when both have range of 5 and account is in PopulateAccounts at lower index, then it won&#39;t print. When you enter the account at index greater than 4 in PopulateAccounts and then search it will show you the print otherwise there are other cases like error and index out of range happening in the code.  Just use elif statement with if to consider account number not found situations"}], "tags": [], "owner": {"reputation": 300, "user_id": 10060283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CpOPDk6LQ7M/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r-DKdRSCcqFOOY5X0ZFdhhw4xhYA/mo/photo.jpg?sz=128", "display_name": "Vikika", "link": "https://stackoverflow.com/users/10060283/vikika"}, "is_accepted": true, "score": 3, "last_activity_date": 1543446220, "last_edit_date": 1543446220, "creation_date": 1543444671, "answer_id": 53529158, "question_id": 53529089, "link": "https://stackoverflow.com/questions/53529089/how-to-remove-the-parenthesis-and-a-comma-in-the-output/53529158#53529158", "title": "How to remove the parenthesis and a comma in the output", "body": "<p>In the line</p>\n\n<pre><code>print(NamesArray[position],\"account has the balance of: \",(BalanceArray[position]))\n</code></pre>\n\n<p>you should use string concatenation to add the different strings. One way to do this would be like this:</p>\n\n<pre><code>print(NamesArray[position] + \" account has the balance of: \" + str(BalanceArray[position])) \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 8351260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53bd765942fc6cc137a00b4654d8427e?s=128&d=identicon&r=PG&f=1", "display_name": "H. Khan", "link": "https://stackoverflow.com/users/8351260/h-khan"}, "edited": false, "score": 0, "creation_date": 1543445839, "post_id": 53529344, "comment_id": 93927424, "body": "Do you also know why if I put a position greater than 5 it doesn&#39;t print The account number not found!? It is supposed to, but doesn&#39;t."}], "tags": [], "owner": {"reputation": 509, "user_id": 10712525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cba3c95cb73029ba527ad13f732a00ce?s=128&d=identicon&r=PG", "display_name": "Lucas Vazquez", "link": "https://stackoverflow.com/users/10712525/lucas-vazquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445755, "creation_date": 1543445755, "answer_id": 53529344, "question_id": 53529089, "link": "https://stackoverflow.com/questions/53529089/how-to-remove-the-parenthesis-and-a-comma-in-the-output/53529344#53529344", "title": "How to remove the parenthesis and a comma in the output", "body": "<p>u are using old python version,\nreplace your line with this :</p>\n\n<pre><code>print(NamesArray[position] + \"account has the balance of: \" + (BalanceArray[position]))\n</code></pre>\n\n<p>use ' + ' instead of comma</p>\n"}], "owner": {"reputation": 51, "user_id": 8351260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53bd765942fc6cc137a00b4654d8427e?s=128&d=identicon&r=PG&f=1", "display_name": "H. Khan", "link": "https://stackoverflow.com/users/8351260/h-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 53529158, "answer_count": 2, "score": 0, "last_activity_date": 1543446220, "creation_date": 1543444340, "question_id": 53529089, "link": "https://stackoverflow.com/questions/53529089/how-to-remove-the-parenthesis-and-a-comma-in-the-output", "title": "How to remove the parenthesis and a comma in the output", "body": "<p>I am writing a program in python for a banking application using arrays and functions. Here's my code:</p>\n\n<pre><code>NamesArray=[]\nAccountNumbersArray=[]\nBalanceArray=[]\ndef PopulateAccounts():\n    for position in range(5):\n        name = input(\"Please enter a name: \")\n        account = input(\"Please enter an account number: \")\n        balance = input(\"Please enter a balance: \")\n        NamesArray.append(name)\n        AccountNumbersArray.append(account)\n        BalanceArray.append(balance)\ndef SearchAccounts():\n    accounttosearch = input(\"Please enter the account number to search: \")\n    for position in range(5):\n        if (accounttosearch==AccountNumbersArray[position]):\n            print(\"Name is: \" +NamesArray[position])\n            print(NamesArray[position],\"account has the balance of: \",(BalanceArray[position]))\n            break\n    if position&gt;4:\n        print(\"The account number not found!\")\n\n\nwhile True:\n    print(\"**** MENU OPTIONS ****\")\n    print(\"Type P to populate accounts\")\n    print(\"Type S to search for account\")\n    print(\"Type E to exit\")\n    choice = input(\"Please enter your choice: \")\n    if (choice==\"P\"):\n        PopulateAccounts()\n    elif (choice==\"S\"):\n        SearchAccounts()\n    elif (choice==\"E\"):\n        print(\"Thank you for using the program.\")\n        print(\"Bye\")\n        break\n    else:\n        print(\"Invalid choice. Please try again!\")\n</code></pre>\n\n<p>Everything is fine now, but when I run the program and search for an account. For example, when I search an account the output shows <code>('name', 'account has the balance of: ', 312)</code> instead of <code>name account has the balance of: 312</code> How do I fix this?</p>\n"}, {"tags": ["python", "r", "numpy", "rpy2"], "comments": [{"owner": {"reputation": 730, "user_id": 1951785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16a2d609095bbc72e9f211bd86626e9c?s=128&d=identicon&r=PG", "display_name": "wuffwuff", "link": "https://stackoverflow.com/users/1951785/wuffwuff"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1543463598, "post_id": 53529084, "comment_id": 93931219, "body": "These are .RData files that were saved on disk from a different system. Just trying to find a solution to convert them to numPy for better 2-D plotting solutions (i.e., matplotlib)."}, {"owner": {"reputation": 730, "user_id": 1951785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16a2d609095bbc72e9f211bd86626e9c?s=128&d=identicon&r=PG", "display_name": "wuffwuff", "link": "https://stackoverflow.com/users/1951785/wuffwuff"}, "reply_to_user": {"reputation": 86789, "user_id": 1422451, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/sFFvX.jpg?s=128&g=1", "display_name": "Parfait", "link": "https://stackoverflow.com/users/1422451/parfait"}, "edited": false, "score": 0, "creation_date": 1543510292, "post_id": 53529084, "comment_id": 93954497, "body": "Loud and clear re: the image the first time. I can use R for this purpose, but I am simply asking if there is a way to convert to a 2-D NumPy array. Once again, please read the question. There is no need to suggest &quot;why not just do bla bla bla.&quot;"}], "owner": {"reputation": 730, "user_id": 1951785, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/16a2d609095bbc72e9f211bd86626e9c?s=128&d=identicon&r=PG", "display_name": "wuffwuff", "link": "https://stackoverflow.com/users/1951785/wuffwuff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543459306, "creation_date": 1543444315, "last_edit_date": 1543459306, "question_id": 53529084, "link": "https://stackoverflow.com/questions/53529084/import-rs4-object-from-rdata-file-into-numpy-array", "title": "Import RS4 object (from RData file) into numPy array", "body": "<p>I'm able to read in data from an .RData file (vector list of arrays) and I would like to convert these data to a numPy array for easier plotting/viewing.</p>\n\n<p>So far: </p>\n\n<p><a href=\"https://i.stack.imgur.com/P2fxQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P2fxQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I extract the values from the 277,349 raster into a 277,349 numPy array?</p>\n"}, {"tags": ["javascript", "python", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1543444361, "post_id": 53529072, "comment_id": 93926947, "body": "Does the element with the id autoclick exist before or after the script that calls that method?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1543444578, "post_id": 53529072, "comment_id": 93927020, "body": "<a href=\"http://jsfiddle.net/adv8chj0/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/adv8chj0/1</a>  works fine"}, {"owner": {"reputation": 546, "user_id": 1809870, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/kloB1.jpg?s=128&g=1", "display_name": "Jeff Kyzer", "link": "https://stackoverflow.com/users/1809870/jeff-kyzer"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1543507279, "post_id": 53529072, "comment_id": 93952837, "body": "Sigh - I knew it was going to be something simple.  @Taplar - Put this in the answer section and I will give it the green check.  Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 0, "last_activity_date": 1543507724, "creation_date": 1543507724, "answer_id": 53543146, "question_id": 53529072, "link": "https://stackoverflow.com/questions/53529072/auto-click-button-when-javascript-function-is-called-not-on-page-load-or-button/53543146#53543146", "title": "auto click button when javascript function is called NOT on page load or button click", "body": "<p>Since your logic is being ran as soon as it is reached by the parser, the elements that you are trying to manipulate must already exist for you to use them.  So if the element appears on the page after the function call, it will not exist in the DOM yet for you to find and click it logically.  Your script will need to be after the element in the DOM.  Otherwise, you could put your logic in a document ready and then it would not execute until the entire page is parsed into the DOM.</p>\n"}], "owner": {"reputation": 546, "user_id": 1809870, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/kloB1.jpg?s=128&g=1", "display_name": "Jeff Kyzer", "link": "https://stackoverflow.com/users/1809870/jeff-kyzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 53543146, "answer_count": 1, "score": 0, "last_activity_date": 1553091615, "creation_date": 1543444233, "last_edit_date": 1553091615, "question_id": 53529072, "link": "https://stackoverflow.com/questions/53529072/auto-click-button-when-javascript-function-is-called-not-on-page-load-or-button", "title": "auto click button when javascript function is called NOT on page load or button click", "body": "<p>I want to auto click a button when a javascript function is called.  With the button clicked, a flask route is called.  All I have been able to find is for when the page loads.  Here is some code</p>\n\n<pre><code>&lt;script&gt;\n  function justClickin(){\n     $(\"#autoclick\").get(0).click();\n     // $(\"#autoclick\").trigger('click');  // This doesnt work either\n  }\n&lt;/script&gt;\n</code></pre>\n\n<hr>\n\n<pre><code>{% if True %}\n   &lt;script&gt;\n      justClickin();\n   &lt;/script&gt;\n{% endif %}\n</code></pre>\n\n<hr>\n\n<pre><code>&lt;a id=\"autoclick\" href=\"{{ url_for('login') }}\"&gt;login &lt;/a&gt;\n</code></pre>\n\n<p>So when the condition is true, the justClickin JS function is run.  This should auto click the anchor tag and run the flask route.  Problem is that the anchor tag is not clicked.</p>\n\n<p>Thanks</p>\n\n<p><strong>Edit ------------------------------------------</strong></p>\n\n<p>So in the end, I did this </p>\n\n<pre><code>{% if True %}\n   &lt;script&gt;\n      $(\"document\").ready(function(){\n         $(\"#autoclick\").get(0).click();\n      });\n   &lt;/script&gt;\n{% endif %}\n\n&lt;a id='autoclick' style=\"display:none;\"  href=\"{{ url_for('login') }}\"&gt;login &lt;/a&gt;\n</code></pre>\n"}, {"tags": ["python", "ssh", "pycharm", "windows-server-2012"], "owner": {"reputation": 2724, "user_id": 4268602, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/730410991/picture?type=large", "display_name": "Daniel Paczuski Bak", "link": "https://stackoverflow.com/users/4268602/daniel-paczuski-bak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 274, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1543444143, "creation_date": 1543444143, "question_id": 53529054, "link": "https://stackoverflow.com/questions/53529054/pycharm-ssh-interpreter-env-program-files-python-3-5-python-exe-no-such-fil", "title": "PyCharm SSH interpreter - env: /Program Files/Python 3.5/python.exe: No such file or directory", "body": "<p>I am using Windows 10, and I am SSHing onto a Windows Server 2012 VM. This VM has OpenSSH installed, and I can SSH onto it using Putty and run python.</p>\n\n<p>On PyCharm 2018, I am attempting to add a SSH interpreter. I go to project interpreter, connect to the SSH Server, and then it asks me to specify the python interpreter. I open the browse button, and I find the python interpreter and click on it. The interpreter text box is then filled with the following text:</p>\n\n<p><code>/Program Files/Python 3.5/python.exe</code></p>\n\n<p>Then I hit \"finish\". I get a \"Getting remote interpreter\" loading box for some time, then I get the following as command output:</p>\n\n<pre><code>env: /Program Files/Python 3.5/python.exe: No such file or directory\n\nProcess finished with exit code 127\n</code></pre>\n\n<p>When I try a file that actually doesn't exist in that folder, it doesn't load it and immediately gives me an error. So clearly pycharm knows that there is a python environment there...</p>\n\n<p>Here's an interesting thing: I can literally load <em>a text file in the same directory as python.exe</em> and pycharm will interpret it as an interpreter. But not the actual interpreter.</p>\n\n<p>What can I do?</p>\n"}, {"tags": ["python", "matplotlib", "anaconda"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1543451452, "post_id": 53529044, "comment_id": 93928749, "body": "Since it&#39;s hard to install pyqt5 for python 2.7 (although not impossible), I would recommend changing the default backend to use pyqt4. Hence, install pyqt4 and change the matplotlib backend to <code>Qt4Agg</code>. Or, if you don&#39;t want to use qt at all, you may also set it to <code>TkAgg</code>."}], "answers": [{"comments": [{"owner": {"reputation": 231, "user_id": 3623705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ca38071ced29f1bd30aeaf326aefd6d8?s=128&d=identicon&r=PG&f=1", "display_name": "MycrofD", "link": "https://stackoverflow.com/users/3623705/mycrofd"}, "edited": false, "score": 0, "creation_date": 1547912295, "post_id": 53538088, "comment_id": 95360167, "body": "this actually helped :)"}], "tags": [], "owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "is_accepted": false, "score": 1, "last_activity_date": 1543491181, "creation_date": 1543491181, "answer_id": 53538088, "question_id": 53529044, "link": "https://stackoverflow.com/questions/53529044/importerror-no-module-named-pyqt5/53538088#53538088", "title": "ImportError: No module named PyQt5", "body": "<p>As mentioned in the comments, you have to import matplotlib first, change the backend and then import pyplot. </p>\n\n<pre><code>&gt;&gt;&gt; import matplotlib\n&gt;&gt;&gt; matplotlib.use('Qt4Agg')\n&gt;&gt;&gt; import matplotlib.pyplot\n</code></pre>\n"}], "owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1423, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1543491181, "creation_date": 1543444078, "question_id": 53529044, "link": "https://stackoverflow.com/questions/53529044/importerror-no-module-named-pyqt5", "title": "ImportError: No module named PyQt5", "body": "<p>I get this error when I try to import matplotlib.pyplot with an Anaconda distribution of Python 2.7 running in a command window, on a windows X64 machine with Windows 10.  I can import the module from within my Jupyter notebook just fine.  Is there a fix for this? </p>\n\n<p>The whole traceback is:</p>\n\n<pre><code>C:\\Users\\You&gt;python\nPython 2.7.14 |Anaconda custom (64-bit)| (default, Oct 15 2017, 03:34:40) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import matplotlib.pyplot\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\pyplot.py\", line 113, in &lt;module&gt;\n    _backend_mod, new_figure_manager, draw_if_interactive, _show = pylab_setup()\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\__init__.py\", line 60, in pylab_setup\n    [backend_name], 0)\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\backend_qt5agg.py\", line 16, in &lt;module&gt;\n    from .backend_qt5 import (\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\backend_qt5.py\", line 18, in &lt;module&gt;\n    import matplotlib.backends.qt_editor.figureoptions as figureoptions\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\qt_editor\\figureoptions.py\", line 20, in &lt;module&gt;\n    import matplotlib.backends.qt_editor.formlayout as formlayout\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\qt_editor\\formlayout.py\", line 56, in &lt;module&gt;\n    from matplotlib.backends.qt_compat import QtGui, QtWidgets, QtCore\n  File \"C:\\ProgramData\\Anaconda2\\lib\\site-packages\\matplotlib\\backends\\qt_compat.py\", line 137, in &lt;module&gt;\n    from PyQt5 import QtCore, QtGui, QtWidgets\nImportError: No module named PyQt5\n</code></pre>\n"}, {"tags": ["python", "class", "static-methods"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1543444127, "post_id": 53529034, "comment_id": 93926878, "body": "Note that you <i>weren&#39;t</i> advised to post this on SO - I&#39;d recommend reviewing <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> for the relevant site before writing your question."}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1543444320, "post_id": 53529034, "comment_id": 93926939, "body": "Sorry that disclaimer was confusing, you are right - upon further review of Code Review&#39;s &#39;How to Ask&#39; I made the logical jump that SO was a better sight because I am not asking for assistance with finished code but rather on a best-practice, which seems to be a SO question. I have removed the disclaimer."}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1543444626, "post_id": 53529034, "comment_id": 93927041, "body": "Are each Class&#39;s condition and actions unique to the class?  are those conditions/actions unique to each client - eg is <code>HostIsWindows.condition()</code> the same for each client? and is <code>HostIsWindows.action()</code> different than <code>SomeOtherClass.action()</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 3, "creation_date": 1543444690, "post_id": 53529034, "comment_id": 93927063, "body": "I would just use the module itself. Modules are essentially static-classes which are singleton&#39;s to boot. I suppose it comes down to a matter of taste, but a class with all staticmethods screams &quot;I should just be a module&quot; to me."}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1543444765, "post_id": 53529034, "comment_id": 93927098, "body": "@wwii Yes in most cases to both. The most common use case is if a client says they use a given software under a condition (e.g. remote desktop to a certain IP) then we know it is safe to ignore that software for that client for that condition."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 1, "creation_date": 1543444773, "post_id": 53529034, "comment_id": 93927100, "body": "What you&#39;re doing by using classes this way is essentially using them as namespace, which isn&#39;t intrinsically a bad thing\u2014far from it\u2014but you&#39;re not taking advantage of them either."}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "edited": false, "score": 0, "creation_date": 1543444871, "post_id": 53529034, "comment_id": 93927134, "body": "@jaunpa.arrivillaga I considered that, but with potentially numerous condition/action pairs per client having a separate module for each seems messier than necessary"}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543445117, "post_id": 53529034, "comment_id": 93927219, "body": "@martineau not taking advantage of the abilities of classes is I think what&#39;s causing my hesitation, I just don&#39;t know if there&#39;s a better way to add the same organizational clarity without inducing too much confusion to an outside developer"}, {"owner": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1543445527, "post_id": 53529034, "comment_id": 93927336, "body": "I was just tying to figure out if it would make sense to define all the functions in one module and import them as necessary into each client&#39;s module."}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "reply_to_user": {"reputation": 19530, "user_id": 2823755, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vCEUU.png?s=128&g=1", "display_name": "wwii", "link": "https://stackoverflow.com/users/2823755/wwii"}, "edited": false, "score": 0, "creation_date": 1543445953, "post_id": 53529034, "comment_id": 93927452, "body": "@wwii I do plan to have a shared utility file for common functions (e.g. download a pcap or fetch information from VirusTotal) but most conditions/actions are going to be unique so I think having the bulk of the logic within client files will be easier to follow"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543446500, "post_id": 53529034, "comment_id": 93927588, "body": "Eric: Using them will often actually makes things simpler because it take less code to do what you want instead of lots of almost-the-same snippets in each <code>class</code> that you define (and won&#39;t remain intimidating once you get the hang of them). BTW, you can&#39;t use the reserved word <code>class</code> as the name of a variable like you have in the line <code>for class in client_file:</code>."}, {"owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543446804, "post_id": 53529034, "comment_id": 93927661, "body": "@martineau to clarify, by &quot;them&quot; are you referring to separate modules? About using the keyword <code>class</code>: I realize that wouldn&#39;t work, it is just pseudocode to easily illustrate the idea - I labeled it as such to make that more clear."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543447063, "post_id": 53529034, "comment_id": 93927708, "body": "No I&#39;m talking about classes. Classes will let you factor-out common code that can be reused for each instance so there will be less of it. The only thing that will vary from one class instance to another will be the <i>data</i> the code operates upon\u2014this data is typically referenced through the argument named <code>self</code> each method automatically receives as their first argument. i.e. <code>self.foobar = 42</code>."}], "owner": {"reputation": 99, "user_id": 3052738, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ab6d1c641f625c19aca5b1d5977f7c7f?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/3052738/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543446674, "creation_date": 1543444028, "last_edit_date": 1543446674, "question_id": 53529034, "link": "https://stackoverflow.com/questions/53529034/using-classes-with-only-static-methods-for-organizational-purposes", "title": "Using classes with only static methods for organizational purposes?", "body": "<p>I work for a MSSP and a lot of the security alerts we deal with, especially with new clients, can be dealt with according to some simple if-then logic without taking up analyst time to research. To handle these sorts of alerts, I am building a basic python program with a series of logic tests to see if a given alert falls into a 'known' category and can be dealt with automatically. </p>\n\n<p>My desired format is to have a separate python file for each client we service for organizational purposes, and within each file have a series of conditions with corresponding actions if the conditions are met. A managing script then ingests alert data, runs it through every condition within the corresponding client's file, and when a condition returns <code>True</code> it passes the data onto the corresponding action function. So my question is how to organize this.</p>\n\n<p>Currently, within a client's file, I have a class for each 'known' condition, with two <code>@staticmethod</code> functions: condition() and action(). Then the managing script's logic is effectively [pseudocode]:</p>\n\n<pre><code>for class in client_file:\n    if class.condition(alert_data):\n        class.action(alert_data)\n</code></pre>\n\n<p>Organizationally, I like this. Each client has a file, and each known thing to look for has a class. My hesitation, is I am not sure if this is 'pythonic' or generally kosher. I am using <code>@staticmethod</code>s because I  don't need these classes to have multiple instances, I just like the organizational ability of grouping functions into classes for logical relevance, but it still looks a bit strange and I'm worried it could cause confusion.</p>\n\n<p>So I'm interested in the community's opinion, does this seem like an okay organizational method for my application, or do you have any suggestions on better ways of keeping everything neat?</p>\n\n<p>Example class:</p>\n\n<pre><code>class HostIsWindows:\n    @staticmethod\n    def condition(alert_data):\n        if 'os_type' in alert and alert['os_type'] == 'windows':\n            return True\n        else:\n            return False\n\n    @staticmethod\n    def action(alert_data):\n        ... do something ...\n        return \"This is a result message.\"\n</code></pre>\n"}, {"tags": ["python", "html", "django"], "comments": [{"owner": {"reputation": 43, "user_id": 9669773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f4006a7b7710842392fe6321a533aad?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/9669773/johnny"}, "edited": false, "score": 0, "creation_date": 1543444527, "post_id": 53529018, "comment_id": 93927007, "body": "@AliAsgari I was following a tutorial online, i will use what you have said now though as its easier."}], "answers": [{"tags": [], "owner": {"reputation": 13134, "user_id": 9225671, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y1fpFhWva_w/AAAAAAAAAAI/AAAAAAAAAC8/weHLi_-bFj8/photo.jpg?sz=128", "display_name": "Ralf", "link": "https://stackoverflow.com/users/9225671/ralf"}, "is_accepted": true, "score": 1, "last_activity_date": 1543444600, "last_edit_date": 1543444600, "creation_date": 1543444385, "answer_id": 53529097, "question_id": 53529018, "link": "https://stackoverflow.com/questions/53529018/django-for-loop-not-outputting-anything/53529097#53529097", "title": "Django For loop not outputting anything", "body": "<p>In the view you load the context with the key <code>Movies</code> through this line:</p>\n\n<pre><code>AllMovies = {'Movies': GivenMovies}\n</code></pre>\n\n<p>So in your template you should access the variable with that name; change the line:</p>\n\n<pre><code>{% for Movies,Value in AllMovies.items %}\n</code></pre>\n\n<p><strong>BUT</strong>: the content of <code>GivenMovies</code> is a <code>list</code> not a <code>dict</code>, so calling <code>.items</code> won't work either. Just iterate over the list, maybe using this:</p>\n\n<pre><code>{% for item in Movies %}\n  &lt;h1&gt; {{ item.Name }} &lt;/h1&gt;\n  &lt;p&gt; Genre: {{ item.Genre }} &lt;/p&gt;\n  &lt;p&gt; Rating: {{ item.Rating }}&lt;/p&gt;\n  &lt;p&gt; Content: {{ item.Content }} &lt;/p&gt;\n  &lt;p&gt; Posted on: {{ item.Date_Posted }} &lt;/p&gt;\n{% endfor %}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 9669773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f4006a7b7710842392fe6321a533aad?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/9669773/johnny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 98, "favorite_count": 0, "accepted_answer_id": 53529097, "answer_count": 1, "score": 1, "last_activity_date": 1543444600, "creation_date": 1543443952, "question_id": 53529018, "link": "https://stackoverflow.com/questions/53529018/django-for-loop-not-outputting-anything", "title": "Django For loop not outputting anything", "body": "<p>Just getting into Django and im confused why this for loop isnt printing anything. Im not getting any errors, heres my code;</p>\n\n<p>My Views Page;</p>\n\n<pre><code>GivenMovies = [\n    {\n        'Name': 'Thor',\n        'Genre': 'Action',\n        'Rating': '7.0',\n        'Content': 'Mad Movie',\n        'Date_Posted': 'January 18, 2017'\n    },\n    {\n        'Name': 'Constantine',\n        'Genre': 'Action, Sci-Fi',\n        'Rating': '7.2',\n        'Content': 'Another madness of a movie',\n        'Date_Posted': 'January 18, 2015'\n    }\n]\n\ndef MainPage(request):\n    AllMovies = {'Movies': GivenMovies}\n    return render(request, 'Movies/HomePage.html', AllMovies)\n</code></pre>\n\n<p>my forloop; </p>\n\n<pre><code>{% extends \"Movies/Parent.html\" %}\n\n{% block content %}\n  &lt;h1&gt; is showing&lt;/h1&gt;\n  {% for Movies,Value in AllMovies.items %}\n      &lt;h1&gt; {{ Movies.Name }} &lt;/h1&gt;\n      &lt;p&gt; Genre: {{ Values.Genre }} &lt;/p&gt;\n      &lt;p&gt; Rating: {{ Values.Rating }}&lt;/p&gt;\n      &lt;p&gt; Content: {{ Values.Content }} &lt;/p&gt;\n      &lt;p&gt; Posted on: {{ Values.Date_Posted }} &lt;/p&gt;\n  {% endfor %}\n{% endblock content %}\n</code></pre>\n\n<p>Could someone please point out where i am going wrong, thank you.</p>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1543443906, "post_id": 53528992, "comment_id": 93926804, "body": "Is that image your actual input?"}, {"owner": {"reputation": 313, "user_id": 7428676, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/aec48865aac050530a8cac701e621a15?s=128&d=identicon&r=PG&f=1", "display_name": "IronMaiden", "link": "https://stackoverflow.com/users/7428676/ironmaiden"}, "reply_to_user": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1543443968, "post_id": 53528992, "comment_id": 93926825, "body": "yes, it is the actual output"}, {"owner": {"reputation": 1091, "user_id": 9497687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54b9d1d94a58d81bd43a7ae50b567d6?s=128&d=identicon&r=PG&f=1", "display_name": "jeschwar", "link": "https://stackoverflow.com/users/9497687/jeschwar"}, "edited": false, "score": 0, "creation_date": 1543444315, "post_id": 53528992, "comment_id": 93926937, "body": "Have you considered reading your original file into a <code>pandas</code> <code>Series</code> object, i.e, one column, and then performing your filtering using regular expressions with <code>pd.Series.str.replace</code>?"}, {"owner": {"reputation": 20968, "user_id": 2564301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a6b5734cdcb5ce19598ccf9a7d8cc1ff?s=128&d=identicon&r=PG&f=1", "display_name": "Jongware", "link": "https://stackoverflow.com/users/2564301/jongware"}, "edited": false, "score": 0, "creation_date": 1543476683, "post_id": 53528992, "comment_id": 93935352, "body": "What I mean is: it is <i>an image</i>. How are you reading from an image? How can we test your code with it?"}], "answers": [{"tags": [], "owner": {"reputation": 9938, "user_id": 5015569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/FC40Y.jpg?s=128&g=1", "display_name": "blacksite", "link": "https://stackoverflow.com/users/5015569/blacksite"}, "is_accepted": true, "score": 1, "last_activity_date": 1543443924, "creation_date": 1543443924, "answer_id": 53529016, "question_id": 53528992, "link": "https://stackoverflow.com/questions/53528992/how-too-write-multiple-item-to-a-csv-row/53529016#53529016", "title": "How too write multiple item to a CSV row?", "body": "<p>It's not clear whether <code>r.rating</code> is in column A (I'm not familiar with the <code>csv</code> module), but you could try something like <code>'|'.join(r.tokens)</code>... so</p>\n\n<pre><code>def export(review_list, path_to_csv):\n    with open(path_to_csv, 'w', newline='', encoding='utf-8') as out_file:\n        review_writer = csv.writer(out_file, delimiter=',', quotechar='\"')\n        for r in review_list:\n            review_writer.writerow([r.rating] + ['|'.join(r.tokens)])\n</code></pre>\n\n<p>Basically concatenating each token with | as a delimiter.</p>\n"}], "owner": {"reputation": 313, "user_id": 7428676, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/aec48865aac050530a8cac701e621a15?s=128&d=identicon&r=PG&f=1", "display_name": "IronMaiden", "link": "https://stackoverflow.com/users/7428676/ironmaiden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 53529016, "answer_count": 1, "score": -1, "last_activity_date": 1543458711, "creation_date": 1543443732, "last_edit_date": 1543445027, "question_id": 53528992, "link": "https://stackoverflow.com/questions/53528992/how-too-write-multiple-item-to-a-csv-row", "title": "How too write multiple item to a CSV row?", "body": "<p>I am doing some text pre-processing. I have a CSV file that has a set of reviews, where each review is mentioned in a new row. I have managed to run some data filtering on each of these reviews (stop word removal, removing unwanted characters, lemmatizing each sentence). The filtered reviews are written back to a CSV file, its code is mentioned below:</p>\n\n<pre><code>def export(review_list, path_to_csv):\n    with open(path_to_csv, 'w', newline='', encoding='utf-8') as out_file:\n        review_writer = csv.writer(out_file, delimiter=',', quotechar='\"')\n        for r in review_list:\n            review_writer.writerow([r.rating] + r.tokens)\n</code></pre>\n\n<p>However, I am not able to write each filtered review in one column, the words of each sentence occupy multiple columns, is there a way to get all the words of a filtered review in one column?</p>\n\n<p><a href=\"https://i.stack.imgur.com/xW2ib.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xW2ib.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "loops", "turtle-graphics"], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1543459924, "creation_date": 1543459924, "answer_id": 53531149, "question_id": 53528988, "link": "https://stackoverflow.com/questions/53528988/python-turtle-module-ontimer-loop-question/53531149#53531149", "title": "Python turtle module .ontimer loop question", "body": "<p>I would say both your <code>for</code> loop and <code>while</code> loop are questionable in the manner they launch timers, I would have expected more of a handoff like:</p>\n\n<pre><code>from turtle import Screen, Turtle\n\nTIME = 1000  # in milliseconds\n\ndef h1():\n    tess.forward(70)\n    tess.fillcolor(\"orange\")\n    screen.ontimer(h2, TIME)\n\ndef h2():\n    tess.forward(70)\n    tess.fillcolor(\"red\")\n    screen.ontimer(h3, TIME)\n\ndef h3():\n    tess.back(140)\n    tess.fillcolor(\"green\")\n    screen.ontimer(h1, TIME)\n\nscreen = Screen()\n\ntess = Turtle()\n\nh1()\n\nscreen.mainloop()\n</code></pre>\n\n<p>But there's not sufficient code in your question to understand the big picture.</p>\n"}], "owner": {"reputation": 5, "user_id": 10693693, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QOWDFkwz3QY/AAAAAAAAAAI/AAAAAAAAREg/Yy_VJkHBEVM/photo.jpg?sz=128", "display_name": "Luis Felipe", "link": "https://stackoverflow.com/users/10693693/luis-felipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543459924, "creation_date": 1543443723, "question_id": 53528988, "link": "https://stackoverflow.com/questions/53528988/python-turtle-module-ontimer-loop-question", "title": "Python turtle module .ontimer loop question", "body": "<pre><code>def h1():\n    tess.forward(70)\n    tess.fillcolor(\"orange\")\ndef h2():\n    tess.forward(70)\n    tess.fillcolor(\"red\")\n\ndef h3():\n    tess.back(140)\n    tess.fillcolor(\"green\")\n\ntimer = 1000\n\nfor _ in range(timer):\n    wn.ontimer(h1,timer)\n    wn.ontimer(h2, timer+1000)\n    wn.ontimer(h3, timer+2000)\n    timer +=3000\n\nwn.listen()\nwn.mainloop()\n</code></pre>\n\n<p>When I use the for loop the function works as intended.\nwhen I try to use the while loop, nothing happens, no runtime error either:</p>\n\n<pre><code>while True:\n    wn.ontimer(h1,timer)\n    wn.ontimer(h2, timer+1000)\n    wn.ontimer(h3, timer+2000)\n    timer +=3000\n</code></pre>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 52185, "user_id": 1782792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e8dde1ee800b9687983617bbea3cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "jdehesa", "link": "https://stackoverflow.com/users/1782792/jdehesa"}, "edited": false, "score": 0, "creation_date": 1543487577, "post_id": 53528950, "comment_id": 93941399, "body": "I think the problem is in <code>output_activation</code>, which seems to return a <code>int32</code> tensor for the <code>float32</code> input. From the documentation of <a href=\"https://www.tensorflow.org/api_docs/python/tf/map_fn\" rel=\"nofollow noreferrer\"><code>tf.map_fn</code></a>: &quot;Users must provide <code>dtype</code> if it is different from the data type of <code>elems</code>&quot;. So try adding <code>dtype=tf.int32</code> to <code>tf.map_fn</code>."}, {"owner": {"reputation": 616, "user_id": 798689, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/595f0d002229539d58559f69ecd2d2d8?s=128&d=identicon&r=PG", "display_name": "taylormade201", "link": "https://stackoverflow.com/users/798689/taylormade201"}, "reply_to_user": {"reputation": 52185, "user_id": 1782792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e8dde1ee800b9687983617bbea3cb9b?s=128&d=identicon&r=PG&f=1", "display_name": "jdehesa", "link": "https://stackoverflow.com/users/1782792/jdehesa"}, "edited": false, "score": 0, "creation_date": 1543532560, "post_id": 53528950, "comment_id": 93964391, "body": "I will give that a shot, thanks"}], "owner": {"reputation": 616, "user_id": 798689, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/595f0d002229539d58559f69ecd2d2d8?s=128&d=identicon&r=PG", "display_name": "taylormade201", "link": "https://stackoverflow.com/users/798689/taylormade201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543443480, "creation_date": 1543443480, "question_id": 53528950, "link": "https://stackoverflow.com/questions/53528950/map-function-to-partial-tensor-in-tensorflow", "title": "Map function to partial tensor in TensorFlow", "body": "<p>In the TensorFlow architecture, how do you apply a function to only some elements in a tensor? For example, on the final output of a layer, some variables represent pixel densities which I would like to run through a sigmoid, and a few variables at the beginning of the tensor represent unbounded continuous values, which I would not like to apply an activation function at all.</p>\n\n<p>Here is what I am trying:</p>\n\n<pre><code>    output_activation=tf.nn.sigmoid\n    x = tf.layers.dense(z, hidden_size, activation=hidden_activation)\n    x = tf.layers.dense(x, hidden_size, activation=hidden_activation)\n    _logits = tf.layers.dense(x, output_size, activation=None)\n    # Apply sigmoid only to image variables\n    logits = tf.concat(_logits[:functional_inputs], tf.map_fn(output_activation, _logits[functional_inputs:]), 0)\n</code></pre>\n\n<p>Which is giving the following value error:</p>\n\n<pre><code>ValueError: Tensor conversion requested dtype int32 for Tensor with dtype float32: 'Tensor(\"build_decoder/map/TensorArrayStack/TensorArrayGatherV3:0\", shape=(?, 288755), dtype=float32)'\n</code></pre>\n\n<p>Is this the best way to do this?</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 720, "user_id": 10696884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TZLhm3qAv5U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTJ8AUH3mkzlYyEQgF0K4AqDVXLw/mo/photo.jpg?sz=128", "display_name": "Thomas Lang", "link": "https://stackoverflow.com/users/10696884/thomas-lang"}, "edited": false, "score": 0, "creation_date": 1543443877, "post_id": 53528930, "comment_id": 93926792, "body": "How about <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.histogram.html\" rel=\"nofollow noreferrer\"><code>numpy.histogram</code></a>? Create a histogram of over all array lengths. Unless further specification, this should do the trick."}], "answers": [{"tags": [], "owner": {"reputation": 2116, "user_id": 7247547, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9edc71b8ad82b60fb9955e8adcede03a?s=128&d=identicon&r=PG&f=1", "display_name": "kevinkayaks", "link": "https://stackoverflow.com/users/7247547/kevinkayaks"}, "is_accepted": true, "score": 0, "last_activity_date": 1543450471, "creation_date": 1543450471, "answer_id": 53530039, "question_id": 53528930, "link": "https://stackoverflow.com/questions/53528930/numpy-bincount-with-class-property/53530039#53530039", "title": "numpy bincount with class property", "body": "<pre><code>np.histogram([len(obj.attrib) for obj in objects])\n</code></pre>\n\n<p>This is probably your best bet ! This is how I usually do it in such a scenario. I'm curious if anyone has a faster one </p>\n"}], "owner": {"reputation": 13, "user_id": 9889608, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "dsbbuu scil", "link": "https://stackoverflow.com/users/9889608/dsbbuu-scil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 53530039, "answer_count": 1, "score": 0, "last_activity_date": 1543450471, "creation_date": 1543443354, "question_id": 53528930, "link": "https://stackoverflow.com/questions/53528930/numpy-bincount-with-class-property", "title": "numpy bincount with class property", "body": "<p>I have an array of objects which all have a property that is an array, now i want to count how much occurances there are of each array length, can this be achieved with numpy.bincount? Can you give a key to bincount for example?</p>\n"}, {"tags": ["python", "django"], "answers": [{"comments": [{"owner": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "reply_to_user": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "edited": false, "score": 1, "creation_date": 1543443804, "post_id": 53528959, "comment_id": 93926767, "body": "@LesnieSncheider may i suggest you write it as: <code>Usertasks.objects.filter(user=request.user, TaskStatus__in=[&quot;Waiting&quot;, &quot;Timeout&quot;])</code> you dont need the <code>.all()</code> or the extra <code>.filter()</code> -- cheers!"}, {"owner": {"reputation": 1283, "user_id": 10657880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8HXS.jpg?s=128&g=1", "display_name": "Aurora Wang", "link": "https://stackoverflow.com/users/10657880/aurora-wang"}, "reply_to_user": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "edited": false, "score": 1, "creation_date": 1543444006, "post_id": 53528959, "comment_id": 93926836, "body": "Also you can filter everything at the same time. I&#39;ll update my answer to contain this and @JavierBuzzi sugestion."}, {"owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "reply_to_user": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "edited": false, "score": 0, "creation_date": 1543444226, "post_id": 53528959, "comment_id": 93926908, "body": "@JavierBuzzi the <code>.all</code> is there because im using this function to query other things also in my HTML. So it&#39;s there for a reason. I just haven&#39;t posted that part :-)"}, {"owner": {"reputation": 4253, "user_id": 5449364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/843d0aabb84a3b312d08384834c0f26d?s=128&d=identicon&r=PG", "display_name": "Javier Buzzi", "link": "https://stackoverflow.com/users/5449364/javier-buzzi"}, "edited": false, "score": 0, "creation_date": 1543444410, "post_id": 53528959, "comment_id": 93926963, "body": "I would need to see more code, but my first hunch is you dont need it -- unless you&#39;re building a query ..regardless its a noop operation."}], "tags": [], "owner": {"reputation": 1283, "user_id": 10657880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8HXS.jpg?s=128&g=1", "display_name": "Aurora Wang", "link": "https://stackoverflow.com/users/10657880/aurora-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1543444028, "last_edit_date": 1543444028, "creation_date": 1543443532, "answer_id": 53528959, "question_id": 53528911, "link": "https://stackoverflow.com/questions/53528911/django-query-after-multiple-keywords-in-database/53528959#53528959", "title": "Django query after multiple keywords in database", "body": "<p>You can use <a href=\"https://docs.djangoproject.com/en/1.10/ref/models/querysets/#in\" rel=\"nofollow noreferrer\">Django's Queryset \"in\"</a>:</p>\n\n<p>If you want user = request.user AND TaskStatus = Waiting or Timeout:</p>\n\n<pre><code>query_running = Usertasks.objects.filter(user=request.user, TaskStatus__in=[\"Waiting\", \"Timeout\"])\n</code></pre>\n\n<p>If not:</p>\n\n<pre><code>query_running = Usertasks.objects.filter(user=request.user).filter(TaskStatus__in=[\"Waiting\", \"Timeout\"])\n</code></pre>\n"}], "owner": {"reputation": 343, "user_id": 10557703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V7BFHq8uYeQ/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDTF26XC8NostEXRBvsnuj3ac0msg/mo/photo.jpg?sz=128", "display_name": "Lesnie Sncheider", "link": "https://stackoverflow.com/users/10557703/lesnie-sncheider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 53528959, "answer_count": 1, "score": 1, "last_activity_date": 1543444028, "creation_date": 1543443236, "question_id": 53528911, "link": "https://stackoverflow.com/questions/53528911/django-query-after-multiple-keywords-in-database", "title": "Django query after multiple keywords in database", "body": "<p>I have a line of code that looks up in my database after Fields containing the string <strong>Waiting</strong>, but I also want it to look for the field named <strong>Timeout</strong>. </p>\n\n<p>My current code looks like this:</p>\n\n<pre><code>query_running = Usertasks.objects.all().filter(user=request.user).filter(TaskStatus=\"Waiting\")\n</code></pre>\n\n<p>This works perfectly but I need to also search for the string <code>Timeout</code></p>\n\n<p>I tried code that looked like this, but this doesn't work.</p>\n\n<pre><code>query_running = Usertasks.objects.all().filter(user=request.user).filter(TaskStatus=\"Waiting\", \"Timeout\")\n</code></pre>\n\n<p>And just to be clear, it should search for either word. Both words are not going to be present at the same time.</p>\n"}, {"tags": ["python", "python-2.x"], "comments": [{"owner": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "edited": false, "score": 0, "creation_date": 1543445086, "post_id": 53528909, "comment_id": 93927209, "body": "Could you please include the text of your error message (stack trace)?"}, {"owner": {"reputation": 1, "user_id": 10719509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939266faf2fd1c1260cae64feec57be7?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeher", "link": "https://stackoverflow.com/users/10719509/kbeher"}, "reply_to_user": {"reputation": 3336, "user_id": 7859515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9dbe73058d23754227cad2f8ad4ff12d?s=128&d=identicon&r=PG&f=1", "display_name": "MyStackRunnethOver", "link": "https://stackoverflow.com/users/7859515/mystackrunnethover"}, "edited": false, "score": 0, "creation_date": 1543454787, "post_id": 53528909, "comment_id": 93929494, "body": "No problem. I added it at the bottom of my question"}, {"owner": {"reputation": 2119, "user_id": 7095751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0kkD4YDw7Gw/AAAAAAAAAAI/AAAAAAAAAEk/ZwcaKyyr9M8/photo.jpg?sz=128", "display_name": "Alexandre Juma", "link": "https://stackoverflow.com/users/7095751/alexandre-juma"}, "edited": false, "score": 0, "creation_date": 1543457544, "post_id": 53528909, "comment_id": 93930053, "body": "Instead of printing listS[0], try to <code>print(listS)</code> just to see how the list looks like before you try and access it via index."}, {"owner": {"reputation": 1, "user_id": 10719509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939266faf2fd1c1260cae64feec57be7?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeher", "link": "https://stackoverflow.com/users/10719509/kbeher"}, "edited": false, "score": 0, "creation_date": 1543478788, "post_id": 53528909, "comment_id": 93936295, "body": "It looks just like the list you would expect to see. Here is the what I printed out when i printed the entire list. [&#39;a&#39;, &#39;d&#39;, &#39;o&#39;, &#39;b&#39;, &#39;e&#39;, &#39;c&#39;, &#39;o&#39;, &#39;d&#39;, &#39;e&#39;, &#39;b&#39;, &#39;a&#39;, &#39;n&#39;, &#39;c&#39;]. This shows that there is an item in the index 0 of listS. So i&#39;m not sure what&#39;s going on!"}, {"owner": {"reputation": 2119, "user_id": 7095751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0kkD4YDw7Gw/AAAAAAAAAAI/AAAAAAAAAEk/ZwcaKyyr9M8/photo.jpg?sz=128", "display_name": "Alexandre Juma", "link": "https://stackoverflow.com/users/7095751/alexandre-juma"}, "edited": false, "score": 0, "creation_date": 1543486807, "post_id": 53528909, "comment_id": 93940901, "body": "I think it&#39;s the platform you&#39;re using. If you see the stacktrace, it&#39;s clearly not only executing what you&#39;ve shown here. There are other intermediate calls and even the arguments to minSubstringWithAllChars are passed as  non-keyworded variable length argument (*_fArgs_nycavblqytqu) and not formal args we&#39;re testing here. Also a stacktrace of a Indexerror with that code would produce this stacktrace: <code>File &quot;main.py&quot;, line 11, in &lt;module&gt;     minSubstringWithAllChars(&quot;abe&quot;, &quot;&quot;)   File &quot;main.py&quot;, line 9, in minSubstringWithAllChars     print listS[7] IndexError: list index out of range</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4242, "user_id": 4339781, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fbffd4d2b6499b934ba13c3be551d509?s=128&d=identicon&r=PG&f=1", "display_name": "Windmill", "link": "https://stackoverflow.com/users/4339781/windmill"}, "edited": false, "score": 0, "creation_date": 1543457363, "post_id": 53530823, "comment_id": 93930021, "body": "While I&#39;m not sure this counts as an answer, I agree that the provided code runs without issue."}, {"owner": {"reputation": 1, "user_id": 10719509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939266faf2fd1c1260cae64feec57be7?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeher", "link": "https://stackoverflow.com/users/10719509/kbeher"}, "edited": false, "score": 0, "creation_date": 1543479007, "post_id": 53530823, "comment_id": 93936373, "body": "Thanks for your help. I turned the argument of the function into a string and then into a list just to ensure I was dealing with a list and not with a unicode or string. Although when i tried printing the value of s directly (s[0]) it also gave me the same error"}], "tags": [], "owner": {"reputation": 2119, "user_id": 7095751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-0kkD4YDw7Gw/AAAAAAAAAAI/AAAAAAAAAEk/ZwcaKyyr9M8/photo.jpg?sz=128", "display_name": "Alexandre Juma", "link": "https://stackoverflow.com/users/7095751/alexandre-juma"}, "is_accepted": false, "score": 0, "last_activity_date": 1543488046, "last_edit_date": 1543488046, "creation_date": 1543457168, "answer_id": 53530823, "question_id": 53528909, "link": "https://stackoverflow.com/questions/53528909/why-am-i-getting-a-list-index-error-when-there-are-certainly-items-in-the-list-a/53530823#53530823", "title": "Why am I getting a list index error when there are certainly items in the list at the specific index?", "body": "<p>You probably are running into a strange issue with your provider python compiler or maybe, since it's a page with a web application to test, run and validate python exercices, your code is not running exactly the way you see it on the web page.</p>\n\n<p>This can be clearly spoted if you compare your code to the stacktrace, which has additional calls and even the arguments for your function don't seem to be standard formal arguments, but a *args (non-keyworded variable length argument) argument.</p>\n\n<p>A stacktrace for an IndexError for your code (for example if your string argument was empty, would be):</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\", line 11, in &lt;module&gt; \n    minSubstringWithAllChars(\"abe\", \"\") \n  File \"main.py\", line 9, in minSubstringWithAllChars \n    print listS[0] \nIndexError: list index out of range\n</code></pre>\n\n<p>Anyway, running With python 2.7.13 clearly shows no problem with your code:</p>\n\n<pre><code>def minSubstringWithAllChars(s):\n    nuS = str(s)\n    listS = list(nuS)\n    print(\"working with string: \" + nuS)\n    print(\"Len of s: \" + str(len(nuS)))\n    print(\"Len of listS: \" + str(len(listS)))\n    print(\"\\n\")\n\n    for i in range(len(listS)):\n        print(\"Checking position: \" + str(i) + \" of String (\" + nuS + \"): \" + listS[i])\n\n    print(\"\\nAdditional access to listS via index 0: \")\n    print listS[0]\n\nprint(\"Start\\n\")\nminSubstringWithAllChars(\"adobecodebanc\")\nprint(\"\\nEnd\")\n</code></pre>\n\n<p>You can see it works:</p>\n\n<pre><code>Start\n\nworking with string: adobecodebanc\nLen of s: 13\nLen of listS: 13\n\n\nChecking position: 0 of String (adobecodebanc): a\nChecking position: 1 of String (adobecodebanc): d\nChecking position: 2 of String (adobecodebanc): o\nChecking position: 3 of String (adobecodebanc): b\nChecking position: 4 of String (adobecodebanc): e\nChecking position: 5 of String (adobecodebanc): c\nChecking position: 6 of String (adobecodebanc): o\nChecking position: 7 of String (adobecodebanc): d\nChecking position: 8 of String (adobecodebanc): e\nChecking position: 9 of String (adobecodebanc): b\nChecking position: 10 of String (adobecodebanc): a\nChecking position: 11 of String (adobecodebanc): n\nChecking position: 12 of String (adobecodebanc): c\n\nAdditional access to listS via index 0: \na\n\nEnd\n</code></pre>\n\n<p>Another thing is that you don't need to use indexes to iterate your string characters (or break your string into an array of characters with list()). You can just shortcut with this:</p>\n\n<pre><code>for i in nuS:\n    print i\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10719509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939266faf2fd1c1260cae64feec57be7?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeher", "link": "https://stackoverflow.com/users/10719509/kbeher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543488046, "creation_date": 1543443212, "last_edit_date": 1543455698, "question_id": 53528909, "link": "https://stackoverflow.com/questions/53528909/why-am-i-getting-a-list-index-error-when-there-are-certainly-items-in-the-list-a", "title": "Why am I getting a list index error when there are certainly items in the list at the specific index?", "body": "<p>I am working on some Code Signal practice problems in Python 2 and I have been running into the same error a lot. Like the title of the question says, I can not access a specific list element even though i am sure it exists. When I try to run the code shown below I get this error, IndexError: list index out of range. Shown below is some code I am working with. Any help is appreciated, i'm sure this is a simple misunderstanding of how Python2 works. In this example\ns = \"adobecodebanc\" and t is not relevant for my question</p>\n\n<pre><code>    def minSubstringWithAllChars(s, t):\n        nuS = str(s)\n        listS = list(nuS)\n\n        for i in range(len(listS)):\n            print i\n            print listS[i]\n\n        print listS[0]\n</code></pre>\n\n<p>When I omit the last line of code I am able to print all of the characters that are in S - as shown below. However, when I add the last line, I am unable to print anything as a I get an indexing error.</p>\n\n<pre><code>    0\n    a\n    1\n    d\n    2\n    o\n    3\n    b\n    4\n    e\n    5\n    c\n    6\n    o\n    7\n    d\n    8\n    e\n    9\n    b\n    10\n    a\n    11\n    n\n    12\n    c\n</code></pre>\n\n<p>What could this be due to? Here is the text of my error message</p>\n\n<pre><code>          Traceback (most recent call last):\n            file.py on line ?, in getUserOutputs\n              userOutput = _runjodsn(testInputs[i])\n            file.py on line ?, in _runjodsn\n              return minSubstringWithAllChars(*_fArgs_nycavblqytqu)\n            file.py on line 9, in minSubstringWithAllChars\n              print listS[0]\n          IndexError: list index out of range\n</code></pre>\n"}, {"tags": ["python", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1543443387, "post_id": 53528874, "comment_id": 93926599, "body": "grab the outer <code>&lt;div id=&quot;kepek-holder&quot; ...&#47;&gt;</code> that is holding all the <code>figure</code> tags, then iterate over them"}, {"owner": {"reputation": 59, "user_id": 10520111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5t3cv.jpg?s=128&g=1", "display_name": "Dr Dro", "link": "https://stackoverflow.com/users/10520111/dr-dro"}, "reply_to_user": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1543443511, "post_id": 53528874, "comment_id": 93926653, "body": "Should I be going for an outer, regular tag as a regular practice? Because I feel like a dumbass asking every 12hrs about these problems."}, {"owner": {"reputation": 501, "user_id": 6771714, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2722d4cebe1a435bdc7ca28574641d16?s=128&d=identicon&r=PG&f=1", "display_name": "kstullich", "link": "https://stackoverflow.com/users/6771714/kstullich"}, "edited": false, "score": 0, "creation_date": 1543443742, "post_id": 53528874, "comment_id": 93926742, "body": "I would grab the outer tag since I am guessing you are wanting to grab all the <code>a</code> tags within the <code>figure</code> tags? It would make it easier on your side"}], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10520111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5t3cv.jpg?s=128&g=1", "display_name": "Dr Dro", "link": "https://stackoverflow.com/users/10520111/dr-dro"}, "edited": false, "score": 0, "creation_date": 1543479297, "post_id": 53530674, "comment_id": 93936500, "body": "Thank you very much. It always seems I&#39;m very close with my localization line but just not there.  And I know about the array, I had it worked out pretty early and have and iterator down the line to deal with it."}], "tags": [], "owner": {"reputation": 1885, "user_id": 5319738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7f84315d92eb583e0744ab6990ca65b?s=128&d=identicon&r=PG&f=1", "display_name": "Kamal", "link": "https://stackoverflow.com/users/5319738/kamal"}, "is_accepted": true, "score": 1, "last_activity_date": 1543455891, "creation_date": 1543455891, "answer_id": 53530674, "question_id": 53528874, "link": "https://stackoverflow.com/questions/53528874/python-selenium-selecting-href-from-a-scrollbox/53530674#53530674", "title": "Python + Selenium selecting href from a scrollbox", "body": "<p>This should work</p>\n\n<pre><code>driver.find_element_by_xpath(\"//*[@id='kepek-holder']/figure[1]/a\").get_attribute('href')\n</code></pre>\n\n<p>In chrome, you can actually find the xpath of any element like <a href=\"https://stackoverflow.com/a/42194160/5319738\">this</a> using developer tools.</p>\n\n<p>JFYI: <code>find_elements..</code> method will return an array(even if single match) of results and so you have to index the output to use the element.</p>\n"}], "owner": {"reputation": 59, "user_id": 10520111, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5t3cv.jpg?s=128&g=1", "display_name": "Dr Dro", "link": "https://stackoverflow.com/users/10520111/dr-dro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "closed_date": 1543471591, "accepted_answer_id": 53530674, "answer_count": 1, "score": -1, "last_activity_date": 1543455891, "creation_date": 1543443031, "question_id": 53528874, "link": "https://stackoverflow.com/questions/53528874/python-selenium-selecting-href-from-a-scrollbox", "closed_reason": "Duplicate", "title": "Python + Selenium selecting href from a scrollbox", "body": "<p>Another location problem. I have renewed respect for you guys who do it for the top of your head since now I see how many cases you had to do to have it going on the first, maybe second try. My (and your) previous approaches don't work, again. <a href=\"https://www.hasznaltauto.hu/szemelyauto/honda/civic/honda_civic_2_2_ctdi_executive_szep_allapot-13704508\" rel=\"nofollow noreferrer\">Target page</a> and the tag, I need the href.</p>\n\n<pre><code>&lt;figure itemprop=\"associatedMedia\" itemscope=\"\" itemtype=\"http://schema.org/ImageObject\"&gt;\n    &lt;a href=\"https://hasznaltauto.medija.hu/9250/13704508_1.jpg\" itemprop=\"contentUrl\" data-size=\"640x480\"&gt;\n</code></pre>\n\n<p>These don't get me where I want.</p>\n\n<pre><code>find_elements_by_css_selector('figure &gt; a')\nfind_elements_by_xpath(\"//figure[@imageprop='associatedMedia']/a[1]\")\n</code></pre>\n"}, {"tags": ["python", "excel", "winapi", "format", "pywin32"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5016615, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/868618045c735a8f75ccd63fa17d77e6?s=128&d=identicon&r=PG&f=1", "display_name": "GigI", "link": "https://stackoverflow.com/users/5016615/gigi"}, "edited": false, "score": 0, "creation_date": 1543497727, "post_id": 53529697, "comment_id": 93947013, "body": "Thanks! I was close but wouldn&#39;t have gotten it!"}, {"owner": {"reputation": 41, "user_id": 5016615, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/868618045c735a8f75ccd63fa17d77e6?s=128&d=identicon&r=PG&f=1", "display_name": "GigI", "link": "https://stackoverflow.com/users/5016615/gigi"}, "edited": false, "score": 0, "creation_date": 1543504451, "post_id": 53529697, "comment_id": 93951095, "body": "With percent it converts lets say 0.170691 to 17% is there any way to make that 17.07%"}, {"owner": {"reputation": 9344, "user_id": 5781745, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/lStUs.jpg?s=128&g=1", "display_name": "K.D\u1d00\u1d20\u026as", "link": "https://stackoverflow.com/users/5781745/k-d%e1%b4%80%e1%b4%a0%c9%aas"}, "reply_to_user": {"reputation": 41, "user_id": 5016615, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/868618045c735a8f75ccd63fa17d77e6?s=128&d=identicon&r=PG&f=1", "display_name": "GigI", "link": "https://stackoverflow.com/users/5016615/gigi"}, "edited": false, "score": 0, "creation_date": 1543504737, "post_id": 53529697, "comment_id": 93951246, "body": "<code>xlSheet.Range(&quot;C3:C7&quot;).NumberFormat = &quot;0.00%&quot;</code> would do what you need."}], "tags": [], "owner": {"reputation": 9344, "user_id": 5781745, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/lStUs.jpg?s=128&g=1", "display_name": "K.D\u1d00\u1d20\u026as", "link": "https://stackoverflow.com/users/5781745/k-d%e1%b4%80%e1%b4%a0%c9%aas"}, "is_accepted": true, "score": 1, "last_activity_date": 1543447959, "creation_date": 1543447959, "answer_id": 53529697, "question_id": 53528865, "link": "https://stackoverflow.com/questions/53528865/format-a-column-of-data-in-excel-into-percentage-using-win32-python/53529697#53529697", "title": "Format a column of data in excel into percentage using win32 python", "body": "<p>You almost had it.</p>\n\n<p>The correct formatting name is <code>\"Percent\"</code>.</p>\n\n<p>So try:</p>\n\n<pre><code>xlSheet.Range(\"C3:C7\").Style = \"Percent\"\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5016615, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/868618045c735a8f75ccd63fa17d77e6?s=128&d=identicon&r=PG&f=1", "display_name": "GigI", "link": "https://stackoverflow.com/users/5016615/gigi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 555, "favorite_count": 0, "accepted_answer_id": 53529697, "answer_count": 1, "score": 1, "last_activity_date": 1543447959, "creation_date": 1543442997, "question_id": 53528865, "link": "https://stackoverflow.com/questions/53528865/format-a-column-of-data-in-excel-into-percentage-using-win32-python", "title": "Format a column of data in excel into percentage using win32 python", "body": "<p>Trying to convert a column of data into percentage using win32 python in excel</p>\n\n<pre><code>xlSheet.Range(\"C3:C7\").Style = \"Percentage\"\n</code></pre>\n\n<p>This does not work. Is there any other way?</p>\n"}, {"tags": ["python", "sql", "django"], "comments": [{"owner": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1543443074, "post_id": 53528856, "comment_id": 93926468, "body": "What is your question?"}, {"owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "reply_to_user": {"reputation": 55871, "user_id": 10077, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/be4e820c7af6f3b79cf055d984cda7ff?s=128&d=identicon&r=PG", "display_name": "Fred Larson", "link": "https://stackoverflow.com/users/10077/fred-larson"}, "edited": false, "score": 0, "creation_date": 1543443295, "post_id": 53528856, "comment_id": 93926562, "body": "I can not register a Person in the Monthly Table that she only accepts vehicles that this person owns, with this code I can register Person X with Person&#39;s Car Y and the Database is accepting"}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543449725, "post_id": 53529219, "comment_id": 93928389, "body": "sorry for the inconvenience, but I&#39;m really new and I did not understand what it would look like in the code"}, {"owner": {"reputation": 2344, "user_id": 1274783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e9098421dc70d5b66024c2ebe8484?s=128&d=identicon&r=PG", "display_name": "ivissani", "link": "https://stackoverflow.com/users/1274783/ivissani"}, "reply_to_user": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543451460, "post_id": 53529219, "comment_id": 93928752, "body": "I edited the answer so you can get a better look at what it would like. Anyway I believe you should take some time to understand what these models generate at the databse level"}, {"owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543488851, "post_id": 53529219, "comment_id": 93942169, "body": "thank you very much, I was able to understand the error of logic, thank you very much for your patience and kindness to help me."}, {"owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543488859, "post_id": 53529219, "comment_id": 93942176, "body": "thank you very much, I was able to understand the error of logic, thank you very much for your patience and kindness to help me."}, {"owner": {"reputation": 2344, "user_id": 1274783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e9098421dc70d5b66024c2ebe8484?s=128&d=identicon&r=PG", "display_name": "ivissani", "link": "https://stackoverflow.com/users/1274783/ivissani"}, "reply_to_user": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543494236, "post_id": 53529219, "comment_id": 93945073, "body": "Great! If you feel this question was answered then please mark it as so and don&#39;t leave it open. Cheers!"}], "tags": [], "owner": {"reputation": 2344, "user_id": 1274783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e9098421dc70d5b66024c2ebe8484?s=128&d=identicon&r=PG", "display_name": "ivissani", "link": "https://stackoverflow.com/users/1274783/ivissani"}, "is_accepted": true, "score": 0, "last_activity_date": 1543451374, "last_edit_date": 1543451374, "creation_date": 1543445026, "answer_id": 53529219, "question_id": 53528856, "link": "https://stackoverflow.com/questions/53528856/foreign-key-in-the-database/53529219#53529219", "title": "Foreign key in the database", "body": "<p>You don't need to store the Person (Pessoa) in the Monthly (Mensalista) model as it is already defined by the vehicle. Having an instance of <code>Mensalista</code> (let's say <code>m</code>) you can access the Vehicles's owner simply by doing <code>m.veiculo.proprietario</code></p>\n\n<p>If, for some reason (clarity, cleanness or whatever) you want to have a <code>proprietario</code> property on your <code>Mensalista</code> model you could simply add the following:</p>\n\n<pre><code>@property\ndef proprietario(self):\n    return self.veiculo.proprietario\n</code></pre>\n\n<p>To sum up you could change your <code>Mensalista</code> model to the following:</p>\n\n<pre><code>class Mensalista(models.Model):\n    veiculo = models.ForeignKey(Veiculo, on_delete=models.CASCADE, blank=False)\n    inicio = models.DateField(blank=False)\n    validade = models.DateField(blank=False)\n    # The next is not necessary\n    # proprietario = models.ForeignKey(Pessoa, blank=False, on_delete=models.CASCADE)\n    valor_mes = models.DecimalField(max_digits=6, decimal_places=2, blank=False)\n    pago = models.CharField(max_length=15, choices=PAGO_CHOICES)\n\n    @property\n    def proprietario(self):\n        return self.veiculo.proprietario\n</code></pre>\n\n<p>To clarify a bit more, the models as you have them are what is called denormalized (you can read more about normalization and denormalization <a href=\"https://en.wikipedia.org/wiki/Denormalization\" rel=\"nofollow noreferrer\">here</a>. Essentially your models are redundant since you have a <code>ForeignKey</code> to <code>Person</code> on both <code>Vehicle</code> and <code>Monthly</code> but you want that the person in <code>Monthly</code> is the same as the person in  <code>Vehicle</code>. You can save yourself some trouble by erasing the reference to <code>Person</code> in your <code>Monthly</code> model. In this way you don't need to enforce that both reference to <code>Person</code> coincide as there is only one reference to <code>Person</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543449728, "post_id": 53529518, "comment_id": 93928392, "body": "sorry for the inconvenience, but I&#39;m really new and I did not understand what it would look like in the code"}, {"owner": {"reputation": 11, "user_id": 10719186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa60dae5a4fc4fc9b1cc3468d47817a2?s=128&d=identicon&r=PG&f=1", "display_name": "C&#233;sare Rossi", "link": "https://stackoverflow.com/users/10719186/c%c3%a9sare-rossi"}, "reply_to_user": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "edited": false, "score": 0, "creation_date": 1543452692, "post_id": 53529518, "comment_id": 93929034, "body": "I believe @ivissani has clarified this last point very well. Any futher explanation would be redudant and maybe confusing. If find yourself frequently struggling with this concepts, taking some time to have a look at Django&#39;s documentation, precisely the model layer, is a good idea. I&#39;ve already had explored Django&#39;s world a bit in the past and its documentation is quite friendly. Here&#39;s the <a href=\"https://docs.djangoproject.com/en/2.1/topics/db/models/\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 11, "user_id": 10719186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa60dae5a4fc4fc9b1cc3468d47817a2?s=128&d=identicon&r=PG&f=1", "display_name": "C&#233;sare Rossi", "link": "https://stackoverflow.com/users/10719186/c%c3%a9sare-rossi"}, "is_accepted": false, "score": 1, "last_activity_date": 1543446715, "creation_date": 1543446715, "answer_id": 53529518, "question_id": 53528856, "link": "https://stackoverflow.com/questions/53528856/foreign-key-in-the-database/53529518#53529518", "title": "Foreign key in the database", "body": "<p>I'd suggest you to model this scenario a bit different. As your model <code>Vehicle</code> is already related to your model <code>Person</code>, your attribute proprietario in the model <code>Mensalista</code> is not necessary and this sounds enough to solve your problem.<br>\nNotice that once you can get a <code>Person's</code> attributes due the relationship it has with you model <code>Vehicle</code>, it doens't make sense (in my humble opinion and inside this context) to explicitly relate a <code>Person</code> to <code>Mensalita</code>, if you already have an implictly relatioship between them through your model <code>Vehicle</code>:<br></p>\n\n<pre><code>mensalita = Mensalita.objects.get(pk=this_object_id);\nveiculo = mensalita.veiculo;\npessoa = veiculo.proprietario; //You've got your Person without problems.\n</code></pre>\n\n<p>However, in a context where two people share the same vehicle and this car is eventually parked by some of this drivers, this attribute would be helpful but yet not the best solution for your problem. </p>\n\n<p>I hope I understood correctcly your problem. Please let me know if it's everything clear enough for you. I'll be glad to help you out if I missed something.</p>\n"}], "owner": {"reputation": 79, "user_id": 9748259, "user_type": "registered", "profile_image": "https://graph.facebook.com/665057240492533/picture?type=large", "display_name": "Mauricio Kalfelz", "link": "https://stackoverflow.com/users/9748259/mauricio-kalfelz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 53529219, "answer_count": 2, "score": 0, "last_activity_date": 1543488360, "creation_date": 1543442947, "last_edit_date": 1543488360, "question_id": 53528856, "link": "https://stackoverflow.com/questions/53528856/foreign-key-in-the-database", "title": "Foreign key in the database", "body": "<p>This is a database for use in Brazil, so the language is Portuguese. Translation:</p>\n\n<ul>\n<li>Pessoa = Person</li>\n<li>Veiculo = Vehicle</li>\n</ul>\n\n<p>I use this database to keep track of vehicles in a parking lot with monthly vehicle records.</p>\n\n<p>My problem is one of permutations: <em>Each person could have many vehicles, but each vehicle belongs to only one person.</em></p>\n\n<h1>How do I make sure that, when making an entry, vehicles are only registered in the name of the Person (Pessoa), not the Vehicle (Veiculo)?</h1>\n\n<p>I'm using the SqlLite 3 from Django</p>\n\n<p>Foreign key in the database</p>\n\n<p>Models.py</p>\n\n<pre><code>class Pessoa(models.Model):\n    nome = models.CharField(max_length=50, blank=False)\n    email = models.EmailField(blank=False)\n    cpf = models.CharField(max_length=11, unique=True, blank=False)\n    endereco = models.CharField(max_length=50)\n    numero = models.CharField(max_length=10)\n    bairro = models.CharField(max_length=30)\n    telefone = models.CharField(max_length=20, blank=False)\n    cidade = models.CharField(max_length=20)\n    estado = models.CharField(max_length=2, choices=STATE_CHOICES)\n\nclass Veiculo(models.Model):\n    marca = models.ForeignKey(Marca, on_delete=models.CASCADE, blank=False)\n    modelo = models.CharField(max_length=20, blank=False)\n    ano = models.CharField(max_length=7)\n    placa = models.CharField(max_length=7)\n    proprietario = models.ForeignKey(\n        Pessoa, on_delete=models.CASCADE, blank=False, )\n    cor = models.CharField(max_length=15, blank=False)\n    observacoes = models.TextField(blank=False)\n\nclass Mensalista(models.Model):\n    veiculo = models.ForeignKey(Veiculo, on_delete=models.CASCADE, \n         blank=False)\n    inicio = models.DateField(blank=False)\n    validade = models.DateField(blank=False)\n    proprietario = models.ForeignKey(\n        Pessoa, blank=False, on_delete=models.CASCADE)\n    valor_mes = models.DecimalField(\n        max_digits=6, decimal_places=2, blank=False)\n    pago = models.CharField(max_length=15, choices=PAGO_CHOICES)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1543443048, "post_id": 53528855, "comment_id": 93926457, "body": "&quot;But, why do I not get an error that there is no global variable (a) defined&quot; - you defined it."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543443177, "post_id": 53528855, "comment_id": 93926511, "body": "<code>test()</code> doesn&#39;t return anything. You can generally freely read the current value of global variables in a function without declaring them. A <code>global</code> declaration is only needed when you want to assign a new value to them (it prevents the automatic creation of a local variable from occurring)."}, {"owner": {"reputation": 1283, "user_id": 10657880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8HXS.jpg?s=128&g=1", "display_name": "Aurora Wang", "link": "https://stackoverflow.com/users/10657880/aurora-wang"}, "edited": false, "score": 4, "creation_date": 1543443178, "post_id": 53528855, "comment_id": 93926513, "body": "I recommend you read <a href=\"https://docs.python.org/3/faq/programming.html#what-are-the-rules-for-local-and-global-variables-in-python\" rel=\"nofollow noreferrer\">What are the rules for local and global variables in Python?</a>: &quot;In Python, variables that are only referenced inside a function are implicitly global. If a variable is assigned a value anywhere within the function\u2019s body, it\u2019s assumed to be a local unless explicitly declared as global.&quot;"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1543443265, "post_id": 53528855, "comment_id": 93926554, "body": "You expect it to return 1 but also expect a NameError?? These expectations seem contradictory but both are wrong since you <code>return None</code>"}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1543443399, "post_id": 53528855, "comment_id": 93926606, "body": "if you did <code>def test(): a += 1</code> you would get a <code>NameError</code>"}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1543443439, "post_id": 53528855, "comment_id": 93926620, "body": "Related to this subject are Python&#39;s scoping rules (sometimes called the LEGB rule, see <a href=\"https://stackoverflow.com/a/292502/355230\">this answer</a>). It&#39;s relevant because it describes how Python determines whether a name is a local or something else, like a global."}, {"owner": {"reputation": 6940, "user_id": 1559401, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/t9DjW.jpg?s=128&g=1", "display_name": "rbaleksandar", "link": "https://stackoverflow.com/users/1559401/rbaleksandar"}, "edited": false, "score": 0, "creation_date": 1543444892, "post_id": 53528855, "comment_id": 93927141, "body": "Try assigning a new value to <code>a</code> after the <code>print a</code> statement and see what happens.You will get <code>UnboundLocalError: local variable &#39;a&#39; referenced before assignment</code>,which ultimately points at a scope conflict.As long as just reference a global variable inside a function, it will smoothly.The moment you try to assign a new value to it without the <code>global</code> statement before that you are moving <code>a</code> to a new local scope where the rules of assigning and referencing apply that is you cannot reference before you assign.Python people are not that fond of global variables.This is a proof for that. ;)"}], "owner": {"reputation": 13, "user_id": 10719528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb61fe74912ec2064e98ade0f466069d?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff M.", "link": "https://stackoverflow.com/users/10719528/jeff-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1543444384, "answer_count": 0, "score": 0, "last_activity_date": 1543443593, "creation_date": 1543442942, "last_edit_date": 1543443593, "question_id": 53528855, "link": "https://stackoverflow.com/questions/53528855/are-some-variables-automatically-assumed-to-be-global", "closed_reason": "Duplicate", "title": "Are some variables automatically assumed to be global?", "body": "<p>Here is some basic code:</p>\n\n<pre><code>a = 1\ndef test():\n    print a\n    return\n\ntest()\n</code></pre>\n\n<p>This returns 1 as expected. But, why do I not get an error that there is no global variable <code>a</code> defined? The function does not use <code>a</code> as a variable. </p>\n\n<p>I ask this because sometimes I get errors about <code>NameError: global name 'a' not defined</code>, but in trying to make the skeleton code case above, the error seems to have gone away.</p>\n"}, {"tags": ["python", "python-3.x", "kdb", "pyq"], "answers": [{"tags": [], "owner": {"reputation": 2053, "user_id": 5403209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66af486aba77af58bb156dfe132186f9?s=128&d=identicon&r=PG", "display_name": "Alexander Belopolsky", "link": "https://stackoverflow.com/users/5403209/alexander-belopolsky"}, "is_accepted": true, "score": 3, "last_activity_date": 1543444985, "creation_date": 1543444985, "answer_id": 53529213, "question_id": 53528830, "link": "https://stackoverflow.com/questions/53528830/open-connection-handle-and-update-kdb-table-with-hopen-in-pyq/53529213#53529213", "title": "Open connection handle and update kdb table with hopen in PyQ", "body": "<p>Your client commands can be translated to PyQ as follows:</p>\n\n<pre><code>&gt;&gt;&gt; h = q.hopen('::5000')\n&gt;&gt;&gt; h(('f','aa',99)).show()\nkeycol| col2 col3\n------| ---------\naa    | 99   1.1\nbb    | 20   2.2\ncc    | 30   3.3\n&gt;&gt;&gt; h.hclose()\nk('::')\n</code></pre>\n\n<p>Note that this will not update the table on the server unless you change f to use `t instead of t.</p>\n"}], "owner": {"reputation": 343, "user_id": 8833237, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ee44e4b4cba01d79c209afd7d98933ff?s=128&d=identicon&r=PG&f=1", "display_name": "marrowgari", "link": "https://stackoverflow.com/users/8833237/marrowgari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 0, "accepted_answer_id": 53529213, "answer_count": 1, "score": 0, "last_activity_date": 1559738687, "creation_date": 1543442763, "last_edit_date": 1559738687, "question_id": 53528830, "link": "https://stackoverflow.com/questions/53528830/open-connection-handle-and-update-kdb-table-with-hopen-in-pyq", "title": "Open connection handle and update kdb table with hopen in PyQ", "body": "<p>I'd like to use PyQ to parse a json object and then update a keyed kdb table running on a different port by pushing the parsed data through an open handle to the keyed table.</p>\n\n<p>To open a handle and update the kdb table in q would require the following steps...</p>\n\n<p>On the server; open the port, define a table and a function</p>\n\n<pre><code>q)\\p 5000\nq)t:([keycol:`aa`bb`cc]col2:10 20 30; col3: 1.1 2.2 3.3)\nq)f:{[x;y]update col2: y from t where keycol=x}\nq)t\nkeycol| col2 col3\n------| ---------\naa    | 10   1.1\nbb    | 20   2.2\ncc    | 30   3.3\n</code></pre>\n\n<p>On the client; open the connection handle, call the function, close the connection handle...</p>\n\n<pre><code>q)h:hopen `::5000\nq)h (`f; `aa; 99)\nkeycol| col2 col3\n------| ---------\naa    | 99   1.1\nbb    | 20   2.2\ncc    | 30   3.3\nq)hclose h\n</code></pre>\n\n<p>What is the correct syntax to perform this operation in PyQ?</p>\n"}, {"tags": ["python", "python-3.x", "collision-detection", "zelle-graphics"], "comments": [{"owner": {"reputation": 720, "user_id": 10696884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TZLhm3qAv5U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTJ8AUH3mkzlYyEQgF0K4AqDVXLw/mo/photo.jpg?sz=128", "display_name": "Thomas Lang", "link": "https://stackoverflow.com/users/10696884/thomas-lang"}, "edited": false, "score": 2, "creation_date": 1543442808, "post_id": 53528779, "comment_id": 93926384, "body": "Most commonly, collision detection happens between bounding boxes i.e. rectangles. This makes it a lot easier, faster and more maintainable to implement this checking. If this fits your needs, draw yourself two rectangles, check how they can overlay and derive a collision condition."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 720, "user_id": 10696884, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TZLhm3qAv5U/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTJ8AUH3mkzlYyEQgF0K4AqDVXLw/mo/photo.jpg?sz=128", "display_name": "Thomas Lang", "link": "https://stackoverflow.com/users/10696884/thomas-lang"}, "edited": false, "score": 0, "creation_date": 1543443904, "post_id": 53528779, "comment_id": 93926803, "body": "Typically a program <i>detects</i> collisions (they&#39;re not &quot;input&quot;). @ThomasLang&#39;s comment describes how this basically works, and now that you know what it&#39;s called, you should be able to research the subject in more detail."}], "owner": {"reputation": 27, "user_id": 10688284, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wm3vSkw1kTA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-i29mmSn_jO906ndkbsv61LVn3TAA/mo/photo.jpg?sz=128", "display_name": "joseph viviano", "link": "https://stackoverflow.com/users/10688284/joseph-viviano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "closed_date": 1543526336, "answer_count": 0, "score": 2, "last_activity_date": 1543468780, "creation_date": 1543442507, "last_edit_date": 1543468780, "question_id": 53528779, "link": "https://stackoverflow.com/questions/53528779/how-do-i-input-collision", "closed_reason": "Duplicate", "title": "How do I input collision?", "body": "<pre><code>from graphics import*\nimport time\nimport random \n\ndef main():\n\n    numx=random.randint(10,700)\n\n    wn=GraphWin(\"AK\",700,700)\n    wn.setBackground(\"white\")\n\n    msg=Text(Point(25,30),\"Score\")\n    msg.setSize(12)\n    msg.setTextColor('blue')\n    msg.draw(wn)\n\n    inch=Entry(Point(60,30),2)\n    inch.setFill('white')\n    inch.draw(wn) \n\n    sqrg=Rectangle(Point(330,650),Point(430,665))\n    sqrg.setFill(\"red\")\n    sqrg.draw(wn)\n\n    xval=10\n    yval=0\n    wn.getMouse()\n    for i in range(35):\n        blx=Circle(Point(numx,100),20)\n        blx.setFill(\"blue\")\n        blx.draw(wn)\n        num=blx\n        for k in range(35):\n            numx=random.randint(10,700)\n            blx.move(0,20)\n            time.sleep(0.08)\n            sqrg.move(xval,yval)\n            symbl=wn.checkKey()\n            if symbl==\"Right\":\n                    xval=10\n                    yval=0\n            if symbl==\"Left\":\n                    xval=-10\n                    yval=0\n\nmain()\n</code></pre>\n\n<p>How to input collision into my program for when the circle hits the rectangle? Also how to make the score go up when that happens?</p>\n"}, {"tags": ["python", "list", "scipy", "minimize"], "comments": [{"owner": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 1, "creation_date": 1543442703, "post_id": 53528747, "comment_id": 93926353, "body": "Could you add some data / code ?"}, {"owner": {"reputation": 11, "user_id": 10719493, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cgx43Y38fRM/AAAAAAAAAAI/AAAAAAAAADQ/vZFV63614bw/photo.jpg?sz=128", "display_name": "Douglas Zechin", "link": "https://stackoverflow.com/users/10719493/douglas-zechin"}, "reply_to_user": {"reputation": 22382, "user_id": 5025009, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7KIA9.png?s=128&g=1", "display_name": "seralouk", "link": "https://stackoverflow.com/users/5025009/seralouk"}, "edited": false, "score": 0, "creation_date": 1543442920, "post_id": 53528747, "comment_id": 93926416, "body": "The code is overcomplicated for such a small problem, so I will sumarize it: Let&#39;s say I want to minimize a function f(w) where w=[1,2,3,4,5,6,7,8]. For some reason I need some of the values of w to be 0 during the minimization process. Is there any way to pass this information to scipy oder than with the constraints argument?"}], "answers": [{"tags": [], "owner": {"reputation": 3541, "user_id": 5625497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f200aaa56fa9cba9baa9170c514fb125?s=128&d=identicon&r=PG&f=1", "display_name": "Mstaino", "link": "https://stackoverflow.com/users/5625497/mstaino"}, "is_accepted": false, "score": 0, "last_activity_date": 1543859298, "creation_date": 1543859298, "answer_id": 53599120, "question_id": 53528747, "link": "https://stackoverflow.com/questions/53528747/vector-with-some-fixed-values-as-a-variable-of-scipy-minimization-fucntion/53599120#53599120", "title": "Vector with some fixed values as a variable of scipy minimization fucntion", "body": "<p>You can always wrap your function. A very unelegant, simple example:</p>\n\n<pre><code>from scipy.optimize import minimize\n\ndef f(x):\n    a, b, c, d = x\n    return a**2 + b**2 + c**2 + d**2\n\ndef f_with_zeros(z):\n    a, d = z\n    b = c = 0\n    return f([a, b, c, d])\n\nres = minimize(f_with_zeros, [0, 0])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10719493, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Cgx43Y38fRM/AAAAAAAAAAI/AAAAAAAAADQ/vZFV63614bw/photo.jpg?sz=128", "display_name": "Douglas Zechin", "link": "https://stackoverflow.com/users/10719493/douglas-zechin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543859298, "creation_date": 1543442317, "question_id": 53528747, "link": "https://stackoverflow.com/questions/53528747/vector-with-some-fixed-values-as-a-variable-of-scipy-minimization-fucntion", "title": "Vector with some fixed values as a variable of scipy minimization fucntion", "body": "<p>Is there any way to minimize a function with Scipy whose variable is a list with some specific values that may be 0? I tried to use constraints to solve this problem, but it seems that the minimizer is also iterating over these 0 elements, what leads to more computational expense.</p>\n"}, {"tags": ["python", "pip", "pyqt4"], "answers": [{"tags": [], "owner": {"reputation": 143, "user_id": 10669112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/766b821c43955b98df4b813d0e70c941?s=128&d=identicon&r=PG&f=1", "display_name": "Dipack", "link": "https://stackoverflow.com/users/10669112/dipack"}, "is_accepted": true, "score": 1, "last_activity_date": 1543444037, "creation_date": 1543444037, "answer_id": 53529036, "question_id": 53528729, "link": "https://stackoverflow.com/questions/53528729/should-i-delete-whl-installers-after-packages-have-successfully-been-installed/53529036#53529036", "title": "Should I delete .whl installers after packages have successfully been installed?", "body": "<p>You could delete the wheel package. It won't prevent you from uninstalling the package. </p>\n\n<p>If, however, you need to reinstall the same package again, you will have to acquire the wheel package again, obviously. </p>\n"}], "owner": {"reputation": 181, "user_id": 8574419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cREB.png?s=128&g=1", "display_name": "Frank Fanelli", "link": "https://stackoverflow.com/users/8574419/frank-fanelli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 740, "favorite_count": 0, "accepted_answer_id": 53529036, "answer_count": 1, "score": 1, "last_activity_date": 1562271317, "creation_date": 1543442208, "last_edit_date": 1562271317, "question_id": 53528729, "link": "https://stackoverflow.com/questions/53528729/should-i-delete-whl-installers-after-packages-have-successfully-been-installed", "title": "Should I delete .whl installers after packages have successfully been installed?", "body": "<p>I have recently installed <code>PyQt4</code>. The installation was successful. Is it good practice to now delete the <code>PyQt4-4.11.4-cp37-cp37m-win_amd64.whl</code> file? Will this prevent me from using <code>pip uninstall PyQt4</code>in the future?</p>\n"}, {"tags": ["python", "python-3.x", "performance", "cython"], "comments": [{"owner": {"reputation": 588, "user_id": 3394510, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/d3860f752c60cd72fac9f9335b87b0cb?s=128&d=identicon&r=PG&f=1", "display_name": "ekiim", "link": "https://stackoverflow.com/users/3394510/ekiim"}, "edited": false, "score": 0, "creation_date": 1543444612, "post_id": 53528716, "comment_id": 93927036, "body": "I haven&#39;t worked with optimizing python code with Cython, only with regular python interpreter, but there are many types of optimizations that python does, and they might not seem like much, but when It get&#39;s down to Python Byte Code, the difference from using a function to do something or using a <i>built in</i> feature, makes a lot of difference on the number of instructions used, in the Byte Code Stack, you could use the <code>dis</code> module to explore more."}], "answers": [{"comments": [{"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1543480703, "post_id": 53534552, "comment_id": 93937221, "body": "Sorry, either my question isn&#39;t clear enough (it is about <code>cdef-class.__setitem__</code> vs <code>cdef-class.setitem()</code> and not cdef-class vs python-class) or I miss some crucial points in your answer, because I don&#39;t understand how it explains why <code>__setitem__</code> is faster"}, {"owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "reply_to_user": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1543481901, "post_id": 53534552, "comment_id": 93937854, "body": "For a <code>cdef class</code>, <code>__setitem__</code> is a slot in the <code>PyTypeObject</code>, so it can be found by by a couple of <code>NULL</code> checks on C pointers followed by a C function call. It&#39;s also known not to return anything so there&#39;s no handling of returned objects. For the other cases (<code>setitem</code> on both <code>cdef</code> and python classes, <code>__setitem__</code> on a Python class) you need to look up the function in the object&#39;s dictionary then call a Python callable, then handle a result. I&#39;ll look at my answer later to see if I can clarify a bit more"}], "tags": [], "owner": {"reputation": 23048, "user_id": 4657412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4915a27d01efa79d81d322511ee517a9?s=128&d=identicon&r=PG&f=1", "display_name": "DavidW", "link": "https://stackoverflow.com/users/4657412/davidw"}, "is_accepted": true, "score": 4, "last_activity_date": 1543502871, "last_edit_date": 1543502871, "creation_date": 1543479657, "answer_id": 53534552, "question_id": 53528716, "link": "https://stackoverflow.com/questions/53528716/why-is-setitem-much-faster-than-an-equivalent-normal-method-for-cdef-class/53534552#53534552", "title": "Why is __setitem__ much faster than an equivalent &quot;normal&quot; method for cdef-classes?", "body": "<p>There's quite a bit of overhead for a generic Python method call - Python looks up the relevant attribute (a dictionary lookup), ensures that the attribute is a callable object, and once it's called handles the result. This overhead also applies to generic <code>def</code> functions for <code>cdef</code> classes (the only difference being is that the implementation of the method is defined in C).</p>\n\n<p>However, special methods on C/Cython classes can be optimised, as follows:</p>\n\n<h2>Lookup speed</h2>\n\n<p>As a shortcut,\n<code>PyTypeObject</code> in the Python C API defines a number of different \"slots\" - direct function pointers for special methods. For <code>__setitem__</code> there's actually two available: <a href=\"https://docs.python.org/3/c-api/typeobj.html#c.PyMappingMethods.mp_ass_subscript\" rel=\"nofollow noreferrer\"><code>PyMappingMethods.mp_ass_subscript</code></a> which corresponds to a generic \"mapping\" call, and <a href=\"https://docs.python.org/3/c-api/typeobj.html#c.PySequenceMethods.sq_ass_item\" rel=\"nofollow noreferrer\"><code>PySequenceMethods.sq_ass_item</code></a>, which lets you use an int as the indexer directly and corresponds to the C API function <a href=\"https://docs.python.org/3/c-api/sequence.html#c.PySequence_SetItem\" rel=\"nofollow noreferrer\"><code>PySequence_SetItem</code></a>.</p>\n\n<p>For a <code>cdef class</code>, Cython only seems to generate the first (generic) one, so the speedup isn't from passing a C <code>int</code> directly. Cython does not fill these slots when generating a non-<code>cdef</code> class.</p>\n\n<p>The advantage of these is that (for a C/Cython class) finding the <a href=\"https://github.com/python/cpython/blob/621cebe81b1e6c8de10425955bf532d31ee4df42/Objects/abstract.c#L188\" rel=\"nofollow noreferrer\"><code>__setitem__</code> function just involves a couple of pointer NULL checks followed by a C function call</a>. This also applies to <code>__len__</code> which is also defined by slots in <code>PyTypeObject</code></p>\n\n<p>In contrast,</p>\n\n<ul>\n<li><p>for a Python class calling <code>__setitem__</code>, it instead <a href=\"https://github.com/python/cpython/blob/1c607155c9e363489036ae6258b165a3fae75134/Objects/typeobject.c#L6175\" rel=\"nofollow noreferrer\">uses a default implementation</a> which does a dictionary lookup for the string <code>\"__setitem__\"</code>.</p></li>\n<li><p>For either a <code>cdef</code> or Python class calling a non-special <code>def</code> function, the attribute is looked up from the class/instance dictionary (which is slower)</p></li>\n</ul>\n\n<p>Note that if the <code>setitem</code> regular function were to be defined in a <code>cdef class</code> as <code>cpdef</code> instead (and called from Cython) then Cython implements its own mechanism for a speedy lookup.</p>\n\n<h2>Calling efficiency</h2>\n\n<p>Having found the attribute it must be called. Where the special functions have been retrieved from <code>PyTypeObject</code> (e.g. <code>__setitem__</code> and <code>__len__</code> on a <code>cdef class</code>), they are simply C function pointers and so can be called directly.</p>\n\n<p>For every other case the <code>PyObject</code> retrieved from attribute lookup must evaluated to see if it's a callable, then called.</p>\n\n<h2>Return handling</h2>\n\n<p>When <code>__setitem__</code> is called from <code>PyTypeObject</code> as a special function the return value is an int, which is simply used as an error flag. No reference counting or handling of Python objects is needed.</p>\n\n<p>When <code>__len__</code> is called from a <code>PyTypeObject</code> as a special function, the return type is a <code>Py_ssize_t</code>, which must be converted to a Python object and then destroyed when no longer needed.</p>\n\n<p>For normal functions (e.g. <code>setitem</code> called from a Python or Cython class, or <code>__setitem__</code> defined in a Python class), the return value is a <code>PyObject*</code>, which must be reference counted/destroyed appropriately.</p>\n\n<hr>\n\n<p>In summary,  the difference is really to do with shortcuts in finding and calling the function rather than whether the contents of the function is Cythonized.</p>\n"}, {"tags": [], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "is_accepted": false, "score": 1, "last_activity_date": 1543575906, "creation_date": 1543575906, "answer_id": 53556295, "question_id": 53528716, "link": "https://stackoverflow.com/questions/53528716/why-is-setitem-much-faster-than-an-equivalent-normal-method-for-cdef-class/53556295#53556295", "title": "Why is __setitem__ much faster than an equivalent &quot;normal&quot; method for cdef-classes?", "body": "<p>@DavidW's answer hits the nail on the head, here are some more experiments and details which corroborate his answer.</p>\n\n<p><strong>Calling a special function which returns \u00b4None`is fast, no matter how many arguments:</strong></p>\n\n<pre><code>%%cython\ncdef class CyA:\n# special functions\n    def __setitem__(self, index, val):\n        pass\n    def __getitem__(self, index):\n        pass\n</code></pre>\n\n<p>and now</p>\n\n<pre><code>a=CyA()  \n%timeit a[0]    # 29.8 ns \u00b1 1.9 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n%timeit a[0]=3  # 29.3 ns \u00b1 0.942 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>The signature of the functions is known, there is no need to construct <code>*args</code>, <code>**kwargs</code>. The look-up in the slot is as fast as it gets.</p>\n\n<p><strong>Overhead of calling a normal function depends on the number of arguments</strong>:</p>\n\n<pre><code>%%cython\ncdef class CyA:\n...\n# normal functions:   \n    def fun0(self):\n        pass    \n    def fun1(self, arg):\n        pass    \n    def fun2(self, arg1, arg2):\n        pass\n</code></pre>\n\n<p>and now:</p>\n\n<pre><code>a=CyA()  \n...\n%timeit a.fun0()     # 64.1 ns \u00b1 2.49 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)     \n%timeit a.fun1(1)    # 67.6 ns \u00b1 0.785 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each) \n%timeit a.fun2(2,3)  # 94.7 ns \u00b1 1.04 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>The overhead is bigger than for calling of methods from slots, but also bigger if there have (at least) two arguments (not taking <code>self</code> into account): <code>65ns</code> vs <code>95ns</code>.</p>\n\n<p>The reason: cython-methods can be one of the following types</p>\n\n<ol>\n<li><a href=\"https://docs.python.org/3/c-api/structures.html#METH_NOARGS\" rel=\"nofollow noreferrer\"><code>METH_NOARGS</code></a> - only with argument <code>self</code></li>\n<li><a href=\"https://docs.python.org/3/c-api/structures.html#METH_O\" rel=\"nofollow noreferrer\"><code>METH_O</code></a> - only with <code>self</code> + one argument</li>\n<li><a href=\"https://docs.python.org/3/c-api/structures.html#METH_VARARGS\" rel=\"nofollow noreferrer\"><code>METH_VARARGS|METH_KEYWORDS</code></a> - with arbitrary number of elements</li>\n</ol>\n\n<p>The method <code>fun2</code> is of third type, thus in order to be called it Python has to construct list <code>*args</code>, which leads to additional overhead.</p>\n\n<p>** Returning from a special method can have more overhead as from normal method\":</p>\n\n<pre><code>%%cython\ncdef class CyA:\n...\ndef __len__(self):\n    return 1  # return 1000 would be slightly slower\ndef len(self):\n    return 1\n</code></pre>\n\n<p>leads to:</p>\n\n<pre><code>a=CyA()\n...  \n%timeit len(a)   # 52.1 ns \u00b1 1.57 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n%timeit a.len()  # 57.3 ns \u00b1 1.39 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>As @DavidW has pointed out, for <code>__len__</code>, in every call a \"new\" int-object must be constructed from returned <code>Py_ssize_t</code> (in the case of <code>1</code> it is an integer from the pool, so it is not really constructed - but it were in case of bigger numbers).</p>\n\n<p>This is not the case for <code>len()</code>: for this special implementation, Cython initializes a global object, which is returned by <code>len()</code> - increasing the reference counter doesn't cost much (compared to creating an integer!).</p>\n\n<p>Thus, both <code>__len__</code> and <code>len()</code> run approximately equally fast - but the time is spent for different things (creating integer vs. lookup overhead).</p>\n"}], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 1, "accepted_answer_id": 53534552, "answer_count": 2, "score": 6, "last_activity_date": 1543575906, "creation_date": 1543442108, "last_edit_date": 1543480396, "question_id": 53528716, "link": "https://stackoverflow.com/questions/53528716/why-is-setitem-much-faster-than-an-equivalent-normal-method-for-cdef-class", "title": "Why is __setitem__ much faster than an equivalent &quot;normal&quot; method for cdef-classes?", "body": "<p>It looks like, for Cython's cdef-classes, using class special methods is sometimes faster than identical \"usual\" method, for example <code>__setitem__</code> is 3 times faster than <code>setitem</code>:</p>\n\n<pre><code>%%cython\ncdef class CyA:\n    def __setitem__(self, index, val):\n        pass\n    def setitem(self, index, val):\n        pass\n</code></pre>\n\n<p>and now:</p>\n\n<pre><code>cy_a=CyA()\n%timeit cy_a[0]=3              # 32.4 ns \u00b1 0.195 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n%timeit cy_a.setitem(0,3)      # 97.5 ns \u00b1 0.389 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>This neither the \"normal\" behavior for Python, for which the special functions are even somewhat slower (and obviosly slower than the Cython-equivalent):</p>\n\n<pre><code>class PyA:\n    def __setitem__(self, index, val):\n        pass\n    def setitem(self, index, val):\n        pass\n\npy_a=PyA()\n%timeit py_a[0]=3           # 198 ns \u00b1 2.51 ns per loop (mean \u00b1 std. dev. of 7 runs, 1000000 loops each)\n%timeit py_a.setitem(0,3)   # 123 ns \u00b1 0.619 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>nor this is the case in Cython for all special functions:</p>\n\n<pre><code>%%cython\ncdef class CyA:\n    ...\n    def __len__(self):\n        return 1\n    def len(self):\n        return 1\n</code></pre>\n\n<p>which leads to:</p>\n\n<pre><code>cy_a=CyA()\n%timeit len(cy_a)    #  59.6 ns \u00b1 0.233 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n%timeit cy_a.len()   #  66.5 ns \u00b1 0.326 ns per loop (mean \u00b1 std. dev. of 7 runs, 10000000 loops each)\n</code></pre>\n\n<p>i.e. almost identical running times.</p>\n\n<p>Why is <code>__setitem__(...)</code> so much faster, than <code>setitem(...)</code> in a cdef-class, even if both are cythonized?</p>\n"}, {"tags": ["python", "llvm", "llvm-ir", "llvmlite"], "comments": [{"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1543444842, "post_id": 53528676, "comment_id": 93927123, "body": "I don&#39;t think the c tag belongs here"}, {"owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1543450597, "post_id": 53528676, "comment_id": 93928563, "body": "@AnttiHaapala It is a problem with the source of LLVM, which (iirc) is in C"}, {"owner": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1543466510, "post_id": 53528676, "comment_id": 93931854, "body": "... and that is c++, very clearly from the assertion msg. There is neither <code>&lt;...&gt;</code> nor <code>::</code> in C."}, {"owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "reply_to_user": {"reputation": 116557, "user_id": 918959, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b9051b2917c3d55d55b3d7042fa49f6c?s=128&d=identicon&r=PG", "display_name": "Antti Haapala", "link": "https://stackoverflow.com/users/918959/antti-haapala"}, "edited": false, "score": 0, "creation_date": 1543506236, "post_id": 53528676, "comment_id": 93952188, "body": "You&#39;re correct. I forgot that C++ existed for a minute"}, {"owner": {"reputation": 989, "user_id": 5871748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f1Ty1.png?s=128&g=1", "display_name": "Chirag Patel", "link": "https://stackoverflow.com/users/5871748/chirag-patel"}, "edited": false, "score": 0, "creation_date": 1543581884, "post_id": 53528676, "comment_id": 93980965, "body": "Can you give a short example, using which others can re-produce issue?"}, {"owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "reply_to_user": {"reputation": 989, "user_id": 5871748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f1Ty1.png?s=128&g=1", "display_name": "Chirag Patel", "link": "https://stackoverflow.com/users/5871748/chirag-patel"}, "edited": false, "score": 0, "creation_date": 1543598320, "post_id": 53528676, "comment_id": 93989763, "body": "@ChiragPatel An example of what? LLVM IR? It doesn&#39;t get emitted due to the error."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1546883371, "post_id": 53528676, "comment_id": 94992085, "body": "So the code used to reproduce the problem is on the other question? Or how can the question be reduced to <a href=\"https://stackoverflow.com/help/mcve\">&#91;SO&#93;: How to create a Minimal, Complete, and Verifiable example (mcve)</a>?"}, {"owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1546887077, "post_id": 53528676, "comment_id": 94993610, "body": "@CristiFati The relevant code is included here. I included the line that causes the weird error."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1546887860, "post_id": 53528676, "comment_id": 94993960, "body": "I understand, but the problem can&#39;t be reproduced without irrelevant code. So in order to have an <i>mcve</i>, that should be included as well."}, {"owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1546888186, "post_id": 53528676, "comment_id": 94994104, "body": "@CristiFati I added the stacktrace of <code>clang</code> and a link to the IR that causes the segfault."}], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "is_accepted": false, "score": 1, "last_activity_date": 1546893743, "creation_date": 1546893743, "answer_id": 54081573, "question_id": 53528676, "link": "https://stackoverflow.com/questions/53528676/assertion-failure-in-llvm-with-llvmlite/54081573#54081573", "title": "Assertion failure in LLVM with LLVMlite", "body": "<p>I removed the code that compiled and ran the IR (via llvmlite.bindings). This fixed the assertion error. However, as I detailed <a href=\"https://stackoverflow.com/q/54081557/4807393\">here</a>, there is still an issue.</p>\n"}], "owner": {"reputation": 798, "user_id": 4807393, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EXDvV.png?s=128&g=1", "display_name": "NoOneIsHere", "link": "https://stackoverflow.com/users/4807393/nooneishere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 514, "favorite_count": 0, "answer_count": 1, "score": 7, "last_activity_date": 1546893743, "creation_date": 1543441875, "last_edit_date": 1546893668, "question_id": 53528676, "link": "https://stackoverflow.com/questions/53528676/assertion-failure-in-llvm-with-llvmlite", "title": "Assertion failure in LLVM with LLVMlite", "body": "<p>(This happened while doing the fix I found here: <a href=\"https://stackoverflow.com/questions/53508969/llvm-ir-expose-variables-to-gdb\">LLVM IR: expose variables to GDB?</a>) </p>\n\n<p>I am trying to compile some code written in a custom programming language. It is compiled to LLVM IR, and then compiled to an ELF by clang. However, I was trying to add debugging information to a call:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>res = self.builder.call(fn, args)\nres.set_metadata('dbg', self.module.add_debug_info('DILocation', {\n                'line': i.meta.line,\n                'column': i.meta.column,\n                'scope': self.subprogram\n            }))\n</code></pre>\n\n<p>I got a very nice error: <code>python: /root/miniconda3/conda-bld/llvmdev_1531160641630/work/include/llvm/Support/Casting.h:106: static bool llvm::isa_impl_cl&lt;To, const From*&gt;::doit(const From*) [with To = llvm::DIBasicType; From = llvm::Metadata]: Assertion 'Val &amp;&amp; \"isa&lt;&gt; used on a null pointer\"' failed.</code> How can I fix this error? I have the latest version of llvmlite: <code>llvmlite==0.26.0</code></p>\n\n<p>Note: this similar code does not generate any errors:</p>\n\n<pre><code>res = fncall(self.builder, self.module, fn, args).eval()  \n# equivalent to self.builder.call(fn, args, name='called_{0}'.format(fn.name)) but defined in a class\nres.set_metadata('dbg', self.module.add_debug_info('DILocation', {\n                'line': i.meta.line,\n                'column': i.meta.column,\n                'scope': self.subprogram\n            }))\n</code></pre>\n\n<p>I updated both <code>llvm-6.0</code>, <code>clang-6.0</code>, and <code>llvmlite</code>, and this error still occurs.</p>\n"}, {"tags": ["python", "python-3.x", "python-imaging-library", "importerror", "cx-freeze"], "comments": [{"owner": {"reputation": 1305, "user_id": 8440367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kCwFQ.jpg?s=128&g=1", "display_name": "jalazbe", "link": "https://stackoverflow.com/users/8440367/jalazbe"}, "edited": false, "score": 0, "creation_date": 1543442122, "post_id": 53528640, "comment_id": 93926137, "body": "Is Pillow installed on the same environment of the project?"}], "answers": [{"tags": [], "owner": {"reputation": 602, "user_id": 4093019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f16f1c8262082b89daa3c05e05f78c7d?s=128&d=identicon&r=PG&f=1", "display_name": "radarhere", "link": "https://stackoverflow.com/users/4093019/radarhere"}, "is_accepted": false, "score": 0, "last_activity_date": 1543479500, "creation_date": 1543479500, "answer_id": 53534518, "question_id": 53528640, "link": "https://stackoverflow.com/questions/53528640/python-cx-freeze-importerror/53534518#53534518", "title": "python - cx_Freeze ImportError", "body": "<p>You have 'Pillow' listed as a package in 'options', causing cx_freeze to try and import 'Pillow' - however, this should be 'PIL' instead, as that is the name of the module. 'Pillow' is simply the human name for the package.</p>\n\n<p><code>options = {'packages':['pygame', 'PIL'],</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8969265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2656c2fda4c705c3637015ca75d3b64f?s=128&d=identicon&r=PG&f=1", "display_name": "user8969265", "link": "https://stackoverflow.com/users/8969265/user8969265"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543479500, "creation_date": 1543441743, "question_id": 53528640, "link": "https://stackoverflow.com/questions/53528640/python-cx-freeze-importerror", "title": "python - cx_Freeze ImportError", "body": "<p>I'm using cx_Freeze to convert my game into an executable and I'm consistently getting this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"setup.py\", line 15, in &lt;module&gt;\n    executables=[Executable('racecar.py')])\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python3732\\lib\\site-packages\\cx_Freeze\\dist.py\", line 349, in setup\n    distutils.core.setup(**attrs)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\core.py\", line 148, in setup\n    dist.run_commands()\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\dist.py\", line 966, in run_commands\n    self.run_command(cmd)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\command\\build.py\", line 135, in run\n    self.run_command(cmd_name)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\cmd.py\", line 313, in run_command\n    self.distribution.run_command(command)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\distutils\\dist.py\", line 985, in run_command\n    cmd_obj.run()\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\cx_Freeze\\dist.py\", line 219, in run\n    freezer.Freeze()\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\cx_Freeze\\freezer.py\", line 624, in Freeze\n    self.finder = self._GetModuleFinder()\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\cx_Freeze\\freezer.py\", line 347, in _GetModuleFinder\n    finder.IncludePackage(name)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\cx_Freeze\\finder.py\", line 659, in IncludePackage\n    module = self._ImportModule(name, deferredImports)\n  File \"C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\lib\\site-packages\\cx_Freeze\\finder.py\", line 351, in _ImportModule\n    raise ImportError(\"No module named %r\" % name)\nImportError: No module named 'Pillow'\n</code></pre>\n\n<p>This is my setup.py:</p>\n\n<pre><code>from cx_Freeze import setup, Executable\nimport os\n\nos.environ['TCL_LIBRARY'] = r'C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\tcl\\tcl8.6'\nos.environ['TK_LIBRARY'] = r'C:\\Users\\Shaunak.Warty22\\AppData\\Local\\Programs\\Python\\Python37-32\\tcl\\tk8.6'\n\noptions = {'packages':['pygame', 'Pillow'],\n       'include_files':['Lobster-Regular.ttf', 'NosiferCaps-Regular.ttf', 'racecar.png']}\n\nsetup(\n    name = 'Racecar Dodge',\n    version = 0.1,\n    description = 'Use your racecar to dodge obstacles and try to get as many blocks dodged as possible!',\n    options={'build_exe': options},\n    executables=[Executable('racecar.py')])\n</code></pre>\n\n<p>I have Pillow installed on my computer and I have it in setup.py, so I'm confused as to why I'm getting the error.</p>\n"}, {"tags": ["python", "jpeg", "h5py", "file-conversion"], "comments": [{"owner": {"reputation": 509, "user_id": 3487040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qS36g.jpg?s=128&g=1", "display_name": "eapetcho", "link": "https://stackoverflow.com/users/3487040/eapetcho"}, "edited": false, "score": 1, "creation_date": 1543441924, "post_id": 53528616, "comment_id": 93926052, "body": "You can quickly learn about <b>h5py</b> module from here <a href=\"http://docs.h5py.org/en/stable/quick.html\" rel=\"nofollow noreferrer\">Quick Start With h5py</a>"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1543441979, "post_id": 53528616, "comment_id": 93926078, "body": "Please create a minimal complete verifiable example along with the <b>exact</b> error."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 1, "creation_date": 1543442187, "post_id": 53528616, "comment_id": 93926164, "body": "Do you want us to guess what line the error is on? See how to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1543442244, "post_id": 53528616, "comment_id": 93926184, "body": "I guess <code>hdf.get(&quot;train_happy.h5&quot;)</code> or <code>hdf2.get(&quot;test_happy.h5&quot;)</code> are returning <code>None</code> and you are trying to convert to a <code>list</code>."}, {"owner": {"reputation": 21133, "user_id": 1084416, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RLhZZ.jpg?s=128&g=1", "display_name": "Peter Wood", "link": "https://stackoverflow.com/users/1084416/peter-wood"}, "edited": false, "score": 0, "creation_date": 1543442514, "post_id": 53528616, "comment_id": 93926274, "body": "What does <code>print(list(hdf.keys()))</code> give you? Edit the question, I&#39;m not here to chat."}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1543465854, "post_id": 53529727, "comment_id": 93931711, "body": "For a Dataset name, <code>array_x = hdf[&#39;train_set_x&#39;][:]</code> should be all that&#39;s needed to load the array.  <code>hdf</code> and <code>groups</code> behave like Python dictionaries.  Datasets index like numpy arrays."}, {"owner": {"reputation": 3036, "user_id": 10462884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/09Tg9.jpg?s=128&g=1", "display_name": "kcw78", "link": "https://stackoverflow.com/users/10462884/kcw78"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1543500220, "post_id": 53529727, "comment_id": 93948528, "body": "@hpaulj. Good point. Thanks. I was in a hurry and simply copied the OPs code (shame on me). I will modify my example to reflect your comments"}], "tags": [], "owner": {"reputation": 3036, "user_id": 10462884, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/09Tg9.jpg?s=128&g=1", "display_name": "kcw78", "link": "https://stackoverflow.com/users/10462884/kcw78"}, "is_accepted": true, "score": 1, "last_activity_date": 1543501487, "last_edit_date": 1543501487, "creation_date": 1543448165, "answer_id": 53529727, "question_id": 53528616, "link": "https://stackoverflow.com/questions/53528616/typeerror-nonetype-object-is-not-iterable-h5-file/53529727#53529727", "title": "TypeError: &#39;NoneType&#39; object is not iterable (h5 file)", "body": "<p>Review the example in your linked post!\nYour initial error is this in line:</p>\n\n<pre><code>array = np.array(list(hdf.get(\"train_happy.h5\")))\n</code></pre>\n\n<p><code>train_happy.h5</code> is the <strong>name of the HDF5 file</strong>. You need to use the <strong>name of the image dataset</strong> in the HDF5 file (using group/dataset nomenclature). The output from <code>list(hdf.keys())</code> indicates you have 3 nodes at the root level. Each node is either a Group or a Dataset (an image). Without knowing exactly what you have, it's hard to write the next step. Ideally you would use <code>.isinstance()</code> to get the node type. A very simple example is provided below to loop thru your node names:</p>\n\n<pre><code>for node in list(hdf.keys()) :\n    print ('working on node %s' % node)\n    object = hdf[node]\n    if (isinstance(object, h5py.Group)):\n        print ('%s is a Group' % node )\n    elif (isinstance(object, h5py.Dataset)):\n        print ('%s is a Dataset' % node )\n</code></pre>\n\n<p>Or, you could simply hack away and try this (adjusting downstream code appropriately): [code below modified per hpaulj's comments]</p>\n\n<pre><code>array_x = hdf.get[\"train_set_x\"][:]\narray_y = hdf.get[\"train_set_y\"][:]\n</code></pre>\n\n<p>The code above assumes that <code>train_set_x</code> and <code>train_set_y</code> are image datasets (similar to <code>\"Photos/Image 1\"</code> in your link).   </p>\n\n<p>Also, you DO NOT need the second hdf2 declaration (<code>hdf2 = h5py.File(\"test_happy.h5\",'r')</code>) to process a second image. You can reuse <code>hdf</code> each time, and change the name of the Group/Dataset reference as shown for <code>array_y</code> above.</p>\n"}], "owner": {"reputation": 13, "user_id": 10359467, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nHooqljFHUo/AAAAAAAAAAI/AAAAAAAAB28/kju7Rg6ttno/photo.jpg?sz=128", "display_name": "Joe", "link": "https://stackoverflow.com/users/10359467/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 573, "favorite_count": 1, "accepted_answer_id": 53529727, "answer_count": 1, "score": 0, "last_activity_date": 1543501487, "creation_date": 1543441618, "last_edit_date": 1543442644, "question_id": 53528616, "link": "https://stackoverflow.com/questions/53528616/typeerror-nonetype-object-is-not-iterable-h5-file", "title": "TypeError: &#39;NoneType&#39; object is not iterable (h5 file)", "body": "<p>I am fighting with python for a school project. I copied and pasted some code from <a href=\"https://stackoverflow.com/questions/52394252/convert-h5-file-to-jpg-with-python\">this post,</a> changing only the variable names. I am trying to convert two files from h5 to jpg. Here is my code:</p>\n\n<pre><code>import h5py\nimport numpy as np\nfrom PIL import Image\n\nhdf = h5py.File(\"train_happy.h5\",'r')\narray = np.array(list(hdf.get(\"train_happy.h5\")))\nimg = Image.fromarray(array.astype('uint8'), 'RGB')\nimg.save(\"train_happy.jpg\", \"JPEG\")\n\nhdf2 = h5py.File(\"test_happy.h5\",'r')\narray = np.array(list(hdf2.get(\"test_happy.h5\")))\nimg = Image.fromarray(array.astype('uint8'), 'RGB')\nimg.save(\"test_happy.jpg\", \"JPEG\")\n\ntraining = 'train_happy.jpg'\ntesting = 'test_happy.jpg'\n</code></pre>\n\n<p>I know absolutely nothing about h5 files or converting files using python. Please help!</p>\n\n<p>EDIT: Here is the line the error was on:</p>\n\n<pre><code>array = np.array(list(hdf.get(\"train_happy.h5\")))\n</code></pre>\n\n<p>If I had to guess, I would say the same error will happen on this line:</p>\n\n<pre><code>array = np.array(list(hdf2.get(\"test_happy.h5\")))\n</code></pre>\n\n<p>Also, the command:</p>\n\n<pre><code>print(list(hdf.keys()))\n</code></pre>\n\n<p>gives me this output:</p>\n\n<pre><code>['list_classes', 'train_set_x', 'train_set_y']\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 0, "creation_date": 1543441908, "post_id": 53528608, "comment_id": 93926046, "body": "You might find <a href=\"https://sebastianraschka.com/Articles/2014_multiprocessing.html\" rel=\"nofollow noreferrer\">this article</a> useful. It sounds like you want to use the multiprocessing module."}, {"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "reply_to_user": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 0, "creation_date": 1543444437, "post_id": 53528608, "comment_id": 93926972, "body": "Compute-bound processing often does <b>not</b> get faster by multithreading\u2014in fact it may get slower. I second @JackMoody&#39;s suggestion about looking into using the <code>multiprocessing</code> module instead."}], "answers": [{"tags": [], "owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445433, "last_edit_date": 1543445433, "creation_date": 1543442201, "answer_id": 53528728, "question_id": 53528608, "link": "https://stackoverflow.com/questions/53528608/how-to-do-multithreading-on-a-folder-with-several-files/53528728#53528728", "title": "How to do multithreading on a folder with several files?", "body": "<p>You could create a class that extends the <code>threading.Thread</code> class and then override the <code>run</code> to perform the task you want to perform if the condition is met.</p>\n\n<p>Then get all images with <code>listdir</code> and iterate over it, assigning a new thread to each image. Finally, start each thread. Below is a sample code of the above description:</p>\n\n<pre><code>import threading\nimport os\n\nclass FileThread(threading.Thread):\n\n    def __init__(self, image):\n        threading.Thread.__init__(self)\n        self.image = image\n\n    def run(self):\n        if image.endswith('.jpg'):\n            # Do stuff\n\n# List that will hold all threads.\nthreadList = []\n# List that will hold all images.\nimages = os.listdir(imagePath)\n# Assign each image to a thread.\nfor image in images:\n    threadList.append(FileThread(image))\n# Start threads.\nfor thread in threadList:\n    thread.start()\n</code></pre>\n\n<p>Another way is to use the <code>multiprocessing</code> module and assign each image to a process:</p>\n\n<pre><code>import multiprocessing as mp\nimport os\n\n# The function that will apply to every image.\ndef imageFunc(image):\n    if image.endsWith(\".jpg\"):\n        # Do something\n\n# An output queue that will hold the results.\noutput = mp.Queue()\n\n# A list of processes that will perform the 'imageFunc' on each image.\nprocesses = [mp.Process(target=imageFunc, args=(image)) for image in os.listdir(imagePath)]\n\n# Starting all the processes...\nfor p in processes:\n    p.start()\n\n# ...and wait for them to finish.\nfor p in processes:\n    p.join()\n\n# Finally, retrieve the results from the above processes.\nresult = [output.get() for p in processes]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 8635876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3284fb2b2f3fbdb9f52aa21c569773da?s=128&d=identicon&r=PG&f=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/8635876/jess"}, "edited": false, "score": 0, "creation_date": 1543613325, "post_id": 53528880, "comment_id": 93996124, "body": "Thank you! This is excactly what I wanted"}, {"owner": {"reputation": 63, "user_id": 8635876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3284fb2b2f3fbdb9f52aa21c569773da?s=128&d=identicon&r=PG&f=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/8635876/jess"}, "edited": false, "score": 0, "creation_date": 1543862385, "post_id": 53528880, "comment_id": 94062098, "body": "Also, what if I have multiple arguments, besides the image? The function I am applying to each image takes in several values. I just put it inside the args list?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10364045"}, "reply_to_user": {"reputation": 63, "user_id": 8635876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3284fb2b2f3fbdb9f52aa21c569773da?s=128&d=identicon&r=PG&f=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/8635876/jess"}, "edited": false, "score": 0, "creation_date": 1543866171, "post_id": 53528880, "comment_id": 94063925, "body": "I once passed args in as a tuple...  Possibly args=([f], other_arg)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10364045"}, "reply_to_user": {"reputation": 63, "user_id": 8635876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3284fb2b2f3fbdb9f52aa21c569773da?s=128&d=identicon&r=PG&f=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/8635876/jess"}, "edited": false, "score": 0, "creation_date": 1543871375, "post_id": 53528880, "comment_id": 94066325, "body": "Yup just tried that and it worked.. drop the [f] and just use f... so here&#39;s the tuple I used:  p = Process(target=do_stuff, args=(f, &quot;hello&quot;))"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user10364045"}, "is_accepted": true, "score": 0, "last_activity_date": 1543871707, "last_edit_date": 1543871707, "creation_date": 1543443059, "answer_id": 53528880, "question_id": 53528608, "link": "https://stackoverflow.com/questions/53528608/how-to-do-multithreading-on-a-folder-with-several-files/53528880#53528880", "title": "How to do multithreading on a folder with several files?", "body": "<p>I am thinking something like this:</p>\n\n<pre><code>#! /usr/bin/python3\nimport os\nfrom multiprocessing import Process\n\ndef do_stuff(*args):\n    print(*args)\n\nif __name__ == '__main__':\n    processes = []\n    for f in os.listdir('.'):\n        if f[-3:] == 'jpg':\n            p = Process(target=do_stuff, args=[f])\n            p.start()\n            processes.append(p)\n    for p in processes:\n        p.join()\n</code></pre>\n\n<p>Just be careful...  If you were to do args=f instead of args=[f] you'll get the wrong results</p>\n\n<p>EDIT: To pass in additional args use a tuple but drop the []:</p>\n\n<pre><code>import os\nfrom multiprocessing import Process\n\ndef do_stuff(*args):\n    print(*args)\n\nif __name__ == '__main__':\n    processes = []\n    for f in os.listdir('.'):\n        if f[-3:] == 'jpg':\n            p = Process(target=do_stuff, args=(f, \"hello\"))\n            p.start()\n            processes.append(p)\n    for p in processes:\n        p.join()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 144, "user_id": 9599442, "user_type": "registered", "profile_image": "https://graph.facebook.com/1945368878809064/picture?type=large", "display_name": "Aaron Arima", "link": "https://stackoverflow.com/users/9599442/aaron-arima"}, "is_accepted": false, "score": 1, "last_activity_date": 1543446525, "creation_date": 1543446525, "answer_id": 53529484, "question_id": 53528608, "link": "https://stackoverflow.com/questions/53528608/how-to-do-multithreading-on-a-folder-with-several-files/53529484#53529484", "title": "How to do multithreading on a folder with several files?", "body": "<p>I think like others have said you probably want to run your code in parallel which is accomplished with multiprocessing and not multithreading in python. The easiest way to do this probably using <code>multiproccessing.Pool.map</code>. All you have to do is define a function that processes one file taking the file name as the argument. Then, pass a list of all the files you would like to process to the pool.map function with the processing function. The return of <code>Pool.map</code> will be a list of the results:</p>\n\n<pre><code>from multiprocessing import Pool as ProcessPool\nimport os\n\ndef image_processor(image):\n    # do stuff\n    return results\n\nif __name__ == \"__main__\":\n    desired_file_list = [file_name for file_name in os.listdir(\"my_directory_path\") if file_name.endswith(\".jpg\")]\n\n    with ProcessPool(processes=8) as pool:\n        results = pool.map(image_processor, desired_file_list)\n\n    print(results)\n</code></pre>\n\n<p>The <code>processes</code> keyword argument controls the number processes that are spawned. </p>\n"}], "owner": {"reputation": 63, "user_id": 8635876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3284fb2b2f3fbdb9f52aa21c569773da?s=128&d=identicon&r=PG&f=1", "display_name": "Jess", "link": "https://stackoverflow.com/users/8635876/jess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1598, "favorite_count": 0, "accepted_answer_id": 53528880, "answer_count": 3, "score": 2, "last_activity_date": 1543871707, "creation_date": 1543441566, "question_id": 53528608, "link": "https://stackoverflow.com/questions/53528608/how-to-do-multithreading-on-a-folder-with-several-files", "title": "How to do multithreading on a folder with several files?", "body": "<p>I would like to iterate through a folder of image files in python and do some work on it. So it starts like this:</p>\n\n<pre><code>for image in os.listdir(imagePath):\n    if image.endswith('.jpg'):\n         &lt;DO STUFF HERE&gt;\n</code></pre>\n\n<p>I have a lot of images in that folder and would like to speed it up using multithreading. Each image will have a separate thread. How can I go about doing that?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "edited": false, "score": 0, "creation_date": 1543442452, "post_id": 53528742, "comment_id": 93926253, "body": "This data is coming in as a direct read from a website.  I can&#39;t change the setting on the column.  It comes in as a Custom setting from their system.  The setting is [hh]:mm.  Downloading it to a local drive is what I am trying to avoid.  I also didn&#39;t say pandas was the problem."}, {"owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "edited": false, "score": 0, "creation_date": 1543443016, "post_id": 53528742, "comment_id": 93926443, "body": "Also, even using converters {&#39;Planned working time&#39; : str} still results in 1900-01-01 00:00:00 showing up.  I just don&#39;t know a way to duplicate what excel is doing when it shows 32:00 when the formatting is [hh]:mm even though the underlying data bar shows 1/1/1900 06:00:00 for that same displayed 32:00"}], "tags": [], "owner": {"reputation": 47, "user_id": 3866580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccd7970315744c1bc3a66e60e29b939e?s=128&d=identicon&r=PG&f=1", "display_name": "abak1802", "link": "https://stackoverflow.com/users/3866580/abak1802"}, "is_accepted": false, "score": 0, "last_activity_date": 1543442292, "creation_date": 1543442292, "answer_id": 53528742, "question_id": 53528583, "link": "https://stackoverflow.com/questions/53528583/pandas-read-and-parse-excel-data-that-shows-as-a-datetime-but-shouldnt-be-a-da/53528742#53528742", "title": "Pandas read and parse Excel data that shows as a datetime, but shouldn&#39;t be a datetime", "body": "<p>pandas is not at fault its the excel that is interpreting the data wrongly, \nSet the data to text in that column and it wont interpret as date.\nthen save the file and open through pandas and it should work fine.\nother wise export as CSV and try to open in pandas.   </p>\n"}, {"comments": [{"owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "edited": false, "score": 0, "creation_date": 1543567793, "post_id": 53529309, "comment_id": 93973551, "body": "This didn&#39;t work for me or maybe I tried to implement it wrong; I will post what I ended up doing.  Look forward to suggested improvements."}, {"owner": {"reputation": 1091, "user_id": 9497687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54b9d1d94a58d81bd43a7ae50b567d6?s=128&d=identicon&r=PG&f=1", "display_name": "jeschwar", "link": "https://stackoverflow.com/users/9497687/jeschwar"}, "reply_to_user": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "edited": false, "score": 0, "creation_date": 1543608224, "post_id": 53529309, "comment_id": 93994112, "body": "Sounds good.  What version of <code>python</code> and <code>pandas</code> are you using?"}, {"owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "edited": false, "score": 0, "creation_date": 1543619492, "post_id": 53529309, "comment_id": 93998090, "body": "last night it was 3.6.5 and .23.4"}], "tags": [], "owner": {"reputation": 1091, "user_id": 9497687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54b9d1d94a58d81bd43a7ae50b567d6?s=128&d=identicon&r=PG&f=1", "display_name": "jeschwar", "link": "https://stackoverflow.com/users/9497687/jeschwar"}, "is_accepted": false, "score": 2, "last_activity_date": 1543445602, "creation_date": 1543445602, "answer_id": 53529309, "question_id": 53528583, "link": "https://stackoverflow.com/questions/53528583/pandas-read-and-parse-excel-data-that-shows-as-a-datetime-but-shouldnt-be-a-da/53529309#53529309", "title": "Pandas read and parse Excel data that shows as a datetime, but shouldn&#39;t be a datetime", "body": "<p>If you want <code>1/1/1900 01:00:00 AM</code> to represent 25 hours of elapsed time then this tells me your reference timestamp is <code>12/31/1899 00:00:00</code>.  Try the following:</p>\n\n<pre><code>time_delta = pd.Timestamp('1/1/1900 01:00:00 AM') - pd.Timestamp('12/31/1899 00:00:00')\n# returns Timedelta('1 days 01:00:00')\n</code></pre>\n\n<p>You can get the total number of seconds by using the <code>Timedelta.total_seconds()</code> method:</p>\n\n<pre><code>time_delta.total_seconds()\n# returns 90000.0\n</code></pre>\n\n<p>and then you could get the number of hours with </p>\n\n<pre><code>time_delta.total_seconds() / 3600.0\n# returns 25.0\n</code></pre>\n\n<p>So try subtracting <code>pd.Timestamp('12/31/1899 00:00:00')</code> from your <code>DatetimeIndex</code> based on the year 1900 to get a <code>TimedeltaIndex</code>.  You can then leave your <code>TimedeltaIndex</code> as is or convert it to a <code>Float64Index</code> with <code>TimedeltaIndex.total_seconds()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "is_accepted": true, "score": 0, "last_activity_date": 1543567869, "creation_date": 1543567869, "answer_id": 53554160, "question_id": 53528583, "link": "https://stackoverflow.com/questions/53528583/pandas-read-and-parse-excel-data-that-shows-as-a-datetime-but-shouldnt-be-a-da/53554160#53554160", "title": "Pandas read and parse Excel data that shows as a datetime, but shouldn&#39;t be a datetime", "body": "<p>Here is where I ended and it does work:</p>\n\n<pre><code>for i in range(len(df['Planned working time'])) :\n    pwt = df['Planned working time'][i]\n    if len(str(df['Planned working time'][i]).split(' ')) &gt; 1 :\n        if str(str(pwt).split(' ')[0]).split('-')[0] == '1900' :\n            workint = int(24)*int(str(str(pwt).split(' ')[0]).split('-')[2]) + int(str(pwt).split(' ')[1].split(':')[0])\n\n    elif len(str(pwt).split(' ')) == 1 :\n        if str(str(pwt).split(' ')[0]).split('-')[0] != '1900' :\n            workint = int(str(pwt).split(' ')[0].split(':')[0])\n\n    df.set_value(i, 'Planned working time', workint)\n</code></pre>\n\n<p>any suggested improvements are welcome, but this results in the correct int values in all cases.  Tested on over 14K rows of data.  This would likely have to be refined if there were minutes, but there are no cases where minutes show up in the data and the UI on the front end doesn't appear to actually allow minutes.</p>\n"}], "owner": {"reputation": 821, "user_id": 2867882, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/H7m2W.jpg?s=128&g=1", "display_name": "Shenanigator", "link": "https://stackoverflow.com/users/2867882/shenanigator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 254, "favorite_count": 0, "accepted_answer_id": 53554160, "answer_count": 3, "score": 0, "last_activity_date": 1543567869, "creation_date": 1543441468, "question_id": 53528583, "link": "https://stackoverflow.com/questions/53528583/pandas-read-and-parse-excel-data-that-shows-as-a-datetime-but-shouldnt-be-a-da", "title": "Pandas read and parse Excel data that shows as a datetime, but shouldn&#39;t be a datetime", "body": "<p>I have a system I am reading from that implemented a time tracking function in a pretty poor way - It shows the tracked working time as [hh]:mm in the cell.  Now this is problematic when attempting to read this data because when you click that cell the data bar shows 11:00:00 PM, but what that 23:00 actually represents is 23 hours of time spent and not 11PM.  So whenever the time is 24:00 or more you end up with 1/1/1900 12:00:00 AM and on up ( 25:00 = 1/1/1900 01:00:00 AM).</p>\n\n<p>So pandas picks up the 11:00:00 AM or 1/1/1900 01:00:00 AM when it comes into the dataframe.  I am at a loss as to how I would put this back into an INT for and get the number of hours in a whole number format 24, 25, 32, etc.</p>\n\n<p>Can anyone help me figure out how to turn this horribly formatted data into the number of hours in int format?</p>\n"}, {"tags": ["python", "pandas", "nltk", "counter", "word"], "comments": [{"owner": {"reputation": 4081, "user_id": 3288092, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D6zZM.png?s=128&g=1", "display_name": "BernardL", "link": "https://stackoverflow.com/users/3288092/bernardl"}, "edited": false, "score": 0, "creation_date": 1543443507, "post_id": 53528571, "comment_id": 93926651, "body": "Are your expected <code>counts</code> grouped by <code>category</code>?"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "reply_to_user": {"reputation": 4081, "user_id": 3288092, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D6zZM.png?s=128&g=1", "display_name": "BernardL", "link": "https://stackoverflow.com/users/3288092/bernardl"}, "edited": false, "score": 0, "creation_date": 1543443545, "post_id": 53528571, "comment_id": 93926661, "body": "yes, counts of distinct words grouped by category"}], "answers": [{"comments": [{"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444054, "post_id": 53529002, "comment_id": 93926852, "body": "thanks, i get &#39;unnesting&#39; is not defined ... do I need to import a package to use unnesting?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444113, "post_id": 53529002, "comment_id": 93926873, "body": "@PineNuts0 go to my linked page and run my own def function <a href=\"https://stackoverflow.com/a/53218939/7964527\">stackoverflow.com/a/53218939/7964527</a> function at the end"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444213, "post_id": 53529002, "comment_id": 93926903, "body": "trying it out now"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444288, "post_id": 53529002, "comment_id": 93926929, "body": "@PineNuts0 see above . ...see the other page accept answer at the bottom"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444580, "post_id": 53529002, "comment_id": 93927021, "body": "So Case 1 I&#39;m getting the error: ValueError: zero-dimensional arrays cannot be concatenated  BUT Case 2 worked!"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444904, "post_id": 53529002, "comment_id": 93927148, "body": "@PineNuts0 you mean <code>unnesting(df,[&#39;problem_definition&#39;])[&#39;problem_definition&#39;].v&zwnj;&#8203;alue_counts()</code> have problem  ?"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543444994, "post_id": 53529002, "comment_id": 93927180, "body": "I mean unnesting(df,[&#39;problem_definition&#39;]) has the error"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543445046, "post_id": 53529002, "comment_id": 93927195, "body": "wait ... it worked!  sorry my fault; thank you so much"}, {"owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543445627, "post_id": 53529002, "comment_id": 93927367, "body": "one more question: I want the counts field to sort from largest to smallest by category ... ?"}, {"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "reply_to_user": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "edited": false, "score": 0, "creation_date": 1543445768, "post_id": 53529002, "comment_id": 93927405, "body": "CHeck with <code>sort_index</code> and <code>sort_values</code> @PineNuts0"}], "tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 2, "last_activity_date": 1543444254, "last_edit_date": 1543444254, "creation_date": 1543443820, "answer_id": 53529002, "question_id": 53528571, "link": "https://stackoverflow.com/questions/53528571/python-pandas-nltk-frequency-distribution-for-tokenized-words-in-dataframe-colum/53529002#53529002", "title": "Python Pandas NLTK Frequency Distribution for Tokenized Words in Dataframe Column with a Groupby", "body": "<p>Using <a href=\"https://stackoverflow.com/a/53218939/7964527\">unnesting</a> , I step by step introduced couple of methods for achieve this type of problems , for fun I just link the <a href=\"https://stackoverflow.com/q/53218931/7964527\">question</a> here </p>\n\n<pre><code>unnesting(df,['problem_definition'])\nOut[288]: \n  problem_definition   No  category\n0             coffee  175      2521\n0              maker  175      2521\n0            brewing  175      2521\n0           properly  175      2521\n0                  2  175      2521\n0                420  175      2521\n0                420  175      2521\n0                420  175      2521\n1             galley  211      1438\n1               work  211      1438\n1              table  211      1438\n1              stuck  211      1438\n2              cloth  912      2698\n2              stuck  912      2698\n3              stuck  572      2521\n3             coffee  572      2521\n</code></pre>\n\n<p>Then just do regular <code>groupby</code> + <code>size</code> for case 2 </p>\n\n<pre><code>unnesting(df,['problem_definition']).groupby(['category','problem_definition']).size()\nOut[290]: \ncategory  problem_definition\n1438      galley                1\n          stuck                 1\n          table                 1\n          work                  1\n2521      2                     1\n          420                   3\n          brewing               1\n          coffee                2\n          maker                 1\n          properly              1\n          stuck                 1\n2698      cloth                 1\n          stuck                 1\ndtype: int64\n</code></pre>\n\n<p>About the case 1 <code>value_counts</code></p>\n\n<pre><code>unnesting(df,['problem_definition'])['problem_definition'].value_counts()\nOut[291]: \nstuck       3\n420         3\ncoffee      2\ntable       1\nmaker       1\n2           1\nbrewing     1\ngalley      1\nwork        1\ncloth       1\nproperly    1\nName: problem_definition, dtype: int64\n</code></pre>\n\n<p>Myself define function </p>\n\n<pre><code>def unnesting(df, explode):\n    idx=df.index.repeat(df[explode[0]].str.len())\n    df1=pd.concat([pd.DataFrame({x:np.concatenate(df[x].values)} )for x in explode],axis=1)\n    df1.index=idx\n    return df1.join(df.drop(explode,1),how='left')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4081, "user_id": 3288092, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/D6zZM.png?s=128&g=1", "display_name": "BernardL", "link": "https://stackoverflow.com/users/3288092/bernardl"}, "is_accepted": false, "score": 0, "last_activity_date": 1543448472, "last_edit_date": 1543448472, "creation_date": 1543445793, "answer_id": 53529353, "question_id": 53528571, "link": "https://stackoverflow.com/questions/53528571/python-pandas-nltk-frequency-distribution-for-tokenized-words-in-dataframe-colum/53529353#53529353", "title": "Python Pandas NLTK Frequency Distribution for Tokenized Words in Dataframe Column with a Groupby", "body": "<p>You can also expand the list by its category and then do a <code>groupby</code> and <code>size</code>.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame( {'No':[175,572],\n                    'category':[2521,2521],\n                    'problem_definition': [['coffee', 'maker', 'brewing', 'properly', '2', '420', '420', '420'],\n                                          ['stuck', 'coffee']]} )\n\nc = df.groupby('category')['problem_definition'].agg('sum').reset_index()\n\nlst_col = 'problem_definition'\n\nc = pd.DataFrame({\n      col:np.repeat(c[col].values, c[lst_col].str.len())\n      for col in c.columns.drop(lst_col)}\n    ).assign(**{lst_col:np.concatenate(c[lst_col].values)})[c.columns]\n\nc.groupby(['category','problem_definition']).size()\n&gt;&gt;\ncategory  problem_definition\n2521      2                     1\n          420                   3\n          brewing               1\n          coffee                2\n          maker                 1\n          properly              1\n          stuck                 1\ndtype: int64\n</code></pre>\n\n<p>Or you can also use a Counter to help you store the count values grouped by <code>category</code>:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom collections import Counter\n\ndf = pd.DataFrame( {'No':[175,572],\n                    'category':[2521,2521],\n                    'problem_definition': [['coffee', 'maker', 'brewing', 'properly', '2', '420', '420', '420'],\n                                          ['stuck', 'coffee']]} )\n\nc = df.groupby('category')['problem_definition'].agg('sum').reset_index()\nc['problem_definition'] = c['problem_definition'].apply(lambda x: Counter(x).items())\n\nlst_col = 'problem_definition'\n\ns = pd.DataFrame({\n      col:np.repeat(c[col].values, c[lst_col].str.len())\n      for col in c.columns.drop(lst_col)}\n    ).assign(**{'text':np.concatenate(c[lst_col].apply(lambda x: [k for (k,v) in x]))}\n    ).assign(**{'count':np.concatenate(c[lst_col].apply(lambda x: [v for (k,v) in x]))} )\n\ns\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1522, "favorite_count": 2, "accepted_answer_id": 53529002, "answer_count": 2, "score": 3, "last_activity_date": 1543448472, "creation_date": 1543441384, "question_id": 53528571, "link": "https://stackoverflow.com/questions/53528571/python-pandas-nltk-frequency-distribution-for-tokenized-words-in-dataframe-colum", "title": "Python Pandas NLTK Frequency Distribution for Tokenized Words in Dataframe Column with a Groupby", "body": "<p>I have the following sample dataframe: </p>\n\n<pre><code>No  category    problem_definition\n175 2521       ['coffee', 'maker', 'brewing', 'properly', '2', '420', '420', '420']\n211 1438       ['galley', 'work', 'table', 'stuck']\n912 2698       ['cloth', 'stuck']\n572 2521       ['stuck', 'coffee']\n</code></pre>\n\n<p>The problem_definition field has already been tokenized with stop gap words removed. </p>\n\n<p>I want to create a frequency distribution that outputs another Pandas dataframe:</p>\n\n<p>1) with the frequency occurrence of each word in problem_definition \n2) with the frequency occurrence of each word in problem_definition by category field</p>\n\n<p>Sample desired output below for case 1): </p>\n\n<pre><code>text       count\ncoffee     2\nmaker      1\nbrewing    1\nproperly   1\n2          1\n420        3\nstuck      3\ngalley     1\nwork       1\ntable      1\ncloth      1\n</code></pre>\n\n<p>Sample desired output below for case 2): </p>\n\n<pre><code>category    text       count\n2521        coffee     2\n2521        maker      1\n2521        brewing    1\n2521        properly   1\n2521        2          1\n2521        420        3\n2521        stuck      1\n1438        galley     1\n1438        work       1\n1438        table      1\n1438        stuck      1\n2698        cloth      1\n2698        stuck      1\n</code></pre>\n\n<p>I tried the following code to accomplish 1): </p>\n\n<pre><code>from nltk.probability import FreqDist\nimport pandas as pd\n\nfdist = FreqDist(df['problem_definition_stopwords'])\n</code></pre>\n\n<p>TypeError: unhashable type: 'list'</p>\n\n<p>I have no idea how to do 2)</p>\n"}, {"tags": ["python", "bash", "git", "pip", "artifactory"], "comments": [{"owner": {"reputation": 117, "user_id": 3369334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f64d6411392a3d25b0b7d82a1137875?s=128&d=identicon&r=PG&f=1", "display_name": "JeffreyForbes", "link": "https://stackoverflow.com/users/3369334/jeffreyforbes"}, "edited": false, "score": 0, "creation_date": 1543441547, "post_id": 53528553, "comment_id": 93925916, "body": "Thank you for the edit Yu"}], "answers": [{"tags": [], "owner": {"reputation": 2978, "user_id": 5755357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OIpYiRYdxjU/AAAAAAAAAAI/AAAAAAAAAEc/VPiHlIZsMnE/photo.jpg?sz=128", "display_name": "willk", "link": "https://stackoverflow.com/users/5755357/willk"}, "is_accepted": false, "score": 0, "last_activity_date": 1543443402, "creation_date": 1543443402, "answer_id": 53528937, "question_id": 53528553, "link": "https://stackoverflow.com/questions/53528553/cannot-install-python-package-in-git-bash/53528937#53528937", "title": "Cannot install python package in Git Bash", "body": "<p>It looks like you have the wrong version of the <code>tables</code> package installed. Trying installing the required version with <code>pip install tables==3.2.0</code>. </p>\n"}], "owner": {"reputation": 117, "user_id": 3369334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f64d6411392a3d25b0b7d82a1137875?s=128&d=identicon&r=PG&f=1", "display_name": "JeffreyForbes", "link": "https://stackoverflow.com/users/3369334/jeffreyforbes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 673, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543443402, "creation_date": 1543441268, "last_edit_date": 1543441759, "question_id": 53528553, "link": "https://stackoverflow.com/questions/53528553/cannot-install-python-package-in-git-bash", "title": "Cannot install python package in Git Bash", "body": "<p>I'm trying to install a package from my company's internal artifactory storage. I'm getting 2 exceptions in Gitbash that I can't understand. When I run Pip Freeze I don't see the install package, so I don't believe it is already installed.</p>\n\n<p>After reading the exceptions, I don't understand what's going on, is anyone familiar with this?</p>\n\n<pre><code>pip install --no-dependencies --user -i https://artifactory.cloud.company.com/artifactory/api/pypi/pypi-python-org/simple git+https://github.kdc.company.com/MandR/package.git\nLooking in indexes: https://artifactory.cloud.company.com/artifactory/api/pypi/pypi-python-org/simple\nCollecting git+https://github.kdc.company.com/MandR/package.git\n  Cloning https://github.kdc.company.com/MandR/package.git to c:\\users\\user_name\\appdata\\local\\temp\\pip-req-build-ptb41on4\nException:\nTraceback (most recent call last):\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_install.py\", line 339, in check_if_exists\n    self.satisfied_by = pkg_resources.get_distribution(str(no_marker))\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 476, in get_distribution\n    dist = get_provider(dist)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 352, in get_provider\n    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 895, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 786, in resolve\n    raise VersionConflict(dist, req).with_context(dependent_req)\npip._vendor.pkg_resources.ContextualVersionConflict: (tables 3.4.3 (c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages), Requirement.parse('tables==3.2.0'), {'package'})\n</code></pre>\n\n<p>During handling of the above exception, another exception occurred:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\cli\\base_command.py\", line 143, in main\n    status = self.run(options, args)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\commands\\install.py\", line 318, in run\n    resolver.resolve(requirement_set)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\resolve.py\", line 102, in resolve\n    self._resolve_one(requirement_set, req)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\resolve.py\", line 256, in _resolve_one\n    abstract_dist = self._get_abstract_dist_for(req_to_install)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\resolve.py\", line 221, in _get_abstract_dist_for\n    req.check_if_exists(self.use_user_site)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_internal\\req\\req_install.py\", line 350, in check_if_exists\n    self.req.name\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 476, in get_distribution\n    dist = get_provider(dist)\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 352, in get_provider\n    return working_set.find(moduleOrReq) or require(str(moduleOrReq))[0]\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 895, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages\\pip\\_vendor\\pkg_resources\\__init__.py\", line 786, in resolve\n    raise VersionConflict(dist, req).with_context(dependent_req)\npip._vendor.pkg_resources.ContextualVersionConflict: (tables 3.4.3 (c:\\users\\user_name\\appdata\\local\\continuum\\anaconda3\\lib\\site-packages), Requirement.parse('tables==3.2.0'), {'package'})\n</code></pre>\n"}, {"tags": ["python", "pandas", "csv"], "answers": [{"comments": [{"owner": {"reputation": 334, "user_id": 10171138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDTvZ.jpg?s=128&g=1", "display_name": "Luke Polson", "link": "https://stackoverflow.com/users/10171138/luke-polson"}, "edited": false, "score": 0, "creation_date": 1543461459, "post_id": 53528986, "comment_id": 93930811, "body": "I respectfully beg to differ. When I type df_james.values[0] I get the output array([4.89]). This is an issue, because I want to plot the values."}, {"owner": {"reputation": 5785, "user_id": 7306999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9dNzL.jpg?s=128&g=1", "display_name": "Xukrao", "link": "https://stackoverflow.com/users/7306999/xukrao"}, "reply_to_user": {"reputation": 334, "user_id": 10171138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDTvZ.jpg?s=128&g=1", "display_name": "Luke Polson", "link": "https://stackoverflow.com/users/10171138/luke-polson"}, "edited": false, "score": 0, "creation_date": 1543488574, "post_id": 53528986, "comment_id": 93941983, "body": "The expression <code>df_james.values[0]</code> creates a new array object. To directly extract the first float value you have to use <code>df_james.values[0, 0]</code>."}], "tags": [], "owner": {"reputation": 5785, "user_id": 7306999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9dNzL.jpg?s=128&g=1", "display_name": "Xukrao", "link": "https://stackoverflow.com/users/7306999/xukrao"}, "is_accepted": false, "score": 1, "last_activity_date": 1543443717, "creation_date": 1543443717, "answer_id": 53528986, "question_id": 53528492, "link": "https://stackoverflow.com/questions/53528492/pandas-opening-up-dat-file-as-an-array-of-arrays/53528986#53528986", "title": "Pandas Opening up .dat File as an Array of Arrays", "body": "<p>The result that you obtained is not an array of arrays. It is a single numpy array object with <code>float</code> entries:</p>\n\n<pre><code>In [1]: arr = df_james.values\n\nIn [2]: type(arr)  # Show object type\nOut[2]: numpy.ndarray\n\nIn [3]: arr.dtype  # Show data type of array entries\nOut[3]: dtype('float64')   \n\nIn [4]: arr.shape  # Show number of rows and columns\nOut[4]: (2979360, 1)\n</code></pre>\n"}], "owner": {"reputation": 334, "user_id": 10171138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YDTvZ.jpg?s=128&g=1", "display_name": "Luke Polson", "link": "https://stackoverflow.com/users/10171138/luke-polson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543447175, "creation_date": 1543441030, "last_edit_date": 1543447175, "question_id": 53528492, "link": "https://stackoverflow.com/questions/53528492/pandas-opening-up-dat-file-as-an-array-of-arrays", "title": "Pandas Opening up .dat File as an Array of Arrays", "body": "<p>I have the following .dat file</p>\n\n<p><a href=\"https://github.com/lukepolson/School/blob/master/Phys%20411/Assignment%205/JamesBay_temperature.dat\" rel=\"nofollow noreferrer\">https://github.com/lukepolson/School/blob/master/Phys%20411/Assignment%205/JamesBay_temperature.dat</a></p>\n\n<p>When I open it in pandas using </p>\n\n<pre><code>df_james = pd.read_csv('JamesBay_temperature.dat', sep=\" \",\n                        skiprows=[0,1,2], names=['Temperature'])\n</code></pre>\n\n<p>the values it contains are an array of arrays:</p>\n\n<pre><code>In [18]: df_james.values\nOut[18]:\narray([[ 4.89],\n       [ 4.89],\n       [ 4.89],\n       ...,\n       [14.77],\n       [14.67],\n       [14.67]])\n</code></pre>\n\n<p>Why is pandas doing this? Is it something about the file I'm opening, or am I using pd.read_csv wrong?</p>\n"}, {"tags": ["python", "index-error"], "comments": [{"owner": {"reputation": 1283, "user_id": 10657880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q8HXS.jpg?s=128&g=1", "display_name": "Aurora Wang", "link": "https://stackoverflow.com/users/10657880/aurora-wang"}, "edited": false, "score": 0, "creation_date": 1543441287, "post_id": 53528484, "comment_id": 93925822, "body": "Where is <code>primeprod</code> defined?"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543441371, "post_id": 53528484, "comment_id": 93925859, "body": "<code>n[i]</code> is the index, not the value.  For example, when <code>i</code> is <code>47</code>, the code is trying to find the value in <code>primeprod</code> at index 47"}], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 10619727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66ecb88871697887e3164f6736919673?s=128&d=identicon&r=PG&f=1", "display_name": "B. Morris", "link": "https://stackoverflow.com/users/10619727/b-morris"}, "is_accepted": false, "score": 1, "last_activity_date": 1543441354, "creation_date": 1543441354, "answer_id": 53528563, "question_id": 53528484, "link": "https://stackoverflow.com/questions/53528484/python-indexerror-list-index-out-of-range-when-using-a-list-as-an-iterable/53528563#53528563", "title": "Python IndexError: list index out of range when using a list as an iterable", "body": "<p><code>for i in n</code> iterates over the <em>values</em> not the indicies. If you want the indicies there are a couple ways you could do it, one being <code>for i, v in enumerate(n)</code> and then you can use <code>v</code> instead of <code>n[i]</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 1, "last_activity_date": 1543441378, "creation_date": 1543441378, "answer_id": 53528568, "question_id": 53528484, "link": "https://stackoverflow.com/questions/53528484/python-indexerror-list-index-out-of-range-when-using-a-list-as-an-iterable/53528568#53528568", "title": "Python IndexError: list index out of range when using a list as an iterable", "body": "<p>You've confused the list <em>index</em> with the list <em>contents</em>.  <code>for i in n</code> means that <code>i</code> will take on the values of <code>n</code> in sequence: 2, 3, 5, 7, 11, ...</p>\n\n<p>From Python's point of view ... <code>n</code> has 42 elements.  As soon as you get to accessing <code>n[i]</code> when i is 43, you crash.</p>\n\n<p>Try this:</p>\n\n<pre><code>def pseudoroot(n):\n    for i, p in enumerate(n):\n        if p &gt; m.sqrt(primeproduct):\n            return n[i-1] #greatest divisor below the root\n</code></pre>\n\n<p>Do note that this fails in your MCVE, because you don't have enough primes to get to sqrt(primeproduct).</p>\n"}, {"tags": [], "owner": {"reputation": 9739, "user_id": 3691783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/18bfba7d4beb1c210fa670cf57c66f4b?s=128&d=identicon&r=PG", "display_name": "Matt Messersmith", "link": "https://stackoverflow.com/users/3691783/matt-messersmith"}, "is_accepted": false, "score": 1, "last_activity_date": 1543441446, "creation_date": 1543441446, "answer_id": 53528580, "question_id": 53528484, "link": "https://stackoverflow.com/questions/53528484/python-indexerror-list-index-out-of-range-when-using-a-list-as-an-iterable/53528580#53528580", "title": "Python IndexError: list index out of range when using a list as an iterable", "body": "<blockquote>\n  <p>Which really doesn't make any sense to me as the i in the for loop is\n  a given index in the list and shouldn't exceed the bounds of that\n  list.</p>\n</blockquote>\n\n<p>Not quite. <code>i</code> is an <em>item</em> in your list, <em>not</em> an index.</p>\n\n<p><code>for i in n</code> gives you the <em>items</em> in <code>n</code>. Not the index. So doing <code>n[i]</code> is a bit nonsensical (you're using the <em>items</em> as indices). A quick fix is to use <code>for i in range(len(n))</code> if you want a c-style index.</p>\n\n<p>More pythonic would be:</p>\n\n<pre><code>for before_prime, current_prime in zip(n, n[1:]):\n    if current_prime &gt; m.sqrt(primeprod):\n        return before_prime #greatest divisor below the root\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7965157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6f3f543b515db70937226e2084db9ea?s=128&d=identicon&r=PG&f=1", "display_name": "HkLian0", "link": "https://stackoverflow.com/users/7965157/hklian0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 53528568, "answer_count": 3, "score": 1, "last_activity_date": 1543442311, "creation_date": 1543440984, "last_edit_date": 1543442311, "question_id": 53528484, "link": "https://stackoverflow.com/questions/53528484/python-indexerror-list-index-out-of-range-when-using-a-list-as-an-iterable", "title": "Python IndexError: list index out of range when using a list as an iterable", "body": "<p>Here is the code:</p>\n\n<pre><code>import math as m\nprimeproduct = 5397346292805549782720214077673687806275517530364350655459511599582614290\nprimes = [2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31, 37, 41, 43, 47, 53, 59, 61, 67, 71, 73, 79, 83, 89, 97, 101, 103, 107, 109, 113, 127, 131, 137, 139, 149, 151, 157, 163, 167, 173, 179, 181]\n\ndef pseudoroot(n):\nprint(n)\nfor i in n:\n    if n[i] &gt; m.sqrt(primeproduct):\n        return n[i-1] #greatest divisor below the root\n\n\npsrprime = pseudoroot(primes)\n</code></pre>\n\n<p>Running this code gives this error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"so.py\", line 11, in &lt;module&gt;\n    print(pseudoroot(primes))\n  File \"so.py\", line 7, in pseudoroot\n    if n[i] &gt; m.sqrt(primeproduct):\nIndexError: list index out of range\n</code></pre>\n\n<p>Which really doesn't make any sense to me as the i in the for loop is a given index in the list and shouldn't exceed the bounds of that list.</p>\n"}, {"tags": ["python", "machine-learning", "pyspark", "feature-selection", "google-cloud-dataproc"], "comments": [{"owner": {"reputation": 661, "user_id": 4123749, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c9b1c84914176fbdf0a0a835ca7420c9?s=128&d=identicon&r=PG&f=1", "display_name": "Odisseo", "link": "https://stackoverflow.com/users/4123749/odisseo"}, "edited": false, "score": 0, "creation_date": 1553989850, "post_id": 53528481, "comment_id": 97590698, "body": "Good question. I am wondering the same."}], "answers": [{"comments": [{"owner": {"reputation": 463, "user_id": 10449235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OhtSkaAPQPo/AAAAAAAAAAI/AAAAAAAAADA/e9hiHGz1aBA/photo.jpg?sz=128", "display_name": "Tushar Mehta", "link": "https://stackoverflow.com/users/10449235/tushar-mehta"}, "edited": false, "score": 0, "creation_date": 1543524122, "post_id": 53529485, "comment_id": 93961066, "body": "Thanks Jerry,  I would try installing sklearn on each worker node in my cluster"}], "tags": [], "owner": {"reputation": 301, "user_id": 10719575, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D1tIAbBqsng/AAAAAAAAAAI/AAAAAAAAACU/sW0oe7k9mmQ/photo.jpg?sz=128", "display_name": "Jerry Ding", "link": "https://stackoverflow.com/users/10719575/jerry-ding"}, "is_accepted": false, "score": 7, "last_activity_date": 1543483599, "last_edit_date": 1543483599, "creation_date": 1543446532, "answer_id": 53529485, "question_id": 53528481, "link": "https://stackoverflow.com/questions/53528481/feature-selection-in-pyspark/53529485#53529485", "title": "Feature Selection in PySpark", "body": "<p>You have a few options for doing this.</p>\n\n<ul>\n<li><p>If the model you need is implemented in either Spark's <code>MLlib</code> or spark-sklearn`, you can adapt your code to use the corresponding library.</p></li>\n<li><p>If you can train your model locally and just want to deploy it to make predictions, you can use User Defined Functions (<code>UDFs</code>) or <a href=\"https://spark.apache.org/docs/2.3.1/api/python/pyspark.sql.html#pyspark.sql.functions.pandas_udf\" rel=\"noreferrer\"><code>vectorized UDFs</code></a> to run the trained model on Spark. <a href=\"https://medium.com/civis-analytics/prediction-at-scale-with-scikit-learn-and-pyspark-pandas-udfs-51d5ebfb2cd8\" rel=\"noreferrer\">Here's</a> a good post discussing how to do this.</p></li>\n<li><p>If you need to run an <code>sklearn</code> model on Spark that is not supported by spark-sklearn, you'll need to make sklearn available to Spark on each worker node in your cluster. You can do this by manually installing sklearn on each node in your Spark cluster (make sure you are installing into the Python environment that Spark is using). </p></li>\n<li><p>Alternatively, you can package and distribute the sklearn library with the <code>Pyspark</code> job. In short, you can <code>pip install sklearn</code> into a local directory near your script, then zip the sklearn installation directory and use the <code>--py-files</code> flag of <code>spark-submit</code> to send the zipped sklearn to all workers along with your script. <a href=\"https://developerzen.com/best-practices-writing-production-grade-pyspark-jobs-cb688ac4d20f\" rel=\"noreferrer\">This article</a> has a complete overview of how to accomplish this.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 89, "user_id": 10120491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a46fa1ffc5eb3dbc22e635aa0e3cd8?s=128&d=identicon&r=PG&f=1", "display_name": "DJ6968", "link": "https://stackoverflow.com/users/10120491/dj6968"}, "is_accepted": false, "score": 1, "last_activity_date": 1548221660, "creation_date": 1548221660, "answer_id": 54320595, "question_id": 53528481, "link": "https://stackoverflow.com/questions/53528481/feature-selection-in-pyspark/54320595#54320595", "title": "Feature Selection in PySpark", "body": "<p>I suggest with stepwise regression model you can easily find the important features and only that dataset them in logistics regression. Stepwise regression works on correlation but it has variations.\nBelow link will help to implement stepwise regression for feature selection.\n<a href=\"https://datascience.stackexchange.com/questions/24405/how-to-do-stepwise-regression-using-sklearn\">https://datascience.stackexchange.com/questions/24405/how-to-do-stepwise-regression-using-sklearn</a> </p>\n"}, {"tags": [], "owner": {"reputation": 326, "user_id": 4091603, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003890114015/picture?type=large", "display_name": "Hari Baskar", "link": "https://stackoverflow.com/users/4091603/hari-baskar"}, "is_accepted": true, "score": 2, "last_activity_date": 1548227361, "creation_date": 1548227361, "answer_id": 54321751, "question_id": 53528481, "link": "https://stackoverflow.com/questions/53528481/feature-selection-in-pyspark/54321751#54321751", "title": "Feature Selection in PySpark", "body": "<p>We can try following <strong>feature selection</strong> methods in <strong>pyspark</strong></p>\n\n<ul>\n<li>Chi-Squared selector</li>\n<li>Randomforest selector</li>\n</ul>\n\n<p>References:</p>\n\n<ul>\n<li><a href=\"https://spark.apache.org/docs/2.2.0/ml-features.html#feature-selectors\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/2.2.0/ml-features.html#feature-selectors</a></li>\n<li><a href=\"https://databricks.com/session/building-custom-ml-pipelinestages-for-feature-selection\" rel=\"nofollow noreferrer\">https://databricks.com/session/building-custom-ml-pipelinestages-for-feature-selection</a></li>\n</ul>\n"}], "owner": {"reputation": 463, "user_id": 10449235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OhtSkaAPQPo/AAAAAAAAAAI/AAAAAAAAADA/e9hiHGz1aBA/photo.jpg?sz=128", "display_name": "Tushar Mehta", "link": "https://stackoverflow.com/users/10449235/tushar-mehta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5858, "favorite_count": 1, "accepted_answer_id": 54321751, "answer_count": 3, "score": 5, "last_activity_date": 1548227361, "creation_date": 1543440975, "last_edit_date": 1543479898, "question_id": 53528481, "link": "https://stackoverflow.com/questions/53528481/feature-selection-in-pyspark", "title": "Feature Selection in PySpark", "body": "<p>I am working on a machine learning model of shape <code>1,456,354 X 53</code>. I wanted to do feature selection for my data set. I know how to do feature selection in <code>python</code> using the following code.</p>\n\n<pre><code>from sklearn.feature_selection import RFECV,RFE\n\nlogreg = LogisticRegression()\nrfe = RFE(logreg, step=1, n_features_to_select=28)\nrfe = rfe.fit(df.values,arrythmia.values)\nfeatures_bool = np.array(rfe.support_)\nfeatures = np.array(df.columns)\nresult = features[features_bool]\nprint(result)\n</code></pre>\n\n<p>However, I could not find any article which could show how can I perform recursive feature selection in <code>pyspark</code>. </p>\n\n<p>I tried to import <code>sklearn</code> libraries in pyspark but it gave me an error sklearn module not found.  I am running pyspark on google dataproc cluster.</p>\n\n<p>Could please someone help me achieve this in pyspark</p>\n"}, {"tags": ["python", "django", "django-forms"], "comments": [{"owner": {"reputation": 634, "user_id": 2656621, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GpUkD.jpg?s=128&g=1", "display_name": "Ali Asgari", "link": "https://stackoverflow.com/users/2656621/ali-asgari"}, "edited": false, "score": 0, "creation_date": 1543441151, "post_id": 53528475, "comment_id": 93925769, "body": "Would you please provide the stack trace?"}], "answers": [{"tags": [], "owner": {"reputation": 2729, "user_id": 8827624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19facdf8462cacf0efc8e56d9c2d82b6?s=128&d=identicon&r=PG&f=1", "display_name": "Borut", "link": "https://stackoverflow.com/users/8827624/borut"}, "is_accepted": true, "score": 0, "last_activity_date": 1543442500, "creation_date": 1543442500, "answer_id": 53528777, "question_id": 53528475, "link": "https://stackoverflow.com/questions/53528475/django-form-choicefield-not-working-for-1-element-lists/53528777#53528777", "title": "Django Form ChoiceField not working for 1 element lists", "body": "<p>You're using wrong tuple syntax.</p>\n\n<p><code>((\"1\", \"one\"))</code> is not valid, <code>((\"1\", \"one\"), )</code> (note the comma) however is. This comma is needed to avoid ambiguouty. For example, when you do <code>1 + (1)</code>, without comma <code>(1)</code> could be a tuple or just 1 inside parentheses. Comma solves this.</p>\n"}], "owner": {"reputation": 47, "user_id": 9178454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a93e5cee03c132b99c07e51cdf9e8c41?s=128&d=identicon&r=PG&f=1", "display_name": "Frank A. Fone", "link": "https://stackoverflow.com/users/9178454/frank-a-fone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 53528777, "answer_count": 1, "score": 0, "last_activity_date": 1543442500, "creation_date": 1543440942, "question_id": 53528475, "link": "https://stackoverflow.com/questions/53528475/django-form-choicefield-not-working-for-1-element-lists", "title": "Django Form ChoiceField not working for 1 element lists", "body": "<p>I discovered a weird instance while working on a Django web app. </p>\n\n<p>I have a list of options that I would like users to select from a drop down list. To accomplish this I used the ChoiceField from Django forms. However, when my options contain only a single 2-tuple (eg. ((\"1\", \"one\")) is invalid) nothing is displayed and I get the error \"not enough values to unpack (expected 2, got 1) at line builds.as_p\" in index.html. Once I add at least one more 2-tuple (eg. ((\"1\", \"one\"), (\"2\", \"two\")) is valid) to my options this is fixed. What could be causing this?</p>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class BuildForm(forms.Form):\n    OPTIONS = ((\"1\", \"One\"), (\"2\", \"two\"))\n    Build_IDs = forms.ChoiceField(choices=OPTIONS) \n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>from .forms import BuildForm\n\ndef index(request):\n    builds = BuildForm()\n    return render(request, 'ReportGenerator/index.html', {\"builds\":builds})\n</code></pre>\n\n<p><strong>templates/App/index.html</strong></p>\n\n<pre><code>{% if builds %}\n     &lt;h2&gt;Pick a Build&lt;/h2&gt;\n     &lt;form method=\"POST\" class=\"build-form\"&gt;{% csrf_token %}\n       {{ builds.as_p }}\n     &lt;/form&gt;\n{% else %}\n    &lt;p&gt;No reports are available.&lt;/p&gt;\n{% endif %}\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543441049, "post_id": 53528460, "comment_id": 93925725, "body": "The height of a histogram bar is the count of values in that bin. If you want a different shaped plot, you would need a <code>bar</code> instead of a <code>hist</code>"}, {"owner": {"reputation": 8191, "user_id": 8881141, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C3ydX.jpg?s=128&g=1", "display_name": "Mr. T", "link": "https://stackoverflow.com/users/8881141/mr-t"}, "edited": false, "score": 0, "creation_date": 1543441394, "post_id": 53528460, "comment_id": 93925872, "body": "You have the counts stored in <code>n</code> and can calculate the width of each bin from <code>x</code>. I bet you are able to create your bar graph with these values."}], "answers": [{"tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 2, "last_activity_date": 1543442050, "creation_date": 1543442050, "answer_id": 53528705, "question_id": 53528460, "link": "https://stackoverflow.com/questions/53528460/setting-the-height-of-matplotlib-histogram/53528705#53528705", "title": "Setting the Height of Matplotlib Histogram", "body": "<p>Essentially you are looking for a normalized histogram. This could be achieved via the <code>density</code> argument. However it will be normalized to <code>1</code>. Instead you are looking for a normalization to the total number of data. So you may multiply the normalized histogram by the length of the array <code>x</code>.</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\nx = [1,2,\n     11,12,\n     21,22,\n     31,32,33,34,35,\n     41,42,43,44,45,46,47,48,\n     51,52,53,54,55,56,57,58,59,\n     61,62,63,64,65,66,\n     71,72,73,74,75,67,\n     81,82,83,\n     91,92,\n     101]\nnum_bins = [0,3,10,30,40,50,65,80,90,100]  \n\nn, bins  = np.histogram(x, num_bins, density=True)\nplt.bar(bins[:-1], n*len(x), align=\"edge\", width=np.diff(bins), ec=\"k\")\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WLBMS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WLBMS.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 2, "last_activity_date": 1543443886, "last_edit_date": 1543443886, "creation_date": 1543443504, "answer_id": 53528956, "question_id": 53528460, "link": "https://stackoverflow.com/questions/53528460/setting-the-height-of-matplotlib-histogram/53528956#53528956", "title": "Setting the Height of Matplotlib Histogram", "body": "<p><code>plt.hist</code> returns a list of rectangle objects (which you named using the variable <code>_</code>). You can modify the height of these objects:</p>\n\n<pre><code># Create your histogram:\nn, bins, rects = plt.hist(x, num_bins, ec='k')\n\n# iterate through rectangles, change the height of each\nfor r in rects:\n    r.set_height(r.get_height()/r.get_width())\n\n# set the y limit\nplt.ylim(0,1)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DTgOV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTgOV.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 9812510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a904d91a1514e3a86f8b15bb66e23368?s=128&d=identicon&r=PG&f=1", "display_name": "Carolyn", "link": "https://stackoverflow.com/users/9812510/carolyn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3933, "favorite_count": 0, "accepted_answer_id": 53528705, "answer_count": 2, "score": 0, "last_activity_date": 1543443886, "creation_date": 1543440842, "question_id": 53528460, "link": "https://stackoverflow.com/questions/53528460/setting-the-height-of-matplotlib-histogram", "title": "Setting the Height of Matplotlib Histogram", "body": "<p>I have a problem with changing the height of the bars of a histogram.</p>\n\n<p>I have the following histogram:</p>\n\n<pre><code>x = [1,2,\n     11,12,\n     21,22,\n     31,32,33,34,35,\n     41,42,43,44,45,46,47,48,\n     51,52,53,54,55,56,57,58,59,\n     61,62,63,64,65,66,\n     71,72,73,74,75,67,\n     81,82,83,\n     91,92,\n     101]\nnum_bins = [0,3,10,30,40,50,65,80,90,100]  \n\nn, x,_ = plt.hist(x, num_bins)\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/O9IeS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O9IeS.jpg\" alt=\"Random Histogram\"></a></p>\n\n<p>With the same data, i want to create a histogram with the same bin width, but the height for each bar should be changed to the total height of the bar divided by its bin width.</p>\n\n<p>So for example, the total hight of the first bar is 2, its bin width is 3. Therefore new bin should have height 2/3, with width still 3, and so on.</p>\n\n<p>Thank you so much!</p>\n"}, {"tags": ["python", "pandas", "dataframe", "warnings"], "comments": [{"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 0, "creation_date": 1543441133, "post_id": 53528429, "comment_id": 93925759, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9031783/hide-all-warnings-in-ipython\">Hide all warnings in ipython</a>"}, {"owner": {"reputation": 39, "user_id": 6041622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325011f37c57d72613691af9a470f87c?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Chordiya", "link": "https://stackoverflow.com/users/6041622/gaurav-chordiya"}, "reply_to_user": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "edited": false, "score": 1, "creation_date": 1543441535, "post_id": 53528429, "comment_id": 93925914, "body": "I do not want to hide the warnings, I am looking for a more standard way to have cleaner code. The link  is more on how to hide the warning messages not geeing rid of it"}, {"owner": {"reputation": 2978, "user_id": 5755357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OIpYiRYdxjU/AAAAAAAAAAI/AAAAAAAAAEc/VPiHlIZsMnE/photo.jpg?sz=128", "display_name": "willk", "link": "https://stackoverflow.com/users/5755357/willk"}, "edited": false, "score": 2, "creation_date": 1543443578, "post_id": 53528429, "comment_id": 93926676, "body": "I think <code>match_all</code> is a slice of <code>match</code> and not a copy. Can you try creating it with <code>match_all = match[[&#39;country_id&#39;,&#39;league_id&#39;,&#39;season&#39;,&#39;stage&#39;,&#39;date&#39;,&#39;hom&zwnj;&#8203;e_team_api_id&#39;,&#39;away&zwnj;&#8203;_team_api_id&#39;,&#39;home_&zwnj;&#8203;team_goal&#39;                      ,&#39;away_team_goal&#39;]].copy()</code> and see if the warning persists?"}, {"owner": {"reputation": 39, "user_id": 6041622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325011f37c57d72613691af9a470f87c?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Chordiya", "link": "https://stackoverflow.com/users/6041622/gaurav-chordiya"}, "reply_to_user": {"reputation": 2978, "user_id": 5755357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OIpYiRYdxjU/AAAAAAAAAAI/AAAAAAAAAEc/VPiHlIZsMnE/photo.jpg?sz=128", "display_name": "willk", "link": "https://stackoverflow.com/users/5755357/willk"}, "edited": false, "score": 0, "creation_date": 1543446273, "post_id": 53528429, "comment_id": 93927528, "body": "Thank you @caseWestern this did fix the issue and the warnings are gone now."}, {"owner": {"reputation": 2978, "user_id": 5755357, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OIpYiRYdxjU/AAAAAAAAAAI/AAAAAAAAAEc/VPiHlIZsMnE/photo.jpg?sz=128", "display_name": "willk", "link": "https://stackoverflow.com/users/5755357/willk"}, "edited": false, "score": 0, "creation_date": 1543452515, "post_id": 53528429, "comment_id": 93928990, "body": "Great! <a href=\"https://www.dataquest.io/blog/settingwithcopywarning/\" rel=\"nofollow noreferrer\">This article</a> does a thorough job of explaining the warning. Basically, this isn&#39;t a warning you should ignore if you want your code to run as intended."}], "owner": {"reputation": 39, "user_id": 6041622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/325011f37c57d72613691af9a470f87c?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Chordiya", "link": "https://stackoverflow.com/users/6041622/gaurav-chordiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 458, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543440677, "creation_date": 1543440677, "question_id": 53528429, "link": "https://stackoverflow.com/questions/53528429/how-to-get-rid-of-settingwithcopywarning-while-creating-a-new-column-to-an-exist", "title": "How to get rid of settingWithCopyWarning while creating a new column to an existing df", "body": "<p>I am trying to add a new column to a df in pandas however when I use wither of the below 2 method but somehow both results in the same warning message after execution. Is there a way to avoid these without making a copy of the df </p>\n\n<p>Original df:</p>\n\n<pre><code>match_all = match[['country_id','league_id','season','stage','date','home_team_api_id','away_team_api_id','home_team_goal'\n                     ,'away_team_goal']]\n</code></pre>\n\n<p>Method 1:</p>\n\n<pre><code>def goal_diff(matches):\n    return matches['home_team_goal'] - matches['away_team_goal']\nmatch_all['home_away_goal_diff'] = goal_diff(match_all)\n</code></pre>\n\n<p>Warning message</p>\n\n<blockquote>\n  <p>C:\\Users\\5150224\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\ipykernel_launcher.py:3:\n  SettingWithCopyWarning:  A value is trying to be set on a copy of a\n  slice from a DataFrame. Try using .loc[row_indexer,col_indexer] =\n  value instead</p>\n  \n  <p>See the caveats in the documentation:\n  <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy</a>\n  This is separate from the ipykernel package so we can avoid doing\n  imports until</p>\n</blockquote>\n\n<p>Method 2 :</p>\n\n<pre><code>match_all['home_away_goal_diff'] = match_all['home_team_goal'] - match_all['away_team_goal']\n</code></pre>\n\n<p>warning message:</p>\n\n<blockquote>\n  <p>C:\\Users\\5150224\\AppData\\Local\\Continuum\\anaconda3\\lib\\site-packages\\ipykernel_launcher.py:1:\n  SettingWithCopyWarning:  A value is trying to be set on a copy of a\n  slice from a DataFrame. Try using .loc[row_indexer,col_indexer] =\n  value instead</p>\n  \n  <p>See the caveats in the documentation:\n  <a href=\"http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy\" rel=\"nofollow noreferrer\">http://pandas.pydata.org/pandas-docs/stable/indexing.html#indexing-view-versus-copy</a>\n  \"\"\"Entry point for launching an IPython kernel</p>\n</blockquote>\n"}, {"tags": ["python", "python-3.x", "pandas"], "comments": [{"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "edited": false, "score": 1, "creation_date": 1543440609, "post_id": 53528387, "comment_id": 93925551, "body": "you are overwriting the data variable for every iteration. Might be best to append to an empty list"}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1543440617, "post_id": 53528387, "comment_id": 93925557, "body": "why are you opening the file and then using pandas?"}, {"owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "edited": false, "score": 0, "creation_date": 1543440715, "post_id": 53528387, "comment_id": 93925585, "body": "The only reason for that is that I am a python beginner. I am going to delete that line."}, {"owner": {"reputation": 2454, "user_id": 8784938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/753bb55c80a644f950a41ae11cfbe48c?s=128&d=identicon&r=PG&f=1", "display_name": "SuperStew", "link": "https://stackoverflow.com/users/8784938/superstew"}, "edited": false, "score": 0, "creation_date": 1543440770, "post_id": 53528387, "comment_id": 93925608, "body": "@J.Doe ok well you can get rid of your <code>with</code> block and just use something like <code>df=pd.read_csv(&#39;filename.csv&#39;)</code>. No need to open it first"}, {"owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "edited": false, "score": 0, "creation_date": 1543441138, "post_id": 53528387, "comment_id": 93925763, "body": "@ SuperStew done. Thank you. But this does not answer my original question. How to loop the request for every row?"}, {"owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "reply_to_user": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "edited": false, "score": 0, "creation_date": 1543441208, "post_id": 53528387, "comment_id": 93925791, "body": "@Chris How can I do this?"}, {"owner": {"reputation": 8568, "user_id": 9177877, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qL1i.png?s=128&g=1", "display_name": "It_is_Chris", "link": "https://stackoverflow.com/users/9177877/it-is-chris"}, "edited": false, "score": 0, "creation_date": 1543441364, "post_id": 53528387, "comment_id": 93925857, "body": "@J.Doe add <code>data = []</code> above the for loop before iterations then instead of data = json... do <code>data.append(json...)</code> something like that should work"}, {"owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "edited": false, "score": 0, "creation_date": 1543441978, "post_id": 53528387, "comment_id": 93926077, "body": "@ Chris I will try it. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "is_accepted": true, "score": 0, "last_activity_date": 1544028594, "creation_date": 1544028594, "answer_id": 53637064, "question_id": 53528387, "link": "https://stackoverflow.com/questions/53528387/loop-through-a-column-in-csv-file-to-get-requests/53637064#53637064", "title": "loop through a column in csv file to get requests", "body": "<p><strong>The Answer is:</strong></p>\n\n<pre><code>df= pd.read_csv('file.csv', header = 0)\nrow_iterator = df.iterrows()\n_, last = row_iterator.__next__()`\nfor i, row in row_iterator:\n   r= requests.get(row[\"url\"])\n   r= requests.get(last[\"url\"])\n   last = row\n   data = (r.text)\n</code></pre>\n\n<p>****This loops on each row and gets the request in string format.**** </p>\n"}], "owner": {"reputation": 315, "user_id": 7000874, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9bFd.jpg?s=128&g=1", "display_name": "J.Doe", "link": "https://stackoverflow.com/users/7000874/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 420, "favorite_count": 0, "accepted_answer_id": 53637064, "answer_count": 1, "score": -1, "last_activity_date": 1544028594, "creation_date": 1543440460, "last_edit_date": 1543443831, "question_id": 53528387, "link": "https://stackoverflow.com/questions/53528387/loop-through-a-column-in-csv-file-to-get-requests", "title": "loop through a column in csv file to get requests", "body": "<p>I have a file_1.csv with one 'url' column. \nI want to run get.request for an API link in each row.<br>\nThen I want to export the output into a json file. \nI used the below script. </p>\n\n<pre><code>import pandas as pd\nimport requests\nimport json\nimport numpy\n\n\ndf = pd.read_csv('file_1', header = 0)\n\nfor index, row in df.iterrows():\n    r = requests.get(row['url'])\n    data = json.loads(r.text)\nwith open('file_1','w') as d:\n    json.dump(data,d)\n</code></pre>\n\n<p>The script is working but it is showing the result of only one row.\nAny help?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "xml", "python-3.x"], "comments": [{"owner": {"reputation": 64597, "user_id": 1453822, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c8db97d2ecdfe5e044cee4c470abb60?s=128&d=identicon&r=PG", "display_name": "DeepSpace", "link": "https://stackoverflow.com/users/1453822/deepspace"}, "edited": false, "score": 0, "creation_date": 1543440614, "post_id": 53528373, "comment_id": 93925554, "body": "Are you sure? This code should not cause these errors."}, {"owner": {"reputation": 563, "user_id": 8421825, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/cc68b8e1564576135247d15b4f246b17?s=128&d=identicon&r=PG&f=1", "display_name": "lltt", "link": "https://stackoverflow.com/users/8421825/lltt"}, "edited": false, "score": 0, "creation_date": 1543440646, "post_id": 53528373, "comment_id": 93925567, "body": "I know that the <code>xmltodict</code> library can load an XML string into a <code>dict</code> fairly easily, then you could use <code>DataFrame.from_dict</code> to load it into a Data Frame."}, {"owner": {"reputation": 74488, "user_id": 797495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/BKD7l.jpg?s=128&g=1", "display_name": "Pedro Lobito", "link": "https://stackoverflow.com/users/797495/pedro-lobito"}, "edited": false, "score": 0, "creation_date": 1543441151, "post_id": 53528373, "comment_id": 93925770, "body": "what does <code>print(response.text)</code> show?"}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1543442519, "post_id": 53528373, "comment_id": 93926277, "body": "I just updated my original post with print(response.text)."}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1543442764, "post_id": 53528373, "comment_id": 93926369, "body": "@ryguy72 FWIW, the first xml doc  you posted and the result of <code>print res.text</code> are not equivalent"}, {"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1543443895, "post_id": 53528373, "comment_id": 93926799, "body": "I think it&#39;s the way the print(response.text)  works.  It&#39;s the same, except that the print(response.text) is a lot easier to read."}], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543442490, "creation_date": 1543440402, "last_edit_date": 1543442490, "question_id": 53528373, "link": "https://stackoverflow.com/questions/53528373/parse-xml-from-string-using-python", "title": "Parse XML from String using Python", "body": "<p>I'm pulling XML from a URL, which is behind a login screen.  I can enter my credentials and grab the XML just fine, but I'm having trouble parsing this string.  I think it's a list of XML tags.  Anyway, the XML looks like this:</p>\n\n<pre><code>&lt;Report Type=\"SLA Report\" SiteName=\"Get Dataset Metadata\" SLA_Name=\"Get Dataset Metadata\" SLA_Description=\"Get Dataset Metadata\" From=\"2018-11-27 00:00\" Thru=\"2018-11-27 23:59\" obj_device=\"4500\" locations=\"69,31,\"&gt;&lt;Objective Type=\"Availability\"&gt;&lt;Goal&gt;99.93&lt;/Goal&gt;&lt;Actual&gt;100.00&lt;/Actual&gt;&lt;Compliant&gt;Yes&lt;/Compliant&gt;&lt;Errors&gt;0&lt;/Errors&gt;&lt;Checks&gt;2878&lt;/Checks&gt;&lt;/Objective&gt;&lt;Objective Type=\"Uptime\"&gt;&lt;Goal/&gt;&lt;Actual/&gt;&lt;Compliant/&gt;&lt;Errors&gt;0&lt;/Errors&gt;&lt;Checks&gt;0&lt;/Checks&gt;&lt;/Objective&gt;&lt;Objective Type=\"Response Time\"&gt;&lt;Goal&gt;300.00&lt;/Goal&gt;&lt;Actual&gt;1.7482&lt;/Actual&gt;&lt;Compliant&gt;Yes&lt;/Compliant&gt;&lt;Errors&gt;0&lt;/Errors&gt;&lt;Checks&gt;2878&lt;/Checks&gt;&lt;/Objective&gt;&lt;MonitoringPeriods&gt;&lt;Monitor&gt;&lt;Exclude&gt;No&lt;/Exclude&gt;&lt;DayFrom&gt;Sunday&lt;/DayFrom&gt;&lt;TimeFrom&gt;00:00&lt;/TimeFrom&gt;&lt;DayThru&gt;Sunday&lt;/DayThru&gt;&lt;TimeThru&gt;23:59&lt;/TimeThru&gt;&lt;/Monitor&gt;&lt;Monitor&gt;&lt;Exclude&gt;No&lt;/Exclude&gt;&lt;DayFrom&gt;Monday&lt;/DayFrom&gt;&lt;TimeFrom&gt;00:00&lt;/TimeFrom&gt;&lt;DayThru&gt;Monday&lt;/DayThru&gt;&lt;TimeThru&gt;23:59&lt;/TimeThru&gt;&lt;/Monitor&gt;\n</code></pre>\n\n<p>I want to get everything between the  tags and everything between the  tags.  I want to load this into a Data Frame.  That's it.  How can I do that?</p>\n\n<p>I thought I could use tree and root, like this:</p>\n\n<pre><code>REQUEST_URL = 'https://URL'\nresponse = requests.get(REQUEST_URL, auth=(login, password))\nxml_data = response.text.encode('utf-8', 'ignore') \ntree = ET.parse(xml_data)\nroot = tree.getroot()\n</code></pre>\n\n<p>But that just gives me <code>NameError: name 'tree' is not defined</code> &amp; <code>NameError: name 'root' is not defined</code>.  I'm hoping there is a one-liner or two-liner, to get everything tidied up.  So far, I haven't come across anything useful.  </p>\n\n<pre><code>print(response.text) gives me:\n\n&lt;?xml version='1.0' standalone='yes'?&gt;&lt;Report Type='SLA Report'\n SiteName='Execute Query'\n SLA_Name='Execute Query'\n SLA_Description='Execute Query'\n From='2018-11-27 00:00'\n Thru='2018-11-27 23:59' \n obj_device='4500'\n locations='69,31,'\n&gt;\n&lt;Objective Type='Availability'&gt;\n&lt;Goal&gt;99.93&lt;/Goal&gt;\n&lt;Actual&gt;99.93&lt;/Actual&gt;\n&lt;Compliant&gt;Yes&lt;/Compliant&gt;\n&lt;Errors&gt;2&lt;/Errors&gt;\n&lt;Checks&gt;2878&lt;/Checks&gt;\n&lt;/Objective&gt;\n&lt;Objective Type='Uptime'&gt;\n&lt;Goal&gt;&lt;/Goal&gt;\n&lt;Actual&gt;&lt;/Actual&gt;\n&lt;Compliant&gt;&lt;/Compliant&gt;\n&lt;Errors&gt;0&lt;/Errors&gt;\n&lt;Checks&gt;0&lt;/Checks&gt;\n&lt;/Objective&gt;\n&lt;Objective Type='Response Time'&gt;\n&lt;Goal&gt;300.00&lt;/Goal&gt;\n&lt;Actual&gt;3.1164&lt;/Actual&gt;\n&lt;Compliant&gt;Yes&lt;/Compliant&gt;\n&lt;Errors&gt;0&lt;/Errors&gt;\n&lt;Checks&gt;2878&lt;/Checks&gt;\n&lt;/Objective&gt;\n&lt;MonitoringPeriods&gt;\n&lt;Monitor&gt;\n&lt;Exclude&gt;No&lt;/Exclude&gt;&lt;DayFrom&gt;Sunday&lt;/DayFrom&gt;&lt;TimeFrom&gt;00:00&lt;/TimeFrom&gt;&lt;DayThru&gt;Sunday&lt;/DayThru&gt;&lt;TimeThru&gt;23:59&lt;/TimeThru&gt;\n&lt;/Monitor&gt;\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1543440440, "post_id": 53528339, "comment_id": 93925481, "body": "Python doesn&#39;t create the implicit copies you&#39;re expecting. Read up on <a href=\"https://nedbatchelder.com/text/names.html\" rel=\"nofollow noreferrer\">how Python variables and objects work</a>."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1543440950, "post_id": 53528339, "comment_id": 93925677, "body": "As a general rule, either mutate the argument and return <code>None</code> or return a new object leaving the argument unchanged. Don&#39;t mutate <i>and</i> return the argument."}], "answers": [{"tags": [], "owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "is_accepted": false, "score": 0, "last_activity_date": 1543440526, "creation_date": 1543440526, "answer_id": 53528396, "question_id": 53528339, "link": "https://stackoverflow.com/questions/53528339/appending-element-into-list-the-already-appended-elements-change-over-time-out/53528396#53528396", "title": "Appending element into list: the already appended elements change over time out of no reasons", "body": "<p>You're changing <code>v</code> inside the call to <code>vmap</code>. When you add <code>v</code> to <code>v_list</code>, a <em>reference</em> to <code>v</code> is added. When you pass <code>v</code> to the function <code>vmap</code>, you're operating on the same object. Any changes you make to it inside the function are reflected after the function call returns.</p>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1543440537, "creation_date": 1543440537, "answer_id": 53528398, "question_id": 53528339, "link": "https://stackoverflow.com/questions/53528339/appending-element-into-list-the-already-appended-elements-change-over-time-out/53528398#53528398", "title": "Appending element into list: the already appended elements change over time out of no reasons", "body": "<p>Look carefully at your code: you have appended <code>v</code> twice to v_list.  This is not two separate lists, but the same list, twice.  Both elements of <code>v_list</code> are references to <code>v</code>: when you change <code>v</code>, the value of each reference changes.</p>\n\n<p>Change this by appending a <em>copy</em> of <code>v</code>, rather than your ever-changing variable:</p>\n\n<pre><code>from copy import copy\n...\nv_list.append(copy(v))\nprint(v_list)\nprint(vmap(v))\nv_list.append(copy(vmap(v)))\nprint(v_list)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0.3, 0.5]\n[[0.3, 0.5]]\n[0.12389232074709916, 0.2137882692912617]\n[[0.3, 0.5], [-0.41955313380287046, 0.40078051892442046]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 3487040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qS36g.jpg?s=128&g=1", "display_name": "eapetcho", "link": "https://stackoverflow.com/users/3487040/eapetcho"}, "is_accepted": false, "score": 0, "last_activity_date": 1543441358, "creation_date": 1543441358, "answer_id": 53528565, "question_id": 53528339, "link": "https://stackoverflow.com/questions/53528339/appending-element-into-list-the-already-appended-elements-change-over-time-out/53528565#53528565", "title": "Appending element into list: the already appended elements change over time out of no reasons", "body": "<p>@Sato, Here's what you should normally do:</p>\n\n<pre><code>v = [0.3, 0.5]\n\nv_list = []\nprint(v)\nv_list.append(v)\nprint(v_list)\nprint(vmap(v))\nv_list.append(v)  #Note that the function vmap modifies v\nprint(v_list)\n</code></pre>\n"}], "owner": {"reputation": 801, "user_id": 8583532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/41f680aaeded542d0d345498663591c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sato", "link": "https://stackoverflow.com/users/8583532/sato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 53528398, "answer_count": 3, "score": 0, "last_activity_date": 1543441358, "creation_date": 1543440219, "last_edit_date": 1543440632, "question_id": 53528339, "link": "https://stackoverflow.com/questions/53528339/appending-element-into-list-the-already-appended-elements-change-over-time-out", "title": "Appending element into list: the already appended elements change over time out of no reasons", "body": "<p>A function that accepts a list of two elements as an argument is defined. I want to track how the list changes over time as it is iterated using the function by plotting it into the graph. But something strange happened. There is only one point plotted, so I tried to debug it by printing the lists, as shown in the following code:</p>\n\n<pre><code>from math import pi, sin, cos, tan\nimport numpy as np\n\n\nalpha = pi/3\nN = 10\n\n\ndef vmap(v):\n    if v[0] &gt;= 2*v[1]**0.5*tan(alpha)-(1-v[1])**0.5:\n        v[0], v[1] = v[0] - 2*v[1]**0.5*tan(alpha), v[1]\n    else:\n        z = v[1]\n        v[1] = -v[1]*(1+0.5*sin(4*alpha)*tan(alpha))-0.5*v[0]**2*sin(4*alpha)/tan(alpha) + v[0]*v[1]**0.5*sin(4*alpha) + 2*(cos(alpha))**2\n        v[0] = -v[0] + (z**0.5 - v[1]**0.5)*tan(alpha)\n    return v\n\nv = [0.3, 0.5]\n\nv_list = []\nprint(v)\nv_list.append(v)\nprint(v_list)\nprint(vmap(v))\nv_list.append(vmap(v))\nprint(v_list)\n</code></pre>\n\n<p>The output:</p>\n\n<pre><code>[0.3, 0.5]\n[[0.3, 0.5]]\n[0.12389232074709905, 0.21378826929126177]\n[[-0.41955313380287024, 0.40078051892442046], [-0.41955313380287024, 0.40078051892442046]]\n</code></pre>\n\n<p>I do not understand what has happened. I appended <code>[0.3, 0.5]</code> into the empty list, the empty list became <code>[[0.3, 0.5]]</code> as expected. But as I appended <code>vmap([0.3, 0.5])</code> into the list, which is <code>[0.12389232074709905, 0.21378826929126177]</code>, the list does not yield the expected result of <code>[[0.3, 0.5], [0.12389232074709905, 0.21378826929126177]]</code>, but <code>[[-0.41955313380287024, 0.40078051892442046], [-0.41955313380287024, 0.40078051892442046]]</code> which appeared out of thin air. Why is it so?</p>\n"}, {"tags": ["python", "image", "pygame", "window"], "answers": [{"tags": [], "owner": {"reputation": 72, "user_id": 9115423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/862366c63fce403d00d3ce1147178a78?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/9115423/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1543440790, "creation_date": 1543440790, "answer_id": 53528448, "question_id": 53528296, "link": "https://stackoverflow.com/questions/53528296/pygame-problems-i-try-to-close-the-window-the-image-blits-then-unblits-wha/53528448#53528448", "title": "Pygame problems - I try to close the window, the image blits, then unblits...what?", "body": "<p>I think the problem is that you are redefining the screen variable every gameloop in the main function. I would recommend to initialize the window outside of the main gameloop.\nTry initializing everything that you only want initialized once, outside of the main gameloop.</p>\n"}], "owner": {"reputation": 287, "user_id": 10469711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JgZmE.png?s=128&g=1", "display_name": "Eleeza the Character Wizard", "link": "https://stackoverflow.com/users/10469711/eleeza-the-character-wizard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 53528448, "answer_count": 1, "score": 0, "last_activity_date": 1543440790, "creation_date": 1543440081, "question_id": 53528296, "link": "https://stackoverflow.com/questions/53528296/pygame-problems-i-try-to-close-the-window-the-image-blits-then-unblits-wha", "title": "Pygame problems - I try to close the window, the image blits, then unblits...what?", "body": "<p>Well this is a weird situation.</p>\n\n<p>So I'm trying to make a game in python, and it requires me to blit a picture of a character (name's Minty, just clarifying for the code), and I did it the regular way anyone would. However, this happens:</p>\n\n<p>I run the code. The Pygame window opens. So far so good.\nThere is no image however.\nThere is no traceback.\nI try to X out and kill the program. Then the image suddenly appears.\nWait, what?</p>\n\n<p>Why is this happening?\nHas this happened to anyone?\nHere's my code (I cut out all unnecessary bits.)</p>\n\n<pre><code>import sys\nimport time\nimport pygame\nfrom pygame.locals import *\n\npygame.init()\n#MAIN GAME LOOP\nwhile True:\n\n    for events in pygame.event.get():\n        if events.type == QUIT:\n            quit()\n            exit()\n\n    #INITIALISING THE WINDOW. kept this in case anyone decides to try this out\n    #CONSTANTS ARE CAPITAL, VARIABLES ARE LOWERCASE\n    SCREENWIDTH = 900\n    SCREENHEIGHT = 600\n    SCREENSIZE = [SCREENWIDTH, SCREENHEIGHT]\n    screen = pygame.display.set_mode(SCREENSIZE)\n    BG_COL = [255, 123, 67]\n    clock = pygame.time.Clock()\n    screen.fill(BG_COL)\n    pygame.display.update()\n    clock.tick(60)\n\n    #INITIALISE ALL OBJECTS.\n\n    class Opponent(pygame.sprite.Sprite):\n        def __init__(self, name, title, sprite):\n            self.name = name\n            self.title = title\n            self.sprite = sprite\n\n    #INITIALISING CHARACTERS.\n\n    Minty = Opponent(\"Minty Portal\", \"Fairy of Many Worlds\", pygame.image.load(\"Portraits/minty-normal.png\"))\n\n    #BLIT CHARACTER\n    screen.blit(Minty.sprite, [300, 90])\n    pygame.display.update()\n</code></pre>\n\n<p>I don't know if I'm posting this right, any edits I should make, please comment below.<br>\nThanks for the help :)</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"tags": [], "owner": {"reputation": 1198, "user_id": 10643988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mg2mD.jpg?s=128&g=1", "display_name": "Bill M.", "link": "https://stackoverflow.com/users/10643988/bill-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1543440257, "creation_date": 1543440257, "answer_id": 53528344, "question_id": 53528235, "link": "https://stackoverflow.com/questions/53528235/iterating-through-python-list-and-outputting-numbers-to-a-list/53528344#53528344", "title": "Iterating through python list and outputting numbers to a list", "body": "<p>Python's <code>list()</code> function will turn any string into a list.  Also, when you do a <code>for</code> loop on a string, it will iterate every character.  So since what you want is a list whose items are <code>&lt;foo&gt; &lt;/foo&gt;</code> surrounding every digit in your string:</p>\n\n<pre><code>&gt;&gt;&gt; n = 1234567\n&gt;&gt;&gt; L = [ ('&lt;foo&gt;%s&lt;/foo&gt;' % i) for i in list(str(n)) ]\n&gt;&gt;&gt; print(L)\n['&lt;foo&gt;1&lt;/foo&gt;', '&lt;foo&gt;2&lt;/foo&gt;', '&lt;foo&gt;3&lt;/foo&gt;', '&lt;foo&gt;4&lt;/foo&gt;', '&lt;foo&gt;5&lt;/foo&gt;', '&lt;foo&gt;6&lt;/foo&gt;', '&lt;foo&gt;7&lt;/foo&gt;']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 10719388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4IG6NdUtn2w/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j_4a-15HEgkwwU7L9VXPzZXGlTIQ/mo/photo.jpg?sz=128", "display_name": "Bill DeCastro", "link": "https://stackoverflow.com/users/10719388/bill-decastro"}, "edited": false, "score": 0, "creation_date": 1543497475, "post_id": 53528544, "comment_id": 93946868, "body": "Much appreciated!"}], "tags": [], "owner": {"reputation": 2288, "user_id": 8408080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b487ee532f07476aea6610f459b3fdaf?s=128&d=identicon&r=PG&f=1", "display_name": "user8408080", "link": "https://stackoverflow.com/users/8408080/user8408080"}, "is_accepted": true, "score": 0, "last_activity_date": 1543441225, "creation_date": 1543441225, "answer_id": 53528544, "question_id": 53528235, "link": "https://stackoverflow.com/questions/53528235/iterating-through-python-list-and-outputting-numbers-to-a-list/53528544#53528544", "title": "Iterating through python list and outputting numbers to a list", "body": "<p>I suppose, that you have this as your input (if I understood you correctly):</p>\n\n<pre><code>a = [\"&lt;foo&gt;1&lt;/foo&gt;\", \"&lt;foo&gt;2&lt;/foo&gt;\", \"&lt;foo&gt;3&lt;/foo&gt;\", \"&lt;foo&gt;4&lt;/foo&gt;\", \"&lt;foo&gt;5&lt;/foo&gt;\", \"&lt;foo&gt;6&lt;/foo&gt;\", \"&lt;foo&gt;7&lt;/foo&gt;\", \"&lt;foo&gt;8&lt;/foo&gt;\", \"&lt;foo&gt;9&lt;/foo&gt;\", \"&lt;foo&gt;10&lt;/foo&gt;\"]\n</code></pre>\n\n<p>The easiest way to find things in a string is a regular expression. Python has the <code>re</code> module for this. As you know list comprehension already, here is a short way of finding all the numbers:</p>\n\n<pre><code>b = [int(re.search(r\"\\d+\", element).group()) for element in a]\n</code></pre>\n\n<p><code>\\d+</code> searches for one or more (<code>+</code>) digit (<code>\\d</code>).</p>\n"}], "owner": {"reputation": 33, "user_id": 10719388, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4IG6NdUtn2w/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-j_4a-15HEgkwwU7L9VXPzZXGlTIQ/mo/photo.jpg?sz=128", "display_name": "Bill DeCastro", "link": "https://stackoverflow.com/users/10719388/bill-decastro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 53528544, "answer_count": 2, "score": 1, "last_activity_date": 1543496653, "creation_date": 1543439849, "last_edit_date": 1543496653, "question_id": 53528235, "link": "https://stackoverflow.com/questions/53528235/iterating-through-python-list-and-outputting-numbers-to-a-list", "title": "Iterating through python list and outputting numbers to a list", "body": "<p>I've been racking my brain for a few days now. I'm fairly new to Python and trying to figure out how to split a string and output the desired contents to a list. I'm trying to select an entire number (regardless of the number of digits in the number) from a string and store it in a variable for future use. My list of strings will look something like this:</p>\n\n<pre><code>[\"&lt;foo&gt;1&lt;/foo&gt;\", \"&lt;foo&gt;2&lt;/foo&gt;\", \"&lt;foo&gt;3&lt;/foo&gt;\", \"&lt;foo&gt;4&lt;/foo&gt;\", \"&lt;foo&gt;5&lt;/foo&gt;\", \"&lt;foo&gt;6&lt;/foo&gt;\", \"&lt;foo&gt;7&lt;/foo&gt;\", \"&lt;foo&gt;8&lt;/foo&gt;\", \"&lt;foo&gt;9&lt;/foo&gt;\", \"&lt;foo&gt;10&lt;/foo&gt;\"]\n</code></pre>\n\n<p>I'm fairly familiar with for loops and the basic concepts of python, but not sure if I've bitten off more than I can chew.</p>\n\n<p>EDIT: I do already have the list in my script. The challenge is to drop the characters surrounding the numbers, leaving only the numbers in the list.</p>\n"}, {"tags": ["python", "spyder"], "comments": [{"owner": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "edited": false, "score": 0, "creation_date": 1543454435, "post_id": 53528200, "comment_id": 93929411, "body": "(<i>Spyder maintainer here</i>) This is usually a problem related to your consuming all your RAM. Please try to run it in the Jupyter notebook to see if there&#39;s any difference."}, {"owner": {"reputation": 97, "user_id": 10115119, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c6HHp76tVGs/AAAAAAAAAAI/AAAAAAAAAE4/QqZ18TPMISY/photo.jpg?sz=128", "display_name": "Shasika Madhushan", "link": "https://stackoverflow.com/users/10115119/shasika-madhushan"}, "reply_to_user": {"reputation": 27032, "user_id": 438386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aceace9b2049723617a2f59f698df0ff?s=128&d=identicon&r=PG", "display_name": "Carlos Cordoba", "link": "https://stackoverflow.com/users/438386/carlos-cordoba"}, "edited": false, "score": 0, "creation_date": 1543474000, "post_id": 53528200, "comment_id": 93934253, "body": "That was solved,but now commin up with &quot;&quot; from google.protobuf.pyext import _message&quot;  &quot;ImportError: DLL load failed: The specified procedure could not be found.&quot;&quot;"}], "owner": {"reputation": 97, "user_id": 10115119, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c6HHp76tVGs/AAAAAAAAAAI/AAAAAAAAAE4/QqZ18TPMISY/photo.jpg?sz=128", "display_name": "Shasika Madhushan", "link": "https://stackoverflow.com/users/10115119/shasika-madhushan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1282, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543439718, "creation_date": 1543439718, "question_id": 53528200, "link": "https://stackoverflow.com/questions/53528200/kernel-died-restarting-ipython-console-in-spyder", "title": "&quot;Kernel died, restarting&quot; ipython console in Spyder", "body": "<p>I used spyder IDE for train a neural network but after installig Tensorflow and runnig my program show that error in ipython console.How to solve it?</p>\n"}, {"tags": ["python", "bots", "discord", "discord.py"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10708127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf30b9bdbde1d7f3d994b0405c59795?s=128&d=identicon&r=PG&f=1", "display_name": "Anakrisius", "link": "https://stackoverflow.com/users/10708127/anakrisius"}, "edited": false, "score": 1, "creation_date": 1543443964, "post_id": 53528504, "comment_id": 93926822, "body": "Thank you so much! This helped a lot and I was able to get it to work!!! @Patrick Haugh"}, {"owner": {"reputation": 141, "user_id": 7068647, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/37e97fd8852443ddbf58393b676362f2?s=128&d=identicon&r=PG&f=1", "display_name": "Laurenz ebs", "link": "https://stackoverflow.com/users/7068647/laurenz-ebs"}, "edited": false, "score": 1, "creation_date": 1559129392, "post_id": 53528504, "comment_id": 99322515, "body": "Note that this answer is significantly outdated. Check the <a href=\"https://discordpy.readthedocs.io/en/latest/ext/commands/index.html\" rel=\"nofollow noreferrer\">docs</a> to get current infos."}], "tags": [], "owner": {"reputation": 49388, "user_id": 6779307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/p7O3q.jpg?s=128&g=1", "display_name": "Patrick Haugh", "link": "https://stackoverflow.com/users/6779307/patrick-haugh"}, "is_accepted": true, "score": 18, "last_activity_date": 1559161730, "last_edit_date": 1559161730, "creation_date": 1543441062, "answer_id": 53528504, "question_id": 53528168, "link": "https://stackoverflow.com/questions/53528168/how-do-i-use-cogs-with-discord-py/53528504#53528504", "title": "How do I use cogs with discord.py?", "body": "<h2>Note:</h2>\n\n<p>The below was written for the older 0.16 version, which did not have good documentation of cogs.  The new 1.0 version has good documentation, and has completely changed the structure of cogs.  If you're using a modern version of <a href=\"/questions/tagged/discord.py\" class=\"post-tag\" title=\"show questions tagged &#39;discord.py&#39;\" rel=\"tag\">discord.py</a>, you should consult the <a href=\"https://discordpy.readthedocs.io/en/latest/ext/commands/cogs.html\" rel=\"noreferrer\">official documentation</a>.</p>\n\n<h2>Introduction</h2>\n\n<p>Every cog has two parts: a class and a <code>setup</code> function.  Almost all <code>setup</code> functions look the same:</p>\n\n<pre><code>def setup(bot):\n    bot.add_cog(Cog(bot))\n</code></pre>\n\n<p>where <code>Cog</code> is the cog class.</p>\n\n<p>The cog class contains all of our commands and events as methods.  </p>\n\n<h2>Main Changes</h2>\n\n<p>There are four main transformations that you need to do to change your bot to a cog:</p>\n\n<ol>\n<li><p>Replace <code>bot.command</code> with <code>commands.command</code> (<code>commands</code> being <code>from discord.ext import commands</code>)</p></li>\n<li><p>Change the signatures of your functions to include <code>self</code> at the beginning, as all of your commands and events are now methods of the cog class</p></li>\n<li><p>Change all references to <code>bot</code> to refer to <code>self.bot</code> instead</p></li>\n<li><p>Remove all <code>bot.event</code> decorators.  Event listeners from your cog are registered on name alone</p></li>\n</ol>\n\n<p>There are also some gotchas:</p>\n\n<ol>\n<li><p>Remove <code>await bot.process_commands(message)</code> from any <code>on_message</code> events in your cog.  For any message this should only be awaited once.  The default <code>on_message</code> does already does this for you.</p></li>\n<li><p>Registering an event through a cog does not remove other callbacks related to that event, from your main file or other cogs. That means that your bot could respond to a <code>on_member_join</code> event multiple times for example, if you have behaviour for that event defined in multiple places.</p></li>\n</ol>\n\n<h2>Example</h2>\n\n<p>Let's say you have the following discord.py bot, <code>bot.py</code> in the directory <code>src</code>:</p>\n\n<pre><code>from discord.ext import commands\n\nbot = commands.Bot(command_prefix='!')\n\n@bot.command(pass_context=True)\n@commands.has_role(\"Mod\")\nasync def acommand(ctx, argument):\n   await bot.say(\"Stuff\")\n\n@bot.event\nasync def on_message(message):\n    print(message.content)\n    await bot.process_commands(message)\n\nbot.run(\"token\")\n</code></pre>\n\n<p>You then factor that functionality out into a cog <code>src/cogs/maincog.py</code></p>\n\n<pre><code>from discord.ext import commands\n\nclass MainCog:\n    def __init__(self, bot):\n        self.bot = bot\n\n    @commands.command(pass_context=True)\n    @commands.has_role(\"Mod\")\n    async def acommand(self, ctx, argument):\n       await self.bot.say(\"Stuff\")        \n\n    async def on_message(self, message):\n        print(message.content)\n\ndef setup(bot):\n    bot.add_cog(MainCog(bot))\n</code></pre>\n\n<p>And your <code>bot.py</code> file would look like </p>\n\n<pre><code>from discord.ext import commands\n\nbot = commands.Bot(command_prefix='!')\n\nbot.load_extension(\"cogs.maincog\")\n\nbot.run(\"token\")\n</code></pre>\n\n<p>Note that to load the extension at <code>cogs/maincog.py</code>, we use <code>load_extension(\"cogs.maincog\")</code>.</p>\n\n<h2>Other features</h2>\n\n<p>Cogs also allow you to define some special methods.  Most of these are available only in <a href=\"/questions/tagged/discord.py-rewrite\" class=\"post-tag\" title=\"show questions tagged &#39;discord.py-rewrite&#39;\" rel=\"tag\">discord.py-rewrite</a> and are documented <a href=\"https://discordpy.readthedocs.io/en/rewrite/migrating.html#cog-changes\" rel=\"noreferrer\">here</a>.</p>\n\n<ol>\n<li><p><code>__global_check</code>, formerly <code>__check</code>, runs before every command and must return <code>True</code> for that command to proceed.</p></li>\n<li><p><code>__local_check</code> runs only before commands from this cog.</p></li>\n<li><p><code>__global_check_once</code> I believe that this is similar to <code>__global_check</code> except that it only checks once in the case of subcommands. I haven't used this much.</p></li>\n<li><p><code>__unload</code> You can live refresh your bot by unloading the extension, then reloading it, allowing you to update your cogs without taking your bot offline.  This method is called when you unload the extension, or when your bot stop running, in case you need to do cleanup.</p></li>\n<li><p><code>__before_invoke</code> and <code>__after_invoke</code> are run before and after every command from this cog, respectively.</p></li>\n<li><p><code>__error</code> is an error handler for commands from this cog.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 14577124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFvNq.jpg?s=128&g=1", "display_name": "bat beat", "link": "https://stackoverflow.com/users/14577124/bat-beat"}, "edited": false, "score": 0, "creation_date": 1607841596, "post_id": 65056790, "comment_id": 115396204, "body": "what if I&#39;m using the client as the @client decorator thing."}, {"owner": {"reputation": 71, "user_id": 14577124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFvNq.jpg?s=128&g=1", "display_name": "bat beat", "link": "https://stackoverflow.com/users/14577124/bat-beat"}, "edited": false, "score": 0, "creation_date": 1607841622, "post_id": 65056790, "comment_id": 115396209, "body": "how do I fit the client in that"}, {"owner": {"reputation": 461, "user_id": 14507110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vSgTp.png?s=128&g=1", "display_name": "Billy", "link": "https://stackoverflow.com/users/14507110/billy"}, "reply_to_user": {"reputation": 71, "user_id": 14577124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LFvNq.jpg?s=128&g=1", "display_name": "bat beat", "link": "https://stackoverflow.com/users/14577124/bat-beat"}, "edited": false, "score": 0, "creation_date": 1608117051, "post_id": 65056790, "comment_id": 115482680, "body": "because a cog is a instance of the class <code>commands.Cog</code> and the client is not in the same script, you will have to use <code>@commands.command()</code>"}], "tags": [], "owner": {"reputation": 461, "user_id": 14507110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vSgTp.png?s=128&g=1", "display_name": "Billy", "link": "https://stackoverflow.com/users/14507110/billy"}, "is_accepted": false, "score": 1, "last_activity_date": 1606621222, "creation_date": 1606621222, "answer_id": 65056790, "question_id": 53528168, "link": "https://stackoverflow.com/questions/53528168/how-do-i-use-cogs-with-discord-py/65056790#65056790", "title": "How do I use cogs with discord.py?", "body": "<p>a basic cog template looks like this:</p>\n<pre><code>import discord\nimport asyncio\nfrom discord.ext import commands\n\nclass cog_name(commands.Cog):\n    def __init__(self, bot):\n        self.bot = bot\n\ndef setup(bot):\n    bot.add_cog(cog_name(bot))\n</code></pre>\n<p>and in order to add this cog to your bot, in your main file, add this :</p>\n<pre><code>client.load_extension('script_name')\n</code></pre>\n<p>and if the cog script is inside a folder,</p>\n<pre><code>client.load_extension('folder_name.script_name')\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10708127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faf30b9bdbde1d7f3d994b0405c59795?s=128&d=identicon&r=PG&f=1", "display_name": "Anakrisius", "link": "https://stackoverflow.com/users/10708127/anakrisius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25545, "favorite_count": 6, "accepted_answer_id": 53528504, "answer_count": 2, "score": 2, "last_activity_date": 1606621222, "creation_date": 1543439575, "last_edit_date": 1543440065, "question_id": 53528168, "link": "https://stackoverflow.com/questions/53528168/how-do-i-use-cogs-with-discord-py", "title": "How do I use cogs with discord.py?", "body": "<p>I have quite a large bot for discord written up. It has over 1000 lines of code. When I researched how to do it on youtube and here, nothing seems to be working. I was wondering if someone could explain how to use a cob properly, possibly with photo examples. I can show what code I have to help you understand what I want.</p>\n\n<p>An example would be that I want to have all of my mod commands in a separate file, just so its cleaner and more organized. so, how do I go about doing this? Here is an example of my code: </p>\n\n<p><a href=\"https://i.stack.imgur.com/uKeTm.png\" rel=\"nofollow noreferrer\">Mod Commands I want to move to a separate file using a cog</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/4Z2Zh.png\" rel=\"nofollow noreferrer\">Imports currently that I have</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/WbFim.png\" rel=\"nofollow noreferrer\">Prefix and directory</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/BeaKh.png\" rel=\"nofollow noreferrer\">Calling token ID - token id is above, not shown in photo</a></p>\n\n<p>I am unsure how to start a cog completely, what else to import, how to call the file. I know java well, but I am trying to work on my python skills with discord. Thank you in advance! </p>\n"}, {"tags": ["python", "python-3.x", "multithreading", "tkinter"], "answers": [{"comments": [{"owner": {"reputation": 214, "user_id": 12148778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3406070b17d4f888e176403592e0d72?s=128&d=identicon&r=PG&f=1", "display_name": "RamWill", "link": "https://stackoverflow.com/users/12148778/ramwill"}, "edited": false, "score": 0, "creation_date": 1601747863, "post_id": 53533540, "comment_id": 113504252, "body": "This is a good solution but just an FYI that <code>examplethread.run</code> should be <code>examplethread.start</code> the code you provided still runs on the same thread. more info here <a href=\"https://stackoverflow.com/a/32383044/12148778\">stackoverflow.com/a/32383044/12148778</a>"}], "tags": [], "owner": {"reputation": 606, "user_id": 7907587, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c689a2a0af7c9911823393ab2866a42?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Kazeem", "link": "https://stackoverflow.com/users/7907587/samuel-kazeem"}, "is_accepted": false, "score": 1, "last_activity_date": 1543475156, "creation_date": 1543475156, "answer_id": 53533540, "question_id": 53528157, "link": "https://stackoverflow.com/questions/53528157/how-to-get-tkinter-gui-to-update-based-off-of-results-from-code-running-in-anoth/53533540#53533540", "title": "How to get tkinter gui to update based off of results from code running in another thread?", "body": "<ol>\n<li><p><code>tkinter Labels</code> use the <code>textvariable</code> argument not <code>text</code> to set the variable to use.</p></li>\n<li><p>variables to be used with your label was not declared as a <code>StringVar()</code></p></li>\n<li><p>You have to use <code>.set()</code> to assign values to your <code>StringVar()</code> variables not the normal python assignment.</p></li>\n<li><p>Do your counter with one variable and then set <code>var</code> to that variable</p></li>\n<li><p>It seems you were calling the wrong method <code>start</code> while you had <code>run</code> in your code</p>\n\n<pre><code>from tkinter import *\nimport threading\ncount=0\nclass thread1 (threading.Thread):\n    def __init__(self, threadID, name, counter):\n        threading.Thread.__init__(self)\n        self.threadID = threadID\n        self.name = name\n        self.counter = counter\n   def run(self):\n        while True:\n            global count\n            #while True:\n            count+=1\n            var.set(count)\n            window.update_idletasks()\n\n\n\nexamplethread = thread1(1, \"example\", 1)\n\nwindow = Tk()\nvar=StringVar()\nvar.set(0)\ntext = Label(window, textvariable=var)\nbutton = Button(window, text = \"launch thread\", command=examplethread.run)\ntext.pack()\nbutton.pack()\nwindow.mainloop\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 10708513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78bc9713fca8930918234184bdad2549?s=128&d=identicon&r=PG&f=1", "display_name": "Justin", "link": "https://stackoverflow.com/users/10708513/justin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543475156, "creation_date": 1543439539, "question_id": 53528157, "link": "https://stackoverflow.com/questions/53528157/how-to-get-tkinter-gui-to-update-based-off-of-results-from-code-running-in-anoth", "title": "How to get tkinter gui to update based off of results from code running in another thread?", "body": "<p>I'm currently working on a small project in python 3 using both tkinter and threading in order to make a program that acts in real time along with user input. More specifically, the problem is that I cannot get the tkinter gui to update from a separate thread. I've tried a few methods involving the .set method, .update_idletasks, and launching the thread from a callback, but I cant get it to work at all. Below is a short attempt that launches a thread that should keep increasing the counter after pressing a button in the gui.</p>\n\n<pre><code>from tkinter import *\nimport threading\n\nvar = 0\nclass thread1 (threading.Thread):\n   def __init__(self, threadID, name, counter):\n      threading.Thread.__init__(self)\n      self.threadID = threadID\n      self.name = name\n      self.counter = counter\n   def run(self):\n       while True:\n           global var\n           while True:\n               var+=1\n               window.update_idletasks()\nexamplethread = thread1(1, \"example\", 1)\n\nwindow = Tk()\ntext = Label(window, text=var)\nbutton = Button(window, text = \"launch thread\", command=examplethread.start)\ntext.pack()\nbutton.pack()\nwindow.mainloop\n</code></pre>\n\n<p>It doesn't work, instead giving me an error that I know is saying that I cannot use tkinter commands outside of the thread mainloop() is running in. I was wondering if it was possible to get a tkinter gui to update based off of the results of code that's looping in the background as other player input is put in at the same time. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6370, "user_id": 8710265, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qn3JJ.png?s=128&g=1", "display_name": "Vasilis G.", "link": "https://stackoverflow.com/users/8710265/vasilis-g"}, "edited": false, "score": 0, "creation_date": 1543439426, "post_id": 53528081, "comment_id": 93925045, "body": "<code>outDict = dict((elem,inList.count(elem)) for elem in inList)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 11552, "user_id": 8112138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b1ddf31abbf37d5fe71ad387e2772c?s=128&d=identicon&r=PG&f=1", "display_name": "Primusa", "link": "https://stackoverflow.com/users/8112138/primusa"}, "is_accepted": true, "score": 2, "last_activity_date": 1543439270, "creation_date": 1543439270, "answer_id": 53528101, "question_id": 53528081, "link": "https://stackoverflow.com/questions/53528081/compress-an-array-into-a-dictionary-of-form-item-occurences/53528101#53528101", "title": "&quot;Compress&quot; an array into a dictionary of form {item: occurences}", "body": "<p>Use <code>collections.Counter()</code></p>\n\n<pre><code>from collections import Counter\n\nc = Counter(iterable)\n</code></pre>\n"}], "owner": {"reputation": 1713, "user_id": 3989939, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/530734853101ecc62e278406ed5b9065?s=128&d=identicon&r=PG&f=1", "display_name": "JavascriptLoser", "link": "https://stackoverflow.com/users/3989939/javascriptloser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "closed_date": 1543439332, "accepted_answer_id": 53528101, "answer_count": 1, "score": 0, "last_activity_date": 1543439371, "creation_date": 1543439193, "question_id": 53528081, "link": "https://stackoverflow.com/questions/53528081/compress-an-array-into-a-dictionary-of-form-item-occurences", "closed_reason": "Duplicate", "title": "&quot;Compress&quot; an array into a dictionary of form {item: occurences}", "body": "<p>I have a function which takes an array of items and returns a dictionary. The keys of the returned dictionary are the original items of the array, and the values are the number of times those items appeared in the original array.</p>\n\n<p>For example:</p>\n\n<pre><code>[2, 2, 3] --&gt; {2: 2, 3: 1}\n</code></pre>\n\n<p>I wrote the following:</p>\n\n<pre><code>compress_dupes(array):\n    out = {}\n\n    for i in array:\n        if i in out:\n            out[i] = out[i] + 1\n        else:\n            out[i] = 1\n\n    return out\n</code></pre>\n\n<p>This works. But I want to make it a little more elegant. Is there a more \"pythonic\" way of doing this, with comprehensions or any other way?</p>\n"}, {"tags": ["python", "nltk"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": true, "score": 0, "last_activity_date": 1543439801, "creation_date": 1543439801, "answer_id": 53528221, "question_id": 53528074, "link": "https://stackoverflow.com/questions/53528074/nltk-making-bigrams-and-trigrams-sequentially-error-doing-both-at-same-time/53528221#53528221", "title": "NLTK Making Bigrams and Trigrams sequentially error doing both at same time", "body": "<p><code>filter</code> returns an iterator. Once you iterate through it, it becomes empty. You must convert the iterator into a list if you want to use it more than once:</p>\n\n<pre><code>important_words = list(filter(lambda x: x not in stopwords, words_lowercase))\n</code></pre>\n"}], "owner": {"reputation": 187, "user_id": 1610474, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7d133e636f0d5b5b401029a8ea0b4a10?s=128&d=identicon&r=PG", "display_name": "Manish", "link": "https://stackoverflow.com/users/1610474/manish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 53528221, "answer_count": 1, "score": 0, "last_activity_date": 1543439801, "creation_date": 1543439134, "question_id": 53528074, "link": "https://stackoverflow.com/questions/53528074/nltk-making-bigrams-and-trigrams-sequentially-error-doing-both-at-same-time", "title": "NLTK Making Bigrams and Trigrams sequentially error doing both at same time", "body": "<p>I am trying to pass text into the script below and have it output both bigrams and trigrams. This is like the 6th generation attempt at this, as with all others it for some reason only generates the first n-grams and not the other. I've tried to switch up order, tried all kinds of things. </p>\n\n<p>Here is the current script: </p>\n\n<pre><code>#!/usr/bin/python3\n# -*- coding: utf-8 -*-\n\nimport os\nimport sys\nfrom datetime import datetime, timedelta\nimport random\nimport nltk\nfrom nltk.collocations import *\nimport re\nimport json\nfrom pprint import pprint\n\n\ndef bigram_generator(important_words, gram_dict):\n    finder = BigramCollocationFinder.from_words(important_words, 2)\n\n    for bigram, count in finder.ngram_fd.items():\n          gram_dict[' '.join(bigram)] = count\n\n    return gram_dict\n\ndef trigram_generator(important_words, gram_dict):\n    finder1 = TrigramCollocationFinder.from_words(important_words, 3)\n\n    for trigram, count in finder1.ngram_fd.items():\n          gram_dict[' '.join(trigram)] = count\n\n    return gram_dict\n\ndef execute_gram_analysis2(important_words):\n    bigram_dict = {}\n    for x in range(1,10):\n        bigram_dict = bigram_generator(important_words, bigram_dict)\n\n    trigram_dict = {}\n    for y in range(1,10):\n        trigram_dict = trigram_generator(important_words, trigram_dict)\n\n    return bigram_dict, trigram_dict\n\ndef convert_gram_dict_to_json(gram_dict):\n    json_grams_dict = json.dumps(gram_dict, ensure_ascii=False)\n    return json_grams_dict\n\n\nstopwords = nltk.corpus.stopwords.words('english')\n\nscraped_url_id = 2\n\ns = scraped_urls.select().where(scraped_urls.c.id==scraped_url_id)\nresults = monitor_bot_conn.execute(s)\nfor row in results:\n    row_id = row[0]\n    text = row[6]\n\n    print (text)\n\n    words = re.findall(r'\\w+', text.decode('utf-8'))\n\n    words_lowercase = []\n    for word in words:\n        words_lowercase.append(word.lower())\n\n\n    important_words = filter(lambda x: x not in stopwords, words_lowercase)\n\n    bigrams_dict, trigrams_dict = execute_gram_analysis2(important_words)\n    json_bigrams_dict = convert_gram_dict_to_json(bigrams_dict)\n    print ('\\n\\n---[ BIGRAMS ]---\\n\\n')\n    pprint (json_bigrams_dict)\n\n    json_trigrams_dict = convert_gram_dict_to_json(trigrams_dict)\n    print ('\\n\\n---[ TRIGRAMS ]---\\n\\n')\n    pprint (json_trigrams_dict)\n</code></pre>\n\n<p>Using the above script on the Source Text below, I get the following output:</p>\n\n<pre><code>    ---[ SOURCE TEXT ]---\nb'A black hole is a region of spacetime exhibiting such strong gravitational effects that nothing?not even particles and electromagnetic radiation such as light?can escape from inside it.[1] The theory of general relativity predicts that a sufficiently compact mass can deform spacetime to form a black hole.[2][3] The boundary of the region from which no escape is possible is called the event horizon. Although the event horizon has an enormous effect on the fate and circumstances of an object crossing it, no locally detectable features appear to be observed.[4] In many ways a black hole acts like an ideal black body, as it reflects no light.[5][6] Moreover, quantum field theory in curved spacetime predicts that event horizons emit Hawking radiation, with the same spectrum as a black body of a temperature inversely proportional to its mass. This temperature is on the order of billionths of a kelvin for black holes of stellar mass, making it essentially impossible to observe.\\n\\nObjects whose gravitational fields are too strong for light to escape were first considered in the 18th century by John Michell and Pierre-Simon Laplace.[7] The first modern solution of general relativity that would characterize a black hole was found by Karl Schwarzschild in 1916, although its interpretation as a region of space from which nothing can escape was first published by David Finkelstein in 1958. Black holes were long considered a mathematical curiosity; it was during the 1960s that theoretical work showed they were a generic prediction of general relativity. The discovery of neutron stars in the late 1960s sparked interest in gravitationally collapsed compact objects as a possible astrophysical reality.\\n'\n\n\n---[ BIGRAMS OUTPUT]---\n\n('{\"black hole\": 4, \"hole region\": 1, \"region spacetime\": 1, \"spacetime '\n 'exhibiting\": 1, \"exhibiting strong\": 1, \"strong gravitational\": 1, '\n '\"gravitational effects\": 1, \"effects nothing\": 1, \"nothing even\": 1, \"even '\n 'particles\": 1, \"particles electromagnetic\": 1, \"electromagnetic radiation\": '\n '1, \"radiation light\": 1, \"light escape\": 2, \"escape inside\": 1, \"inside 1\": '\n '1, \"1 theory\": 1, \"theory general\": 1, \"general relativity\": 3, \"relativity '\n 'predicts\": 1, \"predicts sufficiently\": 1, \"sufficiently compact\": 1, '\n '\"compact mass\": 1, \"mass deform\": 1, \"deform spacetime\": 1, \"spacetime '\n 'form\": 1, \"form black\": 1, \"hole 2\": 1, \"2 3\": 1, \"3 boundary\": 1, \"boundary '\n 'region\": 1, \"region escape\": 1, \"escape possible\": 1, \"possible called\": 1, '\n '\"called event\": 1, \"event horizon\": 2, \"horizon although\": 1, \"although '\n 'event\": 1, \"horizon enormous\": 1, \"enormous effect\": 1, \"effect fate\": 1, '\n '\"fate circumstances\": 1, \"circumstances object\": 1, \"object crossing\": 1, '\n '\"crossing locally\": 1, \"locally detectable\": 1, \"detectable features\": 1, '\n '\"features appear\": 1, \"appear observed\": 1, \"observed 4\": 1, \"4 many\": 1, '\n '\"many ways\": 1, \"ways black\": 1, \"hole acts\": 1, \"acts like\": 1, \"like '\n 'ideal\": 1, \"ideal black\": 1, \"black body\": 2, \"body reflects\": 1, \"reflects '\n 'light\": 1, \"light 5\": 1, \"5 6\": 1, \"6 moreover\": 1, \"moreover quantum\": 1, '\n '\"quantum field\": 1, \"field theory\": 1, \"theory curved\": 1, \"curved '\n 'spacetime\": 1, \"spacetime predicts\": 1, \"predicts event\": 1, \"event '\n 'horizons\": 1, \"horizons emit\": 1, \"emit hawking\": 1, \"hawking radiation\": 1, '\n '\"radiation spectrum\": 1, \"spectrum black\": 1, \"body temperature\": 1, '\n '\"temperature inversely\": 1, \"inversely proportional\": 1, \"proportional '\n 'mass\": 1, \"mass temperature\": 1, \"temperature order\": 1, \"order billionths\": '\n '1, \"billionths kelvin\": 1, \"kelvin black\": 1, \"black holes\": 2, \"holes '\n 'stellar\": 1, \"stellar mass\": 1, \"mass making\": 1, \"making essentially\": 1, '\n '\"essentially impossible\": 1, \"impossible observe\": 1, \"observe objects\": 1, '\n '\"objects whose\": 1, \"whose gravitational\": 1, \"gravitational fields\": 1, '\n '\"fields strong\": 1, \"strong light\": 1, \"escape first\": 2, \"first '\n 'considered\": 1, \"considered 18th\": 1, \"18th century\": 1, \"century john\": 1, '\n '\"john michell\": 1, \"michell pierre\": 1, \"pierre simon\": 1, \"simon laplace\": '\n '1, \"laplace 7\": 1, \"7 first\": 1, \"first modern\": 1, \"modern solution\": 1, '\n '\"solution general\": 1, \"relativity would\": 1, \"would characterize\": 1, '\n '\"characterize black\": 1, \"hole found\": 1, \"found karl\": 1, \"karl '\n 'schwarzschild\": 1, \"schwarzschild 1916\": 1, \"1916 although\": 1, \"although '\n 'interpretation\": 1, \"interpretation region\": 1, \"region space\": 1, \"space '\n 'nothing\": 1, \"nothing escape\": 1, \"first published\": 1, \"published david\": '\n '1, \"david finkelstein\": 1, \"finkelstein 1958\": 1, \"1958 black\": 1, \"holes '\n 'long\": 1, \"long considered\": 1, \"considered mathematical\": 1, \"mathematical '\n 'curiosity\": 1, \"curiosity 1960s\": 1, \"1960s theoretical\": 1, \"theoretical '\n 'work\": 1, \"work showed\": 1, \"showed generic\": 1, \"generic prediction\": 1, '\n '\"prediction general\": 1, \"relativity discovery\": 1, \"discovery neutron\": 1, '\n '\"neutron stars\": 1, \"stars late\": 1, \"late 1960s\": 1, \"1960s sparked\": 1, '\n '\"sparked interest\": 1, \"interest gravitationally\": 1, \"gravitationally '\n 'collapsed\": 1, \"collapsed compact\": 1, \"compact objects\": 1, \"objects '\n 'possible\": 1, \"possible astrophysical\": 1, \"astrophysical reality\": 1}')\n\n---[ TRIGRAMS OUTPUT ]---\n\n'{}'\n</code></pre>\n\n<p>I don't understand why I can't run the script so there is output for both bigrams and trigrams. </p>\n\n<p>Thank you in advance for assistance!</p>\n"}, {"tags": ["python", "pandas", "label", "bar-chart", "seaborn"], "comments": [{"owner": {"reputation": 270, "user_id": 9518258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "0xdd", "link": "https://stackoverflow.com/users/9518258/0xdd"}, "edited": false, "score": 0, "creation_date": 1543439462, "post_id": 53528054, "comment_id": 93925060, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26540035/rotate-label-text-in-seaborn-factorplot\">Rotate label text in seaborn factorplot</a>"}, {"owner": {"reputation": 706, "user_id": 9536834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfe51218ea85e4f2550810734d8b0f1?s=128&d=identicon&r=PG&f=1", "display_name": "KMFR", "link": "https://stackoverflow.com/users/9536834/kmfr"}, "reply_to_user": {"reputation": 270, "user_id": 9518258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "0xdd", "link": "https://stackoverflow.com/users/9518258/0xdd"}, "edited": false, "score": 0, "creation_date": 1543439740, "post_id": 53528054, "comment_id": 93925186, "body": "Rotating the label revealed that barplot shows the date labes in the following format: &quot;2018-09-29T00:00:00.000000000&quot;, even though print(df[&quot;Date&quot;] shows them in the correct format (2018-09-29) (no idea why?). This is one reason for the mess, but I think the original question still stands."}, {"owner": {"reputation": 270, "user_id": 9518258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "0xdd", "link": "https://stackoverflow.com/users/9518258/0xdd"}, "edited": false, "score": 0, "creation_date": 1543441481, "post_id": 53528054, "comment_id": 93925897, "body": "that&#39;s definitely a separate question, &quot;how can I get pandas to format my datetimes as dates&quot; (which most likely also has answers here already -- naively, you could just use <code>strftime</code> mapped over your df rows)."}, {"owner": {"reputation": 706, "user_id": 9536834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfe51218ea85e4f2550810734d8b0f1?s=128&d=identicon&r=PG&f=1", "display_name": "KMFR", "link": "https://stackoverflow.com/users/9536834/kmfr"}, "reply_to_user": {"reputation": 270, "user_id": 9518258, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "0xdd", "link": "https://stackoverflow.com/users/9518258/0xdd"}, "edited": false, "score": 0, "creation_date": 1543487034, "post_id": 53528054, "comment_id": 93941033, "body": "Sure that&#39;s a separate question, but doing that (with the help of the other reply) did not fully solve the problem of messy labels. Rotating helped some, smaller font helped a bit more, and finally displaying only the day (instead of date) made the labels readable. Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 706, "user_id": 9536834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfe51218ea85e4f2550810734d8b0f1?s=128&d=identicon&r=PG&f=1", "display_name": "KMFR", "link": "https://stackoverflow.com/users/9536834/kmfr"}, "edited": false, "score": 0, "creation_date": 1543440179, "post_id": 53528113, "comment_id": 93925365, "body": "Thank you, this cleaned up the label very nicely. I&#39;m not exactly sure what &quot;plt.xticks()[0]&quot; does, and should I call these date labels xticks or labels or something else?"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 706, "user_id": 9536834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfe51218ea85e4f2550810734d8b0f1?s=128&d=identicon&r=PG&f=1", "display_name": "KMFR", "link": "https://stackoverflow.com/users/9536834/kmfr"}, "edited": false, "score": 1, "creation_date": 1543440348, "post_id": 53528113, "comment_id": 93925445, "body": "<code>plt.xticks()[0]</code> is one way to get the tick locations of your current plot (there are other ways, too). So you pass your original tick locations, your labels as formatted strings, and the desired rotation to the <a href=\"https://matplotlib.org/api/_as_gen/matplotlib.pyplot.xticks.html\" rel=\"nofollow noreferrer\"><code>xticks</code> attribute</a>"}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": true, "score": 4, "last_activity_date": 1543439641, "last_edit_date": 1543439641, "creation_date": 1543439304, "answer_id": 53528113, "question_id": 53528054, "link": "https://stackoverflow.com/questions/53528054/the-most-elegant-way-to-modify-messy-and-overlapping-date-labels-below-x-axis/53528113#53528113", "title": "The most elegant way to modify messy and overlapping date labels below x axis? (Seaborn, barplot)", "body": "<p>I would do both: rotate your xlabels and use only the dates:</p>\n\n<pre><code>import seaborn as sns\nimport matplotlib.pyplot as plt\n\n# dummy data:\ndf = pd.DataFrame({'Date':pd.to_datetime(['1999-12-12', '2000-12-12', '2001-12-12']),'Amount':[1,2,3]})\n\nsns.barplot(x=\"Date\", y=\"Amount\", data=df)\n# use the original locations of your xticks, and only the date for your label\n# rotate the labels 90 degrees using the rotation argument\nplt.xticks(plt.xticks()[0], df.Date.dt.date, rotation=90)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/jLlGp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jLlGp.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8652555, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-o9Vq_rnw_wI/AAAAAAAAAAI/AAAAAAAAAHY/xMDL2abX7jI/photo.jpg?sz=128", "display_name": "James Grimmett", "link": "https://stackoverflow.com/users/8652555/james-grimmett"}, "is_accepted": false, "score": 2, "last_activity_date": 1553311798, "creation_date": 1553311798, "answer_id": 55310359, "question_id": 53528054, "link": "https://stackoverflow.com/questions/53528054/the-most-elegant-way-to-modify-messy-and-overlapping-date-labels-below-x-axis/55310359#55310359", "title": "The most elegant way to modify messy and overlapping date labels below x axis? (Seaborn, barplot)", "body": "<p>Another solution, if you have a large number of dates and would prefer to label them at a more sparse interval;</p>\n\n<pre><code>import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\n# dummy data:\ndf = pd.DataFrame({'Date':pd.to_datetime(['1999-12-12', '2000-12-12', '2001-12-12',\n                                          '2002-12-12', '2003-12-12', '2004-12-12',\n                                          '2005-12-12','2006-12-12', '2007-12-12', '2008-12-12']),\n                                          'Amount':[1,2,3,4,5,6,7,8,9,10]})\n\nfig, ax = plt.subplots()\nsns.barplot(x=\"Date\", y=\"Amount\", data=df, ax=ax)\n\n# set the frequency for labelling the xaxis\nfreq = int(2)\n\n# set the xlabels as the datetime data for the given labelling frequency,\n# also use only the date for the label\nax.set_xticklabels(df.iloc[::freq].Date.dt.date)\n# set the xticks at the same frequency as the xlabels\nxtix = ax.get_xticks()\nax.set_xticks(xtix[::freq])\n# nicer label format for dates\nfig.autofmt_xdate()\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/xOTO5.png\" rel=\"nofollow noreferrer\">Click to see plot</a></p>\n\n<p>It's also worth considering using the seaborn plot defaults, and placing the dates on the yaxis for ease of reading, but that's moreso personal preference.</p>\n\n<pre><code>import pandas as pd\nimport seaborn as sns\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\n\n# set the seaborn asthetics\nsns.set()\n\n# dummy data:\ndf = pd.DataFrame({'Date':pd.to_datetime(['1999-12-12', '2000-12-12', '2001-12-12',\n                                          '2002-12-12', '2003-12-12', '2004-12-12',\n                                          '2005-12-12','2006-12-12', '2007-12-12', '2008-12-12']),\n                                          'Amount':[1,2,3,4,5,6,7,8,9,10]})\n\nfig, ax = plt.subplots()\n# plot with a horizontal orientation\nsns.barplot(y=\"Date\", x=\"Amount\", data=df, ax=ax, orient='h')\n\n# set the frequency for labelling the yaxis\nfreq = int(2)\n\n# set the ylabels as the datetime data for the given labelling frequency,\n# also use only the date for the label\nax.set_yticklabels(df.iloc[::freq].Date.dt.date)\n# set the yticks at the same frequency as the ylabels\nytix = ax.get_yticks()\nax.set_yticks(ytix[::freq])\n\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/6wFKo.png\" rel=\"nofollow noreferrer\">Click to see nicer plot</a></p>\n"}, {"comments": [{"owner": {"reputation": 440, "user_id": 5344734, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208015613372096/picture?type=large", "display_name": "Mark Andersen", "link": "https://stackoverflow.com/users/5344734/mark-andersen"}, "edited": false, "score": 0, "creation_date": 1600444892, "post_id": 63654276, "comment_id": 113100548, "body": "Include full body of code in answer.  &quot;sns_plot&quot; is a local variable you have created as a return from the seaborn plot function.  This modification changed the angle of datetimes but it does not eliminate time information if that is also causing overlap."}], "tags": [], "owner": {"reputation": 10281, "user_id": 470583, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Nfmz4.jpg?s=128&g=1", "display_name": "Tagar", "link": "https://stackoverflow.com/users/470583/tagar"}, "is_accepted": false, "score": 1, "last_activity_date": 1598765526, "creation_date": 1598765526, "answer_id": 63654276, "question_id": 53528054, "link": "https://stackoverflow.com/questions/53528054/the-most-elegant-way-to-modify-messy-and-overlapping-date-labels-below-x-axis/63654276#63654276", "title": "The most elegant way to modify messy and overlapping date labels below x axis? (Seaborn, barplot)", "body": "<p>This automatically adjusts SNS plot's date x axis so you don't have to manually do this in most cases:\n<code>sns_plot.get_figure().autofmt_xdate()</code></p>\n"}], "owner": {"reputation": 706, "user_id": 9536834, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebfe51218ea85e4f2550810734d8b0f1?s=128&d=identicon&r=PG&f=1", "display_name": "KMFR", "link": "https://stackoverflow.com/users/9536834/kmfr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4534, "favorite_count": 0, "accepted_answer_id": 53528113, "answer_count": 3, "score": 4, "last_activity_date": 1598765526, "creation_date": 1543439014, "question_id": 53528054, "link": "https://stackoverflow.com/questions/53528054/the-most-elegant-way-to-modify-messy-and-overlapping-date-labels-below-x-axis", "title": "The most elegant way to modify messy and overlapping date labels below x axis? (Seaborn, barplot)", "body": "<p>df (Pandas DataFrame) has two columns: Date (as datetime64) and Amount (as float).</p>\n\n<p>I plot the values from Amount column against time, using barplot:</p>\n\n<pre><code>sns.barplot(x=\"Date\", y=\"Amount\", data=df)\nplt.show()\n</code></pre>\n\n<p>However, the date labels are a terrible mess (see picture). What would be an elegant way of dealing with this in Pandas? I'm considering removing month and year from the label, or rotating the labels 90 degrees. How would these be done, or is there a better option? Thank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sJ26x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sJ26x.png\" alt=\"Overlapping date labels on x axis\"></a></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 18299, "user_id": 2648811, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ee5af60b10a2d5fd8c864437a2062f0a?s=128&d=identicon&r=PG", "display_name": "Green Cloak Guy", "link": "https://stackoverflow.com/users/2648811/green-cloak-guy"}, "edited": false, "score": 0, "creation_date": 1543439158, "post_id": 53528035, "comment_id": 93924942, "body": "Can you give us some code? I think seeing an example of a typical generated script would help, but seeing your main program&#39;s code (especially the part around which you see the error) would also be helpful."}, {"owner": {"reputation": 1762, "user_id": 1417451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c82853d54858f517eb31723db2ca4704?s=128&d=identicon&r=PG", "display_name": "s3cur3", "link": "https://stackoverflow.com/users/1417451/s3cur3"}, "edited": false, "score": 1, "creation_date": 1543440460, "post_id": 53528035, "comment_id": 93925492, "body": "<a href=\"https://stackoverflow.com/a/3056270/1417451\">Use the <code>inspect</code> package</a>?"}, {"owner": {"reputation": 535, "user_id": 1806566, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/be47484c1e09f07ec8a366342837e3c5?s=128&d=identicon&r=PG", "display_name": "user1806566", "link": "https://stackoverflow.com/users/1806566/user1806566"}, "edited": false, "score": 0, "creation_date": 1543508880, "post_id": 53528035, "comment_id": 93953746, "body": "I see that the inspect package may help me do something more powerful regarding printing information once I&#39;ve found an error.  The difficulty I&#39;ve had is finding the right place to catch the error in the first place.  I haven&#39;t found a way to make the generated script catch its own syntax errors.  Runtime errors are easy, but I don&#39;t know how to use a try block to catch parse-time errors, unless the generated script is executed in the context of the calling script, which I&#39;m trying to avoid (or at least find a way to do safely)."}], "owner": {"reputation": 535, "user_id": 1806566, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/be47484c1e09f07ec8a366342837e3c5?s=128&d=identicon&r=PG", "display_name": "user1806566", "link": "https://stackoverflow.com/users/1806566/user1806566"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543508584, "creation_date": 1543438916, "last_edit_date": 1543508584, "question_id": 53528035, "link": "https://stackoverflow.com/questions/53528035/is-there-a-way-to-map-error-messages-to-the-source-file-for-generated-python-scr", "title": "Is there a way to map error messages to the source file for generated python scripts?", "body": "<p>I have a python script that reads some input, generates a python script, and then runs the generated script.  What I would like is that if there are errors in the generated script, they are reported at the file/lineno of the input file, not in the generated script.</p>\n\n<p>If python supported a #line directive as in C or perl, I'd just put those in the generated script, and that would be all I needed.  It doesn't look like that is supported, however.</p>\n\n<p>I tried having my generated script sit in a try block, with the idea that I could catch exceptions and use the traceback module to tweak how the stack trace is printed.  The problem is that the most common type of error is a parse error, and those seem to happen and get reported outside my control (i.e., the exception is thrown before the try, so my exception handler is never invoked).</p>\n\n<p>The best bet I've been able to come up with is to use compile() on my generated script and then try to catch errors.  That looks like it would force me to slurp in my entire generated script as a string (which could be large), though.  Also, what I really want is to be able to run the generated script in its own sandbox, so it's not affected at all by the calling script (if not for error reporting, I would invoke the script as a new python process).  If I use compile/exec, it's unclear to me that would be the case.  Would passing an empty dictionary for the globals argument of exec() do the trick?</p>\n\n<p>Is there a better way to do this sort of thing?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>The generated script could be almost anything.  The input file allows the user to insert arbitrary python code in the generated script.  What I'd like to do is generate a script like:</p>\n\n<p>temp.py:</p>\n\n<pre><code>#line 10 original_file\nfor i in range(0,3)::\n</code></pre>\n\n<p>and have the syntax error be reported on line 10 of \"original_file\" and not line 2 of temp.py (which would mean nothing to the user).</p>\n\n<p>The best I have so far is to insert #line directives in the generated script and have have the original script (i.e., the one that generated temp.py) execute the generated script as:</p>\n\n<pre><code>import runpy\n\ntry:\n    runpy.run_path(generated_file)\n\nexcept:\n    print_stack_trace(traceback.format_exc(), generated_file)\n</code></pre>\n\n<p>The \"print_stack_trace()\" function parses the traceback and uses the #line directives to translate back to the original source.</p>\n\n<p>This seems to work okay for simple cases, but I'm not sure of the implications of running the generated script (whose contents are arbitrary) in the same python that is running my generator script.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1543438958, "post_id": 53528028, "comment_id": 93924858, "body": "You have the file on your desktop. Is your script running in your desktop folder? Print <code>os.getcwd()</code>."}, {"owner": {"reputation": 11552, "user_id": 8112138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b1ddf31abbf37d5fe71ad387e2772c?s=128&d=identicon&r=PG&f=1", "display_name": "Primusa", "link": "https://stackoverflow.com/users/8112138/primusa"}, "edited": false, "score": 1, "creation_date": 1543439007, "post_id": 53528028, "comment_id": 93924884, "body": "Pycharm&#39;s scratch files aren&#39;t stored in the same directory as your project. Either move the file to <code>&#47;Users&#47;jess&#47;Library&#47;Preferences&#47;PyCharmEdu4.0&#47;scratches&#47;</code> or move your code into a non-scratch file in your project. Additionally you can also use the absolute path to the file which always works."}, {"owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "edited": false, "score": 0, "creation_date": 1543449032, "post_id": 53528028, "comment_id": 93928225, "body": "I moved my code into a non-scratch file and I was still getting the same error"}], "answers": [{"comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1543439015, "post_id": 53528043, "comment_id": 93924887, "body": "That&#39;s where the script is located, but the working directory isn&#39;t necessarily the same as the directory the script is in."}, {"owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "edited": false, "score": 0, "creation_date": 1543444318, "post_id": 53528043, "comment_id": 93926938, "body": "so i changed my code to a python file instead of a scratch file, and i was still getting the same error"}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543451767, "post_id": 53528043, "comment_id": 93928821, "body": "I suggest changing the code back to match your post. Next, move the file <code>Race_Results_Sample.txt</code> to the folder <code>&#47;Users&#47;jess&#47;Library&#47;Preferences&#47;PyCharmEdu4.0&#47;scratches&#47;</code>. After this, run the script via Terminal. First run <code>cd &#47;Users&#47;jess&#47;Library&#47;Preferences&#47;PyCharmEdu4.0&#47;scratches&#47;</code>. Next run, <code>python -m scratch</code>. Until you feel more confident with Python, I recommend using a simple text editor (like Atom or Sublime) and the shell to do your programming. The book/website <i>Learn Python the Hard Way</i> talks about this in chapter 0. Pycharm is probably overkill for this project."}, {"owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "edited": false, "score": 0, "creation_date": 1543539390, "post_id": 53528043, "comment_id": 93966000, "body": "I&#39;m sorry, I cannot find on my MacBook, where to move the file. I have looked and looked, an I can not for the life of me, find it."}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543540565, "post_id": 53528043, "comment_id": 93966252, "body": "Ok start over. In your terminal: 1. <code>cd ~ &amp; mkdir -p src&#47;race_res</code> 2. <code>cd src&#47;race_res</code> 3. <code>touch race_results.py</code> 4. <code>mv ~&#47;Desktop&#47;Race_Results_Sample.txt ~&#47;src&#47;race_res</code> 5. Open <code>race_results.py</code> in a simple text editor (Atom, Sublime, BBEdit). 6. Paste the contents of your script above into that file. 7. <code>python -m race_results</code>  ///// Now you are working in a more basic fashion. Keep your files for this project in <code>~&#47;src&#47;race_res</code>. Make changes in a text editor. Execute via the command line. Plenty of time to learn Pycharm later."}, {"owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "edited": false, "score": 0, "creation_date": 1543540644, "post_id": 53528043, "comment_id": 93966268, "body": "If I wanted to use the absolute method, how would I need to word my code?"}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543540884, "post_id": 53528043, "comment_id": 93966313, "body": "<code>with open(&quot;~&#47;Desktop&#47;Race_Results_Sample.txt&quot;, &quot;r&quot;)</code>"}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543540976, "post_id": 53528043, "comment_id": 93966331, "body": "<code>~</code> is a shortcut to the absolutely referenced directory <code>&#47;Users&#47;jess</code> i.e. your user&#39;s home. This is true, <code>~</code> will absolutely reference the User&#39;s home, on any unix variant system (like your Mac)."}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543541066, "post_id": 53528043, "comment_id": 93966344, "body": "If you are learning Python tho I highly recommend not learning in Pycharm. I suggest having a look at this: <a href=\"https://learnpythonthehardway.org/book/ex0.html\" rel=\"nofollow noreferrer\">learnpythonthehardway.org/book/ex0.html</a>"}, {"owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "edited": false, "score": 0, "creation_date": 1543627861, "post_id": 53528043, "comment_id": 93999671, "body": "I am still getting the same error message in pycharm by using the absolute reference. I&#39;m not sure how to use another text editor, I installed Sublime, but unsure how to execute my code in the application."}, {"owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "edited": false, "score": 0, "creation_date": 1543628779, "post_id": 53528043, "comment_id": 93999802, "body": "You can&#39;t execute your code in Sublime. It&#39;s just a text editor. Read the link in my last comment. You should modify your code in a text file using the editor, then execute the code using your Terminal. The comment that begins &quot;Ok start over&quot; tells you each command you need to run from your Terminal to do this."}], "tags": [], "owner": {"reputation": 8378, "user_id": 1081801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HubiU.jpg?s=128&g=1", "display_name": "Joshua Cook", "link": "https://stackoverflow.com/users/1081801/joshua-cook"}, "is_accepted": false, "score": 0, "last_activity_date": 1543439017, "last_edit_date": 1543439017, "creation_date": 1543438962, "answer_id": 53528043, "question_id": 53528028, "link": "https://stackoverflow.com/questions/53528028/pycharm-wont-read-a-txt-file-on-my-macbook/53528043#53528043", "title": "pycharm wont read a txt file on my macbook?", "body": "<p>Your file is being run from <code>\"/Users/jess/Library/Preferences/PyCharmEdu4.0/scratches/scratch.py\"</code> but you say the file is on your desktop. You will need to pass an <a href=\"https://www.geeksforgeeks.org/absolute-relative-pathnames-unix/\" rel=\"nofollow noreferrer\">absolute reference</a> to the Desktop file. </p>\n\n<p>I suggest moving the file to <code>\"/Users/jess/Library/Preferences/PyCharmEdu4.0/scratches/</code>. Then you can find it with the relative reference you are using in your script i.e.</p>\n\n<p><code>\nwith open(\"Race_Results_Sample.txt\", \"r\")as myList:\n</code></p>\n\n<p>You should also make sure that you execute the script from that directory.</p>\n"}], "owner": {"reputation": 33, "user_id": 7055111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fa7855d15f835459b2a915c6e62cd20?s=128&d=identicon&r=PG&f=1", "display_name": "jessicacates", "link": "https://stackoverflow.com/users/7055111/jessicacates"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1543443177, "creation_date": 1543438879, "last_edit_date": 1543443177, "question_id": 53528028, "link": "https://stackoverflow.com/questions/53528028/pycharm-wont-read-a-txt-file-on-my-macbook", "title": "pycharm wont read a txt file on my macbook?", "body": "<p>I have a code that needs to sort race times from a text file, this is what I have so far,</p>\n\n<pre><code>def get_sec(time_str):\nh, m = time_str.split(':')\nreturn int(h) * 3600 + int(m) * 60\n\nwith open(\"Race_Results_Sample.txt\", \"r\")as myList:\n    myList = myList.read()\n    myList = [l.split(\",\") for l in myList.splitlines()]\n    myList = sorted(myList, key=lambda kv: kv[1])\nfor line in myList:\n    num, last, org, time = line\n    place = []\n    place.append(time)\n    placenum = enumerate(sorted(place))\n    print(place, placenum)\nfor rank, value in enumerate(sorted(place)):\n    print(rank, value)\nfor line in myList:\n    num, last, org, time = line\n    new_time = get_sec(time)\n    mile = round((((new_time/ 3.10686)/60)/60), 3)\n    mile = str(mile)\n    print ('{:&lt;20s}{:&lt;5s}{:&lt;5s}{:&lt;7s}{:&lt;10s}'.format(last, num, org, \n    time, mile))\n</code></pre>\n\n<p>and when trying to get the code to run, I get the following message: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \n\"/Users/jess/Library/Preferences/PyCharmEdu4.0/scratches/scratch.py\", \nline 5, in &lt;module&gt;\nwith open(\"Race_Results_Sample.txt\", \"r\")as myList:\nIOError: [Errno 2] No such file or directory: 'Race_Results_Sample.txt'\n</code></pre>\n\n<p>what is going on to where it can't read the text file? I have the text file on my desktop.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 658058, "user_id": 548225, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dab08478b226280d4a30894c9a7ed719?s=128&d=identicon&r=PG", "display_name": "anubhava", "link": "https://stackoverflow.com/users/548225/anubhava"}, "edited": false, "score": 0, "creation_date": 1543439628, "post_id": 53528023, "comment_id": 93925139, "body": "For <code>n=5</code> you can use: <code>r&#39;[^-]*(?:-[^-]*){4}&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1543441299, "post_id": 53528076, "comment_id": 93925828, "body": "This is great. Didn&#39;t realize it. If these strings are part of a pandas column any idea how to apply this? I can use map but I don&#39;t want to use map and write a function."}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1543441388, "post_id": 53528076, "comment_id": 93925869, "body": "or does this work:   df_column=map(lambda x : &#39;-&#39;.join(x.str.split(&#39;-&#39;)), df[&quot;path&quot;]) . Is this fast enough?"}, {"owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "reply_to_user": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1543441741, "post_id": 53528076, "comment_id": 93925985, "body": "You can use <code>apply</code> and <code>lambda</code>, <code>df[&#39;a&#39;]=df[&#39;a&#39;].apply(lambda x: &#39;-&#39;.join(x.split(&#39;-&#39;)[:5]))</code>"}, {"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1543442075, "post_id": 53528076, "comment_id": 93926118, "body": "Yup. I just used that. Apply is better."}], "tags": [], "owner": {"reputation": 4485, "user_id": 7835267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a152b03a85ba96c1f3d49a1dda8398fb?s=128&d=identicon&r=PG&f=1", "display_name": "G. Anderson", "link": "https://stackoverflow.com/users/7835267/g-anderson"}, "is_accepted": false, "score": 6, "last_activity_date": 1543439156, "creation_date": 1543439156, "answer_id": 53528076, "question_id": 53528023, "link": "https://stackoverflow.com/questions/53528023/extracting-string-with-set-no-of-hyphen/53528076#53528076", "title": "Extracting string with set no. of hyphen", "body": "<p>If this is the actual format, then regex may be overkill for the sample provided. One other option is just using string methods and indexing:</p>\n\n<pre><code>x='LEARNING-LEARNING-LEARNING-LEARNING-LEARNING-COMPANY_ORG_CHART-LEARNING-LEARNING-LEARNING-END'\n\nprint('-'.join(x.split('-')[:5]))\n\n'LEARNING-LEARNING-LEARNING-LEARNING-LEARNING'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5979, "user_id": 8534588, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/63d016df9eac3cc0a70b1fb1683dc62b?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Withee", "link": "https://stackoverflow.com/users/8534588/josh-withee"}, "is_accepted": false, "score": 0, "last_activity_date": 1543440131, "creation_date": 1543440131, "answer_id": 53528315, "question_id": 53528023, "link": "https://stackoverflow.com/questions/53528023/extracting-string-with-set-no-of-hyphen/53528315#53528315", "title": "Extracting string with set no. of hyphen", "body": "<p>Give this a try:</p>\n\n<pre><code>s1 = re.search(r'^([A-za-z_]+-){0,4}[A-za-z_]+',s)\nprint(s1)\n</code></pre>\n\n<p>(this example is for n=5)</p>\n"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1543440131, "creation_date": 1543438867, "question_id": 53528023, "link": "https://stackoverflow.com/questions/53528023/extracting-string-with-set-no-of-hyphen", "title": "Extracting string with set no. of hyphen", "body": "<p>If I have an example string as follows: </p>\n\n<pre><code>LEARNING-LEARNING-LEARNING-LEARNING-LEARNING-COMPANY_ORG_CHART-LEARNING-LEARNING-LEARNING-END\n</code></pre>\n\n<p>I want to extract only the first n no. of steps where n is defined by the no. of hyphens in between. </p>\n\n<pre><code>So if n=5, \n</code></pre>\n\n<p>I want only the first 5 steps. </p>\n\n<p>Output: </p>\n\n<pre><code>LEARNING-LEARNING-LEARNING-LEARNING-LEARNING\n</code></pre>\n\n<p>I tried this: </p>\n\n<pre><code>s1=re.search(r'([A-za-z_].*-{0,5}[A-za-z_].*?)',s)\nprint(s1.group())\n</code></pre>\n\n<p>But it is giving whole string as output. </p>\n\n<pre><code>LEARNING-LEARNING-LEARNING-LEARNING-LEARNING-COMPANY_ORG_CHART-LEARNING-LEARNING-LEARNING-END\nIn [ ]:\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 416, "user_id": 10548469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64e2f2116529be08864bcdb458bb3a0?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/10548469/steven"}, "edited": false, "score": 0, "creation_date": 1543439269, "post_id": 53527991, "comment_id": 93924983, "body": "I am running Python 3.7.1 and ran your code but I am unable to reproduce your problem. Here is the output that I got:I am working! I&#39;m still going... I am working! I am working! I&#39;m still going... I am working! I am working! terminated.                            Which python version are you using?"}, {"owner": {"reputation": 416, "user_id": 10548469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64e2f2116529be08864bcdb458bb3a0?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/10548469/steven"}, "edited": false, "score": 0, "creation_date": 1543439650, "post_id": 53527991, "comment_id": 93925151, "body": "I did find a problem that you were describing if I interrupted the program before it finishes (by pressing ctrl-c). Is that the problem you are having or is it different? If it is I will put it as an answer."}, {"owner": {"reputation": 1, "user_id": 10719301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OBg_hMLuf04/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hLXXidt1KsHmIxdrOr2Lk-UeGmXg/mo/photo.jpg?sz=128", "display_name": "Victoria Butler", "link": "https://stackoverflow.com/users/10719301/victoria-butler"}, "reply_to_user": {"reputation": 416, "user_id": 10548469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64e2f2116529be08864bcdb458bb3a0?s=128&d=identicon&r=PG&f=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/10548469/steven"}, "edited": false, "score": 0, "creation_date": 1543444858, "post_id": 53527991, "comment_id": 93927127, "body": "@Steven Thanks for trying it! I am running Python 3.6.4 (in anaconda), but it is being run inside Atom. What you are seeing is the correct functionality. I do not ctrl-c out of it early, but that is an interesting find. Mine continually prints &quot;I am working!&quot; until I force quit out of the program."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10719301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OBg_hMLuf04/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hLXXidt1KsHmIxdrOr2Lk-UeGmXg/mo/photo.jpg?sz=128", "display_name": "Victoria Butler", "link": "https://stackoverflow.com/users/10719301/victoria-butler"}, "is_accepted": false, "score": 0, "last_activity_date": 1543445542, "last_edit_date": 1543445542, "creation_date": 1543445168, "answer_id": 53529247, "question_id": 53527991, "link": "https://stackoverflow.com/questions/53527991/cannot-terminate-while-loop-in-killed-thread/53529247#53529247", "title": "Cannot Terminate While Loop in Killed Thread", "body": "<p>I tried running the script in the terminal, outside of the software called Atom. Now it terminates as expected. Thanks to @Steven for confirming it works! Still not sure why this behavior was happening.</p>\n"}], "owner": {"reputation": 1, "user_id": 10719301, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OBg_hMLuf04/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hLXXidt1KsHmIxdrOr2Lk-UeGmXg/mo/photo.jpg?sz=128", "display_name": "Victoria Butler", "link": "https://stackoverflow.com/users/10719301/victoria-butler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543445542, "creation_date": 1543438733, "last_edit_date": 1543438782, "question_id": 53527991, "link": "https://stackoverflow.com/questions/53527991/cannot-terminate-while-loop-in-killed-thread", "title": "Cannot Terminate While Loop in Killed Thread", "body": "<p>The point of my script is to have one function called stopper send a terminate thread event to the function go_to, once it reaches a certain time. </p>\n\n<p>Currently, the event is triggered, the thread supposedly closed, and stopper is ended. But go_to continues to print to the command line. </p>\n\n<p>I can't figure out how to stop it correctly.</p>\n\n<pre><code>import threading\nimport time\n\nclass Stop_Check(object):\n    def __init__(self):\n        self.thread1Stop = threading.Event()\n\n    def stopper(self):\n        t = 0\n        while True:\n            t = t + 1\n            time.sleep(1.0)\n            if t == 3 :\n                self.thread1Stop.set()\n                break\n            else :\n                print(\"I'm still going...\")\n                time.sleep(1.0)\n                continue\n        print(\"terminated\")\n\n    def go_to(self):\n        while (not self.thread1Stop.is_set()):\n            print(\"I am working!\")\n            time.sleep(1.0)\n\n    def main(self):\n        t1 = threading.Thread(target=self.go_to)\n        t1.start()\n        self.stopper()\n        time.sleep(5.0)\n\nif __name__ == '__main__' :\n    sc = Stop_Check()\n    sc.main()\n</code></pre>\n"}, {"tags": ["python", "mysql", "sql", "flask"], "answers": [{"tags": [], "owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "is_accepted": true, "score": 0, "last_activity_date": 1543439326, "last_edit_date": 1543439326, "creation_date": 1543438887, "answer_id": 53528030, "question_id": 53527986, "link": "https://stackoverflow.com/questions/53527986/unsure-of-the-correct-syntax-regarding-passing-multiple-variables-to-an-sql-quer/53528030#53528030", "title": "Unsure of the correct syntax regarding passing multiple variables to an sql query in Python", "body": "<p>You need to supply them as tuple of values to be inserted in your execute statement. </p>\n\n<p>Syntax looks like this:  <code>cursor.execute(operation, params=None, multi=False)</code></p>\n\n<ul>\n<li><code>operation</code> is your query string</li>\n<li><code>params</code>  is a tuple containing all params inside it</li>\n</ul>\n\n<hr>\n\n<pre><code>cursor.execute(\"UPDATE user SET password = %s WHERE email = %s\", \n               (confirm_password, session['email']) )\n</code></pre>\n\n<p>and you probably also should use % twice..</p>\n\n<p>See <a href=\"https://dev.mysql.com/doc/connector-python/en/connector-python-api-mysqlcursor-execute.html\" rel=\"nofollow noreferrer\">connector-python-api-mysqlcursor-execute</a></p>\n\n<hr>\n\n<p>When in doubt, I lookup syntax here: <a href=\"http://bobby-tables.com/python\" rel=\"nofollow noreferrer\">http://bobby-tables.com/python</a> or use the original doku.</p>\n"}], "owner": {"reputation": 11, "user_id": 5825465, "user_type": "registered", "profile_image": "https://graph.facebook.com/1062723837084515/picture?type=large", "display_name": "Patrick Browne", "link": "https://stackoverflow.com/users/5825465/patrick-browne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1543501061, "accepted_answer_id": 53528030, "answer_count": 1, "score": 0, "last_activity_date": 1543439326, "creation_date": 1543438726, "question_id": 53527986, "link": "https://stackoverflow.com/questions/53527986/unsure-of-the-correct-syntax-regarding-passing-multiple-variables-to-an-sql-quer", "closed_reason": "Duplicate", "title": "Unsure of the correct syntax regarding passing multiple variables to an sql query in Python", "body": "<p>I am attempting to write an SQL query to update the password of a user currently logged into a web application.  I am using a session ID to identify the specific user to which to update the password for.  However, I am unsure of how to write the correct syntax for the query</p>\n\n<p>Here is the query in question:</p>\n\n<pre><code>cursor.execute(\"UPDATE user SET password = %s WHERE email = ?\", [confirm_password], session['email'])\n</code></pre>\n\n<p>And the error being generated as a result:</p>\n\n<pre><code>mysql.connector.errors.ProgrammingError: 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near '?' at line 1\n</code></pre>\n\n<p>I would like to update only the password of the user who is logged in using the session ID their username(in this case an email address).</p>\n\n<p>Any help would be appreciated.  Thanks.</p>\n"}, {"tags": ["python", "pandas", "nltk", "stemming"], "answers": [{"tags": [], "owner": {"reputation": 44820, "user_id": 4492932, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e8938ef2681650e100bc9f83434ef272?s=128&d=identicon&r=PG", "display_name": "DYZ", "link": "https://stackoverflow.com/users/4492932/dyz"}, "is_accepted": false, "score": 0, "last_activity_date": 1543438738, "creation_date": 1543438738, "answer_id": 53527994, "question_id": 53527970, "link": "https://stackoverflow.com/questions/53527970/python-pandas-nltk-how-to-apply-port-stemmer-to-dataframe-column-that-has-been-t/53527994#53527994", "title": "Python Pandas NLTK How to Apply Port Stemmer to Dataframe Column That has Been Tokenized Already", "body": "<p><code>PosrterStemmer</code> is a class constructor. It does not have method <code>.stem</code>. The actual stemmer is <code>ps</code>. <code>PorterStemmer.stem(y)</code> must be <code>ps.stem(y)</code>.</p>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543438738, "creation_date": 1543438632, "question_id": 53527970, "link": "https://stackoverflow.com/questions/53527970/python-pandas-nltk-how-to-apply-port-stemmer-to-dataframe-column-that-has-been-t", "title": "Python Pandas NLTK How to Apply Port Stemmer to Dataframe Column That has Been Tokenized Already", "body": "<p>I have the following sample dataset: </p>\n\n<pre><code>No  category    problem_definition\n175 2521        ['coffee', 'maker', 'brewing', 'properly', '420']\n211 1438        ['galley', 'work', 'table', 'stuck']\n912 2698        ['cloth', 'floor', 'coming', 'aft']\n572 2521        ['compartment', 'door', 'stuck']\n</code></pre>\n\n<p>The problem_definition field has already gone through stop words removal and tokenizing.  Now I am trying to apply Port Stemmer to the problem_definition column.</p>\n\n<p>I tried the following code: </p>\n\n<pre><code>from nltk.stem import PorterStemmer\n\nps = PorterStemmer()\n\ndf['problem_definition_stemmed'] = df['problem_definition_stopwords'].apply(lambda x : [PorterStemmer.stem(y) for y in x])\n</code></pre>\n\n<p>I get the following error: </p>\n\n<pre><code>TypeError: 'PorterStemmer' object is not callable\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 12105, "user_id": 6043170, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iFy-IHfVniw/AAAAAAAAAAI/AAAAAAAAAFM/f_Xao2r127I/photo.jpg?sz=128", "display_name": "2ps", "link": "https://stackoverflow.com/users/6043170/2ps"}, "edited": false, "score": 0, "creation_date": 1543439837, "post_id": 53527956, "comment_id": 93925220, "body": "Both should work.  What do your models look like?"}, {"owner": {"reputation": 1625, "user_id": 2726773, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5DxKW.png?s=128&g=1", "display_name": "David Duran", "link": "https://stackoverflow.com/users/2726773/david-duran"}, "edited": false, "score": 0, "creation_date": 1543440049, "post_id": 53527956, "comment_id": 93925315, "body": "Could you provide the model?"}], "answers": [{"tags": [], "owner": {"reputation": 7880, "user_id": 904887, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bad58e069ea1f864dca124bafde36943?s=128&d=identicon&r=PG", "display_name": "rich tier", "link": "https://stackoverflow.com/users/904887/rich-tier"}, "is_accepted": true, "score": 1, "last_activity_date": 1543440423, "creation_date": 1543440423, "answer_id": 53528376, "question_id": 53527956, "link": "https://stackoverflow.com/questions/53527956/filtering-on-foreign-key-in-django/53528376#53528376", "title": "Filtering on foreign key in django", "body": "<p>I suspect you're using a natural key as the primary key: you've got <code>primary=True</code> on the name field? If so use this:</p>\n\n<pre><code>ItemInstance.objects.filter(provider_pk__icontains='sting'))\n</code></pre>\n\n<p><code>id</code> field is only present if you don't specify your primary key. Django accommodates this my providing <code>pk</code>, which is a proxy for whatever field is your primary key</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10332687"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 53528376, "answer_count": 1, "score": 0, "last_activity_date": 1543440423, "creation_date": 1543438569, "question_id": 53527956, "link": "https://stackoverflow.com/questions/53527956/filtering-on-foreign-key-in-django", "title": "Filtering on foreign key in django", "body": "<p>In django, why does it not allow:</p>\n\n<pre><code>ItemInstance.objects.filter(provider_id__icontains='sting'))\n</code></pre>\n\n<p>But it does allow:</p>\n\n<pre><code>ItemInstance.objects.filter(provider__name__icontains='sting'))\n</code></pre>\n\n<p><code>provider_id</code> and <code>provider__name</code> would give the same value, as the foreign key is to the <code>name</code> field. Why doesn't it allow the first method of referencing it?</p>\n"}, {"tags": ["python", "python-3.x", "embedded-resource", "portable-executable"], "comments": [{"owner": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 2, "creation_date": 1543438669, "post_id": 53527941, "comment_id": 93924731, "body": "replace them by <code>bs = b&#39;\\x00B&#39;*40</code> ? Your B&#39;s take only halve the space of the A&#39;s ..."}, {"owner": {"reputation": 308, "user_id": 10588548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b550512336a5d7d12b12a50bce00692?s=128&d=identicon&r=PG&f=1", "display_name": "Halloween", "link": "https://stackoverflow.com/users/10588548/halloween"}, "reply_to_user": {"reputation": 43029, "user_id": 7505395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4t4nq.jpg?s=128&g=1", "display_name": "Patrick Artner", "link": "https://stackoverflow.com/users/7505395/patrick-artner"}, "edited": false, "score": 0, "creation_date": 1543439527, "post_id": 53527941, "comment_id": 93925089, "body": "I updated my first post. I can do what you suggested, but that only works for something small like that. I am generating a hex string and I am wanting to put that into the resource section. Then when the program runs, it will decrypt the string and use what it gets out of it. So I am wondering, should I take my hex string and add &#39;00&#39; after each byte? So that it fits into the resource section just like the A&#39;s &#39;41 00&#39;?"}, {"owner": {"reputation": 66560, "user_id": 9072753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EPmGy.jpg?s=128&g=1", "display_name": "KamilCuk", "link": "https://stackoverflow.com/users/9072753/kamilcuk"}, "edited": false, "score": 0, "creation_date": 1543440049, "post_id": 53527941, "comment_id": 93925314, "body": "What is a &quot;resource section&quot; in a C program, and why does the <code>C</code> language bear any significance in this question? This look plain like editing a binary file. The best solution: don&#39;t ever edit binary files, edit C sources. And yes, if you use <code>wchar_t</code> it is (as all is) implementation defined type and may be 2 (or more) bytes long and may use implementation defined manner to store characters in 2 bytes with zeros between, why not. As you use visual studio, one can assume it&#39;s windows, so yes - wchar_t is (probably) 2 bytes long. Stil unclear what are you trying to do and why is C relevant"}, {"owner": {"reputation": 308, "user_id": 10588548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b550512336a5d7d12b12a50bce00692?s=128&d=identicon&r=PG&f=1", "display_name": "Halloween", "link": "https://stackoverflow.com/users/10588548/halloween"}, "edited": false, "score": 0, "creation_date": 1543440156, "post_id": 53527941, "comment_id": 93925355, "body": "Why would you make a comment if you don&#39;t even know what I am talking about?"}, {"owner": {"reputation": 88126, "user_id": 1329652, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/fa4ef026ee4be15d3dbacc95f1773d03?s=128&d=identicon&r=PG&f=1", "display_name": "Kuba hasn&#39;t forgotten Monica", "link": "https://stackoverflow.com/users/1329652/kuba-hasnt-forgotten-monica"}, "edited": false, "score": 0, "creation_date": 1543442056, "post_id": 53527941, "comment_id": 93926111, "body": "@Halloween The fact that the program you\u2019re editing the binary of is written in C is indeed irrelevant. You\u2019re editing Windows resource records, and their structure is independent of the programming language used to implement the binary. So Kamil is correct. Additionally, your simple editing is usable, but you have to verify your assumptions and check that there are no other long strings of A\u2019s in the binary: you expect only one string, if there\u2019s more then you don\u2019t know which one to choose."}], "answers": [{"tags": [], "owner": {"reputation": 17922, "user_id": 1977847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2zWQh.png?s=128&g=1", "display_name": "H&#229;ken Lid", "link": "https://stackoverflow.com/users/1977847/h%c3%a5ken-lid"}, "is_accepted": true, "score": 0, "last_activity_date": 1543454728, "creation_date": 1543454728, "answer_id": 53530541, "question_id": 53527941, "link": "https://stackoverflow.com/questions/53527941/using-python-to-overwrite-resource-section-in-c-program/53530541#53530541", "title": "Using Python to overwrite resource section in C program", "body": "<p>It looks like utf-16 encoding. So you can use regular python unicode strings, and make sure you open and write to the file in text mode, and with utf16 encoding.</p>\n\n<p>If you use binary mode, each ascii character you write will be represented in a single byte. If you use text mode, each character you write will be represented by two bytes. If the text you write is only using low unicode code points, there will be a bunch of null bytes. If you write some Chinese text, you need both bytes.</p>\n\n<p>The hex dump you posted don't show a BOM at the start, so you might have to use <code>utf-16le</code> instead of <code>utf-16</code>.</p>\n\n<pre><code>with open('foo.txt', 'r', encoding='utf-16le') as fp:\n    text = fp.read()\n\nwith open('foo.txt', 'w', encoding='utf-16le') as fp:\n    fp.write(text.replace('AAAAAA', 'BBBBBB'))\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 10588548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b550512336a5d7d12b12a50bce00692?s=128&d=identicon&r=PG&f=1", "display_name": "Halloween", "link": "https://stackoverflow.com/users/10588548/halloween"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 53530541, "answer_count": 1, "score": -2, "last_activity_date": 1543454728, "creation_date": 1543438487, "last_edit_date": 1543445211, "question_id": 53527941, "link": "https://stackoverflow.com/questions/53527941/using-python-to-overwrite-resource-section-in-c-program", "title": "Using Python to overwrite resource section in C program", "body": "<p>I have a C program that has a resource section. </p>\n\n<pre><code>IDS_STRING 87 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA \n</code></pre>\n\n<p>In the hex editor it looks like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/mrbOc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mrbOc.png\" alt=\"enter image description here\"></a></p>\n\n<p>I use code such as this in Python to search and replace the A's:</p>\n\n<pre><code>str = b'\\x00A'*40\nstr1 = b\"BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB\"\n\nif str in file:\n    print(\"A in file\")\n    f.write(file.replace(str, str1))\n</code></pre>\n\n<p>This makes the new file look like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LzCLH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LzCLH.png\" alt=\"enter image description here\"></a></p>\n\n<p>So I am wondering why the A's are stored like '41 00' and then when I overwrite them they are just '42'.</p>\n\n<p>Is this a WCHAR thing?</p>\n\n<p>I did a test where I loaded the string and printed it out. </p>\n\n<pre><code>This is some text.AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA\n</code></pre>\n\n<p>But then when I used my Python and overwrote the A's with the B's it does this..</p>\n\n<pre><code>This is some text.???????????????????????????????????????B\n</code></pre>\n\n<p>So with my limited knowledge of C, If I want to put things into the resource section I should place them in as WCHAR?</p>\n\n<p>UPDATE:\nMy main issue with this is I have a hex string similar to below:</p>\n\n<pre><code>'685308358035803507835083408303508350835083508350835083083508'\n</code></pre>\n\n<p>I want to put that into the resource section. But if I do that similar to the way I am replacing, so by doing</p>\n\n<pre><code>f.write(file.replace(str, '685308358035803507835083408303508350835083508350835083083508'))\n</code></pre>\n\n<p>Then it puts it into the resource section as:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sa7YJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sa7YJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>If it goes in like this, it causes things to break because it is grabbing 2 bytes at a time it seems like.</p>\n\n<p>The reason I am asking this is because when I replace the A's with my hex and run the program. It does not work. But if I place the hex directly into the resource section in Visual Studio and run it, it does work. When I replace with Python it is '34322424...' but when the same string is placed in the resource section is it '3400220042004....' </p>\n\n<p>2nd UPDATE:\nIt seems that the resource section string table does store in a 2 bytes. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/windows/desktop/debug/pe-format#the-rsrc-section\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/windows/desktop/debug/pe-format#the-rsrc-section</a></p>\n\n<pre><code>Resource Directory Strings \nTwo-byte-aligned Unicode strings, which serve as string data that is pointed to by directory entries. \n</code></pre>\n"}, {"tags": ["python", "keras", "neural-network", "linear-regression", "least-squares"], "comments": [{"owner": {"reputation": 1550, "user_id": 8394915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb437a787174e7b83efa53f1a6901006?s=128&d=identicon&r=PG&f=1", "display_name": "cheersmate", "link": "https://stackoverflow.com/users/8394915/cheersmate"}, "edited": false, "score": 0, "creation_date": 1543479771, "post_id": 53527902, "comment_id": 93936739, "body": "Are you initializing all weights to zero? That is generally a very bad idea. Usually small random values are used."}], "answers": [{"tags": [], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "is_accepted": false, "score": 0, "last_activity_date": 1543438234, "creation_date": 1543438234, "answer_id": 53527903, "question_id": 53527902, "link": "https://stackoverflow.com/questions/53527902/linear-singly-celled-two-layer-ann-with-produces-constant-predictions/53527903#53527903", "title": "Linear singly-celled two-layer ANN with produces constant predictions", "body": "<p>This turns out to be a rather unfortunate side effect of the chosen initial values. It is easy to see that for the given sample, the gradient of the mean squared error optimization objective is</p>\n\n<p>(<em>a</em>, <em>b</em>) \u21a6 2(<em>b</em>(<em>ab</em> \u2212 2), <em>a</em>(<em>ab</em> \u2212 2))</p>\n\n<p>which happens to equal zero when (<em>a</em>, <em>b</em>) = (0, 0). Choosing any other initial values for the parameters, and everything goes through as expected. In particular, using</p>\n\n<pre><code>kernel_initializer=keras.initializers.Constant(.1)\n</code></pre>\n\n<p>in both layers would produce the desired result.</p>\n\n<p>The same issue does not occur in the one-layer case since here the gradient is</p>\n\n<p><em>a</em> \u21a6 2(<em>a</em> \u2212 2)</p>\n\n<p>which is zero only when <em>a</em> = 2.</p>\n"}], "owner": {"reputation": 14311, "user_id": 5085211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eEZjd.png?s=128&g=1", "display_name": "fuglede", "link": "https://stackoverflow.com/users/5085211/fuglede"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543439121, "creation_date": 1543438234, "last_edit_date": 1543439121, "question_id": 53527902, "link": "https://stackoverflow.com/questions/53527902/linear-singly-celled-two-layer-ann-with-produces-constant-predictions", "title": "Linear singly-celled two-layer ANN with produces constant predictions", "body": "<p>Say that we want to fit a straight line in the plane through the origin and the point (1, 2). We can view this as linear regression with a sample of size 1 and no intercept. This, on the other hand, can be represented as a rather trivial neural network with no hidden layers and no activation. In Keras, this would look as follows:</p>\n\n<pre><code>model = keras.Sequential([\n    keras.layers.Dense(1, input_shape=(1,), use_bias=False,\n                       kernel_initializer=keras.initializers.Zeros()),\n])\n\nmodel.compile(loss='mse', optimizer=keras.optimizers.Adam(lr=.1))\n</code></pre>\n\n<p>Running</p>\n\n<pre><code>model.fit([[1]], [[2]], epochs=50)\n</code></pre>\n\n<p>we get our desired result. Namely, <code>model.predict([[1]])</code> produces a number close to 2.</p>\n\n<p>Now, include a second layer in the model:</p>\n\n<pre><code>model2 = keras.Sequential([\n    keras.layers.Dense(1, input_shape=(1,), use_bias=False,\n                       kernel_initializer=keras.initializers.Zeros()),\n    keras.layers.Dense(1, use_bias=False,\n                       kernel_initializer=keras.initializers.Zeros())\n])\n\nmodel2.compile(loss='mse',\n               optimizer=keras.optimizers.Adam(lr=.1))\n</code></pre>\n\n<p>This time around, no matter what we throw after <code>model2.fit</code>, we'll find that <code>model2.predict</code> is constantly equal to zero. Moreover, this happens regardless of which one of Keras' gradient descent algorithms is used.</p>\n\n<p>This is surprising since the two models are equivalent in the sense that the parameter of the first model can be realized as the product of the two parameters in the second one. That is, we are fitting a straight line <em>y</em> = <em>abx</em> by trying to find values of <em>a</em> and <em>b</em>. Taking, for instance, <em>a</em> = 2 and <em>b</em> = 1 would produce a perfect fit.</p>\n\n<p>So, what's the difference?</p>\n"}, {"tags": ["python", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 6632640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efe71095223f92721e65631c39bd54c9?s=128&d=identicon&r=PG&f=1", "display_name": "handavidbang", "link": "https://stackoverflow.com/users/6632640/handavidbang"}, "edited": false, "score": 0, "creation_date": 1543472877, "post_id": 53531667, "comment_id": 93933827, "body": "unfortunately it didn&#39;t"}, {"owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "reply_to_user": {"reputation": 441, "user_id": 6632640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efe71095223f92721e65631c39bd54c9?s=128&d=identicon&r=PG&f=1", "display_name": "handavidbang", "link": "https://stackoverflow.com/users/6632640/handavidbang"}, "edited": false, "score": 0, "creation_date": 1543515313, "post_id": 53531667, "comment_id": 93957035, "body": "Maybe provide an example of the HTML you&#39;re trying to achieve?"}], "tags": [], "owner": {"reputation": 21495, "user_id": 62288, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01239dcaa443502ce71059f5308bca74?s=128&d=identicon&r=PG", "display_name": "Dave W. Smith", "link": "https://stackoverflow.com/users/62288/dave-w-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1543464283, "creation_date": 1543464283, "answer_id": 53531667, "question_id": 53527898, "link": "https://stackoverflow.com/questions/53527898/jinja-templating-how-to-nest-html-into-containers-via-loops/53531667#53531667", "title": "Jinja templating, how to nest html into containers via loops?", "body": "<p>Would something like this work?</p>\n\n<pre><code>&lt;div class=\"container-fluid\"&gt;\n{% for post in posts %}\n    {% if loop.index0 % 3 == 2 %}\n        &lt;/div&gt;\n        &lt;div class=\"container-fluid\"&gt;\n    {% endif %}\n    &lt;div&gt; ... &lt;/div&gt;\n{% endfor %}\n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 441, "user_id": 6632640, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/efe71095223f92721e65631c39bd54c9?s=128&d=identicon&r=PG&f=1", "display_name": "handavidbang", "link": "https://stackoverflow.com/users/6632640/handavidbang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543501101, "creation_date": 1543438224, "last_edit_date": 1543501101, "question_id": 53527898, "link": "https://stackoverflow.com/questions/53527898/jinja-templating-how-to-nest-html-into-containers-via-loops", "title": "Jinja templating, how to nest html into containers via loops?", "body": "<p>So I want rows and within each row container there will be three container elements. I attempted to loop through and for every mod 3, it'll create a new row container, but how do I make it such that each subsequent container will be nested inside the row container? </p>\n\n<p>Below is something I tried working with but it didn't work. </p>\n\n<pre><code>{% for post in posts %}\n {% if loop.index0 % 3 == 0 %}\n   &lt;div class=\"container-fluid\"&gt;\n {% endif %}\n\n&lt;div&gt; ... &lt;/div&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": ["python", "pep8", "yapf"], "answers": [{"tags": [], "owner": {"reputation": 2305, "user_id": 3827575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHHrM.png?s=128&g=1", "display_name": "Samuel Leli&#232;vre", "link": "https://stackoverflow.com/users/3827575/samuel-leli%c3%a8vre"}, "is_accepted": true, "score": 1, "last_activity_date": 1543601217, "creation_date": 1543601217, "answer_id": 53562702, "question_id": 53527882, "link": "https://stackoverflow.com/questions/53527882/spacing-on-inline-comments-with-yapf/53562702#53562702", "title": "Spacing on inline comments with yapf", "body": "<p>This is a known issue with yapf.</p>\n\n<p>The issue is tracked and discussed at</p>\n\n<ul>\n<li><a href=\"https://github.com/google/yapf/issues/139\" rel=\"nofollow noreferrer\">yapf issue 139: Block comments should have a space after # in pep8 style mode</a></li>\n</ul>\n\n<p>See also</p>\n\n<ul>\n<li><a href=\"https://github.com/google/yapf/issues/512\" rel=\"nofollow noreferrer\">yapf issue 512: The vim plugin cannot modify python comment format</a></li>\n</ul>\n"}], "owner": {"reputation": 957, "user_id": 4118542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tX5EJ.jpg?s=128&g=1", "display_name": "Fred S", "link": "https://stackoverflow.com/users/4118542/fred-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 0, "accepted_answer_id": 53562702, "answer_count": 1, "score": 1, "last_activity_date": 1543601217, "creation_date": 1543438156, "question_id": 53527882, "link": "https://stackoverflow.com/questions/53527882/spacing-on-inline-comments-with-yapf", "title": "Spacing on inline comments with yapf", "body": "<p>If I have code with inline comments:</p>\n\n<pre><code>def my_function():\n    #my comment\n    return 1+1\n</code></pre>\n\n<p>Flake8 will give me this error --> E262 - inline comment should start with '# '</p>\n\n<p>It wants to see a single space after the \"#\":</p>\n\n<pre><code>def my_function():\n    # my comment\n    return 1+1\n</code></pre>\n\n<p>Now I've been using yapf to automatically fix just this kind of thing in my code files, and it works great. But it seems to ignore this particular pep8 error. I was wondering is there some style setting I can use to configure yapf to add this space? Or do I need to find another formatter for that?</p>\n\n<p>Running yapf version '0.24.0' in python 3.6.</p>\n"}, {"tags": ["javascript", "python"], "comments": [{"owner": {"reputation": 888, "user_id": 5881352, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9F5S0.jpg?s=128&g=1", "display_name": "dustinos3", "link": "https://stackoverflow.com/users/5881352/dustinos3"}, "edited": false, "score": 0, "creation_date": 1543438380, "post_id": 53527878, "comment_id": 93924609, "body": "No you won&#39;t be able to do that. You&#39;ll need to write your own function."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1543438430, "post_id": 53527878, "comment_id": 93924630, "body": "Look where that function is defined and try to replicate it. It probably just makes an ajax request or something."}, {"owner": {"reputation": 124, "user_id": 2659711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w23rI.jpg?s=128&g=1", "display_name": "Ramin", "link": "https://stackoverflow.com/users/2659711/ramin"}, "edited": false, "score": 0, "creation_date": 1543438695, "post_id": 53527878, "comment_id": 93924744, "body": "You can not call a js function from a different website"}, {"owner": {"reputation": 105, "user_id": 9542643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P65Cf.png?s=128&g=1", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/9542643/kenneth"}, "reply_to_user": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1543439351, "post_id": 53527878, "comment_id": 93925015, "body": "@mplungjan &quot;Material which is clearly indicated as owned by the University of Auckland may only be used for &quot;not-for-profit&quot; educational purposes or private research and study&quot; . This is also not my university. And I did say I do not want to use Selenium in my project."}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1543439420, "post_id": 53527878, "comment_id": 93925044, "body": "Ok, the code is identical"}], "owner": {"reputation": 105, "user_id": 9542643, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P65Cf.png?s=128&g=1", "display_name": "Kenneth", "link": "https://stackoverflow.com/users/9542643/kenneth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1543438149, "creation_date": 1543438149, "question_id": 53527878, "link": "https://stackoverflow.com/questions/53527878/how-can-i-use-a-javascript-function-that-is-located-on-a-website-on-my-own-web-p", "title": "How can I use a JavaScript function that is located on a website on my own web page or application?", "body": "<p>My university's website has a link that uses a function that returns a unique URL to a new page which contains a student timetable. </p>\n\n<pre><code>&lt;a\n  name=\"UV_SS_DERIVED_UV_PR_CLASS_TT_BTN\"\n  id=\"UV_SS_DERIVED_UV_PR_CLASS_TT_BTN\"\n  ptlinktgt=\"pt_peoplecode\"\n  tabindex=\"17\"\n  onclick=\"javascript:cancelBubble(event);\"\n href=\"javascript:submitAction_win0(document.win0,'UV_SS_DERIVED_UV_PR_CLASS_TT_BTN');\"\nclass=\"PSHYPERLINK\"&gt;Print Class Timetable&lt;/a&gt;\n</code></pre>\n\n<p>The function that I am interested in is: <code>javascript:submitAction_win0(document.win0,'UV_SS_DERIVED_UV_PR_CLASS_TT_BTN');</code></p>\n\n<p>I am new to everything JavaScript and I'm trying to create an application which needs that student timetable through the unique URL.</p>\n\n<p>Can I take this function from the website/link and use it in my application as if it was requesting the data from my university's server?</p>\n\n<p>I did complete a version of my application in C# using selenium , but I am now \nworking on  a python version that uses the requests package and it will be very simple and easy if I  can use that function as if it were my own.(I do not want to use selenium here!) I am open to changing to another language other than python if the need be.</p>\n\n<p>If any more information is needed , please do ask!</p>\n"}, {"tags": ["python", "json", "list", "append", "jupyter-notebook"], "comments": [{"owner": {"reputation": 1161, "user_id": 4268390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/awYfv.jpg?s=128&g=1", "display_name": "mtkilic", "link": "https://stackoverflow.com/users/4268390/mtkilic"}, "edited": false, "score": 0, "creation_date": 1543438313, "post_id": 53527855, "comment_id": 93924588, "body": "try <code>edd_year.append(edd_qresponse[0][&quot;year&quot;])</code>"}, {"owner": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "reply_to_user": {"reputation": 1161, "user_id": 4268390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/awYfv.jpg?s=128&g=1", "display_name": "mtkilic", "link": "https://stackoverflow.com/users/4268390/mtkilic"}, "edited": false, "score": 0, "creation_date": 1543438475, "post_id": 53527855, "comment_id": 93924652, "body": "Thanks. Still get same error. Here&#39;s a sample of the json data:"}, {"owner": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "reply_to_user": {"reputation": 1161, "user_id": 4268390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/awYfv.jpg?s=128&g=1", "display_name": "mtkilic", "link": "https://stackoverflow.com/users/4268390/mtkilic"}, "edited": false, "score": 0, "creation_date": 1543438482, "post_id": 53527855, "comment_id": 93924655, "body": "[ { &quot;area_name&quot;: &quot;Oakland-Hayward-Berkeley MD&quot;, &quot;area_type&quot;: &quot;Metropolitan Area&quot;, &quot;date&quot;: &quot;1990-01-01T00:00:00.000&quot;, &quot;employment&quot;: &quot;1068800&quot;, &quot;labor_force&quot;: &quot;1111400&quot;, &quot;month&quot;: &quot;January&quot;, &quot;seasonally_adjusted_y_n&quot;: &quot;N&quot;, &quot;status_preliminary_final&quot;: &quot;Final&quot;, &quot;unemployment&quot;: &quot;42600&quot;, &quot;unemployment_rate&quot;: &quot;3.8&quot;, &quot;year&quot;: &quot;1990&quot;"}, {"owner": {"reputation": 1161, "user_id": 4268390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/awYfv.jpg?s=128&g=1", "display_name": "mtkilic", "link": "https://stackoverflow.com/users/4268390/mtkilic"}, "edited": false, "score": 0, "creation_date": 1543438727, "post_id": 53527855, "comment_id": 93924758, "body": "Are you sure your output variable <code>edd_qresponse</code> has json format data?  check this <a href=\"https://repl.it/@MahmutKilic/OfficialBelatedStack\" rel=\"nofollow noreferrer\">repl.it/@MahmutKilic/OfficialBelatedStack</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "edited": false, "score": 0, "creation_date": 1543439525, "post_id": 53527975, "comment_id": 93925086, "body": "Thanks! Calling the json function worked. However, I do want to pull in the year, month, area, and unemployment rate into a list so I can convert to a dataframe. These are the other variables I&#39;m trying to add: edd_year = [] edd_month = [] edd_date = [] edd_city = [] edd_rate = []"}, {"owner": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "edited": false, "score": 0, "creation_date": 1543439555, "post_id": 53527975, "comment_id": 93925101, "body": "TypeError                                 Traceback (most recent call last) &lt;ipython-input-17-82cb8a4474d1&gt; in &lt;module&gt;()      16     edd_qresponse = requests.get(edd_query_url).json()      17  ---&gt; 18     edd_year.append(edd_qresponse[&quot;year&quot;])      19     edd_month.append(edd_qresponse[&quot;month&quot;])      20     edd_date.append(edd_qresponse[&quot;date&quot;])  TypeError: list indices must be integers or slices, not str"}, {"owner": {"reputation": 1161, "user_id": 4268390, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/awYfv.jpg?s=128&g=1", "display_name": "mtkilic", "link": "https://stackoverflow.com/users/4268390/mtkilic"}, "reply_to_user": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "edited": false, "score": 0, "creation_date": 1543440613, "post_id": 53527975, "comment_id": 93925553, "body": "@ChrisB. as I mention above comment, since your json format is inside list, you need to call index first. try <code>edd_year.append(edd_qresponse[0][&quot;year&quot;])</code>"}], "tags": [], "owner": {"reputation": 11552, "user_id": 8112138, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f3b1ddf31abbf37d5fe71ad387e2772c?s=128&d=identicon&r=PG&f=1", "display_name": "Primusa", "link": "https://stackoverflow.com/users/8112138/primusa"}, "is_accepted": true, "score": 0, "last_activity_date": 1543438666, "creation_date": 1543438666, "answer_id": 53527975, "question_id": 53527855, "link": "https://stackoverflow.com/questions/53527855/appending-json-response-to-a-list/53527975#53527975", "title": "Appending json response to a list", "body": "<p>Two things:</p>\n\n<p>The first issue is in <code>requests.get(edd_query_url).json</code>. <code>.json</code> is a method and doesn't return json data, you were probably trying to do <code>.json()</code> instead and actually get the data.</p>\n\n<p>The second issue is that the actual json data is a list so you can't index it by strings like \"year\".</p>\n\n<p>Putting everything together:</p>\n\n<pre><code>edd_areas = [\"San Francisco-Redwood City-South San Francisco MD\", \n         \"Los Angeles-Long Beach-Glendale MD\", \n         \"Oakland-Hayward-Berkeley MD\",\n         \"California\"]\n\nedd_year = []\n\nedd_url = \"https://data.edd.ca.gov/resource/4ezp-3bs3.json?\"\n\nfor area in edd_areas:\n    edd_query_url = edd_url + \"area_name=\" + area + \"&amp;seasonally_adjusted_y_n=N\"\n    edd_qresponse = requests.get(edd_query_url).json() # call the function!\n\n    edd_year.append(edd_qresponse) # just append the list since you can't index by \"year\"\n</code></pre>\n\n<p>And you get something that looks like this:</p>\n\n<pre><code>[[{'area_name': 'San Francisco-Redwood City-South San Francisco MD', 'area_type': 'Metropolitan Area', 'date': '1990-01-01T00:00:00.000' ...\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 10007803, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u01j6Ruk0zA/AAAAAAAAAAI/AAAAAAAAABY/bpGtrzx8uUo/photo.jpg?sz=128", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10007803/chris-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 53527975, "answer_count": 1, "score": 0, "last_activity_date": 1543438666, "creation_date": 1543438056, "question_id": 53527855, "link": "https://stackoverflow.com/questions/53527855/appending-json-response-to-a-list", "title": "Appending json response to a list", "body": "<p>I'm having trouble appending a json response into a list. I'm sure it's a simple error but have spent hours trying to figure this out . . . any suggestion(s) would be greatly appreciated.</p>\n\n<pre><code>edd_areas = [\"San Francisco-Redwood City-South San Francisco MD\", \n             \"Los Angeles-Long Beach-Glendale MD\", \n             \"Oakland-Hayward-Berkeley MD\",\n             \"California\"]\n\nedd_year = []\n\nedd_url = \"https://data.edd.ca.gov/resource/4ezp-3bs3.json?\"\n\nfor area in edd_areas:\n    edd_query_url = edd_url + \"area_name=\" + area + \"&amp;seasonally_adjusted_y_n=N\"\n    edd_qresponse = requests.get(edd_query_url).json\n\n    edd_year.append(edd_qresponse[\"year\"])\n\nError: \nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-10-f3a906010984&gt; in &lt;module&gt;()\n     17 \n     18 \n---&gt; 19     edd_year.append(edd_qresponse[\"year\"])\n\nTypeError: 'method' object is not subscriptable\n</code></pre>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": true, "score": 21, "last_activity_date": 1612202035, "last_edit_date": 1612202035, "creation_date": 1543438207, "answer_id": 53527895, "question_id": 53527850, "link": "https://stackoverflow.com/questions/53527850/how-to-mask-a-list-using-boolean-values-from-another-list/53527895#53527895", "title": "How to mask a list using boolean values from another list", "body": "<p>You can use <code>zip</code> and a list comprehension to perform a filter operation on <code>y</code> based on corresponding truth values in <code>x</code>:</p>\n<pre><code>x = [True, False, True, False]\ny = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]\n\nprint([b for a, b in zip(x, y) if a])\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>['a', 'c']\n</code></pre>\n<p><a href=\"https://docs.python.org/3/library/itertools.html#itertools.compress\" rel=\"nofollow noreferrer\"><code>itertools.compress</code></a> also does this:</p>\n<pre><code>&gt;&gt;&gt; from itertools import compress\n&gt;&gt;&gt; x = [True, False, True, False]\n&gt;&gt;&gt; y = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]\n&gt;&gt;&gt; list(compress(y, x))\n['a', 'c']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1169, "user_id": 4325492, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ce815f6557acd50abbbaf1adee32f4?s=128&d=identicon&r=PG&f=1", "display_name": "Brendan A.", "link": "https://stackoverflow.com/users/4325492/brendan-a"}, "edited": false, "score": 0, "creation_date": 1543438435, "post_id": 53527901, "comment_id": 93924632, "body": "I think the list comprehension option does what the OP asks for: an elegant one line solution"}, {"owner": {"reputation": 509, "user_id": 3487040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qS36g.jpg?s=128&g=1", "display_name": "eapetcho", "link": "https://stackoverflow.com/users/3487040/eapetcho"}, "edited": false, "score": 0, "creation_date": 1543438664, "post_id": 53527901, "comment_id": 93924728, "body": "@sacul. Why do you replace <b>[a, b, c, d]</b> by <b>[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;]</b>. <b>a, b, c</b>, and <b>d</b> could perfectly represent some kind of object, not necessarily a string"}, {"owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "reply_to_user": {"reputation": 509, "user_id": 3487040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qS36g.jpg?s=128&g=1", "display_name": "eapetcho", "link": "https://stackoverflow.com/users/3487040/eapetcho"}, "edited": false, "score": 1, "creation_date": 1543438727, "post_id": 53527901, "comment_id": 93924757, "body": "@eapetcho, just so I can display results in my answer, but you&#39;re right, those could be an object of some sort."}], "tags": [], "owner": {"reputation": 41182, "user_id": 6671176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4DvZ4.png?s=128&g=1", "display_name": "sacuL", "link": "https://stackoverflow.com/users/6671176/sacul"}, "is_accepted": false, "score": 7, "last_activity_date": 1543438234, "creation_date": 1543438234, "answer_id": 53527901, "question_id": 53527850, "link": "https://stackoverflow.com/questions/53527850/how-to-mask-a-list-using-boolean-values-from-another-list/53527901#53527901", "title": "How to mask a list using boolean values from another list", "body": "<p>I think the easiest way is to use <code>numpy</code>:</p>\n\n<pre><code>import numpy as np\n&gt;&gt;&gt; x = [True, False, True, False]\n&gt;&gt;&gt; y = ['a', 'b', 'c', 'd']\n&gt;&gt;&gt; np.array(y)[x]\narray(['a', 'c'], dtype='&lt;U1')\n</code></pre>\n\n<p>Without <code>numpy</code>, You could also enumerate in a list comprehension:</p>\n\n<pre><code>&gt;&gt;&gt; [i for idx, i in enumerate(y) if x[idx]]\n['a', 'c']\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 509, "user_id": 3487040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qS36g.jpg?s=128&g=1", "display_name": "eapetcho", "link": "https://stackoverflow.com/users/3487040/eapetcho"}, "is_accepted": false, "score": 1, "last_activity_date": 1543438378, "creation_date": 1543438378, "answer_id": 53527924, "question_id": 53527850, "link": "https://stackoverflow.com/questions/53527850/how-to-mask-a-list-using-boolean-values-from-another-list/53527924#53527924", "title": "How to mask a list using boolean values from another list", "body": "<p>@NBC. This is rather simple to solve. Consider writing properly your <strong>list</strong></p>\n\n<pre><code>x = [True, False, True, False]\ny = [a, b, c, d]  # assuming that a, b, c and d are some kind of object\noutput = []\nfor i, k in enumerate(x):\n    if k:\n        output.append(x[i])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3394, "user_id": 10708483, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puvWi.jpg?s=128&g=1", "display_name": "tdurnford", "link": "https://stackoverflow.com/users/10708483/tdurnford"}, "is_accepted": false, "score": 1, "last_activity_date": 1543445912, "creation_date": 1543445912, "answer_id": 53529373, "question_id": 53527850, "link": "https://stackoverflow.com/questions/53527850/how-to-mask-a-list-using-boolean-values-from-another-list/53529373#53529373", "title": "How to mask a list using boolean values from another list", "body": "<p>There are several ways to do this. </p>\n\n<p>The simplest way would be to zip the two lists together and use a list comprehension to keep the items you want. </p>\n\n<pre><code>x = [True, False, True, False]\ny = ['a', 'b', 'c', 'd']\n\nprint([item for keep, item in zip(x, y) if keep])\n</code></pre>\n\n<p>You can also convert the y array to a numpy array and use the x array to mask the numpy array.</p>\n\n<pre><code>import numpy as np\n\nx = [True, False, True, False]\ny = ['a', 'b', 'c', 'd']\n\nprint(list(np.array(y)[x]))\n</code></pre>\n\n<p>Finally, you can create an empty list, iterate through the x and y arrays using their indexes, and append elements in y to the empty list if the corresponding element in x is True.</p>\n\n<pre><code>x = [True, False, True, False]\ny = ['a', 'b', 'c', 'd']\n\ntemp = []\n\nfor index in range(len(y)):\n    if x[index]:\n        temp.append(y[index])\n\nprint(temp)\n</code></pre>\n"}], "owner": {"reputation": 1386, "user_id": 5355343, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/d4d44c0a26ba51f7a9d6fb663f332151?s=128&d=identicon&r=PG&f=1", "display_name": "NBC", "link": "https://stackoverflow.com/users/5355343/nbc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5715, "favorite_count": 1, "accepted_answer_id": 53527895, "answer_count": 4, "score": 8, "last_activity_date": 1612202035, "creation_date": 1543438042, "last_edit_date": 1575758381, "question_id": 53527850, "link": "https://stackoverflow.com/questions/53527850/how-to-mask-a-list-using-boolean-values-from-another-list", "title": "How to mask a list using boolean values from another list", "body": "<p>I have a list like this:</p>\n\n<pre><code>x = [True, False, True, False]\n</code></pre>\n\n<p>and a list like this:</p>\n\n<pre><code>y = [a, b, c, d]\n</code></pre>\n\n<p>I would like to mask <code>x</code> over <code>y</code> to get this output:</p>\n\n<pre><code>output = [a, c]\n</code></pre>\n\n<p>I know how to do this using <code>while</code>/<code>for</code> loops, but I'm ideally looking for an elegant one-line of code using list comprehension.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 23, "user_id": 9867292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc3fb42d078a0a8106c24ed0f544629?s=128&d=identicon&r=PG&f=1", "display_name": "Bhaskar", "link": "https://stackoverflow.com/users/9867292/bhaskar"}, "edited": false, "score": 0, "creation_date": 1543440152, "post_id": 53527790, "comment_id": 93925354, "body": "Only two columns, I am able to solve it now."}], "answers": [{"tags": [], "owner": {"reputation": 7823, "user_id": 8146556, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/1503034639720733/picture?type=large", "display_name": "rahlf23", "link": "https://stackoverflow.com/users/8146556/rahlf23"}, "is_accepted": true, "score": 1, "last_activity_date": 1543438784, "creation_date": 1543438784, "answer_id": 53528008, "question_id": 53527790, "link": "https://stackoverflow.com/questions/53527790/panda-dataframe-query/53528008#53528008", "title": "Panda Dataframe query", "body": "<p>You can be rather explicit and do the following:</p>\n\n<pre><code>lim = [('B',27,78),('E',44,73)]\n\nfor lim in limiters:\n    df = df[(df[lim[0]]&gt;=lim[1]) &amp; (df[lim[0]]&lt;=lim[2])]\n</code></pre>\n\n<p>Yields:</p>\n\n<pre><code>      A   B   C   D   E   F\nR0   99  78  61  16  73   8\nR2   15  53  80  27  44  77\nR8   30  62  11  67  65  55\nR11  90  31   9  38  47  16\nR15  16  64   8  90  44  37\nR16  94  75   5  22  52  69\nR46  11  30  26   8  51  61\nR48  39  59  22  80  58  44\nR66  55  38   5  49  58  15\nR70  36  78   5  13  73  69\nR72  70  58  52  99  67  11\nR75  20  59  57  33  53  96\nR77  32  31  89  49  69  41\nR79  43  28  17  16  73  54\nR80  45  34  90  67  69  70\nR87   9  50  16  61  65  30\nR90  43  56  76   7  47  62\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133282, "user_id": 9209546, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qk9vC.jpg?s=128&g=1", "display_name": "jpp", "link": "https://stackoverflow.com/users/9209546/jpp"}, "is_accepted": false, "score": 1, "last_activity_date": 1543448779, "last_edit_date": 1543448779, "creation_date": 1543438833, "answer_id": 53528018, "question_id": 53527790, "link": "https://stackoverflow.com/questions/53527790/panda-dataframe-query/53528018#53528018", "title": "Panda Dataframe query", "body": "<h3><a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.pipe.html\" rel=\"nofollow noreferrer\"><code>pipe</code></a> + <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.where.html\" rel=\"nofollow noreferrer\"><code>where</code></a> + <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.between.html\" rel=\"nofollow noreferrer\"><code>between</code></a></h3>\n\n<p>You can't <em>discard</em> values in an array; that would involve <em>reshaping</em> an array and a dataframe's columns <em>must</em> all have the same size.</p>\n\n<p>But you can iterate and use <code>pd.Series.where</code> to replace out-of-scope vales with <code>NaN</code>. Note the Pandas way to feed a dataframe through a function is via <code>pipe</code>:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndef c_cutoff(data_frame, column_cutoff):\n    for col, min_val, max_val in column_cutoffdata:\n        data_frame[col] = data_frame[col].where(data_frame[col].between(min_val, max_val))\n    return data_frame\n\nnp.random.seed(5)\ndf = pd.DataFrame(np.random.randint(100, size=(100, 6)),\n                  columns=list('ABCDEF'),\n                  index=['R{}'.format(i) for i in range(100)])\n\ncolumn_cutoffdata = [('B',27,78),('E',44,73)]\n\nprint(df.head())\n\n#      A   B   C   D   E   F\n# R0  99  78  61  16  73   8\n# R1  62  27  30  80   7  76\n# R2  15  53  80  27  44  77\n# R3  75  65  47  30  84  86\n# R4  18   9  41  62   1  82\n\nnewdata_cutoff = df.pipe(c_cutoff, column_cutoffdata)\n\nprint(newdata_cutoff.head())\n\n#      A     B   C   D     E   F\n# R0  99  78.0  61  16  73.0   8\n# R1  62  27.0  30  80   NaN  76\n# R2  15  53.0  80  27  44.0  77\n# R3  75  65.0  47  30   NaN  86\n# R4  18   NaN  41  62   NaN  82\n</code></pre>\n\n<p>If you want to drop rows with <em>any</em> <code>NaN</code> values, you can then use <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.dropna.html\" rel=\"nofollow noreferrer\"><code>dropna</code></a>:</p>\n\n<pre><code>newdata_cutoff = newdata_cutoff.dropna()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 9867292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc3fb42d078a0a8106c24ed0f544629?s=128&d=identicon&r=PG&f=1", "display_name": "Bhaskar", "link": "https://stackoverflow.com/users/9867292/bhaskar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 342, "favorite_count": 1, "accepted_answer_id": 53528008, "answer_count": 2, "score": 1, "last_activity_date": 1543450339, "creation_date": 1543437852, "last_edit_date": 1543450339, "question_id": 53527790, "link": "https://stackoverflow.com/questions/53527790/panda-dataframe-query", "title": "Panda Dataframe query", "body": "<p>I like to retrieve data based on the column name and its minimum and maximum value. I am not able to figure out how to get that result. I am able to get data based on column name but don't understand how to apply the limit.</p>\n\n<p>Column name and corresponding min and max value given in list and tuple.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndef c_cutoff(data_frame, column_cutoff):\n\n    selected_data = data_frame.loc[:, [X[0] for X in column_cutoff]]\n\n    return selected_data\n\n\nnp.random.seed(5)\ndf = pd.DataFrame(np.random.randint(100, size=(100, 6)),\n                  columns=list('ABCDEF'),\n                  index=['R{}'.format(i) for i in range(100)])\n\ncolumn_cutoffdata = [('B',27,78),('E',44,73)]\n\nnewdata_cutoff = c_cutoff(df,column_cutoffdata)\nprint(df.head())\n\n\nprint(newdata_cutoff)\n</code></pre>\n\n<p>result</p>\n\n<pre><code>    B   E\nR0   78  73\nR1   27   7\nR2   53  44\nR3   65  84\nR4    9   1\n..\n.\n</code></pre>\n\n<p>Expected output\nI want all value less than 27 and greater than 78 should be discarded, same for E</p>\n"}, {"tags": ["python", "recursion", "pygithub"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 2807762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfa2939e448f6a3efd291ba7be2cf99?s=128&d=identicon&r=PG", "display_name": "RobinKiplangat", "link": "https://stackoverflow.com/users/2807762/robinkiplangat"}, "reply_to_user": {"reputation": 3755, "user_id": 1940850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zqElV.png?s=128&g=1", "display_name": "karel", "link": "https://stackoverflow.com/users/1940850/karel"}, "edited": false, "score": 0, "creation_date": 1572946363, "post_id": 58708167, "comment_id": 103710788, "body": "Thanks @karel for the cleaner query ."}], "tags": [], "owner": {"reputation": 75, "user_id": 2807762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfa2939e448f6a3efd291ba7be2cf99?s=128&d=identicon&r=PG", "display_name": "RobinKiplangat", "link": "https://stackoverflow.com/users/2807762/robinkiplangat"}, "is_accepted": false, "score": 1, "last_activity_date": 1572946123, "last_edit_date": 1572946123, "creation_date": 1572945870, "answer_id": 58708167, "question_id": 53527783, "link": "https://stackoverflow.com/questions/53527783/pygithub-how-to-get-contents-of-the-subfolder-in-the-repo/58708167#58708167", "title": "PyGithub - how to get contents of the subfolder in the repo", "body": "<p>The code snippet works just fine:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DRueX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DRueX.png\" alt=\"enter image description here\"></a> </p>\n\n<p>What errors are you getting?</p>\n"}, {"tags": [], "owner": {"reputation": 396, "user_id": 7126666, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tsZWO_iCNNI/AAAAAAAAAAI/AAAAAAAAAFo/0I9SvOJijYk/photo.jpg?sz=128", "display_name": "Rinaz Belhaj", "link": "https://stackoverflow.com/users/7126666/rinaz-belhaj"}, "is_accepted": false, "score": 0, "last_activity_date": 1598813958, "creation_date": 1598813958, "answer_id": 63661099, "question_id": 53527783, "link": "https://stackoverflow.com/questions/53527783/pygithub-how-to-get-contents-of-the-subfolder-in-the-repo/63661099#63661099", "title": "PyGithub - how to get contents of the subfolder in the repo", "body": "<p>Small correction to the above answer. Use <strong>len(contents)&gt;0</strong>, otherwise you will miss one file</p>\n<pre><code>from github import Github\ng = Github()\nrepo = g.get_repo(&quot;PyGithub/PyGithub&quot;)\ncontents = repo.get_contents(&quot;github&quot;)\nwhile len(contents)&gt;0:\n  file_content = contents.pop(0)\n  if file_content.type=='dir':\n    contents.extend(repo.get_contents(file_content.path))\n  else :\n    print(file_content)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10719272, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-woAyLuINdm8/AAAAAAAAAAI/AAAAAAAAABA/6amMnOw7j2Q/photo.jpg?sz=128", "display_name": "Krzysztof Achinger", "link": "https://stackoverflow.com/users/10719272/krzysztof-achinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 473, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1598813958, "creation_date": 1543437823, "question_id": 53527783, "link": "https://stackoverflow.com/questions/53527783/pygithub-how-to-get-contents-of-the-subfolder-in-the-repo", "title": "PyGithub - how to get contents of the subfolder in the repo", "body": "<p>I am trying to get contents of the subfolder \"github\" in a given github repository. This does not seem to work.</p>\n\n<pre><code>repo = g.get_repo(\"PyGithub/PyGithub\")\ncontents = repo.get_contents(\"github\")\nwhile len(contents) &gt; 1:\n    file_content = contents.pop(0)\n    if file_content.type == \"dir\":\n        contents.extend(repo.get_contents(file_content.path))\n    else:\n        print(file_content)\n</code></pre>\n"}]