[{"tags": ["python", "cmd", "pip", "virtualenv", "anaconda"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1498090051, "post_id": 44687986, "comment_id": 76360083, "body": "maybe try adding verbose flag output to each command, e.g. <code>pip -v</code>, <code>virtualenv -v</code>...etc."}, {"owner": {"reputation": 13, "user_id": 8196907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcdbfe0028d9c6711d2f7574d40b1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "young_pythonist", "link": "https://stackoverflow.com/users/8196907/young-pythonist"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1498090396, "post_id": 44687986, "comment_id": 76360176, "body": "@downshift Copying, copying, writing etc. Some &quot;import bootstrap module&quot; actions failed. Created all the .exe files. At the end: Successfully installed pip-9.0.1 setuptools-36.0.1 wheel-0.29.0 . And hangs again..."}, {"owner": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "edited": false, "score": 0, "creation_date": 1498115009, "post_id": 44687986, "comment_id": 76367943, "body": "you might need admin priviledges. Try using <code>Powershell</code> with admin priv."}, {"owner": {"reputation": 13, "user_id": 8196907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcdbfe0028d9c6711d2f7574d40b1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "young_pythonist", "link": "https://stackoverflow.com/users/8196907/young-pythonist"}, "reply_to_user": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "edited": false, "score": 0, "creation_date": 1498115136, "post_id": 44687986, "comment_id": 76368025, "body": "@TheDarkKnight Is admin priv. the same as opening cmd as admin (right click -&gt; execute as Admin)?"}, {"owner": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "edited": false, "score": 0, "creation_date": 1498115378, "post_id": 44687986, "comment_id": 76368161, "body": "that <i>should</i> work."}, {"owner": {"reputation": 13, "user_id": 8196907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcdbfe0028d9c6711d2f7574d40b1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "young_pythonist", "link": "https://stackoverflow.com/users/8196907/young-pythonist"}, "reply_to_user": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "edited": false, "score": 0, "creation_date": 1498122660, "post_id": 44687986, "comment_id": 76373157, "body": "@TheDarkKnight Yeah that worked. Thank you a lot. You can post it as an answer, I will accept it."}, {"owner": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "edited": false, "score": 0, "creation_date": 1498123286, "post_id": 44687986, "comment_id": 76373583, "body": "There you go @young_pythonist :)"}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 2, "creation_date": 1498133431, "post_id": 44695179, "comment_id": 76380767, "body": "You&#39;re doing something very wrong if you need admin access to create and use a virtual environment. Create it where you have access as a standard user."}], "tags": [], "owner": {"reputation": 2178, "user_id": 5283213, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ADiDB.jpg?s=128&g=1", "display_name": "Sreetam Das", "link": "https://stackoverflow.com/users/5283213/sreetam-das"}, "is_accepted": true, "score": 0, "last_activity_date": 1498122968, "creation_date": 1498122968, "answer_id": 44695179, "question_id": 44687986, "link": "https://stackoverflow.com/questions/44687986/python-hangs-while-executing-pip-and-virtualenv-and-brings-no-results/44695179#44695179", "title": "Python hangs while executing pip and virtualenv and brings no results", "body": "<p>A simple solution to this (which <em>does</em> work) would be to use <code>Powershell</code> as an Administrator, instead of <code>cmd</code>.</p>\n\n<p>Conversely, use <code>cmd</code> as an administrator, though I would recommend using the much-more powerful <code>Powershell</code> for any and all purposes!</p>\n\n<blockquote>\n  <p>Why this works:</p>\n</blockquote>\n\n<p>A lot of commands need super-user rights (think <code>root</code>/ <code>sudo</code> in linux) in order to be properly executed.</p>\n\n<p>Since there is no such thing as as <code>sudo</code> in Windows yet, you can implement it via admin privileges.</p>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 13, "user_id": 8196907, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcdbfe0028d9c6711d2f7574d40b1a5e?s=128&d=identicon&r=PG&f=1", "display_name": "young_pythonist", "link": "https://stackoverflow.com/users/8196907/young-pythonist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 401, "favorite_count": 0, "accepted_answer_id": 44695179, "answer_count": 1, "score": 1, "last_activity_date": 1498133381, "creation_date": 1498089400, "last_edit_date": 1498133381, "question_id": 44687986, "link": "https://stackoverflow.com/questions/44687986/python-hangs-while-executing-pip-and-virtualenv-and-brings-no-results", "title": "Python hangs while executing pip and virtualenv and brings no results", "body": "<p>I tried to set up a virtual environment for my project by executing <code>virtualenv myenv</code>. The folder seemed to be generated, but the command hung, and I couldn't execute another command. I had to close the console and restart cmd. The folder was generated, as I said, but I couldn't activate the virtual environment by <code>venv\\Scripts\\activate</code>.</p>\n\n<p>I met the same behaviour while trying to execute <code>pip freeze &gt; requirements.txt</code>. The file was generated, but it was empty, although I used a lot of packages in my project. When I executed just <code>pip freeze</code>, the list of packages was printed, but the command hung again, and I had to close the console again. </p>\n\n<p>I tried both procedures many times, but with no success. I tried that in Windows cmd and Anaconda Prompt (Anaconda version: Anaconda3 2.4.1; Python: 3.5.1).</p>\n\n<p><strong>EDIT</strong>: when I tried to do this for the very first time some days ago, I succeeded in activating the virtual environment, but only for one time.</p>\n"}, {"tags": ["python", "installation", "robotframework"], "answers": [{"comments": [{"owner": {"reputation": 108, "user_id": 6211508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uebe5.jpg?s=128&g=1", "display_name": "Cheng Peng", "link": "https://stackoverflow.com/users/6211508/cheng-peng"}, "edited": false, "score": 0, "creation_date": 1498090610, "post_id": 44688039, "comment_id": 76360228, "body": "Thanks. I simply remove python2, then do a pip install, and it works."}, {"owner": {"reputation": 125, "user_id": 6244669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48a56b708c6cbbd4d56d5ee2e6c4964?s=128&d=identicon&r=PG", "display_name": "Narendra", "link": "https://stackoverflow.com/users/6244669/narendra"}, "reply_to_user": {"reputation": 108, "user_id": 6211508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uebe5.jpg?s=128&g=1", "display_name": "Cheng Peng", "link": "https://stackoverflow.com/users/6211508/cheng-peng"}, "edited": false, "score": 0, "creation_date": 1498090811, "post_id": 44688039, "comment_id": 76360273, "body": "Ya! It&#39;s also a better option to use virtual env in such cases as mentioned in @wonton&#39;s answer ."}], "tags": [], "owner": {"reputation": 125, "user_id": 6244669, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c48a56b708c6cbbd4d56d5ee2e6c4964?s=128&d=identicon&r=PG", "display_name": "Narendra", "link": "https://stackoverflow.com/users/6244669/narendra"}, "is_accepted": false, "score": 8, "last_activity_date": 1498090283, "last_edit_date": 1498090283, "creation_date": 1498089874, "answer_id": 44688039, "question_id": 44687981, "link": "https://stackoverflow.com/questions/44687981/install-robot-framework-on-python3-not-python2/44688039#44688039", "title": "Install robot framework on python3 not python2", "body": "<p>Try this command It may help you in my case it works!</p>\n\n<pre><code>pip3 install robotframework \n</code></pre>\n\n<p>If you are using proxy server then use this command</p>\n\n<pre><code>pip3 --proxy &lt;host&gt;:&lt;port&gt; install robotframework\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>pip3 --proxy 12.3.105.200:8080 install robotframework\n</code></pre>\n\n<p>And you can uninstall pre-installed by using this</p>\n\n<pre><code>pip uninstall robotframework\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5397, "user_id": 1361802, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nsW0g.jpg?s=128&g=1", "display_name": "wonton", "link": "https://stackoverflow.com/users/1361802/wonton"}, "is_accepted": false, "score": 1, "last_activity_date": 1498089898, "creation_date": 1498089898, "answer_id": 44688043, "question_id": 44687981, "link": "https://stackoverflow.com/questions/44687981/install-robot-framework-on-python3-not-python2/44688043#44688043", "title": "Install robot framework on python3 not python2", "body": "<p>Robotframework has versions for both python 2 and 3, so this is definitely an issue of managing your python environment.</p>\n\n<p>To avoid issues like this in the future, I strongly urge you to use <a href=\"http://python-guide-pt-br.readthedocs.io/en/latest/dev/virtualenvs/\" rel=\"nofollow noreferrer\">virtual environments</a>.</p>\n\n<p>In a nutshell, you can solve this problem by doing</p>\n\n<pre><code>pip install virtualenv\nvirtualenv -p python3 venv\nsource venv/bin/activate\npip install robotframework\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 165, "user_id": 4466273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2yHzj.jpg?s=128&g=1", "display_name": "Jeet", "link": "https://stackoverflow.com/users/4466273/jeet"}, "is_accepted": false, "score": 2, "last_activity_date": 1498328014, "creation_date": 1498328014, "answer_id": 44739506, "question_id": 44687981, "link": "https://stackoverflow.com/questions/44687981/install-robot-framework-on-python3-not-python2/44739506#44739506", "title": "Install robot framework on python3 not python2", "body": "<p>You can use below commands to install robot framework for specific python version if you had multiple python version installed,</p>\n\n<pre><code>python -m pip install robotframework   #python 2\npython3 -m pip install robotframework  #python 3 \n</code></pre>\n"}], "owner": {"reputation": 108, "user_id": 6211508, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Uebe5.jpg?s=128&g=1", "display_name": "Cheng Peng", "link": "https://stackoverflow.com/users/6211508/cheng-peng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7631, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1498328014, "creation_date": 1498089375, "last_edit_date": 1498090406, "question_id": 44687981, "link": "https://stackoverflow.com/questions/44687981/install-robot-framework-on-python3-not-python2", "title": "Install robot framework on python3 not python2", "body": "<p>I have python3 pre-installed in fedora, somehow python2 was installed later. After using </p>\n\n<pre><code>pip install robotframework\n</code></pre>\n\n<p>robot was installed successfully, but it was installed in python 2.7/site-packages. </p>\n\n<p>Is there any way to install and use it in python3? Or, is it possible to uninstall python2, and re-install robot framework on python3? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "flask", "jinja2"], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 5824349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c7c2951c1a9e9343dd71720fed7f17?s=128&d=identicon&r=PG&f=1", "display_name": "icsllaf", "link": "https://stackoverflow.com/users/5824349/icsllaf"}, "is_accepted": true, "score": 3, "last_activity_date": 1498096318, "creation_date": 1498096318, "answer_id": 44688844, "question_id": 44687976, "link": "https://stackoverflow.com/questions/44687976/jinja2-exceptions-undefinederrorfunction-is-undefined/44688844#44688844", "title": "jinja2.exceptions.UndefinedError:&#39;function&#39; is undefined", "body": "<p>Alright I got a fix to it.\nInstead of making the functions in the <strong>init</strong>.py file move them to the main python file using  the <code>app.context_processor</code> in this website.</p>\n\n<p><a href=\"http://flask.pocoo.org/docs/0.12/templating/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/0.12/templating/</a></p>\n"}], "owner": {"reputation": 153, "user_id": 5824349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74c7c2951c1a9e9343dd71720fed7f17?s=128&d=identicon&r=PG&f=1", "display_name": "icsllaf", "link": "https://stackoverflow.com/users/5824349/icsllaf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1071, "favorite_count": 0, "accepted_answer_id": 44688844, "answer_count": 1, "score": 0, "last_activity_date": 1498096318, "creation_date": 1498089338, "question_id": 44687976, "link": "https://stackoverflow.com/questions/44687976/jinja2-exceptions-undefinederrorfunction-is-undefined", "title": "jinja2.exceptions.UndefinedError:&#39;function&#39; is undefined", "body": "<p>I have a flask website running on nginx and gunicorn. I can use a self made inside <code>__init__.py</code> with just <code>flask run</code> and it runs perfectly. However if I use <code>gunicorn flaskapp:app</code> it hits me with the error</p>\n\n<blockquote>\n  <p>jinja2.exceptions.UndefinedError: 'printcarousel is undefined'</p>\n</blockquote>\n\n<p>Declaring the function inside <strong>init</strong>.py with</p>\n\n<pre><code>app.jinja_env.globals.update(printcarousel=printcarousel)\n</code></pre>\n\n<p>With the function itself being</p>\n\n<pre><code>def printcarousel(recipeid, active=\"\"):\n    return \"something\"\n</code></pre>\n"}, {"tags": ["python", "pandas", "plot", "seaborn"], "comments": [{"owner": {"reputation": 1361, "user_id": 5258043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkUnE.jpg?s=128&g=1", "display_name": "Steven M. Mortimer", "link": "https://stackoverflow.com/users/5258043/steven-m-mortimer"}, "edited": false, "score": 0, "creation_date": 1498089957, "post_id": 44687965, "comment_id": 76360066, "body": "Welcome to StackOverflow! Your question does not provide enough information for others to recreate the data and solve. Please read through how to make a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>. A screenshot is usually not sufficient for others to create the data.frame to manipulate."}, {"owner": {"reputation": 33, "user_id": 8193651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157d1d4c2b4810360c4bae3cd3413f4a?s=128&d=identicon&r=PG&f=1", "display_name": "firstworldchild", "link": "https://stackoverflow.com/users/8193651/firstworldchild"}, "reply_to_user": {"reputation": 1361, "user_id": 5258043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KkUnE.jpg?s=128&g=1", "display_name": "Steven M. Mortimer", "link": "https://stackoverflow.com/users/5258043/steven-m-mortimer"}, "edited": false, "score": 0, "creation_date": 1498093207, "post_id": 44687965, "comment_id": 76360774, "body": "Hi Steve.. thank you for the feedback.. i&#39;ll amend the question to make it easier. thank you"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 8193651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157d1d4c2b4810360c4bae3cd3413f4a?s=128&d=identicon&r=PG&f=1", "display_name": "firstworldchild", "link": "https://stackoverflow.com/users/8193651/firstworldchild"}, "edited": false, "score": 0, "creation_date": 1498095071, "post_id": 44688651, "comment_id": 76361210, "body": "thank you - the rotation of the labels did indeed show the date range goes from 2001 to 2017.. That is weird as the date range is 2014-2017.  how do you set a limit on the date range of the plot?"}, {"owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "reply_to_user": {"reputation": 33, "user_id": 8193651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157d1d4c2b4810360c4bae3cd3413f4a?s=128&d=identicon&r=PG&f=1", "display_name": "firstworldchild", "link": "https://stackoverflow.com/users/8193651/firstworldchild"}, "edited": false, "score": 0, "creation_date": 1498095358, "post_id": 44688651, "comment_id": 76361270, "body": "say you want to select the date rage between 2014-17, then you can filter your dataframe like so: df = df[(df[&#39;date&#39;] &gt; &#39;2013-12-31&#39;) &amp; (df[&#39;date&#39;] &lt;= &#39;2017-12-31&#39;)]. If you are working with Jupyter maybe restart your kernel for the analysis as this clears the memory and then rerun your code."}, {"owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "reply_to_user": {"reputation": 33, "user_id": 8193651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157d1d4c2b4810360c4bae3cd3413f4a?s=128&d=identicon&r=PG&f=1", "display_name": "firstworldchild", "link": "https://stackoverflow.com/users/8193651/firstworldchild"}, "edited": false, "score": 0, "creation_date": 1498095743, "post_id": 44688651, "comment_id": 76361359, "body": "glad i could help :) if this solves you problem you can accept an answer on stackoverflow by clicking the green checkmark"}], "tags": [], "owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "is_accepted": true, "score": 0, "last_activity_date": 1498094778, "creation_date": 1498094778, "answer_id": 44688651, "question_id": 44687965, "link": "https://stackoverflow.com/questions/44687965/how-can-i-get-a-facetgrid-to-plot-a-variable-across-a-time-series-chart-is-clus/44688651#44688651", "title": "How can I get a FacetGrid to plot a variable across a time series? Chart is clustering to the right", "body": "<p>Regarding you question about the x-axis: \nIn order for you to see the x-axis properly you should rotate the labels using the rotation argument on your axis, like so:</p>\n\n<pre><code>grid.set_xticklabels(rotation=90)\n</code></pre>\n\n<p>This will give you a 90-degree tilt of your ticklabels.</p>\n\n<p>Regarding the clustered data: Maybe you should try to limit the date-range of your plot as it appears to have no data until your very last dates, hence the clustering.</p>\n"}], "owner": {"reputation": 33, "user_id": 8193651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/157d1d4c2b4810360c4bae3cd3413f4a?s=128&d=identicon&r=PG&f=1", "display_name": "firstworldchild", "link": "https://stackoverflow.com/users/8193651/firstworldchild"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "accepted_answer_id": 44688651, "answer_count": 1, "score": 0, "last_activity_date": 1498094778, "creation_date": 1498089259, "last_edit_date": 1498093255, "question_id": 44687965, "link": "https://stackoverflow.com/questions/44687965/how-can-i-get-a-facetgrid-to-plot-a-variable-across-a-time-series-chart-is-clus", "title": "How can I get a FacetGrid to plot a variable across a time series? Chart is clustering to the right", "body": "<p>This is my first question here - so go easy ;-) </p>\n\n<p>I've searched and haven't been able to find exactly what I'm looking for, so I was hoping to get some help here.</p>\n\n<p>I'm having a problem getting the timeseries data to plot correctly. It seems the data is all clustering to the right of the plots as opposed to being spread across the subplot from left to right.</p>\n\n<p>The dataframe is as follows:</p>\n\n<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;\nRangeIndex: 216 entries, 0 to 215\nData columns (total 5 columns):\ndate        216 non-null datetime64[ns]\nticker      216 non-null object\ncapital     216 non-null float64\nincome      216 non-null float64\nmultiple    216 non-null float64\ndtypes: datetime64[ns](1), float64(3), object(1)\nmemory usage: 8.5+ KB\nNone\n</code></pre>\n\n<p>A sample of the data here: <a href=\"https://i.stack.imgur.com/QKXUv.jpg\" rel=\"nofollow noreferrer\">screenshot of dataframe</a></p>\n\n<p>The code I've used is as follows:</p>\n\n<pre><code># Initialize a grid of plots with an Axes for each walk\ngrid = sns.FacetGrid(dfs3, col=\"ticker\", hue=\"capital\", col_wrap=6,size=1.5)\n\n# Draw a horizontal line to show the starting point\ngrid.map(plt.axhline, y=0, ls=\":\", c=\".5\")\n\n# Draw a line plot to show the trajectory of capital across time\ngrid.map(plt.plot, \"date\", \"capital\", marker=\"o\", ms=4)\n\n# Adjust the arrangement of the plots\ngrid.fig.tight_layout(w_pad=1)\n#show\nplt.show()\n</code></pre>\n\n<p>The output of the code is as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/LXcly.jpg\" rel=\"nofollow noreferrer\">FacetGrid output example</a></p>\n\n<p>I'm hoping to get the data to plot from left to right rather than cluster on the right side of the subplots.  Also, any help in tidying up the datetime on the x-axis would be appreciated.</p>\n\n<p>Thanks! I hope this question is clear enough. Any feedback appreciated on the question format and etc. would be greatly appreciated.</p>\n"}, {"tags": ["python", "linux", "tkinter", "command"], "comments": [{"owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "edited": false, "score": 0, "creation_date": 1498089385, "post_id": 44687948, "comment_id": 76359961, "body": "If you google &quot;interprocess communication&quot; you will find lots of ways for programs to communicate with one another. Sockets or dbus is probably the most common."}], "answers": [{"tags": [], "owner": {"reputation": 11466, "user_id": 2229945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfbf044eccb8835deec653dae32d56e7?s=128&d=identicon&r=PG", "display_name": "Novel", "link": "https://stackoverflow.com/users/2229945/novel"}, "is_accepted": true, "score": 0, "last_activity_date": 1498150359, "last_edit_date": 1498150359, "creation_date": 1498094588, "answer_id": 44688624, "question_id": 44687948, "link": "https://stackoverflow.com/questions/44687948/modify-python-var-using-linux-terminal/44688624#44688624", "title": "Modify python var using linux terminal", "body": "<p>There's many many ways. The first that comes to mind for me is a named pipe (aka fifo). Here's the python code (I'm assuming python3 due to your tkinter import even though your shebang is for python2): </p>\n\n<pre><code>#!/usr/bin/env python3\n\nimport tkinter as tk\nimport os\nimport stat\nfrom threading import Thread\n\nclass FIFO(Thread):\n    def __init__(self, pipename, func):\n        self.pipename = pipename\n        if pipename in os.listdir('.'):\n            if not stat.S_ISFIFO(os.stat(self.pipename).st_mode):\n                raise ValueError(\"file exists but is not a pipe\")\n        else:\n            os.mkfifo(pipename)\n        Thread.__init__(self)\n        self.func = func\n\n        self.daemon = True\n        self.start()\n\n    def run(self):\n        while True:\n            with open(self.pipename) as f: # blocks\n                self.func(f.read())\n\n    def close(self):\n        os.remove(self.pipename)\n\nroot = tk.Tk()\nvar = tk.StringVar(value='Libre')\n\n# pipes the content of the named pipe \"signal\" to the function \"var.set\"\npipe = FIFO(\"signal\", var.set)\n\nl = tk.Label(root, textvariable=var)\nl.pack(fill=tk.BOTH, expand=True)\nroot.geometry(\"200x100\")\nroot.mainloop()\npipe.close()\n</code></pre>\n\n<p>This example creates a pipe named \"signal\", so anything you write to that pipe gets set in the variable. For instance if you open a new terminal in the same folder and type</p>\n\n<pre><code>echo I am a cucumber &gt; signal\n</code></pre>\n\n<p>Then the Label in the tkinter window changes to \"I am a cucumber\". </p>\n\n<p>You can also access this from any other program or programming language. For instance if you want to send data from another python program: </p>\n\n<pre><code>with open('signal', 'w') as f:\n    f.write('I am a banana')\n</code></pre>\n\n<p>Named pipes are designed to allow many programs to write to them, but only one program should read the data out. </p>\n"}], "owner": {"reputation": 3, "user_id": 8196909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4fc63e00d83752c35bf7d43d4cccb550?s=128&d=identicon&r=PG&f=1", "display_name": "Raptorbk", "link": "https://stackoverflow.com/users/8196909/raptorbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 44688624, "answer_count": 1, "score": 0, "last_activity_date": 1498150359, "creation_date": 1498089155, "last_edit_date": 1498089307, "question_id": 44687948, "link": "https://stackoverflow.com/questions/44687948/modify-python-var-using-linux-terminal", "title": "Modify python var using linux terminal", "body": "<p>I coded some basic Tkinter text labels using Python, but I want to modify the text that is inside the label using a command in the Linux terminal.</p>\n\n<p>This is my code:</p>\n\n<pre><code>#! /usr/bin/python\nfrom tkinter import *\noutputText = 'Libre'\n\nroot = Tk()\n\nw = 70\nh = 50\n\nws = root.winfo_screenwidth()\nhs = root.winfo_screenheight()\n\nx = (ws/10) - (w/5)\ny = (hs/5) - (h/5)\n\nroot.geometry('%dx%d+%d+%d' % (w,h,x,y))\n\nroot.overrideredirect(1)\n\nvar = StringVar()\n\nl = Label(root, textvariable=var)\nl.pack()\nl.place(x=10, y=10)\n\nvar.set(outputText)\n\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "django", "django-formwizard"], "comments": [{"owner": {"reputation": 47440, "user_id": 229410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e0014fcc07d184018d3b8185a85a09?s=128&d=identicon&r=PG", "display_name": "Rohan", "link": "https://stackoverflow.com/users/229410/rohan"}, "edited": false, "score": 1, "creation_date": 1498102318, "post_id": 44687943, "comment_id": 76362944, "body": "You should save the forms in <code>done()</code> method. Also clone the repository after saving the forms in <code>done()</code>."}, {"owner": {"reputation": 2315, "user_id": 1679011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0HnK7.jpg?s=128&g=1", "display_name": "lozadaOmr", "link": "https://stackoverflow.com/users/1679011/lozadaomr"}, "reply_to_user": {"reputation": 47440, "user_id": 229410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e0014fcc07d184018d3b8185a85a09?s=128&d=identicon&r=PG", "display_name": "Rohan", "link": "https://stackoverflow.com/users/229410/rohan"}, "edited": false, "score": 0, "creation_date": 1498226671, "post_id": 44687943, "comment_id": 76429061, "body": "thanks @Rohan your comment gave me the idea to the correct solution"}], "owner": {"reputation": 2315, "user_id": 1679011, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/0HnK7.jpg?s=128&g=1", "display_name": "lozadaOmr", "link": "https://stackoverflow.com/users/1679011/lozadaomr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498089122, "creation_date": 1498089122, "question_id": 44687943, "link": "https://stackoverflow.com/questions/44687943/final-formwizard-redirects-to-first-step", "title": "Final FormWizard redirects to first step", "body": "<p>I basically used the django-formtool form wizard to handle saving of my form. </p>\n\n<ol>\n<li>User enters the \"username\" and \"repository\" on first step.</li>\n<li>repository is cloned</li>\n<li>User enters \"inventory\" and \"user\" on second step.</li>\n<li>I'm expecting that after the final submit, it will just save the data</li>\n</ol>\n\n<p>I'm having trouble when I try to save on the final step of the wizard,\nI returns me to the first step. With the expected ValidationError that the repository exists, because on my <code>views.py</code> execute the <code>clone_repository()</code> method.</p>\n\n<p>Below are the relevant code I currently have.</p>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>class PlaybookWizard(SessionWizardView):\n    def process_step(self, form):\n        if self.steps.current == '0':\n            form.clone_repository()\n        if self.steps.current == '1':\n            form.save()\n        return super(PlaybookWizard, self).process_step(form)\n\n    def done(self, form_list, form_dict, **kwargs):\n        return HttpResponseRedirect('/playbooks')\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>def check_path_exists(repository, host_inventory=None):\n    if host_inventory:\n        os.chdir(settings.PLAYBOOK_DIR + repository)\n        current_dir = os.getcwd()\n        return os.path.exists(os.path.join(current_dir, host_inventory))\n    return os.path.exists(os.path.join(settings.PLAYBOOK_DIR, repository))\n\ndef get_dir_name(repository):\n    return os.path.join(settings.PLAYBOOK_DIR, repository)\n\ndef get_remote_repo_url(username, repository):\n    return \"https://github.com/{0}/{1}.git\".format(\n            username, repository\n    )\n\n\nclass AnsibleForm1(ModelForm):\n    class Meta:\n        model = Playbook\n        fields = ['repository', 'username']\n\n    def clean_repository(self):\n        if check_path_exists(self.cleaned_data['repository']):\n            raise ValidationError(\"Repository already exists\")\n        return self.cleaned_data['repository']\n\n    def clone_repository(self):\n        repository = self.cleaned_data['repository']\n        username = self.cleaned_data['username']\n\n        dir_name = get_dir_name(repository)\n        remote_url = get_remote_repo_url(username, repository)\n        os.mkdir(os.path.join(dir_name))\n        repo = git.Repo.init(dir_name)\n        origin = repo.create_remote('origin', remote_url)\n        origin.fetch()\n        origin.pull(origin.refs[0].remote_head)\n\nclass AnsibleForm2(ModelForm):\n    class Meta:\n        model = Playbook\n        fields = ['inventory', 'user']\n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Playbook(models.Model):\n    username = models.CharField(max_length=39, default=\"\")\n    repository = models.CharField(max_length=100, default=\"\")\n    inventory = models.CharField(max_length=200, default=\"hosts\")\n    user = models.CharField(max_length=200, default=\"ubuntu\")\n    directory = models.CharField(max_length=200, editable=False, default=\"dir\")\n\n    def get_dir_name(self):\n        return os.path.join(settings.PLAYBOOK_DIR, self.repository)\n\n    def format_directory(self):\n        directory = self.repository.lower()\n        directory = directory.replace(\" \",\"-\")\n        return directory\n\n    def save(self, *args, **kwargs):\n        self.directory = self.format_directory()\n        super(Playbook, self).save(*args, **kwargs)\n</code></pre>\n"}, {"tags": ["python", "localhost", "amazon-dynamodb", "boto3"], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 5322372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7d6d4dd9e2bdaf20e5a0b205ec822f3?s=128&d=identicon&r=PG&f=1", "display_name": "L. San", "link": "https://stackoverflow.com/users/5322372/l-san"}, "is_accepted": false, "score": 1, "last_activity_date": 1517529181, "last_edit_date": 1592644375, "creation_date": 1517529181, "answer_id": 48573654, "question_id": 44687940, "link": "https://stackoverflow.com/questions/44687940/localhost-endpoint-to-dynamodb-local-nothing-with-boto3/48573654#48573654", "title": "Localhost Endpoint to DynamoDB Local nothing with Boto3", "body": "<p>It's a little late, but please, check if you didn't use -inMemory instead -sharedDb</p>\n<blockquote>\n<p>If you use the -sharedDb option, DynamoDB creates a single database file named shared-local-instance.db. Every program that connects to DynamoDB accesses this file. If you delete the file, you lose any data you have stored in it.</p>\n<p>If you use the -inMemory option, DynamoDB doesn't write any database files at all. Instead, all data is written to memory, and the data is not saved when you terminate DynamoDB.</p>\n</blockquote>\n<pre><code>$ java -Djava.library.pathh=./DynamoDBLocal_lib -jar DynamoDBLocal.jar -sharedDb\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8196903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f86fa9bb34ad8ffa95e3e983426be09?s=128&d=identicon&r=PG&f=1", "display_name": "guaiwunv", "link": "https://stackoverflow.com/users/8196903/guaiwunv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1517529181, "creation_date": 1498089102, "last_edit_date": 1498892090, "question_id": 44687940, "link": "https://stackoverflow.com/questions/44687940/localhost-endpoint-to-dynamodb-local-nothing-with-boto3", "title": "Localhost Endpoint to DynamoDB Local nothing with Boto3", "body": "<p>I am pretty new with DynamoDB, I was trying to create a table with boto3 and find the following code: </p>\n\n<pre><code>from __future__ import print_function # Python 2/3 compatibility\nimport boto3\n\ndynamodb = boto3.resource('dynamodb', region_name='us-west-2', endpoint_url=\"http://localhost:8000\")\n\n\ntable = dynamodb.create_table(\n    TableName='Movies',\n    KeySchema=[\n        {\n            'AttributeName': 'year',\n            'KeyType': 'HASH'  #Partition key\n        },\n        {\n            'AttributeName': 'title',\n            'KeyType': 'RANGE'  #Sort key\n        }\n    ],\n    AttributeDefinitions=[\n        {\n            'AttributeName': 'year',\n            'AttributeType': 'N'\n        },\n        {\n            'AttributeName': 'title',\n            'AttributeType': 'S'\n        },\n\n    ],\n    ProvisionedThroughput={\n        'ReadCapacityUnits': 10,\n        'WriteCapacityUnits': 10\n    }\n)\n\nprint(\"Table status:\", table.table_status)\n</code></pre>\n\n<p>After running this code, I got \"Table status: active\". I think this means the python code works fine and table has been created. However, I couldn't see this table either from localhost Endpoint or from console. Is there anything wrong? Can anyone give me some explanations how to use python with localhost to create tables. </p>\n\n<p>Thank you  </p>\n"}, {"tags": ["python", "arduino", "pyserial"], "comments": [{"owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "edited": false, "score": 1, "creation_date": 1498096909, "post_id": 44687895, "comment_id": 76361642, "body": "Are you receiving the data over the serial port on the computer? Where&#39;s your Python code that reads it in?"}], "answers": [{"tags": [], "owner": {"reputation": 498, "user_id": 8085380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c8e69500a2f81fd5c6eee46dcb53a58?s=128&d=identicon&r=PG&f=1", "display_name": "hasbi", "link": "https://stackoverflow.com/users/8085380/hasbi"}, "is_accepted": false, "score": 3, "last_activity_date": 1498125828, "last_edit_date": 1498125828, "creation_date": 1498122127, "answer_id": 44694852, "question_id": 44687895, "link": "https://stackoverflow.com/questions/44687895/read-data-from-arduino-and-add-timestamp/44694852#44694852", "title": "Read data from arduino and add timestamp", "body": "<p>You can use this python script as your receiver code.\nChange 'port' with your Arduino port.</p>\n\n<p>do not forget to download serial library if it is missing: <a href=\"https://pypi.python.org/pypi/pyserial\" rel=\"nofollow noreferrer\">https://pypi.python.org/pypi/pyserial</a></p>\n\n<pre><code>import serial\nimport time\nimport datetime\n\nser = serial.Serial(\n    port='COM5',\\\n    baudrate=9600,\\\n    parity=serial.PARITY_NONE,\\\n    stopbits=serial.STOPBITS_ONE,\\\n    bytesize=serial.EIGHTBITS,\\\n        timeout=0)\n\nprint(\"connected to: \" + ser.portstr)\n\nwhile True:\n    line = ser.readline()\n    timestamp = str(time.time())\n    #timestamp = str(datetime.datetime.fromtimestamp(time.time()).strftime('%Y-%m-%d %H:%M:%S'))\n    with open('output.txt', 'a') as pyfile:\n        pyfile.write(line + ' ' + timestamp +'\\n')\n\nser.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 150, "user_id": 1153916, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/61ca8db32a52e7af137d33426c487478?s=128&d=identicon&r=PG", "display_name": "Aravind Nadumane", "link": "https://stackoverflow.com/users/1153916/aravind-nadumane"}, "is_accepted": false, "score": 0, "last_activity_date": 1561727850, "creation_date": 1561727850, "answer_id": 56807681, "question_id": 44687895, "link": "https://stackoverflow.com/questions/44687895/read-data-from-arduino-and-add-timestamp/56807681#56807681", "title": "Read data from arduino and add timestamp", "body": "<p>In case you are on Windows, you can Try this Free console application:\n<a href=\"https://hiterminallogger.sourceforge.io/\" rel=\"nofollow noreferrer\">https://hiterminallogger.sourceforge.io/</a>\nJust download and run the exe in a bash console emulator</p>\n\n<pre><code>$./HiTerminalLogger.exe COM&lt;portnumber&gt; 9600\n</code></pre>\n\n<p>you will get it Timestamped log as well as html report.\nyou can as well as highlight the Text to make it more conspicuous.</p>\n\n<p><a href=\"https://i.stack.imgur.com/e0Fwx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e0Fwx.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 49, "user_id": 4844531, "user_type": "registered", "profile_image": "https://graph.facebook.com/1092307964208375/picture?type=large", "display_name": "ahmad", "link": "https://stackoverflow.com/users/4844531/ahmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5966, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561727850, "creation_date": 1498088776, "last_edit_date": 1498091443, "question_id": 44687895, "link": "https://stackoverflow.com/questions/44687895/read-data-from-arduino-and-add-timestamp", "title": "Read data from arduino and add timestamp", "body": "<p>I want to send data from arduino to computer by using serial. Then i want to record the time based on the current timestamp and i save it in the txt file. What should I do? Your suggestions are very useful to me.</p>\n\n<p>this my code on arduino: </p>\n\n<pre><code>#include &lt;DHT.h&gt;\n\n#define DHTPIN 2   \n#define DHTTYPE DHT11  \n\nDHT dht(DHTPIN, DHTTYPE);\n\nvoid setup(){\n    Serial.begin(9600);\n    dht.begin();\n}\nvoid loop(){\n    float hum = dht.readHumidity();\n    float temp= dht.readTemperature();\n\n    Serial.print(\"Humidity: \");\n    Serial.print(hum);\n    Serial.print(\" %, Temp: \");\n    Serial.print(temp);\n    Serial.println(\" Celsius\");\n    delay(2000);\n}\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1498088297, "post_id": 44687827, "comment_id": 76359707, "body": "What&#39;s your desired output?"}, {"owner": {"reputation": 85, "user_id": 1739581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe9a6aeae61e1f5143cac4265224d8df?s=128&d=identicon&r=PG", "display_name": "user1739581", "link": "https://stackoverflow.com/users/1739581/user1739581"}, "reply_to_user": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "edited": false, "score": 0, "creation_date": 1498089190, "post_id": 44687827, "comment_id": 76359916, "body": "@Allen: I have added the desired output"}], "answers": [{"tags": [], "owner": {"reputation": 16194, "user_id": 667883, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a39234ae82a5898cba1d70b5bff80ec3?s=128&d=identicon&r=PG", "display_name": "Allen", "link": "https://stackoverflow.com/users/667883/allen"}, "is_accepted": false, "score": 1, "last_activity_date": 1498091436, "creation_date": 1498091436, "answer_id": 44688240, "question_id": 44687827, "link": "https://stackoverflow.com/questions/44687827/pandas-find-groups-by-index-if-consecutively-numbered/44688240#44688240", "title": "Pandas: find groups by index if consecutively numbered", "body": "<p>First create a group key for rows belonging to the same group.</p>\n\n<pre><code>df['COL0'] = \\\n    (df.COL0.rolling(2,min_periods=1)\n        .apply(lambda x: x[-1] if int(x[-1]-x[0])!=1 else np.nan)\n        .ffill()\n    )\n</code></pre>\n\n<p>Then group by the key and find the start and end row and expand them as columns. Finally rename the columns.</p>\n\n<pre><code>df2 = \\\n    (df[['COL1','COL2']].groupby(df.COL0)\n        .apply(lambda x: np.array([x.iloc[0],x.iloc[-1]]).flatten())\n        .apply(pd.Series)\n        .rename_axis(lambda x: 'COL'+str(x+1),axis=1)\n    )\n\n\ndf2\nOut[178]: \n     COL1 COL2 COL3 COL4\nCOL0                    \n4.0     x    y    n    m\n14.0    f    a    e    b\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 1739581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe9a6aeae61e1f5143cac4265224d8df?s=128&d=identicon&r=PG", "display_name": "user1739581", "link": "https://stackoverflow.com/users/1739581/user1739581"}, "edited": false, "score": 0, "creation_date": 1498142922, "post_id": 44688357, "comment_id": 76388349, "body": "Thank you for your solution. What would be the best way to order columns of df_new, as currently they are not ordered?"}, {"owner": {"reputation": 85, "user_id": 1739581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe9a6aeae61e1f5143cac4265224d8df?s=128&d=identicon&r=PG", "display_name": "user1739581", "link": "https://stackoverflow.com/users/1739581/user1739581"}, "edited": false, "score": 0, "creation_date": 1498148707, "post_id": 44688357, "comment_id": 76392505, "body": "Thank you for the update on ordering: however, after applying df_new[[(&#39;COL0&#39;, &#39;first&#39;), (&#39;COL1&#39;, &#39;first&#39;), etc.]] following agg function, the columns remain unordered?"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 85, "user_id": 1739581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe9a6aeae61e1f5143cac4265224d8df?s=128&d=identicon&r=PG", "display_name": "user1739581", "link": "https://stackoverflow.com/users/1739581/user1739581"}, "edited": false, "score": 0, "creation_date": 1498150898, "post_id": 44688357, "comment_id": 76393775, "body": "What exactly do you mean by &#39;applying&#39;?  You are explicitly selecting the columns in the order you choose."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1498146929, "last_edit_date": 1498146929, "creation_date": 1498092460, "answer_id": 44688357, "question_id": 44687827, "link": "https://stackoverflow.com/questions/44687827/pandas-find-groups-by-index-if-consecutively-numbered/44688357#44688357", "title": "Pandas: find groups by index if consecutively numbered", "body": "<p>Not exactly your desired output, but perhaps more intuitive?</p>\n\n<p>I create a column named <code>group_no</code> to label the consecutive values from <code>COL0</code>.  I differenced the columns, located values where this difference was not one, and then did a cumsum on the result.  The first element is ambiguous (it is NaN when differenced, so I check if its value plus one equals the second value.  If so, the first value is continuous and assigned a value of 1.  If not, it is not continuous and assigned a value of 0.</p>\n\n<pre><code>df = df.assign(group_no = (df.COL0.diff() != 1).cumsum())\ndf.group_no.iat[0] = 1 if df.COL0.iat[0] + 1 == df.COL0.iat[1] else 0\ndf_new = df.groupby('group_no').agg(\n    {'COL0': ['first'], \n     'COL1': ['first', 'last'], \n     'COL2': ['first', 'last']})\n&gt;&gt;&gt; df_new\n          COL2       COL0  COL1     \n         first last first first last\ngroup_no                            \n1            y    m     4     x    n\n2            a    b    14     f    e\n</code></pre>\n\n<p>The <code>agg</code> function takes a dictionary, so the resulting order of the columns can be arbitrary.  To order the resulting columns, you could do it explicitly, e.g.:</p>\n\n<pre><code>df_new[[('COL0', 'first'),\n        ('COL1', 'first'),\n        ('COL1', 'last'),\n        ('COL2', 'first'),\n        ('COL2', 'last')]]\n</code></pre>\n\n<p>This may also work:</p>\n\n<pre><code>n = 3  # First three columns of original dataframe.\ndf_new.loc[:, pd.IndexSlice[df.columns[:n], :]]  \n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 1739581, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe9a6aeae61e1f5143cac4265224d8df?s=128&d=identicon&r=PG", "display_name": "user1739581", "link": "https://stackoverflow.com/users/1739581/user1739581"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 267, "favorite_count": 0, "accepted_answer_id": 44688357, "answer_count": 2, "score": 1, "last_activity_date": 1498146929, "creation_date": 1498088223, "last_edit_date": 1498090826, "question_id": 44687827, "link": "https://stackoverflow.com/questions/44687827/pandas-find-groups-by-index-if-consecutively-numbered", "title": "Pandas: find groups by index if consecutively numbered", "body": "<p>I am trying to find a list of tuples with start and end values (i.e. rows) from a df2 dataframe looking over the index (the first or zero column df2[0]). df2 example:</p>\n\n<pre><code>COL0  COL1 COL2\n  4    x    y    # start 'tuple x' of COL1\n  5    i    j\n  6    n    m    # end 'tuple n'\n 14    f    a    # start 'tuple f'\n 15    e    b    # end 'tuple e'\n ...\n</code></pre>\n\n<p>So COL0 consecutive values will form a group. If the next row is not consecutive (e.g. 6-14) then a new group starts. A selection could be the following:</p>\n\n<pre><code>Crit_a = df2[0][0] + 1 == df2[0][1]\n</code></pre>\n\n<p>As output, I am looking for a new df3 with per row the following:</p>\n\n<pre><code>COL0  COL1 COL2 COL3 COL4 ...\n  4    x    y    n    m   # start values and end values of COL1 and COL2\n 14    f    a    e    b\n</code></pre>\n\n<p>I was looking at SO <a href=\"https://stackoverflow.com/questions/42308197/python-pandas-find-consecutive-group-with-max-aggregate-values\">here</a> and other locations. \nThank you for you suggestions.</p>\n"}, {"tags": ["python", "flask", "sqlalchemy", "flask-sqlalchemy", "flask-wtforms"], "answers": [{"comments": [{"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1498102264, "post_id": 44689404, "comment_id": 76362929, "body": "OK that makes sense. I added a check if the request method was GET and only populate fields initially if so. Then I only validate on POST method. Seems to be working mostly fine now. Thanks!"}], "tags": [], "owner": {"reputation": 7932, "user_id": 1164104, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4584a376a0c422377280586120494bbd?s=128&d=identicon&r=PG", "display_name": "Doobeh", "link": "https://stackoverflow.com/users/1164104/doobeh"}, "is_accepted": true, "score": 2, "last_activity_date": 1498100313, "creation_date": 1498100313, "answer_id": 44689404, "question_id": 44687772, "link": "https://stackoverflow.com/questions/44687772/sqlalchemy-not-updating-record/44689404#44689404", "title": "SQLAlchemy not updating record", "body": "<p>Remember, the code before the <code>if form.validate_on_submit</code> is still executed when a form is submitted-- and in that code you're overriding the form-data with data from the database.</p>\n\n<p>Lets pretend that the user has changed their email from 'old@foo.com' to 'new@foo.com' on the submitted form-- this is the code that will execute if we fall down the form is valid branch:</p>\n\n<pre><code>user = User.query.get_or_404(user_id)\nform = EditUserForm()\nform.username.data = user.username\n# at this point form.email.data would be 'new@foo.com' but....\nform.email.data = user.email # we then override it with 'old@foo.com'\nform.first_name.data = user.first_name\nform.last_name.data = user.last_name\nuser.email = form.email.data # read 'old@foo.com' from the data (since we over-rode it above)\nuser.first_name = form.first_name.data\nuser.last_name = form.last_name.data\ndb.session.commit().\nflash(\"Updated user '{}'\".format(user.username))\nreturn redirect(url_for(\"user\"))\n</code></pre>\n\n<p>So the <code>new@foo.com</code> data gets destroyed before the form is even validated.  So when you update, you're just updating with the already-stored values.</p>\n"}], "owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2181, "favorite_count": 0, "accepted_answer_id": 44689404, "answer_count": 1, "score": 0, "last_activity_date": 1498100313, "creation_date": 1498087917, "last_edit_date": 1498093741, "question_id": 44687772, "link": "https://stackoverflow.com/questions/44687772/sqlalchemy-not-updating-record", "title": "SQLAlchemy not updating record", "body": "<p>I'm not getting any errors, it just isn't updating the record. I am editing the User record and saving individual fields (I can't use <code>populate_obj()</code> because I am only updating a select few fields but after <code>db.session.commit()</code>, it still does not update the table.</p>\n\n<pre><code>@app.route(\"/user/edit/&lt;int:user_id&gt;\", methods=[\"GET\", \"POST\"])\n@login_required\ndef edit_user(user_id):\n    user = User.query.get_or_404(user_id)\n    form = EditUserForm()\n    form.username.data = user.username\n    form.email.data = user.email\n    form.first_name.data = user.first_name\n    form.last_name.data = user.last_name\n    if form.validate_on_submit():\n        user.email = form.email.data\n        user.first_name = form.first_name.data\n        user.last_name = form.last_name.data\n        db.session.commit()\n        flash(\"Updated user '{}'\".format(user.username))\n        return redirect(url_for(\"user\"))\n    return render_template(\"user_edit_form.html\", form=form, action=\"Edit\", user_id=user_id)\n</code></pre>\n\n<p>It even redirects flashes the message that it updated the record but nothing is written to the mysql database by sqlachemy.</p>\n\n<p>Adding <code>db.session.flush()</code> after <code>commit()</code> makes no difference, nor does adding user to the session prior to the commit (<code>db.session.add(user)</code>).</p>\n\n<p>How do I update the record?</p>\n"}, {"tags": ["python", "performance", "numpy", "data-science", "masked-array"], "comments": [{"owner": {"reputation": 28612, "user_id": 7954504, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/6POkt.jpg?s=128&g=1", "display_name": "Brad Solomon", "link": "https://stackoverflow.com/users/7954504/brad-solomon"}, "edited": false, "score": 1, "creation_date": 1498090802, "post_id": 44687770, "comment_id": 76360270, "body": "Ideally, what would be the structure of your output after cutting all non-valid entries?  Have you checked this overview on <a href=\"https://docs.scipy.org/doc/numpy/reference/maskedarray.generic.html#accessing-only-the-valid-entries\" rel=\"nofollow noreferrer\">Accessing only the valid entries</a>?"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498102756, "post_id": 44687770, "comment_id": 76363056, "body": "compressed returns 1d because the number values per row or column isn&#39;t consistent.  fill is another way of &#39;removing&#39; the masked values."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 8971682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfee340dadd751b02e743fc14d76998?s=128&d=identicon&r=PG&f=1", "display_name": "Ren&#233;", "link": "https://stackoverflow.com/users/8971682/ren%c3%a9"}, "is_accepted": false, "score": 4, "last_activity_date": 1544538912, "last_edit_date": 1544538912, "creation_date": 1511187667, "answer_id": 47394216, "question_id": 44687770, "link": "https://stackoverflow.com/questions/44687770/get-non-masked-values-in-numpys-masked-arrays/47394216#47394216", "title": "Get non-masked values in Numpys Masked arrays", "body": "<p>To get the non-masked data in Python you can use the <code>.mask</code> tool</p>\n\n<p>Suppose you have the following dataset:</p>\n\n<pre><code>data = [[0.0 1.0 -- --]\n       [2.0 3.0 -- --]]\n</code></pre>\n\n<p>You can obtain the non-masked data while getting all the indices which are <code>False</code> by the <code>data.mask</code> command. </p>\n\n<pre><code>data = data[data.mask == False]\n</code></pre>\n\n<p>Note that this will give you 1D-array of all the input</p>\n\n<pre><code>data -&gt; [0.0 1.0 2.0 3.0]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1891, "user_id": 1330237, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KMl8T.jpg?s=128&g=1", "display_name": "ccbunney", "link": "https://stackoverflow.com/users/1330237/ccbunney"}, "is_accepted": false, "score": 2, "last_activity_date": 1579528600, "creation_date": 1579528600, "answer_id": 59824800, "question_id": 44687770, "link": "https://stackoverflow.com/questions/44687770/get-non-masked-values-in-numpys-masked-arrays/59824800#59824800", "title": "Get non-masked values in Numpys Masked arrays", "body": "<p>If you want to remove rows that have any/all masked data:</p>\n\n<pre><code>data = data[~data.mask.any(axis=1)]\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 6216695, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a40ee39b35e47bf275a9960a560d1d2f?s=128&d=identicon&r=PG&f=1", "display_name": "neulaender", "link": "https://stackoverflow.com/users/6216695/neulaender"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5740, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1579528600, "creation_date": 1498087905, "question_id": 44687770, "link": "https://stackoverflow.com/questions/44687770/get-non-masked-values-in-numpys-masked-arrays", "title": "Get non-masked values in Numpys Masked arrays", "body": "<p>I'm trying to extract data from netCDF4 files. These contain \"MaskedArrays\" which are part of the Numpy library.</p>\n\n<p>My Data contains: <em>latitude</em>, <em>longitude</em>, <em>day</em> and <em>values</em> (separated over different files).\nAdditionally a mask which shows, which latitude/longitudes are not valid for various reasons (no measurements, or other reasons).</p>\n\n<p>My data looks like this (for masked data):</p>\n\n<pre><code>masked_array(\n    data =\n     [[[-- -- -- ..., -- -- --]\n        ..., \n       [-- -- -- ..., -- -- --]]],\n    mask =\n     [[[ True  True  True ...,  True  True  True]\n        ...,\n       [ True  True  True ...,  True  True  True]]],\n    fill_value = 32767)\n</code></pre>\n\n<p>I'm searching for a numpy method (or similar), which can extract only these values which are not masked. Ideally just by cutting all non-valid entries out of the dataset.\nI found <code>.compressed</code>, but it gives a one dimensional array back. From the 3rd dimension this is quite a loss of information as I don't know, where these values are.</p>\n\n<p>Additionally I tried <code>nonzero = the_array['one of the values'][0].nonzero()</code>. \nThis gives me a double array with lat/lon values, but after that I still have to access these - which is slow. Unfortunately after knowing how to access all this date I need to do that on 30*6 files each with ~1500\u00d7700\u00d7365 datapoints :D.</p>\n\n<pre><code>all_days = [(x, rhstmax['stuff'][x][24][1288]) for x in range(366)]\n# represents just for lat:24,lon:1288 all days. First 20:\nall_days[:20] =\n    [(0, 15.799999),\n     (1, 16.199999),\n     (2, 17.4),\n     (3, 13.2),\n     (4, 10.8),\n     (5, 11.3),\n     (6, 15.299999),\n     (7, 16.299999),\n     (8, 14.099999),\n     (9, 10.8),\n     (10, 9.5),\n     (11, 9.0999994),\n     (12, 11.9),\n     (13, 9.1999998),\n     (14, 31.0),\n     (15, 49.0),\n     (16, 8.6999998),\n     (17, 10.0),\n     (18, 44.099998),\n     (19, 30.699999)]\n# ... takes forever :(\n</code></pre>\n"}, {"tags": ["python", ".net", "vb.net", "python-3.x", "python.net"], "comments": [{"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498102356, "post_id": 44687681, "comment_id": 76362953, "body": "What does <code>tt.Initialize.Overloads</code> show?"}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498141408, "post_id": 44687681, "comment_id": 76387120, "body": "The problem is optional byref arguments - not supported in c#, hence not in pythonnet: <a href=\"https://stackoverflow.com/questions/2870544/c-sharp-4-0-optional-out-ref-arguments\" title=\"c sharp 4 0 optional out ref arguments\">stackoverflow.com/questions/2870544/&hellip;</a>"}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498141481, "post_id": 44687681, "comment_id": 76387191, "body": "the only workaround is to use reflection like this: <a href=\"https://stackoverflow.com/a/9916197/2230844\">stackoverflow.com/a/9916197/2230844</a>"}, {"owner": {"reputation": 147, "user_id": 5432390, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4b2c90a6c41a40bfca6e0944ecc9af7?s=128&d=identicon&r=PG&f=1", "display_name": "A Saxena", "link": "https://stackoverflow.com/users/5432390/a-saxena"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498152861, "post_id": 44687681, "comment_id": 76394805, "body": "@denfromufa I tried a few things like      tt.Initialize(calDBPath, seqDBPath, measDBPath, form, Type.Missing,               Type.Missing, Type.Missing), but this is not working and I can see why. Can you post a small piece of code illustrating what you think will work."}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498153699, "post_id": 44687681, "comment_id": 76395244, "body": "you need to provide minimal vb.net code to call this from pythonnet"}, {"owner": {"reputation": 147, "user_id": 5432390, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4b2c90a6c41a40bfca6e0944ecc9af7?s=128&d=identicon&r=PG&f=1", "display_name": "A Saxena", "link": "https://stackoverflow.com/users/5432390/a-saxena"}, "reply_to_user": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498154150, "post_id": 44687681, "comment_id": 76395514, "body": "Oh I see, you are saying that the edit needs to happen on vb side. Sadly I do not have access to source code of DLL, we just got the DLL. I guess this rules out pythonnet for now. Now I will give it a shot with ironPython."}, {"owner": {"reputation": 4957, "user_id": 2230844, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/1b0e722a4823f29c56d7a97bc6500ccc?s=128&d=identicon&r=PG", "display_name": "denfromufa", "link": "https://stackoverflow.com/users/2230844/denfromufa"}, "edited": false, "score": 0, "creation_date": 1498178787, "post_id": 44687681, "comment_id": 76405566, "body": "Ok, let us know if it works with IronPython. But with Reflection this should work in pythonnet"}], "owner": {"reputation": 147, "user_id": 5432390, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f4b2c90a6c41a40bfca6e0944ecc9af7?s=128&d=identicon&r=PG&f=1", "display_name": "A Saxena", "link": "https://stackoverflow.com/users/5432390/a-saxena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2116, "favorite_count": 1, "answer_count": 0, "score": 6, "last_activity_date": 1511464755, "creation_date": 1498087176, "last_edit_date": 1511464755, "question_id": 44687681, "link": "https://stackoverflow.com/questions/44687681/calling-net-library-function-from-python", "title": "Calling .NET library function from Python", "body": "<p>I am almost at the end of my wits here and am hoping you all could help me figure this one out. I am running Anaconda Python 3.5 64 bit and compiled Python.NET anaconda package to add .NET capabilities to Python. I imported a DLL sent to me by someone and here is how my code looks like:</p>\n\n<pre><code>from __future__ import (\n    unicode_literals,\n    print_function,\n    division,\n    absolute_import\n)\n\nimport clr\n\nfrom System import String, Char, Int32\n\nclr.setPreload(True)\n\nclr.AddReference('System.Windows.Forms')\n\nclr.AddReference(\n        \"C:\\\\Program Files\\\\XYZ\\\\TTE.dll\"\n)\n\nimport TTE\n\nfrom System.Windows.Forms import Form, Application, Button\nimport System\n\ntt = TTE.TT()\n\nform = Form()\n# declaring string (not python native string) to get System.String\ncdbp = String('C:\\\\')\nsdbp = String('C:\\\\')\nmdbp = String('C:\\\\')\n\ntt.Initialize(cdbp, sdbp, mdbp, form)\n\n'''\ntt.Initialize.Overloads[\n    System.String, System.String, System.String, System.Windows.Forms.Form](\n        cdbp, sdbp, mdbp, form\n)\n'''\n</code></pre>\n\n<p>When I run the Initialize function, I get the following exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/as/All/Code/try1.py\", line 257, in &lt;module&gt;\n    tt.Initialize(cdbp, sdbp, mdbp, form)\nSystem.ArgumentException: Object of type 'System.Int32' cannot be converted to type 'TTE.TT+ResultEnum&amp;'.\n   at System.RuntimeType.TryChangeType(Object value, Binder binder, CultureInfo culture, Boolean needsSpecialCast)\n   at System.RuntimeType.CheckValue(Object value, Binder binder, CultureInfo culture, BindingFlags invokeAttr)\n   at System.Reflection.MethodBase.CheckArguments(Object[] parameters, Binder binder, BindingFlags invokeAttr, CultureInfo culture, Signature sig)\n   at System.Reflection.RuntimeMethodInfo.InvokeArgumentsCheck(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)\n   at Python.Runtime.MethodBinder.Invoke(IntPtr inst, IntPtr args, IntPtr kw, MethodBase info, MethodInfo[] methodinfo)\n</code></pre>\n\n<p>I am fairly new to .NET and have tried googling and looking at all the stack overflow posts related to Python.NET but I dis not find the information I am looking for. Another curious thing is that the same DLL works when used in VB and fails when used in python. Why would that be?</p>\n\n<p>I thought the problem was with Python.NET thinking that I am calling a different (overloaded) function named Initialize so I tried the Overloads call (in comment) and it gave me the following exception:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:/Users/as/All/Code/try1.py\", line 261, in &lt;module&gt;\nSystem.Windows.Forms.Form](cdbp, sdbp,\nTypeError: No match found for signature\n</code></pre>\n\n<p>Then as per recommendation, I printed the Overload and here is the output</p>\n\n<pre><code>Int32 Initialize(System.String ByRef, System.String ByRef, System.String ByRef, System.Windows.Forms.Form, ResultEnum ByRef, ResultEnum ByRef, ResultEnum ByRef)\nInt32 Initialize(System.Collections.Specialized.StringCollection ByRef, System.String ByRef, System.String ByRef, System.Windows.Forms.Form, ResultEnum ByRef, ResultEnum ByRef, ResultEnum ByRef)\nInt32 Initialize(System.Collections.Generic.List`1[System.String] ByRef, System.String ByRef, System.String ByRef, System.Windows.Forms.Form, ResultEnum ByRef, ResultEnum ByRef, ResultEnum ByRef)\n</code></pre>\n\n<p>I can clearly see why Overload is complaining, but the VB function Initialize I am targeting has declared the last three ResultEnum parameters as optional, but Python clearly requires it. </p>\n\n<p>Is there a particular direction I should be looking in?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 508, "user_id": 3209904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb8ccdb13e0611420ea38a4dede780d?s=128&d=identicon&r=PG&f=1", "display_name": "bbastu", "link": "https://stackoverflow.com/users/3209904/bbastu"}, "edited": false, "score": 1, "creation_date": 1498087317, "post_id": 44687678, "comment_id": 76359427, "body": "Can you post what you tried so far? You should have a look at <code>=</code> and list comprehensions."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 1, "creation_date": 1498087579, "post_id": 44687678, "comment_id": 76359508, "body": "if you converted all of them to tuples with <code>a = list(map(tuple, a))</code> etc. then you&#39;d just do <code>c = set(a) | set(b)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1498087959, "post_id": 44687744, "comment_id": 76359609, "body": "They want the symmetric difference, not the union, so <code>set(a)  ^ set(b)</code> if you want to stick with those operators. Although the example output seems to be mistaken, so it&#39;s ambiguous."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498088570, "post_id": 44687744, "comment_id": 76359768, "body": "the expected output shows the union - one of every unique element that appears collectively in both collections.  The OP shows that they tried <code>symmetric_difference</code> and it didn&#39;t work, I assume because it&#39;s the union they want."}, {"owner": {"reputation": 157, "user_id": 1581264, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e1c0d281eea7ac431fa7abbc85b4f8db?s=128&d=identicon&r=PG", "display_name": "Abdelrahman AlMahmoud", "link": "https://stackoverflow.com/users/1581264/abdelrahman-almahmoud"}, "edited": false, "score": 0, "creation_date": 1498163490, "post_id": 44687744, "comment_id": 76400641, "body": "The output should contain elements that appear in both a and b. It should also add repetitions into the output. Please check the edit."}, {"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "reply_to_user": {"reputation": 157, "user_id": 1581264, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e1c0d281eea7ac431fa7abbc85b4f8db?s=128&d=identicon&r=PG", "display_name": "Abdelrahman AlMahmoud", "link": "https://stackoverflow.com/users/1581264/abdelrahman-almahmoud"}, "edited": false, "score": 0, "creation_date": 1515867800, "post_id": 44687744, "comment_id": 83468301, "body": "@AbdelrahmanAlMahmoud sorry I didn&#39;t initially see your edit, I have updated the post with info about <code>Counter</code>, I hope it now solves your issue"}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": true, "score": 3, "last_activity_date": 1515867512, "last_edit_date": 1515867512, "creation_date": 1498087694, "answer_id": 44687744, "question_id": 44687678, "link": "https://stackoverflow.com/questions/44687678/removing-a-list-of-lists-from-another/44687744#44687744", "title": "Removing a list of lists from another", "body": "<p>If you first convert each pair to a tuple with something like this:</p>\n\n<pre><code>a = [tuple(item) for item in a]\nb = [tuple(item) for item in b]\n</code></pre>\n\n<p>then you can simply take the set <code>union</code> between the two:</p>\n\n<pre><code>c = set(a).union(b)\n</code></pre>\n\n<p>This will give you a set with one of each pair that appears at least once in either or both collections:</p>\n\n<pre><code>&gt;&gt;&gt; c\n{(1.0, 2.0), (3.0, 4.0), (2.0, 3.0), (1.0, 4.0)}\n</code></pre>\n\n<p>If you want this behaviour keeping multiples then simply substitute <a href=\"https://docs.python.org/3.7/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>Counter</code></a> for <code>set</code>, then you can get them all back in one collection with <a href=\"https://docs.python.org/3.7/library/collections.html#collections.Counter.elements\" rel=\"nofollow noreferrer\"><code>.elements()</code></a></p>\n\n<pre><code>from collections import Counter\na = [[2.0, 3.0], [1.0, 2.0] , [2.0, 3.0]]\nb = [[1.0, 4.0], [2.0, 3.0] , [3.0, 4.0], [2.0, 3.0]]\na1 = Counter(map(tuple,a))\nb1 = Counter(map(tuple,a))\nc = a1 | b1\n\n&gt;&gt;&gt; c\nCounter({(2.0, 3.0): 2, (1.0, 2.0): 1, (1.0, 4.0): 1, (3.0, 4.0): 1})\n&gt;&gt;&gt; list(c.elements())\n[(2.0, 3.0), (2.0, 3.0), (1.0, 2.0), (1.0, 4.0), (3.0, 4.0)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "is_accepted": false, "score": 1, "last_activity_date": 1498090574, "last_edit_date": 1498090574, "creation_date": 1498089976, "answer_id": 44688059, "question_id": 44687678, "link": "https://stackoverflow.com/questions/44687678/removing-a-list-of-lists-from-another/44688059#44688059", "title": "Removing a list of lists from another", "body": "<p>This solution may not be efficient, but may give the result:</p>\n\n<pre><code>a = [[2.0, 3.0], [1.0, 2.0] , [2.0, 3.0]]\nb = [[1.0, 4.0], [2.0, 3.0] , [3.0, 4.0]]\nc = []\n\nfor item in a:\n    if item not in c:\n        c.append(item)\n\nfor item in b:        \n    if item not in c:\n        c.append(item)\n\nprint(c)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[2.0, 3.0], [1.0, 2.0], [1.0, 4.0], [3.0, 4.0]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3627, "user_id": 1753919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m9UUd.jpg?s=128&g=1", "display_name": "plasmon360", "link": "https://stackoverflow.com/users/1753919/plasmon360"}, "is_accepted": false, "score": 0, "last_activity_date": 1498090535, "creation_date": 1498090535, "answer_id": 44688122, "question_id": 44687678, "link": "https://stackoverflow.com/questions/44687678/removing-a-list-of-lists-from-another/44688122#44688122", "title": "Removing a list of lists from another", "body": "<p>Alternatively, you could use itertools groupby</p>\n\n<pre><code>a = [[2.0, 3.0], [1.0, 2.0] , [2.0, 3.0]]\nb = [[1.0, 4.0], [2.0, 3.0] , [3.0, 4.0]]\n\nimport itertools\nc = [k for k,g in itertools.groupby(sorted(a+b))]\n\nwill result in\n\n[[1.0, 2.0], [1.0, 4.0], [2.0, 3.0], [3.0, 4.0]]\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 1581264, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/e1c0d281eea7ac431fa7abbc85b4f8db?s=128&d=identicon&r=PG", "display_name": "Abdelrahman AlMahmoud", "link": "https://stackoverflow.com/users/1581264/abdelrahman-almahmoud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 542, "favorite_count": 0, "accepted_answer_id": 44687744, "answer_count": 3, "score": 1, "last_activity_date": 1515867512, "creation_date": 1498087128, "last_edit_date": 1498163433, "question_id": 44687678, "link": "https://stackoverflow.com/questions/44687678/removing-a-list-of-lists-from-another", "title": "Removing a list of lists from another", "body": "<p>I want to remove elements if it appears in a and b (not all occurrences of it)</p>\n\n<pre><code>a = [[2.0, 3.0], [1.0, 2.0] , [2.0, 3.0]]\nb = [[1.0, 4.0], [2.0, 3.0] , [3.0, 4.0]]\n</code></pre>\n\n<p>Expected output</p>\n\n<pre><code>c = [[1.0, 2.0], [2.0, 3.0], [1.0, 4.0], [3.0, 4.0]]\n</code></pre>\n\n<p>If a point appears twice in a and twice in b then the output should contain the point twice</p>\n\n<pre><code>a = [[2.0, 3.0], [1.0, 2.0] , [2.0, 3.0]]\nb = [[1.0, 4.0], [2.0, 3.0] , [3.0, 4.0], [2.0, 3.0]]\n</code></pre>\n\n<p>Expected output</p>\n\n<pre><code>c = [[1.0, 2.0], [2.0, 3.0], [1.0, 4.0], [3.0, 4.0], [2.0, 3.0]]\n</code></pre>\n\n<p>I have tried </p>\n\n<pre><code> first_set = set(map(tuple, a))\n secnd_set = set(map(tuple, b))\n\n first_set.symmetric_difference(secnd_set)\n</code></pre>\n\n<p>But this takes into account elements within a or b themselves.</p>\n\n<p>Edited: a second example for clarification</p>\n"}, {"tags": ["python", "json"], "comments": [{"owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "edited": false, "score": 2, "creation_date": 1498087093, "post_id": 44687651, "comment_id": 76359374, "body": "which line gives that error? Please include the entire traceback please."}, {"owner": {"reputation": 10872, "user_id": 3135417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b989009ea961e780793f80ea6d53240?s=128&d=identicon&r=PG&f=1", "display_name": "Abdou", "link": "https://stackoverflow.com/users/3135417/abdou"}, "edited": false, "score": 0, "creation_date": 1498087299, "post_id": 44687651, "comment_id": 76359420, "body": "It&#39;s likely <code>pd. read_json</code>. That file of yours may not be a good json file. Try using the <code>json</code> module to load it first and then make a dataframe from there."}, {"owner": {"reputation": 65, "user_id": 8196851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634311f385bafc8d868e0d23137cedd7?s=128&d=identicon&r=PG&f=1", "display_name": "VeryMary", "link": "https://stackoverflow.com/users/8196851/verymary"}, "edited": false, "score": 0, "creation_date": 1498145142, "post_id": 44687651, "comment_id": 76390087, "body": "I tried to load it with json first and then make a pandas dataframe, but although the document definitely is there and i tried hundrets of inputs for the path i still get      <code>with open(path) as log_file:</code> <code>FileNotFoundError: [Errno 2] No such file or directory: &#39;..\\\\data\\\\db_complete.log&#39;</code>"}], "owner": {"reputation": 65, "user_id": 8196851, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634311f385bafc8d868e0d23137cedd7?s=128&d=identicon&r=PG&f=1", "display_name": "VeryMary", "link": "https://stackoverflow.com/users/8196851/verymary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2295, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1585682991, "creation_date": 1498086960, "last_edit_date": 1585682991, "question_id": 44687651, "link": "https://stackoverflow.com/questions/44687651/valueerror-expected-object-or-value-when-using-panda-ro-read-json-file", "title": "ValueError: Expected object or value when using Panda ro read json file", "body": "<p>I'm trying to read a json file with Pandas</p>\n\n<pre><code>import pandas as pd\n\n\nsns.set(style=\"whitegrid\", color_codes=True)\n\npath = \"../data/db_complete.log\"\ndf = pd.read_json(path, orient='records', lines=True)\n\nlift_df = df.loc[:, [\"aisle\", \"lift_finish_retrieve_time\"]]\ninterval = 3600\n\ndf_order = df[[\"parent_order\", \"release\", \"shuttle_start_retrieve_time\",\"finish_pick_time\"]]\n\nprint(df.columns)\n</code></pre>\n\n<p>When i run it, i get this Error Message:</p>\n\n<pre><code>ValueError: Expected object or value\n</code></pre>\n\n<p>I already tried to change the format of the given path in several ways, it never worked...</p>\n"}, {"tags": ["python", "string", "int"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 2, "creation_date": 1498086759, "post_id": 44687609, "comment_id": 76359289, "body": "At least one item is an empty string."}, {"owner": {"reputation": 821764, "user_id": 893, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/747ffa5da3538e66840ebc0548b8fd58?s=128&d=identicon&r=PG", "display_name": "Greg Hewgill", "link": "https://stackoverflow.com/users/893/greg-hewgill"}, "edited": false, "score": 0, "creation_date": 1498086803, "post_id": 44687609, "comment_id": 76359298, "body": "I would guess what&#39;s happening is you&#39;re reading the list from a file, and the last entry is an empty line. Can you post a <a href=\"http://sscce.org\" rel=\"nofollow noreferrer\"><i>complete</i></a> example that demonstrates the problem?"}, {"owner": {"reputation": 337, "user_id": 7347169, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44dJ2yAupF0/AAAAAAAAAAI/AAAAAAAAAB8/yIL2R8MZIko/photo.jpg?sz=128", "display_name": "Sam Carpenter", "link": "https://stackoverflow.com/users/7347169/sam-carpenter"}, "edited": false, "score": 0, "creation_date": 1498086855, "post_id": 44687609, "comment_id": 76359311, "body": "It indeed is! I used the split() method, and accidentally split it one time too many. Thanks for your help!"}, {"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1498087091, "post_id": 44687609, "comment_id": 76359373, "body": "Note that you can use the <code>sum(..)</code> builtin with a generator, making it more declarative and a one-liner."}], "answers": [{"tags": [], "owner": {"reputation": 184, "user_id": 6800998, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2bc84759ab0eee320fead3b71bb71a2f?s=128&d=identicon&r=PG&f=1", "display_name": "john ", "link": "https://stackoverflow.com/users/6800998/john"}, "is_accepted": true, "score": 1, "last_activity_date": 1498087236, "creation_date": 1498087236, "answer_id": 44687688, "question_id": 44687609, "link": "https://stackoverflow.com/questions/44687609/python-cannot-convert-string-containing-only-numbers-to-an-int/44687688#44687688", "title": "Python - cannot convert string containing only numbers to an int", "body": "<p>Type casting as <code>int</code>can only be used if the passed string is valid. For eg. <code>int('5')</code> is valid but <code>int('apple')</code> is not.</p>\n\n<p>The error is kind of self explanatory. The the parameter supplied to convert it to an integer is invalid. IF it was particular string it would have displayed that. Blank quotes would generally mean its an empty string you are trying to convert. It s good you have found the error yourself. generally the description of the error is a good pointer to what is wrong.</p>\n\n<p>Good luck</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8196770, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zKkW-Clw0G0/AAAAAAAAAAI/AAAAAAAAAj4/FhMfdEvbZyk/photo.jpg?sz=128", "display_name": "Jayakumar M", "link": "https://stackoverflow.com/users/8196770/jayakumar-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1498087891, "creation_date": 1498087891, "answer_id": 44687768, "question_id": 44687609, "link": "https://stackoverflow.com/questions/44687609/python-cannot-convert-string-containing-only-numbers-to-an-int/44687768#44687768", "title": "Python - cannot convert string containing only numbers to an int", "body": "<pre><code>new_list = filter(None, list)\nlisSum = sum(map(int,new_list ))\n</code></pre>\n\n<p><em>hope this is what your expecting</em></p>\n"}], "owner": {"reputation": 337, "user_id": 7347169, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-44dJ2yAupF0/AAAAAAAAAAI/AAAAAAAAAB8/yIL2R8MZIko/photo.jpg?sz=128", "display_name": "Sam Carpenter", "link": "https://stackoverflow.com/users/7347169/sam-carpenter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 842, "favorite_count": 0, "accepted_answer_id": 44687688, "answer_count": 2, "score": 0, "last_activity_date": 1498087891, "creation_date": 1498086680, "last_edit_date": 1498086921, "question_id": 44687609, "link": "https://stackoverflow.com/questions/44687609/python-cannot-convert-string-containing-only-numbers-to-an-int", "title": "Python - cannot convert string containing only numbers to an int", "body": "<p>I have about a hundred numbers contained as strings in a list, and I need to add all of them together. To do this, I'm using the following code - </p>\n\n<pre><code>for item in listo:\n    sumo += int(item)\n</code></pre>\n\n<p>I'm getting a ValueError that says:</p>\n\n<pre><code>ValueError: invalid literal for int() with base 10: ''\n</code></pre>\n\n<p>I don't know what causes this particular error, rather than just the error that says that the string couldn't be converted to an int. Does anyone know what the problem is, and how to fix it?</p>\n\n<p>EDIT - I found the error! I used the .split() method, and I accidentally added one too many period, creating an empty string.</p>\n"}, {"tags": ["python", "algorithm", "clique"], "comments": [{"owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "edited": false, "score": 2, "creation_date": 1498087428, "post_id": 44687589, "comment_id": 76359458, "body": "Probably this question is better off <a href=\"https://math.stackexchange.com\">here</a>."}, {"owner": {"reputation": 35094, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "reply_to_user": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "edited": false, "score": 2, "creation_date": 1498090728, "post_id": 44687589, "comment_id": 76360253, "body": "@RodrigoDorantes-Gilardi Definitely not math.  CS, maybe, but not math."}, {"owner": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498144017, "post_id": 44687589, "comment_id": 76389258, "body": "The answers so far talk about maxim<b>al</b> ( = &quot;ungrowable&quot;) cliques, which are not the same thing as maxim<b>um</b> ( = &quot;largest possible&quot;) cliques.  Nevertheless your problem is NP-hard, since if there was an algorithm for solving it efficiently, we could also solve any instance of the NP-hard (Maximum) Clique problem simply by adding one more vertex, linking it to every other vertex, and then calling the algorithm that solves your problem efficiently."}, {"owner": {"reputation": 53, "user_id": 8196803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0450f1bf4a498d05d1477c861edb6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Si Chen", "link": "https://stackoverflow.com/users/8196803/si-chen"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498146390, "post_id": 44687589, "comment_id": 76391003, "body": "@j_random_hacker, thanks. My friend showed me a counterexample of my method. It can still miss some maximum cliques."}, {"owner": {"reputation": 431, "user_id": 2127439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2951fa2e2a4b11f08750be564beb5af9?s=128&d=identicon&r=PG", "display_name": "wolfmanx", "link": "https://stackoverflow.com/users/2127439/wolfmanx"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1597861552, "post_id": 44687589, "comment_id": 112274357, "body": "Rephrasing @j_random_hacker &#39;s comment, your problem of finding a maxim<b>al</b> clique in G containing a specific node N is equivalent to finding the maxim<b>um</b> clique of the subgraph G&#39; containing node N and all nodes connected to N. So the problem remains NP-Hard. However, it is better to work with the subgraph than enumerating all maxim<b>al</b> cliques of the entire graph."}], "answers": [{"comments": [{"owner": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498143866, "post_id": 44692633, "comment_id": 76389134, "body": "The OP needs a maxim<b>um</b> ( = largest possible) clique in this subgraph. A maxim<b>al</b> clique C is just one that can&#39;t be grown by adding more vertices; a different clique (that leaves out some of the vertices in C) could have more vertices in total."}, {"owner": {"reputation": 53, "user_id": 8196803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0450f1bf4a498d05d1477c861edb6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Si Chen", "link": "https://stackoverflow.com/users/8196803/si-chen"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498146557, "post_id": 44692633, "comment_id": 76391133, "body": "@j_random_hacker. It&#39;s true that maximal and maximum cliques are different things, but I think finding all maximal cliques is a way to solve my problem because after finding them, you can sorting the cliques containing A by size and pick up the largest one, though this involves much redundant calculation."}, {"owner": {"reputation": 1307, "user_id": 5823050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/I2MUl.png?s=128&g=1", "display_name": "CaptainTrunky", "link": "https://stackoverflow.com/users/5823050/captaintrunky"}, "reply_to_user": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498179309, "post_id": 44692633, "comment_id": 76405654, "body": "@j_random_hacker I am fully aware of the difference between maximal and maximum cliques. But if you need a clique that contains a certain node, you have to run enumeration - the maximum clique could not contain the required node, but you are looking for the largest possible clique with the node. Still, thanks for a point, I edited my answer."}, {"owner": {"reputation": 1307, "user_id": 5823050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/I2MUl.png?s=128&g=1", "display_name": "CaptainTrunky", "link": "https://stackoverflow.com/users/5823050/captaintrunky"}, "reply_to_user": {"reputation": 53, "user_id": 8196803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0450f1bf4a498d05d1477c861edb6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Si Chen", "link": "https://stackoverflow.com/users/8196803/si-chen"}, "edited": false, "score": 0, "creation_date": 1498182567, "post_id": 44692633, "comment_id": 76406344, "body": "@SiChen You can try MaxSAT for finding the maximum clique with a node, but it could be rather difficult to implement. For example, consider <a href=\"https://pdfs.semanticscholar.org/6ce2/c473be601c1030f1ec4fbf733718e2a2c75b.pdf\" rel=\"nofollow noreferrer\">this</a>"}, {"owner": {"reputation": 47344, "user_id": 47984, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d3149cf105b708746f1c4eb0a63a5c24?s=128&d=identicon&r=PG", "display_name": "j_random_hacker", "link": "https://stackoverflow.com/users/47984/j-random-hacker"}, "edited": false, "score": 0, "creation_date": 1498216658, "post_id": 44692633, "comment_id": 76422290, "body": "@CaptainTrunky: You don&#39;t &quot;need&quot; to run such an enumeration -- you could alternatively delete the required node v and all vertices that are not neighbours of it, and then look for a maxim<b>um</b> clique C.  Finally, add v (and its edges to vertices in C) back to C, to produce a largest-possible clique containing v.  (Notice that adding v and these edges back to C always produces a clique, since we removed any non-neighbours of v before looking for the maximum clique.)"}], "tags": [], "owner": {"reputation": 1307, "user_id": 5823050, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/I2MUl.png?s=128&g=1", "display_name": "CaptainTrunky", "link": "https://stackoverflow.com/users/5823050/captaintrunky"}, "is_accepted": true, "score": 1, "last_activity_date": 1498179360, "last_edit_date": 1498179360, "creation_date": 1498115847, "answer_id": 44692633, "question_id": 44687589, "link": "https://stackoverflow.com/questions/44687589/finding-largest-clique-containing-certain-vertex/44692633#44692633", "title": "Finding largest clique containing certain vertex", "body": "<p>Enumerate all maximal cliques within your graph, then just check - do they contain given vertex or do not.</p>\n\n<p>Maximal clique enumeration is <em>NP-hard</em> problem, that is, we don't know an efficient way to solve it at the moment. I have tried <a href=\"http://research.nii.ac.jp/~uno/codes.htm\" rel=\"nofollow noreferrer\">MACE (MAximal Clique Enumerater, ver. 2.2</a> and it worked quite well for me (it worked on graphs with thousands of vertices). You can check the details in corresponding <a href=\"https://link.springer.com/chapter/10.1007/978-3-540-27810-8_23\" rel=\"nofollow noreferrer\">article</a>.</p>\n\n<p>EDIT\nIf you just want to check does the maximum clique contain a vertex or not, you can try <a href=\"https://users.aalto.fi/~pat/cliquer.html\" rel=\"nofollow noreferrer\">cliquer</a> to find the maximum clique.</p>\n"}], "owner": {"reputation": 53, "user_id": 8196803, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0450f1bf4a498d05d1477c861edb6ccc?s=128&d=identicon&r=PG&f=1", "display_name": "Si Chen", "link": "https://stackoverflow.com/users/8196803/si-chen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 1, "accepted_answer_id": 44692633, "answer_count": 1, "score": 2, "last_activity_date": 1563457531, "creation_date": 1498086525, "last_edit_date": 1563457531, "question_id": 44687589, "link": "https://stackoverflow.com/questions/44687589/finding-largest-clique-containing-certain-vertex", "title": "Finding largest clique containing certain vertex", "body": "<p>I want to find the largest clique containing certain vertex in a connected graph.\nIn the wiki it said a maximal clique can be found by greedy search. However, this can't ensure that you find the largest clique IMO. For example,</p>\n\n<p><a href=\"https://i.stack.imgur.com/w3vqT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/w3vqT.png\" alt=\"enter image description here\"></a></p>\n\n<p>If I want to find the largest clique containing A, and I do this by greedy search, I may end up finding (A,B), which is smaller than another clique (A,C,D). </p>\n\n<p>I came up with a naive way to avoid smaller cliques: First find all vertices that are adjacent to your starting point, and then for each of these vertices (let's call it x), calculate how many other vertices that x is not adjacent to. After this, delete the vertex that is not adjacent to most number of vertices, and check if the rest of them form a clique. If not, repeat the procedure until the rest of them form a clique.</p>\n\n<p>I understand this is a silly question but I'd appreciate it very much if anyone can tell me whether this approach is correct or not.</p>\n"}, {"tags": ["python", "facebook"], "owner": {"reputation": 123, "user_id": 2280874, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/780f99c01af92cbe685b97493325791a?s=128&d=identicon&r=PG", "display_name": "ratman2050", "link": "https://stackoverflow.com/users/2280874/ratman2050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1498086323, "creation_date": 1498086323, "question_id": 44687557, "link": "https://stackoverflow.com/questions/44687557/facebook-messenger-chatbot-code-unboundlocalerror", "title": "Facebook Messenger Chatbot Code - UnboundLocalError", "body": "<p>Using the following code, I've setup a flask app:</p>\n\n<p><a href=\"https://gist.github.com/ugik/a218a599b1af0ea06b1b38e3a5132078#file-flaskfbmapi-ai-rig\" rel=\"nofollow noreferrer\">https://gist.github.com/ugik/a218a599b1af0ea06b1b38e3a5132078#file-flaskfbmapi-ai-rig</a></p>\n\n<pre><code>import requests\nimport json\nfrom flask import Flask, request\nimport apiai\n\n# FB messenger credentials\nACCESS_TOKEN = \"EAAKsKOJ37rUBAKVZAQ21bn...UsZCXx6UWqQ6XuQr7OHnBYL3xD3Sy5u1ZAZCwip0XnTAHq25CsIpxRsbxZALRHOOguKm2unY7I06LRAZDZD\"\n\n# api.ai credentials\nCLIENT_ACCESS_TOKEN = \"78c0e0...d9404a2\"\nai = apiai.ApiAI(CLIENT_ACCESS_TOKEN)\n\napp = Flask(__name__)\n\n@app.route('/', methods=['GET'])\ndef verify():\n    # our endpoint echos back the 'hub.challenge' value specified when we setup the webhook\n    if request.args.get(\"hub.mode\") == \"subscribe\" and request.args.get(\"hub.challenge\"):\n        if not request.args.get(\"hub.verify_token\") == 'foo':\n            return \"Verification token mismatch\", 403\n        return request.args[\"hub.challenge\"], 200\n\n    return 'Hello World (from Flask!)', 200\n\ndef reply(user_id, msg):\n    data = {\n        \"recipient\": {\"id\": user_id},\n        \"message\": {\"text\": msg}\n    }\n    resp = requests.post(\"https://graph.facebook.com/v2.6/me/messages?access_token=\" + ACCESS_TOKEN, json=data)\n    print(resp.content)\n\n\n@app.route('/', methods=['POST'])\ndef handle_incoming_messages():\n    data = request.json\n    sender = data['entry'][0]['messaging'][0]['sender']['id']\n    message = data['entry'][0]['messaging'][0]['message']['text']\n\n    # prepare API.ai request\n    req = ai.text_request()\n    req.lang = 'en'  # optional, default value equal 'en'\n    req.query = message\n\n    # get response from API.ai\n    api_response = req.getresponse()\n    responsestr = api_response.read().decode('utf-8')\n    response_obj = json.loads(responsestr)\n    if 'result' in response_obj:\n        response = response_obj[\"result\"][\"fulfillment\"][\"speech\"]\n    reply(sender, response)\n\n    return \"ok\"\n\nif __name__ == '__main__':\n    app.run(debug=True)\n</code></pre>\n\n<p>However, at line 51 there is an error in my server logs:</p>\n\n<blockquote>\n  <p>UnboundLocalError: local variable 'response' referenced before\n  assignment</p>\n</blockquote>\n\n<p>Which I understand the root of the cause is \"response\" is defined only within the if statement, however, since it is not my code, I'm having trouble defining the variable outside. Will this work if I place this code after line 48:</p>\n\n<p>response = response_obj[\"result\"][\"fulfillment\"][\"speech\"]</p>\n"}, {"tags": ["python", "json", "parsing", "solr"], "comments": [{"owner": {"reputation": 2953, "user_id": 5133088, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d0efad94ced5dcd194c0a482cafd4f7b?s=128&d=identicon&r=PG&f=1", "display_name": "Jeroen Heier", "link": "https://stackoverflow.com/users/5133088/jeroen-heier"}, "edited": false, "score": 0, "creation_date": 1498104102, "post_id": 44687525, "comment_id": 76363341, "body": "So you can pinpoint your problem by replacing that string with a version without &quot;D:\\&quot; an execute your code again."}], "answers": [{"tags": [], "owner": {"reputation": 2064, "user_id": 5137879, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/LY3Pw.jpg?s=128&g=1", "display_name": "SpaceBison", "link": "https://stackoverflow.com/users/5137879/spacebison"}, "is_accepted": true, "score": 9, "last_activity_date": 1498110180, "creation_date": 1498110180, "answer_id": 44691033, "question_id": 44687525, "link": "https://stackoverflow.com/questions/44687525/json-reading-error-json-decoder-jsondecodeerror-invalid-escape/44691033#44691033", "title": "json reading error json.decoder.JSONDecodeError: Invalid \\escape", "body": "<p>The <code>\\l</code> in <code>\"trainingLibraryLocation\": \"D:\\liblinear-2.11\"</code> is treated like an escape sequence. Try escaping the slash itself, ie. <code>\"D:\\\\liblinear-2.11\"</code>.</p>\n"}], "owner": {"reputation": 322, "user_id": 7098486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-n1znM2-Xsrg/AAAAAAAAAAI/AAAAAAAAAQI/dfELKbxXvNw/photo.jpg?sz=128", "display_name": "pankaj kashyap", "link": "https://stackoverflow.com/users/7098486/pankaj-kashyap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19391, "favorite_count": 0, "accepted_answer_id": 44691033, "answer_count": 1, "score": 11, "last_activity_date": 1613561312, "creation_date": 1498086088, "last_edit_date": 1613561312, "question_id": 44687525, "link": "https://stackoverflow.com/questions/44687525/json-reading-error-json-decoder-jsondecodeerror-invalid-escape", "title": "json reading error json.decoder.JSONDecodeError: Invalid \\escape", "body": "<p>I am writing a code to upload a model (train_and_upload_demo_model.py) in solr using &quot;config.json&quot; file settings. but I am getting following error:</p>\n<pre><code>json.decoder.JSONDecodeError: Invalid \\escape: line 11 column 34 (char 461)\n</code></pre>\n<p>this is the traceback:</p>\n<pre><code>D:\\solr640\\contrib\\ltr\\example&gt;python train_and_upload_demo_model.py -c config.json\n\nTraceback (most recent call last):\n  File &quot;train_and_upload_demo_model.py&quot;, line 182, in &lt;module&gt;\n    sys.exit(main())\n  File &quot;train_and_upload_demo_model.py&quot;, line 158, in main\n    config = json.load(configFile)\n  File &quot;C:\\Users\\Pankaj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\__init__.py&quot;, line 299, in load\n    parse_constant=parse_constant, object_pairs_hook=object_pairs_hook, **kw)\n  File &quot;C:\\Users\\Pankaj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\__init__.py&quot;, line 354, in loads\n    return _default_decoder.decode(s)\n  File &quot;C:\\Users\\Pankaj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\decoder.py&quot;, line 339, in decode\n    obj, end = self.raw_decode(s, idx=_w(s, 0).end())\n  File &quot;C:\\Users\\Pankaj\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\json\\decoder.py&quot;, line 355, in raw_decode\n    obj, end = self.scan_once(s, idx)\njson.decoder.JSONDecodeError: Invalid \\escape: line 11 column 34 (char 461)\n</code></pre>\n<p>content of config.json file</p>\n<pre><code>  {\n    &quot;host&quot;:                     &quot;localhost&quot;,\n    &quot;port&quot;:                     8983,\n    &quot;collection&quot;:               &quot;techproducts&quot;,\n    &quot;requestHandler&quot;:           &quot;query&quot;,\n    &quot;q&quot;:                        &quot;*:*&quot;,\n    &quot;efiParams&quot;:                &quot;efi.user_query='$USERQUERY'&quot;,\n    &quot;userQueriesFile&quot;:          &quot;user_queries.txt&quot;,\n    &quot;trainingFile&quot;:             &quot;exampleTrainingFile.txt&quot;,\n    &quot;trainedModelFile&quot;:         &quot;exampleTrainedModel.txt&quot;,\n    &quot;trainingLibraryLocation&quot;:  &quot;D:\\liblinear-2.11&quot;,\n    &quot;trainingLibraryOptions&quot;:   &quot;-q&quot;,\n    &quot;solrFeaturesFile&quot;:         &quot;exampleFeatures.json&quot;,\n    &quot;solrFeatureStoreName&quot;:     &quot;exampleFeatureStore&quot;,\n    &quot;solrModelFile&quot;:            &quot;exampleModel.json&quot;,\n    &quot;solrModelName&quot;:            &quot;exampleModel&quot;\n  }\n</code></pre>\n<p>can i get to know where i am making the mistake?</p>\n<p>Is this is the error because of &quot;trainingLibraryLocation&quot;:  &quot;D:\\liblinear-2.11&quot;, syntax?? because this is the line no. 11</p>\n<p>Is there any other way to pass directory location.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3185, "user_id": 7031759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80DxZ.jpg?s=128&g=1", "display_name": "Skycc", "link": "https://stackoverflow.com/users/7031759/skycc"}, "edited": false, "score": 0, "creation_date": 1498085851, "post_id": 44687452, "comment_id": 76359020, "body": "hint: can be done using <code>in</code> operator"}, {"owner": {"reputation": 1088, "user_id": 1230673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100006475076234/picture?type=large", "display_name": "Lhassan Baazzi", "link": "https://stackoverflow.com/users/1230673/lhassan-baazzi"}, "reply_to_user": {"reputation": 7666, "user_id": 407071, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7e3b59a5454c27320f956ab3b177a60e?s=128&d=identicon&r=PG", "display_name": "Eric Finn", "link": "https://stackoverflow.com/users/407071/eric-finn"}, "edited": false, "score": 0, "creation_date": 1498085884, "post_id": 44687452, "comment_id": 76359028, "body": "@EricFinn I&#39;m thinking to save it in an SQLite database and query on it."}, {"owner": {"reputation": 416, "user_id": 4790540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NBjn7xgG4s4/AAAAAAAAAAI/AAAAAAAAApU/_4JXNbwAyoo/photo.jpg?sz=128", "display_name": "Martin Boyanov", "link": "https://stackoverflow.com/users/4790540/martin-boyanov"}, "edited": false, "score": 1, "creation_date": 1498085924, "post_id": 44687452, "comment_id": 76359040, "body": "What&#39;s the exact use case? does it need to work with any query and any text?  I&#39;d personally do: ``` tokens = set(text.split()) answer = (&#39;lorem&#39; in tokens and &#39;ipsum&#39; tokens) or &#39;dolor&#39; in tokens ```"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1498086037, "post_id": 44687452, "comment_id": 76359079, "body": "If the text had &#39;dolors&#39; should that be considered a match? What about &quot;Dolor&quot;? Please clarify what you mean by &quot;words&quot;."}, {"owner": {"reputation": 1088, "user_id": 1230673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100006475076234/picture?type=large", "display_name": "Lhassan Baazzi", "link": "https://stackoverflow.com/users/1230673/lhassan-baazzi"}, "reply_to_user": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1498086321, "post_id": 44687452, "comment_id": 76359168, "body": "@RoryDaulton The user enter queries to need to be checked against a text like this one <code>(&#39;Lorem&#39; AND &#39;ipsum&#39;) OR &#39;dolor&#39;</code>"}, {"owner": {"reputation": 19091, "user_id": 6246044, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YMZMd.jpg?s=128&g=1", "display_name": "Rory Daulton", "link": "https://stackoverflow.com/users/6246044/rory-daulton"}, "edited": false, "score": 0, "creation_date": 1498086616, "post_id": 44687452, "comment_id": 76359246, "body": "That does not answer my question. What kind of &quot;check&quot; do you want? Do other forms of a word count? Does different capitalization count? In a computer program, you must be very clear in your mind just what you want the computer to do, you need to let us know just what that is."}], "answers": [{"comments": [{"owner": {"reputation": 416, "user_id": 4790540, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NBjn7xgG4s4/AAAAAAAAAAI/AAAAAAAAApU/_4JXNbwAyoo/photo.jpg?sz=128", "display_name": "Martin Boyanov", "link": "https://stackoverflow.com/users/4790540/martin-boyanov"}, "edited": false, "score": 0, "creation_date": 1498086022, "post_id": 44687487, "comment_id": 76359072, "body": "I&#39;d tokenize it first. For example, &quot;dolores&quot; would match with this solution"}, {"owner": {"reputation": 1088, "user_id": 1230673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100006475076234/picture?type=large", "display_name": "Lhassan Baazzi", "link": "https://stackoverflow.com/users/1230673/lhassan-baazzi"}, "edited": false, "score": 0, "creation_date": 1498086242, "post_id": 44687487, "comment_id": 76359140, "body": "How I can transform this query <code>(&#39;Lorem&#39; AND &#39;ipsum&#39;) OR &#39;dolor&#39;</code> into this <code>(&#39;Lorem&#39; in text and &#39;ipsum&#39; in text) or &#39;dolor&#39; in text</code>"}, {"owner": {"reputation": 2999, "user_id": 8071126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550f1700622fccf1b6980580222c8d80?s=128&d=identicon&r=PG", "display_name": "glegoux", "link": "https://stackoverflow.com/users/8071126/glegoux"}, "edited": false, "score": 0, "creation_date": 1498087180, "post_id": 44687487, "comment_id": 76359392, "body": "You can see <a href=\"https://docs.python.org/3/library/ast.html\" rel=\"nofollow noreferrer\">docs.python.org/3/library/ast.html</a> or write a binary expression tree <a href=\"https://en.wikipedia.org/wiki/Binary_expression_tree\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Binary_expression_tree</a> from scratch to implement your request executor"}], "tags": [], "owner": {"reputation": 2999, "user_id": 8071126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550f1700622fccf1b6980580222c8d80?s=128&d=identicon&r=PG", "display_name": "glegoux", "link": "https://stackoverflow.com/users/8071126/glegoux"}, "is_accepted": false, "score": 0, "last_activity_date": 1498085867, "creation_date": 1498085867, "answer_id": 44687487, "question_id": 44687452, "link": "https://stackoverflow.com/questions/44687452/search-in-text-using-multiple-words-with-and-or-operators/44687487#44687487", "title": "Search in text using multiple words with AND OR operators", "body": "<pre><code>text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus iaculis imperdiet hendrerit. Aliquam vitae eleifend ex. Aenean molestie mi vel mauris blandit sagittis. Cras dictum ac nibh nec malesuada. Fusce dolor ex, vulputate id ipsum eget, varius condimentum lectus. Fusce accumsan nisl eget tincidunt elementum. Suspendisse eu pellentesque odio.\"\n\nresult = ('Lorem' in text and 'ipsum' in text) or 'dolor' in text\nprint(result)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1011, "user_id": 6695849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22f651a94c63b80714397655ca5f7302?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Barve", "link": "https://stackoverflow.com/users/6695849/aditya-barve"}, "is_accepted": false, "score": 0, "last_activity_date": 1498086769, "creation_date": 1498086769, "answer_id": 44687621, "question_id": 44687452, "link": "https://stackoverflow.com/questions/44687452/search-in-text-using-multiple-words-with-and-or-operators/44687621#44687621", "title": "Search in text using multiple words with AND OR operators", "body": "<pre><code>text = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus iaculis imperdiet hendrerit. Aliquam vitae eleifend ex. Aenean molestie mi vel mauris blandit sagittis. Cras dictum ac nibh nec malesuada. Fusce dolor ex, vulputate id ipsum eget, varius condimentum lectus. Fusce accumsan nisl eget tincidunt elementum. Suspendisse eu pellentesque odio.\"\n\nword_lists = [['Lorem', 'ipsum'], ['dolor']]\nresult = any(all(w in text for w in word_list) for word_list in word_lists)\nprint result\n</code></pre>\n\n<blockquote>\n  <p>True</p>\n</blockquote>\n\n<p>You can add elements to word_lists if you need to add more condidions.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8049923, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d753cedcfbf19fe6d1384cd7bb25fb3c?s=128&d=identicon&r=PG&f=1", "display_name": "chaitanya", "link": "https://stackoverflow.com/users/8049923/chaitanya"}, "is_accepted": false, "score": 0, "last_activity_date": 1498088189, "creation_date": 1498088189, "answer_id": 44687817, "question_id": 44687452, "link": "https://stackoverflow.com/questions/44687452/search-in-text-using-multiple-words-with-and-or-operators/44687817#44687817", "title": "Search in text using multiple words with AND OR operators", "body": "<p>@ Lhassan Baazzi</p>\n\n<pre><code>import re\n\nr = \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus iaculis imperdiet hendrerit. Aliquam vitae eleifend ex. Aenean molestie mi vel mauris blandit sagittis. Cras dictum ac nibh nec malesuada. Fusce dolor ex, vulputate id ipsum eget, varius condimentum lectus. Fusce accumsan nisl eget tincidunt elementum. Suspendisse eu pellentesque odio.\"\n\nif re.search('Lorem' and 'ipsum',r) or re.search('dolor',r):\n    print 'Exists'\n</code></pre>\n"}], "owner": {"reputation": 1088, "user_id": 1230673, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100006475076234/picture?type=large", "display_name": "Lhassan Baazzi", "link": "https://stackoverflow.com/users/1230673/lhassan-baazzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1498088189, "creation_date": 1498085565, "last_edit_date": 1498086083, "question_id": 44687452, "link": "https://stackoverflow.com/questions/44687452/search-in-text-using-multiple-words-with-and-or-operators", "title": "Search in text using multiple words with AND OR operators", "body": "<p>Consider this draft text paragraph:</p>\n\n<blockquote>\n  <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus iaculis imperdiet hendrerit. Aliquam vitae eleifend ex. Aenean molestie mi vel mauris blandit sagittis. Cras dictum ac nibh nec malesuada. Fusce dolor ex, vulputate id ipsum eget, varius condimentum lectus. Fusce accumsan nisl eget tincidunt elementum. Suspendisse eu pellentesque odio.</p>\n</blockquote>\n\n<p>I want to check this text if contains words <strong>('Lorem' AND 'ipsum') OR 'dolor'</strong></p>\n\n<p>How I can do this in Python?</p>\n\n<p>Use case:\nQueries are saved to database, so, the user can remove or add or edit queries in an admin area.</p>\n"}, {"tags": ["python", "pdf"], "answers": [{"tags": [], "owner": {"reputation": 9716, "user_id": 174027, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/5m97a.jpg?s=128&g=1", "display_name": "jujule", "link": "https://stackoverflow.com/users/174027/jujule"}, "is_accepted": false, "score": 0, "last_activity_date": 1500892671, "creation_date": 1500892671, "answer_id": 45278382, "question_id": 44687442, "link": "https://stackoverflow.com/questions/44687442/pypdftk-error-32/45278382#45278382", "title": "PYPDFTK Error 32", "body": "<p>pypdftk author here; can you please paste the traceback ?</p>\n\n<p>Generally this means the pdftk binary was not found and you can change it with the <code>PDFTK_PATH</code> environment variable. see <a href=\"https://github.com/revolunet/pypdftk/blob/master/README.md#pdftk-path\" rel=\"nofollow noreferrer\">https://github.com/revolunet/pypdftk/blob/master/README.md#pdftk-path</a></p>\n"}], "owner": {"reputation": 193, "user_id": 7753323, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aa4c64495306e8d9d7bb309f9be421ae?s=128&d=identicon&r=PG&f=1", "display_name": "A. McMaster", "link": "https://stackoverflow.com/users/7753323/a-mcmaster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 786, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500892671, "creation_date": 1498085525, "question_id": 44687442, "link": "https://stackoverflow.com/questions/44687442/pypdftk-error-32", "title": "PYPDFTK Error 32", "body": "<p>I am back at coding above my head again in producing a program that will automatically fill out some Partner PDF's with our employees information.  Currently, we have a process that involves over a 40 page PDF which we have filling in automatically with information after you make it through the first couple pages.</p>\n\n<p>What we are looking for is creating a UI that allows the employee to type their info once, then have it pumped through the 40 pages filling in all the key form spots, then break the PDF up appropriately and file to the correct folders for compliance. </p>\n\n<p>90% of this I have experience coding from the UI, to splitting up a completed file, but my problem is working with the PDF to fill in forms.  I have exerpience using items such as PDFMiner and PDFQuery to scrape a PDF but I am stuck on entering it.</p>\n\n<p>I am currently attempting to use PyPDFTK but when setting it up via their example, I can't even clear the first step as the temp file it looks like the code is trying to access is not accessible, see example basic code:</p>\n\n<pre><code>import pypdftk\ndatas = {\n'firstname': 'Julien',\n'company': 'revolunet',\n'price': 42\n}\ngenerated_pdf = pypdftk.fill_form('main.pdf', datas)\n</code></pre>\n\n<p>And it keeps producing an error 32 and I can't figure out why!?  Is this the best option and if so how can I try and remedy this.</p>\n\n<p>Thank you,</p>\n\n<p>Andy.</p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498085826, "post_id": 44687434, "comment_id": 76359012, "body": "It sounds like a <a href=\"https://stackoverflow.com/questions/3295938/else-clause-on-python-while-statement\">while-else</a> might be useful here, but your description of what you want to do is ambiguous and missing too many details to tell what you&#39;re really trying to do."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498086571, "post_id": 44687434, "comment_id": 76359241, "body": "You might want to see if <a href=\"https://github.com/biopython/biopython.github.io/\" rel=\"nofollow noreferrer\">biopython</a> or something similar has the functionality you want, or if Python&#39;s built-in string search algorithm is good enough for your use case. It looks like you were trying to implement an advanced string search algorithm (Boyer-Moore?), but you didn&#39;t do the preprocessing of Boyer-Moore, and things like copying on every string slice and Python interpreter overhead are going to slow things down too ."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1498088626, "post_id": 44687434, "comment_id": 76359783, "body": "what about using a boolean variable before the loop <code>match = False</code>, and after/outside the loop <code>if not match:     print &quot;No match&quot;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1604, "user_id": 7700434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKtbx.png?s=128&g=1", "display_name": "axwr", "link": "https://stackoverflow.com/users/7700434/axwr"}, "edited": false, "score": 0, "creation_date": 1498086090, "post_id": 44687491, "comment_id": 76359091, "body": "I believe he is going for the standard find all the occurrences of x in y programming exercise rather than just a direct match."}], "tags": [], "owner": {"reputation": 68, "user_id": 6113142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHKnQ.png?s=128&g=1", "display_name": "Pratik K.", "link": "https://stackoverflow.com/users/6113142/pratik-k"}, "is_accepted": false, "score": 1, "last_activity_date": 1498085900, "creation_date": 1498085900, "answer_id": 44687491, "question_id": 44687434, "link": "https://stackoverflow.com/questions/44687434/python-2-7-exit-a-while-loop-with-just-one-line-if-no-match-found/44687491#44687491", "title": "Python 2.7 exit a while loop with just one line if no match found", "body": "<p>I didn't quite get what you're trying to achieve here, but assuming you want to search for the substring within the base string, you can just use <code>in</code> as follows: <br></p>\n\n<pre><code>if p in T:\n    print \"Match\"\nelse:\n    print \"No match\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 7392741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96c966436cbf501da3bb9d96daa0683b?s=128&d=identicon&r=PG&f=1", "display_name": "Xp.L", "link": "https://stackoverflow.com/users/7392741/xp-l"}, "edited": false, "score": 0, "creation_date": 1498105424, "post_id": 44687516, "comment_id": 76363713, "body": "Thanks for the reply. I realized I was ambiguous about what I wanted. I was attempting to implement Boyer Moore for string matching. I know there are tons of answers out there, but I needed to try myself. So if there is a match in the sequence, this code would tell you where the match is at, but yes, as easy as that, your answer helps. Thank you."}], "tags": [], "owner": {"reputation": 1604, "user_id": 7700434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKtbx.png?s=128&g=1", "display_name": "axwr", "link": "https://stackoverflow.com/users/7700434/axwr"}, "is_accepted": true, "score": 1, "last_activity_date": 1498086031, "creation_date": 1498086031, "answer_id": 44687516, "question_id": 44687434, "link": "https://stackoverflow.com/questions/44687434/python-2-7-exit-a-while-loop-with-just-one-line-if-no-match-found/44687516#44687516", "title": "Python 2.7 exit a while loop with just one line if no match found", "body": "<p>If i am understanding you correctly you would like to exit your while loop and print \"no match\" only once, if the string p is not contained in t. This looks like the all too common DNA exercise.</p>\n\n<p>Anyway a simple way to do what you want is to check for the substring p in t and break if it is not found.  The answer here: <a href=\"https://stackoverflow.com/questions/7361253/how-to-determine-whether-a-substring-is-in-a-different-string\">How to determine whether a substring is in a different string</a> would help with that.</p>\n\n<p>Basically:</p>\n\n<pre><code>T = 'ATGGGTATGGCTCGGCTCGG'\np = 'ATCG'\n\nskip = 0\n\nwhile skip + len(p) &lt; len(T):\n\n    if not p in T:\n        print \"no match\"\n        break\n\n    string = T[skip:skip+len(p)]\n\n    if string == p:\n        print \"offset at: \", skip\n        break\n\n\n    for i in range(len(string), 0, -1):\n\n\n        if (string[i-1] != p[i-1]):\n\n                if string[i-1] in p[:i-1]:\n                    skip += (i - p.find(string[i-1]) - 1)\n                    break\n\n                elif not string[i-1] in p[:i-1]:\n                    skip += i\n                    break\n</code></pre>\n\n<p>The key here is the line <code>if not p in T:</code> Which is basically saying If the string p does not exist inside the string T then do something. else, carry on.</p>\n\n<p>On top of this you may want to consider looking at some good practices like variable naming, and using functions.</p>\n"}], "owner": {"reputation": 557, "user_id": 7392741, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/96c966436cbf501da3bb9d96daa0683b?s=128&d=identicon&r=PG&f=1", "display_name": "Xp.L", "link": "https://stackoverflow.com/users/7392741/xp-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1414, "favorite_count": 0, "accepted_answer_id": 44687516, "answer_count": 2, "score": 2, "last_activity_date": 1498105724, "creation_date": 1498085450, "last_edit_date": 1498105724, "question_id": 44687434, "link": "https://stackoverflow.com/questions/44687434/python-2-7-exit-a-while-loop-with-just-one-line-if-no-match-found", "title": "Python 2.7 exit a while loop with just one line if no match found", "body": "<p>Trying to implement Boyer Moore, bad character matching algorithm without looking at the answers. I want to exit this loop I wrote with just one line of \"No match\" if there was no pattern found, here is my code:</p>\n\n<pre><code>T = 'ATGGGTATGGCTCGGCTCGG'\np = 'ATCG'\n\nskip = 0\n\nwhile skip + len(p) &lt; len(T):\n\n    string = T[skip:skip+len(p)]\n\n    if string == p:\n        print \"offset at: \", skip\n        break\n\n\n    for i in range(len(string), 0, -1):\n\n\n        if (string[i-1] != p[i-1]):\n\n                if string[i-1] in p[:i-1]:\n                    skip += (i - p.find(string[i-1]) - 1)\n                    break\n\n                elif not string[i-1] in p[:i-1]:\n                    skip += i\n                    break\n</code></pre>\n\n<p>Any hits regarding how to modify the code.</p>\n\n<p>Thank you,</p>\n\n<p>xp</p>\n\n<p>edit: Scheme gave me the answer, as easy as that. I was so looping my head in the line string == p or string != p. Thank you for all your comments.</p>\n"}, {"tags": ["python", "dictionary", "filter", "list-comprehension", "reduce"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498085381, "post_id": 44687406, "comment_id": 76358886, "body": "So, what does it do?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 7, "creation_date": 1498085528, "post_id": 44687406, "comment_id": 76358928, "body": "You will achieve less indentation and improved clarity by using a couple of functions. I doubt comprehensions will be your saving grace here."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498085600, "post_id": 44687406, "comment_id": 76358953, "body": "You could use a <code>Counter</code> instead of a <code>dict</code> for <code>ip_tlsv1_counts</code> and replace your inner <code>if-else</code> with simply <code>ip_tlsv1_counts[line_groups.group(2)] += 1</code>"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498085773, "post_id": 44687406, "comment_id": 76359000, "body": "And you can easily remove a block of indentation by iterating over <code>log_files = (f for f in os.listdir(directory_path) if f.endswith(LOG_FILE_EXTENSION)</code> then iterate over that: <code>for file in log_files:</code>"}, {"owner": {"reputation": 447, "user_id": 776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f590ff1e6f4dab2937b0d27a59be828a?s=128&d=identicon&r=PG", "display_name": "the_real_one", "link": "https://stackoverflow.com/users/776896/the-real-one"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498093677, "post_id": 44687406, "comment_id": 76360896, "body": "@Coldspeed this uses a regex that matches log entries across files and counts the occurrences of an IP address that has the field &quot;TLSv1&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 447, "user_id": 776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f590ff1e6f4dab2937b0d27a59be828a?s=128&d=identicon&r=PG", "display_name": "the_real_one", "link": "https://stackoverflow.com/users/776896/the-real-one"}, "edited": false, "score": 1, "creation_date": 1498240119, "post_id": 44688056, "comment_id": 76437007, "body": "this is sexy but python 3.4+ is a steep requirement from my experience :) thank you for your reply - this is definitely way sexier"}], "tags": [], "owner": {"reputation": 28036, "user_id": 68998, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d959037a9a17aba5d4d52b6ef4047dba?s=128&d=identicon&r=PG", "display_name": "newtover", "link": "https://stackoverflow.com/users/68998/newtover"}, "is_accepted": false, "score": 1, "last_activity_date": 1498089963, "creation_date": 1498089963, "answer_id": 44688056, "question_id": 44687406, "link": "https://stackoverflow.com/questions/44687406/maps-and-list-comprehension-in-python/44688056#44688056", "title": "Maps and List Comprehension in Python", "body": "<p>If you work with python 3.4+, you can use <a href=\"https://docs.python.org/3.4/library/pathlib.html\" rel=\"nofollow noreferrer\">pathlib</a> module:</p>\n\n<pre><code>from pathlib import Path\nfrom collections import Counter\n\nip_tlsv1_counts = Counter()\n\nfor path in Path(directory_path).glob('*' + LOG_FILE_EXTENSION):\n    with path.open() as f1:\n        for line in f1:\n            line_groups = re.search(LOG_LINE_REGEX, line)\n            if line_groups and line_groups.group(8) == \"TLSv1\":\n                ip_tlsv1_counts[line_groups.group(2)] += 1\n\nreturn ip_tlsv1_counts\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 447, "user_id": 776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f590ff1e6f4dab2937b0d27a59be828a?s=128&d=identicon&r=PG", "display_name": "the_real_one", "link": "https://stackoverflow.com/users/776896/the-real-one"}, "edited": false, "score": 0, "creation_date": 1498240073, "post_id": 44688108, "comment_id": 76436988, "body": "I like this because it breaks down functionality and looks reusable although it is roughly the same line count and indentation I was curious about - thanks for your reply!"}], "tags": [], "owner": {"reputation": 16773, "user_id": 5827215, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-s_pAOw1Sc-M/AAAAAAAAAAI/AAAAAAAAAMA/J-R1IMHbuY4/photo.jpg?sz=128", "display_name": "Tadhg McDonald-Jensen", "link": "https://stackoverflow.com/users/5827215/tadhg-mcdonald-jensen"}, "is_accepted": false, "score": 0, "last_activity_date": 1498090383, "creation_date": 1498090383, "answer_id": 44688108, "question_id": 44687406, "link": "https://stackoverflow.com/questions/44687406/maps-and-list-comprehension-in-python/44688108#44688108", "title": "Maps and List Comprehension in Python", "body": "<p>I'd use one generator function to iterate over all the files with a particular extension in a particular folder:</p>\n\n<pre><code>def filter_files(directory, extension):\n    for filename in os.listdir(directory):\n        if filename.endswith(extension):\n            with open(os.path.join(directory, filename)) as file_handle:\n                yield file_handle\n</code></pre>\n\n<p>Then to iterate over all the lines of all those files you'd just use <code>itertools.chain.from_iterable</code> on the result of that generator.</p>\n\n<p>Next you can use <code>re.compile(LOG_LINES_REGEX)</code> to get a compiled pattern, this gives some preformance boost as well as being able to use it's <code>.search</code> method in <code>map</code>:</p>\n\n<pre><code>log_line_re = re.compile(LOG_LINE_REGEX)\nall_log_lines = itertools.chain.from_iterable(filter_files(directory_path, LOG_FILE_EXTENSION))\n\nfor line_groups in map(log_line_re.search, all_log_lines):\n    if line_groups and line_groups.group(8) == \"TLSv1\":\n        yield line_groups.group(2)\n</code></pre>\n\n<p>This will be a generator that produces all of the <code>line_groups.group(2)</code> that match the other conditions, so to count all the frequencies, you'd just construct a <code>Counter</code> with it's result.</p>\n\n<p>So the final code would be like this:</p>\n\n<pre><code>def filter_files(directory, extension):\n    for filename in os.listdir(directory):\n        if filename.endswith(extension):\n            with open(os.path.join(directory, filename)) as file_handle:\n                yield file_handle\n\ndef get_part_of_log_files():\n    log_line_re = re.compile(LOG_LINE_REGEX)\n    all_log_lines = itertools.chain.from_iterable(filter_files(directory_path, LOG_FILE_EXTENSION))\n\n    for line_groups in map(log_line_re.search, all_log_lines):\n        if line_groups and line_groups.group(8) == \"TLSv1\":\n            yield line_groups.group(2)\n\ndef original_function():\n    return collections.Counter(get_part_of_log_files())\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 776896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f590ff1e6f4dab2937b0d27a59be828a?s=128&d=identicon&r=PG", "display_name": "the_real_one", "link": "https://stackoverflow.com/users/776896/the-real-one"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498090383, "creation_date": 1498085248, "question_id": 44687406, "link": "https://stackoverflow.com/questions/44687406/maps-and-list-comprehension-in-python", "title": "Maps and List Comprehension in Python", "body": "<p>So I am fairly new to the concept of list comprehension and map/filter/reduce but feel like this can be done with few lines and less identenation:</p>\n\n<pre><code>ip_tlsv1_counts = {}\n\nfor filename in os.listdir(directory_path):\n    if filename.endswith(LOG_FILE_EXTENSION):\n        with open(os.path.join(directory_path, filename)) as file_handle:\n            for line_contents in file_handle:\n                line_groups = re.search(LOG_LINE_REGEX, line_contents)\n                if line_groups and line_groups.group(8) == \"TLSv1\":\n                    if not line_groups.group(2) in ip_tlsv1_counts:\n                        ip_tlsv1_counts[line_groups.group(2)] = 1\n                    else:\n                        ip_tlsv1_counts[line_groups.group(2)] += 1\n\nreturn ip_tlsv1_counts\n</code></pre>\n"}, {"tags": ["python", "flask", "celery"], "comments": [{"owner": {"reputation": 1886, "user_id": 7324965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7aa4909c554252eb14749ffffe4d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Fine", "link": "https://stackoverflow.com/users/7324965/fine"}, "edited": false, "score": 0, "creation_date": 1498121022, "post_id": 44687401, "comment_id": 76371921, "body": "Please add example code of how you register grab_articles function in celery and how you invoke it."}, {"owner": {"reputation": 371, "user_id": 5536594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cc4b65123667cbd73e8796ad86321ca?s=128&d=identicon&r=PG&f=1", "display_name": "exchez", "link": "https://stackoverflow.com/users/5536594/exchez"}, "reply_to_user": {"reputation": 1886, "user_id": 7324965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7aa4909c554252eb14749ffffe4d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Fine", "link": "https://stackoverflow.com/users/7324965/fine"}, "edited": false, "score": 0, "creation_date": 1498148277, "post_id": 44687401, "comment_id": 76392240, "body": "Thanks Fian! I have added the basic structure and contents of files."}, {"owner": {"reputation": 1886, "user_id": 7324965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7aa4909c554252eb14749ffffe4d66d?s=128&d=identicon&r=PG&f=1", "display_name": "Fine", "link": "https://stackoverflow.com/users/7324965/fine"}, "edited": false, "score": 0, "creation_date": 1498205468, "post_id": 44687401, "comment_id": 76414827, "body": "Still can&#39;t see how you invoke <code>grab_articles</code>. Check your code for <a href=\"http://docs.celeryproject.org/en/latest/userguide/tasks.html#automatic-naming-and-relative-imports\" rel=\"nofollow noreferrer\">this problem</a>."}], "owner": {"reputation": 371, "user_id": 5536594, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2cc4b65123667cbd73e8796ad86321ca?s=128&d=identicon&r=PG&f=1", "display_name": "exchez", "link": "https://stackoverflow.com/users/5536594/exchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1707, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498148676, "creation_date": 1498085218, "last_edit_date": 1498148676, "question_id": 44687401, "link": "https://stackoverflow.com/questions/44687401/task-not-registered-error-with-flask-and-celery", "title": "Task not registered error with Flask and Celery", "body": "<p>I am using a celery chord and some of the tasks in the header are successful and some fail with the error:</p>\n\n<p><code>celery.backends.base.ChordError: NotRegistered(\"'app.tasks.grab_articles'\",)</code></p>\n\n<p>However, when my Celery worker loads, I see the task loading as such: </p>\n\n<pre><code>(latentcall)\n2017-06-21T22:24:04.505411+00:00 app[worker.1]: ---- **** ----- \n2017-06-21T22:24:04.505412+00:00 app[worker.1]: --- * ***  * -- Linux-3.13.0-121-generic-x86_64-with-debian-stretch-sid 2017-06-21 22:24:04\n2017-06-21T22:24:04.505413+00:00 app[worker.1]: -- * - **** --- \n2017-06-21T22:24:04.505414+00:00 app[worker.1]: - ** ---------- [config]\n2017-06-21T22:24:04.505415+00:00 app[worker.1]: - ** ---------- .&gt; app:         app:0x7f3db1959208\n2017-06-21T22:24:04.505418+00:00 app[worker.1]: - ** ---------- .&gt; transport:   amqp://...\n2017-06-21T22:24:04.505419+00:00 app[worker.1]: - ** ---------- .&gt; results:     postgres:...\n2017-06-21T22:24:04.505420+00:00 app[worker.1]: - *** --- * --- .&gt; concurrency: 1 (prefork)\n2017-06-21T22:24:04.505421+00:00 app[worker.1]: -- ******* ---- .&gt; task events: OFF (enable -E to monitor tasks in this worker)\n2017-06-21T22:24:04.505421+00:00 app[worker.1]: --- ***** ----- \n2017-06-21T22:24:04.505422+00:00 app[worker.1]:  -------------- [queues]\n2017-06-21T22:24:04.505423+00:00 app[worker.1]:                 .&gt; celery           exchange=celery(direct) key=celery\n2017-06-21T22:24:04.505423+00:00 app[worker.1]:                 \n2017-06-21T22:24:04.505424+00:00 app[worker.1]: \n2017-06-21T22:24:04.505425+00:00 app[worker.1]: [tasks]\n2017-06-21T22:24:04.505425+00:00 app[worker.1]:   . app.tasks.calculate_best_matches\n2017-06-21T22:24:04.505426+00:00 app[worker.1]:   . app.tasks.grab_articles\n</code></pre>\n\n<p>My app is set up the same was the app here:</p>\n\n<p><a href=\"https://github.com/miguelgrinberg/flasky-with-celery\" rel=\"nofollow noreferrer\">https://github.com/miguelgrinberg/flasky-with-celery</a></p>\n\n<p>Here's the structure of my app:</p>\n\n<pre><code>proj\n |---app\n   |---__init__.py\n   |---tasks.py\n |---celery_worker.py\n |---config.py\n |---manage.py\n</code></pre>\n\n<p><code>__init__.py</code></p>\n\n<pre><code>from celery import Celery\nfrom flask import Flask\nfrom flask_sqlalchemy import SQLAlchemy\nfrom config import Config\n\ndb = SQLAlchemy()\ncelery = Celery(__name__, broker=Config.CELERY_BROKER_URL, backend=Config.CELERY_RESULT_BACKEND)\n\ndef create_app():\n    app = Flask(__name__)\n    app.config.from_object(Config)\n    Config.init_app(app)\n\n    db.init_app(app)\n    celery.conf.update(app.config)\n\n    from .main import main as main_blueprint\n    app.register_blueprint(main_blueprint)\n\n    return app\n</code></pre>\n\n<p>tasks.py</p>\n\n<pre><code>from . import celery\nfrom sqlalchemy.sql import select\nfrom sklearn.metrics.pairwise import pairwise_distances\nfrom datetime import datetime\nimport os\nimport json\nimport redis\nimport pandas as pd\nfrom . import helpers\nfrom . import models\n\nr = redis.from_url(os.environ['REDIS_URL'])\n\n@celery.task(name='task_grab_articles', bind=True)\ndef grab_articles(self, ids):\n    print(self.request.id)\n    article = models.Article\n    query = article.query.with_entities(article.id, article.tfidf).filter(article.id.in_(ids)).all()\n    df = pd.DataFrame(query, columns=['id', 'tfidf']).to_json()\n    return query\n</code></pre>\n\n<p>celery_worker:</p>\n\n<pre><code>#!/usr/bin/env python\nfrom app import celery, create_app\n\napp = create_app()\napp.app_context().push()\n</code></pre>\n\n<p>manage.py</p>\n\n<pre><code>from app import create_app\n\napp = create_app()\n</code></pre>\n\n<p>Procfile:</p>\n\n<pre><code>web: gunicorn manage:app\nworker: celery worker --app=celery_worker.celery --loglevel=info --concurrency=1\n</code></pre>\n\n<p>After doing some debugging I found that Celery was creating 8 tasks and only sending three or four to my worker process (see Procfile) and once those four were completed my callback task would respond to .ready() with True. However, the other four tasks would still be PENDING when I checked my celery_taskmeta table. These four tasks are not visible anywhere except for the backend. I wonder if they are getting sent to some mystery worker/node that get generated due to multiprocessing.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 1, "creation_date": 1498085297, "post_id": 44687394, "comment_id": 76358860, "body": "Why the downvote?"}, {"owner": {"reputation": 1128, "user_id": 2357464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0448f4ce8b44530af9ae3d5195cad5a9?s=128&d=identicon&r=PG", "display_name": "quinz", "link": "https://stackoverflow.com/users/2357464/quinz"}, "edited": false, "score": 1, "creation_date": 1498085404, "post_id": 44687394, "comment_id": 76358890, "body": "I haven&#39;t voted but I would imagine that people would expect some research effort or programming attempt from your side. Now you are basically asking people to write some code for you."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498085426, "post_id": 44687394, "comment_id": 76358899, "body": "What does it do?"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1498085472, "post_id": 44687394, "comment_id": 76358914, "body": "Your code has unnecessary things, for example to use enumerate, besides that you do not explain the purpose of your code."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 3, "creation_date": 1498085537, "post_id": 44687394, "comment_id": 76358934, "body": "I&#39;m pretty sure the Pythonic way to solve this problem is <code>check = collections.Counter(sys.argv[1])</code> and <code>total = len(sys.argv[1])</code> (if I&#39;m understanding what you&#39;re trying to do correctly, which is not necessarily the case). I&#39;d never use <code>map</code>, <code>reduce</code> or <code>filter</code> here (nor in most Pythonic code), so I have no idea why you&#39;re asking about them."}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1498085569, "post_id": 44687394, "comment_id": 76358943, "body": "It&#39;s a simple piece of code that assigns a value to a string based on its position in the string. The point isnt the code but how can the process of looping, adding to a dict and cumulative total be done pythonically."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498085714, "post_id": 44687394, "comment_id": 76358981, "body": "@MelissaStewart Actually, no. It seems to be counting elements. Is that what you wanted?"}, {"owner": {"reputation": 602, "user_id": 4179728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3GLsH.jpg?s=128&g=1", "display_name": "puzzlepalace", "link": "https://stackoverflow.com/users/4179728/puzzlepalace"}, "edited": false, "score": 0, "creation_date": 1498085749, "post_id": 44687394, "comment_id": 76358993, "body": "This is tagged python3 but <code>reduce</code> is only in python2."}, {"owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "edited": false, "score": 0, "creation_date": 1498085769, "post_id": 44687394, "comment_id": 76358998, "body": "updated question"}, {"owner": {"reputation": 508, "user_id": 3209904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb8ccdb13e0611420ea38a4dede780d?s=128&d=identicon&r=PG&f=1", "display_name": "bbastu", "link": "https://stackoverflow.com/users/3209904/bbastu"}, "edited": false, "score": 2, "creation_date": 1498085935, "post_id": 44687394, "comment_id": 76359046, "body": "Is <code>enumerate</code> really necessary? The index <code>i</code> is never used."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1498086045, "post_id": 44687394, "comment_id": 76359080, "body": "For what use do you <code>enumerate</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 602, "user_id": 4179728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3GLsH.jpg?s=128&g=1", "display_name": "puzzlepalace", "link": "https://stackoverflow.com/users/4179728/puzzlepalace"}, "edited": false, "score": 0, "creation_date": 1498086239, "post_id": 44687394, "comment_id": 76359139, "body": "@puzzlepalace <code>reduce</code> is in Python 3, but it has been moved into the <code>functools</code> module..."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498087516, "post_id": 44687394, "comment_id": 76359487, "body": "Pythonic doesn&#39;t mean &quot;replace my for-loops with comprehensions wherever possible&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1498086798, "last_edit_date": 1498086798, "creation_date": 1498086070, "answer_id": 44687522, "question_id": 44687394, "link": "https://stackoverflow.com/questions/44687394/iterating-a-string-using-python-3/44687522#44687522", "title": "Iterating a string using Python 3", "body": "<pre><code>import sys\nval = {v : sys.argv[1].count(v) for v in set(sys.argv[1])}\ntotal = sum(val[k] * (val[k] + 1) // 2  for k in val)\n</code></pre>\n\n<p>3 lines... 1 import and 2 lines of vanilla python.</p>\n\n<p>The first line creates a mapping of chars to counts. Then, the second line finds the sum of sequence for each character inside a list comprehension, with a second <code>sum</code> to total the sums of each character.</p>\n\n<p>Output:</p>\n\n<pre><code>val: {'a': 4, 'c': 1, 'b': 2}\ntotal: 14\n</code></pre>\n\n<p>Caveat: This is not efficient, since it calculates counts for each character (linear complexity). </p>\n"}, {"comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498086416, "post_id": 44687545, "comment_id": 76359198, "body": "A slower but easier to understand alternative to <code>n * (n+1) &#47;&#47; 2</code> would be <code>sum(range(n+1))</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498086437, "post_id": 44687545, "comment_id": 76359205, "body": "Aka my answer. :p"}, {"owner": {"reputation": 508, "user_id": 3209904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb8ccdb13e0611420ea38a4dede780d?s=128&d=identicon&r=PG&f=1", "display_name": "bbastu", "link": "https://stackoverflow.com/users/3209904/bbastu"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498086745, "post_id": 44687545, "comment_id": 76359285, "body": "@Rawing Is that really slower and not optimised? (I can&#39;t run it myself, currently.)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498087361, "post_id": 44687545, "comment_id": 76359439, "body": "@Rawing yeah, but then you might as well just sum as you count."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498087363, "post_id": 44687545, "comment_id": 76359440, "body": "The thing here to note is that OP wanted a demo of comprehensions, not an answer that was computationally efficient... anyway."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498087434, "post_id": 44687545, "comment_id": 76359460, "body": "Oh if OP literally meant map, reduce, and filter, then none of these answers cut it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498087458, "post_id": 44687545, "comment_id": 76359466, "body": "@Coldspeed as per the comments, I think the question is <i>how to do it Pythonically</i>, which is sort of tolerated in the Python tag as far as opinion-based questions go, but &quot;using a comprehension instead of a for-loop&quot; != &quot;pythonic&quot;"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498088082, "post_id": 44687545, "comment_id": 76359639, "body": "@juanpa.arrivillaga Oftentimes &quot;pythonic&quot; tends to have a positive correlation with hindered readability...."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 4, "last_activity_date": 1498086274, "creation_date": 1498086274, "answer_id": 44687545, "question_id": 44687394, "link": "https://stackoverflow.com/questions/44687394/iterating-a-string-using-python-3/44687545#44687545", "title": "Iterating a string using Python 3", "body": "<p>If you want to calculate the result in the way you're currently doing it, I think your current code is about as Pythonic as it can be (the only exception is the unnecessary <code>enumerate</code> call).</p>\n\n<p>However, I think there's a better way to find your <code>total</code> than adding up the counts as you make them. The part of the total contributed by each value can be calculated directly from the final count of that value (it's a triangular number). This means you can count the values in one go and figure out the total at the end.</p>\n\n<p>Here's how I'd do it:</p>\n\n<pre><code>import sys\nimport collections\n\ncounts = collections.Counter(sys.argv[1])\ntotal = sum(n * (n+1) // 2 for n in counts.values())\nprint(total)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1498086681, "creation_date": 1498086681, "answer_id": 44687610, "question_id": 44687394, "link": "https://stackoverflow.com/questions/44687394/iterating-a-string-using-python-3/44687610#44687610", "title": "Iterating a string using Python 3", "body": "<p>The only way I would say your code could be made more Pythonic is by using a <code>Counter</code> object instead of a regular <code>dict</code>, which streamlines the actual counting being performed by the <code>dict</code>:</p>\n\n<pre><code>&gt;&gt;&gt; from collections import Counter\n&gt;&gt;&gt; counts = Counter()\n&gt;&gt;&gt; s = \"abaacab\"\n&gt;&gt;&gt; total = 0\n&gt;&gt;&gt; for c in s:\n...     counts[c] += 1\n...     total += counts[c]\n...\n&gt;&gt;&gt; total\n14\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": false, "score": 1, "last_activity_date": 1498087717, "creation_date": 1498087717, "answer_id": 44687749, "question_id": 44687394, "link": "https://stackoverflow.com/questions/44687394/iterating-a-string-using-python-3/44687749#44687749", "title": "Iterating a string using Python 3", "body": "<p>SO willing, here's another answer that <em>actually</em> does what you want as you want it. Python3 compliant, haven't tested on Python2.</p>\n\n<pre><code>from functools import reduce, partial\ntotal = reduce(lambda x, y: x + y, map(lambda x: x * (x + 1) // 2,  map(partial(str.count, sys.argv[1]), set(sys.argv[1]))))\nprint(total)\n</code></pre>\n\n<p>Output </p>\n\n<pre><code>14\n</code></pre>\n\n<hr>\n\n<p>Breaking it down:</p>\n\n<p><code>partial(str.count, sys.argv[1]) ---- (1)</code> defines a higher order function which the <code>map</code> will apply to <code>sys.argv</code>. This way, your counts are created. A dict is not needed for the final answer so it is not created.</p>\n\n<p><code>map(---(1)---, set(sys.argv[1])) ---- (2)</code> applies the partial function (1)</p>\n\n<p><code>map(lambda x: x * (x + 1) // 2, ----(2)----) ----(3)</code> takes the counts generated by (2) and then applies AP to get the sum.</p>\n\n<p><code>reduce(lambda x, y: x + y, ----(3)----)</code> tops it off with a summation of the sums from (3).</p>\n"}], "owner": {"reputation": 2631, "user_id": 7551257, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/cb65191d421d20322e2cc7b64daa8531?s=128&d=identicon&r=PG&f=1", "display_name": "Melissa Stewart", "link": "https://stackoverflow.com/users/7551257/melissa-stewart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1498087717, "creation_date": 1498085159, "last_edit_date": 1498085917, "question_id": 44687394, "link": "https://stackoverflow.com/questions/44687394/iterating-a-string-using-python-3", "title": "Iterating a string using Python 3", "body": "<p>I want to write this code in a more pythonic way using map, reduce, filter. Can someone help me with that.</p>\n\n<p>This is a simple piece of code which assigns a total value to a string based on it's position in the string. \nFor example, for the string <code>abaacab</code></p>\n\n<pre><code>a b a a c a b\n1   2 3   4    occurrence of a\n  1         2  occurrence of b\n        1      occurrence of c\n1+1+2+3+1+4+2 = 14\n</code></pre>\n\n<hr>\n\n<pre><code>import sys\ncheck, total = {}, 0\nfor i, v in enumerate(sys.argv[1]):\n    if v in check:\n        check[v] += 1\n    else:\n        check[v] = 1\n    total += check[v]\nprint(total)\n</code></pre>\n"}, {"tags": ["python", "oracle"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1498085060, "post_id": 44687371, "comment_id": 76358786, "body": "Oracle is not MySQL, don&#39;t spam tags."}, {"owner": {"reputation": 61, "user_id": 6731212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2e33ce4b078347987779db702b21?s=128&d=identicon&r=PG", "display_name": "Anuj Vikal", "link": "https://stackoverflow.com/users/6731212/anuj-vikal"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1498085122, "post_id": 44687371, "comment_id": 76358811, "body": "@Barmar Sorry my mistake."}, {"owner": {"reputation": 61, "user_id": 6731212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2e33ce4b078347987779db702b21?s=128&d=identicon&r=PG", "display_name": "Anuj Vikal", "link": "https://stackoverflow.com/users/6731212/anuj-vikal"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1498085851, "post_id": 44687371, "comment_id": 76359019, "body": "@Barmar Thanks man. Worked for me."}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 6731212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2e33ce4b078347987779db702b21?s=128&d=identicon&r=PG", "display_name": "Anuj Vikal", "link": "https://stackoverflow.com/users/6731212/anuj-vikal"}, "is_accepted": false, "score": 1, "last_activity_date": 1498085964, "creation_date": 1498085964, "answer_id": 44687505, "question_id": 44687371, "link": "https://stackoverflow.com/questions/44687371/maximum-occurence-of-a-row-in-oracle-database-in-python/44687505#44687505", "title": "Maximum Occurence of a row in Oracle Database in Python", "body": "<p>SELECT stats_mode(USER_ID) FROM LIKES WHERE PICTURE_ID=104.</p>\n\n<p><strong>stats_mode()</strong> get the value for the maximum occurrence of a value.</p>\n\n<p>RESULT:-</p>\n\n<pre><code>STATS_MODE(USER_ID)\n        3 \n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6731212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d94b2e33ce4b078347987779db702b21?s=128&d=identicon&r=PG", "display_name": "Anuj Vikal", "link": "https://stackoverflow.com/users/6731212/anuj-vikal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "closed_date": 1498085996, "answer_count": 1, "score": 0, "last_activity_date": 1498085964, "creation_date": 1498084953, "last_edit_date": 1498085042, "question_id": 44687371, "link": "https://stackoverflow.com/questions/44687371/maximum-occurence-of-a-row-in-oracle-database-in-python", "closed_reason": "Duplicate", "title": "Maximum Occurence of a row in Oracle Database in Python", "body": "<p>My <strong>Oracle Database</strong> contains values:-</p>\n\n<pre><code>PICTURE_ID  USER_ID\n     101    1\n     101    2\n     102    1\n     102    2\n     102    3\n     104    1\n     104    2\n     104    3\n     104    3\n</code></pre>\n\n<p>I want to query over my database and get the result for a particular picture id with user_id with maximum occurrences.\nLike for PICTURE_ID = 104 result should be like:-</p>\n\n<pre><code>User_ID\n   3\n</code></pre>\n\n<p>As 3 occur maximum time.</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 7779, "user_id": 3120489, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/evP8V.png?s=128&g=1", "display_name": "dabadaba", "link": "https://stackoverflow.com/users/3120489/dabadaba"}, "edited": false, "score": 1, "creation_date": 1498085033, "post_id": 44687368, "comment_id": 76358780, "body": "care to even format your question?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1498085246, "post_id": 44687368, "comment_id": 76358847, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation.  <a href=\"http://stackoverflow.com/help/on-topic\">on topic</a> and <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> apply here. StackOverflow is not a design, coding, research, or tutorial service."}], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 3848765, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ITRqu.jpg?s=128&g=1", "display_name": "amonk", "link": "https://stackoverflow.com/users/3848765/amonk"}, "edited": false, "score": 0, "creation_date": 1498086506, "post_id": 44687422, "comment_id": 76359225, "body": "add your comments in the comment section"}, {"owner": {"reputation": 1, "user_id": 8196770, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zKkW-Clw0G0/AAAAAAAAAAI/AAAAAAAAAj4/FhMfdEvbZyk/photo.jpg?sz=128", "display_name": "Jayakumar M", "link": "https://stackoverflow.com/users/8196770/jayakumar-m"}, "edited": false, "score": 0, "creation_date": 1498086645, "post_id": 44687422, "comment_id": 76359252, "body": "have one more question,  i have  DEFINITION ={&quot;date&quot;:&quot;date&quot;,&quot;unit&quot;:&quot;Pound&quot;,&quot;model&quot;:&quot;model&quot;,&quot;manufacturer&zwnj;&#8203;&quot;:&quot;manufacturer&quot;,&quot;se&zwnj;&#8203;rialnumber&quot;:&quot;serialn&zwnj;&#8203;umber&quot;,&quot;Weight&quot;:&quot;Wei&zwnj;&#8203;ght123&quot;} TEMPLATE =  {   &quot;serialId&quot;: &quot;serialnumber&quot;,   &quot;dataType&quot;: &quot;WEIGHT&quot;,   &quot;data&quot;: {     &quot;type&quot;: &quot;WEIGHT&quot;,     &quot;uni&quot;: &quot;Pound&quot;,     &quot;date&quot;: &quot;date&quot;,     &quot;model&quot;: &quot;model&quot;,     &quot;manufacturer&quot;: &quot;manufacturer&quot;,     &quot;serialnumber&quot;: &quot;serialnumber&quot;,     &quot;Weight&quot;: &quot;Weight123&quot;   },   &quot;timeStamp&quot;: &quot;date&quot; }  how to create a new dictionary by comparing both and common values present in both."}], "tags": [], "owner": {"reputation": 68, "user_id": 6113142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHKnQ.png?s=128&g=1", "display_name": "Pratik K.", "link": "https://stackoverflow.com/users/6113142/pratik-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1498091411, "last_edit_date": 1498091411, "creation_date": 1498085372, "answer_id": 44687422, "question_id": 44687368, "link": "https://stackoverflow.com/questions/44687368/how-to-compare-two-list-of-dictionary-values-present-in-any-index/44687422#44687422", "title": "How to compare two list of dictionary values present in any index", "body": "<p>You could try something like this. <br>\n- <code>matched = [ x for x in dict1 if x in dict2 ]</code> <br>\n- <code>unmatched = [ x for x in dict1 if x not in dict2 ]</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8196770, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zKkW-Clw0G0/AAAAAAAAAAI/AAAAAAAAAj4/FhMfdEvbZyk/photo.jpg?sz=128", "display_name": "Jayakumar M", "link": "https://stackoverflow.com/users/8196770/jayakumar-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 44687422, "answer_count": 1, "score": -6, "last_activity_date": 1498091411, "creation_date": 1498084921, "last_edit_date": 1498088068, "question_id": 44687368, "link": "https://stackoverflow.com/questions/44687368/how-to-compare-two-list-of-dictionary-values-present-in-any-index", "title": "How to compare two list of dictionary values present in any index", "body": "<p>i have two list of dictionaries</p>\n\n<pre><code>dict1 = [{'Weight': '134.0', 'date': '2017-06-15 17:44:29', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '14.0', 'date': '2017-06-15 16:21:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '154.0', 'date': '2017-06-15 16:21:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '184.0', 'date': '2017-06-15 15:47:49', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '104.0', 'date': '2017-06-15 17:11:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '134.0', 'date': '2017-06-15 17:27:49', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}]\ndict2 = [{'Weight': '124.0', 'date': '2017-06-15 17:35:19', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '184.0', 'date': '2017-06-15 15:47:49', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '114.0', 'date': '2017-06-15 17:11:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '14.0', 'date': '2017-06-15 16:21:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}]\n</code></pre>\n\n<p>result should be matched in one list of dictionary and non matched should be in other dictionary</p>\n\n<p><em>example</em>: </p>\n\n<pre><code>matched:   [{'Weight': '14.0', 'date': '2017-06-15 16:21:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}]\nnonmatched: [{'Weight': '124.0', 'date': '2017-06-15 17:35:19', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '184.0', 'date': '2017-06-15 15:47:49', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}, {'Weight': '114.0', 'date': '2017-06-15 17:11:09', 'model': '2011', 'serialnumber': 'SN_WEIGHT082', 'unit': 'Kg', 'manufacturer': 'CONTINUA'}]\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 68, "user_id": 6113142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cHKnQ.png?s=128&g=1", "display_name": "Pratik K.", "link": "https://stackoverflow.com/users/6113142/pratik-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1498085133, "creation_date": 1498085133, "answer_id": 44687390, "question_id": 44687365, "link": "https://stackoverflow.com/questions/44687365/how-to-mark-entries-that-do-not-satisfy-a-statement-in-a-try-loop/44687390#44687390", "title": "How to mark entries that do not satisfy a statement in a try loop", "body": "<p>You could always nest <code>try</code>s, something like </p>\n\n<pre><code>try:\n    try:\n        up_limit = np.where(calChannel_data &gt;= np.percentile(calChannel_data, 90, axis = 0) )\n    except:\n       up_limit = \"Failed\" # or whatever\n    # ... similarly for the others\n    low_limit = np.where(calChannel_data == np.min(calChannel_data))\n    midpoint = np.where( np.logical_and(calChannel_data &gt;= np.percentile(calChannel_data, 45, axis = 0), \\\n                                    calChannel_data &lt;= np.percentile(calChannel_data, 55, axis = 0)))\n    before_fall =up_limit[0][ np.where(up_limit[0] &lt;= low_limit[0][0])]\n    after_fall = up_limit[0][np.where(up_limit[0]&gt;= low_limit[0][0])]\nexcept IndexError:\n    print(\"the criteria was not met\") \nelse:\n    return  ch, up_limit[0], low_limit[0][0], midpoint[0], before_fall, after_fall\nfinally: \n    print(\"the end\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8196446, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10212635290984872/picture?type=large", "display_name": "Ramiro Torres", "link": "https://stackoverflow.com/users/8196446/ramiro-torres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498085133, "creation_date": 1498084912, "question_id": 44687365, "link": "https://stackoverflow.com/questions/44687365/how-to-mark-entries-that-do-not-satisfy-a-statement-in-a-try-loop", "title": "How to mark entries that do not satisfy a statement in a try loop", "body": "<p>I am trying to determine the rise &amp; fall time of a signal, which looks like this:<a href=\"https://i.stack.imgur.com/uFDPX.png\" rel=\"nofollow noreferrer\">PMT Signal</a></p>\n\n<p>The goal is to find the fall and rise time of the signal. What I have tried is to assign a 90 percent level in the flat part of the signal and assign the 0-10 % as the minimum of the signal. Here's what I have tried:</p>\n\n<p>def drop_time(self, ch, calChannel_data):</p>\n\n<pre><code>    try:\n        up_limit = np.where(calChannel_data &gt;= np.percentile(calChannel_data, 90, axis = 0) )\n        low_limit = np.where(calChannel_data == np.min(calChannel_data))\n        midpoint = np.where( np.logical_and(calChannel_data &gt;= np.percentile(calChannel_data, 45, axis = 0), \\\n                                        calChannel_data &lt;= np.percentile(calChannel_data, 55, axis = 0)))\n        before_fall =up_limit[0][ np.where(up_limit[0] &lt;= low_limit[0][0])]\n        after_fall = up_limit[0][np.where(up_limit[0]&gt;= low_limit[0][0])]\n    except IndexError:\n        print(\"the criteria was not met\") \n    else:\n        return  ch, up_limit[0], low_limit[0][0], midpoint[0], before_fall, after_fall\n    finally: \n        print(\"the end\")\n</code></pre>\n\n<p>However, it doesn't fully work for there are parts of the signal that don't satisfy the condition in the try: part of the code. Is there a way to mark any instances where the condition wasn't satisfied and prevent it from stopping? </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498085624, "post_id": 44687366, "comment_id": 76358960, "body": "each cell within the column values1 is empty. It only contains []"}, {"owner": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498089188, "post_id": 44687366, "comment_id": 76359914, "body": "This gives me - print (type(df.loc[0, &#39;values&#39;])): &lt;class &#39;tuple&#39;&gt;"}, {"owner": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498089212, "post_id": 44687366, "comment_id": 76359922, "body": "I get the error - ValueError: shape mismatch: objects cannot be broadcast to a single shape"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498104789, "post_id": 44687366, "comment_id": 76363509, "body": "Are data confidental? If not, is possible sent them to my email in my profile?"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 0, "last_activity_date": 1498085793, "last_edit_date": 1498085793, "creation_date": 1498084919, "answer_id": 44687366, "question_id": 44687338, "link": "https://stackoverflow.com/questions/44687338/list-and-data-frames-manipulation/44687366#44687366", "title": "list and data frames manipulation", "body": "<p>Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> or nested <code>list comprehension</code>:</p>\n\n<pre><code>print (type(df.loc[0, 'values']))\n&lt;class 'str'&gt;\n\nfrom ast import literal_eval\n#convert string values to lists\ndf['values'] = df['values'].apply(literal_eval)\n\nprint (type(df.loc[0, 'values']))\n&lt;class 'list'&gt;\n\ndf['values1'] = df['values'].apply(lambda x: [element for element in x if element in list1])\nprint (df)\n                    values           values1\n0       [12f4, ff45, tr23]            [ff45]\n1   [125g4, ff145, trr523]    [125g4, ff145]\n2  [12f34, ff2345, trg23a]  [ff2345, trg23a]\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>df['values1'] = [[element for element in x if element in list1] for x in df['values']]\nprint (df)\n                    values           values1\n0       [12f4, ff45, tr23]            [ff45]\n1   [125g4, ff145, trr523]    [125g4, ff145]\n2  [12f34, ff2345, trg23a]  [ff2345, trg23a]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498089465, "post_id": 44687897, "comment_id": 76359973, "body": "I get the error - ValueError: shape mismatch: objects cannot be broadcast to a single shape"}, {"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "reply_to_user": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "edited": false, "score": 0, "creation_date": 1498089885, "post_id": 44687897, "comment_id": 76360059, "body": "Given that you got this error with both my solution and that of @jezrael, it seems that you have some malformed data.  I would first try to isolate the dataframe causing the problem and then try to subset the dataframe to find the bad data."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1498089136, "last_edit_date": 1498089136, "creation_date": 1498088834, "answer_id": 44687897, "question_id": 44687338, "link": "https://stackoverflow.com/questions/44687338/list-and-data-frames-manipulation/44687897#44687897", "title": "list and data frames manipulation", "body": "<p>You can use <code>map</code> and <code>filter</code>, although conditional list comprehensions like that used in @jezrael's solution is probably slightly more efficient.</p>\n\n<p>You are basically running the filter lambda expression on each item in the df['values'] column.</p>\n\n<pre><code>values = [u'trg23a',u'ff2345',u'ff45',u'fg567ui',u'45ty78',u'125g4',u'ff145']\n\ndf = df.assign(\n    values1=df['values'].map(\n        lambda row_items: filter(lambda item: item in values, row_items)))\n\n&gt;&gt;&gt; df\n                    values           values1\n0       [12f4, ff45, tr23]            [ff45]\n1   [125g4, ff145, trr523]    [125g4, ff145]\n2  [12f34, ff2345, trg23a]  [ff2345, trg23a]\n</code></pre>\n"}], "owner": {"reputation": 941, "user_id": 6461192, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9591f4de71c76a92ca769e20bc9282b5?s=128&d=identicon&r=PG&f=1", "display_name": "ComplexData", "link": "https://stackoverflow.com/users/6461192/complexdata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 44687366, "answer_count": 2, "score": 1, "last_activity_date": 1498089136, "creation_date": 1498084729, "question_id": 44687338, "link": "https://stackoverflow.com/questions/44687338/list-and-data-frames-manipulation", "title": "list and data frames manipulation", "body": "<p>I have a dataframe df with one of the column \"values\". It contains - </p>\n\n<pre><code>values\n[u'12f4',u'ff45',u'tr23']\n[u'125g4',u'ff145',u'trr523']\n[u'12f34',u'ff2345',u'trg23a']\n</code></pre>\n\n<p>I have a separate list 'list1' containing some of the values - </p>\n\n<pre><code>[u'trg23a',u'ff2345',u'ff45',u'fg567ui',u'45ty78',u'125g4',u'ff145']\n</code></pre>\n\n<p>I want to create a new column in df called \"values1\" containing only those values that exist in \"list1\". So output should be like - </p>\n\n<pre><code>values                            values\n[u'12f4',u'ff45',u'tr23']         [u'ff45']\n[u'125g4',u'ff145',u'trr523']     [u'125g4',u'ff145']\n[u'12f34',u'ff2345',u'trg23a']    [u'ff2345',u'trg23a']\n</code></pre>\n\n<p>I have tried below code, but it doesn't seem to be working. </p>\n\n<pre><code>df['values1'] = [element for element in \ndf['values'] if element not in list1]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 28036, "user_id": 68998, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/d959037a9a17aba5d4d52b6ef4047dba?s=128&d=identicon&r=PG", "display_name": "newtover", "link": "https://stackoverflow.com/users/68998/newtover"}, "is_accepted": false, "score": 0, "last_activity_date": 1498088689, "last_edit_date": 1498088689, "creation_date": 1498087935, "answer_id": 44687776, "question_id": 44687328, "link": "https://stackoverflow.com/questions/44687328/cannot-import-numpy-in-python2-7-macosx-even-though-it-is-installed/44687776#44687776", "title": "Cannot import numpy in python2.7 (macOSX) even though it is installed", "body": "<p>The problem is that you have several versions of python installed. The one that is run by default and lives in <code>/System/Library/Frameworks/Python.framework/</code> (starts with <code>/System</code>) and symlinked to <code>/usr/bin/python</code> (<code>/usr/bin/python2.7</code>) is called system python (it is better not to touch it). The one that is installed by default in <code>/Library/Frameworks/Python.framework/</code> is usually python3 and is available through <code>/usr/local/bin/python</code> (<code>/usr/local/bin/python3</code>). If you install something yourself (by downloading from the python.org or through brew install), it will go into <code>/Library/Frameworks/Python.framework/</code> as well and overwrite the symlink <code>/usr/local/bin/python</code>.</p>\n\n<p>Since /usr/bin in your PATH is before /usr/local/bin, when you invoke <code>python</code>, you invoke the <code>/usr/bin/python</code>. That is the simplest solution is to invoke python with the full path /usr/local/bin/python, or make an alias in bash.</p>\n\n<p>But I would recommend using <a href=\"https://github.com/pyenv/pyenv\" rel=\"nofollow noreferrer\">pyenv</a> for managing versions of python on your mac. You will not regret, especially if you're going to install <a href=\"https://www.continuum.io/downloads\" rel=\"nofollow noreferrer\">anaconda</a>.</p>\n"}], "owner": {"reputation": 575, "user_id": 7811354, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/09c0ad72281412a51c760418f2ff9b94?s=128&d=identicon&r=PG&f=1", "display_name": "CuriousDude", "link": "https://stackoverflow.com/users/7811354/curiousdude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498088689, "creation_date": 1498084689, "question_id": 44687328, "link": "https://stackoverflow.com/questions/44687328/cannot-import-numpy-in-python2-7-macosx-even-though-it-is-installed", "title": "Cannot import numpy in python2.7 (macOSX) even though it is installed", "body": "<p>So for some reason, I can no longer import the numpy package when I run python in my mac terminal (macOS Sierra). \nI've run pip install numpy and other versions of this and they all tell me that numpy is installed (which I had installed a year ago and had it working fine). </p>\n\n<p>It always says this:</p>\n\n<p>numpy in /Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</p>\n\n<p>However, when I run python in my terminal (I even ran it as python2.7) and then type import numpy it says the module is not found...\nI actually have no idea how to make it import the module as it constantly tells me that I do have it. </p>\n\n<p>Anyone else face this problem? I really don't know why it won't import anymore (I swear it worked fine a year ago!).</p>\n"}, {"tags": ["python", "excel", "python-2.7", "xlsxwriter"], "comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 1, "creation_date": 1498084492, "post_id": 44687180, "comment_id": 76358629, "body": "li1 is a list. You&#39;re not iterating over pairs of the items in: you&#39;re trying to convert a single integer into multiple items.  You need to change your append call to <code>append((Severity, Summary))</code> so you can iterate as so (over tuples of 2 items)."}], "owner": {"reputation": 25, "user_id": 8196724, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/307f53fe026f6d37acc49573df5b4b0b?s=128&d=identicon&r=PG&f=1", "display_name": "koushiskool", "link": "https://stackoverflow.com/users/8196724/koushiskool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 677, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498083742, "creation_date": 1498083742, "question_id": 44687180, "link": "https://stackoverflow.com/questions/44687180/python-xlsxwriter-error-workbook-not-closing-correctly", "title": "Python XLSXwriter error. Workbook not closing correctly", "body": "<p>I am trying to generate a excel worksheet from a list using the module xlsxwriter, but I keep getting an error that the workbook won't close. Here is the error message, and code. The list is generating data correctly. </p>\n\n<p>Code:</p>\n\n<pre><code>    import csv  \nimport xlsxwriter\nf = open('alerts2.csv')\ncsv_f = csv.reader(f)\nli1 = []\nheader = next(csv_f)\nfor row in csv_f:\n\n    # li1.append(row[5])\n    # li1.append(row[0]) \n    severity = int(row[0]) #Has The the integer value from 10 - 40\n    if severity != 40:\n        continue\n    Status = str(row[1])\n    PolicyName = str(row[2])\n    PolicyBlockName = str(row[3])\n    PolicyRuleName = str(row[4])\n    Summary = str(row[5])\n    li1.append(severity)\n    li1.append(Summary) # string variables\nprint li1\nf.close()\nprint len(li1)\n#creating a workbook and a worksheet\nworkbook = xlsxwriter.Workbook('results_stuff.xlsx')\nworksheet = workbook.add_worksheet()\n\n#initializing variables called row and columns for inputting\nrow = 0\ncol = 0\n\n#forloop iteration over the data and writing it in row by row\nfor severity_level, summary_description in (li1):\n    worksheet.write(row, col,    severity_level)\n    worksheet.write(row, col +1, summary_description)\n    row += 1\nworkbook.close()\n</code></pre>\n\n<p>ERROR MESSAGE:</p>\n\n<pre><code>traceback (most recent call last):\n  File \"parse.py\", line 33, in &lt;module&gt;\n    for severity_level, summary_description in (li1):\nTypeError: 'int' object is not iterable\nException Exception: Exception('Exception caught in workbook destructor. Explicit close() may be required for workbook.',) in &lt;bound method Workbook.__del__ of &lt;xlsxwriter.workbook.Workbook object at 0x1054fefd0&gt;&gt; ignored\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1498083857, "post_id": 44687179, "comment_id": 76358425, "body": "This is the kind of thing that can be achieved in a matter of 2 lines with numpy or pandas. Or are you looking for a vanilla python solution?"}, {"owner": {"reputation": 11, "user_id": 8196699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aba41322d6789ba0520db7e83fbe2cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben D", "link": "https://stackoverflow.com/users/8196699/ben-d"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498083982, "post_id": 44687179, "comment_id": 76358475, "body": "I&#39;m looking for a solution in python (very new to using python here)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498084089, "post_id": 44687179, "comment_id": 76358511, "body": "The first value after the year... 2/1... those aren&#39;t %, so what are they?"}, {"owner": {"reputation": 11, "user_id": 8196699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aba41322d6789ba0520db7e83fbe2cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben D", "link": "https://stackoverflow.com/users/8196699/ben-d"}, "reply_to_user": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498084173, "post_id": 44687179, "comment_id": 76358542, "body": "I forgot about those, those are the year-end rankings for the player"}], "owner": {"reputation": 11, "user_id": 8196699, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aba41322d6789ba0520db7e83fbe2cbf?s=128&d=identicon&r=PG&f=1", "display_name": "Ben D", "link": "https://stackoverflow.com/users/8196699/ben-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555115567, "creation_date": 1498083741, "last_edit_date": 1555115482, "question_id": 44687179, "link": "https://stackoverflow.com/questions/44687179/how-do-i-calculate-differences-between-sets-of-numbers-in-python", "title": "How do I calculate differences between sets of numbers in python?", "body": "<p>I have statistics for various pro tennis players, and I'm trying to find a way to show the change in percentage for a given statistic across all players. I have data for a given player over two years, and each year has its own row in a python text file.\nFor instance, if I want to search for % of service games won (I've displayed those percentages in decimal form), I want an outfile to show up with different rows, each with the following information: Player name, and +/- in that statistic between those two years. Here is the data I'm working on currently, and the first lines of code just setting it up:</p>\n\n<p>Murray, 2015, 2, .75, .47, .52, .64, .84, .55, .45, .31</p>\n\n<p>Murray, 2016, 1, .76, .46, .54, .66, .85, .56, .45, .37</p>\n\n<hr>\n\n<pre><code>infile = open(\"/Users/student/PycharmProjects/untitled6/final project data\", 'r')\noutfile = open(\"/Users/student/PycharmProjects/untitled6/.idea/final project outfile\", 'w')\nplayerinfo = []\nheader = infile.readline()\ntennisdata = []\n\nfor aline in infile:\n    info = aline.split(',')\n    playerinfo.append(info)\n</code></pre>\n"}, {"tags": ["python", "email", "smtp"], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "edited": false, "score": 0, "creation_date": 1498085117, "post_id": 44687284, "comment_id": 76358808, "body": "is <code>smtp.gmail.com:587</code> a valid SMTP host name that I can actually use in my code or is just a sample example?"}, {"owner": {"reputation": 508, "user_id": 3209904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acb8ccdb13e0611420ea38a4dede780d?s=128&d=identicon&r=PG&f=1", "display_name": "bbastu", "link": "https://stackoverflow.com/users/3209904/bbastu"}, "reply_to_user": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "edited": false, "score": 0, "creation_date": 1498085361, "post_id": 44687284, "comment_id": 76358881, "body": "@user2916886 check the last link. It is mentioned there. I think you need a gmail account or similar. It&#39;s best you read it yourself."}, {"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "edited": false, "score": 0, "creation_date": 1498141751, "post_id": 44687284, "comment_id": 76387406, "body": "I am getting <code>OSError: [WinError 10013] An attempt was made to access a socket in a way forbidden by its access permissions</code> when I am trying to run my code using <code>&#39;smtp.gmail.com:587</code>"}, {"owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "edited": false, "score": 0, "creation_date": 1498144196, "post_id": 44687284, "comment_id": 76389396, "body": "I was able to resolve above error by disabling email sending blocking in my antivirus as well as enabling <code>access from less secure app</code> in my gmail account"}], "tags": [], "owner": {"reputation": 2999, "user_id": 8071126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550f1700622fccf1b6980580222c8d80?s=128&d=identicon&r=PG", "display_name": "glegoux", "link": "https://stackoverflow.com/users/8071126/glegoux"}, "is_accepted": false, "score": 2, "last_activity_date": 1498084410, "creation_date": 1498084410, "answer_id": 44687284, "question_id": 44687159, "link": "https://stackoverflow.com/questions/44687159/how-to-create-a-free-smtp-server/44687284#44687284", "title": "How to create a free SMTP server", "body": "<pre><code>import smtplib\n\nusername = 'user'\npassword = 'pwd'\n\nfrom_addr = 'username@gmail.com'\nto_addrs = 'username@gmail.com'\n\nmsg = \"\\r\\n\".join([\n  \"From: username@gmail.com\",\n  \"To: username@gmail.com\",\n  \"Subject: subject\",\n  \"\",\n  \"message\"\n  ])\n\nserver = smtplib.SMTP('smtp.gmail.com:587')\nserver.ehlo()\nserver.starttls()\nserver.login(username, password)\nserver.sendmail(from_addr, to_addrs, msg)\nserver.quit()\n</code></pre>\n\n<p>You can use <code>mutt</code> linux command also <a href=\"http://www.mutt.org/doc/mutt.1.txt\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>See :<br>\n<a href=\"https://docs.python.org/3/library/smtplib.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/smtplib.html</a><br>\n<a href=\"https://support.google.com/a/answer/176600?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/a/answer/176600?hl=en</a></p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 5843742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RsQMd.jpg?s=128&g=1", "display_name": "Vojt\u011bch Pithart", "link": "https://stackoverflow.com/users/5843742/vojt%c4%9bch-pithart"}, "is_accepted": false, "score": 0, "last_activity_date": 1498085245, "creation_date": 1498085245, "answer_id": 44687405, "question_id": 44687159, "link": "https://stackoverflow.com/questions/44687159/how-to-create-a-free-smtp-server/44687405#44687405", "title": "How to create a free SMTP server", "body": "<p>You need service like <a href=\"https://mailtrap.io/\" rel=\"nofollow noreferrer\">https://mailtrap.io/</a>. You'll get SMTP server address (eventually port number) that you point your application to. All e-mails produced by your application will be then intercepted by mailtrap (thus not delivered to the real <code>To:</code> address).</p>\n\n<p>They offer free variant that seems to be suitable for your needs.</p>\n"}], "owner": {"reputation": 809, "user_id": 2916886, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/21b5f91f799f6e0c4fd70b50931fc7d0?s=128&d=identicon&r=PG&f=1", "display_name": "user2916886", "link": "https://stackoverflow.com/users/2916886/user2916886"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1130, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1498085245, "creation_date": 1498083622, "question_id": 44687159, "link": "https://stackoverflow.com/questions/44687159/how-to-create-a-free-smtp-server", "title": "How to create a free SMTP server", "body": "<p>I am not at all familiar with <code>SMTP</code> but I am working on sending <code>emails</code> through <code>Python</code> code. I have the code but I need to pass <code>SMTP</code> <code>host name</code> for it to actually work. Is there any service which provides a free <code>SMTP</code> service that I leverage for testing out my code? I looked around to create my own <code>SMTP server</code> but couldn't find something that provides a step by step guide to create a <code>SMTP server</code>. I want to create a free server(or if there is any free service) that will provide me with a host name(<code>ip</code> address) so that I can put that host name in my python code and execute it from any machine.</p>\n\n<p>If anyone can point me in the right direction it will be helpful.</p>\n"}, {"tags": ["python", "opencv", "aruco"], "answers": [{"tags": [], "owner": {"reputation": 66, "user_id": 5327426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71dedaaf9a33865ee9a502211e161990?s=128&d=identicon&r=PG&f=1", "display_name": "Collin", "link": "https://stackoverflow.com/users/5327426/collin"}, "is_accepted": true, "score": 0, "last_activity_date": 1498100695, "creation_date": 1498100695, "answer_id": 44689457, "question_id": 44687133, "link": "https://stackoverflow.com/questions/44687133/opencv-python-and-aruco-library-estimateposesinglemarker-module-has-no-attribu/44689457#44689457", "title": "OpenCV-python and ArUco library estimatePoseSingleMarker() module has no attribute", "body": "<p>the module is aruco.estimatePoseSingleMarkers with an s at the end</p>\n"}], "owner": {"reputation": 69, "user_id": 5411288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c1383d5d87942df649cd1476f5419655?s=128&d=identicon&r=PG&f=1", "display_name": "Drak", "link": "https://stackoverflow.com/users/5411288/drak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 986, "favorite_count": 0, "accepted_answer_id": 44689457, "answer_count": 1, "score": 0, "last_activity_date": 1498100695, "creation_date": 1498083462, "last_edit_date": 1498084001, "question_id": 44687133, "link": "https://stackoverflow.com/questions/44687133/opencv-python-and-aruco-library-estimateposesinglemarker-module-has-no-attribu", "title": "OpenCV-python and ArUco library estimatePoseSingleMarker() module has no attribute", "body": "<p>working with OpenCV-python and the aruco library for a tracking project.\nThe following error is thrown when using</p>\n\n<pre><code>rvecs,tvecs = aruco.estimatePoseSingleMarker(corners, 0.1765, cameraMatrix, distcoefs)\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>AttributeError: 'module' object has no attribute 'estimatePoseSingleMarker\n</code></pre>\n\n<p>others work fine</p>\n\n<p><code>aruco.Dictionary_get(aruco.Dict_6x6_250)</code></p>\n\n<p><code>aruco.DetectParameters_create()</code></p>\n\n<p>any idea why its throwing that error?</p>\n\n<pre><code>&gt;&gt;&gt; cv2.__version__\n'3.2.0-dev'\n\nodroid@odroid:~$ python --version\nPython 2.7.12\n\nodroid@odroid:~$ uname -a\nLinux odroid 3.10.104-126 #1 SMP PREEMPT Tue Nov 29 22:24:16 UTC 2016 \narmv7l armv7l armv7l GNU/Linux\n</code></pre>\n\n<p>edit: its in the help documentation</p>\n\n<pre><code>help(cv2.aruco)\nHelp on module cv2.aruco in cv2:\n\nNAME\n    cv2.aruco\n\nFILE\n    (built-in)\n\nFUNCTIONS\n\n\nestimatePoseSingleMarkers(...)\n    estimatePoseSingleMarkers(corners, markerLength, cameraMatrix, \ndistCoeffs[, rvecs[, tvecs[, _objPoints]]]) -&gt; rvecs, tvecs, \n_objPoints\n</code></pre>\n"}, {"tags": ["python", "django", "celery", "nohup"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1498083407, "post_id": 44687091, "comment_id": 76358278, "body": "That sounds more like a) a task for a start job and b) a question for a system related sibling site of SO."}, {"owner": {"reputation": 81, "user_id": 4842446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMZrxzb9024/AAAAAAAAAAI/AAAAAAAABmg/FdTyYXgIVaY/photo.jpg?sz=128", "display_name": "Jose Moreno", "link": "https://stackoverflow.com/users/4842446/jose-moreno"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1498083524, "post_id": 44687091, "comment_id": 76358322, "body": "Hi! Do you know how to do it?"}, {"owner": {"reputation": 1747, "user_id": 2896976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3baa97daedb276fbd0cdca06d6de4d2d?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2896976/jesse"}, "edited": false, "score": 0, "creation_date": 1498083660, "post_id": 44687091, "comment_id": 76358361, "body": "<a href=\"https://www.cyberciti.biz/faq/linux-execute-cron-job-after-system-reboot/\" rel=\"nofollow noreferrer\">cyberciti.biz/faq/linux-execute-cron-job-after-system-reboot</a>"}, {"owner": {"reputation": 81, "user_id": 4842446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMZrxzb9024/AAAAAAAAAAI/AAAAAAAABmg/FdTyYXgIVaY/photo.jpg?sz=128", "display_name": "Jose Moreno", "link": "https://stackoverflow.com/users/4842446/jose-moreno"}, "edited": false, "score": 0, "creation_date": 1498083840, "post_id": 44687091, "comment_id": 76358419, "body": "Thanks for your help, I made that but it seems to be that the virtual env does not start"}], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 4842446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMZrxzb9024/AAAAAAAAAAI/AAAAAAAABmg/FdTyYXgIVaY/photo.jpg?sz=128", "display_name": "Jose Moreno", "link": "https://stackoverflow.com/users/4842446/jose-moreno"}, "is_accepted": false, "score": 0, "last_activity_date": 1499949823, "creation_date": 1499949823, "answer_id": 45080967, "question_id": 44687091, "link": "https://stackoverflow.com/questions/44687091/run-django-celery-nohup-in-crontab/45080967#45080967", "title": "Run Django Celery Nohup in Crontab", "body": "<p>I solved making this:</p>\n\n<p>nohup path_to_virtual_env/bin/python path_to_project/manage.py celeryd -E -B --loglevel=DEBUG &lt; /dev/null &amp;>/dev/null &amp;</p>\n"}], "owner": {"reputation": 81, "user_id": 4842446, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QMZrxzb9024/AAAAAAAAAAI/AAAAAAAABmg/FdTyYXgIVaY/photo.jpg?sz=128", "display_name": "Jose Moreno", "link": "https://stackoverflow.com/users/4842446/jose-moreno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 260, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1499949823, "creation_date": 1498083133, "question_id": 44687091, "link": "https://stackoverflow.com/questions/44687091/run-django-celery-nohup-in-crontab", "title": "Run Django Celery Nohup in Crontab", "body": "<p>I want to run some tasks in django. I'm using Celery to do this. Usually, I run this command to execute the tasks:</p>\n\n<pre><code>source myvirtualenvpath/bin/activate\nnohup python manage.py celeryd -E -B --loglevel=DEBUG &lt; /dev/null &amp;&gt;/dev/null &amp;\n</code></pre>\n\n<p>I want to do this each time the machine reboot with a crontab. How can I\ndo this?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "windows", "python-3.x", "pyqt", "label"], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 960709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c64db5bc9ff043b53ae3f6bde45e0fc8?s=128&d=identicon&r=PG", "display_name": "Joe P", "link": "https://stackoverflow.com/users/960709/joe-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1498086779, "creation_date": 1498086779, "answer_id": 44687625, "question_id": 44687084, "link": "https://stackoverflow.com/questions/44687084/pyqt-label-not-changing-text/44687625#44687625", "title": "PyQt Label not changing text", "body": "<p>Qt (and most UI frameworks) don't update the display as soon as values are set, only when they are told to repaint.</p>\n\n<p>What you need to do is add a call</p>\n\n<pre><code>QtGui.QApplication.processEvents()\n</code></pre>\n\n<p>before your long-running subprocess, to make it process all pending events.</p>\n"}], "owner": {"reputation": 629, "user_id": 7116039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh6.googleusercontent.com/-W1XRU2i8SxQ/AAAAAAAAAAI/AAAAAAAAAHs/ceXJf5aD9w4/photo.jpg?sz=128", "display_name": "olegario", "link": "https://stackoverflow.com/users/7116039/olegario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 44687625, "answer_count": 1, "score": 0, "last_activity_date": 1525289746, "creation_date": 1498083080, "last_edit_date": 1525289746, "question_id": 44687084, "link": "https://stackoverflow.com/questions/44687084/pyqt-label-not-changing-text", "title": "PyQt Label not changing text", "body": "<p>I have this code running on a PyQt window on windows:</p>\n\n<pre><code>    try:\n        self.actorUser.findIdfFiles(pathToFolder)\n        msg = \"Processando arquivos...\"\n        self.processingLabel.setText(msg)\n\n        self.actorUser.runSimulation(pathToFolder, pathToEpw)\n</code></pre>\n\n<p>Inside the \"runSimulation\" code I start a subprocess using the method \"call\". This blocks my GUI and at the title of the window appears \"Python stopping responding\", but if I wait a little bit the subprocess finishes normally, and the label is finally changed. But what I want is that the label have is text really changed before the subprocess started. What can I do??</p>\n"}, {"tags": ["python", "list", "sorting", "nested-lists"], "answers": [{"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1498083508, "post_id": 44687093, "comment_id": 76358317, "body": "Can anyone come up with a <code>lambda</code>-free solution for this?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498084304, "post_id": 44687093, "comment_id": 76358592, "body": "... <code>def key_func(x): return len(x[1])</code> :)"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498084695, "post_id": 44687093, "comment_id": 76358682, "body": "It&#39;s like I learned nothing from my last question. Lol. Thanks."}, {"owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "edited": false, "score": 0, "creation_date": 1498085148, "post_id": 44687093, "comment_id": 76358818, "body": "@Coldspeed For <code>lambda</code> free solution, how about using <code>arg.sort()</code> from <code>numpy</code>?"}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "edited": false, "score": 0, "creation_date": 1498085338, "post_id": 44687093, "comment_id": 76358874, "body": "@open-source Perfect, thank you. I do believe there is no vanilla one liner without using <code>lambda</code>. Numpy is the only other way to go. <code>&gt;&gt;&gt; np.argsort(lists); array([2, 0, 1])</code>"}, {"owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "edited": false, "score": 0, "creation_date": 1498085536, "post_id": 44687093, "comment_id": 76358933, "body": "@Coldspeed I just used <code>list comprehension</code>  for it, just for reference I posted the answer, I don&#39;t know how efficient it would be though."}], "tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 8, "last_activity_date": 1498083146, "creation_date": 1498083146, "answer_id": 44687093, "question_id": 44687057, "link": "https://stackoverflow.com/questions/44687057/keeping-track-of-original-indicies-when-sorting-a-list-of-lists-by-length/44687093#44687093", "title": "Keeping track of original indicies when sorting a list of lists by length", "body": "<p>It is very possible. Just modify the key a bit to specify the right predicate on which <code>len</code> is to be applied.</p>\n\n<pre><code>&gt;&gt;&gt; lists = [l1, l2, l3]\n&gt;&gt;&gt; lists = sorted(enumerate(lists), key=lambda x: len(x[1])) # enumerate is a tuple of (index, elem), sort by len(elem)\n[(2, [1, 2]), (0, [1, 2, 3]), (1, [1, 2, 3])]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 1, "creation_date": 1498086291, "post_id": 44687438, "comment_id": 76359159, "body": "Seems fine. As for speed, they&#39;d both be the same since they both internally run on C routines."}], "tags": [], "owner": {"reputation": 13633, "user_id": 5916727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f1508d2b83d8f3b1c7450023486045d?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/5916727/student"}, "is_accepted": false, "score": 1, "last_activity_date": 1498085484, "creation_date": 1498085484, "answer_id": 44687438, "question_id": 44687057, "link": "https://stackoverflow.com/questions/44687057/keeping-track-of-original-indicies-when-sorting-a-list-of-lists-by-length/44687438#44687438", "title": "Keeping track of original indicies when sorting a list of lists by length", "body": "<p>Using <code>arg.sort()</code> from <code>numpy</code> with <code>list comprehension</code> can be other way:</p>\n\n<pre><code>import numpy\n\nnew_list = [(index, lists[index])for index in numpy.argsort(lists)]\nprint(new_list)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[(2, [1, 2]), (0, [1, 2, 3]), (1, [1, 2, 3])]\n</code></pre>\n"}], "owner": {"reputation": 765, "user_id": 4025404, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "John Crow", "link": "https://stackoverflow.com/users/4025404/john-crow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 44687093, "answer_count": 2, "score": 5, "last_activity_date": 1501070410, "creation_date": 1498082940, "last_edit_date": 1501070410, "question_id": 44687057, "link": "https://stackoverflow.com/questions/44687057/keeping-track-of-original-indicies-when-sorting-a-list-of-lists-by-length", "title": "Keeping track of original indicies when sorting a list of lists by length", "body": "<p>You can sort a list of lists by length as follows:</p>\n\n<pre><code>l1 = [1,2,3]\nl2 = [1,2,3]\nl3 = [1,2]\nlists = [l1, l2, l3]\nsorted_lists = sorted(lists, key=len)\nprint sorted_lists  #[[1,2], [1,2,3], [1,2,3]]\n</code></pre>\n\n<p>I can't figure out how to keep track of the indicies to then match up the contents of <code>sorted_lists</code> with the original list names <code>l1</code>, <code>l2</code> and <code>l3</code>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/6422754/4025404\">This</a> gets close, but I'm not sure how the solution can be implemented when sorting by length.</p>\n"}, {"tags": ["python", "sql", "django", "django-queryset"], "comments": [{"owner": {"reputation": 676, "user_id": 5252522, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TLdtyS7mY7A/AAAAAAAAAAI/AAAAAAAAAnI/iDfBO_ux0Bo/photo.jpg?sz=128", "display_name": "Quentin", "link": "https://stackoverflow.com/users/5252522/quentin"}, "edited": false, "score": 0, "creation_date": 1498084034, "post_id": 44687043, "comment_id": 76358495, "body": "This question may be related: <a href=\"https://stackoverflow.com/questions/14349889/how-to-use-a-regular-expression-to-extract-json-fields\" title=\"how to use a regular expression to extract json fields\">stackoverflow.com/questions/14349889/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1264, "user_id": 1437155, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/dfebbc825b9da7cefffc75651fa8d0d7?s=128&d=identicon&r=PG", "display_name": "suprita shankar", "link": "https://stackoverflow.com/users/1437155/suprita-shankar"}, "is_accepted": true, "score": 0, "last_activity_date": 1498238349, "creation_date": 1498238349, "answer_id": 44726857, "question_id": 44687043, "link": "https://stackoverflow.com/questions/44687043/django-rawsql-query-to-do-filter-on-nested-json/44726857#44726857", "title": "Django RawSql query to do filter on nested json", "body": "<p>It cannot be done as seen here - <a href=\"https://docs.djangoproject.com/en/1.11/ref/contrib/postgres/fields/\" rel=\"nofollow noreferrer\">https://docs.djangoproject.com/en/1.11/ref/contrib/postgres/fields/</a></p>\n\n<p>My solution is to implement RawSql something like this - <a href=\"https://stackoverflow.com/questions/29108179/jsonb-query-with-nested-objects-in-an-array/44714986?noredirect=1#comment76428303_44714986\">jsonb query with nested objects in an array</a></p>\n"}], "owner": {"reputation": 1264, "user_id": 1437155, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/dfebbc825b9da7cefffc75651fa8d0d7?s=128&d=identicon&r=PG", "display_name": "suprita shankar", "link": "https://stackoverflow.com/users/1437155/suprita-shankar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "accepted_answer_id": 44726857, "answer_count": 1, "score": 2, "last_activity_date": 1498238349, "creation_date": 1498082876, "last_edit_date": 1498235397, "question_id": 44687043, "link": "https://stackoverflow.com/questions/44687043/django-rawsql-query-to-do-filter-on-nested-json", "title": "Django RawSql query to do filter on nested json", "body": "<p>My Models looks like this</p>\n\n<pre><code>class Foo():\n  payload = JSONField()\n</code></pre>\n\n<p>Payload looks something like this</p>\n\n<pre><code>[{\n  \"id\": 12,\n   \"names\": [{\"location\": \"New York\"}, ]{\"location\": \"Philly\"}]\n },\n {\n  \"id\": 15,\n   \"names\": [{\"location\": \"Paris\"}, ]{\"location\": \"Cannes\"}]\n }]\n\nqueryset = Foo.objects.all()\nqueryset = queryset.filter(payload__names__contains=[{\"name\": \"Paris\"}]) #this works!!\nqueryset = queryset.filter(payload__names__contains=[{\"name\": \"Par\"}]) #does not work\n</code></pre>\n\n<p>The second statement does not work - it returns 0 results. In the first case it works because the full text is provided. What is the best way to do this in rawSql? [I am assuming it is not possible in Django]</p>\n\n<p>I went thorough this but cannot find what to use to do <code>like</code> on a nested array json field.    </p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 6398022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44f195d955b0bcfd8b7e97ebedd70c6b?s=128&d=identicon&r=PG&f=1", "display_name": "rithvikp", "link": "https://stackoverflow.com/users/6398022/rithvikp"}, "is_accepted": false, "score": 0, "last_activity_date": 1498910614, "creation_date": 1498910614, "answer_id": 44860703, "question_id": 44687004, "link": "https://stackoverflow.com/questions/44687004/dilation-image-recognition-algorithms-cityscapes-model/44860703#44860703", "title": "Dilation image-recognition algorithms cityScapes model", "body": "<p>I don't have enough reputation to comment, so I am posting my hunch as an answer (forgive me if I'm wrong) : the given size <code>12582912</code> has to be a product of the three numbers in the tuple. A quick factorisation showed <code>12582912 = 1024*768*16 = 2048*1536*4</code> So, if the images is a 4-channel image, the resolution is <code>2048 x 1536</code> which is in standard 4:3 aspect ratio.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 4468186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a8dfc2c91b48c94b3193d44ae40c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Basel", "link": "https://stackoverflow.com/users/4468186/basel"}, "is_accepted": false, "score": 0, "last_activity_date": 1501119582, "creation_date": 1501119582, "answer_id": 45339949, "question_id": 44687004, "link": "https://stackoverflow.com/questions/44687004/dilation-image-recognition-algorithms-cityscapes-model/45339949#45339949", "title": "Dilation image-recognition algorithms cityScapes model", "body": "<p>It turns out that Cityscapes model only takes a specific size: The width should be twice the length.</p>\n"}, {"tags": [], "owner": {"reputation": 1114, "user_id": 5059838, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4yyrm.jpg?s=128&g=1", "display_name": "iantonuk", "link": "https://stackoverflow.com/users/5059838/iantonuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1501199063, "creation_date": 1501199063, "answer_id": 45362709, "question_id": 44687004, "link": "https://stackoverflow.com/questions/44687004/dilation-image-recognition-algorithms-cityscapes-model/45362709#45362709", "title": "Dilation image-recognition algorithms cityScapes model", "body": "<p>If you know Python well, you will see that ValueError is internal code error. It has nothing to do with missing dependencies or environment. </p>\n\n<p>It has to do with the fact that the image was one total size first, and then it's being casted to array and then back into another dimensions.\nThat is not something that can be fixed or should be fixed by tempering with input data, but with addressing the bug in the provided library itself.</p>\n\n<p>It is very common to have this kind of restrictions with NN classifier. Because once layers are trained, they can't be changed and the input must be very specific. Of course, it still can be \"cooked\" before giving it to NN but it's usually nondestructive/basic scaling, so the proportions must be preserved, which is what the library does wrong. </p>\n"}], "owner": {"reputation": 11, "user_id": 4468186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97a8dfc2c91b48c94b3193d44ae40c8b?s=128&d=identicon&r=PG&f=1", "display_name": "Basel", "link": "https://stackoverflow.com/users/4468186/basel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1501199063, "creation_date": 1498082685, "question_id": 44687004, "link": "https://stackoverflow.com/questions/44687004/dilation-image-recognition-algorithms-cityscapes-model", "title": "Dilation image-recognition algorithms cityScapes model", "body": "<p>I am trying to use this image-recognition algorithms using cityScapes model\n<a href=\"https://github.com/fyu/dilation\" rel=\"nofollow noreferrer\">https://github.com/fyu/dilation</a></p>\n\n<p>However, I keep on getting the following error:</p>\n\n<pre><code>- bash-4.2$ python predict.py cityscapes sunny_1336601.png --gpu 0\nUsing GPU  0\nWARNING: Logging before InitGoogleLogging() is written to STDERR\n\nTraceback (most recent call last):\nFile \"predict.py\", line 133, in &lt;module&gt;\nmain()\nFile \"predict.py\", line 129, in main\npredict(args.dataset, args.input_path, args.output_path)\nFile \"predict.py\", line 98, in predict\ncolor_image = dataset.palette[prediction.ravel()].reshape(image_size)\nValueError: cannot reshape array of size 12582912 into shape (1090,1920,3)\n</code></pre>\n\n<p>I tried reshaping the image to every common resolution I could think of,  including 640x480, but I have been getting the same error.</p>\n\n<p>Any help or tips is highly appreciated.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "list", "file"], "answers": [{"tags": [], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "is_accepted": true, "score": 1, "last_activity_date": 1498082765, "creation_date": 1498082765, "answer_id": 44687021, "question_id": 44686984, "link": "https://stackoverflow.com/questions/44686984/get-list-of-words-from-text-file/44687021#44687021", "title": "Get list of words from text file", "body": "<pre><code>fname = \"romeo.txt\"\nfh = open(fname)\nlst = []\nfor line in fh:\n    words = lst.split(line) # this comes first\n    lst.extend(words) # add all the words to the current list\n\nlst = sorted(lst) # sorts lexicographically   \nprint lst\n</code></pre>\n\n<p>Comments in code. Basically, split up your line and accumulate it in your list. Sorting should be done at the end, once.</p>\n\n<hr>\n\n<p>A (slightly) more pythonic solution:</p>\n\n<pre><code>import re\nlst = sorted(re.split('[\\s]+', open(\"romeo.txt\").read(), flags=re.M))\n</code></pre>\n\n<p>Regex will split your text into a list of words based on the regexp (delimiters as whitespaces). Everything else is basically multiple lines condensed into 1.</p>\n"}], "owner": {"reputation": 15, "user_id": 7594051, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4BEAW.png?s=128&g=1", "display_name": "R.wang", "link": "https://stackoverflow.com/users/7594051/r-wang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 44687021, "answer_count": 1, "score": -1, "last_activity_date": 1611606096, "creation_date": 1498082562, "last_edit_date": 1561574047, "question_id": 44686984, "link": "https://stackoverflow.com/questions/44686984/get-list-of-words-from-text-file", "title": "Get list of words from text file", "body": "<p>In my code on line I have no idea why it is wrong I've tried a gazillion different ways but they don't work. I want it to print out:</p>\n\n<pre><code>['Arise', 'But', 'It', 'Juliet', 'Who', 'already', 'and', 'breaks', 'east', 'envious', 'fair', 'grief', 'is', 'kill', 'light', 'moon', 'pale', 'sick', 'soft', 'sun', 'the', 'through', 'what', 'window', 'with', 'yonder']\n</code></pre>\n\n<p>romeo.txt is the text document name\nthis is whats inside:</p>\n\n<blockquote>\n  <p>\"But soft what light through yonder window breaks It is the east and\n  Juliet is the sun Arise fair sun and kill the envious moon Who is\n  already sick and pale with grief \" </p>\n</blockquote>\n\n<p>Also the output is in alphabetic order.</p>\n\n<pre><code>fname = \"romeo.txt\"#raw_input(\"Enter file name: \")\nfh = open(fname)\nlst = list()\nfor line in fh:\n    lst.append(line)\n    words = lst.split(line)\n#   line = line.sort()\nprint lst\n</code></pre>\n"}, {"tags": ["python", "django", "django-forms"], "comments": [{"owner": {"reputation": 1, "user_id": 7938053, "user_type": "registered", "profile_image": "https://graph.facebook.com/459474787740568/picture?type=large", "display_name": "iHeartKayk", "link": "https://stackoverflow.com/users/7938053/iheartkayk"}, "edited": false, "score": 0, "creation_date": 1498082562, "post_id": 44686952, "comment_id": 76357982, "body": "I literally just had this same typo =|."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7938053, "user_type": "registered", "profile_image": "https://graph.facebook.com/459474787740568/picture?type=large", "display_name": "iHeartKayk", "link": "https://stackoverflow.com/users/7938053/iheartkayk"}, "edited": false, "score": 0, "creation_date": 1498082619, "post_id": 44686981, "comment_id": 76358000, "body": "Ahh, you are my hero =]"}, {"owner": {"reputation": 4403, "user_id": 4859971, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/X3pYG.jpg?s=128&g=1", "display_name": "Hiroyuki Nuri", "link": "https://stackoverflow.com/users/4859971/hiroyuki-nuri"}, "reply_to_user": {"reputation": 1, "user_id": 7938053, "user_type": "registered", "profile_image": "https://graph.facebook.com/459474787740568/picture?type=large", "display_name": "iHeartKayk", "link": "https://stackoverflow.com/users/7938053/iheartkayk"}, "edited": false, "score": 0, "creation_date": 1498082733, "post_id": 44686981, "comment_id": 76358040, "body": "@iHeartKayk No problem, <code>has no attribute ...</code> errors are often are related to syntax :)"}], "tags": [], "owner": {"reputation": 4403, "user_id": 4859971, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/X3pYG.jpg?s=128&g=1", "display_name": "Hiroyuki Nuri", "link": "https://stackoverflow.com/users/4859971/hiroyuki-nuri"}, "is_accepted": false, "score": 2, "last_activity_date": 1498082638, "last_edit_date": 1498082638, "creation_date": 1498082546, "answer_id": 44686981, "question_id": 44686952, "link": "https://stackoverflow.com/questions/44686952/django-attribute-error-form-object-has-no-attribute-is-valid-error/44686981#44686981", "title": "Django Attribute Error - form object has no attribute is_valid error", "body": "<p>There's a syntax error, change <code>if form1.is_vaild():</code> to : <code>if form1.is_valid():</code>.</p>\n"}], "owner": {"reputation": 1, "user_id": 7938053, "user_type": "registered", "profile_image": "https://graph.facebook.com/459474787740568/picture?type=large", "display_name": "iHeartKayk", "link": "https://stackoverflow.com/users/7938053/iheartkayk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498082638, "creation_date": 1498082404, "question_id": 44686952, "link": "https://stackoverflow.com/questions/44686952/django-attribute-error-form-object-has-no-attribute-is-valid-error", "title": "Django Attribute Error - form object has no attribute is_valid error", "body": "<p>I keep getting an error saying that my BundleForm has no attribute is_valid.  I double and triple checked and my BundleForm is associated with a model, specifically my Bundle model.  I can't figure out why else I would be getting this error.  Any comments/input greatly welcomed!</p>\n\n<p>models.py</p>\n\n<pre><code>class Bundle(models.Model):\nuser = models.ForeignKey(User, on_delete=models.CASCADE)\nuser_profile = models.ForeignKey(UserProfile, on_delete=models.CASCADE)\nname = models.CharField(max_length=100)\n\ndef __str__(self):\n    return self.name\n</code></pre>\n\n<p>forms.py</p>\n\n<pre><code>class BundleForm(forms.ModelForm):\n    name = forms.CharField(\n        help_text='Enter mission name. Change to hidden unless mouse over. ',\n        initial='bundle_name',\n        required=True,\n        max_length=50,\n    )\n\n    class Meta:\n        model = Bundle             \n        fields = ('name',)  \n</code></pre>\n\n<p>views.py</p>\n\n<pre><code>def new_bundle(request):\nform1 = BundleForm()\nif request.method == 'POST':\n    form1 = BundleForm(request.POST)\n    if form1.is_vaild():\n        bundle = form1.save(commit=True)\n        return render(request, 'build_a_bundle/new_bundle.html', {'bundle':bundle})\n    else:\n        return HttpResponse('Form 1 Error')    \nreturn render(request, 'build_a_bundle/new_bundle.html', {'form1':form1})\n</code></pre>\n"}, {"tags": ["python", "keras", "lstm", "recurrent-neural-network", "keras-layer"], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "edited": false, "score": 0, "creation_date": 1561579715, "post_id": 45985502, "comment_id": 100115355, "body": "You&#39;d then need to add the nonlinearity back afterward, though. How would you do that? You could add just a plain nonlinearity layer, but would that get included in the recurrent structure?"}, {"owner": {"reputation": 650, "user_id": 2436578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkE2k.png?s=128&g=1", "display_name": "albarji", "link": "https://stackoverflow.com/users/2436578/albarji"}, "reply_to_user": {"reputation": 673, "user_id": 2084503, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/EmUvm.jpg?s=128&g=1", "display_name": "Pavel Komarov", "link": "https://stackoverflow.com/users/2084503/pavel-komarov"}, "edited": false, "score": 0, "creation_date": 1562493732, "post_id": 45985502, "comment_id": 100384720, "body": "You can add an Activation layer between the Bidirectional and the BatchNormalization layer. But certainly this won&#39;t be included in the recurrent structure, it will be applied only on the output of the BiLSTM layer."}], "tags": [], "owner": {"reputation": 650, "user_id": 2436578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkE2k.png?s=128&g=1", "display_name": "albarji", "link": "https://stackoverflow.com/users/2436578/albarji"}, "is_accepted": true, "score": 11, "last_activity_date": 1504194509, "creation_date": 1504194509, "answer_id": 45985502, "question_id": 44686930, "link": "https://stackoverflow.com/questions/44686930/bidirectional-lstm-with-batch-normalization-in-keras/45985502#45985502", "title": "Bidirectional LSTM with Batch Normalization in Keras", "body": "<p>If you want to apply BatchNormalization over the linear outputs of an LSTM you can do it as</p>\n\n<pre><code>from keras.models import Sequential\nfrom keras.layers.recurrent import LSTM\nfrom keras.layers.wrappers import Bidirectional\nfrom keras.layers.normalization import BatchNormalization\n\nmodel = Sequential()\nmodel.add(Bidirectional(LSTM(128, activation=None), input_shape=(256,10)))\nmodel.add(BatchNormalization())\n</code></pre>\n\n<p>Essentially, you are removing the non-linear activations of the LSTM (but not the gate activations), and then applying BatchNormalization to the outpus.</p>\n\n<p>If what you want is to apply BatchNormalization into one of the inside flows of the LSTM, such as recurrent flows, I'm afraid that feature has not been implemented in Keras.</p>\n"}], "owner": {"reputation": 213, "user_id": 6190814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64f458d2787748a8e19121d4319de736?s=128&d=identicon&r=PG&f=1", "display_name": "abolfazl", "link": "https://stackoverflow.com/users/6190814/abolfazl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8611, "favorite_count": 3, "accepted_answer_id": 45985502, "answer_count": 1, "score": 11, "last_activity_date": 1525975479, "creation_date": 1498082309, "last_edit_date": 1525975479, "question_id": 44686930, "link": "https://stackoverflow.com/questions/44686930/bidirectional-lstm-with-batch-normalization-in-keras", "title": "Bidirectional LSTM with Batch Normalization in Keras", "body": "<p>I was wondering how to implement biLSTM with Batch Normalization (BN) in Keras. I know that BN layer should be between linearity and nonlinearity, i.e., activation. This is easy to implement with CNN or Dense layers. But, how to do this with biLSTM?</p>\n\n<p>Thanks in advance.  </p>\n"}, {"tags": ["python", "loops", "for-loop", "beautifulsoup", "tablerow"], "comments": [{"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498091535, "post_id": 44686892, "comment_id": 76360448, "body": "First off instead of creating urls dynamically. create a parameters dictionary and feed through <code>requests.get</code>. I will write up a solution in a moment."}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "reply_to_user": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498091715, "post_id": 44686892, "comment_id": 76360477, "body": "I&#39;m relatively new so I don&#39;t know much about parameters dictionary but willing to learn.  I will be scraping somewhere around 5,000 websites."}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498091998, "post_id": 44686892, "comment_id": 76360534, "body": "Wow. That&#39;s a nice size project. Check out the requests parameters documentation. <a href=\"http://docs.python-requests.org/en/master/user/quickstart/#passing-parameters-in-urls\" rel=\"nofollow noreferrer\">docs.python-requests.org/en/master/user/quickstart/&hellip;</a>"}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "reply_to_user": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498092104, "post_id": 44686892, "comment_id": 76360553, "body": "Yes, I may scale it down a bit but for right now that is what I have - it basically takes a player and grabs their stats against a right handed pitcher and also a left handed pitcher - then it also grabs pitching statistics so there will be a lot of webpages.  Also, that code works just fine for grabbing the website so I appreciate you showing me the parameters dictionary but am more concerned with how to scrape each row of the tables and get them into a list because I cannot solve that part."}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498092806, "post_id": 44686892, "comment_id": 76360678, "body": "Yes Sorry. I havent coded in about 2 years, So im installing the needed libraries right now. It will take me a little while but I will have a documented solution for you in a couple of hours. Its a nice review project for me."}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "reply_to_user": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498093245, "post_id": 44686892, "comment_id": 76360785, "body": "That would be amazing.  Thanks so much for your help as I have been struggling for a while with this."}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498093518, "post_id": 44686892, "comment_id": 76360842, "body": "Yeah scraping can be tricky when starting out, but I find it to be the easiest field in python programming."}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498187208, "post_id": 44686892, "comment_id": 76407341, "body": "Let me know if this helped"}], "answers": [{"comments": [{"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "edited": false, "score": 0, "creation_date": 1498106938, "post_id": 44690182, "comment_id": 76364178, "body": "Note: Python Version is 2.7"}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498147945, "post_id": 44690182, "comment_id": 76392057, "body": "Thanks - it will take me a little time to digest and work through as I want to understand what it is doing - I also code in python 3 as I very recently started Python and that was the newest so I just started learning that one. I would also like to export this data into a spreadsheet and I had written that code but will have to take a look to see if it will work still based on what you gave me or if I need to tweak it.                                     One thing I notice is each table is separate - I would ideally like each row one to be a list(due to the order being important) - any help?"}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "reply_to_user": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498153544, "post_id": 44690182, "comment_id": 76395166, "body": "I&#39;m cleaning up some of the code now. I used <code>#### TEXT ####</code> to signify where a function should most likely be used."}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498189075, "post_id": 44690182, "comment_id": 76407771, "body": "I marked it as answered because obviously you have been very helpful.  I will take a look over the code some more tomorrow and this weekend.  I am slowly processing each step and understanding what it is doing and if any tweaks are necessary.  With all of the extra comments and notes I should be able to figure it out.  Thanks for all the help."}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "reply_to_user": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498189818, "post_id": 44690182, "comment_id": 76407938, "body": "Thanks and no problem. Sorry I don&#39;t know python 3, good luck with the code barrier. ."}], "tags": [], "owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "is_accepted": true, "score": 2, "last_activity_date": 1498186290, "last_edit_date": 1498186290, "creation_date": 1498105905, "answer_id": 44690182, "question_id": 44686892, "link": "https://stackoverflow.com/questions/44686892/loop-through-table-rows-using-beautifulsoup/44690182#44690182", "title": "Loop Through Table Rows Using BeautifulSoup", "body": "<p>This will be my last attempt. It has every thing you should need. I created a traceback to where the tables, rows and columns are being scraped. This all happens in the function <code>extract_table()</code>. follow the traceback markers and don't worry about any other code. Don't let the large file size worry you its mostly documentation and spacing.</p>\n\n<h3>Traceback marker: <code>### ... ###</code></h3>\n\n<h3>Start at line 95 with traceback marker <code>### START HERE ###</code></h3>\n\n<pre><code>from bs4 import BeautifulSoup as Soup\nimport requests\nimport urllib\n\n\n###### GO TO LINE 95 ######\n\n\n### IGNORE ###\ndef generate_urls (idList, splitList):\n    \"\"\" Using and id list and a split list generate a list urls\"\"\"\n    urls = []\n    url = 'http://www.fangraphs.com/statsplits.aspx'\n\n    for id in idList:\n        for split in splitList:\n            # The parameters used in creating the url\n            url_payload = {'split': split, 'playerid': id, 'position': 'OF', 'season': 0}\n            # Create the url and store add to the collection of urls\n            urls += ['?'.join([url, urllib.urlencode(url_payload)])]\n    return urls # Return the list of urls\n\n\n\n\n### IGNORE ###\ndef extract_player_name (soup):\n    \"\"\" Extract the player name from the browser title \"\"\"\n    # Browser title contains player name, strip all but name\n    player_name = repr(soup.title.text.strip('\\r\\n\\t')) \n    player_name = player_name.split(' \\\\xbb')[0] # Split on ` \u00bb`\n    player_name = player_name[2:] # Erase a leading characters from using `repr`\n    return player_name\n\n\n\n########## FINISH HERE ##########\ndef extract_table (table_id, soup):\n    \"\"\" Extract data from a table, return the column headers and the table rows\"\"\"\n\n    ### IMPORTANT: THIS CODE IS WHERE ALL THE MAGIC HAPPENS ### \n    # - First: Find lowest level tag of all the data we want (container).\n    #\n    # - Second: Extract the table column headers, requires minimal mining\n    #\n    # - Third: Gather a list of tags that represent the tables rows\n    #\n    # - Fourth: Loop through the list of rows \n    #      A): Mine all columns in the row\n\n    ### IMPORTANT: Get A Reference To The Table ###\n    # SCRAPE 1:\n    table_tag = soup.find(\"table\", {\"id\" : 'SeasonSplits1_dgSeason%d_ctl00' % table_id})            \n\n    # SCRAPE 2: \n    columns = [th.text for th in table_tag.findAll('th')]\n\n    # SCRAPE 3: \n    rows_tags = table_tag.tbody.findAll('tr'); # All 'tr' tags in the table `tbody` tag are row tags\n\n    ### IMPORTANT: Cycle Through Rows And Collect Column Data ###\n    # SCRAPE 4:\n    rows = [] # List of all table rows\n    for row_tag in rows_tags:\n\n        ### IMPORTANT: Mine All Columns In This Row || LOWEST LEVEL IN THE MINING OPERATION. ###\n        # SCRAPE 4.A\n        row = [col.text for col in row_tag.findAll('td')] # `td` represents a column in a row.\n\n        rows.append (row) # Add this row to all the other rows of this table  \n\n    # RETURN: The column header and the rows of this table\n    return [columns, rows]\n\n\n\n### Look Deeper ###\ndef extract_player (soup):\n    \"\"\" Extract player data and store in a list. ['name', [columns, rows], [table2]]\"\"\"\n    player = [] # A list store data in\n\n    # player name is first in player list\n    player.append (extract_player_name (soup))\n\n    # Each table is a list entry\n    for season in range(1,4): \n        ### IMPORTANT: No Table Related Data Has Been Mined Yet. START HERE ###\n        ###     - Line: 37\n        table = extract_table (season, soup) # `season` represents the table id \n        player.append(table) # Add this table(list to the player data list\n\n    # Return the player list    \n    return player\n\n\n##################################################\n################## START HERE ####################\n##################################################\n###\n### OBJECTIVE: \n###\n### - Follow the trail of important lines that extract the data\n###     - Important lines will be marked as the following `### ... ###`\n### \n### All this code really needs is a url and the `extract_table()` function.\n###\n### The `main()` function is where the journey starts\n###\n##################################################\n##################################################\n\n\n\ndef main ():\n    \"\"\" The main function is the core program code. \"\"\"\n\n    # Luckily the pages we will scrape all have the same layout making mining easier.    \n\n    all_players = [] # A place to store all the data\n\n    # Values used to alter the url when making requests to access more player statistics\n    idList2 = ['15640', '9256']\n    splitList=[0.4,0.2,0.3,0.4]\n\n    # Instead of looping through variables that dont tell a story,\n    # lets create a list of urls generated from those variables.\n    # This way the code is self-explanatory and is human-readable.\n    urls = generate_urls(idList2, splitList) # The creation of the url is not important right now\n\n    # Lets scrape each url\n    for url in urls:\n        print url\n\n        # First Step: get a web page via http request.\n        response = requests.get (url)\n\n        # Second step: use a parsing library to create a parsable object \n        soup = Soup(response.text, \"html.parser\") # Create a soup object (Once)\n\n        ### IMPORTANT: Parsing Starts and Ends Here ###\n        ###     - Line: 75\n        # Final Step: Given a soup object, mine player data\n        player = extract_player (soup)\n\n        # Add the new entry to the list\n        all_players += [player]\n\n    return all_players\n\n\n\n\n\n# If this script is being run, not imported, run the `main()` function.\nif __name__ == '__main__':\n    all_players = main ()\n\n    print all_players[0][0] # Player List -&gt; Name\n    print all_players[0][1] # Player List -&gt; Table 1\n    print all_players[0][2] # Player List -&gt; Table 2\n    print all_players[0][3] # Player List -&gt; Table 3\n\n    print all_players[0][3][0]       # Player List -&gt; Table 1 -&gt; Columns\n    print all_players[0][3][1]       # Player List -&gt; Table 1 -&gt; All Rows\n    print all_players[0][3][1][0]    # Player List -&gt; Table 1 -&gt; All Rows -&gt; Row 1\n    print all_players[0][3][1][2]    # Player List -&gt; Table 1 -&gt; All Rows -&gt; Row 2\n    print all_players[0][3][1][2][0] # Player List -&gt; Table 1 -&gt; All Rows -&gt; Row 2 -&gt; Colum 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498177191, "post_id": 44707545, "comment_id": 76405229, "body": "Okay - I somewhat understand but still have a lot of questions. Is there anyway I could possibly call you and walk through the code, or is there any way you can just write code showing how to return one row from a table - For instance - grab row 1 from the table on the fangraphs player page?"}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "reply_to_user": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498178882, "post_id": 44707545, "comment_id": 76405582, "body": "i&#39;ll see what i can do tonight"}, {"owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498184689, "post_id": 44707545, "comment_id": 76406801, "body": "I am working through the code a bit more - I was confused because I didn&#39;t see any function calls. I am now going through it closer to understand what it&#39;s doing &amp; I see that there are no function calls like I am used to, but rather the functions are parameters in the other functions.  I will continue going through it but if I could learn how to scrape individual rows or say the last 5 rows (-5,-4,-3,-2,-1) or something like that I think it would be helpful as I go to other websites.  Also, the split and id are part of the url that gets scraped - (see hyperlink in text before code at very top)"}, {"owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "reply_to_user": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "edited": false, "score": 0, "creation_date": 1498185591, "post_id": 44707545, "comment_id": 76406986, "body": "I get what your wanting to do, selectively mine certain rows of a specific table. You would take the important chunks of code here to do that. But because the statistics live in an HTML table, I find it easier to mine all the table data. Once you have the complete table, you can deiced which data to keep or remove based on the logic you want. Updating The code one last time with the important parts marked."}], "tags": [], "owner": {"reputation": 2963, "user_id": 1367160, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/2k1SI.jpg?s=128&g=1", "display_name": "Crispy", "link": "https://stackoverflow.com/users/1367160/crispy"}, "is_accepted": false, "score": 1, "last_activity_date": 1498158592, "creation_date": 1498158592, "answer_id": 44707545, "question_id": 44686892, "link": "https://stackoverflow.com/questions/44686892/loop-through-table-rows-using-beautifulsoup/44707545#44707545", "title": "Loop Through Table Rows Using BeautifulSoup", "body": "<p>I've updated the code, <code>separated functionality</code>, used <code>lists instead of dictionaries</code> (as requested). <code>Lines 85+ is output testing (can ignore)</code>.</p>\n\n<p>I see now that that your making multiple request (4) for the same player to gather more data on them. In the <code>last answer</code> I provided, the code <code>only kept</code> the <code>last request</code> made. Using a list eliminated this problem. </p>\n\n<p>You may want to condense the list so that their is only one entry per player.</p>\n\n<ul>\n<li>The <code>core of the program</code> is on <code>lines 65-77</code></li>\n<li>Everything above <code>all_player</code> decleration on line 57 is a function To handle scraping.</li>\n</ul>\n\n<h1>UPDATED: scrape_players.py</h1>\n\n<pre><code>from bs4 import BeautifulSoup as Soup\nimport requests\n\n\ndef http_get (id, split):\n    \"\"\" Make a get request, return the response. \"\"\"\n    # Create url parameters dictinoary\n    payload = {'split': split, 'playerid': id, 'position': 'OF', 'season': 0}\n    url = 'http://www.fangraphs.com/statsplits.aspx'\n    return requests.get(url, params=payload) # Pass payload through `requests.get()`\n\n\ndef extract_player_name (soup):\n    \"\"\" Extract the player name from the browser title \"\"\"\n    # Browser title contains player name, strip all but name\n    player_name = repr(soup.title.text.strip('\\r\\n\\t')) \n    player_name = player_name.split(' \\\\xbb')[0] # Split on ` \u00bb`\n    player_name = player_name[2:] # Erase a leading characters from using `repr`\n    return player_name\n\n\ndef extract_table (table_id, soup):\n    \"\"\" Extract data from a table, return the column headers and the table rows\"\"\"\n    # SCRAPE: Get a table\n    table_tag = soup.find(\"table\", {\"id\" : 'SeasonSplits1_dgSeason%d_ctl00' % table_id})            \n\n    # SCRAPE: Extract table column headers\n    columns = [th.text for th in table_tag.findAll('th')]\n\n    rows = [] \n    # SCRAPE: Extract Table Contents\n    for row in table_tag.tbody.findAll('tr'):\n        rows.append ([col.text for col in row.findAll('td')])  # Gather all columns in the row\n\n    # RETURN: [columns, rows]\n    return [columns, rows]\n\n\ndef extract_player (soup):\n    \"\"\" Extract player data and store in a list. ['name', [columns, rows], [table2]]\"\"\"\n    player = []\n\n    # player name is first in player list\n    player.append (extract_player_name (soup))\n\n    # Each table is a list entry\n    for season in range(1,4): \n        player.append(extract_table (season, soup))\n    # Return the player list    \n    return player\n\n\n\n\n\n# A list of all players\nall_players = [\n    #'playername', \n    #[table_columns, table_rows],\n    #[table_columns, table_rows],\n    #[['Season', 'vs R as R'], [['2015', 'yes'], ['2016', 'no'], ['2017', 'no'],]],\n]\n\n# I dont know what these values are. Sorry!\nidList2 = ['15640', '9256']\nsplitList=[0.4,0.2,0.3,0.4]\n\n\n# Scrape data\nfor id in idList2:    \n    for split in splitList:\n        response = http_get (id, split)\n\n        soup = Soup(response.text, \"html.parser\") # Create a soup object (Once)\n\n        all_players.append (extract_player (soup))\n        # or all_players += [scrape_player (soup)]\n\n\n\n\n\n\n# Output data\ndef PrintPlayerAsTable (player, show_name=True):\n    if show_name: print player[0] # First entry is the player name\n    for table in player[1:]: # All other entries are tables\n        PrintTableAsTable(table)\n\ndef PrintTableAsTable (table, table_sep='\\n'):\n    print table_sep\n    PrintRowAsTable(table[0]) # The first row in the table is the columns\n    for row in table[1]: # The second item in the table is a list of rows\n        PrintRowAsTable (row)\n\ndef PrintRowAsTable (row=[], prefix='\\t'):\n    \"\"\" Print out the list in a table foramt. \"\"\"\n    print prefix + ''.join([col.ljust(15) for col in row])\n\n\n\n# There are 4 entries to every player, one for each request made\nPrintPlayerAsTable (all_players[0])\nPrintPlayerAsTable (all_players[1], False)\nPrintPlayerAsTable (all_players[2], False)\nPrintPlayerAsTable (all_players[3], False)\n\n\nprint '\\n\\nScraped %d player Statistics' % len(all_players) \nfor player in all_players:\n    print '\\t- %s' % player[0]\n\n\n# 4th player entry\nprint '\\n\\n'\nprint all_players[4][0] # Player name\n\nprint '\\n'\n#print all_players[4][1]        # Table 1\nprint all_players[4][1][0]     # Table 1 Column Headers\n#print all_players[4][1][1]     # Table 1 Rows\nprint all_players[4][1][1][1]  # Table 1 Rows Row 1\nprint all_players[4][1][1][2]  # Table 1 Rows Row 2\nprint all_players[4][1][1][-1] # Table 1 Rows Last Row \n\nprint '\\n'\n#print all_players[4][2]        # Table 2\nprint all_players[4][2][0]     # Table 2 Column Headers\n#print all_players[4][2][1]     # Table 2 Rows\nprint all_players[4][2][1][1]  # Table 2 Rows Row 1\nprint all_players[4][2][1][2]  # Table 2 Rows Row 2\nprint all_players[4][2][1][-1] # Table 2 Rows Last Row \n\nprint '\\nTable 3'\nPrintRowAsTable(all_players[4][2][0], '')     # Table 3 Column Headers\nPrintRowAsTable(all_players[4][2][1][1], '')  # Table 3 Rows Row 1\nPrintRowAsTable(all_players[4][2][1][2], '')  # Table 3 Rows Row 2\nPrintRowAsTable(all_players[4][2][1][-1], '') # Table 3 Rows Last Row   \n</code></pre>\n\n<h3>OUTPUT:</h3>\n\n<p>Outputs scraped data, so you can see how the <code>all_players</code> is structured.</p>\n\n<pre><code>Aaron Judge\n\n\n    Season         vs R as R      G              AB             PA             H              1B             2B             3B             HR             R              RBI            BB             IBB            SO             HBP            SF             SH             GDP            SB             CS             AVG            \n    2016           vs R as R      27             69             77             14             8              2              0              4              8              10             6              0              32             1              1              0              2              0              0              .203           \n    2017           vs R as R      66             198            231            65             34             10             2              19             37             42             31             3              71             2              0              0              8              3              0              .328           \n    Total          vs R as R      93             267            308            79             42             12             2              23             45             52             37             3              103            3              1              0              10             3              0              .296           \n\n\n    Season         vs R as R      BB%            K%             BB/K           AVG            OBP            SLG            OPS            ISO            BABIP          wRC            wRAA           wOBA           wRC+           \n    2016           vs R as R      7.8 %          41.6 %         0.19           .203           .273           .406           .679           .203           .294           7              -1.7           .291           79             \n    2017           vs R as R      13.4 %         30.7 %         0.44           .328           .424           .687           1.111          .359           .426           54             26.1           .454           189            \n    Total          vs R as R      12.0 %         33.4 %         0.36           .296           .386           .614           1.001          .318           .394           62             24.4           .413           162            \n\n\n    Season         vs R as R      GB/FB          LD%            GB%            FB%            IFFB%          HR/FB          IFH%           BUH%           Pull%          Cent%          Oppo%          Soft%          Med%           Hard%          Pitches        Balls          Strikes        \n    2016           vs R as R      0.74           13.2 %         36.8 %         50.0 %         0.0 %          21.1 %         7.1 %          0.0 %          50.0 %         29.0 %         21.1 %         7.9 %          42.1 %         50.0 %         327            117            210            \n    2017           vs R as R      1.14           27.6 %         38.6 %         33.9 %         2.3 %          44.2 %         6.1 %          0.0 %          45.7 %         26.8 %         27.6 %         11.0 %         39.4 %         49.6 %         985            395            590            \n    Total          vs R as R      1.02           24.2 %         38.2 %         37.6 %         1.6 %          37.1 %         6.3 %          0.0 %          46.7 %         27.3 %         26.1 %         10.3 %         40.0 %         49.7 %         1312           512            800            \n\n\n    Season         vs R as L      G              AB             PA             H              1B             2B             3B             HR             R              RBI            BB             IBB            SO             HBP            SF             SH             GDP            SB             CS             AVG            \n    2016           vs R as L      3              0              0              0              0              0              0              0              2              0              0              0              0              0              0              0              0              0              1              .000           \n    2017           vs R as L      20             0              0              0              0              0              0              0              13             0              0              0              0              0              0              0              0              3              1              .000           \n    Total          vs R as L      23             0              0              0              0              0              0              0              15             0              0              0              0              0              0              0              0              3              2              .000           \n\n\n    Season         vs R as L      BB%            K%             BB/K           AVG            OBP            SLG            OPS            ISO            BABIP          wRC            wRAA           wOBA           wRC+           \n    2016           vs R as L      0.0 %          0.0 %          0.00           .000           .000           .000           .000           .000           .000           0              0.0            .000           \u00a0              \n    2017           vs R as L      0.0 %          0.0 %          0.00           .000           .000           .000           .000           .000           .000           0              0.0            .000           \u00a0              \n    Total          vs R as L      0.0 %          0.0 %          0.00           .000           .000           .000           .000           .000           .000           0              0.0            .000           \u00a0              \n\n\n    Season         vs R as L      GB/FB          LD%            GB%            FB%            IFFB%          HR/FB          IFH%           BUH%           Pull%          Cent%          Oppo%          Soft%          Med%           Hard%          Pitches        Balls          Strikes        \n    2016           vs R as L      0.00           0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              0              0              0              \n    2017           vs R as L      0.00           0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              0              0              0              \n    Total          vs R as L      0.00           0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          0.0 %          \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              \u00a0              0              0              0              \n\n\n    Season         vs L as R      G              AB             PA             H              1B             2B             3B             HR             R              RBI            BB             IBB            SO             HBP            SF             SH             GDP            SB             CS             AVG            \n    2016           vs L as R      11             15             18             1              1              0              0              0              0              0              3              0              10             0              0              0              0              0              0              .067           \n    2017           vs L as R      26             47             61             16             9              1              1              5              9              12             13             0              16             1              0              0              2              0              0              .340           \n    Total          vs L as R      37             62             79             17             10             1              1              5              9              12             16             0              26             1              0              0              2              0              0              .274           \n\n\n    Season         vs L as R      BB%            K%             BB/K           AVG            OBP            SLG            OPS            ISO            BABIP          wRC            wRAA           wOBA           wRC+           \n    2016           vs L as R      16.7 %         55.6 %         0.30           .067           .222           .067           .289           .000           .200           0              -2.3           .164           -8             \n    2017           vs L as R      21.3 %         26.2 %         0.81           .340           .492           .723           1.215          .383           .423           17             9.1            .496           218            \n    Total          vs L as R      20.3 %         32.9 %         0.62           .274           .430           .565           .995           .290           .387           16             6.8            .421           166            \n\n\n    Season         vs L as R      GB/FB          LD%            GB%            FB%            IFFB%          HR/FB          IFH%           BUH%           Pull%          Cent%          Oppo%          Soft%          Med%           Hard%          Pitches        Balls          Strikes        \n    2016           vs L as R      0.33           20.0 %         20.0 %         60.0 %         0.0 %          0.0 %          0.0 %          0.0 %          20.0 %         60.0 %         20.0 %         20.0 %         40.0 %         40.0 %         81             32             49             \n    2017           vs L as R      0.73           16.1 %         35.5 %         48.4 %         0.0 %          33.3 %         0.0 %          0.0 %          29.0 %         48.4 %         22.6 %         16.1 %         35.5 %         48.4 %         295            135            160            \n    Total          vs L as R      0.67           16.7 %         33.3 %         50.0 %         0.0 %          27.8 %         0.0 %          0.0 %          27.8 %         50.0 %         22.2 %         16.7 %         36.1 %         47.2 %         376            167            209            \n\n\n    Season         vs R as R      G              AB             PA             H              1B             2B             3B             HR             R              RBI            BB             IBB            SO             HBP            SF             SH             GDP            SB             CS             AVG            \n    2016           vs R as R      27             69             77             14             8              2              0              4              8              10             6              0              32             1              1              0              2              0              0              .203           \n    2017           vs R as R      66             198            231            65             34             10             2              19             37             42             31             3              71             2              0              0              8              3              0              .328           \n    Total          vs R as R      93             267            308            79             42             12             2              23             45             52             37             3              103            3              1              0              10             3              0              .296           \n\n\n    Season         vs R as R      BB%            K%             BB/K           AVG            OBP            SLG            OPS            ISO            BABIP          wRC            wRAA           wOBA           wRC+           \n    2016           vs R as R      7.8 %          41.6 %         0.19           .203           .273           .406           .679           .203           .294           7              -1.7           .291           79             \n    2017           vs R as R      13.4 %         30.7 %         0.44           .328           .424           .687           1.111          .359           .426           54             26.1           .454           189            \n    Total          vs R as R      12.0 %         33.4 %         0.36           .296           .386           .614           1.001          .318           .394           62             24.4           .413           162            \n\n\n    Season         vs R as R      GB/FB          LD%            GB%            FB%            IFFB%          HR/FB          IFH%           BUH%           Pull%          Cent%          Oppo%          Soft%          Med%           Hard%          Pitches        Balls          Strikes        \n    2016           vs R as R      0.74           13.2 %         36.8 %         50.0 %         0.0 %          21.1 %         7.1 %          0.0 %          50.0 %         29.0 %         21.1 %         7.9 %          42.1 %         50.0 %         327            117            210            \n    2017           vs R as R      1.14           27.6 %         38.6 %         33.9 %         2.3 %          44.2 %         6.1 %          0.0 %          45.7 %         26.8 %         27.6 %         11.0 %         39.4 %         49.6 %         985            395            590            \n    Total          vs R as R      1.02           24.2 %         38.2 %         37.6 %         1.6 %          37.1 %         6.3 %          0.0 %          46.7 %         27.3 %         26.1 %         10.3 %         40.0 %         49.7 %         1312           512            800            \n\n\nScraped 8 player Statistics\n    - Aaron Judge\n    - Aaron Judge\n    - Aaron Judge\n    - Aaron Judge\n    - A.J. Pollock\n    - A.J. Pollock\n    - A.J. Pollock\n    - A.J. Pollock\n\n\n\nA.J. Pollock\n\n\n[u'Season', u'vs R as R', u'G', u'AB', u'PA', u'H', u'1B', u'2B', u'3B', u'HR', u'R', u'RBI', u'BB', u'IBB', u'SO', u'HBP', u'SF', u'SH', u'GDP', u'SB', u'CS', u'AVG']\n[u'2013', u'vs R as R', u'115', u'270', u'295', u'70', u'52', u'12', u'2', u'4', u'25', u'21', u'21', u'1', u'54', u'1', u'0', u'3', u'4', u'3', u'1', u'.259']\n[u'2014', u'vs R as R', u'71', u'215', u'232', u'66', u'42', u'17', u'3', u'4', u'21', u'14', u'15', u'0', u'41', u'2', u'0', u'0', u'3', u'7', u'1', u'.307']\n[u'Total', u'vs R as R', u'395', u'1120', u'1230', u'330', u'225', u'67', u'13', u'25', u'122', u'102', u'93', u'1', u'199', u'5', u'9', u'3', u'23', u'41', u'6', u'.295']\n\n\n[u'Season', u'vs R as R', u'BB%', u'K%', u'BB/K', u'AVG', u'OBP', u'SLG', u'OPS', u'ISO', u'BABIP', u'wRC', u'wRAA', u'wOBA', u'wRC+']\n[u'2013', u'vs R as R', u'7.1 %', u'18.3 %', u'0.39', u'.259', u'.315', u'.363', u'.678', u'.104', u'.311', u'29', u'-3.0', u'.301', u'84']\n[u'2014', u'vs R as R', u'6.5 %', u'17.7 %', u'0.37', u'.307', u'.358', u'.470', u'.828', u'.163', u'.365', u'35', u'9.6', u'.364', u'128']\n[u'Total', u'vs R as R', u'7.6 %', u'16.2 %', u'0.47', u'.295', u'.349', u'.445', u'.793', u'.150', u'.337', u'168', u'30.7', u'.345', u'113']\n\nTable 3\nSeason         vs R as R      BB%            K%             BB/K           AVG            OBP            SLG            OPS            ISO            BABIP          wRC            wRAA           wOBA           wRC+           \n2013           vs R as R      7.1 %          18.3 %         0.39           .259           .315           .363           .678           .104           .311           29             -3.0           .301           84             \n2014           vs R as R      6.5 %          17.7 %         0.37           .307           .358           .470           .828           .163           .365           35             9.6            .364           128            \nTotal          vs R as R      7.6 %          16.2 %         0.47           .295           .349           .445           .793           .150           .337           168            30.7           .345           113            \n</code></pre>\n"}], "owner": {"reputation": 190, "user_id": 8121824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f771667d405b999c49283569779002d6?s=128&d=identicon&r=PG&f=1", "display_name": "Shawn Schreier", "link": "https://stackoverflow.com/users/8121824/shawn-schreier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2259, "favorite_count": 1, "accepted_answer_id": 44690182, "answer_count": 2, "score": 1, "last_activity_date": 1500780565, "creation_date": 1498082152, "last_edit_date": 1500780565, "question_id": 44686892, "link": "https://stackoverflow.com/questions/44686892/loop-through-table-rows-using-beautifulsoup", "title": "Loop Through Table Rows Using BeautifulSoup", "body": "<p>I need help looping through table rows and putting them into a list.  On this website, there are three tables, each with different statistics - <a href=\"http://www.fangraphs.com/statsplits.aspx?playerid=15640&amp;position=OF&amp;season=0&amp;split=0.4\" rel=\"nofollow noreferrer\">http://www.fangraphs.com/statsplits.aspx?playerid=15640&amp;position=OF&amp;season=0&amp;split=0.4</a> </p>\n\n<p>For instance, these three tables have rows for 2016, 2017, and a total row.  I would like the following:</p>\n\n<p>A list of the following -->table 1 - row 1, table 2 - row 1, table 3 - row 1\nA second list of the following -->table 1 - row 2, table 2 - row 2, table 3 - row 2\nA third list: -->table 1 - row 3, table 2 - row 3, table 3 - row 3</p>\n\n<p>I know I obviously need to create lists, and need to use the append function; however, I am not sure how to get it to loop through just the first row of each table, then the second row of each table, and etc through each row of the table (the number of rows will vary in each instance - this one just happens to have 3).</p>\n\n<p>Any help is greatly appreciated.  The code is below:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nimport pandas as pd\nimport csv\n\nidList2 = ['15640', '9256']\nsplitList=[0.4,0.2,0.3,0.4]\nfor id in idList2:\n    pos = 'OF'\n    for split in splitList:\n        url = 'http://www.fangraphs.com/statsplits.aspx?playerid=' + \n            str(id) + '&amp;position=' + str(pos) + '&amp;season=0&amp;split=' + \n            str(split) + ''\n        r = requests.get(url)\n\n        for season in range(1,4):\n            print(season)\n            soup = BeautifulSoup(r.text, \"html.parser\")\n            tableStats = soup.find(\"table\", {\"id\" :  \"SeasonSplits1_dgSeason\" + str(season) + \"_ctl00\"})\n            soup.findAll('th')\n            column_headers = [th.getText() for th in soup.findAll('th')]                      \n            statistics = soup.find(\"table\", {\"id\" :                     \n'\"SeasonSplits1_dgSeason\" + str(season) + \"_ctl00\"})'\n            tabledata = [td.getText() for td in statistics('td')]                         \n            print(tabledata)\n</code></pre>\n"}, {"tags": ["python", "computer-science", "scientific-computing", "runge-kutta"], "comments": [{"owner": {"reputation": 16763, "user_id": 2749397, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/rcNMz.png?s=128&g=1", "display_name": "gboffi", "link": "https://stackoverflow.com/users/2749397/gboffi"}, "edited": false, "score": 0, "creation_date": 1498082610, "post_id": 44686827, "comment_id": 76357998, "body": "The <a href=\"https://docs.scipy.org/doc/scipy-0.19.0/reference/generated/scipy.integrate.odeint.html\" rel=\"nofollow noreferrer\">scipy documentation for <code>odeint</code></a> has a detailed example of the solution of a 2nd order ODE.  Study that example and come back (maybe in another question...) to get help on specific issues. As is your question is a bad one..."}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 8292417, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--SnOAiZ4kkk/AAAAAAAAAAI/AAAAAAAAAOg/DUDMaB44HKc/photo.jpg?sz=128", "display_name": "Sam C", "link": "https://stackoverflow.com/users/8292417/sam-c"}, "is_accepted": false, "score": 0, "last_activity_date": 1499814841, "creation_date": 1499814841, "answer_id": 45045893, "question_id": 44686827, "link": "https://stackoverflow.com/questions/44686827/second-order-ode-with-rk4/45045893#45045893", "title": "Second order ODE with RK4", "body": "<p>You should be able to put the above in a \"semi-discrete\" form, thats to say dT/dt in terms of only partial derivatives with respect r. If you can then find a numerical or otherwise approximation to the terms equivalent to dT/dt, i.e. the RHS of dT/dt= df(r,...) then explicit RK4 can be applicable. </p>\n\n<p>In this approach, your time stepping method (RK4), is only applied to your first order derivative of temperature with respect to time.   </p>\n"}], "owner": {"reputation": 1, "user_id": 6534698, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-uRFQxJj45gI/AAAAAAAAAAI/AAAAAAAAAyo/QMH66iu8aMI/photo.jpg?sz=128", "display_name": "Pedro Gabriel Carvalho", "link": "https://stackoverflow.com/users/6534698/pedro-gabriel-carvalho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 474, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499814841, "creation_date": 1498081789, "last_edit_date": 1498089517, "question_id": 44686827, "link": "https://stackoverflow.com/questions/44686827/second-order-ode-with-rk4", "title": "Second order ODE with RK4", "body": "<p>I need to plot a graphic showing 2 variables, with a second order ODE with RK4, so far i've done this </p>\n\n<pre><code>from numpy import arange\nfrom pylab import plot,xlabel,ylabel,show\nQger = 400\nK = 20\nT1 = 150\nT2 = 60\nN = 1000\nh = (T2-T1)/N\nrpoints = arange(6.0,8.0,h)\nxpoints = []\nx = 423\ndef df(s,t):\n    dTdt = -Qger*t/(2*K) + 172.8/t\n    return dTdt\n\nfor r in rpoints:\n    xpoints.append(x)\n    k1 = h*df(x,r)\n    k2 = h*df(x+0.5*k1,r+0.5*h)\n    k3 = h*df(x+0.5*k2,r+0.5*h)\n    k4 = h*df(x+k3,r+h)\n    x += (k1+2*k2+2*k3+k4)/6\npylab.plot(rpoints,xpoints)\npylab.xlabel(\"Raio\")\npylab.ylabel(\"Temperatura\")\npylab.show\n</code></pre>\n\n<p>But that's a RK4 for a first order ODE, because i didn't know and integrated by\nhand, but i can't do that  and neither use scipy, so can anyone explain to me how to integrate this function or use RK4 with a second order ODE. The function is below.</p>\n\n<p>This is the function, only T and r are variables, the rest is 0</p>\n\n<p><img src=\"https://i.stack.imgur.com/o3Vtb.png\" alt=\"\"></p>\n"}, {"tags": ["python", "list", "indexing", "printing"], "comments": [{"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 1, "creation_date": 1498081631, "post_id": 44686767, "comment_id": 76357600, "body": "<a href=\"https://docs.python.org/2/library/stdtypes.html#str.split\" rel=\"nofollow noreferrer\"><code>str.split</code></a>?"}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1498082099, "post_id": 44686767, "comment_id": 76357784, "body": "FYI I am new to Python. @spectras Not totally sure how str.split would work in this case. Correct me if I am wrong, but aren&#39;t str.split is used to manipulate how strings are stored, and in this case, in lists? If this could be used, I am not sure how to use it. Essentially, I would like to call the first asterisk as the right index for Code1, the first asterisk as the left index and the second asterisk as the right index for Code2, and the second asterisk as the left index for Code3"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498136028, "post_id": 44686992, "comment_id": 76382783, "body": "What would I do if I don&#39;t want it to print &quot;code 1&quot; and &quot;code 2&quot; and &quot;code 3&quot; as the outputs? I don&#39;t want it to sequentially number &quot;Code { }:&quot; but instead I want it to print &quot;User Code: &quot; &quot;Pass Code: &quot; and &quot;Pin Code: &quot;, all in one line. @bloominonion"}, {"owner": {"reputation": 28, "user_id": 7239942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42060bf6802d48061dd6092ab37d070?s=128&d=identicon&r=PG&f=1", "display_name": "bloominonion", "link": "https://stackoverflow.com/users/7239942/bloominonion"}, "reply_to_user": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498180610, "post_id": 44686992, "comment_id": 76405933, "body": "You could just create another list with the titles to use. See edit."}], "tags": [], "owner": {"reputation": 28, "user_id": 7239942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e42060bf6802d48061dd6092ab37d070?s=128&d=identicon&r=PG&f=1", "display_name": "bloominonion", "link": "https://stackoverflow.com/users/7239942/bloominonion"}, "is_accepted": true, "score": 0, "last_activity_date": 1498182248, "last_edit_date": 1498182248, "creation_date": 1498082610, "answer_id": 44686992, "question_id": 44686767, "link": "https://stackoverflow.com/questions/44686767/python-3-x-use-index-of-second-repeated-index/44686992#44686992", "title": "Python 3.x: Use index of second repeated index", "body": "<p>You should be able to combine the use of <code>split</code> and <code>enumerate</code>.</p>\n\n<p><code>split</code> will turn the values into a list, and you can use\n<code>enumerate</code> to get the index of the current code while still getting the value.</p>\n\n<pre><code>code = '1234*5678*9101'\nfor i,val in enumerate(code.split('*')):\n    if i &lt; len(lst)-1:\n        val += \"*\"\n    print (\"Code {}: {}\".format(i, val))\n</code></pre>\n\n<p>You could also use the <code>end</code> parameter of print if you want it all on one line, making the `print look like this: </p>\n\n<pre><code>print (\"Code {}: {},\".format(i, val), end='')\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>Code 1: 1234*\nCode 2: 5678*\nCode 3: 9101\nCode 1: 1234*, Code 2: 5678*, Code 3: 9101,\n</code></pre>\n\n<p><strong>Edit: Updated with new post information</strong></p>\n\n<p>Optional printing with titles:</p>\n\n<pre><code>codeIn = ['1', '2', '3', '4', '5', '*', '6', '*', '7', '8', '9', '10', '1']\n\ncodeVals = (\"\".join(codeIn)).split(\"*\")\n\ntitles = [\"User Code\", \"Pass Code\", \"Pin Code\"]\nfor title, val in zip(titles, codeVals):\n    print (\"{}: {}\".format(title, val)) \n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>User Code: 12345\nPass Code: 6\nPin Code: 789101\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1498114055, "post_id": 44686996, "comment_id": 76367374, "body": "And most probably the asterisks in the question were not a requirement but a side effect of how the OP thought about the problem. @drauch&gt; is it ok if the extracted codes do not include the extraneous asterisk? That would make the code even simpler as this answer actually re-adds them manually after splitting the codes."}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "reply_to_user": {"reputation": 10709, "user_id": 3212865, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/B6qLg.jpg?s=128&g=1", "display_name": "spectras", "link": "https://stackoverflow.com/users/3212865/spectras"}, "edited": false, "score": 0, "creation_date": 1498134600, "post_id": 44686996, "comment_id": 76381712, "body": "@spectras, the asterisks are not a requirement. The extracted codes do not need to include the asterisks, just the values between."}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498141827, "post_id": 44686996, "comment_id": 76387477, "body": "@Prune I forgot to mention that the data input for digit, or in your case in_str, is actually a list. So the input instead looks like &quot;[&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;*&#39;, &#39;6&#39;, &#39;*&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;10&#39;, &#39;11&#39;]&quot;, which is causing your code provided to result in: <code>Attribute Error: &#39;list&#39; object has no attribute &#39;split&#39;</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1498147127, "post_id": 44686996, "comment_id": 76391543, "body": "You presented it as a string, to wit, Example data for digit would be &#39;1234*5678*9101&#39;.`  Please correct your posting.  The trivial way to &quot;fix&quot; this is to <code>join</code> the list into a single string, then continue with the solutions we&#39;ve given you."}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498149577, "post_id": 44686996, "comment_id": 76393059, "body": "@Prune I have updated the post. Hopefully it is clearer as to what I want to do."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1498153034, "post_id": 44686996, "comment_id": 76394909, "body": "Yes.  These two answers still give you code you can use to divide the list as desired.  Can you move ahead from here?"}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498154529, "post_id": 44686996, "comment_id": 76395724, "body": "@Prune Still having issues. I am getting errors with both codes. Current error when attempting to run is still <code>Attribute Error: &#39;list&#39; object has no attribute &#39;split&#39;</code>. I will attempt to resolve, but I am not an experienced programmer so I am having difficulty."}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498154844, "post_id": 44686996, "comment_id": 76395886, "body": "@Prune Attempting to use <code>join</code> to make the list into a string, but now it is printing only as <code>(&#39;Code0:&#39;, &#39;&#39;)</code>"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498161929, "post_id": 44686996, "comment_id": 76399814, "body": "@DRauch: you cannot split a list; only a string.  As I said, you would have to join the list into a string.  For your <code>(&#39;Code0:&#39;, &#39;&#39;)</code>, I can&#39;t help from output alone ... I have to know what code you&#39;re using.  Also, have you applied basic debugging tools to the problem?  Insert <code>print</code> statements to trace data and control flow, etc.?  See this lovely <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">debug</a> blog for help."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1498082630, "creation_date": 1498082630, "answer_id": 44686996, "question_id": 44686767, "link": "https://stackoverflow.com/questions/44686767/python-3-x-use-index-of-second-repeated-index/44686996#44686996", "title": "Python 3.x: Use index of second repeated index", "body": "<p>Split on the asterisk (separator) to get the individual strings.\nWhen you print, append it to all but the last item.</p>\n\n<pre><code>in_str = '1234*5678*9101'\nsep = '*'\ncode_list = in_str.split(sep)\n\nfor seq, item in enumerate(code_list):\n    term = '*' if seq &lt; len(code_list)-1 else ''\n    print \"Code\" + str(seq) + ':', item + term\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Code0: 1234*\nCode1: 5678*\nCode2: 9101\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 44686992, "answer_count": 2, "score": 0, "last_activity_date": 1498182248, "creation_date": 1498081490, "last_edit_date": 1498149431, "question_id": 44686767, "link": "https://stackoverflow.com/questions/44686767/python-3-x-use-index-of-second-repeated-index", "title": "Python 3.x: Use index of second repeated index", "body": "<p>There are lots of similar posts out there, but I could not find something that directly matched, or resulted in a solution, to the issue I am dealing with.</p>\n\n<p>I want to use the second instance of a repeated index contained in a list as the index of another list. When the function is executed, I want all numbers from the start of the list up to the first asterisk to <code>print</code> after User Code, all numbers between the first asterisk and the second asterisk to print after Pass Code, and then all numbers following the second asterisk until the end of the list to print after Pin Code. Example data for digit would be <code>\"['1', '2', '3', '4', '5', '*', '6', '*', '7', '8', '9', '10', '1']\"</code> . The number of elements for User Code, Pass Code, and Pin Code can change which is why I am attempting to have it print around the asterisks.  </p>\n\n<p>In other words, I want the code below to <code>print</code> , assuming those digits exist,  <code>User Code: 12345, Pass Code: 6, Pin Code: 789101</code>, all in one line. I do not want the asterisks to <code>print</code>.</p>\n\n<pre><code>print_string += 'Elapsed Time: ' + str(time) + ', ' + 'User Code: {} '.format(''.join(str(dig) for dig in digit[:digit.index('*')])) + \\\n                        'Pass Code: {} '.format(''.join(str(dig) for dig in digit[digit.index('*'):digit.index('*')])) + \\\n                        'Pin Code: {} '.format(''.join(str(dig) for dig in digit[digit.index('*'):]))\nprint(print_string)\n</code></pre>\n\n<p>I just cannot figure out how make it look for sequential asterisks. If there is a simpler way to execute this, please let me know!</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "pandas", "dataframe", "time-series"], "answers": [{"comments": [{"owner": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498082288, "post_id": 44686795, "comment_id": 76357864, "body": "with the complete file I got this error message but this should be about the quality of the data then I guess: CParserError: Error tokenizing data. C error: Expected 50 fields in line 33595, saw 51"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498082353, "post_id": 44686795, "comment_id": 76357897, "body": "Hmmm, is possible omit this line?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498082527, "post_id": 44686795, "comment_id": 76357963, "body": "Solution is add <code>error_bad_lines=False</code>, check <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#handling-bad-lines\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498082993, "post_id": 44686795, "comment_id": 76358141, "body": "I guess the trick is the quoting param, no? Thanks a lot for the very quick reply!!"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498083030, "post_id": 44686795, "comment_id": 76358149, "body": "Exactly. Thank you."}, {"owner": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498119721, "post_id": 44686795, "comment_id": 76371035, "body": "Hey, I found out that the problem lies in parsing the file because when I paste in the mentioned lines in the StringIO param it works perfectly fine. Do you know how to solve this problem? (Error now: CParserError: Too many columns specified: expected 51 and found 50)"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498119964, "post_id": 44686795, "comment_id": 76371195, "body": "parameter <code>error_bad_lines=False</code> does not work? <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#handling-bad-lines\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498120393, "post_id": 44686795, "comment_id": 76371483, "body": "But I believe problematic data parsing is not easy, because data depending :("}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498120486, "post_id": 44686795, "comment_id": 76371566, "body": "One idea, is possible add parameter <code>nrows=10000</code> (change it by your data) to <code>read_csv</code> and find problematic rows where solution failed?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498120865, "post_id": 44686795, "comment_id": 76371802, "body": "wiat, wait, it filter only first N rows, not all data... Try increase number."}, {"owner": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "edited": false, "score": 0, "creation_date": 1498121393, "post_id": 44686795, "comment_id": 76372205, "body": "well, sorry I was reading the test file with the temp string saved in a file. anyways it is interesting that this worked but the real data file not although I copied the temp string from the real data file"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 1, "last_activity_date": 1498082573, "last_edit_date": 1498082573, "creation_date": 1498081596, "answer_id": 44686795, "question_id": 44686736, "link": "https://stackoverflow.com/questions/44686736/data-preparation-of-a-large-data-set-in-pandas/44686795#44686795", "title": "data preparation of a large data set in pandas", "body": "<p>I think you can use parameter <code>quoting</code>:</p>\n\n<pre><code>import pandas as pd\nimport csv\nfrom pandas.compat import StringIO\n\ntemp=u'''\n1;2;0;\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;\";\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0\";\"11\";13.10.2016 10:13:42\n2;1;0;\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;\";\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0\";\"1\";13.10.2016 10:13:42\n'''\n#after testing replace 'StringIO(temp)' to 'filename.csv'\ndf = pd.read_csv(StringIO(temp), sep=\";\", quoting=csv.QUOTE_NONE, header=None)\n\n#temporary diplay 52 columns\nwith pd.option_context('display.max_columns', 52):\n    print (df)\n   0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16  17  18  \\\n0   1   2   0  \"0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n1   2   1   0  \"0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n\n   19  20  21  22  23  24  25  26  27 28  29  30  31  32  33  34  35  36  37  \\\n0   0   0   0   0   0   0   0   0   0  \"  \"0   0   0   0   0   0   0   0   0   \n1   0   0   0   0   0   0   0   0   0  \"  \"0   0   0   0   0   0   0   0   0   \n\n   38  39  40  41  42  43  44  45  46  47  48    49                   50  \n0   0   0   0   0   0   0   0   0   0   0  0\"  \"11\"  13.10.2016 10:13:42  \n1   0   0   0   0   0   0   0   0   0   0  0\"   \"1\"  13.10.2016 10:13:42 \n</code></pre>\n\n<p>And then <code>apply</code> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.str.strip.html\" rel=\"nofollow noreferrer\"><code>strip</code></a>:</p>\n\n<pre><code>#data cleaning\ncols = [3, 29, 48, 49]\ndf[cols] = df[cols].apply(lambda x: x.str.strip('\"').astype(int))\n#remove empty column\ndf = df.drop(28, axis=1)\n#reset columns names\ndf.columns = pd.RangeIndex(len(df.columns))\nwith pd.option_context('display.max_columns', 52):\n    print (df)\n   0   1   2   3   4   5   6   7   8   9   10  11  12  13  14  15  16  17  18  \\\n0   1   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n1   2   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n\n   19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  \\\n0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n1   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   \n\n   38  39  40  41  42  43  44  45  46  47  48                   49  \n0   0   0   0   0   0   0   0   0   0   0  11  13.10.2016 10:13:42  \n1   0   0   0   0   0   0   0   0   0   0   1  13.10.2016 10:13:42\n</code></pre>\n"}], "owner": {"reputation": 515, "user_id": 4477150, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3aea7d6f507f324654ee5b653165399a?s=128&d=identicon&r=PG&f=1", "display_name": "steph", "link": "https://stackoverflow.com/users/4477150/steph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 44686795, "answer_count": 1, "score": 1, "last_activity_date": 1498082573, "creation_date": 1498081335, "question_id": 44686736, "link": "https://stackoverflow.com/questions/44686736/data-preparation-of-a-large-data-set-in-pandas", "title": "data preparation of a large data set in pandas", "body": "<p>I want to do a simple time series visualization of my data that looks like the following:</p>\n\n<p><code>1;2;0;\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;\";\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0\";\"11\";13.10.2016 10:13:42\n2;1;0;\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;\";\"0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;0\";\"1\";13.10.2016 10:13:42</code></p>\n\n<p>For all I know is that the sensors' data are stored in these two strings full of 0's (not all rows contain exclusively 0's). How would I proceed to create a dataframe with a column for each sensor's date? Or what does allow me to plot the sensor data over time (it's like 25 and 20 sensors).</p>\n\n<p>What I tried is the following:</p>\n\n<p><code>data = pd.read_csv('data.csv', delimiter=';')\ndf = pd.concat([data[[0:3]], data[3].str.split(';', expand=True),data[4].str.split(';', expand=True), data[[-2,-1]]], axis=1)</code></p>\n\n<p>However it takes so long that I did not wait for a result of processing 900,000 rows ... </p>\n"}, {"tags": ["python", "django", "caching"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1498081743, "post_id": 44686695, "comment_id": 76357649, "body": "Where are you running that command to indirect the cache?"}, {"owner": {"reputation": 2564, "user_id": 2801122, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0b2e28daccb30d8f18a0778298ee266c?s=128&d=identicon&r=PG&f=1", "display_name": "theamateurdataanalyst", "link": "https://stackoverflow.com/users/2801122/theamateurdataanalyst"}, "reply_to_user": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1498082322, "post_id": 44686695, "comment_id": 76357876, "body": "Hi Daniel, from my shell via <code>.&#47;manage.py shell</code>"}], "answers": [{"tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": false, "score": 0, "last_activity_date": 1498082716, "creation_date": 1498082716, "answer_id": 44687010, "question_id": 44686695, "link": "https://stackoverflow.com/questions/44686695/not-caching-view-in-django-locmemcache/44687010#44687010", "title": "Not caching view in Django LocMemCache", "body": "<p>As I said in that linked answer, the LocMem cache really is what the name describes: a <em>local</em> memory cache. It's just a global variable inside each process, which is only accessible inside that process.</p>\n\n<p>There's no way for a command in the shell to access the contents of the local memory cache running in the server.</p>\n\n<p>Use a different cache backend, or print the cache values from inside your views.</p>\n"}], "owner": {"reputation": 2564, "user_id": 2801122, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/0b2e28daccb30d8f18a0778298ee266c?s=128&d=identicon&r=PG&f=1", "display_name": "theamateurdataanalyst", "link": "https://stackoverflow.com/users/2801122/theamateurdataanalyst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 401, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498082716, "creation_date": 1498081097, "question_id": 44686695, "link": "https://stackoverflow.com/questions/44686695/not-caching-view-in-django-locmemcache", "title": "Not caching view in Django LocMemCache", "body": "<p>I am trying to cache a class based view like so </p>\n\n<p><strong>urls.py</strong></p>\n\n<pre><code>from django.views.decorators.cache import cache_page\nfrom django.conf.urls import url\nurlpatterns = [\n    url(r'^/awesome-url$', cache_page(60 * 60)(TemplateView.as_view(template_name=\"awesome.html\")), name=\"awesome\"),\n]\n</code></pre>\n\n<p><strong>settings.py</strong></p>\n\n<pre><code>CACHES = {\n    'default': {\n        'BACKEND': 'django.core.cache.backends.locmem.LocMemCache',\n        'LOCATION': 'unique-snowflake'\n    }\n}\n</code></pre>\n\n<p>My hope was to have my views cached and I wanted to verify that this was happening by inspecting it with:</p>\n\n<pre><code>from django.core.cache.backends import locmem\nprint locmem._caches\n&gt;{}\n</code></pre>\n\n<p>Source: <a href=\"https://stackoverflow.com/questions/13630237/contents-of-locmem-cache-in-django?noredirect=1&amp;lq=1\">Contents of locmem cache in django?</a></p>\n\n<p>Sadly the backend is empty. So I am doubtful that the view is being cached, can anyone help?</p>\n"}, {"tags": ["python", "python-3.x", "sorting"], "comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 4, "creation_date": 1498081692, "post_id": 44686692, "comment_id": 76357622, "body": "What&#39;s the reason you don&#39;t want to use <code>cmp_to_key</code>? (E.g. would you accept a solution that did the same thing by hand?)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1498084332, "post_id": 44686692, "comment_id": 76358597, "body": "Related:  <a href=\"https://stackoverflow.com/a/16362818/674039\">How does Python&#39;s cmp_to_key function work?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 2, "creation_date": 1498084379, "post_id": 44686932, "comment_id": 76358611, "body": "This is basically rewriting <code>cmp_to_key</code>.  May as well just use it."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1498085326, "post_id": 44686932, "comment_id": 76358868, "body": "@wim The question actually just asked for an approach that didn&#39;t require <code>cmp_to_key</code>. I had an alternative but that - unfortunatly - failed. Still it should be better than the <code>cmp_to_key</code> because it doesn&#39;t require casting everything to strings before doing the sort and it could be faster because it only requires 2 string concatenations not 4 (worst-case in the original question). But yeah, basically you&#39;re right, it&#39;s just re-writing <code>cmp_to_key</code>..."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 3, "last_activity_date": 1498083865, "last_edit_date": 1498083865, "creation_date": 1498082318, "answer_id": 44686932, "question_id": 44686692, "link": "https://stackoverflow.com/questions/44686692/how-to-use-python3-sort-key-if-the-compare-function-requires-values-of-items-bei/44686932#44686932", "title": "How to use Python3 sort key if the compare function requires values of items being compared?", "body": "<p>You could write a custom class that implements <a href=\"https://docs.python.org/reference/datamodel.html#object.__lt__\" rel=\"nofollow noreferrer\"><code>__lt__</code></a> (the method that implements <code>&lt;</code> comparisons) in a way that you need it:</p>\n\n<pre><code>class Comp(object):\n    def __init__(self, value):\n        self.value = str(value)\n\n    def __lt__(self, other):\n        return other.value + self.value &lt;= self.value + other.value\n</code></pre>\n\n<p>That should produce an identical \"sorting\":</p>\n\n<pre><code>&gt;&gt;&gt; sorted([3, 30, 34, 5, 9], key=Comp)\n[9, 5, 34, 3, 30]\n</code></pre>\n\n<p>But I'm not sure if that really does provide a <a href=\"https://en.wikipedia.org/wiki/Total_order\" rel=\"nofollow noreferrer\">\"total ordering\"</a> (it could, I just have some doubts) and if it doesn't it could actually produce unexpected results (in any Python version independent of <code>key</code> or <code>cmp</code> argument).</p>\n"}, {"comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498084554, "post_id": 44687255, "comment_id": 76358645, "body": "I think I found a failing input, actually. Hang on while I investigate. (This code appears not to be correct.)"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498085049, "post_id": 44687255, "comment_id": 76358784, "body": "Edited the code to use <code>n*2</code> instead of <code>n+1</code>. I believe it&#39;s now correct."}, {"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1498085528, "post_id": 44687255, "comment_id": 76358926, "body": "If you have a failing case that would be really interesting, partly because I&#39;m not sure if the original code actually provided a &quot;total ordering&quot;."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 0, "creation_date": 1498085933, "post_id": 44687255, "comment_id": 76359045, "body": "I&#39;ve lost my failing case now that I fixed the code, but it was something like <code>1121</code> and <code>112</code>... basically, you need to extend further out to see the difference. (<code>11211 == 11211</code>, but <code>11211121 &lt; 11211211</code>) I now believe that making everything twice the length of the maximum input number is right."}], "tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": false, "score": 1, "last_activity_date": 1498085031, "last_edit_date": 1498085031, "creation_date": 1498084186, "answer_id": 44687255, "question_id": 44686692, "link": "https://stackoverflow.com/questions/44686692/how-to-use-python3-sort-key-if-the-compare-function-requires-values-of-items-bei/44687255#44687255", "title": "How to use Python3 sort key if the compare function requires values of items being compared?", "body": "<p>Just for another way of doing this:</p>\n\n<pre><code>from itertools import cycle, islice\n\ndef extender(n):\n    def extend(x):\n        s = str(x)\n        return \"\".join(islice(cycle(s), n))\n    return extend\n\ndef biggest_number(input):\n    if (len(input) == 0):\n        return 0\n    extend = extender(len(str(max(input))) * 2)\n    s = sorted(input, key=extend, reverse=True)\n    return int(\"\".join(map(str, s)))\n</code></pre>\n\n<p>Essentially, you take each element of the array and make them the same length by repeating as necessary. Then you do a lexicographical sort. (A numerical sort would be identical at this point, but we want strings when we're done.)</p>\n\n<p>E.g., for <code>[3, 30, 34, 5, 9]</code>, we find that the longest number is 2 digits, so we extend everything to be three digits by repeating the digits as needed. These are the keys that get used:</p>\n\n<pre><code>[333, 303, 343, 555, 999]\n</code></pre>\n\n<p>Then we sort, descending, and assemble the result:</p>\n\n<pre><code>[9, 5, 34, 3, 30]\n9534330\n</code></pre>\n\n<p>The intuition comes from starting with \"Pick the number with the biggest leading digit.\" The issue arises of what we should do with a tie. E.g., why should we pick 3 before 30? The answer is that the biggest digit that could appear after the 3 is another 3. (If there were a bigger digit available, we would have picked it already.) So thinking of the 3 as \"333333...\" helps us pick the right one. Similar question: why would we pick 10 instead of 100? This leads us to realize that the best result after 10 is another number that starts with 10. (11 or more we would have picked already.) So think of it as \"10101010...\" and \"100100100100...\". It turns out, you just need to extend to <em>n*2</em> digits, where <em>n</em> is the length of the longest number.</p>\n\n<p>I realize that's a bit confusing. I wrote a test to make sure that's all correct. (It compares against your original code.)</p>\n\n<pre><code>from functools import cmp_to_key\nimport random\n\ndef largestNumber(nums):\n    numStr = [str(i) for i in nums]\n\n    def str_cmp(x, y):\n        if y+x &lt; x+y: return -1\n        elif y+x &gt; x+y: return 1\n        else: return 0\n\n    numStr.sort(key=cmp_to_key(str_cmp))\n\n    return \"\".join(numStr).lstrip('0') or '0'\n\nfor i in range(1000000):\n    input = [random.randint(0, 1000) for _ in range(random.randint(0, 100))]\n    if biggest_number(input) != int(largestNumber(input)):\n        print(\"FAILED: {}\".format(input))\n    if i % 100 == 0:\n        print(i)\n</code></pre>\n\n<p>I have yet to find input that doesn't work. I'm fairly convinced this code is correct.</p>\n\n<p>All of that said, I don't know why you don't want to just use <code>cmp_to_key</code>. :-)</p>\n"}], "owner": {"reputation": 33, "user_id": 2844160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77b9f4097e5cef73eb39333f47daf4ef?s=128&d=identicon&r=PG&f=1", "display_name": "vinay", "link": "https://stackoverflow.com/users/2844160/vinay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 719, "favorite_count": 1, "accepted_answer_id": 44686932, "answer_count": 2, "score": 3, "last_activity_date": 1498095327, "creation_date": 1498081085, "last_edit_date": 1498082358, "question_id": 44686692, "link": "https://stackoverflow.com/questions/44686692/how-to-use-python3-sort-key-if-the-compare-function-requires-values-of-items-bei", "title": "How to use Python3 sort key if the compare function requires values of items being compared?", "body": "<p>Below is an example, where I've used a comparator function that explicitly requires both the items being present (<code>x+y &lt; y+x</code>) to provide a comparison. The question is how do I write the below without using <code>cmp_to_key</code> function, since <code>key</code> takes only one input. </p>\n\n<p>The following program is a solution to the problem:</p>\n\n<p>Given a list of non-negative integers, arrange them such that they form the largest number.</p>\n\n<p>For example, given <code>[3, 30, 34, 5, 9]</code>, the largest formed number is <code>9534330</code>.</p>\n\n<pre><code>from functors import cmp_to_key\n\ndef largestNumber(self, nums):\n    numStr = [str(i) for i in nums]\n\n    def str_cmp(x, y):\n        if y+x &lt; x+y: return -1\n        elif y+x &gt; x+y: return 1\n        else: return 0\n\n    numStr.sort(key=cmp_to_key(str_cmp))\n\n    return \"\".join(numStr).lstrip('0') or '0'\n</code></pre>\n"}, {"tags": ["python", "xlsx", "xlrd", "online-compilation"], "answers": [{"tags": [], "owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "is_accepted": false, "score": 1, "last_activity_date": 1498089072, "last_edit_date": 1498089072, "creation_date": 1498083361, "answer_id": 44687122, "question_id": 44686664, "link": "https://stackoverflow.com/questions/44686664/read-excel-file-with-an-online-python-compiler-with-xlrd/44687122#44687122", "title": "Read excel file with an online Python compiler with xlrd", "body": "<ol>\n<li><p>Could the <code>pandas</code> package and its <code>pandas.read_clipboard</code> function help? You'd need to copy the content of the file manually to the clipboard before starting your script.</p></li>\n<li><p>Alternatively - is it considered cheating to just rent a server? Pretty cheap these days.</p></li>\n<li><p>Finally: you don't usually require admin rights to install Python... so assuming it's not a violation of school policy, the Anaconda distribution for instance is very happy to be installed for the local user only.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 7648577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9446ce5077235440736c4fe9e39dc623?s=128&d=identicon&r=PG&f=1", "display_name": "Good ol&#39; George", "link": "https://stackoverflow.com/users/7648577/good-ol-george"}, "edited": false, "score": 0, "creation_date": 1498140887, "post_id": 44687237, "comment_id": 76386683, "body": "Thanks! I tried cloud9 and it seem to do the trick. The application we are trying to run is pretty CPU intensive and CPU usage is a restriction at the site. I hope it will run anyways. I&#39;ll keep the other advice in mind."}], "tags": [], "owner": {"reputation": 633, "user_id": 5848756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b557e59b969b6dde198b7d5e1a6353?s=128&d=identicon&r=PG&f=1", "display_name": "Luis Alvarez", "link": "https://stackoverflow.com/users/5848756/luis-alvarez"}, "is_accepted": false, "score": 0, "last_activity_date": 1498084052, "creation_date": 1498084052, "answer_id": 44687237, "question_id": 44686664, "link": "https://stackoverflow.com/questions/44686664/read-excel-file-with-an-online-python-compiler-with-xlrd/44687237#44687237", "title": "Read excel file with an online Python compiler with xlrd", "body": "<p>You could look into <a href=\"https://c9.io/\" rel=\"nofollow noreferrer\">Cloud9</a> for online IDE. It wouldn't have access to your computer's filesystem, but you could either:</p>\n\n<ul>\n<li>Build a tiny <a href=\"http://flask.pocoo.org/\" rel=\"nofollow noreferrer\">flask</a> web app that exposes a website with an upload form. You could upload your file through the form, and have the backend use xlrd to do whatever you need.</li>\n<li>Straight up upload your file to your C9's workspace, via C9's interface itself.</li>\n</ul>\n\n<p>You can most definitely install xlrd on C9.</p>\n"}], "owner": {"reputation": 11, "user_id": 7648577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9446ce5077235440736c4fe9e39dc623?s=128&d=identicon&r=PG&f=1", "display_name": "Good ol&#39; George", "link": "https://stackoverflow.com/users/7648577/good-ol-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1799, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498089072, "creation_date": 1498080963, "last_edit_date": 1498081169, "question_id": 44686664, "link": "https://stackoverflow.com/questions/44686664/read-excel-file-with-an-online-python-compiler-with-xlrd", "title": "Read excel file with an online Python compiler with xlrd", "body": "<p>Me and my group are currently working on a school project where we need to use an online python compiler, since we are not allowed to install or download any software on their computers. The project requires me to read data from a .xlsx file.</p>\n\n<p>Is there any online IDE with xlrd that can read the file that is on the school's computer?</p>\n\n<p>I've been looking at a few but can't seem to find any that has this support. On tutorialspoint.com it is possible to upload the excel file but not import xlrd. Other sites has xlrd but doesn't allow for uploading files to the site.</p>\n"}, {"tags": ["python", "python-3.x", "functools"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1498081077, "post_id": 44686646, "comment_id": 76357391, "body": "Just do <code>f = lambda item: isinstance(item, str)</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1498081112, "post_id": 44686646, "comment_id": 76357402, "body": "@jonrsharpe Trying to avoid <code>lambdas</code> completely... :p"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1498081127, "post_id": 44686646, "comment_id": 76357406, "body": "Then write it out longhand with <code>def</code>. Same principle: <code>def f(item): return isinstance(item, str)</code>."}, {"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1498081202, "post_id": 44686646, "comment_id": 76357440, "body": "@jonrsharpe Hmm, seems like the only other option. Not as pythonic as I&#39;d have hoped but..."}], "answers": [{"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 2, "last_activity_date": 1498081054, "creation_date": 1498081054, "answer_id": 44686685, "question_id": 44686646, "link": "https://stackoverflow.com/questions/44686646/using-functools-partial-with-partial-arguments/44686685#44686685", "title": "Using functools.partial with partial arguments", "body": "<p>Unfortunately, that's just not something <code>functools.partial</code> supports. You'd need to write your own version that does support it, or find one in some 3rd-party library somewhere.</p>\n"}], "owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1105, "favorite_count": 1, "closed_date": 1498081583, "accepted_answer_id": 44686685, "answer_count": 1, "score": 2, "last_activity_date": 1498081154, "creation_date": 1498080906, "last_edit_date": 1498081154, "question_id": 44686646, "link": "https://stackoverflow.com/questions/44686646/using-functools-partial-with-partial-arguments", "closed_reason": "Duplicate", "title": "Using functools.partial with partial arguments", "body": "<p>Trying something out with partial, I observed the following behaviour:</p>\n\n<p>First, I defined a function <code>foo</code> which takes 2 non-keyword arguments:</p>\n\n<pre><code>&gt;&gt;&gt; def foo(salutation, name):\n...     print(salutation, name)\n</code></pre>\n\n<p>Then, I use partial to create a higher order wrapper.</p>\n\n<pre><code>&gt;&gt;&gt; from functools import partial \n&gt;&gt;&gt; f = partial(foo, name='Coldspeed')\n</code></pre>\n\n<p>Then, called it like this:</p>\n\n<pre><code>&gt;&gt;&gt; f('Hey')\n</code></pre>\n\n<p>This gave me <code>Hey Coldspeed</code> which was expected. Next, I tried to apply <code>partial</code> to <a href=\"https://docs.python.org/3/library/functions.html#isinstance\" rel=\"nofollow noreferrer\"><code>isinstance</code></a>:</p>\n\n<pre><code>&gt;&gt;&gt; f = partial(isinstance, classinfo=str)\n&gt;&gt;&gt; f('hello')\n</code></pre>\n\n<p>But this gave me an error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nTypeError: isinstance() takes no keyword arguments \n</code></pre>\n\n<p>I tried <code>classinfo</code> as the argument name since that was what was specified in the docs (linked above). It seems that the actual definition does <em>not</em> have the second argument named <code>classinfo</code> as the docs might otherwise state.</p>\n\n<p>How now, would I create a partial function with the second parameter without being forced to specify the argname? I definitely cannot do <code>f = partial(isinstance, str)</code> because <code>str</code> will be taken as the first argument, not the second. If possible, would like to find a way to do this without using <code>lambda</code> functions too.</p>\n"}, {"tags": ["python", "user-interface", "wxpython", "pyopengl"], "comments": [{"owner": {"reputation": 1310, "user_id": 7851272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0889h.png?s=128&g=1", "display_name": "Kind Stranger", "link": "https://stackoverflow.com/users/7851272/kind-stranger"}, "edited": false, "score": 0, "creation_date": 1498083173, "post_id": 44686628, "comment_id": 76358207, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/15998799/communicating-between-objects-in-python\">Communicating between objects in Python</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31264, "user_id": 393194, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/3d79d73463b194fb88957db095b92ea2?s=128&d=identicon&r=PG", "display_name": "Mike Driscoll", "link": "https://stackoverflow.com/users/393194/mike-driscoll"}, "is_accepted": true, "score": 0, "last_activity_date": 1498164212, "creation_date": 1498164212, "answer_id": 44709049, "question_id": 44686628, "link": "https://stackoverflow.com/questions/44686628/wxpython-how-to-acces-class-instance-by-other-class/44709049#44709049", "title": "WxPython - How to acces class instance by other class", "body": "<p>In your <code>MyCanvasBase</code> class's <code>__init__</code>, add the following:</p>\n\n<pre><code>self.parent = parent\n</code></pre>\n\n<p>Since the parent of <code>MyCanvasBase</code> is an instance of <code>MainWindow</code>, then you will be able to access the frame's model in <code>CubeCanvas</code> like this:</p>\n\n<pre><code>self.parent.model\n</code></pre>\n\n<p>My preferred method of communicating between classes is using Pubsub though. You can read about that at the following:</p>\n\n<ul>\n<li><a href=\"https://wxpython.org/Phoenix/docs/html/wx.lib.pubsub.pub.html\" rel=\"nofollow noreferrer\">https://wxpython.org/Phoenix/docs/html/wx.lib.pubsub.pub.html</a></li>\n<li><a href=\"https://www.blog.pythonlibrary.org/2013/09/05/wxpython-2-9-and-the-newer-pubsub-api-a-simple-tutorial/\" rel=\"nofollow noreferrer\">https://www.blog.pythonlibrary.org/2013/09/05/wxpython-2-9-and-the-newer-pubsub-api-a-simple-tutorial/</a></li>\n</ul>\n"}], "owner": {"reputation": 339, "user_id": 8196562, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c57a101112274f9e39d2247873ca93d7?s=128&d=identicon&r=PG&f=1", "display_name": "Barburka", "link": "https://stackoverflow.com/users/8196562/barburka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 297, "favorite_count": 0, "accepted_answer_id": 44709049, "answer_count": 1, "score": 1, "last_activity_date": 1498164212, "creation_date": 1498080809, "last_edit_date": 1498123598, "question_id": 44686628, "link": "https://stackoverflow.com/questions/44686628/wxpython-how-to-acces-class-instance-by-other-class", "title": "WxPython - How to acces class instance by other class", "body": "<p><strong>Code I'm working with:</strong></p>\n\n<pre><code>class MyApp(wx.App):\n    def OnInit(self):\n        frame = MainWindow(None, -1, 'MyApp')\n        frame.SetIcon(wx.Icon('tutorial.ico', wx.BITMAP_TYPE_ICO))\n        frame.Center()\n        frame.Show(True)\n        return True\n\n\nclass MainWindow(wx.Frame):\n    def __init__(self, parent, id, title):\n        wx.Frame.__init__(self, parent, id, title, wx.DefaultPosition, wx.Size(620, 480))\n        menubar = wx.MenuBar()\n        file = wx.Menu()\n        edit = wx.Menu()\n        help = wx.Menu()\n        file.Append(101, '&amp;New\\tCtrl+N')\n        file.AppendSeparator()\n        file.Append(102, '&amp;Open\\tCtrl+O')\n        file.Append(103, '&amp;Save\\tCtrl+S')\n        file.Append(104, '&amp;Save As...')\n        file.AppendSeparator()\n        file.Append(105, '&amp;Settings')\n        file.Append(106, '&amp;Quit\\tCtrl+Q')\n\n        self.model = wx.MenuItem(edit, 201, '&amp;Model', 'Model Mode', kind = wx.ITEM_CHECK)\n\n        self.box = wx.BoxSizer(wx.VERTICAL)        \n        self.c = CubeCanvas(self)\n        self.c.SetMinSize((200, 200))\n        self.box.Add(self.c, 0, wx.EXPAND |wx.ALL , 15)\n\n\nclass MyCanvasBase(glcanvas.GLCanvas):\n    def __init__(self, parent):\n        glcanvas.GLCanvas.__init__(self, parent, -1)\n        self.init = False\n        self.context = glcanvas.GLContext(self)\n\n        self.lastx = self.x = 30\n        self.lasty = self.y = 30\n        self.size = None\n        self.Bind(wx.EVT_ERASE_BACKGROUND, self.OnEraseBackground)\n        self.Bind(wx.EVT_MOTION, self.OnMouseMotion)\n\n        def OnMouseMotion(self, evt):\n            if frame.model.IsChecked(): #NameError: name 'frame' is not defined\n                self.lastx, self.lasty = self.x, self.y\n                self.x, self.y = evt.GetPosition()\n                self.Refresh(False)\n\n\nclass CubeCanvas(MyCanvasBase):\n    def InitGL(self):\n        # set viewing projection\n        glMatrixMode(GL_PROJECTION)\n        glFrustum(-0.5, 0.5, -0.5, 0.5, 1.0, 3.0)\n        # position viewer\n        glMatrixMode(GL_MODELVIEW)\n        glTranslatef(0.0, 0.0, -2.0)\n        glEnable(GL_BLEND)\n        glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA)\n        glEnable(GL_LINE_SMOOTH)\n        glHint(GL_LINE_SMOOTH_HINT, GL_NICEST)\n        glEnable(GL_POLYGON_SMOOTH)\n        glEnable(GL_DEPTH_TEST)\n        glEnable(GL_LIGHTING)\n        glEnable(GL_LIGHT0)\n\n    def OnDraw(self):\n        # clear color and depth buffers\n        glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT)\n        w, h = self.size\n        w = max(w, 1.0)\n        h = max(h, 1.0)\n        dx = self.x / (w/2) - 1.0\n        dy = self.y / (h/2) - 1.0\n        glLineWidth(2.5)\n        glColor3f(1.0, 0.0, 0.0)\n        glBegin(GL_LINES)\n        glVertex2f(0, 0)\n        glVertex2f(dx, -dy)\n        glEnd()\n        self.SwapBuffers()\n\n\nstatica = MyApp(0)\nstatica.MainLoop()\n</code></pre>\n\n<p>How can I access <code>MainWindow</code>'s <code>model</code> variable from another class method, like <code>MyCanvasBase.onMouseMotion</code>? Is it posible in <code>wxPython</code>?</p>\n\n<p><strong>I've tried:</strong> <code>frame.model</code>, <code>MainWindow.model</code>, with no success.</p>\n\n<p>How to solve such problems, like communication between classes in <code>wxPython</code>? In C++, I have <code>main</code> function, in python all logic is in <code>__init__</code>, or methods. </p>\n"}, {"tags": ["python", "generator", "yield"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1498080919, "post_id": 44686626, "comment_id": 76357337, "body": "Why are you trying to <code>yield</code> the return value of <code>helper</code>? Helper is a generator function, and it returns a generator iterator. If you want to yield everything the generator yields, that&#39;s <code>yield from</code>."}, {"owner": {"reputation": 1414, "user_id": 276625, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/65ed6275db2ec3063b97bdea5d25a380?s=128&d=identicon&r=PG", "display_name": "galactica", "link": "https://stackoverflow.com/users/276625/galactica"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498083163, "post_id": 44686626, "comment_id": 76358204, "body": "was trying to get a generator for all files under all dirs. Thanks for the &#39;yield from&#39; heads-up!"}], "answers": [{"comments": [{"owner": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 0, "creation_date": 1498081956, "post_id": 44686657, "comment_id": 76357732, "body": "If you just want to know if you can loop over something, <code>isinstance(dirs, collections.abc.Iterable)</code> is a better check to use, since that works for any iterable, not just list. A more pythonic way might be to take dirs as a vararg: <code>def get_files(*dirs)</code>, then the caller can call with a single argument, varargs, or a list by way of <code>get_dirs(*iterable_argument)</code>."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 2, "creation_date": 1498082271, "post_id": 44686657, "comment_id": 76357851, "body": "@zstewart: no, using <code>collections.abc.Iterable</code> is <i>not</i> a better check, because strings are iterables too. A single directory would then be treated as separate individual characters."}, {"owner": {"reputation": 1414, "user_id": 276625, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/65ed6275db2ec3063b97bdea5d25a380?s=128&d=identicon&r=PG", "display_name": "galactica", "link": "https://stackoverflow.com/users/276625/galactica"}, "edited": false, "score": 0, "creation_date": 1498083106, "post_id": 44686657, "comment_id": 76358185, "body": "Thanks! the py2.7 tips worked! I&#39;ll try with py3 too. Also thanks for the illustration and further tips for improve the python code quality!"}, {"owner": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 0, "creation_date": 1498134380, "post_id": 44686657, "comment_id": 76381520, "body": "@MartijnPieters Oh, right. Duh. I would personally still pick a solution which works for any iterable. <code>*dirs</code> might be the best option, since it leave open duck typing of both individual arguments and the iterable argument. Though it does mean that any iterable argument is evaluated eagerly. Another option is to explicitly check for the types of arguments accepted by <code>os.path.join</code> (<code>str</code>, <code>bytes</code>, and in 3.6+ <code>os.PathLike</code>) and only convert those to a new single-element list/tuple. Then <code>get_files</code> would be able to lazily evaluate a lazy iterator passed to it."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 1889, "user_id": 1036501, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/z8PwP.png?s=128&g=1", "display_name": "zstewart", "link": "https://stackoverflow.com/users/1036501/zstewart"}, "edited": false, "score": 0, "creation_date": 1498136916, "post_id": 44686657, "comment_id": 76383465, "body": "@zstewart: at which point you just put your foot down and have the API only accept a single iterable of directories, and simply avoid ducktyping."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 7, "last_activity_date": 1498082397, "last_edit_date": 1498082397, "creation_date": 1498080941, "answer_id": 44686657, "question_id": 44686626, "link": "https://stackoverflow.com/questions/44686626/how-to-wrap-or-embed-generators/44686657#44686657", "title": "How to wrap or embed generators?", "body": "<p>You are yielding <code>helper()</code> each time:</p>\n\n<pre><code>yield helper(dir)\n</code></pre>\n\n<p>but <code>helper()</code> itself is a generator.</p>\n\n<p>In Python 3.3 and newer, use <code>yield from</code> instead:</p>\n\n<pre><code>yield from helper(dir)\n</code></pre>\n\n<p>This <em>delegates</em> control to another generator. From the <a href=\"https://docs.python.org/3/reference/expressions.html#yield-expressions\" rel=\"noreferrer\"><em>Yield expressions</em></a> documentation:</p>\n\n<blockquote>\n  <p>When <code>yield from &lt;expr&gt;</code> is used, it treats the supplied expression as a subiterator. All values produced by that subiterator are passed directly to the caller of the current generator\u2019s methods.</p>\n</blockquote>\n\n<p>In older Python versions, including Python 2.x, use another loop:</p>\n\n<pre><code>for file in helper(dir):\n    yield file\n</code></pre>\n\n<p>For more information on what <code>yield from</code> does, see <a href=\"https://www.python.org/dev/peps/pep-0380/\" rel=\"noreferrer\">PEP 380 -- <em>Syntax for Delegating to a Subgenerator</em></a>.</p>\n\n<p>Not that you really need the helper function, it does little more than just loop over the <code>glob.glob()</code> results, you can do that <em>directly</em>. </p>\n\n<p>You also need to correct your function to actually use <code>indir</code>; currently you are ignoring that argument, so you only get text files from the <em>current working directory</em>.</p>\n\n<p>Next, you want to use <a href=\"https://docs.python.org/3/library/glob.html#glob.iglob\" rel=\"noreferrer\"><code>glob.iglob()</code></a> instead of <code>glob.glob()</code> to get the lazy evaluation over <code>os.scandir()</code> rather than load all results into memory at once. I'd just turn a non-list <code>dir_or_dirs</code> value into a list, then just use one loop:</p>\n\n<pre><code>import glob\nimport os.path\n\ndef get_files(dirs):\n    if not isinstance(dirs, list):\n        # make it a list with one element\n        dirs = [dirs]\n\n    for dir in dirs:\n        pattern = os.path.join(dir, '*.txt')\n        yield from glob.iglob(pattern)\n</code></pre>\n\n<p>Now, instead of a single argument that is either a string or a list, I'd use a variable number of arguments instead, with the <code>*args</code> parameter syntax:</p>\n\n<pre><code>def get_files(*dirs):\n    for dir in dirs:\n        pattern = os.path.join(dir, '*.txt')\n        yield from glob.iglob(pattern)\n</code></pre>\n\n<p>This can be called with 0 or more directories:</p>\n\n<pre><code>for file in get_files('/path/to/foo', '/path/to/bar'):\n    # ...\n</code></pre>\n"}], "owner": {"reputation": 1414, "user_id": 276625, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/65ed6275db2ec3063b97bdea5d25a380?s=128&d=identicon&r=PG", "display_name": "galactica", "link": "https://stackoverflow.com/users/276625/galactica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2477, "favorite_count": 0, "accepted_answer_id": 44686657, "answer_count": 1, "score": 3, "last_activity_date": 1556210635, "creation_date": 1498080792, "last_edit_date": 1556210635, "question_id": 44686626, "link": "https://stackoverflow.com/questions/44686626/how-to-wrap-or-embed-generators", "title": "How to wrap or embed generators?", "body": "<p>I'm trying to provide a unified interface for retrieving all files from a single directory or a list of directories. </p>\n\n<pre><code>def get_files(dir_or_dirs):\n    def helper(indir):\n        file_list = glob.glob(\"*.txt\")\n        for file in file_list:\n            yield file\n\n    if type(dir_or_dirs) is list:\n        # a list of source dirs\n        for dir in dir_or_dirs:\n            yield helper(dir)\n    else:\n        # a single source dir\n        yield helper(dir_or_dirs)\n\ndef print_all_files(file_iter):\n    for file in file_iter:\n        print(file)        # error here!\n</code></pre>\n\n<p>Questions:</p>\n\n<ol>\n<li>The error says 'file' is still a generator regardless of the input being a single dir or a list of it. Why is it still a generator? </li>\n<li>Is it possible to wrap or embed generators in functions? If so, how to make this work? </li>\n</ol>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 2, "creation_date": 1498080821, "post_id": 44686608, "comment_id": 76357291, "body": "Use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.isin.html\" rel=\"nofollow noreferrer\"><code>isin</code></a> - <code>lista=lista[lista[&#39;Estado:&#39;].isin([&#39;RJ&#39; , &#39;SP&#39; , &#39;PR&#39; , &#39;RS&#39;])]</code>"}, {"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1498081545, "post_id": 44686608, "comment_id": 76357574, "body": "I checked a few posts related to isin before and actually tried it, however they didn&#39;t explain how to use it with multiple items (I was getting some error like &#39;isin only accepts two arguments you have four&#39;. With your tip I noticed I should use those brackets and it worked. Tks!"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1498081629, "post_id": 44686608, "comment_id": 76357599, "body": "Super, gald can help! Good luck!"}, {"owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "reply_to_user": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1498081653, "post_id": 44686608, "comment_id": 76357605, "body": "You are correct @jezrael, however it is not super clear and could make a beginner like me get confused. I think its valid to keep this one in case someone like me comes to have this doubt."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 1, "creation_date": 1498083401, "post_id": 44686608, "comment_id": 76358276, "body": "I add answer, but first add your error to question."}], "answers": [{"tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1498083221, "last_edit_date": 1592644375, "creation_date": 1498083221, "answer_id": 44687100, "question_id": 44686608, "link": "https://stackoverflow.com/questions/44686608/python-pandas-only-select-the-rows-that-have-certain-conditions-in-a-given/44687100#44687100", "title": "Python // Pandas - only select the rows that have certain conditions in a given column", "body": "<p>You need add <code>[]</code> to <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.isin.html\" rel=\"nofollow noreferrer\"><code>isin</code></a>, because parameter <code>values</code> is:</p>\n<blockquote>\n<p><strong>values</strong> : <em>set</em> or <em>list-like</em></p>\n<p>The sequence of values to test. Passing in a single string will raise a TypeError. Instead, turn a single string into a list of one element.</p>\n</blockquote>\n<pre><code>lista=lista[lista['Estado:'].isin(['RJ' , 'SP' , 'PR' , 'RS'])]\nprint (lista)\n  Estado:                         Telefone\n0      SP  (11) 2162-0660 / (11) 2162-0639\n1      RJ                   (11) 3144-4000\n3      RS                   (11) 4593-7403\n4      PR  (19) 3313-5680 / (19) 3313-6000\n</code></pre>\n<hr />\n<pre><code>lista=lista[lista['Estado:'].isin('RJ' , 'SP' , 'PR' , 'RS')]\nprint (lista)\n</code></pre>\n<blockquote>\n<p>TypeError: isin() takes 2 positional arguments but 5 were given</p>\n</blockquote>\n"}], "owner": {"reputation": 3583, "user_id": 5606352, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b334268d7a7805d0d4d4e406c79bbc2a?s=128&d=identicon&r=PG&f=1", "display_name": "abutremutante", "link": "https://stackoverflow.com/users/5606352/abutremutante"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 725, "favorite_count": 0, "accepted_answer_id": 44687100, "answer_count": 1, "score": 2, "last_activity_date": 1498083246, "creation_date": 1498080722, "last_edit_date": 1498083246, "question_id": 44686608, "link": "https://stackoverflow.com/questions/44686608/python-pandas-only-select-the-rows-that-have-certain-conditions-in-a-given", "title": "Python // Pandas - only select the rows that have certain conditions in a given column", "body": "<p>I have a dataframe:</p>\n\n<pre><code>df:\n\n    Estado:                        Telefone \n0        SP  (11) 2162-0660 / (11) 2162-0639\n1        RJ                   (11) 3144-4000\n2        SC                   (62) 3878-8150\n3        RS                   (11) 4593-7403\n4        PR  (19) 3313-5680 / (19) 3313-6000\n5        PE                   (81) 3316-0586\n6        GO                   (19) 3423-8000\n...\n[379 rows x 2 columns]\n</code></pre>\n\n<p>I want to put in a new dataframe only the items that are from the state (<code>'Estado:'</code>) of SP, RJ, RS or PR.</p>\n\n<p>I tried the line below:</p>\n\n<pre><code>lista=lista.loc[lista['Estado:'] == ('RJ' or 'SP' or 'PR' or 'RS')]\n</code></pre>\n\n<p>However it is bringing me a very limited list and all the items have <code>Estado:</code> are <code>RJ</code>.</p>\n\n<pre><code>lista: \n\n    Estado:                        Telefone \n16       RJ                   (31) 3263-9664\n47       RJ                   (21) 3575-0600\n48       RJ                   (21) 3221-0000\n60       RJ                   (11) 2118-9500\n69       RJ  (21) 2677-1077 / (21) 2252-1989\n82       RJ                   (21) 3224-8091\n83       RJ                              NaN\n105      RJ  (24) 2233-1877 / (24) 2233-1874\n140      RJ                   (31) 3660-9100\n143      RJ                   (21) 2277-2000\n175      RJ                   (21) 3435-1002\n216      RJ                   (21) 9428-1902\n218      RJ  (21) 2142-1482 / (21) 2142-1480\n235      RJ                   (11) 3468-2098\n274      RJ                              NaN\n315      RJ                   (21) 2676-9196\n[16 rows x 2 columns]\n</code></pre>\n\n<p>Can someone help?</p>\n\n<p>EDIT:</p>\n\n<p>I try <code>isin</code>, but get error:</p>\n\n<blockquote>\n  <p>TypeError: isin() takes 2 positional arguments but 5 were given</p>\n</blockquote>\n"}, {"tags": ["python", "django", "django-views", "django-urls"], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 7100794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15072ee6c2e3432cfe623483620c2216?s=128&d=identicon&r=PG&f=1", "display_name": "FanonX Rogers", "link": "https://stackoverflow.com/users/7100794/fanonx-rogers"}, "edited": false, "score": 0, "creation_date": 1498081102, "post_id": 44686638, "comment_id": 76357399, "body": "wow very self-explanatory. Sorry about that, I do appreciate it though!"}, {"owner": {"reputation": 250720, "user_id": 113962, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b80ae1d65878cf68a4b1a00848467527?s=128&d=identicon&r=PG", "display_name": "Alasdair", "link": "https://stackoverflow.com/users/113962/alasdair"}, "edited": false, "score": 1, "creation_date": 1498081354, "post_id": 44686638, "comment_id": 76357498, "body": "Note however that in Django 1.9+ you don&#39;t need <code>include</code> for the admin urls -- just use <code>url(r&#39;^admin&#47;&#39;, admin.site.urls),</code>."}, {"owner": {"reputation": 29, "user_id": 7100794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15072ee6c2e3432cfe623483620c2216?s=128&d=identicon&r=PG&f=1", "display_name": "FanonX Rogers", "link": "https://stackoverflow.com/users/7100794/fanonx-rogers"}, "edited": false, "score": 1, "creation_date": 1498086734, "post_id": 44686638, "comment_id": 76359278, "body": "So say if I want to have the url patterns read from urls.py created from within the app itself (in this case, inside the posts app) instead of the main configuration folder. I tried a similar approach from above, but that does not seem to help"}, {"owner": {"reputation": 996, "user_id": 5268588, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvTGh.jpg?s=128&g=1", "display_name": "macbee", "link": "https://stackoverflow.com/users/5268588/macbee"}, "edited": false, "score": 0, "creation_date": 1512736991, "post_id": 44686638, "comment_id": 82389201, "body": "Note that from Django version 2.0 the URL pattern has changed to use  <code>django.urls.path()</code> Check Example here: <a href=\"https://docs.djangoproject.com/en/2.0/intro/tutorial03/\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 9683, "user_id": 143280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27c63a1bb199a1ec164e1879e33b2fb4?s=128&d=identicon&r=PG", "display_name": "SmileyChris", "link": "https://stackoverflow.com/users/143280/smileychris"}, "is_accepted": false, "score": 3, "last_activity_date": 1498080869, "creation_date": 1498080869, "answer_id": 44686638, "question_id": 44686599, "link": "https://stackoverflow.com/questions/44686599/correct-url-pattern-for-django-1-11/44686638#44686638", "title": "Correct URL pattern for django 1.11", "body": "<p>You didn't import include from <code>django.conf.urls</code>, hence the exception you received (it's quite self-explanatory if you break it down). Your <code>urls.py</code> first line should be:</p>\n\n<p><code>from django.conf.urls import url, include</code></p>\n"}], "owner": {"reputation": 29, "user_id": 7100794, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15072ee6c2e3432cfe623483620c2216?s=128&d=identicon&r=PG&f=1", "display_name": "FanonX Rogers", "link": "https://stackoverflow.com/users/7100794/fanonx-rogers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4243, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1498086822, "creation_date": 1498080677, "last_edit_date": 1498086822, "question_id": 44686599, "link": "https://stackoverflow.com/questions/44686599/correct-url-pattern-for-django-1-11", "title": "Correct URL pattern for django 1.11", "body": "<p>I'm currently running django version 1.11 and I want to create a blog. I am at the process where I create a function based view to display html content. I keep running into this error. </p>\n\n<pre><code>File \"/Users/Fanonx/Desktop/xventureblog/src/xventureblog/urls.py\", line 21, in &lt;module&gt;\nurl(r'^admin/', include(admin.site.urls)),\nNameError: name 'include' is not defined\n</code></pre>\n\n<p>Here is my code for views.py</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom __future__ import unicode_literals\n\nfrom django.http import HttpResponse\nfrom django.shortcuts import render\n\n# Create your views here.\n\n\ndef post_home(request):\n    return HttpResponse(\"&lt;h1&gt;Hello&lt;h1&gt;\")\n</code></pre>\n\n<p>here is my code for urls.py</p>\n\n<pre><code>from django.conf.urls import url\nfrom django.contrib import admin\nfrom posts.views import post_home\n\nurlpatterns = [\n    url(r'^admin/', include(admin.site.urls)),\n    url(r'^posts/$', post_home),\n]\n</code></pre>\n"}, {"tags": ["python", "c++", "cython", "boost-python"], "comments": [{"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498089337, "post_id": 44686590, "comment_id": 76359945, "body": "Does <code>return dereference(self.c.at(index).get())</code> work?  I.e. retrieve the <code>shared_ptr</code> from the vector, <code>get()</code> the stored pointer and <code>dereference</code> it.  Or maybe simply <code>return dereference(self.c.at(index))</code> (in C++ you can dereference the shared pointer directly)."}, {"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498089588, "post_id": 44686590, "comment_id": 76359998, "body": "This however gives you a <code>mystruct</code> instead of a <code>MyStruct</code>.  I guess you would need a second constructor <code>def __cinit__(MyStruct self, new_ptr): self.ptr.reset(new_ptr)</code> and then do <code>return MyStruct(self.c.at(index))</code>."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498092961, "post_id": 44686590, "comment_id": 76360712, "body": "Yeah, there&#39;s just a few issues unfortunately @HenriMenke. Cython won&#39;t let me use C types as arguments in a <code>def</code> (unlike a <code>cdef</code>), and initialization functions cannot be <code>cdef</code>-only.  If Cython let me define custom constructors with <code>cdef</code>, that would solve everything. Unfortunately, it does not.  It&#39;s probably doable via the Python C-API, or by overloading <code>__init__</code>, but the docs pretty clearly state the object should be valid when <code>__init__</code> is called, and <code>__init__</code> may not be called at all.  <a href=\"https://cython.readthedocs.io/en/latest/src/userguide/special_methods.html\" rel=\"nofollow noreferrer\">cython.readthedocs.io/en/latest/src/userguide/&hellip;</a>"}, {"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498093215, "post_id": 44686590, "comment_id": 76360777, "body": "Overloaded <code>__cinit__</code> plus <a href=\"https://cython.readthedocs.io/en/latest/src/userguide/extension_types.html#fast-instantiation\" rel=\"nofollow noreferrer\"><code>return MyStruct.__new__(self.c.at(index))</code></a> could work."}, {"owner": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498100723, "post_id": 44686590, "comment_id": 76362537, "body": "&#187;this would have risky memory safety if <code>__new__</code> was used from the Python layer&#171; You are raising your standards to an unreasonable and ridiculous level.  If somebody calls <code>__new__</code> on the Python level they better know what they are doing.  If you want memory safety just rewrite your whole code in Python."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498151292, "post_id": 44686590, "comment_id": 76393977, "body": "@HenriMenke, A). That actually won&#39;t work, it only works because the existing object is a Python object: if it was a C struct, it would raise an error (tested). In fact, I get the exact error the question is about: <code>Cannot convert &#39;type&#39; to Python object</code>.  B). Expecting memory safety from choices made in a memory-safe language is <b>not</b> a trivial concern. It&#39;s essential."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498151447, "post_id": 44686590, "comment_id": 76394060, "body": "@HenriMenke  If I try the same from boost::python, I get ` Boost.Python.instance.__new__(): not enough arguments<code>, which highlights how it prevents initialization without required data (in this case, it needs to know the type). If I force the type with </code>c = a.MyStruct.__new__(MyStruct)`, and then try to use c, it automatically checks that the struct is invalid before I access any member functions. That is useful memory safety."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498152122, "post_id": 44686590, "comment_id": 76394409, "body": "@HenriMenke Ok, last thing, it works with <code>cdef struct</code>, but not with <code>cdef cppclass</code> so maybe I should change the title? Either way, it does not work unless I do manual memory management, since <code>shared_ptr</code> is clearly a cppclass. Either way, this seems to be a major design flaw that I don&#39;t see an obvious solution to...."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 9980, "user_id": 1944004, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/60f3cc97f94fa3690ba406f8c1a7fc4f?s=128&d=identicon&r=PG", "display_name": "Henri Menke", "link": "https://stackoverflow.com/users/1944004/henri-menke"}, "edited": false, "score": 0, "creation_date": 1498681681, "post_id": 44686590, "comment_id": 76604541, "body": "@HenriMenke After looking at the documentation closer, it appears there is a @nonecheck setting you can use to prevent null dereferences in Cython I believe. If you write that as an answer, along with the <code>__init__</code> override, I can give you the answer."}], "answers": [{"tags": [], "owner": {"reputation": 4536, "user_id": 4165324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8d50177f8e05b2c515b26455ba250ce?s=128&d=identicon&r=PG&f=1", "display_name": "danny", "link": "https://stackoverflow.com/users/4165324/danny"}, "is_accepted": true, "score": 6, "last_activity_date": 1513659516, "last_edit_date": 1513659516, "creation_date": 1499786644, "answer_id": 45038660, "question_id": 44686590, "link": "https://stackoverflow.com/questions/44686590/initializing-cython-objects-with-existing-c-objects/45038660#45038660", "title": "Initializing Cython objects with existing C Objects", "body": "<p>The way this works in Cython is by having a factory class to create Python objects out of the shared pointer. This gives you access to the underlying C/C++ structure without copying.</p>\n\n<p>Example Cython code:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&lt;..&gt;\n\ncdef class MyStruct:\n    cdef shared_ptr[mystruct] ptr\n\n    def __cinit__(self):\n        # Do not create new ref here, we will\n        # pass one in from Cython code\n        self.ptr = NULL\n\n    def __dealloc__(self):\n        # Do de-allocation here, important!\n        if self.ptr is not NULL:\n            &lt;de-alloc&gt;\n\n    &lt;rest per MyStruct code above&gt;\n\ncdef object PyStruct(shared_ptr[mystruct] MyStruct_ptr):\n    \"\"\"Python object factory class taking Cpp mystruct pointer\n    as argument\n    \"\"\"\n    # Create new MyStruct object. This does not create\n    # new structure but does allocate a null pointer\n    cdef MyStruct _mystruct = MyStruct()\n    # Set pointer of cdef class to existing struct ptr\n    _mystruct.ptr = MyStruct_ptr\n    # Return the wrapped MyStruct object with MyStruct_ptr\n    return _mystruct\n\ndef make_structure():\n    \"\"\"Function to create new Cpp mystruct and return\n    python object representation of it\n    \"\"\"\n    cdef MyStruct mypystruct = PyStruct(new mystruct)\n    return mypystruct\n</code></pre>\n\n<p>Note the type for the argument of <code>PyStruct</code> is a <em>pointer</em> to the Cpp struct.</p>\n\n<p><code>mypystruct</code> then is a python object of class <code>MyStruct</code>, as returned by the factory class, which refers to the\nCpp mystruct without copying. <code>mypystruct</code> can be safely returned in <code>def</code> cython functions and used in python space, per <code>make_structure</code> code. </p>\n\n<p>To return a Python object of an existing Cpp <code>mystruct</code> pointer just wrap it with <code>PyStruct</code> like </p>\n\n<p><code>return PyStruct(my_cpp_struct_ptr)</code> </p>\n\n<p>anywhere in your Cython code.</p>\n\n<p>Obviously only <code>def</code> functions are visible there so the Cpp function calls would need to be wrapped as well inside MyStruct if they are to be used in Python space, at least if you want the Cpp function calls inside the Cython class to let go of the GiL (probably worth doing for obvious reasons).</p>\n\n<p>For a real-world example see this <a href=\"https://github.com/NodeTrie/NodeTrie_Py/blob/master/nodetrie/nodetrie.pyx#L49-L53\" rel=\"noreferrer\">Cython extension code</a> and the <a href=\"https://github.com/NodeTrie/NodeTrie_C/blob/master/extensions/python/cnode.pxd\" rel=\"noreferrer\">underlying C code bindings in Cython</a>. Also see <a href=\"https://github.com/NodeTrie/NodeTrie_Py/blob/master/nodetrie/nodetrie.pyx#L139-L147\" rel=\"noreferrer\">this code for Python function wrapping of C function calls that let go of GIL</a>. Not Cpp but same applies.</p>\n\n<p>See also <a href=\"http://cython.readthedocs.io/en/latest/src/reference/extension_types.html?highlight=factory#initialization-cinit-and-init\" rel=\"noreferrer\">official Cython documentation on when a factory class/function is needed</a> (<code>Note that all constructor arguments will be passed as Python objects</code>). For built in types, Cython does this conversion for you but for custom structures or objects a factory class/function is needed. </p>\n\n<p>The Cpp structure initialisation could be handled in <code>__new__</code> of <code>PyStruct</code> if needed, per suggestion above, if you want the factory class to actually create the C++ structure for you (depends on the use case really).</p>\n\n<p>The benefit of a factory class with pointer arguments is it allows you to use existing pointers of C/C++ structures and wrap them in a Python extension class, rather than always having to create new ones. It would be perfectly safe to, for example, have multiple Python objects referring to the same underlying C struct. Python's ref counting ensures they won't be de-allocated prematurely. You should still check for null when deallocating though as the shared pointer could already had been de-allocated explicitly (eg, by <code>del</code>).</p>\n\n<p>Note that there is, however, some overhead in creating new python objects even if they do point to the same C++ structure. Not a lot, but still.</p>\n\n<p>IMO this auto de-allocation and ref counting of C/C++ pointers is one of the greatest features of Python's C extension API. As all that acts on Python objects (alone), the C/C++ structures need to be wrapped in a compatible Python <code>object</code> class definition.</p>\n\n<p>Note - My experience is mostly in C, the above may need adjusting as I'm more familiar with regular C pointers than C++'s shared pointers.</p>\n"}], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1877, "favorite_count": 3, "accepted_answer_id": 45038660, "answer_count": 1, "score": 8, "last_activity_date": 1513659516, "creation_date": 1498080628, "last_edit_date": 1498093816, "question_id": 44686590, "link": "https://stackoverflow.com/questions/44686590/initializing-cython-objects-with-existing-c-objects", "title": "Initializing Cython objects with existing C Objects", "body": "<p><strong>C++ Model</strong></p>\n\n<p>Say I have the following C++ data structures I wish to expose to Python.</p>\n\n<pre><code>#include &lt;memory&gt;\n#include &lt;vector&gt;\n\nstruct mystruct\n{\n    int a, b, c, d, e, f, g, h, i, j, k, l, m;\n};\n\ntypedef std::vector&lt;std::shared_ptr&lt;mystruct&gt;&gt; mystruct_list;\n</code></pre>\n\n<p><strong>Boost Python</strong></p>\n\n<p>I can wrap these fairly effectively using boost::python with the following code, easily allowing me to use the existing mystruct (copying the shared_ptr) rather than recreating an existing object.</p>\n\n<pre><code>#include \"mystruct.h\"\n#include &lt;boost/python.hpp&gt;\n\nusing namespace boost::python;\n\n\nBOOST_PYTHON_MODULE(example)\n{\n    class_&lt;mystruct, std::shared_ptr&lt;mystruct&gt;&gt;(\"MyStruct\", init&lt;&gt;())\n        .def_readwrite(\"a\", &amp;mystruct::a);\n        // add the rest of the member variables\n\n    class_&lt;mystruct_list&gt;(\"MyStructList\", init&lt;&gt;())\n        .def(\"at\", &amp;mystruct_list::at, return_value_policy&lt;copy_const_reference&gt;());\n        // add the rest of the member functions\n}\n</code></pre>\n\n<p><strong>Cython</strong></p>\n\n<p>In Cython, I have no idea how to extract an item from mystruct_list, without copying the underlying data. I have no idea how I could initialize <code>MyStruct</code> from the existing <code>shared_ptr&lt;mystruct&gt;</code>, without copying all the data over in one of various forms.</p>\n\n<pre><code>from libcpp.memory cimport shared_ptr\nfrom cython.operator cimport dereference\n\n\ncdef extern from \"mystruct.h\" nogil:\n    cdef cppclass mystruct:\n        int a, b, c, d, e, f, g, h, i, j, k, l, m\n\n    ctypedef vector[v] mystruct_list\n\n\ncdef class MyStruct:\n    cdef shared_ptr[mystruct] ptr\n\n    def __cinit__(MyStruct self):\n        self.ptr.reset(new mystruct)\n\n    property a:\n        def __get__(MyStruct self):\n            return dereference(self.ptr).a\n\n        def __set__(MyStruct self, int value):\n            dereference(self.ptr).a = value\n\n\ncdef class MyStructList:\n    cdef mystruct_list c\n    cdef mystruct_list.iterator it\n\n    def __cinit__(MyStructList self):\n        pass\n\n    def __getitem__(MyStructList self, int index):\n        # How do return MyStruct without copying the underlying `mystruct` \n        pass\n</code></pre>\n\n<p>I see many possible workarounds, and none of them are very satisfactory:</p>\n\n<p>I could initialize an empty <code>MyStruct</code>, and in Cython assign over the shared_ptr. However, this would result in wasting an initalized struct for absolutely no reason.</p>\n\n<pre><code>MyStruct value\nvalue.ptr = self.c.at(index)\nreturn value\n</code></pre>\n\n<p>I also could copy the data from the existing <code>mystruct</code> to the new <code>mystruct</code>. However, this suffers from similar bloat.</p>\n\n<pre><code>MyStruct value\ndereference(value.ptr).a = dereference(self.c.at(index)).a\nreturn value\n</code></pre>\n\n<p>I could also expose a <code>init=True</code> flag for each <code>__cinit__</code> method, which would prevent reconstructing the object internally if the C-object exists already (when init is False). However, this could cause <strong>catastrophic</strong> issues, since it would be exposed to the Python API and would allow dereferencing a null or uninitialized pointer.</p>\n\n<pre><code>def __cinit__(MyStruct self, bint init=True):\n    if init:\n        self.ptr.reset(new mystruct)\n</code></pre>\n\n<p>I could also overload <code>__init__</code> with the Python-exposed constructor (which would reset <code>self.ptr</code>), but this would have risky memory safety if <code>__new__</code> was used from the Python layer.</p>\n\n<p><strong>Bottom-Line</strong></p>\n\n<p>I would love to use Cython, for compilation speed, syntactical sugar, and numerous other reasons, as opposed to the fairly clunky boost::python. I'm looking at pybind11 right now, and it may solve the compilation speed issues, but I would still prefer to use Cython.</p>\n\n<p>Is there any way I can do such a simple task idiomatically in Cython? Thanks.</p>\n"}, {"tags": ["python", "debugging", "ipython", "pry"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498080375, "post_id": 44686512, "comment_id": 76357131, "body": "Sounds like <a href=\"https://stackoverflow.com/a/16894963/2357112\"><code>ipdb.set_trace</code></a> would be more appropriate than <code>IPython.embed</code>."}, {"owner": {"reputation": 3554, "user_id": 3233810, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1135890448/picture?type=large", "display_name": "daino3", "link": "https://stackoverflow.com/users/3233810/daino3"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498080601, "post_id": 44686512, "comment_id": 76357216, "body": "this does in fact work better. thank you sir."}], "owner": {"reputation": 3554, "user_id": 3233810, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1135890448/picture?type=large", "display_name": "daino3", "link": "https://stackoverflow.com/users/3233810/daino3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498080194, "creation_date": 1498080194, "question_id": 44686512, "link": "https://stackoverflow.com/questions/44686512/ipython-embed-breakpoint-how-can-i-see-the-code-around-the-breakpoint", "title": "IPython embed breakpoint - How can I see the code around the breakpoint?", "body": "<p>Say I've got some python code with an <code>embed</code> breakpoint like so:</p>\n\n<pre><code>from IPython import embed\n\ndef my_func(self):\n  some_var = 'awesome sauce'\n  embed()\n  # other stuff happens\n</code></pre>\n\n<p>when I run my test runner... with say <code>pytest</code>:</p>\n\n<pre><code>$ python -m pytest -k test_something_awesome\n</code></pre>\n\n<p>How can my ipython terminal give me the contextual code around my embed breakpoint?</p>\n\n<p>So instead of:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GU1Hu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GU1Hu.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would get something similar to ruby's PRY output like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/WETYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WETYv.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "edited": false, "score": 0, "creation_date": 1498081395, "post_id": 44686493, "comment_id": 76357517, "body": "What is <code>settings.AUTH_USER_MODEL</code>?"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "reply_to_user": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "edited": false, "score": 0, "creation_date": 1498081724, "post_id": 44686493, "comment_id": 76357640, "body": "I do not have that in my settings file, what is it?"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "edited": false, "score": 0, "creation_date": 1498081778, "post_id": 44686493, "comment_id": 76357668, "body": "<code>user = models.ForeignKey(settings.AUTH_USER_MODEL,default=1)</code>"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "reply_to_user": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "edited": false, "score": 0, "creation_date": 1498081896, "post_id": 44686493, "comment_id": 76357711, "body": "OH I see, do you have any idea what it should be, as you can tell I copied this from an example."}, {"owner": {"reputation": 755, "user_id": 7686467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HicLw.jpg?s=128&g=1", "display_name": "Juan Diego Garcia", "link": "https://stackoverflow.com/users/7686467/juan-diego-garcia"}, "edited": false, "score": 0, "creation_date": 1498082098, "post_id": 44686493, "comment_id": 76357783, "body": "if you want to use your own user model, <code>AUTH_USER_MODEL </code> should point to your UserModel. Otherwise, the foreignkey must be: <code>user = models.ForeignKey(get_user_model(), default=1)</code>"}, {"owner": {"reputation": 731, "user_id": 7521949, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/thsDQ.jpg?s=128&g=1", "display_name": "RompePC", "link": "https://stackoverflow.com/users/7521949/rompepc"}, "edited": false, "score": 0, "creation_date": 1498082126, "post_id": 44686493, "comment_id": 76357796, "body": "Next time tell that you borrowed example code. It surely will be the name of the user model, but try replacing it with <code>User</code> (and make an import at the top <code>from django.contrib.auth.models import User</code>)."}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 0, "creation_date": 1498085969, "post_id": 44686493, "comment_id": 76359055, "body": "Thanks, Juan,  I tried the modification, but with no joy. I even tried migrating the database again but it saw nothing to migrate. Thanks for you idea though."}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1498088884, "creation_date": 1498080107, "last_edit_date": 1498088884, "question_id": 44686493, "link": "https://stackoverflow.com/questions/44686493/django-queryset-not-returning-data", "title": "Django queryset not returning data", "body": "<p>I am trying to return only the notes of the currently logged in user. Here is my </p>\n\n<pre><code>  def get_queryset(self):\n    qs = Note.objects.filter(user=self.request.user)\n    return qs\n</code></pre>\n\n<p>This returns nothing. However:</p>\n\n<pre><code>def get_queryset(self):\n    qs = Note.objects.all()\n    return qs\n</code></pre>\n\n<p>Returns everything.</p>\n\n<p>I have tried every thing just to return the notes of the logged in user, so maybe queryset is not the right solution. My question is two fold:</p>\n\n<p>What is the best way to return the notes of the logged in user.\nIf it is query set, what is the best way to form the queryset.</p>\n\n<p>thank you.</p>\n\n<p><strong>MODEL</strong></p>\n\n<pre><code>User = get_user_model()\n\nclass Note(models.Model):\n    user = models.ForeignKey(get_user_model(),default=1)\n    title = models.CharField(max_length=255, unique=True)\n    slug = models.SlugField(allow_unicode=True, unique=True)\n    text = models.TextField(blank=True, default='')\n    text_html = models.TextField(editable=False, default='', blank=True)\n    created_at = models.DateTimeField(auto_now=True)\n</code></pre>\n\n<p><strong>Views</strong></p>\n\n<pre><code>class NoteList(ListView):\n    model = Note\n\n\n    def get_queryset(self):\n        qs = Note.objects.select_related().filter(user=self.request.user)\n        return qs\n</code></pre>\n"}, {"tags": ["python", "django", "django-views", "django-rest-framework", "django-rest-viewsets"], "answers": [{"tags": [], "owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "is_accepted": true, "score": 1, "last_activity_date": 1498086599, "creation_date": 1498086599, "answer_id": 44687599, "question_id": 44686443, "link": "https://stackoverflow.com/questions/44686443/use-different-serializer-depending-on-the-authentication-method-in-django-rest-f/44687599#44687599", "title": "Use different serializer depending on the authentication method in django rest framework", "body": "<p>I think you should be checking with <code>request.user.is_authenticated()</code>. To fill in the blanks:</p>\n\n<pre><code>is_owner = profile.user == request.user\nis_authenticated = request.user.is_authenticated()\n</code></pre>\n"}], "owner": {"reputation": 1245, "user_id": 4726722, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/3a4b587508afce802b5d038b91c55c8c?s=128&d=identicon&r=PG&f=1", "display_name": "sonarforte", "link": "https://stackoverflow.com/users/4726722/sonarforte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 672, "favorite_count": 1, "accepted_answer_id": 44687599, "answer_count": 1, "score": 1, "last_activity_date": 1498086599, "creation_date": 1498079881, "question_id": 44686443, "link": "https://stackoverflow.com/questions/44686443/use-different-serializer-depending-on-the-authentication-method-in-django-rest-f", "title": "Use different serializer depending on the authentication method in django rest framework", "body": "<p>I'm trying to implement a user profile in django rest framework. </p>\n\n<p>Users should be able to request the profile of other users; however, since profiles contain sensitive information, I want to limit the information returned to non-owners and non-authenticated users when they request a profile.</p>\n\n<p>I'm looking for a test that I can run inside my view methods that will determine which serializer to use for that request.</p>\n\n<p>How can I do this?</p>\n\n<pre><code># models.py\nclass Profile(models.Model):\n\n    user = models.OneToOneField(settings.AUTH_USER_MODEL, related_name='profile')\n    bio = models.CharField(max_length=100)\n    # dob is sensitive and should be protected...\n    dob = models.DateTimeField(blank=True, null=True)\n</code></pre>\n\n<p>My serializers would look like this:</p>\n\n<pre><code># serializers.py\n# Only for the owner...\nclass ProfileOwnerSerializer(serializers.HyperlinkedModelSerializer):\n    user = serializers.ReadOnlyField(source='user.id')\n    first_name = serializers.ReadOnlyField(source='user.first_name')\n    last_name = serializers.ReadOnlyField(source='user.last_name')\n\n    class Meta:\n        model = Profile\n        fields = (\n            'url',\n            'id',\n            'dob',     #sensitive\n            'user',\n            'first_name',\n            'last_name',   #sensitive\n        )\n\n#For logged in users...\nclass ProfileSerializer(serializers.HyperlinkedModelSerializer):\n    user = serializers.ReadOnlyField(source='user.id')\n    first_name = serializers.ReadOnlyField(source='user.first_name')\n\n    class Meta:\n        model = Profile\n        fields = (\n            'url',\n            'id',\n            'bio',\n            'user',\n            'first_name',\n        )\n\n#For everyone else...\nclass NonAuthProfileSerializer:\n    ...\n</code></pre>\n\n<p>And I would try to distinguish between them here...</p>\n\n<pre><code># views.py\nclass ProfileDetail(APIView):\n    \"\"\"\n    Retrieve a profile instance.\n    \"\"\"\n\n    # Can't user permission_classes bc I want to cater to different classes...\n\n    def get_object(self, pk):\n        try:\n            return Profile.objects.get(pk=pk)\n        except Profile.DoesNotExist:\n            raise Http404\n\n    def get(self, request, pk, format=None):\n        profile = self.get_object(pk)\n        # is_owner = ???\n        # is_authenticated = ???\n\n        # Define the serializer to be ProfileSerializer, ProfileOwnerSerializer, etc.\n        serializer = CorrectSerializer(\n            profile,\n            context={\"request\": request},\n        )\n        return Response(serializer.data)\n</code></pre>\n\n<p>I don't think it'd be too hard to check if the request was sent by the owner, since I can just cross-reference the profile id.</p>\n\n<p>However, how would I check whether the user was logged in or not? I've tried looking at <code>request.user.auth</code> in the view method, but that seems to be <code>None</code> whether or not the request is logged in. </p>\n"}, {"tags": ["python", "matlab", "matrix", "scipy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1498079824, "post_id": 44686407, "comment_id": 76356901, "body": "<code>Y1 = aveY1(::Down_step, ::Down_step)</code> and so on. <a href=\"https://docs.scipy.org/doc/numpy-1.12.0/user/basics.indexing.html#other-indexing-options\" rel=\"nofollow noreferrer\"><code>This</code></a> might be worth a read."}, {"owner": {"reputation": 85, "user_id": 3522087, "user_type": "registered", "profile_image": "https://graph.facebook.com/1263186948/picture?type=large", "display_name": "Lucy_in_the_sky_with_diamonds", "link": "https://stackoverflow.com/users/3522087/lucy-in-the-sky-with-diamonds"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1498092527, "post_id": 44686407, "comment_id": 76360632, "body": "thank you! I think there should be [ ] instead of ( )"}, {"owner": {"reputation": 85, "user_id": 3522087, "user_type": "registered", "profile_image": "https://graph.facebook.com/1263186948/picture?type=large", "display_name": "Lucy_in_the_sky_with_diamonds", "link": "https://stackoverflow.com/users/3522087/lucy-in-the-sky-with-diamonds"}, "reply_to_user": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1498161536, "post_id": 44686407, "comment_id": 76399599, "body": "do you think it is correct to translate &#39;same&#39; with  mode=&#39;constant&#39;, cval=0.0 ?"}], "owner": {"reputation": 85, "user_id": 3522087, "user_type": "registered", "profile_image": "https://graph.facebook.com/1263186948/picture?type=large", "display_name": "Lucy_in_the_sky_with_diamonds", "link": "https://stackoverflow.com/users/3522087/lucy-in-the-sky-with-diamonds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1498079723, "answer_count": 0, "score": 1, "last_activity_date": 1498079662, "creation_date": 1498079662, "question_id": 44686407, "link": "https://stackoverflow.com/questions/44686407/translate-matlab-to-python", "closed_reason": "Duplicate", "title": "Translate Matlab to Python", "body": "<p>I translated this matlab code:</p>\n\n<pre><code>Down_step = 2;\naveKernel = fspecial('average',2);\naveY1 = conv2(Y1, aveKernel,'same');\naveY2 = conv2(Y2, aveKernel,'same');\nY1 = aveY1(1:Down_step:end,1:Down_step:end);\nY2 = aveY2(1:Down_step:end,1:Down_step:end);\n</code></pre>\n\n<p>to Python:</p>\n\n<pre><code>import numpy as np\nfrom scipy.ndimage.filters import convolve as __convolve\n\nDown_step = 2   \naveKernel = np.array([[1.0,1.0],[1.0,1.0]])/4 # averaging filter\naveY1 = __convolve(ref, aveKernel, mode='constant', cval=0.0) \naveY2 = __convolve(dist, aveKernel, mode='constant', cval=0.0)\n</code></pre>\n\n<p>I don't know how to translate the last two lines, the </p>\n\n<pre><code>1:Down_step:end\n</code></pre>\n\n<p>part confuses me, what does it mean?</p>\n"}, {"tags": ["python", "pip", "cpanel", "centos6", "pyopenssl"], "answers": [{"tags": [], "owner": {"reputation": 2070, "user_id": 378704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5318a95a23ff8a67c0edc171412c83a?s=128&d=identicon&r=PG", "display_name": "kiran.koduru", "link": "https://stackoverflow.com/users/378704/kiran-koduru"}, "is_accepted": false, "score": 1, "last_activity_date": 1498080422, "creation_date": 1498080422, "answer_id": 44686553, "question_id": 44686375, "link": "https://stackoverflow.com/questions/44686375/how-to-correct-these-errors-from-pip-install/44686553#44686553", "title": "How to correct these errors from PIP install?", "body": "<p>You might need to install these dependencies first </p>\n\n<pre><code>sudo yum install gcc libffi-devel python-devel openssl-devel\n</code></pre>\n\n<p>Refer: <a href=\"https://cryptography.io/en/latest/installation/#building-cryptography-on-linux\" rel=\"nofollow noreferrer\">https://cryptography.io/en/latest/installation/#building-cryptography-on-linux</a></p>\n"}], "owner": {"reputation": 59, "user_id": 3576974, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7c3b2176b9e18b158809cf073357ccdd?s=128&d=identicon&r=PG", "display_name": "Uhl Hosting", "link": "https://stackoverflow.com/users/3576974/uhl-hosting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498172663, "creation_date": 1498079521, "last_edit_date": 1498172663, "question_id": 44686375, "link": "https://stackoverflow.com/questions/44686375/how-to-correct-these-errors-from-pip-install", "title": "How to correct these errors from PIP install?", "body": "<p>I am trying to deploy pyopenssl via pip install pyopenssl on centos 6.9 running cpanel.</p>\n\n<p>I get this:</p>\n\n<pre><code>File \"/tmp/pip-build-SN_BEg/cryptography/cffi-1.10.0-py2.6-linux-x86_64.egg/cffi/api.py\", line 46, in __init__\n        import _cffi_backend as backend\n    ImportError: /tmp/pip-build-SN_BEg/cryptography/cffi-1.10.0-py2.6-linux-x86_64.egg/_cffi_backend.so: failed to map segment from shared object: Operation not permitted\n\n    ----------------------------------------\nCommand \"/usr/bin/python -u -c \"import setuptools, tokenize;__file__='/tmp/pip-build-SN_BEg/cryptography/setup.py';f=getattr(tokenize, 'open', open)(__file__);code=f.read().replace('\\r\\n', '\\n');f.close();exec(compile(code, __file__, 'exec'))\" install --record /tmp/pip-hecxL5-record/install-record.txt --single-version-externally-managed --compile\" failed with error code 1 in /tmp/pip-build-SN_BEg/cryptography/\n[root@panel ~]#\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n\n<p>After the comment I runned:</p>\n\n<pre><code>[root@panel ~]# sudo yum install gcc libffi-devel python-devel openssl-devel\nLoaded plugins: fastestmirror, tsflags, universal-hooks\nSetting up Install Process\nLoading mirror speeds from cached hostfile\n * EA4: 85.13.201.2\n * cpanel-addons-production-feed: 85.13.201.2\n * atomic: www4.atomicorp.com\n * base: fr.mirror.babylon.network\n * epel: mirrors.coreix.net\n * extras: fr.mirror.babylon.network\n * ius: mirrors.ircam.fr\n * updates: fr.mirror.babylon.network\nPackage gcc-4.4.7-18.el6.x86_64 already installed and latest version\nPackage libffi-devel-3.0.5-3.2.el6.x86_64 already installed and latest version\nPackage python-devel-2.6.6-66.el6_8.x86_64 already installed and latest version\nPackage openssl-devel-1.0.1e-57.el6.x86_64 already installed and latest version\nNothing to do\n</code></pre>\n"}, {"tags": ["python", "django", "django-rest-framework"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1498079607, "post_id": 44686364, "comment_id": 76356810, "body": "At first: which testing framework do you (want to) use?"}, {"owner": {"reputation": 433, "user_id": 7650427, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a523829b5e774272d5ad35dcd45b7a5?s=128&d=identicon&r=PG&f=1", "display_name": "fatah", "link": "https://stackoverflow.com/users/7650427/fatah"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1498079750, "post_id": 44686364, "comment_id": 76356871, "body": "I am using Django. (built-in lib TestCase)"}, {"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 1, "creation_date": 1498079941, "post_id": 44686364, "comment_id": 76356949, "body": "Then you do it like unittest should be done: Create the test givens (User, Tokens), create an instance of your class, run he method check if the exception was raised with <code>with self.assertRaises(YourError):</code>."}, {"owner": {"reputation": 433, "user_id": 7650427, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a523829b5e774272d5ad35dcd45b7a5?s=128&d=identicon&r=PG&f=1", "display_name": "fatah", "link": "https://stackoverflow.com/users/7650427/fatah"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1498080121, "post_id": 44686364, "comment_id": 76357022, "body": "that&#39;s what i did here: <a href=\"https://stackoverflow.com/questions/44664611/attributeerror-bound-method-manager-get-of-django-db-models-manager-manager\" title=\"attributeerror bound method manager get of django db models manager manager\">stackoverflow.com/questions/44664611/&hellip;</a>"}, {"owner": {"reputation": 755, "user_id": 7686467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HicLw.jpg?s=128&g=1", "display_name": "Juan Diego Garcia", "link": "https://stackoverflow.com/users/7686467/juan-diego-garcia"}, "edited": false, "score": 0, "creation_date": 1498081900, "post_id": 44686364, "comment_id": 76357713, "body": "I answered the another question"}], "owner": {"reputation": 433, "user_id": 7650427, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a523829b5e774272d5ad35dcd45b7a5?s=128&d=identicon&r=PG&f=1", "display_name": "fatah", "link": "https://stackoverflow.com/users/7650427/fatah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498079477, "creation_date": 1498079477, "question_id": 44686364, "link": "https://stackoverflow.com/questions/44686364/exceptions-unit-testing-in-django", "title": "exceptions unit testing in django", "body": "<p>I am writing unit tests for this code and I was wondering how would someone test any of the exceptions of the code below. thanks.    </p>\n\n<pre><code>class ExpiringTokenAuthentication(TokenAuthentication):\n        \"\"\"\n        Extends token auth with inactivity expiration mechanism.\n        \"\"\"\n        model = ExpiringToken\n\n        def authenticate_credentials(self, key):\n\n            try:\n                token = self.model.objects.get(key=key)\n            except self.model.DoesNotExist:\n                raise exceptions.AuthenticationFailed('Invalid token')\n\n            if not token.user.is_active:\n                raise exceptions.AuthenticationFailed('Invalid user')\n\n            if token.has_expired():\n                raise exceptions.AuthenticationFailed('Token has expired')\n\n            token.last_activity = timezone.now()\n            token.save()\n            return token.user, token\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 2423, "user_id": 7847518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/810a2ebb0950dbfd7c10c37b363cab43?s=128&d=identicon&r=PG&f=1", "display_name": "ml4294", "link": "https://stackoverflow.com/users/7847518/ml4294"}, "is_accepted": true, "score": 3, "last_activity_date": 1498079912, "creation_date": 1498079912, "answer_id": 44686452, "question_id": 44686314, "link": "https://stackoverflow.com/questions/44686314/python-matplotlib-barh-reduce-gap-between-bars/44686452#44686452", "title": "python matplotlib barh reduce gap between bars", "body": "<p>You could either just increase the width of the bars by setting <code>bar_width = 0.6</code> or a similar value, or you could reduce the y range of the figure, for example: </p>\n\n<pre><code>barlist = ax.barh([0.1, 0.3],\n                bar_values,\n                bar_width,\n                align='edge',\n                color='green')\nax.set_yticks([0.1, 0.3])\nax.set_yticklabels(labels)\n</code></pre>\n\n<p>Both should increase the width of the bars compared to the distance between the bars. \n<a href=\"https://i.stack.imgur.com/xGHHf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xGHHf.png\" alt=\"Reduced y range\"></a></p>\n"}], "owner": {"reputation": 5335, "user_id": 1606657, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/9eebb1dbb460af4f3974a7940df3e26d?s=128&d=identicon&r=PG", "display_name": "wasp256", "link": "https://stackoverflow.com/users/1606657/wasp256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2900, "favorite_count": 0, "accepted_answer_id": 44686452, "answer_count": 1, "score": 3, "last_activity_date": 1498079912, "creation_date": 1498079291, "question_id": 44686314, "link": "https://stackoverflow.com/questions/44686314/python-matplotlib-barh-reduce-gap-between-bars", "title": "python matplotlib barh reduce gap between bars", "body": "<p>I have a <code>barh</code> bar chart with two bars only in the figure, but when plotting them, they are very far apart:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nlabels = ('Out', 'In')\nbar_values = [5, 10]\nnum_items = len(labels)\nwidth = 0.25\nind = np.arange(num_items)\nbar_width = 0.1\n\nfig = plt.figure()\n\nax = fig.add_subplot(111)\n\nbarlist = ax.barh(ind,\n                bar_values,\n                bar_width,\n                align='edge',\n                color='green')\n\nbarlist[0].set_color('mediumseagreen')\nbarlist[1].set_color('orangered')\n\nax.set_yticks(ind)\nax.set_yticklabels(labels)\nax.invert_yaxis()  # labels read top-to-bottom\nax.set_xlabel('Total')\n\nplt.show()\n</code></pre>\n\n<p>Is there a way of putting the bars closer together? I have already tried to specify the size of the figure, but that only reduces the overall size and has no impact on the gap size...</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 247, "user_id": 6431917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NU6Qn.jpg?s=128&g=1", "display_name": "SLglider", "link": "https://stackoverflow.com/users/6431917/slglider"}, "edited": false, "score": 1, "creation_date": 1498080191, "post_id": 44686319, "comment_id": 76357046, "body": "Wow, this answer is really impressive to me. So fast and answering everything that was important to me. Thanks a lot jezrael!  My next task will be to add another column with the sum of C and D plus a further column with the total of C to E. But I think, I will get this done by myself ;-)"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 247, "user_id": 6431917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NU6Qn.jpg?s=128&g=1", "display_name": "SLglider", "link": "https://stackoverflow.com/users/6431917/slglider"}, "edited": false, "score": 0, "creation_date": 1498080306, "post_id": 44686319, "comment_id": 76357095, "body": "Glad can help! Writing Multiindex to excel is a bit problematic, so rather add some pics. ;)"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 247, "user_id": 6431917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NU6Qn.jpg?s=128&g=1", "display_name": "SLglider", "link": "https://stackoverflow.com/users/6431917/slglider"}, "edited": false, "score": 0, "creation_date": 1498080444, "post_id": 44686319, "comment_id": 76357150, "body": "I forget for it, so add it to the bottom of answer. Need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.insert.html\" rel=\"nofollow noreferrer\"><code>insert</code></a>, because need first column, but <code>reset_index</code> raise error, so need rename <code>id</code> to <code>id1</code>. Good luck!"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 2, "last_activity_date": 1498080238, "last_edit_date": 1498080238, "creation_date": 1498079302, "answer_id": 44686319, "question_id": 44686288, "link": "https://stackoverflow.com/questions/44686288/group-a-dataframe-and-count-amount-of-items-of-a-column-that-is-not-shown/44686319#44686319", "title": "Group a dataframe and count amount of items of a column that is not shown", "body": "<p>You can use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.groupby.html\" rel=\"nofollow noreferrer\"><code>groupby</code></a> + <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.GroupBy.size.html\" rel=\"nofollow noreferrer\"><code>size</code></a> (last column was added) or <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.core.groupby.SeriesGroupBy.value_counts.html\" rel=\"nofollow noreferrer\"><code>value_counts</code></a> with <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.Series.unstack.html\" rel=\"nofollow noreferrer\"><code>unstack</code></a>:</p>\n\n<pre><code>df1 = df.groupby([\"id\", \"type\", 'eval'])\n        .size()\n        .unstack(fill_value=0)\n        .rename_axis(None, axis=1)\nprint (df1)\n         bad  good  none\nid type                 \n1  a       0     2     0\n   b       0     1     0\n   c       1     0     0\n2  a       0     1     0\n   b       1     0     0\n3  a       0     0     1\n</code></pre>\n\n<hr>\n\n<pre><code>df1 = df.groupby([\"id\", \"type\"])[ 'eval']\n        .value_counts()\n        .unstack(fill_value=0)\n        .rename_axis(None, axis=1)\nprint (df1)\n         bad  good  none\nid type                 \n1  a       0     2     0\n   b       0     1     0\n   c       1     0     0\n2  a       0     1     0\n   b       1     0     0\n3  a       0     0     1\n</code></pre>\n\n<p>But for write to excel get:</p>\n\n<pre><code>df1.to_excel('file.xlsx')\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Jrn83.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Jrn83.png\" alt=\"pic\"></a></p>\n\n<p>So need <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reset_index.html\" rel=\"nofollow noreferrer\"><code>reset_index</code></a> last.</p>\n\n<pre><code>df1.reset_index().to_excel('file.xlsx', index=False)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/C3I2o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/C3I2o.png\" alt=\"pic1\"></a></p>\n\n<p>EDIT:</p>\n\n<p>I forget for <code>id</code> column, but it is duplicate column name, so need <code>id1</code>:</p>\n\n<pre><code>df1.insert(0, 'id1', df1.sum(axis=1))\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 6431917, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/NU6Qn.jpg?s=128&g=1", "display_name": "SLglider", "link": "https://stackoverflow.com/users/6431917/slglider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 44686319, "answer_count": 1, "score": 1, "last_activity_date": 1498080238, "creation_date": 1498079159, "question_id": 44686288, "link": "https://stackoverflow.com/questions/44686288/group-a-dataframe-and-count-amount-of-items-of-a-column-that-is-not-shown", "title": "Group a dataframe and count amount of items of a column that is not shown", "body": "<p>Ok, I admit, I had troubles to really formulate a good header for that. So I will try to make give an example.</p>\n\n<p>This is my sample dataframe:</p>\n\n<pre><code>df = pd.DataFrame([\n(1,\"a\",\"good\"),\n(1,\"a\",\"good\"),\n(1,\"b\",\"good\"),\n(1,\"c\",\"bad\"),\n(2,\"a\",\"good\"),\n(2,\"b\",\"bad\"),\n(3,\"a\",\"none\")], columns=[\"id\", \"type\", \"eval\"])\n</code></pre>\n\n<p>What I do with it is the following:</p>\n\n<pre><code>df.groupby([\"id\", \"type\"])[\"id\"].agg({'id':'count'})\n</code></pre>\n\n<p>This results in:</p>\n\n<pre><code>        id\nid type\n1  a     2\n   b     1\n   c     1\n2  a     1\n   b     1\n3  a     1\n</code></pre>\n\n<p>This is fine, although what I will need later on is that e.g. the id would be repeated in every row. But this is not the most important part.</p>\n\n<p>What I would need now is something like this:</p>\n\n<pre><code>        id good bad none\nid type\n1  a     2    2   0    0\n   b     1    1   0    0\n   c     1    0   1    0\n2  a     1    1   0    0\n   b     1    0   1    0\n3  a     1    0   0    1\n</code></pre>\n\n<p>And even better would be a result like this, because I will need this back in a dataframe (and finally in an Excel sheet) with all fields populated. In reality, there will be many more columns I am grouping by. They would have to be completely populated as well.</p>\n\n<pre><code>        id good bad none\nid type\n1  a     2    2   0    0\n1  b     1    1   0    0\n1  c     1    0   1    0\n2  a     1    1   0    0\n2  b     1    0   1    0\n3  a     1    0   0    1\n</code></pre>\n\n<p>Thank you for helping me out.</p>\n"}, {"tags": ["python", "tensorflow", "installation"], "comments": [{"owner": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 2, "creation_date": 1498102143, "post_id": 44686256, "comment_id": 76362894, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43681969/tensorflow-no-module-named-pywrap\">Tensorflow No module named _pywrap</a>"}], "answers": [{"tags": [], "owner": {"reputation": 83, "user_id": 4293997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f77205ec35e6b445911d1798072415d2?s=128&d=identicon&r=PG&f=1", "display_name": "hickson79", "link": "https://stackoverflow.com/users/4293997/hickson79"}, "is_accepted": false, "score": 0, "last_activity_date": 1498562555, "creation_date": 1498562555, "answer_id": 44779053, "question_id": 44686256, "link": "https://stackoverflow.com/questions/44686256/tensorflow-issue-during-installation-windows-10-cpu-only/44779053#44779053", "title": "Tensorflow issue during installation windows 10 cpu only", "body": "<p>Try to install this update <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=53587\" rel=\"nofollow noreferrer\">https://www.microsoft.com/en-us/download/details.aspx?id=53587</a></p>\n\n<p>The similar problem is described on <a href=\"https://github.com/tensorflow/tensorflow/issues/5949\" rel=\"nofollow noreferrer\">github</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8196503, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5kTSx7RtCAY/AAAAAAAAAAI/AAAAAAAAAEI/CFmRbSaH_gE/photo.jpg?sz=128", "display_name": "Leo Sanchez", "link": "https://stackoverflow.com/users/8196503/leo-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498562555, "creation_date": 1498079037, "last_edit_date": 1498198053, "question_id": 44686256, "link": "https://stackoverflow.com/questions/44686256/tensorflow-issue-during-installation-windows-10-cpu-only", "title": "Tensorflow issue during installation windows 10 cpu only", "body": "<p>I am on a 64-bit Windows system with an AMD graphics card and I am having a persisting issue when trying to install the cpu version of tensorflow. I am using Python 3.5 and have gotten this message when trying to <code>import tensoflow as tf</code>:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 18, in swig_import_helper\nreturn importlib.import_module(mname)\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 66, in &lt;module&gt;\nfrom tensorflow.python import pywrap_tensorflow\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 21, in &lt;module&gt;\n_pywrap_tensorflow = swig_import_helper()\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 20, in swig_import_helper\nreturn importlib.import_module('_pywrap_tensorflow')\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\__init__.py\", line 24, in &lt;module&gt;\nfrom tensorflow.python import *\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 72, in &lt;module&gt;\nraise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 18, in swig_import_helper\nreturn importlib.import_module(mname)\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 66, in &lt;module&gt;\nfrom tensorflow.python import pywrap_tensorflow\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 21, in &lt;module&gt;\n_pywrap_tensorflow = swig_import_helper()\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 20, in swig_import_helper\nreturn importlib.import_module('_pywrap_tensorflow')\n  File \"C:\\Users\\leonardo.sanchez\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\nreturn _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow'\n\n\nFailed to load the native TensorFlow runtime.\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "cairo"], "comments": [{"owner": {"reputation": 193, "user_id": 9134517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06fa3b530a65a9691dbb0fe4f4b731d9?s=128&d=identicon&r=PG&f=1", "display_name": "Salek", "link": "https://stackoverflow.com/users/9134517/salek"}, "edited": false, "score": 0, "creation_date": 1581604257, "post_id": 44686194, "comment_id": 106498204, "body": "Did you find the solution for it?"}], "answers": [{"tags": [], "owner": {"reputation": 149, "user_id": 11108846, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-WvpjuaEvx_I/AAAAAAAAAAI/AAAAAAAAABc/9sOHLiYW-fU/photo.jpg?sz=128", "display_name": "Green Tree", "link": "https://stackoverflow.com/users/11108846/green-tree"}, "is_accepted": false, "score": 0, "last_activity_date": 1594608973, "creation_date": 1594608973, "answer_id": 62868607, "question_id": 44686194, "link": "https://stackoverflow.com/questions/44686194/installed-cairosvg-and-cairocffi-but-gives-error-on-import/62868607#62868607", "title": "Installed cairosvg and cairocffi but gives error on import", "body": "<p>I solved this problem using <a href=\"https://sk1project.net/uc2/\" rel=\"nofollow noreferrer\">UniConverter2.0</a>.\nMy environments is</p>\n<ul>\n<li>Python 3.7</li>\n<li>Windows 10 x64</li>\n</ul>\n<ol>\n<li>Install <a href=\"https://downloads.sk1project.net/uniconvertor/2.0rc4/uniconvertor-2.0rc4-win64_headless.msi\" rel=\"nofollow noreferrer\">uniconvertor-2.0rc4-win64_headless.msi</a>,</li>\n<li>Find the &quot;dll&quot; sub-directory under the UniConverter installation path.(In my case, <code>C:\\Program Files\\UniConvertor-2.0rc4\\dlls</code>)</li>\n<li>Add this &quot;dll&quot; path to the system path.</li>\n<li>Close VSCode(or other editor) and reopen the project.</li>\n<li>Try to run your code again.\nEnjoy!</li>\n</ol>\n"}], "owner": {"reputation": 73, "user_id": 6425814, "user_type": "registered", "profile_image": "https://graph.facebook.com/1047847045293164/picture?type=large", "display_name": "TheBeginner", "link": "https://stackoverflow.com/users/6425814/thebeginner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 804, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1594608973, "creation_date": 1498078836, "last_edit_date": 1498079556, "question_id": 44686194, "link": "https://stackoverflow.com/questions/44686194/installed-cairosvg-and-cairocffi-but-gives-error-on-import", "title": "Installed cairosvg and cairocffi but gives error on import", "body": "<p>When I try to install <code>cairosvg</code> it says requirement satisfied.</p>\n\n<pre><code>Requirement already satisfied: cairosvg in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages\nRequirement already satisfied: cairocffi in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairosvg)\nRequirement already satisfied: lxml in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairosvg)\nRequirement already satisfied: cssselect in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairosvg)\nRequirement already satisfied: pillow in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairosvg)\nRequirement already satisfied: tinycss in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairosvg)\nRequirement already satisfied: cffi&gt;=0.6 in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cairocffi-&gt;cairosvg)\nRequirement already satisfied: olefile in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from pillow-&gt;cairosvg)\nRequirement already satisfied: pycparser in \nc:\\users\\kshitij\\appdata\\local\\programs\\python\\python35\\lib\\site-packages \n(from cffi&gt;=0.6-&gt;cairocffi-&gt;cairosvg)\n</code></pre>\n\n<p>But when I try to import it in IDLE, it gives the following error:</p>\n\n<pre><code>import cairosvg\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairosvg\\__init__.py\", line 29, in &lt;module&gt;\n from . import surface\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairosvg\\surface.py\", line 24, in &lt;module&gt;\nimport cairocffi as cairo\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairocffi\\__init__.py\", line 41, in &lt;module&gt;\ncairo = dlopen(ffi, *CAIRO_NAMES)\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairocffi\\__init__.py\", line 34, in dlopen\nreturn ffi.dlopen(names[0])  # pragma: no cover\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cffi\\api.py\", line 140, in dlopen\nlib, function_cache = _make_ffi_library(self, name, flags)\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cffi\\api.py\", line 786, in _make_ffi_library\nbackendlib = _load_backend_lib(backend, libname, flags)\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cffi\\api.py\", line 781, in _load_backend_lib\nraise OSError(msg)\nOSError: cannot load library libcairo.so.2: error 0x7e.  Additionally, \nctypes.util.find_library() did not manage to locate a library called \n'libcairo.so.2'\n</code></pre>\n\n<p>This might be because of<code>cairocffi</code> as it is also giving the following error on import: </p>\n\n<pre><code>import cairocffi\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairocffi\\__init__.py\", line 41, in &lt;module&gt;\ncairo = dlopen(ffi, 'cairo', 'cairo-2')\nFile \"C:\\Users\\Kshitij\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-\npackages\\cairocffi\\__init__.py\", line 38, in dlopen\nraise OSError(\"dlopen() failed to load a library: %s\" % ' / '.join(names))\nOSError: dlopen() failed to load a library: cairo / cairo-2\n</code></pre>\n\n<p>I have a 64-bit windows based architecture with python 3.5 and have installed cairocffi-0.8.0 which installed without a problem. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498079041, "post_id": 44686178, "comment_id": 76356556, "body": "remove the config class, and simply <code>from config import config</code>?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498079110, "post_id": 44686178, "comment_id": 76356583, "body": "Also, there are no true global variables in Python. &quot;global&quot; scope actually means &quot;module-level&quot; scope."}, {"owner": {"reputation": 56, "user_id": 8196417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qLgcQ.jpg?s=128&g=1", "display_name": "SlowBro", "link": "https://stackoverflow.com/users/8196417/slowbro"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498079656, "post_id": 44686178, "comment_id": 76356832, "body": "@juanpa.arrivillaga please explain removing the config class. Won&#39;t that still cause the config file to be read every time it&#39;s imported?"}, {"owner": {"reputation": 56, "user_id": 8196417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qLgcQ.jpg?s=128&g=1", "display_name": "SlowBro", "link": "https://stackoverflow.com/users/8196417/slowbro"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498079986, "post_id": 44686178, "comment_id": 76356974, "body": "I just tested it, that does work. I&#39;ll post an answer."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498079993, "post_id": 44686178, "comment_id": 76356977, "body": "No. Try it yourself: <code>echo &quot;print(&#39;hiya&#39;)&quot; &gt; verbose.py</code>. Now <code>echo &quot;import verbose&quot; | tee &gt; a.py &gt; b.py</code> and finally, see what happens when you import all your other modules in a main module: <code>echo &quot;import a; import b&quot; &gt; main.py</code>, so <code>python main.py</code>"}], "answers": [{"tags": [], "owner": {"reputation": 56, "user_id": 8196417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qLgcQ.jpg?s=128&g=1", "display_name": "SlowBro", "link": "https://stackoverflow.com/users/8196417/slowbro"}, "is_accepted": true, "score": 0, "last_activity_date": 1498080113, "creation_date": 1498080113, "answer_id": 44686495, "question_id": 44686178, "link": "https://stackoverflow.com/questions/44686178/most-pythonic-way-to-use-a-variable-from-one-script-in-a-second-object/44686495#44686495", "title": "Most Pythonic way to use a variable from one script in a second object", "body": "<p>Thanks to @juanpa.arrivillaga for the answer. I shouldn't make config a class.</p>\n\n<p>main.py:</p>\n\n<pre><code>#!/usr/bin/python\nfrom config import config\nfrom battery import BATTERY\nbattery = BATTERY()\nprint(\"Running this the first time.\")\nbattery.print_config()\nprint(\"Running again. Should not go slow.\")\nbattery.print_config()\n</code></pre>\n\n<p>config.py:</p>\n\n<pre><code># Simulating the expensive disk operation\nfrom time import sleep\nfor i in range(1, 4):\n    print i\n    sleep(1)\n\nconfig = {'parameter': 'value'}\n</code></pre>\n\n<p>battery.py:</p>\n\n<pre><code>class BATTERY(object):\n    def __init__(self):\n        from config import config\n        self.config = config\n\n    def print_config(self):\n        print(self.config['parameter'])\n</code></pre>\n\n<p>Results:</p>\n\n<pre><code>$ ./main.py\n1\n2\n3\nRunning this the first time.\nvalue\nRunning again. Should not go slow.\nvalue\n</code></pre>\n"}], "owner": {"reputation": 56, "user_id": 8196417, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qLgcQ.jpg?s=128&g=1", "display_name": "SlowBro", "link": "https://stackoverflow.com/users/8196417/slowbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 44686495, "answer_count": 1, "score": 1, "last_activity_date": 1498080113, "creation_date": 1498078784, "question_id": 44686178, "link": "https://stackoverflow.com/questions/44686178/most-pythonic-way-to-use-a-variable-from-one-script-in-a-second-object", "title": "Most Pythonic way to use a variable from one script in a second object", "body": "<p>What's a good way to use a variable from one script inside the object in another file? I thought using global would work but it does not.</p>\n\n<p>My config loading class has an expensive disk operation that loads the config file from disk into a dictionary. So naturally I want to avoid repeating this operation every time I need the config variables; I want to keep it in memory for all the other objects to use.</p>\n\n<p>This works, but is kludgy. Aside from battery.py I have other classes not shown and need to pass config as a parameter for all.</p>\n\n<p>main.py:</p>\n\n<pre><code>#!/usr/bin/python\nfrom config import CONFIG\nfrom battery import BATTERY\nconfig = CONFIG().config\nbattery = BATTERY(config)\nprint(\"Running this the first time.\")\nbattery.print_config()\nprint(\"Running again. Should not go slow.\")\nbattery.print_config()\n</code></pre>\n\n<p>config.py:</p>\n\n<pre><code>class CONFIG(object):\n    def __init__(self):\n        # Simulating the expensive disk operation\n        from time import sleep\n        for i in range(1, 4):\n            print i\n            sleep(1)\n\n        self.config = {'parameter': 'value'}\n</code></pre>\n\n<p>battery.py</p>\n\n<pre><code>class BATTERY(object):\n    def __init__(self, config):\n        self.config = config\n\n    def print_config(self):\n        print(self.config['parameter'])\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ ./main.py\n1\n2\n3\nRunning this the first time.\nvalue\nRunning again. Should not go slow.\nvalue\n</code></pre>\n\n<p>I thought I might try to global config inside battery.py's init but that fails with the error below.</p>\n\n<pre><code>class BATTERY(object):\n    def __init__(self): # Removed the config argument\n        # Added global config\n        global config\n        self.config = config\n\n    def print_config(self):\n        print(self.config['parameter'])\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ ./main.py\nTraceback (most recent call last):\n  File \"./main.py\", line 5, in &lt;module&gt;\n    battery = BATTERY()\n  File \"/cygdrive/c/Users/nbktvlh/Desktop/Test/battery.py\", line 4, in __init__\n    self.config = config\nNameError: global name 'config' is not defined\n</code></pre>\n\n<p>This works but makes it more tightly coupled. (Right?) And strangely, it executes the print twice.</p>\n\n<pre><code>class BATTERY(object):\n    def __init__(self):\n        # Added this line\n        from main import config\n        self.config = config\n\n    def print_config(self):\n        print(self.config['parameter'])\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>$ ./main.py\n1\n2\n3\n1\n2\n3\nRunning this the first time.\nvalue\nRunning again. Should not go slow.\nvalue\nRunning this the first time.\nvalue\nRunning again. Should not go slow.\nvalue\n</code></pre>\n\n<p>Maybe there's a better way to do this?</p>\n"}, {"tags": ["python", "macos", "opencv"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1498081919, "post_id": 44686163, "comment_id": 76357718, "body": "This is the third question this week with the exact same problem (haven&#39;t seen an answer, although a reinstall did work for someone else). What version of Numpy do you have installed? Edit: wait, did you install through <code>pip</code> with <code>opencv-python</code>?"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 2, "creation_date": 1498099670, "post_id": 44686163, "comment_id": 76362281, "body": "<code>waitKey(1)</code> just waits for 1 millisecond, too short too see anything. You may want to wait more or until keypressed <code>waitKey(0)</code>. Another thing, is your image just 3 pixel wide?"}, {"owner": {"reputation": 5432, "user_id": 1701600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/kPn4H.png?s=128&g=1", "display_name": "Boern", "link": "https://stackoverflow.com/users/1701600/boern"}, "edited": false, "score": 0, "creation_date": 1498112075, "post_id": 44686163, "comment_id": 76366282, "body": "Thank you guys. To install, i followed <a href=\"http://www.pyimagesearch.com/2016/12/19/install-opencv-3-on-macos-with-homebrew-the-easy-way/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2016/12/19/&hellip;</a> guide. As far as i can remember, there was never a <code>pip install opencv-python</code> command. But I&#39;m able to import and run <code>cv2.__version__</code> - so I don&#39;t think that is the issue? To get the binaries I used <a href=\"http://www.pyimagesearch.com/2016/12/19/install-opencv-3-on-macos-with-homebrew-the-easy-way/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2016/12/19/&hellip;</a> guide in addition. <code>waitKey(0)</code> does not make any difference. I tried that out already..."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1498138561, "post_id": 44686163, "comment_id": 76384750, "body": "As the other user mentioned, is the image supposed to be only three pixels wide? Because the output of <code>img</code> shows only three pixels in width. And that&#39;s a good guide to follow---don&#39;t install with <code>pip</code> as you&#39;re guaranteed to not have any <code>imshow</code> functionality. You might have good luck asking the author btw. FWIW I have it working with your same OS, Python version, and OpenCV version from following his <i>other</i> guide, where you build the binaries, so don&#39;t give up yet! It&#39;s possible!"}, {"owner": {"reputation": 5432, "user_id": 1701600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/kPn4H.png?s=128&g=1", "display_name": "Boern", "link": "https://stackoverflow.com/users/1701600/boern"}, "edited": false, "score": 0, "creation_date": 1498143626, "post_id": 44686163, "comment_id": 76388934, "body": "Thanks for pointing me to his blog again. Image is 512\u2006&#215;\u2006384, I just reduced the console output. I also followed his other guide where you build the binaries. Something seems to be messed up. Seems to be something with the current <code>HEAD</code> version - I&#39;ll keep you posted."}], "owner": {"reputation": 5432, "user_id": 1701600, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/kPn4H.png?s=128&g=1", "display_name": "Boern", "link": "https://stackoverflow.com/users/1701600/boern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 201, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1498112098, "creation_date": 1498078734, "last_edit_date": 1498112098, "question_id": 44686163, "link": "https://stackoverflow.com/questions/44686163/macos-sierra-10-12-4-python-3-6-1-opencv-3-2-0-show-window", "title": "macOS Sierra (10.12.4), Python 3.6.1, OpenCV 3.2.0: Show window", "body": "<p>a simple task simply does not work. Nothing on SO helps (e.g. <a href=\"https://stackoverflow.com/questions/19285562/python-opencv-imread-displaying-image\">this</a>).</p>\n\n<pre><code>&gt;&gt;&gt; import cv2\n&gt;&gt;&gt; img = cv2.imread(\"clouds.jpg\")\n&gt;&gt;&gt; img\n    array([[[103,  75,  64],\n            [108,  80,  69],\n            [100,  72,  61],\n             ..., \n            [ 88,  69,  62],\n            [ 79,  60,  47],\n            [ 75,  52,  37]]], dtype=uint8)\n&gt;&gt;&gt; cv2.imshow('window title', img)\n&gt;&gt;&gt; cv2.waitKey(1) # or 0, 10, 100, ...\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/F4yKH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F4yKH.png\" alt=\"Picture of non working window\"></a></p>\n\n<p>Any idea what I'm missing? Thank you very much in advance.</p>\n"}, {"tags": ["python", "turtle-graphics"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8050579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a0b8df32095b3ecd70a34e9212db7d2?s=128&d=identicon&r=PG", "display_name": "Travis", "link": "https://stackoverflow.com/users/8050579/travis"}, "edited": false, "score": 0, "creation_date": 1498114191, "post_id": 44688008, "comment_id": 76367476, "body": "thank you it worked, now I figured out that I need to do a lot more work to my working code"}], "tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": true, "score": 0, "last_activity_date": 1498089556, "creation_date": 1498089556, "answer_id": 44688008, "question_id": 44686159, "link": "https://stackoverflow.com/questions/44686159/getting-turtle-to-change-its-image/44688008#44688008", "title": "getting turtle to change its image", "body": "<p>Try it this way:</p>\n\n<pre><code>import os\nfrom turtle import Turtle, Screen\n\nprint(os.getcwd())\nos.chdir('C:\\\\Users\\\\Travi\\\\Downloads')\nprint(os.getcwd())\n\nscreen = Screen()\nscreen.register_shape('Crawfish_attack.gif')\n\ncrawfish = Turtle()\ncrawfish.shape('Crawfish_attack.gif')\n\nscreen.exitonclick()\n</code></pre>\n\n<p>You were invoking a method on an instance you hadn't created yet and invoking an instance method on a class.  If the above works for you, you should also be able to combine these:</p>\n\n<pre><code>crawfish = Turtle()\ncrawfish.shape('Crawfish_attack.gif')\n</code></pre>\n\n<p>into:</p>\n\n<pre><code>crawfish = Turtle('Crawfish_attack.gif')\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8050579, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0a0b8df32095b3ecd70a34e9212db7d2?s=128&d=identicon&r=PG", "display_name": "Travis", "link": "https://stackoverflow.com/users/8050579/travis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 44688008, "answer_count": 1, "score": 0, "last_activity_date": 1498089556, "creation_date": 1498078723, "last_edit_date": 1498078846, "question_id": 44686159, "link": "https://stackoverflow.com/questions/44686159/getting-turtle-to-change-its-image", "title": "getting turtle to change its image", "body": "<p>I have some code, but keep getting this error</p>\n\n<pre><code>Exception in Tkinter callback\nTraceback (most recent call last):\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 1699, in __call__\n    return self.func(*args)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 686, in eventfun\n    fun()\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\RPG.py\", line 21, in up\n    combat()\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\RPG.py\", line 58, in combat\n    enemy.shape(image)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 2777, in shape\n    self.turtle._setshape(name)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 2506, in _setshape\n    self._item = screen._createimage(screen._shapes[\"blank\"]._data)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 723, in _createimage\n    return self.cv.create_image(0, 0, image=image)\n  File \"&lt;string&gt;\", line 1, in create_image\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 2483, in create_image\n    return self._create('image', args, kw)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 2474, in _create\n    *(args + self._options(cnf, kw))))\n_tkinter.TclError: image \"pyimage1\" doesn't exist\nException in Tkinter callback\nTraceback (most recent call last):\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 1699, in __call__\n    return self.func(*args)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 686, in eventfun\n    fun()\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\RPG.py\", line 21, in up\n    combat()\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\RPG.py\", line 58, in combat\n    enemy.shape(image)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 2777, in shape\n    self.turtle._setshape(name)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 2506, in _setshape\n    self._item = screen._createimage(screen._shapes[\"blank\"]._data)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\turtle.py\", line 723, in _createimage\n    return self.cv.create_image(0, 0, image=image)\n  File \"&lt;string&gt;\", line 1, in create_image\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 2483, in create_image\n    return self._create('image', args, kw)\n  File \"C:\\Users\\Travi\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\tkinter\\__init__.py\", line 2474, in _create\n    *(args + self._options(cnf, kw))))\n_tkinter.TclError: image \"pyimage1\" doesn't exist\n</code></pre>\n\n<p>My code to the simplist extent is </p>\n\n<pre><code>import os\nfrom turtle import Turtle,Screen\nprint(os.getcwd())\nos.chdir('C:\\\\Users\\\\Travi\\\\Downloads')\nprint(os.getcwd())\nscreen.register_shape(\"Crawfish_attack.gif\")\nTurtle.shape(\"Crawfish_attack.gif\")\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "csv", "parsing"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4616565, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/000e58edad70dc76ed128ca11d9dc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "KoushKilla", "link": "https://stackoverflow.com/users/4616565/koushkilla"}, "edited": false, "score": 0, "creation_date": 1498080702, "post_id": 44686125, "comment_id": 76357241, "body": "Thanks but can you explain your solution a little bit more. Thanks."}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "reply_to_user": {"reputation": 53, "user_id": 4616565, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/000e58edad70dc76ed128ca11d9dc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "KoushKilla", "link": "https://stackoverflow.com/users/4616565/koushkilla"}, "edited": false, "score": 0, "creation_date": 1498115461, "post_id": 44686125, "comment_id": 76368216, "body": "the python documentation has a section on <a href=\"https://docs.python.org/3/tutorial/controlflow.html#break-and-continue-statements-and-else-clauses-on-loops\" rel=\"nofollow noreferrer\">continue statements in for loops</a>. hope that helps!"}], "tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": true, "score": 1, "last_activity_date": 1498078560, "creation_date": 1498078560, "answer_id": 44686125, "question_id": 44686053, "link": "https://stackoverflow.com/questions/44686053/csv-parsing-python-outputting-certain-rows-that-have-an-specific-value/44686125#44686125", "title": "CSV Parsing Python, outputting certain rows that have an specific value", "body": "<p>just add this check to your loop over the csv rows:</p>\n\n<pre><code>for row in csv_f:\n    severity = int(row[0])\n    if severity != 10:\n        continue\n</code></pre>\n\n<p>if the <code>severity</code> value is not 10 the loop will <code>continue</code> with the next row and not do anything that follows for the current row.</p>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 4765657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203683263471130/picture?type=large", "display_name": "Joey Allen", "link": "https://stackoverflow.com/users/4765657/joey-allen"}, "is_accepted": false, "score": 2, "last_activity_date": 1498079778, "creation_date": 1498079778, "answer_id": 44686427, "question_id": 44686053, "link": "https://stackoverflow.com/questions/44686053/csv-parsing-python-outputting-certain-rows-that-have-an-specific-value/44686427#44686427", "title": "CSV Parsing Python, outputting certain rows that have an specific value", "body": "<pre><code>import pandas as pd\n\nalerts_df = pd.DataFrame.from_csv('alerts2.csv', index_col=None)\nprint alerts_df[alerts_df['severity'] == 10]['Summary']\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4616565, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/000e58edad70dc76ed128ca11d9dc9e4?s=128&d=identicon&r=PG&f=1", "display_name": "KoushKilla", "link": "https://stackoverflow.com/users/4616565/koushkilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 44686125, "answer_count": 2, "score": -1, "last_activity_date": 1498079778, "creation_date": 1498078313, "last_edit_date": 1498079593, "question_id": 44686053, "link": "https://stackoverflow.com/questions/44686053/csv-parsing-python-outputting-certain-rows-that-have-an-specific-value", "title": "CSV Parsing Python, outputting certain rows that have an specific value", "body": "<p>I want to use python to parse a CSV file, and output only certain rows which have a specific value. This is the code I have until now,</p>\n\n<pre><code>import csv  \n\nf = open('alerts2.csv')\ncsv_f = csv.reader(f)\nli1 = []\nheader = next(csv_f)\nfor row in csv_f:\n\n    # li1.append(row[5])\n    # li1.append(row[0]) \n    severity = int(row[0]) #Has The the integer value from 10 - 40\n    Status = str(row[1])\n    PolicyName = str(row[2])\n    PolicyBlockName = str(row[3])\n    PolicyRuleName = str(row[4])\n    Summary = str(row[5])\n    li1.append(severity)\n    li1.append(Summary) # string variables\nprint li1\nf.close()\n</code></pre>\n\n<p>This outputs all the values from severity and summary, but I want it to output the data of severity and summary only if the severity value is at \"10\" . \nI was thinking to use the list \"li1\" and search through the list and if the value \"10\" is found then output the values.  Any suggestions?? I am a python newbie.</p>\n"}, {"tags": ["python", "matplotlib", "time"], "answers": [{"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": false, "score": 1, "last_activity_date": 1519673052, "last_edit_date": 1519673052, "creation_date": 1498081242, "answer_id": 44686723, "question_id": 44686023, "link": "https://stackoverflow.com/questions/44686023/updating-pyplot-graph-in-real-time/44686723#44686723", "title": "Updating pyplot graph in real time", "body": "<p><code>pyplot</code> does not generally show anything until <code>pyplot.show()</code> is called, unless <code>matplotlib</code> runs in 'interactive' mode. The interactive mode is entered by calling <code>pyplot.ion()</code> and can exited again by calling <code>pyplot.ioff()</code>.</p>\n\n<p>Thus it should be possible for you to see all your updates by calling <code>pyplot.ion()</code> somewhere before doing anything you want to be directly updated and then end your program with <code>pyplot.ioff()</code> to get back to the standard <code>pyplot</code> way when done.</p>\n\n<p>However, it may not look very smooth, depending on your system and what updates you are doing.</p>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": false, "score": 0, "last_activity_date": 1498082164, "creation_date": 1498082164, "answer_id": 44686896, "question_id": 44686023, "link": "https://stackoverflow.com/questions/44686023/updating-pyplot-graph-in-real-time/44686896#44686896", "title": "Updating pyplot graph in real time", "body": "<p>So I'm not sure if this a <em>good</em> answer or not, I have only used updating plots once before. But this is a way to achieve what you want.</p>\n\n<pre><code>import matplotlib.animation as animation\nimport matplotlib.pyplot as plt\nimport matplotlib as mpl\nimport numpy as np\n\nNUM_COL = 10\nNUM_ROW = 10\n\nzvals = np.full((NUM_ROW,NUM_COL),-5.0)\ncmap = mpl.colors.ListedColormap(['blue','black','red'])\nbounds = [-6,-2,2,6]\nnorm = mpl.colors.BoundaryNorm(bounds, cmap.N)\n\nfig = plt.figure() # Create the figure\nimg = plt.imshow(zvals,interpolation='nearest', cmap=cmap,norm=norm) # display the first image\nplt.colorbar(img,cmap=cmap,norm=norm,boundaries=bounds,ticks=[-5,0,5]) # create your colour bar\n\n# If we dont have this, then animation.FuncAnimation will call update_graph upon initialization\ndef init():\n    pass\n\n# animation.FuncAnimation will use this function to update the plot. This is where we update what we want displayed\ndef update_graph(frame):\n    global zvals # zvals is a global variable\n    zvals+=1 \n    img.set_data(zvals) # This sets the data to the new, updated values\n    print(\"Frame Update {}\".format(frame)) # this is for debugging to help you see whats going on\n    return img\n\n# This is what will run the animations\nanim = animation.FuncAnimation(fig, update_graph, init_func = init,\n                                                  interval  = 1000, # update every 1000ms\n                                                  frames  = 8, # Update 8 times\n                                                  repeat=False) # After 8 times, don't repeat the animation\nplt.show() # show our plot\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8196474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0ec99465e8837c559ff68024020473e?s=128&d=identicon&r=PG&f=1", "display_name": "The Big Cheese", "link": "https://stackoverflow.com/users/8196474/the-big-cheese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1519673052, "creation_date": 1498078209, "question_id": 44686023, "link": "https://stackoverflow.com/questions/44686023/updating-pyplot-graph-in-real-time", "title": "Updating pyplot graph in real time", "body": "<p>I'm trying to plot a 2D grid of data and map them to colors. Then I want to update the values and have the graph update with the new values. Currently the graph only shows the final result, not all the middle phases the graph should go through.</p>\n\n<p>MY CODE::</p>\n\n<pre><code>import matplotlib.pyplot as pyplot\nimport matplotlib as mpl\nimport numpy as np\nimport time\nimport matplotlib.animation as animation\n\n\n\nthing=0\nNUM_COL=10\nNUM_ROW=10\n\nzvals=np.full((NUM_ROW,NUM_COL),-5.0)\n\ndef update_graph(zvals):\n    zvals+=1\n    pyplot.clf()\n    img = pyplot.imshow(zvals,interpolation='nearest',\n                    cmap = cmap,norm=norm)\n    time.sleep(1)\n    pyplot.draw()\n\n# make a color map of fixed colors\ncmap = mpl.colors.ListedColormap(['blue','black','red'])\nbounds=[-6,-2,2,6]\nnorm = mpl.colors.BoundaryNorm(bounds, cmap.N)\n\n# tell imshow about color map so that only set colors are used\n\nimg = pyplot.imshow(zvals,interpolation='nearest',\n                    cmap = cmap,norm=norm)\n\n# make a color bar\npyplot.colorbar(img,cmap=cmap,norm=norm,boundaries=bounds,ticks=[-5,0,5])\n\n\n\npyplot.draw()\n\nfor i in range(5):\n    update_graph(zvals)\n\npyplot.show()\n</code></pre>\n"}, {"tags": ["python", "if-statement", "indentation", "auto-indent"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498078211, "post_id": 44685998, "comment_id": 76356136, "body": "What language/IDE are you talking about?"}, {"owner": {"reputation": 189, "user_id": 8196461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ys9QT.jpg?s=128&g=1", "display_name": "CLAUDE", "link": "https://stackoverflow.com/users/8196461/claude"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498078235, "post_id": 44685998, "comment_id": 76356149, "body": "@OliverCharlesworth Sorry, In Python, I will edit it"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 1, "creation_date": 1498078522, "post_id": 44685998, "comment_id": 76356299, "body": "Wouldn&#39;t this need to be a question about a specific IDE or editor, then?"}, {"owner": {"reputation": 1604, "user_id": 7700434, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKtbx.png?s=128&g=1", "display_name": "axwr", "link": "https://stackoverflow.com/users/7700434/axwr"}, "edited": false, "score": 1, "creation_date": 1498078554, "post_id": 44685998, "comment_id": 76356318, "body": "This behavior is very specific to your IDE or Editor, perhaps you could try a different one, i use vim and it indents fine, perhaps you could try PyCharm? i hear good things"}, {"owner": {"reputation": 189, "user_id": 8196461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ys9QT.jpg?s=128&g=1", "display_name": "CLAUDE", "link": "https://stackoverflow.com/users/8196461/claude"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1498078572, "post_id": 44685998, "comment_id": 76356326, "body": "@CharlesDuffy In several IDEs I have this problem, in Wing and IDLE specifically"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1498078595, "post_id": 44685998, "comment_id": 76356336, "body": "Then <a href=\"https://stackoverflow.com/posts/44685998/edit\">edit</a> the question to ask (only!) about either Wing or IDLE."}, {"owner": {"reputation": 189, "user_id": 8196461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ys9QT.jpg?s=128&g=1", "display_name": "CLAUDE", "link": "https://stackoverflow.com/users/8196461/claude"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1498078649, "post_id": 44685998, "comment_id": 76356364, "body": "@CharlesDuffy Ok"}, {"owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "reply_to_user": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "edited": false, "score": 0, "creation_date": 1498078656, "post_id": 44685998, "comment_id": 76356368, "body": "@CharlesDuffy Wouldn&#39;t that make this a &quot;general computing hardware and software question&quot;?"}, {"owner": {"reputation": 233489, "user_id": 14122, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/5e2861b08f37fa306fbf5384994af688?s=128&d=identicon&r=PG", "display_name": "Charles Duffy", "link": "https://stackoverflow.com/users/14122/charles-duffy"}, "reply_to_user": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "edited": false, "score": 3, "creation_date": 1498078689, "post_id": 44685998, "comment_id": 76356385, "body": "@ayhan, programmers&#39; editors are &quot;software tools commonly used by programmers&quot;; the general consensus is that they&#39;re inside the topic."}, {"owner": {"reputation": 778, "user_id": 7637879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pnIQaQJU1c/AAAAAAAAAAI/AAAAAAAAADM/HAnzeUNr9to/photo.jpg?sz=128", "display_name": "Alan Leuthard", "link": "https://stackoverflow.com/users/7637879/alan-leuthard"}, "edited": false, "score": 0, "creation_date": 1498078702, "post_id": 44685998, "comment_id": 76356394, "body": "Hmmm...I never thought of this as an issue, but having an IDE actually be able to recognize an else, except, finally clause and unindent for you would be pretty convenient.  I wonder if I can fashion a custom conditional in Sublime..."}, {"owner": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 1, "creation_date": 1498078736, "post_id": 44685998, "comment_id": 76356411, "body": "Try using atom, it can recognize a whole bunch of syntax and adjust tabs accordingly"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "reply_to_user": {"reputation": 778, "user_id": 7637879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pnIQaQJU1c/AAAAAAAAAAI/AAAAAAAAADM/HAnzeUNr9to/photo.jpg?sz=128", "display_name": "Alan Leuthard", "link": "https://stackoverflow.com/users/7637879/alan-leuthard"}, "edited": false, "score": 0, "creation_date": 1498078805, "post_id": 44685998, "comment_id": 76356446, "body": "@AlanLeuthard you can. FWIW Sublime works with <code>if: ... else:</code> but not <code>if: ... elif:</code>."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "reply_to_user": {"reputation": 1582, "user_id": 7795130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Inihh.gif?s=128&g=1", "display_name": "Davy M", "link": "https://stackoverflow.com/users/7795130/davy-m"}, "edited": false, "score": 0, "creation_date": 1498078917, "post_id": 44685998, "comment_id": 76356501, "body": "@DavyM this question was not asking for editor suggestions. I feel this question is more asking, semantically, why this particular catch seems to fail on multiple IDEs and text editors where all other catches work fine."}, {"owner": {"reputation": 778, "user_id": 7637879, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_pnIQaQJU1c/AAAAAAAAAAI/AAAAAAAAADM/HAnzeUNr9to/photo.jpg?sz=128", "display_name": "Alan Leuthard", "link": "https://stackoverflow.com/users/7637879/alan-leuthard"}, "edited": false, "score": 2, "creation_date": 1498079979, "post_id": 44685998, "comment_id": 76356968, "body": "Wow.  It&#39;s amazing what you learn even from bad questions: Sublime 3 unindents for all of these cases out of the box, even elif.  Strange I&#39;ve never noticed."}], "answers": [{"tags": [], "owner": {"reputation": 23864, "user_id": 146073, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2c69ccb9eb83c7ef2ba155a850df68a9?s=128&d=identicon&r=PG", "display_name": "holdenweb", "link": "https://stackoverflow.com/users/146073/holdenweb"}, "is_accepted": true, "score": 2, "last_activity_date": 1498080628, "creation_date": 1498080628, "answer_id": 44686589, "question_id": 44685998, "link": "https://stackoverflow.com/questions/44685998/avoiding-indentation-in-python-else-and-elif/44686589#44686589", "title": "Avoiding indentation in Python else and elif", "body": "<p>You seem to believe the editor will somehow know how many lines the indented <em>suites</em> of code should have.</p>\n\n<p>It would be easy to make editors \"outdent\" if those suites were all one line, but a cursory inspection of any moderately complex Python program will show that is clearly not the case.</p>\n\n<p>Which means it's up to us to indicate the end by outdenting manually, usually with SHIFT-TAB, at the end of the clause.</p>\n"}], "owner": {"reputation": 189, "user_id": 8196461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ys9QT.jpg?s=128&g=1", "display_name": "CLAUDE", "link": "https://stackoverflow.com/users/8196461/claude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "accepted_answer_id": 44686589, "answer_count": 1, "score": -4, "last_activity_date": 1498080628, "creation_date": 1498078087, "last_edit_date": 1498078665, "question_id": 44685998, "link": "https://stackoverflow.com/questions/44685998/avoiding-indentation-in-python-else-and-elif", "title": "Avoiding indentation in Python else and elif", "body": "<p>In writing a Python code in Wing or IDLE, inside the <code>if</code> condition, we must have an indentation for each line. But the <code>else</code> and the <code>elif</code> part must be aligned with <code>if</code>. However when I type <code>else:</code> or <code>elif:</code> in a newline, it has an indentation and I must remove it manually. I have seen it in several IDEs like Wing.</p>\n\n<p>Is there any way to avoid indentation for <code>else</code> and <code>elif</code>? Indeed I need this:</p>\n\n<pre><code>if (condition):\n    do this\nelse:\n    do this\n</code></pre>\n\n<p>But when I type it, it's like:</p>\n\n<pre><code>if (condition)\n    do this\n    else:\n    do this\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "tensorflow-gpu"], "comments": [{"owner": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "edited": false, "score": 0, "creation_date": 1498078109, "post_id": 44685975, "comment_id": 76356077, "body": "Did you add the CUDA and cuDNN stuff to your %PATH%?"}, {"owner": {"reputation": 21, "user_id": 4587185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aba7f9f4841fa498d0e228fdb7b49fe?s=128&d=identicon&r=PG&f=1", "display_name": "Gokkula Sudan R", "link": "https://stackoverflow.com/users/4587185/gokkula-sudan-r"}, "reply_to_user": {"reputation": 5732, "user_id": 5496433, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/05803febf5f3ccac3dc093fba5fc30fb?s=128&d=identicon&r=PG&f=1", "display_name": "BallpointBen", "link": "https://stackoverflow.com/users/5496433/ballpointben"}, "edited": false, "score": 0, "creation_date": 1498078162, "post_id": 44685975, "comment_id": 76356112, "body": "Yes. I have included it into my CUDA installation location"}, {"owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "edited": false, "score": 1, "creation_date": 1498078655, "post_id": 44685975, "comment_id": 76356366, "body": "From the <a href=\"https://www.tensorflow.org/install/install_windows\" rel=\"nofollow noreferrer\">documentation</a> see <a href=\"https://stackoverflow.com/questions/42011070/on-windows-running-import-tensorflow-generates-no-module-named-pywrap-tenso\" title=\"on windows running import tensorflow generates no module named pywrap tenso\">stackoverflow.com/questions/42011070/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 4587185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aba7f9f4841fa498d0e228fdb7b49fe?s=128&d=identicon&r=PG&f=1", "display_name": "Gokkula Sudan R", "link": "https://stackoverflow.com/users/4587185/gokkula-sudan-r"}, "reply_to_user": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "edited": false, "score": 0, "creation_date": 1498079081, "post_id": 44685975, "comment_id": 76356572, "body": "Thanks @jbird your stackoverflow question resolved the issue"}, {"owner": {"reputation": 21, "user_id": 4587185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aba7f9f4841fa498d0e228fdb7b49fe?s=128&d=identicon&r=PG&f=1", "display_name": "Gokkula Sudan R", "link": "https://stackoverflow.com/users/4587185/gokkula-sudan-r"}, "edited": false, "score": 0, "creation_date": 1498079096, "post_id": 44685975, "comment_id": 76356580, "body": "The problem was with cuDNN 6"}], "answers": [{"tags": [], "owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "is_accepted": false, "score": 1, "last_activity_date": 1498141245, "creation_date": 1498141245, "answer_id": 44702122, "question_id": 44685975, "link": "https://stackoverflow.com/questions/44685975/tensorflow-gpu-1-2-installation-stacktrace-for-cuda-v8-0/44702122#44702122", "title": "Tensorflow GPU 1.2 installation stacktrace for CUDA v8.0", "body": "<p>Moving my comment to an answer:</p>\n\n<p>From the <a href=\"https://www.tensorflow.org/install/install_windows\" rel=\"nofollow noreferrer\">documentation</a> see this question: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/42011070/on-windows-running-import-tensorflow-generates-no-module-named-pywrap-tenso\">On Windows, running &quot;import tensorflow&quot; generates No module named &quot;_pywrap_tensorflow&quot; error</a></p>\n"}], "owner": {"reputation": 21, "user_id": 4587185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aba7f9f4841fa498d0e228fdb7b49fe?s=128&d=identicon&r=PG&f=1", "display_name": "Gokkula Sudan R", "link": "https://stackoverflow.com/users/4587185/gokkula-sudan-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 612, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1498141245, "creation_date": 1498077979, "last_edit_date": 1498078120, "question_id": 44685975, "link": "https://stackoverflow.com/questions/44685975/tensorflow-gpu-1-2-installation-stacktrace-for-cuda-v8-0", "title": "Tensorflow GPU 1.2 installation stacktrace for CUDA v8.0", "body": "<p>I am trying to install tensorflow-gpu version on my windows 10. I have installed CUDA v8 and cuDNN 6. Following this I tried to install tensorflow-gpu with the help of pip installer. But when I try to import tensoflow, I get the following stacktrace error on my console</p>\n\n<pre><code>&gt;&gt;&gt;import tensorflow \nTraceback (most recent call last):\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 18, in swig_import_helper\n    return importlib.import_module(mname)\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 41, in &lt;module&gt;\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 21, in &lt;module&gt;\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 20, in swig_import_helper\n    return importlib.import_module('_pywrap_tensorflow_internal')\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow_internal'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\__init__.py\", line 24, in &lt;module&gt;\n    from tensorflow.python import *\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\__init__.py\", line 49, in &lt;module&gt;\n    from tensorflow.python import pywrap_tensorflow\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 52, in &lt;module&gt;\n    raise ImportError(msg)\nImportError: Traceback (most recent call last):\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 18, in swig_import_helper\n    return importlib.import_module(mname)\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 986, in _gcd_import\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 969, in _find_and_load\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 958, in _find_and_load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 666, in _load_unlocked\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 577, in module_from_spec\n  File \"&lt;frozen importlib._bootstrap_external&gt;\", line 906, in create_module\n  File \"&lt;frozen importlib._bootstrap&gt;\", line 222, in _call_with_frames_removed\nImportError: DLL load failed: The specified module could not be found.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow.py\", line 41, in &lt;module&gt;\n    from tensorflow.python.pywrap_tensorflow_internal import *\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 21, in &lt;module&gt;\n    _pywrap_tensorflow_internal = swig_import_helper()\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\site-packages\\tensorflow\\python\\pywrap_tensorflow_internal.py\", line 20, in swig_import_helper\n    return importlib.import_module('_pywrap_tensorflow_internal')\n  File \"C:\\Users\\gokku\\AppData\\Local\\Programs\\Python\\Python35\\lib\\importlib\\__init__.py\", line 126, in import_module\n    return _bootstrap._gcd_import(name[level:], package, level)\nImportError: No module named '_pywrap_tensorflow_internal'\n\n\nFailed to load the native TensorFlow runtime.\n\nSee https://www.tensorflow.org/install/install_sources#common_installation_problems\n\nfor some common reasons and solutions.  Include the entire stack trace\nabove this error message when asking for help.\n</code></pre>\n\n<p>Can anyone help with this problem?</p>\n"}, {"tags": ["python", "list", "csv", "python-2.x", "tab-delimited-text"], "comments": [{"owner": {"reputation": 671, "user_id": 8022336, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VsZUw.png?s=128&g=1", "display_name": "pointerless", "link": "https://stackoverflow.com/users/8022336/pointerless"}, "edited": false, "score": 0, "creation_date": 1498078240, "post_id": 44685959, "comment_id": 76356151, "body": "for each of the items, check it for square brackets then convert it with list(row[index])"}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1498078270, "post_id": 44685959, "comment_id": 76356168, "body": "When you serialise a <code>list</code>, the CSV writer convert it to string, so that you get quotes: <code>str([&#39;01&#39;, &#39;02&#39;, &#39;03&#39;, &#39;04&#39;]) =&gt; &quot;[&#39;01&#39;, &#39;02&#39;, &#39;03&#39;, &#39;04&#39;]&quot;</code>"}, {"owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "edited": false, "score": 0, "creation_date": 1498078665, "post_id": 44685959, "comment_id": 76356374, "body": "You might want to try <code>pickle</code> or <code>cPickle</code> to save and load list objects directly."}, {"owner": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "reply_to_user": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "edited": false, "score": 0, "creation_date": 1498079377, "post_id": 44685959, "comment_id": 76356700, "body": "@RodrigoDorantes-Gilardi Can you give an example?"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "edited": false, "score": 0, "creation_date": 1498079165, "post_id": 44686049, "comment_id": 76356601, "body": "Oh, what a bummer actually. I tried <code>list(literal_eval(row[2]))</code> and <code>print(row[2][0])</code> prints <code>[</code> which means <code>row[2]</code> is still being treated as a string. Can you update your answer with the correct usage of <code>literal_eval</code>?"}], "tags": [], "owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "is_accepted": true, "score": 1, "last_activity_date": 1498078295, "creation_date": 1498078295, "answer_id": 44686049, "question_id": 44685959, "link": "https://stackoverflow.com/questions/44685959/python-saving-list-in-a-file-without-quotes/44686049#44686049", "title": "Python: Saving list in a file without quotes?", "body": "<p>You can't prevent them from being saved as strings. Obviously, a CSV is a text file; it doesn't know anything about lists. Anything passed to <code>csv.writerow</code> is going to be converted to a string, by calling <code>str()</code> on it. If that resulting string contains commas, it will itself be quoted so that it is obvious that the commas are part of the element, rather than being a separator denoting a new element.</p>\n\n<p>There's no way to automatically convert back to a list. If you know that column 2 of every row should be a list, you could manually convert it back - one way of doing this would be to use <code>ast.literal_eval</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1167, "user_id": 6839684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f65713d01d76c55eb3a1075b7f87deb5?s=128&d=identicon&r=PG&f=1", "display_name": "V. Singh", "link": "https://stackoverflow.com/users/6839684/v-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1498078342, "creation_date": 1498078342, "answer_id": 44686061, "question_id": 44685959, "link": "https://stackoverflow.com/questions/44685959/python-saving-list-in-a-file-without-quotes/44686061#44686061", "title": "Python: Saving list in a file without quotes?", "body": "<p>Why don't you use Pandas <code>DataFrame</code> class instead? It has much better coverage of different CSV specs and much better control over the datatypes of individual columns. Check this <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html\" rel=\"nofollow noreferrer\">link</a>. You can read CSV and then write to another CSV with another delimiter very easily.</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "edited": false, "score": 0, "creation_date": 1498079312, "post_id": 44686157, "comment_id": 76356672, "body": "Sorry flattening is beyond my options because in that case I won&#39;t be able to access <code>row[2]</code> elements like I want to like a list e.g. <code>row[2][0]</code> to access <code>&#39;01&#39;</code>."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "reply_to_user": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "edited": false, "score": 0, "creation_date": 1498079409, "post_id": 44686157, "comment_id": 76356715, "body": "Do you really need CSV? JSON format is better for encapsulated objects."}, {"owner": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "edited": false, "score": 0, "creation_date": 1498079615, "post_id": 44686157, "comment_id": 76356813, "body": "Actually, files that I&#39;m working on are available to me as tab-delimited csv files. So, I really don&#39;t have much freedom there."}, {"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "reply_to_user": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "edited": false, "score": 0, "creation_date": 1498080230, "post_id": 44686157, "comment_id": 76357059, "body": "Ok, so use Daniel&#39;s answer. You have: \u02cbassert ast.literal_eval(str([&#39;1&#39;, &#39;2&#39;, &#39;3&#39;])) == [&#39;1&#39;, &#39;2&#39;, &#39;3&#39;]\u02cb."}], "tags": [], "owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "is_accepted": false, "score": 0, "last_activity_date": 1498078720, "creation_date": 1498078720, "answer_id": 44686157, "question_id": 44685959, "link": "https://stackoverflow.com/questions/44685959/python-saving-list-in-a-file-without-quotes/44686157#44686157", "title": "Python: Saving list in a file without quotes?", "body": "<p>I think you need to flatten you row in order to convert list of lists in a single list.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>def flatten(seq):\n    result = []\n    for item in seq:\n        if isinstance(item, list):\n            result.extend(item)\n        else:\n            result.append(item)\n    return result\n</code></pre>\n\n<p>Simple usage:</p>\n\n<pre><code>row = ['blah', 'blah', ['01', '02', '03', '04'], 'blah', ['0', '0', '0', '0']]\nrow = flatten(row)\n# -&gt; ['blah', 'blah', '01', '02', '03', '04', 'blah', '0', '0', '0', '0']\n</code></pre>\n\n<p>I would correct you code like this:</p>\n\n<pre><code>import csv\n\nwith open('file1.txt', 'r') as a:\n    with open('file2.txt', 'w+') as b:\n        reader = csv.reader(a, delimiter = '\\t')\n        writer = csv.writer(b, delimiter = '\\t', quoting = csv.QUOTE_NONE, escapechar = '')\n\n        for row in reader:\n            # Do stuff\n\n            writer.writerow(flatten(row))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 794, "user_id": 2896323, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d77b281ca305a51e04624c10b0c00842?s=128&d=identicon&r=PG&f=1", "display_name": "KarthikS", "link": "https://stackoverflow.com/users/2896323/karthiks"}, "edited": false, "score": 0, "creation_date": 1587490624, "post_id": 44686773, "comment_id": 108530563, "body": "This worked for me. Saving as a pickle file also makes it much smaller in size than a csv file. This works if there are multiple lists as columns in the dataframe too."}], "tags": [], "owner": {"reputation": 2070, "user_id": 4125080, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh5.googleusercontent.com/-wNwaT9zzxZs/AAAAAAAAAAI/AAAAAAAAAEw/DPbiLiDLzMg/photo.jpg?sz=128", "display_name": "rodgdor", "link": "https://stackoverflow.com/users/4125080/rodgdor"}, "is_accepted": false, "score": 1, "last_activity_date": 1498081953, "last_edit_date": 1498081953, "creation_date": 1498081505, "answer_id": 44686773, "question_id": 44685959, "link": "https://stackoverflow.com/questions/44685959/python-saving-list-in-a-file-without-quotes/44686773#44686773", "title": "Python: Saving list in a file without quotes?", "body": "<p>Using <code>pickle</code> you can save your object (list, in this case) as a serialized byte stream that you can then load back and reconvert that byte stream to a python object.</p>\n\n<p>Here is an example of how it works.</p>\n\n<pre><code>import pickle\nwriter = ['foo', 'bar', ['foo', 'bar'], 2]\npickle.dump(writer, open('file2.p', 'wb'))\n</code></pre>\n\n<p>When you'll load <code>file2.p</code> with pickle it will be reconverted to its original object:</p>\n\n<pre><code>writer = pickle.load(open('file2.p', 'rb'))\nprint(writer)\n</code></pre>\n\n<p>Gives,</p>\n\n<pre><code>['foo', 'bar', ['foo', 'bar'], 2]\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>To create <code>writer</code>:</p>\n\n<pre><code>import csv\nwriter = []\nwith open('file1.txt', 'r') as a:\n    reader = csv.reader(a, delimiter = '\\t')\n    for row in reader:\n        writer.append(row)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8196393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9af9fe1980c14ce5f08d37ef33d5351e?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/8196393/jesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2682, "favorite_count": 0, "accepted_answer_id": 44686049, "answer_count": 4, "score": 1, "last_activity_date": 1498081953, "creation_date": 1498077912, "last_edit_date": 1498079812, "question_id": 44685959, "link": "https://stackoverflow.com/questions/44685959/python-saving-list-in-a-file-without-quotes", "title": "Python: Saving list in a file without quotes?", "body": "<p>I'm working with a couple text files using csv module and I encountered something strange that I can't understand. My code so far:</p>\n\n<pre><code>import csv\n\nwith open('file1.txt', 'r') as a:\n    with open('file2.txt', 'w+') as b:\n        reader = csv.reader(a, delimiter = '\\t')\n        writer = csv.writer(b, delimiter = '\\t', quoting = csv.QUOTE_NONE, escapechar = '')\n\n        for row in reader:\n            # Do stuff\n\n            writer.writerow(row)\n\n            # Check datatypes of each column\n            print(type(row))\n            print(type(row[0]))\n            print(type(row[1]))\n            print(type(row[2]))\n            print(type(row[3]))\n            print(type(row[4]))\n            print(row)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>&lt;type 'list'&gt;\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n&lt;type 'list'&gt;\n&lt;type 'str'&gt;\n&lt;type 'list'&gt;\n['blah', 'blah', ['01', '02', '03', '04'], 'blah', ['0', '0', '0', '0']]\n</code></pre>\n\n<p>I was happy until I opened file2.txt again to do further processing but I could not because I was getting confusing results so I again checked the types and this time the output was different.</p>\n\n<pre><code>with open('file2.txt', 'r+') as c:\n\n    reader = csv.reader(c, delimiter = '\\t')\n\n    for row in reader:\n        print(row)\n        print(type(row))\n        print(type(row[0]))\n        print(type(row[1]))\n        print(type(row[2]))\n        print(type(row[3]))\n        print(type(row[4]))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>['blah', 'blah', \"['01', '02', '03', '04']\", 'blah', \"['0', '0', '0', '0']\"]\n&lt;type 'list'&gt;\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n&lt;type 'str'&gt;\n</code></pre>\n\n<p>Notice the double quotes around 3rd and 5th values. How did those values got converted to string!? This is strange to me. I really need to have 3rd and 5th column to be of list type instead of string to be able to work on it further.</p>\n\n<p>My question is that how do I convert those 3rd and 5th column values back to list type OR even better how do I prevent them to be saved as strings in the first place?</p>\n\n<p>Please let me know if I need to clarify my question further and please do help me to deal with this situation.</p>\n\n<p><strong>Edit:</strong> So, I have learned that it is not possible to prevent those values to be stored as string, so I'm now thinking if I can get to work on those values as list. I really don't care how values are stored in file as long as I get to work on them as lists.</p>\n"}, {"tags": ["python", "opencv", "machine-learning", "tensorflow", "classification"], "comments": [{"owner": {"reputation": 1041, "user_id": 903186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdb804ba983895662392c911f16fd566?s=128&d=identicon&r=PG", "display_name": "Ruut", "link": "https://stackoverflow.com/users/903186/ruut"}, "edited": false, "score": 1, "creation_date": 1499287234, "post_id": 44685875, "comment_id": 76847402, "body": "See: <a href=\"https://medium.com/towards-data-science/building-a-real-time-object-recognition-app-with-tensorflow-and-opencv-b7a2b4ebdc32\" rel=\"nofollow noreferrer\">medium.com/towards-data-science/&hellip;</a>"}, {"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "reply_to_user": {"reputation": 1041, "user_id": 903186, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cdb804ba983895662392c911f16fd566?s=128&d=identicon&r=PG", "display_name": "Ruut", "link": "https://stackoverflow.com/users/903186/ruut"}, "edited": false, "score": 0, "creation_date": 1499287521, "post_id": 44685875, "comment_id": 76847552, "body": "@Ruut I&#39;ve read this post in June 23rd; the next day it came out, actually. He uses multi-threading to speed up the I/O operation. I&#39;ve been meaning to try this out on my project but the actual prediction still takes 0.4-0.8 seconds and I think this because of my huge model. I&#39;m still looking for ways to make it smaller"}, {"owner": {"reputation": 2196, "user_id": 2489212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRfIQ.png?s=128&g=1", "display_name": "Keith OYS", "link": "https://stackoverflow.com/users/2489212/keith-oys"}, "edited": false, "score": 0, "creation_date": 1500601658, "post_id": 44685875, "comment_id": 77421570, "body": "Hello, I&#39;m trying to achieve almost the same thing as you wish to: Real-time Tensorflow Classification via OpenCV <code>Videocapture</code>. Predictions take a constant 0.4 seconds. I installed Tensorflow with GPU support. May I ask whether <code>(1)</code> you are on CPU/GPU build? <code>(2)</code> Do you happen to have a solution to achieve an even faster speed? Appreciate your advice. Thank you."}, {"owner": {"reputation": 2196, "user_id": 2489212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRfIQ.png?s=128&g=1", "display_name": "Keith OYS", "link": "https://stackoverflow.com/users/2489212/keith-oys"}, "edited": false, "score": 0, "creation_date": 1500603653, "post_id": 44685875, "comment_id": 77422044, "body": "Update: Using <code>quantize_graph.py</code> to do further optimization to my model, allowed me to cut 0.1 seconds off the inferencing speed. It&#39;s now at constant 0.3 seconds."}, {"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "reply_to_user": {"reputation": 2196, "user_id": 2489212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRfIQ.png?s=128&g=1", "display_name": "Keith OYS", "link": "https://stackoverflow.com/users/2489212/keith-oys"}, "edited": false, "score": 1, "creation_date": 1500640444, "post_id": 44685875, "comment_id": 77441341, "body": "@KeithOYS I wasn&#39;t using a GPU. And the reason behind it is because I was going to port over my model to the phone. 2: I still get the error referenced above when trying to run my quantized graph. I/O is currently been run on the main thread so consider moving it over to a separate one. <a href=\"http://www.pyimagesearch.com/2015/12/21/increasing-webcam-fps-with-python-and-opencv/\" rel=\"nofollow noreferrer\">Example</a>. This will help speed things up."}, {"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "reply_to_user": {"reputation": 2196, "user_id": 2489212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HRfIQ.png?s=128&g=1", "display_name": "Keith OYS", "link": "https://stackoverflow.com/users/2489212/keith-oys"}, "edited": false, "score": 1, "creation_date": 1500640566, "post_id": 44685875, "comment_id": 77441441, "body": "@KeithOYS With regards to speeding up the actual model, consider retraining it for <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/docs_src/tutorials/image_retraining.md#other-model-architectures\" rel=\"nofollow noreferrer\">mobilenet</a> instead"}], "answers": [{"comments": [{"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "edited": false, "score": 0, "creation_date": 1499738691, "post_id": 45023943, "comment_id": 77022729, "body": "Thank u.. I&#39;ll give it a spin and let u know.. One more thing, I was messing around with the object detection api and managed to train it locally on my own dataset. Since you&#39;re a Google Engineer, I wanted your take on my <a href=\"https://stackoverflow.com/questions/44973184/train-tensorflow-object-detection-on-own-dataset\">approach</a> and what I could&#39;ve done to improve it next time around. Thanks a lot for your help!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3600801"}, "edited": false, "score": 0, "creation_date": 1501491657, "post_id": 45023943, "comment_id": 77783296, "body": "did u make it realtime? Im facing the same problem even in desktop"}, {"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "edited": false, "score": 0, "creation_date": 1501516547, "post_id": 45023943, "comment_id": 77801673, "body": "@HaraHaraMahadevaki I haven&#39;t gotten around to this in a while. I&#39;d recommend re-training it on mobile-net."}, {"owner": {"user_type": "does_not_exist", "display_name": "user3600801"}, "edited": false, "score": 0, "creation_date": 1501550956, "post_id": 45023943, "comment_id": 77816458, "body": "can u please give me the link for doing so?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3600801"}, "edited": false, "score": 0, "creation_date": 1501551135, "post_id": 45023943, "comment_id": 77816504, "body": "by the way, try using this approach. it gives considerable performance boost <a href=\"http://www.pyimagesearch.com/2015/12/21/increasing-webcam-fps-with-python-and-opencv/\" rel=\"nofollow noreferrer\">pyimagesearch.com/2015/12/21/&hellip;</a>"}, {"owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "edited": false, "score": 0, "creation_date": 1501593315, "post_id": 45023943, "comment_id": 77838686, "body": "@HaraHaraMahadevaki I&#39;ve already stumbled into that blog.. I used it for my object detection instead. <a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/docs_src/tutorials/image_retraining.md#other-model-architectures\" rel=\"nofollow noreferrer\">Here&#39;s</a> the link to retrain on mobilenet.  Please <a href=\"https://meta.stackexchange.com/a/43020\">tag</a> me for me to see your response"}], "tags": [], "owner": {"reputation": 2808, "user_id": 5708323, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iN_dtRnmo9Y/AAAAAAAAAAI/AAAAAAAAABE/VlOtp_yX8RI/photo.jpg?sz=128", "display_name": "Pete Warden", "link": "https://stackoverflow.com/users/5708323/pete-warden"}, "is_accepted": false, "score": 1, "last_activity_date": 1499736523, "creation_date": 1499736523, "answer_id": 45023943, "question_id": 44685875, "link": "https://stackoverflow.com/questions/44685875/tensorflow-and-opencv-real-time-classification/45023943#45023943", "title": "Tensorflow and OpenCV real-time classification", "body": "<p>I recently added the option to train the smaller Mobilenet models using TensorFlow for Poets:\n<a href=\"https://github.com/tensorflow/tensorflow/blob/master/tensorflow/docs_src/tutorials/image_retraining.md#other-model-architectures\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/tensorflow/blob/master/tensorflow/docs_src/tutorials/image_retraining.md#other-model-architectures</a></p>\n\n<p>This may help speed up your classification, at the cost of some accuracy.</p>\n"}], "owner": {"reputation": 3667, "user_id": 4962554, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/qMkBt.png?s=128&g=1", "display_name": "eshirima", "link": "https://stackoverflow.com/users/4962554/eshirima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4590, "favorite_count": 3, "answer_count": 1, "score": 2, "last_activity_date": 1499736523, "creation_date": 1498077542, "last_edit_date": 1498579382, "question_id": 44685875, "link": "https://stackoverflow.com/questions/44685875/tensorflow-and-opencv-real-time-classification", "title": "Tensorflow and OpenCV real-time classification", "body": "<p>I am testing the machine learning waters and used <a href=\"https://codelabs.developers.google.com/codelabs/tensorflow-for-poets/#4\" rel=\"nofollow noreferrer\">TS inception</a> model to retrain the network to classify my desired objects.</p>\n\n<p>Initially, my predictions were run on locally stored images and I realized that it took anywhere between 2-5 seconds to unpersist the graph from a file and around the same time to run the actual predictions.</p>\n\n<p>Thereafter, I adapted my code to incorporate the camera feed from OpenCV but with the above noted times, video lags are inevitable.</p>\n\n<p>A time hit was expected during initial graph load; which is why <code>initialSetup()</code> is ran beforehand, but 2-5 seconds is just absurd.\nI feel like with my current application; real-time classification, this is not the best way of loading it. Is there another way of doing this? I know with mobile versions TS recommends trimming down the graph. Would slimming it down be the way to go here? In case it matters my graph is currently 87.4MB</p>\n\n<p>Along with this, is there a way of speeding up the prediction process?</p>\n\n<pre><code>import os\nimport cv2\nimport timeit\nimport numpy as np\nimport tensorflow as tf\n\ncamera = cv2.VideoCapture(0)\n\n# Loads label file, strips off carriage return\nlabel_lines = [line.rstrip() for line\n               in tf.gfile.GFile('retrained_labels.txt')]\n\ndef grabVideoFeed():\n    grabbed, frame = camera.read()\n    return frame if grabbed else None\n\ndef initialSetup():\n    os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\n    start_time = timeit.default_timer()\n\n    # This takes 2-5 seconds to run\n    # Unpersists graph from file\n    with tf.gfile.FastGFile('retrained_graph.pb', 'rb') as f:\n        graph_def = tf.GraphDef()\n        graph_def.ParseFromString(f.read())\n        tf.import_graph_def(graph_def, name='')\n\n    print 'Took {} seconds to unpersist the graph'.format(timeit.default_timer() - start_time)\n\ndef classify(image_data):\n    print '********* Session Start *********'\n\n    with tf.Session() as sess:\n        start_time = timeit.default_timer()\n\n        # Feed the image_data as input to the graph and get first prediction\n        softmax_tensor = sess.graph.get_tensor_by_name('final_result:0')\n\n        print 'Tensor', softmax_tensor\n\n        print 'Took {} seconds to feed data to graph'.format(timeit.default_timer() - start_time)\n\n        start_time = timeit.default_timer()\n\n        # This takes 2-5 seconds as well\n        predictions = sess.run(softmax_tensor, {'Mul:0': image_data})\n\n        print 'Took {} seconds to perform prediction'.format(timeit.default_timer() - start_time)\n\n        start_time = timeit.default_timer()\n\n        # Sort to show labels of first prediction in order of confidence\n        top_k = predictions[0].argsort()[-len(predictions[0]):][::-1]\n\n        print 'Took {} seconds to sort the predictions'.format(timeit.default_timer() - start_time)\n\n        for node_id in top_k:\n            human_string = label_lines[node_id]\n            score = predictions[0][node_id]\n            print('%s (score = %.5f)' % (human_string, score))\n\n        print '********* Session Ended *********'\n\ninitialSetup()\n\nwhile True:\n    frame = grabVideoFeed()\n\n    if frame is None:\n        raise SystemError('Issue grabbing the frame')\n\n    frame = cv2.resize(frame, (299, 299), interpolation=cv2.INTER_CUBIC)\n\n    # adhere to TS graph input structure\n    numpy_frame = np.asarray(frame)\n    numpy_frame = cv2.normalize(numpy_frame.astype('float'), None, -0.5, .5, cv2.NORM_MINMAX)\n    numpy_final = np.expand_dims(numpy_frame, axis=0)\n\n    classify(numpy_final)\n\n    cv2.imshow('Main', frame)\n\n    if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n        break\n\ncamera.release()\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><strong>EDIT 1</strong></p>\n\n<p>After debugging my code, I realized that session creation is a both resource and time consuming operation.</p>\n\n<p>In the prior code, a new session was created for each OpenCV feed on top of running the predictions.\nWrapping the OpenCV operations inside a single session provides a massive time improvement but this still adds a massive overhead on the initial run; prediction takes 2-3 seconds. Afterwards, the prediction takes around 0.5s which makes the camera feed still laggy.</p>\n\n<pre><code>import os\nimport cv2\nimport timeit\nimport numpy as np\nimport tensorflow as tf\n\ncamera = cv2.VideoCapture(0)\n\n# Loads label file, strips off carriage return\nlabel_lines = [line.rstrip() for line\n               in tf.gfile.GFile('retrained_labels.txt')]\n\ndef grabVideoFeed():\n    grabbed, frame = camera.read()\n    return frame if grabbed else None\n\ndef initialSetup():\n    os.environ['TF_CPP_MIN_LOG_LEVEL'] = '2'\n    start_time = timeit.default_timer()\n\n    # This takes 2-5 seconds to run\n    # Unpersists graph from file\n    with tf.gfile.FastGFile('retrained_graph.pb', 'rb') as f:\n        graph_def = tf.GraphDef()\n        graph_def.ParseFromString(f.read())\n        tf.import_graph_def(graph_def, name='')\n\n    print 'Took {} seconds to unpersist the graph'.format(timeit.default_timer() - start_time)\n\ninitialSetup()\n\nwith tf.Session() as sess:\n    start_time = timeit.default_timer()\n\n    # Feed the image_data as input to the graph and get first prediction\n    softmax_tensor = sess.graph.get_tensor_by_name('final_result:0')\n\n    print 'Took {} seconds to feed data to graph'.format(timeit.default_timer() - start_time)\n\n    while True:\n        frame = grabVideoFeed()\n\n        if frame is None:\n            raise SystemError('Issue grabbing the frame')\n\n        frame = cv2.resize(frame, (299, 299), interpolation=cv2.INTER_CUBIC)\n\n        cv2.imshow('Main', frame)\n\n        # adhere to TS graph input structure\n        numpy_frame = np.asarray(frame)\n        numpy_frame = cv2.normalize(numpy_frame.astype('float'), None, -0.5, .5, cv2.NORM_MINMAX)\n        numpy_final = np.expand_dims(numpy_frame, axis=0)\n\n        start_time = timeit.default_timer()\n\n        # This takes 2-5 seconds as well\n        predictions = sess.run(softmax_tensor, {'Mul:0': numpy_final})\n\n        print 'Took {} seconds to perform prediction'.format(timeit.default_timer() - start_time)\n\n        start_time = timeit.default_timer()\n\n        # Sort to show labels of first prediction in order of confidence\n        top_k = predictions[0].argsort()[-len(predictions[0]):][::-1]\n\n        print 'Took {} seconds to sort the predictions'.format(timeit.default_timer() - start_time)\n\n        for node_id in top_k:\n            human_string = label_lines[node_id]\n            score = predictions[0][node_id]\n            print('%s (score = %.5f)' % (human_string, score))\n\n        print '********* Session Ended *********'\n\n        if cv2.waitKey(1) &amp; 0xFF == ord('q'):\n            sess.close()\n            break\n\ncamera.release()\ncv2.destroyAllWindows()\n</code></pre>\n\n<p><strong>EDIT 2</strong></p>\n\n<p>After fiddling around, I stumbled into <a href=\"https://www.tensorflow.org/performance/quantization\" rel=\"nofollow noreferrer\">graph quantization</a> and <a href=\"https://github.com/tensorflow/tensorflow/tree/master/tensorflow/tools/graph_transforms\" rel=\"nofollow noreferrer\">graph transformation</a> and these were the attained results.</p>\n\n<p>Original Graph: 87.4MB</p>\n\n<p>Quantized Graph: 87.5MB</p>\n\n<p>Transformed Graph: 87.1MB</p>\n\n<p>Eight Bit Calculation: 22MB but ran into <a href=\"https://github.com/tensorflow/tensorflow/issues/10739\" rel=\"nofollow noreferrer\">this</a> upon use.</p>\n"}, {"tags": ["python", "function", "variables", "return-value"], "comments": [{"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1498077592, "post_id": 44685867, "comment_id": 76355796, "body": "Rewrite the function (to perform intended behavior, possibly using a parameter as a switch) and/or call a different function."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "reply_to_user": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1498078057, "post_id": 44685867, "comment_id": 76356043, "body": "I don&#39;t know why this is getting down voted into oblivion. I&#39;m new to Python and trying to learn. This is the best way I can learn. Excuse me for not being a blatant professional such as the rest of you."}, {"owner": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1498078428, "post_id": 44685867, "comment_id": 76356243, "body": "You have explicitly written lines of code to print stuff to the console but then ask how do you make stuff stop printing to the console?"}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1498078437, "post_id": 44685867, "comment_id": 76356251, "body": "The phrase &quot;This is the best way I can learn&quot; is dubious at best. An important rule of programming is: the code does what it was told. Anyway, there are <i>many</i> beginning resources available that will &quot;walk through&quot; building programs by showing the basic building blocks and logic; programming is simply repeatedly applying these building blocks in slightly different ways. Like making a cake."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 0, "creation_date": 1498078585, "post_id": 44685867, "comment_id": 76356333, "body": "@level42 See <a href=\"https://stackoverflow.com/tags/python/info\">stackoverflow.com/tags/python/info</a> and &quot;Free Python programming Books&quot;."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "reply_to_user": {"reputation": 2912, "user_id": 3081206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YaKOY.jpg?s=128&g=1", "display_name": "takendarkk", "link": "https://stackoverflow.com/users/3081206/takendarkk"}, "edited": false, "score": 0, "creation_date": 1498078718, "post_id": 44685867, "comment_id": 76356402, "body": "@csm_dev, I need the print for another purpose of my application. I&#39;m trying to understand how to get the best of both worlds here."}], "answers": [{"comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 3, "creation_date": 1498077699, "post_id": 44685895, "comment_id": 76355852, "body": "This seems like a bad way of handling things. Why introduce dead code? It seems that OP needs a more basic explanation of how functions work."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 0, "creation_date": 1498077713, "post_id": 44685895, "comment_id": 76355859, "body": "Ugh ... I&#39;ve been staring at Python all day, literally, and my brain is fried.I was under the impression that the return had to be at the end of the function, but I think this will work for me."}, {"owner": {"reputation": 323, "user_id": 5056980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88bd47b6e4e7cfb46326d72fb0790eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5056980/peter"}, "edited": false, "score": 1, "creation_date": 1498077794, "post_id": 44685895, "comment_id": 76355898, "body": "Unless there are conditions that make it so that the code would execute, commenting out the code would make sense. It all depends on the problem statement, but I&#39;ll edit to be more clear."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 2, "creation_date": 1498077799, "post_id": 44685895, "comment_id": 76355903, "body": "@level42 But adding a return at another point (non conditional) is just bad, because that means the rest of the function will never execute, and can thus just be deleted."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 0, "creation_date": 1498077801, "post_id": 44685895, "comment_id": 76355905, "body": "Hmm, I see you&#39;re point."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 1, "creation_date": 1498077895, "post_id": 44685895, "comment_id": 76355955, "body": "@level42 Then you need to refactor your code, and break out the common parts in one or more separate functions, calling just the part(s) you need at the different places."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 0, "creation_date": 1498077968, "post_id": 44685895, "comment_id": 76355999, "body": "So, I would have a function called <code>GetNumber</code>, and another called <code>GettingNumber</code> (for example) that does the print stuff with that number, and a third function called <code>UseNumber</code>"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 1, "creation_date": 1498078050, "post_id": 44685895, "comment_id": 76356040, "body": "@level42 That might be one way to handle it. It of course depends on the length of your functions et cetera."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "edited": false, "score": 0, "creation_date": 1498078115, "post_id": 44685895, "comment_id": 76356081, "body": "Would there be a better way to handle this? I have functions that generate results, and I would like them to be accessible in a number of other functions."}, {"owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1498078142, "post_id": 44685895, "comment_id": 76356101, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/147309/discussion-between-level42-and-johanl\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 323, "user_id": 5056980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88bd47b6e4e7cfb46326d72fb0790eb1?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5056980/peter"}, "is_accepted": false, "score": 3, "last_activity_date": 1498078045, "last_edit_date": 1498078045, "creation_date": 1498077619, "answer_id": 44685895, "question_id": 44685867, "link": "https://stackoverflow.com/questions/44685867/trying-to-use-a-returned-value-without-the-other-parts-of-a-function/44685895#44685895", "title": "Trying to use a returned value without the other parts of a function", "body": "<p>Normally, you would want to have some branch control to specify what parts of the function you would want to execute so you don't write dead code. But for the purpose of purely answering your question, the return value will break the function's execution. Example below:</p>\n\n<pre><code>def GetNumber():\n    Number = 45\n    return Number\n    print(\"Getting Number\")\n    print(\"Found Number = \" + str(Number))\n</code></pre>\n\n<p>This would only return 45. However, this is not the best way to write this method, since those print statements never get executed. I would suggest writing a new method, deleting code you don't need, or introducing some branch conditions (<code>if</code> <code>else</code>). Sorry for my first obscure answer.</p>\n"}, {"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1498078886, "last_edit_date": 1498078886, "creation_date": 1498078216, "answer_id": 44686028, "question_id": 44685867, "link": "https://stackoverflow.com/questions/44685867/trying-to-use-a-returned-value-without-the-other-parts-of-a-function/44686028#44686028", "title": "Trying to use a returned value without the other parts of a function", "body": "<p>What you are asking for cannot be done this way. One way to handle this is to refactor the code, to break out the parts that are used in different parts in separate functions and then just call the parts needed, where needed. In this toy example this could be achieved as:</p>\n\n<pre><code>def get_number():\n    number = 45\n    return number\n\ndef print_number(number):\n    print(number)\n\nnumber1 = get_number()\nprint_number(number1)\n\nnumber2 = get_number()\nprint(\"my number is: {}\\n\".format(number2))\n</code></pre>\n\n<p>This gives your better separation between your logic and your ui.</p>\n"}, {"tags": [], "owner": {"reputation": 8273, "user_id": 1334695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/431ae6e9f7610b9d6a6a6cdebd0244d5?s=128&d=identicon&r=PG", "display_name": "stevieb", "link": "https://stackoverflow.com/users/1334695/stevieb"}, "is_accepted": false, "score": 5, "last_activity_date": 1498078330, "creation_date": 1498078330, "answer_id": 44686060, "question_id": 44685867, "link": "https://stackoverflow.com/questions/44685867/trying-to-use-a-returned-value-without-the-other-parts-of-a-function/44686060#44686060", "title": "Trying to use a returned value without the other parts of a function", "body": "<p>You can add in a function parameter that allows you to print out within the function or not:</p>\n\n<pre><code>def GetNumber(print_num=False):\n    number = 45\n\n    if print_num:\n        print(number)\n\n    return number\n\nGetNumber(True)\n\nnum = GetNumber()\n\nprint(\"my num is: {}\\n\".format(num));\n</code></pre>\n\n<p><code>GetNumber(True)</code> will print out the number from within the function, whereas <code>GetNumber()</code> will simply return the number without printing it. Note that in my example above, it returns the number regardless of how <code>print_num</code> is set. You can use it, or simply ignore it.</p>\n\n<p>We set <code>print_num=False</code>. That means that if the parameter isn't sent in, we set a default value of <code>False</code> to it.</p>\n"}], "owner": {"reputation": 832, "user_id": 655947, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/29f3099fd1a16252881ef1246f3dbe84?s=128&d=identicon&r=PG", "display_name": "level42", "link": "https://stackoverflow.com/users/655947/level42"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "closed_date": 1498078668, "accepted_answer_id": 44686028, "answer_count": 3, "score": -6, "last_activity_date": 1498078886, "creation_date": 1498077503, "last_edit_date": 1592644375, "question_id": 44685867, "link": "https://stackoverflow.com/questions/44685867/trying-to-use-a-returned-value-without-the-other-parts-of-a-function", "closed_reason": "Needs details or clarity", "title": "Trying to use a returned value without the other parts of a function", "body": "<p>I have a very simply function that returns a value.</p>\n<pre><code>def GetNumber():\n    Number = 45\n    print(&quot;Getting Number&quot;)\n    print(&quot;Found Number = &quot; + str(Number))\n    return Number\n\ndef UseNumber(current):\n    print(&quot;The current number is: &quot; + str(current))\n\nUseNumber(GetNumber())\n</code></pre>\n<p>However, my output is the following:</p>\n<blockquote>\n<p>Getting Number</p>\n<p>Found Number = 45</p>\n<p>The current number is: 45</p>\n</blockquote>\n<p>I use the print outs from the <code>def GetNumber</code> in another part of my application, so I need to keep them there, but I would like to extract the value from GetNumber without having to rerun the whole GetNumber function each time.</p>\n<p>How can I use a returned value without having it actually run the whole function and print out?</p>\n<p>Ideally, I would like my output to simply be:</p>\n<blockquote>\n<p>The current number is: 45</p>\n</blockquote>\n<p>Is this at all possible?</p>\n"}, {"tags": ["python", "windows", "extract", "zipfile", "rar"], "comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1498078190, "post_id": 44685818, "comment_id": 76356125, "body": "It&#39;s not a security permission issue. <code>UNRAR_TOOL</code> should be the executable name (optionally the full path) of an unrar program. <code>subprocess.Popen</code> is failing because you&#39;re trying to execute the &quot;Python36-32&quot; directory."}, {"owner": {"reputation": 103, "user_id": 4264755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82e5aef73642c3f6bd30e44b7011dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4264755/john"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1498078662, "post_id": 44685818, "comment_id": 76356371, "body": "I&#39;m an idiot! Thanks much!"}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1498079995, "post_id": 44685818, "comment_id": 76356978, "body": "The Windows API has some rather useless error code mappings. Internally in the NT API the error in this case is <code>STATUS_FILE_IS_A_DIRECTORY</code> (0xC00000BA), which could not be more obvious, but it gets mapped to <code>ERROR_ACCESS_DENIED</code> (0x0005) by Windows, which misleads you into thinking it&#39;s a problem with file or object permissions."}, {"owner": {"reputation": 7493, "user_id": 654160, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb462c58d30b8e845408a8ceeeb204b2?s=128&d=identicon&r=PG", "display_name": "Gfy", "link": "https://stackoverflow.com/users/654160/gfy"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1498164871, "post_id": 44685818, "comment_id": 76401324, "body": "@eryksun add all that info into an answer."}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 4264755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82e5aef73642c3f6bd30e44b7011dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4264755/john"}, "is_accepted": false, "score": 2, "last_activity_date": 1498170472, "creation_date": 1498170472, "answer_id": 44710276, "question_id": 44685818, "link": "https://stackoverflow.com/questions/44685818/rarfile-winerror-5-access-denied/44710276#44710276", "title": "RarFile / [WinError 5]: Access Denied", "body": "<h2>Refer to: Eryksun's comment</h2>\n\n<p>It's not a security permission issue. UNRAR_TOOL should be the executable name (optionally the full path) of an unrar program. subprocess.Popen is failing because you're trying to execute the \"Python36-32\" directory. \u2013 eryksun yesterday</p>\n\n<p>The Windows API has some rather useless error code mappings. Internally in the NT API the error in this case is STATUS_FILE_IS_A_DIRECTORY (0xC00000BA), which could not be more obvious, but it gets mapped to ERROR_ACCESS_DENIED (0x0005) by Windows, which misleads you into thinking it's a problem with file or object permissions. \u2013 eryksun yesterday</p>\n"}], "owner": {"reputation": 103, "user_id": 4264755, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/82e5aef73642c3f6bd30e44b7011dc1f?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/4264755/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1593519360, "creation_date": 1498077316, "question_id": 44685818, "link": "https://stackoverflow.com/questions/44685818/rarfile-winerror-5-access-denied", "title": "RarFile / [WinError 5]: Access Denied", "body": "<p>I'm trying to write a script that will automatically extract the files from a rar or zip folder and put them somewhere, so as to make file organization faster. Included are the relevant sections of code:</p>\n\n<pre><code>import shutil\nimport os\nimport eyed3\nimport glob\nimport zipfile\nimport rarfile\nimport unrar\nimport patoolib\n\n## create zipfile object of the downloaded album and get a tracklist\n\nrarfile.UNRAR_TOOL=r'C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32'\n\ndownloads = glob.glob(\"C:\\\\Users\\\\John\\\\Downloads\\\\*\")\nmusic_zip = max(downloads, key=os.path.getctime)\nif os.path.splitext(music_zip)[-1] == '.zip':\n    music_folder = zipfile.ZipFile(music_zip)\nelif os.path.splitext(music_zip)[-1] == '.rar':\n    music_folder = rarfile.RarFile(music_zip)\n\nprint(music_zip)\nprint(music_folder)\ntemporary_album_folder = 'C:\\\\Users\\\\John\\\\Downloads\\\\temporary_album_folder'\nif not os.path.exists(temporary_album_folder):\n    os.makedirs(temporary_album_folder)\n\n# patoolib.extract_archive(music_zip, outdir=temporary_album_folder)\n# temp_list = os.listdir(temporary_album_folder)\n# tag = eyeD3.load(temp_list[0])\n# artist = tag.getArtist()\n# album = tag.getAlbum()\n\n# print(os.getcwd())\n\nos.chdir(temporary_album_folder)\nmusic_folder.extractall()\nmusic_folder.close()\nprint(temporary_album_folder)\n</code></pre>\n\n<p>When I run this, I expect it to successfully extract the contents of the RAR into a temporary folder in \\Downloads. Instead, the error message that I get when I try to run this in the console is: </p>\n\n<pre><code>C:\\Users\\John\\Documents\\PythonScripts&gt;music_organizer.py\nC:\\Users\\John\\Downloads\\d1ctus t3 n3c4r3(5).rar\n&lt;rarfile.RarFile object at 0x02C16350&gt;\nTraceback (most recent call last):\n  File \"C:\\Users\\John\\Documents\\PythonScripts\\music_organizer.py\", line 40, in &lt;\nmodule&gt;\n    music_folder.extractall()\n  File \"C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-package\ns\\rarfile.py\", line 820, in extractall\n    self._extract(fnlist, path, pwd)\n  File \"C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-package\ns\\rarfile.py\", line 885, in _extract\n    p = custom_popen(cmd)\n  File \"C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\site-package\ns\\rarfile.py\", line 2813, in custom_popen\n    creationflags=creationflags)\n  File \"C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\subprocess.p\ny\", line 707, in __init__\n    restore_signals, start_new_session)\n  File \"C:\\Users\\John\\AppData\\Local\\Programs\\Python\\Python36-32\\lib\\subprocess.p\ny\", line 990, in _execute_child\n    startupinfo)\nPermissionError: [WinError 5] Access is denied\n</code></pre>\n\n<p>I know a lot of other people have asked similar questions about WinError 5 and Python, so to address possible common suggestions in advance: I am running the terminal in admin mode, have turned off UAC, have unblocked the folder in question, and have opened full permissions to the folder and sub-folders in question. Does anyone know why this is happening and possible get arounds? Any help much appreciated.</p>\n"}, {"tags": ["python", "list", "sorting"], "comments": [{"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1498143272, "post_id": 44685760, "comment_id": 76388629, "body": "Not sure why my comment was deleted, this is certainly relevant: <a href=\"https://stackoverflow.com/questions/40737145/sort-a-sublist-of-elements-in-a-list-leaving-the-rest-in-place\" title=\"sort a sublist of elements in a list leaving the rest in place\">stackoverflow.com/questions/40737145/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1498077582, "post_id": 44685839, "comment_id": 76355795, "body": "I actually upvoted this solution. But I know of down voters who cast votes based solely on the fact that your solution is O(n^2) and doubles the memory footprint of the original array."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498077609, "post_id": 44685839, "comment_id": 76355803, "body": "@MosesKoledoye I seen an analog Q&amp;A, with odd &amp; even numbers. Is that the same one?"}, {"owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498077679, "post_id": 44685839, "comment_id": 76355844, "body": "@Jean-Fran&#231;oisFabre Yes, that one."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1498077721, "post_id": 44685839, "comment_id": 76355862, "body": "@MatthewCole Why is this not O(nlog n)?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 4, "creation_date": 1498077819, "post_id": 44685839, "comment_id": 76355915, "body": "The only way this could get more beautiful is if there existed a lazy sorting algorithm."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 2, "creation_date": 1498077878, "post_id": 44685839, "comment_id": 76355947, "body": "@MosesKoledoye could be slightly faster by forcing the list comprehension in <code>sort</code>: <code>gen = iter(sorted([x for x in l if isinstance(x,str)]))</code> since it needs to build it anyway. (BTW we spend way too much time on this site)"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1498077899, "post_id": 44685839, "comment_id": 76355961, "body": "@MatthewCole how do you figure this is O(n^2)?"}, {"owner": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "reply_to_user": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1498078091, "post_id": 44685839, "comment_id": 76356064, "body": "@JaredGoguen on second thought I think you&#39;re right. When I first saw the iterator wrapped around the sort function call, I thought O(n^2). But <code>sorted()</code> shouldn&#39;t need to be called each time the <code>next()</code> function is called."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1498078186, "post_id": 44685839, "comment_id": 76356122, "body": "@MatthewCole right. <code>gen</code> is an iterator over a sorted list."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498078360, "post_id": 44685839, "comment_id": 76356207, "body": "If you were really worried about auxiliary space, you could modify the original list in-place using <code>l[:] = (next(gen) if isinstance(x, str) else x for x in lst)</code>, which would then only require a list of <code>len</code> M where M is the number of integers in your original list."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 514, "user_id": 5537617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PNgza.jpg?s=128&g=1", "display_name": "Matthew Cole", "link": "https://stackoverflow.com/users/5537617/matthew-cole"}, "edited": false, "score": 0, "creation_date": 1498115534, "post_id": 44685839, "comment_id": 76368263, "body": "@MatthewCole wrong: <code>sorted</code> returns a <code>list</code>. Sorting is done only once. iteration only comes on the completed list, just to provide an element at a time and be able to use the ternary &amp; the listcomp (that&#39;s the JonClements nice touch Moses was talking about)"}], "tags": [], "owner": {"reputation": 71409, "user_id": 3125566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QcWOt.jpg?s=128&g=1", "display_name": "Moses Koledoye", "link": "https://stackoverflow.com/users/3125566/moses-koledoye"}, "is_accepted": true, "score": 15, "last_activity_date": 1498122795, "last_edit_date": 1498122795, "creation_date": 1498077412, "answer_id": 44685839, "question_id": 44685760, "link": "https://stackoverflow.com/questions/44685760/how-to-sort-a-list-only-sorting-strings/44685839#44685839", "title": "How to sort a list, only sorting strings?", "body": "<p>Picked up this cool trick from @JonClements the other day.</p>\n\n<p>Here goes:</p>\n\n<pre><code>gen = iter(sorted([x for x in lst if isinstance(x, str)]))\nnew_lst =  [next(gen) if isinstance(x, str) else x for x in lst]\nprint(new_lst)\n# ['Foo', 1, 2, 'Hello', 6, 'World', 3]\n</code></pre>\n\n<p>Sort the strings separately and create a generator expression from the sorted strings. In a <em>list comprehension</em>, pick objects alternately from the gen. exp. using a ternary conditional if only the items in the original position is a string, otherwise, pick an item (an integer) from the initial list.</p>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 8, "last_activity_date": 1498077828, "last_edit_date": 1498077828, "creation_date": 1498077475, "answer_id": 44685857, "question_id": 44685760, "link": "https://stackoverflow.com/questions/44685760/how-to-sort-a-list-only-sorting-strings/44685857#44685857", "title": "How to sort a list, only sorting strings?", "body": "<p>First, sorting of an heterogenous list like this only works in Python 2. But the result is not what you need.</p>\n\n<p>I would create a iterator on the sorted version of the filtered list (keeping only string) and rebuild the list with either an item of this iterator or the original list depending on the element type:</p>\n\n<pre><code>l = [\"Hello\", 1, 2, \"World\", 6, \"Foo\", 3]\n\nsgen = iter(sorted([x for x in l if isinstance(x,str)]))\n\nresult = [next(sgen) if isinstance(x,str) else x for x in l]\n\nprint(result)\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>['Foo', 1, 2, 'Hello', 6, 'World', 3]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6398, "user_id": 4284627, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/2e017633cda5465e6683c74992cdec5e?s=128&d=identicon&r=PG", "display_name": "Donald Duck", "link": "https://stackoverflow.com/users/4284627/donald-duck"}, "edited": false, "score": 0, "creation_date": 1498090915, "post_id": 44685876, "comment_id": 76360295, "body": "While this code may answer the question, providing additional context regarding why and/or how this code answers the question improves its long-term value."}], "tags": [], "owner": {"reputation": 2999, "user_id": 8071126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550f1700622fccf1b6980580222c8d80?s=128&d=identicon&r=PG", "display_name": "glegoux", "link": "https://stackoverflow.com/users/8071126/glegoux"}, "is_accepted": false, "score": 0, "last_activity_date": 1498091281, "last_edit_date": 1498091281, "creation_date": 1498077542, "answer_id": 44685876, "question_id": 44685760, "link": "https://stackoverflow.com/questions/44685760/how-to-sort-a-list-only-sorting-strings/44685876#44685876", "title": "How to sort a list, only sorting strings?", "body": "<p>First you sort the array only with string in extracting it, then you replace the strings step by step in the original array : </p>\n\n<pre><code>l = [\"Foo\", 1, 2, \"Hello\", 6, \"World\", 3]\n\ns = [x for x in l if type(x) == str]\ns.sort()\n\nj = 0\nfor i, x in enumerate(l):\n    if type(x) == str:\n       l[i] = s[j]\n       j += 1\n</code></pre>\n"}], "owner": {"reputation": 698, "user_id": 7742131, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/7mQxh.jpg?s=128&g=1", "display_name": "caird coinheringaahing", "link": "https://stackoverflow.com/users/7742131/caird-coinheringaahing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 2, "accepted_answer_id": 44685839, "answer_count": 3, "score": 5, "last_activity_date": 1526426745, "creation_date": 1498077071, "last_edit_date": 1498114564, "question_id": 44685760, "link": "https://stackoverflow.com/questions/44685760/how-to-sort-a-list-only-sorting-strings", "title": "How to sort a list, only sorting strings?", "body": "<p>I have a list of strings and integers and want to sort the list, preserving the numbers like so</p>\n\n<pre><code>[\"Hello\", 1, 2, \"World\", 6, \"Foo\", 3]\n</code></pre>\n\n<p>would become</p>\n\n<pre><code>[\"Foo\", 1, 2, \"Hello\", 6, \"World\", 3]\n</code></pre>\n\n<p>In short, it only sorts the strings in the list, not the integers, which stay in place. I've tried using the <code>key</code> parameter with <code>list.sort()</code> but haven't managed to achieve what I want.</p>\n\n<p>Can anyone help me with this?</p>\n\n<p>EDIT: this is different to the linked question as I want to preserve the integers' indexes, rather than sort them along with the strings.</p>\n\n<p>EDIT: this is different to the second linked question as answers from that question can solve the problem using the <code>key</code> parameter, something I have explicitly stated does not work in this instance.</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 56440, "user_id": 2285236, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ac8c2e0f71dbd8cf4543039bebf2ab3?s=128&d=identicon&r=PG&f=1", "display_name": "ayhan", "link": "https://stackoverflow.com/users/2285236/ayhan"}, "is_accepted": true, "score": 3, "last_activity_date": 1498077042, "creation_date": 1498077042, "answer_id": 44685748, "question_id": 44685667, "link": "https://stackoverflow.com/questions/44685667/shopping-basket-analysis-in-python-with-pandas/44685748#44685748", "title": "shopping basket analysis in python with pandas", "body": "<p>Use the dot product with its transpose:</p>\n\n<pre><code>df.T.dot(df)\nOut: \n   A  B  C  D  E  F\nA  2  1  1  1  0  0\nB  1  1  0  0  0  0\nC  1  0  1  1  0  0\nD  1  0  1  1  0  0\nE  0  0  0  0  0  0\nF  0  0  0  0  0  0\n</code></pre>\n\n<p>Note that looking for pairwise occurrences is not scalable though. You might want to look at <a href=\"https://en.wikipedia.org/wiki/Apriori_algorithm\" rel=\"nofollow noreferrer\">apriori algorithm</a>. </p>\n"}], "owner": {"reputation": 3032, "user_id": 6341510, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/28d1da138966966ff82959171f915dd3?s=128&d=identicon&r=PG&f=1", "display_name": "AaronDT", "link": "https://stackoverflow.com/users/6341510/aarondt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 415, "favorite_count": 0, "accepted_answer_id": 44685748, "answer_count": 1, "score": 0, "last_activity_date": 1498077042, "creation_date": 1498076764, "question_id": 44685667, "link": "https://stackoverflow.com/questions/44685667/shopping-basket-analysis-in-python-with-pandas", "title": "shopping basket analysis in python with pandas", "body": "<p>I have a dataframe containing transaction data. Each row represents one transaction and the columns indicate whether a product has been bought from a category (categories are A-F) or not (one =  yes, zero = no). Now I would like to compute the pairs of transactions within each category. My dataframe looks as follows: </p>\n\n<pre><code>A  B  C  D  E  F  \n1  1  0  0  0  0   \n1  0  1  1  0  0 \n</code></pre>\n\n<p>The output should be a matrix counting each pairs of the categories in the dataframe like so: </p>\n\n<pre><code>  A B C D E F\nA 4 2 1 0 4 2\nB 5 6 7 3 5 1\nC 1 6 5 8 7 9\nD ...\nE ...\nF ...\n</code></pre>\n\n<p>Anyone knows a solution on how to solve this?</p>\n\n<p>Thank you very much!</p>\n"}, {"tags": ["python", "environment"], "comments": [{"owner": {"reputation": 18194, "user_id": 1513933, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/0ozBK.jpg?s=128&g=1", "display_name": "Laurent LAPORTE", "link": "https://stackoverflow.com/users/1513933/laurent-laporte"}, "edited": false, "score": 0, "creation_date": 1498079187, "post_id": 44685637, "comment_id": 76356611, "body": "Have you installed the python-devel package ?"}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1498080469, "post_id": 44685637, "comment_id": 76357162, "body": "Please see <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow noreferrer\">Virtualenv</a> documentation which includes many details including <a href=\"https://virtualenv.pypa.io/en/stable/installation/\" rel=\"nofollow noreferrer\">installation</a>."}], "owner": {"reputation": 3, "user_id": 8045564, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-218GzRErkiY/AAAAAAAAAAI/AAAAAAAAAFg/wABdE_yc360/photo.jpg?sz=128", "display_name": "Charles Verleyen", "link": "https://stackoverflow.com/users/8045564/charles-verleyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 595, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498076970, "creation_date": 1498076640, "last_edit_date": 1498076970, "question_id": 44685637, "link": "https://stackoverflow.com/questions/44685637/python-virtual-environment-cannot-open-shared-file", "title": "Python Virtual Environment - cannot open shared file", "body": "<p>I have just started learning python and I am having issues to create a virtual environment. With virtualenv, I am getting the following error:</p>\n\n<pre><code>New python executable in /home/charles/Desktop/test/test/bin/python\n/home/charles/Desktop/test/test/bin/python: error while loading shared libraries: libpython3.6m.so.1.0: cannot open shared object file: No such file or directory\nERROR: The executable /home/charles/Desktop/test/test/bin/python is not functioning\nERROR: It thinks sys.prefix is '/home/charles/Desktop/test' (should be '/home/charles/Desktop/test/test')\nERROR: virtualenv is not compatible with this system or executable\n</code></pre>\n\n<p>With \"venv\" and I got the following error:</p>\n\n<pre><code>Error: Command '['/home/charles/Toto/bin/python3', '-Im', 'ensurepip', '--upgrade', '--default-pip']' returned non-zero exit status 1.\n</code></pre>\n\n<p>I am using python 3.6.1 and the zsh shell with Ubuntu 17.04 64-bit (gnome).</p>\n"}, {"tags": ["python", "azure", "azure-cosmosdb"], "answers": [{"comments": [{"owner": {"reputation": 277, "user_id": 8083096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d56d9d6131868371bc1576a49a0df7?s=128&d=identicon&r=PG&f=1", "display_name": "Rony Azrak", "link": "https://stackoverflow.com/users/8083096/rony-azrak"}, "edited": false, "score": 0, "creation_date": 1498578178, "post_id": 44716557, "comment_id": 76549829, "body": "It works. Thanks! What is the max item count for? I did not include that because it might be something i don&#39;t want."}], "tags": [], "owner": {"reputation": 20467, "user_id": 4989676, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jP8H6.jpg?s=128&g=1", "display_name": "Peter Pan", "link": "https://stackoverflow.com/users/4989676/peter-pan"}, "is_accepted": true, "score": 0, "last_activity_date": 1498206244, "creation_date": 1498206244, "answer_id": 44716557, "question_id": 44685592, "link": "https://stackoverflow.com/questions/44685592/azures-cosmosdb-use-query-explorer-in-python-program/44716557#44716557", "title": "Azure&#39;s CosmosDB - Use query explorer in python program", "body": "<p>If your query have run successfully in the Query Explorer on Azure portal, you just use the <a href=\"http://azure.github.io/azure-documentdb-python/api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryDocuments\" rel=\"nofollow noreferrer\"><code>client.QueryDocuments(collection_link, query)</code></a> method to do your query, as the code below from <a href=\"https://docs.microsoft.com/en-us/azure/cosmos-db/create-documentdb-python#review-the-code\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>A query is performed using SQL</p>\n\n<pre><code># Query them in SQL\nquery = { 'query': 'SELECT * FROM server s' }    \n\noptions = {} \noptions['enableCrossPartitionQuery'] = True\noptions['maxItemCount'] = 2\n\nresult_iterable = client.QueryDocuments(collection['_self'], query, options)\nresults = list(result_iterable);\n\nprint(results)\n</code></pre>\n</blockquote>\n\n<p>Hope it helps. Any concern, please feel free to let me know.</p>\n"}], "owner": {"reputation": 277, "user_id": 8083096, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13d56d9d6131868371bc1576a49a0df7?s=128&d=identicon&r=PG&f=1", "display_name": "Rony Azrak", "link": "https://stackoverflow.com/users/8083096/rony-azrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 332, "favorite_count": 0, "accepted_answer_id": 44716557, "answer_count": 1, "score": 0, "last_activity_date": 1498206244, "creation_date": 1498076464, "last_edit_date": 1498183095, "question_id": 44685592, "link": "https://stackoverflow.com/questions/44685592/azures-cosmosdb-use-query-explorer-in-python-program", "title": "Azure&#39;s CosmosDB - Use query explorer in python program", "body": "<p>I have a bunch of JSON files stored in Azure's CosmosDB database. I also have a python program that reads the JSON files. I want to run a query on the Azure's query explorer from python</p>\n\n<pre><code>    SELECT VALUE Block \n      FROM c \n      JOIN Block IN c.radar50p01\n</code></pre>\n\n<p>So far what I have in my python program is the following</p>\n\n<pre><code>    def getCosmosDBClient():\n        # Initialize the Python DocumentDB client\n        client = document_client.DocumentClient(Constants.URL, {'masterKey': Constants.KEY})\n        return client\n\n    def getCosmosDBColl_link():\n        client = getCosmosDBClient()\n\n        db_id = Constants.RADAR_DATABASE_NAME\n        db_query = \"select * from r where r.id = '{0}'\".format(db_id)\n        db = list(client.QueryDatabases(db_query))[0]\n        db_link = db['_self']\n\n        coll_id = Constants.RADAR_COLL_NAME\n        coll_query = \"select * from r where r.id = '{0}'\".format(coll_id)\n        coll = list(client.QueryCollections(db_link, coll_query))\n        if coll:\n            coll = coll[0]\n        else:\n            raise ValueError(\"Collection not found in database.\")\n        coll_link = coll['_self']\n\n        docs = client.ReadDocuments(coll_link)\n        return docs\n</code></pre>\n\n<p>So is there a way  to use the Query above in python so I just get what I need specifically?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "xlrd", "xlsxwriter"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498076825, "post_id": 44685567, "comment_id": 76355448, "body": "can you post a traceback of the error you&#39;re getting? (I&#39;ve answered, but I&#39;m not sure it&#39;s the only problem you&#39;ve got)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498079658, "post_id": 44685567, "comment_id": 76356834, "body": "<code>File &quot;&#47;home&#47;nmenard&#47;Documents&#47;Haircuttery&#47;FileSplit.py&quot;, line 62, in &lt;module&gt;</code> <code>with open(totalName,&#39;rb&#39;) as f:</code> <code>IOError: [Errno 2] No such file or directory: &#39;OyVey_2.xlsx&#39;</code>  Is this right?"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1498079987, "post_id": 44685567, "comment_id": 76356975, "body": "@GarnetSunset what if you use the full path, such as <code>&#47;my&#47;file&#47;OyVey_2.xlsx</code>. Are you sure that file is there and exists (with the _2 extension??)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "reply_to_user": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1498080106, "post_id": 44685567, "comment_id": 76357013, "body": "@David542 The issue seems to be that xlsxwriter doesn&#39;t CREATE the file. Not that it can&#39;t be found."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "edited": false, "score": 0, "creation_date": 1498079266, "post_id": 44685651, "comment_id": 76356651, "body": "Very nice addition, thank you, but, for some reason this still didn&#39;t work."}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1498076711, "creation_date": 1498076711, "answer_id": 44685651, "question_id": 44685567, "link": "https://stackoverflow.com/questions/44685567/xlsxwriter-refuses-to-create-a-second-excel-file/44685651#44685651", "title": "XLSXWriter refuses to create a second Excel File", "body": "<p>that line is probably the reason why you cannot read back your file and your script crashes:</p>\n\n<pre><code>fname = join(dirname(abspath('__file__')), '%s' % fileName)\n</code></pre>\n\n<p><code>'__file__'</code> shouldn't have quotes. I'd do:</p>\n\n<pre><code>fname = join(dirname(abspath(__file__)), fileName)\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "edited": false, "score": 0, "creation_date": 1498079432, "post_id": 44685803, "comment_id": 76356728, "body": "I moved it back, and I&#39;m STILL seeing the same error. Let me edit my code in the main to add your fix."}], "tags": [], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "is_accepted": false, "score": 2, "last_activity_date": 1498077278, "creation_date": 1498077278, "answer_id": 44685803, "question_id": 44685567, "link": "https://stackoverflow.com/questions/44685567/xlsxwriter-refuses-to-create-a-second-excel-file/44685803#44685803", "title": "XLSXWriter refuses to create a second Excel File", "body": "<p>Doesn't the <code>save/close</code> line need to be within the while loop? Otherwise it looks like it will only save either the first/last item:</p>\n\n<pre><code>while(thousands != subDivide + 1):\n    # write file\n    excelFile.close() \n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4404219"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 423, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1498509972, "creation_date": 1498076374, "last_edit_date": 1498509972, "question_id": 44685567, "link": "https://stackoverflow.com/questions/44685567/xlsxwriter-refuses-to-create-a-second-excel-file", "title": "XLSXWriter refuses to create a second Excel File", "body": "<p>I'm working on a program to split excel files into sections of 1000. I can't seem to get it to create a second excel file, as xlsxwriter doesn't create the second file.</p>\n\n<pre><code>from os.path import join, dirname, abspath\nfrom xlrd.sheet import ctype_text\nimport csv\nimport os\nimport sys\nimport xlrd\nimport xlsxwriter\nimport xlwt\n\nfile_paths = sys.argv[1:]\ndraganddrop = ''.join(file_paths)\nbeginGrab = 0\ncounting = 0\nendGrab = 1000    \nthousands = 0\n\nif draganddrop == \"\":\n    fileName = raw_input(\"\\nInput the file with extension\\n&gt;\")      \nelse:\n    fileName = draganddrop\n\nstopPoint = fileName.index('.')\nprepRev = fileName[stopPoint:]\npreName = fileName[:stopPoint]\n\nif prepRev == \".csv\":\n    excelFile = xlsxwriter.Workbook(preName + '.xlsx')\n    worksheet = excelFile.add_worksheet()\n    with open(fileName,'rb') as f:\n        content = csv.reader(f)\n        for index_col, data_in_col in enumerate(content):\n            for index_row, data_in_cell in enumerate(data_in_col):\n                worksheet.write(index_col,index_row,data_in_cell)\n    excelFile.close()\n    fileName = (preName + '.xlsx')\n    delMe = 1\n    print(\"Temporary Convert to xlsx done.\\n\")\n\nstopPoint = fileName.index('.')\nprepRev = fileName[0:stopPoint]   \nfname = join(dirname(abspath(__file__)), fileName)\nxl_workbook = xlrd.open_workbook(fname)\nsheet_names = xl_workbook.sheet_names()\nxl_sheet = xl_workbook.sheet_by_name(sheet_names[0])\nbook = xlwt.Workbook(encoding=\"utf-8\")\nworksheet = book.add_sheet(\"Results\", cell_overwrite_ok=True)\n\nworkbook = xlrd.open_workbook(fileName)\nfor sheet in workbook.sheets():\n    for row in range(sheet.nrows):\n        row = int(row)\n\nif(int(row)&gt;1000):\n    subDivide = int(row) / 1000\n    while(thousands != subDivide + 1):\n        thousands = thousands + 1  \n        counting = 0\n        totalName = preName + \"_\" + str(thousands) + \".xlsx\"\n        print(totalName)\n        excelFile = xlsxwriter.Workbook(str(totalName))\n        worksheet = excelFile.add_worksheet()\n        with open(totalName,'rb') as f:\n            col = xl_sheet.col_slice(0,1,10101010)\n            for idx, cell_obj in enumerate(col, start=beginGrab):\n                counting = counting + 1\n                if(counting == 1000):\n                    break                   \n                cell_type_str = ctype_text.get(cell_obj.ctype, 'unknown type')  \n                cell_obj_str = str(cell_obj)\n                telePhone = (cell_obj_str[7:19])\n                worksheet.write(idx+1, 0, \"1\" + telePhone)          \n        worksheet.write(0,0, \"Telephone Number\")\n        beginGrab = thousands * 1000\n        endGrab = beginGrab + 1000\n        excelFile.close()\n        excelFile = None\n\nelse:\n    print(\"Mate, this is Tiny!\")\nprint (\"Ding! Job Done!\")\n</code></pre>\n\n<p>I've been rubber ducking this and I can't find where I'm at fault.</p>\n\n<p>EDIT:</p>\n\n<p>SOLVED!!</p>\n\n<p>By creating a sheet and then closing it, the program can then grasp it. I will probably make a git issue about this.</p>\n\n<pre><code>if prepRev == \".csv\":\n    totalName = preName + '.xlsx'\n    excelFile = xlsxwriter.Workbook(totalName)\n    excelFile.close()\n</code></pre>\n\n<p>Closing it lets open see it while it still contains the same info.</p>\n\n<pre><code>    excelFile = xlsxwriter.Workbook(totalName)\n    worksheet = excelFile.add_worksheet()\n    with open(fileName,'rb') as f:\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "comments": [{"owner": {"reputation": 1352, "user_id": 8166632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/528b2025d2b58382c8342914ae2bdab8?s=128&d=identicon&r=PG&f=1", "display_name": "jack6e", "link": "https://stackoverflow.com/users/8166632/jack6e"}, "edited": false, "score": 0, "creation_date": 1498076630, "post_id": 44685522, "comment_id": 76355368, "body": "1. Please format your code as code. 2. What are you asking? Are you trying to produce both outputs? Or do you know how to produce output 1 and are asking about output 2? And what do you mean by &quot;result of difference in consecutive rows of column 3&quot;?"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7240256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YrhAJiUUY9w/AAAAAAAAAAI/AAAAAAAAAG0/4Mglp3tGSSU/photo.jpg?sz=128", "display_name": "snehil pandey", "link": "https://stackoverflow.com/users/7240256/snehil-pandey"}, "edited": false, "score": 0, "creation_date": 1498677476, "post_id": 44685858, "comment_id": 76602121, "body": "Thanks 1st one worked but in 2nd one I am getting error and that is because of my data not the above one,will chcek it out"}], "tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": false, "score": 1, "last_activity_date": 1498077839, "last_edit_date": 1498077839, "creation_date": 1498077476, "answer_id": 44685858, "question_id": 44685522, "link": "https://stackoverflow.com/questions/44685522/result-of-difference-in-consecutive-rows-of-column-3-in-pandas-provided-column1/44685858#44685858", "title": "result of difference in consecutive rows of column 3 in pandas provided column1 and column2 are same", "body": "<h1>1. O/P</h1>\n\n<pre><code>df_out = df.assign(col3_count=df.groupby(['col1','col2'])['col1'].transform('size'))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  col1 col2  col3_count\n0    A    B           2\n1    A    B           2\n2    C    D           3\n3    C    D           3\n4    C    D           3\n</code></pre>\n\n<h1>2. O/P</h1>\n\n<pre><code>df_out.assign(diff=df_out.groupby(['col1','col2'])['col3_count'].diff())\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>  col1 col2  col3_count  diff\n0    A    B           2   NaN\n1    A    B           2   0.0\n2    C    D           3   NaN\n3    C    D           3   0.0\n4    C    D           3   0.0\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 7240256, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YrhAJiUUY9w/AAAAAAAAAAI/AAAAAAAAAG0/4Mglp3tGSSU/photo.jpg?sz=128", "display_name": "snehil pandey", "link": "https://stackoverflow.com/users/7240256/snehil-pandey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 329, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498077839, "creation_date": 1498076217, "last_edit_date": 1498077515, "question_id": 44685522, "link": "https://stackoverflow.com/questions/44685522/result-of-difference-in-consecutive-rows-of-column-3-in-pandas-provided-column1", "title": "result of difference in consecutive rows of column 3 in pandas provided column1 and column2 are same", "body": "<p>Adding a column thats result of difference in consecutive rows of column 3 in pandas provided column1 and column2 are same.</p>\n\n<pre><code>col1 col2 \nA     B      \nA     B      \nC     D     \nC     D  \nC     D   \n</code></pre>\n\n<p>1st  o/p</p>\n\n<pre><code>col1 col2 col3_count\nA     B      2\nA     B      2\nC     D      3\nC     D      3\nC     D      3\n</code></pre>\n\n<p>2nd O/P</p>\n\n<pre><code>ol1 col2 col3_count   diff\nA     B      2        Nan\nA     B      2        0\nC     D      3        Nan\nC     D      3        0\nC     D      3        0\n</code></pre>\n"}, {"tags": ["python", "django", "serialization"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6781560"}, "is_accepted": false, "score": 0, "last_activity_date": 1498099938, "creation_date": 1498099938, "answer_id": 44689347, "question_id": 44685495, "link": "https://stackoverflow.com/questions/44685495/passing-a-custom-queryset-to-a-serializer-django-rest-framework/44689347#44689347", "title": "passing a custom queryset to a serializer django rest framework", "body": "<p>so looks like I was doing it wrong in the first place here is the working code</p>\n\n<pre><code># queryset for cityListView\ndef getcityList():\n\n    cityList = Venue.objects.raw(\"\"\"SELECT  DISTINCT city\n                                 FROM Venue\"\"\")\n    return cityList\n\nclass citySerializer(serializers.ModelSerializer):\n\n    class Meta:\n        model = Venue\n        fields = 'city'\n        read_only_fields = 'city'\n\nclass cityListViewSet(viewsets.viewSet):\n\n    def list(self, request):\n        queryset = getcityList()\n        serializer = citySerializer(queryset, many=True)\n        return Response(serializer.data)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6781560"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3215, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1498099938, "creation_date": 1498076085, "last_edit_date": 1498079380, "question_id": 44685495, "link": "https://stackoverflow.com/questions/44685495/passing-a-custom-queryset-to-a-serializer-django-rest-framework", "title": "passing a custom queryset to a serializer django rest framework", "body": "<p>I have looked at this submission and there is so much clutter in the code I am having a hard time following it: <a href=\"https://stackoverflow.com/questions/31306875/pass-a-custom-queryset-to-serializer-in-django-rest-framework\">Pass a custom queryset to serializer in Django Rest Framework</a></p>\n\n<p>Now currently, I am trying to write a serializer that returns a list of all the cities in my table of venues. There may be many venues in each city, but I only want to return the city name once. </p>\n\n<p>I know I need to create a custom model manager for this to modify the queryset, but I am unsure how to pass it to the serializer. I am rather lost in documentation and example. Do I need to write sql do I not? This is why not having a mentor really is a pain.</p>\n\n<p>what I have so far. </p>\n\n<p>models.py:</p>\n\n<pre><code>  class Venue(models.Model):\n    name = models.CharField(max_length=150, blank=False)\n    description = models.CharField(max_length=1000)\n    image = models.ImageField(upload_to=imgUnique('venueMedia/venueImages'))\n    streetAddress= models.CharField(max_length=100)\n    city = models.CharField(max_length=100, blank=False)\n    state = models.CharField(max_length=100, blank=False)\n</code></pre>\n\n<p>serializers.py: </p>\n\n<pre><code>from rest_framework import serializers\nfrom models import Venue, Room\n\nclass citySerializer(serializers.Serializer):\n</code></pre>\n\n<p>and my custom model in models.py: </p>\n\n<pre><code>class CityListManager(models.Manager):\ndef get_query_set(self):\n    return super(CityListManager, self).get_query_set().filter\n</code></pre>\n\n<p>All of the code is incomplete as I figure this out and put it all together</p>\n"}, {"tags": ["python", "flask", "twilio"], "answers": [{"comments": [{"owner": {"reputation": 118, "user_id": 6949525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbe25fe188f051ac9c9b1e7d006dc753?s=128&d=identicon&r=PG&f=1", "display_name": "gunslinger", "link": "https://stackoverflow.com/users/6949525/gunslinger"}, "edited": false, "score": 0, "creation_date": 1498156168, "post_id": 44695143, "comment_id": 76396638, "body": "Yes! That did the trick. Thanks Phil and congratulations on the good work in Twilio. I&#39;m really enjoying fiddling with its many features."}, {"owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "reply_to_user": {"reputation": 118, "user_id": 6949525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbe25fe188f051ac9c9b1e7d006dc753?s=128&d=identicon&r=PG&f=1", "display_name": "gunslinger", "link": "https://stackoverflow.com/users/6949525/gunslinger"}, "edited": false, "score": 0, "creation_date": 1498156287, "post_id": 44695143, "comment_id": 76396697, "body": "Awesome! Hope your fiddling goes well. I&#39;ll be here if you have any other questions!"}], "tags": [], "owner": {"reputation": 53136, "user_id": 28376, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ec1383b240b5ba15ffb9743fceb3c0e?s=128&d=identicon&r=PG", "display_name": "philnash", "link": "https://stackoverflow.com/users/28376/philnash"}, "is_accepted": true, "score": 0, "last_activity_date": 1498122869, "creation_date": 1498122869, "answer_id": 44695143, "question_id": 44685464, "link": "https://stackoverflow.com/questions/44685464/voice-and-message-response-in-the-same-response/44695143#44695143", "title": "Voice and Message Response in the same response", "body": "<p>Twilio developer evangelist here.</p>\n\n<p>You're very close here. The only mistake that you've made is that you use <a href=\"https://www.twilio.com/docs/api/twiml/sms/message\" rel=\"nofollow noreferrer\"><code>&lt;Message&gt;</code></a> when responding to incoming messages, and <a href=\"https://www.twilio.com/docs/api/twiml/sms\" rel=\"nofollow noreferrer\"><code>&lt;Sms&gt;</code></a> to send an SMS message as part of a voice call.</p>\n\n<p>So, your <code>gather</code> route should use <code>resp.sms</code>, like this:</p>\n\n<pre><code>@app.route('/gather', methods=['GET', 'POST'])\ndef gather():\n    resp = VoiceResponse()\n\n    if 'Digits' in request.values:\n        choice = request.values['Digits']\n\n        if choice == '1':\n            resp.say('Nice! Apples are very healthy!')\n            resp.sms('He likes apples!', to='myphonenumber')\n            return str(resp)\n\n        elif choice == '2':\n            resp.say('Shame on you! Apples are very healthy!')\n            resp.sms('He said no.', to='myphonenumber')\n            return str(resp)\n\n        else:\n            resp.say('Sorry, choose one or two.')\n\n    resp.redirect('/')\n\n    return str(resp)\n</code></pre>\n\n<p>Let me know if that helps at all.</p>\n"}], "owner": {"reputation": 118, "user_id": 6949525, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fbe25fe188f051ac9c9b1e7d006dc753?s=128&d=identicon&r=PG&f=1", "display_name": "gunslinger", "link": "https://stackoverflow.com/users/6949525/gunslinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 164, "favorite_count": 0, "accepted_answer_id": 44695143, "answer_count": 1, "score": 0, "last_activity_date": 1498122869, "creation_date": 1498075938, "last_edit_date": 1498076151, "question_id": 44685464, "link": "https://stackoverflow.com/questions/44685464/voice-and-message-response-in-the-same-response", "title": "Voice and Message Response in the same response", "body": "<p>I'm learning to use Twilio with Python and Flask. I want to be able to call some number, give the person 2 options to type and, depending on their choice, play them a voice message and send me a SMS message with their answer.</p>\n\n<p>I have already written some code:</p>\n\n<pre><code>from flask import Flask, request\nfrom TwilioPhoneCall import app\nfrom twilio.twiml.voice_response import VoiceResponse, Gather\nfrom twilio.twiml.messaging_response import MessagingResponse, Message\n\n\n@app.route(\"/\", methods=['GET', 'POST'])\ndef message():\n    resp = VoiceResponse()\n\n    gather = Gather(num_digits=1, action='/gather')\n    gather.say('Hello there! Do you like apples?.'+\n               ' type one for yes '+\n               ' type two for no.')\n    resp.append(gather)\n\n    resp.redirect('/')\n\n\n    return str(resp)\n\n@app.route('/gather', methods=['GET', 'POST'])\ndef gather():\n    resp = VoiceResponse()\n\n    if 'Digits' in request.values:\n        choice = request.values['Digits']\n\n        if choice == '1':\n            resp.say('Nice! Apples are very healthy!')\n            msg = Message(to='myphonenumber').body('He likes apples!')\n            resp.append(msg)\n\n            return str(resp)\n\n        elif choice == '2':\n            resp.say('Shame on you! Apples are very healthy!')\n            msg = Message(to='myphonenumber').body('He said no.')\n            resp.append(msg)\n\n            return str(resp)\n\n        else:\n            resp.say('Sorry, choose one or two.')\n\n    resp.redirect('/')\n\n    return str(resp)\n</code></pre>\n\n<p>Almost every thing works fine: all the voice messages and the choice options work. The problem is with the SMS messages, which are never sent. </p>\n\n<p>I've also tried to add a MessagingResponse and return both that and the VoiceResponse but than I get an application error, I think it is because then I have two <code>&lt;response&gt;&lt;/response&gt;</code> tags, one for each the responses (Voice and Message).</p>\n\n<p>Is there any way to do this?</p>\n"}, {"tags": ["python", "tensorflow"], "comments": [{"owner": {"reputation": 5350, "user_id": 4282745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a33f17c0a1e9b75aa7b2551f23a1a5a?s=128&d=identicon&r=PG&f=1", "display_name": "pfm", "link": "https://stackoverflow.com/users/4282745/pfm"}, "edited": false, "score": 0, "creation_date": 1498076005, "post_id": 44685461, "comment_id": 76355069, "body": "Could you add the code which leads to this error?"}, {"owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "reply_to_user": {"reputation": 5350, "user_id": 4282745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a33f17c0a1e9b75aa7b2551f23a1a5a?s=128&d=identicon&r=PG&f=1", "display_name": "pfm", "link": "https://stackoverflow.com/users/4282745/pfm"}, "edited": false, "score": 0, "creation_date": 1498076091, "post_id": 44685461, "comment_id": 76355098, "body": "Not sure if you saw the edit before you posted that but it is literally the code from the github repo without modification."}, {"owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "reply_to_user": {"reputation": 5350, "user_id": 4282745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a33f17c0a1e9b75aa7b2551f23a1a5a?s=128&d=identicon&r=PG&f=1", "display_name": "pfm", "link": "https://stackoverflow.com/users/4282745/pfm"}, "edited": false, "score": 0, "creation_date": 1498076277, "post_id": 44685461, "comment_id": 76355188, "body": "Added the specific function for clarity"}], "answers": [{"comments": [{"owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "edited": false, "score": 1, "creation_date": 1498579335, "post_id": 44767407, "comment_id": 76550615, "body": "Thank you!  I couldn&#39;t get the code to work by just importing from <code>legacy_seq2seq</code> (pulled and rebuilt from master an hour ago) so I just copied the function and then it worked.  If you could post the link to the new API here when you are done that would be awesome."}, {"owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "edited": false, "score": 0, "creation_date": 1498579355, "post_id": 44767407, "comment_id": 76550630, "body": "I also made an issue on github (<a href=\"https://github.com/tensorflow/models/issues/1733\" rel=\"nofollow noreferrer\">github.com/tensorflow/models/issues/1733</a>) which I&#39;ll update with this answer"}, {"owner": {"reputation": 430, "user_id": 1537597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/619a7047dd0bccd09b670fe2f7824bf5?s=128&d=identicon&r=PG", "display_name": "Fabio Fumarola", "link": "https://stackoverflow.com/users/1537597/fabio-fumarola"}, "reply_to_user": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "edited": false, "score": 2, "creation_date": 1499949544, "post_id": 44767407, "comment_id": 77134181, "body": "Finally Google releases an update tutorial <a href=\"https://github.com/tensorflow/nmt\" rel=\"nofollow noreferrer\">github.com/tensorflow/nmt</a> . It covers all the stuff I&#39;d like to write for an intro tutorial."}], "tags": [], "owner": {"reputation": 430, "user_id": 1537597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/619a7047dd0bccd09b670fe2f7824bf5?s=128&d=identicon&r=PG", "display_name": "Fabio Fumarola", "link": "https://stackoverflow.com/users/1537597/fabio-fumarola"}, "is_accepted": true, "score": 5, "last_activity_date": 1498505809, "creation_date": 1498505809, "answer_id": 44767407, "question_id": 44685461, "link": "https://stackoverflow.com/questions/44685461/tensorflow-seq2seq-tutorial-nonetype-object-has-no-attribute-update/44767407#44767407", "title": "Tensorflow seq2seq tutorial: NoneType object has no attribute &#39;update&#39;", "body": "<p>as I have already commented <a href=\"https://github.com/tensorflow/tensorflow/issues/8191#issuecomment-311003867\" rel=\"noreferrer\">here</a> the model are you trying to implement is deprecated. If you want to make it working check the code I've pasted in the issue. \nStarting from tensorflow 1.1 and 1.2 you have the functions for dynamic decode like <code>tf.nn.bidirectional_dynamic_rnn</code>. It allows you to take into account dynamic sized sequences for free. </p>\n\n<p>I'm creating some examples and I'll post you a working example with the new api. </p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 12641628, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDEzUmCldVEPjLLCTZIMVCOCVBmOF8Eg-PzaARTJg=k-s128", "display_name": "amin jahani", "link": "https://stackoverflow.com/users/12641628/amin-jahani"}, "is_accepted": false, "score": 0, "last_activity_date": 1610617464, "creation_date": 1610617464, "answer_id": 65716630, "question_id": 44685461, "link": "https://stackoverflow.com/questions/44685461/tensorflow-seq2seq-tutorial-nonetype-object-has-no-attribute-update/65716630#65716630", "title": "Tensorflow seq2seq tutorial: NoneType object has no attribute &#39;update&#39;", "body": "<p>I think the library you are using must have some requirements that are not properly installed. check them with accurate version of libraries and it might work.</p>\n"}], "owner": {"reputation": 496, "user_id": 6061661, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c9b064b1ae978c886a3990d2e08fa7c5?s=128&d=identicon&r=PG&f=1", "display_name": "jbird", "link": "https://stackoverflow.com/users/6061661/jbird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3510, "favorite_count": 1, "accepted_answer_id": 44767407, "answer_count": 2, "score": 3, "last_activity_date": 1610617464, "creation_date": 1498075934, "last_edit_date": 1498141333, "question_id": 44685461, "link": "https://stackoverflow.com/questions/44685461/tensorflow-seq2seq-tutorial-nonetype-object-has-no-attribute-update", "title": "Tensorflow seq2seq tutorial: NoneType object has no attribute &#39;update&#39;", "body": "<p>I am trying to follow the tensorflow tutorial from <a href=\"https://www.tensorflow.org/tutorials/seq2seq\" rel=\"nofollow noreferrer\">https://www.tensorflow.org/tutorials/seq2seq</a>.</p>\n\n<p>The data seems to load fine but when I initialize the model I get the following error:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/execute.py\", line 334, in &lt;module&gt;\n    train()\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/execute.py\", line 151, in train\n    model = create_model(sess, False)\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/execute.py\", line 113, in create_model\n    forward_only=forward_only)\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/seq2seq_model_tf.py\", line 181, in __init__\n    softmax_loss_function=softmax_loss_function)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/site-packages/tensorflow/contrib/legacy_seq2seq/python/ops/seq2seq.py\", line 1206, in model_with_buckets\n    decoder_inputs[:bucket[1]])\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/seq2seq_model_tf.py\", line 180, in &lt;lambda&gt;\n    lambda x, y: seq2seq_f(x, y, False),\n  File \"/Users/&lt;username&gt;/PycharmProjects/tensorflow_chatbot/seq2seq_model_tf.py\", line 144, in seq2seq_f\n    dtype=dtype)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/site-packages/tensorflow/contrib/legacy_seq2seq/python/ops/seq2seq.py\", line 848, in embedding_attention_seq2seq\n    encoder_cell = copy.deepcopy(cell)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 174, in deepcopy\n    y = copier(memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/site-packages/tensorflow/python/layers/base.py\", line 476, in __deepcopy__\n    setattr(result, k, copy.deepcopy(v, memo))\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 230, in _deepcopy_list\n    y.append(deepcopy(a, memo))\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 230, in _deepcopy_list\n    y.append(deepcopy(a, memo))\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 230, in _deepcopy_list\n    y.append(deepcopy(a, memo))\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 237, in _deepcopy_tuple\n    y.append(deepcopy(a, memo))\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 334, in _reconstruct\n    state = deepcopy(state, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 163, in deepcopy\n    y = copier(x, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 257, in _deepcopy_dict\n    y[deepcopy(key, memo)] = deepcopy(value, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 190, in deepcopy\n    y = _reconstruct(x, rv, 1, memo)\n  File \"/Users/&lt;username&gt;/anaconda/envs/tensorflow_source_gpu/lib/python2.7/copy.py\", line 343, in _reconstruct\n    y.__dict__.update(state)\nAttributeError: 'NoneType' object has no attribute 'update'\n</code></pre>\n\n<p>If I change the <code>_buckets</code> variable in <code>translate.py</code> to only have 1 tuple (it doesn't matter which one), there is no issue but training does not work very well.  Any more than 1 tuple causes this error.  No changes have been made to the files found on github at <a href=\"https://github.com/tensorflow/models/tree/master/tutorials/rnn/translate\" rel=\"nofollow noreferrer\">https://github.com/tensorflow/models/tree/master/tutorials/rnn/translate</a> other than changing the file names for my local project.</p>\n\n<p>The beginning of the <code>__init__</code> function leading up to the area looks like: </p>\n\n<pre><code>def __init__(self,\n             source_vocab_size,\n             target_vocab_size,\n             buckets,\n             size,\n             num_layers,\n             max_gradient_norm,\n             batch_size,\n             learning_rate,\n             learning_rate_decay_factor,\n             use_lstm=False,\n             num_samples=512,\n             forward_only=False,\n             dtype=tf.float32):\n    \"\"\"Create the model.\n\nArgs:\n  source_vocab_size: size of the source vocabulary.\n  target_vocab_size: size of the target vocabulary.\n  buckets: a list of pairs (I, O), where I specifies maximum input length\n    that will be processed in that bucket, and O specifies maximum output\n    length. Training instances that have inputs longer than I or outputs\n    longer than O will be pushed to the next bucket and padded accordingly.\n    We assume that the list is sorted, e.g., [(2, 4), (8, 16)].\n  size: number of units in each layer of the model.\n  num_layers: number of layers in the model.\n  max_gradient_norm: gradients will be clipped to maximally this norm.\n  batch_size: the size of the batches used during training;\n    the model construction is independent of batch_size, so it can be\n    changed after initialization if this is convenient, e.g., for decoding.\n  learning_rate: learning rate to start with.\n  learning_rate_decay_factor: decay learning rate by this much when needed.\n  use_lstm: if true, we use LSTM cells instead of GRU cells.\n  num_samples: number of samples for sampled softmax.\n  forward_only: if set, we do not construct the backward pass in the model.\n  dtype: the data type to use to store internal variables.\n\"\"\"\n    self.source_vocab_size = source_vocab_size\n    self.target_vocab_size = target_vocab_size\n    self.buckets = buckets\n    self.batch_size = batch_size\n    self.learning_rate = tf.Variable(\n        float(learning_rate), trainable=False, dtype=dtype)\n    self.learning_rate_decay_op = self.learning_rate.assign(\n        self.learning_rate * learning_rate_decay_factor)\n    self.global_step = tf.Variable(0, trainable=False)\n\n    # If we use sampled softmax, we need an output projection.\n    output_projection = None\n    softmax_loss_function = None\n    # Sampled softmax only makes sense if we sample less than vocabulary size.\n    if 0 &lt; num_samples &lt; self.target_vocab_size:\n        w_t = tf.get_variable(\"proj_w\", [self.target_vocab_size, size], dtype=dtype)\n        w = tf.transpose(w_t)\n        b = tf.get_variable(\"proj_b\", [self.target_vocab_size], dtype=dtype)\n        output_projection = (w, b)\n\n        def sampled_loss(labels, logits):\n            labels = tf.reshape(labels, [-1, 1])\n            # We need to compute the sampled_softmax_loss using 32bit floats to\n            # avoid numerical instabilities.\n            local_w_t = tf.cast(w_t, tf.float32)\n            local_b = tf.cast(b, tf.float32)\n            local_inputs = tf.cast(logits, tf.float32)\n            return tf.cast(\n                tf.nn.sampled_softmax_loss(\n                    weights=local_w_t,\n                    biases=local_b,\n                    labels=labels,\n                    inputs=local_inputs,\n                    num_sampled=num_samples,\n                    num_classes=self.target_vocab_size),\n                dtype)\n\n        softmax_loss_function = sampled_loss\n\n    # Create the internal multi-layer cell for our RNN.\n    def single_cell():\n        return tf.contrib.rnn.GRUCell(size)\n\n    if use_lstm:\n        def single_cell():\n            return tf.contrib.rnn.BasicLSTMCell(size)\n    cell = single_cell()\n    if num_layers &gt; 1:\n        cell = tf.contrib.rnn.MultiRNNCell([single_cell() for _ in range(num_layers)])\n\n    # The seq2seq function: we use embedding for the input and attention.\n    def seq2seq_f(encoder_inputs, decoder_inputs, do_decode):\n        return tf.contrib.legacy_seq2seq.embedding_attention_seq2seq(\n            encoder_inputs,\n            decoder_inputs,\n            cell,\n            num_encoder_symbols=source_vocab_size,\n            num_decoder_symbols=target_vocab_size,\n            embedding_size=size,\n            output_projection=output_projection,\n            feed_previous=do_decode,\n            dtype=dtype)\n\n    # Feeds for inputs.\n    self.encoder_inputs = []\n    self.decoder_inputs = []\n    self.target_weights = []\n    for i in xrange(buckets[-1][0]):  # Last bucket is the biggest one.\n        self.encoder_inputs.append(tf.placeholder(tf.int32, shape=[None],\n                                                  name=\"encoder{0}\".format(i)))\n    for i in xrange(buckets[-1][1] + 1):\n        self.decoder_inputs.append(tf.placeholder(tf.int32, shape=[None],\n                                                  name=\"decoder{0}\".format(i)))\n        self.target_weights.append(tf.placeholder(dtype, shape=[None],\n                                                  name=\"weight{0}\".format(i)))\n\n    # Our targets are decoder inputs shifted by one.\n    targets = [self.decoder_inputs[i + 1]\n               for i in xrange(len(self.decoder_inputs) - 1)]\n\n    # Training outputs and losses.\n    if forward_only:\n        self.outputs, self.losses = tf.contrib.legacy_seq2seq.model_with_buckets(\n            self.encoder_inputs, self.decoder_inputs, targets,\n            self.target_weights, buckets, lambda x, y: seq2seq_f(x, y, True),\n            softmax_loss_function=softmax_loss_function)\n        # If we use output projection, we need to project outputs for decoding.\n        if output_projection is not None:\n            for b in xrange(len(buckets)):\n                self.outputs[b] = [\n                    tf.matmul(output, output_projection[0]) + output_projection[1]\n                    for output in self.outputs[b]\n                ]\n    else:\n        self.outputs, self.losses = tf.contrib.legacy_seq2seq.model_with_buckets(\n            self.encoder_inputs, self.decoder_inputs, targets,\n            self.target_weights, buckets,\n            lambda x, y: seq2seq_f(x, y, False),\n            softmax_loss_function=softmax_loss_function) # this is where the error occurrs\n</code></pre>\n\n<p>What do I need to change to get this to work?  Using tensorflow version 1.2</p>\n\n<p>UPDATE:  This has been tested with both tensorflow built from source and built from the Pip package on Mac OSX Sierra and the same issue is occurring</p>\n"}, {"tags": ["python", "loops", "dictionary"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1498075675, "post_id": 44685363, "comment_id": 76354865, "body": "Show <code>doc_list</code>. Apparently it&#39;s a function. It can&#39;t be that bit of data at the top. Also, you don&#39;t appear to be using <code>i</code> or <code>key</code> in the loop."}, {"owner": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 3, "creation_date": 1498075692, "post_id": 44685363, "comment_id": 76354873, "body": "I have a feeling that <code>doc_list</code> is a function that returns the list you&#39;ve shown us. Change your code to <code>for i, key in enumerate(doc_list()):</code>"}, {"owner": {"reputation": 855, "user_id": 4672617, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Auj2u.png?s=128&g=1", "display_name": "rammelmueller", "link": "https://stackoverflow.com/users/4672617/rammelmueller"}, "edited": false, "score": 0, "creation_date": 1498075840, "post_id": 44685363, "comment_id": 76354968, "body": "The code in general is quite broken - what is <code>doc_name</code>?"}, {"owner": {"reputation": 767, "user_id": 7799888, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/1952677131618556/picture?type=large", "display_name": "Graham Streich", "link": "https://stackoverflow.com/users/7799888/graham-streich"}, "reply_to_user": {"reputation": 96714, "user_id": 198633, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/5b9c04999233026354268c2ee4237e04?s=128&d=identicon&r=PG", "display_name": "inspectorG4dget", "link": "https://stackoverflow.com/users/198633/inspectorg4dget"}, "edited": false, "score": 0, "creation_date": 1498076322, "post_id": 44685363, "comment_id": 76355215, "body": "Thanks, @inspectorG4dget solved the problem!"}, {"owner": {"reputation": 767, "user_id": 7799888, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/1952677131618556/picture?type=large", "display_name": "Graham Streich", "link": "https://stackoverflow.com/users/7799888/graham-streich"}, "edited": false, "score": 0, "creation_date": 1498076781, "post_id": 44685363, "comment_id": 76355429, "body": "Correct assumption"}], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 4672617, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Auj2u.png?s=128&g=1", "display_name": "rammelmueller", "link": "https://stackoverflow.com/users/4672617/rammelmueller"}, "is_accepted": false, "score": 0, "last_activity_date": 1498076158, "creation_date": 1498076158, "answer_id": 44685510, "question_id": 44685363, "link": "https://stackoverflow.com/questions/44685363/how-to-iterate-through-a-list-of-dictionaries-in-python/44685510#44685510", "title": "How to iterate through a list of dictionaries in python", "body": "<p>Well, I guess you're looking for this:</p>\n\n<pre><code>doc_list = [{'doc_name': 'Test Document 1','doc_url': 'https:SOMETHING/SE.html', 'timestamp': '2017-06-21T19:58:34+00:00'}, \n    {'doc_name': 'Test Document2','doc_url': 'https://SOMETHING/test-2-docs', 'timestamp': '2017-06-21T19:58:34+00:00'}]\n\nbody = \"\"\nfor i, d in enumerate(doc_list):\n    doc_url = 'https:stuff'.format(d['doc_name'])\n    body += '&lt;li&gt;\\n&lt;a href=\"{0}\"  datetime{1}&gt;\\n&lt;/li&gt;\\n'.format(d['doc_url'], d['timestamp'])\n\nprint body\n</code></pre>\n\n<p>which results in:</p>\n\n<pre><code>&gt;&gt;&gt; &lt;li&gt;\n&gt;&gt;&gt; &lt;a href=\"https:SOMETHING/SE.html\"  datetime2017-06-21T19:58:34+00:00&gt;\n&gt;&gt;&gt; &lt;/li&gt;\n&gt;&gt;&gt; &lt;li&gt;\n&gt;&gt;&gt; &lt;a href=\"https://SOMETHING/test-2-docs\"  datetime2017-06-21T19:58:34+00:00&gt;\n&gt;&gt;&gt; &lt;/li&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1762, "user_id": 197700, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5c8cedff094a91e76eec846f30ff2db3?s=128&d=identicon&r=PG", "display_name": "Fiid", "link": "https://stackoverflow.com/users/197700/fiid"}, "is_accepted": false, "score": 1, "last_activity_date": 1498076188, "creation_date": 1498076188, "answer_id": 44685515, "question_id": 44685363, "link": "https://stackoverflow.com/questions/44685363/how-to-iterate-through-a-list-of-dictionaries-in-python/44685515#44685515", "title": "How to iterate through a list of dictionaries in python", "body": "<p>The code below works, so I think as highlighted by Carcigenicate and InspectorG4dget above, doc_list is a function and not the structure you pasted.  You probably need to add () to call it.</p>\n\n<pre><code>list = [{'doc_name': 'Test Document 1','doc_url': 'https:SOMETHING/SE.html','timestamp': '2017-06-21T19:58:34+00:00'},\n        {'doc_name': 'Test Document 2','doc_url': 'https://SOMETHING/test-2-docs','timestamp': '2017-06-21T19:58:34+00:00'}]\n\nfor idx, obj in enumerate(list):\n    print(obj['doc_name'])\n</code></pre>\n\n<p>Also, if you wanted to pull out the doc_name you'd need to do it as a key on the hash, as I've shown.  </p>\n"}], "owner": {"reputation": 767, "user_id": 7799888, "user_type": "registered", "accept_rate": 76, "profile_image": "https://graph.facebook.com/1952677131618556/picture?type=large", "display_name": "Graham Streich", "link": "https://stackoverflow.com/users/7799888/graham-streich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1498076249, "creation_date": 1498075583, "last_edit_date": 1498075844, "question_id": 44685363, "link": "https://stackoverflow.com/questions/44685363/how-to-iterate-through-a-list-of-dictionaries-in-python", "title": "How to iterate through a list of dictionaries in python", "body": "<p>I have the following list of dictionaries:</p>\n\n<pre><code>[{'doc_name': 'Test Document 1','doc_url': 'https:SOMETHING/SE.html',\n'timestamp': '2017-06-21T19:58:34+00:00'} {'doc_name': 'Test Document \n2','doc_url': 'https://SOMETHING/test-2-docs,'timestamp': '2017-06-\n21T19:58:34+00:00'}]\n</code></pre>\n\n<p>And would like to iterate through it with a new function: </p>\n\n<pre><code>for i, key in enumerate(doc_list):\n    doc_url = 'https:stuff'.format(doc_name)\n    body += '&lt;li&gt;\\n&lt;a href=\"{0}\"  datetime \n    {1}&gt;\\n&lt;/li&gt;\\n'.format(doc_url, timestamp)\n</code></pre>\n\n<p>However when I run the code above I receive the error: </p>\n\n<pre><code>TypeError: 'function' object is not iterable\n</code></pre>\n"}, {"tags": ["python", "pygame"], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498075546, "post_id": 44685340, "comment_id": 76354796, "body": "it still leaves a trail behind"}, {"owner": {"reputation": 2206, "user_id": 5707563, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-ejroD92f8ow/AAAAAAAAAAI/AAAAAAAAAIQ/Jn0DB3gpNjs/photo.jpg?sz=128", "display_name": "Sam Chats", "link": "https://stackoverflow.com/users/5707563/sam-chats"}, "reply_to_user": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498075632, "post_id": 44685340, "comment_id": 76354834, "body": "@ErenBi&#231;er Can you screenshot it out?"}, {"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498075821, "post_id": 44685340, "comment_id": 76354954, "body": "i dont know how to send screenshots in the comments. i wrote pygame.display.flip() after pygame.display.update() but it still leaves trail"}, {"owner": {"reputation": 2206, "user_id": 5707563, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-ejroD92f8ow/AAAAAAAAAAI/AAAAAAAAAIQ/Jn0DB3gpNjs/photo.jpg?sz=128", "display_name": "Sam Chats", "link": "https://stackoverflow.com/users/5707563/sam-chats"}, "reply_to_user": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498076160, "post_id": 44685340, "comment_id": 76355136, "body": "@ErenBi&#231;er I haven&#39;t touched pygame for a while, but what if you try replacing the <code>update()</code> with <code>flip()</code>?"}, {"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498076355, "post_id": 44685340, "comment_id": 76355234, "body": "I tried that too it doesn&#39;t work."}, {"owner": {"reputation": 7155, "user_id": 6486738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10205523648805608/picture?type=large", "display_name": "Ted Klein Bergman", "link": "https://stackoverflow.com/users/6486738/ted-klein-bergman"}, "reply_to_user": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 4, "creation_date": 1498081448, "post_id": 44685340, "comment_id": 76357531, "body": "@ErenBi&#231;er <code>pygame.display.flip()</code> and <code>pygame.display.update()</code> are interchangeable in your case. You should <b>only use one of them</b> though otherwise you&#39;re unnecessarily updating the display twice each game loop (which is a costly operation)."}], "tags": [], "owner": {"reputation": 2206, "user_id": 5707563, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-ejroD92f8ow/AAAAAAAAAAI/AAAAAAAAAIQ/Jn0DB3gpNjs/photo.jpg?sz=128", "display_name": "Sam Chats", "link": "https://stackoverflow.com/users/5707563/sam-chats"}, "is_accepted": false, "score": -2, "last_activity_date": 1498075495, "creation_date": 1498075495, "answer_id": 44685340, "question_id": 44685256, "link": "https://stackoverflow.com/questions/44685256/my-pygame-character-leaves-trails-when-i-move-it/44685340#44685340", "title": "My pygame character leaves trails when I move it", "body": "<p>I think you're missing a <code>pygame.display.flip()</code>. Add it after your <code>pygame.display.update()</code> line.</p>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498079521, "post_id": 44686333, "comment_id": 76356769, "body": "when i do this my background does not go down in a loop it just stays and there is still trail. i have a moving background that goes down"}, {"owner": {"reputation": 146, "user_id": 6943702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/615ceddb9786891afe7d5d06bcad0f4f?s=128&d=identicon&r=PG", "display_name": "DinosauRuss", "link": "https://stackoverflow.com/users/6943702/dinosauruss"}, "reply_to_user": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498079844, "post_id": 44686333, "comment_id": 76356913, "body": "Change the (0,0) in &#39;disp.blit(background, (0,0))&#39; to the x_loop location. Does you background image have transparency? You may need to fill the screen with a solid color first using disp.fill((0,0,0))"}], "tags": [], "owner": {"reputation": 146, "user_id": 6943702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/615ceddb9786891afe7d5d06bcad0f4f?s=128&d=identicon&r=PG", "display_name": "DinosauRuss", "link": "https://stackoverflow.com/users/6943702/dinosauruss"}, "is_accepted": true, "score": 6, "last_activity_date": 1498079354, "creation_date": 1498079354, "answer_id": 44686333, "question_id": 44685256, "link": "https://stackoverflow.com/questions/44685256/my-pygame-character-leaves-trails-when-i-move-it/44686333#44686333", "title": "My pygame character leaves trails when I move it", "body": "<p>Before you flip the display you need to blit the background. This will 'erase' the trail. Then draw the current image and flip the display.</p>\n\n<pre><code>    disp.blit(background, (0,0)) # or whatever location you need\n    disp.blit(current_image, (x,y))\n    pygame.display.flip()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11277, "user_id": 3657941, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/304d8d4cceca5f9ce2383ff97b53e36b?s=128&d=identicon&r=PG&f=1", "display_name": "David Cullen", "link": "https://stackoverflow.com/users/3657941/david-cullen"}, "is_accepted": false, "score": 2, "last_activity_date": 1498130779, "last_edit_date": 1498130779, "creation_date": 1498081591, "answer_id": 44686793, "question_id": 44685256, "link": "https://stackoverflow.com/questions/44685256/my-pygame-character-leaves-trails-when-i-move-it/44686793#44686793", "title": "My pygame character leaves trails when I move it", "body": "<p>This is a complete solution with a scrolling background:</p>\n\n<pre><code>import pygame\n\npygame.init()\nwidth = 800\nheight = 600\nblack = (0, 0, 0)\nwhite = (255, 255, 255)\nship_width = 56\nship_height = 64\ndisp = pygame.display.set_mode((width, height))\npygame.display.set_caption(\"space_game\")\nclock = pygame.time.Clock()\nbackground = pygame.image.load('background.png')\nbackground_height = background.get_rect().height\nship = pygame.image.load('ship.png')\n\ndef game_loop():\n    x = width * 0.45\n    y = height * 0.80\n    x_ch = 0\n    y_ch = 0\n    x_bg = 0\n    game_exit = False\n    while not game_exit:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                game_exit = True\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_a:\n                    x_ch = -5\n                if event.key == pygame.K_d:\n                    x_ch = 5\n                if event.key == pygame.K_w:\n                    y_ch = -5\n                if event.key == pygame.K_s:\n                    y_ch = 5\n                if (event.key == pygame.K_ESCAPE) or (event.key == pygame.K_q):\n                    game_exit = True\n            if event.type == pygame.KEYUP:\n                if event.key == pygame.K_a or event.key == pygame.K_d:\n                    x_ch = 0\n                if event.key == pygame.K_w or event.key == pygame.K_s:\n                    y_ch = 0\n        if (x + x_ch) &gt; width - ship_width or (x + x_ch) &lt; 0:\n            x_ch = 0\n        if (y + y_ch) &gt; height - ship_height or (y + y_ch) &lt; 0:\n            y_ch = 0\n        x += x_ch\n        y += y_ch\n        x_loop = x_bg % background_height\n        disp.blit(background, (0, x_loop - background_height))\n        if x_loop &lt; height:\n            disp.blit(background, (0, x_loop))\n        x_bg += 5\n        disp.blit(ship, (x, y))\n        pygame.display.update()\n        clock.tick(60)\n\ngame_loop()\npygame.quit()\n</code></pre>\n\n<p>The result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iUqsz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iUqsz.gif\" alt=\"space_game.gif\"></a></p>\n\n<p>A ship with transparent background:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QdYTK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QdYTK.png\" alt=\"ship.png\"></a></p>\n\n<p>The starry background:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2JjWs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2JjWs.png\" alt=\"background.png\"></a></p>\n\n<p>I am posting this answer in case someone needs a working example as a starting point.</p>\n"}], "owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1546, "favorite_count": 0, "closed_date": 1498116473, "accepted_answer_id": 44686333, "answer_count": 3, "score": 2, "last_activity_date": 1498130779, "creation_date": 1498075170, "last_edit_date": 1498079796, "question_id": 44685256, "link": "https://stackoverflow.com/questions/44685256/my-pygame-character-leaves-trails-when-i-move-it", "closed_reason": "Duplicate", "title": "My pygame character leaves trails when I move it", "body": "<p>I've been trying to make a game in Python but when I move my character it leaves a trail behind. I know it doesn't show that much but if you get close you can see the trail and it really bothers me.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dkgMJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dkgMJ.png\" alt=\"Screenshot\"></a></p>\n\n<p>Here's my code:</p>\n\n<pre><code>import pygame\nimport os\nfrom pygame import mixer\n\npygame.init()\nmixer.init()\n\nwidth = 800\nheight = 600\n\nblack = (0,0,0)\nwhite = (255,255,255)\n\nship_width = 56\nship_height = 64\n\ndisp = pygame.display.set_mode((width,height))\n\npygame.display.set_caption(\"space_game\")\n\nclock = pygame.time.Clock()\n\nbackground = pygame.image.load(os.path.join(\"Backgrounds\", \"Space.png\"))\n\nShip00 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship00.png\"))\nShip01 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship01.png\"))\nShip02 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship02.png\"))\nShip03 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship03.png\"))\nShip04 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship04.png\"))\nShip05 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship05.png\"))\nShip06 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship06.png\"))\nShip07 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship07.png\"))\nShip08 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship08.png\"))\nShip09 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship09.png\"))\nShip10 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship10.png\"))\nShip11 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship11.png\"))\nShip12 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship12.png\"))\nShip13 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship13.png\"))\nShip14 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship14.png\"))\nShip15 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship15.png\"))\nShip16 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship \nAnimation\", \"Ship16.png\"))\n\nimages = [Ship00, Ship01, Ship02, Ship03, Ship04, Ship05, Ship06, Ship07, \nShip08, Ship09, Ship10, Ship11, Ship12, Ship13, Ship14, Ship15, Ship16]\n\nmixer.music.load(os.path.join(\"Music\", \"space_song.wav\"))\nmixer.music.play()\n\ndef gameLoop():\n    x = (width * 0.45)\n    y = (height * 0.8)\n\n    x_ch = 0\n    y_ch = 0\n\n    x_bg = 0\n\n    index = 0\n\n    gameExit = False\n\n    while not gameExit:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                gameExit = True\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == ord(\"a\"):\n                    x_ch = -5\n\n                elif event.key == ord(\"d\"):\n                    x_ch = 5\n\n                elif event.key == ord(\"w\"):\n                    y_ch = -5\n\n                elif event.key == ord(\"s\"):\n                    y_ch = 5\n\n            if event.type == pygame.KEYUP:\n                if event.key == ord(\"a\") or event.key == ord(\"d\"):\n                    x_ch = 0\n\n                if event.key == ord(\"w\") or event.key == ord(\"s\"):\n                    y_ch = 0\n\n        x += x_ch\n        y += y_ch\n\n        if x &gt; width - ship_width or x &lt; 0:\n            x_ch = 0\n\n        if y &gt; height - ship_height or y &lt; 0:\n            y_ch = 0\n\n        x_loop = x_bg % background.get_rect().height\n        disp.blit(background, (0, x_loop - background.get_rect().height))\n\n        if x_loop &lt; height:\n            disp.blit(background, (0, x_loop))\n\n        x_bg += 5\n\n        index += 1\n        index %= len(images)\n        current_image = images[index]\n        disp.blit(current_image, (x,y))\n\n        pygame.display.update()\n\n        clock.tick(60)\n\ngameLoop()\npygame.quit()\nquit()\n</code></pre>\n\n<p>How can I fix this? (I know the trail is almost invisible but I want my game to be good) I have a background that is moving down in a loop why doesn't the trail move with it?</p>\n"}, {"tags": ["python", "global-variables", "kivy"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498075327, "post_id": 44685248, "comment_id": 76354693, "body": "&quot;Sorry about the indentation errors, I couldn&#39;t figure out how to format correctly.&quot; - copy-paste your code into the question, then highlight everything you pasted (both the parts that appear code-formatted in the preview and the parts that don&#39;t) and hit Ctrl-K, or the button with the braces on it."}, {"owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "edited": false, "score": 0, "creation_date": 1498075365, "post_id": 44685248, "comment_id": 76354707, "body": "To make it easier to help you, you should provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Having to read lots and lots of pages of code is most likely scaring away people trying to help."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498075457, "post_id": 44685248, "comment_id": 76354750, "body": "If <code>raw_data</code> is still <code>None</code> in <code>__init__</code>, then the code that was supposed to set it to something else probably hasn&#39;t actually happened yet. You can&#39;t use results before you compute them."}, {"owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498076861, "post_id": 44685248, "comment_id": 76355467, "body": "@user2357112 : thank you for that, fixed indents. And yes I know the problem is that the setting of &#39;raw_data&#39; hasn&#39;t happened yet, but I am wondering why it has happened when using a defined method, and not in the __inti__() method"}, {"owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "reply_to_user": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "edited": false, "score": 0, "creation_date": 1498076976, "post_id": 44685248, "comment_id": 76355522, "body": "@ChristianK&#246;nig : thank you for the heads up, also fixed as much as possible"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498077371, "post_id": 44685248, "comment_id": 76355701, "body": "Are these classes in different modules? If you&#39;re trying to share a global variable between modules, don&#39;t do that. <code>from</code> imports actually create new variables, and mutable global state is bad enough when it&#39;s confined to a single module."}, {"owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "edited": false, "score": 0, "creation_date": 1498077538, "post_id": 44685248, "comment_id": 76355771, "body": "No they are in the same module. I guess my question is, why has the event of the global variable being modified happened in one method and not <b>init</b>"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "edited": false, "score": 0, "creation_date": 1498077808, "post_id": 44685584, "comment_id": 76355910, "body": "Thank you for this, and I have since shortened the code. This is what I am after, but can&#39;t seem to get it to work as yours does. Thank you for the help!"}, {"owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "reply_to_user": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "edited": false, "score": 0, "creation_date": 1498078903, "post_id": 44685584, "comment_id": 76356494, "body": "It&#39;s a lot clear now with the short code. I&#39;m assuming the else condition is executed inside the show_raw_data from IntroScreen class prior to the initialization of Preview Screen. Is it how your code flows?"}, {"owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "edited": false, "score": 0, "creation_date": 1498079348, "post_id": 44685584, "comment_id": 76356688, "body": "I think have I have tracked down the problem to the fact that PreviewScreen is instantiated before the click event that occurs in IntroScreen, hence why raw_data is not initialized yet. The way Kivy works, the screens are initialized in the very beginning, and click events on the layout happen post-initialization."}], "tags": [], "owner": {"reputation": 1663, "user_id": 7953640, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-XXZtjJHhqKQ/AAAAAAAAAAI/AAAAAAAACGM/WH8Q0SKnwic/photo.jpg?sz=128", "display_name": "Satish", "link": "https://stackoverflow.com/users/7953640/satish"}, "is_accepted": false, "score": 0, "last_activity_date": 1498076421, "creation_date": 1498076421, "answer_id": 44685584, "question_id": 44685248, "link": "https://stackoverflow.com/questions/44685248/accessing-global-variable-in-python-class-init/44685584#44685584", "title": "Accessing global variable in python class __init__", "body": "<p>Too much code to go through, however, i can somewhat replicate what you are trying to do it and it works</p>\n\n<pre><code>raw_data = None\n\nclass IntroScreen:\n\n def change_raw_data_value(self):\n    global raw_data\n    raw_data = 'Changed raw_data once'\n\n def print_raw_data(self):\n    print(raw_data)\n\n\nclass PreviewScreen:\n\n def __init__(self):\n    global raw_data\n    print(raw_data)\n\n def change_raw_data_value(self):\n    global raw_data\n    raw_data = 'Changed raw_data twice' \n\n def print_raw_data(self):\n    print(raw_data)\n\nif __name__ == '__main__':\n intro_screen = IntroScreen()\n intro_screen.change_raw_data_value()\n intro_screen.print_raw_data()\n\n preview_screen = PreviewScreen()\n preview_screen.change_raw_data_value()\n preview_screen.print_raw_data()\n\nChanged raw_data once\nChanged raw_data once -&gt; from Preview Screen __init__\nChanged raw_data twice\n[Finished in 0.2s]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "is_accepted": false, "score": 0, "last_activity_date": 1498083492, "creation_date": 1498083492, "answer_id": 44687139, "question_id": 44685248, "link": "https://stackoverflow.com/questions/44685248/accessing-global-variable-in-python-class-init/44687139#44687139", "title": "Accessing global variable in python class __init__", "body": "<p>Answering my own question here. There isn't a solution to fix it because it is the way the program is setup. The screens are initialized as so:</p>\n\n<pre><code>class OutlierDetectionApp(App):\n\n        def build(self):\n            # set window size and color\n            #Window.clearcolor = (1,1,1,1)\n\n            # initialize screen manager and create screens\n            my_screenmanager = ScreenManager()\n            intro_screen = IntroScreen(name='intro_screen')\n            preview_screen = PreviewScreen(name='preview_screen')\n\n            # add screens to screen manager\n            my_screenmanager.add_widget(intro_screen)\n            my_screenmanager.add_widget(preview_screen)\n            return my_screenmanager\n\nif __name__ == '__main__':\n    OutlierDetectionApp().run()\n</code></pre>\n\n<p>Therefore, the <code>PreviewScreen</code> is being initialized before the button clicks that set the <code>raw_data</code> to an actual file, so the data is <code>None</code> still at the time of screen initialization. The reason that it works in a self defined method is because the logic of these methods (ie: <code>goto_raw_data</code>) is evaluated at runtime, in which case <code>raw_data</code> would be correctly populated.</p>\n\n<p>Thanks for all those who put in thoughts to allow me to come to this conclusion! Time to reformat the code a little bit to work around this issue.</p>\n"}], "owner": {"reputation": 53, "user_id": 4825476, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d30884c989e0e1125344d6bbcff35721?s=128&d=identicon&r=PG&f=1", "display_name": "jGraves", "link": "https://stackoverflow.com/users/4825476/jgraves"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 6452, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1498083492, "creation_date": 1498075142, "last_edit_date": 1498076726, "question_id": 44685248, "link": "https://stackoverflow.com/questions/44685248/accessing-global-variable-in-python-class-init", "title": "Accessing global variable in python class __init__", "body": "<p>I am having an issue with accessing a globally declared variable in two separate classes. This is a kivy application that uses pandas for backend support.</p>\n\n<p>Here is the initialization of the global variable, <code>raw_data</code>, and where it is originally modified (in the <code>show_raw_data</code> func):</p>\n\n<pre><code># original dataframe\nraw_data = None\n\nclass IntroScreen(Screen):\n\n    def __init__ (self, **kwargs):\n        super (IntroScreen, self).__init__(**kwargs)\n\n        self.preview_screen_layout.add_widget(Button(text=\"View Raw Data\", on_release=self.goto_raw_data))\n\n    # switch to preview screen and show raw data when import is clicked\n    def show_raw_data(self, *args):\n        global file_path_list\n        global raw_data\n        try:\n\n            # check input is correct\n            if \".xlsx\" in file_path_list[\"orig_data\"]:\n                raise ValueError\n            else:\n                # open csv file to display and display it\n                raw_data = pd.read_csv(file_path_list[\"orig_data\"])\n                dfgui.show(raw_data)\n\n                # move to next screen\n                self.manager.current = 'preview_screen'\n</code></pre>\n\n<p>And here is where I am trying to access to be able to display the data that was read in using pandas:</p>\n\n<pre><code>class PreviewScreen(Screen):\n\n    def __init__(self, **kwargs):\n        super (PreviewScreen, self).__init__(**kwargs)\n\n        global raw_data\n        dfgui.show(raw_data)\n\n    # display raw data to user \n    def goto_raw_data(self, *args):\n        global raw_data\n        dfgui.show(raw_data)\n</code></pre>\n\n<p>But here is my problem - in the PreviewScreen class, accessing the <code>global raw_data</code> within <code>goto_raw_data</code> works perfectly fine and <code>raw_data</code> contains the pandas dataframe, but when accessing the same global variable in the <code>__init__</code>, it is still initialized to <code>None</code> as it is in the original declaration. </p>\n\n<p>Is there something strange going on in my init function that is preventing the global variable from populating? I was thinking maybe the order in which the compiler reads the classes, but other than that I can't think of anything.</p>\n\n<p>Is there a way around this so that I can access the global variable in the <code>__init__</code> or am I stuck to accessing in a defined function.</p>\n\n<p>Thanks for any and all help!</p>\n"}, {"tags": ["python", "excel", "email"], "comments": [{"owner": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1498075494, "post_id": 44685241, "comment_id": 76354771, "body": "SMTP should work; are you sure you&#39;ve made a connection to SMTP?"}, {"owner": {"reputation": 353, "user_id": 2812625, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/1b2f63adfc012bb02a0a63957bffe60a?s=128&d=identicon&r=PG&f=1", "display_name": "Tinkinc", "link": "https://stackoverflow.com/users/2812625/tinkinc"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1498075813, "post_id": 44685241, "comment_id": 76354948, "body": "Oh no I can&#39;t make a connection which is my issue"}, {"owner": {"reputation": 353, "user_id": 2812625, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/1b2f63adfc012bb02a0a63957bffe60a?s=128&d=identicon&r=PG&f=1", "display_name": "Tinkinc", "link": "https://stackoverflow.com/users/2812625/tinkinc"}, "reply_to_user": {"reputation": 3012, "user_id": 6741482, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e2d07264d5857c8851212ac5c882039a?s=128&d=identicon&r=PG&f=1", "display_name": "pstatix", "link": "https://stackoverflow.com/users/6741482/pstatix"}, "edited": false, "score": 0, "creation_date": 1498075861, "post_id": 44685241, "comment_id": 76354981, "body": "I get timeouts even with timeout parameter and or the ssl"}], "answers": [{"comments": [{"owner": {"reputation": 1025, "user_id": 4870520, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hUU59.jpg?s=128&g=1", "display_name": "amandeep1991", "link": "https://stackoverflow.com/users/4870520/amandeep1991"}, "edited": false, "score": 0, "creation_date": 1547564426, "post_id": 45438104, "comment_id": 95229732, "body": "Not sure why it&#39;s not working for me. Account object is throwing error:  Traceback (most recent call last):    exchangelib.errors.AutoDiscoverFailed: All steps in the autodiscover protocol failed"}], "tags": [], "owner": {"reputation": 90304, "user_id": 562769, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e86681e49622d52817b36fd2a4c936b7?s=128&d=identicon&r=PG", "display_name": "Martin Thoma", "link": "https://stackoverflow.com/users/562769/martin-thoma"}, "is_accepted": false, "score": 11, "last_activity_date": 1502696079, "last_edit_date": 1502696079, "creation_date": 1501591253, "answer_id": 45438104, "question_id": 44685241, "link": "https://stackoverflow.com/questions/44685241/how-can-i-send-an-email-with-an-attachment-with-python-and-microsoft-exchange/45438104#45438104", "title": "How can I send an email with an attachment with Python and Microsoft Exchange?", "body": "<p>This is how you send emails with an attachment with <code>exchangelib</code>:</p>\n\n<pre><code>from exchangelib import ServiceAccount, Configuration, Account, DELEGATE\nfrom exchangelib import Message, Mailbox, FileAttachment\n\nfrom config import cfg  # load your credentials\n\n\ndef send_email(account, subject, body, recipients, attachments=None):\n    \"\"\"\n    Send an email.\n\n    Parameters\n    ----------\n    account : Account object\n    subject : str\n    body : str\n    recipients : list of str\n        Each str is and email adress\n    attachments : list of tuples or None\n        (filename, binary contents)\n\n    Examples\n    --------\n    &gt;&gt;&gt; send_email(account, 'Subject line', 'Hello!', ['info@example.com'])\n    \"\"\"\n    to_recipients = []\n    for recipient in recipients:\n        to_recipients.append(Mailbox(email_address=recipient))\n    # Create message\n    m = Message(account=account,\n                folder=account.sent,\n                subject=subject,\n                body=body,\n                to_recipients=to_recipients)\n\n    # attach files\n    for attachment_name, attachment_content in attachments or []:\n        file = FileAttachment(name=attachment_name, content=attachment_content)\n        m.attach(file)\n    m.send_and_save()\n\n\ncredentials = ServiceAccount(username=cfg['user'],\n                             password=cfg['password'])\n\nconfig = Configuration(server=cfg['server'], credentials=credentials)\naccount = Account(primary_smtp_address=cfg['smtp_address'], config=config,\n                  autodiscover=False, access_type=DELEGATE)\n\n# Read attachment\nattachments = []\nwith open('filestorage/numbers-test-document.pdf', 'rb') as f:\n    content = f.read()\nattachments.append(('whatever.pdf', content))\n\n# Send email\nsend_email(account, 'Test 14:35', 'works', ['themoosemind@gmail.com'],\n           attachments=attachments)\n</code></pre>\n\n<p>Related: <a href=\"https://stackoverflow.com/a/45438174/562769\">Read emails and download attachment from an Exchange Server</a></p>\n"}], "owner": {"reputation": 353, "user_id": 2812625, "user_type": "registered", "accept_rate": 16, "profile_image": "https://www.gravatar.com/avatar/1b2f63adfc012bb02a0a63957bffe60a?s=128&d=identicon&r=PG&f=1", "display_name": "Tinkinc", "link": "https://stackoverflow.com/users/2812625/tinkinc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8431, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1502696079, "creation_date": 1498075128, "last_edit_date": 1501592437, "question_id": 44685241, "link": "https://stackoverflow.com/questions/44685241/how-can-i-send-an-email-with-an-attachment-with-python-and-microsoft-exchange", "title": "How can I send an email with an attachment with Python and Microsoft Exchange?", "body": "<p>Can someone help me send an email from my exchange account and add attachments. SMTP doesnt work, I get immediate timeout issues. 0365 doesn't save a copy to my sent folder. The only other one I know is <code>exchangelib</code></p>\n\n<pre><code>from exchangelib import Account, Credentials, Message, Mailbox, FileAttachment\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.base import MIMEBase\nfrom email.mime.text import MIMEText\nfrom email.utils import formatdate\nfrom email import encoders\n\nemail = 'XXXXXXXX'\npassword = 'XXXXXXXX'\n\na = Account(email, credentials=Credentials(email, password), autodiscover=True)\n\n\n\ndir_path = ('C:/Users/Istcrmt/Documents/Python/PythonforAnaconda3.5/')\nexcel_name = 'test.xlsx'\n\n#attach an excel file:\n\n\nfor i in email_list.itertuples():\n# if you want a copy in the 'Sent' folder\n    m = Message(\n        account=a \n        ,folder=a.sent\n        ,subject=(i.AGENCY_NAME + ' I made an email script.')\n        ,body='All bodies are beautiful' \n        ,to_recipients=[Mailbox(email_address=i.NEW_MAIL)])\n\n#attach files\n    m.attachments.append(part) \n   # m.attach(cover_letter)\n\n    m.send_and_save()\n</code></pre>\n"}, {"tags": ["python", "django", "postgresql"], "comments": [{"owner": {"reputation": 399, "user_id": 7337003, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pE0HvhLbLoY/AAAAAAAAAAI/AAAAAAAAAAw/qWn-DXOKGDE/photo.jpg?sz=128", "display_name": "Nifled", "link": "https://stackoverflow.com/users/7337003/nifled"}, "edited": false, "score": 0, "creation_date": 1498079500, "post_id": 44685235, "comment_id": 76356757, "body": "So you&#39;d like to make a chat?"}, {"owner": {"reputation": 165, "user_id": 6463033, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/391aef2282a6ea05d8a3885be8d4f467?s=128&d=identicon&r=PG&f=1", "display_name": "lausent", "link": "https://stackoverflow.com/users/6463033/lausent"}, "reply_to_user": {"reputation": 399, "user_id": 7337003, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pE0HvhLbLoY/AAAAAAAAAAI/AAAAAAAAAAw/qWn-DXOKGDE/photo.jpg?sz=128", "display_name": "Nifled", "link": "https://stackoverflow.com/users/7337003/nifled"}, "edited": false, "score": 0, "creation_date": 1498080923, "post_id": 44685235, "comment_id": 76357338, "body": "chat is realtime and I think it&#39;s more difficulty to implement in django. I would like to create discussion between two user and the question isn&#39;t how do that but if my idea of how store and retrieve the data from the db is the right implementation when I consider also other 1000 users or more. In page1 there is the discussion between Mike and Jimmy, page2 there is the discussion between Luke and Jimmy and so on."}, {"owner": {"reputation": 165, "user_id": 6463033, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/391aef2282a6ea05d8a3885be8d4f467?s=128&d=identicon&r=PG&f=1", "display_name": "lausent", "link": "https://stackoverflow.com/users/6463033/lausent"}, "reply_to_user": {"reputation": 399, "user_id": 7337003, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pE0HvhLbLoY/AAAAAAAAAAI/AAAAAAAAAAw/qWn-DXOKGDE/photo.jpg?sz=128", "display_name": "Nifled", "link": "https://stackoverflow.com/users/7337003/nifled"}, "edited": false, "score": 0, "creation_date": 1498080945, "post_id": 44685235, "comment_id": 76357345, "body": "on average If a discussion contain 20 messages it will store 20 row into the db but if I have 1000 discussion, 1000*20=20000messages=20000row into the db in one day? one hour? so is this the right way to store the discussion into the db?"}, {"owner": {"reputation": 1747, "user_id": 2896976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3baa97daedb276fbd0cdca06d6de4d2d?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/2896976/jesse"}, "edited": false, "score": 0, "creation_date": 1498084022, "post_id": 44685235, "comment_id": 76358492, "body": "20k rows per day is not that bad. If the discussions will expire after some time, say 7 days, then you can setup a cronjob to run regularly (every morning at 2AM for example) to remove any discussions older than 7 days from your database."}], "answers": [{"comments": [{"owner": {"reputation": 165, "user_id": 6463033, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/391aef2282a6ea05d8a3885be8d4f467?s=128&d=identicon&r=PG&f=1", "display_name": "lausent", "link": "https://stackoverflow.com/users/6463033/lausent"}, "edited": false, "score": 0, "creation_date": 1498115295, "post_id": 44690902, "comment_id": 76368110, "body": "Regarding point 2-3-4: I would like to understand better because when I use form.save() in django than it will generate a row into db with a column named &quot;id (pk serial)&quot; (this id is autoincrement and unique). Sure I will add  timestamptz column, in this way as you say I can order the entire discussion when I reconstruct it but isn&#39;t sufficient becuase into the db there are more than one discussion so my idea is to assign also a numerical unique id to each discussion (not PK). In this way I can use:   discussion = Discussion.objects.filter(id_unique_discussion=45).order_by(&zwnj;&#8203;timestamptz)"}, {"owner": {"reputation": 3243, "user_id": 2333852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ba60866e74f470080c1025aacde27?s=128&d=identicon&r=PG", "display_name": "FuzzyChef", "link": "https://stackoverflow.com/users/2333852/fuzzychef"}, "reply_to_user": {"reputation": 165, "user_id": 6463033, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/391aef2282a6ea05d8a3885be8d4f467?s=128&d=identicon&r=PG&f=1", "display_name": "lausent", "link": "https://stackoverflow.com/users/6463033/lausent"}, "edited": false, "score": 0, "creation_date": 1498169003, "post_id": 44690902, "comment_id": 76402963, "body": "Right, so you want a second, &quot;discussions&quot; entity (table) in the ORM.  You&#39;ll create a row in there when a new discussion begins, and update the discussion row with some stats when it ends (for example, total time, list of people, etc.).  The generated ID from the discussion can be re-used in the messages table."}], "tags": [], "owner": {"reputation": 3243, "user_id": 2333852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ba60866e74f470080c1025aacde27?s=128&d=identicon&r=PG", "display_name": "FuzzyChef", "link": "https://stackoverflow.com/users/2333852/fuzzychef"}, "is_accepted": false, "score": 1, "last_activity_date": 1498109668, "creation_date": 1498109668, "answer_id": 44690902, "question_id": 44685235, "link": "https://stackoverflow.com/questions/44685235/django-which-is-the-correct-way-to-store-discussion-inside-db/44690902#44690902", "title": "Django which is the correct way to store discussion inside db?", "body": "<p>Three recommendations:</p>\n\n<ol>\n<li>If you give PostgreSQL a decent amount of resources (say, an Amazon m3.large instance), then \"a lot of rows\" for a PostgreSQL database is around 100 million rows (depending).  That's not a limit, it's just enough rows that you'll have to spend some time working on performance.  So assuming that chats average 100 messages, then that would be one million conversations.  So having one row per message is not a <em>performance</em> problem at the scale you're talking about.</li>\n<li>Don't use a numerical PK as your main way of ordering conversations (you might still have one, Django likes having one).  <em>Do</em> have a timestamptz column, which is how you reconstruct the order of conversations.</li>\n<li>Have a unique index on user, timestamptz (since a user can't post two messages simultaneously), and another unique index on conversation, timestamptz (this will allow you to reconstruct conversations quickly).  </li>\n<li>You should also have a table called \"conversations\" which summarizes conversation_id, list-of-users, because this will make it easy to answer the request \"show me all my conversations\".</li>\n</ol>\n\n<p>Does that answer your questions?</p>\n"}, {"tags": [], "owner": {"reputation": 164, "user_id": 2360301, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/de9440b94be73983c312775ba89d3b1f?s=128&d=identicon&r=PG", "display_name": "Tony D", "link": "https://stackoverflow.com/users/2360301/tony-d"}, "is_accepted": true, "score": 1, "last_activity_date": 1498137739, "creation_date": 1498137739, "answer_id": 44700659, "question_id": 44685235, "link": "https://stackoverflow.com/questions/44685235/django-which-is-the-correct-way-to-store-discussion-inside-db/44700659#44700659", "title": "Django which is the correct way to store discussion inside db?", "body": "<p>So the answer to your question depends on how you plan on using the data in the future and what you need to do with it. It is entirely possible to store an entire conversation between N users in a columnar database such as Postgres as individual records per message. However, as with all programming questions, there are multiple paradigms to answer your question. I will explore the pros/cons of a couple of them here (with the knowledge that there are certainly more).</p>\n\n<p><strong>Paradigm 1</strong> New record (row) per message</p>\n\n<p>Pros:</p>\n\n<ol>\n<li>Simpler querying for individual <em>messages</em>.</li>\n<li>Analytical functions can easily be applied at a message level (i.e. summing number of messages by certain users)</li>\n<li>Record size is (relatively) small</li>\n</ol>\n\n<p>Cons:</p>\n\n<ol>\n<li>Very long table sizes</li>\n<li>Searching becomes time consuming as table grows.</li>\n<li>Post-processing needed on a collection (i.e. All records from a conversation)</li>\n<li>More work is shifted to the server</li>\n</ol>\n\n<p><strong>Paradigm 2</strong> New record (row) per conversation</p>\n\n<p>Pros:</p>\n\n<ol>\n<li>Simpler querying for individual <em>conversations</em></li>\n<li>Shorter table sizes</li>\n<li>Post-processing needed on an object (i.e. The entire conversation stored as a JSON object)</li>\n</ol>\n\n<p>Cons:</p>\n\n<ol>\n<li>Larger row size that can grow substantially depending on the number and size of messages.</li>\n<li>Harder to query individual messages or text within messages (need to use more expensive functions such as LIKE % on blobs of text = slow)</li>\n<li>Less conducive to preforming any type of analytical function on messages.</li>\n<li>Messages become an append exercise</li>\n<li>More work is shifted to the client/application</li>\n</ol>\n\n<p>Which is best? YMMV</p>\n\n<p>Again, there are probably a half-dozen or so more ways you could store your application's messages, and all depend on your downstream needs. Additionally, I would implode you to look into projects such as <a href=\"https://kafka.apache.org/\" rel=\"nofollow noreferrer\">Apache Kafka</a> which specialize in message publishing as potentially a scaleable, drop in solution.</p>\n"}], "owner": {"reputation": 165, "user_id": 6463033, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/391aef2282a6ea05d8a3885be8d4f467?s=128&d=identicon&r=PG&f=1", "display_name": "lausent", "link": "https://stackoverflow.com/users/6463033/lausent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 44700659, "answer_count": 2, "score": 1, "last_activity_date": 1498137739, "creation_date": 1498075099, "last_edit_date": 1498111383, "question_id": 44685235, "link": "https://stackoverflow.com/questions/44685235/django-which-is-the-correct-way-to-store-discussion-inside-db", "title": "Django which is the correct way to store discussion inside db?", "body": "<p>I use <code>django 1.11</code> with postgresql as the database. I know how to store and retrive data from a db but I can't find an example to which is the correct way to store and to retrieve an entire discussion of two users.</p>\n\n<p>This is my simple idea:<br>\nTwo users connect to <code>127.0.0.1</code> and in this page there is a text-area form. Both users can write into the text-area and by press a button they post their content. The page will reload and now all message are being displayed.</p>\n\n<p>What I want to know is that if the correct way to store and retrive would be:  </p>\n\n<pre><code>one db row =&gt; single message user\n</code></pre>\n\n<p>If two users exchange, say 15 messages, it will store 15 rows and to make a univocal discussion, I can put another column into the db something like discussion \"id\", so 15 rows would have the same id and the user:</p>\n\n<pre><code>db row1 ---&gt; \"pk=1, message=hello there, user=Mike, id=45\")  \ndb row2 ---&gt; \"pk=2, message=hello world, user=Jessy, id=45\")\n</code></pre>\n\n<p>When the page reload clearly in django will run:</p>\n\n<pre><code>discussion = Discussion.objects.all().filter(id=45)\n</code></pre>\n\n<p>to retrieve the discussion.</p>\n\n<p>Only two user can discuss in private, so every two user have a discussion page like 127.0.0.1/one, 127.0.0.1/two and so on..</p>\n\n<p>If this is the correct way to store and retrive from the db, my question is how that would scale? Can I rely on that design to store and retrive data from the database efficiently or it will be heavy in near future? I worry that 1000 users could quickly grow into 10000 rows.</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "edited": false, "score": 0, "creation_date": 1498076173, "post_id": 44685219, "comment_id": 76355145, "body": "I reopen question because OP want pandas solution."}], "answers": [{"tags": [], "owner": {"reputation": 725, "user_id": 7586861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb293ee301641307ed6ec7c3a81d639?s=128&d=identicon&r=PG&f=1", "display_name": "jarcobi889", "link": "https://stackoverflow.com/users/7586861/jarcobi889"}, "is_accepted": false, "score": 7, "last_activity_date": 1498075404, "creation_date": 1498075404, "answer_id": 44685320, "question_id": 44685219, "link": "https://stackoverflow.com/questions/44685219/how-can-i-sort-semantic-versions-in-pandas/44685320#44685320", "title": "How can i sort semantic versions in pandas?", "body": "<p>You can use the standard <code>distutils</code> for this!</p>\n\n<pre><code>from distutils.version import StrictVersion\nversions = ['0.1', '0.10', '0.2.1', '0.2', '0.10.1']\nversions.sort(key=StrictVersion)\n</code></pre>\n\n<p>Now it's sorted like this: <code>['0.1', '0.2', '0.2.1', '0.10', '0.10.1']</code></p>\n\n<p><a href=\"https://stackoverflow.com/a/2574230/7586861\">Source</a></p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 8165292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c9472cf2192623ccdd354398beaff9?s=128&d=identicon&r=PG&f=1", "display_name": "Muri Nicanor", "link": "https://stackoverflow.com/users/8165292/muri-nicanor"}, "edited": false, "score": 0, "creation_date": 1498393147, "post_id": 44685497, "comment_id": 76473413, "body": "so, it turns out i still have a problem with this: if there are other column(s), this does not also change the fields in the other column(s)- is there a way to accomplish something like sort_index with key=StrictVersion?"}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 65, "user_id": 8165292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c9472cf2192623ccdd354398beaff9?s=128&d=identicon&r=PG&f=1", "display_name": "Muri Nicanor", "link": "https://stackoverflow.com/users/8165292/muri-nicanor"}, "edited": false, "score": 0, "creation_date": 1498393209, "post_id": 44685497, "comment_id": 76473427, "body": "Give me some time."}, {"owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "reply_to_user": {"reputation": 65, "user_id": 8165292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c9472cf2192623ccdd354398beaff9?s=128&d=identicon&r=PG&f=1", "display_name": "Muri Nicanor", "link": "https://stackoverflow.com/users/8165292/muri-nicanor"}, "edited": false, "score": 0, "creation_date": 1498418693, "post_id": 44685497, "comment_id": 76480534, "body": "Super, glad can help!"}], "tags": [], "owner": {"reputation": 619481, "user_id": 2901002, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/hMDvl.jpg?s=128&g=1", "display_name": "jezrael", "link": "https://stackoverflow.com/users/2901002/jezrael"}, "is_accepted": true, "score": 6, "last_activity_date": 1498393524, "last_edit_date": 1498393524, "creation_date": 1498076090, "answer_id": 44685497, "question_id": 44685219, "link": "https://stackoverflow.com/questions/44685219/how-can-i-sort-semantic-versions-in-pandas/44685497#44685497", "title": "How can i sort semantic versions in pandas?", "body": "<p>Pandas solution with <code>sorted</code>, <a href=\"https://stackoverflow.com/q/2574080/2901002\">StrictVersion solution</a> and assign to column:</p>\n\n<pre><code>print (df)\n      ver\n0     0.1\n1     0.2\n2    0.10\n3   0.2.1\n4     0.3\n5  0.10.1\n\nfrom distutils.version import StrictVersion\n\ndf['ver'] = sorted(df['ver'], key=StrictVersion)\nprint (df)\n      ver\n0     0.1\n1     0.2\n2   0.2.1\n3     0.3\n4    0.10\n5  0.10.1\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>For sort index is possible use <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.reindex.html\" rel=\"noreferrer\"><code>reindex</code></a>: </p>\n\n<pre><code>print (df)\n        a  b\nver         \n0.1     1  q\n0.2     2  w\n0.10    3  e\n0.2.1   4  r\n0.3     5  t\n0.10.1  6  y\n\nfrom distutils.version import StrictVersion\n\ndf = df.reindex(index=pd.Index(sorted(df.index, key=StrictVersion)))\nprint (df)\n        a  b\n0.1     1  q\n0.2     2  w\n0.2.1   4  r\n0.3     5  t\n0.10    3  e\n0.10.1  6  y\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9700708, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jeff", "link": "https://stackoverflow.com/users/9700708/jeff"}, "is_accepted": false, "score": 0, "last_activity_date": 1524757805, "last_edit_date": 1524757805, "creation_date": 1524696513, "answer_id": 50032387, "question_id": 44685219, "link": "https://stackoverflow.com/questions/44685219/how-can-i-sort-semantic-versions-in-pandas/50032387#50032387", "title": "How can i sort semantic versions in pandas?", "body": "<p>Those work fine if your values are unique, but here is the best solution that I've found for columns of semantic values that might have duplication.</p>\n\n<pre><code>import pandas as pd\nfrom distutils.version import StrictVersion    \n\nunique_sorted_versions = sorted(set(df['Version']), key=StrictVersion)\n\ngroups = [df[df['Version'].isin([version])]\n          for version in unique_sorted_versions]\n\nnew_df = pd.concat(groups)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 632227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e283ad9bba4d0ffeb95c0b9be4ae8a64?s=128&d=identicon&r=PG", "display_name": "bigeast", "link": "https://stackoverflow.com/users/632227/bigeast"}, "is_accepted": false, "score": 0, "last_activity_date": 1531994294, "creation_date": 1531994294, "answer_id": 51419661, "question_id": 44685219, "link": "https://stackoverflow.com/questions/44685219/how-can-i-sort-semantic-versions-in-pandas/51419661#51419661", "title": "How can i sort semantic versions in pandas?", "body": "<p>I come across this problem too, after googling a lot (the first page I find is this SO question :D), I suppose my solution is worth to mention.</p>\n\n<p>So for now there is two sort functions in pandas, <code>sort_values</code> and <code>sort_index</code>, neither of them have a <code>key</code> parameter for us to pass a custom sort function to it. See <a href=\"https://github.com/pandas-dev/pandas/issues/3942\" rel=\"nofollow noreferrer\">this</a> github issue.</p>\n\n<p><a href=\"https://stackoverflow.com/a/44685497/632227\">jezrael's answer</a> is very helpful and I'll build my solution based on that.</p>\n\n<p><code>df['ver'] = sorted(df['ver'], key=StrictVersion)</code> is useful only if the verion column is the single column in the DataFrame, otherwise we need to sort the other columns following the version column.</p>\n\n<p>jezrael <code>reindex</code> the DataFrame, because the wanted index order can be obtained by the buitin <code>sorted</code> function, who does have a <code>key</code> parameter.</p>\n\n<p>But, what if the version is not the index and I don't want to <code>set_index('ver')</code>?</p>\n\n<p>We can use <code>apply</code> to map the original version string to a <code>StrictVersion</code> object, then <code>sort_values</code> will sort in the wanted order:</p>\n\n<pre><code>from distutils.version import StrictVersion\ndf['ver'] = df['ver'].apply(StrictVersion)\ndf.sort_values(by='ver')\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8165292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05c9472cf2192623ccdd354398beaff9?s=128&d=identicon&r=PG&f=1", "display_name": "Muri Nicanor", "link": "https://stackoverflow.com/users/8165292/muri-nicanor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 796, "favorite_count": 0, "accepted_answer_id": 44685497, "answer_count": 4, "score": 3, "last_activity_date": 1531994294, "creation_date": 1498075022, "question_id": 44685219, "link": "https://stackoverflow.com/questions/44685219/how-can-i-sort-semantic-versions-in-pandas", "title": "How can i sort semantic versions in pandas?", "body": "<p>I have a list of software releases as versions. The software follows the semantic version specification, meaning there is a major version, a minor version and patch versions:</p>\n\n<ul>\n<li>0.1</li>\n<li>0.2</li>\n<li>0.2.1</li>\n<li>0.3</li>\n<li>...</li>\n<li>0.10</li>\n<li>0.10.1</li>\n</ul>\n\n<p>Is there a way in pandas to sort these versions so that 0.2 is bigger than 0.1 but smaller than 0.10?</p>\n"}, {"tags": ["python", "mysql", "django"], "comments": [{"owner": {"reputation": 1991, "user_id": 447485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e4e2946c3270f4a20e60ec3d3c8f552?s=128&d=identicon&r=PG", "display_name": "airstrike", "link": "https://stackoverflow.com/users/447485/airstrike"}, "edited": false, "score": 0, "creation_date": 1498082063, "post_id": 44685209, "comment_id": 76357768, "body": "you should consider writing a custom tag if you end up doing that a lot"}], "answers": [{"tags": [], "owner": {"reputation": 145, "user_id": 2619588, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4b05ef42d1c28f6dad24cdb9b2fb337?s=128&d=identicon&r=PG", "display_name": "krieghan", "link": "https://stackoverflow.com/users/2619588/krieghan"}, "is_accepted": false, "score": 1, "last_activity_date": 1498076336, "creation_date": 1498076336, "answer_id": 44685552, "question_id": 44685209, "link": "https://stackoverflow.com/questions/44685209/python-is-it-faster-to-query-clean-string-value-from-a-db-column-or-cleanup-the/44685552#44685552", "title": "Python: is it faster to query clean string value from a db column or cleanup the string on the view/template?", "body": "<p>This seems very opinion-oriented.  Is it faster?  The only way to know for sure is to measure.  Is it faster to a degree that you care about?  Probably not.  In any event, it's better not to make schema design decisions based on performance unless you've observed measurably bad performance.  </p>\n\n<p>All other things being equal, it is generally best to store the data in different columns.  It's easier to join it in controller or template code than it is to separate it out into its pieces.</p>\n"}, {"comments": [{"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "edited": false, "score": 0, "creation_date": 1498144765, "post_id": 44685616, "comment_id": 76389805, "body": "the thing is that I already have City object in many of my views and I figured if I just create an additional column for that I&#39;ll just call it from the variable..."}, {"owner": {"reputation": 840, "user_id": 8007221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d995b19900dfec0395dc0c79736c0b8?s=128&d=identicon&r=PG&f=1", "display_name": "olisch", "link": "https://stackoverflow.com/users/8007221/olisch"}, "reply_to_user": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "edited": false, "score": 0, "creation_date": 1498320463, "post_id": 44685616, "comment_id": 76458136, "body": "depennds on whether you need the additional information of your city object. If you already have all information in place (the city names, which needs to be transformed), accessing your database just for that task isn&#39;t worth the I/O."}], "tags": [], "owner": {"reputation": 840, "user_id": 8007221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d995b19900dfec0395dc0c79736c0b8?s=128&d=identicon&r=PG&f=1", "display_name": "olisch", "link": "https://stackoverflow.com/users/8007221/olisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1498076572, "creation_date": 1498076572, "answer_id": 44685616, "question_id": 44685209, "link": "https://stackoverflow.com/questions/44685209/python-is-it-faster-to-query-clean-string-value-from-a-db-column-or-cleanup-the/44685616#44685616", "title": "Python: is it faster to query clean string value from a db column or cleanup the string on the view/template?", "body": "<p>storing the short name in a MySQL database requires I/O. I/O is always slow, for such an easy transormation of data, it should be faster to keep it, like it is and avoid I/O to a database. </p>\n\n<p>If you really want to know the difference, use timeit (<a href=\"https://docs.python.org/2/library/timeit.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/timeit.html</a>), probably accessing a database is much slower.</p>\n"}, {"comments": [{"owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "edited": false, "score": 0, "creation_date": 1498144954, "post_id": 44685724, "comment_id": 76389964, "body": "I have around 900 cities in the database but they are all fixed."}], "tags": [], "owner": {"reputation": 331, "user_id": 2155877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0736c64f264c6fca2b46207ec76762?s=128&d=identicon&r=PG", "display_name": "Idanushka", "link": "https://stackoverflow.com/users/2155877/idanushka"}, "is_accepted": false, "score": 0, "last_activity_date": 1498076948, "creation_date": 1498076948, "answer_id": 44685724, "question_id": 44685209, "link": "https://stackoverflow.com/questions/44685209/python-is-it-faster-to-query-clean-string-value-from-a-db-column-or-cleanup-the/44685724#44685724", "title": "Python: is it faster to query clean string value from a db column or cleanup the string on the view/template?", "body": "<p>It really depends, if you have a fixed amount of cities in a list, just make them hardcoded (unless you have lots of cities that will actually put some stress on your server's resources - but I don't think that it's the case here), otherwise - you must use some type of persistent store for the cities and a database will come handy.</p>\n"}], "owner": {"reputation": 343, "user_id": 1890619, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/fd88cb3bcc4abdec0bf61d06399bb05c?s=128&d=identicon&r=PG", "display_name": "oybek.t", "link": "https://stackoverflow.com/users/1890619/oybek-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1498076948, "creation_date": 1498074983, "question_id": 44685209, "link": "https://stackoverflow.com/questions/44685209/python-is-it-faster-to-query-clean-string-value-from-a-db-column-or-cleanup-the", "title": "Python: is it faster to query clean string value from a db column or cleanup the string on the view/template?", "body": "<p>I have a City model and fixture data with list of cities, and currently doing cleanups for URL on view and template before loading them. So I do below in a template to have a URL like this: <a href=\"http://newcity.domain.com\" rel=\"nofollow noreferrer\">http://newcity.domain.com</a>.</p>\n\n<pre><code>&lt;a href=\"http://{{ city.name|lower|cut:\" \" }}.{{ SITE_URL}}\"&gt;\n</code></pre>\n\n<p>The actual city.name is \"New City\"</p>\n\n<p>Would it be better if I stored already cleaned data (newcity) in a new column (short_name) on MySQL db and just use city.short_name on templates and views?</p>\n"}, {"tags": ["python", "numpy", "scipy", "fft"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1498074972, "post_id": 44685156, "comment_id": 76354495, "body": "Why is this of interest for you? Isn&#39;t that an implementation detail that only needs to be documented in the source code?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498075036, "post_id": 44685156, "comment_id": 76354525, "body": "There&#39;s plenty of stuff like this all over the place. Heck, I don&#39;t think the <code>scipy.fft</code> name is documented at all."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1498076289, "post_id": 44685156, "comment_id": 76355192, "body": "This is an unfortunate quirk of the <code>scipy</code> namespace.  It contains <i>all</i> of the numpy names (e.g. <code>scipy.array</code>, <code>scipy.linspace</code>, etc.).  The use of these names is discouraged; it is clearer to use the numpy namespace."}], "answers": [{"tags": [], "owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "is_accepted": false, "score": 1, "last_activity_date": 1498079178, "creation_date": 1498079178, "answer_id": 44686290, "question_id": 44685156, "link": "https://stackoverflow.com/questions/44685156/is-the-fact-that-scipy-fft-links-to-numpy-fft-fftpack-fft-documented-anywhere/44686290#44686290", "title": "Is the fact that scipy.fft links to numpy.fft.fftpack.fft documented anywhere?", "body": "<p>The <code>scipy.__init__.py</code> file has:</p>\n\n<pre><code>from numpy import *\nfrom numpy.random import rand, randn\nfrom numpy.fft import fft, ifft\nfrom numpy.lib.scimath import *\n\n__all__ += _num.__all__\n__all__ += ['randn', 'rand', 'fft', 'ifft']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 1, "creation_date": 1498079752, "post_id": 44686296, "comment_id": 76356873, "body": "FYI (where &quot;Y&quot; is &quot;y&#39;all&#39;s&quot;, not just MSeifert&#39;s): One thing in the top-level <code>scipy</code> namespace that is useful is <code>scipy.__version__</code>."}], "tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1498079197, "last_edit_date": 1592644375, "creation_date": 1498079197, "answer_id": 44686296, "question_id": 44685156, "link": "https://stackoverflow.com/questions/44685156/is-the-fact-that-scipy-fft-links-to-numpy-fft-fftpack-fft-documented-anywhere/44686296#44686296", "title": "Is the fact that scipy.fft links to numpy.fft.fftpack.fft documented anywhere?", "body": "<p>Yes, it's <a href=\"https://docs.scipy.org/doc/scipy/reference/api.html#guidelines-for-importing-functions-from-scipy\" rel=\"nofollow noreferrer\">documented</a>:</p>\n<blockquote>\n<h3>Guidelines for importing functions from Scipy</h3>\n<p>The scipy namespace itself only contains functions imported from numpy. These functions still exist for backwards compatibility, but should be imported from numpy directly.</p>\n<p>[...]</p>\n</blockquote>\n"}], "owner": {"reputation": 157, "user_id": 1839106, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6049638d3134518bed2ffc8d5591a516?s=128&d=identicon&r=PG", "display_name": "leilu", "link": "https://stackoverflow.com/users/1839106/leilu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 1, "accepted_answer_id": 44686296, "answer_count": 2, "score": 1, "last_activity_date": 1498079197, "creation_date": 1498074794, "question_id": 44685156, "link": "https://stackoverflow.com/questions/44685156/is-the-fact-that-scipy-fft-links-to-numpy-fft-fftpack-fft-documented-anywhere", "title": "Is the fact that scipy.fft links to numpy.fft.fftpack.fft documented anywhere?", "body": "<p>I couldn't find any official documentation of the fact that <code>scipy.fft</code> actually is a link to <code>numpy.fft.fftpack.fft</code>. Here is an iPython session showing the link:</p>\n\n<pre><code>In [1]: import scipy\n\nIn [2]: import numpy\n\nIn [3]: scipy.__version__\nOut[3]: '0.19.0'\n\nIn [4]: numpy.__version__\nOut[4]: '1.12.1'\n\nIn [5]: scipy.fft\nOut[5]: &lt;function numpy.fft.fftpack.fft&gt;\n</code></pre>\n\n<p>The only mentions I could find of a <code>scipy.fft</code> submodule were <a href=\"http://numpy-discussion.10968.n7.nabble.com/FFTS-for-numpy-s-FFTs-was-Re-Choosing-between-NumPy-and-SciPy-functions-td38997.html\" rel=\"nofollow noreferrer\">this discussion on numpy-discussion</a> and <a href=\"https://github.com/scipy/scipy/issues/2487#issuecomment-255562820\" rel=\"nofollow noreferrer\">this discussion on SciPy's Github</a>, both of which seem to hint at the fact that no such submodule actually existed at the time.</p>\n"}, {"tags": ["python", "multithreading"], "answers": [{"tags": [], "owner": {"reputation": 840, "user_id": 8007221, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d995b19900dfec0395dc0c79736c0b8?s=128&d=identicon&r=PG&f=1", "display_name": "olisch", "link": "https://stackoverflow.com/users/8007221/olisch"}, "is_accepted": false, "score": 0, "last_activity_date": 1498075217, "creation_date": 1498075217, "answer_id": 44685272, "question_id": 44685148, "link": "https://stackoverflow.com/questions/44685148/freeopcua-threading-server-cant-be-closed/44685272#44685272", "title": "FreeOPCUa threading: server cant be closed", "body": "<p>i don't know anything about opcua, so maybe i am wrong, but you can't kill a thread in python. You need to wait until every thread has gracefully finished. In order to stop your threads, they need to check regularly for a stopping flag. For example have a look here: <a href=\"https://stackoverflow.com/questions/323972/is-there-any-way-to-kill-a-thread-in-python\">Is there any way to kill a Thread in Python?</a></p>\n"}, {"comments": [{"owner": {"reputation": 180, "user_id": 7977138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DyYbGu9MMT0/AAAAAAAAAAI/AAAAAAAAABQ/E_Hh_gLj7i0/photo.jpg?sz=128", "display_name": "davy gillebert", "link": "https://stackoverflow.com/users/7977138/davy-gillebert"}, "edited": false, "score": 0, "creation_date": 1504187493, "post_id": 45983115, "comment_id": 78925839, "body": "Note that this is if I run the server as independent script if I started a server in my test files for example I can just call server.stop() there without issue as after my tests are done I can close the server"}], "tags": [], "owner": {"reputation": 180, "user_id": 7977138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DyYbGu9MMT0/AAAAAAAAAAI/AAAAAAAAABQ/E_Hh_gLj7i0/photo.jpg?sz=128", "display_name": "davy gillebert", "link": "https://stackoverflow.com/users/7977138/davy-gillebert"}, "is_accepted": false, "score": 0, "last_activity_date": 1504187338, "creation_date": 1504187338, "answer_id": 45983115, "question_id": 44685148, "link": "https://stackoverflow.com/questions/44685148/freeopcua-threading-server-cant-be-closed/45983115#45983115", "title": "FreeOPCUa threading: server cant be closed", "body": "<p>I'm using freeopcua too and server.stop() indeed tends to go wrong. in the examples</p>\n\n<p>I think in the examples it's the embed causing the issues. It's the embed that is causing this. I don't know why they added it or yes... I do know to keep the server running as otherwise the python script would end.</p>\n\n<p>I myself do this by waiting for user input on server side if the user enters then the server will stop</p>\n\n<pre><code>server.start()\ninput(\"enter to stop...\\n\")\nserver.stop()\n</code></pre>\n\n<p>this is on my server side It's not the cleanest way but for certain the embed is what's causing the issue for you guys too. And there are many potential solutions to this keep the server running without the embed() function</p>\n"}], "owner": {"reputation": 1, "user_id": 3542354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d7003293ec7203dcbcfaaa2d9943c6e?s=128&d=identicon&r=PG&f=1", "display_name": "user3542354", "link": "https://stackoverflow.com/users/3542354/user3542354"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504187338, "creation_date": 1498074752, "question_id": 44685148, "link": "https://stackoverflow.com/questions/44685148/freeopcua-threading-server-cant-be-closed", "title": "FreeOPCUa threading: server cant be closed", "body": "<p>I'm currently working with this OPC UA implementation: <a href=\"https://github.com/FreeOpcUa/\" rel=\"nofollow noreferrer\">https://github.com/FreeOpcUa/</a></p>\n\n<p>My problem is that I cant stop a running server. Even in all examples a python shell stays open after I call server.stop(). </p>\n\n<p>Do you guys know how I can stop the server and kill the thread?\nThanks!</p>\n"}, {"tags": ["python", "django", "templates"], "answers": [{"tags": [], "owner": {"reputation": 3453, "user_id": 1952977, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/GaHdp.jpg?s=128&g=1", "display_name": "Dmitry Mugtasimov", "link": "https://stackoverflow.com/users/1952977/dmitry-mugtasimov"}, "is_accepted": false, "score": 1, "last_activity_date": 1545744375, "creation_date": 1545744375, "answer_id": 53922795, "question_id": 44685126, "link": "https://stackoverflow.com/questions/44685126/can-i-combine-include-with-custom-filter-in-django-1-11/53922795#53922795", "title": "Can I combine {% include %} with custom filter in django 1.11?", "body": "<p>I think you do can do it by using <a href=\"https://docs.djangoproject.com/en/1.11/ref/templates/builtins/#filter\" rel=\"nofollow noreferrer\">filter</a>:</p>\n\n<pre><code>{% load indent %}\n\n{% filter indent:\"8\" %}\n    {% include \"footer.html\" %}\n{% endfilter %}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3900484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJwUv.png?s=128&g=1", "display_name": "korwin", "link": "https://stackoverflow.com/users/3900484/korwin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1545744375, "creation_date": 1498074673, "last_edit_date": 1498075206, "question_id": 44685126, "link": "https://stackoverflow.com/questions/44685126/can-i-combine-include-with-custom-filter-in-django-1-11", "title": "Can I combine {% include %} with custom filter in django 1.11?", "body": "<p>First I have created custom filter that makes autoindentation:</p>\n\n<p><strong>templatetags/indent.py</strong></p>\n\n<pre><code>from django import template\nfrom django.template.defaultfilters import stringfilter\n\nregister = template.Library()\n\n@register.filter(name='indent')\n@stringfilter\ndef indent(value, arg):\n    import re\n    regex = re.compile('^', re.M)\n    return re.sub(regex, ' ' * int(arg), value)\n</code></pre>\n\n<p>and I want to include subtemplate that will be indented by certain number of spaces (eg. 8):</p>\n\n<p>Is this allowed in django's templates:</p>\n\n<pre><code>{% load indent %}\n\n{% include \"footer.html\"|indent:\"8\" %}\n</code></pre>\n"}, {"tags": ["python", "text", "import"], "comments": [{"owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "edited": false, "score": 0, "creation_date": 1498074746, "post_id": 44685091, "comment_id": 76354365, "body": "The <code>for file in files</code> loop returns one element of the <code>files</code>-list per iteration, So you would overwrite all those variables with the (unpacked) output of <code>np.loadtxt(file)</code>. Do you really need 6 different variables? Why not use a <code>list</code>, like you are already doing with the filenames?"}], "answers": [{"comments": [{"owner": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "edited": false, "score": 1, "creation_date": 1498074960, "post_id": 44685168, "comment_id": 76354489, "body": "Right now it is only a list comprehension, or am I missing something?"}, {"owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "reply_to_user": {"reputation": 3072, "user_id": 6725184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40514a449959fa5e76f19afc41436221?s=128&d=identicon&r=PG&f=1", "display_name": "Christian K&#246;nig", "link": "https://stackoverflow.com/users/6725184/christian-k%c3%b6nig"}, "edited": false, "score": 1, "creation_date": 1498075012, "post_id": 44685168, "comment_id": 76354518, "body": "@ChristianK&#246;nig no, you are not missing anythig - you caught an evil typo... thanks!"}, {"owner": {"reputation": 3, "user_id": 8196259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MJpED-o8388/AAAAAAAAAAI/AAAAAAAAADk/M7EacmgVJns/photo.jpg?sz=128", "display_name": "Mark Robinson", "link": "https://stackoverflow.com/users/8196259/mark-robinson"}, "edited": false, "score": 0, "creation_date": 1498076654, "post_id": 44685168, "comment_id": 76355380, "body": "Thanks both. Makes sense now why the original did not work. Looks easy now I&#39;ve seen the answer... :-)"}], "tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": true, "score": 1, "last_activity_date": 1498074984, "last_edit_date": 1498074984, "creation_date": 1498074850, "answer_id": 44685168, "question_id": 44685091, "link": "https://stackoverflow.com/questions/44685091/import-and-assign-multiple-files-loadtxt/44685168#44685168", "title": "import and assign multiple files loadtxt", "body": "<p>you could open all the files and store the results with a list-comprehension:</p>\n\n<pre><code>files = ['f1.txt','f2.txt','f3.txt','f4.txt','f5.txt','f6.txt']\nloaded = [np.loadtxt(file) for file in files]\n</code></pre>\n\n<p>you would have to access them with <code>loaded[0]</code> etc... or directly assign:</p>\n\n<pre><code>xl, xr, yl, yr, zl, zr = [np.loadtxt(file) for file in files]\n</code></pre>\n\n<p>if you insist on the original variable names.</p>\n"}], "owner": {"reputation": 3, "user_id": 8196259, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MJpED-o8388/AAAAAAAAAAI/AAAAAAAAADk/M7EacmgVJns/photo.jpg?sz=128", "display_name": "Mark Robinson", "link": "https://stackoverflow.com/users/8196259/mark-robinson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 44685168, "answer_count": 1, "score": 0, "last_activity_date": 1498074984, "creation_date": 1498074578, "question_id": 44685091, "link": "https://stackoverflow.com/questions/44685091/import-and-assign-multiple-files-loadtxt", "title": "import and assign multiple files loadtxt", "body": "<p>Sorry I know this should be very easy. I would like to load 6 text files and assign these to 6 variables e.g. file1 to xl, file 2 to xr etc. I don't think I understand how to work through the list properly. I have tried using the for i in range(6), itertools and enumerate but none seems to do what I want.</p>\n\n<pre><code>files = ['f1.txt','f2.txt','f3.txt','f4.txt','f5.txt','f6.txt']\n\nfor file in files:\n    xl,xr,yl,yr,zl,zr = np.loadtxt(file)\n</code></pre>\n\n<p>I think i could use the append function but this creates one rather than 6 variables I think</p>\n"}, {"tags": ["python", "ctypes"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498075100, "post_id": 44685080, "comment_id": 76354571, "body": "Why? What do you gain by doing this?"}, {"owner": {"reputation": 87, "user_id": 6896151, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cyhUSCczwNk/AAAAAAAAAAI/AAAAAAAAAzk/h0qqNFrjsEM/photo.jpg?sz=128", "display_name": "Olivier", "link": "https://stackoverflow.com/users/6896151/olivier"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1498075201, "post_id": 44685080, "comment_id": 76354618, "body": "It&#39;s not about why, but how. This is a simple example to demonstrate what I want, not what I do."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498075278, "post_id": 44685080, "comment_id": 76354658, "body": "I disagree... this seems like an <a href=\"https://meta.stackexchange.com/a/66378/344593\">XY Problem</a> to me."}, {"owner": {"reputation": 11381, "user_id": 4774918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kQQAl.jpg?s=128&g=1", "display_name": "too honest for this site", "link": "https://stackoverflow.com/users/4774918/too-honest-for-this-site"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498075487, "post_id": 44685080, "comment_id": 76354766, "body": "How is this related to the C language? How you do something in C is completely irrelevant how to do it in Python. I agree with @TemporalWolf: This is an XY problem."}, {"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 1, "creation_date": 1498075513, "post_id": 44685080, "comment_id": 76354783, "body": "Pointer arithmetic isn&#39;t implemented, but you can index a pointer. The problem here is that this calls the getfunc, which for a simple type such as <code>c_short</code> automatically converts the indexed value to a Python integer. This behavior is disabled for subclasses of simple types, since it&#39;s assumed that you need to preserve the derived type. So if use a subclass of <code>c_short</code>, then you could use <code>ctypes.pointer(foo.Bar[2])</code>. There are other options, but it gets increasingly cumbersome."}, {"owner": {"reputation": 87, "user_id": 6896151, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cyhUSCczwNk/AAAAAAAAAAI/AAAAAAAAAzk/h0qqNFrjsEM/photo.jpg?sz=128", "display_name": "Olivier", "link": "https://stackoverflow.com/users/6896151/olivier"}, "edited": false, "score": 0, "creation_date": 1498076574, "post_id": 44685080, "comment_id": 76355343, "body": "I&#39;m doing a wrapper around C. In one of my C function, it use two pointers for an array (yes, useless but that is not the point here). So I need to create this array in Python, reference two pointers of this array in a Python Structure, and send it to the C lib. Now, if it&#39;s impossible, I&#39;ll use the single pointer with length. Is is more clear?"}, {"owner": {"reputation": 87, "user_id": 6896151, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cyhUSCczwNk/AAAAAAAAAAI/AAAAAAAAAzk/h0qqNFrjsEM/photo.jpg?sz=128", "display_name": "Olivier", "link": "https://stackoverflow.com/users/6896151/olivier"}, "reply_to_user": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1498077227, "post_id": 44685080, "comment_id": 76355632, "body": "Work great @eryksun thank you!"}], "answers": [{"comments": [{"owner": {"reputation": 29355, "user_id": 205580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/460e6e299e385fd46df156c85a1dd55f?s=128&d=identicon&r=PG", "display_name": "Eryk Sun", "link": "https://stackoverflow.com/users/205580/eryk-sun"}, "edited": false, "score": 0, "creation_date": 1498159581, "post_id": 44705625, "comment_id": 76398480, "body": "I think the next step for me, if using a subclass of <code>c_short</code> isn&#39;t an option, would be to use a pointer to a unit-length array, e.g. <code>foo.end_Bar = POINTER(tab._type_ * 1)(tab)[2]</code>. If <code>tab</code> is no longer available you can use <code>foo.end_Bar = POINTER(foo.Bar._type_ * 1)(foo.Bar.contents)[2]</code>."}], "tags": [], "owner": {"reputation": 131156, "user_id": 235698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KjvlE.png?s=128&g=1", "display_name": "Mark Tolonen", "link": "https://stackoverflow.com/users/235698/mark-tolonen"}, "is_accepted": false, "score": 7, "last_activity_date": 1498151580, "creation_date": 1498151580, "answer_id": 44705625, "question_id": 44685080, "link": "https://stackoverflow.com/questions/44685080/python-ctypes-pointer-arithmetic/44705625#44705625", "title": "python ctypes pointer arithmetic", "body": "<p>It's convoluted, but this computes a <code>c_short</code> object at a byte offset in <code>tab</code>  that shares its buffer, then gets a pointer to it:</p>\n\n<pre><code>from ctypes import *\n\nclass c_Foo(Structure):\n    _fields_ = [\n       (\"Bar\", POINTER(c_short)),\n       (\"end_Bar\", POINTER(c_short))\n    ]\n\ntab = (c_short*3)(1,2,3)\nfoo = c_Foo()\nfoo.Bar = tab\nfoo.end_Bar = pointer(c_short.from_buffer(tab,sizeof(c_short)*2))\nprint(tab[2])\nprint(foo.Bar[2])\nprint(foo.end_Bar[0])\ntab[2] = 4\nprint(tab[2])\nprint(foo.Bar[2])\nprint(foo.end_Bar[0])\n</code></pre>\n\n<blockquote>\n<pre><code>3\n3\n3\n4\n4\n4\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 87, "user_id": 6896151, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cyhUSCczwNk/AAAAAAAAAAI/AAAAAAAAAzk/h0qqNFrjsEM/photo.jpg?sz=128", "display_name": "Olivier", "link": "https://stackoverflow.com/users/6896151/olivier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1347, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1498151580, "creation_date": 1498074520, "last_edit_date": 1498075430, "question_id": 44685080, "link": "https://stackoverflow.com/questions/44685080/python-ctypes-pointer-arithmetic", "title": "python ctypes pointer arithmetic", "body": "<p>Is it possible with ctypes to make pointer arithmetic?</p>\n\n<p>First, let me show you what I'm trying to do in C</p>\n\n<pre><code>#include &lt;stdio.h&gt;\n\nstruct Foo {\n short *Bar;\n short *end_Bar;\n};\n\nint main() {\n  short tab[3] = {1,2,3};\n  struct Foo foo;\n  foo.Bar = tab;\n  foo.end_Bar = foo.Bar + 2; // Pointer arithmetic\n  short *temp = foo.Bar;\n  while(temp != foo.end_Bar)\n    printf(\"%hi\", *(temp++));\n  printf(\"%hi\", *(foo.end_Bar));\n  return 0;\n}\n</code></pre>\n\n<p>Now you understand that what I'm doing is creating an array of integer, and keeping in reference <strong>two pointers in a structure</strong>. One pointer at the begining and one at the end, <strong>instead</strong> of keeping the first pointer and the length of the array. </p>\n\n<p>Now in Python I have an object that inherit from <strong>ctypes.Structure</strong> and as two members which are <strong>ctypes.POINTER(ctypes.c_short)</strong> type.</p>\n\n<pre><code>import ctypes\n\nclass c_Foo(ctypes.Structure):\n    _fields_ = [\n       (\"Bar\", ctypes.POINTER(ctypes.c_short)),\n       (\"end_Bar\", ctypes.POINTER(ctypes.c_short))\n    ]\n\nif __name__ == \"__main__\":\n    tab = [1,2,3]\n    foo = c_Foo()\n    foo.Bar = (c_short * len(tab))(*tab)\n    foo.end_Bar = foo.Bar + 2 # TypeError, unsupported operand\n</code></pre>\n\n<p>So now the question. Is it <strong>possible to do pointer arithmetic</strong> with ctypes? I know that you can access value of the array by it index, but I don't want that, because <strong>I don't want a length reference in my structure</strong>.</p>\n"}, {"tags": ["python", "function", "object", "methods"], "comments": [{"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 2, "creation_date": 1498074806, "post_id": 44685074, "comment_id": 76354402, "body": "What is the point of <code>createsnake()</code> rather than <code>__init__()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 3705398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d745112383c191be3de61bd9101e0e11?s=128&d=identicon&r=PG&f=1", "display_name": "Hopeless", "link": "https://stackoverflow.com/users/3705398/hopeless"}, "is_accepted": false, "score": 0, "last_activity_date": 1498074695, "creation_date": 1498074695, "answer_id": 44685136, "question_id": 44685074, "link": "https://stackoverflow.com/questions/44685074/python-objects-arent-accepting-arguments/44685136#44685136", "title": "Python objects aren&#39;t accepting arguments", "body": "<p>The problem is you are not calling the create method on an instance of Snake. It is complaining because you don't pass in a parameter to the \"self\" parameter because you are calling it on the Snake class. An instance of snake will supply the self parameter.</p>\n\n<p>try </p>\n\n<p><code>\nsnake = Snake()\nsnake.createsnake(1,1)\n</code></p>\n"}, {"tags": [], "owner": {"reputation": 8027, "user_id": 3282436, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e17caa3e07899b69539433130de1d420?s=128&d=identicon&r=PG&f=1", "display_name": "0x5453", "link": "https://stackoverflow.com/users/3282436/0x5453"}, "is_accepted": false, "score": 3, "last_activity_date": 1498074830, "creation_date": 1498074830, "answer_id": 44685164, "question_id": 44685074, "link": "https://stackoverflow.com/questions/44685074/python-objects-arent-accepting-arguments/44685164#44685164", "title": "Python objects aren&#39;t accepting arguments", "body": "<p>When a function has a <code>self</code> parameter, that means it must be called from an instance of the class.</p>\n\n<p>This means you can't call <code>createsnake</code> directly from the class <code>Snake</code>; you have to <em>make</em> a <code>Snake</code> first.</p>\n\n<pre><code>snake = Snake()\nsnake.createsnake(1, 1)\n</code></pre>\n\n<p>Alternatively, if you <em>do</em> want to be able to call the function from the <code>Snake</code> class, you should make the function static:</p>\n\n<pre><code>class Snake(object):\n    @staticmethod\n    def createsnake(x_coordinate, y_coordinate):\n        grid[x_coordinate][y_coordinate] = 2\n\nSnake.createsnake(1, 1)\n</code></pre>\n\n<p>Another option, since your function is meant to perform some sort of initialization, is to change the function to be a constructor, so that it is executed as soon as you create a new <code>Snake</code>:</p>\n\n<pre><code>class Snake(object):\n    def __init__(self, x_coordinate, y_coordinate):\n        grid[x_coordinate][y_coordinate] = 2\n\nsnake = Snake(1, 1)\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 6568310, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/aPpXF.jpg?s=128&g=1", "display_name": "Brandon Dodds", "link": "https://stackoverflow.com/users/6568310/brandon-dodds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498074830, "creation_date": 1498074487, "last_edit_date": 1498074767, "question_id": 44685074, "link": "https://stackoverflow.com/questions/44685074/python-objects-arent-accepting-arguments", "title": "Python objects aren&#39;t accepting arguments", "body": "<p>I am trying to create a snake in python, I am doing this through an object that will be a snake. I am trying to call a <code>createSnake</code> function from inside my object but the arguments aren't being accepted.</p>\n\n<p>My IDE is returning:</p>\n\n<pre><code>TypeError: createsnake() missing 1 required positional argument: 'y_coordinate'\n</code></pre>\n\n<p>Here is my snake code:</p>\n\n<pre><code>class Snake(object):\ndef createsnake(self, x_coordinate, y_coordinate):\n    grid[x_coordinate][y_coordinate] = 2\n</code></pre>\n\n<p>And here is how I am calling the method:</p>\n\n<pre><code>Snake.createsnake(1, 1)\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 17, "user_id": 8196199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d40ba9e31085d2b58377d464fa4daa4?s=128&d=identicon&r=PG&f=1", "display_name": "kalyanyellapu", "link": "https://stackoverflow.com/users/8196199/kalyanyellapu"}, "edited": false, "score": 0, "creation_date": 1498093814, "post_id": 44685065, "comment_id": 76360930, "body": "import os  server = raw_input(&quot;server name:&quot;)  var = &quot;symaccess -sid 239 list -type init | grep \\&quot;{0}\\&quot;&quot;.format(server)  wwn = os.system(var)  init = &#39;symaccess -sid 239 -type init show {0}&#39;.format(wwn)  print init  os.system(init)"}, {"owner": {"reputation": 17, "user_id": 8196199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d40ba9e31085d2b58377d464fa4daa4?s=128&d=identicon&r=PG&f=1", "display_name": "kalyanyellapu", "link": "https://stackoverflow.com/users/8196199/kalyanyellapu"}, "edited": false, "score": 0, "creation_date": 1498093989, "post_id": 44685065, "comment_id": 76360965, "body": "above is the script i used to add a output of one os.system to another os.syste,. i got the first os.system executed but for the second one i.e os.system(init) is not coming because os.system(var) should be assigned as a variable.could someone tell how to assign a variable to os.system(init)"}], "answers": [{"comments": [{"owner": {"reputation": 2565, "user_id": 1368703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95ccb92e85b56e1b19b7a1262efd06cf?s=128&d=identicon&r=PG", "display_name": "Wyrmwood", "link": "https://stackoverflow.com/users/1368703/wyrmwood"}, "edited": false, "score": 0, "creation_date": 1498076585, "post_id": 44685315, "comment_id": 76355348, "body": "subprocess.checkoutput() is New in version 2.7. OP needs 2.6.6 (though may have added this after your answer)."}], "tags": [], "owner": {"reputation": 3, "user_id": 4715059, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203698289561868/picture?type=large", "display_name": "Arjun Mahishi", "link": "https://stackoverflow.com/users/4715059/arjun-mahishi"}, "is_accepted": false, "score": 0, "last_activity_date": 1498075371, "creation_date": 1498075371, "answer_id": 44685315, "question_id": 44685065, "link": "https://stackoverflow.com/questions/44685065/python-2-6-6-need-to-add-the-output-of-os-system-command-into-another-os-syste/44685315#44685315", "title": "Python 2.6.6 - Need to add the output of OS.system command into another OS.system command", "body": "<p>Try using \"subprocess.checkoutput()\".</p>\n\n<pre><code>import subprocess\nimport os\noutput = subprocess.check_output(['symaccess -sid 456 list -type init'])\nos.system(output)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 341, "user_id": 4765657, "user_type": "registered", "profile_image": "https://graph.facebook.com/10203683263471130/picture?type=large", "display_name": "Joey Allen", "link": "https://stackoverflow.com/users/4765657/joey-allen"}, "is_accepted": false, "score": 4, "last_activity_date": 1498075820, "creation_date": 1498075820, "answer_id": 44685424, "question_id": 44685065, "link": "https://stackoverflow.com/questions/44685065/python-2-6-6-need-to-add-the-output-of-os-system-command-into-another-os-syste/44685424#44685424", "title": "Python 2.6.6 - Need to add the output of OS.system command into another OS.system command", "body": "<pre><code>import subprocess\ncmd= 'ls'\np = subprocess.Popen(cmd, shell=True, stdout=subprocess.PIPE)\nstd_out = p.communicate()\n</code></pre>\n\n<p>Here is a possible way to access the output in Python.</p>\n"}], "owner": {"reputation": 17, "user_id": 8196199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d40ba9e31085d2b58377d464fa4daa4?s=128&d=identicon&r=PG&f=1", "display_name": "kalyanyellapu", "link": "https://stackoverflow.com/users/8196199/kalyanyellapu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1737, "favorite_count": 0, "closed_date": 1595597061, "answer_count": 2, "score": 0, "last_activity_date": 1498945406, "creation_date": 1498074457, "last_edit_date": 1498945406, "question_id": 44685065, "link": "https://stackoverflow.com/questions/44685065/python-2-6-6-need-to-add-the-output-of-os-system-command-into-another-os-syste", "closed_reason": "Duplicate", "title": "Python 2.6.6 - Need to add the output of OS.system command into another OS.system command", "body": "<p>Below is the script for searching a input data in a given OS.system command ( copied to file out.txt) and prints the line of the given input data. Now I want to put the output i.e line in another OS.system command. For example <code>symaccess -sid 567 show -name xxx -type init</code> where xxx is the output of the previous OS.system command i.e line.</p>\n\n<p>Note - I can use only python 2.6.6 and the scripts related to storage</p>\n\n<pre><code>import os\nos.system('symaccess -sid 456 list -type init &gt; out.txt')\nserver = raw_input(\"server name:\")\nwith open('out.txt', 'rt') as in_f:\n     for line in in_f:\n              if server in line:\n                 print line\n</code></pre>\n\n<p>I used another method as below\nimport os server = raw_input(\"server name:\") </p>\n\n<p>var = \"symaccess -sid 239 list -type init | grep \\\"{0}\\\"\".format(server) </p>\n\n<p>wwn = os.system(var) </p>\n\n<p>init = 'symaccess -sid 239 -type init show {0}'.format(wwn) print init os.system(init)</p>\n\n<p>above is the script i used to add a output of one os.system to another os.syste,. i got the first os.system executed but for the second one i.e os.system(init) is not coming because os.system(var) should be assigned as a variable.could someone tell how to assign a variable to os.system(init) </p>\n"}, {"tags": ["python", "mysql", "authentication", "peewee"], "answers": [{"tags": [], "owner": {"reputation": 393, "user_id": 4385319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3772a14804467fbed6c49caf6dfafae5?s=128&d=identicon&r=PG&f=1", "display_name": "mkathuri", "link": "https://stackoverflow.com/users/4385319/mkathuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1499001343, "creation_date": 1499001343, "answer_id": 44871210, "question_id": 44685061, "link": "https://stackoverflow.com/questions/44685061/querying-information-for-httpbasicauth/44871210#44871210", "title": "Querying information for HTTPBasicAuth", "body": "<p>You can get rid of your <code>get_user</code> method since you are issuing a very large select query that fetches all records from user table. The <code>get_pw</code> can be redefined as:</p>\n\n<pre><code>def get_pw(username):\n    user = Users.get(Users.name == username) #assuming you have a username field in model\n    return user.password #assuming a password field\n</code></pre>\n\n<p>Also, its a good practice to define your model class as a singular noun rather than plural. So, its better to call it <strong>User</strong> rather than <strong>Users</strong>.</p>\n\n<p>This'll help you get started in no time: <a href=\"http://docs.peewee-orm.com/en/latest/peewee/quickstart.html#quickstart\" rel=\"nofollow noreferrer\">http://docs.peewee-orm.com/en/latest/peewee/quickstart.html#quickstart</a></p>\n"}], "owner": {"reputation": 11, "user_id": 8190334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd3bda66c2f2d784b08d176fa11d267?s=128&d=identicon&r=PG&f=1", "display_name": "Micha\u0142", "link": "https://stackoverflow.com/users/8190334/micha%c5%82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1530814745, "creation_date": 1498074443, "last_edit_date": 1530814745, "question_id": 44685061, "link": "https://stackoverflow.com/questions/44685061/querying-information-for-httpbasicauth", "title": "Querying information for HTTPBasicAuth", "body": "<p>For my site for auth I'm using <a href=\"https://flask-httpauth.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">https://flask-httpauth.readthedocs.io/en/latest/</a> . Now I'm trying to make it that it's using data from database. To do that i created database named Users and created columns named username and password. </p>\n\n<p>To get data from this table after defining its class as model I've made get_user functions which looks like it:</p>\n\n<pre><code>@staticmethod\n    def get_user():\n        query = (Users\n                 .select())\n        user = []\n        for s in query:\n            user.append(s)\n\n        return user\n</code></pre>\n\n<p>(I'm not sure if it's correct)</p>\n\n<p>Next I had to modify get_pw function but I also wasn't sure how to modify it so I made it look like it:</p>\n\n<pre><code>@auth.get_password\n    def get_pw(username):\n        if username in Users.get_user():\n            return users.get(Users.get_user())\n        return None\n</code></pre>\n\n<p>Now after running the site I get prompt to give login and password but those that I set up in my database doesn't seem to work so there must be a problem with get_pw function. Also I'm using peewee SQL to manage database : <a href=\"http://docs.peewee-orm.com/en/latest/peewee/querying.html\" rel=\"nofollow noreferrer\">http://docs.peewee-orm.com/en/latest/peewee/querying.html</a> </p>\n"}, {"tags": ["python", "scipy", "geospatial"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498074987, "post_id": 44685052, "comment_id": 76354501, "body": "I suspect you want the shape known as a &#39;concave hull&#39;: <a href=\"https://gis.stackexchange.com/questions/1200/what-are-definition-algorithms-and-practical-solutions-for-concave-hull\" title=\"what are definition algorithms and practical solutions for concave hull\">gis.stackexchange.com/questions/1200/&hellip;</a>."}, {"owner": {"reputation": 4503, "user_id": 6212875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63785a00c56fd72d4e9199a973920873?s=128&d=identicon&r=PG&f=1", "display_name": "Stelios", "link": "https://stackoverflow.com/users/6212875/stelios"}, "edited": false, "score": 1, "creation_date": 1498075672, "post_id": 44685052, "comment_id": 76354864, "body": "@Karlovalntin You first need to clearly define when a point is to be considered as a &quot;boundary point&quot;. In other words, why is the particular polygon you draw the &quot;boundary perimeter&quot; and not any other of the numerous polygons (not necessarily convex) one could possibly draw that would also include all points?"}, {"owner": {"reputation": 181, "user_id": 2987151, "user_type": "registered", "accept_rate": 7, "profile_image": "https://graph.facebook.com/672383644/picture?type=large", "display_name": "Karlovalentin", "link": "https://stackoverflow.com/users/2987151/karlovalentin"}, "edited": false, "score": 0, "creation_date": 1498090582, "post_id": 44685052, "comment_id": 76360223, "body": "I need to have all the points that could conform the perimeter of a polygon with the minimum area."}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1498102878, "post_id": 44685052, "comment_id": 76363092, "body": "The polygon that you show in the example is not even close to the minimum area.  Are you sure that is what you want?  Maybe you want an <a href=\"https://en.wikipedia.org/wiki/Alpha_shape\" rel=\"nofollow noreferrer\">alpha shape</a>?"}, {"owner": {"reputation": 181, "user_id": 2987151, "user_type": "registered", "accept_rate": 7, "profile_image": "https://graph.facebook.com/672383644/picture?type=large", "display_name": "Karlovalentin", "link": "https://stackoverflow.com/users/2987151/karlovalentin"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1498108926, "post_id": 44685052, "comment_id": 76364822, "body": "Yes, alpha shape is what I&#39;m looking for @WarrenWeckesser"}, {"owner": {"reputation": 181, "user_id": 2987151, "user_type": "registered", "accept_rate": 7, "profile_image": "https://graph.facebook.com/672383644/picture?type=large", "display_name": "Karlovalentin", "link": "https://stackoverflow.com/users/2987151/karlovalentin"}, "edited": false, "score": 1, "creation_date": 1498546008, "post_id": 44685052, "comment_id": 76528039, "body": "Just for reference, I&#39;ve followed this method and it worked <a href=\"http://blog.thehumangeo.com/2014/05/12/drawing-boundaries-in-python/\" rel=\"nofollow noreferrer\">blog.thehumangeo.com/2014/05/12/drawing-boundaries-in-python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33733, "user_id": 1031417, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/xlhE1.jpg?s=128&g=1", "display_name": "0x90", "link": "https://stackoverflow.com/users/1031417/0x90"}, "edited": false, "score": 1, "creation_date": 1534972623, "post_id": 46409377, "comment_id": 90900921, "body": "ConvexHull isn&#39;t necessarily the boundary!"}], "tags": [], "owner": {"reputation": 5, "user_id": 6383653, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gAtXd5GAemA/AAAAAAAAAAI/AAAAAAAAZjo/cOHYZ8Hk3-M/photo.jpg?sz=128", "display_name": "Ibrahim Abualhaol", "link": "https://stackoverflow.com/users/6383653/ibrahim-abualhaol"}, "is_accepted": false, "score": -2, "last_activity_date": 1506354892, "creation_date": 1506354892, "answer_id": 46409377, "question_id": 44685052, "link": "https://stackoverflow.com/questions/44685052/boundary-points-from-a-set-of-coordinates/46409377#46409377", "title": "Boundary points from a set of coordinates", "body": "<p>Assuming that you have all points (latitudes and longitudes) in two lists LATS, LONGS respectively, this python snippet cand do the trick. hullPoint will have the set of points that can draw the convex hull.  </p>\n\n<pre><code>import numpy as np\nfrom scipy.spatial import ConvexHull\nallPoints=np.column_stack((LATS,LONGS))\nhullPoints = ConvexHull(allPoints)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 6686506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469d51cc87870ae17a308e8ccd39d9a5?s=128&d=identicon&r=PG&f=1", "display_name": "Prasad", "link": "https://stackoverflow.com/users/6686506/prasad"}, "is_accepted": false, "score": -1, "last_activity_date": 1553436906, "creation_date": 1553436906, "answer_id": 55324709, "question_id": 44685052, "link": "https://stackoverflow.com/questions/44685052/boundary-points-from-a-set-of-coordinates/55324709#55324709", "title": "Boundary points from a set of coordinates", "body": "<p>Use Concave hull (Alpha shape) instead.</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 13034574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/911f93d80d925a2eecd10a44046654a7?s=128&d=identicon&r=PG&f=1", "display_name": "Augusto C&#233;sar", "link": "https://stackoverflow.com/users/13034574/augusto-c%c3%a9sar"}, "is_accepted": false, "score": 1, "last_activity_date": 1610410641, "creation_date": 1610410641, "answer_id": 65676336, "question_id": 44685052, "link": "https://stackoverflow.com/questions/44685052/boundary-points-from-a-set-of-coordinates/65676336#65676336", "title": "Boundary points from a set of coordinates", "body": "<p>You must use a package for convex polygons. Here is an example:</p>\n<pre><code>import alphashape\nimport matplotlib.pyplot as plt\n\npoints = put your points here (can be array)!\nalpha = 0.95 * alphashape.optimizealpha(points)\nhull = alphashape.alphashape(points, alpha)\nhull_pts = hull.exterior.coords.xy\n\nfig, ax = plt.subplots()\nax.scatter(hull_pts[0], hull_pts[1], color='red')   \n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 2987151, "user_type": "registered", "accept_rate": 7, "profile_image": "https://graph.facebook.com/672383644/picture?type=large", "display_name": "Karlovalentin", "link": "https://stackoverflow.com/users/2987151/karlovalentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5442, "favorite_count": 2, "answer_count": 3, "score": 6, "last_activity_date": 1610410641, "creation_date": 1498074410, "question_id": 44685052, "link": "https://stackoverflow.com/questions/44685052/boundary-points-from-a-set-of-coordinates", "title": "Boundary points from a set of coordinates", "body": "<p>I have a set of lat,long points, and from this points I'd like to extract the points that form the boundaries, I've used convexhull, but for my purpouse is not enough as convehull just returns the most distant points that form the polygon where all the points fit, I need ALL the points that form the peremiter, something like the image I've attached.  What could I do? Is there some kind of package ready to use instead of implement any spatial algorithm?\nThanks\n <a href=\"https://i.stack.imgur.com/SqSlN.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SqSlN.jpg\" alt=\"enter image description here\"></a> </p>\n"}]