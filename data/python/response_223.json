[{"tags": ["python", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 1, "creation_date": 1555545288, "post_id": 55737413, "comment_id": 98152606, "body": "<code>for i in a:</code> is iterating over the elements of <code>a</code> not the indexes. Thus, you are using the elements themselves as indexes into the list."}, {"owner": {"reputation": 476, "user_id": 10582772, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ENTbrqNYPZU/AAAAAAAAAAI/AAAAAAAAA0s/q24T2r8SfHY/photo.jpg?sz=128", "display_name": "Chipmunkafy", "link": "https://stackoverflow.com/users/10582772/chipmunkafy"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545334, "post_id": 55737413, "comment_id": 98152621, "body": "@JohanL How can I iterate over the indexes?"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545382, "post_id": 55737413, "comment_id": 98152634, "body": "<code>for i, e in enumerate(a):</code> will give both the index and the value."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1555545471, "post_id": 55737413, "comment_id": 98152650, "body": "@davedwards As long as the element is not repeating."}, {"owner": {"reputation": 476, "user_id": 10582772, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ENTbrqNYPZU/AAAAAAAAAAI/AAAAAAAAA0s/q24T2r8SfHY/photo.jpg?sz=128", "display_name": "Chipmunkafy", "link": "https://stackoverflow.com/users/10582772/chipmunkafy"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545545, "post_id": 55737413, "comment_id": 98152665, "body": "@JohanL so i is the index, and e, each value in the list? Am I right?"}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545566, "post_id": 55737413, "comment_id": 98152667, "body": "But are you sure you <i>want</i> the index and not the element itself? Often the element is what you really want, if you think about it."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 1, "creation_date": 1555545622, "post_id": 55737413, "comment_id": 98152674, "body": "Yes, that is true, <code>i</code> is the index and <code>e</code> is the element (or value)."}, {"owner": {"reputation": 476, "user_id": 10582772, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ENTbrqNYPZU/AAAAAAAAAAI/AAAAAAAAA0s/q24T2r8SfHY/photo.jpg?sz=128", "display_name": "Chipmunkafy", "link": "https://stackoverflow.com/users/10582772/chipmunkafy"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545720, "post_id": 55737413, "comment_id": 98152689, "body": "@JohanL Awesome thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 1323, "user_id": 10642364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8a8f956df00c66f486e255d846271e?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/10642364/ethan"}, "is_accepted": false, "score": 4, "last_activity_date": 1555546006, "last_edit_date": 1555546006, "creation_date": 1555545357, "answer_id": 55737430, "question_id": 55737413, "link": "https://stackoverflow.com/questions/55737413/python-for-loop-list-gives-indexerror/55737430#55737430", "title": "Python: For loop list gives IndexError", "body": "<p>You are referencing the value not the index. \nTry:</p>\n\n<pre><code>for i in range(len(a)):\n    print(a[i])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69906, "user_id": 6890912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d291e4dfbf14dcc8874bd4fa620fac23?s=128&d=identicon&r=PG&f=1", "display_name": "blhsing", "link": "https://stackoverflow.com/users/6890912/blhsing"}, "is_accepted": false, "score": 3, "last_activity_date": 1555545501, "creation_date": 1555545501, "answer_id": 55737444, "question_id": 55737413, "link": "https://stackoverflow.com/questions/55737413/python-for-loop-list-gives-indexerror/55737444#55737444", "title": "Python: For loop list gives IndexError", "body": "<p>You don't actually need an index in the example you give, since you are only printing the values of the items in the list, in which case printing the items directly would suffice:</p>\n\n<pre><code>for i in a:\n    print(i)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1555545925, "creation_date": 1555545925, "answer_id": 55737486, "question_id": 55737413, "link": "https://stackoverflow.com/questions/55737413/python-for-loop-list-gives-indexerror/55737486#55737486", "title": "Python: For loop list gives IndexError", "body": "<p>If you want the index of an element, it is possible to <code>enumerate</code> the data in the array, using</p>\n\n<pre><code>for i, e in enumerate(a):\n    print(a[i]) # assuming this is just a placeholder for a more complex instruction\n</code></pre>\n\n<p>gives what you want, where <code>i</code> is the index and <code>e</code>is the (value of) the element in the list. But often you do not need the index since you want to use the value of the element directly. In those cases it is better to do just</p>\n\n<pre><code>for e in a:\n    print(e)\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 10582772, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ENTbrqNYPZU/AAAAAAAAAAI/AAAAAAAAA0s/q24T2r8SfHY/photo.jpg?sz=128", "display_name": "Chipmunkafy", "link": "https://stackoverflow.com/users/10582772/chipmunkafy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 1, "accepted_answer_id": 55737486, "answer_count": 3, "score": 1, "last_activity_date": 1555546006, "creation_date": 1555545131, "question_id": 55737413, "link": "https://stackoverflow.com/questions/55737413/python-for-loop-list-gives-indexerror", "title": "Python: For loop list gives IndexError", "body": "<pre><code>a = [1, 1, 2, 3, 5, 8, 13, 21, 34, 55, 89]\n\nfor i in a:\n   print(a[i])\n\nIndexError: list index out of range\n</code></pre>\n\n<p>I don't undertand why I get this error.</p>\n"}, {"tags": ["python", "math", "trigonometry"], "comments": [{"owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "edited": false, "score": 4, "creation_date": 1555545171, "post_id": 55737406, "comment_id": 98152583, "body": "It is just a rounding error. The value you are getting of <code>-1.8369701987210297e-16</code> is extremely close to 0 and can just be interpreted as that way."}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 1, "creation_date": 1555545298, "post_id": 55737406, "comment_id": 98152610, "body": "To be clear, that <code>e-16</code> is short for &quot;multiplied by 10 to the power of negative 16&quot;, a very small number (15 zeroes after the decimal point)."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 3, "creation_date": 1555545346, "post_id": 55737406, "comment_id": 98152622, "body": "Seems like another variation of the much duplicated <a href=\"https://stackoverflow.com/q/588004/4996248\">is floating point math broken?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15430, "user_id": 4518341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eVuAv.png?s=128&g=1", "display_name": "wjandrea", "link": "https://stackoverflow.com/users/4518341/wjandrea"}, "edited": false, "score": 0, "creation_date": 1555547495, "post_id": 55737449, "comment_id": 98153007, "body": "BTW, about the <code>-0.0</code>: <a href=\"https://stackoverflow.com/q/4083401/4518341\">negative zero in python</a>"}, {"owner": {"reputation": 8425, "user_id": 1396822, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f2e818842b0436e98b279af7f69997cb?s=128&d=identicon&r=PG", "display_name": "aka.nice", "link": "https://stackoverflow.com/users/1396822/aka-nice"}, "edited": false, "score": 0, "creation_date": 1555745266, "post_id": 55737449, "comment_id": 98215650, "body": "To be even more clear, the rounding error is on cos input already, you can not represent pi with a finite number of bits after floating point..."}], "tags": [], "owner": {"reputation": 1077, "user_id": 11193926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b41eea96add6cb6141b372485c58f21b?s=128&d=identicon&r=PG&f=1", "display_name": "JamieT", "link": "https://stackoverflow.com/users/11193926/jamiet"}, "is_accepted": true, "score": 2, "last_activity_date": 1555546914, "last_edit_date": 1555546914, "creation_date": 1555545541, "answer_id": 55737449, "question_id": 55737406, "link": "https://stackoverflow.com/questions/55737406/calculate-the-sin-cos-tan-with-math-module/55737449#55737449", "title": "Calculate the sin, cos, tan with math module?", "body": "<p>Like is described in the comments, this is just a rounding error. <code>-1.8369701987210297e-16</code> is extremely close to 0 and can be viewed as such.</p>\n\n<p>If you want a number such as your expected behavior, round the result as so using <code>round(value, decimalplaces)</code>. Let's round to 2 decimal spots:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>&gt;&gt;&gt; print('cos(270) is', round(math.cos(math.radians(270)), 2))\ncos(270) is -0.0\n</code></pre>\n"}], "owner": {"reputation": 54, "user_id": 11003497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f627a6fad81e4d077085162d2d5fec22?s=128&d=identicon&r=PG&f=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/11003497/paul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 55737449, "answer_count": 1, "score": -1, "last_activity_date": 1555546914, "creation_date": 1555545069, "question_id": 55737406, "link": "https://stackoverflow.com/questions/55737406/calculate-the-sin-cos-tan-with-math-module", "title": "Calculate the sin, cos, tan with math module?", "body": "<p>My Problem is that I don't get the same calculations on python, than on my calculator:</p>\n\n<p>Calculations on Calculator in Degree mode:</p>\n\n<pre><code>cos(270)\n</code></pre>\n\n<p>that gives me:</p>\n\n<pre><code>0\n</code></pre>\n\n<p>When I put the same calculations in python:</p>\n\n<pre><code>print(math.cos(math.radians(270)))\n</code></pre>\n\n<p>I get something completely different:</p>\n\n<pre><code>-1.8369701987210297e-16\n</code></pre>\n\n<p>I guess it is a very simple Mistake I made, please help me....</p>\n"}, {"tags": ["python", "class", "oop", "data-structures"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1555545149, "post_id": 55737391, "comment_id": 98152579, "body": "You would probably need to include the class definition in your question for us to make sense of one of its methods"}, {"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1555545320, "post_id": 55737391, "comment_id": 98152616, "body": "Added the whole class"}, {"owner": {"reputation": 92827, "user_id": 369, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/DHcF2.png?s=128&g=1", "display_name": "Blorgbeard", "link": "https://stackoverflow.com/users/369/blorgbeard"}, "edited": false, "score": 2, "creation_date": 1555545534, "post_id": 55737391, "comment_id": 98152662, "body": "Can you be more specific about what you don&#39;t understand? Why wouldn&#39;t <code>self.leftChild.preorder()</code> be possible?"}, {"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555545807, "post_id": 55737391, "comment_id": 98152710, "body": "Yes. Why does <code>self.leftChild.preorder()</code> work? LeftChild is an instance attribute, correct? How does it connect to preorder method?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 2, "creation_date": 1555546082, "post_id": 55737391, "comment_id": 98152757, "body": "The thing that&#39;s not shown in your code, but is almost certainly true is <code>self.leftChild</code> and <code>self.rightChild</code> are themselves instances of <code>BinaryTree</code> so they also have a <code>preorder()</code> method."}, {"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555549423, "post_id": 55737391, "comment_id": 98153367, "body": "@MarkMeyer you want to say that outside of the class, there is something like <code>left_child=BinaryTree(data)</code>?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555549626, "post_id": 55737391, "comment_id": 98153391, "body": "@EminMammadov yes, the code doesn&#39;t show how the child nodes are added, but in most implementations they would be trees also. It doesn&#39;t have to be outside the class, but it&#39;s not shown in the class in the question."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555546840, "post_id": 55737510, "comment_id": 98152881, "body": "Thank you for the answer. I understand the recursion part. I don&#39;t fully understand OOP part. Why can I do something like self.left_child.postorder()? I cannot wrap my head around using a instance attribute, which in my understanding is variable ( I can pass any integer I want and assign it to left_child) to access a method. In my understanding, those <code>.</code> mean that I access a method within a class. So, if that would be something like <code>tree= BinaryTree()</code> and then <code>tree.post_order()</code>, no problem."}, {"owner": {"reputation": 1, "user_id": 9104727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25d2c7d91b476026332b5e19d845944?s=128&d=identicon&r=PG&f=1", "display_name": "Nathaniel", "link": "https://stackoverflow.com/users/9104727/nathaniel"}, "reply_to_user": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555547045, "post_id": 55737510, "comment_id": 98152919, "body": "Oh okay. I see where the confusion is now. Basically, python is at first kind of confusing as to what self is. If we have a node called x that we want to traverse in preorder fashion, we say x.preorder(). The x is the object, and we&#39;re saying that we want to call preorder on the node x. Self is basically the object that called the method. In this case, it would be x. So the self.left is referring to x.left, self.right is referring to x.right. Because x called the function, x becomes self. I hope that clears up some confusion."}, {"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555548806, "post_id": 55737510, "comment_id": 98153248, "body": "So, <code>self.left_child</code> actually creates an object?"}, {"owner": {"reputation": 1, "user_id": 9104727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25d2c7d91b476026332b5e19d845944?s=128&d=identicon&r=PG&f=1", "display_name": "Nathaniel", "link": "https://stackoverflow.com/users/9104727/nathaniel"}, "reply_to_user": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555555181, "post_id": 55737510, "comment_id": 98154284, "body": "No, it doesn&#39;t. It is calling the member variable that each node object shares. Each node has a left and a right node that is attached to it. Maybe this could help.   <a href=\"https://micropyramid.com/blog/understand-self-and-\" rel=\"nofollow noreferrer\">micropyramid.com/blog/understand-self-and-</a><b>init</b>-method-in-pyt&zwnj;&#8203;hon-class/"}], "tags": [], "owner": {"reputation": 1, "user_id": 9104727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25d2c7d91b476026332b5e19d845944?s=128&d=identicon&r=PG&f=1", "display_name": "Nathaniel", "link": "https://stackoverflow.com/users/9104727/nathaniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1555547610, "last_edit_date": 1555547610, "creation_date": 1555546147, "answer_id": 55737510, "question_id": 55737391, "link": "https://stackoverflow.com/questions/55737391/recursion-within-a-class-in-python/55737510#55737510", "title": "Recursion within a class in python", "body": "<p>Recursion is something that is hard to grasp when starting out with programming. One of the things that you have to realize is that, if you properly have set up base cases (eg. if self.left, if self.right, etc), you can use the function that you are working on as if it is already working.</p>\n\n<p>Let's think about an example of counting all the nodes in a tree with the function <code>countNodes()</code>:\nSay we have node x that is somewhere in the tree. When x is called to count all of the nodes of its subtree, how does it do that?\nRemember how I said that we have to pretend the function <code>countNodes()</code> exists and that it already works? Well, let's do just that.\nX needs to count itself because it is a node. Therefore the count is 1 so far. After it counted itself, it has to count all the nodes on the left and all the nodes on the right. So to count the nodes in a tree starting at any node x, we call countNodes() for the left and countNodes() for the right.</p>\n\n<p>So the code would look like this: </p>\n\n<pre><code>def countNodes(self):\n    count = 1\n    if self.left: #Checking to see if we have a left subtree\n        count += countNodes(self.left)\n    if self.right: #Checking to see if we have a right subtree\n        count += countNodes(self.right)\n    return count\n</code></pre>\n\n<p>So now that we understand recursion better, let's get back to your example. We want to traverse the tree in preorder fashion. So that means, by definition, that we have to visit our node first. Then we see if we have a left node to visit. If so we traverse the left nodes in a preorder fashion. If we have a right node, we traverse that entire tree in a preorder fashion as well.</p>\n\n<p>Biggest takeaways of recursion:</p>\n\n<ol>\n<li><p>Make sure you have good base cases (if node.right == null for example)</p></li>\n<li><p>Find the pattern of repetition. You can use the function in the function as if it already is built as long as you have properly working base cases.</p></li>\n</ol>\n\n<p>I hope that helps!</p>\n\n<p>Edit:</p>\n\n<p>To explain the self portion that I failed to answer. Self represents whatever object called the method. So if we have a node x that we wanted to do preorder traversal with we would use <code>x.preorder()</code>. Then in the function, it would look like this:</p>\n\n<pre><code>def preorder(self): #self is whatever calls this function\n    print(self.value) #whaver you want to print\n    if self.left:\n       self.left.preorder() #now in this function call, self will be self.left\n   if self.right:\n       self.right.preorder() #same idea here\n\n\nroot.preorder() #calling the function. Now self will be root.\n</code></pre>\n\n<p>I hope that clears some things up for you. Sorry for not understanding the problem at first. I hope this answers it. Let me know if you have more questions or need some more clarification.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555546558, "post_id": 55737512, "comment_id": 98152848, "body": "Thank you for your explanation. I understand the recursion part. My confusion lays in the area of OOP. In my understanding, self.left_child is the instance attribute. If that would be an object let&#39;s say <code>tree=BinaryTree()</code>, then I would understand that I can do something like <code>tree.postorder()</code>; I am using my instance to access one of the methods, in this case postorder(). However, I am using an instance attribute (in my understanding, it is a variable that will get a value that will be passed to it) and I don&#39;t understand how I can use instance attribute to access a method within that class."}, {"owner": {"reputation": 585, "user_id": 1243321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8159130125a5cd15482b3c313b968884?s=128&d=identicon&r=PG", "display_name": "Shoikana", "link": "https://stackoverflow.com/users/1243321/shoikana"}, "reply_to_user": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555591088, "post_id": 55737512, "comment_id": 98169165, "body": "left_child and right_child are also typed to be BinaryTree.  It&#39;s a little harder to see types in Python than in some other languages like Java or C++. A variable&#39;s type is determined by how you use it, so it&#39;s exactly that you call postorder() on left_child and right_child that determines that those variables are a BinaryTree."}], "tags": [], "owner": {"reputation": 585, "user_id": 1243321, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8159130125a5cd15482b3c313b968884?s=128&d=identicon&r=PG", "display_name": "Shoikana", "link": "https://stackoverflow.com/users/1243321/shoikana"}, "is_accepted": false, "score": 0, "last_activity_date": 1555546149, "creation_date": 1555546149, "answer_id": 55737512, "question_id": 55737391, "link": "https://stackoverflow.com/questions/55737391/recursion-within-a-class-in-python/55737512#55737512", "title": "Recursion within a class in python", "body": "<p>Recursion has two steps: the base case and the recursive case.  The base case stops the recursion, but from what I understand from your post, you're looking for why the recursive case works.  The key to a recursive case is that the next recurse is smaller than the one that called it.</p>\n\n<p>Your preorder function takes the root as its parameter. The first time you call preorder, you are using self as the parameter, meaning that you're taking in the whole tree.  If the root has a left child, then the next step is to consider the left subtree.  The left subtree's root is the current root's left child, so that gets passed in as a parameter. You continue to recurse down the left side as long as there is a left child.  The recursion stops when there is no left child and the code continues to the right-child if statement for that last node. </p>\n\n<p>I could continue, but not without being confusing.  (Hopefully I'm not already confusing!)  Check out <a href=\"http://www.algolist.net/Data_structures/Binary_search_tree/Lookup\" rel=\"nofollow noreferrer\">this page</a> on a binary search which is a very similar action. </p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555547246, "post_id": 55737590, "comment_id": 98152958, "body": "In the very first sentence, you <code>classInstance.methodName(params...)</code>, which makes sense. However, left_child is not a class instance, correct? So, why can I do <code>self.left_child.postorder()</code>? If it would be something like this <code>BinaryTree.postorder(self.left_child))</code>, then I would understand (this is how I solved the problem but looking at solutions and posted answers, it seems like everyone is using another method)"}, {"owner": {"reputation": 1983, "user_id": 7484259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xaFly.png?s=128&g=1", "display_name": "ELinda", "link": "https://stackoverflow.com/users/7484259/elinda"}, "reply_to_user": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "edited": false, "score": 0, "creation_date": 1555561014, "post_id": 55737590, "comment_id": 98155399, "body": "Updated answer to include inheritance. <code>left_child</code> <b>is</b> a class instance. You can do <code>self.left_child.postorder()</code> because <code>self.left_child</code> is <code>n5</code>, and <code>n5</code> is of type <code>BinaryTree</code>, since <code>n5</code> was defined using <code>n5 = BinaryTree(5)</code>."}], "tags": [], "owner": {"reputation": 1983, "user_id": 7484259, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xaFly.png?s=128&g=1", "display_name": "ELinda", "link": "https://stackoverflow.com/users/7484259/elinda"}, "is_accepted": true, "score": 0, "last_activity_date": 1555561247, "last_edit_date": 1555561247, "creation_date": 1555546907, "answer_id": 55737590, "question_id": 55737391, "link": "https://stackoverflow.com/questions/55737391/recursion-within-a-class-in-python/55737590#55737590", "title": "Recursion within a class in python", "body": "<p>In Python, <code>classInstance.methodName(params...)</code> is equivalent to invocation of some class's <code>methodName</code> method, with <code>classInstance</code> passed as <code>self</code>:</p>\n\n<ol>\n<li>Determine which class is <code>classInstance</code>, which you can get with <code>type(classInstance)</code> or <code>classInstance.__class__</code> (look for <code>classInstance = Class(...)</code> instantiation code). </li>\n<li>Determine if the class defines <code>methodName</code> with <code>self</code> as the first parameter. <code>self</code> being the first parameter indicates that it is an instance method, not class method or static method (see below for link explaining). If there is such a method, then invoke it with <code>self</code> being <code>classInstance</code>, i.e. the equivalent invocation would be <code>Class.methodName(classInstance, params...)</code>. </li>\n<li>If the class does not define <code>methodName</code>, then look for the closest ancestor that does, following documentation for <a href=\"https://docs.python.org/2/tutorial/classes.html#inheritance\" rel=\"nofollow noreferrer\">inheritance</a>, and do likewise. In this case, the equivalent invocation would look like: <code>ParentClass.methodName(classInstnace, params...)</code>.</li>\n</ol>\n\n<p>Here's an example:</p>\n\n<pre><code>n4 = BinaryTree(4)\nn5 = BinaryTree(5)\nn3 = BinaryTree(3)\nn3.left_child = n5\nn3.right_child = n4\n\"\"\"\n  3\n /  \\\n4    5\n\"\"\"\n\nn3.postorder()\n# result [5, 4, 3]\n\n</code></pre>\n\n<p>When calling <code>n3.postorder()</code></p>\n\n<ul>\n<li><code>self</code> is <code>n3</code></li>\n<li><code>self.leftchild</code> is <code>n5</code></li>\n<li><code>self.rightchild</code> is <code>n4</code>. </li>\n</ul>\n\n<p>When <code>n3.postorder()</code> is executed, the next line is <code>self.left_child.postorder()</code>, and invokes the <code>postorder</code> method with <code>self.leftchild</code> (i.e. <code>n5</code>) as the first parameter (i.e. \"self\") of <code>postorder</code>. Therefore, in this recursive call's context:</p>\n\n<ul>\n<li><code>self</code> is <code>n5</code></li>\n<li><code>self.leftchild</code> is <code>None</code></li>\n<li><code>self.rightchild</code> is <code>None</code>. </li>\n</ul>\n\n<p>Then that method call finishes and the next line, <code>self.right_child.postorder()</code> executes, and it's the same thing as above, but with <code>n4</code>, since we are back in the original context, where <code>self.right_child</code> is <code>n4</code>. </p>\n\n<p>In-depth documentation is available at: <a href=\"https://docs.python.org/3/tutorial/classes.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/tutorial/classes.html</a></p>\n\n<p>Difference between instance, class, and static methods:\n<a href=\"https://julien.danjou.info/guide-python-static-class-abstract-methods/\" rel=\"nofollow noreferrer\">https://julien.danjou.info/guide-python-static-class-abstract-methods/</a></p>\n"}], "owner": {"reputation": 105, "user_id": 11376348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MUukXYk9fUk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdA0nmBAhCXYGA0kZ3nOQkDR6qKwA/mo/photo.jpg?sz=128", "display_name": "Emin Mammadov", "link": "https://stackoverflow.com/users/11376348/emin-mammadov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 55737590, "answer_count": 3, "score": 0, "last_activity_date": 1555561247, "creation_date": 1555544949, "last_edit_date": 1555545598, "question_id": 55737391, "link": "https://stackoverflow.com/questions/55737391/recursion-within-a-class-in-python", "title": "Recursion within a class in python", "body": "<p>I know this is a very basic question and I found sample codes online but I cannot figure out why it works. </p>\n\n<p>If we need to traverse a binary tree in preorder fashion, one of the way to do so (quoted here <a href=\"http://interactivepython.org/courselib/static/pythonds/Trees/TreeTraversals.html\" rel=\"nofollow noreferrer\">http://interactivepython.org/courselib/static/pythonds/Trees/TreeTraversals.html</a>) is by using something like:</p>\n\n<pre><code>def preorder(self):\n     print(self.key)\n     if self.leftChild:\n        self.leftChild.preorder()\n     if self.rightChild:\n        self.rightChild.preorder()\n</code></pre>\n\n<p>I don't understand why doing something like <code>self.leftChild.preorder()</code> is possible. If someone can point me in the right direction, I will really appreciate it. </p>\n\n<p>EDIT:</p>\n\n<p>As suggested in the comments, I am posting the full-code I am working on. I got it from firecode:</p>\n\n<pre><code>post_ordered_list = []\nclass BinaryTree:\n\n    def __init__(self, root_data):\n        self.data = root_data\n        self.left_child = None\n        self.right_child = None\n\n    def postorder(self):\n        if self.left_child:\n            self.left_child.postorder()\n        if self.right_child:\n            self.right_child.postorder()\n        post_ordered_list.append(self.data)\n        return post_ordered_list\n\n\n    def get_right_child(self):\n        return self.right_child\n\n    def get_left_child(self):\n        return self.left_child\n\n    def set_root_val(self, obj):\n        self.data = obj\n\n    def get_root_val(self):\n        return self.data\n</code></pre>\n"}, {"tags": ["python", "selenium", "xpath", "css-selectors", "webdriverwait"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555553141, "post_id": 55737624, "comment_id": 98153917, "body": "This returns: UnexpectedTagNameException: Select only works on &lt;select&gt; elements, not on &lt;div&gt;"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555567025, "post_id": 55737624, "comment_id": 98157032, "body": "@RKelley change your locator to <code>&quot;qf_admin_practice_edit__data__status_id&quot;</code> and it should work - you want to target the <code>&lt;select&gt;</code> element itself."}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555595969, "post_id": 55737624, "comment_id": 98172186, "body": "@TodorMinakov tried changing that and it still doesn&#39;t seem to work"}, {"owner": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555607886, "post_id": 55737624, "comment_id": 98178487, "body": "@TodorMinakov Thanks!  I should have looked closer at the id.  I took that from the code instead of the html."}], "tags": [], "owner": {"reputation": 1071, "user_id": 3358202, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HgtiE.jpg?s=128&g=1", "display_name": "RKelley", "link": "https://stackoverflow.com/users/3358202/rkelley"}, "is_accepted": false, "score": 0, "last_activity_date": 1555625367, "last_edit_date": 1555625367, "creation_date": 1555547304, "answer_id": 55737624, "question_id": 55737390, "link": "https://stackoverflow.com/questions/55737390/selecting-an-item-from-the-dropdown-menu-of-a-list-using-python-selenium/55737624#55737624", "title": "Selecting an item from the dropdown menu of a list using Python + Selenium", "body": "<p>You should be able to select the option by the text or it's value:</p>\n\n<pre><code>dropDown = Select(driver.find_element_by_id(\"admin_practice_edit__data__status_id\"))\ndropDown.click()\n# Select by text\ndropDown.select_by_visible_text(\"Inactive\")\n# or by value\ndropDown.select_by_value('2')\n</code></pre>\n\n<p>You can find more information about working with dropdowns here:  <a href=\"https://seleniumhq.github.io/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.select.html\" rel=\"nofollow noreferrer\">https://seleniumhq.github.io/selenium/docs/api/py/webdriver_support/selenium.webdriver.support.select.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555593791, "post_id": 55742764, "comment_id": 98170785, "body": "Thanks! But this is throwing a TimeoutException error:  <code>raise TimeoutException(message, screen, stacktrace) TimeoutException</code>"}, {"owner": {"reputation": 26505, "user_id": 10885684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b93ef11f20d07cf796af83ae1ffe83?s=128&d=identicon&r=PG&f=1", "display_name": "KunduK", "link": "https://stackoverflow.com/users/10885684/kunduk"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555595629, "post_id": 55742764, "comment_id": 98171980, "body": "@BobG : Can you check whether element is inside any iframe?"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555596028, "post_id": 55742764, "comment_id": 98172216, "body": "It&#39;s not in an iframe. I updated the snippet of HTML code in the main post, check it out but idk if that will help at all"}, {"owner": {"reputation": 26505, "user_id": 10885684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b93ef11f20d07cf796af83ae1ffe83?s=128&d=identicon&r=PG&f=1", "display_name": "KunduK", "link": "https://stackoverflow.com/users/10885684/kunduk"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555596604, "post_id": 55742764, "comment_id": 98172560, "body": "@BobG : just curious is this main page or is it any child window on main page?"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555597164, "post_id": 55742764, "comment_id": 98172897, "body": "I think it is a child window but I&#39;m not entirely sure, it&#39;s a drop down located on another page that has one other drop-down menu, screenshot: <a href=\"https://i.imgur.com/RVuwMwC.png\" rel=\"nofollow noreferrer\">i.imgur.com/RVuwMwC.png</a>"}, {"owner": {"reputation": 26505, "user_id": 10885684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b93ef11f20d07cf796af83ae1ffe83?s=128&d=identicon&r=PG&f=1", "display_name": "KunduK", "link": "https://stackoverflow.com/users/10885684/kunduk"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555597466, "post_id": 55742764, "comment_id": 98173087, "body": "I think you need to switch child window first then my code will work.do you know how switch window right?"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555599084, "post_id": 55742764, "comment_id": 98174004, "body": "no I do not know, can you explain pls?  if by child window you mean it pops up its own individual window and isnt located on the main page then no, it&#39;s a main page, there&#39;s no pop-up that happens when i click the drop-down, the menu just shows as expected"}, {"owner": {"reputation": 26505, "user_id": 10885684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b93ef11f20d07cf796af83ae1ffe83?s=128&d=identicon&r=PG&f=1", "display_name": "KunduK", "link": "https://stackoverflow.com/users/10885684/kunduk"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555600545, "post_id": 55742764, "comment_id": 98174859, "body": "I am really confuse now.The html content which you have posted it is working with my code.However if possible can you please share url here."}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555602286, "post_id": 55742764, "comment_id": 98175873, "body": "Unfortunately I can&#39;t link as it&#39;s part of a admin portal of a site"}, {"owner": {"reputation": 1410, "user_id": 7013205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0-NIZhYs9ok/AAAAAAAAAAI/AAAAAAAAABw/UhhDdIcg9lA/photo.jpg?sz=128", "display_name": "S Ahmed", "link": "https://stackoverflow.com/users/7013205/s-ahmed"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555616685, "post_id": 55742764, "comment_id": 98182076, "body": "@KunduK The <code>&lt;select&gt;</code> element most probably not visible or clickable. Change the waiting condition to <code>presence_of_element_located</code> and it should work.   @BobG Could you please try changing the expected condition - <code>expected_conditions.element_to_be_clickable</code> to <code>expected_conditions.presence_of_element_located</code> ?"}], "tags": [], "owner": {"reputation": 26505, "user_id": 10885684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66b93ef11f20d07cf796af83ae1ffe83?s=128&d=identicon&r=PG&f=1", "display_name": "KunduK", "link": "https://stackoverflow.com/users/10885684/kunduk"}, "is_accepted": false, "score": 0, "last_activity_date": 1555578671, "creation_date": 1555578671, "answer_id": 55742764, "question_id": 55737390, "link": "https://stackoverflow.com/questions/55737390/selecting-an-item-from-the-dropdown-menu-of-a-list-using-python-selenium/55742764#55742764", "title": "Selecting an item from the dropdown menu of a list using Python + Selenium", "body": "<p>Your locator <code>ID</code> is wrong to identify the <code>Select</code> element.However to select an element it isn't necessary to click on the element.You can assign the select element first by locator and then use following method to access the element.</p>\n\n<pre><code>element.select_by_visible_text(\"text\")\nelement.select_by_index(index number)\nelement.select_by_value(\"option value\")\n</code></pre>\n\n<p>However it is best practice to use <code>WebDriverWait</code> when accessing any webpage.I have provided the code hope this helps.</p>\n\n<pre><code>from selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions\nfrom selenium import webdriver\nfrom selenium.webdriver.support.select import Select\n\ndriver=webdriver.Chrome()\ndriver.get(\"url here\")\ndropdownelement=WebDriverWait(driver,20).until(expected_conditions.element_to_be_clickable((By.ID,'qf_admin_practice_edit__data__status_id')))\nselect=Select(dropdownelement)\nselect.select_by_visible_text(\"Inactive\")\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>select.select_by_index(1)\n</code></pre>\n\n<p>OR</p>\n\n<pre><code>select.select_by_value(\"2\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555593069, "post_id": 55746403, "comment_id": 98170318, "body": "Hi, this is throwing: raise TimeoutException(message, screen, stacktrace)  TimeoutException"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555593406, "post_id": 55746403, "comment_id": 98170540, "body": "Checkout the updated answer and let me know the status"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 1, "creation_date": 1555594050, "post_id": 55746403, "comment_id": 98170927, "body": "Still raises the TimeoutException :("}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555594141, "post_id": 55746403, "comment_id": 98170971, "body": "Does the <i>drop down menu and opens it up</i> as I have used your <code>id</code> in the form of a <code>css_selector</code> and <code>xpath</code>"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555594294, "post_id": 55746403, "comment_id": 98171080, "body": "Yes it opens the drop down menu but then it doesn&#39;t seem to be able to click on or select the option within the menu. Screenshot of where the program gets to just before throwing that error:  <a href=\"https://i.imgur.com/sW2KkDQ.png\" rel=\"nofollow noreferrer\">i.imgur.com/sW2KkDQ.png</a>"}, {"owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "edited": false, "score": 0, "creation_date": 1555596103, "post_id": 55746403, "comment_id": 98172257, "body": "I updated the snippet of HTML code in the main post, idk if that will help you possibly diagnose this :)"}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 0, "last_activity_date": 1555593232, "last_edit_date": 1555593232, "creation_date": 1555591649, "answer_id": 55746403, "question_id": 55737390, "link": "https://stackoverflow.com/questions/55737390/selecting-an-item-from-the-dropdown-menu-of-a-list-using-python-selenium/55746403#55746403", "title": "Selecting an item from the dropdown menu of a list using Python + Selenium", "body": "<p>The desired <em>DropDown</em> is not the <code>&lt;select&gt;</code> tag as it is having the <code>class</code> <em>attribute</em> as <strong>selectric-hide-select</strong>. To <code>click()</code> on the element with text as <strong>Active</strong> from the <em>DropDown</em> using <a href=\"https://stackoverflow.com/questions/54459701/what-is-selenium-and-what-is-webdriver/54482491#54482491\">Selenium</a> through <em>Python</em> you need to induce <em>WebDriverWait</em> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n\n<ul>\n<li><p>Using <code>CSS_SELECTOR</code>:</p>\n\n<pre><code>driver.find_element_by_css_selector(\"div.qf-select-wrapper#qf_admin_practice_edit__data__status_id__wrapper\").click()\nWebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.CSS_SELECTOR, \"div.selectric-items&gt;div.selectric-scroll li.qf-option[data-index='0']\"))).click()\n</code></pre></li>\n<li><p>Using <code>XPATH</code>:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//div[@class='qf-select-wrapper' and @id='qf_admin_practice_edit__data__status_id__wrapper']\").click()\nWebDriverWait(driver, 20).until(EC.visibility_of_element_located((By.XPATH, \"//div[@class='selectric-items']/div[@class='selectric-scroll']//li[@class='qf-option' and text()='Active']\"))).click()\n</code></pre></li>\n<li><p><strong>Note</strong> : You have to add the following imports :</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1555603064, "creation_date": 1555603064, "answer_id": 55749782, "question_id": 55737390, "link": "https://stackoverflow.com/questions/55737390/selecting-an-item-from-the-dropdown-menu-of-a-list-using-python-selenium/55749782#55749782", "title": "Selecting an item from the dropdown menu of a list using Python + Selenium", "body": "<p>Figured it out but it's an ugly solution that I don't like, but it works.</p>\n\n<pre><code>        openDropDown = driver.find_element_by_id('qf_admin_practice_edit__data__status_id__wrapper').click()\n        swapToActive = driver.switch_to.active_element\n        swapToActive.send_keys(Keys.UP)\n        swapToActive.send_keys(Keys.UP)\n        swapToActive.send_keys(Keys.UP)\n        swapToActive.send_keys(Keys.UP)\n        swapToActive.send_keys(Keys.UP)\n        swapToActive.send_keys(Keys.RETURN)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11376298, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SJVQInHoJCw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMTelffmNJ8YdmqQhw25znI6U50A/mo/photo.jpg?sz=128", "display_name": "Bob G", "link": "https://stackoverflow.com/users/11376298/bob-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2243, "favorite_count": 0, "accepted_answer_id": 55749782, "answer_count": 4, "score": 0, "last_activity_date": 1555625367, "creation_date": 1555544938, "last_edit_date": 1555620437, "question_id": 55737390, "link": "https://stackoverflow.com/questions/55737390/selecting-an-item-from-the-dropdown-menu-of-a-list-using-python-selenium", "title": "Selecting an item from the dropdown menu of a list using Python + Selenium", "body": "<p>I'm trying to select an element from an unordered list using Selenium in Python. My current code clicks on the drop down menu and opens it up, but I'm having trouble getting it to click on an item in the list.</p>\n\n<p>I'm trying to get it to click on Inactive.</p>\n\n<p>Here's the HTML snippet:</p>\n\n<pre><code>&lt;form method=\"post\" action=\"/user/admin/user/practice/edit/18\" id=\"qf_admin_practice_edit\" class=\"qf-form\"\n      onsubmit=\"return validate(this)\"&gt;\n    &lt;fieldset id=\"qf_admin_practice_edit__data\" class=\"qf-fieldset\"&gt;\n        &lt;legend&gt;Edit Practice&lt;/legend&gt;\n        &lt;div class=\"qf-select-wrapper\" id=\"qf_admin_practice_edit__data__status_id__wrapper\"&gt;\n        &lt;span class=\"qf-label-span\" id=\"qf_admin_practice_edit__data__status_id__label_span\"&gt;\n            &lt;label id=\"qf_admin_practice_edit__data__status_id__label\" for=\"qf_admin_practice_edit__data__status_id\"&gt;Practice Status&lt;/label&gt;\n        &lt;/span&gt;\n            &lt;span class=\"qf-select-span\" id=\"qf_admin_practice_edit__data__status_id__span\"&gt;\n            &lt;span class=\"qf-select-inner\" id=\"qf_admin_practice_edit__data__status_id__inner\"&gt;\n                &lt;div class=\"selectric-wrapper selectric-qf-select selectric-above selectric-open\"&gt;\n                    &lt;div class=\"selectric-hide-select\"&gt;\n                &lt;select title=\"Practice Status\" name=\"admin_practice_edit__data__status_id\"\n                        id=\"qf_admin_practice_edit__data__status_id\" class=\"qf-select\" tabindex=\"-1\"&gt;\n                    &lt;option value=\"1\" class=\"qf-option\"&gt;Active&lt;/option&gt;\n                    &lt;option value=\"2\" class=\"qf-option\"&gt;Inactive&lt;/option&gt;\n                    &lt;option value=\"3\" class=\"qf-option\"&gt;Pending&lt;/option&gt;\n                    &lt;option value=\"4\" class=\"qf-option\"&gt;Billing Suspension&lt;/option&gt;\n                    &lt;option value=\"5\" class=\"qf-option\"&gt;Activity Suspension&lt;/option&gt;\n                    &lt;option value=\"6\" class=\"qf-option\"&gt;Declined&lt;/option&gt;\n                    &lt;option value=\"7\" selected=\"selected\" class=\"qf-option\"&gt;Deleted&lt;/option&gt;\n                    &lt;option value=\"8\" class=\"qf-option\"&gt;Cancelled&lt;/option&gt;\n                    &lt;option value=\"9\" class=\"qf-option\"&gt;Reschedule&lt;/option&gt;\n                    &lt;option value=\"10\" class=\"qf-option\"&gt;Expired&lt;/option&gt;\n                    &lt;option value=\"11\" class=\"qf-option\"&gt;New&lt;/option&gt;\n                &lt;/select&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"selectric\"&gt;\n                    &lt;span class=\"label\"&gt;Deleted&lt;/span&gt;\n                        &lt;b class=\"button\"&gt;\u25be&lt;/b&gt;\n                &lt;/div&gt;\n                    &lt;div class=\"selectric-items\" tabindex=\"-1\" style=\"width: 718px; height: 300px;\"&gt;\n                        &lt;div class=\"selectric-scroll\"&gt;\n                            &lt;ul&gt;\n                                &lt;li data-index=\"0\" class=\"qf-option\"&gt;Active&lt;/li&gt;\n                                &lt;li data-index=\"1\" class=\"qf-option\"&gt;Inactive&lt;/li&gt;\n                                &lt;li data-index=\"2\" class=\"qf-option\"&gt;Pending&lt;/li&gt;\n                                &lt;li data-index=\"3\" class=\"qf-option\"&gt;Billing Suspension&lt;/li&gt;\n                                &lt;li data-index=\"4\" class=\"qf-option\"&gt;Activity Suspension&lt;/li&gt;\n                                &lt;li data-index=\"5\" class=\"qf-option\"&gt;Declined&lt;/li&gt;\n                                &lt;li data-index=\"6\" class=\"qf-option selected highlighted\"&gt;Deleted&lt;/li&gt;\n                                &lt;li data-index=\"7\" class=\"qf-option\"&gt;Cancelled&lt;/li&gt;\n                                &lt;li data-index=\"8\" class=\"qf-option\"&gt;Reschedule&lt;/li&gt;\n                                &lt;li data-index=\"9\" class=\"qf-option\"&gt;Expired&lt;/li&gt;\n                                &lt;li data-index=\"10\" class=\"qf-option last\"&gt;New&lt;/li&gt;\n                            &lt;/ul&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;input class=\"selectric-input\" tabindex=\"0\"&gt;\n                &lt;/div&gt;\n        &lt;/span&gt;\n      &lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/fieldset&gt;\n    &lt;div class=\"qf-button-wrapper\" id=\"qf_admin_practice_edit__submit__wrapper\"&gt;\n        &lt;button type=\"submit\" value=\"Submit\" id=\"qf_admin_practice_edit__submit\" class=\"qf-button\"&gt;\n            &lt;span&gt;Submit&lt;/span&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;input value=\"2449978437\" type=\"hidden\" name=\"qf\" class=\"qf-hidden-input qf-input\"&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>I'm selecting/opening up the drop down menu using:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>clickDropDown = driver.find_element_by_id('qf_admin_practice_edit__data__status_id__wrapper').click()\n</code></pre>\n"}, {"tags": ["python", "kivy"], "comments": [{"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1555545272, "post_id": 55737385, "comment_id": 98152601, "body": "Which method are you calling, and where?"}, {"owner": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "reply_to_user": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1555545401, "post_id": 55737385, "comment_id": 98152636, "body": "@el3ien sorry I meant function"}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1555545783, "post_id": 55737385, "comment_id": 98152704, "body": "Method or function, ok. But which one are you calling and where?"}, {"owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1555545854, "post_id": 55737385, "comment_id": 98152717, "body": "I mean, which one is not doing what you expect?"}, {"owner": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "reply_to_user": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "edited": false, "score": 0, "creation_date": 1555546008, "post_id": 55737385, "comment_id": 98152745, "body": "change_screen() is called when create() is called, change_screen() should change the screen but it doesn\u2019t."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "edited": false, "score": 0, "creation_date": 1555548187, "post_id": 55737525, "comment_id": 98153146, "body": "when I do this I get:  AttributeError: &#39;ScreenManagement&#39; object has no attribute &#39;manager&#39;"}, {"owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "reply_to_user": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "edited": false, "score": 0, "creation_date": 1555548627, "post_id": 55737525, "comment_id": 98153224, "body": "Remove all references of <code>manager: screen_manager</code> in kv file. Because each screen has by default a property <code>manager</code> that gives you the instance of the <code>ScreenManager</code> used."}, {"owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "reply_to_user": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "edited": false, "score": 0, "creation_date": 1555549006, "post_id": 55737525, "comment_id": 98153291, "body": "Replace <code>self.root.manager.current = &quot;two&quot;</code> with <code>self.root.current = &quot;two&quot;</code>"}], "tags": [], "owner": {"reputation": 13781, "user_id": 6366098, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xw9V6.png?s=128&g=1", "display_name": "ikolim", "link": "https://stackoverflow.com/users/6366098/ikolim"}, "is_accepted": true, "score": 0, "last_activity_date": 1555549198, "last_edit_date": 1555549198, "creation_date": 1555546246, "answer_id": 55737525, "question_id": 55737385, "link": "https://stackoverflow.com/questions/55737385/how-do-i-fix-the-screen-not-being-displayed-after-function/55737525#55737525", "title": "How do I fix the screen not being displayed after function?", "body": "<h1>Switching Screen</h1>\n\n<p>After calling method <code>create()</code>, if you want to go to <code>ScreenTwo</code> then replace <code>ScreenManagement.current = \"ScreenTwo\"</code> with <code>self.root.current = 'two'</code></p>\n\n<h2>Snippets</h2>\n\n<pre><code>def change_screen(self, *args):\n    self.root.current = \"two\"\n</code></pre>\n\n<h1>Accessing Attributes in another screen</h1>\n\n<p>Since you have used ObjectProperties to linked up the screens, you can access variables in ScreenTwo in two methods. </p>\n\n<h2>Method 1</h2>\n\n<p>Using <code>self.root.screen_one.ids.id_name</code> or <code>self.root.screen_two.ids.id_name</code></p>\n\n<h3>Snippets</h3>\n\n<pre><code>self.root.screen_one.ids.action_entry.text\nself.root.screen_one.ids.streak_entry.text\nself.root.screen_one.ids.day_entry.text\nself.root.screen_one.ids.hour_entry.text\nself.root.screen_one.ids.minute_entry.text\n\nself.root.screen_two.ids.streak_zone\nself.root.screen_two.ids.high_lable.text\n</code></pre>\n\n<h2>Method 2</h2>\n\n<p>You are already using one of it i.e. <code>obj = self.root.get_screen('one')</code></p>\n"}, {"tags": [], "owner": {"reputation": 4749, "user_id": 2257377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f6dZz.jpg?s=128&g=1", "display_name": "el3ien", "link": "https://stackoverflow.com/users/2257377/el3ien"}, "is_accepted": false, "score": 0, "last_activity_date": 1555547811, "last_edit_date": 1555547811, "creation_date": 1555546412, "answer_id": 55737542, "question_id": 55737385, "link": "https://stackoverflow.com/questions/55737385/how-do-i-fix-the-screen-not-being-displayed-after-function/55737542#55737542", "title": "How do I fix the screen not being displayed after function?", "body": "<p>You are calling <code>change_screen</code> from the class <code>ScreenManagement.current = \"ScreenTwo\"</code>. since your manager is your root, try <code>self.root.current</code></p>\n"}], "owner": {"reputation": 11, "user_id": 10008435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0075ff4b3bb197453fef876b60279fd7?s=128&d=identicon&r=PG&f=1", "display_name": "EastCoastYam", "link": "https://stackoverflow.com/users/10008435/eastcoastyam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 55737525, "answer_count": 2, "score": 0, "last_activity_date": 1555549198, "creation_date": 1555544873, "last_edit_date": 1555545387, "question_id": 55737385, "link": "https://stackoverflow.com/questions/55737385/how-do-i-fix-the-screen-not-being-displayed-after-function", "title": "How do I fix the screen not being displayed after function?", "body": "<p>I want to save an object and then move to the next screen. The code I have only saves the object and remains on the same page. My main problem I think, is being able to connect my kv code and python code. I think the program doesn't know what the variable for ScreenTwo is.  How would I fix this?\nThis is the code that is probably affecting it:</p>\n\n<pre><code>class MainScreen(Screen):\n    pass\n\nclass ScreenOne(Screen):\n    pass\n\nclass ScreenTwo(Screen):\n    pass\n\nclass ScreenManagement(ScreenManager):\n    main_screen = ObjectProperty(None)\n    screen_one = ObjectProperty(None)\n    screen_two = ObjectProperty(None)\n\n</code></pre>\n\n<pre><code>presentation = Builder.load_file(\"StreakStar.kv\")\n\nclass MainApp(App):\n    def build(self): # build() returns an instance\n        self.store = JsonStore(\"streak.json\")\n\n        return presentation\n\n    def change_screen(self, *args):\n        ScreenManagement.current = \"ScreenTwo\"\n\n    def display_btn(self):\n        obj = self.root.get_screen('one')\n\n        for key in self.store:\n            streak_button = Button(text=key)\n            obj.ids.streak_zone.add_widget(streak_button)\n\n\n    # creates the Streak object\n    def create(self):\n        obj = self.root.get_screen('one') # get info from ScreenOne\n        self.streak = Streak(obj.ids.action_entry.text, obj.ids.streak_entry.text,\n                            obj.ids.day_entry.text, obj.ids.hour_entry.text,\n                            obj.ids.minute_entry.text)\n\n        empty_error = \"Make sure to fill out all boxes!\"\n\n        popup = Popup(title=\"Not filled\", content=Label(text=empty_error),\n                     size_hint=(None, None), size=(300, 100))\n\n\n\n        # error handling and calculating total seconds\n        parsed = False\n        try:\n            total = ((int(self.streak.day) * 86400) + (int(self.streak.hour) * 3600) +\n                    (int(self.streak.minute) * 60)) # convert into seconds\n            parsed = True\n            # delete later and replace with return\n            print(\"[seconds:\", total,']' , \"[action:\", self.streak.action,']',\n                 \"[action number:\", self.streak.action_num,']')\n\n            self.store.put(self.streak.action, action=self.streak.action,\n                          action_num=self.streak.action_num, seconds=total,\n                          score=self.streak.score)\n\n            self.change_screen(self)\n\n        except ValueError as error:\n            popup.open()\n</code></pre>\n\n<p>.kv code:</p>\n\n<pre><code>ScreenManagement:\n    id: screen_manager\n\n    main_screen: main_screen\n    screen_one: screen_one\n    screen_two: screen_two\n\n    transition: SlideTransition()\n\n    MainScreen:\n        id: main_screen\n        name: \"main\"\n        manager: screen_manager\n\n    ScreenOne:\n        id: screen_one\n        name: \"one\"\n        manager: screen_manager\n\n    ScreenTwo:\n        id: screen_two\n        name: \"two\"\n        manager: screen_manager\n\n...\n\n        Button: # this button is apart of ScreenOne\n            text: \"Add\"\n            size: 50, 25\n            size_hint: None, None\n            font_size: 18\n            on_press: app.create()\n\n&lt;ScreenTwo&gt;\n    id: screen_two\n    name: \"two\"\n    GridLayout:\n        cols: 2\n        rows: 1\n        BoxLayout:\n            id: streak_zone\n            orientation: 'vertical'\n        AnchorLayout:\n            anchor_x: \"center\"\n            anchor_y: \"center\"\n            Label:\n                id: high_lable\n                text: \"Highest Streak: \"\n                size_hint: None, None\n                font_size: 20\n\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1555545039, "post_id": 55737382, "comment_id": 98152560, "body": "Maybe try replacing <code>return [wrap_text]</code> with <code>return wrap_text.split(&quot;\\n&quot;)</code>"}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "reply_to_user": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1555545905, "post_id": 55737382, "comment_id": 98152727, "body": "This split the string after 100 characters and adds a comma in the same line"}, {"owner": {"reputation": 19276, "user_id": 8591431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AqHwnjWu2tM/AAAAAAAAAAI/AAAAAAAAFrE/DVc4w4e1pDc/photo.jpg?sz=128", "display_name": "Devesh Kumar Singh", "link": "https://stackoverflow.com/users/8591431/devesh-kumar-singh"}, "edited": false, "score": 0, "creation_date": 1555552656, "post_id": 55737382, "comment_id": 98153858, "body": "Check my answer below and see if it works for you"}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555548377, "post_id": 55737565, "comment_id": 98153181, "body": "I can see it returns a list fine. but how will I be to get new line pagination? I hope you have seen the expected result"}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555548470, "post_id": 55737565, "comment_id": 98153196, "body": "I want to split the long string into chunks string after a certain number of characters"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555548513, "post_id": 55737565, "comment_id": 98153204, "body": "Print the items in the list one at a time. Or add in the new line character in between. If you want a page count do len(list) and that will be max pages, then count each one as you print it out. Beyond that what I gave you gives you the output you need, now it depends on how you are displaying it to help you further."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555554526, "post_id": 55737565, "comment_id": 98154138, "body": "@DanielOtieno I updated my code to add pagination.  I tested it and it works properly."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555583008, "post_id": 55737565, "comment_id": 98164762, "body": "What output are you expecting to get? The code I gave does pagination in the exact method you gave and uses a width of 100 characters which you can change to any length. I\u2019m not sure what other output you could want."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 1, "creation_date": 1555583154, "post_id": 55737565, "comment_id": 98164824, "body": "You can\u2019t edit it in that way, when you return it will only send out the first item of the loop which would only be the first message and not the others. To loop through multiples you can print them inside the function and return nothing, or you can print them outside of the function and return the list. But you can\u2019t do only half of one."}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555583740, "post_id": 55737565, "comment_id": 98165140, "body": "Thank you for the support, but I am still not getting the correct output   here is my updated code   <code>def smart_collect():     text = input(&#39;Please Enter a text: &#39;)     dedented_text = textwrap.dedent(text).strip()     wrap_text = textwrap.wrap(dedented_text, width=100)     max_page = len(wrap_text)     for i in range(0, max_page):         return(f&#39;{wrap_text[i]} ({i+1}&#47;{max_page})&#39;)</code>"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 1, "creation_date": 1555583900, "post_id": 55737565, "comment_id": 98165235, "body": "You cannot return in the middle of a for loop or it will only return the first item of the loop. You have to print inside the function or outside the function. Can\u2019t return only one item of a list. Return stops the function from continuing."}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555584461, "post_id": 55737565, "comment_id": 98165547, "body": "Apart from the <code>return</code> is the update code correct? sorry I am a beginner and I am trying to understand every concept"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555585177, "post_id": 55737565, "comment_id": 98165933, "body": "Yes everything else looks fine to me."}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555585573, "post_id": 55737565, "comment_id": 98166157, "body": "If there is any part you don\u2019t understand let me know and I will explain what it is. I would recommend using my exact code and testing it, then making small changes and testing one change at a time to make sure the change is correct."}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555586004, "post_id": 55737565, "comment_id": 98166355, "body": "I have updated the code above, Kindly can you review it"}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555586387, "post_id": 55737565, "comment_id": 98166575, "body": "I don&#39;t where I am doing it wrong but it breaks whenever I paste text on the terminal to run it hence getting weird output. let me update the input and output I am getting"}, {"owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "reply_to_user": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 1, "creation_date": 1555586816, "post_id": 55737565, "comment_id": 98166794, "body": "The text you have above has new lines at the end of every line meaning if you directly copy and paste that to terminal it will send each line one at a time. So your first line is getting sent and processed and then each new line is just like you pasted that line in terminal meaning it thinks it should be code, causing an error. Do a delete at the end of every line in your input to make sure it\u2019s actually a single paragraph and not a bunch of separate lines before using it as an input."}, {"owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "edited": false, "score": 0, "creation_date": 1555590710, "post_id": 55737565, "comment_id": 98168947, "body": "Thank you very Much Sir. It&#39;s now working fine. once again Thank you"}], "tags": [], "owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "is_accepted": true, "score": 1, "last_activity_date": 1555554469, "last_edit_date": 1555554469, "creation_date": 1555546654, "answer_id": 55737565, "question_id": 55737382, "link": "https://stackoverflow.com/questions/55737382/how-to-write-function-that-takes-in-a-string-message-and-returns-a-list-of-strin/55737565#55737565", "title": "How to write function that takes in a string message and returns a list of string messages with pagination", "body": "<p>You can't use <code>textwrap.fill()</code> here for your purposes:</p>\n\n<blockquote>\n  <p>Wraps the single paragraph in text, and returns a single string containing the wrapped paragraph.</p>\n</blockquote>\n\n<p>Instead, you need to use <code>textwrap.wrap()</code></p>\n\n<blockquote>\n  <p>Wraps the single paragraph in text (a string) so every line is at most width characters long. Returns a list of output lines, without final newlines.</p>\n</blockquote>\n\n<p>Since it already returns a list, there isn't much left for you to do here.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def smart_collect():\n    text = input('Please Enter a text: ')\n    dedented_text = textwrap.dedent(text).strip()\n    wrap_text = textwrap.wrap(dedented_text, width=100)\n    return wrap_text\n\nprint(smart_collect())\n</code></pre>\n\n<p>Now that you have a list of strings that are <code>width=100</code> characters long, you can now do whatever it is you want with your strings. For example, if you wanted to print them you would do:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for each in smart_collect():\n    print(each)\n</code></pre>\n\n<p>Now if you wanted to add pagination, you could do this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>list_strings = smart_collect()\nmax_page = len(list_strings)\nfor i in range(0, max_page):\n    print(f'{list_strings[i]} ({i+1}/{max_page})')\n</code></pre>\n\n<p>For your input, your result (with width=100) looks like this:</p>\n\n<blockquote>\n  <p>As a reminder, you have an appointment with Dr. Smith tomorrow at 3:30 pm. If you are unable to make (1/3)<br>\n  this appointment, please call our customer service line at least 1 hour before your scheduled (2/3)<br>\n  appointment time. (3/3)  </p>\n</blockquote>\n"}], "owner": {"reputation": 55, "user_id": 9635966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BwHVA.jpg?s=128&g=1", "display_name": "Daniel Otieno", "link": "https://stackoverflow.com/users/9635966/daniel-otieno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55737565, "answer_count": 1, "score": 4, "last_activity_date": 1560541702, "creation_date": 1555544836, "last_edit_date": 1555586713, "question_id": 55737382, "link": "https://stackoverflow.com/questions/55737382/how-to-write-function-that-takes-in-a-string-message-and-returns-a-list-of-strin", "title": "How to write function that takes in a string message and returns a list of string messages with pagination", "body": "<p>I want to write a function that takes in a string message and returns a list of string messages with pagination if needed.</p>\n\n<p>This is what I have </p>\n\n<pre><code>import textwrap\n\ndef smart_collect():\n    text = input('Please Enter a text: ')\n    dedented_text = textwrap.dedent(text).strip()\n    wrap_text = textwrap.wrap(dedented_text, width=212)\n    max_page = len(wrap_text)\n\n    for i in range(0, max_page):\n        print(f'{wrap_text[i]} ({i+1}/{max_page})')\n\n\nsmart_collect()\n</code></pre>\n\n<h3>Input Text/String:</h3>\n\n<pre><code>As a reminder, you have an appointment with Dr. Smith tomorrow at \n3:30 pm. If you are unable to make this appointment, please call our \ncustomer service line at least 1 hour before your scheduled \nappointment time.\n</code></pre>\n\n<h3>My Output:</h3>\n\n<pre><code>As a reminder, you have an appointment with Dr. Smith tomorrow at(1/1)\n3:30 pm. If you are unable to make this appointment, please call our \n3:30: command not found\ncustomer service line at least 1 hour before your scheduled customer: \ncommand not found\nappointment time.\n</code></pre>\n\n<h3>Expected Results</h3>\n\n<p>As an example, the following message has 212 characters:</p>\n\n<pre><code>As a reminder, you have an appointment with Dr. Smith tomorrow at \n3:30 pm. If you are unable to make this appointment, please call our \ncustomer service line at least 1 hour before your scheduled \nappointment time.\n</code></pre>\n\n<p>The message should be sent in two chunks as such:</p>\n\n<pre><code>As a reminder, you have an appointment with Dr. Smith tomorrow at \n3:30 pm. If you are unable to make this appointment, please call our \ncustomer service  (1/2)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>line at least 1 hour before your scheduled appointment time. (2/2)\n</code></pre>\n"}, {"tags": ["python", "database", "flask", "sqlalchemy"], "comments": [{"owner": {"reputation": 31, "user_id": 7443334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211727304487083/picture?type=large", "display_name": "Wise Osagie", "link": "https://stackoverflow.com/users/7443334/wise-osagie"}, "edited": false, "score": 0, "creation_date": 1555544814, "post_id": 55737373, "comment_id": 98152526, "body": "here is my code...."}], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 11117210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2d5aa68aac6b9fe841dc9221c477dd8?s=128&d=identicon&r=PG&f=1", "display_name": "truth", "link": "https://stackoverflow.com/users/11117210/truth"}, "is_accepted": false, "score": 1, "last_activity_date": 1555564401, "creation_date": 1555564401, "answer_id": 55739502, "question_id": 55737373, "link": "https://stackoverflow.com/questions/55737373/how-can-i-get-the-value-of-a-radiofield-using-flask-form/55739502#55739502", "title": "How can I get the value of a RadioField using flask form?", "body": "<p>Your form needs to get data from the request.  Replace:</p>\n\n<pre><code>form = AnswerForm()\n</code></pre>\n\n<p>With:</p>\n\n<pre><code>form = AnswerForm(request.form)\n</code></pre>\n\n<p>For details: <a href=\"http://flask.pocoo.org/docs/1.0/patterns/wtforms/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/1.0/patterns/wtforms/</a></p>\n"}], "owner": {"reputation": 31, "user_id": 7443334, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211727304487083/picture?type=large", "display_name": "Wise Osagie", "link": "https://stackoverflow.com/users/7443334/wise-osagie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 455, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555564401, "creation_date": 1555544726, "last_edit_date": 1555546415, "question_id": 55737373, "link": "https://stackoverflow.com/questions/55737373/how-can-i-get-the-value-of-a-radiofield-using-flask-form", "title": "How can I get the value of a RadioField using flask form?", "body": "<p>I'm unable to get the values of a radio button in flask SQLalchemy using flask form.</p>\n\n<pre><code>class AnswerForm(Form):\n    ans = 'ddd'\n    your_answer = RadioField(\"\", choices=[('ans1', 'ans1'),('ans2','q.ans2'), ('ans3','q.ans3'), ('ans4','q.ans4')])\n    submit = SubmitField('Answer')\n</code></pre>\n\n<p>ROUTE:</p>\n\n<pre><code>@app.route('/question', methods=['GET', 'POST'])\n@app.route('/question/page/&lt;int:page&gt;', methods=['GET', 'POST'])\ndef question(page=1):\n    # questions = Question.query.paginate(page, per_page=1)\n    quess = Question.query.order_by(func.rand())\n    quest = quess.limit(3).from_self()\n    questions = quest.paginate(page, per_page=1)\n    print('new1')\n\n    form = AnswerForm()\n\n    if request.method == 'POST':\n\n        print \"submitted\"\n        print form.ans\n        print form.your_answer.data\n    return render_template('questionview.html', title=' Quiz', questions=questions, form=form)\n</code></pre>\n\n<p>HTML: Here is my code. It gets the questions and options from the database using Flask SQL alchemy. \n............................................................................</p>\n\n<pre><code>&lt;form method=\"POST\" action=\"\"&gt;\n  &lt;div class=\"jumbotron text-center\"&gt;\n &lt;h1&gt;Start a test&lt;/h1&gt;\n\n    {% for q in questions.items %}\n\n    &lt;ul class=\"list-group\"&gt;\n\n      &lt;li class=\"list-group-item\" name='que_desc'&gt;&lt;a href=\"subject_test/{{q.sub_id}}\"&gt;{{q.ques}}&lt;/a&gt;&lt;/li&gt;\n      &lt;div class=\"form-check\"&gt;\n        &lt;input class=\"form-check-input\" type=\"radio\" name=\"option\" id=\"exampleRadios1\" value=\"ans1\"&gt;\n        &lt;label class=\"form-check-label\" for=\"exampleRadios1\"&gt;\n          {{q.ans1}}\n        &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;br&gt;\n      &lt;div class=\"form-check\"&gt;\n        &lt;input class=\"form-check-input\" type=\"radio\" name=\"option\" id=\"exampleRadios2\" value=\"ans2\"&gt;\n        &lt;label class=\"form-check-label\" for=\"exampleRadios2\"&gt;\n          {{q.ans2}}\n        &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;br&gt;\n      &lt;div class=\"form-check\"&gt;\n        &lt;input class=\"form-check-input\" type=\"radio\" name=\"option\" id=\"exampleRadios2\" value=\"ans3\"&gt;\n        &lt;label class=\"form-check-label\" for=\"exampleRadios2\"&gt;\n          {{q.ans3}}\n        &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;br&gt;\n      &lt;div class=\"form-check\"&gt;\n        &lt;input class=\"form-check-input\" type=\"radio\" name=\"option\" id=\"exampleRadios2\" value=\"ans4\"&gt;\n        &lt;label class=\"form-check-label\" for=\"exampleRadios2\"&gt;\n          {{q.ans4}}\n        &lt;/label&gt;\n      &lt;/div&gt;\n      &lt;br&gt;\n    &lt;/ul&gt;\n\n    &lt;hr&gt;\n    {% endfor %}\n    {{ form.submit(class=\"btn btn-outline-info\") }}\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["python", "loops", "selenium", "for-loop"], "comments": [{"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555567496, "post_id": 55737366, "comment_id": 98157188, "body": "Add a sample of the html, without it it&#39;s a guessing game."}, {"owner": {"reputation": 27, "user_id": 4076660, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1d6aaae560b2b0a32072cd380d7a8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "MKADAIM", "link": "https://stackoverflow.com/users/4076660/mkadaim"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555575105, "post_id": 55737366, "comment_id": 98160466, "body": "@TodorMinakov done I added the HTML code"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555575802, "post_id": 55737366, "comment_id": 98160830, "body": "There isn&#39;t a single element in the HTML that had the class &quot;c-link-row&quot; you reference in your question. Is what you added a &quot;row&quot; from a table you want to scrape?"}, {"owner": {"reputation": 27, "user_id": 4076660, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1d6aaae560b2b0a32072cd380d7a8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "MKADAIM", "link": "https://stackoverflow.com/users/4076660/mkadaim"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555585766, "post_id": 55737366, "comment_id": 98166253, "body": "@TodorMinakov the code is updated check now"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555587816, "post_id": 55737366, "comment_id": 98167322, "body": "OK, the source makes a difference; it&#39;s not just a table. <code>communities</code> returns 4 elements, <code>sources</code> - 1; the <code>zip()</code> function iterates over 2 lists simultaneously, up to the length of the shorter one. In this case - it iterates once. What are you trying to accomplish, the data in the 2 sets obviously does <b>not</b> map 1:1."}, {"owner": {"reputation": 27, "user_id": 4076660, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1d6aaae560b2b0a32072cd380d7a8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "MKADAIM", "link": "https://stackoverflow.com/users/4076660/mkadaim"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555602853, "post_id": 55737366, "comment_id": 98176154, "body": "@Todor Minkakov so how can I solve this issue ?"}, {"owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555611549, "post_id": 55737366, "comment_id": 98180027, "body": "The question is - what are you trying to accomplish, what should be written in the csv? Having 4 communities values and a single sources - what do you want to write there, row by row?"}, {"owner": {"reputation": 27, "user_id": 4076660, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1d6aaae560b2b0a32072cd380d7a8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "MKADAIM", "link": "https://stackoverflow.com/users/4076660/mkadaim"}, "reply_to_user": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "edited": false, "score": 0, "creation_date": 1555669685, "post_id": 55737366, "comment_id": 98195615, "body": "@Todor Minakov I want to gather all the links for example for the community in HTML code contains Twitter Facebook reddit I want to gather them all to be written in the CSV also the same thing for the explorer and so on"}], "owner": {"reputation": 27, "user_id": 4076660, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/1d6aaae560b2b0a32072cd380d7a8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "MKADAIM", "link": "https://stackoverflow.com/users/4076660/mkadaim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555585708, "creation_date": 1555544618, "last_edit_date": 1555585708, "question_id": 55737366, "link": "https://stackoverflow.com/questions/55737366/how-can-i-get-all-the-href-by-using-css-selector-and-find-elements", "title": "How can I get all the href by using css selector and find elements?", "body": "<p>I'm using the below code and I want to get all Href in the elements not just first Href but when I use it I got only the first Href</p>\n\n<pre><code>communities = driver.find_elements_by_css_selector('div.coin-link-row:nth-child(4) &gt; div:nth-child(2)&gt;a')\n\nsources = driver.find_elements_by_css_selector('div.coin-link-row:nth-child(5) &gt; div:nth-child(2)&gt;a')\nwith open('example2.csv', 'a') as myFile:\n        writer = csv.writer(myFile)\n        for community, source in zip(communities, sources):\n             writer.writerow([ community.get_attribute('href'), source.get_attribute('href')])\n</code></pre>\n\n<p>the html code which I wanted to gather the links from it, I want to gather all href by css selector, I need somthing like adding word all in the css selector path before letter a</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;div class=\"d-flex flex-column mx-3 mx-sm-5 mx-md-0\"&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Market Cap&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;span class=\"coin-tag mr-1 text-white bg-dark font-weight-bold\"&gt;Rank #1&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Website&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://www.bitcoin.org\"&gt;\n                &lt;span class=\"\"&gt;bitcoin.org&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Explorers&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://blockchair.com/bitcoin/blocks\"&gt;\n                &lt;span class=\"\"&gt;blockchair.com&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://blockchain.info/\"&gt;\n                &lt;span class=\"\"&gt;blockchain.info&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://live.blockcypher.com/btc/\"&gt;\n                &lt;span class=\"\"&gt;live.blockcypher.com&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://bitcoinblockexplorers.com/\"&gt;\n                &lt;span class=\"\"&gt;bitcoinblockexplorers.com&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://btc.tokenview.com/\"&gt;\n                &lt;span class=\"\"&gt;btc.tokenview.com&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Community&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://reddit.com/r/Bitcoin\"&gt;\n                &lt;i class=\"fab mr-sm-1 fa-reddit\" /&gt;\n                &lt;span class=\"d-none d-sm-inline\"&gt;Reddit&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://twitter.com/btc\"&gt;\n                &lt;i class=\"fab mr-sm-1 fa-twitter\" /&gt;\n                &lt;span class=\"d-none d-sm-inline\"&gt;Twitter&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://www.facebook.com/134466763256650\"&gt;\n                &lt;i class=\"fab mr-sm-1 fa-facebook\" /&gt;\n                &lt;span class=\"d-none d-sm-inline\"&gt;Facebook&lt;/span&gt;\n            &lt;/a&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://bitcointalk.org/\"&gt;\n                &lt;span class=\"\"&gt;bitcointalk.org&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Source Code&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;a target=\"_blank\" rel=\"nofollow\" class=\"coin-link-tag\" href=\"https://github.com/bitcoin\"&gt;\n                &lt;i class=\"fab mr-sm-1 fa-github\" /&gt;\n                &lt;span class=\"d-none d-sm-inline\"&gt;Github&lt;/span&gt;\n            &lt;/a&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"coin-link-row mb-md-0\"&gt;\n        &lt;span class=\"coin-link-title mr-2\"&gt;Tags&lt;/span&gt;\n        &lt;div class=\"d-flex flex-wrap\"&gt;\n            &lt;span class=\"coin-tag mr-1\"&gt;Cryptocurrency&lt;/span&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "batch-file"], "comments": [{"owner": {"reputation": 277, "user_id": 11320286, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/43f607b763e211a8674c232e03b56400?s=128&d=identicon&r=PG", "display_name": "Noodles", "link": "https://stackoverflow.com/users/11320286/noodles"}, "edited": false, "score": 1, "creation_date": 1555544831, "post_id": 55737348, "comment_id": 98152528, "body": "<a href=\"https://stackoverflow.com/questions/55620008/looking-for-more-move-solutions-that-can-handle-files-with-more-than-65534-rows/55623108#55623108\" title=\"looking for more move solutions that can handle files with more than 65534 rows\">stackoverflow.com/questions/55620008/&hellip;</a> <code>cut t x 82 &lt; inputfile.txt &gt; outputfile.txt</code>"}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1555547484, "post_id": 55737348, "comment_id": 98153004, "body": "As above, changing <code>17</code> to <code>82</code>, and <code>csv</code> to <code>txt</code> and you&#39;ve got effectively the same issue. You&#39;ll note that there are answers given which utilise built-in languages, which is better than relying on something which needs specifically installing and configuring. Please also note that this site doesn&#39;t provide a free language conversion service, we expect that you attempt that yourself."}, {"owner": {"reputation": 29794, "user_id": 6738015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FYDxX.jpg?s=128&g=1", "display_name": "Compo", "link": "https://stackoverflow.com/users/6738015/compo"}, "edited": false, "score": 0, "creation_date": 1555548913, "post_id": 55737348, "comment_id": 98153270, "body": "You could also check <a href=\"https://stackoverflow.com/q/2064184\">this</a>, for a python solution for a single file. As your chosen alternative language, I&#39;m sure you should be able to expand it to loop through all <code>.txt</code> files in a directory."}, {"owner": {"reputation": 118713, "user_id": 1012053, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tDAXz.jpg?s=128&g=1", "display_name": "dbenham", "link": "https://stackoverflow.com/users/1012053/dbenham"}, "edited": false, "score": 1, "creation_date": 1555559946, "post_id": 55737348, "comment_id": 98155159, "body": "Just so you know, MORE normally does not pause when you redirect output to a file. But for some reason when redirected MORE reaches 64k lines it pauses, asking for a key press to continue. That is why your original batch script seems to hang with large files."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11376334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585a2ded6e576d7b23738c65a8517ce7?s=128&d=identicon&r=PG&f=1", "display_name": "AlbRodriguez", "link": "https://stackoverflow.com/users/11376334/albrodriguez"}, "edited": false, "score": 0, "creation_date": 1555581066, "post_id": 55737720, "comment_id": 98163739, "body": "Thank you so much for your code but I&#39;m getting this error: <code>code</code> D:\\&gt;eraseheaders.py Traceback (most recent call last):   File &quot;D:\\eraseheaders.py&quot;, line 11, in &lt;module&gt;     with open(file_path, &#39;r&#39;) as f: IOError: [Errno 13] Permission denied: &#39;D:\\\\txtfiles\\\\&#39; <code>code</code>"}, {"owner": {"reputation": 1988, "user_id": 2847946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SuY2.jpg?s=128&g=1", "display_name": "Mark Moretto", "link": "https://stackoverflow.com/users/2847946/mark-moretto"}, "reply_to_user": {"reputation": 21, "user_id": 11376334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585a2ded6e576d7b23738c65a8517ce7?s=128&d=identicon&r=PG&f=1", "display_name": "AlbRodriguez", "link": "https://stackoverflow.com/users/11376334/albrodriguez"}, "edited": false, "score": 0, "creation_date": 1555596510, "post_id": 55737720, "comment_id": 98172498, "body": "Okay, I added a little section to process only text files.  For your directory, are you using <code>&#39;D:\\\\txtfiles\\\\&#39;</code>?  If so, you can leave off the backslashes at the end or nest the regular path in a raw string: <code>&#39;D:\\\\txtfiles&#39;</code> or <code>r&#39;D:\\txtfiles&#39;</code>"}], "tags": [], "owner": {"reputation": 1988, "user_id": 2847946, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5SuY2.jpg?s=128&g=1", "display_name": "Mark Moretto", "link": "https://stackoverflow.com/users/2847946/mark-moretto"}, "is_accepted": false, "score": 0, "last_activity_date": 1555596422, "last_edit_date": 1555596422, "creation_date": 1555548286, "answer_id": 55737720, "question_id": 55737348, "link": "https://stackoverflow.com/questions/55737348/python-code-to-delete-headers-from-txt-files/55737720#55737720", "title": "Python code to delete headers from txt files", "body": "<p>Probably overkill, but this might work:</p>\n\n<pre><code>import tempfile\nfrom io import StringIO\ndata = StringIO()\n\nfile_path = r'C:\\Users\\...\\...'\n\n# Set the numder of lines you'd like to exclude\nheader_end = 82\n\n\n### Read your data into a StringIO container (untested for directory read!)\nfor i in os.listdir(file_path):\n    if i.endswith('.txt'):\n        with open(os.path.join(file_path, i), 'r') as f:\n            data.write(f.read())\n\n        ### Split linkes by \\n (newline)\n        tokens = data.getvalue().split('\\n')\n\n        ### Rejoin with a newline, but start at the header index value plus one.\n        output_str = '\\n'.join(tokens[header_end + 1:])\n\n        ### Create a tempfile with '.txt' suffix; print(path) to find out file location (should be in temp folder)\n        fd, path = tempfile.mkstemp(suffix='.txt')\n        try:\n            with os.fdopen(fd, 'w') as tmp:\n                tmp.write(output_str)\n        except IOError:\n            print('Error writing temp file.')\n\n\n        ### To rcleanup and remove the file\n        if os.path.isfile(path):\n            try:\n                os.remove(path)\n            finally:\n                os.unlink(path)\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user6811411"}, "is_accepted": false, "score": 0, "last_activity_date": 1555596194, "creation_date": 1555596194, "answer_id": 55747722, "question_id": 55737348, "link": "https://stackoverflow.com/questions/55737348/python-code-to-delete-headers-from-txt-files/55747722#55747722", "title": "Python code to delete headers from txt files", "body": "<p>A PowerShell script not writing to temp but moving original to a bak file before skipping the first 82 lines.</p>\n\n<pre><code>foreach ($File in (Get-ChildItem *.txt)){\n  $BakFile = $File.FullName -replace 'txt$','bak.txt'\n  Move-Item $File $BakFile -Force\n  Get-Content $BakFile | Select-Object -Skip 82 | Set-Content $File\n}\n</code></pre>\n\n<p>To be on topic the same wrapped in a batch command/file</p>\n\n<pre><code>powershell -NoP -C \"foreach ($File in (Get-ChildItem *.txt)){$BakFile = $File.FullName -replace 'txt$','bak.txt';Move-Item $File $BakFile -Force;Get-Content $BakFile | Select-Object -Skip 82 | Set-Content $File}\"\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11376334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/585a2ded6e576d7b23738c65a8517ce7?s=128&d=identicon&r=PG&f=1", "display_name": "AlbRodriguez", "link": "https://stackoverflow.com/users/11376334/albrodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1038, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1555596422, "creation_date": 1555544458, "last_edit_date": 1555545711, "question_id": 55737348, "link": "https://stackoverflow.com/questions/55737348/python-code-to-delete-headers-from-txt-files", "title": "Python code to delete headers from txt files", "body": "<p>I have one folder with thousands of .txt files. I am using a windows batch code to delete headers (line 1 to 82) from all .txt files inside that folder. The thing is this code works well for relatively small files, but now I need to use it on big files, and the code simply does not respond.</p>\n\n<p>Can someone help me code on python what this windows batch does? Thank you in advance.</p>\n\n<pre><code>@echo off\nfor %%f in (*.txt) do (\n    more +82 \"%%f\" &gt; \"%TEMP%\\%%f\"\n    move /y \"%TEMP%\\%%f\" \"%%f\" &gt; nul\n)\necho Done.\n</code></pre>\n"}, {"tags": ["python", "xml", "lxml", "elementtree", "xmltodict"], "comments": [{"owner": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1555562586, "post_id": 55737318, "comment_id": 98155753, "body": "In the code you look up elements in a namespace (<code>urn:hl7-org:v3</code>), but the XML document (<code>message_xml</code>) does not use any namespaces."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 41716, "user_id": 407651, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e1f48e20177ed6c4c3197a9a92f48e5?s=128&d=identicon&r=PG", "display_name": "mzjn", "link": "https://stackoverflow.com/users/407651/mzjn"}, "edited": false, "score": 0, "creation_date": 1555599735, "post_id": 55737318, "comment_id": 98174383, "body": "@mzjn, Thanks for noticing. The actual document has namespace but i cleaned it up before posting to make it easier to read."}, {"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 1, "creation_date": 1555704976, "post_id": 55737318, "comment_id": 98209016, "body": "Are you working with large XML files where memory might be an issue?"}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1555943154, "post_id": 55737318, "comment_id": 98260824, "body": "@DanielHaley :  A few Kb(s) to about an Mb, not too big. I don\u2019t think memory should be an issue."}, {"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1555954169, "post_id": 55737318, "comment_id": 98265858, "body": "@WeShall - What would start a new row in your output? Could there be more than one <code>recordTarget</code>? Could there be more than one <code>ClinicalDocument</code> (with some other root element)? It would be easy to give you an answer with the exact output from the exact input, but that might not help you when you try to apply it to your real data. If your input and output would really be like that (with just a single row output), that&#39;s ok too and I can add an answer with the information you&#39;ve already given."}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1555957513, "post_id": 55737318, "comment_id": 98267301, "body": "@DanielHaley : A document will always have one and only one <code>ClinicalDocument</code> but <b>can</b> have multiple <code>recordTarget</code> tags and multiple <code>id</code> for each <code>recordTarget</code>. Each new <code>id</code> starts a new row (ton of duplicates I know but will give end user flexibility to lookup by any id on-hand). I updated the question with what can be a perfectly acceptable output as well. Thanks for looking."}, {"owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 0, "creation_date": 1556036951, "post_id": 55737318, "comment_id": 98298002, "body": "Did my answer help or are you still having problems?"}, {"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "reply_to_user": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "edited": false, "score": 1, "creation_date": 1556040967, "post_id": 55737318, "comment_id": 98299893, "body": "@DanielHaley, your answer definitely helped. Got me in right direction. I am trying to implement your answer using lxml &amp; XPath."}], "answers": [{"comments": [{"owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "edited": false, "score": 0, "creation_date": 1556064834, "post_id": 55799767, "comment_id": 98308169, "body": "Thanks, this is great. Truly appreciate it."}], "tags": [], "owner": {"reputation": 46640, "user_id": 317052, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/GaULO.jpg?s=128&g=1", "display_name": "Daniel Haley", "link": "https://stackoverflow.com/users/317052/daniel-haley"}, "is_accepted": true, "score": 2, "last_activity_date": 1555960155, "creation_date": 1555960155, "answer_id": 55799767, "question_id": 55737318, "link": "https://stackoverflow.com/questions/55737318/python-how-to-navigate-xml-sub-nodes-efficiently/55799767#55799767", "title": "Python : How to navigate XML sub-nodes efficiently?", "body": "<blockquote>\n  <p>How to efficiently navigate child-nodes with multiple child-nodes\n  under them?</p>\n</blockquote>\n\n<p>A good way to navigate XML is with <a href=\"https://www.w3.org/TR/xpath-10/\" rel=\"nofollow noreferrer\">XPath</a>. ElementTree has <a href=\"https://docs.python.org/3/library/xml.etree.elementtree.html#xpath-support\" rel=\"nofollow noreferrer\">limited XPath support</a>, but it appears good enough for what you need. If you end up needing to use more complicated XPath, I'd suggest using <a href=\"https://lxml.de/xpathxslt.html#xpath\" rel=\"nofollow noreferrer\">XPath in lxml</a>.</p>\n\n<blockquote>\n  <p>How to handle duplicate tags (ex: <code>&lt;id&gt;</code>, <code>&lt;given&gt;</code>)?</p>\n</blockquote>\n\n<p>It depends on what you need to do with those elements. For example, if you want separate rows for each <code>id</code> element, you'd need to iterate over each one (with <code>findall()</code> in ElementTree or <code>xpath()</code> in lxml).</p>\n\n<p>If you just want a value (either text or an attribute value), you need to narrow it down to a single element in the XPath. </p>\n\n<p>For example, an <code>id</code> element that has an <code>assigningAuthorityName</code> attribute value equal to <code>LOCAL</code> would be <code>id[@assigningAuthorityName='LOCAL']</code>.</p>\n\n<p>The <code>given</code> element is a little trickier; how can you tell one is the first name and one is the middle name? The only way I can see is position; the first <code>given</code> (<code>given[1]</code>) is the first name and the second <code>given</code> (<code>given[2]</code>) is the second name. Are you guaranteed to always have two <code>given</code> elements? If not, you may need to do some checking or try/except statements to get the needed output.</p>\n\n<p>Also, since you're creating csv output, I'd recommend using the <a href=\"https://docs.python.org/3/library/csv.html\" rel=\"nofollow noreferrer\">csv module</a>; specifically <a href=\"https://docs.python.org/3/library/csv.html#csv.DictWriter\" rel=\"nofollow noreferrer\">DictWriter</a>.</p>\n\n<p>This will allow you to store the values from the XML in a dict to write rows. You can create new copies of the dict for new rows while maintaining common values (like <code>document_code</code> and <code>document_name</code>).</p>\n\n<p>Here's an example that will create a new row for each <code>recordTarget</code>. </p>\n\n<p><strong>XML Input</strong> (input.xml)</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ClinicalDocument&gt; \n    &lt;code code=\"34133-9\" displayName=\"Summarization of Episode Note\"/&gt; \n    &lt;title&gt;Care Summary&lt;/title&gt; \n    &lt;recordTarget&gt; \n        &lt;patientRole&gt; \n            &lt;id assigningAuthorityName=\"LOCAL\" extension=\"L123456\"/&gt; \n            &lt;id assigningAuthorityName=\"SSN\" extension=\"788889999\"/&gt; \n            &lt;id assigningAuthorityName=\"GLOBAL\" extension=\"G123456\"/&gt; \n            &lt;addr use=\"HP\"&gt; \n                &lt;streetAddressLine&gt;1000 N SOME AVENUE&lt;/streetAddressLine&gt; \n                &lt;city&gt;BIG CITY&lt;/city&gt; \n                &lt;state&gt;NA&lt;/state&gt; \n                &lt;postalCode&gt;12345-1010&lt;/postalCode&gt; \n                &lt;country&gt;US&lt;/country&gt; \n            &lt;/addr&gt; \n            &lt;telecom nullFlavor=\"NI\"/&gt; \n            &lt;patient&gt; \n                &lt;name use=\"L\"&gt; \n                    &lt;given&gt;JANE&lt;/given&gt; \n                    &lt;given&gt;JOE&lt;/given&gt; \n                    &lt;family&gt;DOE&lt;/family&gt; \n                &lt;/name&gt; \n            &lt;/patient&gt; \n        &lt;/patientRole&gt; \n    &lt;/recordTarget&gt;\n&lt;/ClinicalDocument&gt;\n</code></pre>\n\n<p><strong>Python</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\nimport xml.etree.ElementTree as ET\nfrom copy import deepcopy\n\nvalues_template = {\"document_code\": \"\", \"document_name\": \"\", \"id_local\": \"\", \"id_ssn\": \"\",\n                   \"id_global\": \"\", \"name_first\": \"\", \"name_middle\": \"\", \"name_last\": \"\"}\n\nwith open(\"output.csv\", \"w\", newline=\"\") as csvfile:\n    csvwriter = csv.DictWriter(csvfile, delimiter=\",\", quoting=csv.QUOTE_MINIMAL,\n                               fieldnames=[name for name in values_template])\n    csvwriter.writeheader()\n\n    tree = ET.parse('input.xml')\n\n    values_template[\"document_code\"] = tree.find(\"code\").get(\"code\")\n    values_template[\"document_name\"] = tree.find(\"code\").get(\"displayName\")\n\n    for target in tree.findall(\"recordTarget\"):\n\n        values = deepcopy(values_template)\n\n        values[\"id_local\"] = target.find(\"patientRole/id[@assigningAuthorityName='LOCAL']\").get(\"extension\")\n        values[\"id_ssn\"] = target.find(\"patientRole/id[@assigningAuthorityName='SSN']\").get(\"extension\")\n        values[\"id_global\"] = target.find(\"patientRole/id[@assigningAuthorityName='GLOBAL']\").get(\"extension\")\n        values[\"name_first\"] = target.find(\"patientRole/patient/name/given[1]\").text\n        values[\"name_middle\"] = target.find(\"patientRole/patient/name/given[2]\").text\n        values[\"name_last\"] = target.find(\"patientRole/patient/name/family\").text\n\n        csvwriter.writerow(values)\n</code></pre>\n\n<p><strong>CSV Output</strong> (output.csv)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>document_code,document_name,id_local,id_ssn,id_global,name_first,name_middle,name_last\n34133-9,Summarization of Episode Note,L123456,788889999,G123456,JANE,JOE,DOE\n</code></pre>\n\n<p>Here's another example that will create a new row for each recordTarget/patientRole/id...</p>\n\n<p><strong>Python</strong></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import csv\nimport xml.etree.ElementTree as ET\nfrom copy import deepcopy\n\nvalues_template = {\"document_code\": \"\", \"document_name\": \"\", \"id\": \"\",\n                   \"name_first\": \"\", \"name_middle\": \"\", \"name_last\": \"\"}\n\nwith open(\"output.csv\", \"w\", newline=\"\") as csvfile:\n    csvwriter = csv.DictWriter(csvfile, delimiter=\",\", quoting=csv.QUOTE_MINIMAL,\n                               fieldnames=[name for name in values_template])\n    csvwriter.writeheader()\n\n    tree = ET.parse('input.xml')\n\n    values_template[\"document_code\"] = tree.find(\"code\").get(\"code\")\n    values_template[\"document_name\"] = tree.find(\"code\").get(\"displayName\")\n\n    for target in tree.findall(\"recordTarget\"):\n\n        values = deepcopy(values_template)\n\n        values[\"name_first\"] = target.find(\"patientRole/patient/name/given[1]\").text\n        values[\"name_middle\"] = target.find(\"patientRole/patient/name/given[2]\").text\n        values[\"name_last\"] = target.find(\"patientRole/patient/name/family\").text\n\n        for role_id in target.findall(\"patientRole/id\"):\n            values[\"id\"] = role_id.get(\"extension\")\n            csvwriter.writerow(values)\n</code></pre>\n\n<p><strong>CSV Output</strong> (output.csv)</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>document_code,document_name,id,name_first,name_middle,name_last\n34133-9,Summarization of Episode Note,L123456,JANE,JOE,DOE\n34133-9,Summarization of Episode Note,788889999,JANE,JOE,DOE\n34133-9,Summarization of Episode Note,G123456,JANE,JOE,DOE\n</code></pre>\n"}], "owner": {"reputation": 399, "user_id": 2581713, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/PQ8AX.png?s=128&g=1", "display_name": "WeShall", "link": "https://stackoverflow.com/users/2581713/weshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1531, "favorite_count": 0, "accepted_answer_id": 55799767, "answer_count": 1, "score": 2, "last_activity_date": 1555960155, "creation_date": 1555544139, "last_edit_date": 1555957008, "question_id": 55737318, "link": "https://stackoverflow.com/questions/55737318/python-how-to-navigate-xml-sub-nodes-efficiently", "title": "Python : How to navigate XML sub-nodes efficiently?", "body": "<p>I am trying to extract certain data points from XML and have tried two options...</p>\n\n<ol>\n<li>Working with XML format using ElementTree</li>\n<li>Working with Dictionary using xmltodict</li>\n</ol>\n\n<p>Here's what I have got so far,</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code># Packages\n# --------------------------------------\nimport xml.etree.ElementTree as ET\n\n# XML Data\n# --------------------------------------\nmessage_xml = \\\n'&lt;ClinicalDocument&gt; \\\n    &lt;code code=\"34133-9\" displayName=\"Summarization of Episode Note\"/&gt; \\\n    &lt;title&gt;Care Summary&lt;/title&gt; \\\n    &lt;recordTarget&gt; \\\n        &lt;patientRole&gt; \\\n            &lt;id assigningAuthorityName=\"LOCAL\" extension=\"L123456\"/&gt; \\\n            &lt;id assigningAuthorityName=\"SSN\" extension=\"788889999\"/&gt; \\\n            &lt;id assigningAuthorityName=\"GLOBAL\" extension=\"G123456\"/&gt; \\\n            &lt;addr use=\"HP\"&gt; \\\n                &lt;streetAddressLine&gt;1000 N SOME AVENUE&lt;/streetAddressLine&gt; \\\n                &lt;city&gt;BIG CITY&lt;/city&gt; \\\n                &lt;state&gt;NA&lt;/state&gt; \\\n                &lt;postalCode&gt;12345-1010&lt;/postalCode&gt; \\\n                &lt;country&gt;US&lt;/country&gt; \\\n            &lt;/addr&gt; \\\n            &lt;telecom nullFlavor=\"NI\"/&gt; \\\n            &lt;patient&gt; \\\n                &lt;name use=\"L\"&gt; \\\n                    &lt;given&gt;JANE&lt;/given&gt; \\\n                    &lt;given&gt;JOE&lt;/given&gt; \\\n                    &lt;family&gt;DOE&lt;/family&gt; \\\n                &lt;/name&gt; \\\n            &lt;/patient&gt; \\\n        &lt;/patientRole&gt; \\\n    &lt;/recordTarget&gt; \\\n&lt;/ClinicalDocument&gt;'\n\n# Get Tree &amp; Root\n# --------------------------------------\ntree = ET.ElementTree(ET.fromstring(message_xml))\nroot = tree.getroot()\n\n# Iterate\n# --------------------------------------\nfor node in root:\n\n    tag = node.tag\n    attribute = node.attrib\n\n    # Get ClinicalDocument.code values\n    if tag == 'code':\n        document_code_code = attribute.get('code')\n        document_code_name = attribute.get('displayName')\n\n    else:\n        pass\n\n    # Get ClinicalDocument.recordTarget values\n    if tag == 'recordTarget':\n\n        for child in node.iter():\n\n            # Multiple &lt;id&gt; tags\n            record_target_local = ??\n            record_target_ssn = ??\n            record_target_global = ??\n\n            # Multiple &lt;given&gt; tags\n            record_target_name_first = ??\n            record_target_name_middle = ??\n            record_target_name_last = ??\n\n    else:\n        pass\n</code></pre>\n\n<p><strong>Expected Output</strong></p>\n\n<pre><code>document_code,document_name,id_local,id_ssn,id_global,name_first, name_middle,name_last\n34133-9,Summarization of Episode Note,L123456,788889999,G123456,JANE,JOE,DOE\n</code></pre>\n\n<p><strong>Acceptable Output</strong></p>\n\n<pre><code>document_code,document_name,id_type,id,name_first,name_middle,name_last\n34133-9,Summarization of Episode Note,LOCAL,L123456,JANE,JOE,DOE\n34133-9,Summarization of Episode Note,SSN,788889999,JANE,JOE,DOE\n34133-9,Summarization of Episode Note,GLOBAL,G123456,JANE,JOE,DOE\n</code></pre>\n\n<p><strong>Questions</strong></p>\n\n<ol>\n<li>How to efficiently navigate child-nodes with multiple child-nodes under them?</li>\n<li>How to handle duplicate tags (ex: <code>&lt;id&gt;</code>, <code>&lt;given&gt;</code>)?</li>\n</ol>\n"}, {"tags": ["python", "pandas", "csv", "dataframe"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545120, "post_id": 55737237, "comment_id": 98152574, "body": "Have you tried to add <code>escapechar=&#39;\\\\&#39;</code>to your <code>pd.read_csv()</code> arguments list?"}, {"owner": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555545528, "post_id": 55737237, "comment_id": 98152658, "body": "such a simple solution I overlooked! Thankyou so much Johan!"}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "edited": false, "score": 0, "creation_date": 1555544528, "post_id": 55737343, "comment_id": 98152487, "body": "Unfortunately there are null values present in the data"}, {"owner": {"reputation": 156, "user_id": 10543771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e94484df4836384fbbf9e888d596e01?s=128&d=identicon&r=PG&f=1", "display_name": "RyanL", "link": "https://stackoverflow.com/users/10543771/ryanl"}, "reply_to_user": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "edited": false, "score": 0, "creation_date": 1555545534, "post_id": 55737343, "comment_id": 98152663, "body": "You could also try setting the false_values to set that value to False when read in."}, {"owner": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "edited": false, "score": 0, "creation_date": 1555545828, "post_id": 55737343, "comment_id": 98152713, "body": "@JohanL has provided the following solution: <code>escapechar=&#39;\\\\&#39;</code>, and it works like a charm."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "reply_to_user": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "edited": false, "score": 0, "creation_date": 1555546260, "post_id": 55737343, "comment_id": 98152793, "body": "@Aslan: Please change (or remove) your accepted answer, as it points to a non-working solution. This is confusing for someone coming to this question later. I added the working one, as reference."}], "tags": [], "owner": {"reputation": 156, "user_id": 10543771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e94484df4836384fbbf9e888d596e01?s=128&d=identicon&r=PG&f=1", "display_name": "RyanL", "link": "https://stackoverflow.com/users/10543771/ryanl"}, "is_accepted": false, "score": 0, "last_activity_date": 1555544394, "creation_date": 1555544394, "answer_id": 55737343, "question_id": 55737237, "link": "https://stackoverflow.com/questions/55737237/ignore-a-string-whilst-reading-in-a-tsv-file-in-python/55737343#55737343", "title": "Ignore a string whilst reading in a .tsv file in python", "body": "<p>If you don't have null values and can live with reading it as a null you could use the na-values argument as part of read_csv and assign that value as N/A.</p>\n"}, {"tags": [], "owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "is_accepted": true, "score": 1, "last_activity_date": 1555546206, "creation_date": 1555546206, "answer_id": 55737516, "question_id": 55737237, "link": "https://stackoverflow.com/questions/55737237/ignore-a-string-whilst-reading-in-a-tsv-file-in-python/55737516#55737516", "title": "Ignore a string whilst reading in a .tsv file in python", "body": "<p>You can add an argument to <code>pd.read_csv()</code> called <code>escapechar. Setting the escape char to</code>'\\'` will solve your problem. Thus</p>\n\n<pre><code>df = pd.read_csv('data.tsv.gz', header=None, sep='\\t', escapechar='\\\\',\n                 quoting=csv.QUOTE_NONE, compression='gzip', engine='python',\n                 encoding='iso8859_1')\n</code></pre>\n\n<p>does the trick, as you have shown in your updated question.</p>\n"}], "owner": {"reputation": 25, "user_id": 11217790, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d1cf6d637cc47fa8d737c999d1a9d4e?s=128&d=identicon&r=PG&f=1", "display_name": "Aslan", "link": "https://stackoverflow.com/users/11217790/aslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 0, "accepted_answer_id": 55737516, "answer_count": 2, "score": 1, "last_activity_date": 1556100522, "creation_date": 1555543272, "last_edit_date": 1556100522, "question_id": 55737237, "link": "https://stackoverflow.com/questions/55737237/ignore-a-string-whilst-reading-in-a-tsv-file-in-python", "title": "Ignore a string whilst reading in a .tsv file in python", "body": "<p>I am trying to read in a .tsv file, however I have noticed that there is a particular string within my data which is causing the following error:</p>\n\n<blockquote>\n  <p><strong>ParserError</strong>: Expected 112 fields in line 112, saw 115</p>\n</blockquote>\n\n<p>I have traced the error to find that within my data there is <code>\"\\\\t\"</code>, which when i try reading in the file thinks its seperated by tab...</p>\n\n<p>I have tried the following with no luck:</p>\n\n<pre><code>df = pd.read_csv('data.tsv.gz', header=None, sep='\\t',\n                 quoting=csv.QUOTE_NONE, compression='gzip', engine='python',\n                 encoding='iso8859_1')\n</code></pre>\n\n<p>I have also tried to use: <code>sep='^\\\\t|\\t'</code>.</p>\n\n<p>Example data:</p>\n\n<pre><code>There\\tShould \\\\t Only\\tbe\\t6\\tcolumns\\t\\t\n</code></pre>\n\n<p>Output in dataframe should produce 6 columns with the string \"<code>\\\\t</code>\":</p>\n\n<pre><code>|There|Should \\\\t Only|be|6|columns|NA|\n</code></pre>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 11361401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54197747f156b1f3b1de83ecae12895?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/11361401/dmitry"}, "edited": false, "score": 0, "creation_date": 1555563250, "post_id": 55737447, "comment_id": 98155915, "body": "Thanks for that. The only issue is that the original output seems to be a value whereas your suggestion outputs either a dataframe or a list. Is there a way to report them as values only? ``` 1    0.03 Name: Sg, dtype: float64 2    0.04 Name: Sg, dtype: float64 ```"}, {"owner": {"reputation": 2424, "user_id": 10286422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8eee83d47bbcbfaf55bb18f7077890?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pap", "link": "https://stackoverflow.com/users/10286422/ben-pap"}, "reply_to_user": {"reputation": 77, "user_id": 11361401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54197747f156b1f3b1de83ecae12895?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/11361401/dmitry"}, "edited": false, "score": 0, "creation_date": 1555606787, "post_id": 55737447, "comment_id": 98178003, "body": "you can add <code>.values</code> and you will just get the single value as a np array."}], "tags": [], "owner": {"reputation": 2424, "user_id": 10286422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec8eee83d47bbcbfaf55bb18f7077890?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Pap", "link": "https://stackoverflow.com/users/10286422/ben-pap"}, "is_accepted": false, "score": 0, "last_activity_date": 1555545537, "creation_date": 1555545537, "answer_id": 55737447, "question_id": 55737227, "link": "https://stackoverflow.com/questions/55737227/report-a-column-values-corresponding-to-1st-non-zero-and-last-zero-values-from-a/55737447#55737447", "title": "Report a column values corresponding to 1st non-zero and last zero values from another column", "body": "<p>For your first situation, we make sure 'Krg' is 0, and that the value after 0 in the 'Krg' column is not 0.</p>\n\n<pre><code>df.loc[(df['Krg'] == 0.00000)&amp;(df['Krg'] != df['Krg'].shift(-1)), 'Sg']\n</code></pre>\n\n<p>For the second situation, we use a similar thought process to the above one, but make sure that the row above is 0 instead, and that they both arent 0.</p>\n\n<pre><code>df.loc[(df['Krg'].shift(1) == 0.00000)&amp;(df['Krg'] != df['Krg'].shift(1)), 'Sg']\n</code></pre>\n\n<p>Using %%timeit, my version is about 35% faster.</p>\n"}, {"tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": true, "score": 0, "last_activity_date": 1555545681, "creation_date": 1555545681, "answer_id": 55737466, "question_id": 55737227, "link": "https://stackoverflow.com/questions/55737227/report-a-column-values-corresponding-to-1st-non-zero-and-last-zero-values-from-a/55737466#55737466", "title": "Report a column values corresponding to 1st non-zero and last zero values from another column", "body": "<p>We can simplify this by using <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.eq.html\" rel=\"nofollow noreferrer\"><code>Series.eq</code></a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.ne.html\" rel=\"nofollow noreferrer\"><code>Series.ne</code></a> which stand for <code>equal</code> and <code>not equal</code>. We combine <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.head.html\" rel=\"nofollow noreferrer\"><code>DataFrame.head</code></a> and <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.tail.html\" rel=\"nofollow noreferrer\"><code>DataFrame.tail</code></a> to get he first and last row.</p>\n\n<hr>\n\n<pre><code>m = df['Krg'].ne(0)\nn = df['Krg'].eq(0)\n\ndf.loc[m, 'Sg'].head(1).iloc[0]\ndf.loc[n, 'Sg'].tail(1).iloc[0]\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>0.04\n0.03\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 0, "last_activity_date": 1555546601, "creation_date": 1555546601, "answer_id": 55737556, "question_id": 55737227, "link": "https://stackoverflow.com/questions/55737227/report-a-column-values-corresponding-to-1st-non-zero-and-last-zero-values-from-a/55737556#55737556", "title": "Report a column values corresponding to 1st non-zero and last zero values from another column", "body": "<p>I am just using idxmax and try to speed up your original post </p>\n\n<pre><code>s=df.query('Krg != 0')['Krg'].idxmin()# here you only need run idxmax once not twice \nprint(df.loc[s, 'Sg'])\nprint(df.loc[s-1, 'Sg'])\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11361401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b54197747f156b1f3b1de83ecae12895?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry", "link": "https://stackoverflow.com/users/11361401/dmitry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 55737466, "answer_count": 3, "score": 0, "last_activity_date": 1555546601, "creation_date": 1555543161, "last_edit_date": 1555544158, "question_id": 55737227, "link": "https://stackoverflow.com/questions/55737227/report-a-column-values-corresponding-to-1st-non-zero-and-last-zero-values-from-a", "title": "Report a column values corresponding to 1st non-zero and last zero values from another column", "body": "<p>I have a dataframe as shown below. I would like to scan through 'Krg' column and find the row that corresponds to the last zero value in this column and to report 'Sg' from this row (0.03). Additionally, I would like to report 'Sg' corresponding to 1st non-zero value of 'Krg' (0.04).</p>\n\n<p>I could achieve that using query() - see my code below.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import pandas as pd\n\ncol_labels = ['Sg', 'Krg', 'Krw', 'Pc']\n\ndf = pd.DataFrame(columns=col_labels)\n\nf = open('EPS.INC', 'r')\nfor line in f:\n    if 'SGWFN' in line:\n        print('Reading relative permeability table')\n        for line in f:\n            line = line.strip()\n            if (line.split() and not line.startswith('/') and not line.startswith('--')):\n                cols = line.split()\n                df=df.append(pd.Series(([float(i) for i in cols]), index=col_labels), ignore_index=True)\n\n\n\nprint(df.loc[df.query('Krg != 0')['Krg'].idxmin(), 'Sg'])\nprint(df.loc[(df.query('Krg != 0')['Krg'].idxmin())-1, 'Sg'])\n</code></pre>\n\n<pre><code>      Sg       Krg       Krw         Pc\n0   0.00  0.000000  1.000000   0.000000\n1   0.03  0.000000  0.500000   0.091233\n2   0.04  0.000518  0.484212   0.093203\n3   0.05  0.001624  0.468759   0.095237\n4   0.06  0.003171  0.453639   0.097338\n5   0.07  0.005098  0.438848   0.099508\n6   0.08  0.007367  0.424382   0.101751\n7   0.09  0.009953  0.410237   0.104070\n8   0.10  0.012835  0.396410   0.106469\n9   0.11  0.015999  0.382897   0.108950\n10  0.12  0.019431  0.369695   0.111518\n</code></pre>\n\n<p>The code does not seem to be too \"pandorable\" and appears to be slow. Is there a smarter way of obtain those 'Sg' values?</p>\n\n<p>Cheers,\nD</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1555544856, "post_id": 55737217, "comment_id": 98152532, "body": "Normally we describe <code>y_hat</code> as a 2d array, and you want to sum across &#39;rows&#39;,"}], "answers": [{"comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1555544875, "post_id": 55737240, "comment_id": 98152535, "body": "He may also want to use the <code>keepdims</code> parameter."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 1, "last_activity_date": 1555543286, "creation_date": 1555543286, "answer_id": 55737240, "question_id": 55737217, "link": "https://stackoverflow.com/questions/55737217/how-can-i-use-np-argmax-on-an-array-of-lists/55737240#55737240", "title": "How can I use np argmax on an array of lists?", "body": "<p><a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.argmax.html#numpy.argmax\" rel=\"nofollow noreferrer\"><code>np.argmax</code> accepts an <code>axis</code> keyword argument</a>. Use that.</p>\n\n<p>It's <code>axis=0</code> for columns, <code>axis=1</code> for rows.</p>\n"}, {"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 1, "last_activity_date": 1555546741, "creation_date": 1555546741, "answer_id": 55737574, "question_id": 55737217, "link": "https://stackoverflow.com/questions/55737217/how-can-i-use-np-argmax-on-an-array-of-lists/55737574#55737574", "title": "How can I use np argmax on an array of lists?", "body": "<p>Here is one way after <code>argmax</code> with <code>numpy</code> broadcast </p>\n\n<pre><code>a.argmax(axis = 1)[:,None]\n</code></pre>\n\n<p>Or </p>\n\n<pre><code>a[:,None].argmax(-1)\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 55737574, "answer_count": 2, "score": 1, "last_activity_date": 1555546741, "creation_date": 1555543123, "question_id": 55737217, "link": "https://stackoverflow.com/questions/55737217/how-can-i-use-np-argmax-on-an-array-of-lists", "title": "How can I use np argmax on an array of lists?", "body": "<p>I have some data <code>y_hat</code> that looks like:</p>\n\n<pre><code>[[0. 1. 0. ... 0. 0. 0.]\n [0. 1. 0. ... 0. 0. 0.]\n [0. 1. 0. ... 0. 0. 0.]\n ...\n [0. 1. 0. ... 0. 0. 0.]\n [0. 1. 0. ... 0. 0. 0.]\n [0. 1. 0. ... 0. 0. 0.]]\n</code></pre>\n\n<p>I want to get the <code>argmax</code> of each row so that I end up with a vector like:</p>\n\n<pre><code>[[3]\n [8]\n [8]\n ...\n [5]\n [1]\n [7]]\n</code></pre>\n\n<p>If I just do <code>np.argmax(y_hat)</code>, it returns a <code>1</code>.</p>\n"}, {"tags": ["python", "pandas", "date", "datetime"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 8794630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f2787a461ebb8547c8bc07dba0bf4a?s=128&d=identicon&r=PG&f=1", "display_name": "AleB", "link": "https://stackoverflow.com/users/8794630/aleb"}, "edited": false, "score": 0, "creation_date": 1555583662, "post_id": 55738049, "comment_id": 98165096, "body": "It works very well. Simple and effective. I didn&#39;t have the idea to create the entire pattern."}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": true, "score": 1, "last_activity_date": 1555551772, "creation_date": 1555551772, "answer_id": 55738049, "question_id": 55737202, "link": "https://stackoverflow.com/questions/55737202/offset-pandas-dates-step-by-step/55738049#55738049", "title": "Offset pandas dates step by step", "body": "<p>I assume your data will come in group of <code>num_year</code> rows (in this case <code>num_year=5</code>). Also, I found it unsafe to have non-unique index, which make updating a column more difficult. So I choose to reset index:</p>\n\n<pre><code># sample data\ndf = pd.DataFrame({'tic':['a']*10+['b']*20,\n                   'date': sorted(list(pd.date_range('2018-01-01', '2018-01-06', freq='d')\n                           )* 5 )}).set_index('tic')\n\n# make sure companies are grouped together, \n# skip if they are already\ndf = df.reset_index().sort_values(['tic','date'])\n\nnum_year = 5\n\n# offset pattern\ndelta = pd.Series([pd.DateOffset(years=i) \n                      for i in range(num_year-1,-1,-1)] * (len(df)//num_year))\n\n# update date\ndf.date = df.date - delta\n\ndf.head(10)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>+----+------+------------+\n|    | tic  |    date    |\n+----+------+------------+\n| 0  | a    | 2014-01-01 |\n| 1  | a    | 2015-01-01 |\n| 2  | a    | 2016-01-01 |\n| 3  | a    | 2017-01-01 |\n| 4  | a    | 2018-01-01 |\n| 5  | a    | 2014-01-02 |\n| 6  | a    | 2015-01-02 |\n| 7  | a    | 2016-01-02 |\n| 8  | a    | 2017-01-02 |\n| 9  | a    | 2018-01-02 |\n+----+------+------------+\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 8794630, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2f2787a461ebb8547c8bc07dba0bf4a?s=128&d=identicon&r=PG&f=1", "display_name": "AleB", "link": "https://stackoverflow.com/users/8794630/aleb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 55738049, "answer_count": 1, "score": 0, "last_activity_date": 1555551772, "creation_date": 1555543003, "question_id": 55737202, "link": "https://stackoverflow.com/questions/55737202/offset-pandas-dates-step-by-step", "title": "Offset pandas dates step by step", "body": "<p>I am trying to modify my pandas dataframe, but still I haven't gotten any results. I have a dataframe of this form:</p>\n\n<pre><code>fc.iloc[:,:2][:10]\nOut[309]: \n             DATE  TOTAL_REVENUE_TTM\nTIC                                 \nAMZN.O 2018-01-01       3.769385e+11\nAMZN.O 2018-01-01       3.775364e+11\nAMZN.O 2018-01-01       3.772219e+11\nAMZN.O 2018-01-01       3.766596e+11\nAMZN.O 2018-01-01       3.757391e+11\nAMZN.O 2018-02-01       3.931331e+11\nAMZN.O 2018-02-01       3.935390e+11\nAMZN.O 2018-02-01       3.932100e+11\nAMZN.O 2018-02-01       3.926973e+11\nAMZN.O 2018-02-01       3.917282e+11\n</code></pre>\n\n<p>I need to properly modify the column DATE, which does not reflect the real date. The hard thing is that I need to modify it following a sort of pattern. \nHere I printed only the 10 columns, but I have many observation, that follow the same rule.</p>\n\n<p>To summarize, these are the outputs of size 5 of an LSTM network (I printed just two outputs) and the printed date is only the last date of the output. I need to recover all the other dates, knowing that they are all shifted back in time by 12 months. Practically speaking I should offset the date in 4th row by 1 year, the date in 3rd row by 2 year and so on. This should be applied for every output (say, every 5 row of the dataframe), and for every company in the dataframe.</p>\n\n<p>The way the code works should be also generalized, if for example I would change the size of the output, so that I could have 3 dates repeating instead of 5, and also if I change the offsetting back in time.</p>\n\n<p>I was trying to write a function that takes those 2 parameters and returns the entire dataframe with the dates properly shifted, but I am having a hard time find the way to reproduce the pattern correctly.</p>\n\n<p>Here there is a piece of code for my function that should take every piece of dataframe referring to a company, elaborate it and then concatenate again to form the new dataframe:</p>\n\n<pre><code>def modify_forecasts_dates(fc,offset,output_size):\n\n\n    #extract the company names\n    companies = fc.index.get_level_values(0).unique()\n    cmp_to_concat = []\n\n    for tick in companies:\n\n        cmp = fc.loc[tick]      \n        cmp.insert(0, 'ROW_NUM', range(1,len(cmp)+1))\n        cmp['BOOL'] = np.where((np.mod(cmp['ROW_NUM'],output_size)==0), 'OK', 'MODIFY')   \n\n\n\n        #cmp.drop(labels=['ROW_NUM','BOOL'],inplace=True)\n        cmp_to_concat.append(cmp)\n\n    final_df = pd.concat(cmp_to_concat)\n\n    return final_df\n</code></pre>\n\n<p>I firstly tried to insert a count row number, to identify which are the row that do not need to be changed, namely every last row of a piece of output. The problem still remains because then I don't know how to update all observation before the last output row.</p>\n\n<p>Is there an easy way to take the dataframe by a step of 5 row (or equivalently by a step of output size) and properly offset all the preceding dates, obtaining t, t-offset, t-2*offset and so on?</p>\n\n<p>I know it is a bit complicated to udnerstand what I need to do, but I am really struggling. I could do it by hand, but it's preferable to automatize the process.</p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 3, "last_activity_date": 1555543019, "creation_date": 1555543019, "answer_id": 55737204, "question_id": 55737138, "link": "https://stackoverflow.com/questions/55737138/is-there-a-way-to-fix-appending-float-values-to-dictionaries-in-python/55737204#55737204", "title": "Is there a way to fix appending float values to dictionaries in Python?", "body": "<p>You probably want a <a href=\"https://docs.python.org/3.6/library/collections.html#collections.defaultdict\" rel=\"nofollow noreferrer\">defaultDict</a> for this. Then you can avoid the test and just push into the values.</p>\n\n<p>Here's a simple mockup:</p>\n\n<pre><code>from collections import defaultdict\n\nearth = '''7.6 20190801\n8.2 20180201\n7.1 20190801\n6.5 20190801\n4.2 20180201'''\n\nmagdict = defaultdict(list) # values will default to new lists\n\nfor line in earth.split('\\n'):\n    alist = line.split(' ')\n    magnitude= float(alist[0])\n    date = alist[1]\n    magdict[date].append(magnitude)  #magdict[date] will default to a list if the key doesn't already exist\n\nprint(magdict['20190801'])\n&gt;&gt;&gt; [7.6, 7.1, 6.5]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "is_accepted": false, "score": 1, "last_activity_date": 1555543063, "creation_date": 1555543063, "answer_id": 55737210, "question_id": 55737138, "link": "https://stackoverflow.com/questions/55737138/is-there-a-way-to-fix-appending-float-values-to-dictionaries-in-python/55737210#55737210", "title": "Is there a way to fix appending float values to dictionaries in Python?", "body": "<blockquote>\n  <p>the values are the magnitudes of the earthquakes that happened on that date.</p>\n</blockquote>\n\n<p>Since you are talking of \u201cmagnitudes\u201d, plural, I assume that you want to be able to store multiple values per date. That means that you should also make sure that your dictionary values are actual lists that store multiple values, instead of just a single value.</p>\n\n<p>Compare the following example dictionaries:</p>\n\n<pre><code>{\n    \"2019-04-17\": 2.1,\n    \"2019-04-18\": 3.5\n}\n\n{\n    \"2019-04-17\": [1.7, 2.5],\n    \"2019-04-18\": [3.2]\n}\n</code></pre>\n\n<p>The first dictionary only maps the date to a single float. So for every date key, you get a single value. The second dictionary maps to a list of floats. Such a list can only contain a single value, or many (it could also contain none).</p>\n\n<p>When you look at your code that sets the values in the dictionary, you can see that you actually built this with multiple values in mind:</p>\n\n<pre><code>if date in magdict:\n    magdict[date].append(magnitude)\nelse:\n    magdict[date] = magnitude\n</code></pre>\n\n<p>When there\u2019s already the date in the dictionary, then you want to append it. Otherwise you set the date/value pair directly (which adds the key). It\u2019s just that the way you do it, you are setting a single float value (i.e. the first dictionary type above) instead of a list of floats.</p>\n\n<p>So what you need to do instead is create a list of floats here:</p>\n\n<pre><code>if date in magdict:\n    magdict[date].append(magnitude)\nelse:\n    magdict[date] = [magnitude]\n</code></pre>\n\n<p>The <code>[magnitude]</code> create a one-element list with <code>magnitude</code> as the first value. Since the value in your dictionary is now a list, calls to <code>append()</code> will succeed and correctly add another value to the list.</p>\n"}, {"tags": [], "owner": {"reputation": 1055, "user_id": 1143396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa19afe70576c282490810824324475a?s=128&d=identicon&r=PG", "display_name": "J. V.", "link": "https://stackoverflow.com/users/1143396/j-v"}, "is_accepted": false, "score": 1, "last_activity_date": 1555543134, "creation_date": 1555543134, "answer_id": 55737220, "question_id": 55737138, "link": "https://stackoverflow.com/questions/55737138/is-there-a-way-to-fix-appending-float-values-to-dictionaries-in-python/55737220#55737220", "title": "Is there a way to fix appending float values to dictionaries in Python?", "body": "<p>The error is in the else clause.</p>\n\n<p>It should be <code>magdict[date] = [magnitude]</code> and not <code>magdict[date] = magnitude</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 4539804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KikSN.png?s=128&g=1", "display_name": "David C", "link": "https://stackoverflow.com/users/4539804/david-c"}, "is_accepted": false, "score": 1, "last_activity_date": 1555543565, "creation_date": 1555543565, "answer_id": 55737271, "question_id": 55737138, "link": "https://stackoverflow.com/questions/55737138/is-there-a-way-to-fix-appending-float-values-to-dictionaries-in-python/55737271#55737271", "title": "Is there a way to fix appending float values to dictionaries in Python?", "body": "<p>The python dictionary has a very nice method, <code>setdefault</code>, that should help here:</p>\n\n<pre><code>def magnitudedictionary():\n\n    earth = open(\"earthquakes.txt\", \"r\")\n\n    magdict = {}\n    for line in earth:\n        alist = line.split()\n        magnitude= float(alist[0])\n        date = alist[1]\n\n        magdict.setdefault(date, []).append(magnitude)\n\n    earth.close()\n\n    return magdict\n</code></pre>\n\n<p>Here is a small bit of documentation on the method in question: <a href=\"https://www.tutorialspoint.com/python/dictionary_setdefault.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/python/dictionary_setdefault.htm</a></p>\n"}], "owner": {"reputation": 11, "user_id": 11376269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d78d1009707c3bebe37534cdea8e1595?s=128&d=identicon&r=PG&f=1", "display_name": "jm414328", "link": "https://stackoverflow.com/users/11376269/jm414328"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 926, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1555543565, "creation_date": 1555542616, "question_id": 55737138, "link": "https://stackoverflow.com/questions/55737138/is-there-a-way-to-fix-appending-float-values-to-dictionaries-in-python", "title": "Is there a way to fix appending float values to dictionaries in Python?", "body": "<p>I'm currently writing code that's supposed to read a file that has the dates and magnitudes of the major earthquakes in recent years and return a dictionary where the keys are the dates the earthquakes took place, and then the values are the magnitudes of the earthquakes that happened on that date. </p>\n\n<p>My code currently looks like this:</p>\n\n<pre><code>def magnitudedictionary():\n\nearth = open(\"earthquakes.txt\", \"r\")\n\nmagdict = {}\nfor line in earth:\n    alist = line.split()\n    magnitude= float(alist[0])\n    date = alist[1]\n    if date in magdict:\n        magdict[date].append(magnitude)\n    else:\n        magdict[date] = magnitude\n\nearth.close()\n\nreturn magdict\n</code></pre>\n\n<p>But whenever I try to run the code, I always get a Traceback that says:</p>\n\n<pre><code> Traceback (most recent call last):\n     File \"/Users/MargaretJagger/PycharmProjects/Homework 6/Q2.py\", line 18, in &lt;module&gt; magnitudedictionary()\n     File \"/Users/MargaretJagger/PycharmProjects/Homework 6/Q2.py\", line 10, in magnitudedictionary\nmagdict[date].append(magnitude)\nAttributeError: 'float' object has no attribute 'append'\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>I'm not quite sure what the issue is exactly, but I know that it has something to do with the float and the dictionary values not matching up.</p>\n"}, {"tags": ["python", "tokenize"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11376275, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0eCfd2WJTPk/AAAAAAAAAAI/AAAAAAAAAFc/xRp-iuBLHtk/photo.jpg?sz=128", "display_name": "Brand Lee", "link": "https://stackoverflow.com/users/11376275/brand-lee"}, "edited": false, "score": 0, "creation_date": 1555546232, "post_id": 55737211, "comment_id": 98152787, "body": "[[&#39;2.1 Separated of trains&#39;], [&#39;Principle: The method to make the signal is different.&#39;],[&#39;2.2 Context&#39;]]"}, {"owner": {"reputation": 13, "user_id": 11376275, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0eCfd2WJTPk/AAAAAAAAAAI/AAAAAAAAAFc/xRp-iuBLHtk/photo.jpg?sz=128", "display_name": "Brand Lee", "link": "https://stackoverflow.com/users/11376275/brand-lee"}, "edited": false, "score": 0, "creation_date": 1555546262, "post_id": 55737211, "comment_id": 98152794, "body": "This is what I get from your method."}, {"owner": {"reputation": 13, "user_id": 11376275, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0eCfd2WJTPk/AAAAAAAAAAI/AAAAAAAAAFc/xRp-iuBLHtk/photo.jpg?sz=128", "display_name": "Brand Lee", "link": "https://stackoverflow.com/users/11376275/brand-lee"}, "edited": false, "score": 0, "creation_date": 1555547173, "post_id": 55737211, "comment_id": 98152940, "body": "How can we merge them all in one list?"}, {"owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "reply_to_user": {"reputation": 13, "user_id": 11376275, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0eCfd2WJTPk/AAAAAAAAAAI/AAAAAAAAAFc/xRp-iuBLHtk/photo.jpg?sz=128", "display_name": "Brand Lee", "link": "https://stackoverflow.com/users/11376275/brand-lee"}, "edited": false, "score": 0, "creation_date": 1555550916, "post_id": 55737211, "comment_id": 98153580, "body": "You&#39;re welcome. If the answer was useful, please consider to accept it. <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 6583, "user_id": 10426037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6723e3123b9a13d6360d1ee755f8728?s=128&d=identicon&r=PG&f=1", "display_name": "Valentino", "link": "https://stackoverflow.com/users/10426037/valentino"}, "is_accepted": true, "score": 0, "last_activity_date": 1555548880, "last_edit_date": 1555548880, "creation_date": 1555543063, "answer_id": 55737211, "question_id": 55737137, "link": "https://stackoverflow.com/questions/55737137/tokenize-my-csv-in-one-list-rather-than-separate-using-python/55737211#55737211", "title": "Tokenize my CSV in one list rather than separate using Python", "body": "<p>Since <code>sent_tokenize()</code> returns a list, you could simply extend a starting list each time.</p>\n\n<pre><code>alltokens = []\n\nwith open ('train.csv') as file_object:\n    for trainline in file_object:\n        tokens_train = sent_tokenize(trainline)\n        alltokens.extend(tokens_train)\n    print(alltokens)\n</code></pre>\n\n<p>Or with a list comprehension:</p>\n\n<pre><code>with open ('train.csv') as file_object:\n    alltokens = [token for trainline in file_object for token in sent_tokenize(trainline)]\nprint(alltokens)\n</code></pre>\n\n<p>Both solutions will work even if <code>sent_tokenize()</code> returns a list longer than 1.</p>\n"}, {"tags": [], "owner": {"reputation": 347, "user_id": 3760994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TTBi7.jpg?s=128&g=1", "display_name": "Augusto Sisa", "link": "https://stackoverflow.com/users/3760994/augusto-sisa"}, "is_accepted": false, "score": 0, "last_activity_date": 1555543182, "creation_date": 1555543182, "answer_id": 55737229, "question_id": 55737137, "link": "https://stackoverflow.com/questions/55737137/tokenize-my-csv-in-one-list-rather-than-separate-using-python/55737229#55737229", "title": "Tokenize my CSV in one list rather than separate using Python", "body": "<p>Initialize an empty list</p>\n\n<pre><code>out = []\n</code></pre>\n\n<p>And inside the loop append items to it.</p>\n\n<pre><code>out.append(tokens_train)\n</code></pre>\n\n<p>Maybe you have to modify your tokenizer too.</p>\n"}], "owner": {"reputation": 13, "user_id": 11376275, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0eCfd2WJTPk/AAAAAAAAAAI/AAAAAAAAAFc/xRp-iuBLHtk/photo.jpg?sz=128", "display_name": "Brand Lee", "link": "https://stackoverflow.com/users/11376275/brand-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55737211, "answer_count": 2, "score": 0, "last_activity_date": 1555548880, "creation_date": 1555542614, "question_id": 55737137, "link": "https://stackoverflow.com/questions/55737137/tokenize-my-csv-in-one-list-rather-than-separate-using-python", "title": "Tokenize my CSV in one list rather than separate using Python", "body": "<p>I want to tokenize my CSV in one list rather than a separate list?</p>\n\n<pre><code>with open ('train.csv') as file_object:\n    for trainline in file_object:\n        tokens_train = sent_tokenize(trainline)\n        print(tokens_train)\n</code></pre>\n\n<p>This is how I am getting the output:     </p>\n\n<pre><code>['2.1 Separated of trains']\n['Principle: The method to make the signal is different.']\n['2.2 Context']\n</code></pre>\n\n<p>I want all of them in one list  </p>\n\n<pre><code>['2.1 Separated of trains','Principle: The method to make the signal is different.','2.2 Context']\n</code></pre>\n"}, {"tags": ["python", "unicode", "utf-8", "hex", "escaping"], "answers": [{"tags": [], "owner": {"reputation": 4102, "user_id": 10366273, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1c2BX.jpg?s=128&g=1", "display_name": "MyNameIsCaleb", "link": "https://stackoverflow.com/users/10366273/mynameiscaleb"}, "is_accepted": false, "score": 0, "last_activity_date": 1555545466, "creation_date": 1555545466, "answer_id": 55737440, "question_id": 55737130, "link": "https://stackoverflow.com/questions/55737130/relationship-between-x-and-unicode-codepoints/55737440#55737440", "title": "relationship between \\x and unicode codepoints", "body": "<p>The difference is related to the amount of bits/bytes that each character takes up to represent in utf-8. </p>\n\n<blockquote>\n  <p>For any character equal to or below 127 (hex 0x7F), the UTF-8\n  representation is one byte. It is just the lowest 7 bits of the full\n  unicode value. This is also the same as the ASCII value.</p>\n  \n  <p>For characters equal to or below 2047 (hex 0x07FF), the UTF-8\n  representation is spread across two bytes. The first byte will have\n  the two high bits set and the third bit clear (i.e. 0xC2 to 0xDF). The\n  second byte will have the top bit set and the second bit clear (i.e.\n  0x80 to 0xBF).</p>\n</blockquote>\n\n<p>There is more information about this <a href=\"https://www.fileformat.info/info/unicode/utf8.htm\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>If you wanted more info on how Python uses these values, <a href=\"https://docs.python.org/3/library/stdtypes.html#bytes\" rel=\"nofollow noreferrer\">check out here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 18759, "user_id": 2226988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6fbec3a71b2e95e4a6e41478deb379?s=128&d=identicon&r=PG", "display_name": "Tom Blodget", "link": "https://stackoverflow.com/users/2226988/tom-blodget"}, "is_accepted": false, "score": 0, "last_activity_date": 1555548116, "last_edit_date": 1555548116, "creation_date": 1555547588, "answer_id": 55737655, "question_id": 55737130, "link": "https://stackoverflow.com/questions/55737130/relationship-between-x-and-unicode-codepoints/55737655#55737655", "title": "relationship between \\x and unicode codepoints", "body": "<p>Yes, the first is \"a chain of three 2-character hex values that would equal decimal 226, 128, and 143.\" It's a byte string. You got a byte string because that's what <code>encode</code> does. You passed it UTF-8 so the bytes are the UTF-8 encoding for the input character string.</p>\n\n<p>\"The second looks like a single hex value that would equal decimal 8,207.\" Sort of; It's the notation for a UTF-16 code unit inside a literal character string. One or two UTF-16 code units encode a Unicode codepoint. In this case, only one is used for the corresponding codepoint. </p>\n\n<p>Sure, you can convert the hex to decimal but that's not very common or useful in either case. A code unit is a specific bit pattern. Bytes are that bit pattern as an integer, serialized to a byte sequence. </p>\n\n<p>The <a href=\"https://unicode.org\" rel=\"nofollow noreferrer\">Unicode</a> codepoint range needs 21 bits. UTF-16 encodes a codepoint in one or two 16-bit code units (so that's two bytes in some byte order for each code unit). UTF-8 encodes a codepoint in one, two, three or four 8-bit code units. (An 8-bit integer is one byte so byte order is moot.) Each character encoding has a separate algorithm to distribute the 21 bits into as many bytes are needed. Both are reversible and fully support the Unicode character set. So, you <em>could</em> directly convert one to the other. </p>\n\n<p>The table you reference doesn't show UTF-16. It shows Unicode codepoint hex notation: U+200F. That notation is for humans to identify codepoints. It so happens that when UTF-16 encodes a codepoint in one code unit, it's number is the same as the codepoint's number. </p>\n"}], "owner": {"reputation": 686, "user_id": 807036, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/1f76eb9dec512b6a72113a52ca291880?s=128&d=identicon&r=PG&f=1", "display_name": "nttaylor", "link": "https://stackoverflow.com/users/807036/nttaylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555548116, "creation_date": 1555542552, "question_id": 55737130, "link": "https://stackoverflow.com/questions/55737130/relationship-between-x-and-unicode-codepoints", "title": "relationship between \\x and unicode codepoints", "body": "<p>In Python (either 2 or 3), evaluating <code>b'\\xe2\\x80\\x8f'.decode(\"utf-8\")</code></p>\n\n<p>yields <code>\\u200f</code>, and similarly <code>'\\u200f'.encode(\"utf-8\")</code> yields <code>b'\\xe2\\x80\\x8f'</code>.</p>\n\n<p>The first looks like a chain of three 2-character hex values that would equal decimal 226, 128, and 143. The second looks like a single hex value that would equal decimal 8,207.</p>\n\n<p>Is there a logical relationship between '\\xe2\\x80\\x8f' and '\\u200f' ? Am I interpreting the values incorrectly?</p>\n\n<p>I can see the values are linked somehow in tables like this one: <a href=\"https://www.utf8-chartable.de/unicode-utf8-table.pl?start=8192&amp;number=128&amp;utf8=string-literal\" rel=\"nofollow noreferrer\">https://www.utf8-chartable.de/unicode-utf8-table.pl?start=8192&amp;number=128&amp;utf8=string-literal</a></p>\n\n<p>but why are these two values on the same row?</p>\n"}, {"tags": ["python", "while-loop"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1555542585, "post_id": 55737108, "comment_id": 98152120, "body": "Welcome to Stack Overflow. I suggest that you start a new python file and create a simple example that illustrates the same problem as your full program. I also suggest that you learn about functions and classes. These tools can help you organize your code as it continues to become more complex."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 3, "creation_date": 1555542628, "post_id": 55737108, "comment_id": 98152129, "body": "Welcome to StackOverflow.  Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified.  Please see <a href=\"http://idownvotedbecau.se/toomuchcode/\" rel=\"nofollow noreferrer\">A Wall of Code isn&#39;t Helpful</a>."}, {"owner": {"reputation": 4972, "user_id": 10824407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32862a03314e434224acf280c38e6e68?s=128&d=identicon&r=PG&f=1", "display_name": "Olvin Roght", "link": "https://stackoverflow.com/users/10824407/olvin-roght"}, "edited": false, "score": 0, "creation_date": 1555542770, "post_id": 55737108, "comment_id": 98152157, "body": "Btw, try to split code into functions, cause few months later you&#39;d rather die than find where to apply needed edits..."}, {"owner": {"reputation": 1127, "user_id": 9546874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee21d1f7accfbf83abc5ea5663982ac7?s=128&d=identicon&r=PG&f=1", "display_name": "Recessive", "link": "https://stackoverflow.com/users/9546874/recessive"}, "edited": false, "score": 0, "creation_date": 1555543579, "post_id": 55737108, "comment_id": 98152328, "body": "This slab of code utterly terrifies me. The code in the link is only worse. I think you should take some time to learn about lists and functions. They will make this task <i>a lot</i> easier."}], "answers": [{"tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": false, "score": 0, "last_activity_date": 1555544143, "last_edit_date": 1592644375, "creation_date": 1555544143, "answer_id": 55737319, "question_id": 55737108, "link": "https://stackoverflow.com/questions/55737108/how-do-you-clear-user-inputs/55737319#55737319", "title": "How do you clear user inputs?", "body": "<p>You should implement a single <code>While True</code> loop and that will reset the user input each loop (so long as you overwrite it <em>inside</em> the loop)! I would also advise you recreate your code into functions instead of several nested logic statements. An example of code that gets user input each loop (in the terms of your question <strong>clears user input</strong>):</p>\n<pre><code>while True:\n    big_prompt = &quot;&quot;&quot;What would you like to do?\n    1) say hi\n    2) say bye\n    3) pay taxes\n    4) ???\n    5) profit\n    6) Exit D:&quot;&quot;&quot;\n    action = input(big_prompt) # reset user input each loop\n    if action not in [&quot;1&quot;, &quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;]:\n        print(&quot;Sorry I didn't understand that&quot;)\n        continue # get a new user input\n    # at this point we know user input fits our criteria\n    if action == &quot;1&quot;:\n        print(&quot;Hi!&quot;)\n    elif action == &quot;2&quot;:\n        print(&quot;Bye!&quot;)\n    # ... you should be putting function calls in these for more complex tasks\n    elif action == &quot;6&quot;:\n        break # this only exits one loop, I think you are trying to use it to \n</code></pre>\n<p>With sample output:</p>\n<pre><code>What would you like to do?\n    1) say hi\n    2) say bye\n    3) pay taxes\n    4) ???\n    5) profit\n    6) Exit D:\n    &gt;&gt;&gt;1\nHi!\nWhat would you like to do?\n    1) say hi\n    2) say bye\n    3) pay taxes\n    4) ???\n    5) profit\n    6) Exit D:\n    &gt;&gt;&gt;6\n\nProcess finished with exit code 0\n</code></pre>\n<p>It also might be a good idea to review <em>The Zen of Python</em> by opening an interactive terminal and running <code>import this</code>:</p>\n<pre><code>&gt;&gt;&gt;import this\nThe Zen of Python, by Tim Peters\nBeautiful is better than ugly.\nExplicit is better than implicit.\nSimple is better than complex.\nComplex is better than complicated.\nFlat is better than nested.\nSparse is better than dense.\nReadability counts.\nSpecial cases aren't special enough to break the rules.\nAlthough practicality beats purity.\nErrors should never pass silently.\nUnless explicitly silenced.\nIn the face of ambiguity, refuse the temptation to guess.\nThere should be one-- and preferably only one --obvious way to do it.\nAlthough that way may not be obvious at first unless you're Dutch.\nNow is better than never.\nAlthough never is often better than *right* now.\nIf the implementation is hard to explain, it's a bad idea.\nIf the implementation is easy to explain, it may be a good idea.\nNamespaces are one honking great idea -- let's do more of those!\n</code></pre>\n<p>Where of special note we find a couple things that apply here:</p>\n<blockquote>\n<p>Flat is better than nested.</p>\n<p>Readability counts.</p>\n</blockquote>\n<p>Maintaining a single while loop greatly helps both of these. At one point in your code you get trapped inside <strong>3</strong> <code>while True:</code> loops and then try to break multiple with a single <code>break</code>, but will always stay trapped at least 2 levels deep...</p>\n"}], "owner": {"reputation": 1, "user_id": 11312229, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gHbcsIzRoiw/AAAAAAAAAAI/AAAAAAAAARo/BfKeyrlYEhg/photo.jpg?sz=128", "display_name": "Brent Tersol", "link": "https://stackoverflow.com/users/11312229/brent-tersol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1555544143, "creation_date": 1555542401, "question_id": 55737108, "link": "https://stackoverflow.com/questions/55737108/how-do-you-clear-user-inputs", "title": "How do you clear user inputs?", "body": "<p>So Im making the trade system on Monopoly using numbers. For example, if I want to add something, I input the number 1, if I want to remove something, I input the number 2, etc. My problem is, if I exit out the while loop, basically the code \"break\", that previous input to break also activates the main menu's if commands as well. If your confused what I am trying to say, I don't know if I'm allowed to post links on this website, but the link is:\n<a href=\"https://repl.it/@BrentTersol/Monopoly-Official\" rel=\"nofollow noreferrer\">https://repl.it/@BrentTersol/Monopoly-Official</a></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if Action == 2 :\n      while True:\n        replit.clear()\n        print(\"What would you like to give?\\n1: Add\\n2: Remove\\n3: Clear\\n4: Offer Trade\\n5: Cancel\\n6: Switch\")\n        Action = int(input(\"&gt;&gt;&gt; \"))\n        if Action == 1:\n          while True:\n            replit.clear()\n            print(\"What would you like to add?\\n1: Money\\n2: Property\\n3: Jail Free Card\\n4: Back\")\n            Action = int(input(\"&gt;&gt;&gt; \"))\n            if Action == 1:\n              if Turn == 1:\n                while True:\n                  replit.clear()\n                  print(\"How much money do you want to give for the trade?\\nMoney:\",str(Player1Money))\n                  Action = int(input(\"&gt;&gt;&gt; \"))\n                  if Action &gt;= 0 and Action &lt;= (Player1Money):\n                    TMoney1 = (Action)\n                    print(\"You added $\"+str(TMoney1),\"to the trade\")\n                    time.sleep(2)\n                    break\n                  else:\n                    print(\"You do not have enough money\")\n                    break\n              if Turn == 2:\n                while True:\n                  replit.clear()\n                  print(\"How much money do you want to give for the trade?\\nMoney:\",str(Player2Money))\n                  Action = int(input(\"&gt;&gt;&gt; \"))\n                  if Action &gt;= 0 and Action &lt;= (Player2Money):\n                    TMoney2 = (Action)\n                    print(\"You added $\"+str(TMoney2),\"to the trade\")\n                    time.sleep(2)\n                    break\n                  if Action == \"back\":\n                    break\n                  else:\n                    print(\"You do not have enough money\")\n                    break\n            if Action == 2:\n              while True:\n                replit.clear()\n                if Turn == 1:\n                  print(Inventory1)\n                if Turn == 2:\n                  print(Inventory2)\n                print(\"What property do you want to give?\")\n                Action = int(input(\"&gt;&gt;&gt; \"))\n                if Turn == 1:\n                  if (Action) in (Inventory1):\n                    TProperty1.append((Action))\n                    print(\"Added\",(Action),\"to the trade\")\n                    time.sleep(2)\n                    break\n                  else:\n                    print(\"Item not found in your properties\")\n                    time.sleep(2)\n                    break\n                if Turn == 2:\n                  if (Action) in (Inventory2):\n                    TProperty2 = (Action)\n                    print(\"Added\",(Action),\"to the trade\")\n                    time.sleep(2)\n                    break\n                  else:\n                    print(\"Item not found in your properties\")\n                    time.sleep(2)\n                    break\n            if Action == 3:\n              if Turn == 1:\n                if JailCard1 == 1:\n                  TCard1 = 1\n                  print(\"Added Jail Free Card to the trade.\")\n                  time.sleep(2)\n                else:\n                  print(\"You do not own a Jail Free Card\")\n                  time.sleep(2)\n              if Turn == 2:\n                if JailCard2 == 1:\n                  TCard1 = 1\n                  print(\"Added Jail Free Card to the trade.\")\n                  time.sleep(2)\n                else:\n                  print(\"You do not own a Jail Free Card\")\n                  time.sleep(2)\n            if Action == 4:\n              break\n        if Action == 2:\n          while True:\n            replit.clear()\n            print(\"What would you like to remove?\\n1: Money\\n2: Property\\n3: Jail Free Card\\n4: Back\")\n            Action = int(input(\"&gt;&gt;&gt; \"))\n            if Action == 1:\n              while True:\n                replit.clear()\n                if Turn == 1:\n                  if TMoney1 == 0:\n                    print(\"There wasn't any money to remove\")\n                    time.sleep(2)\n                  else:\n                    TMoney1 = 0\n                    print(\"Removed Cash from offer\")\n                    time.sleep(2)\n                    break\n            if Action == 2:\n              while True:\n                replit.clear()\n                print(TProperty1)\n                print(\"What property would you like to remove\")\n                Action = input(\"&gt;&gt;&gt; \")\n                Action = Action.lower()\n                if Turn == 1:\n                  if Action == \"back\":\n                    break\n                  if (Action) in (TProperty1):\n                    TProperty1.remove((Action))\n                    print(\"Removed\",(TProperty1),\"from trade\")\n                    time.sleep(2)\n                    break\n                  else:\n                    print(\"That item did not exist\")\n                    time.sleep(2)\n                if Turn == 2:\n                  if (Action) in (TProperty2):\n                    TProperty2.remove((Action))\n                    print(\"Removed\",(TProperty2),\"from trade\")\n                    time.sleep(2)\n                  else:\n                    print(\"That item did not exist\")\n                    time.sleep(2)\n            if Action == 3:\n              if Turn == 1:\n                if JailCard1 == 1:\n                  print(\"Removed Jail Free Card from trade\")\n                  TCard1 = 0\n                  break\n                else:\n                  print(\"Card does not exist in trade\")\n              if Turn == 2:\n                if JailCard2 == 1:\n                  print(\"Removed Jail Free Card from trade\")\n                  TCard2 = 0\n                  break\n                else:\n                  print(\"Card does not exist in trade\")\n            if Action == 4:\n              break\n        if Action == 3:\n          TMoney1 = 0\n          TMoney2 = 0\n          TProperty1.clear()\n          TProperty2.clear()\n          TCard1 = 0\n          TCard2 = 0\n        if Action == 4:\n          if Turn == 1:\n            while True:\n              print(\"This is what\",(Name1),\"offers:\\n--------------------\")\n              time.sleep(2)\n              print(\"You get:\\nMoney:\",(TMoney1),\"\\nProperty:\",(TProperty1),\"\\nGet out of Jail Free Card:\",(TCard1),\"\\n\")\n              time.sleep(2)\n              print(\"You give\",(Name1)+\":\\nMoney:\",(TMoney2),\"\\nProperty:\",(TProperty2),\"\\nGet out of Jail Free Card:\",(TCard2),\"\\n\")\n              time.sleep(2)\n              print(\"Do you accept this Offer? (Y/N):\")\n              Action = input(\"&gt;&gt;&gt; \")\n              Action = Action.lower()\n              if Action == \"y\":\n                print(\"This is beyond what I can do at this point. Very sorry you took a long time not knowing that it wouldnt work. But this will soon be fixed as soon as I know how to do this\")\n                time.sleep(5)\n              else:\n                print(\"Trade has been rejected\")\n                time.sleep(2)\n                break\n        if Action == 5:\n          if Turn == 1:\n            Turn = 2\n          else:\n            Turn = 1\n        if Action == 6:\n          print(\"This is beyond what I can do. Please wait until I learn how to do this. Thank you.\")\n</code></pre>\n"}, {"tags": ["python", "tensorflow", "cleverhans"], "answers": [{"tags": [], "owner": {"reputation": 989, "user_id": 1438644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e23fcc7dda1b4fac814b9845b28485b2?s=128&d=identicon&r=PG", "display_name": "user1438644", "link": "https://stackoverflow.com/users/1438644/user1438644"}, "is_accepted": true, "score": 1, "last_activity_date": 1555543384, "creation_date": 1555543384, "answer_id": 55737252, "question_id": 55737105, "link": "https://stackoverflow.com/questions/55737105/why-wont-tf-write-file-write-a-file/55737252#55737252", "title": "Why won&#39;t tf.write_file write a file?", "body": "<p>may the path of the destination file is not correct</p>\n\n<pre><code>import os\n\nfor adv_x in tf.unstack(adv):\n    img = tf.cast(adv_x, dtype=tf.uint8)\n    tf_image = tf.image.encode_jpeg(img)\n    pth = os.path.join('adversarial_examples', '%s.jpg'%i)\n    tf.write_file(pth, tf_image)\n    i += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13568317, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iImT1VoBzJ0/AAAAAAAAAAI/AAAAAAAAAAA/AAKWJJMrMOIhlvo_j9q4HTd7pVB09lP0Vg/photo.jpg?sz=128", "display_name": "rolyan trauts", "link": "https://stackoverflow.com/users/13568317/rolyan-trauts"}, "is_accepted": false, "score": 0, "last_activity_date": 1616632036, "last_edit_date": 1616632036, "creation_date": 1616597182, "answer_id": 66783491, "question_id": 55737105, "link": "https://stackoverflow.com/questions/55737105/why-wont-tf-write-file-write-a-file/66783491#66783491", "title": "Why won&#39;t tf.write_file write a file?", "body": "<p>you should:</p>\n<pre><code>op = tf.write_file(pth, tf_image)\nsess.run(op)\n</code></pre>\n<p>Where <code>sess</code> is a <code>tf.session</code>.</p>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1050, "favorite_count": 0, "accepted_answer_id": 55737252, "answer_count": 2, "score": 0, "last_activity_date": 1616632036, "creation_date": 1555542385, "question_id": 55737105, "link": "https://stackoverflow.com/questions/55737105/why-wont-tf-write-file-write-a-file", "title": "Why won&#39;t tf.write_file write a file?", "body": "<p>My code is:</p>\n\n<pre><code>i = 0\nfgsm = FastGradientMethod(wrap)\nadv = fgsm.generate(x_test_tensor, **fgsm_params)\n\nfor adv_x in tf.unstack(adv):\n    img = tf.cast(adv_x, dtype=tf.uint8)\n    tf_image = tf.image.encode_jpeg(img)\n    tf.write_file('adversarial_examples/' + str(i) + '.jpg', tf_image)\n    i += 1\n</code></pre>\n\n<p>Where FastGradientMethod is from <code>cleverhans</code>. This runs without an error, but the jpg's don't exist in my folder. What's missing?</p>\n"}, {"tags": ["python", "recursion", "tree", "binary-search-tree"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1555542875, "post_id": 55737101, "comment_id": 98152182, "body": "Please edit your code so we can actually test it."}], "answers": [{"tags": [], "owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1555546046, "creation_date": 1555546046, "answer_id": 55737498, "question_id": 55737101, "link": "https://stackoverflow.com/questions/55737101/bst-method-that-returns-a-list-of-values-in-a-specified-range-python-implementat/55737498#55737498", "title": "BST method that returns a list of values in a specified range Python implementation", "body": "<p>You could use something like this. Note that I tested it using a different tree structure.</p>\n\n<pre><code>import itertools\nfrom collections import deque\nclass BSTIterator(object):\n\n    def __init__(self, root):\n        # Constructor takes in a tree root\n        self.stack = deque()\n        self._get_min(root)\n\n    def _get_min(self, root):\n        # We need to create our stack, i.e. dive down the left\n        curr = root\n        while curr != None:\n            self.stack.append(curr)\n            curr = curr.left        \n\n    def __iter__(self): # Return self as the iterator\n        return self\n    def __next__(self): # Every time `next` is called return our data.\n        try:\n            curr = self.stack.pop()\n            self._get_min(curr.right)\n            return curr.data\n        except IndexError:\n            raise StopIteration\n</code></pre>\n\n<p><strong>Tree type used:</strong></p>\n\n<pre><code>class Node:\n    def __init__(self, data):\n        self.left = None\n        self.right = None\n        self.data = data\n    def insert(self, data):\n        if self.data:\n            if data &lt; self.data:\n                if self.left is None:\n                    self.left = Node(data)\n                else:\n                    self.left.insert(data)\n            elif data &gt; self.data:\n                if self.right is None:\n                    self.right = Node(data)\n                else:\n                    self.right.insert(data)\n        else:\n            self.data = data\n</code></pre>\n\n<p><strong>Tested with:</strong></p>\n\n<pre><code>root = Node(8)\nroot.insert(3)\nroot.insert(10)\nroot.insert(1)\nroot.insert(7)\nroot.insert(12)\nroot.insert(121)\nroot.insert(23)\nroot.insert(19)\nroot.insert(9)\nb_iter = BSTIterator(root)\n# root.print_tree()\n\n# Since we now have an iterator we can for loop over it\n# such as\n# y = [x for x in b_iter]\n# or we can slice it like\ny = [x for x in itertools.islice(b_iter, 2, 5)]\nprint(y)\n</code></pre>\n\n<p><strong>Prints:</strong></p>\n\n<pre><code>[7, 8, 9]\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10312001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555546046, "creation_date": 1555542362, "last_edit_date": 1555543982, "question_id": 55737101, "link": "https://stackoverflow.com/questions/55737101/bst-method-that-returns-a-list-of-values-in-a-specified-range-python-implementat", "title": "BST method that returns a list of values in a specified range Python implementation", "body": "<p>I want to return a list of sorted order, provided I'm given a start/stop value for the method. For example, if start=2 and end=8, then i want to return a list within that range, implicitly, of the values in the BST in sorted order.</p>\n\n<p>Since I want it to be in sorted order and not allowed to post sort the list after the method call, I think i should traverse the bst via in order traversal. when I test my implementation, first first doctest return [7,9,11] instead of [5,7,9,11] as intended.</p>\n\n<pre><code>from __future__ import annotations\nfrom typing import Any, List, Optional, Tuple\n\nclass BinarySearchTree:\n    \"\"\"Binary Search Tree class.\n\n    # === Representation Invariants ===\n    #  - If self._root is None, then so are self._left and self._right.\n    #    This represents an empty BST.\n    #  - If self._root is not None, then self._left and self._right\n    #    are BinarySearchTrees.\n    #  - (BST Property) If self is not empty, then\n    #    all items in self._left are &lt;= self._root, and\n    #    all items in self._right are &gt;= self._root.\n    \"\"\"\n    def __init__(self, root: Optional[Any]) -&gt; None:\n        \"\"\"Initialize a new BST containing only the given root value.\n\n        If &lt;root&gt; is None, initialize an empty tree.\n        \"\"\"\n        if root is None:\n            self._root = None\n            self._left = None\n            self._right = None\n        else:\n            self._root = root\n            self._left = BinarySearchTree(None)\n            self._right = BinarySearchTree(None)\n\n    def is_empty(self) -&gt; bool:\n        \"\"\"Return True if this BST is empty.\n\n        &gt;&gt;&gt; bst = BinarySearchTree(None)\n        &gt;&gt;&gt; bst.is_empty()\n        True\n        &gt;&gt;&gt; bst = BinarySearchTree(10)\n        &gt;&gt;&gt; bst.is_empty()\n        False\n        \"\"\"\n        return self._root is None\n\n    def items_in_range(self, start: Any, end: Any) -&gt; List:\n        \"\"\"Return the items in this BST between &lt;start&gt; and &lt;end&gt;, inclusive.\n\n        Precondition: all items in this BST can be compared with &lt;start&gt; and\n        &lt;end&gt;.\n        The items should be returned in sorted order.\n\n        As usual, use the BST property to minimize the number of recursive\n        calls.\n\n        &gt;&gt;&gt; bst = BinarySearchTree(7)\n        &gt;&gt;&gt; left = BinarySearchTree(3)\n        &gt;&gt;&gt; left._left = BinarySearchTree(2)\n        &gt;&gt;&gt; left._right = BinarySearchTree(5)\n        &gt;&gt;&gt; right = BinarySearchTree(11)\n        &gt;&gt;&gt; right._left = BinarySearchTree(9)\n        &gt;&gt;&gt; right._right = BinarySearchTree(13)\n        &gt;&gt;&gt; bst._left = left\n        &gt;&gt;&gt; bst._right = right\n        &gt;&gt;&gt; bst.items_in_range(4, 11)\n        [5, 7, 9, 11]\n        &gt;&gt;&gt; bst.items_in_range(10, 13)\n        [11, 13]\n        \"\"\"\n        if self.is_empty():\n            return []\n        else:\n            #use helper here\n            if end &gt;= self._root &gt;= start:\n                return (self._left._helper_items_in_range_left(start)\n                        + [self._root]\n                        + self._right._helper_item_in_range_right(end))\n            elif self._root &gt; end:\n                return self._left.items_in_range(start,end)\n            elif self._root &lt; start:\n                return self._right.items_in_range(start,end)\n            else:\n                pass\n\n    def _helper_items_in_range_left(self, start):\n        if self.is_empty():\n            return []\n        elif self._root &lt; start:\n            return []\n        else:\n            return self._left._helper_items_in_range_left(start) +\\\n                   [self._root] + self._right._helper_items_in_range_left(start)\n\n    def _helper_item_in_range_right(self, end):\n        if self.is_empty():\n            return []\n        elif self._root &gt; end:\n            return []\n        else:\n            return self._left._helper_item_in_range_right(end) + [self._root] +\\\n                   self._right._helper_item_in_range_right(end)\n\n</code></pre>\n"}, {"tags": ["python", "selenium", "firefox"], "comments": [{"owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "edited": false, "score": 1, "creation_date": 1555543280, "post_id": 55737067, "comment_id": 98152276, "body": "You have two questions in here. The first one being out to fill out a form using Selenium and the second being why can I not access the username id. I would make a separate question/Look on other SO questions for filling out forms since that has already been described on SO multiple times"}, {"owner": {"reputation": 1782, "user_id": 4513879, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/--zD_gKbQXgs/AAAAAAAAAAI/AAAAAAAAAFw/bTW_-iJGLAw/photo.jpg?sz=128", "display_name": "Pradnya Bolli", "link": "https://stackoverflow.com/users/4513879/pradnya-bolli"}, "edited": false, "score": 1, "creation_date": 1555568583, "post_id": 55737067, "comment_id": 98157549, "body": "This line should be <code>emailEl = browser.find_element_by_id(&quot;username&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 7410383, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211966226936527/picture?type=large", "display_name": "Edeki Okoh", "link": "https://stackoverflow.com/users/7410383/edeki-okoh"}, "is_accepted": false, "score": 1, "last_activity_date": 1555543409, "creation_date": 1555543409, "answer_id": 55737256, "question_id": 55737067, "link": "https://stackoverflow.com/questions/55737067/how-do-i-fill-out-a-form-using-python-and-selenium/55737256#55737256", "title": "How do I fill out a form using Python and Selenium?", "body": "<p>Wrap username in quotation marks. Right now you are passing in a variable called username which selenium is trying to match with an id on the page with the same value. Since the value is none, Selenium cannot find it hence the error. </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11376268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fb0ce811e904f7edc5c35728e11e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Hababa", "link": "https://stackoverflow.com/users/11376268/hababa"}, "edited": false, "score": 0, "creation_date": 1555658027, "post_id": 55748177, "comment_id": 98191460, "body": "<code>from selenium.webdriver.common.by import By</code> leads to:  &quot;SyntaxError: invalid syntax&quot;"}], "tags": [], "owner": {"reputation": 1410, "user_id": 7013205, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0-NIZhYs9ok/AAAAAAAAAAI/AAAAAAAAABw/UhhDdIcg9lA/photo.jpg?sz=128", "display_name": "S Ahmed", "link": "https://stackoverflow.com/users/7013205/s-ahmed"}, "is_accepted": false, "score": 1, "last_activity_date": 1555597667, "creation_date": 1555597667, "answer_id": 55748177, "question_id": 55737067, "link": "https://stackoverflow.com/questions/55737067/how-do-i-fill-out-a-form-using-python-and-selenium/55748177#55748177", "title": "How do I fill out a form using Python and Selenium?", "body": "<p>The page you are trying to access takes time to load. You have to wait for the element to be visible before accessing it. </p>\n\n<p><strong>Try this</strong>: </p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n\n\nbrowser = webdriver.Firefox()\ntype(browser)\nbrowser.get('https://forum-studienstiftung.de/')\nemailEl = WebDriverWait(driver, 20).until(EC.presence_of_element_located((By.id, \"username\")))\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11376268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77fb0ce811e904f7edc5c35728e11e1e?s=128&d=identicon&r=PG&f=1", "display_name": "Hababa", "link": "https://stackoverflow.com/users/11376268/hababa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 743, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555597667, "creation_date": 1555542126, "last_edit_date": 1555556730, "question_id": 55737067, "link": "https://stackoverflow.com/questions/55737067/how-do-i-fill-out-a-form-using-python-and-selenium", "title": "How do I fill out a form using Python and Selenium?", "body": "<p>I am new to Python and wanted to use it for automatic login. I found <a href=\"https://automatetheboringstuff.com/chapter11/\" rel=\"nofollow noreferrer\">https://automatetheboringstuff.com/chapter11/</a> and tried:</p>\n\n<pre><code>#! python3\nfrom selenium import webdriver\nbrowser = webdriver.Firefox()\ntype(browser)\nbrowser.get('https://forum-studienstiftung.de/')\nemailEl = browser.find_element_by_id(username)\n</code></pre>\n\n<p>Unfortunately, this leads to:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last): File \"\", line 1, in\n   emailEl = browser.find_element_by_id(username) NameError:\n  name 'username' is not defined</p>\n</blockquote>\n\n<p>According to the Firefox Developer Tools the correct ID is \"username\".</p>\n"}, {"tags": ["python", "python-3.x", "scikit-learn"], "comments": [{"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 1, "creation_date": 1555542361, "post_id": 55737053, "comment_id": 98152080, "body": "How do you know it is this line? Can you provide sample data?"}, {"owner": {"reputation": 2192, "user_id": 3106565, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/59de4b3d6299b5b375e072efd690870d?s=128&d=identicon&r=PG&f=1", "display_name": "Osman Mamun", "link": "https://stackoverflow.com/users/3106565/osman-mamun"}, "edited": false, "score": 2, "creation_date": 1555542536, "post_id": 55737053, "comment_id": 98152112, "body": "<code>n_estimators=1000</code> seems like an overkill. Without knowing anything about the data, it&#39;s most likely the training is taking long time. Use smaller <code>n_estimators</code> to see if it is actually the case."}], "answers": [{"comments": [{"owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "edited": false, "score": 0, "creation_date": 1555547076, "post_id": 55737112, "comment_id": 98152922, "body": "@Everyone...THANKS!!"}], "tags": [], "owner": {"reputation": 156, "user_id": 10543771, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e94484df4836384fbbf9e888d596e01?s=128&d=identicon&r=PG&f=1", "display_name": "RyanL", "link": "https://stackoverflow.com/users/10543771/ryanl"}, "is_accepted": true, "score": 2, "last_activity_date": 1555542458, "creation_date": 1555542458, "answer_id": 55737112, "question_id": 55737053, "link": "https://stackoverflow.com/questions/55737053/python-running-extremely-slow-one-one-line-of-code/55737112#55737112", "title": "Python running extremely slow one one line of code", "body": "<p>One way to check where to code is getting to is to add print statements. For example you can add (right before the label encoder):</p>\n\n<pre><code>print(\"Code got before label encoder\")\n</code></pre>\n\n<p>And then after that code block add another print statement. You can see in your console exactly where the code is getting stuck and debug that specific line.</p>\n"}], "owner": {"reputation": 15100, "user_id": 5212614, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/tITr9.jpg?s=128&g=1", "display_name": "ASH", "link": "https://stackoverflow.com/users/5212614/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 55737112, "answer_count": 1, "score": 1, "last_activity_date": 1555547111, "creation_date": 1555541980, "last_edit_date": 1555547111, "question_id": 55737053, "link": "https://stackoverflow.com/questions/55737053/python-running-extremely-slow-one-one-line-of-code", "title": "Python running extremely slow one one line of code", "body": "<p>I'm running the code below.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\nfrom sklearn.preprocessing import LabelEncoder\nimport random\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.ensemble import GradientBoostingClassifier\n\ntrain=pd.read_csv('C:\\\\path_here\\\\train.csv')\ntest=pd.read_csv('C:\\\\path_here\\\\test.csv')\ntrain['Type']='Train' #Create a flag for Train and Test Data set\ntest['Type']='Test'\nfullData = pd.concat([train,test],axis=0) #Combined both Train and Test Data set\n\n\nfullData.columns # This will show all the column names\nfullData.head(10) # Show first 10 records of dataframe\nfullData.describe() #You can look at summary of numerical fields by using describe() function\n\n\nID_col = ['REF_NO']\ntarget_col = ['Status']\ncat_cols = ['children','age_band','status','occupation','occupation_partner','home_status','family_income','self_employed', 'self_employed_partner','year_last_moved','TVarea','post_code','post_area','gender','region']\n\nnum_cols= list(set(list(fullData.columns)))\nother_col=['Type'] #Test and Train Data set identifier\n\n\nfullData.isnull().any()#Will return the feature with True or False,True means have missing value else False\n\nnum_cat_cols = num_cols+cat_cols # Combined numerical and Categorical variables\n\n#Create a new variable for each variable having missing value with VariableName_NA \n# and flag missing value with 1 and other with 0\n\nfor var in num_cat_cols:\n    if fullData[var].isnull().any()==True:\n        fullData[var+'_NA']=fullData[var].isnull()*1 \n\n\n#Impute numerical missing values with mean\nfullData[num_cols] = fullData[num_cols].fillna(fullData[num_cols].mean(),inplace=True)\n\n#Impute categorical missing values with 0\nfullData[cat_cols] = fullData[cat_cols].fillna(value = 0)\n\n\n#create label encoders for categorical features\nfor var in cat_cols:\n number = LabelEncoder()\n fullData[var] = number.fit_transform(fullData[var].astype('str'))\n\n#Target variable is also a categorical so convert it\nfullData[\"Account.Status\"] = number.fit_transform(fullData[\"Account.Status\"].astype('str'))\n\ntrain=fullData[fullData['Type']=='Train']\ntest=fullData[fullData['Type']=='Test']\n\ntrain['is_train'] = np.random.uniform(0, 1, len(train)) &lt;= .75\nTrain, Validate = train[train['is_train']==True], train[train['is_train']==False]\n\n\nfeatures=list(set(list(fullData.columns))-set(ID_col)-set(target_col)-set(other_col))\n\nx_train = Train[list(features)].values\ny_train = Train[\"Account.Status\"].values\nx_validate = Validate[list(features)].values\ny_validate = Validate[\"Account.Status\"].values\nx_test=test[list(features)].values\n\nrandom.seed(100)\nrf = RandomForestClassifier(n_estimators=1000)\nrf.fit(x_train, y_train)\n</code></pre>\n\n<p>It seems to run, endlessly, in this line.</p>\n\n<pre><code>fullData[cat_cols] = fullData[cat_cols].fillna(value = 0)\n</code></pre>\n\n<p>I can't get it past that spot.  how can I see what's happening in the background?  Is there some way to see the work that's being done?  Thanks.</p>\n"}, {"tags": ["python", "pandas", "algorithm", "resampling"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 1, "creation_date": 1555542386, "post_id": 55737035, "comment_id": 98152086, "body": "Can you add some example data you used. Mostly 5-10 rows is enough, you can add some more if you think that clears your question up. You can find information about creating a good pandas question <a href=\"https://stackoverflow.com/questions/20109391/how-to-make-good-reproducible-pandas-examples\">here</a>. In your question its crucial to see some data to answer your question, hard to say just by looking at your plots"}, {"owner": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1555542648, "post_id": 55737035, "comment_id": 98152135, "body": "My bad. Just added full datapoints set for both graphs."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "edited": false, "score": 0, "creation_date": 1555545281, "post_id": 55737360, "comment_id": 98152605, "body": "I think this way we will produce more accurate representation of traffic flowing through the link, if there is no loss on it. But it doesn&#39;t help with the goal of  comparing input and output to detect loss."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "edited": false, "score": 0, "creation_date": 1555545360, "post_id": 55737360, "comment_id": 98152627, "body": "Could you describe better what &quot;loss of data&quot; is in this case? How do you calculate that. Maybe do that for one timestamp so I can understand @mongolio"}, {"owner": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "edited": false, "score": 0, "creation_date": 1555545629, "post_id": 55737360, "comment_id": 98152675, "body": "Let&#39;s use analogy of water pipe, if we have a leak on the pipe - rate at which water entering pipe would be different from the rate at which water flowing out other side of pipe - because of leak. Comparing readings on both side we should be able to see that we are having the leak. In my case water flowing with changing pressure and readings on A side and Z side of pipe are happening at different points of time."}, {"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "reply_to_user": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "edited": false, "score": 1, "creation_date": 1555548108, "post_id": 55737360, "comment_id": 98153131, "body": "I see, that makes it more clear. I tried to reindex and get more accurate calculation of loss. See my edited answer. @mongolio"}, {"owner": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "edited": false, "score": 0, "creation_date": 1555611592, "post_id": 55737360, "comment_id": 98180041, "body": "Erfan, thank you for looking into it!  The thing is that there is no loss behind this graph, so I was thinking about some advanced algorithms that can be applied to interpolate points on it, linear as you see is not really working. I tried cubic and spline, results looks promising but not good enough."}], "tags": [], "owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "is_accepted": false, "score": 1, "last_activity_date": 1555705821, "last_edit_date": 1555705821, "creation_date": 1555544567, "answer_id": 55737360, "question_id": 55737035, "link": "https://stackoverflow.com/questions/55737035/algorithm-to-interpolate-data-to-reconcile-readings-from-different-sides-of-link/55737360#55737360", "title": "Algorithm to interpolate data to reconcile readings from different sides of link?", "body": "<h1>Method 1 to align plot</h1>\n\n<p>We can do the following to get the data exactly aligned, but I'm not sure what kind of data this is and if it actually makes sense to solve it this way. But maybe this helps.</p>\n\n<hr>\n\n<ol>\n<li><p>First we <a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html\" rel=\"nofollow noreferrer\"><code>concat</code></a> the dataframes side by side. </p></li>\n<li><p>Then we <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.fillna.html\" rel=\"nofollow noreferrer\"><code>fillna</code></a> the rows by the the opposite dataframes data.</p></li>\n</ol>\n\n<pre><code>df = pd.concat([df_a, df_b], axis=1)\ndf['output_bps'].fillna(df_d['input_bps'], inplace=True)\ndf['input_bps'].fillna(df_d['output_bps'], inplace=True)\n</code></pre>\n\n<hr>\n\n<p>Then we plot again and we see that it's perfectly aligned. As we see in the legend, its actually two lines</p>\n\n<pre><code>fig = plt.figure(figsize=(16,10))\n\nplt.plot(df['output_bps'], label='Side A out')\nplt.plot(df['input_bps'], label='Side Z in')\nplt.legend(loc='upper left')\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/lLQyc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lLQyc.png\" alt=\"plot\"></a></p>\n\n<hr>\n\n<h1>Method 2 to find more accurate differences</h1>\n\n<p>So as if I understand correctly. It's going to be hard to find accurate differences (loss) because of different timestamps which the sensors recorded the data. </p>\n\n<p>We can work our data to make it more accurate. Not just interpolate. But resample our data to <code>1 second</code> index and then interpolate to get more accuracy. After that we take the differences on the same timestamps to find the differences.</p>\n\n<p>This is the closest I can get:</p>\n\n<pre><code># reindex to make a new dataframe\ndf_z = pd.DataFrame(index=pd.date_range(start=df.index.min(), \n                                        end=df.index.max(), \n                                        freq='1S'), columns=df.columns)\n\n# merge the values of original dataframe and remove columns we dont need\ndf_z = df_z.merge(df, \n                  left_index=True, \n                  right_index=True, \n                  how='left', \n                  suffixes=['_1', '']).filter(regex='(^[^0-9]+$)')\n\n# fill NaN by linear interpolation\nfor col in df_z.columns:\n    df_z[col] = df_z[col].interpolate(method='linear', limit_direction='both', )\n\n# Calculate the loss on each second\ndf_z['loss'] = df_z['output_bps'] - df_z['input_bps']\n</code></pre>\n\n<hr>\n\n<p>Now we can plot our data again including the loss</p>\n\n<pre><code>fig = plt.figure(figsize=(16,10))\n\nplt.plot(df_z['output_bps'], label='Side A out')\nplt.plot(df_z['input_bps'], label='Side Z in')\nplt.plot(df_z['loss'], label='Loss')\nplt.legend(loc='upper left')\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rlAIq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlAIq.png\" alt=\"plot2\"></a></p>\n"}], "owner": {"reputation": 33, "user_id": 11019076, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vDIH.gif?s=128&g=1", "display_name": "mongolio", "link": "https://stackoverflow.com/users/11019076/mongolio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555705821, "creation_date": 1555541830, "last_edit_date": 1555542546, "question_id": 55737035, "link": "https://stackoverflow.com/questions/55737035/algorithm-to-interpolate-data-to-reconcile-readings-from-different-sides-of-link", "title": "Algorithm to interpolate data to reconcile readings from different sides of link?", "body": "<p>I have a readings of transmission rate from two sides of uniderectional network link (side A and side Z) that are reported in form of a timestamp and value, that are aggregated and pulled on 1 minute interval. In ideal circumstances, if we neglect transmission delay, readings should be same on both sides of link (Out rate on A side == In rate on Z side) and I want to use them to detect if there is a loss of data in transmission. \nThe problem is - readings arrive at different points of time, so readings from side Z lag by N seconds, what makes  data pretty much useless as even without loss on the link Im getting readings from Z side at different point of time, when rate at side A already has changed</p>\n\n<p><img src=\"https://i.imgur.com/VhfiUmH.pnghttps://i.imgur.com/VhfiUmH.png\" alt=\"initial\"></p>\n\n<p>Is there any interpolation algorithm that could help reconcile those signals in time? </p>\n\n<p>I tried creating common index of two dataframes and using linear interpolation add datapoints to each of the frames. It gives better picture of alignment between graphs, but during rapid growth/slowdown distance between datapoints at same point of time is huge, for e.g:\n<img src=\"https://i.imgur.com/mLOlYoq.png\" alt=\"interpolated\"></p>\n\n<p>Source data for the graphs in form of dictionaries:</p>\n\n<pre><code>df_a_side_out = {'output_bps': {Timestamp('2019-04-17 09:29:40-0700', tz='US/Pacific'): 35382522872.0, Timestamp('2019-04-17 09:30:41-0700', tz='US/Pacific'): 21079385419.6, Timestamp('2019-04-17 09:31:40-0700', tz='US/Pacific'): 31227610322.8, Timestamp('2019-04-17 09:32:40-0700', tz='US/Pacific'): 27822829221.333332, Timestamp('2019-04-17 09:33:40-0700', tz='US/Pacific'): 32904048834.8, Timestamp('2019-04-17 09:34:40-0700', tz='US/Pacific'): 25492801008.933334, Timestamp('2019-04-17 09:35:41-0700', tz='US/Pacific'): 35440406212.13333, Timestamp('2019-04-17 09:36:40-0700', tz='US/Pacific'): 25233478935.466667, Timestamp('2019-04-17 09:37:41-0700', tz='US/Pacific'): 40124788802.53333, Timestamp('2019-04-17 09:38:40-0700', tz='US/Pacific'): 22751043828.666668, Timestamp('2019-04-17 09:39:40-0700', tz='US/Pacific'): 34929660187.2, Timestamp('2019-04-17 09:40:41-0700', tz='US/Pacific'): 28188317863.733334, Timestamp('2019-04-17 09:41:41-0700', tz='US/Pacific'): 21337236735.866665, Timestamp('2019-04-17 09:42:40-0700', tz='US/Pacific'): 20949231319.333332, Timestamp('2019-04-17 09:43:41-0700', tz='US/Pacific'): 37289827508.933334, Timestamp('2019-04-17 09:44:40-0700', tz='US/Pacific'): 43531218338.53333, Timestamp('2019-04-17 09:45:41-0700', tz='US/Pacific'): 31844675965.333332, Timestamp('2019-04-17 09:46:40-0700', tz='US/Pacific'): 2393.3333333333335, Timestamp('2019-04-17 09:47:40-0700', tz='US/Pacific'): 6485669413.066667, Timestamp('2019-04-17 09:48:40-0700', tz='US/Pacific'): 27114641050.266666, Timestamp('2019-04-17 09:49:41-0700', tz='US/Pacific'): 30240896003.409836, Timestamp('2019-04-17 09:50:40-0700', tz='US/Pacific'): 47081233669.830505, Timestamp('2019-04-17 09:51:40-0700', tz='US/Pacific'): 45941505223.6, Timestamp('2019-04-17 09:52:40-0700', tz='US/Pacific'): 32794663316.133335, Timestamp('2019-04-17 09:53:41-0700', tz='US/Pacific'): 26202902204.666668, Timestamp('2019-04-17 09:54:40-0700', tz='US/Pacific'): 42744363073.46667, Timestamp('2019-04-17 09:55:40-0700', tz='US/Pacific'): 37591667043.6, Timestamp('2019-04-17 09:56:40-0700', tz='US/Pacific'): 11035404304.8, Timestamp('2019-04-17 09:57:40-0700', tz='US/Pacific'): 7707897097.466666, Timestamp('2019-04-17 09:58:40-0700', tz='US/Pacific'): 25327914733.066666, Timestamp('2019-04-17 09:59:40-0700', tz='US/Pacific'): 15763228742.8, Timestamp('2019-04-17 10:00:41-0700', tz='US/Pacific'): 30068024369.2, Timestamp('2019-04-17 10:01:40-0700', tz='US/Pacific'): 58940292672.26667, Timestamp('2019-04-17 10:02:41-0700', tz='US/Pacific'): 43484764068.26667, Timestamp('2019-04-17 10:03:41-0700', tz='US/Pacific'): 12948002074.266666, Timestamp('2019-04-17 10:04:41-0700', tz='US/Pacific'): 7776379160.655738, Timestamp('2019-04-17 10:05:40-0700', tz='US/Pacific'): 34174506576.81356, Timestamp('2019-04-17 10:06:40-0700', tz='US/Pacific'): 34642321006.933334, Timestamp('2019-04-17 10:07:40-0700', tz='US/Pacific'): 44025919118.13333, Timestamp('2019-04-17 10:08:41-0700', tz='US/Pacific'): 51441310396.8, Timestamp('2019-04-17 10:09:41-0700', tz='US/Pacific'): 49744733006.666664, Timestamp('2019-04-17 10:10:40-0700', tz='US/Pacific'): 39372041772.53333, Timestamp('2019-04-17 10:11:40-0700', tz='US/Pacific'): 37212362739.73333, Timestamp('2019-04-17 10:12:41-0700', tz='US/Pacific'): 29888187478.133335, Timestamp('2019-04-17 10:13:41-0700', tz='US/Pacific'): 23647225076.8, Timestamp('2019-04-17 10:14:41-0700', tz='US/Pacific'): 44232721589.333336, Timestamp('2019-04-17 10:15:40-0700', tz='US/Pacific'): 31619739302.8, Timestamp('2019-04-17 10:16:41-0700', tz='US/Pacific'): 34270903419.866665, Timestamp('2019-04-17 10:17:41-0700', tz='US/Pacific'): 37255143804.26667, Timestamp('2019-04-17 10:18:40-0700', tz='US/Pacific'): 29626685689.333332, Timestamp('2019-04-17 10:19:41-0700', tz='US/Pacific'): 37738576156.8, Timestamp('2019-04-17 10:20:41-0700', tz='US/Pacific'): 32520425703.733334, Timestamp('2019-04-17 10:21:40-0700', tz='US/Pacific'): 50682096771.066666, Timestamp('2019-04-17 10:22:40-0700', tz='US/Pacific'): 53442027636.0, Timestamp('2019-04-17 10:23:40-0700', tz='US/Pacific'): 48346635537.066666, Timestamp('2019-04-17 10:24:41-0700', tz='US/Pacific'): 28192208534.0, Timestamp('2019-04-17 10:25:41-0700', tz='US/Pacific'): 30508158848.533333, Timestamp('2019-04-17 10:26:40-0700', tz='US/Pacific'): 38669708961.73333, Timestamp('2019-04-17 10:27:41-0700', tz='US/Pacific'): 41905851091.333336, Timestamp('2019-04-17 10:28:40-0700', tz='US/Pacific'): 37885503188.4}}\n\ndf_z_side_in = {'input_bps': {Timestamp('2019-04-17 09:29:21-0700', tz='US/Pacific'): 32479665734.933334, Timestamp('2019-04-17 09:30:21-0700', tz='US/Pacific'): 28762393063.213116, Timestamp('2019-04-17 09:31:21-0700', tz='US/Pacific'): 24012409059.66102, Timestamp('2019-04-17 09:32:20-0700', tz='US/Pacific'): 30912397690.8, Timestamp('2019-04-17 09:33:21-0700', tz='US/Pacific'): 30150484213.508198, Timestamp('2019-04-17 09:34:21-0700', tz='US/Pacific'): 26572558234.666668, Timestamp('2019-04-17 09:35:20-0700', tz='US/Pacific'): 38830624164.47458, Timestamp('2019-04-17 09:36:20-0700', tz='US/Pacific'): 26512584207.866665, Timestamp('2019-04-17 09:37:20-0700', tz='US/Pacific'): 32343571104.133335, Timestamp('2019-04-17 09:38:21-0700', tz='US/Pacific'): 28372191073.704918, Timestamp('2019-04-17 09:39:20-0700', tz='US/Pacific'): 30009804008.677967, Timestamp('2019-04-17 09:40:20-0700', tz='US/Pacific'): 30764259885.2, Timestamp('2019-04-17 09:41:20-0700', tz='US/Pacific'): 27229582440.533333, Timestamp('2019-04-17 09:42:21-0700', tz='US/Pacific'): 12670550319.868853, Timestamp('2019-04-17 09:43:21-0700', tz='US/Pacific'): 38891533755.333336, Timestamp('2019-04-17 09:44:21-0700', tz='US/Pacific'): 46374133014.644066, Timestamp('2019-04-17 09:45:20-0700', tz='US/Pacific'): 40275148155.46667, Timestamp('2019-04-17 09:46:21-0700', tz='US/Pacific'): 2374.032786885246, Timestamp('2019-04-17 09:47:20-0700', tz='US/Pacific'): 3260927513.220339, Timestamp('2019-04-17 09:48:21-0700', tz='US/Pacific'): 19319788768.666668, Timestamp('2019-04-17 09:49:21-0700', tz='US/Pacific'): 29479921822.133335, Timestamp('2019-04-17 09:50:21-0700', tz='US/Pacific'): 42536464523.27869, Timestamp('2019-04-17 09:51:21-0700', tz='US/Pacific'): 48253007455.32204, Timestamp('2019-04-17 09:52:20-0700', tz='US/Pacific'): 28098055972.266666, Timestamp('2019-04-17 09:53:20-0700', tz='US/Pacific'): 34696013048.8, Timestamp('2019-04-17 09:54:21-0700', tz='US/Pacific'): 41089541187.540985, Timestamp('2019-04-17 09:55:20-0700', tz='US/Pacific'): 35818326833.355934, Timestamp('2019-04-17 09:56:21-0700', tz='US/Pacific'): 24461996828.0, Timestamp('2019-04-17 09:57:21-0700', tz='US/Pacific'): 2534090684.266667, Timestamp('2019-04-17 09:58:21-0700', tz='US/Pacific'): 22127687010.229507, Timestamp('2019-04-17 09:59:21-0700', tz='US/Pacific'): 23025967406.915253, Timestamp('2019-04-17 10:00:20-0700', tz='US/Pacific'): 10059074966.266666, Timestamp('2019-04-17 10:01:21-0700', tz='US/Pacific'): 67497142954.0, Timestamp('2019-04-17 10:02:21-0700', tz='US/Pacific'): 46389235268.0, Timestamp('2019-04-17 10:03:20-0700', tz='US/Pacific'): 21655645611.2, Timestamp('2019-04-17 10:04:21-0700', tz='US/Pacific'): 966253748.4, Timestamp('2019-04-17 10:05:20-0700', tz='US/Pacific'): 27733135839.866665, Timestamp('2019-04-17 10:06:21-0700', tz='US/Pacific'): 38420361510.55738, Timestamp('2019-04-17 10:07:20-0700', tz='US/Pacific'): 38791963200.27119, Timestamp('2019-04-17 10:08:21-0700', tz='US/Pacific'): 49337311755.333336, Timestamp('2019-04-17 10:09:21-0700', tz='US/Pacific'): 49036736751.2, Timestamp('2019-04-17 10:10:21-0700', tz='US/Pacific'): 40189220408.0, Timestamp('2019-04-17 10:11:20-0700', tz='US/Pacific'): 47269187739.333336, Timestamp('2019-04-17 10:12:21-0700', tz='US/Pacific'): 22747569814.666668, Timestamp('2019-04-17 10:13:20-0700', tz='US/Pacific'): 29592627519.066666, Timestamp('2019-04-17 10:14:21-0700', tz='US/Pacific'): 39522624640.78689, Timestamp('2019-04-17 10:15:20-0700', tz='US/Pacific'): 33426815865.627117, Timestamp('2019-04-17 10:16:20-0700', tz='US/Pacific'): 36818438483.86667, Timestamp('2019-04-17 10:17:21-0700', tz='US/Pacific'): 36014942532.327866, Timestamp('2019-04-17 10:18:21-0700', tz='US/Pacific'): 32190457857.333332, Timestamp('2019-04-17 10:19:20-0700', tz='US/Pacific'): 33696489212.067795, Timestamp('2019-04-17 10:20:20-0700', tz='US/Pacific'): 33386886955.333332, Timestamp('2019-04-17 10:21:20-0700', tz='US/Pacific'): 47954604950.13333, Timestamp('2019-04-17 10:22:21-0700', tz='US/Pacific'): 54281759713.57377, Timestamp('2019-04-17 10:23:20-0700', tz='US/Pacific'): 43724407654.37288, Timestamp('2019-04-17 10:24:20-0700', tz='US/Pacific'): 36995567964.666664, Timestamp('2019-04-17 10:25:21-0700', tz='US/Pacific'): 25491555548.590164, Timestamp('2019-04-17 10:26:21-0700', tz='US/Pacific'): 38326723270.26667, Timestamp('2019-04-17 10:27:20-0700', tz='US/Pacific'): 43034165564.61017, Timestamp('2019-04-17 10:28:20-0700', tz='US/Pacific'): 37405127893.6}}\n</code></pre>\n"}, {"tags": ["python", "multithreading", "win32com", "sapi"], "answers": [{"tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": true, "score": 1, "last_activity_date": 1555542481, "creation_date": 1555542481, "answer_id": 55737116, "question_id": 55737030, "link": "https://stackoverflow.com/questions/55737030/using-win32client-sapi-spvoice-with-multi-threading-leads-to-pywintypes-com-erro/55737116#55737116", "title": "Using win32client SAPI.SpVoice with multi-threading leads to pywintypes.com_error", "body": "<p>You need to call <code>pythoncom.CoInitialize</code> or <code>pythoncom.CoInitializeEx</code> in a non-main thread to be able to use COM in it.</p>\n"}], "owner": {"reputation": 3628, "user_id": 6802252, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/93aac7d4f79b7275d62dc21cfe248ac2?s=128&d=identicon&r=PG&f=1", "display_name": "Moondra", "link": "https://stackoverflow.com/users/6802252/moondra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "accepted_answer_id": 55737116, "answer_count": 1, "score": 0, "last_activity_date": 1555542481, "creation_date": 1555541809, "question_id": 55737030, "link": "https://stackoverflow.com/questions/55737030/using-win32client-sapi-spvoice-with-multi-threading-leads-to-pywintypes-com-erro", "title": "Using win32client SAPI.SpVoice with multi-threading leads to pywintypes.com_error", "body": "<p>I am trying to use a thread with <code>wincl</code>'s built-in voice system.\nHowever I am running into this error:</p>\n\n<blockquote>\n  <p>pywintypes.com_error: (-2147221008, 'CoInitialize has not been called.', None, None)</p>\n</blockquote>\n\n<p>which I can't seem to decipher.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import win32com.client as wincl\nimport time, threading\n\n\ndef ten_second_timer():\n    t =threading.Timer(10, ten_second_timer)\n    speak = wincl.Dispatch(\"SAPI.SpVoice\")\n    speak.Speak(\"10 seconds have passed\")\n    t.start()\n\n\nt =threading.Thread(target = ten_second_timer)\nt.start()\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pip", "setuptools"], "comments": [{"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1555542273, "post_id": 55737009, "comment_id": 98152061, "body": "Just curious, what exactly are you trying to do with the additional information?  Also, if you are packaging your package as a wheel, the extra install command wouldn&#39;t actually be executed."}, {"owner": {"reputation": 223, "user_id": 2389065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EV41T.jpg?s=128&g=1", "display_name": "Toni", "link": "https://stackoverflow.com/users/2389065/toni"}, "reply_to_user": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 0, "creation_date": 1555542982, "post_id": 55737009, "comment_id": 98152209, "body": "Some of the extras that I have in setup.py require additional resource files to be downloaded. Currently those resource files are part of <code>git lfs</code> process.   In more details, I have several extras in the project where each extra has multiple resource files it works with. I wanted to skip the situations where all resource files are pulled even if you were to use only one extra of the project. Maybe I am going into totally wrong direction with this setup.py for the use case I just described?"}, {"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 1, "creation_date": 1555543228, "post_id": 55737009, "comment_id": 98152266, "body": "Yeah, you definitely don&#39;t want to approach it this way.  You should have your users execute some additional commands to get the resource files if they are to be downloaded, or package them directly with the package.  Not to mention <code>pip</code> actually does not call <code>setup.py</code> with the arguments (which includes the extras specified), but only to call it to &quot;compile&quot; the metadata for the package and read from it directly (have <code>setup.py</code> import <code>sys</code> and then <code>raise Exception(sys.argv)</code>, you will know what I mean), so it is actually <i>impossible</i> to do what you wanted."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "reply_to_user": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 1, "creation_date": 1555545832, "post_id": 55737009, "comment_id": 98152714, "body": "@metatoaster &quot;<i>pip actually does not call setup.py</i>&quot; That&#39;s not exactly true. <code>pip</code> certainly calls <code>setup.py</code> when installing from source dist or a VCS. <code>pip</code> does not call <code>setup.py</code> (even to read metadata ) at all when installing from a wheel because wheels contain the metadata. So what the OP wants could be implemented for source dist or a VCS installation."}, {"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1555546230, "post_id": 55737009, "comment_id": 98152786, "body": "@phd Please note the whole statement &quot;pip actually does not call setup.py with the arguments&quot;, I am referring to pip not passing the <code>.[url]</code> to <code>setup.py</code>."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "reply_to_user": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "edited": false, "score": 1, "creation_date": 1555546557, "post_id": 55737009, "comment_id": 98152847, "body": "@metatoaster I agree."}, {"owner": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 2, "creation_date": 1555546640, "post_id": 55737009, "comment_id": 98152860, "body": "@Toni I don&#39;t believe you can get the information as <code>pip</code> doesn&#39;t pass it to <code>setuptools</code>. It collects the list of requirements and installs it itself one by one."}, {"owner": {"reputation": 13849, "user_id": 2904896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/428748f4b24cb77ed1745007d95e1ef6?s=128&d=identicon&r=PG", "display_name": "metatoaster", "link": "https://stackoverflow.com/users/2904896/metatoaster"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 1, "creation_date": 1555546642, "post_id": 55737009, "comment_id": 98152861, "body": "@phd Also, OP wouldn&#39;t actually be able to use <code>pip</code> to install from source dist because of how <code>pip</code> uses <code>setup.py</code>, which was literally my whole point. If end users install the package without <code>-e</code> it would result in <code>pip</code> creating a wheel from the package, then installing the wheel, which would also not trigger the extra install command class."}, {"owner": {"reputation": 223, "user_id": 2389065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EV41T.jpg?s=128&g=1", "display_name": "Toni", "link": "https://stackoverflow.com/users/2389065/toni"}, "reply_to_user": {"reputation": 55797, "user_id": 7976758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/512cfbaf98d63ca4acd57b2df792aec6?s=128&d=identicon&r=PG", "display_name": "phd", "link": "https://stackoverflow.com/users/7976758/phd"}, "edited": false, "score": 0, "creation_date": 1555578897, "post_id": 55737009, "comment_id": 98162560, "body": "Thanks @phd and @metatoaster! In the end what I wanted is to make it easier for end user when installing extras to have just one command to handle. With that in mind I would then either need to wrap pip install with some Makefile or bash in order to cover both package installation and resource download."}], "owner": {"reputation": 223, "user_id": 2389065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EV41T.jpg?s=128&g=1", "display_name": "Toni", "link": "https://stackoverflow.com/users/2389065/toni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 838, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555541673, "creation_date": 1555541673, "question_id": 55737009, "link": "https://stackoverflow.com/questions/55737009/how-to-get-extras-from-pip-install-in-custom-cmdclass-command", "title": "How to get extras from pip install in custom cmdclass command?", "body": "<p>If I have a <code>setup.py</code> that looks like this:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from setuptools import setup\nfrom setuptools.command.install import install\n\n\nclass CustomInstallCommand(install):\n  def run(self):\n    install.run(self)\n    # no information on used `extras` in `pip install`    \n\n\nsetup(\n  name='myapp',\n  version='1.0.0',\n  install_requires=[\n    'unidecode &gt;= 1.0.0, &lt; 2.0.0',\n    'pyyaml &gt;= 4.0, &lt;= 5.1'\n  ],\n  extras_require={\n    'url': ['requests &gt;= 2.18, &lt; 3.0']\n  },\n  cmdclass={\n    'install': CustomInstallCommand\n  }\n)\n</code></pre>\n\n<p>Is it possible to get extras used in command <code>pip install</code> in setuptools command overrides in <code>setup.py</code> through <code>cmdclass</code> params?</p>\n\n<p>In other words, if user runs command:</p>\n\n<ul>\n<li><p><code>$ pip install -e .</code> - Through <code>cmdclass</code> override in <code>setup.py</code> get information that <strong>none of the extras have been used in pip install</strong></p></li>\n<li><p><code>$ pip install -e .[url]</code> - Through <code>cmdclass</code> override in <code>setup.py</code> get information that <strong>extra <code>url</code> has been used in pip install</strong> in order to do extra work in post-install script</p></li>\n</ul>\n\n<p>I tried to override following commands through <code>cmdclass</code> but none of the classes gave me any information on what extras have been used in installation:</p>\n\n<ul>\n<li><p><code>setuptools.command.install</code></p></li>\n<li><p><code>setuptools.command.build</code></p></li>\n<li><p><code>setuptools.command.egg_info</code></p></li>\n</ul>\n\n<p>I couldn't find any relevant documentation how to do it on <code>setuptools</code> and <code>distutils</code>.</p>\n"}, {"tags": ["python", "python-3.x", "keras"], "answers": [{"tags": [], "owner": {"reputation": 131, "user_id": 2968129, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/BpiDK.jpg?s=128&g=1", "display_name": "HaneenSu", "link": "https://stackoverflow.com/users/2968129/haneensu"}, "is_accepted": false, "score": 0, "last_activity_date": 1555543300, "creation_date": 1555543300, "answer_id": 55737243, "question_id": 55737005, "link": "https://stackoverflow.com/questions/55737005/how-to-add-layers-to-a-sequential-model-from-an-existing-model/55737243#55737243", "title": "How to add layers to a sequential model from an existing model?", "body": "<p>I found the answer to my question.</p>\n\n<pre><code>bn = []\nfor layer in base_model.layers:\n    bn.append(layer)\nmodel = Sequential(bn)\nmodel.summary()\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 2968129, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/BpiDK.jpg?s=128&g=1", "display_name": "HaneenSu", "link": "https://stackoverflow.com/users/2968129/haneensu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555543300, "creation_date": 1555541644, "question_id": 55737005, "link": "https://stackoverflow.com/questions/55737005/how-to-add-layers-to-a-sequential-model-from-an-existing-model", "title": "How to add layers to a sequential model from an existing model?", "body": "<p>I am using VGG16 as my base CNN model:</p>\n\n<pre><code>base_model = VGG16(weights='imagenet', include_top=False, input_shape=(64,64,3) )\n</code></pre>\n\n<p>I want to create a new model and add the layers of VGG16 to my model one by one before adding my own layers.</p>\n\n<p>I know how to add news layers manually using model.add() command, but I am not sure how can I loop over my base model layers and add them to my model</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 1, "creation_date": 1555541688, "post_id": 55736985, "comment_id": 98151928, "body": "are you sure <code>Test</code> is in model.test?"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 1, "creation_date": 1555541718, "post_id": 55736985, "comment_id": 98151936, "body": "1) Did you put a <code>__init__.py</code> file with your <code>model</code> directory? 2) Is <code>model</code> directory in the same directory as the python file you are running?"}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1555541838, "post_id": 55736985, "comment_id": 98151963, "body": "What is <code>List</code>? And is <code>Test</code> a type annotation? In the end the import fails, so you need to make sure to have your resources in place."}, {"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 0, "creation_date": 1555542508, "post_id": 55736985, "comment_id": 98152105, "body": "you need parentheses to call <code>str()</code>"}, {"owner": {"reputation": 31, "user_id": 5935244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e17de208df07043f007b404d23cce4?s=128&d=identicon&r=PG&f=1", "display_name": "cin", "link": "https://stackoverflow.com/users/5935244/cin"}, "edited": false, "score": 0, "creation_date": 1555543985, "post_id": 55736985, "comment_id": 98152394, "body": "1. Yes Test is in model.test (this is same file)  2. Nope I did not put init, yes model is a same directory where pasted file exists  3. list is from typing import List, I&#39;m using Pycharm jetbrains if it helps"}, {"owner": {"reputation": 31, "user_id": 5935244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e17de208df07043f007b404d23cce4?s=128&d=identicon&r=PG&f=1", "display_name": "cin", "link": "https://stackoverflow.com/users/5935244/cin"}, "edited": false, "score": 0, "creation_date": 1555544910, "post_id": 55736985, "comment_id": 98152543, "body": "It looks like compiler doesn&#39;t see Test class inside Test class. When I&#39;ve created other Test class above the current one  <code>class Test(object):     pass</code> I&#39;m not receiving such an error"}], "owner": {"reputation": 31, "user_id": 5935244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2e17de208df07043f007b404d23cce4?s=128&d=identicon&r=PG&f=1", "display_name": "cin", "link": "https://stackoverflow.com/users/5935244/cin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555541819, "creation_date": 1555541528, "question_id": 55736985, "link": "https://stackoverflow.com/questions/55736985/problem-with-imports-when-property-of-class-has-identical-type-as-class", "title": "Problem with imports when property of class has identical type as class", "body": "<p>I'm newbie in Python so I would like to ask you for help. I have a class Test which has a property list of test, SubTests. Items in this list are same type as class. It looks like tree structure. Problem is that I'm getting an error when I start app and problem is with importing type Test. </p>\n\n<p>\"ImportError: cannot import name 'Test'\"</p>\n\n<p>I would like to keep setting type to the property and have a strong typing. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from model.test import Test\n\nclass Test(object):\n    Id = str\n    SubTests = List[Test]\n\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541547, "post_id": 55736981, "comment_id": 98151886, "body": "Remove the return. Keep the yield"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541590, "post_id": 55736981, "comment_id": 98151900, "body": "But I want the rest of the code in my generator to be run?"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541629, "post_id": 55736981, "comment_id": 98151911, "body": "Can you provide a more detailed example then?  You can&#39;t put stuff after a <code>return</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541761, "post_id": 55736981, "comment_id": 98151948, "body": "Yes? That is possible."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541767, "post_id": 55736981, "comment_id": 98151949, "body": "When is the &quot;other cool stuff&quot; supposed to run? On the first iteration? Then it should be before <code>yield None</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "edited": false, "score": 0, "creation_date": 1555541853, "post_id": 55736981, "comment_id": 98151965, "body": "It is just as an example. Let be alter the example then to make it even more realistic :)"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1555542135, "post_id": 55736981, "comment_id": 98152031, "body": "Well ... what happens when you use each of these methods?  Which one works the way you want?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "edited": false, "score": 0, "creation_date": 1555542416, "post_id": 55736981, "comment_id": 98152091, "body": "They both work. Execution is stopped and <code>None</code> is achievable with <code>yield from</code>. That is why I wonder if they are equivalent."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "edited": false, "score": 0, "creation_date": 1555541945, "post_id": 55737004, "comment_id": 98151990, "body": "Yea.. My connection went away while editing.."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "edited": false, "score": 0, "creation_date": 1555542359, "post_id": 55737004, "comment_id": 98152079, "body": "No, I know what <code>yield</code> does and the fact that a <code>yield</code> statement makes a function a generator. So in the second case, the code after the <code>return</code> would contain a <code>yield</code>. Then, what are the difference between <code>yield None; return</code> and <code>return None</code> or <code>return</code> in the case that the function is a generator in BOTH cases"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1555542443, "post_id": 55737004, "comment_id": 98152095, "body": "The difference is whether you yield a value or not.  <code>list(gen1)</code> would be <code>[None]</code> and <code>list(gen2)</code> would be <code>[]</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "edited": false, "score": 0, "creation_date": 1555542495, "post_id": 55737004, "comment_id": 98152102, "body": "Even though there were <code>yield</code> statements in BOTH cases and thus both are generators?"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1555542630, "post_id": 55737004, "comment_id": 98152130, "body": "Yeah.  Generators can yield no values and still be generators.  I suppose that&#39;s kind of a weird maybe use-case for putting a yield statement behind the return, although I don&#39;t know why you would want a generator instance which yields no vals as opposed to just passing around a function object directly."}], "tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": false, "score": 2, "last_activity_date": 1555541960, "last_edit_date": 1555541960, "creation_date": 1555541641, "answer_id": 55737004, "question_id": 55736981, "link": "https://stackoverflow.com/questions/55736981/yield-and-then-return-or-just-return/55737004#55737004", "title": "Yield and then return or just return?", "body": "<blockquote>\n  <p>Are they equivalent?</p>\n</blockquote>\n\n<p>No.  The second one isn't even a generator (no yield expression)</p>\n\n<blockquote>\n  <p>Which one should I use?</p>\n</blockquote>\n\n<p>The first one is fine.  The return statement and also the value <code>None</code> explicitly yielded are redundant and can be removed (but they're not harming anything either).</p>\n\n<pre><code>def myfunc():\n    print(\"doing stuff before yielding the first (and only) value\")\n    yield\n    print(\"doing more stuff before raising StopIteration\")\n</code></pre>\n\n<p>Should you use an explicit return statement, then the value returned will appear on the <code>StopIteration</code> exception instance (literally a <code>value</code> attribute).</p>\n\n<p>Syntactically, you <em>can</em> put code after the <code>return</code> statement, but it will be unreachable. So, there's no point to do that.</p>\n"}, {"tags": [], "owner": {"reputation": 70, "user_id": 2928486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1760089760/picture?type=large", "display_name": "Anuj Kumar", "link": "https://stackoverflow.com/users/2928486/anuj-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1555541889, "creation_date": 1555541889, "answer_id": 55737042, "question_id": 55736981, "link": "https://stackoverflow.com/questions/55736981/yield-and-then-return-or-just-return/55737042#55737042", "title": "Yield and then return or just return?", "body": "<p>Returning using <code>return</code> from a generator doesn't return the value 'None' like a function would. It instead merely stops the generator.</p>\n\n<pre><code>&gt;&gt;&gt; def f():\n...     yield 1\n...     yield 2\n...     yield None\n...     return\n... \n&gt;&gt;&gt; def f2():\n...     yield 1\n...     yield 2\n...     return\n... \n&gt;&gt;&gt; for i in f():\n...     print(i)\n... \n1\n2\nNone\n&gt;&gt;&gt; for i in f2():\n...     print(i)\n... \n1\n2\n&gt;&gt;&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8552461"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 159, "favorite_count": 0, "closed_date": 1555541992, "answer_count": 2, "score": 1, "last_activity_date": 1555542125, "creation_date": 1555541504, "last_edit_date": 1555542125, "question_id": 55736981, "link": "https://stackoverflow.com/questions/55736981/yield-and-then-return-or-just-return", "closed_reason": "Duplicate", "title": "Yield and then return or just return?", "body": "<p>I have a generator and want to yield none after which I want the iteration of the generator to stop, i.e. <code>StopIteration</code> but I am not sure which way to accomplish this. </p>\n\n<p>I think of the following to options:</p>\n\n<pre><code>yield None\nreturn\n</code></pre>\n\n<p>and</p>\n\n<pre><code>return\n</code></pre>\n\n<p>in my generator.\nAre they equivalent? Or which one should I use?</p>\n"}, {"tags": ["python", "html", "web-scraping"], "comments": [{"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1555541650, "post_id": 55736971, "comment_id": 98151918, "body": "open web browser, turn off JavaScript and load your url. And you will see what BS can see. Page uses JavaScript to load data and BS can&#39;t run JavaScript. You need Selenium to control web browser which will load url and run JavaScript and after that you can get HTML from Selenium to BS or use function in Selenium to search elements (click buttons, etc)"}], "answers": [{"tags": [], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542262, "creation_date": 1555542262, "answer_id": 55737087, "question_id": 55736971, "link": "https://stackoverflow.com/questions/55736971/python-web-scraping-lencontainers-always-returning-0/55737087#55737087", "title": "python web scraping - len(containers) always returning 0", "body": "<p>The problem is that BeautifulSoup can't read javascript. As furas said, you should open the webpage and turn off javascript (<a href=\"https://www.computerhope.com/issues/ch000891.htm\" rel=\"nofollow noreferrer\">here's how</a>) and then see if you can still access what you want. If you can't, you need to use something like <a href=\"https://www.seleniumhq.org/\" rel=\"nofollow noreferrer\">Selenium</a> to control the browser.</p>\n"}, {"tags": [], "owner": {"reputation": 240, "user_id": 10138038, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156567480546779/picture?type=large", "display_name": "Adam Williamson", "link": "https://stackoverflow.com/users/10138038/adam-williamson"}, "is_accepted": false, "score": 0, "last_activity_date": 1555568300, "creation_date": 1555568300, "answer_id": 55740111, "question_id": 55736971, "link": "https://stackoverflow.com/questions/55736971/python-web-scraping-lencontainers-always-returning-0/55740111#55740111", "title": "python web scraping - len(containers) always returning 0", "body": "<p>As the other comments and answer suggested, the site is loading the data in the background. The most common response to this is to use Selenium; my approach is to first check for any API calls in Chrome. Luckily for us, the page retrieves 953 pokemon on load. </p>\n\n<p>Below is a script that will retrieve the clean JSON data and <a href=\"https://medium.com/@adamwilliamson_51309/python-stop-using-selenium-859b6e0bf662\" rel=\"nofollow noreferrer\">here</a> is a little article I wrote explaining the use of chrome developer tools in the first instance over Selenium. </p>\n\n<pre><code># Gotta catch em all\n\nimport requests\nimport pandas as pd\n\nheaders = {\n\n    'Accept-Encoding': 'gzip, deflate, br',\n    'Accept-Language': 'en-GB,en-US;q=0.9,en;q=0.8',\n    'User-Agent': 'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.103 Safari/537.36',\n    'Accept': 'application/json, text/javascript, */*; q=0.01',\n    'Referer': 'https://www.pokemon.com/us/pokedex/',\n    'Connection': 'keep-alive',\n}\n\nr = requests.get('https://www.pokemon.com/us/api/pokedex/kalos', headers=headers)\nj = r.json()\n\nprint(j[0])\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 11376244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u4cmq.gif?s=128&g=1", "display_name": "mojbius", "link": "https://stackoverflow.com/users/11376244/mojbius"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555568300, "creation_date": 1555541423, "question_id": 55736971, "link": "https://stackoverflow.com/questions/55736971/python-web-scraping-lencontainers-always-returning-0", "title": "python web scraping - len(containers) always returning 0", "body": "<p>i am trying to web-scrape pokemon information from their <a href=\"https://www.pokemon.com/us/pokedex/\" rel=\"nofollow noreferrer\">online pokedex</a>, but i'm having trouble with the <code>findAll()</code>function. i've got:</p>\n\n<pre><code>containers = page_soup.findAll(\"div\",{\"class\":\"pokemon-info\"})\n</code></pre>\n\n<p>but I'm not sure if this <code>div</code> is where i need to be looking at all, because (see photo <a href=\"https://i.stack.imgur.com/4pUHI.png\" rel=\"nofollow noreferrer\">html</a>) this <code>div</code> is inside a <code>li</code>, so perhaps i should search within it instead, like so:</p>\n\n<pre><code> containers = page_soup.findAll(\"li\", {\"class\":\"animating\"})\n</code></pre>\n\n<p>but in both cases when i use <code>len(containers)</code>, the length returned is always 0, even though there are several entries. </p>\n\n<p>i also tried <code>find_all()</code>, but the results of <code>len()</code> are the same. </p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541856, "post_id": 55736939, "comment_id": 98151966, "body": "You want to split each word into a n-gram? Or each sentence? Or each file? Typically n-grams split apart a word they split apart a sentence."}, {"owner": {"reputation": 40086, "user_id": 499581, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/1ba2cebc4582467916f2ddd6128447f4?s=128&d=identicon&r=PG", "display_name": "l&#39;L&#39;l", "link": "https://stackoverflow.com/users/499581/lll"}, "edited": false, "score": 0, "creation_date": 1555542108, "post_id": 55736939, "comment_id": 98152024, "body": "This should work: <code>b=&quot;dogs&quot;; print([b[i:i+2] for i in range(len(b)-1)])</code>"}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1555548336, "post_id": 55736939, "comment_id": 98153172, "body": "@lll No this is definitely not a dupe of that, that only asks for character n-grams of <b>words</b>, this one wants to process <b>all lines in a file</b>. Please don&#39;t just rely on a question&#39;s title, often they need correcting."}, {"owner": {"reputation": 25595, "user_id": 202229, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6cc1d82c11563b440c57280ad587ee47?s=128&d=identicon&r=PG", "display_name": "smci", "link": "https://stackoverflow.com/users/202229/smci"}, "edited": false, "score": 0, "creation_date": 1555548542, "post_id": 55736939, "comment_id": 98153208, "body": "<b>Please don&#39;t post <a href=\"https://stackoverflow.com/questions/55737605/creating-n-gram-dictionary-with-frequencies\">duplicate questions</a>, it&#39;s not allowed.</b> Can you merge one of these askings into the other (paste your code and details), then close the unwanted one?"}], "answers": [{"tags": [], "owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542181, "creation_date": 1555542181, "answer_id": 55737075, "question_id": 55736939, "link": "https://stackoverflow.com/questions/55736939/creating-single-and-double-character-n-grams-from-text-files/55737075#55737075", "title": "Creating single and double character n-grams from text files", "body": "<p>Here is a solution. It counts spaces as characters but you can remove that if needed.</p>\n\n<pre><code>import re\n\ndef generate_ngrams(s, n):\n    # Convert to lowercases\n    s = s.lower()\n\n    # Replace all none alphanumeric characters with spaces\n    s = re.sub(r'[^a-zA-Z0-9\\s]', ' ', s)\n\n    # Break sentence in the token, remove empty tokens\n    tokens = [token for token in s if token != \"\"]\n\n    # Use the zip function to help us generate n-grams\n    # Concatentate the tokens into ngrams and return\n    ngrams = zip(*[tokens[i:] for i in range(n)])\n    return [\"\".join(ngram) for ngram in ngrams]\nprint(generate_ngrams(\"My Dogs is sick\", 2))\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10297465, "user_type": "registered", "profile_image": "https://graph.facebook.com/528018937622161/picture?type=large", "display_name": "Jorge Gomez Del Campo", "link": "https://stackoverflow.com/users/10297465/jorge-gomez-del-campo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "closed_date": 1555550083, "answer_count": 1, "score": -1, "last_activity_date": 1555542181, "creation_date": 1555541136, "question_id": 55736939, "link": "https://stackoverflow.com/questions/55736939/creating-single-and-double-character-n-grams-from-text-files", "closed_reason": "Duplicate", "title": "Creating single and double character n-grams from text files", "body": "<p>I want my code to be able to split a text file into single and double character n-grams. For example, if the word 'dogs' came up, I would want 'do','og', and 'gs'. the problem is I can only seem to split the text into whole words.</p>\n\n<p>I tried to use just a simple split() but that didn't seem to work for overlapping n-grams.</p>\n\n<pre><code>from collections import Counter \nfrom nltk.util import ngrams\n\ndef ngram_dist(fname, n):\n    with open(fname, 'r') as fp:\n        for lines in fp:\n            for words in lines:\n                    result = Counter(ngrams(fname.split(),n))\n    return result\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 2237, "user_id": 8347081, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-C2gg5Z3zU2w/AAAAAAAAAAI/AAAAAAAABXE/M2GK2Eixhms/photo.jpg?sz=128", "display_name": "mypetlion", "link": "https://stackoverflow.com/users/8347081/mypetlion"}, "edited": false, "score": 1, "creation_date": 1555540982, "post_id": 55736905, "comment_id": 98151726, "body": "Could you rephrase the question please? And could you show us an example of what you&#39;re looking for?"}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555540984, "post_id": 55736905, "comment_id": 98151727, "body": "<code>for i in set(result)</code> ?"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541086, "post_id": 55736905, "comment_id": 98151750, "body": "Just do <code>result = set(result)</code>"}, {"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "edited": false, "score": 0, "creation_date": 1555542075, "post_id": 55736905, "comment_id": 98152018, "body": "Marcust, were you looking for combinations or something else?"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1555541135, "post_id": 55736929, "comment_id": 98151763, "body": "This might be the answer, but some commenters think he just wants to remove duplicates. We should probably get clarification of the question."}, {"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541255, "post_id": 55736929, "comment_id": 98151796, "body": "Yeah, the question is a bit unclear. If he&#39;s just asking how to remove duplicates, then obviously <code>set</code>&#39;s are the way to go"}], "tags": [], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "is_accepted": false, "score": 1, "last_activity_date": 1555541063, "creation_date": 1555541063, "answer_id": 55736929, "question_id": 55736905, "link": "https://stackoverflow.com/questions/55736905/permutations-without-but-also-kinda-with-repitition/55736929#55736929", "title": "Permutations without but also kinda with repitition", "body": "<p>I believe you're referring to <a href=\"https://en.wikipedia.org/wiki/Combination\" rel=\"nofollow noreferrer\">combinations</a>.</p>\n\n<p>Just use <code>itertools.combinations()</code></p>\n"}, {"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541348, "post_id": 55736940, "comment_id": 98151831, "body": "This is a bad example. There are no duplicates in <code>permutations(&#39;ABCD&#39;, 4)</code>"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541407, "post_id": 55736940, "comment_id": 98151844, "body": "Typo. Meant to do ABBD"}], "tags": [], "owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "is_accepted": true, "score": 0, "last_activity_date": 1555541413, "last_edit_date": 1555541413, "creation_date": 1555541160, "answer_id": 55736940, "question_id": 55736905, "link": "https://stackoverflow.com/questions/55736905/permutations-without-but-also-kinda-with-repitition/55736940#55736940", "title": "Permutations without but also kinda with repitition", "body": "<p>Just turn it to a <code>set</code> and it will remove the duplicates. If that is what you are asking.</p>\n\n<pre><code>import itertools\nresult = itertools.permutations('ABBD',4)\nresult = set(result)\nfor i in result:\n  print(i)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70, "user_id": 2928486, "user_type": "registered", "profile_image": "https://graph.facebook.com/1760089760/picture?type=large", "display_name": "Anuj Kumar", "link": "https://stackoverflow.com/users/2928486/anuj-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1555541185, "creation_date": 1555541185, "answer_id": 55736945, "question_id": 55736905, "link": "https://stackoverflow.com/questions/55736905/permutations-without-but-also-kinda-with-repitition/55736945#55736945", "title": "Permutations without but also kinda with repitition", "body": "<p>Another way to do this is to generate permutations and use <code>set</code> over them.</p>\n\n<pre><code>result = itertools.permutations('ABBC',4)\n&gt;&gt;&gt; b = set(result)\n&gt;&gt;&gt; len(b)\n12\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11376237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63b6b326bb74e312e71ea6daca3a96f8?s=128&d=identicon&r=PG&f=1", "display_name": "marcust302", "link": "https://stackoverflow.com/users/11376237/marcust302"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 55736940, "answer_count": 3, "score": 0, "last_activity_date": 1555541413, "creation_date": 1555540888, "last_edit_date": 1555540914, "question_id": 55736905, "link": "https://stackoverflow.com/questions/55736905/permutations-without-but-also-kinda-with-repitition", "title": "Permutations without but also kinda with repitition", "body": "<p>I'm very new to coding but I was needing some help. My problem is if I have the code:</p>\n\n<pre><code>import itertools\nresult = itertools.permutations('ABCD',4)\nfor i in result:\n  print(i)\n</code></pre>\n\n<p>This got me all 24 permutations but how would I code the same thing but if the letters were A  B, B and C for example as if you swap the Bs around, it makes no difference?</p>\n\n<p>I'd appreciate any help I can get, thank you.</p>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1555540999, "post_id": 55736902, "comment_id": 98151731, "body": "<code>pause</code> is referenced in <code>if pause</code> without having a value, presumably this is in a function, so <code>pause</code> will be a local variable because you assign to it: <code>pause = False</code> and <code>pause = True</code>"}, {"owner": {"reputation": 21, "user_id": 10803719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zY7BVrKHuC0/AAAAAAAAAAI/AAAAAAAAABQ/qNpP3MWFO5A/photo.jpg?sz=128", "display_name": "Zaed", "link": "https://stackoverflow.com/users/10803719/zaed"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1555541222, "post_id": 55736902, "comment_id": 98151785, "body": "So where should I move the <code>pause</code> to? Thanks in advance"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541282, "post_id": 55736902, "comment_id": 98151808, "body": "The variable needs to be initialized outside the function, before you call the function."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1555542025, "post_id": 55736902, "comment_id": 98152008, "body": "That is up to you, but you need to assign it before you use it."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1555542317, "post_id": 55736902, "comment_id": 98152068, "body": "@Zaed yes, to assign to a variable is <code>x = &lt;something&gt;</code>. Think about it, I can&#39;t <i>use <code>x</code></i>, say <code>print(x)</code> before I assign to x, <code>x = &#39;foo&#39;</code>. The assignment must come first"}, {"owner": {"reputation": 21, "user_id": 10803719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zY7BVrKHuC0/AAAAAAAAAAI/AAAAAAAAABQ/qNpP3MWFO5A/photo.jpg?sz=128", "display_name": "Zaed", "link": "https://stackoverflow.com/users/10803719/zaed"}, "edited": false, "score": 0, "creation_date": 1555542528, "post_id": 55736902, "comment_id": 98152109, "body": "Ok it works now thanks so much... but there&#39;s another problem -__-  ..... The pause function isn&#39;t even WORKING!"}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1555544604, "post_id": 55736902, "comment_id": 98152495, "body": "pause can&#39;t work if you set <code>pause = False</code> and <code>pause_time = 0</code> in every loop inside mainloop. Assign these values BEFORE mainloop and later change it only in <code>if&#47;else</code>."}, {"owner": {"reputation": 92215, "user_id": 1832058, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/relWs.jpg?s=128&g=1", "display_name": "furas", "link": "https://stackoverflow.com/users/1832058/furas"}, "edited": false, "score": 0, "creation_date": 1555544811, "post_id": 55736902, "comment_id": 98152525, "body": "you could render text &quot;PAUSE&quot; before mainloop. You don&#39;t change this text so you don&#39;t have to render it again in every loop. Inside loop you have to only blit this text. Before loop you could also calculate its position - you don&#39;t have to calculate it again and again. If you want to center it on screen then (befor loop) you can do <code>pause_rect = pause_text.get_rect()</code> and <code>pause_rect.center = screen.get_rect().center</code>, and inside loop <code>blit(pause_text, pause_rect)</code>"}], "owner": {"reputation": 21, "user_id": 10803719, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-zY7BVrKHuC0/AAAAAAAAAAI/AAAAAAAAABQ/qNpP3MWFO5A/photo.jpg?sz=128", "display_name": "Zaed", "link": "https://stackoverflow.com/users/10803719/zaed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 1, "closed_date": 1609075856, "answer_count": 0, "score": 1, "last_activity_date": 1555540869, "creation_date": 1555540869, "question_id": 55736902, "link": "https://stackoverflow.com/questions/55736902/how-to-fix-unboundlocalerror-local-variable-pause-referenced-before-assignme", "closed_reason": "Duplicate", "title": "How to fix &#39;UnboundLocalError: local variable &#39;pause&#39; referenced before assignment&#39;", "body": "<p>I'm trying to add a pause function to my Pygame, but there's an error constantly coming up --> <code>UnboundLocalError: local variable 'pause' referenced before assignment</code>\nI don't know how to solve this, and I've re-arranged the code a couple of times. Any help would be appreciated. Code is down below... </p>\n\n<pre><code>            #PAUSING\n            if pause:\n                screen.fill((0, 0, 0))\n                pause_text = font2.render(\"PAUSE\",True,(255,255,255))\n                screen.blit(pause_text, (468 - (pause_text.get_width() // 2), 368 - (pause_text.get_height() // 2)))\n\n            pause = False\n            pause_time = 0 #Time spent with the game paused\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == pygame.K_p:\n                    if pause:\n                        pause = False\n                        pause_time += time.time() - pause_time_start\n                    else:\n                        pause = True\n                        pause_time_start = time.time()\n</code></pre>\n\n<p>As I mentioned earlier, the output should be pausing the game. For this, I'd just like for someone to show me the proper way to arrange the code.</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 11331813, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6WSGG33xDh8/AAAAAAAAAAI/AAAAAAAAAwg/NWa3zoLAzR0/photo.jpg?sz=128", "display_name": "LukzzXB", "link": "https://stackoverflow.com/users/11331813/lukzzxb"}, "edited": false, "score": 0, "creation_date": 1555636915, "post_id": 55736910, "comment_id": 98187092, "body": "thanks man, i dont actually know what you did but im guessing i have to tab the rest of the code when its supposed to be in a def"}], "tags": [], "owner": {"reputation": 313, "user_id": 10915018, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7IPJB.jpg?s=128&g=1", "display_name": "FivePlyPaper", "link": "https://stackoverflow.com/users/10915018/fiveplypaper"}, "is_accepted": false, "score": 0, "last_activity_date": 1555540929, "creation_date": 1555540929, "answer_id": 55736910, "question_id": 55736893, "link": "https://stackoverflow.com/questions/55736893/python-redirecting/55736910#55736910", "title": "Python Redirecting", "body": "<p>Unless you just typed it in wrong on stackoverflow it looks like none of your initial print options are in the mainmenu function\nIt\u2019s looks at tho the options are also outside of the functions and mix in with your other functions</p>\n"}, {"tags": [], "owner": {"reputation": 747, "user_id": 6926444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qGNab.jpg?s=128&g=1", "display_name": "N. Arunoprayoch", "link": "https://stackoverflow.com/users/6926444/n-arunoprayoch"}, "is_accepted": false, "score": 0, "last_activity_date": 1555551479, "creation_date": 1555551479, "answer_id": 55738019, "question_id": 55736893, "link": "https://stackoverflow.com/questions/55736893/python-redirecting/55738019#55738019", "title": "Python Redirecting", "body": "<p>Check your indentation, pieces of your code are out of places where they should be.</p>\n\n<pre><code>import sys, os\n\ndef mainmenu():\n    print()\n    print(\"________________________________________________________\")\n    print(\"Hello and welcome to the password checker and generator.\")\n    print(\"________________________________________________________\")\n    input()\n    print(\"Mainmenu\")\n    input()\n    print(\"Press 1 to Check a password.\")\n    print(\"Press 2 to Generate a password.\")    \n    print(\"Press 3 to quit.\")\n    UserOp = int(input(\"What is your choice?:\"))\n\n    if UserOp == 1:\n        checkpass()\n\n    elif UserOp == 2:\n        generatepass()\n\n    elif UserOp == 3:\n        sys.exit(0)\n\n    else:\n        print(\"This option is seen to be invalid.\")\n        mainmenu()\n\n\ndef checkpass():\n    print()\n    print(\"You have chosen to check a password.\")\n\n\ndef generatepass():\n    print()\n    print(\"You have chosen to generate a password.\")\n\n\nif __name__ == '__main__':\n    mainmenu()\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 11331813, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6WSGG33xDh8/AAAAAAAAAAI/AAAAAAAAAwg/NWa3zoLAzR0/photo.jpg?sz=128", "display_name": "LukzzXB", "link": "https://stackoverflow.com/users/11331813/lukzzxb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555551479, "creation_date": 1555540786, "question_id": 55736893, "link": "https://stackoverflow.com/questions/55736893/python-redirecting", "title": "Python Redirecting", "body": "<p>So I am trying to make a Password checker and generator. So first i need to make a menu to tell if the user wants to check or generate or password. But I'm having a bit of a problem to redirect the user to their choice.</p>\n\n<p>I've tried to use this 'if main = name' but that doesn't even work. I've also tried to place the 'def' above the all the other text. But wouldn't work because it would display that def first instead of displaying the menu</p>\n\n<pre><code>import sys, os\n\ndef mainmenu():\n        print()\nprint(\"________________________________________________________\")\nprint(\"Hello and welcome to the password checker and generator.\")\nprint(\"________________________________________________________\")\ninput()\nprint(\"Mainmenu\")\ninput()\nprint(\"Press 1 to Check a password.\")\nprint(\"Press 2 to Generate a password.\")\nprint(\"Press 3 to quit.\")\nUserOp = int(input(\"What is your choice?:\"))  \n\nif UserOp == 1:\n    checkpass()\n\nelif UserOp == 2:\n    generatepass()\n\nelif UserOp == 3:\n     sys.exit(0)\n\nelse:\n    print(\"This option is seen to be invalid.\")\n    mainmenu()\n\ndef checkpass():\n    print()\nprint(\"You have chosen to check a password.\")\n\ndef generatepass():\n    print()\n\nprint(\"You have chosen to generate a password.\")\n</code></pre>\n\n<p>So what I'm trying to re-arrange or add code to make the program display the menu first then redirect the user to their designated options.</p>\n"}, {"tags": ["python", "tensorflow", "keras", "deep-learning"], "comments": [{"owner": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "edited": false, "score": 0, "creation_date": 1555589040, "post_id": 55736880, "comment_id": 98168030, "body": "In your code <code>resultado = Dense(tamanho_maior_elemento, activation=&#39;sigmoid&#39;)(output)</code> you have used sigmoid activation that&#39;s why you have prediction in range 0 to 1. Try to change it with linear activation."}, {"owner": {"reputation": 361, "user_id": 1777805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdaf9de2700bb00bef887556c62c38c3?s=128&d=identicon&r=PG", "display_name": "gtbono", "link": "https://stackoverflow.com/users/1777805/gtbono"}, "reply_to_user": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "edited": false, "score": 0, "creation_date": 1555634649, "post_id": 55736880, "comment_id": 98186770, "body": "@kruxx I couldn&#39;t find what should I put inside activation=&quot;&quot; to use the linear activation, what should I put in it?"}, {"owner": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "edited": false, "score": 1, "creation_date": 1555882680, "post_id": 55736880, "comment_id": 98244428, "body": "You have no need to assign anything in activation because <a href=\"https://keras.io/layers/core/\" rel=\"nofollow noreferrer\">here</a>, it mentioned that default it is linear activation."}, {"owner": {"reputation": 361, "user_id": 1777805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdaf9de2700bb00bef887556c62c38c3?s=128&d=identicon&r=PG", "display_name": "gtbono", "link": "https://stackoverflow.com/users/1777805/gtbono"}, "reply_to_user": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "edited": false, "score": 0, "creation_date": 1555935280, "post_id": 55736880, "comment_id": 98257347, "body": "@kruxx worked! if you submit as an answer I will mark as correct. But now I don&#39;t know how to interpret the results this function is giving me. I&#39;ve asked another question about it: <a href=\"https://stackoverflow.com/questions/55794234/unsure-about-the-result-my-autoencoder-neural-network-is-giving-me-from-keras-pr\" title=\"unsure about the result my autoencoder neural network is giving me from keras pr\">stackoverflow.com/questions/55794234/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1135, "user_id": 7126023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1e2add037b5642aef940f8315de7e71?s=128&d=identicon&r=PG&f=1", "display_name": "kruxx", "link": "https://stackoverflow.com/users/7126023/kruxx"}, "is_accepted": true, "score": 2, "last_activity_date": 1556001666, "creation_date": 1556001666, "answer_id": 55805647, "question_id": 55736880, "link": "https://stackoverflow.com/questions/55736880/keras-model-predict-output-is-an-array-with-values-between-0-and-1/55805647#55805647", "title": "Keras model predict output is an array with values between 0 and 1", "body": "<p>In your code,</p>\n\n<pre><code>resultado = Dense(tamanho_maior_elemento, activation='sigmoid')(output)\n</code></pre>\n\n<p>You have used sigmoid activation that's why you have prediction in range 0 to 1. Try to change it with linear activation.</p>\n\n<pre><code>resultado = Dense(tamanho_maior_elemento)(output)\n</code></pre>\n\n<p>And for linear activation, you have no need to assign anything in activation because <a href=\"https://keras.io/layers/core/\" rel=\"nofollow noreferrer\">here</a>, it mentioned that default it is linear activation.</p>\n"}], "owner": {"reputation": 361, "user_id": 1777805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdaf9de2700bb00bef887556c62c38c3?s=128&d=identicon&r=PG", "display_name": "gtbono", "link": "https://stackoverflow.com/users/1777805/gtbono"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1322, "favorite_count": 0, "accepted_answer_id": 55805647, "answer_count": 1, "score": 0, "last_activity_date": 1556001666, "creation_date": 1555540708, "question_id": 55736880, "link": "https://stackoverflow.com/questions/55736880/keras-model-predict-output-is-an-array-with-values-between-0-and-1", "title": "Keras model predict output is an array with values between 0 and 1", "body": "<p>I'm building an autoencoder network for finding outliers in text.</p>\n\n<p>I first built an numpy array with my input represented as ascii texts, but I can't get them back.</p>\n\n<p>My input looks like this:</p>\n\n<pre><code>fab_shadow_black.9.png\nfab_shadow_dark.9.png\nfab_shadow_light.9.png\nfastscroller_handle_normal.xml\nfastscroller_handle_pressed.xml\nfolder_fab.png\nic_account_circle_grey_24dp.xml\nic_action_cancel_light.png\n</code></pre>\n\n<p>My whole code is as follows:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sys\nfrom keras import Input, Model\nimport matplotlib.pyplot as plt\nfrom keras.layers import Dense\nimport numpy as np\nfrom pprint import pprint\nfrom google.colab import drive\n\ndrive.mount('/content/drive')\nwith open('/content/drive/My Drive/Colab Notebooks/drawables.txt', 'r') as arquivo:\n    dados = arquivo.read().splitlines()\n\ndef tamanho_maior_elemento(lista):\n  maior = 0\n  for elemento in lista:\n    tamanho_elemento = len(elemento)\n    if tamanho_elemento &gt; maior:\n      maior = tamanho_elemento\n  return maior\n\ndef texto_para_ascii(lista, tamanho_maior_elemento):\n  lista_ascii = list()\n  for elemento in lista:\n    elemento_ascii_lista = list()\n    elemento_com_zeros = elemento.ljust(tamanho_maior_elemento, \"0\")\n    for caractere in elemento_com_zeros:\n      elemento_ascii_lista.append(ord(caractere))\n    lista_ascii.append(elemento_ascii_lista)\n  return lista_ascii\n\ndef ascii_para_texto(lista):\n  lista_ascii = list()\n  for elemento in lista:\n    elemento_ascii_lista = list()\n    for caractere in elemento:\n      elemento_ascii_lista.append(chr(caractere))\n    elemento_ascii_string = \"\".join(elemento_ascii_lista)\n    lista_ascii.append(elemento_ascii_string)\n  return lista_ascii\n\ntamanho_maior_elemento = tamanho_maior_elemento(dados)\n\ntamanho_lista = len(dados)\n\ndados_ascii = texto_para_ascii(dados, tamanho_maior_elemento)\n\nnp_dados_ascii = np.array(dados_ascii)\n\ntamanho_comprimido = int(tamanho/5)\n\ndados_input = Input(shape=(tamanho_maior_elemento,))\n\nhidden = Dense(tamanho_comprimido, activation='relu')(dados_input)\n\noutput = Dense(tamanho_maior_elemento, activation='relu')(hidden)\nresultado = Dense(tamanho_maior_elemento, activation='sigmoid')(output)\n\nautoencoder = Model(input=dados_input, output=resultado)\nautoencoder.compile(optimizer='adam', loss='mse')\nhistory = autoencoder.fit(np_dados_ascii, np_dados_ascii, epochs=10)\n\nplt.plot(history.history[\"loss\"])\nplt.ylabel(\"Loss\")\nplt.xlabel(\"Epoch\")\nplt.show()\n\nsaida_predict = autoencoder.predict(np_dados_ascii)\n\nsaida_lista = saida_predict.tolist()\n\npprint(saida_predict)\npprint(saida_lista)\n</code></pre>\n\n<p>My input is a numpy array with each string represented as ascii number right-padded by zeroes.</p>\n\n<p>The problem is that the output from predict is a lot of values between zero and one that I can't convert back to text.</p>\n\n<pre><code>array([[1.        , 0.9999999 , 1.        , ..., 1.        , 1.        ,\n        1.        ],\n       [0.99992466, 1.        , 1.        , ..., 1.        , 1.        ,\n        1.        ],\n       [1.        , 0.99999994, 1.        , ..., 1.        , 1.        ,\n        1.        ],\n       ...,\n       [0.9999998 , 0.9999999 , 1.        , ..., 1.        , 1.        ,\n        0.9999999 ],\n       [1.        , 0.9999998 , 1.        , ..., 1.        , 1.        ,\n        1.        ],\n       [0.9999999 , 0.99999994, 1.        , ..., 1.        , 1.        ,\n        1.        ]], dtype=float32)\n</code></pre>\n\n<p>I should be getting an array containing the ascii numbers just like I put in the input, what am I getting wrong?</p>\n"}, {"tags": ["python", "macos", "python-requests"], "comments": [{"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1555541370, "post_id": 55736855, "comment_id": 98151834, "body": "What kind of certificates are in use? Where are they installed?"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1555541959, "post_id": 55736855, "comment_id": 98151994, "body": "<code>certificate verify failed</code> means that the issue is about making <code>requests</code> find the necessary root certificate to verify the server&#39;s one."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1555542106, "post_id": 55736855, "comment_id": 98152023, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22027418/openssl-python-requests-error-certificate-verify-failed\">openssl, python requests error: &quot;certificate verify failed&quot;</a>"}, {"owner": {"reputation": 51, "user_id": 5273787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b2a084b58c46b4683f4d78c3bd7098?s=128&d=identicon&r=PG&f=1", "display_name": "Duke of CitizenKanedom", "link": "https://stackoverflow.com/users/5273787/duke-of-citizenkanedom"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1555604396, "post_id": 55736855, "comment_id": 98176917, "body": "Ah ok. Is it possible to point the Python 3 instance to the same certificate folder as the Python 2 instance was doing? The <code>&#47;private&#47;etc&#47;ssl&#47;cert.pem</code> is where I would like Python 3&#39;s <code>cafile</code> variable to point to, but I am unsure how to do that."}, {"owner": {"reputation": 51, "user_id": 5273787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b2a084b58c46b4683f4d78c3bd7098?s=128&d=identicon&r=PG&f=1", "display_name": "Duke of CitizenKanedom", "link": "https://stackoverflow.com/users/5273787/duke-of-citizenkanedom"}, "reply_to_user": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1555604996, "post_id": 55736855, "comment_id": 98177195, "body": "I&#39;ll look into the possible duplicate you linked, thanks."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 5273787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b2a084b58c46b4683f4d78c3bd7098?s=128&d=identicon&r=PG&f=1", "display_name": "Duke of CitizenKanedom", "link": "https://stackoverflow.com/users/5273787/duke-of-citizenkanedom"}, "is_accepted": true, "score": 3, "last_activity_date": 1556223259, "creation_date": 1556223259, "answer_id": 55856969, "question_id": 55736855, "link": "https://stackoverflow.com/questions/55736855/how-to-change-the-cafile-argument-in-the-ssl-module-in-python3/55856969#55856969", "title": "How to change the &#39;cafile&#39; argument in the ssl module in Python3?", "body": "<p>Found out it is possible to set arguments in the environment through the <code>bash</code> shell script I was wrapping around my python script.</p>\n\n<pre><code>export SSL_CERT_FILE=/usr/local/etc/openssl/cert.pem\nexport REQUESTS_CA_BUNDLE=/usr/local/etc/openssl/cert.pem\n</code></pre>\n\n<p>I guess my script was just looking at an empty certificate directory before? Regardless, it works now. The path I've written is the location where OpenSSL has its certificates by default.</p>\n"}], "owner": {"reputation": 51, "user_id": 5273787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8b2a084b58c46b4683f4d78c3bd7098?s=128&d=identicon&r=PG&f=1", "display_name": "Duke of CitizenKanedom", "link": "https://stackoverflow.com/users/5273787/duke-of-citizenkanedom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2819, "favorite_count": 0, "accepted_answer_id": 55856969, "answer_count": 1, "score": 2, "last_activity_date": 1556223259, "creation_date": 1555540511, "last_edit_date": 1555624911, "question_id": 55736855, "link": "https://stackoverflow.com/questions/55736855/how-to-change-the-cafile-argument-in-the-ssl-module-in-python3", "title": "How to change the &#39;cafile&#39; argument in the ssl module in Python3?", "body": "<p>I am in the process of porting my Python 2 code to Python 3. This specific section deals with my local machine posting to a webpage when running my code in Python 3 (everything works great in Python 2). I believe the root cause of my issue is the certificate on my side is failing to be authenticated by the server. Below is the error I see.</p>\n\n<pre><code>Error(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))\nrequest Error: HTTPSConnectionPool(host='my/personal.server', port=443): Max retries exceeded with url: my/personal/url/and/data (Caused by SSLError(SSLCertVerificationError(1, '[SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed: self signed certificate in certificate chain (_ssl.c:1056)')))\n</code></pre>\n\n<p>The error occurs on my <code>requests.post(url, headers)</code> line in my program. I've made sure the server URL's are correct. </p>\n\n<p>I believe the issue is as follows. In macOS's native Python 2 environment (what I had used to code before), the <code>ssl</code> module is different than the one located in the directory Python 3 uses for its imports. My questions are:</p>\n\n<ul>\n<li>Is it possible to use <code>LibreSSL</code> with my Python 3 instance? </li>\n<li>If not, <strong>how can I pass the <code>cafile</code> and other path arguments when I import the <code>ssl</code> module in Python 3?</strong> </li>\n</ul>\n\n<p>FWIW, I downloaded Python 3 from Python.org.</p>\n\n<h1><strong>Python 2</strong></h1>\n\n<pre><code>\u21d2  python\nPython 2.7.10 (default, Feb 22 2019, 21:55:15)\n[GCC 4.2.1 Compatible Apple LLVM 10.0.1 (clang-1001.0.37.14)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ssl, sys\n&gt;&gt;&gt; sys.executable\n'/usr/bin/python'\n&gt;&gt;&gt; ssl.OPENSSL_VERSION\n'LibreSSL 2.2.7'\n&gt;&gt;&gt; ssl.get_default_verify_paths()\nDefaultVerifyPaths(cafile='/private/etc/ssl/cert.pem', capath='/private/etc/ssl/certs', openssl_cafile_env='SSL_CERT_FILE', openssl_cafile='/private/etc/ssl/cert.pem', openssl_capath_env='SSL_CERT_DIR', openssl_capath='/private/etc/ssl/certs')\n</code></pre>\n\n<h1><strong>Python 3</strong></h1>\n\n<pre><code>\u21d2  python3\nPython 3.7.3 (v3.7.3:ef4ec6ed12, Mar 25 2019, 16:52:21)\n[Clang 6.0 (clang-600.0.57)] on darwin\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; import ssl, sys\n&gt;&gt;&gt; sys.executable\n'/usr/local/bin/python3'\n&gt;&gt;&gt; ssl.OPENSSL_VERSION\n'OpenSSL 1.1.0j  20 Nov 2018'\n&gt;&gt;&gt; ssl.get_default_verify_paths()\nDefaultVerifyPaths(cafile='/Library/Frameworks/Python.framework/Versions/3.7/etc/openssl/cert.pem', capath=None, openssl_cafile_env='SSL_CERT_FILE', openssl_cafile='/Library/Frameworks/Python.framework/Versions/3.7/etc/openssl/cert.pem', openssl_capath_env='SSL_CERT_DIR', openssl_capath='/Library/Frameworks/Python.framework/Versions/3.7/etc/openssl/certs')\n</code></pre>\n\n<p>I believe this is the issue why I have this error, though I am not 100% sure. Any other pointers or input would be welcome!</p>\n\n<h1><strong>EDIT</strong></h1>\n\n<p>Following ivan_pozdeev's suggested duplicate question, I am able to run <code>openssl s_client -connect mywebsite.com:443 -verify 9</code> and I get <code>Verify return code: 0 (ok)</code>. Though I am not directly calling <code>openssl</code> in my python/bash scripts, I have been able to verify my Python 2 configuration works.</p>\n\n<pre><code>\u21d2  openssl\nOpenSSL&gt; version\nLibreSSL 2.6.5\nOpenSSL&gt; ca\nUsing configuration from /private/etc/ssl/openssl.cnf\n</code></pre>\n\n<p>I am looking into how to utilize what I did above with my Python 3 interpreter and its libraries. However, this seem to be more of a test to see if I can talk to the server rather than tackling the arguments/environment issue.</p>\n\n<h1><strong>EDIT 2</strong></h1>\n\n<p>Perhaps this is a case of looking into this too long, but I have found something strange. The Python 2/3 instances above were done in <code>zsh</code> and not in my program. When I run my script with these <code>print</code> statements, I get this <code>ssl</code> information:</p>\n\n<h1><strong>Python 2</strong></h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>import ssl\nprint ssl.OPENSSL_VERSION\nprint ssl.get_default_verify_paths()\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>LibreSSL 2.2.7\nDefaultVerifyPaths(cafile='/usr/local/etc/openssl/cert.pem', capath='/private/etc/ssl/certs', openssl_cafile_env='SSL_CERT_FILE', openssl_cafile='/private/etc/ssl/cert.pem', openssl_capath_env='SSL_CERT_DIR', openssl_capath='/private/etc/ssl/certs')\n</code></pre>\n\n<h1><strong>Python 3</strong></h1>\n\n<pre class=\"lang-py prettyprint-override\"><code>import ssl\nprint(ssl.OPENSSL_VERSION)\nprint(ssl.get_default_verify_paths())\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>OpenSSL 1.1.0j  20 Nov 2018\nDefaultVerifyPaths(cafile=None, capath=None, openssl_cafile_env='SSL_CERT_FILE', openssl_cafile='/Library/Frameworks/Python.framework/Versions/3.7/etc/openssl/cert.pem', openssl_capath_env='SSL_CERT_DIR', openssl_capath='/Library/Frameworks/Python.framework/Versions/3.7/etc/openssl/certs')\n</code></pre>\n\n<p>The Python 2 script prints what I would expect. The Python 3 script has my <code>cafile</code> argument set to <code>None</code>, which is different than what <code>ssl.get_default_verify_paths()</code> returns when I run it in my <code>zsh</code>. I use <code>python</code> and <code>python3</code> aliases in my <code>bash</code> script to call my Python scripts and am absolutely sure they reference the same interpreters as my <code>zsh</code>. What exactly is going on here?</p>\n"}, {"tags": ["python", "pandas", "datetime"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1555542238, "post_id": 55736833, "comment_id": 98152053, "body": "Could you be more specific in what you want to do exactly. What do you want to select exactly? Your title says <code>n amount of year</code>. In your question you are talking about a <code>sub group</code>."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": true, "score": 0, "last_activity_date": 1555541332, "creation_date": 1555541332, "answer_id": 55736959, "question_id": 55736833, "link": "https://stackoverflow.com/questions/55736833/how-do-i-select-the-same-date-back-n-amount-of-years-in-python/55736959#55736959", "title": "How do I select the same date back n amount of years in python?", "body": "<p>Using <code>strftime</code></p>\n\n<pre><code>df[df.index.strftime('%m-%d')=='04-17']\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 10261613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/465039c38a815ddb7239fb69265635d4?s=128&d=identicon&r=PG&f=1", "display_name": "Dominick Augustine", "link": "https://stackoverflow.com/users/10261613/dominick-augustine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 55736959, "answer_count": 1, "score": 0, "last_activity_date": 1555541332, "creation_date": 1555540416, "question_id": 55736833, "link": "https://stackoverflow.com/questions/55736833/how-do-i-select-the-same-date-back-n-amount-of-years-in-python", "title": "How do I select the same date back n amount of years in python?", "body": "<p>I have a date(4/17/2019) and I'd like to compare it to the same date(4/17) back n amount of years(4/17/2018, 4/17/2017, 4/17/2016, etc..). How can I use python to select out a sub group from a dataframe of the date I'm interested in. </p>\n\n<p>Expected output.</p>\n\n<pre><code>            PRCP         MAX         MIN\nDATE            \n2011-04-17  2899.71     49.995000   49.995000\n2012-04-17  0.00        0.000000    0.000000\n2013-04-17  0.00        0.000000    0.000000\n2014-04-17  0.00        0.000000    0.000000\n2015-04-17  0.00        0.000000    0.000000\n2016-04-17  0.00        0.000000    0.000000\n2018-04-17  5799.42     99.990000   99.990000\n2019-04-17  5799.42     99.990000   99.990000\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "class", "dictionary", "subclass"], "answers": [{"tags": [], "owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "is_accepted": true, "score": 1, "last_activity_date": 1555540481, "creation_date": 1555540481, "answer_id": 55736852, "question_id": 55736818, "link": "https://stackoverflow.com/questions/55736818/how-to-correctly-initialise-a-subclass-of-dict-with-extra-arguments-in-its-const/55736852#55736852", "title": "How to correctly initialise a subclass of dict with extra arguments in its constructor?", "body": "<p>Change the line:</p>\n\n<pre><code>dict.__init__(value)\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>dict.__init__(self, value)\n</code></pre>\n\n<p>Also consider composition instead of inheritance, because you're breaking away from the API of <code>dict</code> here (see <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">LSP</a>).</p>\n"}], "owner": {"reputation": 5940, "user_id": 4605629, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/741edb45b2f1d3e3c3d9555085004ad1?s=128&d=identicon&r=PG&f=1", "display_name": "Greg", "link": "https://stackoverflow.com/users/4605629/greg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "closed_date": 1555560590, "accepted_answer_id": 55736852, "answer_count": 1, "score": 2, "last_activity_date": 1555540481, "creation_date": 1555540281, "question_id": 55736818, "link": "https://stackoverflow.com/questions/55736818/how-to-correctly-initialise-a-subclass-of-dict-with-extra-arguments-in-its-const", "closed_reason": "Duplicate", "title": "How to correctly initialise a subclass of dict with extra arguments in its constructor?", "body": "<p>Using a <a href=\"https://stackoverflow.com/questions/35943789/python-can-a-subclass-of-float-take-extra-arguments-in-its-constructor\">similar approach to a previous question about subclassing a float class</a> yields no keys in the dict. For example:</p>\n\n<pre><code>class Foo(dict):\n    def __new__(cls, value, extra):\n        return super().__new__(cls, value)\n\n    def __init__(self, value, extra):\n        dict.__init__(value)\n        self.extra = extra\n</code></pre>\n\n<p>Running <code>Foo({'a':1}, 1).keys()</code> returns empty dict keys <code>dict_keys([])</code>.</p>\n\n<p>How to correctly subclass a dict with extra arguments in Python?</p>\n"}, {"tags": ["python", "pandas", "plot", "smoothing"], "comments": [{"owner": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 1, "creation_date": 1555541960, "post_id": 55736800, "comment_id": 98151995, "body": "I see you are using <code>seaborn</code>. It helps if you add the tag in your question to get answers."}, {"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "reply_to_user": {"reputation": 31306, "user_id": 9081267, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1knzv.jpg?s=128&g=1", "display_name": "Erfan", "link": "https://stackoverflow.com/users/9081267/erfan"}, "edited": false, "score": 0, "creation_date": 1555542179, "post_id": 55736800, "comment_id": 98152041, "body": "@Erfan Well, it is not really a necessity. Any solution without seaborn is also OK for me."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555543969, "post_id": 55736800, "comment_id": 98152390, "body": "How do you expect the smoothing to happen, specifically, if you don&#39;t want to add any points in-between?"}, {"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555544404, "post_id": 55736800, "comment_id": 98152471, "body": "@JohanL I actually don&#39;t mind points to be added in between. I want the markers only to be shown for the actual data. So with matplotlib I usually plot twice once with the scatter and then plot the smoothed data."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555544676, "post_id": 55736800, "comment_id": 98152504, "body": "And why not doing that now?"}, {"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "edited": false, "score": 0, "creation_date": 1555544875, "post_id": 55736800, "comment_id": 98152536, "body": "<a href=\"https://i.imgur.com/v2WK5xF.png\" rel=\"nofollow noreferrer\">I&#39;m actually trying</a> but it is not what I want."}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1555545918, "post_id": 55736800, "comment_id": 98152729, "body": "I&#39;m not sure what the problem was, you can always do <code>df_tmp = dfs.set_index()....</code> and do stuff on <code>df_tmp</code> without touching to data."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1555546516, "post_id": 55736800, "comment_id": 98152837, "body": "@Foad: That is what to be expected from raw interpolation, that you end up with extreme data. Try some other interpolation method, e.g. cubic spline, which may not give the same huge dip."}], "answers": [{"comments": [{"owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "edited": false, "score": 0, "creation_date": 1555576871, "post_id": 55737783, "comment_id": 98161388, "body": "Thanks a lot. I will look into this tonight and will get back to you. \ud83d\udd96"}], "tags": [], "owner": {"reputation": 1426, "user_id": 2958943, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9559f8b107f4af95690be52a1481999?s=128&d=identicon&r=PG&f=1", "display_name": "bubble", "link": "https://stackoverflow.com/users/2958943/bubble"}, "is_accepted": false, "score": 1, "last_activity_date": 1555548873, "creation_date": 1555548873, "answer_id": 55737783, "question_id": 55736800, "link": "https://stackoverflow.com/questions/55736800/smooth-plotting-all-columns-of-a-data-frame/55737783#55737783", "title": "smooth plotting all columns of a data-frame", "body": "<p>I think you need to write a custom plotting function that iterates over all\ncolumns and plots interpolated data to specified axes instance. Look at the following code: </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n# data = pd.read_clipboard()\n# data.drop(['Index'], axis=1, inplace=True)\n\ndef add_smooth_plots(df, ax,  timecolumn='Date', interpolation_method='cubic', colors='rgbky'):\n    from itertools import cycle\n    ind = pd.to_datetime(df.loc[:, timecolumn])\n    tick_labels =ind.dt.strftime(\"%Y-%m-%d\")\n    color = cycle(colors)\n    for i, col in enumerate(df.columns):\n        if col != timecolumn:\n            c = next(color)\n            s = pd.Series(df.loc[:, col].values, index=ind)\n            intp = s.resample('0.5D').interpolate(method=interpolation_method)\n            true_ticks = intp.index.isin(ind)\n            vals = intp.values\n            intp = intp.reset_index()\n            ticks = intp.index[true_ticks]\n            ax.plot(np.arange(len(vals)), vals, label=col, color=c)\n            ax.set_xticks(ticks)\n            ax.set_xticklabels(tick_labels.values, rotation=45)\n            ax.legend(title='Columns')\n    return ax\n\nfrom matplotlib import pyplot as plt\nfig = plt.figure()\nax = fig.add_subplot(111)\n\nadd_smooth_plots(data, ax)\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nu8Rz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nu8Rz.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 7672, "user_id": 4999991, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/y69di.png?s=128&g=1", "display_name": "Foad", "link": "https://stackoverflow.com/users/4999991/foad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555548873, "creation_date": 1555540153, "last_edit_date": 1555541393, "question_id": 55736800, "link": "https://stackoverflow.com/questions/55736800/smooth-plotting-all-columns-of-a-data-frame", "title": "smooth plotting all columns of a data-frame", "body": "<p>I have a data frame of:</p>\n\n<pre><code>Index   Date        AA   BB   CC     DD    EE   FF\n0       2019-01-15  0.0  -1.0  0.0   0.0   0.0  2.0\n1       2019-01-17  0.0  -1.0  -1.0  -1.0  0.0  2.0\n2       2019-01-22  1.0  -1.0  1.0   -1.0  0.0  2.0\n3       2019-01-24  0.0  0.0   0.0   0.0   0.0  2.0\n4       2019-01-29  1.0  0.0   -1.0  0.0   -1.0 2.0\n5       2019-01-31  0.0  -1.0  0.0   0.0   0.0  2.0\n6       2019-02-05  1.0  1.0   1.0   0.0   1.0  2.0\n7       2019-02-12  2.0  1.0   1.0   0.0   2.0  2.0\n</code></pre>\n\n<p>which I'm plotting with:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>dfs = dfs.melt('Date', var_name = 'cols', value_name = 'vals')\nax = sns.lineplot(x = \"Date\", y = 'vals', hue = 'cols', \n                  style = 'cols', markers = True, dashes = False, data = dfs)\nax.set_xticklabels(dfs['Date'].dt.strftime('%d-%m-%Y'))\nplt.xticks(rotation = -90)\nplt.tight_layout()\nplt.show()\n</code></pre>\n\n<p>resulting:</p>\n\n<pre>\n<img src=\"https://i.stack.imgur.com/IF5la.png\" width=\"650\" />\n</pre>\n\n<p>which is ugly. I want to have the markers in the exact place as what is in the data-frame but the lines to be smoothed. I'm aware of <code>scipy -&gt; spline</code> (e.g. <a href=\"https://stackoverflow.com/questions/5283649/plot-smooth-line-with-pyplot\">here</a>), however that seems to be too much hassle to convert all the columns. There is also <code>Pandas -&gt; resample -&gt; interpolate</code> (e.g. <a href=\"https://stackoverflow.com/questions/27097015/plot-smooth-curves-of-pandas-series-data\">here</a>) which is very close to what I want but I have to turn the <code>Date</code> column to <code>index</code> which I don't want to do...</p>\n\n<p>I would appreciate if you could help me know what is the best Pythonic way to do this.</p>\n\n<hr>\n\n<p><strong>P.S.</strong> A complete version of my code can be seen <a href=\"https://gist.github.com/Foadsf/2be6d4105bcdccf4dc74810e1885ec3e\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": ["python", "python-2.7"], "answers": [{"comments": [{"owner": {"reputation": 799, "user_id": 2828958, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32c7e439e062b1961b744c80c92765e3?s=128&d=identicon&r=PG&f=1", "display_name": "npatel", "link": "https://stackoverflow.com/users/2828958/npatel"}, "edited": false, "score": 1, "creation_date": 1555541261, "post_id": 55736923, "comment_id": 98151798, "body": "I think you have missed last line of my question. I need to replace ONLY <code>$UPPERINTERFACE</code> with <code>interface</code>."}], "tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": true, "score": 1, "last_activity_date": 1555541374, "last_edit_date": 1555541374, "creation_date": 1555541002, "answer_id": 55736923, "question_id": 55736794, "link": "https://stackoverflow.com/questions/55736794/how-to-replace-a-part-of-variable-name-in-a-template-file/55736923#55736923", "title": "How to replace a part of variable name in a template file", "body": "<p>You can use curly braces <code>{}</code> to narrow down the template key as in following template string:</p>\n\n<pre><code>&gt;&gt;&gt; line = 'localparam ${UPPERINTERFACE}_WDTH = 1;'\n&gt;&gt;&gt; Template(line).substitute(UPPERINTERFACE=intf.upper())\n'localparam INTERFACE_WDTH = 1;'\n</code></pre>\n\n<p>The <a href=\"https://docs.python.org/3/library/string.html#template-strings\" rel=\"nofollow noreferrer\">documentation</a> states the following:</p>\n\n<blockquote>\n  <p><code>${identifier}</code> is equivalent to <code>$identifier</code>. It is required when valid identifier characters follow the placeholder but are not part of the placeholder, such as <code>\"${noun}ification\"</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 799, "user_id": 2828958, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32c7e439e062b1961b744c80c92765e3?s=128&d=identicon&r=PG&f=1", "display_name": "npatel", "link": "https://stackoverflow.com/users/2828958/npatel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 55736923, "answer_count": 1, "score": 1, "last_activity_date": 1555541374, "creation_date": 1555540118, "last_edit_date": 1555541158, "question_id": 55736794, "link": "https://stackoverflow.com/questions/55736794/how-to-replace-a-part-of-variable-name-in-a-template-file", "title": "How to replace a part of variable name in a template file", "body": "<p>I am trying to write a file from a sample template file.\nI need to replace ONLY <code>$UPPERINTERFACE</code> with <code>interface</code>.</p>\n\n<p>This is the sample <code>template.txt</code></p>\n\n<pre><code>localparam $UPPERINTERFACE_WDTH = 1;\nlocalparam $UPPERINTERFACE_DPTH = 8;\nlocalparam $UPPERINTERFACE_WTCHD = 2;\n</code></pre>\n\n<p>This is the code:</p>\n\n<pre><code>from string import Template\nintf = \"interface\"\nrdfh = open(\"template.txt\", \"r\").readlines()\nwrfh = open(\"myfile.txt\", \"w\")\nfor line in rdfh:\n    s = Template(line)\n    s = s.substitute(UPPERINTERFACE=intf.upper())\n    wrfh.write(s)\nrdfh.close()\nwrfh.close()\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>localparam interface_WDTH = 1;\nlocalparam interface_DPTH = 8;\nlocalparam interface_WTCHD = 2;\n</code></pre>\n\n<p>As it is taking <code>$UPPERINTERFACE_WDTH</code> as a variable to be replaced, I am getting following error:</p>\n\n<pre><code>KeyError: 'UPPERINTERFACE_WDTH'\n</code></pre>\n\n<p>Is there any way I can replace only <code>$UPPERINTERFACE</code> with <code>interface</code> here?</p>\n"}, {"tags": ["python", "pandas", "vectorization"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 2, "creation_date": 1555540538, "post_id": 55736778, "comment_id": 98151624, "body": "simple answer: no"}], "owner": {"reputation": 55, "user_id": 10364219, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/888b5d8a5f48169cf19b70c0e7de0d1d?s=128&d=identicon&r=PG&f=1", "display_name": "tuxtuxtux", "link": "https://stackoverflow.com/users/10364219/tuxtuxtux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555540036, "creation_date": 1555540036, "question_id": 55736778, "link": "https://stackoverflow.com/questions/55736778/can-python-os-operations-be-vectorized-ex-os-rename", "title": "Can Python OS operations be vectorized (Ex: os.rename)?", "body": "<p>I have a list of directories that need to be renamed - I am currently using a dataframe.</p>\n\n<p>The df looks like the below:\n+----------+----------+------------+\n| Original |   New    | HasChanged |\n+----------+----------+------------+\n| Name1    | NewName1 |          0 |\n| Name2    | NewName2 |          1 |\n+----------+----------+------------+</p>\n\n<p>There will be 50,000+ rows in the df. Is there a way to execute an os command (such as os.rename or os.path.join) on all of the rows where HasChanged == 0? In other words, is it possible to vectorize this operation? If so, how would I start this?</p>\n\n<p>Thanks for your help!</p>\n\n<p>I am currently using a for loop along the lines of:</p>\n\n<pre><code>for i in df.index:\n    if df.at[i, 'HasChanged'] != 1:\n         old_path = os.path.join(some_path, df.at[i, 'Original']\n         new_path = os.path.join(some_path, df.at[i, 'New'])\n         os.rename(old_path, new_path)\n</code></pre>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1555547520, "post_id": 55736776, "comment_id": 98153012, "body": "For a regex solution: <a href=\"https://regex101.com/r/GMV4iD/1\" rel=\"nofollow noreferrer\">regex101.com/r/GMV4iD/1</a>"}, {"owner": {"reputation": 1227, "user_id": 9927519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMTk4.jpg?s=128&g=1", "display_name": "Xiiryo", "link": "https://stackoverflow.com/users/9927519/xiiryo"}, "edited": false, "score": 0, "creation_date": 1555576700, "post_id": 55736776, "comment_id": 98161304, "body": "Thanks. It seems ok in regex101 but when I export a Python code or try it in my code it raise &quot;error: invalid group reference 1 at position 28&quot; or &quot;none&quot; if I remove the raw string r&quot;xxx&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1555604043, "post_id": 55736776, "comment_id": 98176751, "body": "Gosh, I hope &#39;regex101&#39; is using the Python re module. Maybe you should contact them ~"}], "owner": {"reputation": 1227, "user_id": 9927519, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iMTk4.jpg?s=128&g=1", "display_name": "Xiiryo", "link": "https://stackoverflow.com/users/9927519/xiiryo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "closed_date": 1555540204, "answer_count": 0, "score": 0, "last_activity_date": 1555540029, "creation_date": 1555540029, "question_id": 55736776, "link": "https://stackoverflow.com/questions/55736776/how-to-find-all-text-between-the-first-pair-of-bracket-when-there-is-also-bracke", "closed_reason": "Duplicate", "title": "How to find all text between the first pair of bracket when there is also brackets in the text?", "body": "<p>I have a list of strings that look like: </p>\n\n<pre><code>Item Q55127831 (Acute nitrobenzene poisoning with transient (optional) amino-aciduria.) &gt; setting P921 to Q114953 (poisoning)\n</code></pre>\n\n<p>I want to extract:</p>\n\n<pre><code>Acute nitrobenzene poisoning with transient (optional) amino-aciduria.\n</code></pre>\n\n<p>Where there could be internal parenthesis (optional) or not.</p>\n\n<p>I use Python 3</p>\n\n<p>I tried with Regex1 and Regex2 above:</p>\n\n<pre><code>import re\nregExp1 = \"\\(([^)]+)\\)\"\nregExp2 = \"\\$\\{((?:\\{[^\\{\\}]*\\}|[^\\{\\}]*)*)\\}\"\nstr = \"Item Q55127831 (Acute nitrobenzene poisoning with transient (optional) amino-aciduria.) &gt; setting P921 to Q114953 (poisoning)\"\nx = re.search(regExp2, str)[1,-1]\nprint(x)\n</code></pre>\n\n<p>regExp1 give: </p>\n\n<pre><code>Acute nitrobenzene poisoning with transient (optional\n</code></pre>\n\n<p>regExp2 give:</p>\n\n<pre><code>none\n</code></pre>\n\n<p>Could you help if you have more suitable solution?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "telegram", "gunicorn", "telegram-webhook", "py-telegram-bot-api"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 9718723, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7mOnM-HI1ew/AAAAAAAAAAI/AAAAAAAAAEE/_8Kur3B5Sro/photo.jpg?sz=128", "display_name": "Bohdan Popovych", "link": "https://stackoverflow.com/users/9718723/bohdan-popovych"}, "is_accepted": true, "score": 0, "last_activity_date": 1556018356, "creation_date": 1556018356, "answer_id": 55810050, "question_id": 55736768, "link": "https://stackoverflow.com/questions/55736768/how-to-make-webhooks-working-with-nginxgunicorndjangopytelegrambotapi/55810050#55810050", "title": "How to make webhooks working with nginx+gunicorn+django+pytelegrambotapi", "body": "<p>My problem was hiding inside django part.\nBy default, all django views require CSRF auth.\nAll I had to do is to place @csrf_exempt decorator on telegram() view to avoid this.</p>\n\n<pre><code>@csrf_exempt\ndef telegram(request):\n    if request.method == 'POST':\n        json_string = json.dumps(json.loads(request.body))\n        update = telebot.types.Update.de_json(json_string)\n        bot.process_new_updates([update])\n    return HttpResponse('')\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 9718723, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-7mOnM-HI1ew/AAAAAAAAAAI/AAAAAAAAAEE/_8Kur3B5Sro/photo.jpg?sz=128", "display_name": "Bohdan Popovych", "link": "https://stackoverflow.com/users/9718723/bohdan-popovych"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 574, "favorite_count": 0, "accepted_answer_id": 55810050, "answer_count": 1, "score": 1, "last_activity_date": 1600789900, "creation_date": 1555539973, "last_edit_date": 1600789900, "question_id": 55736768, "link": "https://stackoverflow.com/questions/55736768/how-to-make-webhooks-working-with-nginxgunicorndjangopytelegrambotapi", "title": "How to make webhooks working with nginx+gunicorn+django+pytelegrambotapi", "body": "<p>I'm trying to deploy telegram bot(usign pyTelegramBotApi) on django, using nginx+gunicorn.\nI already have fomain and Let's Encrypt cert for it, https is working and django rendered pages are accessible.\nBut I have no idea, why bot isn't receiving any data.\nAm I doing something wrong on deployment step?</p>\n\n<p>Django view to handle webhooks:</p>\n\n<pre><code>def telegram(request):\n    if request.method == 'POST':\n        json_string = request.POST.get()\n        update = telebot.types.Update.de_json(json_string)\n        bot.process_new_updates([update])\n    return HttpResponse('')\n\n\ndef set_hook(request):\n    bot.remove_webhook()\n    bot.set_webhook(url='https://&lt;my domain&gt;.tk/bot{}'.format(API_TOKEN))\n    return HttpResponse('')\n</code></pre>\n\n<p>nginx config:</p>\n\n<pre><code>server {\n    server_name &lt;my domain&gt;.tk www.&lt;my domain&gt;.tk default_server;\n    listen 80;\n\n    return 301 https://&lt;my domain&gt;.tk;\n}\n\nserver {\n    server_name www.&lt;my domain&gt;.tk;\n    listen 443 ssl http2;\n\n    ssl_certificate /etc/letsencrypt/live/&lt;my domain&gt;.tk/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/&lt;my domain&gt;.tk/privkey.pem;\n    ssl_trusted_certificate /etc/letsencrypt/live/&lt;my domain&gt;.tk/chain.pem;\n\n    ssl_stapling on;\n    ssl_stapling_verify on;\n\n    add_header Strict-Transport-Security \"max-age=31536000\";\n\n    return 301 https://&lt;my domain&gt;.tk$request_uri;\n}\n\nserver {\n\n    server_name &lt;my domain&gt;.tk;\n    listen 443 ssl http2;\n\n    ssl_certificate /etc/letsencrypt/live/&lt;my domain&gt;.tk/fullchain.pem;\n    ssl_certificate_key /etc/letsencrypt/live/&lt;my domain&gt;.tk/privkey.pem;\n    ssl_trusted_certificate /etc/letsencrypt/live/&lt;my domain&gt;.tk/chain.pem;\n\n    ssl_stapling on;\n    ssl_stapling_verify on;\n\n    add_header Strict-Transport-Security \"max-age=31536000\";\n\n    add_header X-Frame-Options \"SAMEORIGIN\";\n\n    location /.well-known {\n        root /var/www/html; # \u041f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u0434\u043b\u044f letsencrypt\n    }\n\n    location = /favicon.ico {\n        alias /home/ubuntu/&lt;my domain&gt;/static/favicon.ico;\n    }\n    location = /robots.txt {\n        alias /home/ubuntu/&lt;my domain&gt;/static/robots.txt;\n    }\n\n    location /static/ {\n        root /home/ubuntu/&lt;my domain&gt;/;\n    }\n    location /media/ {\n        root /home/ubuntu/&lt;my domain&gt;/;\n    }\n\n    location / {\n        include proxy_params;\n        proxy_pass http://unix:/home/ubuntu/&lt;my domain&gt;/socket.sock;\n    }\n}\n</code></pre>\n\n<p>GUnicorn service conf:</p>\n\n<pre><code>[Unit]\nDescription=gunicorn daemon\nAfter=network.target\n\n[Service]\nUser=ubuntu\nGroup=www-data\nWorkingDirectory=/home/ubuntu/&lt;my domain&gt;/\nExecStart=/home/ubuntu/&lt;my domain&gt;/venv/bin/gunicorn --access-logfile - --error-logfile error.log --workers 2 --bind unix:/home/ubuntu/&lt;my domain&gt;/socket.sock fri_weekend_bot.wsgi:application\n\n[Install]\nWantedBy=multi-user.target\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "list"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555540933, "post_id": 55736759, "comment_id": 98151721, "body": "Kruskal&#39;s algorithm of course. Or Prim&#39;s. Have you tried implementing either of these?"}, {"owner": {"reputation": 51, "user_id": 11343050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AnG4--tnpXA/AAAAAAAAAAI/AAAAAAAAEOI/V5L695I3hN8/photo.jpg?sz=128", "display_name": "IsaacJ700", "link": "https://stackoverflow.com/users/11343050/isaacj700"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555541173, "post_id": 55736759, "comment_id": 98151772, "body": "I&#39;m actually trying to mimic Kruskal&#39;s algorithm, but I&#39;m just not sure how to check for cycles when adding edges to the final list of edges that my function will return."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555541400, "post_id": 55736759, "comment_id": 98151841, "body": "I think the best way to work with graphs in plain python is via a dict-of-lists, where the keys are the nodes, and the values are a list of neighbors to that node, e.g. <code>{&#39;A&#39;: [&#39;D&#39;, &#39;B&#39;], ...}</code>. Each time you add an edge, you add the nodes on both side of the edge and add the neighbor for each node. A &quot;cycle&quot; in this case would just be when both the left and right node of the edge are already in the graph. And since the graph is a dict, this is just two constant-time <code>in</code> operations."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555541491, "post_id": 55736759, "comment_id": 98151866, "body": "You could imagine a <code>for node1, node2 in edges:</code> and then an <code>if node1 in graph and node2 in graph: continue</code> to skip that edge. Otherwise <code>graph[node1].append(node2)</code> and <code>graph[node2].append(node1)</code>. You can use a <code>defaultdict</code> so that you can always <code>append()</code> to a list without having to create it if it doesn&#39;t exist."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1555541536, "post_id": 55736759, "comment_id": 98151880, "body": "You might want to take a look at <a href=\"https://pypi.org/project/networkx\" rel=\"nofollow noreferrer\">networkx</a>. It implements the relevant algorithms."}, {"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "reply_to_user": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1555541562, "post_id": 55736759, "comment_id": 98151890, "body": "@a_guest yea but OP specified no imports. Edit: OP, does this mean no <i>standard library</i> imports as well? Or just no external dependencies?"}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1555541664, "post_id": 55736759, "comment_id": 98151921, "body": "@AlexanderReynolds In any case the implementation can serve as a source of inspiration or insight."}, {"owner": {"reputation": 51, "user_id": 11343050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AnG4--tnpXA/AAAAAAAAAAI/AAAAAAAAEOI/V5L695I3hN8/photo.jpg?sz=128", "display_name": "IsaacJ700", "link": "https://stackoverflow.com/users/11343050/isaacj700"}, "edited": false, "score": 0, "creation_date": 1555613049, "post_id": 55736759, "comment_id": 98180646, "body": "In the example that you gave, edges is a dictionary and graph is the list that will be returned, right?"}, {"owner": {"reputation": 51, "user_id": 11343050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AnG4--tnpXA/AAAAAAAAAAI/AAAAAAAAEOI/V5L695I3hN8/photo.jpg?sz=128", "display_name": "IsaacJ700", "link": "https://stackoverflow.com/users/11343050/isaacj700"}, "edited": false, "score": 0, "creation_date": 1555613407, "post_id": 55736759, "comment_id": 98180798, "body": "No standard library imports either"}], "owner": {"reputation": 51, "user_id": 11343050, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AnG4--tnpXA/AAAAAAAAAAI/AAAAAAAAEOI/V5L695I3hN8/photo.jpg?sz=128", "display_name": "IsaacJ700", "link": "https://stackoverflow.com/users/11343050/isaacj700"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555539890, "creation_date": 1555539890, "question_id": 55736759, "link": "https://stackoverflow.com/questions/55736759/how-can-i-check-for-cycles-when-working-with-a-list-of-edges", "title": "How can I check for cycles when working with a list of edges?", "body": "<p>If I have a list of edges already sorted by weight (assume each edge has a weight that is either the same or greater than the previous edge), such as [['A', 'D'], ['B', 'C'], ['A', 'B'], ['C', 'D']], how can I create a new list which represents a minimum spanning tree where no cycles exist? So in this case I would go down my original list and continue adding edges unless they make a cycle or until every vertex is hit. Also, I am not allowed to use imports for this problem. I'm thinking that recursion might be the answer, but I'm not entirely sure.</p>\n\n<p>So with the example above, I would want the final list to have [['A', 'D'], ['B', 'C'], ['A', 'B']]. The list does not include ['C', 'D'] because that would create a cycle.</p>\n"}, {"tags": ["python", "regex", "url", "scrapy", "web-crawler"], "comments": [{"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 3, "creation_date": 1555539678, "post_id": 55736711, "comment_id": 98151431, "body": "why not just use <code>url.startswith(&quot;https:&#47;&#47;www.afp.com&#47;fr&#47;infos&#47;334&#47;&quot;)</code>"}, {"owner": {"reputation": 482, "user_id": 7623020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64bb4158592e9cb4a35375d9d90d6e?s=128&d=identicon&r=PG&f=1", "display_name": "FailSafe", "link": "https://stackoverflow.com/users/7623020/failsafe"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1555540929, "post_id": 55736711, "comment_id": 98151718, "body": "@wpercy Great answer. Post that as an answer and I&#39;ll +1 it. &#39;AT&#39; kely789456123 are you trying to capture words separated by spaces that follow the URL?"}, {"owner": {"reputation": 455, "user_id": 7294253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79bdbaeaddb3523bea9a90b95a2341bc?s=128&d=identicon&r=PG&f=1", "display_name": "kely789456123", "link": "https://stackoverflow.com/users/7294253/kely789456123"}, "edited": false, "score": 0, "creation_date": 1555584109, "post_id": 55736711, "comment_id": 98165363, "body": "@FailSale  yes some are , and others are seperated by &quot;-&quot; like in the first example"}], "answers": [{"comments": [{"owner": {"reputation": 482, "user_id": 7623020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64bb4158592e9cb4a35375d9d90d6e?s=128&d=identicon&r=PG&f=1", "display_name": "FailSafe", "link": "https://stackoverflow.com/users/7623020/failsafe"}, "edited": false, "score": 0, "creation_date": 1555540634, "post_id": 55736798, "comment_id": 98151647, "body": "Please remove that first answer. The second one is great. I&#39;ll +1 after you remove your first answer."}, {"owner": {"reputation": 143, "user_id": 11312112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oJiH.jpg?s=128&g=1", "display_name": "Oliver H. D.", "link": "https://stackoverflow.com/users/11312112/oliver-h-d"}, "reply_to_user": {"reputation": 482, "user_id": 7623020, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c64bb4158592e9cb4a35375d9d90d6e?s=128&d=identicon&r=PG&f=1", "display_name": "FailSafe", "link": "https://stackoverflow.com/users/7623020/failsafe"}, "edited": false, "score": 1, "creation_date": 1555540866, "post_id": 55736798, "comment_id": 98151702, "body": "I removed the first"}], "tags": [], "owner": {"reputation": 143, "user_id": 11312112, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3oJiH.jpg?s=128&g=1", "display_name": "Oliver H. D.", "link": "https://stackoverflow.com/users/11312112/oliver-h-d"}, "is_accepted": true, "score": 3, "last_activity_date": 1555540820, "last_edit_date": 1555540820, "creation_date": 1555540147, "answer_id": 55736798, "question_id": 55736711, "link": "https://stackoverflow.com/questions/55736711/regular-expressions-to-extract-pages-beguinning-with-the-same-url/55736798#55736798", "title": "regular expressions to extract pages beguinning with the same url", "body": "<p>I would just use something like:</p>\n\n<pre><code>import re\n\nlist = []\n\nmyStr = \"https://www.afp.com/fr/infos/334/soudan-le-president-dechu-en-prison-les-manifestants-toujours-mobilises-doc-1fp9z64\"\nif \"https://www.afp.com/fr/infos/334/\" in myStr:\n    list.append(myStr)\n</code></pre>\n\n<p>or use url.startswith() like the other commenter recommended.</p>\n"}, {"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 4, "last_activity_date": 1555543609, "creation_date": 1555543609, "answer_id": 55737277, "question_id": 55736711, "link": "https://stackoverflow.com/questions/55736711/regular-expressions-to-extract-pages-beguinning-with-the-same-url/55737277#55737277", "title": "regular expressions to extract pages beguinning with the same url", "body": "<p>You should just use <a href=\"https://docs.python.org/3/library/stdtypes.html#str.startswith\" rel=\"nofollow noreferrer\"><code>str.startswith()</code></a> like this</p>\n\n<pre><code>if url.startswith('https://www.afp.com/fr/infos/334/'):\n    # do stuff with url\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 7294253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79bdbaeaddb3523bea9a90b95a2341bc?s=128&d=identicon&r=PG&f=1", "display_name": "kely789456123", "link": "https://stackoverflow.com/users/7294253/kely789456123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 55736798, "answer_count": 2, "score": 0, "last_activity_date": 1555543609, "creation_date": 1555539524, "question_id": 55736711, "link": "https://stackoverflow.com/questions/55736711/regular-expressions-to-extract-pages-beguinning-with-the-same-url", "title": "regular expressions to extract pages beguinning with the same url", "body": "<p>I would like write a regular expression which allow me to extract  pages beguinning with the same url.</p>\n\n<p>For example  :  I have the Following url</p>\n\n<pre><code>\nhttps://www.afp.com/fr/infos/334/soudan-le-president-dechu-en-prison-les-manifestants-toujours-mobilises-doc-1fp9z64\n</code></pre>\n\n<p>And want to only the url which beguin with :</p>\n\n<pre><code>https://www.afp.com/fr/infos/334/\n\n</code></pre>\n\n<p>so that i will have : </p>\n\n<pre><code>https://www.afp.com/fr/infos/334/le bar\u00e7a-est-gagnant\nhttps://www.afp.com/fr/infos/334/mort au Zimbabwe\nhttps://www.afp.com/fr/infos/334/le pr\u00e9sident fran\u00e7ais\n\n\n</code></pre>\n\n<p>So I tried </p>\n\n<pre><code>https://www.afp.com/fr/infos/334/*\nhttps://www.afp.com/fr/infos/334/[^abc]*\n</code></pre>\n\n<p>It is not working I have to put the regular expression in a software which do the crawling , the software is written in python</p>\n"}, {"tags": ["python", "button", "tkinter", "background"], "answers": [{"tags": [], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "is_accepted": true, "score": 3, "last_activity_date": 1555540233, "creation_date": 1555540233, "answer_id": 55736812, "question_id": 55736700, "link": "https://stackoverflow.com/questions/55736700/im-making-my-first-ui-program-in-python-and-i-need-help-checking-the-color-of/55736812#55736812", "title": "I&#39;m making my first UI program in Python, and I need help checking the color of a button in an IF statement", "body": "<p>Use the <code>cget()</code> function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>if button.cget('background') == 'red':\n    # Code\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1349, "user_id": 9560340, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dne11.jpg?s=128&g=1", "display_name": "bashBedlam", "link": "https://stackoverflow.com/users/9560340/bashbedlam"}, "is_accepted": false, "score": 0, "last_activity_date": 1555541530, "creation_date": 1555541530, "answer_id": 55736986, "question_id": 55736700, "link": "https://stackoverflow.com/questions/55736700/im-making-my-first-ui-program-in-python-and-i-need-help-checking-the-color-of/55736986#55736986", "title": "I&#39;m making my first UI program in Python, and I need help checking the color of a button in an IF statement", "body": "<p>Here's how I would go about it :</p>\n\n<pre><code>#!/usr/bin/python3\nfrom tkinter import *\n\nmaster = Tk()\nmaster.title(\"My Window\")\nmaster.wm_resizable(0, 0)\n\nbutton_color = 'red'\n\ndef colorChange () :\n    global button_color\n    if button_color == 'red' :\n        button_color = 'white'\n    else : button_color = 'red'\n    button.config (bg = button_color)\n\nbutton = Button (master, width = 12, bd = 4, bg = button_color,\n    font = 'Ariel 12', text = 'Change Color',\n    command = lambda : colorChange ())\n\nbutton.pack ()\n\nmainloop()\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11376168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bfcdba0f172e2ddb95cbe7d2c3331f8a?s=128&d=identicon&r=PG", "display_name": "PythonNerd", "link": "https://stackoverflow.com/users/11376168/pythonnerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 55736812, "answer_count": 2, "score": -1, "last_activity_date": 1555544088, "creation_date": 1555539465, "last_edit_date": 1555544088, "question_id": 55736700, "link": "https://stackoverflow.com/questions/55736700/im-making-my-first-ui-program-in-python-and-i-need-help-checking-the-color-of", "title": "I&#39;m making my first UI program in Python, and I need help checking the color of a button in an IF statement", "body": "<p>I am making my first Python UI program (using tkinter) and I am trying to make a button. When you click this button I want it to turn red, and then when you click it again, have it turn white again. Could I have some help with checking the background color in an <code>if</code> statement?</p>\n\n<p>I tried many things such as if <code>button.background == 'red'</code>: and  <code>if button.color == 'red'</code>: I have also scoured the internet for a while.</p>\n\n<p>This is the code I have so far:</p>\n\n<pre><code>    main.title(\"My Window\")\n    main.geometry('800x600')\n\n    def colorChange():\n      if button == 'red':\n            button.configure(background='white')\n        else:\n            button.configure(background='red')\n\n    button = Button(master, text=\"Change Color\", command=colorChange)\n    button.pack()\n</code></pre>\n"}, {"tags": ["python", "class"], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555539907, "post_id": 55736744, "comment_id": 98151480, "body": "Excellent answer ! Thank you so much !"}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1555540122, "last_edit_date": 1555540122, "creation_date": 1555539795, "answer_id": 55736744, "question_id": 55736676, "link": "https://stackoverflow.com/questions/55736676/count-how-many-times-a-function-is-excuted-after-the-exceution-of-another-functi/55736744#55736744", "title": "Count How Many Times a Function is Excuted after the Exceution of Another Function for an Instance of a Class", "body": "<p>If you keep track of how many times <code>FUNCTION1</code> is called, you can test for that in <code>FUNCTION2</code> and make sure it's above zero before you start counting <code>FUNCTION2</code>:</p>\n\n<pre><code>class CLASS:\n\n    def __init__(self,name):\n        self.name = name\n        # initialize instance counters -- each instance gets its own counts\n        self.counting_function_execution_1 = 0\n        self.counting_function_execution_2 = 0\n\n    def FUNCTION1(self):\n        self.counting_function_execution_1 += 1\n        print(\"FUNCTION 1 was excecuted \", self.counting_function_execution_1, \" number of times.\")\n\n    def FUNCTION2(self):\n        if self.counting_function_execution_1:     # don't count unless function1 has run\n            self.counting_function_execution_2 += 1\n        print(\"FUNCTION 2 was excecuted \", self.counting_function_execution_2, \" number of times after FUNCTION.\")\n\nc = CLASS('the dude')\nc.FUNCTION2() #0\nc.FUNCTION2() #0\nc.FUNCTION1()\n\nc.FUNCTION2() #1\nc.FUNCTION2() #2\n</code></pre>\n"}], "owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 1, "accepted_answer_id": 55736744, "answer_count": 1, "score": 2, "last_activity_date": 1555540122, "creation_date": 1555539314, "last_edit_date": 1555539779, "question_id": 55736676, "link": "https://stackoverflow.com/questions/55736676/count-how-many-times-a-function-is-excuted-after-the-exceution-of-another-functi", "title": "Count How Many Times a Function is Excuted after the Exceution of Another Function for an Instance of a Class", "body": "<p>Based on <a href=\"https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted/55736213?noredirect=1#comment98150949_55736213\">this question</a>, I know how to count how many times a function <code>FUNCTION</code> was executed within an instance of a class <code>CLASS</code>. Now, I have another question: How would I count how many times (for one instance of the class <code>CLASS</code>) a second function <code>FUNCTION2</code> is executed after the first function <code>FUNCTION</code> is executed ?</p>\n\n<p>Here is a small example of how I tried it:</p>\n\n<pre><code>class CLASS:\n    # Initializing counting for first function\n    counting_function_execution  = 0\n\n    def __init__(self,name):\n        self.name = name\n\n    def FUNCTION1(self):\n        # Initializing counting for second function\n        counting_excution_after_FUNCTION = 0\n\n        self.counting_function_execution += 1\n        print(\"FUNCTION 1 was excecuted \", self.counting_function_execution, \" time.\")\n\n    def FUNCTION2(self):\n        counting_excution_after_FUNCTION += 1\n        print(\"FUNCTION 2 was excecuted \", self.counting_excution_after_FUNCTION, \" time after FUNCTION.\")\n</code></pre>\n\n<p>...but I got:</p>\n\n<pre><code>test = CLASS(\"Fred\")\ntest.FUNCTION1()\ntest.FUNCTION2()\ntest.FUNCTION2()\n</code></pre>\n\n<p>the output:</p>\n\n<pre><code>FUNCTION 1 was excecuted  1  time.\n---------------------------------------------------------------------------\nUnboundLocalError                         Traceback (most recent call last)\n&lt;ipython-input-148-d67aeefa671e&gt; in &lt;module&gt;()\n      1 test = CLASS(\"Fred\")\n      2 test.FUNCTION1()\n----&gt; 3 test.FUNCTION2()\n      4 test.FUNCTION2()\n\n&lt;ipython-input-147-6a6d7adb1af9&gt; in FUNCTION2(self)\n     15 \n     16     def FUNCTION2(self):\n---&gt; 17         counting_excution_after_FUNCTION += 1\n     18         print(\"FUNCTION 2 was excecuted \", self.counting_excution_after_FUNCTION, \" time after FUNCTION.\")\n\nUnboundLocalError: local variable 'counting_excution_after_FUNCTION' referenced before assignment\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "unicode", "utf-8"], "comments": [{"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 1, "creation_date": 1555539727, "post_id": 55736669, "comment_id": 98151436, "body": "It&#39;s <code>open(&quot;tester.txt&quot;, &quot;r&quot;, encoding=&quot;utf8&quot;)</code>."}, {"owner": {"reputation": 1, "user_id": 11376140, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qId2Mrpi_Ak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3revSC0a4-mR1SscOyHFIv7EUWkO3w/mo/photo.jpg?sz=128", "display_name": "Dr Shitgenstein", "link": "https://stackoverflow.com/users/11376140/dr-shitgenstein"}, "reply_to_user": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1555540025, "post_id": 55736669, "comment_id": 98151510, "body": "That fixes it, thanks. I thought it was a bit more complicated than that, I guess I&#39;m an idiot."}, {"owner": {"reputation": 4539, "user_id": 1698431, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/lpYwg.png?s=128&g=1", "display_name": "lenz", "link": "https://stackoverflow.com/users/1698431/lenz"}, "edited": false, "score": 0, "creation_date": 1555540524, "post_id": 55736669, "comment_id": 98151618, "body": "It hasn&#39;t always been that easy; in Python 2 you needed to import the <code>io</code> or <code>codecs</code> module first. And it could be easier if UTF-8 was just the default like many believe. But the default is <i>different depending on your platform</i>! So UTF-8 is often the default on Linux, but not on Windows..."}], "owner": {"reputation": 1, "user_id": 11376140, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qId2Mrpi_Ak/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3revSC0a4-mR1SscOyHFIv7EUWkO3w/mo/photo.jpg?sz=128", "display_name": "Dr Shitgenstein", "link": "https://stackoverflow.com/users/11376140/dr-shitgenstein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "closed_date": 1555540373, "answer_count": 0, "score": 0, "last_activity_date": 1555539269, "creation_date": 1555539269, "question_id": 55736669, "link": "https://stackoverflow.com/questions/55736669/how-to-make-python-3-correctly-load-foreign-characters-from-utf-8-txt-files", "closed_reason": "Duplicate", "title": "How to make Python 3 correctly load foreign characters from UTF-8 .txt files", "body": "<p>I'm trying to do some processing on a Croatian dictionary and I'm running into problems with loading non-English characters from the file. The specific characters are \"\u017e\", \"\u0161\", \"\u010d\", \"\u0107\", and \"\u0111\". In the first few lines, it decodes \"\u017e\" as \"\u00c5\u00be\". Here's the code:</p>\n\n<pre><code>dic=open(\"tester.txt\", \"r\").readlines()\nprint(dic)\n</code></pre>\n\n<p>The dictionary can be loaded without errors other than the incorrect decoding of those characters but in another example where I tried it with a text file containing only those chars in separate lines it gives an error:</p>\n\n<blockquote>\n  <p>UnicodeDecodeError: 'charmap' codec can't decode byte 0x8d in position 12: >character maps to (undefined)</p>\n</blockquote>\n\n<p>Python has no problem printing them when written in IDLE, but doesn't seem to automatically read them properly from a txt file. The .txt was saved as UTF-8 prior to loading it, because the default encoding and every other option didn't display any characters correctly. Is there any way to easily fix this?</p>\n"}, {"tags": ["python", "flask", "jinja2"], "answers": [{"tags": [], "owner": {"reputation": 982, "user_id": 9473052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebeb6545d601766b0ed4bcc50d9d2a98?s=128&d=identicon&r=PG&f=1", "display_name": "gittert", "link": "https://stackoverflow.com/users/9473052/gittert"}, "is_accepted": false, "score": 0, "last_activity_date": 1555586606, "creation_date": 1555586606, "answer_id": 55744965, "question_id": 55736663, "link": "https://stackoverflow.com/questions/55736663/using-unknown-amount-of-buttons/55744965#55744965", "title": "Using unknown amount of buttons", "body": "<p>I used to do something like this. replace #do not know what to fill in here with this:</p>\n\n<pre><code>if request.method == \"POST\":\n\n    if request.form[\"submit\"] == \"change_status\":\n        return redirect(url_for('&lt;insert route&gt;'))\n\n    if request.form[\"submit\"] == \"delete_order\":\n        return redirect(url_for('&lt;insert route&gt;'))\n</code></pre>\n\n<p>and add a value to your buttons in the template and wrap it in form tags if that is not already the case.</p>\n\n<pre><code>&lt;button type=\"submit\" class=\"choice\" name=\"{{order.orderID}}CS\" style = \"margin:10px\" value = \"change_status\"&gt;Change Status&lt;/button&gt;\n&lt;button type=\"submit\" class=\"choice\" name=\"{{order.orderID}}DO\" style = \"margin:10px; margin-right:30px;\" value = \"delete_order\"&gt;Delete Order&lt;/button&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4294, "user_id": 2826421, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/digYw.png?s=128&g=1", "display_name": "MrLeeh", "link": "https://stackoverflow.com/users/2826421/mrleeh"}, "is_accepted": false, "score": 1, "last_activity_date": 1555614948, "creation_date": 1555614948, "answer_id": 55752453, "question_id": 55736663, "link": "https://stackoverflow.com/questions/55736663/using-unknown-amount-of-buttons/55752453#55752453", "title": "Using unknown amount of buttons", "body": "<p>Just for the sake of completeness: You can use the HTML input <a href=\"https://www.w3schools.com/TAGS/att_input_formaction.asp\" rel=\"nofollow noreferrer\">formaction</a> attribute to submit to different urls depending on the button that has been pressed. This way you can skip the server-side logic completely. In the above example it would look something like this:</p>\n\n<pre><code>{% for order in system.orders %}\n&lt;p style=\"white-space: pre; font-size: 30px;\"&gt;{{order.print}}\n    &lt;button type=\"submit\" formaction=\"{{ url_for('insert_route', id=order.id) }}\" class=\"choice\" name=\"{{order.orderID}}CS\" style = \"margin:10px\"&gt;Change Status&lt;/button&gt;\n    &lt;button type=\"submit\" formaction=\"{{ url_for('delete_route', id=order.id) }}\" class=\"choice\" name=\"{{order.orderID}}DO\" style = \"margin:10px; margin-right:30px;\"&gt;Delete Order&lt;/button&gt;\n&lt;/p&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11265404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec08e65f6bbc20ce49e0200202cb69e0?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Flodin", "link": "https://stackoverflow.com/users/11265404/simon-flodin"}, "is_accepted": true, "score": 0, "last_activity_date": 1555732478, "creation_date": 1555732478, "answer_id": 55770105, "question_id": 55736663, "link": "https://stackoverflow.com/questions/55736663/using-unknown-amount-of-buttons/55770105#55770105", "title": "Using unknown amount of buttons", "body": "<pre><code>&lt;form action=\"POST\"&gt;\n</code></pre>\n\n<p>should be:</p>\n\n<pre><code>&lt;form method=\"POST\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 11265404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec08e65f6bbc20ce49e0200202cb69e0?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Flodin", "link": "https://stackoverflow.com/users/11265404/simon-flodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55770105, "answer_count": 3, "score": 0, "last_activity_date": 1555732478, "creation_date": 1555539171, "last_edit_date": 1555729829, "question_id": 55736663, "link": "https://stackoverflow.com/questions/55736663/using-unknown-amount-of-buttons", "title": "Using unknown amount of buttons", "body": "<p>If I had a lot of buttons on one page how could I find when a specific button is pressed? </p>\n\n<p>In my example I am using a for loop with a variable length to print out an order in my system. Each order has 2 buttons \"Delete Order\" - which deletes the order, and \"Update Order\" - which changes the order status from \"not done\" to \"ready for pick up\".</p>\n\n<p>How can I know when a specific one of these buttons are pressed. It would not be feasible to use an if elseif elseif, etc. as I have seen in other solutions.</p>\n\n<p>This is in my routes.py file:</p>\n\n<pre><code>@app.route('/admin/orders', methods=[\"GET\", \"POST\"])\ndef orders():\n    if request.method == \"POST\":\n        for order in system.orders:\n            if request.form[\"status\"] == str(order.orderID):\n                order.setOrderStatus(\"ready for pick-up\")\n                return redirect(url_for('orders'))\n            if request.form[\"delete\"] == str(order.orderID):\n                order.deleteOrder(order.currOrder)\n                return redirect(url_for('orders'))\n    return render_template(\"orders.html\", system = system)\n</code></pre>\n\n<p>This is in my html/jinja file for order.html:</p>\n\n<pre><code>&lt;form action=\"POST\"&gt;\n{% for order in system.orders %}\n    &lt;p style=\"white-space: pre; font-size: 30px;\"&gt;{{order.print}}\n\n    &lt;button type = \"submit\" name=\"status\" class=\"choice\" value=\"{{order.orderID}}\" style = \"margin:10px\"&gt;Change Status&lt;/button&gt;\n\n    &lt;button type = \"submit\" name=\"delete\" class=\"choice\" value=\"{{order.orderID}}\" style = \"margin:10px;\"&gt;Delete Order&lt;/button&gt;\n    &lt;/p&gt;\n{% endfor %}\n&lt;/form&gt;\n</code></pre>\n\n<p>I want to be able to click a button and be taken to the same page with the updated order status or the order deleted. I am currently getting put to a page with POST?status=1 at the end of the URL and a black page with only the header</p>\n"}, {"tags": ["python", "opencv", "maze", "stereo-3d"], "answers": [{"tags": [], "owner": {"reputation": 8084, "user_id": 2896626, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4cd83959d7fe39c658d2e49cfecfe4b6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul92", "link": "https://stackoverflow.com/users/2896626/paul92"}, "is_accepted": true, "score": 1, "last_activity_date": 1555544700, "creation_date": 1555544700, "answer_id": 55737371, "question_id": 55736628, "link": "https://stackoverflow.com/questions/55736628/path-detection-and-progress-in-the-maze-with-live-stereo3d-image/55737371#55737371", "title": "Path detection and progress in the maze with live stereo3d image", "body": "<p>The problem description is a bit vague, but i'll try to highlight some general ideas.</p>\n\n<p>An useful assumption is that labyrinth is a 2D environment which you want to explore. You need to know, at every moment, which part of the map has been explored, which part of the map still needs exploring, and which part of the map is accessible in any way (in other words, where are the walls).</p>\n\n<p>An easy initial data structure to help with this is a simple matrix, where each cell represents a square in the real world. Each cell can be then labelled according to its state, starting in an unexplored state. Then you start moving, and exploring. Based on the distances reported by the camera, you can estimate the state of each cell. The exploration can be guided by something such as A* or Q-learning.</p>\n\n<p>Now, a rather subtle issue is that you will have to deal with uncertainty and noise. Sometimes you can ignore it, sometimes you don't. The finer the resolution you need, the bigger is the issue. A probabilistic framework is most likely the best solution.</p>\n\n<p>There is an entire field of research of the so-called SLAM algorithms. SLAM stands for simultaneous localization and mapping. They build a map using some sort of input from various types of cameras or sensors, and they build a map. While building the map, they also solve the localization problem within the map. The algorithms are usually designed for 3d environments, and are more demanding than the simpler solution indicated above, but you can find ready to use implementations. For exploration, something like Q-learning still have to be used.</p>\n"}], "owner": {"reputation": 97, "user_id": 8599026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf0632d94b40e871e18280e5f3059c9b?s=128&d=identicon&r=PG&f=1", "display_name": "Muhammed YILMAZ", "link": "https://stackoverflow.com/users/8599026/muhammed-yilmaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 55737371, "answer_count": 1, "score": -1, "last_activity_date": 1555544700, "creation_date": 1555538929, "question_id": 55736628, "link": "https://stackoverflow.com/questions/55736628/path-detection-and-progress-in-the-maze-with-live-stereo3d-image", "title": "Path detection and progress in the maze with live stereo3d image", "body": "<p>I'm producing an <strong>ugv prototype</strong>. The goal is to perform the desired actions to the targets set <strong>within the maze</strong>. When I surf the Internet, the mere right <strong>to navigate in the labyrinth</strong> is usually made with a distance sensor. <em>I want to consult more ideas than the question.</em> </p>\n\n<p>I want to navigate the labyrinth by analyzing the image from the <strong>3d stereo camera</strong>. Is there a resource or successful method you can suggest for this? As a secondary problem, the car must start in front of the entrance of the labyrinth, see the entrance and go in, and then leave the labyrinth after it completes operations in the labyrinth.</p>\n\n<p><em>I would be glad if you suggest a source for this problem.</em> :)</p>\n"}, {"tags": ["python", "visual-studio-code", "aws-lambda"], "answers": [{"tags": [], "owner": {"reputation": 1078, "user_id": 6515971, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/jxamZ.jpg?s=128&g=1", "display_name": "Bela Vizy", "link": "https://stackoverflow.com/users/6515971/bela-vizy"}, "is_accepted": false, "score": 0, "last_activity_date": 1555607774, "creation_date": 1555607774, "answer_id": 55750904, "question_id": 55736610, "link": "https://stackoverflow.com/questions/55736610/how-do-i-debug-my-existing-lambdas-in-visual-studio-code/55750904#55750904", "title": "How do I debug my existing lambdas in Visual Studio Code?", "body": "<p>I wrote <a href=\"https://github.com/bespoken/bstpy\" rel=\"nofollow noreferrer\">this</a> a while back (I assume you code in Python). </p>\n\n<p>This will expose your lambda as an http endpoint locally. Then you can use tools like <a href=\"https://bespoken.io\" rel=\"nofollow noreferrer\">Bespoken Proxy</a> or <a href=\"https://ngrok.com\" rel=\"nofollow noreferrer\">ngrok</a> to put the endpoint on the public internet. Just use it as a normal url for Alexa. </p>\n"}], "owner": {"reputation": 6882, "user_id": 264822, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/8d32aaf66676a77ad32a879a8e090887?s=128&d=identicon&r=PG", "display_name": "parsley72", "link": "https://stackoverflow.com/users/264822/parsley72"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 138, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555607774, "creation_date": 1555538825, "last_edit_date": 1592644375, "question_id": 55736610, "link": "https://stackoverflow.com/questions/55736610/how-do-i-debug-my-existing-lambdas-in-visual-studio-code", "title": "How do I debug my existing lambdas in Visual Studio Code?", "body": "<p>I've installed the <a href=\"https://github.com/aws/aws-toolkit-vscode#getting-started\" rel=\"nofollow noreferrer\">AWS Toolkit for Visual Studio Code</a>, logged into my AWS account and I can see a list of my lambdas. But the <a href=\"https://github.com/aws/aws-toolkit-vscode/blob/develop/docs/debugging-python-lambda-functions.md\" rel=\"nofollow noreferrer\">instructions for debugging</a> are very vague:</p>\n<blockquote>\n<p>Launch Visual Studio Code and open a SAM application or create a new\none.</p>\n<p>Note: Open the folder that contains template.yaml.</p>\n</blockquote>\n<p>What does this mean? Do I have to setup a new SAM application or can I just configure my existing lambda to work like this? What does template.yaml need to contain?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 19039, "user_id": 5851928, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a108205f3620cbf490cb5e6ecd20ebb2?s=128&d=identicon&r=PG&f=1", "display_name": "DavidG", "link": "https://stackoverflow.com/users/5851928/davidg"}, "edited": false, "score": 1, "creation_date": 1555575680, "post_id": 55736601, "comment_id": 98160767, "body": "You never apply any limits to the subplot, therefore it defaults to 0-1"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 1, "creation_date": 1555687428, "post_id": 55736601, "comment_id": 98202665, "body": "The line is white in your case (you see that its above the labels); and the reason is that you are using a style sheet that turns the spines white. Use the default style and your lines will be black as expected."}], "owner": {"reputation": 891, "user_id": 8407951, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/22ac0be4f472b5379a2175a668266f83?s=128&d=identicon&r=PG&f=1", "display_name": "Slowat_Kela", "link": "https://stackoverflow.com/users/8407951/slowat-kela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555538809, "creation_date": 1555538731, "last_edit_date": 1555538809, "question_id": 55736601, "link": "https://stackoverflow.com/questions/55736601/generate-random-plot-for-slope", "title": "Generate random plot for slope", "body": "<p>I want to generate a set of random plots like this one: <a href=\"https://i.stack.imgur.com/NEkE0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NEkE0.png\" alt=\"this\"></a>; where I randomly generate the equation (in this case, y =2x + 3) and then draw an empty plot for students to plot the points for that equation.</p>\n\n<p>I wrote this code, that generates the equation, and tells me what dimensions the plot should be:</p>\n\n<pre><code>start_pos_number = random.randint(1,5)\nstart_neg_number = start_pos_number * -1\neq_connector = ['+','-']\nequation_x_y = random.sample(range(1, 5), 2)\neq = 'y = ' + str(equation_x_y[0]) + 'x' + str(random.choice(eq_connector)) + str(equation_x_y[1])\nx = range(start_neg_number,start_pos_number)\npos_y = equation_x_y[0]*start_pos_number + equation_x_y[1]\nneg_y = equation_x_y[0]*start_neg_number + equation_x_y[1]\ny_range = range(neg_y,pos_y)\nprint(eq)\nprint(x)\nprint(y_range)\n</code></pre>\n\n<p>I was then trying to plot the data:</p>\n\n<pre><code>fig = plt.figure()\nax = fig.add_subplot(1, 1, 1)\nax.spines['left'].set_position('center')\nax.spines['bottom'].set_position('center')\nax.spines['right'].set_color('none')\nax.spines['top'].set_color('none')\nax.xaxis.set_ticks_position('bottom')\nax.yaxis.set_ticks_position('left')\nplt.plot()\nplt.show()\n</code></pre>\n\n<p>Which gives me:<a href=\"https://i.stack.imgur.com/UAwJw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UAwJw.png\" alt=\"\"></a></p>\n\n<p>I can see there are multiple issues with this. Can someone tell how to change this code to:\n1. Actually draw the line (like in the example) as there is no line drawn in my attempt.\n2. make the numbers/limits of the x and y axis match the numbers generated in the first part of the code (or more generally, how do I just put in two random ranges, an x range and a y range, and change the plot accordingly. </p>\n"}, {"tags": ["python", "python-3.x", "flask"], "comments": [{"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555541461, "post_id": 55736527, "comment_id": 98151859, "body": "I don&#39;t think you understand how a generator works... It needs to be called through either an iteration or via a <code>next</code>."}, {"owner": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "reply_to_user": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "edited": false, "score": 0, "creation_date": 1555542081, "post_id": 55736527, "comment_id": 98152019, "body": "@Error-SyntacticalRemorse Right, that&#39;s what I thought too, that the usage of a generator was incorrect in this situation but when I returned two files without a generator, only the first file&#39;s contents were visible. If you don&#39;t mind, can you show me what you mean when you say to utilize an iteration or the <code>next</code> function in this specific scenario."}], "answers": [{"comments": [{"owner": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "edited": false, "score": 0, "creation_date": 1555543058, "post_id": 55737132, "comment_id": 98152224, "body": "It works as in <code>Hi</code> shows up and then I have to reload to show <code>Bye</code>. Any clue on how to do this without the reloading?"}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "reply_to_user": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "edited": false, "score": 0, "creation_date": 1555543235, "post_id": 55737132, "comment_id": 98152267, "body": "Thats how a generator works... It need to call the method twice... If you want to load a second page after a certain period of time, you should google something along those line."}, {"owner": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "edited": false, "score": 0, "creation_date": 1555543720, "post_id": 55737132, "comment_id": 98152358, "body": "All right, thanks for your help. I&#39;ll accept this answer cause it did help me fix my problem to load the second template."}, {"owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "reply_to_user": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "edited": false, "score": 0, "creation_date": 1555543857, "post_id": 55737132, "comment_id": 98152381, "body": "This may help you <a href=\"https://stackoverflow.com/a/48073789/8150685\">stackoverflow.com/a/48073789/8150685</a> or this <a href=\"https://stackoverflow.com/a/27722402/8150685\">stackoverflow.com/a/27722402/8150685</a>"}], "tags": [], "owner": {"reputation": 5879, "user_id": 8150685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WV7OV.jpg?s=128&g=1", "display_name": "Error - Syntactical Remorse", "link": "https://stackoverflow.com/users/8150685/error-syntactical-remorse"}, "is_accepted": true, "score": 0, "last_activity_date": 1555542570, "creation_date": 1555542570, "answer_id": 55737132, "question_id": 55736527, "link": "https://stackoverflow.com/questions/55736527/how-can-i-yield-a-template-over-another-in-flask/55737132#55737132", "title": "How can I yield a template over another in flask?", "body": "<p>You would have to do you function different to use a generator like this.</p>\n\n<pre><code>from flask import Flask, stream_with_context, Response, render_template\napp = Flask('app')\n\ndef page_generator():\n    yield render_template('index.html')\n    yield render_template('index2.html')\ngenerator_obj = None\n\n@app.route('/')\ndef hello_world():\n    global generator_obj\n    generator_obj = generator_obj or page_generator()\n    return Response(stream_with_context(next(generator_obj)))\n\napp.run(host='0.0.0.0', port=8080)\n</code></pre>\n\n<p>I don't know for sure if this will work in flask.\nNote that after you call <code>hello_world</code> twice this will fail unless you reset <code>generator_obj</code> to <code>None</code> on <code>StopIteration</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 377, "user_id": 6805594, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-MTDSX8hqGWs/AAAAAAAAAAI/AAAAAAAAAAA/NPxZ6ydcz5s/photo.jpg?sz=128", "display_name": "Ahmad Agbaryah", "link": "https://stackoverflow.com/users/6805594/ahmad-agbaryah"}, "edited": false, "score": 1, "creation_date": 1571974455, "post_id": 55755716, "comment_id": 103424098, "body": "perfect, exactly what I was looking for. Thanks a lot"}, {"owner": {"reputation": 81, "user_id": 12705907, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mB8klPgcsW8kP38AmNXmRMvrDNoVjGzX19SzQ3XqQ=k-s128", "display_name": "Senthil Vikram Vodapalli", "link": "https://stackoverflow.com/users/12705907/senthil-vikram-vodapalli"}, "edited": false, "score": 0, "creation_date": 1618552000, "post_id": 55755716, "comment_id": 118640116, "body": "I would like to add a link for a similar thing but video streaming. <a href=\"https://blog.miguelgrinberg.com/post/video-streaming-with-flask\" rel=\"nofollow noreferrer\">blog.miguelgrinberg.com/post/video-streaming-with-flask</a>"}], "tags": [], "owner": {"reputation": 516, "user_id": 11346909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Vcun6.jpg?s=128&g=1", "display_name": "Gabriel H.", "link": "https://stackoverflow.com/users/11346909/gabriel-h"}, "is_accepted": false, "score": 4, "last_activity_date": 1555639566, "creation_date": 1555639566, "answer_id": 55755716, "question_id": 55736527, "link": "https://stackoverflow.com/questions/55736527/how-can-i-yield-a-template-over-another-in-flask/55755716#55755716", "title": "How can I yield a template over another in flask?", "body": "<p>It's not your case, but if you'd like to stream a template with static content, here's a way to do it. I'll be using the <code>sleep()</code> method to suspend the execution for 1 second.</p>\n\n<pre><code>from flask import Flask, stream_with_context, request, Response, flash\nimport time\nfrom time import sleep\n\napp = Flask(__name__)\n\ndef stream_template(template_name, **context):\n    app.update_template_context(context)\n    t = app.jinja_env.get_template(template_name)\n    rv = t.stream(context)\n    rv.disable_buffering()\n    return rv\n\ndata = ['Hi', 'Bye']\n\ndef generate():\n    for item in data:\n        yield str(item)\n        sleep(1)\n\n@app.route('/')\ndef stream_view():\n    rows = generate()\n    return Response(stream_with_context(stream_template('index.html', rows=rows)))\n\n\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n<p>where <strong>templates/index.html</strong>:</p>\n\n<pre><code>{% for item in rows %}\n&lt;h1&gt;{{ item }}&lt;/h1&gt;\n{% endfor %}\n</code></pre>\n\n<p>See <a href=\"http://flask.pocoo.org/docs/0.12/patterns/streaming/#streaming-from-templates\" rel=\"nofollow noreferrer\">streaming from templates</a> in the documentation.</p>\n"}], "owner": {"reputation": 148, "user_id": 10767758, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PpAS7Yd7TS8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iM4gPNyojgW_vJ3XlHBi9QQxRe8w/mo/photo.jpg?sz=128", "display_name": "programmerskillz", "link": "https://stackoverflow.com/users/10767758/programmerskillz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2538, "favorite_count": 0, "accepted_answer_id": 55737132, "answer_count": 2, "score": 2, "last_activity_date": 1555639566, "creation_date": 1555538253, "question_id": 55736527, "link": "https://stackoverflow.com/questions/55736527/how-can-i-yield-a-template-over-another-in-flask", "title": "How can I yield a template over another in flask?", "body": "<p>I have been working on a project in flask and I am stuck on one part where I need to figure out how to yield one flask template over another. </p>\n\n<p>To illustrate what I mean, for example, I have a program like this.</p>\n\n<p>main.py</p>\n\n<pre><code>from flask import Flask, stream_with_context, Response, render_template\napp = Flask('app')\n\n@app.route('/')\ndef hello_world():\n    def generate():\n        yield render_template('index.html')\n        yield render_template('index2.html')\n    return Response(stream_with_context(generate()))\n\napp.run(host='0.0.0.0', port=8080)\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;h3&gt;Hi&lt;/h3&gt;\n</code></pre>\n\n<p>index2.html</p>\n\n<pre><code>&lt;h3&gt;Bye&lt;/h3&gt;\n</code></pre>\n\n<p>Running main.py returns: </p>\n\n<pre><code>Hi\nBye\n</code></pre>\n\n<p>Even though this makes sense, my goal is to make it result in just <code>Bye</code> which should replace <code>Hi</code>. I tried other paths like returning both but none of them worked. Any ideas on how I can do this?</p>\n"}, {"tags": ["python", "influxdb", "influxdb-python"], "comments": [{"owner": {"reputation": 20666, "user_id": 449958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69172dc4e4cc3e4cdd234c40adf395fa?s=128&d=identicon&r=PG", "display_name": "Rawkode", "link": "https://stackoverflow.com/users/449958/rawkode"}, "edited": false, "score": 0, "creation_date": 1555599048, "post_id": 55736516, "comment_id": 98173988, "body": "Hi. This isn&#39;t really possible. The time of the <code>SELECT INTO</code> operation is usually not relevant, but the time, or window when aggregating, the data is. Can you elaborate on your use-case, so I can understand it more; please?"}, {"owner": {"reputation": 99, "user_id": 10688242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc9dbdd92dd383cdbe92f39cb59a884a?s=128&d=identicon&r=PG&f=1", "display_name": "crypticgamer", "link": "https://stackoverflow.com/users/10688242/crypticgamer"}, "reply_to_user": {"reputation": 20666, "user_id": 449958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69172dc4e4cc3e4cdd234c40adf395fa?s=128&d=identicon&r=PG", "display_name": "Rawkode", "link": "https://stackoverflow.com/users/449958/rawkode"}, "edited": false, "score": 0, "creation_date": 1555961102, "post_id": 55736516, "comment_id": 98268816, "body": "I am trying to copy data from one measurement1 (which has 3 columns [time, data1, data2]) into another measurement2 using the SELECT INTO feature of InfluxDB. But when I run this query, it copies time from measurement1 to measurement2, whereas I want measurement2 to have the current time. Is this somehow possible using the now() function?"}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 10688242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc9dbdd92dd383cdbe92f39cb59a884a?s=128&d=identicon&r=PG&f=1", "display_name": "crypticgamer", "link": "https://stackoverflow.com/users/10688242/crypticgamer"}, "is_accepted": true, "score": 0, "last_activity_date": 1556045814, "creation_date": 1556045814, "answer_id": 55817735, "question_id": 55736516, "link": "https://stackoverflow.com/questions/55736516/how-to-insert-current-time-while-copying-data-from-one-measurement-to-another/55817735#55817735", "title": "How to insert current time while copying data from one measurement to another?", "body": "<p>Writing data from a list to a measurement can be done in the following way:</p>\n\n<pre><code>current_data = client.query(\"SELECT statement\")\nlist_current_data = list(current_data.get_points())\n\nfor data_point in current_data.get_points():\n    data_to_write = [{'measurement': 'measurement_name',\n                    'fields': {'value1': data_point['value1'],\n                               'value2': data_point['value2']}\n                    }]\n    client.write_points(data_to_write)\n</code></pre>\n\n<p>This will append new data to the measurement, each time the script is executed.</p>\n"}], "owner": {"reputation": 99, "user_id": 10688242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc9dbdd92dd383cdbe92f39cb59a884a?s=128&d=identicon&r=PG&f=1", "display_name": "crypticgamer", "link": "https://stackoverflow.com/users/10688242/crypticgamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 55817735, "answer_count": 1, "score": 0, "last_activity_date": 1556045814, "creation_date": 1555538165, "last_edit_date": 1556034324, "question_id": 55736516, "link": "https://stackoverflow.com/questions/55736516/how-to-insert-current-time-while-copying-data-from-one-measurement-to-another", "title": "How to insert current time while copying data from one measurement to another?", "body": "<p>How to insert current time while copying data from one measurement to another. It copies all the data correctly along with the timestamp of the measurement that is being copied from.</p>\n\n<p>SELECT MIN(column) as value INTO db2.retention_policy2.measurement2 FROM db1.retention_policy1.measurement1 GROUP BY column1, column2</p>\n\n<p>I want the Time column in the new measurement(measurement2) to have the current time and not the time from db1.retention_policy1.measurement1. Is that possible? Thank you.</p>\n\n<p>There is one possible way of converting the query into a list:</p>\n\n<pre><code>list_current_data = list(current_data.get_points())\n</code></pre>\n\n<p>and then updating the time this way:</p>\n\n<pre><code>for item in list_current_data:\n    item['time'] = datetime.datetime.utcnow().strftime(\"%Y-%m-%dT%H:%M:%S.%f\")[:-4]+\"Z\"\n</code></pre>\n\n<p>Finally inserting data from the updated list into a measurement. Anyone knows how to insert data from a list to a measurement?</p>\n"}, {"tags": ["python", "python-3.x", "pyqt", "pyqt5", "qgraphicsview"], "comments": [{"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555540134, "post_id": 55736507, "comment_id": 98151538, "body": "you could explain me better, I do not understand what you want to do"}, {"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555540485, "post_id": 55736507, "comment_id": 98151607, "body": "@eyllanesc I would like to draw some custom icons and then place them in those X and Y locations. I&#39;m going to have around 20 different Icons in the end and I thought if I made each icon a class then the end user could choose which icon they would like to use. Also, I would like the icons to be able to scale and rotate and change colors. I hoope im explainging it well enough"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555540610, "post_id": 55736507, "comment_id": 98151643, "body": "but in your question I do not see the icons."}, {"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555540674, "post_id": 55736507, "comment_id": 98151661, "body": "The <code>ExamplePaintObject</code> class is what I was trying to use to make the icon"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555541190, "post_id": 55736507, "comment_id": 98151775, "body": "okay, but why such small coordinates: <code>0,0,0.0268,0.0268</code>?"}, {"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555541471, "post_id": 55736507, "comment_id": 98151861, "body": "@eyllanesc so those actually come from some icons that we have already made in AutoCAD and then scale based on the units of the drawing. I figured I could keep them all at the same size and then scale the same as the drawings."}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555541578, "post_id": 55736507, "comment_id": 98151898, "body": "Obviously, they can be scaled, but being a small number there is always more error. I&#39;m going to do a pre-scaling, do you think it&#39;s okay?"}, {"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "reply_to_user": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "edited": false, "score": 0, "creation_date": 1555541690, "post_id": 55736507, "comment_id": 98151931, "body": "That will be completely fine, it is more important to get the icons in there then to get the scale absolutely perfect."}], "answers": [{"comments": [{"owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "edited": false, "score": 0, "creation_date": 1555542313, "post_id": 55737050, "comment_id": 98152067, "body": "This is great! You got exactly what I was asking about. Thank you"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1555542755, "last_edit_date": 1555542755, "creation_date": 1555541973, "answer_id": 55737050, "question_id": 55736507, "link": "https://stackoverflow.com/questions/55736507/pyqt5-painter-group-object/55737050#55737050", "title": "PyQt5 Painter Group Object", "body": "<p>A possible solution is to use QPainterPath:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def create_path():\n    path = QPainterPath()\n    path.addEllipse(0, 0, 0.0268, 0.0268)\n    path.addEllipse(0, 0, 0.0357, 0.0357)\n    path.moveTo(0.0357, 0.0045)\n    path.lineTo(0.0357 + 0.0821, 0.0045)\n    path.moveTo(0.0357, -0.0045)\n    path.lineTo(0.0357 + 0.0821, -0.0045)\n    path.addRect(0.0357 + 0.0821, -0.0045, 0.1450, 0.1450)\n    tr = QTransform()\n    tr.scale(100, 100)\n    path = tr.map(path)\n    return path\n\n\nclass Point(QGraphicsPathItem):\n    def __init__(self, x, y, r, name):\n        super(Point, self).__init__()\n        self.setFlag(QGraphicsItem.ItemIsSelectable, True)\n        self.name = name\n        self.setPath(create_path())\n        self.setScale(10)\n        # ...\n</code></pre>\n\n<p>To observe better you must use setRenderHints (QPainter.Antialiasing) to the QGraphicView:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Viewer(QGraphicsView):\n    photoClicked = pyqtSignal(QPoint)\n    rectChanged = pyqtSignal(QRect)\n\n    def __init__(self, parent):\n        super(Viewer, self).__init__(parent)\n        self.rubberBand = QRubberBand(QRubberBand.Rectangle, self)\n        self.setMouseTracking(True)\n        self.origin = QPoint()\n        self.changeRubberBand = False\n        self.setRenderHints(QPainter.Antialiasing) # &lt;---\n        # ....\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rhGIO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rhGIO.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 638, "user_id": 7822225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d357e167b18b7e8234c4e6d0070a7ace?s=128&d=identicon&r=PG&f=1", "display_name": "laxer", "link": "https://stackoverflow.com/users/7822225/laxer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 55737050, "answer_count": 1, "score": 1, "last_activity_date": 1555542755, "creation_date": 1555538105, "question_id": 55736507, "link": "https://stackoverflow.com/questions/55736507/pyqt5-painter-group-object", "title": "PyQt5 Painter Group Object", "body": "<p>I was wondering if there was a way to paint a bunch of shaps as its own object so that when the user wants to scale, or change colors, or rotate all of the shapes will adjust accordingly?</p>\n\n<p>Then I would like that group of shapes to be placed on <code>QGraphicsView</code> at predetermined x,y coordinates with a specified rotation. Currently, I am getting a few errors that says <code>QPainter::scale: Painter not active</code> and <code>NotImplementedError: QGraphicsItem.paint() is abstract and must be overridden</code>.</p>\n\n<p>I am fairly new to graphics and painting in PyQt and not sure if this is the correct way of achieving what I would like. Any help is greatly appreciated</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>from PyQt5.QtCore import *\nfrom PyQt5.QtGui import *\nfrom PyQt5.QtWidgets import *\nimport sys\nfrom math import sqrt\n\nclass LogObject(QObject):\n    hovered = pyqtSignal()\n    notHovered = pyqtSignal()\n\nclass ExamplePaintObject(QPainter):\n    def __init__(self):\n        super(ExamplePaintObject,self).__init__()\n        self.color = QColor(0,0,0)\n\n    def paintEvent(self,event):\n        self.drawEllipse(0,0,0.0268,0.0268)\n        self.drawEllipse(0,0,0.0357,0.0357)\n        self.drawLine(0.0357,0.0045,0.0357+0.0821,0.0045)\n        self.drawLine(0.0357,-0.0045,0.0357+0.0821,-0.0045)\n        self.drawRect(0.0357+0.0821,-0.0045,0.1450,0.1450)\n\n\nclass Point(QGraphicsItem):\n\n    def __init__(self, x, y,r, name):\n\n        super(Point,self).__init__()\n        self.setFlag(QGraphicsItem.ItemIsSelectable, True)\n        self.name = name\n\n        self.ex= ExamplePaintObject()\n        self.ex.scale(40,40)\n\n        self.x = x\n        self.y = y\n        self.rotate = r\n        self.setRotation(self.rotate)\n        self.setAcceptHoverEvents(True)\n        self.log = LogObject()\n        self.setPos(x, y)\n        self.isSelected = False\n\n\n    def itemChange(self, change, value):\n        if change == self.ItemSelectedChange:\n            self.setBrush(QBrush(Qt.green) if value else QBrush(Qt.black))\n        return QGraphicsItem.itemChange(self, change, value)\n\n    def hoverEnterEvent(self, event):\n        self.setBrush(QColor(\"red\"))\n        self.log.hovered.emit()\n        QGraphicsItem.hoverMoveEvent(self, event)\n\n    def hoverLeaveEvent(self, event):\n        if self.isSelected == True:\n            self.setBrush(QBrush(Qt.green))\n        else:\n            self.setBrush(QColor(\"black\"))\n        self.log.notHovered.emit()\n        QGraphicsItem.hoverMoveEvent(self, event)\n\n    def mousePressEvent(self, event):\n        print(self.name)\n        QGraphicsItem.mousePressEvent(self, event)\n\n\nclass Viewer(QGraphicsView):\n    photoClicked = pyqtSignal(QPoint)\n    rectChanged = pyqtSignal(QRect)\n\n    def __init__(self, parent):\n        super(Viewer, self).__init__(parent)\n        self.rubberBand = QRubberBand(QRubberBand.Rectangle, self)\n        self.setMouseTracking(True)\n        self.origin = QPoint()\n        self.changeRubberBand = False\n\n        self._zoom = 0\n        self._empty = True\n        self.setScene(QGraphicsScene(self))\n\n        self.setTransformationAnchor(QGraphicsView.AnchorUnderMouse)\n        self.setResizeAnchor(QGraphicsView.AnchorUnderMouse)\n        self.setVerticalScrollBarPolicy(Qt.ScrollBarAlwaysOff)\n        self.setHorizontalScrollBarPolicy(Qt.ScrollBarAlwaysOff)\n        self.setFrameShape(QFrame.NoFrame)\n        self.area = float()\n        self.setPoints()\n        self.viewport().setCursor(Qt.ArrowCursor)\n        QTimer.singleShot(0, self.reset_fit)\n        self.selectedItems = []\n\n    def setItems(self):\n        self.data = {\n            \"x\": [\n                -2414943.8686,\n                -2417160.6592,\n                -2417160.6592,\n                -2417856.1783,\n                -2417054.7618,\n                -2416009.9966,\n                -2416012.5232,\n                -2418160.8952,\n                -2418160.8952,\n                -2416012.5232,\n                -2417094.7694,\n                -2417094.7694,\n            ],\n            \"y\": [\n                10454269.7008,\n                10454147.2672,\n                10454147.2672,\n                10453285.2456,\n                10452556.8132,\n                10453240.2808,\n                10455255.8752,\n                10455183.1912,\n                10455183.1912,\n                10455255.8752,\n                10456212.5959,\n                10456212.5959,\n            ],\n            \"rotation\":[\n            313.9962,\n            43.9962,\n            223.9962,\n            227.7070,\n            227.7070,\n            313.9962,\n            43.9962,\n            43.9962,\n            223.9962,\n            223.9962,\n            43.9962,\n            223.9962,\n            ]\n        }\n        maxX = max(self.data[\"x\"])\n        minX = min(self.data[\"x\"])\n        maxY = max(self.data[\"y\"])\n        minY = min(self.data[\"y\"])\n        distance = sqrt((maxX - minX) ** 2 + (maxY - minY) ** 2)\n\n        self.area = QRectF(minX, minY, distance, distance)\n        for i, (x, y,r) in enumerate(zip(self.data[\"x\"], self.data[\"y\"],self.data[\"rotation\"])):\n            p = Point(x, y,r, \"Point__\" + str(i))\n            p.log.hovered.connect(self.hoverChange)\n            p.log.notHovered.connect(self.notHoverChange)\n            self.scene().addItem(p)\n\n    def setPoints(self):\n        self.setItems()\n        self.setDragMode(self.ScrollHandDrag)\n\n    def wheelEvent(self, event):\n        if event.angleDelta().y() &gt; 0:\n            factor = 1.25\n            self._zoom += 1\n        else:\n            factor = 0.8\n            self._zoom -= 1\n        if self._zoom &gt; 0:\n            self.scale(factor, factor)\n        elif self._zoom == 0:\n            self.reset_fit()\n        else:\n            self._zoom = 0\n\n    def hoverChange(self):\n        self.viewport().setCursor(Qt.PointingHandCursor)\n\n    def notHoverChange(self):\n        self.viewport().setCursor(Qt.ArrowCursor)\n\n    def mousePressEvent(self, event):\n        if event.button() == Qt.LeftButton:\n            singleItem = self.itemAt(event.pos().x(), event.pos().y())\n            if singleItem != None:\n                if QApplication.keyboardModifiers() == Qt.ShiftModifier: # This will determine if the shift key is depressed\n                    if singleItem.isSelected == True:\n                        singleItem.setSelected(False)\n                        singleItem.isSelected = False\n                        self.selectedItems.remove(singleItem)\n                elif singleItem.isSelected == False:\n                    singleItem.setSelected(True)\n                    singleItem.isSelected = True\n                    self.selectedItems.append(singleItem)\n            else:\n                self.origin = event.pos()\n                self.rubberBand.setGeometry(QRect(self.origin, QSize()))\n                self.rectChanged.emit(self.rubberBand.geometry())\n                self.rubberBand.show()\n                self.changeRubberBand = True\n            return\n\n        elif event.button() == Qt.MidButton:\n            self.viewport().setCursor(Qt.ClosedHandCursor)\n            self.original_event = event\n            handmade_event = QMouseEvent(\n                QEvent.MouseButtonPress,\n                QPointF(event.pos()),\n                Qt.LeftButton,\n                event.buttons(),\n                Qt.KeyboardModifiers(),\n            )\n            QGraphicsView.mousePressEvent(self, handmade_event)\n\n        super(Viewer, self).mousePressEvent(event)\n\n    def mouseReleaseEvent(self, event):\n        point = event.pos()\n        # print(self.mapToScene(point))\n        if event.button() == Qt.LeftButton:\n            self.changeRubberBand = False\n            if self.rubberBand.isVisible():\n                self.rubberBand.hide()\n                rect = self.rubberBand.geometry()\n                rect_scene = self.mapToScene(rect).boundingRect()\n                selected = self.scene().items(rect_scene)\n                if selected:\n\n                    for selectedPoints in selected:\n                        if QApplication.keyboardModifiers() == Qt.ShiftModifier: # This will determine if the shift key is depressed\n                            if selectedPoints.isSelected == True:\n                                selectedPoints.setSelected(False)\n                                selectedPoints.isSelected = False\n                                self.selectedItems.remove(selectedPoints)\n                        elif selectedPoints.isSelected == False: # if the shif key is not depressed and its not selected, then select it\n                            selectedPoints.setSelected(True)\n                            selectedPoints.isSelected = True\n                            self.selectedItems.append(selectedPoints)\n                    print( \"\".join(\"Item: %s\\n\" % child.name for child in self.selectedItems))\n                else:\n                    print(\" Nothing\\n\")\n                    for selected in self.selectedItems:\n                        selected.setSelected(False)\n                        selected.isSelected = False\n                    self.selectedItems.clear()\n                    QGraphicsView.mouseReleaseEvent(self, event)\n\n        elif event.button() == Qt.MidButton:\n            self.viewport().setCursor(Qt.ArrowCursor)\n            handmade_event = QMouseEvent(\n                QEvent.MouseButtonRelease,\n                QPointF(event.pos()),\n                Qt.LeftButton,\n                event.buttons(),\n                Qt.KeyboardModifiers(),\n            )\n            QGraphicsView.mouseReleaseEvent(self, handmade_event)\n        # super(Viewer, self).mouseReleaseEvent(event)\n\n    def mouseMoveEvent(self, event):\n        if self.changeRubberBand:\n            self.rubberBand.setGeometry(\n                QRect(self.origin, event.pos()).normalized()\n            )\n            self.rectChanged.emit(self.rubberBand.geometry())\n            QGraphicsView.mouseMoveEvent(self, event)\n        super(Viewer, self).mouseMoveEvent(event)\n\n    def reset_fit(self):\n        r = self.scene().itemsBoundingRect()\n        self.resetTransform()\n        self.setSceneRect(r)\n        self.fitInView(r, Qt.KeepAspectRatio)\n        self._zoom = 0\n        self.scale(1, -1)\n\n\nclass Window(QWidget):\n    def __init__(self):\n        super(Window, self).__init__()\n        self.viewer = Viewer(self)\n        self.btnLoad = QToolButton(self)\n        self.btnLoad.setText(\"Fit Into View\")\n        self.btnLoad.clicked.connect(self.fitPoints)\n\n        VBlayout = QVBoxLayout(self)\n        VBlayout.addWidget(self.viewer)\n        HBlayout = QHBoxLayout()\n        HBlayout.setAlignment(Qt.AlignLeft)\n        HBlayout.addWidget(self.btnLoad)\n\n        VBlayout.addLayout(HBlayout)\n\n    def fitPoints(self):\n        self.viewer.reset_fit()\n\nif __name__ == '__main__':\n    import sys\n    app = QApplication(sys.argv)\n    window = Window()\n    window.setGeometry(500, 300, 800, 600)\n    window.show()\n    sys.exit(app.exec_())\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1555540251, "post_id": 55736462, "comment_id": 98151568, "body": "Please edit the &quot;23 from 80&quot; requirement into your question.  Also, please provide a slightly larger example to help clarify."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1555540319, "post_id": 55736462, "comment_id": 98151579, "body": "Do you need a <i>maximum</i> 2 of any number, or do you require <i>exactly</i> 2? The latter is harder, but may be faster."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1555540419, "post_id": 55736462, "comment_id": 98151598, "body": "By <i>&quot;I have tuples like this&quot;</i> do you mean like <code>list(it.combinations(range(n), 2))</code> for some number <code>n</code>? Or can the tuples be any numbers?"}, {"owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "edited": false, "score": 0, "creation_date": 1555540606, "post_id": 55736462, "comment_id": 98151642, "body": "No, in tuple list there are always not same pairs of numbers."}, {"owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1555540647, "post_id": 55736462, "comment_id": 98151653, "body": "@Prune Yes, exactly 2."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1555540979, "post_id": 55736462, "comment_id": 98151725, "body": "Are the numbers in the tuples always in ascending order?  Can you have individual clusters within a group? For isntance, given n=6, can we have <code>((0, 1), (0, 2), (1, 2), (5, 6), (5, 7), (6, 7))</code> two disjoint triangles?  When you&#39;ve edited your question with a complete problem statement and your coding attempt, I&#39;ll be happy to give it a shot."}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "edited": false, "score": 0, "creation_date": 1555538378, "post_id": 55736523, "comment_id": 98151118, "body": "Yes it is true, but I need to catch this problem not after generation of all possible combinations, but in process of generation combinations."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "reply_to_user": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "edited": false, "score": 0, "creation_date": 1555538656, "post_id": 55736523, "comment_id": 98151194, "body": "@M.Barabas Why? <code>it.combinations</code> is a generator and it doesn&#39;t really matter where you perform the check, before or after yielding. It probably won&#39;t hurt performance, especially since you don&#39;t need to rewrite the function."}, {"owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "edited": false, "score": 0, "creation_date": 1555539666, "post_id": 55736523, "comment_id": 98151427, "body": "Because this question was only example. In my real app I need generate 23-nties from list which contains 80 tuples. In this case it will take long time to generate all possible combinations."}], "tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1555538399, "last_edit_date": 1555538399, "creation_date": 1555538208, "answer_id": 55736523, "question_id": 55736462, "link": "https://stackoverflow.com/questions/55736462/python-combinations-of-list-elements-with-condition/55736523#55736523", "title": "Python combinations of list elements with condition", "body": "<p>You can use <a href=\"https://docs.python.org/3/library/itertools.html#itertools.combinations\" rel=\"nofollow noreferrer\"><code>itertools.combinations</code></a> and then filter the result using <a href=\"https://docs.python.org/3/library/collections.html#collections.Counter\" rel=\"nofollow noreferrer\"><code>collections.Counter</code></a>:</p>\n\n<pre><code>from collections import Counter\nimport itertools as it\n\npairs = [(0, 1), (0, 2), (0, 3), (1, 2), (1, 3), (2, 3)]\nresult = filter(\n    lambda x: max(Counter(it.chain(*x)).values()) &lt; 3,\n    it.combinations(pairs, 4)\n)\nprint(list(result))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[((0, 1), (0, 2), (1, 3), (2, 3)),\n ((0, 1), (0, 3), (1, 2), (2, 3)),\n ((0, 2), (0, 3), (1, 2), (1, 3))]\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9182302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5aac9b3dfc425081bacedf19130a8b9?s=128&d=identicon&r=PG&f=1", "display_name": "M. Barabas", "link": "https://stackoverflow.com/users/9182302/m-barabas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 134, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555540420, "creation_date": 1555537817, "last_edit_date": 1555540420, "question_id": 55736462, "link": "https://stackoverflow.com/questions/55736462/python-combinations-of-list-elements-with-condition", "title": "Python combinations of list elements with condition", "body": "<p>I find source code of <code>itertools.combinations()</code> function in python. It looks like this. </p>\n\n<pre><code>def combinations(iterable, r):\npool = tuple(iterable)\nn = len(pool)\nif r &gt; n:\n    return\nindices = list(range(r))\nprint(indices)\nyield tuple(pool[i] for i in indices)\nwhile True:\n    for i in reversed(range(r)):\n        if indices[i] != i + n - r:\n            break\n    else:\n        return\n    indices[i] += 1\n    for j in range(i+1, r):\n        indices[j] = indices[j-1] + 1\n    print(indices)\n    yield tuple(pool[i] for i in indices)\n</code></pre>\n\n<p>I have tuples like this:</p>\n\n<pre><code>pairs = [(0, 1), (0, 2), (0, 3), (1, 2), (1, 3), (2, 3)]\n</code></pre>\n\n<p>I need to generate foursomes of all possible combinations, but with condition, that there will be always only two same numbers in list. So in this case this 3 list I want to generate:</p>\n\n<pre><code>((0, 1), (0, 2), (1, 3), (2, 3))\n((0, 1), (0, 3), (1, 2), (2, 3))\n((0, 2), (0, 3), (1, 2), (1, 3))\n</code></pre>\n\n<p>What I realy need is to update code of generation combinations, because in my real app I need to generate 23-nties from 80 tuples. Generation and filtering after it would take a lot of time, thats why I need to catch problem in part of generation.</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1555541309, "post_id": 55736524, "comment_id": 98151818, "body": "Thank you! For some reason I get an error. My guess is because I don&#39;t understand what <code>content</code>  should be. should it be <code>content = requests.get(link)</code> or <code>content = soup(f.text, &#39;html.parser&#39;).findAll(&quot;td&quot;,{&quot;class&quot;: &quot;g-res-tab-cell&quot;})</code>? (both of them fail). The html I showed is not the full HTML I&#39;m parsing"}, {"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1555541538, "post_id": 55736524, "comment_id": 98151883, "body": "@vesii Yes, <code>content</code> is the result of <code>requests.get(link).text</code>. If possible, can you post the link to the site you are scraping? Thank you."}, {"owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "edited": false, "score": 0, "creation_date": 1555542166, "post_id": 55736524, "comment_id": 98152040, "body": "I switched to the SO chat (hope you are available to answer there)"}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542895, "last_edit_date": 1555542895, "creation_date": 1555538228, "answer_id": 55736524, "question_id": 55736460, "link": "https://stackoverflow.com/questions/55736460/parsing-nested-tags-with-beautifulsoup-and-requests/55736524#55736524", "title": "Parsing nested tags with BeautifulSoup and requests", "body": "<p>You can iterate over each <code>td</code> with class <code>g-res-tab-cell</code> using <code>soup.find_all</code>:</p>\n\n<pre><code>from bs4 import BeautifulSoup as soup\nd = soup(content, 'html.parser').td.find_all('td', {'class':'g-res-tab-cell'})\nresults = [[i.find('div', {'class':'subtext_view_med'}).a.text, i.find('div', {'class':'smtext'}).contents[1].text, i.find('div', {'itemprop':'description'}).text] for i in d]\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[['NAME1', 'In English:', 'DESCRIPTION1'], ['NAME2', 'In English:', 'DESCRIPTION2']]\n</code></pre>\n\n<p>Edit: from link:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup as soup\nd = soup(requests.get('https://www.sratim.co.il/browsenewmovies.php?page=1').text, 'html.parser')\nmovies = d.find_all('div', {'itemtype':'http://schema.org/Movie'})\nresult = [[getattr(i.find('a', {'itemprop':'url'}), 'text', 'N/A'), getattr(i.find('div', {'class':'smtext'}), 'text', 'N/A'), getattr(i.find('div', {'itemprop':'description'}), 'text', 'N/A')] for i in movies]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": false, "score": 0, "last_activity_date": 1555568411, "last_edit_date": 1555568411, "creation_date": 1555567962, "answer_id": 55740034, "question_id": 55736460, "link": "https://stackoverflow.com/questions/55736460/parsing-nested-tags-with-beautifulsoup-and-requests/55740034#55740034", "title": "Parsing nested tags with BeautifulSoup and requests", "body": "<p>Here is another way. As that information is present for all films you should have a fully populated result set.</p>\n\n<pre><code>from bs4 import BeautifulSoup as bs\nimport requests\nimport pandas as pd\nr = requests.get('https://www.sratim.co.il/browsenewmovies.php?page=1')\nsoup = bs(r.content, 'lxml')\nnames = [item.text for item in soup.select('[itemprop=url]')]  #32\nenglish_names = [item.next_sibling for item in soup.select('.smtext:contains(\"In English: \") span')]\ndescriptions = [item.text for item in soup.select('[itemprop=description]')]\nresults = list(zip(names, english_names, descriptions))\ndf = pd.DataFrame(results, columns = ['Name', 'English_Name', 'Description'])\nprint(df)\n</code></pre>\n"}], "owner": {"reputation": 1811, "user_id": 9808098, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d9c44d685cabf03d0555543896b4ba1?s=128&d=identicon&r=PG&f=1", "display_name": "vesii", "link": "https://stackoverflow.com/users/9808098/vesii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555568469, "creation_date": 1555537789, "last_edit_date": 1555568469, "question_id": 55736460, "link": "https://stackoverflow.com/questions/55736460/parsing-nested-tags-with-beautifulsoup-and-requests", "title": "Parsing nested tags with BeautifulSoup and requests", "body": "<p>I'm new to <code>BeautifulSoup</code>. I was trying to parse an HTML web page with <code>requests</code>. Code I wrote for now is:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nlink = \"SOME_URL\"\nf = requests.get(link)\nsoup = BeautifulSoup(f.text, 'html.parser')\nfor el in (soup.findAll(\"td\",{\"class\": \"g-res-tab-cell\"})):\n    print(el)\n    exit\n</code></pre>\n\n<p>The output is as follows:</p>\n\n<pre><code>&lt;td class=\"g-res-tab-cell\"&gt;\n    &lt;div style=\"padding:8px;\"&gt;\n        &lt;div style=\"padding-top:8px;\"&gt;\n            &lt;table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%;\"&gt;\n                &lt;tr&gt;\n                    &lt;td valign=\"top\"&gt;\n                        &lt;div itemscope itemtype=\"URL\"&gt;\n                            &lt;table cellspacing=\"0\" cellpadding=\"0\" style=\"width:100%;\"&gt;\n                                &lt;tr&gt;\n                                    &lt;td valign=\"top\" class=\"g-res-tab-cell\" style=\"width:100%;\"&gt;\n                                        &lt;div style=\"width:100%;padding-left:4px;\"&gt;\n                                            &lt;div class=\"subtext_view_med\" itemprop=\"name\"&gt;\n                                                &lt;a href=\"NAME1-URL\" itemprop=\"url\"&gt;NAME1&lt;/a&gt;\n                                            &lt;/div&gt;\n                                            &lt;div style=\"direction:ltr;padding-left:5px;margin-bottom:2px;\" class=\"smtext\"&gt;\n                                                &lt;span class=\"Gray\"&gt;In English:&lt;/span&gt; ENGLISH_NAME1\n                                            &lt;/div&gt;\n                                            &lt;div style=\"padding-bottom:2px;padding-top:8px;font-size:14px;text-align:justify;min-height:158px;\" itemprop=\"description\"&gt;DESCRIPTION1&lt;/div&gt;\n                                        &lt;/div&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%;\"&gt;\n                &lt;tr&gt;\n                    &lt;td valign=\"top\"&gt;\n                        &lt;div itemscope itemtype=\"URL\"&gt;\n                            &lt;table cellspacing=\"0\" cellpadding=\"0\" style=\"width:100%;\"&gt;\n                                &lt;tr&gt;\n                                    &lt;td valign=\"top\" class=\"g-res-tab-cell\" style=\"width:100%;\"&gt;\n                                        &lt;div style=\"width:100%;padding-left:4px;\"&gt;\n                                            &lt;div class=\"subtext_view_med\" itemprop=\"name\"&gt;\n                                                &lt;a href=\"NAME2-URL\" itemprop=\"url\"&gt;NAME2&lt;/a&gt;\n                                            &lt;/div&gt;\n                                            &lt;div style=\"direction:ltr;padding-left:5px;margin-bottom:2px;\" class=\"smtext\"&gt;\n                                                &lt;span class=\"Gray\"&gt;In English:&lt;/span&gt; ENGLISH_NAME2\n                                            &lt;/div&gt;\n                                        &lt;/div&gt;\n                                        &lt;div style=\"padding-bottom:2px;padding-top:8px;font-size:14px;text-align:justify;min-height:158px;\" itemprop=\"description\"&gt;DESCRIPTION2&lt;/div&gt;\n                                    &lt;/td&gt;\n                                &lt;/tr&gt;\n                            &lt;/table&gt;\n                        &lt;/div&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>Now I got stuck. I'm trying to parse the <code>NAME</code>, <code>DESCRIPTION</code> and <code>ENGLISH_NAME</code> for each block. I would like to print each one of them so the output will be:</p>\n\n<pre><code>name = NAME1\nen_name = ENGLISH_NAME1\ndescription = DESCRIPTION1\nname = NAME2\nen_name = ENGLISH_NAME2\ndescription = DESCRIPTION2\n</code></pre>\n\n<p>I tried to read the docs but I could not find how to treat nested attributes especially without a <code>class</code> or <code>id</code> name. As I understand, each block starts with <code>&lt;table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" style=\"width:100%;\"&gt;</code>. In each block I should find tag <code>a</code> that has <code>itemprop=\"url\"</code> and get the <code>NAME</code>. Then in <code>&lt;span class=\"Gray\"&gt;In English:&lt;/span&gt;</code> get the <code>en_name</code> and in <code>itemprop=\"description\"</code> get the <code>description</code>. But I feels like <code>BeautifulSoup</code> can't do it (or at least very hard to achieve it). How to solve it?</p>\n"}, {"tags": ["python", "for-loop", "if-statement", "conditional-statements"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1555538609, "post_id": 55736425, "comment_id": 98151177, "body": "I suggest doing this with a for loop instead of a list comprehension."}], "answers": [{"comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 1, "creation_date": 1555539336, "post_id": 55736629, "comment_id": 98151357, "body": "Is there a reason that you use <code>|</code> and <code>&amp;</code> instead of <code>or</code> and <code>and</code>?"}, {"owner": {"reputation": 277, "user_id": 9932521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e72c8b932c8952d019a93405292fe19?s=128&d=identicon&r=PG&f=1", "display_name": "Hey There", "link": "https://stackoverflow.com/users/9932521/hey-there"}, "edited": false, "score": 0, "creation_date": 1555540333, "post_id": 55736629, "comment_id": 98151581, "body": "Can you explain the first line where you defined the &quot;sign&quot;? thanks"}, {"owner": {"reputation": 249, "user_id": 7857555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e40162d2884a714e91b8a7a590d05d?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal Janik", "link": "https://stackoverflow.com/users/7857555/rafal-janik"}, "reply_to_user": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1555550817, "post_id": 55736629, "comment_id": 98153564, "body": "@Code-Apprentice I should have used or/and I used the bitwise operators because I was lazy. I also usually work with numpy arrays for most of the stuff I do. You can read up on logical vs. bitwise operators I definitely don&#39;t know all the details."}, {"owner": {"reputation": 249, "user_id": 7857555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e40162d2884a714e91b8a7a590d05d?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal Janik", "link": "https://stackoverflow.com/users/7857555/rafal-janik"}, "reply_to_user": {"reputation": 277, "user_id": 9932521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e72c8b932c8952d019a93405292fe19?s=128&d=identicon&r=PG&f=1", "display_name": "Hey There", "link": "https://stackoverflow.com/users/9932521/hey-there"}, "edited": false, "score": 1, "creation_date": 1555551148, "post_id": 55736629, "comment_id": 98153618, "body": "@AmirRezaJalali The sign function is defined using a lambda function, it&#39;s just a way to define a function on one line. The <code>(1,-1)[x&lt;0]</code> is a <a href=\"http://book.pythontips.com/en/latest/ternary_operators.html\" rel=\"nofollow noreferrer\">blueprint</a> it will return -1 when <code>x&lt;0</code> and 1 when <code>x&gt;0</code>. If <code>x=0</code> the whole thing will evaluate to 0. Hope that helps."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1555602411, "post_id": 55736629, "comment_id": 98175939, "body": "@RafalJanik I know the different between logical and bitwise operators which is why I asked why you are using bitwise operators when logical operators seem more appropriate here."}], "tags": [], "owner": {"reputation": 249, "user_id": 7857555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85e40162d2884a714e91b8a7a590d05d?s=128&d=identicon&r=PG&f=1", "display_name": "Rafal Janik", "link": "https://stackoverflow.com/users/7857555/rafal-janik"}, "is_accepted": true, "score": 0, "last_activity_date": 1555538956, "creation_date": 1555538956, "answer_id": 55736629, "question_id": 55736425, "link": "https://stackoverflow.com/questions/55736425/how-can-i-check-several-conditions-on-a-list-containing-several-sublist/55736629#55736629", "title": "How can I check several conditions on a list containing several sublist?", "body": "<p>This works but 6 is not a valid case. Both imaginary parts have the same sign.</p>\n\n<pre><code>sign = lambda x: x and (1, -1)[x &lt; 0]\nviolates = [(i,a) for i, a in enumerate(mylist) if (((a[0].real &gt; 0) | (a[1].real &gt; 0)) &amp; ((sign(a[0].imag) + sign(a[1].imag))==0))]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "is_accepted": false, "score": 1, "last_activity_date": 1555538958, "creation_date": 1555538958, "answer_id": 55736631, "question_id": 55736425, "link": "https://stackoverflow.com/questions/55736425/how-can-i-check-several-conditions-on-a-list-containing-several-sublist/55736631#55736631", "title": "How can I check several conditions on a list containing several sublist?", "body": "<p>Step back away from your code and attempt to describe the steps in more detail in words. For example, from what I understand in your question, you can start like this:</p>\n\n<ul>\n<li>For each pair of numbers (x, y) in the list\n\n<ul>\n<li>If the real part of y is positive then ...</li>\n<li>Let xi be the imaginary part of x and yi be the imaginary part of y</li>\n<li>If the sign of xi and yi are different then ...</li>\n</ul></li>\n</ul>\n\n<p>Notice how I have translated your description that you wrote as a paragraph and formatted it to look more like code. At the same time, I'm not overly worried about python syntax. I'm still using words, but trying to transform those words to be similar to the way I would write code in python. You need to finish fleshing out the details, especially where I have put \"...\". Then you will need to look at some documentation to figure out how to get the real and imaginary parts of a complex number and how to get the sign of a number.</p>\n"}], "owner": {"reputation": 277, "user_id": 9932521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e72c8b932c8952d019a93405292fe19?s=128&d=identicon&r=PG&f=1", "display_name": "Hey There", "link": "https://stackoverflow.com/users/9932521/hey-there"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 55736629, "answer_count": 2, "score": 1, "last_activity_date": 1555538958, "creation_date": 1555537607, "question_id": 55736425, "link": "https://stackoverflow.com/questions/55736425/how-can-i-check-several-conditions-on-a-list-containing-several-sublist", "title": "How can I check several conditions on a list containing several sublist?", "body": "<p>I have a list like below:</p>\n\n<pre><code>mylist = [((-1), (2)) ,((-3-4j), (5-6j)), ((-3+4j), (5+6j)), ((-7-8j), (-9-10j)), ((-7+8j), (-9+10j)), ((-11-12j), (13+14j)), ((-11+12j), (13+14j))]\n</code></pre>\n\n<p>I want to check two conditions on this list. \nFor example, for the second element, ((-3-4j), (5-6j)), I want to check if the real part of 5-6j is positive and the sign of imaginary parts of (-3-4j) and (5-6j) is different then I want to know the number of that element in my list.\nThe first element consists of two real numbers, and since 2 is positive, the first element meets the condition.\nAs you can see, only the first element and the last two elements meet the conditions. </p>\n\n<p>I have written a code based on things that I found but it only checks the real part of the second number of each element.</p>\n\n<pre><code>\nviolates = [i for i, a in enumerate(mylist) if any([aa.real &gt; 0 for aa in a])]\nprint (\"violates=\", violates)\n</code></pre>\n\n<p>The output, based on the conditions must be 0, 5 and 6.\nThanks for any help.</p>\n"}, {"tags": ["python", "neural-network", "gekko"], "answers": [{"tags": [], "owner": {"reputation": 5870, "user_id": 2366941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DyN2Q.jpg?s=128&g=1", "display_name": "John Hedengren", "link": "https://stackoverflow.com/users/2366941/john-hedengren"}, "is_accepted": true, "score": 2, "last_activity_date": 1555965039, "creation_date": 1555965039, "answer_id": 55800728, "question_id": 55736423, "link": "https://stackoverflow.com/questions/55736423/bias-nodes-in-the-gekko-ann-example/55800728#55800728", "title": "Bias nodes in the GEKKO ANN example", "body": "<p>Here are some reasons why you may consider adding bias nodes:</p>\n\n<ul>\n<li>A bias is like an intercept term in linear regression and are useful to adjust the inputs or internal nodes to achieve a better fit.</li>\n<li>Bias terms are extra parameters that the solver can use to minimize the loss function (objective function).</li>\n</ul>\n\n<p>Some of the reasons that you may not want to add bias nodes:</p>\n\n<ul>\n<li>They create additional parameters that can create additional extrapolation problems due to over-parameterization and over-fitting</li>\n<li>A bias can shift the inputs or internal nodes up or down to the point that there are vanishing gradients as the solver iterates. This leads to parts of the model that may no longer contribute to differentiating the predictions.</li>\n<li>Deep learning networks may be able to compensate for the lack of bias terms by adjusting the average output.</li>\n</ul>\n\n<p>It can also help to scale the inputs and outputs to between 0 and 1, especially if zero for the input would then equate to zero for the output. With this transformation, you've scaled the variables so that the bias term is zero and you are trying to model the change from zero with activation functions. This method is used in dynamic modeling where you transform equations into \"deviation variable\" form where the nominal or steady state values are set to zero. The equations track a deviation from that nominal zero starting point. </p>\n\n<p>Here are a few additional suggestions on this topic with <a href=\"https://stats.stackexchange.com/questions/185911/why-are-bias-nodes-used-in-neural-networks\">discussion 1</a> and <a href=\"https://stats.stackexchange.com/questions/153933/importance-of-the-bias-node-in-neural-networks\">discussion 2</a>.</p>\n\n<p>You can add bias terms to your Gekko model such as shown in <a href=\"https://apmonitor.com/wiki/index.php/Main/GekkoPythonOptimization\" rel=\"nofollow noreferrer\">example 7 of the 18 Gekko tutorials</a>. The bias term is w2b. Similarly, you could add it for the problem you mentioned as well, although you may only want to try it for the first (input) layer as w1a and w1b.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for m in model:\n    # use APOPT solver\n    m.options.SOLVER = 1\n\n    # input(s)\n    m.inpt = [m.Param() for i in range(nin)]\n\n    # layer 1 (linear)\n    m.w1a = m.Array(m.FV, (nout,nin,n1))\n    m.w1b = m.Array(m.FV, (nout,nin,n1))\n    m.l1 = [[m.Intermediate(sum([m.w1a[k,j,i]*m.inpt[j] + m.w1b[k,j,i] \\\n            for j in range(nin)])) for i in range(n1)] \\\n            for k in range(nout)]\n\n    # layer 2 (tanh)\n    m.w2a = m.Array(m.FV, (nout,n1,n2))\n    m.w2b = m.Array(m.FV, (nout,n1,n2))\n    m.l2 = [[m.Intermediate(sum([m.tanh(m.w2a[k,j,i]*m.l1[k][j]) + m.w2b[k,j,i] \\\n            for j in range(n1)])) for i in range(n2)] \\\n            for k in range(nout)]\n\n    # layer 3 (linear)\n    m.w3a = m.Array(m.FV, (nout,n2,n3))\n    m.w3b = m.Array(m.FV, (nout,n2,n3))\n    m.l3 = [[m.Intermediate(sum([m.w3a[k,j,i]*m.l2[k][j] + m.w3b[k,j,i] \\\n            for j in range(n2)])) for i in range(n3)] \\\n            for k in range(nout)]\n\n    # outputs\n    m.outpt = [m.CV() for i in range(nout)]\n    m.Equations([m.outpt[k]==sum([m.l3[k][i] for i in range(n3)]) \\\n                 for k in range(nout)])\n\n    # flatten matrices\n    m.w1a = m.w1.flatten()\n    m.w2a = m.w2.flatten()\n    m.w3a = m.w3.flatten()\n    m.w1b = m.w1.flatten()\n    m.w2b = m.w2.flatten()\n    m.w3b = m.w3.flatten()\n</code></pre>\n"}], "owner": {"reputation": 912, "user_id": 11341994, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B38pj.jpg?s=128&g=1", "display_name": "Junho Park", "link": "https://stackoverflow.com/users/11341994/junho-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 55800728, "answer_count": 1, "score": 2, "last_activity_date": 1555965039, "creation_date": 1555537602, "question_id": 55736423, "link": "https://stackoverflow.com/questions/55736423/bias-nodes-in-the-gekko-ann-example", "title": "Bias nodes in the GEKKO ANN example", "body": "<p>In the ANN example of TCLab B of the Dynamic optimization course webpage (<a href=\"https://apmonitor.com/do/index.php/Main/TCLabB\" rel=\"nofollow noreferrer\">https://apmonitor.com/do/index.php/Main/TCLabB</a>), has the bias node for every layer been specified in the script? Please let me know which lines represent the bias nodes. If it is not necessary, please explain the reason. Thank you.   </p>\n\n<pre><code># -------------------------------------\n# build neural network\n# -------------------------------------\n\nnin = 2  # inputs\nn1 = 2   # hidden layer 1 (linear)\nn2 = 2   # hidden layer 2 (nonlinear)\nn3 = 2   # hidden layer 3 (linear)\nnout = 2 # outputs\n\n# Initialize gekko models\ntrain = GEKKO() \ndyn   = GEKKO()\nmodel = [train,dyn]\n\nfor m in model:\n    # use APOPT solver\n    m.options.SOLVER = 1\n\n    # input(s)\n    m.inpt = [m.Param() for i in range(nin)]\n\n    # layer 1 (linear)\n    m.w1 = m.Array(m.FV, (nout,nin,n1))\n    m.l1 = [[m.Intermediate(sum([m.w1[k,j,i]*m.inpt[j] \\\n            for j in range(nin)])) for i in range(n1)] \\\n            for k in range(nout)]\n\n    # layer 2 (tanh)\n    m.w2 = m.Array(m.FV, (nout,n1,n2))\n    m.l2 = [[m.Intermediate(sum([m.tanh(m.w2[k,j,i]*m.l1[k][j]) \\\n            for j in range(n1)])) for i in range(n2)] \\\n            for k in range(nout)]\n\n    # layer 3 (linear)\n    m.w3 = m.Array(m.FV, (nout,n2,n3))\n    m.l3 = [[m.Intermediate(sum([m.w3[k,j,i]*m.l2[k][j] \\\n            for j in range(n2)])) for i in range(n3)] \\\n            for k in range(nout)]\n\n    # outputs\n    m.outpt = [m.CV() for i in range(nout)]\n    m.Equations([m.outpt[k]==sum([m.l3[k][i] for i in range(n3)]) \\\n                 for k in range(nout)])\n\n    # flatten matrices\n    m.w1 = m.w1.flatten()\n    m.w2 = m.w2.flatten()\n    m.w3 = m.w3.flatten()\n</code></pre>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1555544117, "post_id": 55736417, "comment_id": 98152422, "body": "Let&#39;s count dimensions.  <code>A</code> has 5.  <code>B</code> has 3.  The result is supposed to have 6.  You need to add dimensions to both <code>A</code> and <code>B</code>.  Also the arrays have to the same shape on all dimensions except the one you are joining them on.  Which dimension are you intending to join them on?  Maybe you should practice concatenating some smaller cases first, like the examples in the function documentation."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1555544692, "post_id": 55736417, "comment_id": 98152506, "body": "One array has 245760000 elements, the other 240000, and you propose to create an array that is 4x the size of A, 983040000.  That doesn&#39;t make sense, does it?  Are you going to replicate <code>A</code> 4 times?  How many times are you replicating <code>B</code>?"}], "owner": {"reputation": 665, "user_id": 4390410, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/3426d46f71bc84bd574c1b25d17d9276?s=128&d=identicon&r=PG&f=1", "display_name": "Ajay H", "link": "https://stackoverflow.com/users/4390410/ajay-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555537582, "creation_date": 1555537582, "question_id": 55736417, "link": "https://stackoverflow.com/questions/55736417/how-to-concatenate-2-numpy-arrays-of-shape-a-b-c-d-and-a-e", "title": "How to concatenate 2 numpy arrays of shape (A,B,C,D) and (A,E)?", "body": "<p>I have a numpy array A of shape (2000, 30, 64, 64, 1). Another numpy array B has a shape (2000, 30, 4). I need to concatenate both of these arrays, constructing another numpy array of shape (2000, 30, 64, 64, 1, 4).</p>\n\n<p>I have tried the basic concatenation commands like:</p>\n\n<ul>\n<li>np.stack</li>\n<li>np.concatenate</li>\n<li>np.vstack</li>\n<li>np.column_stack</li>\n</ul>\n\n<p>However, all of them lead to the same exception being thrown:</p>\n\n<pre><code>A.shape # (2000, 30, 64, 64, 1)\nB.shape # (2000, 30, 4)\n\n----&gt; 1 np.concatenate([A, B])\n\nValueError: all the input arrays must have same number of dimensions\n</code></pre>\n\n<p>None of the stack overflow solutions seem to work for this. Thoughts?</p>\n"}, {"tags": ["python", "python-3.x", "function"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1555539056, "post_id": 55736404, "comment_id": 98151304, "body": "If there are no arguments, <code>args == ()</code>, not <code>None</code>. You could see this by simply adding <code>print(args)</code> as the first line of the function."}], "answers": [{"tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": true, "score": 2, "last_activity_date": 1555537672, "creation_date": 1555537672, "answer_id": 55736439, "question_id": 55736404, "link": "https://stackoverflow.com/questions/55736404/if-i-have-a-function-def-funcargs-how-can-i-return-0/55736439#55736439", "title": "If i have a function &quot;def func(*args):&quot; how can i return 0", "body": "<p><code>args</code> will be an empty tuple if no arguments were passed. That can be used to return <code>0</code> in that case.</p>\n\n<pre><code>def x(*args):\n    return max(args) - min(args) if args else 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "is_accepted": false, "score": 1, "last_activity_date": 1555538766, "creation_date": 1555538766, "answer_id": 55736604, "question_id": 55736404, "link": "https://stackoverflow.com/questions/55736404/if-i-have-a-function-def-funcargs-how-can-i-return-0/55736604#55736604", "title": "If i have a function &quot;def func(*args):&quot; how can i return 0", "body": "<p>If no arguments are passed, then <code>args</code> will be empty</p>\n\n<p>Just define a function as such:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def arg_range(*args):\n    if args: return max(args) - min(args)\n    else: return 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7055, "user_id": 10987432, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wt3JW.png?s=128&g=1", "display_name": "Paul M.", "link": "https://stackoverflow.com/users/10987432/paul-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1555543381, "creation_date": 1555543381, "answer_id": 55737251, "question_id": 55736404, "link": "https://stackoverflow.com/questions/55736404/if-i-have-a-function-def-funcargs-how-can-i-return-0/55737251#55737251", "title": "If i have a function &quot;def func(*args):&quot; how can i return 0", "body": "<pre><code>def x(*args):\n    return len(args) and max(args) - min(args)\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11069497, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D-_kh_7l0mI/AAAAAAAAAAI/AAAAAAAAAm0/VY5sUuazvhg/photo.jpg?sz=128", "display_name": "Brett Plemons", "link": "https://stackoverflow.com/users/11069497/brett-plemons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 55736439, "answer_count": 3, "score": -1, "last_activity_date": 1555543381, "creation_date": 1555537474, "last_edit_date": 1555538402, "question_id": 55736404, "link": "https://stackoverflow.com/questions/55736404/if-i-have-a-function-def-funcargs-how-can-i-return-0", "title": "If i have a function &quot;def func(*args):&quot; how can i return 0", "body": "<p>I want to create a function that can receive some arguments, any number of them and return either the difference between the biggest number and the smallest number, but if there is nothing passed it returns 0.</p>\n\n<p>This is what I have.</p>\n\n<pre><code>def x(*args):\n    return max(*args) - min(*args)\n</code></pre>\n\n<p>I know that this doesnt include the returning 0 bit but I have tried a few different things that havent worked thus far. </p>\n\n<p>Attempt 1:</p>\n\n<pre><code>def x(*args):\n    if args == None:\n         return 0\n    else:\n        return max(*args) - min(*args)\n</code></pre>\n\n<p>this doesn't work as I assume that not passing anything to <code>*args</code> doesnt pass <code>None</code>.</p>\n\n<p>I also tried </p>\n\n<pre><code>def x(*args):\n    if *args:\n        return max(*args) - min(*args)\n    else:\n        return 0\n</code></pre>\n\n<p>that didnt work either.</p>\n\n<p>I am super confused and am not sure what to do.</p>\n\n<p>The function needs to be able to take any number of arguments in the form of integers and floats. The practice examples I have received are:</p>\n\n<pre><code>x(1,2,3,4,6) == 5\nx(2,2,6,4,9,8,7,5,9) == 7\nx() == 0\n</code></pre>\n"}, {"tags": ["python", "json", "regex", "string"], "comments": [{"owner": {"reputation": 5380, "user_id": 10618540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Od4aq.jpg?s=128&g=1", "display_name": "Paritosh Singh", "link": "https://stackoverflow.com/users/10618540/paritosh-singh"}, "edited": false, "score": 0, "creation_date": 1555537245, "post_id": 55736348, "comment_id": 98150792, "body": "create new dicts with the values as lists, using your old jsons. save back to json format. done."}, {"owner": {"reputation": 37822, "user_id": 1231450, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b9c98b4ce12bf9fd925d8c35c8861bb2?s=128&d=identicon&r=PG", "display_name": "Jan", "link": "https://stackoverflow.com/users/1231450/jan"}, "edited": false, "score": 1, "creation_date": 1555538231, "post_id": 55736348, "comment_id": 98151090, "body": "Why would you need to do this in the first place?"}], "answers": [{"comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555537979, "post_id": 55736416, "comment_id": 98151011, "body": "You could, but why would you? Why expose yourself to the risk of a quote inside one of those values blowing everything up when there&#39;s an actual parser right in the standard library?"}, {"owner": {"reputation": 11591, "user_id": 1097347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/efffb39e9e98d002a5b9afe2fde7e50d?s=128&d=identicon&r=PG", "display_name": "Uri Goren", "link": "https://stackoverflow.com/users/1097347/uri-goren"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555538300, "post_id": 55736416, "comment_id": 98151104, "body": "A quote inside the string would not be parsed (see <code>[^&quot;]</code>). The question was tagged with the <code>regex</code> tag, thus I am suggesting a regex solution. Obviously you can use a context-free-grammar, like the native <code>json</code> library does, but why ? this question could be answered with a finite-state-transducer."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555538403, "post_id": 55736416, "comment_id": 98151126, "body": "Yes, and that&#39;s the <i>problem</i>. A line <code>&quot;foo&quot;: &quot;\\&quot;bar\\&quot;&quot;,</code> becomes <code>&quot;foo&quot;: [&quot;\\&quot;]bar\\&quot;&quot;,</code>, which is no longer valid JSON. The OP almost by definition doesn&#39;t know what they&#39;re doing, just because they&#39;ve tagged it regex doesn&#39;t mean that&#39;s an appropriate tool; they&#39;re relying on the answerers to be able to tell them that."}, {"owner": {"reputation": 11591, "user_id": 1097347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/efffb39e9e98d002a5b9afe2fde7e50d?s=128&d=identicon&r=PG", "display_name": "Uri Goren", "link": "https://stackoverflow.com/users/1097347/uri-goren"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1555538670, "post_id": 55736416, "comment_id": 98151199, "body": "You&#39;re right, an escaped quote could be an issue, also could be solved with a regex."}], "tags": [], "owner": {"reputation": 11591, "user_id": 1097347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/efffb39e9e98d002a5b9afe2fde7e50d?s=128&d=identicon&r=PG", "display_name": "Uri Goren", "link": "https://stackoverflow.com/users/1097347/uri-goren"}, "is_accepted": true, "score": 1, "last_activity_date": 1555537575, "creation_date": 1555537575, "answer_id": 55736416, "question_id": 55736348, "link": "https://stackoverflow.com/questions/55736348/is-there-a-way-to-replace-values-in-json-from-strings-to-list-of-strings/55736416#55736416", "title": "Is there a way to replace values in json from strings to list of strings", "body": "<p>You can do it with a simple regex</p>\n\n<pre><code>j=\"\"\"\n{\n    \"ZipCodeType\": \"STANDARD\", \n    \"City\": \"AIBONITO\", \n    \"Name\" : [\n      {\n        \"EstimatedPopulation\": \"abc\" \n        \"LocationType\": \"PRIMARY\", \n        \"Zipcode\": \"00705\"\n      }\n    ] \n}\n\"\"\"\nimport re\nresult = re.sub(r':\\s*(\"[^\"]*\")',r': [\\1]', j)\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 11223433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Igkz.png?s=128&g=1", "display_name": "krishna reddy", "link": "https://stackoverflow.com/users/11223433/krishna-reddy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 55736416, "answer_count": 1, "score": -1, "last_activity_date": 1555537575, "creation_date": 1555537136, "question_id": 55736348, "link": "https://stackoverflow.com/questions/55736348/is-there-a-way-to-replace-values-in-json-from-strings-to-list-of-strings", "title": "Is there a way to replace values in json from strings to list of strings", "body": "<p>I am trying to transform all values in json as list of strings in json. \nEven the nested dictionaries values should have their values in as list</p>\n\n<p>From :</p>\n\n<pre><code>    {\n        \"ZipCodeType\": \"STANDARD\", \n        \"City\": \"AIBONITO\", \n        \"Name\" : [\n          {\n            \"EstimatedPopulation\": \"abc\" \n            \"LocationType\": \"PRIMARY\", \n            \"Zipcode\": \"00705\"\n          }\n        ] \n    }\n</code></pre>\n\n<p>To :</p>\n\n<pre><code>\n    {\n        \"ZipCodeType\": [\"STANDARD\"], \n        \"City\": [\"AIBONITO\"], \n        \"Name\" : [\n          {\n            \"EstimatedPopulation\": [\"abc\"], \n            \"LocationType\": [\"PRIMARY\"], \n            \"Zipcode\": [\"00705\"]\n          }\n        ] \n    }\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 516, "user_id": 2197372, "user_type": "registered", "profile_image": "https://graph.facebook.com/649904191/picture?type=large", "display_name": "Robin Nicole", "link": "https://stackoverflow.com/users/2197372/robin-nicole"}, "edited": false, "score": 0, "creation_date": 1555537462, "post_id": 55736337, "comment_id": 98150858, "body": "I think you should iterate over the list of tasks instead of iterating on the list of users"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1555537495, "post_id": 55736337, "comment_id": 98150869, "body": "Please read and follow the posting guidelines in the help documentation, as suggested when you created this account.  <a href=\"http://stackoverflow.com/help/mcve\">Minimal, complete, verifiable example</a> applies here.  We cannot effectively help you until you post your MCVE code and accurately specify the problem. We should be able to paste your posted code into a text file and reproduce the problem you specified.  &quot;I am having an issue&quot; is not a problem specification."}], "answers": [{"tags": [], "owner": {"reputation": 516, "user_id": 2197372, "user_type": "registered", "profile_image": "https://graph.facebook.com/649904191/picture?type=large", "display_name": "Robin Nicole", "link": "https://stackoverflow.com/users/2197372/robin-nicole"}, "is_accepted": false, "score": 0, "last_activity_date": 1555537775, "creation_date": 1555537775, "answer_id": 55736457, "question_id": 55736337, "link": "https://stackoverflow.com/questions/55736337/looping-with-list-comprehensions/55736457#55736457", "title": "Looping with list comprehensions", "body": "<p>Could you do it with something like:</p>\n\n<pre><code>employee_task = {}\nfor n, task in enumerate(tasks):\n   employee_number = n % 50\n   if employee_number not in employee_task:\n      employee_task[employee_number] = []\n   employee_task[employee_number].append(task)\n</code></pre>\n\n<p>and check a posteriori that each employee has less than 40 tasks</p>\n"}], "owner": {"reputation": 133, "user_id": 5126037, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/c6cb32bbaab2848196fe58975d25a35b?s=128&d=identicon&r=PG&f=1", "display_name": "madman", "link": "https://stackoverflow.com/users/5126037/madman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1555543762, "creation_date": 1555537088, "last_edit_date": 1555543762, "question_id": 55736337, "link": "https://stackoverflow.com/questions/55736337/looping-with-list-comprehensions", "title": "Looping with list comprehensions", "body": "<p>To simplify what I am trying to do: </p>\n\n<p>I have 50 employees, each with a 40 task capacity. </p>\n\n<p>I have a dataframe that I am reading in from a SQL table that I want to filter down to tasks with a score equal to 10 and then assign them to each employee so they have a full \"basket\" or workload. I want to assign one task to each employee and then iterate until finished. </p>\n\n<p>My final output would look like a list with each list based off of position, denoting the employee number and the tasks that are assigned to them. </p>\n\n<pre class=\"lang-py prettyprint-override\"><code>final_basket = [[task1, task2,...] , [task8, task11], ...[task45,task4]]\n</code></pre>\n\n<p>each one of the lists within the final basket would correspond to an employee, example: </p>\n\n<p><code>final_basket[0] = [task1, task2,...]</code> would be all the tasks for the first employee.</p>\n\n<p>I can assign a task to each employe fine, but I get stuck with re-looping over all the employees to fill their capacity. </p>\n\n<pre><code>def basket_builder(i):\n    agent_basket = [[ ] for basket in range(40)] #define empty basket for all 40 agents \n    score_10 = base_data_1_mo[base_data_1_mo.case_score == 10] #filter data to score 10 only \n    score_10 = score_10[['investigation_id']] #select only investigation id df \n    score_10 = score_10.sort_index() ##sort by index asc \n    for i in range(40):\n        investigation_id = score_10.iloc[0]['investigation_id']\n        agent_basket[i].append(investigation_id)\n        index_drop_v2 = score_10[score_10.investigation_id == investigation_id].index[0]\n        score_10 = score_10.drop([index_drop_v2])\n        return final_basket\n\nfor i in range(40):\n    final_basket = []\n    final_basket = [[basket_builder(i) for agent in agent_basket[i]] \n\nfinal_basket\n</code></pre>\n\n<p>Since I made some modifications to use a function to try and loop over here, I am now having an issue even printing the <code>final_Basket</code></p>\n"}, {"tags": ["python", "pandas", "count", "pandas-groupby"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 1, "creation_date": 1555537146, "post_id": 55736320, "comment_id": 98150751, "body": "Not sure what you need"}, {"owner": {"reputation": 983, "user_id": 313558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07aeb8160847ddd943b6907564eb3c7e?s=128&d=identicon&r=PG", "display_name": "Dick Eshelman", "link": "https://stackoverflow.com/users/313558/dick-eshelman"}, "reply_to_user": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1555537252, "post_id": 55736320, "comment_id": 98150794, "body": "I want to add a column &quot;cnt&#39; to the df that shows the number of items in each bin that were used to compute the mean value shown as &quot;var2&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "is_accepted": false, "score": 2, "last_activity_date": 1555537290, "creation_date": 1555537290, "answer_id": 55736378, "question_id": 55736320, "link": "https://stackoverflow.com/questions/55736320/adding-count-to-a-df-produced-by-a-group-by-cut/55736378#55736378", "title": "Adding count to a df produced by a group-by cut", "body": "<p>If that is case you need <code>transform</code> with <code>pd.Series.groupby()</code></p>\n\n<pre><code>df['cnt']=df.groupby(pd.cut(df.var1, 10))['var2'].transform('count')\n</code></pre>\n"}], "owner": {"reputation": 983, "user_id": 313558, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/07aeb8160847ddd943b6907564eb3c7e?s=128&d=identicon&r=PG", "display_name": "Dick Eshelman", "link": "https://stackoverflow.com/users/313558/dick-eshelman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555794553, "creation_date": 1555537005, "last_edit_date": 1555794553, "question_id": 55736320, "link": "https://stackoverflow.com/questions/55736320/adding-count-to-a-df-produced-by-a-group-by-cut", "title": "Adding count to a df produced by a group-by cut", "body": "<p>Neither <code>.size()</code> nor <code>.count()</code> seem to produce a single count column when\napplied to data produced with a <code>.cut()</code> method.</p>\n\n<p>This may only be a problem of syntax, but I have tried <code>.size()</code>, <code>.count()</code>, and <code>.describe()</code> and get multiple columns with a group count, but not 1 single column.</p>\n\n<pre><code>#python 2.7\nimport pandas as pd\nimport numpy as np\n\n\nnp.random.seed(seed=1)\ndf = pd.DataFrame({\"var1\": np.random.random(100), \n                   \"var2\": np.random.random(100) + 5})\n\n# Bin the data frame by \"var1\" with 10 bins...\ndf = df.groupby(pd.cut(df.var1, 10)).describe().var2[['mean','count']]\ndf =df.reset_index()\nprint df\"\n\n#Results:\n                     var1      mean  count\n0  (-0.000874, 0.099]  5.546257   11.0\n1      (0.099, 0.198]  5.434613   12.0\n2      (0.198, 0.297]  5.483686    9.0\n3      (0.297, 0.396]  5.313241    6.0\n4      (0.396, 0.494]  5.537168   13.0\n5      (0.494, 0.593]  5.518476   10.0\n6      (0.593, 0.692]  5.614630   10.0\n7      (0.692, 0.791]  5.443415   10.0\n8       (0.791, 0.89]  5.464804    7.0\n9       (0.89, 0.989]  5.418756   12.0\n</code></pre>\n\n<p>#Updated the posted question with code that provides the desired answer.</p>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1555537845, "post_id": 55736310, "comment_id": 98150963, "body": "I don&#39;t see why <code>tkinter</code> has to find intersections...You could do that yourself in a function and feed this information to <code>tkinter</code>"}, {"owner": {"reputation": 794, "user_id": 10987015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bwlrppuewu8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNSEJug0HtxzOxvBSi5AnoWbdb10A/mo/photo.jpg?sz=128", "display_name": "dome", "link": "https://stackoverflow.com/users/10987015/dome"}, "reply_to_user": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1555538156, "post_id": 55736310, "comment_id": 98151065, "body": "I know it can&#39;t, in fact it is an example. Do you know if tkinter can give me the intersection of two lines created with <code>create_line</code>?"}, {"owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "edited": false, "score": 0, "creation_date": 1555539478, "post_id": 55736310, "comment_id": 98151385, "body": "I am not sure, but you should include the code that uses that function in your question so it is more clear. <a href=\"https://stackoverflow.com/help/mcve\">A MCVE would be great</a> and help the community to help you!"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1555541394, "post_id": 55736310, "comment_id": 98151839, "body": "No, tkinter can&#39;t give you the intersection of two lines."}], "answers": [{"comments": [{"owner": {"reputation": 794, "user_id": 10987015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bwlrppuewu8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNSEJug0HtxzOxvBSi5AnoWbdb10A/mo/photo.jpg?sz=128", "display_name": "dome", "link": "https://stackoverflow.com/users/10987015/dome"}, "edited": false, "score": 0, "creation_date": 1555581548, "post_id": 55737174, "comment_id": 98164006, "body": "Thank you, I think that this is the best solution for me. I&#39;ll use your function as a starting point for my program."}], "tags": [], "owner": {"reputation": 5007, "user_id": 10924296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/483c21a8a3f03bbf92cb99539ec97dbc?s=128&d=identicon&r=PG&f=1", "display_name": "Reedinationer", "link": "https://stackoverflow.com/users/10924296/reedinationer"}, "is_accepted": true, "score": 1, "last_activity_date": 1555542841, "creation_date": 1555542841, "answer_id": 55737174, "question_id": 55736310, "link": "https://stackoverflow.com/questions/55736310/is-there-a-shortcut-for-creating-many-polygons-with-tkinter/55737174#55737174", "title": "Is there a shortcut for creating many polygons with tkinter?", "body": "<p>While you can't get the intersections from within <code>tkinter</code> you could instead make triangles with a couple <code>for</code> loops and then plot these on the canvas. An example would look like:</p>\n\n<pre><code>import tkinter as tk\nimport random\n\ndef make_triangles(row_height=60, tri_width=60, max_height=1800, max_width=1800):\n    triangle_list = []\n    half_width = int(tri_width/2)\n    for i in range(0, max_height, row_height):\n        for j in range(0, max_width, half_width):\n            if j % tri_width == 0:\n                triangle = (i, j-half_width, i+row_height, j, i, j+half_width)\n            else:\n                triangle = (i, j, i+row_height, j+half_width, i+row_height, j-half_width)\n            triangle_list.append(triangle)\n    return triangle_list\n\nwin = tk.Tk()\ncanv = tk.Canvas(win)\ntriangles = make_triangles()\nfor tri in triangles:\n    canv.create_polygon(tri, fill=random.choice([\"blue\", \"red\", \"green\", \"brown\", \"yellow\", \"black\"]))\ncanv.pack()\nwin.mainloop()\n</code></pre>\n\n<p>Where we just generate many triangles and then plot them successively onto the canvas (we don't have to find each vertex by hand, just a formula that would describe them all). While this doesn't solve your exact problem in that the triangles don't intersect (you would have to shift every other row by half a triangle), and the triangles are left/right instead of up/down, it <strong>does</strong> answer your question \"<em>Is there a shortcut for creating many polygons with tkinter</em>\"! The answer is to just make a list of your polygons and then plot them all. A sample output (yours will be different because it is random) of my code looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ilkm8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ilkm8.png\" alt=\"Resulting Triangles\"></a></p>\n"}], "owner": {"reputation": 794, "user_id": 10987015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bwlrppuewu8/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNSEJug0HtxzOxvBSi5AnoWbdb10A/mo/photo.jpg?sz=128", "display_name": "dome", "link": "https://stackoverflow.com/users/10987015/dome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 1, "accepted_answer_id": 55737174, "answer_count": 1, "score": -1, "last_activity_date": 1555542841, "creation_date": 1555536942, "last_edit_date": 1555537264, "question_id": 55736310, "link": "https://stackoverflow.com/questions/55736310/is-there-a-shortcut-for-creating-many-polygons-with-tkinter", "title": "Is there a shortcut for creating many polygons with tkinter?", "body": "<p>I need to create a grid of triangles like in this picture: <a href=\"https://www.tilelook.com/system/tile_picture/resource/4973584/d3d_default_RE04MC017.png\" rel=\"nofollow noreferrer\">https://www.tilelook.com/system/tile_picture/resource/4973584/d3d_default_RE04MC017.png</a>.</p>\n\n<p>As i want the triangles to be clickable I'm using canvas function <code>create_polygon</code> for drawing and <code>bind</code> function for listening to the click event. The problem is that i need to draw many triangles and this would require to calculate by hand the vertices of each triangle.</p>\n\n<p>Is there a faster method like drawing some parallel and intersecting lines and tell tkinter that the vertices are the intersections of the lines or something that doesn't involve calculating the vertices of each triangle?</p>\n"}, {"tags": ["python", "regex", "python-3.x"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1555536968, "post_id": 55736299, "comment_id": 98150688, "body": "Because <code>\\w</code> includes underscores"}, {"owner": {"reputation": 481672, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1555537087, "post_id": 55736299, "comment_id": 98150732, "body": "Either <code>r&#39;(\\w*?)[-_]?.*&#39;</code> or <code>r&#39;([^\\W_]+)[-_]?.*&#39;</code> will do."}], "answers": [{"tags": [], "owner": {"reputation": 11591, "user_id": 1097347, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/efffb39e9e98d002a5b9afe2fde7e50d?s=128&d=identicon&r=PG", "display_name": "Uri Goren", "link": "https://stackoverflow.com/users/1097347/uri-goren"}, "is_accepted": true, "score": 1, "last_activity_date": 1555537094, "creation_date": 1555537094, "answer_id": 55736339, "question_id": 55736299, "link": "https://stackoverflow.com/questions/55736299/re-sub-match-with-first-occurrence-of-bracketed-characters/55736339#55736339", "title": "re.sub match with first occurrence of bracketed characters", "body": "<p><code>\\w</code> matches underscores, consider using this regex instead:</p>\n\n<pre><code>re.sub(r'([a-zA-Z0-9]+)[-_]?.*', r'\\1', x)\n</code></pre>\n"}], "owner": {"reputation": 1601, "user_id": 5900093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ac3f1e0e212aabaefe01f2eaeb4b408f?s=128&d=identicon&r=PG&f=1", "display_name": "Bird", "link": "https://stackoverflow.com/users/5900093/bird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 55736339, "answer_count": 1, "score": -1, "last_activity_date": 1555537094, "creation_date": 1555536876, "question_id": 55736299, "link": "https://stackoverflow.com/questions/55736299/re-sub-match-with-first-occurrence-of-bracketed-characters", "title": "re.sub match with first occurrence of bracketed characters", "body": "<p>I'm trying to capture the first group of characters before one or more underscores or dashes in a string using <code>re.sub</code> in Python 3.7. My current function is:\n <code>re.sub(r'(\\w+)[-_]?.*', r'\\1', x)</code>.</p>\n\n<p>Example strings:</p>\n\n<pre><code>x = 'CAM14_20190417121301_000'\nx = 'CAM16-20190417121301_000'\n</code></pre>\n\n<p>Actual output:  </p>\n\n<pre><code>CAM14_20190417121301_000\nCAM16\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>CAM14\nCAM16\n</code></pre>\n\n<p>Why is it working when there is a dash after the first group, but not an underscore? I also tried <code>re.sub(r'(\\w+)_?.*', r'\\1', x)</code> to try and force it to catch the underscore, but that returned the same result. I would like the code to be flexible enough to catch either.</p>\n"}, {"tags": ["python", "azure"], "owner": {"reputation": 11, "user_id": 11376083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dfb3f236f5997c681bbaf4fe15b5499?s=128&d=identicon&r=PG&f=1", "display_name": "gmanuelz", "link": "https://stackoverflow.com/users/11376083/gmanuelz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555536699, "creation_date": 1555536699, "question_id": 55736260, "link": "https://stackoverflow.com/questions/55736260/how-to-send-a-lexicon-to-text-to-speech", "title": "How to send a lexicon to text-to-speech", "body": "<p>I'd like help with incorporating a new lexicon into the Azure Text-to-Speech API. </p>\n\n<p><a href=\"https://docs.microsoft.com/en-us/previous-versions/office/developer/speech-technologies/hh378492%28v%3doffice.14%29\" rel=\"nofollow noreferrer\">https://docs.microsoft.com/en-us/previous-versions/office/developer/speech-technologies/hh378492%28v%3doffice.14%29</a></p>\n\n<p>I've successfully sent text and have gotten mp3 files that work. Now I'm trying to incorporate a lexicon with difficult pronunciations. </p>\n\n<p>I'm using the Python SDK for Text-to-Speech and have few questions from the documentation. </p>\n\n<ul>\n<li><p>Is this reference 'lexicon Element SSML (Microsoft.Speech)' outdated? </p></li>\n<li><p>What URI do I use?</p></li>\n<li><p>When I use the instructions in this document, I get the following error message: Status code: 400. Something went wrong. Check your subscription key and headers. How do I fix or investigate this?</p></li>\n<li><p>What format does the lexicon have to be in? I saw an example in the document that referenced a lexicon in a .pls format. How do I create this? Here is the reference:</p></li>\n</ul>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;speak\nversion=\"1.0\"\nxmlns=\"http://www.w3.org/2001/10/synthesis\"\nxml:lang=\"en-US\"&gt;\n&lt;lexicon\nuri=\"c:\\Test\\whatchamacallit.pls\"\ntype=\"application/pls+xml\"/&gt;\n Gimme the whatchamacallit. &lt;/speak&gt;\n</code></pre>\n\n<p>Here's part of the Python that I'm using:</p>\n\n<pre><code>xml_body = ElementTree.Element('speak', version='1.0')\nxml_body.set('{http://www.w3.org/XML/1998/namespace}lang', 'en-us')\nlexicon = ElementTree.SubElement(xml_body, 'lexicon')\nlexicon.set('uri', '/User/.../Desktop/MedLex.pls')\nlexicon.set('type', 'application/pls+xml')\n</code></pre>\n"}, {"tags": ["python", "design-patterns", "odoo"], "comments": [{"owner": {"reputation": 1757, "user_id": 6050822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ea5e379446055d0503b32e29ab328e?s=128&d=identicon&r=PG&f=1", "display_name": "qvpham", "link": "https://stackoverflow.com/users/6050822/qvpham"}, "edited": false, "score": 0, "creation_date": 1555567873, "post_id": 55736242, "comment_id": 98157295, "body": "You should optimize the process and implement the solution in your program. What is wrong when a product has only one name and is suitable for KIA and Hyundai? When he is displayed multiple times with the same qty, what happen when customer buy more than one?"}, {"owner": {"reputation": 437, "user_id": 7862342, "user_type": "registered", "profile_image": "https://graph.facebook.com/1448331668570767/picture?type=large", "display_name": "Mohamed Fouad", "link": "https://stackoverflow.com/users/7862342/mohamed-fouad"}, "reply_to_user": {"reputation": 1757, "user_id": 6050822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ea5e379446055d0503b32e29ab328e?s=128&d=identicon&r=PG&f=1", "display_name": "qvpham", "link": "https://stackoverflow.com/users/6050822/qvpham"}, "edited": false, "score": 0, "creation_date": 1555589889, "post_id": 55736242, "comment_id": 98168480, "body": "because cashier in pos dunno all product that suitable for other also customer in website actually dunno that the KIA suitable for his hyundai so he well search for KIA"}, {"owner": {"reputation": 1757, "user_id": 6050822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ea5e379446055d0503b32e29ab328e?s=128&d=identicon&r=PG&f=1", "display_name": "qvpham", "link": "https://stackoverflow.com/users/6050822/qvpham"}, "edited": false, "score": 0, "creation_date": 1556611373, "post_id": 55736242, "comment_id": 98487104, "body": "Okay, than you should optimize the search process, so that the product could be found, when he is searching for KIA or Hyundai. You don&#39;t need to display the one product multiple times"}], "owner": {"reputation": 437, "user_id": 7862342, "user_type": "registered", "profile_image": "https://graph.facebook.com/1448331668570767/picture?type=large", "display_name": "Mohamed Fouad", "link": "https://stackoverflow.com/users/7862342/mohamed-fouad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555536581, "creation_date": 1555536581, "question_id": 55736242, "link": "https://stackoverflow.com/questions/55736242/is-there-anyway-in-odoo-to-use-it-for-sell-product-in-multi-names-but-the-same-i", "title": "is there anyway in Odoo to use it for sell product in multi names but the same in inventory?", "body": "<p>i'am working on a project to autoparts company i'am facing problem in selling a product that can be suitable for KIA and also for Hunday as example \nthere is one product in stock but we need to display more than one , every one with different name but with the same QTY (quantity on Hand)\nany Idea ??? </p>\n\n<p>actually product name is computed field concatenate some fields strings (Item,car,model,year,origin,....)  </p>\n\n<pre><code>class autopart(models.Model):\n_inherit = 'product.template'\n\n@api.multi\n@api.depends('item', 'car', 'model', 'dsc', 'drc', 'year', 'org')\ndef compute_amount(self):\n    for rec in self:\n        rec.name = \" \".join(\n            [rec.item and rec.item.name or \"\", rec.car and rec.car.name or \"\", rec.model and rec.model.name or \"\",\n             rec.dsc and rec.dsc.name or \"\", rec.drc and rec.drc.name or \"\", rec.org and rec.org.name or \"\",\n             rec.year and rec.year.name or \"\"])\nname = fields.Char(string=\"Name\", required=False ,compute=compute_amount,)\n</code></pre>\n"}, {"tags": ["python", "html", "image-processing", "flask"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555537783, "post_id": 55736369, "comment_id": 98150945, "body": "But even so, the result found in the variable &quot;availability&quot; is not shown if it is the main.py, which is the same &quot;estado&quot; of smartparking.py, it should be 0 or 1."}, {"owner": {"reputation": 106, "user_id": 9736620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe Manifold", "link": "https://stackoverflow.com/users/9736620/joe-manifold"}, "reply_to_user": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555538389, "post_id": 55736369, "comment_id": 98151123, "body": "get_Disponibilidad() is never called, since on a web view to &#39;/&#39;, the only function that is called is index(), not disponible(parking). The render_template with availability never happens."}, {"owner": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555539970, "post_id": 55736369, "comment_id": 98151497, "body": "I&#39;m already getting the value &quot;availability&quot; but in another route, I can put this value in a &lt;h1&gt; of the root path /?"}, {"owner": {"reputation": 106, "user_id": 9736620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe Manifold", "link": "https://stackoverflow.com/users/9736620/joe-manifold"}, "reply_to_user": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555545949, "post_id": 55736369, "comment_id": 98152734, "body": "Do you have other routes that you&#39;re not showing here? These could be helpful. As per your code that you&#39;re showing here, availability is only set in the disponible(parking) function, which is not being called as it has no route decorator."}, {"owner": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555549236, "post_id": 55736369, "comment_id": 98153339, "body": "<code>def gen2(camera):                 while True:                 availability = camera.get_Disponibilidad()                                yield f&#39;El estacionamiento se encuentra {availability}&#39;   @app.route(&#39;&#47;disponible&#39;) def disponible():         while True:                                  return Response(gen2(VideoCamera()))</code> The value is written and repeated many times in the route &quot;/disponible&quot;, I&#39;m doing the same as the video"}, {"owner": {"reputation": 106, "user_id": 9736620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe Manifold", "link": "https://stackoverflow.com/users/9736620/joe-manifold"}, "reply_to_user": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555610233, "post_id": 55736369, "comment_id": 98179454, "body": "I&#39;m sorry, this doesn&#39;t make any sense. you have TWO functions named disponible?"}, {"owner": {"reputation": 106, "user_id": 9736620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe Manifold", "link": "https://stackoverflow.com/users/9736620/joe-manifold"}, "reply_to_user": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "edited": false, "score": 0, "creation_date": 1555611056, "post_id": 55736369, "comment_id": 98179819, "body": "If you have other functions and routes that are working with these elements then you need to post them. I still see nothing that will call <code>render_template(&#39;index.htm&#39;,availability=availability)</code>"}], "tags": [], "owner": {"reputation": 106, "user_id": 9736620, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Joe Manifold", "link": "https://stackoverflow.com/users/9736620/joe-manifold"}, "is_accepted": false, "score": 1, "last_activity_date": 1555537550, "last_edit_date": 1555537550, "creation_date": 1555537248, "answer_id": 55736369, "question_id": 55736238, "link": "https://stackoverflow.com/questions/55736238/how-to-send-and-update-variable-from-python-to-html-flask/55736369#55736369", "title": "How to send and update variable from python to html (Flask)?", "body": "<p>def disponible(parking) function has no route decorator and is never called.\nYou're rendering the template in the index function, which does not have the availability variable.</p>\n\n<p>The form submission isn't being read anywhere either. You should look at flask's request context. Or at least point to a new route.</p>\n\n<p>This will give you availability on refresh without requiring a button:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>@app.route('/')\ndef disponible(parking):\n                availability = VideoCamera().get_Disponibilidad()\n                render_template('index.htm',availability=availability)\n</code></pre>\n\n<p>The While True there would never work either since it immediately returns.</p>\n\n<p>As for getting the buttons to trigger back to the program, you need to submit the form, and address that in the route that the form action points to. \nI.e. submit to a new route (/image) or use request to get the submitted arguments</p>\n\n<pre><code>@app.route('/image/)\n# Do some action that you want as a result of the image button\n</code></pre>\n\n<p>with the form code in your template:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form name=\"image\" action=\"/image\"&gt;&lt;button type=submit&gt;image&lt;/button&gt;&lt;/form&gt;\n</code></pre>\n\n<p><a href=\"http://flask.pocoo.org/docs/1.0/reqcontext/\" rel=\"nofollow noreferrer\">http://flask.pocoo.org/docs/1.0/reqcontext/</a></p>\n"}], "owner": {"reputation": 81, "user_id": 11171765, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-513hGbjO8WE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcI9FEuOqpN4WwIZrtRGSVqpv-AbQ/mo/photo.jpg?sz=128", "display_name": "Joc1240", "link": "https://stackoverflow.com/users/11171765/joc1240"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1166, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555537550, "creation_date": 1555536561, "question_id": 55736238, "link": "https://stackoverflow.com/questions/55736238/how-to-send-and-update-variable-from-python-to-html-flask", "title": "How to send and update variable from python to html (Flask)?", "body": "<p>I am creating a web application for a smart parking, it will have two buttons, which will show an image or frame of what the camera was looking at the moment of pressing it and the other will display a message which will tell the availability of each slot.</p>\n\n<p>This is a part of the code that is responsible for finding availability in the parking lot, before I called a function that made me the perspective transformation to save code, but with flask I ended up generating problems when calling the method.</p>\n\n<p>smartparking.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>    def get_Disponibilidad(self):\n        _, frame = self.cap.read()\n        frame = cv2.resize(frame,(np.int(frame.shape[1]/2),np.int(frame.shape[0]/2)))\n        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)\n\n        cv2.circle(frame, (65, 190), 5, (0, 0, 255), -1)\n        cv2.circle(frame, (490, 200), 5, (0, 0, 255), -1)\n        cv2.circle(frame, (30, 310), 5, (0, 0, 255), -1)\n        cv2.circle(frame, (530, 310), 5, (0, 0, 255), -1)\n\n        pts1 = np.float32([[65, 190], [490, 200], [30, 310], [530, 310]])\n        pts2 = np.float32([[0, 0], [600, 0], [0, 500], [600, 500]])\n\n        matrix = cv2.getPerspectiveTransform(pts1, pts2)\n        result = cv2.warpPerspective(gray, matrix, (600, 500))\n\n        v = np.median(result)    \n        lower = int(max(0, (1.0 - 0.33) * v))\n        upper = int(min(255, (1.0 + 0.33) * v))\n    ##    edged = cv2.Canny(image, 50, 100)\n        edges = cv2.Canny(result, lower, upper)\n\n        estado = 0\n        blancos = cv2.countNonZero(edges)\n        if (blancos &gt;= 6000):\n            estado = 1\n        #estado = disponibilidadPlaza(edges)\n        return estado\n\n    def get_Image(self):\n        _, frame = self.cap.read()\n        frame = cv2.resize(frame,(np.int(frame.shape[1]/2),np.int(frame.shape[0]/2)))        \n        cv2.circle(frame, (65, 190), 1, (0, 0, 255), -1)\n        cv2.circle(frame, (490, 200), 1, (0, 0, 255), -1)\n        cv2.circle(frame, (30, 310), 1, (0, 0, 255), -1)\n        cv2.circle(frame, (530, 310), 1, (0, 0, 255), -1)\n\n        pts1 = np.float32([[65, 190], [490, 200], [30, 310], [530, 310]])\n        pts2 = np.float32([[0, 0], [600, 0], [0, 500], [600, 500]])\n\n        matrix = cv2.getPerspectiveTransform(pts1, pts2)\n        result = cv2.warpPerspective(frame, matrix, (600, 500))\n        _, jpeg = cv2.imencode('.jpg', frame)\n        return jpeg.tobytes()\n</code></pre>\n\n<p>In the following code I call the function get_Availability () of smartparking, which should return a 1 in case of being busy and a 0 otherwise, this value is what should be shown in the html when pressing the button, but it should be update if the person presses the button when a car is found in the parking lot.</p>\n\n<p>main.py</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import Flask, request, redirect, render_template, Response\nfrom SmartParking import VideoCamera\n\napp = Flask(__name__)\n\n@app.route('/')\ndef index():    \n        return render_template('index.htm')\n\ndef disponible(parking):\n        while True:                 \n                availability = VideoCamera().get_Disponibilidad()\n                render_template('index.htm',availability=availability)\n\ndef gen(camera):        \n        while True:\n                frame = camera.get_Image()                \n                yield (b'--frame\\r\\n'\n                b'Content-Type: image/jpeg\\r\\n\\r\\n' + frame + b'\\r\\n')\n\n@app.route('/video_feed')\ndef video_feed():\n    return Response(gen(VideoCamera()),\n                    mimetype='multipart/x-mixed-replace; boundary=frame')\n\nif __name__ == '__main__':\n        app.run(debug=True)\n</code></pre>\n\n<p>Finally the html that now shows in real time what the camera sees, but the idea is to show a frame of the video each time the button is pressed, as well as the availability status.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;Smart-Parking&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;h1&gt;Smart Parking&lt;/h1&gt; &lt;h1 style=\"color: red;\"&gt;LIVE STREAM&lt;/h1&gt; \n    &lt;img id=\"bg\" src=\"{{ url_for('video_feed') }}\"&gt;\n\n    &lt;h1&gt;Slot 1:  {{availability}}&lt;/h1&gt;\n\n    &lt;form method=\"POST\"&gt; \n      &lt;button type=\"submit\" name=\"Parking\"&gt;Image&lt;/button&gt;\n      &lt;button type=\"submit\" name=\"Slots\"&gt;Availability&lt;/button&gt;\n    &lt;/form&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The variable availability takes it as if it were null, and the buttons do not work either, since I do not know how to call them in the main.py</p>\n\n<p><img src=\"https://i.imgur.com/LJ1Vilp.png?1\" alt=\"Imgur\"></p>\n"}, {"tags": ["python", "python-3.x"], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 0, "creation_date": 1555536976, "post_id": 55736274, "comment_id": 98150691, "body": "Thanks! I didn&#39;t know it is possible to catch an exception raised in another function."}, {"owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "reply_to_user": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 1, "creation_date": 1555537188, "post_id": 55736274, "comment_id": 98150772, "body": "You&#39;re not in another function, you&#39;re still in fun1(). fun3() executes in fun2() which executes in fun1(). If I put a note in an envelope, and then put the envelope in a box, the note is still in the box.  Note = fun3, envelope = fun2, and box = fun1."}, {"owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 0, "creation_date": 1555538409, "post_id": 55736274, "comment_id": 98151130, "body": "I know exceptions are used to handle errors but something I need to handle warning or just info (for example <code>Update is not needed</code>), so can I create specific execption types called <code>fetchWarning()</code> and <code>fetchInfo()</code> ? just to return data in the <code>try</code> <code>except</code> in <code>fun1()</code>."}, {"owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 0, "creation_date": 1555538676, "post_id": 55736274, "comment_id": 98151202, "body": "I will try to use the <code>Warning</code> module instead."}, {"owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "reply_to_user": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 0, "creation_date": 1555539083, "post_id": 55736274, "comment_id": 98151313, "body": "If fun3() must be called with an integer, it is an error if it is ever called with a different data type. If your function is going to do anything useful, it cannot possibly work under all possibly inputs, so we use Exceptions to handle cases where we didn&#39;t get valid input. It is good practice to throw and handle errors in your code for reasons like this. Sometimes an error in lower-level code, like fun3(), is simply caught and handled as a warning in higher-level code, like fun1(). This is very common practice, I wouldn&#39;t say you need Warning, from looking at your code I would use Exception."}, {"owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "edited": false, "score": 1, "creation_date": 1555539479, "post_id": 55736274, "comment_id": 98151386, "body": "The error generated with data type was for the example but I have more specific needs so I declared a <code>class</code> for custom warning type with <code>fetchWarning(UserWarning)</code> so now I can raise it and handle it into <code>fun1()</code> with <code>except exceptions.fetchWarning() as w :</code>"}], "tags": [], "owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "is_accepted": false, "score": 4, "last_activity_date": 1555536757, "creation_date": 1555536757, "answer_id": 55736274, "question_id": 55736234, "link": "https://stackoverflow.com/questions/55736234/how-to-return-to-a-different-function-in-python/55736274#55736274", "title": "How to return to a different function in Python?", "body": "<p>This is what exceptions are for</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def fun1(num):\n  try:\n    res = fun2(num)\n  except Exception:\n    # specific exception handling\n  # will continue executing\n\n  # something else...\n\ndef fun2(num):\n\n  res = fun3(num) # if fun3(num) return a status:error return to fun(1)\n\n  # something else...\n\ndef fun3(num):\n\n  if type(num) is not int:\n\n    raise Exception('Status Error')\n\n  else: \n\n    # continue\n</code></pre>\n\n<p>You should consider using a specific Exception type, rather than just <code>Exception</code>. Fitting for this problem would be a <code>TypeError</code>.</p>\n"}], "owner": {"reputation": 1072, "user_id": 3423825, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/007V9.jpg?s=128&g=1", "display_name": "Florent", "link": "https://stackoverflow.com/users/3423825/florent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555536757, "creation_date": 1555536546, "question_id": 55736234, "link": "https://stackoverflow.com/questions/55736234/how-to-return-to-a-different-function-in-python", "title": "How to return to a different function in Python?", "body": "<p>In this example I call <code>fun3()</code> in <code>fun2()</code>, but if something special happen in <code>fun3()</code> is there a way to directly <code>return</code> to <code>fun1()</code>? without having to check this special thing in <code>fun2()</code>.</p>\n\n<pre><code>def fun1(num):\n\n  res = fun2(num)\n\n  # do something if fun3() return an error...\n\ndef fun2(num):\n\n  res = fun3(num) # if fun3(num) return a status:error return to fun(1)\n\n  # something else...\n\ndef fun3(num):\n\n  if type(num) is not int:\n\n    return {'status': 'error'}\n\n  else: \n\n    # something else...\n</code></pre>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1555536619, "post_id": 55736206, "comment_id": 98150579, "body": "Don\u2019t create <code>finaldfmon</code>. Update the flags, similar to what you did with <code>flags = current_week_flags &amp; earlydue</code>."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1555540743, "post_id": 55736206, "comment_id": 98151679, "body": "updating the flags will create a boolean, I need to overide the old Due Dates in the original df, with the new due dates that were created off of grouping the COmpleted Date and Due Date columns. That is what is going on through my head when I read your response. I thank you  for it, but I am confused"}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "reply_to_user": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "edited": false, "score": 0, "creation_date": 1555541943, "post_id": 55736206, "comment_id": 98151988, "body": "I am almost thinking now it may be easier to have conditonal logic using .loc . Along the lines of  &quot;While Completed Date is of a value that is on or between Last Monday-Today and If Due Date is before Last Monday, make Due Date Monday&quot; - Any thoughts, I think it would be less code also"}], "answers": [{"comments": [{"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555545891, "post_id": 55737410, "comment_id": 98152721, "body": "cannot thank you enough for your help, I pasted in the conditional logic that got me to where I wanted to go - advise if you have any concerns, or hopefully it could help you gain a different mindset on how to solve the problem ! :) I may reach out to you again lol , but for now this part of the script is in the books!"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "reply_to_user": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555546069, "post_id": 55737410, "comment_id": 98152753, "body": "Exactly what I meant by &quot;update the <code>flags</code>&quot;. Make it easier to read: <code>flags = current_week_flags &amp; (finaldf[&#39;Complete_Date&#39;] &gt;= last_monday.date())</code> and then <code>finaldf.loc[flags ,&#39;Due_Date&#39;] = last_monday</code>. But glad it works."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555550237, "post_id": 55737410, "comment_id": 98153465, "body": "I see, so now I am moving on to the next part, and this same old issue arose, and I think it is because some Due Dates are now timestamps?? - I input my code and error above"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "reply_to_user": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 1, "creation_date": 1555550515, "post_id": 55737410, "comment_id": 98153510, "body": "Yes, as I said before, remove all <code>dt.date()</code> and <code>date()</code>, except for this <code>today = pd.to_datetime(datetime.now().date())</code>."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555551045, "post_id": 55737410, "comment_id": 98153601, "body": "apologies, apologies, I had mis read that comment thinking it mean otherwise"}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555638895, "post_id": 55737410, "comment_id": 98187397, "body": "another question about the dates, if you care to help me further , but I understand if you have had enough lol. Having so much trouble with these darn dates in pandas"}, {"owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "reply_to_user": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555639282, "post_id": 55737410, "comment_id": 98187449, "body": "I can&#39;t tell from what you put there. Codes look broken. Again, try to post as a separate question. But before that, run your code line by line to isolate which line yields the error."}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555641327, "post_id": 55737410, "comment_id": 98187780, "body": "Ok I will lost when I get home. Not sure why it didn\u2019t show up"}, {"owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "edited": false, "score": 0, "creation_date": 1555643209, "post_id": 55737410, "comment_id": 98188118, "body": "<a href=\"https://stackoverflow.com/questions/55756093/pandas-conditional-logic-with-date-objects\" title=\"pandas conditional logic with date objects\">stackoverflow.com/questions/55756093/&hellip;</a>"}], "tags": [], "owner": {"reputation": 114459, "user_id": 4238408, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RWkmO.jpg?s=128&g=1", "display_name": "Quang Hoang", "link": "https://stackoverflow.com/users/4238408/quang-hoang"}, "is_accepted": false, "score": 1, "last_activity_date": 1555545937, "last_edit_date": 1555545937, "creation_date": 1555545120, "answer_id": 55737410, "question_id": 55736206, "link": "https://stackoverflow.com/questions/55736206/pandas-df-loc-can-only-compare-identically-labelled-series/55737410#55737410", "title": "Pandas - df.loc - Can Only Compare Identically-labelled Series", "body": "<p>This is not an answer, see my comments in code. Also, at this point, I think this question is more appropriate for <a href=\"https://codereview.stackexchange.com/\">codereview</a>.</p>\n\n<pre><code>finaldf['Completed_Date'] = pd.to_datetime(finaldf['Completed_Date'], format=\"%m/%d/%Y\").dt.date\n\n# making it lower case y made it work \nfinaldf['Due_Date'] = pd.to_datetime(finaldf['Due_Date'], format=\"%m/%d/%y\").dt.date \n\n# this worked as of 4.16\ncurrent_week_flags = (finaldf.Completed_Date &gt;= last_monday.date()) &amp; (finaldf.Completed_Date &lt;= today.date()) \nearlydue = (finaldf.Due_Date &lt; last_monday.date())\n\nflags = current_week_flags &amp; earlydue\nfinaldfmon = finaldf[current_week_flags]\n\n# here we make all the due dates before monday, monday while complete date filterered\n# this works because last_monday is a single day\nfinaldfmon.loc[(finaldfmon['Due_Date']&lt;last_monday.date()), 'Due_Date'] = last_monday \n\n# this fails in two places:\n# finaldf.loc[(finaldf['Due_Date'] != finaldfmon['Due_Date']), 'Due_Date'] = finaldfmon['Due_Date'] \n\n# finaldf['Due_Date'] != finaldfmon['Due_Date'] \n# these two series have different length, so you can't compare them \n# even if they have the same length, they have different indices\n# (unless one of them is a single number/date, then it becomes the case above)\n\n# finaldf.loc[..., 'Due_Date'] = finaldfmon['Due_Date']\n# same story    \n\nwriter = pd.ExcelWriter('currentweek.xlsx', engine='xlsxwriter')\nfinaldf.to_excel(writer, index=False, sheet_name='Sheet1')    \nwriter.save()\n</code></pre>\n\n<p>The Code Below ( mainly the last line achieves the goal</p>\n\n<pre><code>import pandas as pd\nimport xlrd # added when using visual studio \nimport datetime\nfrom datetime import datetime\n#read in excel file\nfinaldf = pd.read_excel(\"scrubcomplete.xlsx\", encoding = \"ISO-8859-1\", dtype=object)\nfinaldf.columns = finaldf.columns.str.strip().str.replace(' ', '_').str.replace('(', '').str.replace(')', '')\n#\ntoday = pd.to_datetime(datetime.now().date())\nday_of_week = today.dayofweek\nlast_monday = today - pd.to_timedelta(day_of_week, unit='d') \n#\n\n\nif day_of_week !=0:\n    finaldf['Completed_Date'] = pd.to_datetime(finaldf['Completed_Date'], format=\"%m/%d/%Y\").dt.date\n    finaldf['Due_Date'] = pd.to_datetime(finaldf['Due_Date'], format=\"%m/%d/%y\").dt.date # making it lower case y made it work\n    current_week_flags = (finaldf.Completed_Date &gt;= last_monday.date()) &amp; (finaldf.Completed_Date &lt;= today.date())\n    finaldf.loc[(finaldf['Completed_Date'] &gt;= last_monday.date()) &amp; (finaldf['Completed_Date'] &lt;= today.date()) &amp; (finaldf['Due_Date'] &lt; last_monday.date()), 'Due_Date'] = last_monday\n</code></pre>\n"}], "owner": {"reputation": 723, "user_id": 7587176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d63fadaec7e7f35ea7199ddca55c0b1?s=128&d=identicon&r=PG&f=1", "display_name": "0004", "link": "https://stackoverflow.com/users/7587176/0004"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555545937, "creation_date": 1555536403, "last_edit_date": 1555541341, "question_id": 55736206, "link": "https://stackoverflow.com/questions/55736206/pandas-df-loc-can-only-compare-identically-labelled-series", "title": "Pandas - df.loc - Can Only Compare Identically-labelled Series", "body": "<p>My code below ( sorry I cannot share exact data) takes a df, filters it by date ranges, and re-labels certain date. I want to then pull those re-labeled dates into the original df. It works fine until this line of code:</p>\n\n<pre><code>finaldf.loc[(finaldf['Due_Date'] != finaldfmon['Due_Date']), 'Due_Date'] = finaldfmon['Due_Date']\n</code></pre>\n\n<p>From now own research, it is because the index length is not the same.</p>\n\n<pre><code>print(finaldf.index)\n</code></pre>\n\n<p>vs</p>\n\n<pre><code>print(finaldfmon.index)\n</code></pre>\n\n<p>I do not get why this would be an issue nor do I know how to solve it. I want to simulate an excel vlookup, but would not leave an #NA if their was not hit ( as in the Anchor value (think primary key) did not have any matches (foreign key).</p>\n\n<p>Full code here:</p>\n\n<pre><code>    import pandas as pd\n    import xlrd # added when using visual studio \n    import datetime\n    from datetime import datetime\n    finaldf = pd.read_excel(\"scrubcomplete.xlsx\", encoding = \"ISO-8859-1\", dtype=object)\n    finaldf.columns = finaldf.columns.str.strip().str.replace(' ', '_').str.replace('(', '').str.replace(')', '')\n    #\n    today = pd.to_datetime(datetime.now().date())\n    day_of_week = today.dayofweek\n    last_monday = today - pd.to_timedelta(day_of_week, unit='d') \n    finaldf = finaldf[finaldf.Affliate_Code.str.contains('Part/Unix', na=False)]\n\nf day_of_week !=0:\n    finaldf['Completed_Date'] = pd.to_datetime(finaldf['Completed_Date'], format=\"%m/%d/%Y\").dt.date\n    finaldf['Due_Date'] = pd.to_datetime(finaldf['Due_Date'], format=\"%m/%d/%y\").dt.date # making it lower case y made it work \n    current_week_flags = (finaldf.Completed_Date &gt;= last_monday.date()) &amp; (finaldf.Completed_Date &lt;= today.date()) # this worked as of 4.16\n    earlydue = (finaldf.Due_Date &lt; last_monday.date())\n    flags = current_week_flags &amp; earlydue\n    finaldfmon = finaldf[current_week_flags]\n    finaldfmon.loc[(finaldfmon['Due_Date']&lt;last_monday.date()), 'Due_Date'] = last_monday # here we make all the due dates before monday, monday while complete date filterered\n    finaldf.loc[(finaldf['Due_Date'] != finaldfmon['Due_Date']), 'Due_Date'] = \n    finaldfmon['Due_Date'] \n    writer = pd.ExcelWriter('currentweek.xlsx', engine='xlsxwriter')\n    finaldf.to_excel(writer, index=False, sheet_name='Sheet1')    \n    writer.save()\n</code></pre>\n\n<p>The Error is:</p>\n\n<pre><code>  raise ValueError(\"Can only compare identically-labeled \"\nValueError: Can only compare identically-labeled Series objects\n</code></pre>\n\n<p>It is caused by:</p>\n\n<pre><code>finaldf.loc[(finaldf['Due_Date'] != finaldfmon['Due_Date']), 'Due_Date'] = finaldfmon['Due_Date']\n</code></pre>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 3, "creation_date": 1555536024, "post_id": 55736121, "comment_id": 98150340, "body": "You assigned a string to print, shadowing the built-in function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1555536092, "post_id": 55736121, "comment_id": 98150369, "body": "You have a typo: <code>print = (&#39;-------------La partita &#232; iniziata!-------------&#39;)</code> should be <code>print(&#39;-------------La partita &#232; iniziata!-------------&#39;)</code> without the <code>=</code>."}], "answers": [{"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 1, "last_activity_date": 1555536144, "creation_date": 1555536144, "answer_id": 55736162, "question_id": 55736121, "link": "https://stackoverflow.com/questions/55736121/typeerror-when-calling-an-objects-attribute-in-a-little-card-game/55736162#55736162", "title": "TypeError when calling an object&#39;s attribute in a little card game", "body": "<pre><code>print = ('-------------La partita \u00e8 iniziata!-------------')\n</code></pre>\n\n<p>That line reassigns the <code>print()</code> function to be a plain string, and it's not a function anymore.</p>\n\n<p>So the next time you call <code>print('something')</code>, you get an error.</p>\n\n<p>Presumably that's a typo, and you didn't mean to have the <code>=</code> in there.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11353612"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555536144, "creation_date": 1555535925, "question_id": 55736121, "link": "https://stackoverflow.com/questions/55736121/typeerror-when-calling-an-objects-attribute-in-a-little-card-game", "title": "TypeError when calling an object&#39;s attribute in a little card game", "body": "<p>I'm writing a card game.</p>\n\n<p>I have made a 'card' class, and a deck class with card objects in it as an attribute. I successfully made up functions to shuffle, to print the deck cards list, to print the remaining card in the deck and to make a functioning \"draw\" system. \nNow I'm trying to give to every Card an attribute (\"Briscola\" = True/False) based on the card's seed (A first card is drawn by the dealer, its seed is considered then the value of Briscola is changed to True for every card matching that exctracted seed) but i encountered 2 problems.</p>\n\n<p>When I try to run  </p>\n\n<pre><code>prova = Mazzo()\nprova.inizio()\n</code></pre>\n\n<p>the \"inizo\" method (which should pick a card and do the seed stuff) gives out this TypeError:</p>\n\n<pre><code>in inizio\n    print('La briscola \u00e8', self.semi[brisc.Seme])\nTypeError: 'str' object is not callable\n</code></pre>\n\n<p>Here is what i wrote:</p>\n\n<pre><code>import random\n\nclass Carta:\n    semi = ['Bastoni', 'Spade', 'Coppe', 'Denari']\n    numeri = ['1', '2', '3', '4', '5', '6', '7', 'Fante', 'Cavallo', 'Re']\n    briscola = None\n    def __init__(self, Seme = 0, Valore = 0, Briscola = False):\n        self.Seme = Seme\n        self.Valore = Valore\n        self.Briscola = Briscola\n    def __str__(self):\n        return (self.numeri[self.Valore] + \" di \" +\n                self.semi[self.Seme])\nclass Mazzo:\n    semi = ['Bastoni', 'Spade', 'Coppe', 'Denari']\n    numeri = ['1', '2', '3', '4', '5', '6', '7', 'Fante', 'Cavallo', 'Re']\n\n    def __init__(self):\n        self.Carte = []\n        for seme in range(4):\n            for valore in range(10):\n                self.Carte.append(Carta(seme,valore))\n    def inizio(self):\n        brisc = random.choice(self.Carte)\n        print = ('-------------La partita \u00e8 iniziata!-------------')\n        print('La carta iniziale \u00e8 ' , brisc)\n        print('La briscola \u00e8', self.semi[brisc.Seme])\n        for carta in self.Carte:\n            if carta.Seme == brisc.Seme:\n                carta.Briscola = True\n        self.Carte.remove(brisc)\n</code></pre>\n\n<p>I'm sorry but variable names are in my native language. Here is some translation for better understanding:\ncarta/e = card/s   seme/i = seed/s    Mazzo = deck    numeri = numbers   prova = foo</p>\n"}, {"tags": ["python", "django", "cloudinary"], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 11331407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKaVU.jpg?s=128&g=1", "display_name": "Android_Minsky", "link": "https://stackoverflow.com/users/11331407/android-minsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1556103003, "creation_date": 1556103003, "answer_id": 55828319, "question_id": 55736118, "link": "https://stackoverflow.com/questions/55736118/how-to-parse-image-url-and-save-it-on-cloudinary-with-django/55828319#55828319", "title": "How to Parse Image URL and Save It On Cloudinary With Django?", "body": "<p>Solved it by adding this:</p>\n\n<pre><code>product.image = cloudinary.uploader.upload(product.image_url)['public_id']\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 11331407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKaVU.jpg?s=128&g=1", "display_name": "Android_Minsky", "link": "https://stackoverflow.com/users/11331407/android-minsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 55828319, "answer_count": 1, "score": 1, "last_activity_date": 1556103003, "creation_date": 1555535920, "question_id": 55736118, "link": "https://stackoverflow.com/questions/55736118/how-to-parse-image-url-and-save-it-on-cloudinary-with-django", "title": "How to Parse Image URL and Save It On Cloudinary With Django?", "body": "<p>I'm having some issues integrating <strong>Cloudinary</strong> into <strong>Django</strong>. </p>\n\n<p>I have a form on my site, that excepts URLs. This URL is then being parsed with BS4 to find an image URL:</p>\n\n<pre><code>def add(request):\n    ...\n    product.image_url = soup.find('meta', property='image')[\"content\"]\n    ...\n</code></pre>\n\n<p>I then pass URL to <strong>cloudinary.uploader</strong>:</p>\n\n<pre><code>    ...\n    product.image = cloudinary.uploader.upload(product.image_url)\n    product.save()\n    return redirect(product.get_absolute_url())\n</code></pre>\n\n<p>I've added the <strong>CloudinaryField</strong> to the product's class:</p>\n\n<pre><code>class Product(models.Model):\n    image = CloudinaryField('image')\n</code></pre>\n\n<p>When I'm trying to add the product, I'm getting the following error: <code>ProgrammingError at /product/add</code> <code>can't adapt type 'dict'</code> Would appreciate your help with this one.</p>\n"}, {"tags": ["python", "excel"], "comments": [{"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 2, "creation_date": 1555536164, "post_id": 55736096, "comment_id": 98150405, "body": "there is not such format <code>xlsk</code>"}, {"owner": {"reputation": 2355, "user_id": 603384, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c07ea89c0077b83b4a689c2574e02ca7?s=128&d=identicon&r=PG", "display_name": "Evan M", "link": "https://stackoverflow.com/users/603384/evan-m"}, "edited": false, "score": 3, "creation_date": 1555536488, "post_id": 55736096, "comment_id": 98150536, "body": "Yeah you want <code>xlsx</code>, not <code>xlsk</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11285244"}, "edited": false, "score": 1, "creation_date": 1555536888, "post_id": 55736096, "comment_id": 98150660, "body": "I did mistake.."}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 10997667, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LXB35.png?s=128&g=1", "display_name": "osprey", "link": "https://stackoverflow.com/users/10997667/osprey"}, "is_accepted": false, "score": 14, "last_activity_date": 1595705167, "last_edit_date": 1595705167, "creation_date": 1555536061, "answer_id": 55736144, "question_id": 55736096, "link": "https://stackoverflow.com/questions/55736096/valueerror-no-engine-for-filetype-xlsk/55736144#55736144", "title": "ValueError: No engine for filetype: &#39;xlsk&#39;", "body": "<p>Your title answers the question. There is no such excel file format as '.xlsk'. Perhaps you meant</p>\n<pre><code>data.to_excel('output.xlsx')\n</code></pre>\n<p>?</p>\n"}, {"comments": [{"owner": {"reputation": 2805, "user_id": 2583021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRpmD.png?s=128&g=1", "display_name": "Atish Agrawal", "link": "https://stackoverflow.com/users/2583021/atish-agrawal"}, "edited": false, "score": 0, "creation_date": 1609579438, "post_id": 65537414, "comment_id": 115869343, "body": "This does not provide an answer to the question. To critique or request clarification from an author, leave a comment below their post. - <a href=\"/review/low-quality-posts/27982444\">From Review</a>"}, {"owner": {"reputation": 130, "user_id": 12535554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb238db9c311b734ce74b8849c0446a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shah Vipul", "link": "https://stackoverflow.com/users/12535554/shah-vipul"}, "reply_to_user": {"reputation": 2805, "user_id": 2583021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GRpmD.png?s=128&g=1", "display_name": "Atish Agrawal", "link": "https://stackoverflow.com/users/2583021/atish-agrawal"}, "edited": false, "score": 0, "creation_date": 1609606661, "post_id": 65537414, "comment_id": 115876898, "body": "I was getting same error and i converted this  --data.to_excel(&#39;output.xlsk&#39;)-- to this ---df.to_csv(&quot;output.csv&quot;)-- is got my desired output,"}], "tags": [], "owner": {"reputation": 130, "user_id": 12535554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb238db9c311b734ce74b8849c0446a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shah Vipul", "link": "https://stackoverflow.com/users/12535554/shah-vipul"}, "is_accepted": false, "score": 0, "last_activity_date": 1609577855, "creation_date": 1609577855, "answer_id": 65537414, "question_id": 55736096, "link": "https://stackoverflow.com/questions/55736096/valueerror-no-engine-for-filetype-xlsk/65537414#65537414", "title": "ValueError: No engine for filetype: &#39;xlsk&#39;", "body": "<p>simply try</p>\n<pre><code>df.to_csv(&quot;output.csv&quot;)\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11285244"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17573, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1609577855, "creation_date": 1555535836, "question_id": 55736096, "link": "https://stackoverflow.com/questions/55736096/valueerror-no-engine-for-filetype-xlsk", "title": "ValueError: No engine for filetype: &#39;xlsk&#39;", "body": "<pre><code>from datetime import datetime\nx=\"Hello, it is now %s.\" % datetime.now().strftime('%d-%m-%Y %H:%M:%S')\nimport csv\ntry:\n    with open('output.csv', 'w+') as csvFile:\n        writer=csv.writer(csvFile)\n        writer.writerow(x.encode('UTF-8'))\n        print(x.encode('UTF-8'))\nfinally:\n    csvFile.close()\nimport pandas as pd\ndata = pd.read_csv('output.csv')\ndata.to_excel('output.xlsk')\n</code></pre>\n\n<p>Is this office365 problem?\nor my code</p>\n\n<p>environment:windows10</p>\n"}, {"tags": ["python", "selenium", "expression", "warnings", "pytest"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1555535959, "post_id": 55736018, "comment_id": 98150310, "body": "<code>assert</code> statements don&#39;t normally come with convenient messages like that. That&#39;s pytest implicitly rewriting your code. Also, if you&#39;re putting this in your tests, the tests are going to <i>pass</i> even though things went wrong."}, {"owner": {"reputation": 386, "user_id": 9848926, "user_type": "registered", "profile_image": "https://graph.facebook.com/1585271428237434/picture?type=large", "display_name": "Dillon Miller", "link": "https://stackoverflow.com/users/9848926/dillon-miller"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1555536511, "post_id": 55736018, "comment_id": 98150547, "body": "In this case I want the tests to pass, but with warnings. (Pytest supports this). Does Python have a way to output a warning based on a false expression? I&#39;m pretty much just looking for the cleanest approach."}, {"owner": {"reputation": 37796, "user_id": 2650249, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/RBWDR.jpg?s=128&g=1", "display_name": "hoefling", "link": "https://stackoverflow.com/users/2650249/hoefling"}, "edited": false, "score": 1, "creation_date": 1555538544, "post_id": 55736018, "comment_id": 98151162, "body": "You can wrap the warning emit into a function and call it where necessary, like e.g. <code>compare(test_variable, 10, msg=&#39;&#39;)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 903, "user_id": 2312300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7bf30b3d1f6893d8710598eaedf84a?s=128&d=identicon&r=PG", "display_name": "SilentGuy", "link": "https://stackoverflow.com/users/2312300/silentguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1555692563, "creation_date": 1555692563, "answer_id": 55765118, "question_id": 55736018, "link": "https://stackoverflow.com/questions/55736018/output-warning-based-on-expression-result/55765118#55765118", "title": "Output warning based on expression result", "body": "<p>pytest uses python's assertion. \nYou can add a string after assert statement to generate the warning.</p>\n\n<pre><code>assert my_var == 10 , \"Value of my_var: {} is not equal to 10\".format(my_var)\n</code></pre>\n\n<p>It will print this if my_var is 5:</p>\n\n<p><code>Value of my_var: 5 is not equal to 10</code></p>\n"}], "owner": {"reputation": 386, "user_id": 9848926, "user_type": "registered", "profile_image": "https://graph.facebook.com/1585271428237434/picture?type=large", "display_name": "Dillon Miller", "link": "https://stackoverflow.com/users/9848926/dillon-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 81, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555692563, "creation_date": 1555535447, "question_id": 55736018, "link": "https://stackoverflow.com/questions/55736018/output-warning-based-on-expression-result", "title": "Output warning based on expression result", "body": "<p>I'm trying to output warnings in my pytest setup based on the result of an expression. I'm essentially trying to mirror an assert statement <strong>without it stopping my code</strong> while not having to manually format the warning message to mimic the each expression.</p>\n\n<p>For example, I want to make this:</p>\n\n<pre><code>test_variable = 5\nassert test_variable == 10\n\n# Output:\nAssertionError: assert 5 == 10\n</code></pre>\n\n<p>into a simpler version of this:</p>\n\n<pre><code>test_variable = 5\nif test_variable != 10:\n    warnings.warn(f\"{test_variable} != 10\") # Manually format the output.\n\n# Output:\nUserWarning: 5 != 10\n</code></pre>\n\n<p>I couldn't find anything in the <a href=\"https://docs.python.org/3/library/warnings.html\" rel=\"nofollow noreferrer\">warnings</a> module for Python on how to output a warning based on a false expression.</p>\n\n<p>Any ideas on how to simplify the warnings output so I don't have to format for every check I want to perform a check in my tests?</p>\n"}, {"tags": ["python", "class"], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555535722, "post_id": 55736013, "comment_id": 98150220, "body": "Please forgive me, but I am quite new to classes. So I replaced the <code>counting_function_execution</code> in the <code>FUNCTION</code> by <code>self.counting_function_execution</code> , but I get: <code>AttributeError: &#39;CLASS&#39; object has no attribute &#39;counting_function_execution&#39;</code>"}, {"owner": {"reputation": 136, "user_id": 5941708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rVr7Q.jpg?s=128&g=1", "display_name": "Elro444", "link": "https://stackoverflow.com/users/5941708/elro444"}, "reply_to_user": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536075, "post_id": 55736013, "comment_id": 98150360, "body": "True, that is because of the `global counting_function_execution&#39; line, that makes this variable not a class variable, but rather a global variable. just erase that line, and you&#39;ll be good"}, {"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536279, "post_id": 55736013, "comment_id": 98150457, "body": "I see. Thanks a lot !"}], "tags": [], "owner": {"reputation": 136, "user_id": 5941708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rVr7Q.jpg?s=128&g=1", "display_name": "Elro444", "link": "https://stackoverflow.com/users/5941708/elro444"}, "is_accepted": false, "score": 3, "last_activity_date": 1555535952, "last_edit_date": 1555535952, "creation_date": 1555535432, "answer_id": 55736013, "question_id": 55735972, "link": "https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted/55736013#55736013", "title": "Counting Number of Times a Function of a Class is Excuted", "body": "<p>The problem is, that in the function <code>CLASS.FUNCTION</code>, you are not referencing the class variable <code>counting_function_execution</code>, but rather, another local variable with the same name.<br>\nThat is why the error is 'referenced before assignment', because you reference that local variable before you initialize it.</p>\n\n<p>To reference the right variable, you can either use <code>self.counting_function_execution</code> (the instance's variable), or <code>CLASS.counting_function_execution</code> (the class's static variable)</p>\n"}, {"comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555536034, "post_id": 55736078, "comment_id": 98150344, "body": "If you make multiple instances of <code>CLASS</code> will you have one counter or multiples with this?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555536272, "post_id": 55736078, "comment_id": 98150454, "body": "I didn&#39;t downvote. But, per my question, I don&#39;t think this code does what you think it does."}, {"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555536411, "post_id": 55736078, "comment_id": 98150505, "body": "@MarkMeyer Sorry, I thought so, because you commented and there was a downvote. To answer your question: I just tested it... If you create multiple instances, the counter restarts from 0 for every instance. This is good for my case. Would be interesting to know how to avoid that, if necessary..."}], "tags": [], "owner": {"reputation": 160, "user_id": 11364611, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77da82b06e4a3ccf7b1c0085b3abed2b?s=128&d=identicon&r=PG&f=1", "display_name": "figlio perduto", "link": "https://stackoverflow.com/users/11364611/figlio-perduto"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536884, "last_edit_date": 1555536884, "creation_date": 1555535770, "answer_id": 55736078, "question_id": 55735972, "link": "https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted/55736078#55736078", "title": "Counting Number of Times a Function of a Class is Excuted", "body": "<p>If you are counting the execution per class, you can define something outside the class:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>counting_function_execution = 0\n\ndef count_func(func):\n    def decorator_count(self, *args, **kwargs):\n        global counting_function_execution\n        counting_function_execution += 1\n        print(counting_function_execution)\n        return func(self, *args, **kwargs)\n    return decorator_count\n\n\nclass CLASS:\n    # global counting_function_execution \n    # counting_function_execution  = 0\n\n    def __init__(self,name):\n        self.name = name\n\n    @count_func\n    def FUNCTION(self):\n        print(\"Hi \" + self.name)\n        #print(\"This function was already excecuted \", self.counting_function_execution, \" number of times.\")\n</code></pre>\n\n<p>If you are counting the execution per instance, you just need to add <code>self</code> when referring to it, i.e. <code>self.counting_function_execution</code>.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class CLASS:\n    # global counting_function_execution \n    counting_function_execution  = 0\n\n    def __init__(self,name):\n        self.name = name\n\n    def FUNCTION(self):\n        print(\"Hi \" + self.name)\n        print(\"This function was already excecuted \", self.counting_function_execution, \" number of times.\")\n        self.counting_function_execution += 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536092, "post_id": 55736090, "comment_id": 98150370, "body": "Thank you very much for your answer ! By &quot;instance of the class&quot;, you mean a function within the class, right ? Also, what do you mean by &quot;access it from the class itself &quot; ?"}, {"owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "reply_to_user": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536136, "post_id": 55736090, "comment_id": 98150391, "body": "By instance of the class, I mean if you declare an object like <code>class1 = CLASS()</code>"}], "tags": [], "owner": {"reputation": 6521, "user_id": 7583953, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w0Jkd.jpg?s=128&g=1", "display_name": "Alec", "link": "https://stackoverflow.com/users/7583953/alec"}, "is_accepted": false, "score": 1, "last_activity_date": 1555535817, "creation_date": 1555535817, "answer_id": 55736090, "question_id": 55735972, "link": "https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted/55736090#55736090", "title": "Counting Number of Times a Function of a Class is Excuted", "body": "<p><code>counting_function_execution</code> is a class variable. If you want to access it from an instance of the class, use <code>self.counting_function_execution</code>. If you'd like to access it from the class itself, use <code>x.counting_function_execution</code>, where <code>x</code> is the name of the class (<code>CLASS</code> in this case)</p>\n\n<p>Both ways work for your example</p>\n"}, {"comments": [{"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536634, "post_id": 55736213, "comment_id": 98150584, "body": "Very nice answer !  Thanks a lot ! Would you mind to explain me / or add to your answer what <code>self.__class__.counting_function_execution</code> means? What is the purpose of the &quot;<b>class</b>&quot; after &quot;self&quot; ? Sorry, if this is trivial to you. I am very new to classes in python. Thanks !"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536767, "post_id": 55736213, "comment_id": 98150627, "body": "@henry <code>self.__class__.</code> is a nice way to reference the class object without hard-coding the class name. Probably doesn&#39;t matter here, but if you subclass <code>CLASS</code> the subclasses can declare their own static variables separately and the instances calling this method will reference the correct one."}, {"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555536972, "post_id": 55736213, "comment_id": 98150689, "body": "Hmm...okay, I understand that  <code>__class__</code> is a replacement for the actual name of the class, here &quot;CLASS&quot;, which is very convenient, indeed ! :) ... but, I don&#39;t understand why <code>self.counting_function_execution</code> will count how many times <code>FUNCTION</code> is executed for each instance, but <code>self.__class__.counting_function_execution</code> counts it globally for all instances ?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555537806, "post_id": 55736213, "comment_id": 98150949, "body": "One way to think about it is when instances reference <code>self.__class__</code> they all reference the same object which has an attribute <code>counting_function_execution</code>. Any instance accessing that is seeing and manipulating the same object. <code>self</code> however is unique to each instance and each one gets and attribute <code>counting_function_execution</code>"}, {"owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "edited": false, "score": 0, "creation_date": 1555539388, "post_id": 55736213, "comment_id": 98151368, "body": "I see. Thank you very much !! Might I ask you for your help regarding a similar question ? See: <a href=\"https://stackoverflow.com/questions/55736676/count-how-many-times-a-function-is-excuted-after-another-function-for-an-instanc\" title=\"count how many times a function is excuted after another function for an instanc\">stackoverflow.com/questions/55736676/&hellip;</a>"}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 1, "last_activity_date": 1555536645, "last_edit_date": 1555536645, "creation_date": 1555536427, "answer_id": 55736213, "question_id": 55735972, "link": "https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted/55736213#55736213", "title": "Counting Number of Times a Function of a Class is Excuted", "body": "<p>Henry, you're getting some confusing answers here because it's not 100% clear what you want especially if you have multiple instances of the class. If you want ONE count for all variables, you need to reference the class variable from the instance like:</p>\n\n<pre><code>class CLASS:\n    # static class counting_function_execution \n    counting_function_execution  = 0\n\n    def __init__(self,name):\n        self.name = name\n\n    def FUNCTION(self):\n        print(\"Hi \" + self.name)\n        print(\"This function was already excecuted \", self.counting_function_execution, \" number of times.\")\n        self.__class__.counting_function_execution += 1\n\nc = CLASS(\"mark\")\nc.FUNCTION()      # 0\nc.FUNCTION()      # 1\n\nd = CLASS(\"john\")\nd.FUNCTION()      # 2\nd.FUNCTION()      # 3\n\nprint(CLASS.counting_function_execution) #4\n</code></pre>\n\n<p>This will print 0 - 3 and  at the end <code>CLASS.counting_function_execution</code> will equal 4.</p>\n\n<p>If you instead use <code>self.counting_function_execution += 1</code> each instance will get its own count and <code>CLASS.counting_function_execution</code> will be zero at the end because you never actually increment it.</p>\n\n<p>Either way you can avoid the <code>global</code> variable which is a bonus.</p>\n"}], "owner": {"reputation": 1112, "user_id": 6114310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9074e18b02b0da5db1f622dacb2c7829?s=128&d=identicon&r=PG&f=1", "display_name": "henry", "link": "https://stackoverflow.com/users/6114310/henry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "accepted_answer_id": 55736213, "answer_count": 4, "score": 1, "last_activity_date": 1555536884, "creation_date": 1555535209, "question_id": 55735972, "link": "https://stackoverflow.com/questions/55735972/counting-number-of-times-a-function-of-a-class-is-excuted", "title": "Counting Number of Times a Function of a Class is Excuted", "body": "<p>I would like to count how many times I execute a specific function <code>FUNCTION</code> in a class <code>CLASS.</code> I tried to do it by definig a global variable within the class <code>counting_function_execution</code> and increasing it every time the function is executed:</p>\n\n<pre><code>class CLASS:\n    global counting_function_execution \n    counting_function_execution  = 0\n\n    def __init__(self,name):\n        self.name = name\n\n    def FUNCTION(self):\n        print(\"Hi \" + self.name)\n        print(\"This function was already excecuted \", counting_function_execution, \" number of times.\")\n        counting_function_execution += 1\n</code></pre>\n\n<p>However, when I do it: </p>\n\n<pre><code>test = CLASS(\"Fred\")\ntest.FUNCTION()\ntest.FUNCTION()\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>---------------------------------------------------------------------------\nUnboundLocalError                         Traceback (most recent call last)\n&lt;ipython-input-104-dc8f3ae96700&gt; in &lt;module&gt;()\n      1 test = CLASS(\"Fred\")\n----&gt; 2 test.say_hi()\n\n&lt;ipython-input-100-d0166079c633&gt; in say_hi(self)\n      8     def say_hi(self):\n      9         print(\"Hi \" + self.name)\n---&gt; 10         print(\"This function was already excecuted \", counting_function_execution, \" number of times.\")\n     11         counting_function_execution += 1\n     12 \n\nUnboundLocalError: local variable 'counting_function_execution' referenced before assignment\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 3, "creation_date": 1555535270, "post_id": 55735970, "comment_id": 98150082, "body": "You don&#39;t have a tuple in the first one. You just have a string."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1555535343, "post_id": 55735970, "comment_id": 98150104, "body": "<code>(&#39;sin^2&#39;)</code> is not a tuple, that is a string. The <i>comma</i> makes the tuple, not the parentheses. Note, <code>my_tuple = 1,2</code> is a valid tuple, so is <code>my_tuple = 3,</code> and <code>my_tuple = (3,)</code>, whereas <code>my_tuple = (3)</code> is an <code>int</code>"}], "answers": [{"tags": [], "owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535321, "creation_date": 1555535321, "answer_id": 55735997, "question_id": 55735970, "link": "https://stackoverflow.com/questions/55735970/why-does-in-behave-differently-for-lists-and-tuples/55735997#55735997", "title": "Why does &quot;in&quot; behave differently for lists and tuples?", "body": "<p>The expression is being treated as a parenthesized string rather than a tuple. So it ends up being a substring match. To define it as a single-element tuple, there must be a trailing comma:</p>\n\n<pre><code>print(item not in ('sin^2',))\n</code></pre>\n\n<p>This is described here: <a href=\"https://wiki.python.org/moin/TupleSyntax\" rel=\"nofollow noreferrer\">https://wiki.python.org/moin/TupleSyntax</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11376013"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "closed_date": 1555535573, "accepted_answer_id": 55735997, "answer_count": 1, "score": 0, "last_activity_date": 1555535321, "creation_date": 1555535196, "question_id": 55735970, "link": "https://stackoverflow.com/questions/55735970/why-does-in-behave-differently-for-lists-and-tuples", "closed_reason": "Duplicate", "title": "Why does &quot;in&quot; behave differently for lists and tuples?", "body": "<p>The code</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for item in ('sin', 'cos', 'sinc', 'sin^2'):\n    print(item not in ('sin^2'))\n</code></pre>\n\n<p>produces the result</p>\n\n<pre><code>False\nTrue\nTrue\nFalse\n</code></pre>\n\n<p>but</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>for item in ('sin', 'cos', 'sinc', 'sin^2'):\n    print(item not in ['sin^2'])\n</code></pre>\n\n<p>produces the result</p>\n\n<pre><code>True\nTrue\nTrue\nFalse\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["python", "opengl", "glsl", "pyopengl", "opengl-4"], "answers": [{"comments": [{"owner": {"reputation": 4388, "user_id": 586652, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/IkTVT.png?s=128&g=1", "display_name": "Codesmith", "link": "https://stackoverflow.com/users/586652/codesmith"}, "edited": false, "score": 1, "creation_date": 1555616678, "post_id": 55736422, "comment_id": 98182074, "body": "That was it!? It works! Wow, thanks a ton. =D Thanks for the matrix tip too. Should&#39;ve been obvious :)"}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 4, "last_activity_date": 1555537602, "creation_date": 1555537602, "answer_id": 55736422, "question_id": 55735950, "link": "https://stackoverflow.com/questions/55735950/pyopengl-minimal-gldrawarrays-example/55736422#55736422", "title": "PyOpenGL - Minimal glDrawArrays Example", "body": "<p>If a named array buffer object is bound then the last parameter (6th parameter) of <a href=\"https://www.khronos.org/registry/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml\" rel=\"nofollow noreferrer\"><code>glVertexAttribPointer</code></a> is treated as a byte offset into the buffer object's data store. The data type of the parameter has to be <code>ctypes.c_void_p</code>. </p>\n\n<p>This means you have to use a <code>ctypes.cast</code>:</p>\n\n<p>e.g.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>glVertexAttribPointer(attrs['pos'], 4, GL_FLOAT, GL_FALSE, 0,\n    ctypes.cast(0, ctypes.c_void_p))\n</code></pre>\n\n<p>or <code>None</code>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>glVertexAttribPointer(attrs['pos'], 4, GL_FLOAT, GL_FALSE, 0, None)\n</code></pre>\n\n<hr>\n\n<p>Further note, if you do matrix transformation in the GLSL code, then the vector has to be multiplied to the matrix from the right.<br>\nSee <a href=\"https://en.wikibooks.org/wiki/GLSL_Programming/Vector_and_Matrix_Operations\" rel=\"nofollow noreferrer\">GLSL Programming/Vector and Matrix Operations</a></p>\n\n<p>e.g.</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>gl_Position = u_view * u_model * a_pos;\n</code></pre>\n"}], "owner": {"reputation": 4388, "user_id": 586652, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/IkTVT.png?s=128&g=1", "display_name": "Codesmith", "link": "https://stackoverflow.com/users/586652/codesmith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1077, "favorite_count": 1, "accepted_answer_id": 55736422, "answer_count": 1, "score": 3, "last_activity_date": 1594567247, "creation_date": 1555535115, "last_edit_date": 1557857805, "question_id": 55735950, "link": "https://stackoverflow.com/questions/55735950/pyopengl-minimal-gldrawarrays-example", "title": "PyOpenGL - Minimal glDrawArrays Example", "body": "<p>I've seen many minimal PyOpenGL examples, but none of the ones I've found make use of VAOs or glDrawArrays / glDrawElements. Instead they all use glVertex, glut shapes, and occasionally the old glCallList function.</p>\n\n<p>I'm now trying to write a minimal working example that uses vertex arrays and buffers for vertex data. If I understand PyOpenGL correctly, the following code should draw a single white triangle on the screen, but instead I get a blank screen.</p>\n\n<p>What might I be doing incorrectly? I have also had a bit of difficulty making sense of the <a href=\"http://pyopengl.sourceforge.net/documentation/index.html\" rel=\"nofollow noreferrer\">PyOpenGL documentation</a>. Many of the functions are defined one way, but are used in many places and work a totally different way, and some don't even seem to work the way they're defined (e.g. <a href=\"http://pyopengl.sourceforge.net/documentation/manual-3.0/glGenBuffers.html\" rel=\"nofollow noreferrer\">glGenBuffers</a> which states it accepts two arguments, but seems to only accept one and return the generated buffers).</p>\n\n<p>p.s. I'm not using numpy nor pygame.</p>\n\n<pre>\nfrom OpenGL.GLUT import *\nfrom OpenGL.GLU import *\nfrom OpenGL.GL import *\nimport ctypes\nimport sys\n\nname = 'PyOpenGL Example'\nvao = None\nprogram = None\n\ndef main():\n    glutInit(sys.argv)\n    glutInitDisplayMode(GLUT_DOUBLE | GLUT_RGB | GLUT_DEPTH)\n    glutInitContextVersion(4,0)\n    glutInitWindowSize(600,400)\n    glutCreateWindow(name)\n\n    print(glGetString(GL_VERSION))\n\n    glClearColor(0,0,0,1)\n\n    glutDisplayFunc(display)\n    # glutMouseFunc(callback)\n    # glutMotionFunc(callback)\n    # glutPassiveMotionFunc(callback)\n    # glutKeyboardFunc(callback)\n    # glutSpecialFunc(callback)\n\n    vshader = glCreateShader(GL_VERTEX_SHADER)\n    fshader = glCreateShader(GL_FRAGMENT_SHADER)\n\n    glShaderSource(vshader,[\"\"\"\n        #version 400\n\n        uniform mat4 u_model;\n        uniform mat4 u_view;\n\n        in vec4 a_pos;\n        in vec4 a_color;\n        in vec4 a_normal;\n\n        out vec4 v_color;\n        out vec4 v_normal;\n\n        void main() {\n            gl_Position = a_pos; // * u_model * u_view;\n            v_color = a_color;\n            v_normal = normalize(a_normal);\n        }\n    \"\"\"])\n    glCompileShader(vshader)\n    msg = glGetShaderInfoLog(vshader)\n    if msg:\n        print(f\"Failed to compile Vertex Shader: {msg}\")\n        exit(0)\n\n    glShaderSource(fshader,[\"\"\"\n        #version 400\n\n        uniform mat4 u_model;\n        uniform mat4 u_view;\n\n        in vec4 v_color;\n        in vec4 v_normal;\n\n        layout(location=0) out vec4 f_color;\n\n        void main() {\n            f_color = v_color;\n        }\n    \"\"\"])\n    glCompileShader(fshader)\n    msg = glGetShaderInfoLog(fshader)\n    if msg:\n        print(f\"Failed to compile Fragment Shader: {msg}\")\n        exit(0)\n\n    global program\n    program = glCreateProgram()\n\n    glAttachShader(program,vshader)\n    glAttachShader(program,fshader)\n\n    glLinkProgram(program)\n    msg = glGetProgramInfoLog(program)\n    if msg:\n        print(f\"Failed to link Program: {msg}\")\n        exit(0)\n\n    glUseProgram(program)\n\n    uniforms = {\n        'model': glGetUniformLocation(program,'u_model'),\n        'view': glGetUniformLocation(program,'u_view'),\n    }\n    print(uniforms)\n\n    attrs = {\n        'pos': glGetAttribLocation(program,'a_pos'),\n        'color': glGetAttribLocation(program,'a_color'),\n        'normal': glGetAttribLocation(program,'a_normal'),\n    }\n    print(attrs)\n\n    global vao\n    vao = glGenVertexArrays(1)\n    glBindVertexArray(vao)\n\n    verts = [\n        -1, -1, 0, 1,\n        1, -1, 0, 1,\n        0, 1, 0, 1,\n    ]\n    colors = [\n        1, 1, 1, 1,\n        1, 1, 1, 1,\n        1, 1, 1, 1,\n    ]\n    normals = [\n        0, 0, 1, 0,\n        0, 0, 1, 0,\n        0, 0, 1, 0,\n    ]\n\n    vbuf,cbuf,nbuf = glGenBuffers(3)\n    glBindBuffer(GL_ARRAY_BUFFER,vbuf)\n    glBufferData(GL_ARRAY_BUFFER,(ctypes.c_float*len(verts))(*verts),GL_STATIC_DRAW)\n    glVertexAttribPointer(attrs['pos'],4,GL_FLOAT,GL_FALSE,0,0)\n    glEnableVertexAttribArray(attrs['pos'])\n\n    glBindBuffer(GL_ARRAY_BUFFER,cbuf)\n    glBufferData(GL_ARRAY_BUFFER,(ctypes.c_float*len(colors))(*colors),GL_STATIC_DRAW)\n    glVertexAttribPointer(attrs['color'],4,GL_FLOAT,GL_FALSE,0,0)\n    glEnableVertexAttribArray(attrs['color'])\n\n    glBindBuffer(GL_ARRAY_BUFFER,nbuf)\n    glBufferData(GL_ARRAY_BUFFER,(ctypes.c_float*len(normals))(*normals),GL_STATIC_DRAW)\n    # glVertexAttribPointer(attrs['normal'],4,GL_FLOAT,GL_FALSE,0,0)\n    # glEnableVertexAttribArray(attrs['normal'])\n\n    glBindBuffer(GL_ARRAY_BUFFER,0)\n    glBindVertexArray(0)\n\n    identity = [\n        1, 0, 0, 0,\n        0, 1, 0, 0,\n        0, 0, 1, 0,\n        0, 0, 0, 1,\n    ]\n    # glUniformMatrix4fv(uniforms['model'],1,GL_FALSE,(ctypes.c_float*16)(*identity))\n    # glUniformMatrix4fv(uniforms['view'],1,GL_FALSE,(ctypes.c_float*16)(*identity))\n\n    glutMainLoop()\n    return\n\ndef display():\n    glUseProgram(program)\n    glClear(GL_COLOR_BUFFER_BIT|GL_DEPTH_BUFFER_BIT)\n    glViewport(0,0,600,400)\n\n    print(vao)\n    glBindVertexArray(vao)\n    glDrawArrays(GL_TRIANGLES,0,3)\n    glBindVertexArray(0)\n\n    glutSwapBuffers()\n    return\n\ndef callback(*args):\n    print(*args)\n\nif __name__ == '__main__': main()\n</pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 1, "creation_date": 1555535310, "post_id": 55735926, "comment_id": 98150093, "body": "did you by any chance wrote <code>models.Models</code> (with an <code>s</code> at the end) instead of <code>models.Model</code> here?"}, {"owner": {"reputation": 11, "user_id": 11376005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4774aef0e6ddd106bc26438fc472d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie.C", "link": "https://stackoverflow.com/users/11376005/jamie-c"}, "reply_to_user": {"reputation": 314794, "user_id": 67579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BJXub.png?s=128&g=1", "display_name": "Willem Van Onsem", "link": "https://stackoverflow.com/users/67579/willem-van-onsem"}, "edited": false, "score": 0, "creation_date": 1555535494, "post_id": 55735926, "comment_id": 98150152, "body": "class product(models.Model):     item = models.Textfiels()     description = models.Textfields()     price = models.Textfields()"}, {"owner": {"reputation": 756, "user_id": 220783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3200bf073569ae08866045ab935a58d7?s=128&d=identicon&r=PG", "display_name": "kchan", "link": "https://stackoverflow.com/users/220783/kchan"}, "edited": false, "score": 0, "creation_date": 1555539674, "post_id": 55735926, "comment_id": 98151430, "body": "you have a spelling error: <code>models.Textfiels</code> but you may need to provide more information about your setup so we can help diagnose the problem. What version of django are you using? Are you using virtualenv? what is your project layout like?"}, {"owner": {"reputation": 11, "user_id": 11376005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4774aef0e6ddd106bc26438fc472d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie.C", "link": "https://stackoverflow.com/users/11376005/jamie-c"}, "edited": false, "score": 0, "creation_date": 1555540496, "post_id": 55735926, "comment_id": 98151610, "body": "django 2.0.7 and vitrualenv. Im literally just trying to make my first app. I was using sublime text but preferred pycharm and suddenly it is not working. django.db is unresolved i think that might be the problem"}, {"owner": {"reputation": 756, "user_id": 220783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3200bf073569ae08866045ab935a58d7?s=128&d=identicon&r=PG", "display_name": "kchan", "link": "https://stackoverflow.com/users/220783/kchan"}, "edited": false, "score": 0, "creation_date": 1555541040, "post_id": 55735926, "comment_id": 98151743, "body": "A quick way to test is to activate your virtualenv and try the import statement in the python interpreter in your terminal: 1) source /path/to/your/virtualenv/bin/activate and 2) run <code>python</code> in your terminal and try 3) <code>from django.db.models import Model</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11376005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4774aef0e6ddd106bc26438fc472d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie.C", "link": "https://stackoverflow.com/users/11376005/jamie-c"}, "edited": false, "score": 0, "creation_date": 1555570679, "post_id": 55736974, "comment_id": 98158414, "body": "Even when i correct the spellings or typos it has the same problem :/"}, {"owner": {"reputation": 1208, "user_id": 826736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2df9186d6b4ace31885f66e4b31a339?s=128&d=identicon&r=PG", "display_name": "glenfant", "link": "https://stackoverflow.com/users/826736/glenfant"}, "reply_to_user": {"reputation": 11, "user_id": 11376005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4774aef0e6ddd106bc26438fc472d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie.C", "link": "https://stackoverflow.com/users/11376005/jamie-c"}, "edited": false, "score": 0, "creation_date": 1555571063, "post_id": 55736974, "comment_id": 98158596, "body": "If you typed exactly what&#39;s in my reply, you&#39;re in the right direction. But we need more context to make an real answer to your problem. i.e. did you create a virtualenv with a compatible Python version ? Did you try to create the <code>product</code> model in the django console ? What the exact traceback ? ..."}], "tags": [], "owner": {"reputation": 1208, "user_id": 826736, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2df9186d6b4ace31885f66e4b31a339?s=128&d=identicon&r=PG", "display_name": "glenfant", "link": "https://stackoverflow.com/users/826736/glenfant"}, "is_accepted": false, "score": 0, "last_activity_date": 1555541469, "creation_date": 1555541469, "answer_id": 55736974, "question_id": 55735926, "link": "https://stackoverflow.com/questions/55735926/attributeerror-module-django-db-models-has-no-attribute-models/55736974#55736974", "title": "AttributeError: module &#39;django.db.models&#39; has no attribute &#39;Models&#39;", "body": "<p>There's no such class <code>django.db.models.TextFields</code> but this works for me on any recent version :</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from django.db import models\nclass product(models.Model):\n    item = models.TextFiel()\n    description = models.TextField()\n    price = models.TextField()\n</code></pre>\n\n<p>You made 2 typos : the correct name is <code>TextField</code> and you typed <code>Textfields</code> (Python is case sensitive)</p>\n\n<p>I suspect you didn't setup correctly your project under PyCharm. When correctly setup, it shows warnings on misspelled names (names underlined with red dots with default setting).</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8705958, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-j7tScyXI0iI/AAAAAAAAAAI/AAAAAAAAR8c/DDqgu2R6icQ/photo.jpg?sz=128", "display_name": "Tarik Sidiki", "link": "https://stackoverflow.com/users/8705958/tarik-sidiki"}, "is_accepted": false, "score": 0, "last_activity_date": 1574772762, "creation_date": 1574772762, "answer_id": 59051417, "question_id": 55735926, "link": "https://stackoverflow.com/questions/55735926/attributeerror-module-django-db-models-has-no-attribute-models/59051417#59051417", "title": "AttributeError: module &#39;django.db.models&#39; has no attribute &#39;Models&#39;", "body": "<p>There's <em>another variation</em> to this question and that is in the form of:</p>\n\n<pre><code>AttributeError: module 'django.contrib.auth' has no attribute 'models'\n</code></pre>\n\n<p>As far as I can tell this is typically caused by conflicting imports or improperly imported files. Another cause could be changes to Django's updates but I'm not sure about that as I didn't find any documentation that changed that aspect of the Django library.</p>\n\n<p>Short term solution to this is as follows:</p>\n\n<pre><code>from django.contrib.auth import models\n\nclass MyClass(models.User): \"\"\" \"\"\"\n</code></pre>\n\n<p>This will allow you to at least test your runserver command and website on a browser of your choosing.</p>\n\n<p>I'm still trying to figure out any other solutions to this problem that can be a fix for individually importing the 'auth' module itself.</p>\n\n<p>At the time of this writing I'm using Django 2.2.6 whereas Django 2.2.7 is out and 2.2.8 is on the way to be released.</p>\n"}, {"tags": [], "owner": {"reputation": 869, "user_id": 6511990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50509af8cfc93c535d6f4d1dfd0d65f6?s=128&d=identicon&r=PG&f=1", "display_name": "dorriz", "link": "https://stackoverflow.com/users/6511990/dorriz"}, "is_accepted": false, "score": 0, "last_activity_date": 1594635967, "creation_date": 1594635967, "answer_id": 62873880, "question_id": 55735926, "link": "https://stackoverflow.com/questions/55735926/attributeerror-module-django-db-models-has-no-attribute-models/62873880#62873880", "title": "AttributeError: module &#39;django.db.models&#39; has no attribute &#39;Models&#39;", "body": "<p>I'm not sure if this is the solution , but when I had this problem it was because in my admin.py file I had</p>\n<pre><code>from django.contrib import admin\n\nfrom meetings.models import Meeting, Room\n\nadmin.site.register(Meeting, Room)\n</code></pre>\n<p>But changing it to solved the issue</p>\n<pre><code>from django.contrib import admin\n\n# Register your models here.\nfrom meetings.models import Meeting, Room\n\nadmin.site.register(Meeting)\nadmin.site.register(Room)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11376005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4774aef0e6ddd106bc26438fc472d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Jamie.C", "link": "https://stackoverflow.com/users/11376005/jamie-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1357, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1594635967, "creation_date": 1555534997, "last_edit_date": 1555535989, "question_id": 55735926, "link": "https://stackoverflow.com/questions/55735926/attributeerror-module-django-db-models-has-no-attribute-models", "title": "AttributeError: module &#39;django.db.models&#39; has no attribute &#39;Models&#39;", "body": "<p>When I'm trying to migrate a new app onto the server i get this error</p>\n\n<blockquote>\n  <p>AttributeError: module 'django.db.models' has no attribute 'Models'- in terminal</p>\n</blockquote>\n\n<p>I'm using PyCharm. I am very fresh to Django and web development so any tips will help. Thanks!</p>\n\n<pre><code>from django.db import models\n\n# Create your models here.\nclass product(models.Model):\n    item = models.Textfiels()\n    description = models.Textfields()\n    price = models.Textfields()\n</code></pre>\n"}, {"tags": ["python", "selenium", "web-scraping"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 6346831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463dfc44472167912a0ed06a0496b9b2?s=128&d=identicon&r=PG", "display_name": "jggarita", "link": "https://stackoverflow.com/users/6346831/jggarita"}, "edited": false, "score": 0, "creation_date": 1555536246, "post_id": 55736054, "comment_id": 98150449, "body": "Thanks!! The problem is that I want to use the index because I&#39;m looping over each country. Basically what I want is to select index 137 and then to print the country corresponding with such index value. Is there another way to do it?"}, {"owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "reply_to_user": {"reputation": 151, "user_id": 6346831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463dfc44472167912a0ed06a0496b9b2?s=128&d=identicon&r=PG", "display_name": "jggarita", "link": "https://stackoverflow.com/users/6346831/jggarita"}, "edited": false, "score": 0, "creation_date": 1555536434, "post_id": 55736054, "comment_id": 98150515, "body": "Why don&#39;t you loop over all options by grabbing collection of webElements using my last example then you can select as you go along and use .text on current webElement to get the name"}], "tags": [], "owner": {"reputation": 71123, "user_id": 6241235, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dCxzx.png?s=128&g=1", "display_name": "QHarr", "link": "https://stackoverflow.com/users/6241235/qharr"}, "is_accepted": true, "score": 3, "last_activity_date": 1555613293, "last_edit_date": 1555613293, "creation_date": 1555535664, "answer_id": 55736054, "question_id": 55735903, "link": "https://stackoverflow.com/questions/55735903/selenium-select-by-value-and-then-print-the-option-text/55736054#55736054", "title": "Selenium select_by_value and then print the option text", "body": "<p>You can use <code>first_selected_option</code> to return currently selected</p>\n\n<pre><code>selected = mySelect.first_selected_option\nprint(selected.text)\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.support.ui import Select\n\nurl = 'http://www.debentures.com.br/exploreosnd/consultaadados/sndemumclique/'\ndriver = webdriver.Chrome()\ndriver.get(url)\noptions = WebDriverWait(driver,10).until(EC.presence_of_all_elements_located((By.CSS_SELECTOR, '[name=\"ctl00$ddlEmi\"] option')))\n\nimporter = 3\n\nmySelect = Select(driver.find_element_by_css_selector('[name=\"ctl00$ddlEmi\"]'))\nmySelect.select_by_index(importer)\nselected = mySelect.first_selected_option\nprint(selected.text)\n</code></pre>\n\n<hr>\n\n<p>You can use an attribute = value css selector to get the option element then grab the .text from it</p>\n\n<pre><code>label = driver.find_element_by_css_selector('[value=\"C704\"]').text\n</code></pre>\n\n<hr>\n\n<p>But you could avoid index and select by text</p>\n\n<pre><code>select.select_by_visible_text('Viet Nam')\n</code></pre>\n\n<hr>\n\n<p>Or grab all the options</p>\n\n<pre><code>options = driver.find_elements_by_css_selector('[name=\"ctl00$c$cboExporter\"] option')\n</code></pre>\n\n<p>and then index into that and use .text to return the associated value</p>\n\n<p>Example:</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nurl = 'http://www.debentures.com.br/exploreosnd/consultaadados/sndemumclique/'\ndriver = webdriver.Chrome()\ndriver.get(url)\noptions = WebDriverWait(driver,10).until(EC.presence_of_all_elements_located((By.CSS_SELECTOR, '[name=\"ctl00$ddlEmi\"] option')))\noptions[5].click()\nprint(options[5].text)\n</code></pre>\n\n<hr>\n\n<p>If you want to try a loop over all then maybe something like</p>\n\n<pre><code>options = driver.find_elements_by_css_selector('[name=\"ctl00$c$cboExporter\"] option')\n\nfor option in options:\n    option.click()\n    print(option.text)\n</code></pre>\n\n<p>Here is an example loop</p>\n\n<pre><code>from selenium import webdriver\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\nurl = 'http://www.debentures.com.br/exploreosnd/consultaadados/sndemumclique/'\ndriver = webdriver.Chrome()\ndriver.get(url)\noptions = WebDriverWait(driver,10).until(EC.presence_of_all_elements_located((By.CSS_SELECTOR, '[name=\"ctl00$ddlEmi\"] option')))\n\nfor option in options[1:]:\n    option.click()\n    print(option.text)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 14553, "user_id": 3446126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/I37Df.png?s=128&g=1", "display_name": "Todor Minakov", "link": "https://stackoverflow.com/users/3446126/todor-minakov"}, "is_accepted": false, "score": 0, "last_activity_date": 1555570387, "creation_date": 1555570387, "answer_id": 55740571, "question_id": 55735903, "link": "https://stackoverflow.com/questions/55735903/selenium-select-by-value-and-then-print-the-option-text/55740571#55740571", "title": "Selenium select_by_value and then print the option text", "body": "<p>Just before you click the option, you can locate it and get its text:</p>\n\n<pre><code>mySelect = Select(driver.find_element_by_id(\"ctl00_c_cboImporter\"))\n# with css\ntext = mySelect.find_element_by_css(\"option:nth-of-type({})\".format(importer)).text\n# xpath\ntext = mySelect.find_element_by_xpath(\"option[{}])\".format(importer)).text\nmySelect.select_by_index(importer)\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 6346831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/463dfc44472167912a0ed06a0496b9b2?s=128&d=identicon&r=PG", "display_name": "jggarita", "link": "https://stackoverflow.com/users/6346831/jggarita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 55736054, "answer_count": 2, "score": 3, "last_activity_date": 1555613293, "creation_date": 1555534881, "last_edit_date": 1555535614, "question_id": 55735903, "link": "https://stackoverflow.com/questions/55735903/selenium-select-by-value-and-then-print-the-option-text", "title": "Selenium select_by_value and then print the option text", "body": "<p>I'm scraping some data from the WTO and I need to select the importer from a dropdown menu. For importer 137 (Vietnam), my code finds the menu, selects index 137 and shows the data. However, I also want my code to print the label or the country corresponding to index 137 (Vietnam) but I'm struggling with such task. </p>\n\n<p>This is basically what I have to select importer 137:</p>\n\n<pre><code>importer=137\ntime.sleep(1)\nmySelect = Select(driver.find_element_by_id(\"ctl00_c_cboImporter\"))\nmySelect.select_by_index(importer)\n</code></pre>\n\n<p>And here is the html of the menu:</p>\n\n<pre><code>&lt;select name=\"ctl00$c$cboExporter\" onchange=\"javascript:setTimeout('__doPostBack(\\'ctl00$c$cboExporter\\',\\'\\')', 0)\" id=\"ctl00_c_cboExporter\" class=\"ListControl\" style=\"width:100%;font-weight:normal;font-size:11px;font-family:Tahoma,Arial,Helvetica,sans-serif;color:#333399;border-width:1px;border-style:Solid;border-color:#6291CC;background-color:White;\"&gt;\n&lt;option value=\"A000\"&gt;Select an Exporter&lt;/option&gt;\n&lt;option selected=\"selected\" value=\"C004\"&gt;Afghanistan&lt;/option&gt;\n&lt;option value=\"C008\"&gt;Albania&lt;/option&gt;\n&lt;option value=\"C012\"&gt;Algeria&lt;/option&gt;\n&lt;option value=\"C020\"&gt;Andorra&lt;/option&gt;\n&lt;option value=\"C024\"&gt;Angola&lt;/option&gt;\n&lt;option value=\"C028\"&gt;Antigua and Barbuda&lt;/option&gt;\n&lt;option value=\"C032\"&gt;Argentina&lt;/option&gt;\n&lt;option value=\"C051\"&gt;Armenia&lt;/option&gt;\n&lt;option value=\"C036\"&gt;Australia&lt;/option&gt;\n&lt;option value=\"C031\"&gt;Azerbaijan&lt;/option&gt;\n&lt;option value=\"C044\"&gt;Bahamas&lt;/option&gt;\n&lt;option value=\"C048\"&gt;Bahrain, Kingdom of&lt;/option&gt;\n&lt;option value=\"C050\"&gt;Bangladesh&lt;/option&gt;\n&lt;option value=\"C052\"&gt;Barbados&lt;/option&gt;\n&lt;option value=\"C112\"&gt;Belarus&lt;/option&gt;\n&lt;option value=\"C084\"&gt;Belize&lt;/option&gt;\n&lt;option value=\"C204\"&gt;Benin&lt;/option&gt;\n&lt;option value=\"C064\"&gt;Bhutan&lt;/option&gt;\n&lt;option value=\"C068\"&gt;Bolivia, Plurinational State of&lt;/option&gt;\n&lt;option value=\"C070\"&gt;Bosnia and Herzegovina&lt;/option&gt;\n&lt;option value=\"C072\"&gt;Botswana&lt;/option&gt;\n&lt;option value=\"C076\"&gt;Brazil&lt;/option&gt;\n&lt;option value=\"C096\"&gt;Brunei Darussalam&lt;/option&gt;\n&lt;option value=\"C854\"&gt;Burkina Faso&lt;/option&gt;\n&lt;option value=\"C108\"&gt;Burundi&lt;/option&gt;\n&lt;option value=\"C132\"&gt;Cabo Verde&lt;/option&gt;\n&lt;option value=\"C116\"&gt;Cambodia&lt;/option&gt;\n&lt;option value=\"C120\"&gt;Cameroon&lt;/option&gt;\n&lt;option value=\"C124\"&gt;Canada&lt;/option&gt;\n&lt;option value=\"C140\"&gt;Central African Republic&lt;/option&gt;\n&lt;option value=\"C148\"&gt;Chad&lt;/option&gt;\n&lt;option value=\"C152\"&gt;Chile&lt;/option&gt;\n&lt;option value=\"C156\"&gt;China&lt;/option&gt;\n&lt;option value=\"C170\"&gt;Colombia&lt;/option&gt;\n&lt;option value=\"C174\"&gt;Comoros&lt;/option&gt;\n&lt;option value=\"C178\"&gt;Congo&lt;/option&gt;\n&lt;option value=\"C188\"&gt;Costa Rica&lt;/option&gt;\n&lt;option value=\"C384\"&gt;C\u00f4te d'Ivoire&lt;/option&gt;\n&lt;option value=\"C192\"&gt;Cuba&lt;/option&gt;\n&lt;option value=\"C180\"&gt;Democratic Republic of the Congo&lt;/option&gt;\n&lt;option value=\"C262\"&gt;Djibouti&lt;/option&gt;\n&lt;option value=\"C212\"&gt;Dominica&lt;/option&gt;\n&lt;option value=\"C214\"&gt;Dominican Republic&lt;/option&gt;\n&lt;option value=\"C218\"&gt;Ecuador&lt;/option&gt;\n&lt;option value=\"C818\"&gt;Egypt&lt;/option&gt;\n&lt;option value=\"C222\"&gt;El Salvador&lt;/option&gt;\n&lt;option value=\"C226\"&gt;Equatorial Guinea&lt;/option&gt;\n&lt;option value=\"C748\"&gt;Eswatini&lt;/option&gt;\n&lt;option value=\"C231\"&gt;Ethiopia&lt;/option&gt;\n&lt;option value=\"U918\"&gt;European Union&lt;/option&gt;\n&lt;option value=\"C242\"&gt;Fiji&lt;/option&gt;\n&lt;option value=\"C266\"&gt;Gabon&lt;/option&gt;\n&lt;option value=\"C270\"&gt;The Gambia&lt;/option&gt;\n&lt;option value=\"C268\"&gt;Georgia&lt;/option&gt;\n&lt;option value=\"C288\"&gt;Ghana&lt;/option&gt;\n&lt;option value=\"C308\"&gt;Grenada&lt;/option&gt;\n&lt;option value=\"C320\"&gt;Guatemala&lt;/option&gt;\n&lt;option value=\"C324\"&gt;Guinea&lt;/option&gt;\n&lt;option value=\"C624\"&gt;Guinea-Bissau&lt;/option&gt;\n&lt;option value=\"C328\"&gt;Guyana&lt;/option&gt;\n&lt;option value=\"C332\"&gt;Haiti&lt;/option&gt;\n&lt;option value=\"C340\"&gt;Honduras&lt;/option&gt;\n&lt;option value=\"C344\"&gt;Hong Kong, China&lt;/option&gt;\n&lt;option value=\"C352\"&gt;Iceland&lt;/option&gt;\n&lt;option value=\"C356\"&gt;India&lt;/option&gt;\n&lt;option value=\"C360\"&gt;Indonesia&lt;/option&gt;\n&lt;option value=\"C364\"&gt;Iran&lt;/option&gt;\n&lt;option value=\"C368\"&gt;Iraq&lt;/option&gt;\n&lt;option value=\"C376\"&gt;Israel&lt;/option&gt;\n&lt;option value=\"C388\"&gt;Jamaica&lt;/option&gt;\n&lt;option value=\"C392\"&gt;Japan&lt;/option&gt;\n&lt;option value=\"C400\"&gt;Jordan&lt;/option&gt;\n&lt;option value=\"C398\"&gt;Kazakhstan&lt;/option&gt;\n&lt;option value=\"C404\"&gt;Kenya&lt;/option&gt;\n&lt;option value=\"C410\"&gt;Korea, Republic of&lt;/option&gt;\n&lt;option value=\"C414\"&gt;Kuwait, the State of&lt;/option&gt;\n&lt;option value=\"C417\"&gt;Kyrgyz Republic&lt;/option&gt;\n&lt;option value=\"C418\"&gt;Lao People's Democratic Republic&lt;/option&gt;\n&lt;option value=\"C422\"&gt;Lebanese Republic&lt;/option&gt;\n&lt;option value=\"C426\"&gt;Lesotho&lt;/option&gt;\n&lt;option value=\"C430\"&gt;Liberia&lt;/option&gt;\n&lt;option value=\"C434\"&gt;Libya&lt;/option&gt;\n&lt;option value=\"C438\"&gt;Liechtenstein&lt;/option&gt;\n&lt;option value=\"C446\"&gt;Macao, China&lt;/option&gt;\n&lt;option value=\"C450\"&gt;Madagascar&lt;/option&gt;\n&lt;option value=\"C454\"&gt;Malawi&lt;/option&gt;\n&lt;option value=\"C458\"&gt;Malaysia&lt;/option&gt;\n&lt;option value=\"C462\"&gt;Maldives&lt;/option&gt;\n&lt;option value=\"C466\"&gt;Mali&lt;/option&gt;\n&lt;option value=\"C478\"&gt;Mauritania&lt;/option&gt;\n&lt;option value=\"C480\"&gt;Mauritius&lt;/option&gt;\n&lt;option value=\"C484\"&gt;Mexico&lt;/option&gt;\n&lt;option value=\"C498\"&gt;Moldova, Republic of&lt;/option&gt;\n&lt;option value=\"C496\"&gt;Mongolia&lt;/option&gt;\n&lt;option value=\"C893\"&gt;Montenegro&lt;/option&gt;\n&lt;option value=\"C504\"&gt;Morocco&lt;/option&gt;\n&lt;option value=\"C508\"&gt;Mozambique&lt;/option&gt;\n&lt;option value=\"C104\"&gt;Myanmar&lt;/option&gt;\n&lt;option value=\"C516\"&gt;Namibia&lt;/option&gt;\n&lt;option value=\"C524\"&gt;Nepal&lt;/option&gt;\n&lt;option value=\"C554\"&gt;New Zealand&lt;/option&gt;\n&lt;option value=\"C558\"&gt;Nicaragua&lt;/option&gt;\n&lt;option value=\"C562\"&gt;Niger&lt;/option&gt;\n&lt;option value=\"C566\"&gt;Nigeria&lt;/option&gt;\n&lt;option value=\"C807\"&gt;North Macedonia&lt;/option&gt;\n&lt;option value=\"C578\"&gt;Norway&lt;/option&gt;\n&lt;option value=\"C512\"&gt;Oman&lt;/option&gt;\n&lt;option value=\"C586\"&gt;Pakistan&lt;/option&gt;\n&lt;option value=\"C591\"&gt;Panama&lt;/option&gt;\n&lt;option value=\"C598\"&gt;Papua New Guinea&lt;/option&gt;\n&lt;option value=\"C600\"&gt;Paraguay&lt;/option&gt;\n&lt;option value=\"C604\"&gt;Peru&lt;/option&gt;\n&lt;option value=\"C608\"&gt;Philippines&lt;/option&gt;\n&lt;option value=\"C634\"&gt;Qatar&lt;/option&gt;\n&lt;option value=\"C643\"&gt;Russian Federation&lt;/option&gt;\n&lt;option value=\"C646\"&gt;Rwanda&lt;/option&gt;\n&lt;option value=\"C659\"&gt;Saint Kitts and Nevis&lt;/option&gt;\n&lt;option value=\"C662\"&gt;Saint Lucia&lt;/option&gt;\n&lt;option value=\"C670\"&gt;Saint Vincent and the Grenadines&lt;/option&gt;\n&lt;option value=\"C882\"&gt;Samoa&lt;/option&gt;\n&lt;option value=\"C678\"&gt;Sao Tom\u00e9 and Principe&lt;/option&gt;\n&lt;option value=\"C682\"&gt;Saudi Arabia, Kingdom of&lt;/option&gt;\n&lt;option value=\"C686\"&gt;Senegal&lt;/option&gt;\n&lt;option value=\"C892\"&gt;Serbia&lt;/option&gt;\n&lt;option value=\"C690\"&gt;Seychelles&lt;/option&gt;\n&lt;option value=\"C694\"&gt;Sierra Leone&lt;/option&gt;\n&lt;option value=\"C702\"&gt;Singapore&lt;/option&gt;\n&lt;option value=\"C090\"&gt;Solomon Islands&lt;/option&gt;\n&lt;option value=\"C706\"&gt;Somalia&lt;/option&gt;\n&lt;option value=\"C710\"&gt;South Africa&lt;/option&gt;\n&lt;option value=\"C728\"&gt;South Sudan&lt;/option&gt;\n&lt;option value=\"C144\"&gt;Sri Lanka&lt;/option&gt;\n&lt;option value=\"C736\"&gt;Sudan&lt;/option&gt;\n&lt;option value=\"C740\"&gt;Suriname&lt;/option&gt;\n&lt;option value=\"C756\"&gt;Switzerland&lt;/option&gt;\n&lt;option value=\"C760\"&gt;Syrian Arab Republic&lt;/option&gt;\n&lt;option value=\"C158\"&gt;Chinese Taipei&lt;/option&gt;\n&lt;option value=\"C762\"&gt;Tajikistan&lt;/option&gt;\n&lt;option value=\"C834\"&gt;Tanzania&lt;/option&gt;\n&lt;option value=\"C764\"&gt;Thailand&lt;/option&gt;\n&lt;option value=\"C626\"&gt;Timor-Leste&lt;/option&gt;\n&lt;option value=\"C768\"&gt;Togo&lt;/option&gt;\n&lt;option value=\"C776\"&gt;Tonga&lt;/option&gt;\n&lt;option value=\"C780\"&gt;Trinidad and Tobago&lt;/option&gt;\n&lt;option value=\"C788\"&gt;Tunisia&lt;/option&gt;\n&lt;option value=\"C792\"&gt;Turkey&lt;/option&gt;\n&lt;option value=\"C800\"&gt;Uganda&lt;/option&gt;\n&lt;option value=\"C804\"&gt;Ukraine&lt;/option&gt;\n&lt;option value=\"C784\"&gt;United Arab Emirates&lt;/option&gt;\n&lt;option value=\"C840\"&gt;United States of America&lt;/option&gt;\n&lt;option value=\"C858\"&gt;Uruguay&lt;/option&gt;\n&lt;option value=\"C860\"&gt;Uzbekistan&lt;/option&gt;\n&lt;option value=\"C548\"&gt;Vanuatu&lt;/option&gt;\n&lt;option value=\"C862\"&gt;Venezuela, Bolivarian Republic of&lt;/option&gt;\n&lt;option value=\"C704\"&gt;Viet Nam&lt;/option&gt;\n&lt;option value=\"C887\"&gt;Yemen&lt;/option&gt;\n&lt;option value=\"C894\"&gt;Zambia&lt;/option&gt;\n&lt;option value=\"C716\"&gt;Zimbabwe&lt;/option&gt;\n</code></pre>\n\n<p></p>\n\n<p>After selecting the importer 137, I want my code to find the country corresponding to importer 137, based on the options in the selected dropdown menu.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "output", "formula", "equation", "python-3.7"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1555535229, "post_id": 55735894, "comment_id": 98150070, "body": "What do you mean by &quot;equation&quot;? You mean a <i>formatted string</i>, or something like what you could get form <code>sympy</code>, the computer algebra system?"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 10201147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NCuk9nMgIBw/AAAAAAAAAAI/AAAAAAAACOM/qG_L6cot_Lw/photo.jpg?sz=128", "display_name": "Christian Albina", "link": "https://stackoverflow.com/users/10201147/christian-albina"}, "edited": false, "score": 0, "creation_date": 1555539830, "post_id": 55735921, "comment_id": 98151456, "body": "Thank you, that really helps. I&#39;m trying to use MatPlotLib to output a bunch of data and one of the columns is equations. Would you have any suggestions for how to print the equation form that SymPy allows for in a table as MatPlotLib makes?"}, {"owner": {"reputation": 8084, "user_id": 2896626, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4cd83959d7fe39c658d2e49cfecfe4b6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul92", "link": "https://stackoverflow.com/users/2896626/paul92"}, "reply_to_user": {"reputation": 53, "user_id": 10201147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NCuk9nMgIBw/AAAAAAAAAAI/AAAAAAAACOM/qG_L6cot_Lw/photo.jpg?sz=128", "display_name": "Christian Albina", "link": "https://stackoverflow.com/users/10201147/christian-albina"}, "edited": false, "score": 0, "creation_date": 1555540208, "post_id": 55735921, "comment_id": 98151557, "body": "SymPy can output latex: <a href=\"https://docs.sympy.org/latest/tutorial/printing.html#latex\" rel=\"nofollow noreferrer\">docs.sympy.org/latest/tutorial/printing.html#latex</a> and matplotlib can display latex <a href=\"https://matplotlib.org/gallery/text_labels_and_annotations/usetex_demo.html\" rel=\"nofollow noreferrer\">matplotlib.org/gallery/text_labels_and_annotations/&hellip;</a>. You might even get away with using only the matplotlib&#39;s capability of rendering latex."}, {"owner": {"reputation": 53, "user_id": 10201147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NCuk9nMgIBw/AAAAAAAAAAI/AAAAAAAACOM/qG_L6cot_Lw/photo.jpg?sz=128", "display_name": "Christian Albina", "link": "https://stackoverflow.com/users/10201147/christian-albina"}, "edited": false, "score": 0, "creation_date": 1555549533, "post_id": 55735921, "comment_id": 98153380, "body": "I&#39;m sorry but for whatever reason, I said MatPlotLib and meant to instead say Tabulate. I&#39;m attempting to display the equation in a column on a tab using Tabulate and instead of getting the proper equation which SymPy gives I just get a string like &quot;m ** 2&quot;."}, {"owner": {"reputation": 8084, "user_id": 2896626, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4cd83959d7fe39c658d2e49cfecfe4b6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul92", "link": "https://stackoverflow.com/users/2896626/paul92"}, "reply_to_user": {"reputation": 53, "user_id": 10201147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NCuk9nMgIBw/AAAAAAAAAAI/AAAAAAAACOM/qG_L6cot_Lw/photo.jpg?sz=128", "display_name": "Christian Albina", "link": "https://stackoverflow.com/users/10201147/christian-albina"}, "edited": false, "score": 0, "creation_date": 1555583409, "post_id": 55735921, "comment_id": 98164963, "body": "Tabulate can also handle latex: <a href=\"https://stackoverflow.com/questions/35418787/generate-proper-latex-table-using-tabulate-python-package\" title=\"generate proper latex table using tabulate python package\">stackoverflow.com/questions/35418787/&hellip;</a>."}], "tags": [], "owner": {"reputation": 8084, "user_id": 2896626, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4cd83959d7fe39c658d2e49cfecfe4b6?s=128&d=identicon&r=PG&f=1", "display_name": "Paul92", "link": "https://stackoverflow.com/users/2896626/paul92"}, "is_accepted": true, "score": 0, "last_activity_date": 1555534981, "creation_date": 1555534981, "answer_id": 55735921, "question_id": 55735894, "link": "https://stackoverflow.com/questions/55735894/is-there-a-way-in-python-3-7-to-turn-a-string-equation-into-a-formulated-equatio/55735921#55735921", "title": "Is there a way in Python 3.7 to turn a string equation into a formulated equation like Wolfram Alpha?", "body": "<p>The SymPy package can do this for you: <a href=\"https://docs.sympy.org/latest/tutorial/printing.html\" rel=\"nofollow noreferrer\">https://docs.sympy.org/latest/tutorial/printing.html</a></p>\n"}], "owner": {"reputation": 53, "user_id": 10201147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NCuk9nMgIBw/AAAAAAAAAAI/AAAAAAAACOM/qG_L6cot_Lw/photo.jpg?sz=128", "display_name": "Christian Albina", "link": "https://stackoverflow.com/users/10201147/christian-albina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 55735921, "answer_count": 1, "score": 0, "last_activity_date": 1555534981, "creation_date": 1555534856, "question_id": 55735894, "link": "https://stackoverflow.com/questions/55735894/is-there-a-way-in-python-3-7-to-turn-a-string-equation-into-a-formulated-equatio", "title": "Is there a way in Python 3.7 to turn a string equation into a formulated equation like Wolfram Alpha?", "body": "<p>I'm trying to change an input of, say, <code>\"3^2+4^2=5^2\"</code> into an equation with the little 2's above the main numbers. What would be the way I'd convert that 1st string into the formula shown in the image?</p>\n\n<p>I've tried searching for some surface-level solutions but haven't found any so far.</p>\n\n<p>The only code I have is code that will print a string such as: <a href=\"https://www5a.wolframalpha.com/Calculate/MSP/MSP351bh01f4fga5e82h2000026gc51504a113dgd?MSPStoreType=image/gif&amp;s=21\" rel=\"nofollow noreferrer\"><code>\"1 / x\"</code></a>, <a href=\"https://www5a.wolframalpha.com/Calculate/MSP/MSP6539236281c9i3f5h5100000649ff873hi73a9ge?MSPStoreType=image/gif&amp;s=54\" rel=\"nofollow noreferrer\"><code>\"x ** x\"</code></a> or <a href=\"https://www5a.wolframalpha.com/Calculate/MSP/MSP71231d7e2h1f965824dg000038d6i7520ef378i5?MSPStoreType=image/gif&amp;s=40\" rel=\"nofollow noreferrer\"><code>\"x ** 2\"</code></a> as is but I want to make some code that would output equations like the links they're attached to.</p>\n\n<pre><code>lst = [\n\"equal\",\n\"squared\",\n\"denominator\",\n\"cubed\",\n\"^x\"]\n\nlstDict = ({\n\"equal\":\"x\",\n\"squared\":\"x ** 2\",\n\"denominator\":\"1 / x\",\n\"cubed\":\"x ** 3\",\n\"^x\":\"x ** x\"})\n\nprint(lstDict[lst[i]].replace(\"**\", \"^\"))\n</code></pre>\n\n<p>where <code>i</code> is a count used to limit the length of a <code>while</code> loop and to count up the dictionary of equations.</p>\n"}, {"tags": ["python", "string"], "comments": [{"owner": {"reputation": 4972, "user_id": 10824407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32862a03314e434224acf280c38e6e68?s=128&d=identicon&r=PG&f=1", "display_name": "Olvin Roght", "link": "https://stackoverflow.com/users/10824407/olvin-roght"}, "edited": false, "score": 0, "creation_date": 1555534870, "post_id": 55735877, "comment_id": 98149946, "body": "Only second or replace all repeats except first?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7957719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c6d281812b990cf577fa8e8118a63a?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Friedmann", "link": "https://stackoverflow.com/users/7957719/patrick-friedmann"}, "edited": false, "score": 0, "creation_date": 1555549188, "post_id": 55736008, "comment_id": 98153332, "body": "Thats it, I did not think about the startswith idea. Thank you very much"}], "tags": [], "owner": {"reputation": 4972, "user_id": 10824407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32862a03314e434224acf280c38e6e68?s=128&d=identicon&r=PG&f=1", "display_name": "Olvin Roght", "link": "https://stackoverflow.com/users/10824407/olvin-roght"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535962, "last_edit_date": 1555535962, "creation_date": 1555535398, "answer_id": 55736008, "question_id": 55735877, "link": "https://stackoverflow.com/questions/55735877/how-to-replace-2nd-iteration-in-a-string-python/55736008#55736008", "title": "How to replace 2nd iteration in a string - Python", "body": "<p><strong>Function:</strong></p>\n\n<pre><code>def remove_if_not_starts_from(src, substr):\n    return src if src.startswith(substr) else src.replace(substr, '')\n</code></pre>\n\n<p><strong>Usage:</strong></p>\n\n<pre><code>str1 = 'Lorem ipsum'\nstr2 = 'ipsum Loremipsum'\nword = 'Lorem'\n\nprint('{} -&gt; {}'.format(str1, remove_if_not_starts_from(str1, word)))\nprint('{} -&gt; {}'.format(str2, remove_if_not_starts_from(str2, word)))\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Lorem ipsum -&gt; Lorem ipsum\nipsum Loremipsum -&gt; ipsum ipsum\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7957719, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c6d281812b990cf577fa8e8118a63a?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Friedmann", "link": "https://stackoverflow.com/users/7957719/patrick-friedmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 55736008, "answer_count": 1, "score": -3, "last_activity_date": 1555535962, "creation_date": 1555534785, "last_edit_date": 1555535135, "question_id": 55735877, "link": "https://stackoverflow.com/questions/55735877/how-to-replace-2nd-iteration-in-a-string-python", "title": "How to replace 2nd iteration in a string - Python", "body": "<p>I am trying to remove a word from a string but only if it is the second word. Here is an example:</p>\n\n<p>I have tried strip and replace. Slicing wont work because Preds might not be in the same place everytime.</p>\n\n<pre><code># Complete the function to remove the word PREDS from the given string\n# ONLY if it's not the first word and return the new string\ndef removePREDS(mystring):\n    return mystring.replace(\"PREDS\", ' ')\n\n# expected output: PREDS Rocks\nprint(removePREDS('PREDS Rocks'))\n\n# expected output: Hello, John\nprint(removePREDS('Hello, PREDSFan'))\n</code></pre>\n\n<p>I can remove both Preds and the first one but cant figure out how to remove on the second one</p>\n"}, {"tags": ["python", "python-3.x", "google-admin-sdk", "google-workspace"], "comments": [{"owner": {"reputation": 43265, "user_id": 8016720, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bXsod.png?s=128&g=1", "display_name": "John Hanley", "link": "https://stackoverflow.com/users/8016720/john-hanley"}, "edited": false, "score": 1, "creation_date": 1557208964, "post_id": 55735853, "comment_id": 98676625, "body": "Service accounts are not part of a G Suite organization. For APIs that require a user identity in G Suite, you need to impersonate (Act As) the user. This is the purpose of Domain-Wide Delegation."}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 4165116, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b65cda402a0bc4fd76fb2ca17ad88b76?s=128&d=identicon&r=PG&f=1", "display_name": "N Altun", "link": "https://stackoverflow.com/users/4165116/n-altun"}, "is_accepted": true, "score": 0, "last_activity_date": 1559075106, "creation_date": 1559075106, "answer_id": 56349605, "question_id": 55735853, "link": "https://stackoverflow.com/questions/55735853/google-admin-sdk-how-to-use-the-service-account-email-instead-of-a-privileged-u/56349605#56349605", "title": "Google Admin SDK: How to use the service account email instead of a privileged user&#39;s for retrieving G Suite logs?", "body": "<p>I have found the answer to the question. A service account's email address cannot be used.</p>\n\n<p>The proper steps for retrieving G Suite logs is to either 1) use or 2) create a user with the access rights for reviewing the logs.</p>\n\n<p>If a user must be created, this can be done at the user's console on from <a href=\"https://admin.google.com/ac/users\" rel=\"nofollow noreferrer\">Google Admin console</a>. After, the appropriate role(s) can be created at <a href=\"https://console.developers.google.com/iam-admin/roles\" rel=\"nofollow noreferrer\">Google IAM</a>. Finally, these roles can be applied to the user at the Google Admin console.</p>\n"}], "owner": {"reputation": 55, "user_id": 4165116, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b65cda402a0bc4fd76fb2ca17ad88b76?s=128&d=identicon&r=PG&f=1", "display_name": "N Altun", "link": "https://stackoverflow.com/users/4165116/n-altun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 56349605, "answer_count": 1, "score": 0, "last_activity_date": 1559075106, "creation_date": 1555534659, "question_id": 55735853, "link": "https://stackoverflow.com/questions/55735853/google-admin-sdk-how-to-use-the-service-account-email-instead-of-a-privileged-u", "title": "Google Admin SDK: How to use the service account email instead of a privileged user&#39;s for retrieving G Suite logs?", "body": "<p>I am using a serverless Python function for retrieving G Suite logs. I have done the following to authenticate against Admin SDK:</p>\n\n<p>1) Created a project\n2) Created a service account with the Project->Owner role\n3) Create a private key (JSON) file\n4) Enabled domain-wide delegation\n5) Enabled the Admin SDK\n6) Delegate domain-wide authority via 'One or More API Scopes' by authorizing my service account with <code>https://www.googleapis.com/auth/admin.reports.audit.readonly</code></p>\n\n<p>Now, when running my authorized application I use 1) the username (privileged user's email address) with access to the created service account and 2) the private key (JSON) file for the service account.</p>\n\n<p>When authorizing my application, I use <code>ServiceAccountCredentials</code> from the <code>oauth2client.service_account</code> package.</p>\n\n<p>The Question:</p>\n\n<p>When running my application, I can't authorize against G Suite unless I use the username (email address) of a privileged user. When I substitute this email address for the service account's email address, I can't retrieve G Suite logs.</p>\n\n<p>Is it possible to configure the service account to allow authorization via the service account email address? If so, how can I do that?</p>\n"}, {"tags": ["python", "tensorflow", "tensor2tensor"], "comments": [{"owner": {"reputation": 501, "user_id": 3325672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HaBV.jpg?s=128&g=1", "display_name": "kempy", "link": "https://stackoverflow.com/users/3325672/kempy"}, "edited": false, "score": 0, "creation_date": 1556224330, "post_id": 55735837, "comment_id": 98375691, "body": "It looks like that error is about the parameter to dropout. Did you override hparams.layer_prepostprocess_dropout to be an integer?"}, {"owner": {"reputation": 133, "user_id": 5070764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GRuobetnANA/AAAAAAAAAAI/AAAAAAAAACI/niJFKuiUe08/photo.jpg?sz=128", "display_name": "crytting", "link": "https://stackoverflow.com/users/5070764/crytting"}, "reply_to_user": {"reputation": 501, "user_id": 3325672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5HaBV.jpg?s=128&g=1", "display_name": "kempy", "link": "https://stackoverflow.com/users/3325672/kempy"}, "edited": false, "score": 0, "creation_date": 1556738532, "post_id": 55735837, "comment_id": 98536279, "body": "Nope. It is set to be 0.6. That line in the stack trace refers to a multiline statement, however, where the decoder_input is int, as opposed to the dropout parameter. So I&#39;m trying to figure out what I can do about that, since I only pass in floats as my targets and features."}], "owner": {"reputation": 133, "user_id": 5070764, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GRuobetnANA/AAAAAAAAAAI/AAAAAAAAACI/niJFKuiUe08/photo.jpg?sz=128", "display_name": "crytting", "link": "https://stackoverflow.com/users/5070764/crytting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 586, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555534568, "creation_date": 1555534568, "question_id": 55735837, "link": "https://stackoverflow.com/questions/55735837/training-transformer-with-tensor2tensor-using-own-data", "title": "Training Transformer with Tensor2Tensor Using Own Data", "body": "<p>I am trying to train a Transformer network using Tensor2Tensor. I am adapting the <a href=\"https://cloud.google.com/blog/products/gcp/cloud-poetry-training-and-hyperparameter-tuning-custom-text-models-on-cloud-ml-engine\" rel=\"nofollow noreferrer\">Cloud Poetry</a> example to fit my own task, <code>kt_problem</code>, where I am mapping sequences of floats to sequences of floats instead of sentences to sentences. </p>\n\n<p>I have adapted the <code>generate_data()</code> and <code>generate_samples()</code> functions according to the scattered specifications for using one's own data with tensor2tensor (e.g. the data generation <a href=\"https://github.com/tensorflow/tensor2tensor/blob/master/tensor2tensor/data_generators/README.md\" rel=\"nofollow noreferrer\">README</a>, line <a href=\"https://github.com/tensorflow/tensor2tensor/blob/master/tensor2tensor/data_generators/problem.py\" rel=\"nofollow noreferrer\">174 of the <code>Problem</code> class</a>, etc.). They are as follows:</p>\n\n<pre><code>  def generate_samples(self, data_dir, tmp_dir, train):\n    import numpy as np\n    features = pd.read_csv(\"data/kt/features.csv\", dtype=np.float64)\n    targets = pd.read_csv(\"data/kt/targets.csv\", dtype=np.float64)\n    for i in range(len(features)-1):\n        yield {\n                \"inputs\": list(features.iloc[i]),\n                \"targets\": list(targets.iloc[i])\n        }\n\n\n\n\n  def generate_data(self, data_dir, tmp_dir, task_id=-1):\n        generator_utils.generate_dataset_and_shuffle(\n        self.generate_samples(data_dir,tmp_dir,1),\n        self.training_filepaths(data_dir,4,False),\n        self.generate_samples(data_dir,tmp_dir,0),\n        self.dev_filepaths(data_dir,3,False))\n</code></pre>\n\n<p>defined within my class <code>KTProblem</code>.</p>\n\n<p>After making this change, I can successfully run </p>\n\n<pre><code>PROBLEM='kt_problem'    #my own problem, for which I've defined a class\n\n%%bash\nDATA_DIR=./t2t_data     \nTMP_DIR=$DATA_DIR/tmp\n\nt2t-datagen \\\n  --t2t_usr_dir=./kt/trainer \\\n  --problem=$PROBLEM \\\n  --data_dir=$DATA_DIR \\\n  --tmp_dir=$TMP_DIR\n</code></pre>\n\n<p>and it generates a bunch of train and dev files. But when I try to train a transformer on it with this code,</p>\n\n<pre><code>%%bash\nDATA_DIR=./t2t_data\nOUTDIR=./trained_model\n\nt2t-trainer \\\n  --data_dir=$DATA_DIR \\\n  --t2t_usr_dir=./kt/trainer \\\n  --problem=$PROBLEM \\\n  --model=transformer \\\n  --hparams_set=transformer_kt \\\n  --output_dir=$OUTDIR --job-dir=$OUTDIR --train_steps=10\n</code></pre>\n\n<p>It throws the following error:</p>\n\n<pre><code>ValueError: x has to be a floating point tensor since it's going to be scaled. Got a &lt;dtype: 'int32'&gt; tensor instead.\n</code></pre>\n\n<p>As you can see in <code>generate_samples()</code>, the data generated is <code>np.float64</code>, and so I'm sure my inputs shouldn't be <code>int32</code>. The stack trace (posted right below) is super long, and I've been going through every line listed and checking the type of the inputs to see where this <code>int32</code> input came into the picture, but I can't find it. I want to know (1) why, if my inputs are floats, why/how/where they're becoming floats, but mostly (2) generally, how does one debug code like this? My approach thus far has been putting print statements right before every line in the stack trace, but that seems such a naive way to debug. Would it be better to use VScode, or what is the lesson I need to learn here when a library <code>tensor2tensor</code>, in this case, is not behaving as I think it ought to, but I don't want to come to know intimately what every function in the stack trace is doing?</p>\n\n<p>Stack trace:</p>\n\n<pre><code>INFO:tensorflow:Importing user module trainer from path /home/crytting/kt/kt\nWARNING:tensorflow:From /home/crytting/kt/tensor2tensor/tensor2tensor/utils/trainer_lib.py:240: RunConfig.__init__ (from tensorflow.contrib.learn.python.learn.estimators.run_config) is deprecated and will be removed in a future version.\nInstructions for updating:\nWhen switching to tf.estimator.Estimator, use tf.estimator.RunConfig instead.\nINFO:tensorflow:Configuring DataParallelism to replicate the model.\nINFO:tensorflow:schedule=continuous_train_and_eval\nINFO:tensorflow:worker_gpu=1\nINFO:tensorflow:sync=False\nWARNING:tensorflow:Schedule=continuous_train_and_eval. Assuming that training is running on a single machine.\nINFO:tensorflow:datashard_devices: ['gpu:0']\nINFO:tensorflow:caching_devices: None\nINFO:tensorflow:ps_devices: ['gpu:0']\nINFO:tensorflow:Using config: {'_task_type': None, '_task_id': 0, '_cluster_spec': &lt;tensorflow.python.training.server_lib.ClusterSpec object at 0x7f04151caba8&gt;, '_master': '', '_num_ps_replicas': 0, '_num_worker_replicas': 0, '_environment': 'local', '_is_chief': True, '_evaluation_master': '', '_train_distribute': None, '_eval_distribute': None, '_device_fn': None, '_tf_config': gpu_options {\n  per_process_gpu_memory_fraction: 1.0\n}\n, '_tf_random_seed': None, '_save_summary_steps': 100, '_save_checkpoints_secs': None, '_log_step_count_steps': 100, '_protocol': None, '_session_config': gpu_options {\n  per_process_gpu_memory_fraction: 0.95\n}\nallow_soft_placement: true\ngraph_options {\n  optimizer_options {\n    global_jit_level: OFF\n  }\n}\nisolate_session_state: true\n, '_save_checkpoints_steps': 1000, '_keep_checkpoint_max': 20, '_keep_checkpoint_every_n_hours': 10000, '_model_dir': './trained_model', 'use_tpu': False, 't2t_device_info': {'num_async_replicas': 1}, 'data_parallelism': &lt;tensor2tensor.utils.expert_utils.Parallelism object at 0x7f0464512dd8&gt;}\nWARNING:tensorflow:Estimator's model_fn (&lt;function T2TModel.make_estimator_model_fn.&lt;locals&gt;.wrapping_model_fn at 0x7f0414891e18&gt;) includes params argument, but params are not passed to Estimator.\nWARNING:tensorflow:ValidationMonitor only works with --schedule=train_and_evaluate\nINFO:tensorflow:Not using Distribute Coordinator.\nINFO:tensorflow:Running training and evaluation locally (non-distributed).\nINFO:tensorflow:Start train and evaluate loop. The evaluate will happen after every checkpoint. Checkpoint frequency is determined based on RunConfig arguments: save_checkpoints_steps 1000 or save_checkpoints_secs None.\nWARNING:tensorflow:From /home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/framework/op_def_library.py:263: colocate_with (from tensorflow.python.framework.ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nColocations handled automatically by placer.\nINFO:tensorflow:Reading data files from ./t2t_data/kt_problem-train*\nINFO:tensorflow:partition: 0 num_data_files: 4\nWARNING:tensorflow:From /home/crytting/kt/tensor2tensor/tensor2tensor/utils/data_reader.py:275: tf_record_iterator (from tensorflow.python.lib.io.tf_record) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse eager execution and: \n`tf.data.TFRecordDataset(path)`\nWARNING:tensorflow:From /home/crytting/kt/tensor2tensor/tensor2tensor/utils/data_reader.py:37: to_int32 (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse tf.cast instead.\nWARNING:tensorflow:Shapes are not fully defined. Assuming batch_size means tokens.\nWARNING:tensorflow:From /home/crytting/kt/tensor2tensor/tensor2tensor/utils/data_reader.py:233: to_float (from tensorflow.python.ops.math_ops) is deprecated and will be removed in a future version.\nInstructions for updating:\nUse tf.cast instead.\nINFO:tensorflow:Calling model_fn.\nINFO:tensorflow:Setting T2TModel mode to 'train'\nINFO:tensorflow:Using variable initializer: uniform_unit_scaling\nINFO:tensorflow:Building model body\nWARNING:tensorflow:From /home/crytting/kt/tensor2tensor/tensor2tensor/models/transformer.py:156: calling dropout (from tensorflow.python.ops.nn_ops) with keep_prob is deprecated and will be removed in a future version.\nInstructions for updating:\nPlease use `rate` instead of `keep_prob`. Rate should be set to `rate = 1 - keep_prob`.\nTraceback (most recent call last):\n  File \"/home/crytting/anaconda3/envs/kt/bin/t2t-trainer\", line 33, in &lt;module&gt;\n    tf.app.run()\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/platform/app.py\", line 125, in run\n    _sys.exit(main(argv))\n  File \"/home/crytting/anaconda3/envs/kt/bin/t2t-trainer\", line 28, in main\n    t2t_trainer.main(argv)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/bin/t2t_trainer.py\", line 400, in main\n    execute_schedule(exp)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/bin/t2t_trainer.py\", line 356, in execute_schedule\n    getattr(exp, FLAGS.schedule)()\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/trainer_lib.py\", line 400, in continuous_train_and_eval\n    self._eval_spec)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/training.py\", line 471, in train_and_evaluate\n    return executor.run()\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/training.py\", line 611, in run\n    return self.run_local()\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/training.py\", line 712, in run_local\n    saving_listeners=saving_listeners)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 358, in train\n    loss = self._train_model(input_fn, hooks, saving_listeners)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1124, in _train_model\n    return self._train_model_default(input_fn, hooks, saving_listeners)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1155, in _train_model_default\n    features, labels, model_fn_lib.ModeKeys.TRAIN, self.config)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow_estimator/python/estimator/estimator.py\", line 1112, in _call_model_fn\n    model_fn_results = self._model_fn(features=features, **kwargs)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/t2t_model.py\", line 1414, in wrapping_model_fn\n    use_tpu=use_tpu)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/t2t_model.py\", line 1477, in estimator_model_fn\n    logits, losses_dict = model(features)  # pylint: disable=not-callable\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/layers/base.py\", line 530, in __call__\n    outputs = super(Layer, self).__call__(inputs, *args, **kwargs)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/keras/engine/base_layer.py\", line 554, in __call__\n    outputs = self.call(inputs, *args, **kwargs)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/t2t_model.py\", line 323, in call\n    sharded_logits, losses = self.model_fn_sharded(sharded_features)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/t2t_model.py\", line 400, in model_fn_sharded\n    sharded_logits, sharded_losses = dp(self.model_fn, datashard_to_features)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/expert_utils.py\", line 231, in __call__\n    outputs.append(fns[i](*my_args[i], **my_kwargs[i]))\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/utils/t2t_model.py\", line 428, in model_fn\n    body_out = self.body(transformed_features)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/models/transformer.py\", line 280, in body\n    **decode_kwargs\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/models/transformer.py\", line 217, in decode\n    **kwargs)\n  File \"/home/crytting/kt/tensor2tensor/tensor2tensor/models/transformer.py\", line 156, in transformer_decode\n    1.0 - hparams.layer_prepostprocess_dropout)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/util/deprecation.py\", line 507, in new_func\n    return func(*args, **kwargs)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 2979, in dropout\n    return dropout_v2(x, rate, noise_shape=noise_shape, seed=seed, name=name)\n  File \"/home/crytting/anaconda3/envs/kt/lib/python3.7/site-packages/tensorflow/python/ops/nn_ops.py\", line 3021, in dropout_v2\n    \" be scaled. Got a %s tensor instead.\" % x.dtype)\nValueError: x has to be a floating point tensor since it's going to be scaled. Got a &lt;dtype: 'int32'&gt; tensor instead.\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1555535214, "post_id": 55735821, "comment_id": 98150063, "body": "Have you considered using <code>pandas</code> to read in the columns/rows? Also: where is <code>tempParsedCurve.name</code> coming from?"}, {"owner": {"reputation": 95, "user_id": 5692842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd79ad9ac718cdfa5899dbacc07cd42?s=128&d=identicon&r=PG&f=1", "display_name": "boking", "link": "https://stackoverflow.com/users/5692842/boking"}, "reply_to_user": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1555536139, "post_id": 55735821, "comment_id": 98150393, "body": "That looks like it can be very useful, I will probably give it a try tomorrow! tempParsedCurve.name is coming from the curve name passed as the first parameter when initializing the Curve object (titles[i].split()[0])"}], "answers": [{"tags": [], "owner": {"reputation": 1323, "user_id": 10642364, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca8a8f956df00c66f486e255d846271e?s=128&d=identicon&r=PG", "display_name": "Ethan", "link": "https://stackoverflow.com/users/10642364/ethan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555535779, "creation_date": 1555535779, "answer_id": 55736081, "question_id": 55735821, "link": "https://stackoverflow.com/questions/55735821/accidental-overwriting-of-variable-when-parsing-text-file-python/55736081#55736081", "title": "Accidental overwriting of variable when parsing text file (python)", "body": "<p>It is difficult to troubleshoot without some sample data, however I think it maybe because you are referencing \u201cparts\u201d instead of \u201cpart\u201d in the following 2 lines of code:</p>\n\n<pre><code>tempParsedCurves[i - 1].xUnitData.values.append(float(parts[0]))\n                    #yValue depends on the index of the current curve\n                    tempParsedCurves[i - 1].yUnitData.values.append(float(parts[j + 1]))\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 5692842, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd79ad9ac718cdfa5899dbacc07cd42?s=128&d=identicon&r=PG&f=1", "display_name": "boking", "link": "https://stackoverflow.com/users/5692842/boking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555535779, "creation_date": 1555534482, "question_id": 55735821, "link": "https://stackoverflow.com/questions/55735821/accidental-overwriting-of-variable-when-parsing-text-file-python", "title": "Accidental overwriting of variable when parsing text file (python)", "body": "<p>I am trying to parse a text file with columns of data into curves (x and y value), however all curves turn out to have the same values when inspecting them, even though I feel they shouldn't.</p>\n\n<p>Here is the minimum of my code that can show the problem:</p>\n\n<pre><code>    #creates the curves and sets their names given the first row in the text document\n    for i, title in (enumerate(titles)):\n        curveToAdd = Curve(titles[i].split()[0], UnitData(), UnitData())\n        curveToAdd.yUnitData.unit = title.split()[1][1:-1]\n        curveToAdd.xUnitData.unit = titlesWithTime[0].split()[1][1:-1]\n        tempParsedCurves.append(curveToAdd)\n\n    while isReading:\n        text = f.readline()\n        dotText = text.replace(\",\", \".\").replace(\".00\", \".0\")\n        parts = dotText.split()\n\n        # goes through the values in the current row\n        for i, part in enumerate(parts):\n            for j, tempParsedCurve in enumerate(tempParsedCurves):\n                if len(parts) == len(titles) + 1: #incomplete rows teremine when to stop reading\n                    #the current value is for the current curve\n                    if tempParsedCurve.name == tempParsedCurves[i - 1].name:                    \n                        #xValue is always in first column (time)\n                        tempParsedCurves[i - 1].xUnitData.values.append(float(parts[0]))\n                        #yValue depends on the index of the current curve\n                        tempParsedCurves[i - 1].yUnitData.values.append(float(parts[j + 1]))\n                else:\n                    isReading = False\n</code></pre>\n\n<p>After the curves are created in the first for-loop, they are added to tempParsedCurves, which is then used when looping through the possibleCurves the values could be added to.</p>\n\n<p>When a value is determined to belong to a curve, it gets added to the correct curve (tempParseCurves[i-1]) by first adding the x value and then y value. Im pretty sure this is correct beacuse the following print placed within the inner-most if-case shows the correct names and values for the curves:</p>\n\n<pre><code>    print(\"to curve \" + tempParsedCurves[i - 1].name + \", appending x: \" + str(float(parts[0])) + \", y: \" + str(float(parts[j + 1])))\n</code></pre>\n\n<p>At this point everything seemed to work good, the values are getting added to their respective curve. <strong><em>However, if I try to loop through \"tempParsedCurves\" after the parsing is complete, all the curves have the same x and y values.</em></strong></p>\n\n<p>Could this be due to me accidentaly refering to the same instance of one of the object when I actually should clone.clone/deepclone?</p>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 490, "user_id": 5377275, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z_DcwcHvDos/AAAAAAAAAAI/AAAAAAAAAEQ/B7U68v6GxR8/photo.jpg?sz=128", "display_name": "Trevor Keller", "link": "https://stackoverflow.com/users/5377275/trevor-keller"}, "is_accepted": true, "score": 1, "last_activity_date": 1555534553, "creation_date": 1555534553, "answer_id": 55735836, "question_id": 55735794, "link": "https://stackoverflow.com/questions/55735794/getting-error-saying-decisiontreeclassif-does-not-exist/55735836#55735836", "title": "Getting error saying &quot;DecisionTreeClassif does not exist&quot;", "body": "<p>DecisionTreeClassifier belongs to the <code>tree</code> submodule of <code>sklearn</code>, so you have to import it. This should work:</p>\n\n<pre><code>import sklearn.tree as tree\nclf = tree.DecisionTreeClassifier()\n</code></pre>\n"}], "owner": {"reputation": 6453, "user_id": 564653, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e3cc2680ff3543245b1dfb032ac3bec5?s=128&d=identicon&r=PG", "display_name": "Ted pottel", "link": "https://stackoverflow.com/users/564653/ted-pottel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 55735836, "answer_count": 1, "score": 0, "last_activity_date": 1555548487, "creation_date": 1555534348, "last_edit_date": 1555548487, "question_id": 55735794, "link": "https://stackoverflow.com/questions/55735794/getting-error-saying-decisiontreeclassif-does-not-exist", "title": "Getting error saying &quot;DecisionTreeClassif does not exist&quot;", "body": "<p>I'm trying to learn machion learning.  When I try to create a <code>DecisionTreeClassifier</code> it says cannot find reference <code>DecisionTreeClassifier</code></p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import sklearn as tree\n\n// Get the error hear\nclf = tree.DecisionTreeClassifier()\n</code></pre>\n"}, {"tags": ["python", "django", "amazon-s3", "ibm-cloud", "pydub"], "comments": [{"owner": {"reputation": 162605, "user_id": 174777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6PnNW.jpg?s=128&g=1", "display_name": "John Rotenstein", "link": "https://stackoverflow.com/users/174777/john-rotenstein"}, "edited": false, "score": 0, "creation_date": 1555542108, "post_id": 55735787, "comment_id": 98152025, "body": "The IBM API does not list a capability to store directly into Amazon S3, so your program would need to take the results from the IBM API and then store them in S3. This can either be done by creating a local file and then uploading the file to S3 or by keeping the data in a variable and passing it as the <code>Body</code> when creating a file in S3."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 9061154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/730839c6e434adb39d30af663e8f5c52?s=128&d=identicon&r=PG&f=1", "display_name": "Ekkaia153", "link": "https://stackoverflow.com/users/9061154/ekkaia153"}, "is_accepted": false, "score": 0, "last_activity_date": 1556109702, "creation_date": 1556109702, "answer_id": 55830287, "question_id": 55735787, "link": "https://stackoverflow.com/questions/55735787/export-wav-from-audio-segment-to-aws-s3-bucket/55830287#55830287", "title": "Export .wav from Audio Segment to AWS S3 Bucket", "body": "<p>Since you are using python anyway, you could use <a href=\"https://github.com/RaRe-Technologies/smart_open\" rel=\"nofollow noreferrer\">smart_open</a> to treat a remote file in your object storage just like a locale one. This would allow you to stream the parts of the file to the os without having all of them in memory at once. Any format should be fine for the Objectstorage.</p>\n"}], "owner": {"reputation": 223, "user_id": 7009752, "user_type": "registered", "profile_image": "https://graph.facebook.com/868692553213520/picture?type=large", "display_name": "Sophie Proud", "link": "https://stackoverflow.com/users/7009752/sophie-proud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1556109702, "creation_date": 1555534284, "question_id": 55735787, "link": "https://stackoverflow.com/questions/55735787/export-wav-from-audio-segment-to-aws-s3-bucket", "title": "Export .wav from Audio Segment to AWS S3 Bucket", "body": "<p>I'm using IBM's <a href=\"https://cloud.ibm.com/apidocs/speech-to-text?code=python\" rel=\"nofollow noreferrer\">Text-to-Speech API</a> to run speaker detection. I used pydub to concatenate several .wav files into one, but I cannot pass an AudioSegment to IBM. </p>\n\n<p>My questions are:</p>\n\n<ol>\n<li><p>Can I export my file directly to an AWS S3 bucket, as I can later retrieve from there?</p></li>\n<li><p>How else could I pass the AudioSegment? Can I encode it differently as a variable, so exporting it without saving it in memory, if that makes sense?</p></li>\n</ol>\n\n<p>This is the formats IBM can read</p>\n\n<ul>\n<li>application/octet-stream</li>\n<li>audio/alaw (Required. Specify the sampling rate (rate) of the audio.)</li>\n<li>audio/basic (Required. Use only with narrowband models.)</li>\n<li>audio/flac</li>\n<li>audio/g729 (Use only with narrowband models.)</li>\n<li>audio/l16 (Required. Specify the sampling rate (rate) and optionally the number of channels (channels) and endianness (endianness) of the audio.)</li>\n<li>audio/mp3</li>\n<li>audio/mpeg</li>\n<li>audio/mulaw</li>\n<li>audio/ogg</li>\n<li>audio/ogg;codecs=opus</li>\n<li>audio/ogg;codecs=vorbis</li>\n<li>audio/wav</li>\n<li>audio/webm</li>\n<li>audio/webm;codecs=opus</li>\n<li>audio/webm;codecs=vorbis</li>\n</ul>\n\n<p>I love pydub and it's been an amazing tool to work with so far. Thank you for making it!</p>\n"}, {"tags": ["python", "pandas", "dataframe", "cx-oracle"], "answers": [{"tags": [], "owner": {"reputation": 6812, "user_id": 7371893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ris3Z.png?s=128&g=1", "display_name": "&#226;\u0144\u014d\u014b\u0177Xmo\u016f\u015c", "link": "https://stackoverflow.com/users/7371893/%c3%a2%c5%84%c5%8d%c5%8b%c5%b7xmo%c5%af%c5%9c"}, "is_accepted": false, "score": 0, "last_activity_date": 1555535248, "creation_date": 1555535248, "answer_id": 55735985, "question_id": 55735786, "link": "https://stackoverflow.com/questions/55735786/cx-oracle-jupyter-notebook-nls-lang-error/55735985#55735985", "title": "cx_oracle jupyter notebook NLS_LANG error", "body": "<p>I encountered the same error before and I ran below codes to set the language by running an alter command.  Make sure you commit afterwards. </p>\n\n<pre><code>c.execute(u'ALTER SESSION SET NLS_LANGUAGE=American')\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 4513062, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/756ee9ec86172885e11e64c1bfd8e7cd?s=128&d=identicon&r=PG&f=1", "display_name": "Mookayama", "link": "https://stackoverflow.com/users/4513062/mookayama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555535248, "creation_date": 1555534274, "question_id": 55735786, "link": "https://stackoverflow.com/questions/55735786/cx-oracle-jupyter-notebook-nls-lang-error", "title": "cx_oracle jupyter notebook NLS_LANG error", "body": "<p>In the sqlplus script, I did this </p>\n\n<pre><code>unset NLS_LANG\n</code></pre>\n\n<p>How I can do the same thing for cx_oracle in jupyter notebook ?</p>\n\n<p>I am following this example and got the error.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3521692/how-can-i-access-oracle-from-python\">How can I access Oracle from Python?</a></p>\n\n<pre><code>DatabaseError: ORA-12705: Cannot access NLS data files or invalid environment specified\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "cairo", "pkg-config", "pycairo"], "comments": [{"owner": {"reputation": 7642, "user_id": 436275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72a51d31e40d541a9786e0243678029?s=128&d=identicon&r=PG", "display_name": "Uli Schlachter", "link": "https://stackoverflow.com/users/436275/uli-schlachter"}, "edited": false, "score": 1, "creation_date": 1555611159, "post_id": 55735783, "comment_id": 98179860, "body": "I have no clue, basically, but Google suggests that the package you need is actually called cairo-gobject-devel."}, {"owner": {"reputation": 375, "user_id": 1068689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/512e76ffafe4c4b52c7508421a5bc2d2?s=128&d=identicon&r=PG", "display_name": "Mike Maxwell", "link": "https://stackoverflow.com/users/1068689/mike-maxwell"}, "reply_to_user": {"reputation": 7642, "user_id": 436275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a72a51d31e40d541a9786e0243678029?s=128&d=identicon&r=PG", "display_name": "Uli Schlachter", "link": "https://stackoverflow.com/users/436275/uli-schlachter"}, "edited": false, "score": 0, "creation_date": 1555702042, "post_id": 55735783, "comment_id": 98207988, "body": "Thanks!  I&#39;m not in the office today, but i&#39;ll give that a shot.  Fwiw, I find it appalling that these things are so hard to build."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11890975, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/3aa97972f1ddfd6902e4cd64f9cdfbcf?s=128&d=identicon&r=PG", "display_name": "John", "link": "https://stackoverflow.com/users/11890975/john"}, "is_accepted": false, "score": 2, "last_activity_date": 1565111976, "creation_date": 1565111976, "answer_id": 57381136, "question_id": 55735783, "link": "https://stackoverflow.com/questions/55735783/add-the-directory-containing-cairo-gobject-pc/57381136#57381136", "title": "add the directory containing `cairo-gobject.pc&#39;", "body": "<p>I had the same issue -- indeed, cairo-gobject-devel does it, as Uli suggested.</p>\n"}], "owner": {"reputation": 375, "user_id": 1068689, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/512e76ffafe4c4b52c7508421a5bc2d2?s=128&d=identicon&r=PG", "display_name": "Mike Maxwell", "link": "https://stackoverflow.com/users/1068689/mike-maxwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 803, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565111976, "creation_date": 1555534256, "question_id": 55735783, "link": "https://stackoverflow.com/questions/55735783/add-the-directory-containing-cairo-gobject-pc", "title": "add the directory containing `cairo-gobject.pc&#39;", "body": "<p>I'm trying to install PyGObject on a RH Linux system, using the command</p>\n\n<pre><code>    python3 /usr/local/bin/pip3.6 install PyGObject\n</code></pre>\n\n<p>But it dies with the ff. error msg:</p>\n\n<pre><code>    Package cairo-gobject was not found in the pkg-config search path.\n    Perhaps you should add the directory containing `cairo-gobject.pc'\n    to the PKG_CONFIG_PATH environment variable\n</code></pre>\n\n<p>I <em>think</em> the cairo-gobject should already have been installed, and I would gladly tell pip where to look for <code>cairo-gobject.pc</code>--if only I knew.  But I don't have a clue where it is.</p>\n\n<p>I'm generally following the instructions for <a href=\"https://pygobject.readthedocs.io/en/latest/getting_started.html#fedora-getting-started\" rel=\"nofollow noreferrer\">installing PyGObject on Fedora systems</a>, although a lot of things seem to have changed since that write-up.  For example, using <code>yum</code> instead of <code>dnf</code>.  Also, following the instructions, I initially did</p>\n\n<pre><code>    yum install cairo-devel\n</code></pre>\n\n<p>But <code>yum search</code> revealed that there are actually two such packages: cairo-devel.i686 and cairo-devel.x86_64.  It's not clear to me which one was actually installed, nor whether yum automagically selects the right one.</p>\n\n<p>And while our system interprets <code>python</code> as <code>python2</code>, we also have <code>python3</code> installed, and we need to use this program I'm trying to install with v3.  So instructions for calling <code>pip</code>, <code>python</code> etc. need to be modified to use Python3.  I <em>think</em> I've done that everywhere, although it's of course possible that I goofed, and cairo-gobject is somewhere that only P2 knows.</p>\n\n<p>Packages I've installed: gcc, gobject_introspection-devel, cairo-devel, pkg-config, python3-devel, python36-devel, python36-setuptools, gtk3, pycairo.  But still, when I try to do</p>\n\n<pre><code>    python3 /usr/local/bin/pip3.6 install PyGObject\n</code></pre>\n\n<p>it dies (as I said above) with <code>Package cairo-gobject was not found in the pkg-config search path.</code></p>\n\n<p>What lack I yet?  Where might I look for this <code>cairo-gobject.pc</code> thing?  I know that cairo.pc is under /usr/lib64/pkgconfig/, but cairo-gobject.pc is nowhere under /usr/.  Where else might it be?</p>\n\n<p>Last Minute: While making sure I'd dotted every 'i' before posting, I noticed a 't' I'd forgotten to cross, namely a msg I'd overlooked while trying to install PyGObject:</p>\n\n<pre><code>    Building wheel for PyGObject (PEP 517) ... error\n</code></pre>\n\n<p>But the build goes on past that error (that's my excuse for missing it before), until it finally quits with the above-referenced message about cairo-gobject.pc.  There's some discussion about this PEP517-related issue <a href=\"https://github.com/pypa/pip/issues/6222\" rel=\"nofollow noreferrer\">here</a>, but I don't see a resolution.  Or if there is, I don't know how to apply it.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1555534452, "post_id": 55735780, "comment_id": 98149814, "body": "pyaaf looks up to the task <a href=\"https://pyaaf.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">pyaaf.readthedocs.io/en/latest/index.html</a>"}, {"owner": {"reputation": 6272, "user_id": 3311276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tzd3h.png?s=128&g=1", "display_name": "Ciasto piekarz", "link": "https://stackoverflow.com/users/3311276/ciasto-piekarz"}, "reply_to_user": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1555534475, "post_id": 55735780, "comment_id": 98149823, "body": "I have been reading docs already"}, {"owner": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1555535756, "post_id": 55735780, "comment_id": 98150242, "body": "You should be able to iterate over aaf objects like a typical dictionary e.g  for k,v in main_composition.items():     print (k,v)"}, {"owner": {"reputation": 6272, "user_id": 3311276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tzd3h.png?s=128&g=1", "display_name": "Ciasto piekarz", "link": "https://stackoverflow.com/users/3311276/ciasto-piekarz"}, "reply_to_user": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1555583437, "post_id": 55735780, "comment_id": 98164980, "body": "\u2018compositionMob\u2019 object has no attribute \u2018items\u2019"}, {"owner": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1555592183, "post_id": 55735780, "comment_id": 98169866, "body": "items() is a dictionary method in Python. Since the objects are dictionaries I&#39;d imagine you could iterate through them like any dictionary."}, {"owner": {"reputation": 6272, "user_id": 3311276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tzd3h.png?s=128&g=1", "display_name": "Ciasto piekarz", "link": "https://stackoverflow.com/users/3311276/ciasto-piekarz"}, "reply_to_user": {"reputation": 175, "user_id": 11341426, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7112efb36292ab916ada36f1cd0e267?s=128&d=identicon&r=PG&f=1", "display_name": "Sflagg", "link": "https://stackoverflow.com/users/11341426/sflagg"}, "edited": false, "score": 0, "creation_date": 1556010005, "post_id": 55735780, "comment_id": 98282847, "body": "@Sflagg by the method you suggested I traversed to segments &gt; components &gt; data definitions but couldn\u2019t locate the source clip which is what I am after !"}], "owner": {"reputation": 6272, "user_id": 3311276, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/tzd3h.png?s=128&g=1", "display_name": "Ciasto piekarz", "link": "https://stackoverflow.com/users/3311276/ciasto-piekarz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555534249, "creation_date": 1555534249, "question_id": 55735780, "link": "https://stackoverflow.com/questions/55735780/how-to-read-aaf-file-using-pyaaf-traversing-till-the-edge-to-retrieve-values", "title": "How to read aaf file using pyaaf traversing till the edge to retrieve values?", "body": "<p>I am given a task at workplace to read aaf file to fetch data and read its values to be passed to a different software. </p>\n\n<p>How can I retrieve all key value pair in order deep down the aaf tree? </p>\n\n<p>While experimenting I have noticed all  mobs do not have mob_id ! Like this many attributes are sometimes there and sometimes missing in the element/components.</p>\n"}, {"tags": ["python", "nlp", "nltk", "wikipedia", "entity-linking"], "answers": [{"tags": [], "owner": {"reputation": 6047, "user_id": 5652313, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Gra23QkoJiU/AAAAAAAAAAI/AAAAAAAAAAA/3Ztq6gNNllo/photo.jpg?sz=128", "display_name": "Jind\u0159ich", "link": "https://stackoverflow.com/users/5652313/jind%c5%99ich"}, "is_accepted": false, "score": 1, "last_activity_date": 1555577603, "creation_date": 1555577603, "answer_id": 55742470, "question_id": 55735766, "link": "https://stackoverflow.com/questions/55735766/extract-wikipedia-entities-from-text/55742470#55742470", "title": "Extract Wikipedia Entities from Text", "body": "<p>You can use <a href=\"https://spacy.io/\" rel=\"nofollow noreferrer\">spacy</a>:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import spacy\nimport en_core_web_sm\nnlp = en_core_web_sm.load()\ndoc = doc = nlp('Scarlett Johansson is an American actress.')\nprint([(X.text, X.label_) for X in doc.ents])\n</code></pre>\n\n<p>And you get:</p>\n\n<pre><code>[('Scarlett Johansson', 'PERSON'), ('American', 'NORP')]\n</code></pre>\n\n<p>Find more in <a href=\"https://spacy.io/usage/linguistic-features#named-entities\" rel=\"nofollow noreferrer\">spacy documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 93705, "user_id": 610569, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/0e9087f2672b0e4f28d91266acf9ce57?s=128&d=identicon&r=PG", "display_name": "alvas", "link": "https://stackoverflow.com/users/610569/alvas"}, "is_accepted": false, "score": 1, "last_activity_date": 1556003827, "creation_date": 1556003827, "answer_id": 55806089, "question_id": 55735766, "link": "https://stackoverflow.com/questions/55735766/extract-wikipedia-entities-from-text/55806089#55806089", "title": "Extract Wikipedia Entities from Text", "body": "<p>Here's an NLTK version (may not be as good as SpaCy):</p>\n\n<pre><code>from nltk import Tree\nfrom nltk import ne_chunk, pos_tag, word_tokenize\n\ndef get_continuous_chunks(text, chunk_func=ne_chunk):\n    chunked = chunk_func(pos_tag(word_tokenize(text)))\n    continuous_chunk = []\n    current_chunk = []\n\n    for subtree in chunked:\n        if type(subtree) == Tree:\n            current_chunk.append(\" \".join([token for token, pos in subtree.leaves()]))\n        elif current_chunk:\n            named_entity = \" \".join(current_chunk)\n            if named_entity not in continuous_chunk:\n                continuous_chunk.append(named_entity)\n                current_chunk = []\n        else:\n            continue\n\n    return continuous_chunk\n\n\ntext = 'Scarlett Johansson is an American actress.'\nget_continuous_chunks(text)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9977406, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gTy5OooLjaI/AAAAAAAAAAI/AAAAAAAAAI4/HPf88_jw3Uw/photo.jpg?sz=128", "display_name": "Iknoor Singh", "link": "https://stackoverflow.com/users/9977406/iknoor-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1566844170, "creation_date": 1555534163, "last_edit_date": 1555569802, "question_id": 55735766, "link": "https://stackoverflow.com/questions/55735766/extract-wikipedia-entities-from-text", "title": "Extract Wikipedia Entities from Text", "body": "<p>Is there any way we can extract all the wikipedia entities from the text using Wikipedia2Vec? Or is there any other way to do the same. </p>\n\n<p>Example:  </p>\n\n<pre><code>Text : \"Scarlett Johansson is an American actress.\"  \nEntities : [ 'Scarlett Johansson' , 'American' ]\n</code></pre>\n\n<p>I want to do it in Python</p>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "python-dataclasses"], "comments": [{"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 4, "creation_date": 1555534287, "post_id": 55735739, "comment_id": 98149758, "body": "what &quot;other reasons&quot;? if you want hashable you pretty much always want frozen"}, {"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1555534708, "post_id": 55735739, "comment_id": 98149890, "body": "@wim because in one context, I need the dataclass mutability to modify attributes, and in a different context, I need to compare equality between 2 lists of these objects. Maybe I could write 2 different dataclasses with the same attributes, but one frozen, and the other not?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1555534906, "post_id": 55735739, "comment_id": 98149956, "body": "@DavidD.: Sounds like you may be interested in <a href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.replace\" rel=\"nofollow noreferrer\"><code>dataclasses.replace</code></a>."}, {"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1555535650, "post_id": 55735739, "comment_id": 98150191, "body": "Yes! I just saw <a href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.astuple\" rel=\"nofollow noreferrer\">dataclasses.astuple</a> that could do the trick too"}], "answers": [{"comments": [{"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1555535236, "post_id": 55735774, "comment_id": 98150073, "body": "Thanks, sounds very interesting. I read &quot;if your class is logically immutable but can nonetheless be mutated. This is a specialized use case and should be considered carefully.&quot; Can you elaborate about the &quot;unsafe&quot; character of this?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 0, "creation_date": 1555535494, "post_id": 55735774, "comment_id": 98150151, "body": "@DavidD.: Same reason any other mutable, hashable object would be unsafe: mutation breaks any sets, dicts, or other hash-based data structures the object may be in."}, {"owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 1, "creation_date": 1555536114, "post_id": 55735774, "comment_id": 98150383, "body": "That&#39;s what I was thinking. May I ask you to complete your answer with comparisons to other solutions (<code>replace</code>, <code>astuple</code>) sothat I can mark your answer as accepted? Thanks again."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "edited": false, "score": 1, "creation_date": 1555536452, "post_id": 55735774, "comment_id": 98150522, "body": "@DavidD.: Answer expanded."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": true, "score": 4, "last_activity_date": 1555536436, "last_edit_date": 1555536436, "creation_date": 1555534201, "answer_id": 55735774, "question_id": 55735739, "link": "https://stackoverflow.com/questions/55735739/how-to-make-an-unfrozen-dataclass-instance-hashable/55735774#55735774", "title": "How to make an unfrozen dataclass instance hashable?", "body": "<p>There's a parameter for that:</p>\n\n<pre><code>@dataclass(unsafe_hash=True)\nclass Whatever:\n    ...\n</code></pre>\n\n<p>You should probably use <code>frozen=True</code>, though. If you need to update attributes on a frozen dataclass instance, you can use <a href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.replace\" rel=\"nofollow noreferrer\"><code>dataclasses.replace</code></a> to construct a new object:</p>\n\n<pre><code>new_thing = dataclasses.replace(old_thing, var=new_val)\n</code></pre>\n\n<p>You can also use a mutable dataclass instance and <a href=\"https://docs.python.org/3/library/dataclasses.html#dataclasses.astuple\" rel=\"nofollow noreferrer\"><code>dataclasses.astuple</code></a> to get a tuple when you need something hashable. Watch out, though - <code>astuple</code> has a bunch of weird copying behavior, so you can get behavior like the following:</p>\n\n<pre><code>In [1]: import dataclasses\n\nIn [2]: @dataclasses.dataclass\n   ...: class Foo:\n   ...:     a: object\n   ...:     b: object\n   ...:     \n\nIn [3]: x = object()\n\nIn [4]: a = Foo(x, x)\n\nIn [5]: b = dataclasses.astuple(a)\n\nIn [6]: b[0] is b[1]\nOut[6]: False\n\nIn [7]: b[0] is x\nOut[7]: False\n\nIn [8]: a == a\nOut[8]: True\n\nIn [9]: dataclasses.astuple(a) == dataclasses.astuple(a)\nOut[9]: False\n</code></pre>\n"}], "owner": {"reputation": 8255, "user_id": 2255491, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1fd43fc2f1c211b0701bed602b18cc2a?s=128&d=identicon&r=PG", "display_name": "David D.", "link": "https://stackoverflow.com/users/2255491/david-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 396, "favorite_count": 0, "accepted_answer_id": 55735774, "answer_count": 1, "score": 3, "last_activity_date": 1555536436, "creation_date": 1555534058, "last_edit_date": 1555535023, "question_id": 55735739, "link": "https://stackoverflow.com/questions/55735739/how-to-make-an-unfrozen-dataclass-instance-hashable", "title": "How to make an unfrozen dataclass instance hashable?", "body": "<p>When defining a dataclass with <code>frozen=False</code> (default behaviour), and then instantiating an object of this class, is there a way to make this object hashable?</p>\n\n<h3>Why do I need this?</h3>\n\n<p>Before Python 3.7, I used named tuples instead of dataclasses and I used to find duplicates using <code>set()</code>, but I can't use it anymore.\nI don't want to use <code>frozen=True</code> on dataclasses for other reasons.</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "edited": false, "score": 0, "creation_date": 1555569771, "post_id": 55735716, "comment_id": 98158009, "body": "Can you post somewhere how the posted approaches fair on your hinted  ~10k to ~100k sized datasets? I am guessing performance i.e. runtime is your priority, so it would be nice to see how these stack up."}], "answers": [{"comments": [{"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555535016, "post_id": 55735872, "comment_id": 98149996, "body": "Thanks for your suggestion, I should have mentioned my use-case. It would be part of a categorical naive Bayes weighted by sample weights. Thus I deal with quite large arrays like ~10k to ~100k and up."}, {"owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "reply_to_user": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555535170, "post_id": 55735872, "comment_id": 98150046, "body": "That&#39;s not too bad, I think a dict should work fine for you. You&#39;re not gonna be O(len(Y)) at least, and if dict isn&#39;t fast enough for you, you should be able to implement this algorithm with a custom hash table in C."}, {"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555535463, "post_id": 55735872, "comment_id": 98150137, "body": "While theoretically, a dict is O(1) I think there is a lot of overhead due to hashing, non-contiguous memory, etc. A loop in Cython should get the thing done passing X and Y only one time each I guess. I was just wondering if Cython is the only solution or maybe there is a smart application of <code>np.where</code> or <code>np.choose</code> or some function I am not aware of."}, {"owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "reply_to_user": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555536204, "post_id": 55735872, "comment_id": 98150424, "body": "You asked for the &quot;most efficient implementation.&quot; You didn&#39;t specify in terms of runtime or memory, so I assumed runtime. The most efficient is O(n), and this is a solution to that. If you don&#39;t want to use hashing, you should edit your question to stipulate &quot;most efficient implementation without hashing.&quot;"}, {"owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "reply_to_user": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 1, "creation_date": 1555536603, "post_id": 55735872, "comment_id": 98150571, "body": "@fwilhelm, given that you&#39;ll have 10k to 100k elements, it is probably worthwhile to spend some time testing the performance with arrays of that size.  For small arrays, using <code>np.unique</code> might win, but as you increase the size of the arrays, eventually the method with lower time complexity will win.  Testing will let you know if you&#39;ve reached that point."}, {"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555536746, "post_id": 55735872, "comment_id": 98150622, "body": "I have never stated that by most efficient I mean having the least runtime complexity in O notation. That was something you assumed although I should have made it more clear that I wanted a Numpy array based solution if possible. The np.unique function surely uses some kind of hashing internally too but is more efficient since it happens in C without any Python overhead."}, {"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "reply_to_user": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "edited": false, "score": 0, "creation_date": 1555537150, "post_id": 55735872, "comment_id": 98150756, "body": "@WarrenWeckesser, I did a short runtime test with <code>n=1000000</code> and your approach was still 3 times faster than the approach of @tom-lubenow."}], "tags": [], "owner": {"reputation": 931, "user_id": 11161686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JRO14-5CJkk/AAAAAAAAAAI/AAAAAAAAAYk/XPD0q-CC3vI/photo.jpg?sz=128", "display_name": "Tom Lubenow", "link": "https://stackoverflow.com/users/11161686/tom-lubenow"}, "is_accepted": false, "score": 0, "last_activity_date": 1555534766, "creation_date": 1555534766, "answer_id": 55735872, "question_id": 55735716, "link": "https://stackoverflow.com/questions/55735716/how-to-sum-up-for-each-distinct-value-c-in-array-x-all-elements-yi-where-xi/55735872#55735872", "title": "How to sum up for each distinct value c in array X all elements Y[i] where X[i] = k efficiently?", "body": "<p>I think you'd want to use a hashtable. Python's dict will be efficient enough for small data sets. You'll certainly have to roll your own algorithm for this.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>def unique_sums(x, y):\n    xd = {}\n    for i, number in enumerate(y):\n        xd[x[i]] = xd.get(x[i], 0) + number\n    return xd.keys(), xd.values()\n</code></pre>\n\n<p>I think your solution is O(n^2) because of <code>np.sum(y[x == val])</code> but mine above is O(n).</p>\n"}, {"comments": [{"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555536227, "post_id": 55736036, "comment_id": 98150442, "body": "I am really impressed! Exactly what I was looking for. I wasn&#39;t aware of these <code>ufunc.at</code> functions in Numpy."}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535855, "last_edit_date": 1555535855, "creation_date": 1555535532, "answer_id": 55736036, "question_id": 55735716, "link": "https://stackoverflow.com/questions/55735716/how-to-sum-up-for-each-distinct-value-c-in-array-x-all-elements-yi-where-xi/55736036#55736036", "title": "How to sum up for each distinct value c in array X all elements Y[i] where X[i] = k efficiently?", "body": "<p>Here you go:</p>\n\n<pre><code>In [21]: u, inv = np.unique(X, return_inverse=True)                                                                                                            \n\nIn [22]: sums = np.zeros(len(u), dtype=Y.dtype)                                                                                                                               \n\nIn [23]: np.add.at(sums, inv, Y)                                                                                                                               \n\nIn [24]: sums                                                                                                                                                  \nOut[24]: array([2.1, 0.8, 0.2])\n</code></pre>\n\n<p>This replaces your <code>for</code>-loop with the nifty method <code>numpy.add.at</code>.</p>\n\n<p>Note that <code>np.unique</code> sorts <code>X</code>, so this method is O(n*log(n)).  That's not the best possible time complexity for this problem.</p>\n"}, {"comments": [{"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555537586, "post_id": 55736229, "comment_id": 98150890, "body": "Thanks, smart idea. Do I also get the corresponding list of distinct values in your solution?"}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "reply_to_user": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555537682, "post_id": 55736229, "comment_id": 98150915, "body": "No, you do not.  If you need those, you&#39;ll have to use <code>np.unique</code>.  However, based on my timings, using <code>np.unique</code> doesn&#39;t add enough overhead to make any of the other solutions faster than this one.  For example, with <code>n=100_000</code>, it adds about 3ms to the total time, resulting in still being 3x faster than the other solutions."}, {"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555537860, "post_id": 55736229, "comment_id": 98150970, "body": "Ok, got it. The only downside to your solution is then that I can only deal with integers in X, right? If I would apply this in a Scikit-Learn context where most matrices X are float, this could be a problem."}, {"owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "reply_to_user": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555537885, "post_id": 55736229, "comment_id": 98150980, "body": "That is correct.  Although that would mess up all of the solutions here.  I added an example of linking the unique values back to the results in my answer btw"}, {"owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "edited": false, "score": 0, "creation_date": 1555538155, "post_id": 55736229, "comment_id": 98151064, "body": "Thanks, nice. I just tried the solution of @WarrenWeckesser with float values in X and it still worked. Why would it break down?"}], "tags": [], "owner": {"reputation": 45308, "user_id": 3483203, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/592wq.png?s=128&g=1", "display_name": "user3483203", "link": "https://stackoverflow.com/users/3483203/user3483203"}, "is_accepted": false, "score": 1, "last_activity_date": 1555537858, "last_edit_date": 1555537858, "creation_date": 1555536522, "answer_id": 55736229, "question_id": 55735716, "link": "https://stackoverflow.com/questions/55735716/how-to-sum-up-for-each-distinct-value-c-in-array-x-all-elements-yi-where-xi/55736229#55736229", "title": "How to sum up for each distinct value c in array X all elements Y[i] where X[i] = k efficiently?", "body": "<p>We can use a <code>scipy.sparse.csr_matrix</code> here for a more efficient solution</p>\n\n<hr>\n\n<p><strong><em>Setup</em></strong></p>\n\n<pre><code>X = np.array([1, 3, 2, 1, 2])\nY = np.array([0.1, 0.2, 0.5, 2.0, 0.3])\n</code></pre>\n\n<hr>\n\n<pre><code>from scipy import sparse\n\nres = sparse.csr_matrix(\n    (Y, X, np.arange(Y.shape[0]+1)),\n    (Y.shape[0], X.max()+1)\n).sum(0).A1\n</code></pre>\n\n<p></p>\n\n<pre><code>array([0. , 2.1, 0.8, 0.2])\n</code></pre>\n\n<p>This is a list of sums from <code>0 -&gt; k</code>, where <code>k</code> is the maximum value of your <code>X</code> array.  Any entry where a key does not exist in <code>X</code> will obviously be <code>0</code>.  To get a better mapping back, you can use <code>np.unique</code> and some indexing:</p>\n\n<pre><code>u = np.unique(X)\nnp.column_stack((u, res[u]))\n</code></pre>\n\n<p></p>\n\n<pre><code>array([[1. , 2.1],\n       [2. , 0.8],\n       [3. , 0.2]])\n</code></pre>\n\n<hr>\n\n<p><strong><em>Timings</em></strong></p>\n\n<pre><code>X = np.random.randint(0, 100, 100_000)\nY = np.random.rand(100_000)\n\nIn [11]: %%timeit\n    ...: sparse.csr_matrix(\n    ...:     (Y, X, np.arange(Y.shape[0]+1)),\n    ...:     (Y.shape[0], X.max()+1)\n    ...: ).sum(0).A1\n    ...:\n1.15 ms \u00b1 17.3 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 1000 loops each)\n\nIn [13]: %%timeit\n    ...: u, inv = np.unique(X, return_inverse=True)\n    ...: sums = np.zeros(len(u), dtype=Y.dtype)\n    ...: np.add.at(sums, inv, Y)\n    ...:\n16.5 ms \u00b1 161 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n\nIn [16]: %timeit unique_sums(X, Y)\n16.6 ms \u00b1 169 \u00b5s per loop (mean \u00b1 std. dev. of 7 runs, 100 loops each)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 203214, "user_id": 3293881, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/6ZYnq.jpg?s=128&g=1", "display_name": "Divakar", "link": "https://stackoverflow.com/users/3293881/divakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1555567320, "creation_date": 1555567320, "answer_id": 55739936, "question_id": 55735716, "link": "https://stackoverflow.com/questions/55735716/how-to-sum-up-for-each-distinct-value-c-in-array-x-all-elements-yi-where-xi/55739936#55739936", "title": "How to sum up for each distinct value c in array X all elements Y[i] where X[i] = k efficiently?", "body": "<p>We will try to leverage <code>pandas.factorize</code> to efficiently get unique int-based IDs and then use <code>numpy.bincount</code> to get ID based summing. So, the solution would look something like this -</p>\n\n<pre><code>import pandas as pd\n\ndef unique_sums_factorize_bincount(X, Y):\n    ids,unq = pd.factorize(X)\n    return unq, np.bincount(ids,Y)\n</code></pre>\n\n<p>Sample run -</p>\n\n<pre><code>In [24]: X = np.array([ 1,   3,   2,   1,   2]).astype(float)\n    ...: Y = np.array([0.1, 0.2, 0.5, 2.0, 0.3])\n\nIn [25]: unique_sums_factorize_bincount(X,Y)\nOut[25]: (array([1., 3., 2.]), array([2.1, 0.2, 0.8]))\n</code></pre>\n"}], "owner": {"reputation": 158, "user_id": 4334471, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qbX3a55WsyA/AAAAAAAAAAI/AAAAAAAADfQ/01_9PfZX-3Y/photo.jpg?sz=128", "display_name": "fwilhelm", "link": "https://stackoverflow.com/users/4334471/fwilhelm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 429, "favorite_count": 0, "accepted_answer_id": 55736036, "answer_count": 4, "score": 1, "last_activity_date": 1555567320, "creation_date": 1555533898, "question_id": 55735716, "link": "https://stackoverflow.com/questions/55735716/how-to-sum-up-for-each-distinct-value-c-in-array-x-all-elements-yi-where-xi", "title": "How to sum up for each distinct value c in array X all elements Y[i] where X[i] = k efficiently?", "body": "<p>Given an 1D array <code>X</code> of length <code>n</code> in Numpy with <code>k</code> distinct values, I want to sum up for each of these distinct values <code>c</code> in another 1D array <code>Y</code> with the same length, all those elements <code>Y[idx]</code> where <code>X[idx] == c</code> in the most efficient way.</p>\n\n<p>Example:</p>\n\n<p><code>X = [1, 3, 2, 1, 2]</code> and <code>Y = [0.1, 0.2, 0.5, 2.0, 0.3]</code>. The length <code>n</code> is 5 and we have <code>k=3</code> distinct values in <code>X</code>. That means that the result of our operation is a vector of the <code>k=3</code> distinct elements <code>[1, 3, 2]</code> in <code>X</code> and the corresponding sums from the elements of <code>Y</code> which is <code>[2.1, 0.2, 0.8]</code>. It's also fine if the distinct elements are ordered. Thus <code>[1, 2, 3]</code> with <code>[2.1, 0.8, 0.2]</code> would also be a solution.</p>\n\n<p>I have already looked up various functions in Numpy and the closest to what I want is <code>np.unique(X, return_counts=True)</code> but it returns the counts and not the sums in Y.</p>\n\n<p>One could, of course, solve the whole thing with a nasty loop like:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\n\nX = np.array([1, 3, 2, 1, 2])\nY = np.array([0.1, 0.2, 0.5, 2.0, 0.3])\n\ndef unique_sums(x, y):\n    distinct_x = np.unique(x)\n    y_sums = np.empty(distinct_x.shape)\n    for idx, val in enumerate(distinct_x):\n        y_sums[idx] = np.sum(y[x == val])\n    return distinct_x, y_sums\n\nunique_sums(X, Y)\n</code></pre>\n\n<p>leading to the ordered result:</p>\n\n<pre><code>(array([1, 2, 3]), array([2.1, 0.8, 0.2]))\n</code></pre>\n\n<p>Is there a vectorized operation like this in Numpy or any other common Python library? If not, what would be the most efficient implementation in Cython?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "comments": [{"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 0, "creation_date": 1555534964, "post_id": 55735702, "comment_id": 98149978, "body": "Do you want to store all the matrices into a single list/array? If yes I can help with"}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1555535223, "post_id": 55735702, "comment_id": 98150066, "body": "Anything wrong with a simple list?"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 11375880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8U-e1Ke27B4/AAAAAAAAAAI/AAAAAAAAAAs/4C5L48-SRrE/photo.jpg?sz=128", "display_name": "Jason D.", "link": "https://stackoverflow.com/users/11375880/jason-d"}, "edited": false, "score": 1, "creation_date": 1555536204, "post_id": 55735949, "comment_id": 98150422, "body": "Ah yes, exactly what I need. Thank you very much!"}, {"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "reply_to_user": {"reputation": 47, "user_id": 11375880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8U-e1Ke27B4/AAAAAAAAAAI/AAAAAAAAAAs/4C5L48-SRrE/photo.jpg?sz=128", "display_name": "Jason D.", "link": "https://stackoverflow.com/users/11375880/jason-d"}, "edited": false, "score": 0, "creation_date": 1555536246, "post_id": 55735949, "comment_id": 98150448, "body": "Glad to hear that you want exactly the same. Enjoy."}, {"owner": {"reputation": 338, "user_id": 9151228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qle5r0vdaZQ/AAAAAAAAAAI/AAAAAAAABCQ/rfstD4rfaFg/photo.jpg?sz=128", "display_name": "Subhaneil Lahiri", "link": "https://stackoverflow.com/users/9151228/subhaneil-lahiri"}, "edited": false, "score": 1, "creation_date": 1555565871, "post_id": 55735949, "comment_id": 98156648, "body": "@webDev I&#39;m not sure that he wants/needs the arrays to be converted to lists before storing them, given that he intends to matrix-multiply them later. I think <code>m_objects.append(a)</code> etc would work just as well."}, {"owner": {"reputation": 47, "user_id": 11375880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8U-e1Ke27B4/AAAAAAAAAAI/AAAAAAAAAAs/4C5L48-SRrE/photo.jpg?sz=128", "display_name": "Jason D.", "link": "https://stackoverflow.com/users/11375880/jason-d"}, "reply_to_user": {"reputation": 338, "user_id": 9151228, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qle5r0vdaZQ/AAAAAAAAAAI/AAAAAAAABCQ/rfstD4rfaFg/photo.jpg?sz=128", "display_name": "Subhaneil Lahiri", "link": "https://stackoverflow.com/users/9151228/subhaneil-lahiri"}, "edited": false, "score": 0, "creation_date": 1555591330, "post_id": 55735949, "comment_id": 98169348, "body": "@SubhaneilLahiri Yes, actually I had a problem with the end result being a list. I managed to circumvent that with code I had already written. Your tip was very useful too. Thank you to both of you."}], "tags": [], "owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "is_accepted": true, "score": 0, "last_activity_date": 1555535680, "last_edit_date": 1555535680, "creation_date": 1555535110, "answer_id": 55735949, "question_id": 55735702, "link": "https://stackoverflow.com/questions/55735702/combining-different-sized-arrays-into-one-object/55735949#55735949", "title": "Combining different sized arrays into one object?", "body": "<p>Do you want something like this? (If you want to store your matrices into a list):</p>\n\n<pre><code>a = np.zeros((5, 3))\nb = np.zeros((3, 3))\nc = np.zeros((3, 2))\nm_objects = []\nm_objects.append(a.tolist())\nm_objects.append(b.tolist())\nm_objects.append(c.tolist())\n#print matrices\nfor i in m_objects:\n    print(np.matrix(i))\n    print(\"-----\")\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[[0. 0. 0.]\n [0. 0. 0.]\n [0. 0. 0.]\n [0. 0. 0.]\n [0. 0. 0.]]\n-----\n[[0. 0. 0.]\n [0. 0. 0.]\n [0. 0. 0.]]\n-----\n[[0. 0.]\n [0. 0.]\n [0. 0.]]\n-----\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 11375880, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-8U-e1Ke27B4/AAAAAAAAAAI/AAAAAAAAAAs/4C5L48-SRrE/photo.jpg?sz=128", "display_name": "Jason D.", "link": "https://stackoverflow.com/users/11375880/jason-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 55735949, "answer_count": 1, "score": 2, "last_activity_date": 1555535680, "creation_date": 1555533852, "last_edit_date": 1555534152, "question_id": 55735702, "link": "https://stackoverflow.com/questions/55735702/combining-different-sized-arrays-into-one-object", "title": "Combining different sized arrays into one object?", "body": "<p>In Python 3.7, Numpy: I have a number of different sized arrays, for example a (5,3), a (3,3) and a (3,2) array. (Background: They define matrices which will be multiplied to an initial vector successively.) To get flexible code (for example to insert a fourth matrix between one of those very easily) I want to store all of them inside one object.</p>\n\n<p>I tried simply putting it into a previously generated zero array which should be big enough to fit all of them, but that has not worked as expected. Code below.</p>\n\n<pre><code>for i in range(CollectionSize-1):\n        ArrayCollection[:, :, i] = Array(Lenght1[i], Lenght2[i])    \n</code></pre>\n\n<p>If I run this lines of code, I get the error</p>\n\n<pre><code>ValueError: could not broadcast input array from shape (5,3) into shape (5,5)\n</code></pre>\n\n<p>What I preferably want to have is an object made of these arrays with none of the dead spots (so if I call <code>ArrayCollection[:, :, 0]</code> I want a different sized Array then when I call <code>ArrayCollection[:, :, 1]</code>), but I can work with these dead spots being filled with zeros.</p>\n\n<p>I suspect the answer to be pretty simple, please don't be too harsh on me if that is the case, but I slogged with that for too long now.</p>\n\n<p>Also if there is another way of doing what I need rather than storing everything in one object, I'm open for suggestions.</p>\n"}, {"tags": ["python", "curve-fitting"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9980697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102856941493402/picture?type=large", "display_name": "Mike Young", "link": "https://stackoverflow.com/users/9980697/mike-young"}, "edited": false, "score": 1, "creation_date": 1555623608, "post_id": 55737500, "comment_id": 98184422, "body": "I do like this implementation as a semi-automated method to generate parameter estimates. I did however find that it sometimes fails to fit the data as well but this can usually be solved by selecting more or less of the shoulders around the peak of interest. I wonder if this has something to do with the step size that curve_fit uses when exploring parameter space relative to the extremely small numbers I am working with?"}, {"owner": {"reputation": 3988, "user_id": 2436862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4P7Vh.jpg?s=128&g=1", "display_name": "James Phillips", "link": "https://stackoverflow.com/users/2436862/james-phillips"}, "reply_to_user": {"reputation": 13, "user_id": 9980697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102856941493402/picture?type=large", "display_name": "Mike Young", "link": "https://stackoverflow.com/users/9980697/mike-young"}, "edited": false, "score": 0, "creation_date": 1555625190, "post_id": 55737500, "comment_id": 98184875, "body": "If you were to choose search parameter ranges of +/- infinity, this method would not be useful. I guessed at some search ranges for my example, being unfamiliar with the specifics of the problem, and my guesses appeared to work. The search ranges can be generous, but if they do not bracket what should be good initial parameter estimates then such estimates are unlikely to be found. If you can infer good search ranges - ranges, mind you - by knowing the equation and data (with scatterplot review)  this method almost always seems to work well in my experience."}], "tags": [], "owner": {"reputation": 3988, "user_id": 2436862, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4P7Vh.jpg?s=128&g=1", "display_name": "James Phillips", "link": "https://stackoverflow.com/users/2436862/james-phillips"}, "is_accepted": true, "score": 0, "last_activity_date": 1555546052, "creation_date": 1555546052, "answer_id": 55737500, "question_id": 55735699, "link": "https://stackoverflow.com/questions/55735699/how-to-fix-a-bad-psd-fit-using-scipy-optimize-curvefit/55737500#55737500", "title": "How to fix a bad PSD fit using scipy.optimize.curvefit", "body": "<p>Here is example code that appears to give a good fit, using scipy's differential_evolution genetic algorithm to create initial parameter estimates. That module uses the Latin Hypercube algorithm to ensure a thorough search of parameter space, requiring bounds within which to search. I used data max and min values for most bounds, and for the bounds on Q I used -10 and +10 to bracket your p0 value. Ranges for the initial parameter values are much easier to determine than specific values.</p>\n\n<p><a href=\"https://i.stack.imgur.com/1kEGG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kEGG.png\" alt=\"plot\"></a></p>\n\n<pre><code>import numpy, scipy, matplotlib\nimport matplotlib.pyplot as plt\nfrom scipy.optimize import curve_fit\nfrom scipy.optimize import differential_evolution\nimport warnings\n\nxData = numpy.array([20015.69858713, 20054.94505495, 20094.19152276, 20133.43799058,\n       20172.6844584 , 20211.93092622, 20251.17739403, 20290.42386185,\n       20329.67032967, 20368.91679749, 20408.16326531, 20447.40973312,\n       20486.65620094, 20525.90266876, 20565.14913658, 20604.3956044 ,\n       20643.64207221, 20682.88854003, 20722.13500785, 20761.38147567,\n       20800.62794349, 20839.8744113 , 20879.12087912, 20918.36734694,\n       20957.61381476, 20996.86028257, 21036.10675039, 21075.35321821,\n       21114.59968603, 21153.84615385, 21193.09262166, 21232.33908948,\n       21271.5855573 , 21310.83202512, 21350.07849294, 21389.32496075,\n       21428.57142857, 21467.81789639, 21507.06436421, 21546.31083203,\n       21585.55729984, 21624.80376766, 21664.05023548, 21703.2967033 ,\n       21742.54317111, 21781.78963893, 21821.03610675, 21860.28257457,\n       21899.52904239, 21938.7755102 , 21978.02197802, 22017.26844584,\n       22056.51491366, 22095.76138148, 22135.00784929, 22174.25431711,\n       22213.50078493, 22252.74725275, 22291.99372057, 22331.24018838,\n       22370.4866562 , 22409.73312402, 22448.97959184, 22488.22605965,\n       22527.47252747, 22566.71899529, 22605.96546311, 22645.21193093,\n       22684.45839874, 22723.70486656, 22762.95133438, 22802.1978022 ,\n       22841.44427002, 22880.69073783, 22919.93720565, 22959.18367347,\n       22998.43014129])\nyData = numpy.array([5.65544381e-18, 5.45458563e-18, 4.89893664e-18, 4.91109125e-18,\n       4.93294827e-18, 5.05712667e-18, 4.60680439e-18, 4.93761900e-18,\n       5.25185317e-18, 5.71913103e-18, 5.88133465e-18, 5.51506519e-18,\n       5.28196380e-18, 5.37739619e-18, 7.11067243e-18, 7.38655966e-18,\n       5.79091461e-18, 6.70951199e-18, 7.21589026e-18, 8.57034517e-18,\n       1.03078084e-17, 8.62319615e-18, 8.85873439e-18, 9.51253497e-18,\n       8.56661324e-18, 7.84093758e-18, 7.91955750e-18, 8.11798984e-18,\n       7.45548785e-18, 8.99928113e-18, 1.11020034e-17, 1.39963873e-17,\n       1.34092392e-17, 1.60334619e-17, 1.55794254e-17, 1.20782547e-17,\n       1.52164359e-17, 1.86563455e-17, 2.09536229e-17, 2.47011325e-17,\n       2.64443357e-17, 3.23877863e-17, 3.82919169e-17, 4.36682960e-17,\n       4.18201004e-17, 6.53800912e-17, 9.40340341e-17, 1.20969462e-16,\n       1.75570644e-16, 2.59463564e-16, 3.83125755e-16, 5.63178280e-16,\n       6.19699349e-16, 5.95325659e-16, 4.71509035e-16, 3.39690667e-16,\n       1.90432901e-16, 2.05109520e-16, 2.71918806e-16, 2.42928468e-16,\n       1.33335030e-16, 7.93620990e-17, 5.58089972e-17, 3.71690525e-17,\n       4.72718831e-17, 3.73266547e-17, 2.06817670e-17, 2.01518733e-17,\n       2.40691290e-17, 1.76559440e-17, 1.88179105e-17, 2.23351216e-17,\n       2.33958117e-17, 1.87067097e-17, 1.59996492e-17, 1.02671264e-17,\n       1.21233722e-17])\n\n\ndef func(f,f0,a,b,Q):\n    power_app = (a*(f0**4))/((f**2-f0**2)**2 + (f*f0/Q)**2)+b\n    return power_app\n\n\n# function for genetic algorithm to minimize (sum of squared error)\ndef sumOfSquaredError(parameterTuple):\n    warnings.filterwarnings(\"ignore\") # do not print warnings by genetic algorithm\n    val = func(xData, *parameterTuple)\n    return numpy.sum((yData - val) ** 2.0)\n\n\ndef generate_Initial_Parameters():\n\n    parameterBounds = []\n    parameterBounds.append([min(xData), max(xData)]) # search bounds forf0\n    parameterBounds.append([min(yData), max(yData)]) # search bounds for a\n    parameterBounds.append([min(yData), max(yData)]) # search bounds for b\n    parameterBounds.append([10.0, 30.0]) # search bounds for Q\n\n    # \"seed\" the numpy random number generator for repeatable results\n    result = differential_evolution(sumOfSquaredError, parameterBounds, seed=3)\n    return result.x\n\n# by default, differential_evolution completes by calling curve_fit() using parameter bounds\ngeneticParameters = generate_Initial_Parameters()\n\n# now call curve_fit without passing bounds from the genetic algorithm,\n# just in case the best fit parameters are aoutside those bounds\nfittedParameters, pcov = curve_fit(func, xData, yData, geneticParameters)\nprint('Fitted parameters:', fittedParameters)\nprint()\n\nmodelPredictions = func(xData, *fittedParameters) \n\nabsError = modelPredictions - yData\n\nSE = numpy.square(absError) # squared errors\nMSE = numpy.mean(SE) # mean squared errors\nRMSE = numpy.sqrt(MSE) # Root Mean Squared Error, RMSE\nRsquared = 1.0 - (numpy.var(absError) / numpy.var(yData))\n\nprint()\nprint('RMSE:', RMSE)\nprint('R-squared:', Rsquared)\n\nprint()\n\n\n##########################################################\n# graphics output section\ndef ModelAndScatterPlot(graphWidth, graphHeight):\n    f = plt.figure(figsize=(graphWidth/100.0, graphHeight/100.0), dpi=100)\n    axes = f.add_subplot(111)\n\n    # first the raw data as a scatter plot\n    axes.plot(xData, yData,  'D')\n\n    # create data for the fitted equation plot\n    xModel = numpy.linspace(min(xData), max(xData))\n    yModel = func(xModel, *fittedParameters)\n\n    # now the model as a line plot\n    axes.plot(xModel, yModel)\n\n    axes.set_xlabel('X Data') # X axis data label\n    axes.set_ylabel('Y Data') # Y axis data label\n\n    plt.show()\n    plt.close('all') # clean up after using pyplot\n\ngraphWidth = 800\ngraphHeight = 600\nModelAndScatterPlot(graphWidth, graphHeight)\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9980697, "user_type": "registered", "profile_image": "https://graph.facebook.com/10102856941493402/picture?type=large", "display_name": "Mike Young", "link": "https://stackoverflow.com/users/9980697/mike-young"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 55737500, "answer_count": 1, "score": 1, "last_activity_date": 1555546052, "creation_date": 1555533837, "question_id": 55735699, "link": "https://stackoverflow.com/questions/55735699/how-to-fix-a-bad-psd-fit-using-scipy-optimize-curvefit", "title": "How to fix a bad PSD fit using scipy.optimize.curvefit", "body": "<p>I have a power spectral density with a single peak that I am trying to fit using a custom function (simple harmonic oscillator). I am feeding in initial parameters that appear to be reasonably close based on plotting them with the raw data however the curve_fit function fails to fit the data reasonably.</p>\n\n<p>This is using python 3.7 on a Windows 10 computer. I have tried simplifying to a minimal dataset in order to troubleshoot the problem but can't seem to figure it out.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>import numpy as np\nimport matplotlib.pyplot as plt\n\nfrom scipy.optimize import curve_fit\n\ndef SHO(f,f0,a,b,Q):\n    power_app = (a*(f0**4))/((f**2-f0**2)**2 + (f*f0/Q)**2)+b\n    return power_app\n\nx = np.array([20015.69858713, 20054.94505495, 20094.19152276, 20133.43799058,\n       20172.6844584 , 20211.93092622, 20251.17739403, 20290.42386185,\n       20329.67032967, 20368.91679749, 20408.16326531, 20447.40973312,\n       20486.65620094, 20525.90266876, 20565.14913658, 20604.3956044 ,\n       20643.64207221, 20682.88854003, 20722.13500785, 20761.38147567,\n       20800.62794349, 20839.8744113 , 20879.12087912, 20918.36734694,\n       20957.61381476, 20996.86028257, 21036.10675039, 21075.35321821,\n       21114.59968603, 21153.84615385, 21193.09262166, 21232.33908948,\n       21271.5855573 , 21310.83202512, 21350.07849294, 21389.32496075,\n       21428.57142857, 21467.81789639, 21507.06436421, 21546.31083203,\n       21585.55729984, 21624.80376766, 21664.05023548, 21703.2967033 ,\n       21742.54317111, 21781.78963893, 21821.03610675, 21860.28257457,\n       21899.52904239, 21938.7755102 , 21978.02197802, 22017.26844584,\n       22056.51491366, 22095.76138148, 22135.00784929, 22174.25431711,\n       22213.50078493, 22252.74725275, 22291.99372057, 22331.24018838,\n       22370.4866562 , 22409.73312402, 22448.97959184, 22488.22605965,\n       22527.47252747, 22566.71899529, 22605.96546311, 22645.21193093,\n       22684.45839874, 22723.70486656, 22762.95133438, 22802.1978022 ,\n       22841.44427002, 22880.69073783, 22919.93720565, 22959.18367347,\n       22998.43014129])\ny = np.array([5.65544381e-18, 5.45458563e-18, 4.89893664e-18, 4.91109125e-18,\n       4.93294827e-18, 5.05712667e-18, 4.60680439e-18, 4.93761900e-18,\n       5.25185317e-18, 5.71913103e-18, 5.88133465e-18, 5.51506519e-18,\n       5.28196380e-18, 5.37739619e-18, 7.11067243e-18, 7.38655966e-18,\n       5.79091461e-18, 6.70951199e-18, 7.21589026e-18, 8.57034517e-18,\n       1.03078084e-17, 8.62319615e-18, 8.85873439e-18, 9.51253497e-18,\n       8.56661324e-18, 7.84093758e-18, 7.91955750e-18, 8.11798984e-18,\n       7.45548785e-18, 8.99928113e-18, 1.11020034e-17, 1.39963873e-17,\n       1.34092392e-17, 1.60334619e-17, 1.55794254e-17, 1.20782547e-17,\n       1.52164359e-17, 1.86563455e-17, 2.09536229e-17, 2.47011325e-17,\n       2.64443357e-17, 3.23877863e-17, 3.82919169e-17, 4.36682960e-17,\n       4.18201004e-17, 6.53800912e-17, 9.40340341e-17, 1.20969462e-16,\n       1.75570644e-16, 2.59463564e-16, 3.83125755e-16, 5.63178280e-16,\n       6.19699349e-16, 5.95325659e-16, 4.71509035e-16, 3.39690667e-16,\n       1.90432901e-16, 2.05109520e-16, 2.71918806e-16, 2.42928468e-16,\n       1.33335030e-16, 7.93620990e-17, 5.58089972e-17, 3.71690525e-17,\n       4.72718831e-17, 3.73266547e-17, 2.06817670e-17, 2.01518733e-17,\n       2.40691290e-17, 1.76559440e-17, 1.88179105e-17, 2.23351216e-17,\n       2.33958117e-17, 1.87067097e-17, 1.59996492e-17, 1.02671264e-17,\n       1.21233722e-17])\n\np_guess = [22000,10e-19,10e-18,20]\npopt, pcov = curve_fit(SHO, x, y, \n                               p0 = p_guess, \n                               bounds = ((0,0,0,0),(np.inf,np.inf,np.inf,np.inf)))\nplt.plot(x,y,'bo')\nplt.plot(x,SHO(x,*p_guess),'r-')\n#plt.plot(x,SHO(x,*popt),'g-')\nplt.show()\n</code></pre>\n\n<p>I have commented out the line produced by the final parameter estimates but you can see in the plot that the initial guess is relatively close.</p>\n\n<p>If you uncomment the line then it is clear that the final fit is far worse than even the initial guess.</p>\n"}, {"tags": ["python", "xml", "kml", "google-earth", "databricks"], "comments": [{"owner": {"reputation": 4491, "user_id": 6049604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1612c1d48cc981963c4fc034ff322e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Verma", "link": "https://stackoverflow.com/users/6049604/mohit-verma"}, "edited": false, "score": 0, "creation_date": 1555927429, "post_id": 55735596, "comment_id": 98254355, "body": "See this thread :- <a href=\"https://stackoverflow.com/questions/52758704/how-to-read-a-xml-file-with-spark-that-contains-multiple-namespaces\" title=\"how to read a xml file with spark that contains multiple namespaces\">stackoverflow.com/questions/52758704/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4491, "user_id": 6049604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1612c1d48cc981963c4fc034ff322e8d?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Verma", "link": "https://stackoverflow.com/users/6049604/mohit-verma"}, "is_accepted": false, "score": 0, "last_activity_date": 1555927406, "creation_date": 1555927406, "answer_id": 55792608, "question_id": 55735596, "link": "https://stackoverflow.com/questions/55735596/uploading-xml-data-from-google-earth-kml-file-to-databricks/55792608#55792608", "title": "Uploading XML data from Google Earth KML file to DataBricks", "body": "<p>Best optimal way to use spark-xml libraries into your workspace.</p>\n\n<p>Search spark-xml in maven/spark package section and follow this step to add it to the libraries <a href=\"https://docs.databricks.com/user-guide/libraries.html#create-a-library\" rel=\"nofollow noreferrer\">https://docs.databricks.com/user-guide/libraries.html#create-a-library</a></p>\n\n<p>Attach the libraries to cluster</p>\n\n<p><a href=\"https://docs.databricks.com/user-guide/libraries.html#attach-a-library-to-a-cluster\" rel=\"nofollow noreferrer\">https://docs.databricks.com/user-guide/libraries.html#attach-a-library-to-a-cluster</a></p>\n\n<p>finally use the following code to read xml data in databricks</p>\n\n<pre><code>xmldata = spark.read.format('xml').option(\"rootTag\",\"note\").load('dbfs:/mnt/mydatafolder/xmls/note.xml')\n</code></pre>\n\n<p>Also here is the python code to do the same:</p>\n\n<pre><code>import xml.etree.ElementTree as ET\nxmlfiles = dbutils.fs.ls(storage_mount_name)\n\n##Get attribute names (for now I took all leafs of the xml structure)\nfirstfile = xmlfiles[0].path.replace('dbfs:','/dbfs')\nroot = ET.parse(firstfile).getroot()\nattributes = [node.tag for node in root.iter() if len(node)==0]\nclean_attribute_names = [re.sub(r'\\{.*\\}', '', a) for a in attributes]\n\n#Create Dataframe and save it as csv\ndf = pd.DataFrame(columns=clean_attribute_names, index=xmlfiles)\nfor xf in xmlfiles:\n    afile = xf.path.replace('dbfs:','/dbfs')\n    root = ET.parse(afile).getroot()\n    df.loc[afile] = [node.text for node in root.iter() if node.tag in attributes]\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 4789252, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d9b73655b305155ce5806b35dcdadcee?s=128&d=identicon&r=PG&f=1", "display_name": "PyNerd", "link": "https://stackoverflow.com/users/4789252/pynerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555927406, "creation_date": 1555533276, "question_id": 55735596, "link": "https://stackoverflow.com/questions/55735596/uploading-xml-data-from-google-earth-kml-file-to-databricks", "title": "Uploading XML data from Google Earth KML file to DataBricks", "body": "<p>I am setting up DataBricks to compare and contrast data from several sources.  Some of the data are in CSV files, some are in JSON format, and others are in Google Earth KML files.  The last has really been a challenge; I am trying to upload the XML data using the Data Upload function, but DataBricks cannot create a table from the XML string.  What is the procedure to insert XML into a DataBricks table?</p>\n"}, {"tags": ["python", "loops", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 558, "user_id": 11323304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba8cfcb896f7637f921c2d2d756269f7?s=128&d=identicon&r=PG&f=1", "display_name": "zerecees", "link": "https://stackoverflow.com/users/11323304/zerecees"}, "is_accepted": false, "score": 0, "last_activity_date": 1555534605, "creation_date": 1555534605, "answer_id": 55735842, "question_id": 55735507, "link": "https://stackoverflow.com/questions/55735507/is-there-a-way-filter-a-data-frame-based-on-values-in-column-x-that-occurred-pre/55735842#55735842", "title": "Is there a way filter a data-frame based on values in column x that occurred previously?", "body": "<p>I may need more information to solve your problem, but hopefully this will get you going.</p>\n\n<p>Here I made a dataframe: </p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame(data={'X': [1,1,2,3,4,5], 'Y':['kept', 'dropped', 2, 3, 4, 5]}); df\n</code></pre>\n\n<p>which looks like this ...</p>\n\n<pre><code>X   Y\n1   kept\n1   dropped\n2   2\n3   3\n4   4\n5   5\n</code></pre>\n\n<p>I then dropped the non-unique values in <code>df['X']</code>, and <code>kept</code> the <code>'first'</code> appearance of the value:</p>\n\n<p><code>df = df.drop_duplicates(subset=['X'], keep='first');df</code></p>\n\n<p>So now, my <code>df</code> looks like this:</p>\n\n<pre><code>X   Y\n1   kept\n2   2\n3   3\n4   4\n5   5\n</code></pre>\n\n<p>Using <code>drop_duplicates</code> you can ensure that only the unique values in a row are kept to at least some logical degree. However, you may also want to consider looping over the data frame with <code>iterrows</code> to check for unique values and do your comparison at the same time. This would greatly help with efficiency.</p>\n\n<p>In the end, if this was not what you're looking for, please let me know and/or provide more information. I'll be happy to help!</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 8908237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d262b65d4ef269dce7721aed6e11bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Meagher", "link": "https://stackoverflow.com/users/8908237/jack-meagher"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535021, "creation_date": 1555535021, "answer_id": 55735932, "question_id": 55735507, "link": "https://stackoverflow.com/questions/55735507/is-there-a-way-filter-a-data-frame-based-on-values-in-column-x-that-occurred-pre/55735932#55735932", "title": "Is there a way filter a data-frame based on values in column x that occurred previously?", "body": "<p>Use <code>df.drop_duplicates</code>. In your example, if you want to drop the rows that have a <code>Bid</code> value that is witnessed in a prior row, you would call <code>&lt;your_dataframe&gt;.drop_duplicates(subset=\"Bid\")</code>. Here, the <code>keep</code> keyword argument has default value <code>\"first\"</code>, which is the behavior you want, so there's no need to set it.</p>\n\n<p><a href=\"https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop_duplicates.html\" rel=\"nofollow noreferrer\">https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop_duplicates.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 11375870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf453b307624b8c2a2c0bb78635c0647?s=128&d=identicon&r=PG&f=1", "display_name": "ccraig90", "link": "https://stackoverflow.com/users/11375870/ccraig90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 55735932, "answer_count": 2, "score": 0, "last_activity_date": 1555551821, "creation_date": 1555532914, "last_edit_date": 1555551821, "question_id": 55735507, "link": "https://stackoverflow.com/questions/55735507/is-there-a-way-filter-a-data-frame-based-on-values-in-column-x-that-occurred-pre", "title": "Is there a way filter a data-frame based on values in column x that occurred previously?", "body": "<p>I'm trying to filter a dataframe based so that i preserve the entire row if its value in column X hasn't occurred before. If it has occurred before I need it to compare the value in column Y to the value in column Y in the first row.</p>\n\n<p>example:</p>\n\n<pre><code>MM     Bid Sz      Bid      \n\nBP1     15       73.20\nTWD1    15       73.15\nSPAC    250      71.00\nBCOM1   500      71.00\nBP2     500      71.00\nTWD2    500      71.00\nBP3     250      71.00\nMC1     500      71.00\nMC2     275      70.25\nTWD3    275      70.10\nMC3     150      68.00\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "pyside2"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11364875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6658208cad9096cc603a30dd57da4171?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrd00", "link": "https://stackoverflow.com/users/11364875/ctrd00"}, "edited": false, "score": 0, "creation_date": 1555535419, "post_id": 55735604, "comment_id": 98150124, "body": "This worked for me, thanks for the quick fix. Saludos desde Chile."}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 0, "last_activity_date": 1555533352, "creation_date": 1555533352, "answer_id": 55735604, "question_id": 55735429, "link": "https://stackoverflow.com/questions/55735429/qwidget-not-loading-child-elements-when-qrunnable-is-also-called/55735604#55735604", "title": "QWidget not loading child elements when QRunnable is also called", "body": "<p>You should not call the run method directly since you will have the heavy task run on the GUI thread freezing it. You must launch it using QThreadPool:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class MyMainApp(QApplication):\n    def __init__(self, args):\n        super().__init__()\n        self.l = LoadingPopup()\n        self.l.show()\n        w = TsrWorker(time.sleep, 5)\n        w.signals.finished.connect(self.terminado)\n        # w.run()\n        QThreadPool.globalInstance().start(w) # &lt;---\n\n    def terminado(self):\n        print('timer finished')\n        self.l.hide()\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11364875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6658208cad9096cc603a30dd57da4171?s=128&d=identicon&r=PG&f=1", "display_name": "Ctrd00", "link": "https://stackoverflow.com/users/11364875/ctrd00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 1, "accepted_answer_id": 55735604, "answer_count": 1, "score": 2, "last_activity_date": 1555533370, "creation_date": 1555532503, "last_edit_date": 1555533370, "question_id": 55735429, "link": "https://stackoverflow.com/questions/55735429/qwidget-not-loading-child-elements-when-qrunnable-is-also-called", "title": "QWidget not loading child elements when QRunnable is also called", "body": "<p>I'm working in a data processing desktop application with Python 3.7 and PySide2 on which requires me to load data from several large (approx 250k rows) excel files into the program's processing library. For this I've set up in my application a simple popup (called LoadingPopup) which includes a rotating gif and a simple caption, and also some code that loads the data from the excel files into a global object using pandas. Both of these things work as intended when run on their own, but if I happen to create a loading dialog and a QRunnable worker in the same scope of my codebase, the widgets contained in loading widget (a gif and a simple caption) will simply not show.</p>\n\n<p>I've tried changing the parent type for my widget from QDialog to QWidget, or initializing the popup (the start() function) both outside and inside the widget. I'm not very experienced with Qt5 so I don't know what else to do.</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>\nimport sys, time, traceback\n\nfrom PySide2.QtWidgets import *\nfrom PySide2.QtCore import *\nfrom PySide2.QtGui import *\n\nfrom TsrUtils import PathUtils\n\n\nclass WorkerSignals(QObject):\n    finished = Signal()\n    error = Signal(tuple)\n    result = Signal(object)\n\nclass TsrWorker(QRunnable):\n\n    def __init__(self, fn, *args, **kwargs):\n        super(TsrWorker, self).__init__()\n        self.fn = fn\n        self.args = args\n        self.kwargs = kwargs\n        self.signals = WorkerSignals()\n\n    @Slot()\n    def run(self):\n        try:\n            result = self.fn(*self.args, **self.kwargs)\n        except:\n            traceback.print_exc()\n            exctype, value = sys.exc_info()[:2]\n\n            self.signals.error.emit((exctype, value, traceback.format_exc()))\n        else:\n            self.signals.result.emit(result)\n        finally:\n            self.signals.finished.emit()\n\nclass LoadingPopup(QWidget):\n    def __init__(self):\n        super().__init__()\n\n        self.message = \"Cargando\"\n        self.setMinimumSize(350,300)\n\n        self.setWindowIcon(\\\n            QIcon(PathUtils.ruta_absoluta('resources/icons/tsr.png')))\n\n        self.setWindowTitle(self.message)\n\n        self.layout = QVBoxLayout(self)\n        self.setLayout(self.layout)\n\n        self.movie = QMovie(self)\n        self.movie.setFileName(\"./resources/img/spinner.gif\")\n        self.movie.setCacheMode(QMovie.CacheAll)\n        self.movie.start()\n\n        self.loading = QLabel(self)\n        self.loading.setMovie(self.movie)\n        self.loading.setAlignment(Qt.AlignCenter)\n        self.layout.addWidget(self.loading)\n\n        self.lbl = QLabel(self.message, self)\n        self.lbl.setAlignment(Qt.AlignCenter)\n        self.lbl.setStyleSheet(\"font: 15pt\")\n        self.layout.addWidget(self.lbl)\n\nclass MyMainApp(QApplication):\n    def __init__(self, args):\n        super().__init__()\n\n        self.l = LoadingPopup()\n        self.l.show()\n\n        w = TsrWorker(time.sleep, 5)\n        w.signals.finished.connect(self.terminado)\n        w.run()\n\n    def terminado(self):\n        print('timer finished')\n        self.l.hide()\n\nif __name__ == '__main__':\n\n    app = MyMainApp(sys.argv)\n\n    sys.exit(app.exec_())\n\n</code></pre>\n\n<p>I've changed the actual data loading part of the application in the example with a time.sleep function. MY expected results are that I should be able to have the LoadingPopup show up with a gif moving, and then it should close once the QRunnable finishes.</p>\n"}, {"tags": ["python", "exception", "flask"], "answers": [{"tags": [], "owner": {"reputation": 9079, "user_id": 7867968, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/c6976c101b7e5d81ad398cedf6a2ab9b?s=128&d=identicon&r=PG&f=1", "display_name": "C.Nivs", "link": "https://stackoverflow.com/users/7867968/c-nivs"}, "is_accepted": false, "score": 0, "last_activity_date": 1555533519, "last_edit_date": 1555533519, "creation_date": 1555533214, "answer_id": 55735581, "question_id": 55735406, "link": "https://stackoverflow.com/questions/55735406/i-am-unable-to-raise-exceptions-correctly-in-my-flask-app/55735581#55735581", "title": "I am unable to raise exceptions correctly in my flask app", "body": "<p>You can usually do this with the <a href=\"http://flask.pocoo.org/docs/0.12/api/#flask.abort\" rel=\"nofollow noreferrer\"><code>abort</code></a> function:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask.wrappers import Response\n\n@app.route(\"/someroute\")\ndef someroute():\n    try:\n        raise MyException(\"some message\")\n    except MyException as e:\n        abort(400)\n        abort(Response(e))\n</code></pre>\n\n<p>If you raise a custom exception directly, you need to add a handler for that exception or you'll get a generic 500 error.</p>\n"}], "owner": {"reputation": 179, "user_id": 6023878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c230bba06030ae167f9f3cb6d4bc9fb6?s=128&d=identicon&r=PG&f=1", "display_name": "niketp", "link": "https://stackoverflow.com/users/6023878/niketp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "closed_date": 1555533356, "answer_count": 1, "score": -1, "last_activity_date": 1555533519, "creation_date": 1555532414, "question_id": 55735406, "link": "https://stackoverflow.com/questions/55735406/i-am-unable-to-raise-exceptions-correctly-in-my-flask-app", "closed_reason": "Duplicate", "title": "I am unable to raise exceptions correctly in my flask app", "body": "<p>In my flask app, I am unable to throw an error due to the following line of code.</p>\n\n<p>Note that MyException is a class that is subclass of the Exception class, and it imports status from the flask_api.</p>\n\n<pre><code>raise MyException(\n            status.HTTP_400_BAD_REQUEST, \"File does not exist: \" + file_path\n        )\n</code></pre>\n\n<p>However, this yields the following error in my terminal when I get to this error in my webpage:</p>\n\n<pre><code>TypeError: 'tuple' object is not callable\nThe view function did not return a valid response. The return type must be a string, tuple, Response instance, or WSGI callable, but it was a tuple.\n</code></pre>\n\n<p>Am I unable to raise exceptions in flask?</p>\n"}, {"tags": ["android", "python", "kivy", "buildozer"], "comments": [{"owner": {"reputation": 25731, "user_id": 2469283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3271ba34d6b680ed1103b4d4aeda9d6d?s=128&d=identicon&r=PG", "display_name": "inclement", "link": "https://stackoverflow.com/users/2469283/inclement"}, "edited": false, "score": 0, "creation_date": 1555533323, "post_id": 55735400, "comment_id": 98149399, "body": "It looks like you&#39;re using OpenJDK 11, could you try using 8 instead?"}, {"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 0, "creation_date": 1555533498, "post_id": 55735400, "comment_id": 98149457, "body": "Since JDK 9, The se.ee packages marked as deprecated so you need to include EE packages accordingly. Or just downgrade your JAVA to 9 or 8"}, {"owner": {"reputation": 3792, "user_id": 7259671, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/COi5o.jpg?s=128&g=1", "display_name": "webDev", "link": "https://stackoverflow.com/users/7259671/webdev"}, "edited": false, "score": 0, "creation_date": 1555533832, "post_id": 55735400, "comment_id": 98149599, "body": "<a href=\"https://docs.oracle.com/javase/10/docs/api/java.se.ee-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java.se.ee-summary.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10224948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MROZzcHYzYI/AAAAAAAAAAI/AAAAAAAANL0/pjKMtu03PJQ/photo.jpg?sz=128", "display_name": "Javier Valero", "link": "https://stackoverflow.com/users/10224948/javier-valero"}, "edited": false, "score": 0, "creation_date": 1556031264, "post_id": 55736097, "comment_id": 98294683, "body": "I executed the command indicated above but does not work. I&#39;m downloading the <b>Java 10 Linux x64 JDK (.tar.gz)</b> how indicated me @steve in the first answer and i wait thats work... I will actualizate the question, showing more information in a printscreen"}, {"owner": {"reputation": 1827, "user_id": 1859486, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/b980815af2589acdbfbd7abc0717e824?s=128&d=identicon&r=PG", "display_name": "Alix", "link": "https://stackoverflow.com/users/1859486/alix"}, "edited": false, "score": 1, "creation_date": 1576588921, "post_id": 55736097, "comment_id": 104942577, "body": "Error occurred during initialization of boot layer java.lang.module.FindException: Module java.se.ee not found"}], "tags": [], "owner": {"reputation": 3, "user_id": 11375984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d461fefe30ea033c88d3a6c80b65e9bd?s=128&d=identicon&r=PG&f=1", "display_name": "44za12", "link": "https://stackoverflow.com/users/11375984/44za12"}, "is_accepted": false, "score": -4, "last_activity_date": 1555535844, "creation_date": 1555535844, "answer_id": 55736097, "question_id": 55735400, "link": "https://stackoverflow.com/questions/55735400/how-to-fix-java-lang-module-findexception-module-java-se-ee-not-found-error-w/55736097#55736097", "title": "How to fix &#39;java.lang.module.FindException: module java.se.ee not found&#39; error when packaging my kivy application with buildozer", "body": "<p>You can solve this error by downgrading Java or by executing the below command in your terminal.</p>\n\n<pre><code>export JAVA_OPTS='-XX:+IgnoreUnrecognizedVMOptions --add-modules java.se.ee'\n</code></pre>\n\n<p>Also, don't download the platform tools yourself, let buildozer take care of that.</p>\n\n<p>If the above command doesn't work try deleting the buildozer files from your app and rebuilding your application.</p>\n"}, {"tags": [], "owner": {"reputation": 381, "user_id": 4552465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9cf90aed213894bbec7011ce85c5f66?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Foerster", "link": "https://stackoverflow.com/users/4552465/steve-foerster"}, "is_accepted": false, "score": 18, "last_activity_date": 1555618206, "creation_date": 1555618206, "answer_id": 55753100, "question_id": 55735400, "link": "https://stackoverflow.com/questions/55735400/how-to-fix-java-lang-module-findexception-module-java-se-ee-not-found-error-w/55753100#55753100", "title": "How to fix &#39;java.lang.module.FindException: module java.se.ee not found&#39; error when packaging my kivy application with buildozer", "body": "<p>Up until a few days ago if you had installed openjdk-11-jdk/jre from the Ubuntu repos you would have found it was actually a version of Java 10 (<a href=\"https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11\">https://askubuntu.com/questions/1037646/why-is-openjdk-10-packaged-as-openjdk-11</a>).</p>\n\n<p>java.se.ee has been <em>deprecated</em> in Java 9, 10 and <strong>removed</strong> in Java 11 (<a href=\"https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html\" rel=\"noreferrer\">https://www.oracle.com/technetwork/java/javase/11-relnote-issues-5012449.html</a>)</p>\n\n<p>Unfortunately there is no simple way to get the Android tools like sdkmanager or avdmanager running with Java 11 yet. </p>\n\n<p>I was able to get buildozer running on Ubuntu again with Java 10:</p>\n\n<ul>\n<li>Download Java 10 Linux x64 JDK (.tar.gz) from <a href=\"http://jdk.java.net/java-se-ri/10\" rel=\"noreferrer\">http://jdk.java.net/java-se-ri/10</a></li>\n<li>Untar: <code>tar -xzvf jdk-10_linux-x64_bin_ri.tar.gz</code></li>\n<li>Set PATH: <code>export PATH=/path/to/inflated/jdk-10/bin:$PATH</code></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5899, "user_id": 2761641, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/JuwBc.jpg?s=128&g=1", "display_name": "Akshay Vijay Jain", "link": "https://stackoverflow.com/users/2761641/akshay-vijay-jain"}, "is_accepted": false, "score": 5, "last_activity_date": 1611655865, "last_edit_date": 1611655865, "creation_date": 1611654749, "answer_id": 65899101, "question_id": 55735400, "link": "https://stackoverflow.com/questions/55735400/how-to-fix-java-lang-module-findexception-module-java-se-ee-not-found-error-w/65899101#65899101", "title": "How to fix &#39;java.lang.module.FindException: module java.se.ee not found&#39; error when packaging my kivy application with buildozer", "body": "<p>was getting error License not accepted for SDK Build tools etc</p>\n<p>solved by Installing</p>\n<ol>\n<li>SDK Command Line Tools</li>\n<li>Google Play licensing services</li>\n</ol>\n<p><strong>in SDK Manager &gt; SDK Tools</strong></p>\n<p>helped me after getting frustrated for 2 hours, and hearing from everyone that only way is to downgrade Java</p>\n"}], "owner": {"reputation": 73, "user_id": 10224948, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MROZzcHYzYI/AAAAAAAAAAI/AAAAAAAANL0/pjKMtu03PJQ/photo.jpg?sz=128", "display_name": "Javier Valero", "link": "https://stackoverflow.com/users/10224948/javier-valero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38149, "favorite_count": 3, "answer_count": 3, "score": 7, "last_activity_date": 1611655865, "creation_date": 1555532382, "last_edit_date": 1556031816, "question_id": 55735400, "link": "https://stackoverflow.com/questions/55735400/how-to-fix-java-lang-module-findexception-module-java-se-ee-not-found-error-w", "title": "How to fix &#39;java.lang.module.FindException: module java.se.ee not found&#39; error when packaging my kivy application with buildozer", "body": "<p>I'm trying package my kivy app (python3) but when i run the command <code>buildozer -v android debug</code> see this error</p>\n\n<pre><code># Cwd /home/javier/.buildozer/android/platform/android-sdk\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module java.se.ee not found\n# Command failed: /home/javier/.buildozer/android/platform/android-sdk/tools/bin/sdkmanager tools platform-tools\n# \n# Buildozer failed to execute the last command\n# The error might be hidden in the log above this error\n# Please read the full log, and search for it before\n# raising an issue with buildozer itself.\n# In case of a bug report, please add a full log with log_level = 2\n</code></pre>\n\n<p>I have this Java version</p>\n\n<pre><code>$ java --version\nopenjdk 11.0.2 2019-01-15\nOpenJDK Runtime Environment (build 11.0.2+9-Ubuntu-3ubuntu118.04.3)\nOpenJDK 64-Bit Server VM (build 11.0.2+9-Ubuntu-3ubuntu118.04.3, mixed mode, sharing)\n</code></pre>\n\n<p>I downloaded only sdkmanager Command line tools <a href=\"https://developer.android.com/studio\" rel=\"noreferrer\">from here</a> and put it in my root path but i don't had success.</p>\n\n<p>I Saw in <a href=\"https://stackoverflow.com/questions/47150410/failed-to-run-sdkmanager-list-android-sdk-with-java-9\">this post</a> a solution and i did it but i don't solve the error.</p>\n\n<p>I has a virtualenv with all dependencies installed. Also i edited the <code>buildozer.spec</code> and i was custom it</p>\n\n<p>The Virtualenv is:</p>\n\n<pre><code>(envAppSinapsis)~/AppSin$ pip freeze\ncertifi==2019.3.9\nchardet==3.0.4\nCython==0.28.2\ndocutils==0.14\nidna==2.8\nKivy==1.10.1\nKivy-Garden==0.1.4\npsycopg2==2.7.6.1\npsycopg2-binary==2.7.6.1\npygame==1.9.4.dev0\nPygments==2.3.1\nrequests==2.21.0\nurllib3==1.24.1\n</code></pre>\n\n<p>I think that error is related to something related to JAVA but I do not know what. I would appreciate your helps, and please, excuse my bad English.</p>\n\n<p>I am working in Ubuntu 18</p>\n\n<p><strong>UPDATE</strong>\n<a href=\"https://i.stack.imgur.com/DZSyR.png\" rel=\"noreferrer\">Print Screen Error</a></p>\n"}, {"tags": ["python", "flask-sqlalchemy"], "comments": [{"owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1555536036, "post_id": 55735387, "comment_id": 98150347, "body": "It looks to me like you&#39;re trying to have separate <code>Date</code> and <code>Time</code> columns when you already have a <code>DateTime</code>; if that&#39;s the case, <a href=\"https://stackoverflow.com/a/25573176/565489\">see here</a>."}, {"owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "reply_to_user": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "edited": false, "score": 0, "creation_date": 1555568860, "post_id": 55735387, "comment_id": 98157640, "body": "Yes, but I want to do that using generated column"}], "answers": [{"comments": [{"owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "edited": false, "score": 0, "creation_date": 1555653979, "post_id": 55741537, "comment_id": 98190152, "body": "I use generated column, because I only use SQLAlchemy to create database. I am actually using other ORM in my php website"}, {"owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "reply_to_user": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "edited": false, "score": 0, "creation_date": 1555659932, "post_id": 55741537, "comment_id": 98192088, "body": "If you&#39;re only using SQLAlchemy to create the db, and already know how to run it in SQL, why don&#39;t you just run <code>engine.execute(&quot;ALTER TABLE \u2026 &quot;)</code> in the end? <a href=\"https://stackoverflow.com/a/16448572/565489\">See here</a>, for example."}], "tags": [], "owner": {"reputation": 4652, "user_id": 565489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e8808e13f35d17d94c6109309ef5a32?s=128&d=identicon&r=PG", "display_name": "Asmus", "link": "https://stackoverflow.com/users/565489/asmus"}, "is_accepted": false, "score": 1, "last_activity_date": 1555574301, "creation_date": 1555574301, "answer_id": 55741537, "question_id": 55735387, "link": "https://stackoverflow.com/questions/55735387/how-to-create-generated-column-in-flask-sqlalchemy/55741537#55741537", "title": "How to create generated column in Flask-SQLAlchemy?", "body": "<p>Perhaps this is not <em>exactly</em> what you want, but still: I'd suggest to use a <code>hybrid_property</code> instead (<a href=\"https://docs.sqlalchemy.org/en/13/orm/mapped_sql_expr.html#mapper-sql-expressions\" rel=\"nofollow noreferrer\">see documentation here</a>), like so:</p>\n\n<pre><code>from sqlalchemy.ext.hybrid import hybrid_property\nfrom sqlalchemy.ext.declarative import declarative_base\nfrom sqlalchemy import Column, Integer, String, Float, Dat\nfrom datetime import datetime\n\nBase = declarative_base()\n\nclass User(Base):\n    __tablename__ = 'user'\n    id = Column(Integer, primary_key=True)\n    firstname = Column(String(50))\n    lastname = Column(String(50))\n    birthdate = Column(DateTime, nullable=False, )\n\n    @hybrid_property\n    def birthyear(self):\n        return self.birthdate.strftime(\"%Y/%m/%d\")\n    @hybrid_property\n    def birthtime(self):\n        return self.birthdate.strftime(\"%H:%M:%S\")\n\nus=User(firstname=\"Jon\", lastname=\"Snow\",birthdate=datetim\n\nprint( us.firstname,us.lastname,us.birthyear,us.birthtime)\n</code></pre>\n"}], "owner": {"reputation": 3105, "user_id": 963844, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4b3e62d69f8a00a6c03829c82f833852?s=128&d=identicon&r=PG", "display_name": "CL So", "link": "https://stackoverflow.com/users/963844/cl-so"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555574301, "creation_date": 1555532312, "question_id": 55735387, "link": "https://stackoverflow.com/questions/55735387/how-to-create-generated-column-in-flask-sqlalchemy", "title": "How to create generated column in Flask-SQLAlchemy?", "body": "<p>This SQL is OK</p>\n\n<pre><code>CREATE TABLE `calendar` (\n  `dt` datetime NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `d` date as (dt),\n  `t` time as (dt)\n);\n</code></pre>\n\n<p>How to create this table in Flask-SQLAlchemy?</p>\n\n<pre><code>class Calendar(db.Model):\n    __table_args__ = {'mysql_collate': 'utf8_general_ci', 'mysql_engine':'InnoDB'}\n\n    id = db.Column(db.Integer, primary_key=True, autoincrement=True)\n    dt = db.Column(db.DateTime, nullable=False, server_default=db.func.current_timestamp())\n    d = ???\n    t = ???\n\ndb.create_all()\n</code></pre>\n\n<p>This is error</p>\n\n<pre><code>class Calendar(db.Model):\n    __table_args__ = {'mysql_collate': 'utf8_general_ci', 'mysql_engine':'InnoDB'}\n\n    id = db.Column(db.Integer, primary_key=True, autoincrement=True)\n    dt = db.Column(db.DateTime, nullable=False, server_default=db.func.current_timestamp())\n    d = db.ColumnProperty(db.Date,dt)\n    t = db.ColumnProperty(db.Time,dt)\n</code></pre>\n"}]