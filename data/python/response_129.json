[{"tags": ["python", "pygame", "pyhook"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1498697736, "post_id": 44814310, "comment_id": 76609894, "body": "Instead of <code>print(&quot;Mouse clicked&quot;)</code>, just call your function."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498696605, "post_id": 44814366, "comment_id": 76609665, "body": "I don&#39;t know why but I still don&#39;t get what I want. I don&#39;t have my function ready yet, but I tried this out setting a print as result of the if. The problems is that nothing gets printed when I click my left mouse click D:"}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498696724, "post_id": 44814366, "comment_id": 76609681, "body": "I posted my code in another answer, would be great if you could take a look at it."}, {"owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "reply_to_user": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498696892, "post_id": 44814366, "comment_id": 76609710, "body": "Ok so first you wanna make a basic while loop and put the &#39;for event&#39; thing inside that. So the code runs again and again. <code>run = 1 while run == 1:     for event..... </code>"}, {"owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "reply_to_user": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498697014, "post_id": 44814366, "comment_id": 76609734, "body": "Then just replace nameoffunction() with print(&quot;Messsage&quot;)"}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498697308, "post_id": 44814366, "comment_id": 76609795, "body": "I&#39;ve done what you said but still not working. I updated my code in the other answer."}, {"owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "reply_to_user": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498697336, "post_id": 44814366, "comment_id": 76609802, "body": "Oh and you don&#39;t have window. If you decide to use pygame it requires that you have a window created."}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498697605, "post_id": 44814366, "comment_id": 76609855, "body": "I don&#39;t wanna trigger this function when clicking in a pygame window, yet I want it to be triggered in any Windows&#39; window."}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498698318, "post_id": 44814366, "comment_id": 76610024, "body": "I think I got 2 problems actually. The first one is that if I put 0,0 instead of x,y and then run the code my PC starts freaking out for whatever reason. The second one is that the function that has to be triggered calls the win32api.mouse_event again, which might be an issue but I am not sure."}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498698399, "post_id": 44814366, "comment_id": 76610037, "body": "I got the function ready now, I can post the whole code if you want me to."}, {"owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "reply_to_user": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498698468, "post_id": 44814366, "comment_id": 76610049, "body": "Yes pelace i think i&#39;m gonna have the same problem in few days :P"}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498699550, "post_id": 44814366, "comment_id": 76610271, "body": "Apparently python starts clicking thousands of times per second, that&#39;s why my PC freaks out... I don&#39;t know why that happens though."}, {"owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "reply_to_user": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498700489, "post_id": 44814366, "comment_id": 76610486, "body": "hmmm try removing win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP, 0, 0, 0, 0)"}, {"owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "edited": false, "score": 0, "creation_date": 1498700926, "post_id": 44814366, "comment_id": 76610592, "body": "Nope, still not working. I think if win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,x,y,0,0): is being the issue here, python starts clicking even if the function does not get triggered"}], "tags": [], "owner": {"reputation": 71, "user_id": 6498375, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/rZa2a.png?s=128&g=1", "display_name": "cmdtvt", "link": "https://stackoverflow.com/users/6498375/cmdtvt"}, "is_accepted": false, "score": 1, "last_activity_date": 1498716132, "last_edit_date": 1498716132, "creation_date": 1498694834, "answer_id": 44814366, "question_id": 44814310, "link": "https://stackoverflow.com/questions/44814310/how-to-trigger-a-function-by-clicking-the-left-mouse-click-in-python/44814366#44814366", "title": "How to trigger a function by clicking the left mouse click in Python?", "body": "<p>What I understand is that you already have a function ready. I would use Pygame package for this.</p>\n\n<pre><code>for event in pygame.event.get():    \n    if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:\n        nameoffunction()\n</code></pre>\n\n<p>changing the number 1 in <code>event.button == 1:</code> will change that what mouse button is clicked.</p>\n\n<p>EDIT 1</p>\n\n<pre><code>run = 1 \nwhile run == 1:\n    if event.type == pygame.MOUSEBUTTONDOWN and event.button == 1:\n        print(\"Message\")\n</code></pre>\n\n<p>PyGame requires a window so if you just want to test a click I would then use...</p>\n\n<p>EDIT 2</p>\n\n<pre><code>if win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,x,y,0,0):\n    print(\"Message\")\n</code></pre>\n\n<p>x,y = x and y starting coordinates for box corner\n0,0 = Other corner for box (i think)\nknow if mouse is inside of the \"box\" and you click it should work\n(I haven't got win32api installed so haven't ran any tests with this)</p>\n"}], "owner": {"reputation": 107, "user_id": 8228936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58349d6886b194e0fc8d7b4e3ffb9cc6?s=128&d=identicon&r=PG&f=1", "display_name": "Beter", "link": "https://stackoverflow.com/users/8228936/beter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2442, "favorite_count": 1, "answer_count": 1, "score": -5, "last_activity_date": 1498746037, "creation_date": 1498694379, "last_edit_date": 1498746037, "question_id": 44814310, "link": "https://stackoverflow.com/questions/44814310/how-to-trigger-a-function-by-clicking-the-left-mouse-click-in-python", "title": "How to trigger a function by clicking the left mouse click in Python?", "body": "<p>I want to start off by saying that I am new to Python so I am sorry if this question is going to sound stupid to you. </p>\n\n<p>I am just looking for an easy way to trigger a function whenever I press the left click of my mouse.\nCould anyone illustrate me how to achieve this? Examples are greatly appreciated. </p>\n\n<p>My code now:</p>\n\n<pre><code>import win32api\nimport win32con\nimport time\nfrom random import randint\nimport pythoncom, pyHook \n\ndef OnMouseEvent(event): #triggers mouseClick function\n    mouseClick(event)\n    return True\n\ndef mouseClick(event):\n\n    if event.MessageName == \"mouse left up\": # makes sure that's the event I'm looking for\n        a = True # disables hm.MouseAll\n        return a\n        time.sleep(0.01)\n        win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN, 0, 0, 0, 0)\n        time.sleep(0.005)\n        win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP, 0, 0, 0, 0)\n        time.sleep(0.01)\n        a = False # enables hm.MouseAll back\n        return a\n\n\na = False      \n# create a hook manager\nhm = pyHook.HookManager()\n# set the hook\nhm.HookMouse()\n# wait forever\npythoncom.PumpMessages()\n# watch for all mouse events\nwhile True:\n    if a == False:\n        hm.MouseAll = OnMouseEvent # Triggers OnMouseEvent function       \n    else:\n        pass\n</code></pre>\n"}, {"tags": ["python", "animation", "tkinter", "tkinter-canvas"], "answers": [{"tags": [], "owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "is_accepted": true, "score": 2, "last_activity_date": 1498771600, "last_edit_date": 1498771600, "creation_date": 1498712911, "answer_id": 44816763, "question_id": 44814297, "link": "https://stackoverflow.com/questions/44814297/animating-an-object-to-move-in-a-circular-path-in-tkinter/44816763#44816763", "title": "Animating an object to move in a circular path in Tkinter", "body": "<p>Here's something that shows one way to do what you want using the tkinter <code>after</code> method to update both the position of the object and the associated canvas <code>oval</code> object. It uses a generator function to compute coordinates along a circular path representing the orbit of one of the <code>Celestial</code> instances (named <code>planet_obj1</code>).</p>\n\n<pre><code>import math\ntry:\n    import tkinter as tk\nexcept ImportError:\n    import Tkinter as tk  # Python 2\n\nDELAY = 100\nCIRCULAR_PATH_INCR = 10\n\nsin = lambda degs: math.sin(math.radians(degs))\ncos = lambda degs: math.cos(math.radians(degs))\n\nclass Celestial(object):\n    # Constants\n    COS_0, COS_180 = cos(0), cos(180)\n    SIN_90, SIN_270 = sin(90), sin(270)\n\n    def __init__(self, x, y, radius):\n        self.x, self.y = x, y\n        self.radius = radius\n\n    def bounds(self):\n        \"\"\" Return coords of rectangle surrounding circlular object. \"\"\"\n        return (self.x + self.radius*self.COS_0,   self.y + self.radius*self.SIN_270,\n                self.x + self.radius*self.COS_180, self.y + self.radius*self.SIN_90)\n\ndef circular_path(x, y, radius, delta_ang, start_ang=0):\n    \"\"\" Endlessly generate coords of a circular path every delta angle degrees. \"\"\"\n    ang = start_ang % 360\n    while True:\n        yield x + radius*cos(ang), y + radius*sin(ang)\n        ang = (ang+delta_ang) % 360\n\ndef update_position(canvas, id, celestial_obj, path_iter):\n    celestial_obj.x, celestial_obj.y = next(path_iter)  # iterate path and set new position\n    # update the position of the corresponding canvas obj\n    x0, y0, x1, y1 = canvas.coords(id)  # coordinates of canvas oval object\n    oldx, oldy = (x0+x1) // 2, (y0+y1) // 2  # current center point\n    dx, dy = celestial_obj.x - oldx, celestial_obj.y - oldy  # amount of movement\n    canvas.move(id, dx, dy)  # move canvas oval object that much\n    # repeat after delay\n    canvas.after(DELAY, update_position, canvas, id, celestial_obj, path_iter)\n\ntop = tk.Tk()\ntop.title('Circular Path')\n\ncanvas = tk.Canvas(top, bg='black', height=500, width=500)\ncanvas.pack()\n\nsol_obj = Celestial(250, 250, 25)\nplanet_obj1 = Celestial(250+100, 250, 15)\nsol = canvas.create_oval(sol_obj.bounds(), fill='yellow', width=0)\nplanet1 = canvas.create_oval(planet_obj1.bounds(), fill='blue', width=0)\n\norbital_radius = math.hypot(sol_obj.x - planet_obj1.x, sol_obj.y - planet_obj1.y)\npath_iter = circular_path(sol_obj.x, sol_obj.y, orbital_radius, CIRCULAR_PATH_INCR)\nnext(path_iter)  # prime generator\n\ntop.after(DELAY, update_position, canvas, planet1, planet_obj1, path_iter)\ntop.mainloop()\n</code></pre>\n\n<p>Here's what it looks like running:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ymE6k.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymE6k.gif\" alt=\"animated image showing it running\"></a></p>\n"}], "owner": {"reputation": 23, "user_id": 8228883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91905ef28a65c0e6b6c0c2403627f9ae?s=128&d=identicon&r=PG&f=1", "display_name": "Andres Arias", "link": "https://stackoverflow.com/users/8228883/andres-arias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2063, "favorite_count": 0, "accepted_answer_id": 44816763, "answer_count": 1, "score": 2, "last_activity_date": 1590756100, "creation_date": 1498694292, "last_edit_date": 1498771782, "question_id": 44814297, "link": "https://stackoverflow.com/questions/44814297/animating-an-object-to-move-in-a-circular-path-in-tkinter", "title": "Animating an object to move in a circular path in Tkinter", "body": "<p>I am trying to model a simple solar system in Tkinter using circles and moving them around in canvas. However, I am stuck trying to find a way to animate them. I looked around and found the <code>move</code>function coupled with <code>after</code> to create an animation loop. I tried fidgeting with the parameters to vary the <code>y</code> offset and create movement in a curved path, but I failed while trying to do this recursively or with a <code>while</code> loop. Here is the code I have so far:</p>\n\n<pre><code>import tkinter\n\nclass celestial:\n    def __init__(self, x0, y0, x1, y1):\n        self.x0 = x0\n        self.y0 = y0\n        self.x1 = x1\n        self.y1 = y1\n\nsol_obj = celestial(200, 250, 250, 200)\nsx0 = getattr(sol_obj, 'x0')\nsy0 = getattr(sol_obj, 'y0')\nsx1 = getattr(sol_obj, 'x1')\nsy1 = getattr(sol_obj, 'y1')\ncoord_sol = sx0, sy0, sx1, sy1\n\ntop = tkinter.Tk()\n\nc = tkinter.Canvas(top, bg='black', height=500, width=500)\nc.pack()\n\nsol = c.create_oval(coord_sol, fill='black', outline='white')\n\ntop.mainloop()\n</code></pre>\n"}, {"tags": ["python", "angularjs"], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 8228835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X94SM.jpg?s=128&g=1", "display_name": "TimHelton", "link": "https://stackoverflow.com/users/8228835/timhelton"}, "is_accepted": false, "score": 0, "last_activity_date": 1502230606, "creation_date": 1502230606, "answer_id": 45578841, "question_id": 44814216, "link": "https://stackoverflow.com/questions/44814216/how-can-i-get-html-programatically-from-karma-when-running-phantomjs/45578841#45578841", "title": "How can I get html programatically from karma when running phantomjs", "body": "<p>This turned out to be quite simple. The step that I was missing was that I needed to specify an output directory in the karma.config file. The relevant section of that file now looks like this:</p>\n\n<pre><code>htmlReporter: {\n  outputDir: 'C:\\\\TMP',\n  templatePath: null,\n  focusOnFailures: true,\n  namedFiles: false,\n  pageTitle: null,\n  urlFriendlyName: false,\n  reportName: myReport\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 8228835, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X94SM.jpg?s=128&g=1", "display_name": "TimHelton", "link": "https://stackoverflow.com/users/8228835/timhelton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502230606, "creation_date": 1498693532, "last_edit_date": 1498711258, "question_id": 44814216, "link": "https://stackoverflow.com/questions/44814216/how-can-i-get-html-programatically-from-karma-when-running-phantomjs", "title": "How can I get html programatically from karma when running phantomjs", "body": "<p>I'm trying to run ng test from an unattended python script, and need to capture the html in order to forward it developers. The relevant code is:</p>\n\n<pre><code>ng test --single-run --progress=false --browsers=PhantomJS\n</code></pre>\n\n<p>PhantomJS appears to emit its output to localhost:9876. Is there any way to redirect this to a file and/or stdout? Or is there a better solution that I haven't imagined yet? </p>\n"}, {"tags": ["python", "python-2.7", "events", "tkinter", "bind"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 7363074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/975a9c91580ad7289d968a8b7c4cb15f?s=128&d=identicon&r=PG&f=1", "display_name": "TR Jacobs", "link": "https://stackoverflow.com/users/7363074/tr-jacobs"}, "edited": false, "score": 0, "creation_date": 1498943678, "post_id": 44833102, "comment_id": 76710336, "body": "It works! Needs some twists to fit my real code, but this method looks promising. Thank you."}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": true, "score": 0, "last_activity_date": 1498763181, "creation_date": 1498763181, "answer_id": 44833102, "question_id": 44814169, "link": "https://stackoverflow.com/questions/44814169/python-2-7-tkinter-how-do-i-click-release-on-two-widgets-and-get-responses-fr/44833102#44833102", "title": "Python 2.7 Tkinter: how do I click &amp; release on two widgets and get responses from both?", "body": "<p>The release event always fires on the same widget that got the press event. Within your handler you can ask tkinter what widget is under the cursor. </p>\n\n<p>Example:</p>\n\n<pre><code>import Tkinter as tk\n\nroot = tk.Tk()\n\nbtn1 = tk.Label(root, text=\"btn1\", bg=\"gray80\")\nbtn2 = tk.Label(root, text=\"btn2\", bg=\"gray80\")\nbtn1.pack(side=tk.TOP, fill=tk.X)\nbtn2.pack(side=tk.TOP, fill=tk.X)\n\ndef onRelease(event):\n    x,y = event.widget.winfo_pointerxy()\n    widget = event.widget.winfo_containing(x, y)\n    print(\"widget:\", widget.cget(\"text\"))\n\nbtn1.bind(\"&lt;ButtonRelease-1&gt;\", onRelease)\nbtn2.bind(\"&lt;ButtonRelease-1&gt;\", onRelease)\n\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 7363074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/975a9c91580ad7289d968a8b7c4cb15f?s=128&d=identicon&r=PG&f=1", "display_name": "TR Jacobs", "link": "https://stackoverflow.com/users/7363074/tr-jacobs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 44833102, "answer_count": 1, "score": 0, "last_activity_date": 1498763181, "creation_date": 1498693205, "last_edit_date": 1498762712, "question_id": 44814169, "link": "https://stackoverflow.com/questions/44814169/python-2-7-tkinter-how-do-i-click-release-on-two-widgets-and-get-responses-fr", "title": "Python 2.7 Tkinter: how do I click &amp; release on two widgets and get responses from both?", "body": "<p>I hope you can help me with a problem I have in python 2.7. I couldn't find a solution online, but I'm honestly unsure what keywords to search for, so I'm sorry if this is redundant.</p>\n\n<p>The code below is an example of my problem.</p>\n\n<pre><code>import Tkinter as tk\n\nroot = tk.Tk()\n\n#Widgets.\nbtn1 = tk.Label(root, text=\"btn1\", bg=\"gray80\")\nbtn2 = tk.Label(root, text=\"btn2\", bg=\"gray80\")\nbtn1.pack(side=tk.TOP, fill=tk.X)\nbtn2.pack(side=tk.TOP, fill=tk.X)\n\n#Widget events.\ndef onClick1(event):\n    print \"Clicked button 1.\"\ndef onRelease1(event):\n    print \"Released button 1.\"\ndef onClick2(event):\n    print \"Clicked button 2.\"\ndef onRelease2(event):\n    print \"Released button 2.\"\n\n#Bindings.\nbtn1.bind(\"&lt;Button-1&gt;\", onClick1, add=\"+\")\nbtn1.bind(\"&lt;ButtonRelease-1&gt;\", onRelease1, add=\"+\")\nbtn2.bind(\"&lt;Button-1&gt;\", onClick2, add=\"+\")\nbtn2.bind(\"&lt;ButtonRelease-1&gt;\", onRelease2, add=\"+\")\n\nroot.mainloop()\n</code></pre>\n\n<p>Whenever I click one button (technically a label) and hold it, the onClick event for it fires, but if I drag the mouse over to the other and release it, I get the same onRelease as the one I clicked, and not the one for the label I have my mouse over currently. This has held me back some time now, and I'd hate to scrap the whole feature in my program I need this for, so any help would be greatly appreciated.</p>\n"}, {"tags": ["python", "django", "web", "jinja2"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7729523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df75aeab0d89d72c598caaf93cab8819?s=128&d=identicon&r=PG&f=1", "display_name": "Dev.Ays", "link": "https://stackoverflow.com/users/7729523/dev-ays"}, "edited": false, "score": 0, "creation_date": 1498694188, "post_id": 44814167, "comment_id": 76609098, "body": "Thank you, this worked; however, the image is repeating and I know for a fact that the file size is large enough to span the entire width of the container. How would I make it so that the image expands to fill the entire width of the container? also, the image is large and thus only shows the very top portion of the original image. How do I, for lack of a better term, pan the image down so that a different portion of the image is now viewable? Thank you for your time, patience, and expertise."}], "tags": [], "owner": {"reputation": 1650, "user_id": 602086, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/KRnVQ.jpg?s=128&g=1", "display_name": "koralarts", "link": "https://stackoverflow.com/users/602086/koralarts"}, "is_accepted": true, "score": 1, "last_activity_date": 1498693203, "creation_date": 1498693203, "answer_id": 44814167, "question_id": 44814128, "link": "https://stackoverflow.com/questions/44814128/how-do-i-add-a-background-image-for-a-div-container/44814167#44814167", "title": "How do I add a background image for a div container?", "body": "<p>It has to be <code>url('{% static 'company/img/familypic.jpg' %}')</code> for the background-image to show up.</p>\n"}, {"tags": [], "owner": {"reputation": 6904, "user_id": 517004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc46603c6dec41207638c6bc595b6fc8?s=128&d=identicon&r=PG", "display_name": "tver3305", "link": "https://stackoverflow.com/users/517004/tver3305"}, "is_accepted": false, "score": 0, "last_activity_date": 1561278424, "creation_date": 1561278424, "answer_id": 56722215, "question_id": 44814128, "link": "https://stackoverflow.com/questions/44814128/how-do-i-add-a-background-image-for-a-div-container/56722215#56722215", "title": "How do I add a background image for a div container?", "body": "<p>Use</p>\n\n<pre><code>&lt;div class=\"\" style=\"background-image: url({{ static('company/img/familypic.jpg') }});\"&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 1, "user_id": 7729523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df75aeab0d89d72c598caaf93cab8819?s=128&d=identicon&r=PG&f=1", "display_name": "Dev.Ays", "link": "https://stackoverflow.com/users/7729523/dev-ays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 44814167, "answer_count": 2, "score": -3, "last_activity_date": 1561278424, "creation_date": 1498692898, "question_id": 44814128, "link": "https://stackoverflow.com/questions/44814128/how-do-i-add-a-background-image-for-a-div-container", "title": "How do I add a background image for a div container?", "body": "<p>So I am having a bit of trouble inserting an image inside of a div container. At the top of my page I have a fixed navbar and, underneath the navbar, I have a jumbotron div with a div container with the name of the company as well as the tagline. Instead of there being a bg color for the div jumbotron/div container, I would like there to be an image instead that relates to the services and products that are being provided. </p>\n\n<p>I am using Python Django to create the site and thus am using Jinja to implement static files such as images. Below is the code that I've used that does not work. I would like to be able to implement the image using this same Jinja method of static files rather than url(path to image here)... help?</p>\n\n<pre><code>&lt;div&gt;\n    &lt;div class=\"jumbotron\"&gt;\n        &lt;div class=\"container\" style=\"background-image:{% static 'company/img/familypic.jpg' %}\"&gt; \n            &lt;center&gt;&lt;h2&gt;Whatever Text Here&lt;/h2&gt;&lt;/center&gt;\n            &lt;center&gt;&lt;h4&gt;Whatever Tagline Here&lt;/h4&gt;&lt;/center&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "numpy", "gradient", "autograd"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498693972, "post_id": 44814105, "comment_id": 76609036, "body": "<code>np.tanh</code> is an elementwise function. Try <code>elementwise_grad</code>, maybe?"}, {"owner": {"reputation": 78, "user_id": 7093134, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/23596ac137bf58bf754bba3cd915b4a9?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham Horowitz", "link": "https://stackoverflow.com/users/7093134/abraham-horowitz"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1499096326, "post_id": 44814105, "comment_id": 76756893, "body": "How is <code>tanh</code> an element-wise? Not saying you&#39;re wrong, but why?"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1499096633, "post_id": 44814105, "comment_id": 76757080, "body": "Because it acts <i>elementwise</i> on <code>numpy</code> arrays. It is a built-in <code>ufunc</code>, that is the definition of a ufuncs functions in <code>numpy</code>. It even <i>says so in the <a href=\"https://docs.scipy.org/doc/numpy/reference/generated/numpy.tanh.html\" rel=\"nofollow noreferrer\">documentation</a></i>  What do you think elementwise means? Don&#39;t conflate the mathematical notion of a &quot;scalar-valued&quot; function with what it means with regards to Python functions. Elementwise just means if I pass it an array, it returns an array with the function applied <i>elementwise</i> to the elements of the array."}, {"owner": {"reputation": 133, "user_id": 7855738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ce7a662179bec8c17c7c49027e0465?s=128&d=identicon&r=PG&f=1", "display_name": "prdnr", "link": "https://stackoverflow.com/users/7855738/prdnr"}, "edited": false, "score": 0, "creation_date": 1549230080, "post_id": 44814105, "comment_id": 95821364, "body": "I have sometimes seen this issue when a scalar-valued function returns a complex number for particular inputs. It might be worth checking if the return value has an imaginary component."}], "owner": {"reputation": 78, "user_id": 7093134, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/23596ac137bf58bf754bba3cd915b4a9?s=128&d=identicon&r=PG&f=1", "display_name": "Abraham Horowitz", "link": "https://stackoverflow.com/users/7093134/abraham-horowitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 977, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1549230080, "creation_date": 1498692718, "last_edit_date": 1498693717, "question_id": 44814105, "link": "https://stackoverflow.com/questions/44814105/issues-with-derivative-calculator-autograd", "title": "Issues with Derivative Calculator Autograd", "body": "<p>I am using Autograd, a wrapper for numpy that differentiates functions. The output is $f^\\prime$. An example would be <code>tanh_prime = grad(np.tanh)</code> would return the first derivative of tanh.</p>\n\n<p>Whenever I apply the output of a <code>grad</code> call to an array, I get an exception. For example, when a call <code>grad(np.tanh)(np.arange(5))</code>, I get</p>\n\n<pre><code>TypeError: Output [ 0.          0.76159416  0.96402758  0.99505475  0.9993293    \n] can't be cast to float. Function grad requires a scalar-valued function. Try \njacobian or elementwise_grad.\n</code></pre>\n\n<p>That array in the exception string is the gradient, but I can't store it because it's part of the exception. Furthermore, why is the exception being called since <code>np.tanh</code> is a scalar-valued function?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 238133, "user_id": 2336654, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/Mqqfo.png?s=128&g=1", "display_name": "piRSquared", "link": "https://stackoverflow.com/users/2336654/pirsquared"}, "is_accepted": true, "score": 1, "last_activity_date": 1498694261, "creation_date": 1498694261, "answer_id": 44814294, "question_id": 44814077, "link": "https://stackoverflow.com/questions/44814077/pandas-dataframe-dtype-is-int64-returns-float64/44814294#44814294", "title": "Pandas DataFrame dtype is Int64 returns Float64", "body": "<p>A series has a dtype. A dataframe is a collection of series where each column is a separate series and has its own dtype. <code>df.loc[0]</code> grabs a row. This row was <strong>not</strong> a series on its own. Pandas converts it to a series but now has to assign a dtype. Since other elements of this row were float, the int gets upcast to float. </p>\n"}], "owner": {"reputation": 1117, "user_id": 6112394, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/-g4lGkT9FtLo/AAAAAAAAAAI/AAAAAAAAXr8/IjImddo1rY4/photo.jpg?sz=128", "display_name": "Matt Camp", "link": "https://stackoverflow.com/users/6112394/matt-camp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 601, "favorite_count": 0, "accepted_answer_id": 44814294, "answer_count": 1, "score": 1, "last_activity_date": 1498694261, "creation_date": 1498692481, "question_id": 44814077, "link": "https://stackoverflow.com/questions/44814077/pandas-dataframe-dtype-is-int64-returns-float64", "title": "Pandas DataFrame dtype is Int64 returns Float64", "body": "<p>Tryign to figure out why Pandas is returning a float when the data field is an int. Is there a way around this? Trying to output some CQL commands and this keeps messing me up. Thanks</p>\n\n<pre><code>df = pd.DataFrame([[11001, 28154, 2457146.7149722599, 37.070666000000003],\n[110, 28154, 2457146.7149722599, 37.070666000000003],\n[1100, 28154, 2457146.7149722599, 37.070666000000003],\n[110, 28, 2457146.7149722599, 37.070666000000003]])\nprint(\"\\nNote: the first two fields are int64\")\nprint(df.dtypes)\nprint(\"\\nPrinting the first record of the first field returns an int... GOOD!\")\nprint(df.iloc[0,0])\nprint(\"\\nSaving the first row off and printing the first fields data returns a float... BAD!\")\nrow1 = df.iloc[0]\nprint(row1[0])\n\nNote: the first two fields are int64\n0      int64\n1      int64\n2    float64\n3    float64\ndtype: object\n\nPrinting the first record of the first field returns an int... GOOD!\n11001\n\nSaving the first row off and printing the first fields data returns a float... BAD!\n11001.0\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 1, "creation_date": 1498692431, "post_id": 44814043, "comment_id": 76608674, "body": "Yes, it looks like there&#39;s an infinite loop at <code>while guesses &lt; 5:</code>"}, {"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 2, "creation_date": 1498692501, "post_id": 44814043, "comment_id": 76608695, "body": "Hint: Indentation is crucial in Python!"}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1498692660, "post_id": 44814043, "comment_id": 76608745, "body": "there is no indention on the blank line before the line <code>guesses =+ 1</code> so it&#39;s not included in the while loop, add the same indention to that blank line, and change to <code>guesses += 1</code>, should work."}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 7216494, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ef2247cf978ec99e4de991aedeebbe9?s=128&d=identicon&r=PG&f=1", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/7216494/jonathan"}, "is_accepted": false, "score": 0, "last_activity_date": 1498692737, "last_edit_date": 1498692737, "creation_date": 1498692636, "answer_id": 44814094, "question_id": 44814043, "link": "https://stackoverflow.com/questions/44814043/python-guess-a-word-game/44814094#44814094", "title": "Python - Guess a word game", "body": "<p>You have an infinite loop because your 'guesses' variable is not being inceremented in the while loop; move the 'guesses += 1' into the loop itself e.g. </p>\n\n<pre><code>while guesses &lt; 5:\n\n    if guess not in word:\n        print(\"Sorry, this letter is not in word.\")\n    else:\n        print(\"Correct, word contain this letter!\")\n\n    guesses += 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 7578163, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab44ef8bf45703bb9042c770f272381?s=128&d=identicon&r=PG&f=1", "display_name": "s1sfa", "link": "https://stackoverflow.com/users/7578163/s1sfa"}, "is_accepted": true, "score": 0, "last_activity_date": 1498694731, "creation_date": 1498694731, "answer_id": 44814355, "question_id": 44814043, "link": "https://stackoverflow.com/questions/44814043/python-guess-a-word-game/44814355#44814355", "title": "Python - Guess a word game", "body": "<p>There are a few things.</p>\n\n<p>guesses =+ 1 should be guesses += 1 and at the top of the while loop before any if statements\nI think your guess = raw_input should be within the while loop before any of the if statements. So it will keep asking and counting for each guess until it reaches 5. The last if statement within the loop should be if guesses == 5 or guesses >= 5 instead of guesses > 5.</p>\n\n<p>Mostly just reordering things all within the while loop. Everything under the code within the while loop will be ran for every guess.</p>\n\n<p>I changed it according to the above and it works great for me: </p>\n\n<pre><code>while guesses &lt; 5:\n    guesses += 1\n    guess = raw_input(\"The word is \" + new_length + \" letters long. Guess a letter: \")\n    if guess not in word:\n        print(\"Sorry, this letter is not in word.\")\n    else:\n        print(\"Correct, word contain this letter!\")\n    if guesses == 5:\n        final_answer = raw_input(\"You ran out of guesses, what is your answer?\")\n        if final_answer == correct:\n            print(\"That's correct, congratulations you won!\")\n        else:\n            print(\"Sorry, correct word is\" + \" \" + word + \" ,you can try again!\")\n\n    Welcome to Guess Me!\n\nYou have five guesses, choose letter and guess a word.\n\nAll of luck!\nword\nThe word is 4 letters long. Guess a letter: 1\nSorry, this letter is not in word.\nThe word is 4 letters long. Guess a letter: 2\nSorry, this letter is not in word.\nThe word is 4 letters long. Guess a letter: 3\nSorry, this letter is not in word.\nThe word is 4 letters long. Guess a letter: 4\nSorry, this letter is not in word.\nThe word is 4 letters long. Guess a letter: 5\nSorry, this letter is not in word.\nYou ran out of guesses, what is your answer?numbers\nSorry, correct word is word ,you can try again!\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8162537, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b975142ae351476491b2baecd5bb4b07?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/8162537/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1696, "favorite_count": 0, "accepted_answer_id": 44814355, "answer_count": 2, "score": 0, "last_activity_date": 1498694731, "creation_date": 1498692226, "question_id": 44814043, "link": "https://stackoverflow.com/questions/44814043/python-guess-a-word-game", "title": "Python - Guess a word game", "body": "<p>Here is my code:</p>\n\n<pre><code>import random\n\nguesses = 0    #Number of tries to guess.\nprint (\"Welcome to Guess Me!\")\nprint (\"\\nYou have five guesses, choose letter and guess a word.\")\nprint(\"\\nAll of luck!\")\n\ndef rand_word():\n    f = open('sowpods.txt', 'r').readlines()  #Sowpods is library with some random words \n    return random.choice(f).strip()                                    \n\nword = rand_word()\nprint word                 #I printed a word just so i can test if is working.\n\ncorrect = word\nlenght = len(word)       #I want to tell them how many letters a word contain\nnew_length = str(lenght) \n\nguess = raw_input(\"The word is \" + new_length + \" letters long. Guess a letter: \")\n\nwhile guesses &lt; 5:\n    if guess not in word:\n        print(\"Sorry, this letter is not in word.\")\n    else:\n        print(\"Correct, word contain this letter!\")\n\nguesses =+ 1\n\nif guesses &gt; 5:\n    final_answer = raw_input(\"You ran out of guesses, what is your answer?\")\n    if final_answer == correct:\n        print(\"That's correct, congratulations you won!\")\n    else:\n        print(\"Sorry, correct word is\" + \" \" + word + \" ,you can try again!\")\n</code></pre>\n\n<p>Problem is when i run my code, and let's say i type letter \"s\", my sublime freeze and i get message \"Sublime 3 is not responding..\" and i have to turn it off. Maybe it's while loop? Infinite?</p>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7595868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4a45314dabd76c61a5bd793752bb2f6?s=128&d=identicon&r=PG&f=1", "display_name": "johnnu ", "link": "https://stackoverflow.com/users/7595868/johnnu"}, "edited": false, "score": 0, "creation_date": 1498692678, "post_id": 44814050, "comment_id": 76608749, "body": "im getting an error with range: &quot;TypeError: &#39;range&#39; object does not support item assignment&quot;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 43, "user_id": 7595868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4a45314dabd76c61a5bd793752bb2f6?s=128&d=identicon&r=PG&f=1", "display_name": "johnnu ", "link": "https://stackoverflow.com/users/7595868/johnnu"}, "edited": false, "score": 1, "creation_date": 1498693102, "post_id": 44814050, "comment_id": 76608829, "body": "@johnnu you have to use <code>sequence = list(range(len(questions))</code> in Python 3"}], "tags": [], "owner": {"reputation": 10088, "user_id": 21028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/996a5828870fa84ad3a597f7935a9a5e?s=128&d=identicon&r=PG", "display_name": "csl", "link": "https://stackoverflow.com/users/21028/csl"}, "is_accepted": false, "score": 1, "last_activity_date": 1498731199, "last_edit_date": 1498731199, "creation_date": 1498692275, "answer_id": 44814050, "question_id": 44814016, "link": "https://stackoverflow.com/questions/44814016/randomizing-a-list-with-another-lists-index/44814050#44814050", "title": "Randomizing a list with another lists index", "body": "<p>Use <code>random.shuffle</code> for the indices:</p>\n\n<pre><code>&gt;&gt;&gt; sequence = list(range(len(questions)))\n&gt;&gt;&gt; random.shuffle(sequence)\n&gt;&gt;&gt; sequence\n[2, 0, 3, 1, ....]\n</code></pre>\n\n<p>Then pick questions with</p>\n\n<pre><code>for index in sequence:\n    question = questions[index]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "edited": false, "score": 0, "creation_date": 1498693074, "post_id": 44814095, "comment_id": 76608826, "body": "Yes, try refreshing the page. It should read <code>questions.remove(question)</code>"}], "tags": [], "owner": {"reputation": 2160, "user_id": 4025659, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/4WeB0.jpg?s=128&g=1", "display_name": "wbadart", "link": "https://stackoverflow.com/users/4025659/wbadart"}, "is_accepted": true, "score": 0, "last_activity_date": 1498692644, "creation_date": 1498692644, "answer_id": 44814095, "question_id": 44814016, "link": "https://stackoverflow.com/questions/44814016/randomizing-a-list-with-another-lists-index/44814095#44814095", "title": "Randomizing a list with another lists index", "body": "<p>I'd recommend consolidating the questions and answers into a single list; a list of tuples.</p>\n\n<pre><code>questions = [('What is RAM?', 'random access memory'), ('What is ROM?', 'read-only memory')]\n</code></pre>\n\n<p>Then to pick out a question, run</p>\n\n<pre><code>question = random.choice(questions)\n</code></pre>\n\n<p>Put together, it'll look pretty close to your original script:</p>\n\n<pre><code>import random\n\nquestions = [('What is RAM?', 'random access memory'), ('What is ROM?', 'read-only memory')]\n\nwhile questions:\n    question = random.choice(questions)\n\n    print(question[0])\n    user_response = input('Reponse&gt; ')\n    if user_response == question[1]:\n        print('Correct!')\n        questions.remove(question)\n    else:\n        print('Wrong!')\n</code></pre>\n\n<p><a href=\"https://repl.it/JG0z\" rel=\"nofollow noreferrer\">demo</a></p>\n"}], "owner": {"reputation": 43, "user_id": 7595868, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a4a45314dabd76c61a5bd793752bb2f6?s=128&d=identicon&r=PG&f=1", "display_name": "johnnu ", "link": "https://stackoverflow.com/users/7595868/johnnu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 44814095, "answer_count": 2, "score": 0, "last_activity_date": 1498731199, "creation_date": 1498692032, "last_edit_date": 1498701968, "question_id": 44814016, "link": "https://stackoverflow.com/questions/44814016/randomizing-a-list-with-another-lists-index", "title": "Randomizing a list with another lists index", "body": "<p>I'm working on a quiz at the moment. I was wandering whether anyone can help me with an error i keep receiving. Here is my code:</p>\n\n<pre><code>num1 = num = 0\nimport random\n\nquestions = [\"What is RAM?\",\"what is ROM\",\"What is a bundle of wires \ncarrying data from one component to another?\",\"What does the control unit \ndo?\"]\n\nans = [[\"Random access memory\",\"real access memory\",\"read access \nmemory\",\"readable access memory\",\"A\"],[\"Readable object memory\",\"Random \nobject memory\",\"Read only memory\",\"Read object memory\",\"C\"],\n[\"Bus\",\"Hardware\",\"System software\",\"Embedded systems\",\"A\"],[\"You type on \nit\",\"It sends out control signals to other components\",\"It calculates \narithmetic problems\",\"Regulates time and speed of computer functions\",\"D\"]]\n\nfor index in range(0, len(questions)):\n    val = [0, 1, 2, 3]\n    index = random.choice(val)\n    print(questions[index])\n    print(\"\\nA:\",ans[index][0],\"\\nB:\",ans[index][1],\"\\nC:\",ans[index]\n      [2],\"\\nD:\",ans[index][3],\"\")     \n    pa = input(\"What is your answer?\")\n    if pa == ans[index][4]:\n        num1, num = num1 + 1, num + 1\n        print(\"Correct!\\nYou have got\",num1,\"out of\",num,\"correct so far\\n\")\n        questions.remove(questions[index])\n        ans.remove(ans[index])\n        val.remove(index)\n    else:\n        num = num + 1\n        print(\"incorrect!\\nThe correct answer was\",ans[index][4],\"Your \n         correct questions are Your incorrect questions are\")\n</code></pre>\n\n<p>I'm trying to make it so that it asks the questions in a random order, and doesn't keep giving them questions with other questions answers. Anyone know how that could be done? \nWould appreciate the help.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 13, "user_id": 7997724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5486fc4e8666835e6bf0055ad020b771?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Leence", "link": "https://stackoverflow.com/users/7997724/alex-leence"}, "edited": false, "score": 0, "creation_date": 1498693255, "post_id": 44814007, "comment_id": 76608866, "body": "Main question solved. I had to forward the ports in my router."}], "answers": [{"tags": [], "owner": {"reputation": 1172, "user_id": 682109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d647887b3e75aab5c6d05abf9e00dab2?s=128&d=identicon&r=PG", "display_name": "Surojit", "link": "https://stackoverflow.com/users/682109/surojit"}, "is_accepted": false, "score": 1, "last_activity_date": 1498693246, "creation_date": 1498693246, "answer_id": 44814178, "question_id": 44814007, "link": "https://stackoverflow.com/questions/44814007/python-connect-android-to-python-server/44814178#44814178", "title": "Python : Connect android to python server", "body": "<pre><code>host = socket.gethostname() port = 5555\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((host,port))\ns.listen(5)\n</code></pre>\n\n<p>Most likely is trying to bind to the loopback interface or to another interface which might be a virtual interface or just not connected to your network.\nThis will show up in netstat as :localhost or 127.0.0.1 or whatever your computer name is, or some local IP address.</p>\n\n<p>You should try </p>\n\n<pre><code>host = \"0.0.0.0\"\nport = 5555\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\ns.bind((host,port))\ns.listen(5)\n</code></pre>\n\n<p>By specifying \"0.0.0.0\" you are asking the OS to listen on all interfaces.</p>\n"}], "owner": {"reputation": 13, "user_id": 7997724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5486fc4e8666835e6bf0055ad020b771?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Leence", "link": "https://stackoverflow.com/users/7997724/alex-leence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1498693246, "creation_date": 1498691976, "question_id": 44814007, "link": "https://stackoverflow.com/questions/44814007/python-connect-android-to-python-server", "title": "Python : Connect android to python server", "body": "<p>I am trying to connect my android to my python server on my machine. Both are on the same network. When I use \"telnet (address) 5555\" on my windows machine (same machine as server) , it works. But how to I connect my android to the server ? I have telnet for android , it tries to connect but it eventually says \"connection timeout\". So what is the problem ? I have checked the port , it is listening, so what do I do ? Keep in mind , that I am like 30 minutes in socket programming , so sorry if the answer is very obvious.</p>\n\n<p>And another question is : what would I need to do , if I wanted machines of different networks to be able to connect to my server ?</p>\n\n<p>Thank you , here is the code.</p>\n\n<pre><code>import socket\nimport sys\nfrom _thread import *\n\nhost = socket.gethostname()\nport = 5555\n\ns = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n\ntry:\n    s.bind((host,port))\nexcept socket.error as e:\n    print(str(e))\n\ns.listen(5)\nprint('Waiting for a connection.')\n\ndef threaded_client(conn):\n    conn.send(str.encode('Type your info: '))\n    reply = ''\n    while True:\n        data = conn.recv(2048)\n        reply += data.decode('utf-8')\n        if not data:\n            break\n        if '\\n' in data.decode('utf-8'):\n            conn.sendall('Out:' + reply.encode('utf-8'))\n            print('Out:' + reply.encode('utf-8'))\n            reply = ''\n    conn.close()\n\nwhile True:\n    conn, addr = s.accept()\n\n    print('connected to: ' + str(addr[0]) + ':'+str(addr[1]))\n    start_new_thread(threaded_client,(conn,))\n</code></pre>\n"}, {"tags": ["python", "tkinter"], "comments": [{"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1498692994, "post_id": 44813979, "comment_id": 76608809, "body": "why are you binding to the event inside the function you are binding? Or is that a mistake in the indentation?"}, {"owner": {"reputation": 43, "user_id": 8216217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d0d756c16c707922fdff7238ce4d97?s=128&d=identicon&r=PG&f=1", "display_name": "JDawg", "link": "https://stackoverflow.com/users/8216217/jdawg"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1498693173, "post_id": 44813979, "comment_id": 76608851, "body": "Yes, it is a mistake. I am not really sure how to format the binding. @BryanOakley"}], "owner": {"reputation": 43, "user_id": 8216217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1d0d756c16c707922fdff7238ce4d97?s=128&d=identicon&r=PG&f=1", "display_name": "JDawg", "link": "https://stackoverflow.com/users/8216217/jdawg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 395, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498695151, "creation_date": 1498691794, "last_edit_date": 1498695151, "question_id": 44813979, "link": "https://stackoverflow.com/questions/44813979/binding-virtual-event-to-a-selection-in-a-combo-box-in-tkinter", "title": "Binding Virtual Event to a selection in a Combo Box in Tkinter", "body": "<p>So I want to configure text in a label once a choice is made in the combo box. How would I bind these two events?</p>\n\n<p>Combo Box Script:</p>\n\n<pre><code>self.info = StringVar()\n    self.infoarea = ttk.Combobox(master, textvariable = self.info, state = 'readonly')\n    self.infoarea.place(x = 15, y = 530)\n    self.infoarea.config(values = ('PM10910', 'PM10909'))\n</code></pre>\n\n<p>Script for the bind:</p>\n\n<pre><code>def callback1(PM10910):        \n        self.infotext2.config(text ='info')\n\nself.infoarea.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\",callback1)\n\ndef callback2(PM10909):        \n        self.infotext2.config(text ='info')\n\nself.infoarea.bind(\"&lt;&lt;ComboboxSelected&gt;&gt;\",callback2)\n</code></pre>\n\n<p>I have read something about using ComboboxSelected, but I doubt that I am using it correctly.</p>\n\n<p>With this script, I am able to change the information once in the label once, but when I click the other option in the combo box the label does not change. </p>\n"}, {"tags": ["python", "macos", "tkinter", "tcl", "tk"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 6493038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2006a8d2a54ed56fd7f7dd3aca06385b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6493038/sam"}, "edited": false, "score": 0, "creation_date": 1511988791, "post_id": 47539260, "comment_id": 82080936, "body": "Thanks for this information. I&#39;ll maybe try to mess around with homebrew/macports binaries, once I find time. Re. 3.7.0 PSF installer: is there any official information available concerning the switch to tcl/tk 8.6?"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "reply_to_user": {"reputation": 121, "user_id": 6493038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2006a8d2a54ed56fd7f7dd3aca06385b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6493038/sam"}, "edited": false, "score": 0, "creation_date": 1512009508, "post_id": 47539260, "comment_id": 82087999, "body": "I don&#39;t believe so."}], "tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": false, "score": 1, "last_activity_date": 1511896561, "creation_date": 1511896561, "answer_id": 47539260, "question_id": 44813886, "link": "https://stackoverflow.com/questions/44813886/can-python-installation-on-mac-be-forced-to-use-tcl-tk-8-6/47539260#47539260", "title": "Can python installation on Mac be forced to use tcl/tk 8.6?", "body": "<p>The bottom part of <code>python.org/download/mac/tcltk</code> explains that macOS will only link a binary compiled for tcl/tk 8.5 with some version of 8.5.  I believe that there are sources for python macOS binaries other than python.org that are compiled for tcl/tk 8.6.  Try Homebrew?, MacPorts? other?? (I don't have a mac and have only read the names, but no reviews.)</p>\n\n<p>The 3.7.0 PSF Mac installer will supposedly be switched to using tk 8.6.  The current 3.7.0a2 has not be switched, yet, and I don't know when the change will be made.  I hope by 3.7.0b1 in late January.</p>\n"}], "owner": {"reputation": 121, "user_id": 6493038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2006a8d2a54ed56fd7f7dd3aca06385b?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/6493038/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1511896561, "creation_date": 1498691143, "question_id": 44813886, "link": "https://stackoverflow.com/questions/44813886/can-python-installation-on-mac-be-forced-to-use-tcl-tk-8-6", "title": "Can python installation on Mac be forced to use tcl/tk 8.6?", "body": "<p>I'd like to know how to get the official python installation from python.org (3.6.1) for Mac to use tcl/tk 8.6. I have been using different releases of tcl/tk 8.5 with tkinter for my project's GUI and I keep running into very limiting bugs (crash on scrolling, <a href=\"https://stackoverflow.com/questions/44802456/tkinter-splash-screen-multiprocessing-outside-of-mainloop\">window-mgmt issues</a> among others).</p>\n\n<p>Since I did not encounter the same problems on Windows using 8.6, I suspect/hope that using the newer tcl/tk could make things easier on mac, if it is possible to properly combine it with python/tkinter.</p>\n\n<p>IDLE is not important for me (in case it will not work with tk 8.6.). I also know of similar older questions on SO, which usually resulted in references to the <a href=\"https://www.python.org/download/mac/tcltk/\" rel=\"nofollow noreferrer\">official python.org page</a> about this issue (stating to use 8.5) and I'm also aware of this <a href=\"https://bugs.python.org/issue15663\" rel=\"nofollow noreferrer\">python bug tracker issue</a>.</p>\n\n<p>I'd still like to know whether using tcl/tk 8.6 on mac is possible, how it can be achieved and what potential drawbacks would be.</p>\n"}, {"tags": ["python", "tensorflow", "reinforcement-learning"], "comments": [{"owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "edited": false, "score": 0, "creation_date": 1498691967, "post_id": 44813861, "comment_id": 76608544, "body": "This question is related to <a href=\"https://stackoverflow.com/questions/44706840/tensorflow-summery-merge-error-shape-1-784-has-negative-dimensions\" title=\"tensorflow summery merge error shape 1 784 has negative dimensions\">stackoverflow.com/questions/44706840/&hellip;</a>, but their solution does not work for me"}], "answers": [{"comments": [{"owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "edited": false, "score": 0, "creation_date": 1499880023, "post_id": 45026984, "comment_id": 77101084, "body": "Thanks for your hints, seems like a switch for run() may solve this issue. I&#39;ll try it out ..."}], "tags": [], "owner": {"reputation": 3300, "user_id": 6780025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e434396bfaf34dfdfe38f9ba8f6bfd11?s=128&d=identicon&r=PG&f=1", "display_name": "iga", "link": "https://stackoverflow.com/users/6780025/iga"}, "is_accepted": false, "score": 0, "last_activity_date": 1499755549, "last_edit_date": 1499755549, "creation_date": 1499754758, "answer_id": 45026984, "question_id": 44813861, "link": "https://stackoverflow.com/questions/44813861/record-activations-of-openai-baselines-implementation/45026984#45026984", "title": "record activations of openAI baselines implementation", "body": "<p>You did not give a way to repro the error. I tried doing <code>python3 -m baselines.deepq.experiments.train_pong</code> and hit the same issue on your code. What follows is from my runs of this command on your forked code.</p>\n\n<p>Your usage of <code>tf.summary.histogram</code> seems fine. The problem seem to be in another operation constructed via this stack trace:</p>\n\n<pre><code>File \"/usr/local/google/home/iga/tinker/baselines/baselines/deepq/experiments/train_pong.py\", line 27, in main\n  prioritized_replay=True\nFile \"/usr/local/google/home/iga/tinker/baselines/baselines/deepq/simple.py\", line 178, in learn\n  grad_norm_clipping=10\nFile \"/usr/local/google/home/iga/tinker/baselines/baselines/deepq/build_graph.py\", line 178, in build_train\n  act_f = build_act(make_obs_ph, q_func, num_actions, scope=scope, reuse=reuse)\nFile \"/usr/local/google/home/iga/tinker/baselines/baselines/deepq/build_graph.py\", line 105, in build_act\n  observations_ph = U.ensure_tf_input(make_obs_ph(\"observation\"))\nFile \"/usr/local/google/home/iga/tinker/baselines/baselines/deepq/simple.py\", line 170, in make_obs_ph\n  return U.BatchInput(env.observation_space.shape, name=name)\nFile \"/usr/local/google/home/iga/tinker/baselines/baselines/common/tf_util.py\", line 150, in __init__\n  super().__init__(tf.placeholder(dtype, [None] + list(shape), name=name))\n</code></pre>\n\n<p>There is a placeholder that deepq code creates with name <code>deepq/observation</code>.</p>\n\n<p>Evaluating this placeholder causes an error because no feed is given for it during a run. The question is then is \"Why adding a summary op triggers this error\". The answer seems to be because we want to evaluate and write all summaries (baselines/baselines/deepq/simple.py) including the newly added summary. Evaluating the new summary requires evaluating the placeholder that causes the error.</p>\n\n<p>I added some print statements to <code>Session.run()</code> method to verify that a value for <code>deepq/observation</code> is indeed not passed in feeds. It is passed for many runs, but after ~30 seconds of running on my machine, there is a call to Session.run() with a feed_dict that does not contain the value for this placeholder. The runs when it is present contain feeds for deepq/observation, deepq/update_ep, and deepq/stochastic. The run when the value is not present contains feeds for deepq_1/action, deepq_1/obs_tp1, deepq_1/weight, deepq_1/done, etc.</p>\n\n<p>I am not familiar with baselines to suggest the right way of collecting the summaries you want, but hopefully this info helps.</p>\n"}], "owner": {"reputation": 1019, "user_id": 2910092, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3097baa2de1a6f122e1e3eaf147b2849?s=128&d=identicon&r=PG&f=1", "display_name": "gizzmole", "link": "https://stackoverflow.com/users/2910092/gizzmole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 315, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563360394, "creation_date": 1498690983, "question_id": 44813861, "link": "https://stackoverflow.com/questions/44813861/record-activations-of-openai-baselines-implementation", "title": "record activations of openAI baselines implementation", "body": "<p>I would like to record variables and activations of the <a href=\"https://github.com/openai/baselines\" rel=\"nofollow noreferrer\">reference implementation for reinforcement learning provided by openAI</a>.\nRecording weights and biases was straight forward, but I have trouble with recording the activations.\nI forked <a href=\"https://github.com/openai/baselines\" rel=\"nofollow noreferrer\">baselines</a> and <a href=\"https://github.com/tompfeil/baselines/commit/84af37f34bbe528f8de5007fe87d4958c3450930\" rel=\"nofollow noreferrer\">added a commit</a> to record weights and biases. A <a href=\"https://github.com/tompfeil/baselines/commit/a3a525f51e8d1763b8d74d2a64514de902f4d069\" rel=\"nofollow noreferrer\">second commit</a> adds a summary operation for activations (here, activation of input only). However, the second commit results in an error:</p>\n\n<pre><code>InvalidArgumentError (see above for traceback): Shape [-1,84,84,4] has negative dimensions\n     [[Node: deepq/observation = Placeholder[dtype=DT_FLOAT, shape=[?,84,84,4], _device=\"/job:localhost/replica:0/task:0/gpu:0\"]()]]\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "python-3.5"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 7537620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea5be3f21126219c24d268bc254fb2a?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence Ho", "link": "https://stackoverflow.com/users/7537620/terrence-ho"}, "edited": false, "score": 0, "creation_date": 1498694137, "post_id": 44813864, "comment_id": 76609088, "body": "This didn&#39;t work, do you have any other suggestions?  I&#39;ve looked through the docs and this is a really weird error that no one seems to have encountered before"}, {"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "reply_to_user": {"reputation": 11, "user_id": 7537620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea5be3f21126219c24d268bc254fb2a?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence Ho", "link": "https://stackoverflow.com/users/7537620/terrence-ho"}, "edited": false, "score": 0, "creation_date": 1498695436, "post_id": 44813864, "comment_id": 76609372, "body": "can you replicate the result with toy DFs that you manufacture? Try to create two DFs, with 4 rows and same number of cols, and test that.... If you can replicate that, edit your question with those DFs so that we can try."}], "tags": [], "owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "is_accepted": false, "score": -2, "last_activity_date": 1498690996, "creation_date": 1498690996, "answer_id": 44813864, "question_id": 44813793, "link": "https://stackoverflow.com/questions/44813793/concatenating-two-pandas-dataframes-with-the-same-length-extends-the-length-of-t/44813864#44813864", "title": "Concatenating Two Pandas DataFrames with the same length extends the length of the resulting DataFrame", "body": "<p>Perhaps the index is preventing the result you are seeking. Try</p>\n\n<pre><code>f_output_norm = pd.concat([pd.DataFrame(X_test_minmax), pd.DataFrame(y_test)],\n                          axis=1, \n                          ignore_index=True)\n</code></pre>\n\n<p>to ignore indexes on the concatenation axis.</p>\n"}, {"tags": [], "owner": {"reputation": 571, "user_id": 4869583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4db2bb044ba0df998da9501b8107a13?s=128&d=identicon&r=PG&f=1", "display_name": "Huang", "link": "https://stackoverflow.com/users/4869583/huang"}, "is_accepted": false, "score": 0, "last_activity_date": 1498713457, "creation_date": 1498713457, "answer_id": 44816866, "question_id": 44813793, "link": "https://stackoverflow.com/questions/44813793/concatenating-two-pandas-dataframes-with-the-same-length-extends-the-length-of-t/44816866#44816866", "title": "Concatenating Two Pandas DataFrames with the same length extends the length of the resulting DataFrame", "body": "<p>If ignore_index =True is not working, this is possibly caused by the duplicated column names: One of the column name in the first dataframe is the same as the column name of the second dataframe. Change the column name might help.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9601612, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4ySYUAxkoQI/AAAAAAAAAAI/AAAAAAAAFS8/5GwTodBmRJI/photo.jpg?sz=128", "display_name": "Madhu Lekha", "link": "https://stackoverflow.com/users/9601612/madhu-lekha"}, "is_accepted": false, "score": 1, "last_activity_date": 1547897033, "last_edit_date": 1547897033, "creation_date": 1537272300, "answer_id": 52386220, "question_id": 44813793, "link": "https://stackoverflow.com/questions/44813793/concatenating-two-pandas-dataframes-with-the-same-length-extends-the-length-of-t/52386220#52386220", "title": "Concatenating Two Pandas DataFrames with the same length extends the length of the resulting DataFrame", "body": "<p>Pretty old question, but I landed here looking for a solution to the same problem. I figured out that its because of the mismatch in row indices as the function will be trying to concat on them (very likely that you have chunked your dfs from a larger one by sampling or so).</p>\n\n<p>Try </p>\n\n<p>X_test_minmax.reset_index(inplace=True,drop=True) <br>\ny_test.reset_index(inplace=True,drop=True) <br>\ndf_output_norm = pd.concat([pd.DataFrame(X_test_minmax), pd.DataFrame(y_test)], axis=1)</p>\n"}], "owner": {"reputation": 11, "user_id": 7537620, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea5be3f21126219c24d268bc254fb2a?s=128&d=identicon&r=PG&f=1", "display_name": "Terrence Ho", "link": "https://stackoverflow.com/users/7537620/terrence-ho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2566, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1547897033, "creation_date": 1498690488, "question_id": 44813793, "link": "https://stackoverflow.com/questions/44813793/concatenating-two-pandas-dataframes-with-the-same-length-extends-the-length-of-t", "title": "Concatenating Two Pandas DataFrames with the same length extends the length of the resulting DataFrame", "body": "<p>I have two DataFrames that I am trying to concat together.  df_output_norm is the dataframe I am trying to get.  X_test_minmax has 81732 rows and 6 columns, y_test has 81732 rows and 1 column.  This should be an easy concatenation, but when I concatenate it, the resulting size is (147158, 7)</p>\n\n<pre><code>df_output_norm = pd.DataFrame()\ndf_output_norm = pd.concat([pd.DataFrame(X_test_minmax), pd.DataFrame(y_test)], axis=1)\n\nprint(df_output_norm.shape)\nprint(df_output_norm['label'].shape)\nprint(X_test_minmax.shape)\nprint(y_test.shape)\n</code></pre>\n\n<p>The output is<br>\n(147158, 7)<br>\n(147158,)<br>\n(81732, 6)<br>\n(81732,)</p>\n\n<p>The number of columns is correct, just that the number of rows in the last column is wrong.  I've looked at the data and only the last column 'label' is extended, which is the column y_test.  The first 6 columns that come from X_test_minmax are of the correct row length.  Why is this happening?</p>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1498690571, "post_id": 44813777, "comment_id": 76608192, "body": "Do you need to use AJAX? I think the best starting point as a beginner would be an HTML form."}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1498690867, "post_id": 44813777, "comment_id": 76608260, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30681767/http-x-requested-with-not-set-in-ajax-call-with-jquery\">HTTP_X_REQUESTED_WITH not set in ajax call with jquery</a>"}, {"owner": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1498690932, "post_id": 44813777, "comment_id": 76608271, "body": "Based on the duplicate it would seem that you could fix your problem using <code>$.get</code>."}, {"owner": {"reputation": 11, "user_id": 7137598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4157b6aefa3a003eac8137222d6a7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Montemayor", "link": "https://stackoverflow.com/users/7137598/adrian-montemayor"}, "reply_to_user": {"reputation": 31205, "user_id": 2482744, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OQPNY.png?s=128&g=1", "display_name": "Alex Hall", "link": "https://stackoverflow.com/users/2482744/alex-hall"}, "edited": false, "score": 0, "creation_date": 1498751985, "post_id": 44813777, "comment_id": 76640411, "body": "Oh God,  HTTP_X_REQUESTED_WITH solved my problem i needed use special headers how this guy explain about recognize the  function &quot;is_ajax()&quot;  , i can continue with my code like that  javascript code  var pokemon = [&quot;Charmander&quot;, &quot;Bulbasaur&quot; , &quot;Squirtle&quot;] data : {&#39;pokemon&#39; : pokemon}, function (data){ console.log(data)  } python code in request.is_ajax():  datos = request.GET.getlist(&#39;pokemon[]&#39;)  return HttpResponse(datos)  console result (CharmanderBulbasaurSquirtle)  THANK YOU VERY MUCH, I CAN CONTINUE WITH MY PROJECT !!!!"}], "owner": {"reputation": 11, "user_id": 7137598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4157b6aefa3a003eac8137222d6a7a6?s=128&d=identicon&r=PG&f=1", "display_name": "Adrian Montemayor", "link": "https://stackoverflow.com/users/7137598/adrian-montemayor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498743868, "creation_date": 1498690406, "last_edit_date": 1498743868, "question_id": 44813777, "link": "https://stackoverflow.com/questions/44813777/django-sending-html-table-to-python", "title": "Django Sending HTML Table to Python", "body": "<p><strong>Hello Guys</strong></p>\n\n<p>I'm working with Django and I have a big doubt, i have 3 HTML tables and i need save this data in mysql, that table is filled by users and im not sure how can i sending the tables to python.</p>\n\n<p>i tried using Ajax, but, really I'm not sure how to use it.</p>\n\n<p>HTML CODE from one of my 3 tables:</p>\n\n<p>custom.html</p>\n\n<pre><code>&lt;table id=\"idTable\" name=\"table\" class=\"table table-striped table-bordered\"&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;FIRST&lt;/th&gt;\n&lt;th&gt;Second&lt;/th&gt;\n   &lt;tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;\n&lt;/tbody&gt;\n&lt;/table&gt;\n&lt;button class=\"btn btn-primary\" onclick=\"ajaxFunction()\" id=\"IDButton\"&gt;Touch me!&lt;/button&gt;\n</code></pre>\n\n<p>The tbody rows are added with javascript</p>\n\n<p>Ajax code:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction ajaxFunction(){\nvar request = $.ajax({\nurl: window.location.href,\ntype: 'get',\ndata: {data1: \"hello\"},\ncontentType: 'application/json; charset=utf-8'\n});\nrequest.done(function(data)){\nconsole.log(\"works\")\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>When i click the button in the console i can see \"works\" but in python is not working</p>\n\n<p>Python code:\ncrm/views.py</p>\n\n<pre><code>def custom(request, op_id):\n     if request.method == \"GET\":\n          IF request.is_ajax():\n                 message =\"Yes\"\n          else:\n                 message=\"No\"\n     return render(request, \"custom.html\")\n</code></pre>\n\n<p>I don't know why function is_ajax does not works.</p>\n\n<p>I only wanna find a way to do this,\ni will be glad !!!! \nThank you! </p>\n"}, {"tags": ["python", "python-3.x", "oop"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 5, "creation_date": 1498690537, "post_id": 44813771, "comment_id": 76608181, "body": "In case 1, you aren&#39;t calling anything; <code>self.x</code> is a function reference that isn&#39;t used. In case 3, <code>self.x</code> actually calls the defined getter for <code>x</code>, which presumably is then trying to access an undefined global name."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498690845, "post_id": 44813771, "comment_id": 76608255, "body": "In other words, your comment &quot;getting x results in a function call&quot; is incorrect. It evaluates to a function object, which you neglect to call."}, {"owner": {"reputation": 952, "user_id": 3147711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/013766b223b64513080e30f0a60d5b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Walczak", "link": "https://stackoverflow.com/users/3147711/alex-walczak"}, "edited": false, "score": 0, "creation_date": 1498691505, "post_id": 44813771, "comment_id": 76608413, "body": "That commented line wasn&#39;t supposed to make it into this post. If I&#39;m not mistaken, I think that line applies if case 2 were uncommented and the others were commented out."}, {"owner": {"reputation": 952, "user_id": 3147711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/013766b223b64513080e30f0a60d5b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Walczak", "link": "https://stackoverflow.com/users/3147711/alex-walczak"}, "reply_to_user": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 0, "creation_date": 1498691909, "post_id": 44813771, "comment_id": 76608522, "body": "@chepner, got it, thanks! When I ran a.x() with case 1, I got the same error as in case 3. I hadn&#39;t realized that using [at]property would result in a call to the x method."}], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498691723, "post_id": 44813945, "comment_id": 76608470, "body": "Sorry, what is the confusion? And this should probably be a comment, not an answer..."}, {"owner": {"reputation": 10088, "user_id": 21028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/996a5828870fa84ad3a597f7935a9a5e?s=128&d=identicon&r=PG", "display_name": "csl", "link": "https://stackoverflow.com/users/21028/csl"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498691783, "post_id": 44813945, "comment_id": 76608495, "body": "I&#39;m confused because I don&#39;t understand what is inconsistent about the poster&#39;s code? I&#39;ve edited the answer."}], "tags": [], "owner": {"reputation": 10088, "user_id": 21028, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/996a5828870fa84ad3a597f7935a9a5e?s=128&d=identicon&r=PG", "display_name": "csl", "link": "https://stackoverflow.com/users/21028/csl"}, "is_accepted": false, "score": 1, "last_activity_date": 1498691867, "last_edit_date": 1498691867, "creation_date": 1498691572, "answer_id": 44813945, "question_id": 44813771, "link": "https://stackoverflow.com/questions/44813771/inconsistent-behavior-in-python-when-using-a-property-decorator/44813945#44813945", "title": "Inconsistent behavior in Python when using a property decorator", "body": "<p>There is no inconsistency here.</p>\n\n<p>When you instantiate <code>a = A()</code>, <code>__init__</code> is called, which calls <code>self.x</code>, which will execute the body of <code>x</code>. At that point, there is no <code>y</code> inscope, so you get an exception.</p>\n"}, {"tags": [], "owner": {"reputation": 952, "user_id": 3147711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/013766b223b64513080e30f0a60d5b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Walczak", "link": "https://stackoverflow.com/users/3147711/alex-walczak"}, "is_accepted": true, "score": 1, "last_activity_date": 1498692308, "creation_date": 1498692308, "answer_id": 44814054, "question_id": 44813771, "link": "https://stackoverflow.com/questions/44813771/inconsistent-behavior-in-python-when-using-a-property-decorator/44814054#44814054", "title": "Inconsistent behavior in Python when using a property decorator", "body": "<p>Thanks to @chepner's comment:</p>\n\n<blockquote>\n  <p>In case 1, you aren't calling anything; self.x is a function reference\n  that isn't used. In case 3, self.x actually calls the defined getter\n  for x, which presumably is then trying to access an undefined global\n  name.</p>\n</blockquote>\n\n<p>The behavior caused by the line <code>self.x</code> in case 3 is fundamentally different from case 1 because case 1 doesn't call anything -- it just evaluates a reference to a function.</p>\n\n<p>On the other hand, <code>self.x</code> in case 3 executes the body of the <code>x</code> method, resulting in the undefined <code>y</code> error.</p>\n\n<p>In order to confirm @chepner's comment, I ran a.x() with case 1 and got the same error as in case 3.</p>\n"}], "owner": {"reputation": 952, "user_id": 3147711, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/013766b223b64513080e30f0a60d5b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Walczak", "link": "https://stackoverflow.com/users/3147711/alex-walczak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 1, "accepted_answer_id": 44814054, "answer_count": 2, "score": 1, "last_activity_date": 1602963537, "creation_date": 1498690378, "last_edit_date": 1602963537, "question_id": 44813771, "link": "https://stackoverflow.com/questions/44813771/inconsistent-behavior-in-python-when-using-a-property-decorator", "title": "Inconsistent behavior in Python when using a property decorator", "body": "<p>Here's a simple file depicting some inconsistent Python (3.6) behavior. Why is it possible that <code>Case 1</code> and <code>Case 2</code> run but <code>Case 3</code> fails, even though <code>Case 3</code> is just a merger of the first two cases?</p>\n<p>I have provided the <code>dis</code> output of the first two cases.</p>\n<pre><code>import dis # Python bytecode disassembler\n\nclass A(object):\n  def __init__(self):\n    self.x # In case 2 (and 3), getting x results in a function call (because they are @properties), which fails when instantiating A because y is undefined. Case 1 evaluates the reference to a function without calling it and so it does not raise an exception.\n\n  # CASE 1: Legal\n  def x(self):\n    y\n    pass\n\n  '''\n  # CASE 2: Legal\n  @property\n  def x(self):\n    pass\n  '''\n\n  '''\n  # CASE 3: Illegal:\n  @property\n  def x(self):\n    y\n    pass\n  '''\n\nif __name__ == '__main__':\n  a = A()\n  dis.dis(A)\n</code></pre>\n<p><strong>Case 1 bytecode:</strong></p>\n<pre><code>Disassembly of __init__:\n  5           0 LOAD_FAST                0 (self)\n              2 LOAD_ATTR                0 (x)\n              4 POP_TOP\n              6 LOAD_CONST               0 (None)\n              8 RETURN_VALUE\n\nDisassembly of x:\n  9           0 LOAD_GLOBAL              0 (y)\n              2 POP_TOP\n\n 10           4 LOAD_CONST               0 (None)\n              6 RETURN_VALUE\n</code></pre>\n<p><strong>Case 2 bytecode:</strong></p>\n<pre><code>Disassembly of __init__:\n  5           0 LOAD_FAST                0 (self)\n              2 LOAD_ATTR                0 (x)\n              4 POP_TOP\n              6 LOAD_CONST               0 (None)\n              8 RETURN_VALUE\n</code></pre>\n"}, {"tags": ["python", "dataframe"], "answers": [{"comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498691476, "post_id": 44813883, "comment_id": 76608405, "body": "They want to drop &quot;cells&quot; that <i>only</i> contain <code>&#39;_&#39;</code>, so not something like &quot;what-the-heck&quot;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498691521, "post_id": 44813883, "comment_id": 76608418, "body": "Also, <code>df.what.str.contains(&quot;-&quot;) == False</code> probably just be <code>~df.what.str.contains(&quot;-&quot;)</code>"}, {"owner": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498691875, "post_id": 44813883, "comment_id": 76608512, "body": "From what I understand,  he wants to remove the cell that contains &#39;-&#39;. Anyway, as what you said if he wants the other way, df[df.what.str.contains(&quot;-&quot;) == True] will keep the cell that contains &#39;-&#39;"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498691923, "post_id": 44813883, "comment_id": 76608530, "body": "Just <code>df.what.str.contains(&quot;-&quot;)</code>, you don&#39;t need <code>df.what.str.contains(&quot;-&quot;) == True</code>"}, {"owner": {"reputation": 732, "user_id": 6452137, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/b2ffb53d387e64d1258f4eb1dbfc85e3?s=128&d=identicon&r=PG&f=1", "display_name": "ZHU", "link": "https://stackoverflow.com/users/6452137/zhu"}, "edited": false, "score": 0, "creation_date": 1498694063, "post_id": 44813883, "comment_id": 76609071, "body": "This only works for one colum but I have may columns"}], "tags": [], "owner": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "is_accepted": false, "score": 0, "last_activity_date": 1498691544, "last_edit_date": 1498691544, "creation_date": 1498691116, "answer_id": 44813883, "question_id": 44813770, "link": "https://stackoverflow.com/questions/44813770/drop-all-row-who-has-at-lease-one-cell-that-contains-only-in-dataframe/44813883#44813883", "title": "Drop all row who has at lease one cell that contains only &#39;-&#39; in dataframe", "body": "<p>For example, you have a df </p>\n\n<pre><code>df = pd.DataFrame(dict(A=[2,2,2,2,2,2,2], what=[\"what\",\"what\",\"what\",\"-\",\"what\",\"-\",\"what\"]))\n</code></pre>\n\n<p>Then use</p>\n\n<pre><code>df[df.what.str.contains(\"-\") == False]\n</code></pre>\n\n<p>output</p>\n\n<pre><code>    A  what\n0  2  what\n1  2  what\n2  2  what\n4  2  what\n6  2  what\n</code></pre>\n"}], "owner": {"reputation": 732, "user_id": 6452137, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/b2ffb53d387e64d1258f4eb1dbfc85e3?s=128&d=identicon&r=PG&f=1", "display_name": "ZHU", "link": "https://stackoverflow.com/users/6452137/zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498696641, "creation_date": 1498690371, "last_edit_date": 1498694368, "question_id": 44813770, "link": "https://stackoverflow.com/questions/44813770/drop-all-row-who-has-at-lease-one-cell-that-contains-only-in-dataframe", "title": "Drop all row who has at lease one cell that contains only &#39;-&#39; in dataframe", "body": "<p>There are negative numbers and some cells only contains <code>-</code>. They're there when the data is being imported. How can I drop them from the data-frame? Basically this is a notation of missing value.</p>\n"}, {"tags": ["python", "python-3.x", "audio", "wav", "spectrogram"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 8223751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd897ed16607d31b8a640ecea1e7e75?s=128&d=identicon&r=PG&f=1", "display_name": "jpeoples", "link": "https://stackoverflow.com/users/8223751/jpeoples"}, "is_accepted": true, "score": 0, "last_activity_date": 1498692195, "creation_date": 1498692195, "answer_id": 44814039, "question_id": 44813763, "link": "https://stackoverflow.com/questions/44813763/indexerror-too-many-indices-for-array-when-trying-to-plot-a-spectrogram-of-a-w/44814039#44814039", "title": "IndexError: too many indices for array when trying to plot a spectrogram of a .wav file", "body": "<p>As far as I can tell, the data array <code>mySound</code> will have shape <code>(nSamples, nChannels)</code> if there are multiple channels. If there is one channel, <code>mySound</code> will have shape <code>(nSamples,)</code>.</p>\n\n<p>Here, your audio file must have only one channel, and therefore you cannot index it as if it is a 2D array.</p>\n\n<p>Hence, you should be able to replace</p>\n\n<pre><code>mySoundOneChannel = mySound[:,0]\n</code></pre>\n\n<p>with something like</p>\n\n<pre><code>if len(mySound.shape) &gt; 1:\n    mySoundOneChannel = mySound[:,0]\nelse:\n    mySoundOneChannel = mySound\n</code></pre>\n\n<p>To get the number of channels, you should be able to do:</p>\n\n<pre><code>if len(mySound.shape) &gt; 1:\n    nChannels = mySound.shape[1]\nelse:\n    nChannels = 1\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 44814039, "answer_count": 1, "score": 0, "last_activity_date": 1498692195, "creation_date": 1498690342, "question_id": 44813763, "link": "https://stackoverflow.com/questions/44813763/indexerror-too-many-indices-for-array-when-trying-to-plot-a-spectrogram-of-a-w", "title": "IndexError: too many indices for array when trying to plot a spectrogram of a .wav file", "body": "<p>I am trying to plot a spectrogram of a .wav file. \nThe strange thing about the way the below code behaves is that it works on some .wav files and fails on others. I suspect that this is because some .wav files have a different number of channels compared to others. However I have no idea how to determine how many channels a .wav file contains. I've looked at this stack overflow post prior to posting my question: <a href=\"https://stackoverflow.com/questions/13995936/what-is-a-channel-in-a-wav-file-formatdo-all-channels-play-simultaneaously-whe\">What is a channel in a .wav file format?Do all channels play simultaneaously when a wav file is played?</a></p>\n\n<p>I've pasted one of my methods below which tries to convert a a filepath(myAudio) into a jpg with filepath(fileNameToSaveTo).</p>\n\n<pre><code>def individualWavToSpectrogram(myAudio, fileNameToSaveTo):\nprint(myAudio)\n#Read file and get sampling freq [ usually 44100 Hz ]  and sound object\nsamplingFreq, mySound = wavfile.read(myAudio)\n\n#Check if wave file is 16bit or 32 bit. 24bit is not supported\nmySoundDataType = mySound.dtype\n\n#We can convert our sound array to floating point values ranging from -1 to 1 as follows\n\nmySound = mySound / (2.**15)\n\n#Check sample points and sound channel for duel channel(5060, 2) or  (5060, ) for mono channel\n\nmySoundShape = mySound.shape\nsamplePoints = float(mySound.shape[0])\n\n#Get duration of sound file\nsignalDuration =  mySound.shape[0] / samplingFreq\n\n#If two channels, then select only one channel\nmySoundOneChannel = mySound[:,0]\n\n#Plotting the tone\n\n# We can represent sound by plotting the pressure values against time axis.\n#Create an array of sample point in one dimension\ntimeArray = numpy.arange(0, samplePoints, 1)\n\n#\ntimeArray = timeArray / samplingFreq\n\n#Scale to milliSeconds\ntimeArray = timeArray * 1000\n\n#Plot the tone\nplt.plot(timeArray, mySoundOneChannel, color='Black')\n#plt.xlabel('Time (ms)')\n#plt.ylabel('Amplitude')\nprint(\"trying to save\")\nplt.savefig('/Users/billybobjoe/Desktop/SavedSpecs' + fileNameToSaveTo + '.jpg')\nprint(\"saved\")\nplt.show()\n</code></pre>\n\n<p>This produces the following error on some of my .wav files\n line 57, in individualWavToSpectrogram\n    mySoundOneChannel = mySound[:,0]\nIndexError: too many indices for array</p>\n\n<p>The line of code that fails is</p>\n\n<pre><code>mySoundOneChannel = mySound[:,0]\n</code></pre>\n\n<p>How do I check the number of channels that a .wav file has, and how do I set mySoundOneChannel accordingly?</p>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1498691578, "post_id": 44813745, "comment_id": 76608430, "body": "There have been some changes made to the yahoo data and service. Possibly <a href=\"https://stackoverflow.com/questions/44616963/what-happen-with-this-matplotlib-finance-candlestick2-ochl-code\">this question</a> may help you."}, {"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1498705905, "post_id": 44813745, "comment_id": 76611685, "body": "yahoo API has been deprecated. Sorry :("}], "owner": {"reputation": 283, "user_id": 5203117, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/4ZwHt.jpg?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/5203117/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 811, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1507203653, "creation_date": 1498690222, "last_edit_date": 1507203653, "question_id": 44813745, "link": "https://stackoverflow.com/questions/44813745/is-yahoo-quote-retrieval-with-matplotlib-working-for-recent-years", "title": "Is Yahoo! quote retrieval with matplotlib working for recent years?", "body": "<p>This works:</p>\n\n<pre><code>from matplotlib.finance import quotes_historical_yahoo_ohlc\ndate1 = (2004, 2, 1)\ndate2 = (2004, 4, 12)\nquotes_historical_yahoo_ohlc('INTC', date1, date2)\n</code></pre>\n\n<p>But this does not:</p>\n\n<pre><code>from matplotlib.finance import quotes_historical_yahoo_ohlc\ndate1 = (2017, 2, 1)\ndate2 = (2017, 4, 12)\nquotes_historical_yahoo_ohlc('INTC', date1, date2)\n</code></pre>\n\n<p>The only difference is 2017 versus 2004. I know that Yahoo! has made some changes recently. I am on mpl version 1.5.1. Do I need to update mpl, or is it something else?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"&lt;module1&gt;\", line 4, in &lt;module&gt;\n  File \"C:\\Python27\\lib\\site-packages\\matplotlib\\finance.py\", line 451, in quotes_historical_yahoo_ohlc\n    ochl=False)\n  File \"C:\\Python27\\lib\\site-packages\\matplotlib\\finance.py\", line 499, in _quotes_historical_yahoo\n    fh = fetch_historical_yahoo(ticker, date1, date2, cachename)\n  File \"C:\\Python27\\lib\\site-packages\\matplotlib\\finance.py\", line 358, in fetch_historical_yahoo\n    with contextlib.closing(urlopen(url)) as urlfh:\n  File \"C:\\Python27\\lib\\urllib2.py\", line 154, in urlopen\n    return opener.open(url, data, timeout)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 431, in open\n    response = self._open(req, data)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 449, in _open\n    '_open', req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 409, in _call_chain\n    result = func(*args)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 1227, in http_open\n    return self.do_open(httplib.HTTPConnection, req)\n  File \"C:\\Python27\\lib\\urllib2.py\", line 1197, in do_open\n    raise URLError(err)\n  URLError: &lt;urlopen error [Errno 11004] getaddrinfo failed&gt;\n</code></pre>\n"}, {"tags": ["python", "html", "beautifulsoup", "html-parsing"], "comments": [{"owner": {"reputation": 2995, "user_id": 667913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/e038b48be307830687c8a71ff716ba07?s=128&d=identicon&r=PG", "display_name": "patrick", "link": "https://stackoverflow.com/users/667913/patrick"}, "edited": false, "score": 0, "creation_date": 1498691810, "post_id": 44813741, "comment_id": 76608501, "body": "does this code run? Cause <code>url = https:&#47;&#47;finance.yahoo.com&#47;quote&#47;XLB&#47;history?period1=91517760&zwnj;&#8203;0&amp;period2=1498633200&zwnj;&#8203;&amp;interval=1d&amp;filter=&zwnj;&#8203;history&amp;frequency=1d</code> looks fishy to me."}, {"owner": {"reputation": 6961, "user_id": 1248974, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ClqC2.jpg?s=128&g=1", "display_name": "davedwards", "link": "https://stackoverflow.com/users/1248974/davedwards"}, "edited": false, "score": 0, "creation_date": 1498691940, "post_id": 44813741, "comment_id": 76608534, "body": "the code works, just put that url in quotes, but indeed the download link is not available in the soup result. it seems like the link is javascript, and BeautifulSoup does not execute Javascript, so any data delivered or rendered via JS will not be available to you if you scrape with BeautifulSoup. might need to look into selenium or phantomjs"}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5385661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abbbf4ea4c4817d821fad382831b9b1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy-SKA", "link": "https://stackoverflow.com/users/5385661/jeremy-ska"}, "edited": false, "score": 0, "creation_date": 1498801078, "post_id": 44813994, "comment_id": 76658777, "body": "The Yahoo Finance API turned out to be a dud but Selenium worked.  Thank you."}], "tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": true, "score": 1, "last_activity_date": 1498691922, "creation_date": 1498691922, "answer_id": 44813994, "question_id": 44813741, "link": "https://stackoverflow.com/questions/44813741/beautifulsoup-html-missing/44813994#44813994", "title": "BeautifulSoup html missing", "body": "<p>This website relies heavily on Javascript. A lot of the information you see on your browser doesn't come in the first request you make to the website but it's added by subsequent Javascript making additional requests.</p>\n\n<p>Try to use their API instead or use something like Selenium that emulates a web browser.</p>\n"}], "owner": {"reputation": 5, "user_id": 5385661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9abbbf4ea4c4817d821fad382831b9b1?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy-SKA", "link": "https://stackoverflow.com/users/5385661/jeremy-ska"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 1, "accepted_answer_id": 44813994, "answer_count": 1, "score": 0, "last_activity_date": 1498692137, "creation_date": 1498690216, "last_edit_date": 1498692137, "question_id": 44813741, "link": "https://stackoverflow.com/questions/44813741/beautifulsoup-html-missing", "title": "BeautifulSoup html missing", "body": "<p>I'm trying to get the url for the link to download historical data from Yahoo Finance for an asset during a specific timeframe.  January 1, 1999 to present day.</p>\n\n<p>So for example if I go here:\n<a href=\"https://finance.yahoo.com/quote/XLB/history?period1=915177600&amp;period2=1498633200&amp;interval=1d&amp;filter=history&amp;frequency=1d\" rel=\"nofollow noreferrer\">https://finance.yahoo.com/quote/XLB/history?period1=915177600&amp;period2=1498633200&amp;interval=1d&amp;filter=history&amp;frequency=1d</a></p>\n\n<p>I would want to acquire this (from the \"Download Data\" link above the table of data):</p>\n\n<pre><code>\"https://query1.finance.yahoo.com/v7/finance/download/XLB?period1=915177600&amp;amp;period2=1498633200&amp;amp;interval=1d&amp;amp;events=history&amp;amp;crumb=iX6bJ6LfGxc\"\n</code></pre>\n\n<p>I'm using BeautifulSoup and am running into the problem of the required  tag that holds the href not showing up in the html.  At first I thought BeautifulSoup was just not working properly after getting no results from trying to use find_all('a') and iterating through children/decendants.  But when I did a text dump of the html, the html element (along with everything else within the parent element) was not there.\nCan someone please explain what is going on?  What I'm currently working with is listed below.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport datetime as dTime\nimport requests\n\n\"\"\"\nasset = \"Materials\"\nassetSignal = \"XLB\"\ntoday = dTime.datetime.now()\nstartTime = str(int(dTime.datetime(1999, 1, 1, 0, 0, 0).timestamp()))\nendTime = str(int(dTime.datetime(today.year, today.month, today.day, 0, 0, 0).timestamp()))\nurl = \"https://finance.yahoo.com/quote/\" + assetSignal + \"/history?period1=\" + startTime + \"&amp;period2=\" + endTime + \"&amp;interval=1d&amp;filter=history&amp;frequency=1d\"\n\"\"\"\n\nurl = \"https://finance.yahoo.com/quote/XLB/history?period1=915177600&amp;period2=1498633200&amp;interval=1d&amp;filter=history&amp;frequency=1d\"\npage = requests.get(url)\ndata = page.content\n#soup = BeautifulSoup(data, \"html.parser\")\nsoup = BeautifulSoup(data, \"lxml\")\n#soup = BeautifulSoup(data, \"xml\")\n#soup = BeautifulSoup(data, \"html5lib\")\n\n#Link not found\nfor link in soup.find_all(\"a\"):\n    print(link.get(\"href\"))\n\n#Span is empty?\nspan = soup.find(class_=\"Fl(end) Pos(r) T(-6px)\")\nprint(span)\nprint(span.string)\nprint(span.contents)\nfor child in span.children:\n    print(child)\n\n#Other span has children.  Target span doesn't\ndiv = soup.find(class_=\"C($finDarkGray) Mt(20px) Mb(15px)\")\nprint(div)\nfor child in div.descendants:\n    print(child)\n\n#Is the tag even there?\nwith open(\"soup.txt\", \"w\") as file:\n    file.write(page.text)\n</code></pre>\n"}, {"tags": ["python", "curl"], "comments": [{"owner": {"reputation": 4274, "user_id": 5113071, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/27afe5aa502eb75ce05a49b47846889d?s=128&d=identicon&r=PG", "display_name": "Shawn Mehan", "link": "https://stackoverflow.com/users/5113071/shawn-mehan"}, "edited": false, "score": 2, "creation_date": 1498690438, "post_id": 44813735, "comment_id": 76608152, "body": "Have you read through the <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\">Requests</a> documentation? That&#39;s pretty straightforward. There are several different ways to achieve what you want, but your question is at this point far too broad."}, {"owner": {"reputation": 877, "user_id": 1296446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b407847b9238c1a5997dbe5c99e6f8a1?s=128&d=identicon&r=PG", "display_name": "Raquel Guimar&#227;es", "link": "https://stackoverflow.com/users/1296446/raquel-guimar%c3%a3es"}, "edited": false, "score": 0, "creation_date": 1498692360, "post_id": 44813735, "comment_id": 76608659, "body": "Welcome to Stack Overflow! Please take the <a href=\"https://stackoverflow.com/tour\">tour</a>, have a look around, and read through the <a href=\"https://stackoverflow.com/help\">help center</a>, in particular <a href=\"https://stackoverflow.com/help/how-to-ask\">How do I ask a good question?</a>."}, {"owner": {"reputation": 149, "user_id": 7024532, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wY3mT.jpg?s=128&g=1", "display_name": "Kim Clarence Penaflor", "link": "https://stackoverflow.com/users/7024532/kim-clarence-penaflor"}, "edited": false, "score": 0, "creation_date": 1498692479, "post_id": 44813735, "comment_id": 76608685, "body": "Have you tried PyCurl? Curl library for python. <a href=\"http://pycurl.io/docs/latest/\" rel=\"nofollow noreferrer\">pycurl.io/docs/latest</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 4367616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54b81d3f9a25efe4029d4330014e774e?s=128&d=identicon&r=PG&f=1", "display_name": "flyboy", "link": "https://stackoverflow.com/users/4367616/flyboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1498691248, "creation_date": 1498691248, "answer_id": 44813897, "question_id": 44813735, "link": "https://stackoverflow.com/questions/44813735/curl-commands-in-python-program/44813897#44813897", "title": "Curl commands in python program", "body": "<p>I have done this sort of thing with python.  Look at the standard packaged urllib2.\nI have used this to extract rates from the Eurapean Central Bank:</p>\n\n<p>import urllib2\nresponse = urllib2.urlopen(\"<a href=\"http://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml\" rel=\"nofollow noreferrer\">http://www.ecb.europa.eu/stats/eurofxref/eurofxref-daily.xml</a>\")</p>\n\n<p>Response now contains an the xml response returned from the ECB.<br>\nOther useful modules are urlparse, xml.dom and elementree for xml processing.</p>\n"}, {"tags": [], "owner": {"reputation": 1798, "user_id": 2280890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e409f9d13ce2d82edcb84b3f9cfb879?s=128&d=identicon&r=PG", "display_name": "import random", "link": "https://stackoverflow.com/users/2280890/import-random"}, "is_accepted": false, "score": 0, "last_activity_date": 1498691741, "creation_date": 1498691741, "answer_id": 44813972, "question_id": 44813735, "link": "https://stackoverflow.com/questions/44813735/curl-commands-in-python-program/44813972#44813972", "title": "Curl commands in python program", "body": "<p>I also recommend using <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow noreferrer\">Requests</a>.</p>\n\n<p>But if you have working curl commands and you want to access their output for further processing you can use <code>subprocess</code>, e.g.</p>\n\n<pre><code>import subprocess\ncurl_cmd = \"...\"\noutput = subprocess.check_output(curl_cmd)\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 8228777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd16011f9cf410f2dd4f645ea06c06fd?s=128&d=identicon&r=PG&f=1", "display_name": "Basu", "link": "https://stackoverflow.com/users/8228777/basu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498704241, "creation_date": 1498690153, "last_edit_date": 1498704241, "question_id": 44813735, "link": "https://stackoverflow.com/questions/44813735/curl-commands-in-python-program", "title": "Curl commands in python program", "body": "<p>I need to make the following curl command within a python program. This trains a classifier. </p>\n\n<blockquote>\n  <p>curl -i --user \"{username}\":\"{password}\" -F training_data=@{path_to_file}/weather_data_train.csv -F training_metadata=\"{\\\"language\\\":\\\"en\\\",\\\"name\\\":\\\"TutorialClassifier\\\"}\" \"<a href=\"https://gateway.watsonplatform.net/natural-language-classifier/api/v1/classifiers\" rel=\"nofollow noreferrer\">https://gateway.watsonplatform.net/natural-language-classifier/api/v1/classifiers</a>\"</p>\n</blockquote>\n\n<p>After that, I need my program to make another curl command which queries the previously trained classifier. This query returns some results that I need my program to be able to access and use</p>\n\n<blockquote>\n  <p>curl --user \"{username}\":\"{password}\" \"<a href=\"https://gateway.watsonplatform.net/natural-language-classifier/api/v1/classifiers/\" rel=\"nofollow noreferrer\">https://gateway.watsonplatform.net/natural-language-classifier/api/v1/classifiers/</a>{classifier_id}\"</p>\n</blockquote>\n\n<p>Just entering these commands manually in the terminal works but I need to automate the process using a python or java program .\nThanks for any help!</p>\n"}, {"tags": ["python", "networking", "dependencies"], "answers": [{"comments": [{"owner": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498753155, "post_id": 44813734, "comment_id": 76641126, "body": "but this is the server not the client. I need it to listen for connections not look for them. my problem is that i cant get anything else to run unless there is a connection."}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "reply_to_user": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498754856, "post_id": 44813734, "comment_id": 76642046, "body": "a server without internet connection is not a server. a server answers requests."}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "reply_to_user": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498754878, "post_id": 44813734, "comment_id": 76642056, "body": "so what is your &#39;server&#39; doing when it is not connected?"}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "reply_to_user": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498755028, "post_id": 44813734, "comment_id": 76642126, "body": "I guess you question is not clear: you are doing work when you receive a request (i.e. a client connects) but you want to run a &#39;job&#39; every so often no matter if there are client connecting?"}, {"owner": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498756558, "post_id": 44813734, "comment_id": 76643015, "body": "its more i want to run a job continuously whether there is a client or not and if there is a client then i want to do an additional job. sorry for not being clear."}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "reply_to_user": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498757744, "post_id": 44813734, "comment_id": 76643708, "body": "what does running the job continuously involve? ou must have input and output, so what input is changing that you need to re-run the job?  I&#39;d look at worker threads like  <a href=\"https://www.troyfawkes.com/learn-python-multithreading-queues-basics/\" rel=\"nofollow noreferrer\">troyfawkes.com/learn-python-multithreading-queues-basics</a> to run background jobs."}, {"owner": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498758691, "post_id": 44813734, "comment_id": 76644282, "body": "I&#39;m reading data from a temperature sensor, receiving input from a keypad and controlling a solid state relay based on those inputs."}, {"owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "reply_to_user": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498759373, "post_id": 44813734, "comment_id": 76644631, "body": "so, i think you need to separate concerns here, and have your process run, looking for the inputs your read (keypad, sensors etc...) and do whatever it needs to do. Then have a server receive requests, and the server can look up the data to do something with the request data and the process data. The process data could be in a file locally, or a database (like SQLLite) so the server can look it up easily."}, {"owner": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "edited": false, "score": 0, "creation_date": 1498759545, "post_id": 44813734, "comment_id": 76644739, "body": "so 2 separate programs running at the same time?"}], "tags": [], "owner": {"reputation": 14729, "user_id": 2494262, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/4a9b1f56d8fca99b42c3cf56affb943b?s=128&d=identicon&r=PG", "display_name": "MrE", "link": "https://stackoverflow.com/users/2494262/mre"}, "is_accepted": true, "score": 0, "last_activity_date": 1498690146, "creation_date": 1498690146, "answer_id": 44813734, "question_id": 44813676, "link": "https://stackoverflow.com/questions/44813676/python-run-certain-functions-with-or-without-a-client-connection/44813734#44813734", "title": "Python run certain functions with or without a client connection", "body": "<p>Try to connect, and if it fails after n retries, consider you don't have a connection.</p>\n\n<p>There are many strategies to setup retries, so search about it to figure what is best for you.</p>\n\n<p>Then if you can't connect, just keep going on after the failure...</p>\n\n<p>That's about it.</p>\n"}], "owner": {"reputation": 129, "user_id": 5196058, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/73c725cc50afef8cc52aa72512b185f2?s=128&d=identicon&r=PG&f=1", "display_name": "drako234", "link": "https://stackoverflow.com/users/5196058/drako234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 44813734, "answer_count": 1, "score": 0, "last_activity_date": 1498690146, "creation_date": 1498689809, "question_id": 44813676, "link": "https://stackoverflow.com/questions/44813676/python-run-certain-functions-with-or-without-a-client-connection", "title": "Python run certain functions with or without a client connection", "body": "<p>I have a python program that handles sensor data. Most of the functionality takes place locally and requires no network connection. The one thing i want it to do with a client is send a continuous stream of data IF a client is connected but for everything else to run regardless of weather there is a connected client or not. The only setups I've managed before all required a client to connect before anything else could happen. </p>\n\n<p>How do I set this up so my program doesn't depend on first having a client connected before it does anything??</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "keras"], "answers": [{"comments": [{"owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "edited": false, "score": 0, "creation_date": 1498775885, "post_id": 44817995, "comment_id": 76652613, "body": "Yeah I figured that out just a while back. Thanks. However using kernel_regularizer just spoils my learning capability of neural network."}], "tags": [], "owner": {"reputation": 427, "user_id": 1239662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5eec3fe29453a83ff941232bf486233?s=128&d=identicon&r=PG", "display_name": "An Ph&#250;", "link": "https://stackoverflow.com/users/1239662/an-ph%c3%ba"}, "is_accepted": true, "score": 10, "last_activity_date": 1498718326, "creation_date": 1498718326, "answer_id": 44817995, "question_id": 44813662, "link": "https://stackoverflow.com/questions/44813662/keras-unexpected-kernel-regularizer-error/44817995#44817995", "title": "Keras Unexpected Kernel Regularizer Error", "body": "<p>Try this:</p>\n\n<pre><code> self.model.add(Dense(32, activation='relu', input_dim=self.x_train_std.shape[1], kernel_regularizer=regularizers.l2(0.01)))\n</code></pre>\n\n<p>kernel_regularizer is a param of Dense, not the add function</p>\n"}], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5610, "favorite_count": 0, "accepted_answer_id": 44817995, "answer_count": 1, "score": 3, "last_activity_date": 1498718326, "creation_date": 1498689709, "question_id": 44813662, "link": "https://stackoverflow.com/questions/44813662/keras-unexpected-kernel-regularizer-error", "title": "Keras Unexpected Kernel Regularizer Error", "body": "<p>I am trying to use Kernel Regularizer which is the normal regularization on weights in machine learning. </p>\n\n<p>Here is the code I have: </p>\n\n<pre><code> def model_param(self): \n        \"\"\" Method to do deep learning\n\n        \"\"\"\n\n        from keras.models import Sequential\n        from keras.layers import Dense, Dropout, Activation\n        from keras.optimizers import SGD\n        from keras import regularizers\n\n        self.model = Sequential()\n        # Dense(64) is a fully-connected layer with 64 hidden units.\n        # in the first layer, you must specify the expected input data shape:\n        # here, 20-dimensional vectors.\n        self.model.add(Dense(32, activation='relu', input_dim=self.x_train_std.shape[1]),\\\n                       kernel_regularizer=regularizers.l2(0.01))\n        self.model.add(Dropout(0.5))\n        #self.model.add(Dense(60, activation='relu'))\n        #self.model.add(Dropout(0.5))\n        self.model.add(Dense(1, activation='sigmoid'))\n\n        sgd = SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\n        self.model.compile(loss='binary_crossentropy',\n              optimizer=sgd,\n              metrics=['accuracy'])\n</code></pre>\n\n<p>get an error below which says the keyword argument not recognized.</p>\n\n<pre><code>---------------------------------------------------------------------------\nTypeError                                 Traceback (most recent call last)\n&lt;ipython-input-225-3cf87672aeed&gt; in &lt;module&gt;()\n----&gt; 1 dl_2.model_param()\n\n&lt;ipython-input-223-08450db8ff4d&gt; in model_param(self)\n     65         # in the first layer, you must specify the expected input data shape:\n     66         # here, 20-dimensional vectors.\n---&gt; 67         self.model.add(Dense(32, activation='relu', input_dim=self.x_train_std.shape[1]),                       kernel_regularizer=regularizers.l2(0.01))\n     68         self.model.add(Dropout(0.5))\n     69         #self.model.add(Dense(60, activation='relu'))\n\nTypeError: add() got an unexpected keyword argument 'kernel_regularizer'\n</code></pre>\n"}, {"tags": ["python", "user-interface", "gtk3", "python-multithreading"], "comments": [{"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498690693, "post_id": 44813661, "comment_id": 76608221, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21150914/python-gtk-3-safe-threading\">Python GTK+ 3 Safe Threading</a>"}, {"owner": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498690786, "post_id": 44813661, "comment_id": 76608244, "body": "Don&#39;t do Gtk stuff in a thread. Gtk is not thread safe. Use <code>idle_add</code> or <code>timeout_add</code> as seen in the linked question above."}, {"owner": {"reputation": 34, "user_id": 7915096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec266a5b1700554b47bc49780052928?s=128&d=identicon&r=PG", "display_name": "user39269", "link": "https://stackoverflow.com/users/7915096/user39269"}, "reply_to_user": {"reputation": 30485, "user_id": 1222951, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/s64JD.png?s=128&g=1", "display_name": "Aran-Fey", "link": "https://stackoverflow.com/users/1222951/aran-fey"}, "edited": false, "score": 0, "creation_date": 1498746206, "post_id": 44813661, "comment_id": 76635929, "body": "Call the dialog message inside  GLib.idle_add fix the problem, so this line look is this way: GLib.idle_add(self.Mensage_Falla,&quot;final&quot;). Now I&#39;ll try to add a input message box and see the results."}], "owner": {"reputation": 34, "user_id": 7915096, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ec266a5b1700554b47bc49780052928?s=128&d=identicon&r=PG", "display_name": "user39269", "link": "https://stackoverflow.com/users/7915096/user39269"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 380, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498838201, "creation_date": 1498689707, "last_edit_date": 1498838201, "question_id": 44813661, "link": "https://stackoverflow.com/questions/44813661/call-message-dialog-inside-a-thread-python-gtk3", "title": "Call message dialog inside a thread (python + gtk3)", "body": "<p>I tried to call a message dialog inside a thread (use python3 and gtk3), in the next example when I pressed the button the label start to change the text every 1 seconds, this part work fine, the problem appear when I uncomment the line self.Mensage_Falla(\"final\"), the application close for itself, here is the code to see if somebody can show me the light:</p>\n\n<pre><code>import threading\nimport time\nimport serial\nimport gi\ngi.require_version('Gtk', '3.0')\nfrom gi.repository import Gtk, Gdk, Pango, GLib, GdkPixbuf, GObject\n\nclass GridWindow(Gtk.Window):\n    def __init__(self):\n        Gtk.Window.__init__(self, title=\"TEST\")\n        self.set_border_width(15)\n        self.grid = Gtk.Grid()\n        self.grid.set_column_spacing(25)\n        self.grid.set_row_spacing(25)\n        self.add(self.grid)\n\n        self.label1 = Gtk.Label(\"NUMERO DE SERIE\")\n        self.txtSerialNumber = Gtk.Entry()\n\n        btnStartTest=Gtk.Button(\"Iniciar Prueba\")\n        btnStartTest.connect(\"clicked\",self.StartTest_Tread)\n\n        self.grid.add(self.label1)\n        self.grid.attach(btnStartTest, 0, 1, 1, 1)\n\n    def StartTest_Tread(self,widget):\n        self.thread = threading.Thread(target=self.StartTest)\n        self.thread.daemon = True\n        self.thread.start()\n\n    def StartTest(self):\n        self.label1.set_text(\"xxxx\")\n        time.sleep(1)\n        self.label1.set_text(\"yyyy\")\n        time.sleep(1)\n        self.label1.set_text(\"zzzz\")\n        time.sleep(1)\n        self.label1.set_text(\"aaaa\")\n        self.Mensage_Falla(\"final\")\n\n\n    def Mensage_Falla(self, UUT_Failure):\n        dialog = Gtk.MessageDialog(self, 0, Gtk.MessageType.INFO,\n            Gtk.ButtonsType.OK, \"UUT\")\n        dialog.format_secondary_text(\n            \"LA UUT A FALLADO LA PRUEBA \" + UUT_Failure)\n        dialog.run()\n        dialog.destroy() \n        print(\"fALLA\")\n\n\n\ntry:\n    GObject.threads_init()\n    win = GridWindow()\n    win.set_position(Gtk.WindowPosition.CENTER)\n    win.set_default_size(100,100)\n    win.set_type_hint(Gdk.WindowTypeHint.MENU)\n    win.connect(\"delete-event\", Gtk.main_quit)\n    win.show_all()\n    Gtk.main()\nexcept ValueError as Argument:\n    print (\"The argument does not contain numbers\\n\", Argument)\n    print(\"error \" + str(Exception.args))\n    time.sleep(30)\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "kivy"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8228607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc47ecb341aea968c73c7d2ef404fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Masters Kr&#243;l", "link": "https://stackoverflow.com/users/8228607/masters-kr%c3%b3l"}, "edited": false, "score": 0, "creation_date": 1498696425, "post_id": 44814359, "comment_id": 76609616, "body": "In button / sliders how do i reference methods? I have all the class in control_serv.py file. In kv I have in slider Value: control_serv.get_val_3 () but I see AttributeError: &#39;GridLayout&#39; object has no attribute &#39;get_val_3&#39;"}], "tags": [], "owner": {"reputation": 3198, "user_id": 7131499, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/934Lz.png?s=128&g=1", "display_name": "FJSevilla", "link": "https://stackoverflow.com/users/7131499/fjsevilla"}, "is_accepted": true, "score": 1, "last_activity_date": 1498694750, "creation_date": 1498694750, "answer_id": 44814359, "question_id": 44813651, "link": "https://stackoverflow.com/questions/44813651/python-kivy-two-gridlayouts-and-screen-menager/44814359#44814359", "title": "Python kivy two GridLayouts and Screen Menager", "body": "<p><code>ScreenManager</code> accepts only <code>Screen</code> widgets. <code>FirstScreen</code> and <code>SecondScreen</code> have to be <code>Screen</code> instances, they can not be <code>GridLayouts</code>. Inside <code>FirstScreen</code> and <code>SecondScreen</code> is where you should create the GridLayouts.</p>\n\n<p>On the other hand, <code>ScreenManager.current</code> attribute is the <strong>name</strong> of the screen currently shown. You need to set <strong>name</strong> attribute in your windows.</p>\n\n<p>Example based on your code:</p>\n\n<pre><code>from kivy.app import App\nfrom kivy.lang import Builder\nfrom kivy.uix.screenmanager import ScreenManager, Screen\n\nkv_text = \"\"\"\\\n#:import WipeTransition kivy.uix.screenmanager.WipeTransition\n&lt;MainScreen&gt;:\n    transition: WipeTransition()\n    id: sm\n    FirstScreen:\n    SecondScreen:\n\n&lt;FirstScreen&gt;:\n    name: \"first_screen\"\n    GridLayout:\n        id: sterowanie_serv\n        rows: 10\n        padding: 10\n        spacing: 10\n        BoxLayout:\n            spacing: 20\n            Button:\n                text:'1'\n                on_press: print(app.root)\n            Button:\n                text:'x'\n                on_press: print('Button X')\n            Button:\n                text:'go to Second screen'\n                on_press: app.root.current = 'second_screen'\n\n&lt;SecondScreen&gt;:\n    name: \"second_screen\"\n    GridLayout:\n        id: Przemo\n        rows: 5\n        padding: 10\n        spacing: 10\n        BoxLayout:\n            spacing: 20\n            Button:\n                text:'1'\n                on_press: print('Button 1')\n            Button:\n                text:'x2'\n                on_press: print('Button X2')\n            Button:\n                text:'go to First screen'\n                on_press: app.root.current = 'first_screen'\n\"\"\"\n\nclass MainScreen(ScreenManager):\n    def __init__(self):\n        super(MainScreen, self).__init__()\n\nclass FirstScreen(Screen):\n    #some methods\n    pass\n\nclass SecondScreen(Screen):\n    #some methods\n    pass\n\nclass MyKivyApp(App):\n    def build(self):\n        return MainScreen()\n\ndef main():\n    Builder.load_string(kv_text)\n    app = MyKivyApp()\n    app.run()\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n\n<p>Running example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/46Pl7.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/46Pl7.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 13, "user_id": 8228607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dc47ecb341aea968c73c7d2ef404fdc?s=128&d=identicon&r=PG&f=1", "display_name": "Masters Kr&#243;l", "link": "https://stackoverflow.com/users/8228607/masters-kr%c3%b3l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 367, "favorite_count": 0, "accepted_answer_id": 44814359, "answer_count": 1, "score": 1, "last_activity_date": 1498694750, "creation_date": 1498689662, "last_edit_date": 1498690799, "question_id": 44813651, "link": "https://stackoverflow.com/questions/44813651/python-kivy-two-gridlayouts-and-screen-menager", "title": "Python kivy two GridLayouts and Screen Menager", "body": "<p>I have two apps in kivy. \nBoth were based on GridLayout\nI found a similar problem but I do not understand: <a href=\"https://stackoverflow.com/questions/18937360/associating-screens-with-gridlayout-classes-in-kivy?rq=1\">Associating Screens with GridLayout classes in kivy</a></p>\n\n<p>In <strong>.py</strong>:</p>\n\n<pre><code>import kivy\nkivy.require(\"1.9.0\")\nfrom kivy.uix.label import Label\nfrom kivy.properties import ObjectProperty\nfrom kivy.app import App\nfrom kivy.uix.gridlayout import GridLayout\n\nclass FirstScreen(GridLayout):\n    #some methods\nclass SecondScreen(GridLayout):\n    #some methods\n</code></pre>\n\n<p>In <strong>.kv</strong></p>\n\n<pre><code>&lt;FirstScreen&gt;:\n    id: sterowanie_serv\n    display: entry\n    rows: 10\n    padding: 10\n    spacing: 10\n    BoxLayout:\n        spacing: 20\n        CustButton:\n            text:'1'\n            on_press: do method from second screen class\n        CustButton:\n            text:'x'\n            on_press: do method from second screen class\n        CustButton:\n            text:'go to Second screen'\n            on_press: root.manager.current = 'SecondScreen'\n\n&lt;SecondScreen&gt;:\n    id: Przemo\n    display: entry\n    rows: 5\n    padding: 10\n    spacing: 10\n    BoxLayout:\n        spacing: 20\n        CustButton:\n            text:'1'\n            on_press: do method from second screen class\n        CustButton:\n            text:'x2'\n            on_press: do method from second screen class\n        CustButton:\n            text:'go to First screen'\n            on_press: root.manager.current = 'SecondScreen'\n</code></pre>\n\n<p>How to use the screen manager to first display <em>First Screen</em> and click on the button <em>Second Screen</em> was displayed?</p>\n\n<p>In buttom will be :</p>\n\n<pre><code>on_press: \n    root.manager.current = 'SecondScreen'\n</code></pre>\n"}, {"tags": ["javascript", "python", "api", "http", "http-headers"], "owner": {"reputation": 15, "user_id": 7673014, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0aa0262049f71213f1f52d75b8f1ad81?s=128&d=identicon&r=PG&f=1", "display_name": "Benji", "link": "https://stackoverflow.com/users/7673014/benji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1498689501, "creation_date": 1498689501, "question_id": 44813622, "link": "https://stackoverflow.com/questions/44813622/scanpower-api-and-retrieving-info-from-a-websites-sources", "title": "ScanPower API and retrieving info from a website&#39;s sources", "body": "<p>I am working on a freelance application for an online retail company that makes heavy use of ScanPower, a website that aids Amazon shipping and fulfillment. I need to pull records from ScanPower's server, but I cannot find out how to access the information. The URL does not stay the same when I log in to the company's ScanPower account; the login page sends the login information to the server and changes permissions with a POST request. I am stumped on where to go from here. The website, as far as I can tell, is using AJAX to pull records from the server, but I cannot find out how to generate a link to pull information from the server myself. I am using Python urllib3 currently but have been unsuccessful so far.</p>\n\n<p>Has anyone used or familiarized themselves with the ScanPower API or does anyone have a possible solution to the problem?</p>\n"}, {"tags": ["python", "plot", "bokeh"], "comments": [{"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 1, "creation_date": 1498793316, "post_id": 44813611, "comment_id": 76656677, "body": "Now that <code>Scale</code> is a public model instead of hidden implementation details, this is much more reasonable to contemplate. Please feel free to open a GitHub issue to discuss it <a href=\"https://github.com/bokeh/bokeh/issues\" rel=\"nofollow noreferrer\">github.com/bokeh/bokeh/issues</a> Until then, the answer below is probably the best workaround."}, {"owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "reply_to_user": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 1, "creation_date": 1499113613, "post_id": 44813611, "comment_id": 76764863, "body": "@bigreddot Started it <a href=\"https://github.com/bokeh/bokeh/issues/6575\" rel=\"nofollow noreferrer\">here</a> if you&#39;re interested"}, {"owner": {"reputation": 29976, "user_id": 3406693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gwfWQ.png?s=128&g=1", "display_name": "bigreddot", "link": "https://stackoverflow.com/users/3406693/bigreddot"}, "edited": false, "score": 0, "creation_date": 1499114579, "post_id": 44813611, "comment_id": 76765249, "body": "Yup, I&#39;ve been commenting on it :)"}], "answers": [{"comments": [{"owner": {"reputation": 2577, "user_id": 6256241, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/jYK1y.jpg?s=128&g=1", "display_name": "Qaswed", "link": "https://stackoverflow.com/users/6256241/qaswed"}, "edited": false, "score": 0, "creation_date": 1583245957, "post_id": 44830520, "comment_id": 107046147, "body": "I store 9 figures for a <code>gridplot</code> in a dictionary (so I can iterate over it when e.g. the data or title should change). With the current solution I would need to rewrite the code in many occurences since an additional layer in my dictionary (or a second dictionary) for log/linear would be needed, or do you see an easy solution for this when using Panel and Tabs?"}], "tags": [], "owner": {"reputation": 1964, "user_id": 4962195, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QZJH7.jpg?s=128&g=1", "display_name": "Luke Canavan", "link": "https://stackoverflow.com/users/4962195/luke-canavan"}, "is_accepted": true, "score": 1, "last_activity_date": 1498753558, "creation_date": 1498753558, "answer_id": 44830520, "question_id": 44813611, "link": "https://stackoverflow.com/questions/44813611/toggle-between-linear-and-log-scale-in-bokeh/44830520#44830520", "title": "Toggle between linear and log scale in bokeh", "body": "<p>One potential solution is the put both linear and log plots into Tabs like:</p>\n\n<pre><code>from bokeh.plotting import figure, show\nfrom bokeh.models.widgets import Tabs, Panel\n\npanels = []\n\nfor axis_type in [\"linear\", \"log\"]:\n    fig = figure(x_axis_type=axis_type, y_axis_type=axis_type)\n    fig.scatter(x=[1,10,100,1000], y=[1,10,100,1000])\n\n    panel = Panel(child=fig, title=axis_type)\n    panels.append(panel)\n\ntabs = Tabs(tabs=panels)\n\nshow(tabs)\n</code></pre>\n\n<p>Alternatively, you wire up a <code>bokeh.models.widgets.Button</code> with a CustomJS callback that changes the plot ranges, but the above seems a little easier to me.</p>\n"}], "owner": {"reputation": 2858, "user_id": 4506929, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/20ee736213f0fcf408fd50895e9b6a01?s=128&d=identicon&r=PG&f=1", "display_name": "TomCho", "link": "https://stackoverflow.com/users/4506929/tomcho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1286, "favorite_count": 0, "accepted_answer_id": 44830520, "answer_count": 1, "score": 3, "last_activity_date": 1498753558, "creation_date": 1498689447, "question_id": 44813611, "link": "https://stackoverflow.com/questions/44813611/toggle-between-linear-and-log-scale-in-bokeh", "title": "Toggle between linear and log scale in bokeh", "body": "<p>How can I re-generate <a href=\"http://bokeh.pydata.org/en/latest/docs/gallery/logaxis.html\" rel=\"nofollow noreferrer\">this example</a> toggling between linear and log scales?</p>\n\n<p>Background: I'm a long-time Matplotlib user, recent Bokeh user. \nOne of the main reasons I have started using Bokeh is because of the interactiveness it provides. A big part of it would be the ability to toggle between linear and log scales in plots (which is something I really need in my daily life). This question was adressed <a href=\"https://github.com/bokeh/bokeh/issues/2765\" rel=\"nofollow noreferrer\">here</a> in 2015 and at the time there was no clear answer.</p>\n\n<p>However, it's 2 years later and I'm wondering if there's a way to include a button/widget to change from linear to log scale for both the x and the y axes. If there isn't, I'm certain that there is a clean way to simulate that behavior in some way (without having two plots side-by-side).</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 39095, "user_id": 398060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/47073e025b05ee4d61d720f6424d0191?s=128&d=identicon&r=PG", "display_name": "GWW", "link": "https://stackoverflow.com/users/398060/gww"}, "is_accepted": true, "score": 40, "last_activity_date": 1567925832, "last_edit_date": 1567925832, "creation_date": 1498690468, "answer_id": 44813790, "question_id": 44813601, "link": "https://stackoverflow.com/questions/44813601/how-to-set-x-axis-values-in-matplotlib-python/44813790#44813790", "title": "How to set x axis values in matplotlib python?", "body": "<p>The scaling on your example figure is a bit strange but you can force it by plotting the index of each x-value and then setting the ticks to the data points:</p>\n\n<pre><code>import matplotlib.pyplot as plt\nx = [0.00001,0.001,0.01,0.1,0.5,1,5]\n# create an index for each tick position\nxi = list(range(len(x)))\ny = [0.945,0.885,0.893,0.9,0.996,1.25,1.19]\nplt.ylim(0.8,1.4)\n# plot the index for the x-values\nplt.plot(xi, y, marker='o', linestyle='--', color='r', label='Square') \nplt.xlabel('x')\nplt.ylabel('y') \nplt.xticks(xi, x)\nplt.title('compare')\nplt.legend() \nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 1284, "user_id": 8228723, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/e057a51b318e376cb46a568e15a0f5b3?s=128&d=identicon&r=PG&f=1", "display_name": "neha", "link": "https://stackoverflow.com/users/8228723/neha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182423, "favorite_count": 2, "accepted_answer_id": 44813790, "answer_count": 1, "score": 25, "last_activity_date": 1567925832, "creation_date": 1498689396, "last_edit_date": 1498691706, "question_id": 44813601, "link": "https://stackoverflow.com/questions/44813601/how-to-set-x-axis-values-in-matplotlib-python", "title": "How to set x axis values in matplotlib python?", "body": "<p><img src=\"https://i.stack.imgur.com/fmEQH.png\" alt=\"Graph\">  </p>\n\n<p>I want to draw this graph using matplotlib. I wrote the code but it's not changing the x axis values.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nx = [0.00001,0.001,0.01,0.1,0.5,1,5]\ny = [0.945,0.885,0.893,0.9,0.996,1.25,1.19]\nplt.xlim(0.00001,5)\nplt.ylim(0.8,1.4)\nplt.plot(x, y, marker='o', linestyle='--', color='r', \nlabel='Square') \nplt.xlabel('x')\nplt.ylabel('y') \nplt.title('compare')\nplt.legend() \nplt.show()\n</code></pre>\n\n<p>How I can draw the blue line of the given graph using matplotlib?</p>\n"}, {"tags": ["python", "multithreading", "python-2.7"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1498691583, "post_id": 44813564, "comment_id": 76608432, "body": "First, the indenting is wrong (the code wouldn&#39;t run). Second, you start the thread and immediately after, you try to get data. Reading from file (hdd access) takes much more time compared to other operations (e.g. that only involve memory). You have to <i>wait</i> for the data to become available <b>after</b> starting the thread: <code>fb.join()</code> (<a href=\"https://docs.python.org/3/library/threading.html#threading.Thread.join\" rel=\"nofollow noreferrer\">&#91;Python&#93;: Thread.join</a>). But in this example, I fail to see the necessity of threads."}, {"owner": {"reputation": 25, "user_id": 6941474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1a69ba2831359fab7a9f5d9247eac2?s=128&d=identicon&r=PG&f=1", "display_name": "rahul kadam", "link": "https://stackoverflow.com/users/6941474/rahul-kadam"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1498692274, "post_id": 44813564, "comment_id": 76608631, "body": "so only after calling the join() , the dictionary data can be accessed ?? Is their any way to access the dictionary while the run() thread is executing infinitely ?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1498692849, "post_id": 44813564, "comment_id": 76608783, "body": "Since <code>fb.start()</code>, the thread opens the file and starts reading from it. The problem is that till you call <code>fb.get_packet(2)</code>, it didn&#39;t manage to read anything (for the reason that I stated in the previous comment). You could add between the two, a <code>time.sleep(0.01)</code> (play with the value a little bit to see when it makes a difference). <code>run</code> method does <b>not</b> run infinitely, only til it completes reading the file, then the thread &quot;dies&quot;. You can add <code>print</code> statements at <code>run</code>&#39;s begin and end, and also in the main thread, to see how they &quot;interact&quot;."}, {"owner": {"reputation": 25, "user_id": 6941474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1a69ba2831359fab7a9f5d9247eac2?s=128&d=identicon&r=PG&f=1", "display_name": "rahul kadam", "link": "https://stackoverflow.com/users/6941474/rahul-kadam"}, "reply_to_user": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1498751576, "post_id": 44813564, "comment_id": 76640098, "body": "actually their is another code which keeps pushing data into the file(TCP/IP Packets to be exact) which will keep on pushing data infinitely and so the file read will go on infinitely.  So when this file read and storing data into the dict is going on, i want to access the dict to get its elements. So i need to access the dict before join(). Any way to do that ?"}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1498754228, "post_id": 44813564, "comment_id": 76641698, "body": "The thread won&#39;t run infinitely as at some point you&#39;ll run out of disk space (although running out of memory will happen much sooner as all the file contents is also stored there - in the dict). You can only access the data that was already &quot;written&quot; in the dict, you can check that with <code>len_dict</code>. Calling the function multiple times, with <code>time.sleep</code> statements in between, will yield different results (the number returned will be bigger with every call)."}], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 6941474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1a69ba2831359fab7a9f5d9247eac2?s=128&d=identicon&r=PG&f=1", "display_name": "rahul kadam", "link": "https://stackoverflow.com/users/6941474/rahul-kadam"}, "edited": false, "score": 0, "creation_date": 1498752024, "post_id": 44815642, "comment_id": 76640443, "body": "actually their is another code which keeps pushing data into the fifo file(TCP/IP Packets to be exact) which will keep on pushing data infinitely and so the file read will go on infinitely. So when this file read and storing data into the dict is going on, i want to access the dict to get its elements. So i need to access the dict before join(). Any way to do that ? The code works when their is finite data inside the fifo file but not when the file read occurs infinitely."}], "tags": [], "owner": {"reputation": 89, "user_id": 3374961, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gufYS.jpg?s=128&g=1", "display_name": "Xiaowei Liu", "link": "https://stackoverflow.com/users/3374961/xiaowei-liu"}, "is_accepted": false, "score": 0, "last_activity_date": 1498705268, "last_edit_date": 1498705268, "creation_date": 1498704942, "answer_id": 44815642, "question_id": 44813564, "link": "https://stackoverflow.com/questions/44813564/python-multithreading-issue/44815642#44815642", "title": "Python multithreading issue", "body": "<p>I think the problem might be that you did not figure out how multiple threads work. <strong>After calling <code>fb.start()</code>, two threads(the main thread and the <code>run()</code> thread which read from fifo file and store data into a dictionary) work concurrently.</strong>  </p>\n\n<p>The KeyError you got while calling <code>print \"get_packet(2): \" + fb.get_packet(2)</code> is because when the main thread called <code>get_packet(2)</code>, the <code>run()</code> thread has not append data into the dictionary yet.  </p>\n\n<blockquote>\n  <p>so only after calling the join() , the dictionary data can be accessed ?? </p>\n</blockquote>\n\n<p>Not exactly. Please continue reading.</p>\n\n<blockquote>\n  <p>Is their any way to access the dictionary while the run() thread is executing infinitely ? </p>\n</blockquote>\n\n<p>You could process/access the dictionary in <strong><code>run() thread</code></strong> while <code>run() thread</code> is executing, but obviously this dictionary changes over time, and you could only access the lines that <code>run() thread</code> has already processed. You could also process/access the dictionary in <strong>main thread</strong> while <code>run() thread</code> is executing, but as I said before, the <code>run() thread</code> might have not appended data into the dictionary(you could only access the lines that <code>run() thread</code> has already processed as well). </p>\n\n<p>I have tested the code, added a new method and made some modifications. It worked well. The modified code is as follows.</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport os\nimport sys\nimport threading\n\nclass fifo_buffer(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.dict_buffer = {}\n\n    def run(self):\n        print(\"run() starts.\")\n        path = \"./sample.fifo\"\n        fifo = open(path, \"r\")\n        count = 0\n        for line in fifo:\n            count = count + 1\n            self.dict_buffer[count] = line\n            print(\"in for expression: before show_dict()\")\n            self.show_dict()    # you could process dict_buffer here, but obviously this dict changes over time, and you could only access the lines that run() thread has already processed.\n            #print str(count) + \" -&gt; \" + self.dict_buffer[count]\n        fifo.close()\n        print(\"run() completes.\")\n\n    def get_packet(self, index):\n        return self.dict_buffer[index]\n\n    def len_dict(self):\n        print(\"Length dict: \" + str(len(self.dict_buffer)))\n\n    def show_dict(self):\n        print(self.dict_buffer)\n\ndef main():\n   fb = fifo_buffer()\n   fb.start()\n   # fb.join()\n   # print(\"get_packet(2): \" + fb.get_packet(2))\n   # you could process dict_buffer here, but you could only process/access the lines which run() thread has already processed.\n   fb.len_dict()\n   fb.show_dict()\n\nif __name__ == \"__main__\":\n   main()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "is_accepted": false, "score": 0, "last_activity_date": 1498792020, "last_edit_date": 1498792020, "creation_date": 1498787901, "answer_id": 44837474, "question_id": 44813564, "link": "https://stackoverflow.com/questions/44813564/python-multithreading-issue/44837474#44837474", "title": "Python multithreading issue", "body": "<p>As I stated in one of my comments, this example (especially the <code>main</code> function) does <strong>not</strong> make much sense from the multithreading's <em>PoV</em>. Here's the code \"<em>slightly</em>\"  modified:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport os\nimport sys\nimport threading\n\n\nclass FifoBufferThread(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.dict_buffer = {}\n\n    def run(self):\n        print(\"Begin inner thread run...\")\n        path = \"/media/ramdisk/sample.fifo\"\n        count = 0\n        with open(path, \"r\") as fifo:\n            for line in fifo:\n                count += 1\n                self.dict_buffer[count] = line\n                #print str(count) + \" -&gt; \" + self.dict_buffer[count]\n        print(\"End inner thread run\")\n\n    def get_packet(self, index):\n        return self.dict_buffer.get(index, None)\n\n    def get_dict_len(self):\n        return len(self.dict_buffer)\n\n    def len_dict(self):\n        print \"Length dict: \" + str(self.get_dict_len())\n\n\ndef main():\n    print(\"Main thread starting...\")\n    fbt = FifoBufferThread()\n    fbt.daemon = True\n    fbt.start()\n    user_selection = None\n    while True:\n        user_selection = raw_input(\"Press any key to continue, 'x' (lowercase) to exit: \")\n        if user_selection == \"x\":\n            print(\"Exiting at user's choice.\")\n            break\n        print(fbt.len_dict())\n        # Do whatever else you might think is necessary with the dict\n    print(\"Exiting\")\n\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n\n<p>Now, the <em>main</em> thread can be seen interacting with the inner(<code>FifoBufferThread</code>) thread.</p>\n\n<p><strong>Changes</strong>:</p>\n\n<ul>\n<li><code>main</code> function is now a loop (<strong>after</strong> starting the <code>fbt</code> thread) to better illustrate what the thread is doing in the background (and how <code>fbt</code> is affecting the main thread). It involves user interaction (a key needs to be hit), if that key is lower-case <strong>x</strong>, the program will exit.<br>\n<strong><em>Important note</em></strong>: while the program waits for user input, the inner thread <strong>will continue doing its work</strong>, so it will read lines from the file</li>\n<li><strong>!!! Important one !!!</strong>: <code>fbt.daemon = True</code>: the thread is marked as <em>daemonic</em>. As <a href=\"https://docs.python.org/3/library/threading.html#thread-objects\" rel=\"nofollow noreferrer\">[Python]: Thread objects</a> states:\n\n<blockquote>\n  <p>A thread can be flagged as a \u201cdaemon thread\u201d. The significance of this flag is that the entire Python program exits when only daemon threads are left.</p>\n</blockquote></li>\n<li><code>get_packet</code>: I modified it to use <a href=\"https://docs.python.org/3/library/stdtypes.html#dict.get\" rel=\"nofollow noreferrer\">[Python]: dict.get</a> (and return <code>None</code> instead of raising an exception and terminating the program)</li>\n<li>Added <code>get_dict_len</code> function (which is now used by <code>len_dict</code>). It's good to get data, and only then, format it for printing purposes</li>\n<li><p>I'm not sure of the reading rate from the file, or the other program's rate in terms of writing to it, nor to its initial content, but one of the following will happen (<strong>assuming</strong> that once the file is open for reading, it will \"update\" its contents as other processes write to it):</p>\n\n<ol>\n<li>Your app, will \"eat\" everything that's in the file and eventually reach <em>EOF</em>, and the the thread will stop (normal case)</li>\n<li><p>The other app that reads from <em>TCP</em>, will write fast enough (not very probable) so that your app that reads the file contents (and stores it in the dict: <strong>IN MEMORY</strong>) will eventually run out of memory</p>\n\n<p>2.1. A flavor: <em>RAM</em> won't run out, but disk (<em>/media</em>) will</p></li>\n</ol></li>\n<li>Note: there are more things that could get improved as well</li>\n</ul>\n"}], "owner": {"reputation": 25, "user_id": 6941474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1a69ba2831359fab7a9f5d9247eac2?s=128&d=identicon&r=PG&f=1", "display_name": "rahul kadam", "link": "https://stackoverflow.com/users/6941474/rahul-kadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498792020, "creation_date": 1498689161, "last_edit_date": 1498712748, "question_id": 44813564, "link": "https://stackoverflow.com/questions/44813564/python-multithreading-issue", "title": "Python multithreading issue", "body": "<p>Code:</p>\n\n<pre><code>#!/usr/bin/env python\n\nimport os\nimport sys\nimport threading\n\nclass fifo_buffer(threading.Thread):\n    def __init__(self):\n        threading.Thread.__init__(self)\n        self.dict_buffer = {}\n\n    def run(self):\n        path =  \"/media/ramdisk/sample.fifo\"\n        fifo = open(path, \"r\")\n        count = 0\n        for line in fifo:\n            count = count + 1\n            self.dict_buffer[count] = line\n            #print str(count) + \" -&gt; \" + self.dict_buffer[count]\n        fifo.close()\n\n    def get_packet(self, index):\n        return self.dict_buffer[index]\n\n    def len_dict(self):\n        print \"Length dict: \" + str(len(self.dict_buffer))\n\ndef main():\n   fb = fifo_buffer()\n   fb.start()\n   print \"get_packet(2): \" + fb.get_packet(2)   # Input Error\n   fb.len_dict()                                # Length showing zero\n\nif __name__ == \"__main__\":\n   main()\n</code></pre>\n\n<ol>\n<li><p>run function:</p>\n\n<p>I am trying to read from fifo file and storing data into a dictionary.\nThis run function will execute almost infinitely.</p></li>\n<li><p>get_packet or len_dict function:</p>\n\n<p>I am trying to get the details of the dictionary but unable to do so.</p></li>\n</ol>\n\n<p>My doubt is when run function is storing data from fifo file to dictinary, while suppose will go on infinitely, using get_packet or len_dict i want to access this dictionary data structure, but unable to access it</p>\n\n<p>I am new to threading, so any other approach is also appreciated.</p>\n"}, {"tags": ["python", "set", "truthiness"], "comments": [{"owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "edited": false, "score": 2, "creation_date": 1498689336, "post_id": 44813375, "comment_id": 76607851, "body": "same behavior for any iterable ? i.e. with dict.items()"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 5, "creation_date": 1498689373, "post_id": 44813375, "comment_id": 76607860, "body": "It almost certainly is a mistaken omission: the <code>set</code> built-in type came relatively late to the game (version 2.2 or 2.3). They likely never updated the docs here to add <code>or an empty set</code>"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498689548, "post_id": 44813375, "comment_id": 76607912, "body": "@juanpa.arrivillaga But doesn&#39;t the same apply to <code>dict</code>s as well? It&#39;s been around pretty much since the beginning, but was omitted."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "edited": false, "score": 0, "creation_date": 1498689616, "post_id": 44813375, "comment_id": 76607935, "body": "@ChristianDean I believe <code>dict</code> was addressed here: &quot;any empty mapping, for example {}&quot;"}, {"owner": {"reputation": 19411, "user_id": 6640099, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/tf1sO.jpg?s=128&g=1", "display_name": "Christian Dean", "link": "https://stackoverflow.com/users/6640099/christian-dean"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498689664, "post_id": 44813375, "comment_id": 76607948, "body": "@juanpa.arrivillaga Oh, Ok. I guess your right."}, {"owner": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 0, "creation_date": 1498728454, "post_id": 44813375, "comment_id": 76622528, "body": "Question solved, but someone should file a documentation bug <a href=\"http://bugs.python.org/\" rel=\"nofollow noreferrer\">bugs.python.org</a>"}, {"owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "reply_to_user": {"reputation": 30387, "user_id": 6260170, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/0caf9a0d28be362618ffc0223b301d6e?s=128&d=identicon&r=PG&f=1", "display_name": "Chris_Rands", "link": "https://stackoverflow.com/users/6260170/chris-rands"}, "edited": false, "score": 1, "creation_date": 1498743467, "post_id": 44813375, "comment_id": 76633657, "body": "@Chris_Rands I created an issue on the Python bug tracker, see <a href=\"https://bugs.python.org/issue30803\" rel=\"nofollow noreferrer\">bugs.python.org/issue30803</a>"}, {"owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "edited": false, "score": 0, "creation_date": 1501429604, "post_id": 44813375, "comment_id": 77763711, "body": "the fix was merged."}], "answers": [{"comments": [{"owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "edited": false, "score": 7, "creation_date": 1498689287, "post_id": 44813565, "comment_id": 76607830, "body": "Slightly aside -- is the Python language actually defined by the documentation, or by the reference implementation?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "edited": false, "score": 6, "creation_date": 1498689487, "post_id": 44813565, "comment_id": 76607899, "body": "@peterthomassen: There&#39;s barely anything that can be considered a spec, really. It&#39;s not like C or C++, with a standards body and a mostly-thorough official standard. The docs are often incomplete, and the exact behavior of the interpreter isn&#39;t normative for other implementations."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1498689920, "post_id": 44813565, "comment_id": 76608025, "body": "Note that the presence of <code>tp_as_sequence</code> doesn&#39;t mean an object is a sequence and the presence of <code>tp_as_mapping</code> doesn&#39;t mean an object is a mapping. The language has evolved since those members were designed and named."}, {"owner": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1498700311, "post_id": 44813565, "comment_id": 76610443, "body": "Where in the above is the <code>__nonzero__</code> (or <code>__bool__</code> in python 3) taken into account?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 4, "creation_date": 1498700655, "post_id": 44813565, "comment_id": 76610520, "body": "@shadow: Python-level <code>__bool__</code> corresponds to the <code>v-&gt;ob_type-&gt;tp_as_number-&gt;nb_bool</code> part, which is the C-level counterpart. Depending on whether the type is written in C or Python, either <code>__bool__</code> or <code>nb_bool</code> will be a wrapper for the other."}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 6861, "user_id": 1594286, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c31013ccab64b0efbc9b18236d80ac1?s=128&d=identicon&r=PG", "display_name": "Shadow", "link": "https://stackoverflow.com/users/1594286/shadow"}, "edited": false, "score": 0, "creation_date": 1498700863, "post_id": 44813565, "comment_id": 76610576, "body": "@shadow, It&#39;s actually not considered. Builtin types differ from user-defined types.  <a href=\"https://github.com/python/cpython/blob/4e624ca50a665d7e4d527ab98932347ff43a19b0/Objects/typeobject.c#L6083\" rel=\"nofollow noreferrer\">github.com/python/cpython/blob/&hellip;</a>"}, {"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498700900, "post_id": 44813565, "comment_id": 76610582, "body": "@user2357112 Beating me to the punch again."}, {"owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "edited": false, "score": 2, "creation_date": 1498743446, "post_id": 44813565, "comment_id": 76633638, "body": "@AlexanderHuszagh I raised this on the Python bug tracker, see <a href=\"https://bugs.python.org/issue30803\" rel=\"nofollow noreferrer\">bugs.python.org/issue30803</a>"}], "tags": [], "owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "is_accepted": true, "score": 30, "last_activity_date": 1498690142, "last_edit_date": 1498690142, "creation_date": 1498689175, "answer_id": 44813565, "question_id": 44813375, "link": "https://stackoverflow.com/questions/44813375/truth-value-of-empty-set/44813565#44813565", "title": "Truth value of empty set", "body": "<p>After looking at the source code for CPython, I would guess this is a documentation error, however, it could be implementation dependent and therefore would be a good issue to raise on the Python bug tracker.</p>\n\n<p>Specifically, <a href=\"https://github.com/python/cpython/blob/a66f9c6bb134561a24374f10e8c35417d356ce14/Objects/object.c#L1313\" rel=\"noreferrer\">object.c</a> defines the truth value of an item as follows:</p>\n\n<pre><code>int\nPyObject_IsTrue(PyObject *v)\n{\n    Py_ssize_t res;\n    if (v == Py_True)\n        return 1;\n    if (v == Py_False)\n        return 0;\n    if (v == Py_None)\n        return 0;\n    else if (v-&gt;ob_type-&gt;tp_as_number != NULL &amp;&amp;\n             v-&gt;ob_type-&gt;tp_as_number-&gt;nb_bool != NULL)\n        res = (*v-&gt;ob_type-&gt;tp_as_number-&gt;nb_bool)(v);\n    else if (v-&gt;ob_type-&gt;tp_as_mapping != NULL &amp;&amp;\n             v-&gt;ob_type-&gt;tp_as_mapping-&gt;mp_length != NULL)\n        res = (*v-&gt;ob_type-&gt;tp_as_mapping-&gt;mp_length)(v);\n    else if (v-&gt;ob_type-&gt;tp_as_sequence != NULL &amp;&amp;\n             v-&gt;ob_type-&gt;tp_as_sequence-&gt;sq_length != NULL)\n        res = (*v-&gt;ob_type-&gt;tp_as_sequence-&gt;sq_length)(v);\n    else\n        return 1;\n    /* if it is negative, it should be either -1 or -2 */\n    return (res &gt; 0) ? 1 : Py_SAFE_DOWNCAST(res, Py_ssize_t, int);\n}\n</code></pre>\n\n<p>We can clearly see that the value is value would be always true if it is not a boolean type, None, a sequence, or a mapping type, which would require tp_as_sequence or tp_as_mapping to be set.</p>\n\n<p>Fortunately, looking at <a href=\"https://github.com/python/cpython/blob/master/Objects/setobject.c#L2127\" rel=\"noreferrer\">setobject.c</a> shows that sets do implement tp_as_sequence, suggesting the documentation seems to be incorrect.</p>\n\n<pre><code>PyTypeObject PySet_Type = {\n    PyVarObject_HEAD_INIT(&amp;PyType_Type, 0)\n    \"set\",                              /* tp_name */\n    sizeof(PySetObject),                /* tp_basicsize */\n    0,                                  /* tp_itemsize */\n    /* methods */\n    (destructor)set_dealloc,            /* tp_dealloc */\n    0,                                  /* tp_print */\n    0,                                  /* tp_getattr */\n    0,                                  /* tp_setattr */\n    0,                                  /* tp_reserved */\n    (reprfunc)set_repr,                 /* tp_repr */\n    &amp;set_as_number,                     /* tp_as_number */\n    &amp;set_as_sequence,                   /* tp_as_sequence */\n    0,                                  /* tp_as_mapping */\n    /* ellipsed lines */\n};\n</code></pre>\n\n<p><a href=\"https://github.com/python/cpython/blob/master/Objects/dictobject.c#L3254\" rel=\"noreferrer\">Dicts</a> also implement tp_as_sequence, so it seems that although it is not a sequence type, it sequence-like, enough to be truthy.</p>\n\n<p>In my opionion, the documentation should clarify this: mapping-like types, or sequence-like types will be truthy dependent on their length.</p>\n\n<p><strong>Edit</strong> As user2357112 correctly points out, <code>tp_as_sequence</code> and <code>tp_as_mapping</code> do not mean the type is a sequence or a map. For example, dict implements <code>tp_as_sequence</code>, and list implements <code>tp_as_mapping</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 2, "creation_date": 1498689895, "post_id": 44813595, "comment_id": 76608012, "body": "Just a heads up that magic methods can be implementation-dependent: in Python 2, <code>__bool__</code> does not exist, while <code>__nonzero__</code> provides the same functionality, which I discovered the hard way."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 10345, "user_id": 4131059, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/uDaBr.jpg?s=128&g=1", "display_name": "Alexander Huszagh", "link": "https://stackoverflow.com/users/4131059/alexander-huszagh"}, "edited": false, "score": 2, "creation_date": 1498690618, "post_id": 44813595, "comment_id": 76608202, "body": "@AlexanderHuszagh: Yup. The <code>__nonzero__</code> name dates back to before Python had a bool type. Back then, it returned either 0 or 1, and the method was thought of as testing nonzeroness instead of coercing to bool."}], "tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 18, "last_activity_date": 1498747472, "last_edit_date": 1498747472, "creation_date": 1498689331, "answer_id": 44813595, "question_id": 44813375, "link": "https://stackoverflow.com/questions/44813375/truth-value-of-empty-set/44813595#44813595", "title": "Truth value of empty set", "body": "<p>That part of the docs is poorly written, or rather, poorly maintained. The following clause:</p>\n\n<blockquote>\n  <p>instances of user-defined classes, if the class defines a <code>__bool__()</code> or <code>__len__()</code> method, when that method returns the integer zero or bool value False.</p>\n</blockquote>\n\n<p>really applies to <em>all</em> classes, user-defined or not, including <code>set</code>, <code>dict</code>, and even the types listed in all the other clauses (all of which define either <code>__bool__</code> or <code>__len__</code>). (In Python 2, <code>None</code> is false despite not having a <code>__len__</code> or Python 2's equivalent of <code>__bool__</code>, but that exception is <a href=\"http://bugs.python.org/issue12647\" rel=\"nofollow noreferrer\">gone since Python 3.3</a>.)</p>\n\n<p>I say poorly maintained because this section has been almost unchanged since at least <a href=\"https://docs.python.org/release/1.4/lib/node5.html#SECTION00311000000000000000\" rel=\"nofollow noreferrer\">Python 1.4</a>, and maybe earlier. It's been updated for the addition of <code>False</code> and the removal of separate int/long types, but not for type/class unification or the introduction of sets.</p>\n\n<p>Back when the quoted clause was written, user-defined classes and built-in types really did behave differently, and I don't think built-in types actually had <code>__bool__</code> or <code>__len__</code> at the time.</p>\n"}, {"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 27, "last_activity_date": 1498728526, "last_edit_date": 1498728526, "creation_date": 1498690080, "answer_id": 44813725, "question_id": 44813375, "link": "https://stackoverflow.com/questions/44813375/truth-value-of-empty-set/44813725#44813725", "title": "Truth value of empty set", "body": "<p>The documentation for <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__bool__\" rel=\"noreferrer\"><code>__bool__</code></a> states that this method is called for truth value testing and if it is not defined then <a href=\"https://docs.python.org/3/reference/datamodel.html#object.__len__\" rel=\"noreferrer\"><code>__len__</code></a> is evaluated:</p>\n\n<blockquote>\n  <p>Called to implement truth value testing and the built-in operation bool(); [...] When this method is not defined, <code>__len__()</code> is called, if it is defined, and the object is considered true if its result is nonzero. If a class defines neither <code>__len__()</code> nor <code>__bool__()</code>, all its instances are considered true.</p>\n</blockquote>\n\n<p>This holds for any Python object. As we can see <code>set</code> does not define a method <code>__bool__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; set.__bool__\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nAttributeError: type object 'set' has no attribute '__bool__'\n</code></pre>\n\n<p>so the truth testing falls back on <code>__len__</code>:</p>\n\n<pre><code>&gt;&gt;&gt; set.__len__\n&lt;slot wrapper '__len__' of 'set' objects&gt;\n</code></pre>\n\n<p>Therefore only an empty set (zero-length) is considered false.</p>\n\n<p>The part for <a href=\"https://docs.python.org/3/library/stdtypes.html#truth-value-testing\" rel=\"noreferrer\">truth value testing</a> in the documentation is not complete with regard to this aspect.</p>\n"}], "owner": {"reputation": 1123, "user_id": 6867099, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y3i9z.jpg?s=128&g=1", "display_name": "Peter Thomassen", "link": "https://stackoverflow.com/users/6867099/peter-thomassen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4073, "favorite_count": 3, "accepted_answer_id": 44813565, "answer_count": 3, "score": 42, "last_activity_date": 1498747472, "creation_date": 1498688001, "question_id": 44813375, "link": "https://stackoverflow.com/questions/44813375/truth-value-of-empty-set", "title": "Truth value of empty set", "body": "<p>I am interested in the truth value of Python sets like <code>{'a', 'b'}</code>, or the empty set <code>set()</code> (which is not the same as the empty dictionary <code>{}</code>). In particular, I would like to know whether <code>bool(my_set)</code> is <code>False</code> if and only if the set <code>my_set</code> is empty.</p>\n\n<p>Ignoring primitive (such as numerals) as well as user-defined types, <a href=\"https://docs.python.org/3/library/stdtypes.html#truth\" rel=\"noreferrer\">https://docs.python.org/3/library/stdtypes.html#truth</a> says:</p>\n\n<blockquote>\n  <p>The following values are considered false:</p>\n  \n  <ul>\n  <li>[...]</li>\n  <li>any empty sequence, for example, <code>''</code>, <code>()</code>, <code>[]</code>.</li>\n  <li>any empty mapping, for example, <code>{}</code>.</li>\n  <li>[...]</li>\n  </ul>\n  \n  <p>All other values are considered true</p>\n</blockquote>\n\n<p>According to <a href=\"https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range\" rel=\"noreferrer\">https://docs.python.org/3/library/stdtypes.html#sequence-types-list-tuple-range</a>, a set is not a sequence (it is unordered, its elements do not have indices, etc.):</p>\n\n<blockquote>\n  <p>There are three basic sequence types: lists, tuples, and range objects.</p>\n</blockquote>\n\n<p>And, according to <a href=\"https://docs.python.org/3/library/stdtypes.html#mapping-types-dict\" rel=\"noreferrer\">https://docs.python.org/3/library/stdtypes.html#mapping-types-dict</a>,</p>\n\n<blockquote>\n  <p>There is currently only one standard mapping type, the <em>dictionary</em>.</p>\n</blockquote>\n\n<p>So, as far as I understand, the set type is not a type that can ever be <code>False</code>. However, when I try, <code>bool(set())</code> evaluates to <code>False</code>.</p>\n\n<p>Questions:</p>\n\n<ul>\n<li>Is this a documentation problem, or am I getting something wrong?</li>\n<li>Is the empty set the only set whose truth value is <code>False</code>?</li>\n</ul>\n"}, {"tags": ["python", "arrays", "diagonal"], "comments": [{"owner": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 1, "creation_date": 1498688089, "post_id": 44813360, "comment_id": 76607426, "body": "Can you please show some code? It&#39;s not clear what you&#39;ve tried and what you&#39;re stuck on. I&#39;m also not sure I understand the inputs and outputs of your desired function. 60 isn&#39;t on the same diagonal line as 38."}, {"owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1498692178, "post_id": 44813360, "comment_id": 76608605, "body": "60 isn&#39;t one the same diagonal line as 38. I&#39;m looking for the number that comes before the last item on the diagonal line."}, {"owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "reply_to_user": {"reputation": 28376, "user_id": 5743988, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/IeSSM.jpg?s=128&g=1", "display_name": "4castle", "link": "https://stackoverflow.com/users/5743988/4castle"}, "edited": false, "score": 0, "creation_date": 1498692646, "post_id": 44813360, "comment_id": 76608737, "body": "It&#39;ll be used in a range function, thus the one before the diagonal."}], "answers": [{"comments": [{"owner": {"reputation": 1032, "user_id": 7201349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d74c57518a230b1be8416342e17be259?s=128&d=identicon&r=PG&f=1", "display_name": "Larry", "link": "https://stackoverflow.com/users/7201349/larry"}, "edited": false, "score": 0, "creation_date": 1498700729, "post_id": 44815067, "comment_id": 76610532, "body": "@JoshuaMoore I think I&#39;ve found a workable solution. If there are any things to clarify, please feel free to reply to this comment. Thanks!"}, {"owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "edited": false, "score": 1, "creation_date": 1498701759, "post_id": 44815067, "comment_id": 76610786, "body": "Thanks for the answer. It&#39;s so simple I could kick myself. I guess I was hoping for a &quot;pythonic&quot; of solving this, but your way works great, thank you!"}], "tags": [], "owner": {"reputation": 1032, "user_id": 7201349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/d74c57518a230b1be8416342e17be259?s=128&d=identicon&r=PG&f=1", "display_name": "Larry", "link": "https://stackoverflow.com/users/7201349/larry"}, "is_accepted": true, "score": 1, "last_activity_date": 1498700641, "creation_date": 1498700641, "answer_id": 44815067, "question_id": 44813360, "link": "https://stackoverflow.com/questions/44813360/finding-a-diagonal-boundary-in-a-one-dimensional-array/44815067#44815067", "title": "Finding a diagonal boundary in a one dimensional array", "body": "<p><strong>Using the following chessboard positions:</strong></p>\n\n<pre><code>chessboard =    [0,1,2,3,4,5,6,7,\n                8,9,10,11,12,13,14,15,\n                16,17,18,19,20,21,22,23,\n                24,25,26,27,28,29,30,31,\n                32,33,34,35,36,37,38,39,\n                40,41,42,43,44,45,46,47,\n                48,49,50,51,52,53,54,55,\n                56,57,58,59,60,61,62,63]\n</code></pre>\n\n<p><strong>I wrote a function that corresponds to what you want (comments describe code):</strong>    </p>\n\n<pre><code>def return_diagonal(position):    # with position being chessboard position\n\n    while ((position+1)%8) != 0:  # while (chess position)+1 is not divisible by eight:\n            position -= 7         # move diagonally upwards (7 chess spaces back)\n\n    position -= 1                 # when reached the right end of the chessboard, move back one position\n\n    if position &lt; 6:              # if position happens to be in the negative:\n        position = 6              # set position by default to 6 (smallest possible value)\n\n    return position               # return the position\n</code></pre>\n\n<p>The function first asks whether the position is in the last column.</p>\n\n<p>If not, go back 7 spaces, which is going diagonally upwards-right.</p>\n\n<p>And it checks again until it arrives at the last column.</p>\n\n<p>There, it goes back one space, so that it is one space from the left of the right end of the chessboard.</p>\n\n<p>However, if this number is in the negative (as it is for many numbers in the top-left), this means that the diagonal fully extends beyond the 8x8 chessboard.</p>\n\n<p>So, by default, the answer should be 6.</p>\n\n<p><strong>I gave a couple of tests</strong></p>\n\n<pre><code>print(60,return_diagonal(60))\nprint(30,return_diagonal(30))\nprint(14,return_diagonal(14))\nprint(1,return_diagonal(1))\n</code></pre>\n\n<p><strong>With the following output:</strong></p>\n\n<p>Original position, the second to last number in the up/right diagonal</p>\n\n<pre><code>60 38\n30 22\n14 6\n1 6\n</code></pre>\n"}], "owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 1, "accepted_answer_id": 44815067, "answer_count": 1, "score": 2, "last_activity_date": 1498700641, "creation_date": 1498687904, "last_edit_date": 1498692565, "question_id": 44813360, "link": "https://stackoverflow.com/questions/44813360/finding-a-diagonal-boundary-in-a-one-dimensional-array", "title": "Finding a diagonal boundary in a one dimensional array", "body": "<p>I have a chess board array that looks like this: </p>\n\n<pre><code>00 01 02 03 04 05 06 07\n08 09 10 11 12 13 14 15\n16 17 18 19 20 21 22 23\n24 25 26 27 28 29 30 31\n32 33 34 35 36 37 38 39\n40 41 42 43 44 45 46 47\n48 49 50 51 52 53 54 55\n56 57 58 59 60 61 62 63\n</code></pre>\n\n<p>Now I'm trying to find a function of <code>position</code>, a number on the board, that gives me the second to last number in the up/right diagonal, e.g. for 60, I'm trying to find 38, for 30, I'm trying to find 22. I could hard code the damn thing, but it'd really be nicer to find a function that does this. So far it's stumped me.</p>\n\n<p>I haven't had problems with the down/right and diagonal and up/left diagonals, but this one is stumping me. Any help is appreciated. </p>\n\n<p>Below follows the code I'm working on:</p>\n\n<pre><code># EightQueens.py\n# Joshua Marshall Moore\n# thwee.abacadabra.alchemist@gmail.com\n# June 24th, 2017\n\n# The eight queens problem consists of setting up eight queens on a chess board\n# so that no two queens threaten each other. \n\n# This is an attempt to find all possible solutions to the problem. \n\n# The board is represented as a set of 64 numbers each representing a position \n# on the board. Array indexing begins with zero. \n\n# 00 01 02 03 04 05 06 07\n# 08 09 10 11 12 13 14 15\n# 16 17 18 19 20 21 22 23\n# 24 25 26 27 28 29 30 31\n# 32 33 34 35 36 37 38 39\n# 40 41 42 43 44 45 46 47\n# 48 49 50 51 52 53 54 55\n# 56 57 58 59 60 61 62 63\n\n# Test:\n# The following combination should yield a True from the check function.\n\n# 6, 9, 21, 26, 32, 43, 55, 60\n\nfrom itertools import combinations\nimport pdb\n\n# works\ndef down_right_boundary(pos):\n    boundary = (8-pos%8)*8\n    applies = (pos%8)+1 &gt; int(pos/8)\n    if applies:\n        return boundary\n    else:\n        return 64\n\n# works\ndef up_left_boundary(pos):\n    boundary = ((int(pos/8)-(pos%8))*8)-1\n    applies = (pos%8) &lt;= int(pos/8)\n    if applies:\n        return boundary\n    else:\n        return -1\n\ndef up_right_boundary(pos):\n    boundary = [7, 15, 23, 31, 39, 47, 55, 62][pos%8]-1\n    # 7: nil\n    # 14:  7-1\n    # 15: 15-1\n    # 21:  7-1\n    # 22: 15-1\n    # 23: 23-1\n    # 28:  7-1\n    # 29: 15-1\n    # 30: 23-1\n    # 31: 31-1\n    # 35:  7-1\n    # 36: 15-1\n    # 37: 23-1\n    # 38: 31-1\n    # 39: 39-1\n    # 42:  7-1\n    # 43: 15-1\n    # 44: 23-1\n    # 45: 31-1\n    # 46: 39-1\n\n    applies = pos%8&gt;=pos%7\n    if applies:\n        return boundary\n    else:\n        return -1\n\ndef down_left_boundary(pos):\n    boundary = 64\n    applies = True\n    if applies:\n        return boundary\n    else:\n        return 64\n\ndef check(positions):\n\n    fields = set(range(64))\n    threatened = set()\n\n    # two queens per quadrant\n    quadrants = [\n        set([p for p in range(0, 28) if (p%8)&lt;4]),\n        set([p for p in range(4, 32) if (p%8)&gt;3]),\n        set([p for p in range(32, 59) if (p%8)&lt;4]),\n        set([p for p in range(36, 64) if (p%8)&gt;3])\n    ]\n\n    #for q in quadrants:\n    #   if len(positions.intersection(q)) != 2:\n    #       return False\n\n    # check the queen's ranges\n    for pos in positions:\n\n        pdb.set_trace()\n\n        # threatened |= set(range(pos, -1, -8)[1:]) # up\n        # threatened |= set(range(pos, 64, 8)[1:]) # down\n        # threatened |= set(range(pos, int(pos/8)*8-1, -1)[1:]) # left\n        # threatened |= set(range(pos, (int(pos/8)+1)*8, 1)[1:]) # right\n\n        # down right diagonal:\n        # There are two conditions here, one, the position is above the\n        # diagonal, two, the position is below the diagonal.\n        # Above the diagonal can be expressed as pos%8&gt;int(pos/8).\n        # In the event of a position above the diagonal, I need to limit the \n        # range to 64-(pos%8) to prevent warping the board into a field that \n        # connects diagonals like Risk. \n        # Otherwise, 64 suffices as the ending condition. \n        threatened |= set(range(pos, down_right_boundary(pos), 9)[1:]) # down right\n\n        print(pos, threatened)\n        pdb.set_trace()\n        #\n\n        # up left diagonal:\n        # Similarly, if the position is above the diagonal, -1 will suffice as \n        # the range's ending condition. Things are more complicated if the\n        # position is below the diagonal, as I must prevent warping, again. \n        threatened |= set(range(pos, up_left_boundary(pos), -9)[1:]) # up left\n\n        print(pos, threatened)\n        pdb.set_trace()\n        #\n\n        # up right diagonal:\n        # Above the diagonal takes on a different meaning here, seeing how I'm\n        # dealing with the other diagonal. It is defined by pos58&gt;pos%7. Now I\n        # restrict the range to a (pos%8)*8, creating a boundary along the right\n        # side of the board. \n        threatened |= set(range(pos, up_right_boundary(pos), -7)[1:]) # up right\n\n        print(pos, threatened)\n        pdb.set_trace()\n        #\n\n        # down left diagonal:\n        # I reuse a similar definition to that of the diagonal as above. The \n        # bound for left hand side of the board looks as follows: \n        # ((pos%8)*7)+(pos%8)\n        threatened |= set(range(pos, down_left_boundary(pos), 7)[1:]) # down left\n\n        print(pos, threatened)\n        pdb.set_trace()\n        # \n\n    if len(positions.intersection(threatened)) &gt; 0:\n        return False\n\n    return True\n\n\nif __name__ == '__main__':\n\n    # print(check(set([55]))) # pass\n    # print(check(set([62]))) # pass\n    # print(check(set([63]))) # pass\n    # print(check(set([48]))) # pass\n    # print(check(set([57]))) # pass\n    # print(check(set([56]))) # pass\n    # print(check(set([8])))  # pass\n\n    # print(check(set([1])))  # fail\n    # print(check(set([0])))\n    # print(check(set([6])))\n    # print(check(set([15])))\n    # print(check(set([7])))\n\n    # print(check(set([6])))\n    # print(check(set([9])))\n    print(check(set([21])))\n    print(check(set([26])))\n    print(check(set([32])))\n    print(check(set([43])))\n    print(check(set([55])))\n    print(check(set([60])))\n\n\n\n\n\n    print(\n        check(set([6, 9, 21, 26, 32, 43, 55, 60]))\n    )\n\n    # for potential_solution in combinations(range(64), 8):\n        # is_solution = check(set(potential_solution))\n        # if is_solution:\n            # print(is_solution, potential_solution)\n</code></pre>\n"}, {"tags": ["python", "pandas", "machine-learning", "scikit-learn", "tpot"], "comments": [{"owner": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "edited": false, "score": 0, "creation_date": 1498688582, "post_id": 44813343, "comment_id": 76607587, "body": "what about clf =TPOTClassifier(generations=5, population_size=20, cv=5,                                     random_state=42, verbosity=2) instead of using regression.then using clf.score(X_test, y_test)"}, {"owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "reply_to_user": {"reputation": 1150, "user_id": 7542961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32b2da429fbc6972b707dc3087e171a9?s=128&d=identicon&r=PG&f=1", "display_name": "Mr_U4913", "link": "https://stackoverflow.com/users/7542961/mr-u4913"}, "edited": false, "score": 0, "creation_date": 1498845056, "post_id": 44813343, "comment_id": 76685296, "body": "@Mr_U4913 I should be using TPOTRegressor, I believe, since it&#39;s a regression problem"}], "answers": [{"comments": [{"owner": {"reputation": 4630, "user_id": 314548, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8b117c4156a8258f75491201e6f7ab01?s=128&d=identicon&r=PG", "display_name": "Dror Hilman", "link": "https://stackoverflow.com/users/314548/dror-hilman"}, "edited": false, "score": 0, "creation_date": 1500979941, "post_id": 45009763, "comment_id": 77563544, "body": "this did not worked for me: still say: PicklingError: Can&#39;t pickle &lt;class &#39;tpot.operator_utils.GradientBoostingRegressor__alpha&#39;&gt;: it&#39;s not found as tpot.operator_utils.GradientBoostingRegressor__alpha"}], "tags": [], "owner": {"reputation": 8813, "user_id": 508907, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/gRGJK.jpg?s=128&g=1", "display_name": "ntg", "link": "https://stackoverflow.com/users/508907/ntg"}, "is_accepted": false, "score": 1, "last_activity_date": 1499682719, "creation_date": 1499682719, "answer_id": 45009763, "question_id": 44813343, "link": "https://stackoverflow.com/questions/44813343/tpot-pickling-error-when-using-tpotregressor/45009763#45009763", "title": "TPOT: Pickling Error When Using TPOTRegressor", "body": "<p>If you are using Python 2,\ntry:</p>\n\n<pre><code>import dill  \n</code></pre>\n\n<p>So that lambda functions can be pickled.... Worked for me...</p>\n\n<p>in Python 3, you might need:</p>\n\n<pre><code>import dill as pickle\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4630, "user_id": 314548, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/8b117c4156a8258f75491201e6f7ab01?s=128&d=identicon&r=PG", "display_name": "Dror Hilman", "link": "https://stackoverflow.com/users/314548/dror-hilman"}, "is_accepted": false, "score": 0, "last_activity_date": 1500980283, "creation_date": 1500980283, "answer_id": 45301292, "question_id": 44813343, "link": "https://stackoverflow.com/questions/44813343/tpot-pickling-error-when-using-tpotregressor/45301292#45301292", "title": "TPOT: Pickling Error When Using TPOTRegressor", "body": "<p>Try using: <strong>tpot.fitted_pipeline_</strong></p>\n\n<pre><code>from tpot import TPOTRegressor\ntpot = TPOTRegressor(generations=20, population_size=100, verbosity=2)\n\nscore = cross_val_score(estimator = tpot.fitted_pipeline_, X = X, y = Y, cv = KFold(n_splits = 3, random_state = 100), n_jobs = -1, \\\n                        scoring = \"neg_mean_squared_error\")\nnp.mean([np.sqrt(-x) for x in score])\n</code></pre>\n"}], "owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1513002015, "creation_date": 1498687814, "last_edit_date": 1513002015, "question_id": 44813343, "link": "https://stackoverflow.com/questions/44813343/tpot-pickling-error-when-using-tpotregressor", "title": "TPOT: Pickling Error When Using TPOTRegressor", "body": "<p>I have a DataFrame called <code>X</code> and a set of target values called <code>Y</code>.  </p>\n\n<p>For most of my models, I do something like this (just an example):</p>\n\n<pre><code>from sklearn.linear_model import LassoCV\nclf = LassoCV()\nscore = cross_val_score(estimator = clf, X = X, y = Y, cv = KFold(n_splits = 3, random_state = 100), n_jobs = -1, \\\n                        scoring = \"neg_mean_squared_error\")\nnp.mean([np.sqrt(-x) for x in score])\n</code></pre>\n\n<p>I'm trying to use TPOT in a similar way, as follows:</p>\n\n<pre><code>from tpot import TPOTRegressor\ntpot = TPOTRegressor(generations=20, population_size=100, verbosity=2)\n\nscore = cross_val_score(estimator = tpot, X = X, y = Y, cv = KFold(n_splits = 3, random_state = 100), n_jobs = -1, \\\n                        scoring = \"neg_mean_squared_error\")\nnp.mean([np.sqrt(-x) for x in score])\n</code></pre>\n\n<p>TPOT starts up but then gives me a pickling error as follows:</p>\n\n<pre><code>PicklingError: Can't pickle &lt;type 'instancemethod'&gt;: it's not found as __builtin__.instancemethod\n</code></pre>\n\n<p>Any idea why this is happening / how to get TPOT to play nicely?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "python-3.x", "decorator", "python-2.x", "traceback"], "comments": [{"owner": {"reputation": 3514, "user_id": 2612002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b5a04.png?s=128&g=1", "display_name": "iehrlich", "link": "https://stackoverflow.com/users/2612002/iehrlich"}, "edited": false, "score": 0, "creation_date": 1498688130, "post_id": 44813333, "comment_id": 76607440, "body": "Not fully qualified to understand the question, but +1 for the effort :)"}, {"owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "reply_to_user": {"reputation": 3514, "user_id": 2612002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/b5a04.png?s=128&g=1", "display_name": "iehrlich", "link": "https://stackoverflow.com/users/2612002/iehrlich"}, "edited": false, "score": 0, "creation_date": 1498689127, "post_id": 44813333, "comment_id": 76607775, "body": "Thanks! ^_^ I&#39;ve been tracking this problem for about a week now."}], "answers": [{"comments": [{"owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "edited": false, "score": 0, "creation_date": 1498694063, "post_id": 44814212, "comment_id": 76609073, "body": "If you look at the <code># Do something</code> comments I put in, I specifically placed them around the proposed idiom, so that any other exceptions show up as usual. I&#39;m only interested in skipping the wrapper when the call is trivial."}, {"owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "edited": false, "score": 0, "creation_date": 1498694521, "post_id": 44814212, "comment_id": 76609157, "body": "If i use <code>sys.excepthook</code> i lose that fine grained control over when i specifically elide it, because if the wrapper calls other functions as well, it&#39;s non trivial to distinguish when an exception happened in the wrapped function and when it happened in another function."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498695023, "post_id": 44814212, "comment_id": 76609269, "body": "Hiding parts of the traceback is dangerous, but in a few rare cases, you might decide it really is worth it. For example, <code>importlib</code> has its own <a href=\"https://github.com/python/cpython/blob/3.6/Lib/importlib/_bootstrap.py#L196\" rel=\"nofollow noreferrer\">ugly</a> <a href=\"https://github.com/python/cpython/blob/3.6/Python/import.c#L1278\" rel=\"nofollow noreferrer\">hacks</a> in place so <code>importlib</code> frames usually don&#39;t show up in the traceback when something goes wrong during an import."}, {"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "reply_to_user": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "edited": false, "score": 0, "creation_date": 1498715668, "post_id": 44814212, "comment_id": 76614558, "body": "@Re.po: Even if that line is trivial, that doesn&#39;t mean it&#39;s a good idea to suppress the whole frame.  For instance, the decorator may, on earlier lines, change the arguments or even the function being called, so that an exception raised by the call line may have its real cause elsewhere in the wrapper.  This can&#39;t be seen if the entire frame is suppressed.  That said, if you google around you&#39;ll see people suggesting imitating <a href=\"https://github.com/pallets/jinja/blob/5b498453b5898257b2287f14ef6c363799f1405a/jinja2/debug.py\" rel=\"nofollow noreferrer\">jinja2</a>, which effectively reimplements traceback objects."}, {"owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "edited": false, "score": 0, "creation_date": 1498719089, "post_id": 44814212, "comment_id": 76616326, "body": "I don&#39;t mean to be rude, but i am specifically referring to the case where i change neither <code>func</code> nor <code>args</code> or <code>kwargs</code>. As for jinja2, this is exactly the sort of over-implementation i want to avoid. I prefer the implementation to be as simple and straightforward as it can be. I have an idea involving <code>sys.excepthook</code> that would use a helper module and will still be non intrusive to other code (by simply wrapping the original function with something else). I&#39;ll post an edit with the idea later if i figure it out and have time to write it."}, {"owner": {"reputation": 1347, "user_id": 5959326, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-5VbpDYFzr0k/AAAAAAAAAAI/AAAAAAAAAEQ/g4vrFZAaIS8/photo.jpg?sz=128", "display_name": "Ruler Of The World", "link": "https://stackoverflow.com/users/5959326/ruler-of-the-world"}, "edited": false, "score": 0, "creation_date": 1498839231, "post_id": 44814212, "comment_id": 76682428, "body": "Can you use <code>try</code> and <code>except</code>? If it will result in an error it will hide the error message by not completing the code that results in the error"}, {"owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "edited": false, "score": 0, "creation_date": 1499609263, "post_id": 44814212, "comment_id": 76968454, "body": "Not sure what you meant by that?"}], "tags": [], "owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "is_accepted": false, "score": 6, "last_activity_date": 1498693517, "creation_date": 1498693517, "answer_id": 44814212, "question_id": 44813333, "link": "https://stackoverflow.com/questions/44813333/how-can-i-elide-a-function-wrapper-from-the-traceback-in-python-3/44814212#44814212", "title": "How can I elide a function wrapper from the traceback in Python-3?", "body": "<p>The simple answer is that you shouldn't do that.  Hiding things from the traceback is dangerous.  You may think you don't want to show that line because it's trivial or \"just a wrapper\", but in general you wouldn't write the wrapper function if it didn't do something.  Next thing you know there is a bug in the wrapper function which is now unfindable because the wrapper function has erased itself from the traceback.</p>\n\n<p>Just deal with the extra lines in the traceback, or, if you really want, override <code>sys.excepthook</code> and filter them out at the top level.  If you're worried about someone else overriding <code>sys.excepthook</code> too, then wrap all your code in a top-level function that does the exception printing itself.  It isn't and shouldn't be easy to hide levels from the traceback.</p>\n"}], "owner": {"reputation": 164, "user_id": 8223977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2563074d3ee97577be4f67f9f16a8a37?s=128&d=identicon&r=PG&f=1", "display_name": "Re.po", "link": "https://stackoverflow.com/users/8223977/re-po"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 3, "answer_count": 1, "score": 14, "last_activity_date": 1506443864, "creation_date": 1498687767, "last_edit_date": 1506443864, "question_id": 44813333, "link": "https://stackoverflow.com/questions/44813333/how-can-i-elide-a-function-wrapper-from-the-traceback-in-python-3", "title": "How can I elide a function wrapper from the traceback in Python-3?", "body": "<h1>The issue</h1>\n\n<h3><em>The Phantom Menace</em></h3>\n\n<p>Say i wrote a function decorator which takes the function, and wraps it in another function like so:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># File example-1.py\nfrom functools import wraps\n\ndef decorator(func):\n    # Do something\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        # Do something\n        return func(*args, **kwargs)\n        # Do something\n    # Do something\n    return wrapper\n</code></pre>\n\n<p>Now  lets suppose the function I'm decorating raises an exception:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>@decorator\ndef foo():\n    raise Exception('test')\n</code></pre>\n\n<p>The result of running <code>foo()</code> will print out the following traceback (In any Python version):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n  File \"./example-1.py\", line 20, in &lt;module&gt;\n    foo()\n  File \"./example-1.py\", line 11, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-1.py\", line 18, in foo\n    raise Exception('test')\nException: test\n</code></pre>\n\n<h3><em>Attack of the Clones</em></h3>\n\n<p>OK, now i look at my traceback and i see it goes through the <code>wrapper</code> function. What if I wrapped the function multiple times(presumably with a slightly more sophisticated decorator object which receives arguments in its constructor)? What if I use this decorator often in my code(I use it for logging, or profiling, or whatever)?</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n  File \"./example-1.py\", line 20, in &lt;module&gt;\n    foo()\n  File \"./example-1.py\", line 11, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-1.py\", line 11, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-1.py\", line 11, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-1.py\", line 11, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-1.py\", line 18, in foo\n    raise Exception('test')\nException: test\n</code></pre>\n\n<p>I don't want it \"polluting\" my traceback when i know from the function definition that the wrapper is there, and i don't want it showing up multiple times when the code snippet it displays is the unhelpful <code>return func(*args, **kwargs)</code></p>\n\n<h1>Python 2</h1>\n\n<h3><em>Revenge of the Sith</em></h3>\n\n<p>In Python-2, as <a href=\"https://stackoverflow.com/questions/1603940/how-can-i-modify-a-python-traceback-object-when-raising-an-exception#answer-13898994\" title=\"Another Stack Overflow Answer\">this answer</a> to a different question points out, the following trick does the job:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># In file example-2.py\n\ndef decorator(func):\n    # Do something\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        # Do something\n        info = None\n        try:\n            return func(*args, **kwargs)\n        except:\n            info = sys.exc_info()\n            raise info[0], info[1], info[2].tb_next\n        finally:\n            # Break the cyclical reference created by the traceback object\n            del info\n        # Do something\n    # Do something\n    return wrapper\n</code></pre>\n\n<p>By directly wrapping the call to the wrapped function with this idiom in the same block as the function I want to elide from the traceback, I effectively remove the current layer from the traceback and let the exception keep propagating. Every time the stack unwinding goes through this function, it removes itself from the traceback so this solution works perfectly:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n  File \"./example-2.py\", line 28, in &lt;module&gt;\n    foo()\n  File \"./example-2.py\", line 26, in foo\n    raise Exception('test')\nException: test\n</code></pre>\n\n<p>(Note however that you can not encapsulate this idiom in another function, since as soon the stack will unwind from that function back into <code>wrapper</code>, it will still be added to the traceback)</p>\n\n<h1>Python 3</h1>\n\n<h3><em>A New Hope</em></h3>\n\n<p>Now that we have this covered, lets move along to Python-3. Python-3 introduced this new syntax:</p>\n\n<pre><code>raise_stmt ::=  \"raise\" [expression [\"from\" expression]]\n</code></pre>\n\n<p>which allows chaining exceptions using the <code>__cause__</code> attribute of the new exception. This feature is uninteresting to us, since it modifies the exception, not the traceback. Our goal is to be a completely transparent wrapper, as far as visibility goes, so this won't do.</p>\n\n<p>Alternatively, we can try the following syntax, which <a href=\"http://python3porting.com/differences.html#raise\" rel=\"noreferrer\" title=\"LIES\">promises to do</a> what we want (code example taken from the python documentation):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>raise Exception(\"foo occurred\").with_traceback(tracebackobj)\n</code></pre>\n\n<p>Using this syntax we may try something like this:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># In file example-3\ndef decorator(func):\n    # Do something\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        # Do something\n        info = None\n        try:\n            return func(*args, **kwargs)\n        except:\n            info = sys.exc_info()\n            raise info[1].with_traceback(info[2].tb_next)\n        finally:\n            # Break the cyclical reference created by the traceback object\n            del info\n        # Do something\n    # Do something\n    return wrapper\n</code></pre>\n\n<h3><em>The Empire Strikes Back</em></h3>\n\n<p>But, unfortunately, this does not do what we want:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n  File \"./example-3.py\", line 29, in &lt;module&gt;\n    foo()\n  File \"./example-3.py\", line 17, in wrapper\n    raise info[1].with_traceback(info[2].tb_next)\n  File \"./example-3.py\", line 27, in foo\n    raise Exception('test')\nException: test\n</code></pre>\n\n<p>As you can see, the line executing the <code>raise</code> statement shows up in the traceback. This seems to come from the fact that while the Python-2 syntax sets the traceback from the third argument to <code>raise</code> as the function is being unwound, and thus it is not added to the traceback chain(as explained in the docs under Data Model), the Python-3 syntax on the other hand changes the traceback on the <code>Exception</code> object as an expression inside the functions context, and then passes it to the <code>raise</code> statement which adds the new location in code to the traceback chain (the explanation of this is very similar in Python-3).</p>\n\n<p>A workaround that comes to mind is avoiding the <code>\"raise\" [ expression ]</code> form of the statement, and instead use the clean <code>raise</code> statement to let the exception propagate as usual but modify the exception objects <code>__traceback__</code> attribute manually:</p>\n\n<pre class=\"lang-python prettyprint-override\"><code># File example-4\ndef decorator(func):\n    # Do something\n    @wraps(func)\n    def wrapper(*args, **kwargs):\n        # Do something\n        info = None\n        try:\n            return func(*args, **kwargs)\n        except:\n            info = sys.exc_info()\n            info[1].__traceback__ = info[2].tb_next\n            raise\n        finally:\n            # Break the cyclical reference created by the traceback object\n            del info\n        # Do something\n    # Do something\n    return wrapper\n</code></pre>\n\n<p>But this doesn't work at all!</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>Traceback (most recent call last):\n  File \"./example-4.py\", line 30, in &lt;module&gt;\n    foo()\n  File \"./example-4.py\", line 14, in wrapper\n    return func(*args, **kwargs)\n  File \"./example-4.py\", line 28, in foo\n    raise Exception('test')\nException: test\n</code></pre>\n\n<h3><em>Return of the Jedi(?)</em></h3>\n\n<p>So, what else can i do? It seems like using the \"traditional\" way of doing this just won't work because of the change in syntax, and I wouldn't want to start messing with the traceback printing mechanism (using the <code>traceback</code> module) at the project level. This is because it'll be hard if not impossible to implement in an extensible which won't be disruptive to any other package that tries to change the traceback, print the traceback in a custom format at the top level, or otherwise do anything else related to the issue.</p>\n\n<p>Also, can someone explain why in fact the last technique fails completely?</p>\n\n<p>(I tried these examples on python 2.6, 2.7, 3.4, 3.6)</p>\n\n<p>EDIT: After thinking about it for a while, in my opinion the python 3 behavior makes more sense, to the point that the python 2 behavior almost looks like a design bug, but I still think that there should be a way to do this kinda stuff.</p>\n"}, {"tags": ["python", "tensorflow", "deep-learning", "keras"], "owner": {"reputation": 5616, "user_id": 2769240, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/1501f510275875ae7ac437f758de28e8?s=128&d=identicon&r=PG", "display_name": "Baktaawar", "link": "https://stackoverflow.com/users/2769240/baktaawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 685, "favorite_count": 3, "answer_count": 0, "score": 3, "last_activity_date": 1498687264, "creation_date": 1498687264, "question_id": 44813234, "link": "https://stackoverflow.com/questions/44813234/understanding-reason-for-overfitting-in-keras-binary-classification-task", "title": "Understanding reason for Overfitting in Keras Binary Classification Task", "body": "<p>I am doing a Binary classification of IMDB movie review data into Positive or Negative Sentiment. </p>\n\n<p>I have 25K movie reviews and corresponding label. </p>\n\n<p>Preprocessing: </p>\n\n<p>Removed the stop words and split the data into 70:30 training and test. So 17.5K training and 7k test. 17.5k training has been further divided into 14K train and 3.5 k validation dataset as used in keras.model.fit method</p>\n\n<p>Each processed movie review has been converted to TF-IDF vector using Keras text processing module. </p>\n\n<p>Here is my Fully Connected Architecture I used in Keras Dense class</p>\n\n<pre><code>def model_param(self): \n    \"\"\" Method to do deep learning\n\n    \"\"\"\n\n    from keras.models import Sequential\n    from keras.layers import Dense, Dropout, Activation\n    from keras.optimizers import SGD\n    from keras import regularizers\n\n    self.model = Sequential()\n    # Dense(64) is a fully-connected layer with 64 hidden units.\n    # in the first layer, you must specify the expected input data shape:\n    # here, 20-dimensional vectors.\n    self.model.add(Dense(32, activation='relu', input_dim=self.x_train_std.shape[1]))\n    self.model.add(Dropout(0.5))\n    #self.model.add(Dense(60, activation='relu'))\n    #self.model.add(Dropout(0.5))\n    self.model.add(Dense(1, activation='sigmoid'))\n\n    sgd = SGD(lr=0.01, decay=1e-6, momentum=0.9, nesterov=True)\n    self.model.compile(loss='binary_crossentropy',\n          optimizer=sgd,\n          metrics=['accuracy'])\n\n\n\ndef fit(self):\n    \"\"\" Training the deep learning network on the training data\n\n    \"\"\"\n\n    self.model.fit(self.x_train_std, self.y_train,validation_split=0.20,\n      epochs=50,\n      batch_size=128)\n</code></pre>\n\n<p>As you see, I tried first without Dropout and as usual I got training accuracy as 1.0 but validation was poor as overfitting was happening. So I added Dropout to prevent overfitting</p>\n\n<p>However inspite of trying multiple dropout ratio, adding another layer with different no. of units in it, changing learning rate I am still getting overfitting on validation dataset. Gets stuck at 85% while training keeps increasing to 99% and so on. Even changed the Epochs from 10 to 50</p>\n\n<p>What could be going wrong here</p>\n\n<pre><code>Train on 14000 samples, validate on 3500 samples\nEpoch 1/50\n14000/14000 [==============================] - 0s - loss: 0.5684 - acc: 0.7034 - val_loss: 0.3794 - val_acc: 0.8431\nEpoch 2/50\n14000/14000 [==============================] - 0s - loss: 0.3630 - acc: 0.8388 - val_loss: 0.3304 - val_acc: 0.8549\nEpoch 3/50\n14000/14000 [==============================] - 0s - loss: 0.2977 - acc: 0.8749 - val_loss: 0.3271 - val_acc: 0.8591\nEpoch 4/50\n14000/14000 [==============================] - 0s - loss: 0.2490 - acc: 0.8991 - val_loss: 0.3302 - val_acc: 0.8580\nEpoch 5/50\n14000/14000 [==============================] - 0s - loss: 0.2251 - acc: 0.9086 - val_loss: 0.3388 - val_acc: 0.8546\nEpoch 6/50\n14000/14000 [==============================] - 0s - loss: 0.2021 - acc: 0.9189 - val_loss: 0.3532 - val_acc: 0.8523\nEpoch 7/50\n14000/14000 [==============================] - 0s - loss: 0.1797 - acc: 0.9286 - val_loss: 0.3670 - val_acc: 0.8529\nEpoch 8/50\n14000/14000 [==============================] - 0s - loss: 0.1611 - acc: 0.9350 - val_loss: 0.3860 - val_acc: 0.8543\nEpoch 9/50\n14000/14000 [==============================] - 0s - loss: 0.1427 - acc: 0.9437 - val_loss: 0.4077 - val_acc: 0.8529\nEpoch 10/50\n14000/14000 [==============================] - 0s - loss: 0.1344 - acc: 0.9476 - val_loss: 0.4234 - val_acc: 0.8526\nEpoch 11/50\n14000/14000 [==============================] - 0s - loss: 0.1222 - acc: 0.9534 - val_loss: 0.4473 - val_acc: 0.8506\nEpoch 12/50\n14000/14000 [==============================] - 0s - loss: 0.1131 - acc: 0.9546 - val_loss: 0.4718 - val_acc: 0.8497\nEpoch 13/50\n14000/14000 [==============================] - 0s - loss: 0.1079 - acc: 0.9559 - val_loss: 0.4818 - val_acc: 0.8526\nEpoch 14/50\n14000/14000 [==============================] - 0s - loss: 0.0954 - acc: 0.9630 - val_loss: 0.5057 - val_acc: 0.8494\nEpoch 15/50\n14000/14000 [==============================] - 0s - loss: 0.0906 - acc: 0.9636 - val_loss: 0.5229 - val_acc: 0.8557\nEpoch 16/50\n14000/14000 [==============================] - 0s - loss: 0.0896 - acc: 0.9657 - val_loss: 0.5387 - val_acc: 0.8497\nEpoch 17/50\n14000/14000 [==============================] - 0s - loss: 0.0816 - acc: 0.9666 - val_loss: 0.5579 - val_acc: 0.8463\nEpoch 18/50\n14000/14000 [==============================] - 0s - loss: 0.0762 - acc: 0.9709 - val_loss: 0.5704 - val_acc: 0.8491\nEpoch 19/50\n14000/14000 [==============================] - 0s - loss: 0.0718 - acc: 0.9723 - val_loss: 0.5834 - val_acc: 0.8454\nEpoch 20/50\n14000/14000 [==============================] - 0s - loss: 0.0633 - acc: 0.9752 - val_loss: 0.6032 - val_acc: 0.8494\nEpoch 21/50\n14000/14000 [==============================] - 0s - loss: 0.0687 - acc: 0.9724 - val_loss: 0.6181 - val_acc: 0.8480\nEpoch 22/50\n14000/14000 [==============================] - 0s - loss: 0.0614 - acc: 0.9762 - val_loss: 0.6280 - val_acc: 0.8503\nEpoch 23/50\n14000/14000 [==============================] - 0s - loss: 0.0620 - acc: 0.9756 - val_loss: 0.6407 - val_acc: 0.8500\nEpoch 24/50\n14000/14000 [==============================] - 0s - loss: 0.0536 - acc: 0.9794 - val_loss: 0.6563 - val_acc: 0.8511\nEpoch 25/50\n14000/14000 [==============================] - 0s - loss: 0.0538 - acc: 0.9791 - val_loss: 0.6709 - val_acc: 0.8500\nEpoch 26/50\n14000/14000 [==============================] - 0s - loss: 0.0507 - acc: 0.9807 - val_loss: 0.6869 - val_acc: 0.8491\nEpoch 27/50\n14000/14000 [==============================] - 0s - loss: 0.0528 - acc: 0.9794 - val_loss: 0.7002 - val_acc: 0.8483\nEpoch 28/50\n14000/14000 [==============================] - 0s - loss: 0.0465 - acc: 0.9810 - val_loss: 0.7083 - val_acc: 0.8469\nEpoch 29/50\n14000/14000 [==============================] - 0s - loss: 0.0504 - acc: 0.9796 - val_loss: 0.7153 - val_acc: 0.8497\nEpoch 30/50\n14000/14000 [==============================] - 0s - loss: 0.0477 - acc: 0.9819 - val_loss: 0.7232 - val_acc: 0.8480\nEpoch 31/50\n14000/14000 [==============================] - 0s - loss: 0.0475 - acc: 0.9819 - val_loss: 0.7343 - val_acc: 0.8469\nEpoch 32/50\n14000/14000 [==============================] - 0s - loss: 0.0459 - acc: 0.9819 - val_loss: 0.7352 - val_acc: 0.8500\nEpoch 33/50\n14000/14000 [==============================] - 0s - loss: 0.0426 - acc: 0.9807 - val_loss: 0.7429 - val_acc: 0.8511\nEpoch 34/50\n14000/14000 [==============================] - 0s - loss: 0.0396 - acc: 0.9846 - val_loss: 0.7576 - val_acc: 0.8477\nEpoch 35/50\n14000/14000 [==============================] - 0s - loss: 0.0420 - acc: 0.9836 - val_loss: 0.7603 - val_acc: 0.8506\nEpoch 36/50\n14000/14000 [==============================] - 0s - loss: 0.0359 - acc: 0.9856 - val_loss: 0.7683 - val_acc: 0.8497\nEpoch 37/50\n14000/14000 [==============================] - 0s - loss: 0.0377 - acc: 0.9849 - val_loss: 0.7823 - val_acc: 0.8520\nEpoch 38/50\n14000/14000 [==============================] - 0s - loss: 0.0352 - acc: 0.9861 - val_loss: 0.7912 - val_acc: 0.8500\nEpoch 39/50\n14000/14000 [==============================] - 0s - loss: 0.0390 - acc: 0.9845 - val_loss: 0.8025 - val_acc: 0.8489\nEpoch 40/50\n14000/14000 [==============================] - 0s - loss: 0.0371 - acc: 0.9853 - val_loss: 0.8128 - val_acc: 0.8494\nEpoch 41/50\n14000/14000 [==============================] - 0s - loss: 0.0367 - acc: 0.9848 - val_loss: 0.8184 - val_acc: 0.8503\nEpoch 42/50\n14000/14000 [==============================] - 0s - loss: 0.0331 - acc: 0.9871 - val_loss: 0.8264 - val_acc: 0.8500\nEpoch 43/50\n14000/14000 [==============================] - 0s - loss: 0.0338 - acc: 0.9871 - val_loss: 0.8332 - val_acc: 0.8483\nEpoch 44/50\n</code></pre>\n"}, {"tags": ["python", "animation", "matplotlib", "ffmpeg", "imshow"], "comments": [{"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1498687424, "post_id": 44813157, "comment_id": 76607179, "body": "Looks like the same issue as <a href=\"https://stackoverflow.com/questions/42588065/ffmpeg-is-writing-a-matplotlib-animation-with-diminishing-quality\">here</a>. At that question I wasn&#39;t able to reproduce the issue, same here."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "edited": false, "score": 0, "creation_date": 1498687647, "post_id": 44813157, "comment_id": 76607268, "body": "Also <a href=\"https://stackoverflow.com/questions/28785118/pixelated-animations-in-matplotlib\">this</a> and <a href=\"https://stackoverflow.com/questions/25203311/matplotlib-animation-movie-quality-of-movie-decreasing-with-time\">this</a> seem to be related. One issue is that you should give arguments to the writer instance and not in the save function, but it&#39;s not clear if this is the problem here."}], "owner": {"reputation": 168, "user_id": 8228600, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55e3fc8fbe17a83023cce22b2ebf0a43?s=128&d=identicon&r=PG&f=1", "display_name": "Doe a", "link": "https://stackoverflow.com/users/8228600/doe-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 792, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498686902, "creation_date": 1498686902, "question_id": 44813157, "link": "https://stackoverflow.com/questions/44813157/matplotlib-animation-quality-loss", "title": "Matplotlib animation quality loss", "body": "<p>I'm currently trying to use matplotlib to animate a grid using imshow. However, I am finding a fairly significant quality loss in the animation. </p>\n\n<p>Below is a simple animation that illustrates my issue fairly well. If you look at any particular frame of <em>imagelist</em>, you will see that there is no aliasing or gradient between colours. But if I then look at one frame of my animation, that is no longer the case. There is now a 4-5 pixel  gradient between my blocks of colour. Does anyone know how I can get around this compression? The file size of the animation doesn't matter too much, as long as I can get a good quality animation.</p>\n\n<pre><code>#Create list of images\nimage=np.array([[[0,0,0],(0.7,0,0),(0,0,0),(0,0,0.8)]])\nimagelist=[]\nfor i in range(0,100):\n    image[0][1][0]=i/100\n    imagelist.append(np.copy(image))\n\n#Create figure    \nfig = plt.figure()\nplt.axis('off')\nim = plt.imshow(imagelist[0], vmin=0, vmax=255,interpolation='none');\n\n#Animation\ndef updatefig(j):\n    im.set_array(imagelist[j])\n    return [im]\nani = animation.FuncAnimation(fig, updatefig, frames=range(len(imagelist)), interval=20, blit=False)\n\n#Save animation\nFFMpegWriter = animation.writers['ffmpeg']\nmywriter = FFMpegWriter(fps=30, bitrate=5000)\nani.save(\"test.mp4\", writer=mywriter,codec=\"libx264\")\n</code></pre>\n"}, {"tags": ["python", "pandas", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "is_accepted": false, "score": 0, "last_activity_date": 1498688537, "creation_date": 1498688537, "answer_id": 44813467, "question_id": 44813155, "link": "https://stackoverflow.com/questions/44813155/difference-between-all-values-in-csv-columns-python/44813467#44813467", "title": "difference between all values in csv columns - python", "body": "<p>I suggest using <code>numpy</code>. For computing the difference you can do</p>\n\n<pre><code>&gt;&gt;&gt; a = numpy.array([[12, 43, 51, 10, 74],\n...                  [14, 32, 31, 27, 23],\n...                  [13, 62, 13, 33, 82],\n...                  [18, 31, 73, 70, 42]])\n&gt;&gt;&gt; difference_matrix = numpy.repeat(a, a.shape[-1], axis=-1) - numpy.tile(a, a.shape[-1])\n&gt;&gt;&gt; difference_matrix\narray([[  0, -31, -39,   2, -62,  31,   0,  -8,  33, -31,  39,   8,   0,\n         41, -23,  -2, -33, -41,   0, -64,  62,  31,  23,  64,   0],\n       [  0, -18, -17, -13,  -9,  18,   0,   1,   5,   9,  17,  -1,   0,\n          4,   8,  13,  -5,  -4,   0,   4,   9,  -9,  -8,  -4,   0],\n       [  0, -49,   0, -20, -69,  49,   0,  49,  29, -20,   0, -49,   0,\n        -20, -69,  20, -29,  20,   0, -49,  69,  20,  69,  49,   0],\n       [  0, -13, -55, -52, -24,  13,   0, -42, -39, -11,  55,  42,   0,\n          3,  31,  52,  39,  -3,   0,  28,  24,  11, -31, -28,   0]])\n</code></pre>\n\n<p>If you want to square the result you can simply apply it to the matrix and each element will be squared:</p>\n\n<pre><code>&gt;&gt;&gt; difference_matrix ** 2\narray([[   0,  961, 1521,    4, 3844,  961,    0,   64, 1089,  961, 1521,\n          64,    0, 1681,  529,    4, 1089, 1681,    0, 4096, 3844,  961,\n         529, 4096,    0],\n       [   0,  324,  289,  169,   81,  324,    0,    1,   25,   81,  289,\n           1,    0,   16,   64,  169,   25,   16,    0,   16,   81,   81,\n          64,   16,    0],\n       [   0, 2401,    0,  400, 4761, 2401,    0, 2401,  841,  400,    0,\n        2401,    0,  400, 4761,  400,  841,  400,    0, 2401, 4761,  400,\n        4761, 2401,    0],\n       [   0,  169, 3025, 2704,  576,  169,    0, 1764, 1521,  121, 3025,\n        1764,    0,    9,  961, 2704, 1521,    9,    0,  784,  576,  121,\n         961,  784,    0]])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 8228204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mJzrSMUsRqI/AAAAAAAAAAI/AAAAAAAACYE/NyJddFrKHVc/photo.jpg?sz=128", "display_name": "John Starlight", "link": "https://stackoverflow.com/users/8228204/john-starlight"}, "edited": false, "score": 0, "creation_date": 1499252117, "post_id": 44819718, "comment_id": 76823892, "body": "Thank you very much! The first part of your code was changed for: <code>meta = pd.read_csv(&#39;duil.csv&#39;, sep=&#39;,&#39;) df = np.array(meta.values)</code>... and the next is your <code>all.diff</code> , all works!"}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1498724452, "last_edit_date": 1498724452, "creation_date": 1498724136, "answer_id": 44819718, "question_id": 44813155, "link": "https://stackoverflow.com/questions/44813155/difference-between-all-values-in-csv-columns-python/44819718#44819718", "title": "difference between all values in csv columns - python", "body": "<p>pandas doesn't easily accept arrays as elements, so numpy is a good help here.</p>\n\n<p>First make all the differences, by line (<code>axis=1</code>) :</p>\n\n<pre><code>data=\"\"\"\nA 12 43 51 10 74\nB 14 32 31 27 23\nC 13 62 13 33 82\nD 18 31 73 70 42\n\"\"\" \npd.read_table(io.StringIO(data),header=None,index_col=0,sep=' ')\n\nall_differences=np.apply_along_axis(lambda x:np.subtract.outer(x,x).ravel(),axis=1,arr=df)\n</code></pre>\n\n<p>Then sort for cut-off :</p>\n\n<pre><code>all_differences.sort(axis=1)\n</code></pre>\n\n<p>and select the good values, discarding the 0 resulting from <code>L[i]-L[i]</code>.</p>\n\n<pre><code>n=df.shape[1]\n\ncutoff =[i for i in range(n*n)  if  n*n*5//100&lt;=i&lt;n*(n-1)//2 or  n*(n+1)//2&lt;=i&lt;n*n*95//100]\n\nres=2.**all_differences[:,cutoff]\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8228204, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mJzrSMUsRqI/AAAAAAAAAAI/AAAAAAAACYE/NyJddFrKHVc/photo.jpg?sz=128", "display_name": "John Starlight", "link": "https://stackoverflow.com/users/8228204/john-starlight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 44819718, "answer_count": 2, "score": 0, "last_activity_date": 1498724452, "creation_date": 1498686896, "last_edit_date": 1498689993, "question_id": 44813155, "link": "https://stackoverflow.com/questions/44813155/difference-between-all-values-in-csv-columns-python", "title": "difference between all values in csv columns - python", "body": "<p>At first, I'm sorry for my so poor level in python, \nso I have the next problem:</p>\n\n<p>1) I red a lot of answers at this resource, but nothing work for me\n(<code>np.abs(a.values[:,np.newaxis]-a2.values)</code> and simple <code>np.diff()</code> and a lot of another ways)</p>\n\n<p>2!) I have csv file the following form:</p>\n\n<pre><code> A  12 43 51 10 74\n B  14 32 31 27 23\n C  13 62 13 33 82\n D  18 31 73 70 42\n</code></pre>\n\n<p>and I need receive residual between all columns in raws, so</p>\n\n<pre><code>A:12-43 12-51 12-10 12-74... 43-12 43-51 43-10 43-74...\nB:12-43 12-51 12-10 12-74... 43-12 43-51 43-10 43-74...\n</code></pre>\n\n<p>after that I need power 2 in <code>12-43 12-51 12-10 12-74... 43-12 43-51 43-10 43-74...</code></p>\n\n<p>I understand, that pandas good works with tables, but how I can to make this?</p>\n\n<p>And if you can, please in what way I need go, that to cut-off 10% of extreme results? Thank you very much for you attention and feature help.</p>\n"}, {"tags": ["python", "pytest", "xdist"], "comments": [{"owner": {"reputation": 526, "user_id": 1152381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/57b4ffcc29c4e538fda7fd0fbee5d37f?s=128&d=identicon&r=PG", "display_name": "Macintosh_89", "link": "https://stackoverflow.com/users/1152381/macintosh-89"}, "edited": false, "score": 0, "creation_date": 1498818597, "post_id": 44813149, "comment_id": 76668724, "body": "Are you saying you have dependency on tests? xdist plugin only runs it concurrently, it doesn&#39;t know about dependency  if that&#39;s what are you after. If you want to run in a specific order then you can&#39;t use xdist.  What is the point of running concurrently when they are not independent tests?. U could look  <a href=\"http://pytest-ordering.readthedocs.io/en/develop/\" rel=\"nofollow noreferrer\">pytest-ordering</a> if that serves your purpose . I hope i got your question right."}, {"owner": {"reputation": 536, "user_id": 6453238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f285e43f9154fe37bf64d1549b5cabaa?s=128&d=identicon&r=PG&f=1", "display_name": "SayPy", "link": "https://stackoverflow.com/users/6453238/saypy"}, "reply_to_user": {"reputation": 526, "user_id": 1152381, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/57b4ffcc29c4e538fda7fd0fbee5d37f?s=128&d=identicon&r=PG", "display_name": "Macintosh_89", "link": "https://stackoverflow.com/users/1152381/macintosh-89"}, "edited": false, "score": 0, "creation_date": 1498860183, "post_id": 44813149, "comment_id": 76691561, "body": "Thanks for help. My tests are independent. It&#39;s hard to describe, the issue was very specific."}], "answers": [{"tags": [], "owner": {"reputation": 536, "user_id": 6453238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f285e43f9154fe37bf64d1549b5cabaa?s=128&d=identicon&r=PG&f=1", "display_name": "SayPy", "link": "https://stackoverflow.com/users/6453238/saypy"}, "is_accepted": true, "score": 0, "last_activity_date": 1498841655, "creation_date": 1498841655, "answer_id": 44851518, "question_id": 44813149, "link": "https://stackoverflow.com/questions/44813149/concurrent-pytest-and-namespace/44851518#44851518", "title": "Concurrent pytest and namespace", "body": "<p>The problem was inside helper module.</p>\n"}], "owner": {"reputation": 536, "user_id": 6453238, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f285e43f9154fe37bf64d1549b5cabaa?s=128&d=identicon&r=PG&f=1", "display_name": "SayPy", "link": "https://stackoverflow.com/users/6453238/saypy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 258, "favorite_count": 0, "accepted_answer_id": 44851518, "answer_count": 1, "score": 0, "last_activity_date": 1498841655, "creation_date": 1498686859, "question_id": 44813149, "link": "https://stackoverflow.com/questions/44813149/concurrent-pytest-and-namespace", "title": "Concurrent pytest and namespace", "body": "<p>I have multiple tests which I run in a concurrent mode (-n) with xdist plugin.\nEvery test creates a personal helper object from a Helper class with specific settings. But finally attributes from different tests are mixed in objects.\nOne test has attributes from another. test1 gets helper.test2_config.</p>\n\n<p>Here is a simple example:</p>\n\n<pre><code>from helper import Helper\n\ndef test1():\n    helper = Helper(test1_config)\n    assert helper.test()\n\ndef test2():\n    helper = Helper(test2_config)\n    assert helper.test()\n</code></pre>\n"}, {"tags": ["javascript", "python", "flask", "leaflet", "geojson"], "comments": [{"owner": {"reputation": 147, "user_id": 7559928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XcRYk.jpg?s=128&g=1", "display_name": "Camilo", "link": "https://stackoverflow.com/users/7559928/camilo"}, "edited": false, "score": 0, "creation_date": 1498731793, "post_id": 44813130, "comment_id": 76624879, "body": "Since you mention you have the .CSV file, I wonder if you&#39;ve already tried <a href=\"https://github.com/mapbox/leaflet-omnivore\" rel=\"nofollow noreferrer\">Leaflet Omnivore</a>. It&#39;s really easy to use, you can see an example <a href=\"https://cccruzr.github.io/maps/docs/masacres.html\" rel=\"nofollow noreferrer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 546, "user_id": 1809870, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/kloB1.jpg?s=128&g=1", "display_name": "Jeff Kyzer", "link": "https://stackoverflow.com/users/1809870/jeff-kyzer"}, "edited": false, "score": 0, "creation_date": 1499288249, "post_id": 44815704, "comment_id": 76847933, "body": "I have searched for the extra semicolon as suggested by ghybs with no luck in finding it. I did the jsonify as outlined in other question, but that only gives me a network error signifying an overloaded server (not possible at this time) or an error in the code, which I cant find. When I - return output - it sends a string which I can see with and alert. When I - return jsonify(output) - I get the network error. Yes, I included jsonify to my import"}], "tags": [], "owner": {"reputation": 34057, "user_id": 5108796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf3d4505d0473b230f8b413248f7439f?s=128&d=identicon&r=PG&f=1", "display_name": "ghybs", "link": "https://stackoverflow.com/users/5108796/ghybs"}, "is_accepted": false, "score": 0, "last_activity_date": 1498705394, "creation_date": 1498705394, "answer_id": 44815704, "question_id": 44813130, "link": "https://stackoverflow.com/questions/44813130/passing-geojson-data-from-flask-app-to-javascript-to-be-used-in-leaflet-map/44815704#44815704", "title": "passing geojson data from flask app to javascript to be used in leaflet map", "body": "<p>I suspect you have an extra semicolon (<code>;</code>) at the end of your python output.</p>\n\n<p>Also make sure the <code>data</code> you pass to <code>L.geoJSON</code> factory is already a proper JavaScript object. You can output a <code>typeof data</code> to check that, for example.</p>\n\n<p>If it is still a string, simply convert it first using <code>JSON.parse(data)</code>.</p>\n"}], "owner": {"reputation": 546, "user_id": 1809870, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/kloB1.jpg?s=128&g=1", "display_name": "Jeff Kyzer", "link": "https://stackoverflow.com/users/1809870/jeff-kyzer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1401, "favorite_count": 0, "closed_date": 1498739804, "answer_count": 1, "score": 0, "last_activity_date": 1523974918, "creation_date": 1498686754, "last_edit_date": 1523974918, "question_id": 44813130, "link": "https://stackoverflow.com/questions/44813130/passing-geojson-data-from-flask-app-to-javascript-to-be-used-in-leaflet-map", "closed_reason": "Duplicate", "title": "passing geojson data from flask app to javascript to be used in leaflet map", "body": "<p>OK, I have a map on a webpage using flask, python, html, javascript.  My problem is that when I hard code the geoJson data, it works fine.  When I pass the geoJson data from the python script to the Javascript to be used in leaflet, it does not work.  I am not getting any errors other then the visual error of no data.  </p>\n\n<p>I am using python to read data from a csv file, and creating a geoJson file using modified version of:</p>\n\n<blockquote>\n  <p><a href=\"http://www.andrewdyck.com/how-to-convert-csv-data-to-geojson/\" rel=\"nofollow noreferrer\">http://www.andrewdyck.com/how-to-convert-csv-data-to-geojson/</a>\n  Thank you Andrew</p>\n</blockquote>\n\n<p>Here is the JavaScript used to call the python method.  It is called with an onClick function call in the html:</p>\n\n<pre><code>function getValues(){\n    $.ajax({\n       data: chks}, // there is data passed, but it doesn't effect this issue\n       type : 'POST',\n       url : '/process'\n})\n  .done(function(data){  // its this passed data that is not being read correctly.  When I hard code this with the geojson found below, it works great.\n      var markOptions = {\n          radius:8,\n          ... };\n      var pntslay = L.geoJson(data, {\n          pointsToLayer: function(feature, latlng){\n             return L.circleMarker(latlng, markOptions);\n}}).addTo(map);\n</code></pre>\n\n<p>Here is my modified python and flask code:</p>\n\n<pre><code>@app.route('/process', methods=['POST'])\ndef process():\n    data = request.form['chks']\n    rawData = csv.reader(open('sample.csv', 'rb'), dialect='excel')\n# the template. where data from the csv will be formatted to geojson\n    template = \\\n    ''' \\\n    { \"type\" : \"Feature\",\n        \"geometry\" : {\n            \"type\" : \"Point\",\n            \"coordinates\" : [%s,%s]},\n    \"properties\" : { \"name\" : \"%s\", \"value\" : \"%s\"}\n    },\n    '''\n# the head of the geojson file\n    output = \\\n    ''' \\\n    { \"type\" : \"Feature Collection\",\n    {\"features\" : [\n    '''\n# loop through the csv by row skipping the first\n    iter = 0\n    for row in rawData:\n        iter += 1\n        if iter &gt;= 2:\n            id = row[0]\n            lat = row[1]\n            lon = row[2]\n    output += template % (row[2], row[1], row[0])\n # the tail of the geojson file\n    output += \\\n    ''' \\\n    ]};\n    '''            \n    return output\n</code></pre>\n\n<p>Here is the geoJson file.  When I hard code this, it works.  When I use the passed data from the python script, it does not.  The hardcoded data was copied from the output in firefox firebug.</p>\n\n<pre><code>var geojsonPnts = {\n    \"type\": \"Feature Collection\",\n    \"feature\" : [\n        {\"type\" : \"Feature\",\n        \"geometry\" : {\n             \"type\" : \"Point\",\n             \"coordinates\" : [ -86.27, 32.36 ]},\n        \"properties\" : { \"name\" : \"some place\" }\n      },\n       {\"type\" : \"Feature\",\n        \"geometry\" : {\n             \"type\" : \"Point\",\n             \"coordinates\" : [ -105.45, 40.63 ]},\n        \"properties\" : { \"name\" : \"some other place\" }\n      },\n      ]};\n</code></pre>\n\n<p>I am not sure why the passed data is not working.  Please excuse typos and fat fingers errors.  I am not able to copy and paste my working code to here.</p>\n"}, {"tags": ["python", "import", "dynamically-generated"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498686946, "post_id": 44813125, "comment_id": 76606985, "body": "What exception? The full error message including the full stack-trace is almost always extremely helpful for debugging."}, {"owner": {"reputation": 25, "user_id": 4854320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026c30e33a0a78592353cae18d8dbd4?s=128&d=identicon&r=PG&f=1", "display_name": "cbueltem", "link": "https://stackoverflow.com/users/4854320/cbueltem"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498724047, "post_id": 44813125, "comment_id": 76619409, "body": "Thanks juanpa, I&#39;ve updated my question"}], "answers": [{"comments": [{"owner": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1498690708, "post_id": 44813513, "comment_id": 76608225, "body": "You should think carefully about how you&#39;re doing this.  From your question it looks like you are loading modules outside the normal import mechanism.  Your solution works for the files you showed, but if you try to import a &quot;plugin&quot; from some other location, you&#39;ll likely have the same problem again."}, {"owner": {"reputation": 25, "user_id": 4854320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026c30e33a0a78592353cae18d8dbd4?s=128&d=identicon&r=PG&f=1", "display_name": "cbueltem", "link": "https://stackoverflow.com/users/4854320/cbueltem"}, "reply_to_user": {"reputation": 209114, "user_id": 1427416, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/QWHKg.png?s=128&g=1", "display_name": "BrenBarn", "link": "https://stackoverflow.com/users/1427416/brenbarn"}, "edited": false, "score": 0, "creation_date": 1498723952, "post_id": 44813513, "comment_id": 76619343, "body": "BrenBarn, thats true. However, the restrictions you trade against a nice structure are not that hard: Once the containing directory (&quot;filters&quot;) is not renamed one can freely move it around."}], "tags": [], "owner": {"reputation": 25, "user_id": 4854320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026c30e33a0a78592353cae18d8dbd4?s=128&d=identicon&r=PG&f=1", "display_name": "cbueltem", "link": "https://stackoverflow.com/users/4854320/cbueltem"}, "is_accepted": true, "score": 0, "last_activity_date": 1498688894, "creation_date": 1498688894, "answer_id": 44813513, "question_id": 44813125, "link": "https://stackoverflow.com/questions/44813125/how-to-import-a-module-statically-within-a-dynamically-loaded-module/44813513#44813513", "title": "How to import a module statically within a dynamically loaded module", "body": "<p>Adding the empty file </p>\n\n<pre><code>filters/__init__.py\n</code></pre>\n\n<p>and changing the import statement in testFilter.py to</p>\n\n<pre><code>import filters.varianceFilter as vf \n</code></pre>\n\n<p>fixed the problem.</p>\n"}], "owner": {"reputation": 25, "user_id": 4854320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6026c30e33a0a78592353cae18d8dbd4?s=128&d=identicon&r=PG&f=1", "display_name": "cbueltem", "link": "https://stackoverflow.com/users/4854320/cbueltem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 44813513, "answer_count": 1, "score": 0, "last_activity_date": 1498688894, "creation_date": 1498686717, "last_edit_date": 1498688258, "question_id": 44813125, "link": "https://stackoverflow.com/questions/44813125/how-to-import-a-module-statically-within-a-dynamically-loaded-module", "title": "How to import a module statically within a dynamically loaded module", "body": "<p>I am dynamically loading filters to my app. Now I want to be able to extend existing filters:</p>\n\n<p>In my Main.py I do:</p>\n\n<pre><code>spec = importlib.util.spec_from_file_location(filter, file)\ninst = importlib.util.module_from_spec(spec)\nspec.loader.exec_module(inst)\n</code></pre>\n\n<p>I have a file called varianceFilter.py that loads and runs fine:</p>\n\n<p>varianceFilter.py:</p>\n\n<pre><code>def run(images):\n    #do something\n    return result\n</code></pre>\n\n<p>Now I want to reuse and extend this filter like so:</p>\n\n<p>testFilter.py: </p>\n\n<pre><code>import varianceFilter as vf\n\ndef run(images):\n    ret = vf.run(images)\n    #do something with ret \n    return ret\n</code></pre>\n\n<p>However as soon as I try to import varianceFilter.py the exception </p>\n\n<pre><code>No module named 'varianceFilter'\n</code></pre>\n\n<p>is thrown. both files are in the same directory. \nWhat am I doing wrong?</p>\n\n<p><strong>EDIT:</strong> </p>\n\n<p>My directory structure is:</p>\n\n<pre><code>main.py \nfilters/varianceFilter.py\nfilters/testFilter.py\n</code></pre>\n\n<p>After creating a copy of varianceFilter in the main directory, testFilter.py works fine.</p>\n"}, {"tags": ["python", "python-2.7", "csv", "praw"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498687077, "post_id": 44813122, "comment_id": 76607040, "body": "What do you <i>expect</i> it to write? That is the default <code>__str__</code> implementation all objects inherit from the <code>object</code>."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 2, "creation_date": 1498687122, "post_id": 44813122, "comment_id": 76607062, "body": "Also, are you using <code>pandas</code> <i>only</i> to write a csv? Seems like overkill. You should just use the <code>csv</code> module."}, {"owner": {"reputation": 99, "user_id": 7855318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297ef8fbfb2e9f00cf814e3e99a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marjorie Pickard", "link": "https://stackoverflow.com/users/7855318/marjorie-pickard"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498688179, "post_id": 44813122, "comment_id": 76607457, "body": "Sorry, I am new to all this.  Just using csv is better? I was hoping to write the object like: {time: ####, score: #### ...}"}, {"owner": {"reputation": 1011, "user_id": 3924113, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhGO9.png?s=128&g=1", "display_name": "calico_", "link": "https://stackoverflow.com/users/3924113/calico"}, "edited": false, "score": 0, "creation_date": 1498688200, "post_id": 44813122, "comment_id": 76607463, "body": "Try changing this <code>df = pd.DataFrame(data)</code> to this <code>df = pd.DataFrame([obj.__dict__ for obj in data])</code>. Pandas dataframes need to be constructed from an object that Pandas understands, one option is a list of dictionaries."}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498688290, "post_id": 44813122, "comment_id": 76607492, "body": "@MarjoriePickard with the brackets and colons? Try out the answer I used below."}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 7855318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297ef8fbfb2e9f00cf814e3e99a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marjorie Pickard", "link": "https://stackoverflow.com/users/7855318/marjorie-pickard"}, "edited": false, "score": 0, "creation_date": 1498688347, "post_id": 44813319, "comment_id": 76607515, "body": "Thank you so much!"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 99, "user_id": 7855318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297ef8fbfb2e9f00cf814e3e99a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marjorie Pickard", "link": "https://stackoverflow.com/users/7855318/marjorie-pickard"}, "edited": false, "score": 2, "creation_date": 1498688425, "post_id": 44813319, "comment_id": 76607537, "body": "@MarjoriePickard when you find yourself writing a class that you expect to use to create a bunch of objects that essentially function as records, (i.e. only data attributes, no methods), then you can probably just use <code>namedtuple</code>. This will write a very efficient class for you!"}, {"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "reply_to_user": {"reputation": 99, "user_id": 7855318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297ef8fbfb2e9f00cf814e3e99a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marjorie Pickard", "link": "https://stackoverflow.com/users/7855318/marjorie-pickard"}, "edited": false, "score": 1, "creation_date": 1498688989, "post_id": 44813319, "comment_id": 76607720, "body": "@MarjoriePickard and when I say it writes the class for you, I mean literally, it generates a class definition and executes it. You can see exactly what your <code>Submission</code> namedtuple class looks like, checkout <code>print(Submission._source)</code>"}], "tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": true, "score": 3, "last_activity_date": 1579906326, "last_edit_date": 1579906326, "creation_date": 1498687696, "answer_id": 44813319, "question_id": 44813122, "link": "https://stackoverflow.com/questions/44813122/writing-list-of-objects-to-csv-file/44813319#44813319", "title": "Writing list of objects to csv file", "body": "<p>Your submission class seems to simply function as a record type. You probably could just use a <code>namedtuple</code>. So replace you class definition with:</p>\n\n<pre><code>from collections import namedtuple\nSubmission = namedtuple('Submission', ['time', 'score', 'title', 'text', 'ofReddit', 'serious'])\n</code></pre>\n\n<p>Now the rest of your code should just work. <code>pandas</code> doesn't know how to interpret your <code>Submission</code> class you originally wrote. So it simply makes a single column of <code>Submission</code> objects, and when it writes, it uses the <code>str(Submission())</code> which defaults to the <code>object</code> <code>__str__</code> since you did not define another <code>__str__</code>. Really, you want to use a sequence. The  <code>namedtuple</code> function is actually a <em>class factory</em>, and it created a record-type derived from <code>tuple</code>, so it has all the handy functions you need with a very handy constructor.</p>\n\n<p>Now, since you are using Python 2, I didn't bother to change your use of <code>pandas</code>, even though it seems like overkill to only use it for writing a csv. That being said, getting Python 2 csv module to play nice with unicode is a pain, so you might as well keep it. If you could switch to <strong>Python 3</strong>, you could simply replace the <code>pandas</code> stuff with:</p>\n\n<pre><code>import csv\nwith open(filename, 'w', newline='', encoding='utf8') as f:\n    writer = csv.writer(f)\n    writer.writerow(Submission._fields) # namedtuple breaks convention public fields have single underscore\n    writer.writerows(data)\n</code></pre>\n"}], "owner": {"reputation": 99, "user_id": 7855318, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d297ef8fbfb2e9f00cf814e3e99a1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marjorie Pickard", "link": "https://stackoverflow.com/users/7855318/marjorie-pickard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9711, "favorite_count": 1, "accepted_answer_id": 44813319, "answer_count": 1, "score": 3, "last_activity_date": 1579906326, "creation_date": 1498686715, "question_id": 44813122, "link": "https://stackoverflow.com/questions/44813122/writing-list-of-objects-to-csv-file", "title": "Writing list of objects to csv file", "body": "<p>I am writing a python program that loops through reddit submissions, pulls data, and stores it as an object in a list.  However I am having trouble writing that list to a csv file. The file is created but it just gives some kind of id tag for the objects. How should I change the csv code?</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>import praw\nfrom datetime import datetime\nimport pandas as pd\n\nclass Submission:\n    def __init__(self, time, score, title, text, ofReddit, serious):\n        self.time = time\n        self.score = score\n        self.title = title\n        self.text = text\n        self.ofReddit = ofReddit\n        self.serious = serious\ndata = []\n\nreddit = praw.Reddit(client_id=id, client_secret=secret,\n                     user_agent='testscript by /u/SilentButtDeadlies')\nsubreddit = reddit.subreddit('AskReddit')\nfor submission in subreddit.new(limit=50):\n    time = datetime.utcfromtimestamp(submission.created_utc).hour\n    score = submission.score\n    title = len(submission.title)\n    text = len(submission.selftext)\n    if 'of reddit' in submission.title.lower():\n        ofReddit = 1\n    else:\n        ofReddit = 0\n    if '[serious]' in submission.title.lower():\n        serious = 1\n    else:\n        serious = 0\n    data.append(Submission(time, score, title, text, ofReddit, serious))\ndf = pd.DataFrame(data)\nfilename = 'AskRedditData' + str(datetime.now()) + '.csv'\ndf.to_csv(filename, index=False, encoding='utf-8')\n</code></pre>\n\n<p><strong>CSV File</strong></p>\n\n<pre><code>0\n&lt;__main__.Submission instance at 0x1118f6ef0&gt;\n&lt;__main__.Submission instance at 0x1118f68c0&gt;\n&lt;__main__.Submission instance at 0x1118f6950&gt;\n&lt;__main__.Submission instance at 0x1118c3758&gt;\n&lt;__main__.Submission instance at 0x11239c638&gt;\n&lt;__main__.Submission instance at 0x11239c5f0&gt;\n&lt;__main__.Submission instance at 0x112398908&gt;\n&lt;__main__.Submission instance at 0x112398998&gt;\n&lt;__main__.Submission instance at 0x112398878&gt;\n&lt;__main__.Submission instance at 0x1123989e0&gt;\n&lt;__main__.Submission instance at 0x112398c68&gt;\n&lt;__main__.Submission instance at 0x11239fe18&gt;\n&lt;__main__.Submission instance at 0x11239fe60&gt;\n&lt;__main__.Submission instance at 0x11239fea8&gt;\n&lt;__main__.Submission instance at 0x11239fef0&gt;\n&lt;__main__.Submission instance at 0x11239ff38&gt;\n&lt;__main__.Submission instance at 0x11239ff80&gt;\n&lt;__main__.Submission instance at 0x11239ffc8&gt;\n&lt;__main__.Submission instance at 0x112404050&gt;\n&lt;__main__.Submission instance at 0x112404098&gt;\n&lt;__main__.Submission instance at 0x1124040e0&gt;\n&lt;__main__.Submission instance at 0x112404128&gt;\n&lt;__main__.Submission instance at 0x112404170&gt;\n&lt;__main__.Submission instance at 0x1124041b8&gt;\n&lt;__main__.Submission instance at 0x112404200&gt;\n&lt;__main__.Submission instance at 0x112404248&gt;\n&lt;__main__.Submission instance at 0x112404290&gt;\n&lt;__main__.Submission instance at 0x1124042d8&gt;\n&lt;__main__.Submission instance at 0x112404320&gt;\n&lt;__main__.Submission instance at 0x112404368&gt;\n&lt;__main__.Submission instance at 0x1124043b0&gt;\n&lt;__main__.Submission instance at 0x1124043f8&gt;\n&lt;__main__.Submission instance at 0x112404440&gt;\n&lt;__main__.Submission instance at 0x112404488&gt;\n&lt;__main__.Submission instance at 0x1124044d0&gt;\n&lt;__main__.Submission instance at 0x112404518&gt;\n&lt;__main__.Submission instance at 0x112404560&gt;\n&lt;__main__.Submission instance at 0x1124045a8&gt;\n&lt;__main__.Submission instance at 0x1124045f0&gt;\n&lt;__main__.Submission instance at 0x112404638&gt;\n&lt;__main__.Submission instance at 0x112404680&gt;\n&lt;__main__.Submission instance at 0x1124046c8&gt;\n&lt;__main__.Submission instance at 0x112404710&gt;\n&lt;__main__.Submission instance at 0x112404758&gt;\n&lt;__main__.Submission instance at 0x1124047a0&gt;\n&lt;__main__.Submission instance at 0x1124047e8&gt;\n&lt;__main__.Submission instance at 0x112404830&gt;\n&lt;__main__.Submission instance at 0x112404878&gt;\n&lt;__main__.Submission instance at 0x1124048c0&gt;\n&lt;__main__.Submission instance at 0x112404908&gt;\n</code></pre>\n"}, {"tags": ["python", "format", "condor"], "answers": [{"tags": [], "owner": {"reputation": 9, "user_id": 2868687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd0a496af62324674c5ae7c6d6bbad0c?s=128&d=identicon&r=PG&f=1", "display_name": "Nathan Panike", "link": "https://stackoverflow.com/users/2868687/nathan-panike"}, "is_accepted": false, "score": 0, "last_activity_date": 1500598893, "creation_date": 1500598893, "answer_id": 45227367, "question_id": 44813117, "link": "https://stackoverflow.com/questions/44813117/htcondor-shadow-exception-errno-8-exec-format-error/45227367#45227367", "title": "HTCondor Shadow exception : [Errno 8] Exec format error", "body": "<p>Check the execute permissions on your executable.  I think the shadow log is showing that the executable bit is not set.</p>\n"}, {"tags": [], "owner": {"reputation": 2844, "user_id": 1293193, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/676c61ba1a41fd38cab9ffba556eb5e0?s=128&d=identicon&r=PG", "display_name": "Larry Martell", "link": "https://stackoverflow.com/users/1293193/larry-martell"}, "is_accepted": false, "score": 6, "last_activity_date": 1519066317, "creation_date": 1519066317, "answer_id": 48872459, "question_id": 44813117, "link": "https://stackoverflow.com/questions/44813117/htcondor-shadow-exception-errno-8-exec-format-error/48872459#48872459", "title": "HTCondor Shadow exception : [Errno 8] Exec format error", "body": "<p>In my case I got this error because the job was a python script and it did not have a shebang as the first line. </p>\n"}], "owner": {"reputation": 651, "user_id": 726529, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/db21ac0812bccde48fffabdd6b30cd8b?s=128&d=identicon&r=PG", "display_name": "ZAWD", "link": "https://stackoverflow.com/users/726529/zawd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1519066317, "creation_date": 1498686695, "last_edit_date": 1498716483, "question_id": 44813117, "link": "https://stackoverflow.com/questions/44813117/htcondor-shadow-exception-errno-8-exec-format-error", "title": "HTCondor Shadow exception : [Errno 8] Exec format error", "body": "<p>I am new for HTcondor, after I submit a job via Putty, the job is being put on hold, the log file says the error below:</p>\n\n<pre><code>007 (274036.000.000) 06/28 23:12:08 Shadow exception!\n    Error from slot1@hana-******: Failed to execute '/var/lib/condor/execute/dir_107122/condor_exec.exe': (errno=8: 'Exec format error')\n     0  -  Run Bytes Sent By Job\n     16520  -  Run Bytes Received By Job\n     ...\n\n012 (274036.000.000) 06/28 23:12:08 Job was held.\n     Error from slot1@hana-2.*******: Failed to execute'/var/lib/condor/execute/dir_107122/condor_exec.exe': (errno=8: 'Exec format error')\n     Code 6 Subcode 8\n     ...\n</code></pre>\n\n<p>below is my submit description file:</p>\n\n<pre><code># defining the programm\ncmd = /***/my_prog.ipynb\n# defining the parameters\n\n#args = /***/model_1/data_1.csv\n#args = /***/model_2/data_2.csv\n#args = /***/model_3/data_3.csv\n#args = /***/model_4/data_4.csv\n# defining memory requirements\nrequest_memory = 100 GB\n# defining to use 1 CPU\nrequest_cpus = 100\n# defining the max. run time of the job\n+REQUESTED_WALLTIME = 72\n# defining the mail address for notification\nnotify_user = ***@**.com\nnotification = Always\nshould_transfer_files = if_needed\nwhen_to_transfer_output = on_exit\noutput = $(Cluster)-$(Process)_job.out\nerror = $(Cluster)-$(Process)_job.error\nlog = $(Cluster)-$(Process)_job.log\nqueue 1\n</code></pre>\n\n<p>In this case, the my_prog.ipynb itself has the code to read the local four files as input, meanwhile, the my_prog.ipynb also contains \"print\" command to write the results in a local file. </p>\n\n<p>Base on this situation, i am really confuse should i also configure the args in the submit description files?</p>\n\n<p>Please give me any small hint, this problem makes me tough for 3 days...</p>\n\n<p>any suggestion would be thankful !</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["python", "scrapy", "multiprocessing"], "comments": [{"owner": {"reputation": 9070, "user_id": 6817835, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/8GBAa.jpg?s=128&g=1", "display_name": "gold_cy", "link": "https://stackoverflow.com/users/6817835/gold-cy"}, "edited": false, "score": 0, "creation_date": 1498686325, "post_id": 44813012, "comment_id": 76606722, "body": "does anybody bother reading <a href=\"https://stackoverflow.com/help/how-to-ask\">guidelines</a> anymore?"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1498851866, "post_id": 44832477, "comment_id": 76688507, "body": "Yeah I figured the best way to do this would be to put all the URl&#39;s in start_urls. I didn&#39;t know about the concurrency though. The default value looks to be 16. I tried this with a list of 30 URL&#39;s and it still take like 5-10 seconds to request and scrape. Would 1000 requests be too many do have at once? I&#39;ve got about 11,000 URL&#39;s."}, {"owner": {"reputation": 73, "user_id": 6942887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9edfbc771e3056957ef1cc33bd59c9dc?s=128&d=identicon&r=PG", "display_name": "vchslv13", "link": "https://stackoverflow.com/users/6942887/vchslv13"}, "reply_to_user": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1498859309, "post_id": 44832477, "comment_id": 76691269, "body": "&gt;&quot;I didn&#39;t know about the concurrency though&quot; You should definitely look at the list of Scrapy settings (<a href=\"https://doc.scrapy.org/en/latest/topics/settings.html\" rel=\"nofollow noreferrer\">doc.scrapy.org/en/latest/topics/settings.html</a>) if you haven&#39;t yet. There are different concurrency settings there (per domain, per IP, etc) which you can try changing to get the best performance.   &gt;&quot;Would 1000 requests be too many do have at once?&quot; I don&#39;t know exactly, but I think that heavily depends on your machine specs and Internet connection. Also you can try dividing the list of URL&#39;s into e.g. 4 scripts and run them by scrapy-deploy for better concurrent processing."}, {"owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1498958752, "post_id": 44832477, "comment_id": 76712794, "body": "I thought that scrapy takes your script and the bottleneck isn&#39;t the individual spiders but at the actual main scrapy script? So running 4 separate scripts won&#39;t doe much. Although it won&#39;t hurt to try."}, {"owner": {"reputation": 73, "user_id": 6942887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9edfbc771e3056957ef1cc33bd59c9dc?s=128&d=identicon&r=PG", "display_name": "vchslv13", "link": "https://stackoverflow.com/users/6942887/vchslv13"}, "reply_to_user": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "edited": false, "score": 0, "creation_date": 1499003040, "post_id": 44832477, "comment_id": 76721388, "body": "I`m telling not about Scrapy itself, but about scrapy-deploy (or Scrapyd) - it spawns a new Scrapy process for each spider (<a href=\"http://scrapyd.readthedocs.io/en/stable/overview.html#how-scrapyd-works\" rel=\"nofollow noreferrer\">scrapyd.readthedocs.io/en/stable/&hellip;</a>), so you can gain some profit from processing feed in a few processes. Crawling is not CPU-bound usually, but in your case it can be a problem too (I have only around 20-30 spiders now and they take all CPU resources for an almost 2 hours when scraping starts on our server with Intel Xeon E3-1275 v5), so you should definitely try it"}], "tags": [], "owner": {"reputation": 73, "user_id": 6942887, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9edfbc771e3056957ef1cc33bd59c9dc?s=128&d=identicon&r=PG", "display_name": "vchslv13", "link": "https://stackoverflow.com/users/6942887/vchslv13"}, "is_accepted": true, "score": 1, "last_activity_date": 1498761596, "last_edit_date": 1498761596, "creation_date": 1498760828, "answer_id": 44832477, "question_id": 44813012, "link": "https://stackoverflow.com/questions/44813012/how-to-get-multiple-scrapy-spiders-to-parse-a-list-of-url-links-at-the-same-time/44832477#44832477", "title": "How to get multiple Scrapy spiders to parse a list of URL links at the same time?", "body": "<p>Did you try to solve the task without using multiple spiders?</p>\n\n<p>Try to just add all the URLs to 'start_urls' list or get the list of URLs from file in 'start_requests' method and adjust the level of concurrency using Srapy`s settings such as 'CONCURRENT_REQUESTS' and 'CONCURRENT_ITEMS', like:</p>\n\n<pre><code>custom_settings = {\n    'CONCURRENT_REQUESTS': '1000',\n    'CONCURRENT_ITEMS': '10000'\n}\n</code></pre>\n\n<p>Or something which fits your tasks more.</p>\n\n<p>P.S. Generating a number of Scrapy spiders from the list of URLs and running them concurrently with scrapy-deploy (<a href=\"http://scrapyd.readthedocs.io/en/stable/\" rel=\"nofollow noreferrer\">http://scrapyd.readthedocs.io/en/stable/</a>) is also an option, although it looks like a little dirty as for me.</p>\n"}], "owner": {"reputation": 41, "user_id": 3011512, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1567391ac2c0bda02a9149925be72f93?s=128&d=identicon&r=PG", "display_name": "Adam Marciniak", "link": "https://stackoverflow.com/users/3011512/adam-marciniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 44832477, "answer_count": 1, "score": 2, "last_activity_date": 1498761596, "creation_date": 1498686147, "question_id": 44813012, "link": "https://stackoverflow.com/questions/44813012/how-to-get-multiple-scrapy-spiders-to-parse-a-list-of-url-links-at-the-same-time", "title": "How to get multiple Scrapy spiders to parse a list of URL links at the same time?", "body": "<p>I've got a list of about 1000 URL's and I need to extract the same kind of data from each one. Is there a way to get Scrapy to \"deploy\" multiple spiders at once to each take a URL from the list and parse the page and then output to a common dictionary? I'm thinking of using 10 or more spiders to do this. </p>\n"}, {"tags": ["java", "python", "algorithm", "indentation"], "comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498686425, "post_id": 44812996, "comment_id": 76606759, "body": "In python there is <a href=\"https://www.pylint.org/\" rel=\"nofollow noreferrer\">pylint</a> that does a lot of checking for indention, naming standards, and other PEP 8 related formatting. You could take a look at its code to find out how it works. Here is the <a href=\"https://github.com/PyCQA/pylint\" rel=\"nofollow noreferrer\">source code</a> for pylint"}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 1, "creation_date": 1498686617, "post_id": 44812996, "comment_id": 76606840, "body": "You should be able to handle everything using a stack of stacks approach. The outermost stack shall contain a stack for each line of indentation, and will check to make sure that each line is indented in at the right threshold, and will hold the ordering of nested conditionals, loops, etc, to ensure that you are not per say ending a &#39;for&#39; loop before the &#39;if&#39; statement inside of it has finished. The inner stack can handle the complexity of the individual statements, such as your if..elif..else situation. Append new if statements onto their own stack and add it to the outer stack."}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1498686687, "post_id": 44812996, "comment_id": 76606867, "body": "When you reach an elif, you can simply just check to make sure the top of the outer stack is an if statement, and then move on without adding it. If you reach an else, you can pop the if statement off the outer stack as it has been concluded--and therefore everything inside of it."}, {"owner": {"reputation": 1732, "user_id": 8121683, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1fnlik1dgxU/AAAAAAAAAAI/AAAAAAAAATk/MvX5UOgKBfg/photo.jpg?sz=128", "display_name": "Easton Bornemeier", "link": "https://stackoverflow.com/users/8121683/easton-bornemeier"}, "edited": false, "score": 0, "creation_date": 1498686719, "post_id": 44812996, "comment_id": 76606888, "body": "Obviously there are going to be some situations where you are going to have to play with this idea, but I think generally this is a good place to start."}], "answers": [{"tags": [], "owner": {"reputation": 211, "user_id": 5689011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GimPo.jpg?s=128&g=1", "display_name": "PSub", "link": "https://stackoverflow.com/users/5689011/psub"}, "is_accepted": true, "score": 1, "last_activity_date": 1498697369, "creation_date": 1498697369, "answer_id": 44814671, "question_id": 44812996, "link": "https://stackoverflow.com/questions/44812996/how-to-implement-an-algorithm-to-check-pythoncodes-indentation/44814671#44814671", "title": "How to implement an algorithm to check Python&#39;code&#39;s indentation", "body": "<p>The way I see it, there's two distinct ways that you can solve this question.</p>\n\n<ol>\n<li>Convert the python code to some intermediary format which resembles a Context-Free Grammar (CFG) and then perform the error checking on the CFG.</li>\n<li>Case checking.</li>\n</ol>\n\n<p>The former is a little more elegant and revolves around compiler theory, or at the very minimum, Automata theory. While this process is guaranteed to work and establishes some sort of language that people can refer to, it may be extremely tedious for something that is time sensitive. It's an elaborate fix to what may seemingly be, a simple task. The advantage of this technique would be that, if we're looking for a \"hacky\" solution, such as find the \":\" and then checking if the next line is indented or not, this may not work for certain inline commands in python that use \":\". An example for this could be <code>print(\"Enter your name:\")</code>, or a <code>subprocess.Popen</code> command. This case will ensure that errors like this are avoided.</p>\n\n<p>The latter on the other hand is extremely difficult to keep track of as a programmer and debugging it would be fairly difficult. I say this in some relativistic measure, there would be several cases to check, top level statements. So let's use some \"good programming practices\", since the keywords <code>def if elif else class etc</code> can be stored in a common locationIn order to solve this, we'd declare some variable (let's call it <code>i</code>, and read in the file line by line and checking the first (or zeroth character). If the character is not a space, we will read till the next whitespace and check if that word exists in some Trie of words that define indentation blocks (you could use a hash as well, doesn't make a difference). If it is in one of the blocks, you increment <code>i</code> by 4 and move on to the next line. In the subsequent line, you'd read up to the ith character and ensure they're spaces. Essentially, you'd repeat this process until you find something that contradicts what is being looked for. Now, if something does contradict what we're looking for, we may have to read the previous line. Consider </p>\n\n<p><code>long_sequence = [1,2,3,4,1,2,3,4,1,2,3,4,\n                 5,6,7]</code></p>\n\n<p>Now, this would technically throw an error, so we have to consider this case and several cases which are similar to this where there is a line which is longer than a single line but the command is not complete in the one line.</p>\n\n<p>So, as previously mentioned solution 2 would be very tedious and a debugging nightmare, 1 is elegant but really hard to construct. It really does depend on the timeline that you have to construct it.</p>\n"}], "owner": {"reputation": 3507, "user_id": 3358927, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c503d6e35d00e981f6f4f24cb2ce73e5?s=128&d=identicon&r=PG&f=1", "display_name": "ddd", "link": "https://stackoverflow.com/users/3358927/ddd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 929, "favorite_count": 0, "accepted_answer_id": 44814671, "answer_count": 1, "score": 1, "last_activity_date": 1498697369, "creation_date": 1498686094, "question_id": 44812996, "link": "https://stackoverflow.com/questions/44812996/how-to-implement-an-algorithm-to-check-pythoncodes-indentation", "title": "How to implement an algorithm to check Python&#39;code&#39;s indentation", "body": "<p>I was recently interviewed with a local tech company for Java developer role and was asked to write a Java program to check the correctness of indentation in python code (at least find the first indentation error).</p>\n\n<p>It may be easier to deal with <code>def</code>, <code>while</code> and <code>for</code>. However it is tricky to handle things like <code>if...elif...else</code>. There are different situations, for example, just <code>if</code> no <code>else</code> or <code>elif</code>; nested <code>if</code>s. If it is paired, maybe I can use a stack, but you don't know whether they are paired or not. </p>\n\n<p>I could really use some advice here.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "reply_to_user": {"reputation": 465, "user_id": 6530840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d1682befbed76b1aa21ad1f4192e31e?s=128&d=identicon&r=PG", "display_name": "Alastair", "link": "https://stackoverflow.com/users/6530840/alastair"}, "edited": false, "score": 0, "creation_date": 1498686275, "post_id": 44812994, "comment_id": 76606701, "body": "@Alastair False, pygame requires the user to have and infinite <code>while</code> loop to simulate the continuous event loop"}, {"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 1, "creation_date": 1498686387, "post_id": 44812994, "comment_id": 76606749, "body": "@jayardot although the code is fairly simple, we would like you to copy and paste your code to the question itself as well (to avoid misreading, and prevent the risk of the hosting site taking down the image)."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498686614, "post_id": 44812994, "comment_id": 76606836, "body": "What crash? Why do you think there&#39;s a crash here?"}, {"owner": {"reputation": 17, "user_id": 8228561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e1846dbdada6fd095266d1008db83e?s=128&d=identicon&r=PG&f=1", "display_name": "jayardot", "link": "https://stackoverflow.com/users/8228561/jayardot"}, "edited": false, "score": 0, "creation_date": 1498687571, "post_id": 44812994, "comment_id": 76607243, "body": "okay so by crash i meant as soon as the program window opens, it becomes unresponsive. if i move my mouse over it i just get the blue circle like its processing something."}], "answers": [{"comments": [{"owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "reply_to_user": {"reputation": 17, "user_id": 8228561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e1846dbdada6fd095266d1008db83e?s=128&d=identicon&r=PG&f=1", "display_name": "jayardot", "link": "https://stackoverflow.com/users/8228561/jayardot"}, "edited": false, "score": 0, "creation_date": 1498741582, "post_id": 44813067, "comment_id": 76632134, "body": "Glad to help. Please consider accepting this answer so that other users know your question is answered. Thank you."}], "tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1498686659, "last_edit_date": 1498686659, "creation_date": 1498686384, "answer_id": 44813067, "question_id": 44812994, "link": "https://stackoverflow.com/questions/44812994/python-3-6-pygame-crashing/44813067#44813067", "title": "Python 3.6 pygame crashing", "body": "<p>When I run your code, the window loads and displays the rectangle, however, I think you issue involves trying to quit the program. To do that, you need to have an event loop that will kill the game when the user quits out of the game loop:</p>\n\n<pre><code>import pygame\n\npygame.init()\n\nisrunning = True\n\nwindow = pygame.display.set_mode((500, 400))\n\nwhile isrunning:\n   for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                isrunning = False\n    pygame.draw.rect(window, (255, 0, 0), (0, 0, 50, 30)) #here, access the rect method\n\n    pygame.display.update()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "is_accepted": false, "score": 0, "last_activity_date": 1498687600, "last_edit_date": 1498687600, "creation_date": 1498686914, "answer_id": 44813161, "question_id": 44812994, "link": "https://stackoverflow.com/questions/44812994/python-3-6-pygame-crashing/44813161#44813161", "title": "Python 3.6 pygame crashing", "body": "<p>You will need to fill the screen with a background color. If you want black, you still will need to manually set the background color to black.</p>\n\n<pre><code>import pygame\n\npygame.init()\nwindow = pygame.display.set_mode((500, 400))\n\nwhile True:\n    window.fill(0, 0, 0)\n    pygame.draw.rect(window, (255, 0, 0), (0, 0, 50, 30))\n\n    pygame.display.flip()\n</code></pre>\n\n<p>And it will be better if you add a frame rate, and add an event loop.</p>\n\n<pre><code>import pygame\n\npygame.init()\nwindow = pygame.display.set_mode((500, 400))\nclock = pygame.time.Clock()\n\nwhile True:\n    window.fill(0, 0, 0)\n    pygame.event.pump()  # use pump if you\u2019re not planning to catch any event\n\n    pygame.draw.rect(window, (255, 0, 0), (0, 0, 50, 30))\n    pygame.display.flip()\n    clock.tick(50)  # add the frame rate, should always be &gt; 30\n</code></pre>\n\n<p>And as a general tip, use <code>flip()</code> if you\u2019re not passing any the rectangle argument to <code>update()</code></p>\n"}, {"comments": [{"owner": {"reputation": 23589, "user_id": 6622817, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/93f66cc4703b66b835cf13dfeee21e7b?s=128&d=identicon&r=PG&f=1", "display_name": "abccd", "link": "https://stackoverflow.com/users/6622817/abccd"}, "edited": false, "score": 0, "creation_date": 1498688118, "post_id": 44813365, "comment_id": 76607437, "body": "Edit your post by clicking the edit button, DO NOT post a non-answer as an answer, but very appropriated that you paste your code. Delete this answer please."}], "tags": [], "owner": {"reputation": 17, "user_id": 8228561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e1846dbdada6fd095266d1008db83e?s=128&d=identicon&r=PG&f=1", "display_name": "jayardot", "link": "https://stackoverflow.com/users/8228561/jayardot"}, "is_accepted": false, "score": 0, "last_activity_date": 1498687950, "creation_date": 1498687950, "answer_id": 44813365, "question_id": 44812994, "link": "https://stackoverflow.com/questions/44812994/python-3-6-pygame-crashing/44813365#44813365", "title": "Python 3.6 pygame crashing", "body": "<pre><code>import pygame\npygame.init()\nwindow = pygame.display.set_mode((500, 400))\nwhile True:\n    pygame.draw.rect(window, (255,0,0),\n        (0, 0, 50, 30))\n    pygame.display.update()\n</code></pre>\n\n<p>heres the code </p>\n"}], "owner": {"reputation": 17, "user_id": 8228561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6e1846dbdada6fd095266d1008db83e?s=128&d=identicon&r=PG&f=1", "display_name": "jayardot", "link": "https://stackoverflow.com/users/8228561/jayardot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1498687950, "creation_date": 1498686081, "last_edit_date": 1498686622, "question_id": 44812994, "link": "https://stackoverflow.com/questions/44812994/python-3-6-pygame-crashing", "title": "Python 3.6 pygame crashing", "body": "<p>I tried using a really simple code to create a rectangle shape using python 3.6.1. I'm not sure if the code i'm using is causing the program to crash every time I use it or if someone could give me advice on what might be happening between my pygame module, my cmd and the code i'm using. <img src=\"https://i.stack.imgur.com/95wSb.png\" alt=\"screenshot of windows\"></p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498686380, "post_id": 44812985, "comment_id": 76606746, "body": "Your solution is correct, the 2 &quot;missing bits&quot; are just the leading <code>0</code>s, so it&#39;s not showing you them. <code>&quot;a&quot;</code> yields <code>0b1</code>. If you want to print the whole thing, you&#39;ll have to pad it out with the leading zeroes."}, {"owner": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498686673, "post_id": 44812985, "comment_id": 76606860, "body": "Yeah, but I want it to be done automatically, instead of patching Zeroes manually. Is there any way to get 32 bit int in Python?"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498686722, "post_id": 44812985, "comment_id": 76606890, "body": "The int isn&#39;t what the problem is, you want it to <b>display</b> in a certain way. This method works and generates proper integers with the appropriate bits set. the bits aren&#39;t shown because they are leading bits. <code>0b0000000001 == 0b1</code> is <code>True</code>, because it is the same number."}, {"owner": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 0, "creation_date": 1498687214, "post_id": 44812985, "comment_id": 76607099, "body": "My goal is to find whether two words have are distinct or not, After ANDing two words together ,If any bit is 1 that means  both the words have the same letter occurring in them.. How will I know how many zeroes to pad and where to pad?"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "edited": false, "score": 0, "creation_date": 1498688317, "post_id": 44813260, "comment_id": 76607505, "body": "Okay, So If I compare a 26 bit mask with a 24 bit mask will python automatically pad the 24 bit with two extra zeros while Anding them together? My eventual goal is to just AND them to check for common letters."}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "edited": false, "score": 0, "creation_date": 1498688503, "post_id": 44813260, "comment_id": 76607563, "body": "there aren&#39;t &quot;26 bit mask&quot;s or &quot;24 bit mask&quot;s. There are just integers you&#39;re interpreting a particular way. Python will properly bitwise and(<code>&amp;</code>) integers: <code>0b11111 &amp; 0b101</code> yields <code>5</code>, which is <code>0b101</code>"}, {"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "reply_to_user": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "edited": false, "score": 1, "creation_date": 1498688688, "post_id": 44813260, "comment_id": 76607619, "body": "Also, checking for distinctness you may want to do a <a href=\"https://wiki.python.org/moin/BitwiseOperators\" rel=\"nofollow noreferrer\">bitwise xor (<code>^</code>)</a> which will yield <code>0</code> <b>only when they match</b>."}], "tags": [], "owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "is_accepted": true, "score": 1, "last_activity_date": 1498687429, "creation_date": 1498687429, "answer_id": 44813260, "question_id": 44812985, "link": "https://stackoverflow.com/questions/44812985/representing-a-word-as-sequence-of-bits/44813260#44813260", "title": "Representing a word as sequence of bits", "body": "<p>You can't store leading zeroes on an integer. Thankfully, you're using <code>bin()</code>, which returns a string.</p>\n\n<p>With a little creative slicing, we can format it however we want:</p>\n\n<pre><code>return \"0b%32d\" % int(bin(mask)[2:])\n</code></pre>\n\n<p>will give:</p>\n\n<pre><code>&gt;&gt;&gt; representAsBits(\"abekz\")\n'0b00000010000000000000010000010011'\n</code></pre>\n\n<p>That being said, to compare masks, you <strong>don't have to <code>bin()</code> them</strong> except if you want to \"show\" the binary. Compare the integers themselves, which will be the same:</p>\n\n<p>with <code>return mask</code>:</p>\n\n<pre><code>&gt;&gt;&gt; representAsBits(\"z\") == representAsBits(\"zzz\")\nTrue\n</code></pre>\n\n<p>Although, since the masks will match, it <strong>doesn't matter what padding you use</strong>, as they will be the same if generated from the same mask: Any string containing only the characters <code>wxc</code> will yield the same string, regardless of what method you use.</p>\n"}], "owner": {"reputation": 87, "user_id": 1675223, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1822109d7d6a52cd47a074c2a9d24b2f?s=128&d=identicon&r=PG", "display_name": "Sameer", "link": "https://stackoverflow.com/users/1675223/sameer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 44813260, "answer_count": 1, "score": 0, "last_activity_date": 1498687429, "creation_date": 1498686017, "question_id": 44812985, "link": "https://stackoverflow.com/questions/44812985/representing-a-word-as-sequence-of-bits", "title": "Representing a word as sequence of bits", "body": "<p>I want to represent a word as a sequence of 26 bits. If 25th bit is set it means that the letter 'y' is present in that word.</p>\n\n<p>For example: word:\"abekz\"\n             representation:10000000000000010000010011\nThis is very easy to do it in C/C++ since it has a 32 bit int type. But Python's int has infinite precision so I'm unable to do it.</p>\n\n<p>Here's my (Wrong)solution:</p>\n\n<pre><code>def representAsBits(string):\n  mask=0\n  for each_char in string:\n    bit_position= ord(each_char)-97 #string consists of only lower-case letters\n    mask= mask | (1&lt;&lt;bit_position)\n  return bin(mask)\n\nprint representAsBits(\"abze\")# gives me 0b10000000000000000000010011\nprint representAsBits(\"wxcc\")# gives me 0b110000000000000000000100  2 bits missing here\n</code></pre>\n\n<p>What changes can I make? Thanks!</p>\n"}, {"tags": ["python", "sorting", "lambda"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1498686870, "post_id": 44812982, "comment_id": 76606953, "body": "Please define &#39;weird&#39; more precisely. Weird in what way?"}], "answers": [{"comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 285, "user_id": 4703731, "user_type": "registered", "accept_rate": 4, "profile_image": "https://graph.facebook.com/100006306372111/picture?type=large", "display_name": "Wang Nick", "link": "https://stackoverflow.com/users/4703731/wang-nick"}, "edited": false, "score": 0, "creation_date": 1498686748, "post_id": 44813010, "comment_id": 76606901, "body": "@WangNick: Ah, you are still returning generators, but you are probably using Python 2."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 5, "last_activity_date": 1498691722, "last_edit_date": 1498691722, "creation_date": 1498686145, "answer_id": 44813010, "question_id": 44812982, "link": "https://stackoverflow.com/questions/44812982/python-using-lambda-sort-list-or-dicts-by-multiple-keys/44813010#44813010", "title": "Python using lambda sort list or dicts by multiple keys", "body": "<p>You were almost there; your <code>lambda</code> produces generator expressions and those happen to be ordered by their memory address (in Python 2) and produce a <code>TypeError: '&lt;' not supported between instances of 'generator' and 'generator'</code> exception in Python 3.</p>\n\n<p>Use a list comprehension instead:</p>\n\n<pre><code>l.sort(key=lambda x: [order * x[key] for (key, order) in zip(keys, orders)])\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>&gt;&gt;&gt; l = [{'a': 1, 'c': 2, 'b': 3},\n...      {'a': 1, 'c': 3, 'b': 2},\n...      {'a': 2, 'c': 1, 'b': 3},\n...      {'a': 2, 'c': 5, 'b': 3},\n...      {'a': 2, 'c': 3, 'b': 1}]\n&gt;&gt;&gt; keys = ['a', 'c', 'b']\n&gt;&gt;&gt; orders = [1, -1, 1]\n&gt;&gt;&gt; l.sort(key=lambda x: [order * x[key] for (key, order) in zip(keys, orders)])\n&gt;&gt;&gt; from pprint import pprint\n&gt;&gt;&gt; pprint(l)\n[{'a': 1, 'b': 2, 'c': 3},\n {'a': 1, 'b': 3, 'c': 2},\n {'a': 2, 'b': 3, 'c': 5},\n {'a': 2, 'b': 1, 'c': 3},\n {'a': 2, 'b': 3, 'c': 1}]\n</code></pre>\n"}], "owner": {"reputation": 285, "user_id": 4703731, "user_type": "registered", "accept_rate": 4, "profile_image": "https://graph.facebook.com/100006306372111/picture?type=large", "display_name": "Wang Nick", "link": "https://stackoverflow.com/users/4703731/wang-nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 435, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498691722, "creation_date": 1498686013, "last_edit_date": 1498690540, "question_id": 44812982, "link": "https://stackoverflow.com/questions/44812982/python-using-lambda-sort-list-or-dicts-by-multiple-keys", "title": "Python using lambda sort list or dicts by multiple keys", "body": "<p>here is my list of dict:</p>\n\n<pre><code>l = [{'a': 2, 'c': 1, 'b': 3}, \n     {'a': 2, 'c': 3, 'b': 1}, \n     {'a': 1, 'c': 2, 'b': 3},\n     {'a': 1, 'c': 3, 'b': 2}, \n     {'a': 2, 'c': 5, 'b': 3}]\n</code></pre>\n\n<p>and now I want to sort the list by keys and orders provided by the user. for instance:</p>\n\n<pre><code>keys = ['a', 'c', 'b']\norders = [1, -1, 1]\n</code></pre>\n\n<p>I tried to using lambda in <code>sort()</code>method but it failed in a weird way :</p>\n\n<pre><code>&gt;&gt;&gt; l.sort(key=lambda x: (order * x[key] for (key, order) in zip(keys, orders)))\n&gt;&gt;&gt; l\n[{'a': 2, 'c': 5, 'b': 3},\n {'a': 1, 'c': 3, 'b': 2},\n {'a': 1, 'c': 2, 'b': 3},\n {'a': 2, 'c': 3, 'b': 1},\n {'a': 2, 'c': 1, 'b': 3}]\n</code></pre>\n\n<p>Anyone know how to solve this?</p>\n"}, {"tags": ["python", "protocol-buffers", "message-map"], "owner": {"reputation": 251, "user_id": 8221826, "user_type": "registered", "profile_image": "https://graph.facebook.com/399665753717625/picture?type=large", "display_name": "Dylan Randle", "link": "https://stackoverflow.com/users/8221826/dylan-randle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1498685311, "creation_date": 1498685311, "question_id": 44812841, "link": "https://stackoverflow.com/questions/44812841/how-to-extract-information-from-protobuf-messagemap-python", "title": "How to Extract Information from Protobuf MessageMap (Python)", "body": "<p>I have a MessageMap object (in Python) and I can't for the life of me figure out how to properly extract the information I need:</p>\n\n<p>MessageMap object: </p>\n\n<pre><code>outputs {\n  key: \"outputs\"\n  value {\n    dtype: DT_FLOAT\n    tensor_shape {\n      dim {\n        size: 1\n      }\n      dim {\n        size: 20\n      }\n    }\n    float_val: 0.999675273895\n    float_val: 0.000314112228807\n    float_val: 2.59503778466e-08\n    float_val: 2.44331226895e-06\n    float_val: 4.54330323363e-11\n    float_val: 7.71099075791e-06\n    float_val: 2.24508878155e-09\n    float_val: 2.77518591441e-10\n    float_val: 1.23966522811e-11\n    float_val: 3.66186220235e-10\n    float_val: 3.70352438495e-07\n    float_val: 1.26812804702e-09\n    float_val: 2.57038501594e-10\n    float_val: 2.2157300994e-10\n    float_val: 4.33188180422e-13\n    float_val: 8.9858339436e-08\n    float_val: 1.4697809636e-09\n    float_val: 2.74241731546e-08\n    float_val: 3.08812177219e-11\n    float_val: 5.85364867689e-10\n  }\n}\n</code></pre>\n\n<p>Is what I have. </p>\n\n<p>Any help greatly appreciated. </p>\n"}, {"tags": ["python", "selenium-webdriver"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1498685486, "post_id": 44812840, "comment_id": 76606375, "body": "Create a function that holds all the common code, and pass in as an parameter the function that differs."}, {"owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "edited": false, "score": 3, "creation_date": 1498685661, "post_id": 44812840, "comment_id": 76606439, "body": "If you ask me, it&#39;s not bad at all to have those <code>def</code> statements. You have good function names that describe the work getting done."}], "answers": [{"tags": [], "owner": {"reputation": 2670, "user_id": 1494503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aPd7L.jpg?s=128&g=1", "display_name": "Doug", "link": "https://stackoverflow.com/users/1494503/doug"}, "is_accepted": false, "score": 0, "last_activity_date": 1498686422, "last_edit_date": 1498686422, "creation_date": 1498685544, "answer_id": 44812884, "question_id": 44812840, "link": "https://stackoverflow.com/questions/44812840/python-is-it-possible-to-condense-my-list-of-similar-methods/44812884#44812884", "title": "Python: Is it possible to condense my list of similar methods", "body": "<p>Yes. You are already sending a string with the key type. Use an if statement or make a dictionary that uses the string as the key. </p>\n\n<p>Define the dictionary in the constructor:</p>\n\n<pre><code>def __init__(self):\n    self.query_map = {'Message':Elements.filter_logs_mesage, 'Session':Elements.filter_logs_session} # etc\n</code></pre>\n\n<p>Then use the dictionary to \"select\" the elements:</p>\n\n<pre><code>    def filter_logs_search(self, word):\n        search_text = self.driver.find_element(self.query_map[word]) \nsearch_text.send_keys(word)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "is_accepted": true, "score": 3, "last_activity_date": 1498694925, "last_edit_date": 1498694925, "creation_date": 1498685839, "answer_id": 44812951, "question_id": 44812840, "link": "https://stackoverflow.com/questions/44812840/python-is-it-possible-to-condense-my-list-of-similar-methods/44812951#44812951", "title": "Python: Is it possible to condense my list of similar methods", "body": "<p>This is a job for <a href=\"https://en.m.wikipedia.org/wiki/Higher-order_function\" rel=\"nofollow noreferrer\">Higher Order Functions.</a> </p>\n\n<p>Whenever you have a case where code is the same, <em>except</em> for a function being called, it can be a good idea to just pass that function in (note <code>f</code>):</p>\n\n<pre><code>def general_filter_logs(self, word, f):\n    search_text = self.driver.find_element(*f)\n    search_text.send_keys(word)\n</code></pre>\n\n<p>Then, the other functions can be defined in terms of the generalized higher-order function. For example:</p>\n\n<pre><code>def filter_logs_search_query(self, word):\n    general_filter_logs(word, Elements.filter_logs_query)\n</code></pre>\n\n<p>Note, your repetitious functions aren't very big, so the gain here isn't huge. This technique becomes especially helpful with more complicated functions though. The benefit you always get by generalizing a function is if you ever need to make a change to it, you only need to change one function (the general function) instead of all the \"clone\" functions. </p>\n\n<p>Also note that this appears to be the technique <code>find_element</code> uses! Instead of forcing you to write your own custom find method, it allows you to just pass a function in. All you need to do now is just push back the responsibility of who is responsible for picking what function gets passed. </p>\n"}, {"tags": [], "owner": {"reputation": 50452, "user_id": 33258, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c4b21ea020b4d95c4abacaffc9daaf4e?s=128&d=identicon&r=PG", "display_name": "Hugh Bothwell", "link": "https://stackoverflow.com/users/33258/hugh-bothwell"}, "is_accepted": false, "score": 0, "last_activity_date": 1498686461, "creation_date": 1498686461, "answer_id": 44813085, "question_id": 44812840, "link": "https://stackoverflow.com/questions/44812840/python-is-it-possible-to-condense-my-list-of-similar-methods/44813085#44813085", "title": "Python: Is it possible to condense my list of similar methods", "body": "<p>It looks like the whole thing could be compacted to</p>\n\n<pre><code>class FilterClass:\n    fields = {\n        \"query\": \"Query\",\n        \"before\": \"FromDateUI\",\n        \"after\": \"ToDateUI\",\n        \"ip\": \"Ip\",\n        \"user\": \"User\",\n        \"msg\": \"Message\",\n        \"ref\": \"Refid\",\n        \"session\": \"Session\",\n        \"scope\": \"Scope\",\n        \"event\": \"EventNo\",\n        \"server\": \"Server\"\n    }\n\n    def filter_logs(self, field, value):\n        search = self.driver.find_element(By.ID, self.fields[field])\n        search.send_keys(value)\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7427278, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/G9h9c.jpg?s=128&g=1", "display_name": "Golshy", "link": "https://stackoverflow.com/users/7427278/golshy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 1, "accepted_answer_id": 44812951, "answer_count": 3, "score": 1, "last_activity_date": 1498694925, "creation_date": 1498685311, "question_id": 44812840, "link": "https://stackoverflow.com/questions/44812840/python-is-it-possible-to-condense-my-list-of-similar-methods", "title": "Python: Is it possible to condense my list of similar methods", "body": "<p>I have a list of ID's that I am capturing using Selenium IDE and placing them into PyCharm. The list looks like this: </p>\n\n<pre><code>filter_logs_query = (By.ID, \"Query\")\nfilter_logs_FromDateUI = (By.ID, \"FromDateUI\")\nfilter_logs_ToDateUI = (By.ID, \"ToDateUI\")\nfilter_logs_Ip = (By.ID, \"Ip\")\nfilter_logs_User = (By.ID, \"User\")  \nfilter_logs_Message = (By.ID, \"Message\")\nfilter_logs_RefID = (By.ID, \"Refid\")\nfilter_logs_Session = (By.ID, \"Session\")\nfilter_logs_Scope = (By.ID, \"Scope\")\nfilter_logs_EventNo = (By.ID, \"EventNo\")\nfilter_logs_Server = (By.ID, \"Server\")\n</code></pre>\n\n<p>Each of these ID's also has a def for a user to send_keys to the ID, the list look like this: </p>\n\n<pre><code>def filter_logs_search_query(self, word):\n    search_text = self.driver.find_element(*Elements.filter_logs_query)\n    search_text.send_keys(word)\n\ndef filter_logs_logged_after(self, word):\n    search_date = self.driver.find_element(*Elements.filter_logs_FromDateUI)\n    search_date.send_keys(word)\n\ndef filter_logs_logged_before(self, word):\n    search_date = self.driver.find_element(*Elements.filter_logs_ToDateUI)\n    search_date.send_keys(word)\n</code></pre>\n\n<p>My defs are nearly identical aside from the function I need to call from *Elements. Is there a way I could possibly condense/shorten my list of def's? </p>\n"}, {"tags": ["python", "python-3.x", "tkinter", "python-datetime"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 2216115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/OE3MR.jpg?s=128&g=1", "display_name": "pja", "link": "https://stackoverflow.com/users/2216115/pja"}, "edited": false, "score": 0, "creation_date": 1498747579, "post_id": 44813035, "comment_id": 76637069, "body": "Any hints as to how would I fix that? I am new to all this"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "reply_to_user": {"reputation": 105, "user_id": 2216115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/OE3MR.jpg?s=128&g=1", "display_name": "pja", "link": "https://stackoverflow.com/users/2216115/pja"}, "edited": false, "score": 0, "creation_date": 1498750481, "post_id": 44813035, "comment_id": 76639315, "body": "@pja: my hint is in the answer. Use <code>(rundate,)</code> where you currently have <code>(rundate)</code>."}, {"owner": {"reputation": 105, "user_id": 2216115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/OE3MR.jpg?s=128&g=1", "display_name": "pja", "link": "https://stackoverflow.com/users/2216115/pja"}, "edited": false, "score": 0, "creation_date": 1498751602, "post_id": 44813035, "comment_id": 76640130, "body": "Thank you, that makes sense"}, {"owner": {"reputation": 105, "user_id": 2216115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/OE3MR.jpg?s=128&g=1", "display_name": "pja", "link": "https://stackoverflow.com/users/2216115/pja"}, "edited": false, "score": 0, "creation_date": 1498751949, "post_id": 44813035, "comment_id": 76640384, "body": "evidently that is not my only problem...I am getting &quot;none&quot; for the rundate when I use the calendar so I am not correctly calling the results of pick.py. Do you know how do I get the results from there?"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 0, "last_activity_date": 1498686236, "creation_date": 1498686236, "answer_id": 44813035, "question_id": 44812830, "link": "https://stackoverflow.com/questions/44812830/populating-query-with-widget-results-python-3x-tkinter/44813035#44813035", "title": "Populating query with widget results Python 3x tkinter", "body": "<p>I don't know if it's the only problem, but definitely <em>a</em> problem is this:</p>\n\n<pre><code>for row in cur.execute(query, (rundate)):\n</code></pre>\n\n<p><code>(rundate)</code> is a single value, <code>(rundate,)</code> is a tuple. <code>cur.execute</code> requires a tuple. </p>\n"}], "owner": {"reputation": 105, "user_id": 2216115, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/OE3MR.jpg?s=128&g=1", "display_name": "pja", "link": "https://stackoverflow.com/users/2216115/pja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1499505670, "creation_date": 1498685261, "last_edit_date": 1499505670, "question_id": 44812830, "link": "https://stackoverflow.com/questions/44812830/populating-query-with-widget-results-python-3x-tkinter", "title": "Populating query with widget results Python 3x tkinter", "body": "<p>I am still trying to populate a query with the results of a calendar widget I created. The calendar widget works perfectly and the weeklyrpt.py works perfectly if the message box is answered with a yes response. A no response opens the calendar widget where dates are picked and parsed out individually but I cannot figure out how to integrate the results into my query.</p>\n\n<p>The rundate function is</p>\n\n<pre><code>def rundate():\n    global run\n    result = tkinter.messagebox.askyesno(title=\"Rundate\", message=\"back 7 days?\")\n#result = tkinter.messagebox.askyesno()\n    if result == True:\n        run = date.today() - timedelta(7)\n        return run\n    if result == False:\n        os.system(\"python pick.py\") \n\n#opens the pick.py program which is a calendar the after choosing the dates returns this function\n\ndef get_rundate():\n        start = self.result1.strftime(\"%m/%d/%Y\")\n        end = self.result2.strftime(\"%m/%d/%Y\") \n        daterange = pd.date_range(start, end)\n        for single_date in daterange:\n            print(single_date.strftime(\"%m/%d/%Y\"))             \n        return single_date.strftime(\"%m/%d/%Y\")\n\n#then returns to weeklyreport\n\nrundate = rundate()\nprint(rundate)\n</code></pre>\n\n<p>The data I am trying to obtain for the query is the \"rundate\" </p>\n\n<pre><code>#Query permits made effective since rundate\n\nquery = '''select `NPDES_ID`, `EffectiveDate`, `FacilityName`, `StateFacilityID`, `City`, `CountyName`\n        from Permits \n        where `EffectiveDate` &gt;= ?\n        order by `NPDES_ID`'''\n\n#for each row in result of query\nfor row in cur.execute(query, (rundate)):\ntry:\n    d= row[1].strftime('%m/%d/%Y')\nexcept:\n    d=\"\"\n\nfor i in range(len(row)):\n    if not row[i]:\n        row[i] = \"\"\n</code></pre>\n\n<p>I need help getting the results from the pick.py widget to return as rundate within weeklyrpt.py. As I said the first part of the rundate function works fine (returns the data request going back 7 days)</p>\n"}, {"tags": ["python", "arrays", "numpy", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 4771638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3219bbf3ff474c9cc57656e59bfca245?s=128&d=identicon&r=PG&f=1", "display_name": "Shoogiebaba", "link": "https://stackoverflow.com/users/4771638/shoogiebaba"}, "edited": false, "score": 0, "creation_date": 1498879546, "post_id": 44813419, "comment_id": 76694564, "body": "Thanks! This was helpful and gave me a different view on thinking about the problem."}], "tags": [], "owner": {"reputation": 121, "user_id": 8223751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd897ed16607d31b8a640ecea1e7e75?s=128&d=identicon&r=PG&f=1", "display_name": "jpeoples", "link": "https://stackoverflow.com/users/8223751/jpeoples"}, "is_accepted": false, "score": 1, "last_activity_date": 1498688231, "creation_date": 1498688231, "answer_id": 44813419, "question_id": 44812822, "link": "https://stackoverflow.com/questions/44812822/return-searchlight-vectors-for-a-given-numpy-array/44813419#44813419", "title": "Return searchlight vectors for a given numpy array", "body": "<p>Since you say the data structure is too large, you'll likely have to compute the vector on the fly for a given voxel. You can do this pretty quickly though:</p>\n\n<pre><code>class SearchLight(object):\n    def __init__(self, M_in, radius):\n        self.M_in = M_in\n        m, n, k = self.M_in.shape\n\n        # compute the sphere coordinates centered at (0,0,0)\n        # just like in your sample code\n        i_interval = list(range(-radius,radius+1))\n        j_interval = list(range(-radius,radius+1))\n        z_interval = list(range(-radius,radius+1))\n        coordinates = list(itertools.product(i_interval,j_interval,z_interval))\n        coordinates = [pair for pair in coordinates if ((abs(pair[0])+abs(pair[1])+abs(pair[2]))&lt;=radius)]\n\n        # store those indices as a template\n        self.sphere_indices = np.array(coordinates)\n\n    def get_vector(self, i, j, k):\n\n        # offset sphere coordinates by the requested centre.\n        coordinates = self.sphere_indices + [i,j,k]\n        # filter out of bounds coordinates\n        coordinates = coordinates[(coordinates &gt;= 0).all(1)]\n        coordinates = coordinates[(coordinates &lt; self.M_in.shape).all(1)]\n\n        # use those coordinates to index the initial array.\n        return self.M_in[coordinates[:,0], coordinates[:,1], coordinates[:,2]]\n</code></pre>\n\n<p>To use the object on a given array you can simply do:</p>\n\n<pre><code>sl = SearchLight(M_in, 4)\n# get vector of values for voxel i,j,k\nvector = sl.get_vector(i,j,k)\n</code></pre>\n\n<p>This should give you the same vector you would get from</p>\n\n<pre><code>M_out[i,j,k]\n</code></pre>\n\n<p>in your sample code, without storing all the results at once in memory.</p>\n\n<p>This can also probably be further optimized, particularly in terms of the coordinate filtering, but it may not be necessary. Hope that helps.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 4771638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3219bbf3ff474c9cc57656e59bfca245?s=128&d=identicon&r=PG&f=1", "display_name": "Shoogiebaba", "link": "https://stackoverflow.com/users/4771638/shoogiebaba"}, "edited": false, "score": 0, "creation_date": 1498879581, "post_id": 44849101, "comment_id": 76694568, "body": "Thanks! Chosen for brevity and focus on optimization."}], "tags": [], "owner": {"reputation": 16399, "user_id": 4016285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SvSVV.png?s=128&g=1", "display_name": "B. M.", "link": "https://stackoverflow.com/users/4016285/b-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1498900294, "last_edit_date": 1498900294, "creation_date": 1498833742, "answer_id": 44849101, "question_id": 44812822, "link": "https://stackoverflow.com/questions/44812822/return-searchlight-vectors-for-a-given-numpy-array/44849101#44849101", "title": "Return searchlight vectors for a given numpy array", "body": "<p>Here a way to do that. For efficiency, you need therefore to use ndarrays : This only take in account complete voxels.  Edges must be managed \"by hand\".  </p>\n\n<pre><code>from pylab import *\na=rand(100,100,100) # the data\nr=4\nra=range(-r,r+1)\n\nsphere=array([[x,y,z] for x in ra for y in ra for z in ra if np.abs((x,y,z)).sum()&lt;=r]) \n# the unit \"sphere\"\n\nindcenters=array(meshgrid(*(range(r,n-r) for n in a.shape),indexing='ij'))\n# indexes of the centers of the voxels. edges are cut.\n\nall_inds=(indcenters[newaxis].T+sphere.T).T\n#all the indexes.\n\nvoxels=np.stack([a[tuple(inds)] for inds in all_inds],-1)\n# the voxels.\n#voxels.shape is (92, 92, 92, 129)\n</code></pre>\n\n<p>All the costly operations are vectorized. Comprehension lists are prefered for clarity in external loop.</p>\n\n<p>You can now perform vectorized operations on voxels. for exemple the brightest voxel : </p>\n\n<pre><code>light=voxels.sum(-1)\nprint(np.unravel_index(light.argmax(),light.shape))\n#(33,72,64)\n</code></pre>\n\n<p>All of this is of course extensive in memory. you must split your space for \nbig data or voxels. </p>\n"}], "owner": {"reputation": 71, "user_id": 4771638, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3219bbf3ff474c9cc57656e59bfca245?s=128&d=identicon&r=PG&f=1", "display_name": "Shoogiebaba", "link": "https://stackoverflow.com/users/4771638/shoogiebaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 44849101, "answer_count": 2, "score": 1, "last_activity_date": 1498900294, "creation_date": 1498685239, "question_id": 44812822, "link": "https://stackoverflow.com/questions/44812822/return-searchlight-vectors-for-a-given-numpy-array", "title": "Return searchlight vectors for a given numpy array", "body": "<p>Consider a 3D numpy array <code>D</code> of dimension, say, (30 x 40 x 50). For each voxel <code>D[x,y,z]</code> I want to store a vector that contains neighboring voxels within a certain radius (including the <code>D[x,y,z]</code> itself).</p>\n\n<p>(As an example here is a picture of such a sphere of radius 2: <a href=\"https://puu.sh/wwIYW/e3bd63ceae.png\" rel=\"nofollow noreferrer\">https://puu.sh/wwIYW/e3bd63ceae.png</a>)</p>\n\n<p>Is there a simple and fast way to code this?</p>\n\n<p>I have written a function for it, but it is painfully slow and IDLE eventually crashes because the data structure I store the vectors in becomes too large.</p>\n\n<p>Current code:</p>\n\n<pre><code>def searchlight(M_in):\n    radius = 4\n    [m,n,k] = M_in.shape\n    M_out = np.zeros([m,n,k],dtype=object)\n    count = 0\n    for i in range(m):\n        for j in range(n):\n            for z in range(k):\n                i_interval = list(range((i-4),(i+5)))\n                j_interval = list(range((j-4),(j+5)))\n                z_interval = list(range((z-4),(z+5)))                \n                coordinates = list(itertools.product(i_interval,j_interval,z_interval))\n                coordinates = [pair for pair in coordinates if ((abs(pair[0]-i)+abs(pair[1]-j)+abs(pair[2]-z))&lt;=radius)]\n                coordinates = [pair for pair in coordinates if ((pair[0]&gt;=0) and (pair[1]&gt;=0) and pair[2]&gt;=0) and (pair[0]&lt;m) and (pair[1]&lt;n) and (pair[2]&lt;k)]\n                out = []\n                for pair in coordinates:\n                    out.append(M_in[pair[0],pair[1],pair[2]])\n                M_out[i,j,z] = out\n                count = count +1\n    return M_out\n</code></pre>\n"}, {"tags": ["python", "inheritance", "argparse"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498686504, "post_id": 44812791, "comment_id": 76606794, "body": "I don&#39;t see why you need to add <code>--alignment</code> to the subparsers.  The value you provide to the main parser will be available regardless of which parser you use."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498686720, "post_id": 44812791, "comment_id": 76606889, "body": "Usually when using <code>parents</code> you have to set <code>add_help=False</code> to either the parent or child, since by default a parser starts life with a <code>-h</code> argument (and a repeat definition is a conflict).  In general it&#39;s better to define a <code>parent</code> just for this inheritance role, and not plan on using it any stand-alone role."}, {"owner": {"reputation": 1004, "user_id": 3691040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/518938941/picture?type=large", "display_name": "Joe Healey", "link": "https://stackoverflow.com/users/3691040/joe-healey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498686762, "post_id": 44812791, "comment_id": 76606907, "body": "I must be inadvertently asking an XY problem in that case. That is what I thought would happen, but when I run the code, say: <code>python MSAnalysis.py entropy -a ~&#47;path&#47;to&#47;alignment</code> I keep getting the error that the argument is required, even though I&#39;ve provided it."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1498686938, "post_id": 44812791, "comment_id": 76606980, "body": "Put those main parser arguments first, before the subparser command.  The main parser does all of its parsing, and passes the rest of the strings off to the subparser."}, {"owner": {"reputation": 1004, "user_id": 3691040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/518938941/picture?type=large", "display_name": "Joe Healey", "link": "https://stackoverflow.com/users/3691040/joe-healey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498687082, "post_id": 44812791, "comment_id": 76607043, "body": "Ah great! It could be that simple? I&#39;m not at my laptop now but will try that in the morning! Thanks"}, {"owner": {"reputation": 1004, "user_id": 3691040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/518938941/picture?type=large", "display_name": "Joe Healey", "link": "https://stackoverflow.com/users/3691040/joe-healey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498727595, "post_id": 44812791, "comment_id": 76621941, "body": "Tried following your advice @hpaulj however the same issue persists. I&#39;ve edited my question with my current iteration of the code."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 1, "creation_date": 1498756443, "post_id": 44812791, "comment_id": 76642964, "body": "<code>python stack44812791.py -a test entropy -m 123</code> works with your latest code.  Resulting <code>args</code>: <code>Namespace(alignment=&#39;test&#39;, alnformat=&#39;fasta&#39;, makeplot=False, runningmean=123, verbose=1)</code>"}, {"owner": {"reputation": 1004, "user_id": 3691040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/518938941/picture?type=large", "display_name": "Joe Healey", "link": "https://stackoverflow.com/users/3691040/joe-healey"}, "reply_to_user": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498756635, "post_id": 44812791, "comment_id": 76643069, "body": "Ah its expecting the positionals after, of course...This isn&#39;t ideally what I wanted however. I&#39;d like to have the subcommand come first, followed by that compulsory argument applicable to each subcommand. I must be going about this the wrong way. I suppose it&#39;s not totally critical to what I&#39;m doing though, so this works."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1498757933, "post_id": 44812791, "comment_id": 76643847, "body": "Check out my answer in this other recent  subparsers question:: <a href=\"https://stackoverflow.com/questions/44809222/argparse-mixing-parent-parser-with-subparsers\" title=\"argparse mixing parent parser with subparsers\">stackoverflow.com/questions/44809222/&hellip;</a>"}], "owner": {"reputation": 1004, "user_id": 3691040, "user_type": "registered", "accept_rate": 95, "profile_image": "https://graph.facebook.com/518938941/picture?type=large", "display_name": "Joe Healey", "link": "https://stackoverflow.com/users/3691040/joe-healey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1227, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498727368, "creation_date": 1498685118, "last_edit_date": 1498727368, "question_id": 44812791, "link": "https://stackoverflow.com/questions/44812791/argparse-subparsers-inheriting-options-from-top-level-parser", "title": "argparse subparsers inheriting options from top level parser", "body": "<p>I'm sure this has answers somewhere but I'm either not employing the threads I've found correctly, or I'm not hitting the right keywords.</p>\n\n<p>I'm experimenting with a python script for which I'm trying to write 3 subcommands, so I'm using the subparser syntax of <code>argparse</code>, but I've not used subparsers before and I've exhausted everything in the <code>argparse</code> docs that seems relevant to subcommands. I'm getting there, the commands all register correctly, however, I specifically want the 1 required argument that's passed to the top level parser to be available to all the subparsers (each subcommand will act upon the same input file).</p>\n\n<p>It's a big script, but here's the argparse part.</p>\n\n<pre><code>def parseArgs():\n    \"\"\"Parse command line arguments. Includes parsing of subcommands.\"\"\"\n\n    import argparse\n\n    try:\n        parser = argparse.ArgumentParser(prog='MSAnalysis',\n                                         description=\"Perform simple tasks with multiple sequence alignments. \\n The following subcommands are available:\")\n        subparsers = parser.add_subparsers(title='Subcommands')\n        parser_consensus = subparsers.add_parser('consensus',\n                                                 description='Calculate a \\'dumb\\' consensus via BioPython.',\n                                                 help='Computer a consensus sequence from the MSA, at a specifiable threshold.')\n        parser_entropy   = subparsers.add_parser('entropy',\n                                                 description='Perform calculation of the Shannon entropy per column of an MSA.',\n                                                 help='Compute the Shannon entropy, per column of the MSA and return 2 vectors.')\n        parser_selection = subparsers.add_parser('selection',\n                                                 description='Selection pressure Calculator',\n                                                 help='Report dN/dS ratio in either a sliding window or for a whole sequence.')\n\n        # Main parser required options\n        parser.add_argument('-a',\n                            '--alignment',\n                            action='store',\n                            required=True,\n                            help='The multiple sequence alignment (MSA) in any of the formats supported by Biopython\\'s AlignIO.')\n        # Main parser options\n        parser.add_argument('-f',\n                            '--alnformat',\n                            action='store',\n                            default='fasta',\n                            help='Specify the format of the input MSA to be passed in to AlignIO. [Default = fasta].')\n        parser.add_argument('-v',\n                            '--verbose',\n                            action='count',\n                            default=1,\n                            help='Verbose behaviour, printing parameters of the script and status messages.')\n        parser.add_argument('--makeplot',\n                            action='store_true',\n                            help='Plot the results via Matplotlib.')\n\n        # parser_entropy\n        parser_entropy.add_argument('-m',\n                                    '--runningmean',\n                                    action='store',\n                                    type=int,\n                                    default=0,\n                                    help='Return the running mean (a.k.a moving average) of the MSAs Shannon Entropy. Makes for slightly smoother plots. Providing the number of points to average over switches this on.')\n\n        # parser_consensus\n        parser_consensus.add_argument('-c',\n                                      '--ambiguous',\n                                      action='store',\n                                      help='Specify what character default to use for ambiguous characters within alignments.')\n        parser_consensus.add_argument('-t',\n                                      '--threshold',\n                                      action='store',\n                                      help='Threshold cut off for the consensus sequence calculation.')\n\n        # parser_dnds options\n        parser_selection.add_argument('-p',\n                                      '--phylogeny',\n                                      action='store',\n                                      help='Specify a tree file computed from the supplied alignment for use with PAML.')\n\n    except:\n        print \"An exception occurred with argument parsing. Check your provided options.\"\n        traceback.print_exc()\n\n    return parser.parse_args()\n</code></pre>\n\n<p>I'd like <code>consensus</code>, <code>entropy</code>, and <code>selection</code> to be able to 'inherit' the <code>--alignment</code> variable as it's a required input file for them all.</p>\n\n<p>I tried adding <code>parents=[parser]</code> to each of the subparsers, but that seemed to break more things and I started getting:</p>\n\n<p><code>ArgumentError: argument -h/--help: conflicting option string(s): -h, --help</code></p>\n\n<p>Which I guess is the subparsers also inheriting the <code>-h</code> of the parent and causing issues?</p>\n\n<h1>EDIT as per comments:</h1>\n\n<p>I moved the sub-parsers, but I still get an error that <code>-a|--alignment</code> is required, even when I invoke the command while specifying it.</p>\n\n<pre><code>def parseArgs():\n    \"\"\"Parse command line arguments. Includes parsing of subcommands.\"\"\"\n\n    import argparse\n\n    try:\n        parser = argparse.ArgumentParser(prog='MSAnalysis',\n                                         description=\"Perform simple tasks with multiple sequence alignments. \\n The following subcommands are available:\")\n        subparsers = parser.add_subparsers(title='Subcommands')\n\n        # Main parser required options\n        parser.add_argument('-a',\n                            '--alignment',\n                            action='store',\n                            required=True,\n                            help='The multiple sequence alignment (MSA) in any of the formats supported by Biopython\\'s AlignIO.')\n        # Main parser options\n        parser.add_argument('-f',\n                            '--alnformat',\n                            action='store',\n                            default='fasta',\n                            help='Specify the format of the input MSA to be passed in to AlignIO. [Default = fasta].')\n        parser.add_argument('-v',\n                            '--verbose',\n                            action='count',\n                            default=1,\n                            help='Verbose behaviour, printing parameters of the script and status messages.')\n        parser.add_argument('--makeplot',\n                            action='store_true',\n                            help='Plot the results via Matplotlib.')\n\n        # parser_entropy\n        parser_entropy   = subparsers.add_parser('entropy',\n                                                 description='Perform calculation of the Shannon entropy per column of an MSA.',\n                                                 help='Compute the Shannon entropy, per column of the MSA and return 2 vectors.')\n\n        parser_entropy.add_argument('-m',\n                                    '--runningmean',\n                                    action='store',\n                                    type=int,\n                                    default=0,\n                                    help='Return the running mean (a.k.a moving average) of the MSAs Shannon Entropy. Makes for slightly smoother plots. Providing the number of points to average over switches this on.')\n\n        # parser_consensus\n        parser_consensus = subparsers.add_parser('consensus',\n                                                 description='Calculate a \\'dumb\\' consensus via BioPython.',\n                                                 help='Computer a consensus sequence from the MSA, at a specifiable threshold.')\n        parser_consensus.add_argument('-c',\n                                      '--ambiguous',\n                                      action='store',\n                                      help='Specify what character default to use for ambiguous characters within alignments.')\n        parser_consensus.add_argument('-t',\n                                      '--threshold',\n                                      action='store',\n                                      help='Threshold cut off for the consensus sequence calculation.')\n\n        # parser_dnds options\n        parser_selection = subparsers.add_parser('selection',\n                                                 description='Selection pressure Calculator',\n                                                 help='Report dN/dS ratio in either a sliding window or for a whole sequence.')\n        parser_selection.add_argument('-p',\n                                      '--phylogeny',\n                                      action='store',\n                                      help='Specify a tree file computed from the supplied alignment for use with PAML.')\n\n    except:\n        print \"An exception occurred with argument parsing. Check your provided options.\"\n        traceback.print_exc()\n\n    return parser.parse_args()\n</code></pre>\n\n<p>Additionally, moving the <code>subparsers = parser.add_subparsers(title='Subcommands')</code> line to <em>after</em> the options for the top-level (after the <code>--makeplot</code> argument) parser results in the same error.</p>\n"}, {"tags": ["python", "file", "io"], "comments": [{"owner": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 3, "creation_date": 1498684931, "post_id": 44812700, "comment_id": 76606113, "body": "Reloading a modified file is a feature of the program having the file opened and not the program changing it. There are editors which can do that."}, {"owner": {"reputation": 134, "user_id": 7438577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IjjET.jpg?s=128&g=1", "display_name": "Phonzi", "link": "https://stackoverflow.com/users/7438577/phonzi"}, "reply_to_user": {"reputation": 11221, "user_id": 3929826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56f08b81def599c554c7ab93e8593600?s=128&d=identicon&r=PG", "display_name": "Klaus D.", "link": "https://stackoverflow.com/users/3929826/klaus-d"}, "edited": false, "score": 0, "creation_date": 1498685021, "post_id": 44812700, "comment_id": 76606153, "body": "@Klaus D. Can you give me some examples of these editors?"}, {"owner": {"reputation": 755, "user_id": 7686467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HicLw.jpg?s=128&g=1", "display_name": "Juan Diego Garcia", "link": "https://stackoverflow.com/users/7686467/juan-diego-garcia"}, "edited": false, "score": 0, "creation_date": 1498685068, "post_id": 44812700, "comment_id": 76606171, "body": "I think sublime text 3 is a example"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 2, "creation_date": 1498685121, "post_id": 44812700, "comment_id": 76606198, "body": "Take a look at <code>Notepad ++</code>. Notepad ++ will inform you that a change has been made to a file and will ask you if you want to view the updated change."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498685173, "post_id": 44812700, "comment_id": 76606236, "body": "Also this kind of question is not for stack overflow. There are stack sites where you can ask this kind of question."}, {"owner": {"reputation": 134, "user_id": 7438577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IjjET.jpg?s=128&g=1", "display_name": "Phonzi", "link": "https://stackoverflow.com/users/7438577/phonzi"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498685310, "post_id": 44812700, "comment_id": 76606302, "body": "@Sierra Mountain Tech Why is it not for stack overflow"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 1, "creation_date": 1498685451, "post_id": 44812700, "comment_id": 76606360, "body": "For this kind of question you might want to ask it on <a href=\"https://meta.stackoverflow.com/\">meta stackoverflow</a>. This stack overflow site is for codding problems rather than software related question on features a particular software might have."}, {"owner": {"reputation": 134, "user_id": 7438577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IjjET.jpg?s=128&g=1", "display_name": "Phonzi", "link": "https://stackoverflow.com/users/7438577/phonzi"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498685632, "post_id": 44812700, "comment_id": 76606432, "body": "@Sierra Mountain Tech Okay, sorry. I thought this was a coding question when I asked it."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498685669, "post_id": 44812700, "comment_id": 76606443, "body": "Also maybe add some context as to why it is critical for program to update what you are seeing every time an edit is made to it. That might provide some context that will help someone answer."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498686102, "post_id": 44812700, "comment_id": 76606633, "body": "I have also noticed by reading some of you other post you seam very concerned about getting down voted. Here is a link <a href=\"https://stackoverflow.com/help/how-to-ask\">How to ask a good question</a> that will give you the guidelines you need to help improve your questions. This will also help a lot with not getting down votes <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 134, "user_id": 7438577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IjjET.jpg?s=128&g=1", "display_name": "Phonzi", "link": "https://stackoverflow.com/users/7438577/phonzi"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498686631, "post_id": 44812700, "comment_id": 76606847, "body": "@Sierra Mountain Tech Thanks, I&#39;ll try these."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1499896122, "post_id": 44812700, "comment_id": 77109426, "body": "@SierraMountainTech: no, this question is not appropriate for Meta. Meta is for questions about Stack Overflow itself."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1499898591, "post_id": 44812700, "comment_id": 77110312, "body": "@halfer: Then can you recommend the correct site. I know this question really is not for this site."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1499899584, "post_id": 44812700, "comment_id": 77110628, "body": "@SierraMountainTech: well, if the question is how to use code in order to get a text editor to reload its contents, then it is fine here. However, it is based on a misunderstanding, I think - auto-reload is a feature of text editors, and so contrary to the OP&#39;s post, the question really <i>would</i> be about using file operations to modify the text file on disk. In any case, since the question has no code in it, it is probably &quot;too broad&quot; anyway."}], "answers": [{"tags": [], "owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "is_accepted": false, "score": 1, "last_activity_date": 1498685441, "creation_date": 1498685441, "answer_id": 44812860, "question_id": 44812700, "link": "https://stackoverflow.com/questions/44812700/updating-the-changes-to-an-file-open-in-a-text-editor-using-python/44812860#44812860", "title": "Updating the changes to an file open in a text editor, using Python", "body": "<p>It's not in your responsibility to ensure that the text editor refreshes its buffers upon a write. If your program is meant to be used with a text editor, consider writing an extension plugin instead.</p>\n\n<p>In Vim you can reload the buffer with <code>:e</code>. In Emacs you can do the same thing using <code>M-x revert-buffer</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1124, "user_id": 8225026, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62c884bd6e4d285244c4cd18e429f7?s=128&d=identicon&r=PG", "display_name": "user8225026", "link": "https://stackoverflow.com/users/8225026/user8225026"}, "is_accepted": true, "score": 0, "last_activity_date": 1498690202, "creation_date": 1498690202, "answer_id": 44813740, "question_id": 44812700, "link": "https://stackoverflow.com/questions/44812700/updating-the-changes-to-an-file-open-in-a-text-editor-using-python/44813740#44813740", "title": "Updating the changes to an file open in a text editor, using Python", "body": "<p>It depends on the program you're using. There are some which reloads the file if there has been some changes; others that simply don't allow other process to edit the file. \nAs a personal experience for text editors, Notepad++ allows python to edit an open file and detects automatically any edit and asks the user if he wants to reload the file or not, meanwhile basic notepads (like the ones built in the OS) that deny opening the file in write mode.</p>\n"}], "owner": {"reputation": 134, "user_id": 7438577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IjjET.jpg?s=128&g=1", "display_name": "Phonzi", "link": "https://stackoverflow.com/users/7438577/phonzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 44813740, "answer_count": 2, "score": -2, "last_activity_date": 1499896072, "creation_date": 1498684740, "last_edit_date": 1499896072, "question_id": 44812700, "link": "https://stackoverflow.com/questions/44812700/updating-the-changes-to-an-file-open-in-a-text-editor-using-python", "title": "Updating the changes to an file open in a text editor, using Python", "body": "<p>My problem is that when I make changes to a file using a Python program while I also have it open on my screen, I cannot see the changes without closing the file and opening again. I need a way for the program to update the file while I am looking at it. This is critical to my program. </p>\n\n<p>It is critical that it updates because I am making something similar to a scripting language that would have to respond to each command right after it is typed. It would give a result on the next line of the notepad file.</p>\n\n<p>Important Notes:    </p>\n\n<ul>\n<li>I know how to modify a file.</li>\n<li>By file, I mean notepad.</li>\n<li>When I say that I have a file open, I don't mean that the Python program has the file open with the <code>Open()</code> function. I mean that I, the user, have the file open on the screen to where I can see it.</li>\n<li>Please don't ask for actual code. I have not started creating anything. That would be pointless because everything relies on this concept that I am about to ask.</li>\n</ul>\n"}, {"tags": ["android", "python", "xpath", "uiview"], "comments": [{"owner": {"reputation": 23, "user_id": 7892502, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/819edf7de44ac11cc887f3975ea65568?s=128&d=identicon&r=PG&f=1", "display_name": "NatNat", "link": "https://stackoverflow.com/users/7892502/natnat"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1498686352, "post_id": 44812698, "comment_id": 76606732, "body": "If you remove then, the outcome is exactly the same. ALready tried this"}], "answers": [{"tags": [], "owner": {"reputation": 46903, "user_id": 4549554, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/Vxi1i.jpg?s=128&g=1", "display_name": "Andersson", "link": "https://stackoverflow.com/users/4549554/andersson"}, "is_accepted": false, "score": 0, "last_activity_date": 1498712643, "creation_date": 1498712643, "answer_id": 44816717, "question_id": 44812698, "link": "https://stackoverflow.com/questions/44812698/print-all-elements-of-the-xpath-in-python/44816717#44816717", "title": "Print all elements of the XPATH in PYTHON", "body": "<p>In <code>Python</code> <code>By.XPATH</code> is not a method (like in <code>Java</code>), but a simple string- <code>\"xpath\"</code>. You don't have to pass your locator as argument to <code>By.XPATH()</code>. Use below line instead</p>\n\n<pre><code>self.driver.find_elements(By.XPATH, '//android.widget.FrameLayout[1]/android.widget.FrameLayout[1]/android.view.ViewGroup[1]/android.widget.VideoView[1]')\n</code></pre>\n\n<p>that is the same as </p>\n\n<pre><code>self.driver.find_elements(\"xpath\", '//android.widget.FrameLayout[1]/android.widget.FrameLayout[1]/android.view.ViewGroup[1]/android.widget.VideoView[1]')\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7892502, "user_type": "registered", "accept_rate": 9, "profile_image": "https://www.gravatar.com/avatar/819edf7de44ac11cc887f3975ea65568?s=128&d=identicon&r=PG&f=1", "display_name": "NatNat", "link": "https://stackoverflow.com/users/7892502/natnat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 309, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498712643, "creation_date": 1498684714, "question_id": 44812698, "link": "https://stackoverflow.com/questions/44812698/print-all-elements-of-the-xpath-in-python", "title": "Print all elements of the XPATH in PYTHON", "body": "<p>I am trying to print elements of xpath:</p>\n\n<pre><code>elements = self.driver.find_elements((By.XPATH('//android.widget.FrameLayout[1]/android.widget.FrameLayout[1]/android.view.ViewGroup[1]/android.widget.VideoView[1]')))\n    print(elements)\n</code></pre>\n\n<p>However it comes up with outcome: </p>\n\n<pre><code>TypeError: 'str' object is not callable\n</code></pre>\n\n<p>Can anyone help me out with that, please?</p>\n"}, {"tags": ["python", "hidden-markov-models"], "comments": [{"owner": {"reputation": 1360, "user_id": 4184412, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/187dec6e6e815b1dbeee556a8f853ba6?s=128&d=identicon&r=PG&f=1", "display_name": "Dziugas", "link": "https://stackoverflow.com/users/4184412/dziugas"}, "edited": false, "score": 0, "creation_date": 1498684743, "post_id": 44812681, "comment_id": 76606006, "body": "At the very least, you need to put some different print statements in several parts of your code and see which is the last one that prints so that you know where it&#39;s stuck."}, {"owner": {"reputation": 1818, "user_id": 2171758, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/0pO0W.jpg?s=128&g=1", "display_name": "salient", "link": "https://stackoverflow.com/users/2171758/salient"}, "edited": false, "score": 0, "creation_date": 1498684792, "post_id": 44812681, "comment_id": 76606036, "body": "Debug it using <code>pdb</code> or an IDE like <code>pycharm</code>?"}, {"owner": {"reputation": 191, "user_id": 6287439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eHEU3.jpg?s=128&g=1", "display_name": "Valeria Lobos Ossand&#243;n", "link": "https://stackoverflow.com/users/6287439/valeria-lobos-ossand%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1498684828, "post_id": 44812681, "comment_id": 76606057, "body": "I&#39;ve already done that and when I initialize the model, it gets stuck, so I don&#39;t know why it gets stuck in that specific part."}, {"owner": {"reputation": 191, "user_id": 6287439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eHEU3.jpg?s=128&g=1", "display_name": "Valeria Lobos Ossand&#243;n", "link": "https://stackoverflow.com/users/6287439/valeria-lobos-ossand%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1498684877, "post_id": 44812681, "comment_id": 76606090, "body": "I debugged it using ipython, but I couldn&#39;t identify the problem either :("}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498687037, "post_id": 44812681, "comment_id": 76607024, "body": "Bearing in mind that I know nothing at all about this, I notice that one of two of the examples in the yahmm wiki use <code>from yahmm import *</code> (rather than <code>import yahmm</code>). Could that be part of the problem?"}, {"owner": {"reputation": 191, "user_id": 6287439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eHEU3.jpg?s=128&g=1", "display_name": "Valeria Lobos Ossand&#243;n", "link": "https://stackoverflow.com/users/6287439/valeria-lobos-ossand%c3%b3n"}, "edited": false, "score": 1, "creation_date": 1498741281, "post_id": 44812681, "comment_id": 76631882, "body": "Bill Bell, I tried it with import yahmm, but it didn&#39;t change a thing. I think that my problem is that there are too many values (there are 11.000 observations for fixations and 6.000 for saccades). Thank you anyway!"}, {"owner": {"reputation": 2717, "user_id": 4762738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d39d85bf475e37d7754e775193b047?s=128&d=identicon&r=PG&f=1", "display_name": "Eskapp", "link": "https://stackoverflow.com/users/4762738/eskapp"}, "edited": false, "score": 0, "creation_date": 1500994213, "post_id": 44812681, "comment_id": 77575339, "body": "This comment comes a bit too late but if the number of training sequences is the problem, you could have a look at Online-learning for HMMs. It seems to be this approach inplemented with Python. <a href=\"https://github.com/albietz/online_hmm\" rel=\"nofollow noreferrer\">github.com/albietz/online_hmm</a>"}, {"owner": {"reputation": 191, "user_id": 6287439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eHEU3.jpg?s=128&g=1", "display_name": "Valeria Lobos Ossand&#243;n", "link": "https://stackoverflow.com/users/6287439/valeria-lobos-ossand%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1501086590, "post_id": 44812681, "comment_id": 77627225, "body": "Eskapp! Thank you a lot for your help!"}], "owner": {"reputation": 191, "user_id": 6287439, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/eHEU3.jpg?s=128&g=1", "display_name": "Valeria Lobos Ossand&#243;n", "link": "https://stackoverflow.com/users/6287439/valeria-lobos-ossand%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498684647, "creation_date": 1498684647, "question_id": 44812681, "link": "https://stackoverflow.com/questions/44812681/hidden-markov-model-gets-stuck-python-hiiden-markov-model-for-eye-movement-det", "title": "Hidden Markov Model Gets Stuck Python - Hiiden Markov Model for Eye Movement Detection", "body": "<p>I'm working with a Hidden Markov Model (HMM) for classifying eye-tracker data, into saccades or fixations. Saccades are rapid eye movements, and fixations are slow eye movements. \nI have an array with the velocity of the eye movements and I need to classify the points into saccades or fixations. I have the following code:</p>\n\n<pre><code>import yahmm\n\nv['velocity'] = calculateVelocity(v)\nmeanVelocity = v['velocity'].mean()\nfixations_ = v.loc[v['velocity'] &lt; meanVelocity]\nsaccades_ = v.loc[v['velocity'] &gt; meanVelocity]\nfixations_time = v['datetime'].loc[v['velocity'] &lt; meanVelocity]\nsaccades_time = v['datetime'].loc[v['velocity'] &gt; meanVelocity]\n\n#Initialize model\nmodel = Model(name=\"Saccade-Fixation\")\nsaccade = State(DiscreteDistribution(dict(zip(saccades_time, saccades_))), name=\"saccades\")\nfixation = State(DiscreteDistribution(dict(zip(fixations_time, fixations_))), name=\"fixations\")\n\n#Add states to the model.\nmodel.add_state(saccade)\nmodel.add_state(fixation)\n\n#Add the two transitions from the start of of the model to the hidden states.\nmodel.add_transition(model.start, saccade, 0.5)\nmodel.add_transition(model.start, fixation, 0.5)\nmodel.bake()\nsequence = model.sample()\n</code></pre>\n\n<p>When I run the code, my computer gets stuck and I can't identify the problem. </p>\n\n<p>Can you please help me?</p>\n"}, {"tags": ["python", "list", "data-structures", "time", "iterator"], "comments": [{"owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1498684875, "post_id": 44812651, "comment_id": 76606086, "body": "So you want to print the value of <code>(#time on line x) - (#time on line 0)</code> on every iteration of the loop?"}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "reply_to_user": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "edited": false, "score": 0, "creation_date": 1498685360, "post_id": 44812651, "comment_id": 76606322, "body": "@jacoblaw Exactly. Additional code I have written analyzes other indices of the lists, but only one list (one line of data) at a time, and then <code>print</code>s what I have analyzed. I want the value of <code>(#time on line x) - (#time on line 0)</code> <code>print</code>ed along with what&#39;s <code>print</code>ed with each line that is analyzed."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1498685364, "post_id": 44812651, "comment_id": 76606325, "body": "Take a look at <code>pandas</code> or <code>numpy</code>."}, {"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "reply_to_user": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1498685519, "post_id": 44812651, "comment_id": 76606396, "body": "@a_guest I have attempted to use <code>pandas</code> several times but my permissions on the computer I use have caused several issues. As I am not the administrator, I have not had luck running <code>pandas</code>. I am looking for an answer that does not rely on <code>pandas</code>, but if that is the only logical method, I will give <code>pandas</code> another try."}, {"owner": {"reputation": 24576, "user_id": 3767239, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/f7cdefb47f96069d7add1222c70f3f70?s=128&d=identicon&r=PG&f=1", "display_name": "a_guest", "link": "https://stackoverflow.com/users/3767239/a-guest"}, "edited": false, "score": 0, "creation_date": 1498686146, "post_id": 44812651, "comment_id": 76606646, "body": "@DRauch Have you tried installing locally? <code>pip install --user pandas</code> Anyway I can just recommend that instead of putting lots of effort in trying to find a complicated workaround it&#39;s much more effective (and eventually pleasant) to get <code>pandas</code> to work. It&#39;s precisely dedicated to such kind of tasks."}], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 8223751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd897ed16607d31b8a640ecea1e7e75?s=128&d=identicon&r=PG&f=1", "display_name": "jpeoples", "link": "https://stackoverflow.com/users/8223751/jpeoples"}, "is_accepted": true, "score": 1, "last_activity_date": 1498685156, "creation_date": 1498685156, "answer_id": 44812802, "question_id": 44812651, "link": "https://stackoverflow.com/questions/44812651/python-3-x-subtract-same-index-from-sequential-lines/44812802#44812802", "title": "Python 3.x: Subtract Same Index from Sequential Lines", "body": "<p>You could do it directly while running the loop:</p>\n\n<pre><code>initial_time = None\nf = open(fn)\nfor line in iter(f):\n\n    remove_blanks = ['']\n    entries = line.split()\n    ''.join([i for i in entries if i not in remove_blanks])\n    trash = (entries[0], entries[1])\n    time = int(entries[2])  # Time expressed as elapsed time in milliseconds\n    # if on first line, initial_time is None, so set it.\n    if initial_time is None:\n        initial_time = time\n    print(time - initial_time)\n\n    column = [int(v) for v in entries[3:]]\n</code></pre>\n\n<p>Also it is perhaps worth pointing out that your line of code</p>\n\n<pre><code>''.join([i for i in entries if i not in remove_blanks])\n</code></pre>\n\n<p>is currently not doing anything, because the return value from the <code>join</code> method is not being assigned to anything.</p>\n"}, {"tags": [], "owner": {"reputation": 1213, "user_id": 8134032, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b185eace7b99bb80d233c6d9d8fc308?s=128&d=identicon&r=PG&f=1", "display_name": "jacoblaw", "link": "https://stackoverflow.com/users/8134032/jacoblaw"}, "is_accepted": false, "score": 2, "last_activity_date": 1498685243, "creation_date": 1498685243, "answer_id": 44812825, "question_id": 44812651, "link": "https://stackoverflow.com/questions/44812651/python-3-x-subtract-same-index-from-sequential-lines/44812825#44812825", "title": "Python 3.x: Subtract Same Index from Sequential Lines", "body": "<p>You could do something like this</p>\n\n<pre><code>f = open(fn)\nt0 = None\nfor line in iter(f):\n\n    remove_blanks = ['']\n    entries = line.split()\n    ''.join([i for i in entries if i not in remove_blanks])\n    trash = (entries[0], entries[1])\n    time = int(entries[2])  # Time expressed as elapsed time in milliseconds\n    if t0 is None: # first iteration, store time at t0\n        t0 = time\n    else:\n        print(\"Elapsed time: {}ms\".format(time - t0)) # every iteration except the first, print elapsed time\n    column = [int(v) for v in entries[3:]]\n</code></pre>\n\n<p>It will print the elapsed time every iteration. I think this is what you're asking for help with</p>\n"}, {"comments": [{"owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498686932, "post_id": 44813081, "comment_id": 76606975, "body": "Thank you for the help, cleaned up my script well. I am very new to Python and programming entirely, so I am not surprised my semantics are off. As for the &#39;column&#39; and &#39;trash&#39; variables, they are used later in code that I did not provide for simplicity. I am not working with timestamps, but simply values for time i.e.: 4971652 milliseconds."}, {"owner": {"reputation": 131, "user_id": 4003526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42e4c658dda87229c6cb14b7167d36?s=128&d=identicon&r=PG&f=1", "display_name": "Robzor", "link": "https://stackoverflow.com/users/4003526/robzor"}, "reply_to_user": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "edited": false, "score": 0, "creation_date": 1498687250, "post_id": 44813081, "comment_id": 76607113, "body": "@DRauch no problem, I hope you make good progress and keep trying to get better at coding. Few things are as gratifying :)"}], "tags": [], "owner": {"reputation": 131, "user_id": 4003526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a42e4c658dda87229c6cb14b7167d36?s=128&d=identicon&r=PG&f=1", "display_name": "Robzor", "link": "https://stackoverflow.com/users/4003526/robzor"}, "is_accepted": false, "score": 2, "last_activity_date": 1498686438, "creation_date": 1498686438, "answer_id": 44813081, "question_id": 44812651, "link": "https://stackoverflow.com/questions/44812651/python-3-x-subtract-same-index-from-sequential-lines/44813081#44813081", "title": "Python 3.x: Subtract Same Index from Sequential Lines", "body": "<p>First off you haven't stored each line as a list. This is just semantics but you seem to have stored your lines in a text file. You're reading lines from a text file, then reading the lines converting them into strings and then splitting them into lists. Remember, semantics are important when programming.</p>\n\n<p>If we're to improve your code as well based on the sample you've provided I would do the following:</p>\n\n<pre><code>import time\nstart = int(time.time() * 1000)\nf = open()\n\nfor line in iter(f):\n    entries = [i for i in line.split() if i]\n    print(int(entries[2]) - start)\n</code></pre>\n\n<p>Now, I removed a lot of what seems like cruft for me based on what you actually want to do, which is to calculate a time based on a timestamp.</p>\n\n<ol>\n<li>You don't need the list with an empty string to confirm that there's an \nexisting string (be careful of the caveats, see something like <a href=\"https://www.tutorialspoint.com/python/python_if_else.htm\" rel=\"nofollow noreferrer\">this</a>)</li>\n<li>You're not storing the return value from the <strong>.join</strong> function, it's completely superfluous</li>\n<li><strong>trash</strong> is not used either</li>\n<li>Neither is <strong>column</strong></li>\n</ol>\n\n<p>Maybe you're leaving out parts of the code but this is what I could understand from your description. Now, I'm not sure why you want to compare what I call <strong>start</strong> to the the timestamp you have in the manner you do. It will always be a negative value since I presume the file is created prior to the execution of the program, I expect you actually want <em><strong>print(start - int(entries[2]))</strong></em> but that's just a guess.</p>\n\n<p>If what you're actually looking for is to time your functions I'd recommend to look into <a href=\"https://docs.python.org/3/library/timeit.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/timeit.html</a> for a start.</p>\n"}], "owner": {"reputation": 57, "user_id": 8115276, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/c9ad02fd4375572fe5bc17efc5088234?s=128&d=identicon&r=PG&f=1", "display_name": "DRauch", "link": "https://stackoverflow.com/users/8115276/drauch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 44812802, "answer_count": 3, "score": 1, "last_activity_date": 1498686438, "creation_date": 1498684484, "question_id": 44812651, "link": "https://stackoverflow.com/questions/44812651/python-3-x-subtract-same-index-from-sequential-lines", "title": "Python 3.x: Subtract Same Index from Sequential Lines", "body": "<p>I have data sets of 5000+ lines and varying lengths In terms of elements existing in any given line of data. I have stored each line of data as a <code>list</code> where each element is stored as an <code>index</code> (i.e. some lines may have 5 indices where others may have 20). Index 2 is <strong>always</strong> the elapsed time for that line of data.</p>\n\n<p>My script currently <code>iterates</code> through the data set using a <code>for</code> loop as a means to structure the data. See below:</p>\n\n<pre><code>f = open(fn)\nfor line in iter(f):\n\n    remove_blanks = ['']\n    entries = line.split()\n    ''.join([i for i in entries if i not in remove_blanks])\n    trash = (entries[0], entries[1])\n    time = int(entries[2])  # Time expressed as elapsed time in milliseconds\n    column = [int(v) for v in entries[3:]]\n</code></pre>\n\n<p>Where the lines (from the data set) the script iterates through look something like</p>\n\n<p><code>x y #time a b</code></p>\n\n<p><code>d e #time f g h</code></p>\n\n<p>Which are then put into lists like</p>\n\n<p><code>['x', 'y', '#time', 'a', 'b']</code></p>\n\n<p><code>['d', 'e', '#time', 'f', 'g', 'h']</code></p>\n\n<p>I would like to iteratively subtract the initial time (non-zero) from the time present in any given line. For example, I would like to do \n<code>(#time on line x) - (#time on line 0)</code> and <code>print</code> the elapsed time for each line. Perhaps this can be done before the data structure is created, I am not sure. </p>\n\n<p>Please help!</p>\n\n<p>Thanks </p>\n"}, {"tags": ["python", "python-3.x", "pygame"], "comments": [{"owner": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 1, "creation_date": 1498685881, "post_id": 44812601, "comment_id": 76606522, "body": "What is the actual crash you get? Can you include a stack trace?"}, {"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "reply_to_user": {"reputation": 6424, "user_id": 3579910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IoMjv.jpg?s=128&g=1", "display_name": "TemporalWolf", "link": "https://stackoverflow.com/users/3579910/temporalwolf"}, "edited": false, "score": 2, "creation_date": 1498686614, "post_id": 44812601, "comment_id": 76606837, "body": "what i meant by crashing was crashing into the meteors"}, {"owner": {"reputation": 1014, "user_id": 5090527, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3bc0e62835e7e6e91fff7a9e89a361e9?s=128&d=identicon&r=PG&f=1", "display_name": "Ramon", "link": "https://stackoverflow.com/users/5090527/ramon"}, "edited": false, "score": 1, "creation_date": 1498697455, "post_id": 44812601, "comment_id": 76609825, "body": "<code>shipImages = [pygame.image.load(os.path.join(&quot;Images&quot;, &quot;Animations&quot;, &quot;Ship Animation&quot;, &quot;Ship&quot; + str(i).zfill(2) + &quot;.png&quot;)) for i in range(17)]</code> you might find that handy"}, {"owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "edited": false, "score": 0, "creation_date": 1498716387, "post_id": 44812601, "comment_id": 76614873, "body": "thanks im very new to coding thats why i did it that way"}], "answers": [{"tags": [], "owner": {"reputation": 11162, "user_id": 6655211, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SnofI.png?s=128&g=1", "display_name": "PRMoureu", "link": "https://stackoverflow.com/users/6655211/prmoureu"}, "is_accepted": true, "score": 0, "last_activity_date": 1498695808, "creation_date": 1498695808, "answer_id": 44814483, "question_id": 44812601, "link": "https://stackoverflow.com/questions/44812601/im-trying-to-make-a-dodging-game-with-pygame/44814483#44814483", "title": "Im trying to make a dodging game with pygame", "body": "<p>With: </p>\n\n<pre><code>if y &lt; ms_y + mh:\n    # [...]\n</code></pre>\n\n<p>you only defined the crash when the ship is above the meteor, so the <em>danger zone</em> is the whole area under/behind the ship.</p>\n\n<p>To fix this you need to limit this danger zone: </p>\n\n<pre><code>if y &lt; ms_y + mh and y &gt; ms_y:\n    # [...]\n</code></pre>\n\n<p>You should use the ship's height as you did with the x coordinates tests, to be more accurate.</p>\n"}], "owner": {"reputation": 161, "user_id": 8083008, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e442891fa680d137048350483d77478f?s=128&d=identicon&r=PG&f=1", "display_name": "Eren Bi&#231;er", "link": "https://stackoverflow.com/users/8083008/eren-bi%c3%a7er"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 44814483, "answer_count": 1, "score": 0, "last_activity_date": 1498695808, "creation_date": 1498684218, "question_id": 44812601, "link": "https://stackoverflow.com/questions/44812601/im-trying-to-make-a-dodging-game-with-pygame", "title": "Im trying to make a dodging game with pygame", "body": "<p>I ve started making a dodging game with pygame and i am almost finished but there is one problem. so there are these meteors i have to dodge in space if i touch it i crash but when i get behind one of the meteors i also crash.\nheres my code:</p>\n\n<pre><code>import pygame\nimport os\nimport random\nimport time\nfrom pygame import mixer\n\npygame.init()\nmixer.init()\n\nwidth = 800\nheight = 600\n\nblack = (0,0,0)\nwhite = (255,255,255)\n\nship_width = 56\nship_height = 64\n\ndisp = pygame.display.set_mode((width,height))\n\npygame.display.set_caption(\"space_game\")\n\nclock = pygame.time.Clock()\n\nbackground = pygame.image.load(os.path.join(\"Backgrounds\", \"Space.png\"))\n\nShip00 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship00.png\"))\nShip01 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship01.png\"))\nShip02 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship02.png\"))\nShip03 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship03.png\"))\nShip04 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship04.png\"))\nShip05 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship05.png\"))\nShip06 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship06.png\"))\nShip07 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship07.png\"))\nShip08 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship08.png\"))\nShip09 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship09.png\"))\nShip10 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship10.png\"))\nShip11 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship11.png\"))\nShip12 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship12.png\"))\nShip13 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship13.png\"))\nShip14 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship14.png\"))\nShip15 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship15.png\"))\nShip16 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Ship Animation\", \"Ship16.png\"))\n\nMeteor00 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor00.png\"))\nMeteor01 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor01.png\"))\nMeteor02 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor02.png\"))\nMeteor03 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor03.png\"))\nMeteor04 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor04.png\"))\nMeteor05 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor05.png\"))\nMeteor06 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor06.png\"))\nMeteor07 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor07.png\"))\nMeteor08 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor08.png\"))\nMeteor09 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor09.png\"))\nMeteor10 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor10.png\"))\nMeteor11 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor11.png\"))\nMeteor12 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor12.png\"))\nMeteor13 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor13.png\"))\nMeteor14 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor14.png\"))\nMeteor15 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor15.png\"))\nMeteor16 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor16.png\"))\nMeteor17 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor17.png\"))\nMeteor18 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor18.png\"))\nMeteor19 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor19.png\"))\nMeteor20 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor20.png\"))\nMeteor21 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor21.png\"))\nMeteor22 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor22.png\"))\nMeteor23 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor23.png\"))\nMeteor24 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor24.png\"))\nMeteor25 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor25.png\"))\nMeteor26 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor26.png\"))\nMeteor27 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor27.png\"))\nMeteor28 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor28.png\"))\nMeteor29 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor29.png\"))\nMeteor30 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor30.png\"))\nMeteor31 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor31.png\"))\nMeteor32 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor32.png\"))\nMeteor33 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor33.png\"))\nMeteor34 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor34.png\"))\nMeteor35 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor35.png\"))\nMeteor36 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor36.png\"))\nMeteor37 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor37.png\"))\nMeteor38 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor38.png\"))\nMeteor39 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor39.png\"))\nMeteor40 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor40.png\"))\nMeteor41 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor41.png\"))\nMeteor42 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor42.png\"))\nMeteor43 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor43.png\"))\nMeteor44 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor44.png\"))\nMeteor45 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor45.png\"))\nMeteor46 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor46.png\"))\nMeteor47 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor47.png\"))\nMeteor48 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor48.png\"))\nMeteor49 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor49.png\"))\nMeteor50 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor50.png\"))\nMeteor51 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor51.png\"))\nMeteor52 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor52.png\"))\nMeteor53 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor53.png\"))\nMeteor54 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor54.png\"))\nMeteor55 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor55.png\"))\nMeteor56 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor56.png\"))\nMeteor57 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor57.png\"))\nMeteor58 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor58.png\"))\nMeteor59 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor59.png\"))\nMeteor60 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor60.png\"))\nMeteor61 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor61.png\"))\nMeteor62 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor62.png\"))\nMeteor63 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor63.png\"))\nMeteor64 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor64.png\"))\nMeteor65 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor65.png\"))\nMeteor66 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor66.png\"))\nMeteor67 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor67.png\"))\nMeteor68 = pygame.image.load(os.path.join(\"Images\", \"Animations\", \"Meteor Animation\", \"Meteor68.png\"))\n\n\nbulletImg = pygame.image.load(os.path.join(\"Images\", \"Bullet.png\"))\n\nshipImages = [Ship00, Ship01, Ship02, Ship03, Ship04, Ship05, Ship06, Ship07, Ship08, Ship09, Ship10, Ship11, Ship12, Ship13, Ship14, Ship15, Ship16]\nmeteorImages = [Meteor00 , Meteor01 , Meteor02 ,  Meteor03 , Meteor04 , Meteor05 , Meteor06 , Meteor07 , Meteor08 , Meteor09 , Meteor11 , Meteor12 , Meteor13 , Meteor14 , Meteor15 , Meteor16 , Meteor17 , Meteor18 , Meteor19 , Meteor20 , Meteor21 , Meteor22 , Meteor23 , Meteor24 , Meteor25 , Meteor26 , Meteor27 , Meteor28 , Meteor29 , Meteor30 , Meteor31 , Meteor32 , Meteor33 , Meteor34 , Meteor35 , Meteor36 , Meteor37 , Meteor38 , Meteor39 , Meteor40 , Meteor41 , Meteor42 , Meteor43 , Meteor44 , Meteor45 , Meteor46 , Meteor47 , Meteor48 , Meteor49 , Meteor50 , Meteor51 , Meteor52 , Meteor53 , Meteor54 , Meteor55 , Meteor56 , Meteor57 , Meteor58 , Meteor59 , Meteor60 , Meteor61 , Meteor62 , Meteor63 , Meteor64 , Meteor65 , Meteor66 , Meteor67 , Meteor68]\n\ndef score(count):\n    font = pygame.font.Font(\"Pixeled.ttf\", 10)\n    text = font.render(\"Score: \" + str(count), True, white)\n    disp.blit(text,(0,0))\n\ndef text_obj(text, font):\n    textSurface = font.render(text, True, white)\n    return textSurface, textSurface.get_rect()\n\ndef message_display(text):\n    game_over_txt = pygame.font.Font(\"Pixeled.ttf\", 50)\n    TextSurf, TextRect = text_obj(text, game_over_txt)\n    TextRect.center = (400,300)\n    disp.blit(TextSurf, TextRect)\n\n    pygame.display.update()\n\n    time.sleep(2)\n\n    gameLoop()\n\ndef game_over():\n    message_display(\"Game Over\")\n\ndef gameLoop():\n    x = (width * 0.45)\n    y = (height * 0.8)\n\n    x_ch = 0\n    y_ch = 0\n\n    x_bg = 0\n\n    mw = 92\n    mh = 88\n    mspeed = 5\n\n    index_s = 0\n    index_m = 0\n\n    ms_x = random.randrange(0, width)\n    ms_y = -500\n\n    mscore = 0\n\n    music = mixer.music.load(os.path.join(\"Sounds\", \"Music\", \"space_song2.wav\"))\n    mixer.music.play(-1)\n\n    gameExit = False\n\n    while not gameExit:\n        for event in pygame.event.get():\n            if event.type == pygame.QUIT:\n                gameExit = True\n\n            if event.type == pygame.KEYDOWN:\n                if event.key == ord(\"a\"):\n                    x_ch = -5\n\n                elif event.key == ord(\"d\"):\n                    x_ch = 5\n\n                elif event.key == ord(\"w\"):\n                    y_ch = -5\n\n                elif event.key == ord(\"s\"):\n                    y_ch = 5\n\n            if event.type == pygame.KEYUP:\n                if event.key == ord(\"a\") or event.key == ord(\"d\"):\n                    x_ch = 0\n\n                if event.key == ord(\"w\") or event.key == ord(\"s\"):\n                    y_ch = 0\n\n        x += x_ch\n        y += y_ch\n\n        if x &gt; width - ship_width or x &lt; 0:\n            x_ch = 0\n\n        if y &gt; height - ship_height or y &lt; 0:\n            y_ch = 0\n\n        disp.fill(black)\n\n        x_loop = x_bg % background.get_rect().height\n        disp.blit(background, (0, x_loop - background.get_rect().height))\n\n        if x_loop &lt; height:\n            disp.blit(background, (0, x_loop))\n\n        x_bg += 5\n\n        index_s += 1\n        index_s %= len(shipImages)\n        current_shpImg = shipImages[index_s]\n        disp.blit(current_shpImg, (x,y))\n\n        index_m += 1\n        index_m %= len(meteorImages)\n        current_metImg = meteorImages[index_m]\n        disp.blit(current_metImg, (ms_x,ms_y))\n        ms_y += mspeed\n\n        score(mscore)\n\n        if ms_y &gt; height:\n            ms_y = 0 - mh\n            ms_x = random.randrange(10,790)\n            mscore += 1\n            mspeed += 0.2\n            pygame.mixer.Channel(0).play(pygame.mixer.Sound('Sounds\\Effects\\scoreup.wav'))\n\n        if y &lt; ms_y + mh:\n            if x &gt; ms_x and x &lt; ms_x + mw or x + ship_width &gt; ms_x and x + ship_width &lt; ms_x + mw:\n                crash_sound = mixer.music.load(os.path.join(\"Sounds\", \"Effects\", \"crash_sound.wav\"))\n                mixer.music.play()\n                game_over()\n\n        if event.type == pygame.KEYDOWN:\n            if event.key == ord(\" \"):\n                disp.blit(bulletImg, (x-16, y-16))\n                disp.blit(bulletImg, (x+16, y-16))\n\n        pygame.display.flip()\n\n        clock.tick(60)\n\ngameLoop()\npygame.quit()\nquit()\n</code></pre>\n\n<p>here is an example:\n<a href=\"https://i.stack.imgur.com/2ICZ5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2ICZ5.png\" alt=\"it crashes when i get behind it\"></a></p>\n\n<p>ive been trying to figure this out for the past half an hour and i cant do it.\ncan somebody please help me fix this problem? thanks</p>\n"}, {"tags": ["python", "seaborn"], "comments": [{"owner": {"reputation": 848, "user_id": 4942812, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6n9TS.png?s=128&g=1", "display_name": "MPa", "link": "https://stackoverflow.com/users/4942812/mpa"}, "edited": false, "score": 0, "creation_date": 1498684247, "post_id": 44812589, "comment_id": 76605810, "body": "And yes, I had a look at <a href=\"https://stackoverflow.com/questions/36369291/x-axis-is-not-correctly-spaced-in-seaborn/36371454#36371454\">this</a> question before, it helped understand the problem, but not find a solution."}], "answers": [{"comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1498691705, "post_id": 44813859, "comment_id": 76608466, "body": "If the numeric values are integral, you can use <code>order</code> in seaborn to put them at specific positions."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1498692197, "post_id": 44813859, "comment_id": 76608609, "body": "@mwaskom Can you give an example of what you mean? Or maybe add your own answer in case this can be solved using sns.boxplot ? I think that would really be of interest for a lot of people so if there is a solution it might be good not to have it hidden in a comment. As I understand <code>order</code> simply sets the order like [3,1,9] instead of [1,3,9] or so?!"}, {"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 1, "creation_date": 1498696918, "post_id": 44813859, "comment_id": 76609713, "body": "Do <code>order=range(1, 10)</code>. You might need to fiddle with the ticks afterwards."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1498717968, "post_id": 44813859, "comment_id": 76615667, "body": "Great, I updated the answer accordingly. Despite the limitation to integer numbers this is very useful."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 5, "last_activity_date": 1498717913, "last_edit_date": 1498717913, "creation_date": 1498690970, "answer_id": 44813859, "question_id": 44812589, "link": "https://stackoverflow.com/questions/44812589/seaborn-boxplot-x-axis-as-numbers-not-labels/44813859#44813859", "title": "seaborn boxplot x-axis as numbers, not labels", "body": "<p>As @mwaskom pointed out in the comments below my initial answer the use of the <code>order</code> argument can be used to create empty box positions in between the boxes.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\n\nx = np.random.choice([1,3,9], size=1001)\ny = np.random.rand(1001)*(4+np.log(x))\ndf = pd.DataFrame({\"x\":x, \"y\":y})\n\nsns.boxplot(x='x', y='y', data=df, order=range(1,10))\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/IRMTj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IRMTj.png\" alt=\"enter image description here\"></a></p>\n\n<p>Note that the axes is still categorical in this case, meaning that it starts at 0 with increments of 1, and only the labels suggest this to be different. In the case of the question, this is not a problem, but one needs to be aware of it, when e.g. plotting other quantitative plots in the same graph. This will also <strong>only work if bar positions are integer numbers</strong>.</p>\n\n<p>Another more general solution is to use <a href=\"https://matplotlib.org/api/pyplot_api.html#matplotlib.pyplot.boxplot\" rel=\"nofollow noreferrer\">matplotlib.pyplot.boxplot</a> instead. The solution would then depend on whether you have the same number of values for each \"hue\" category or not. In the general case of them being different, you would plot one boxplot per value in a loop. The axes is then truly to scale and non-integer numbers are no problem.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns\nimport pandas as pd\nimport numpy as np\n\n\nx = np.random.choice([1,3,9], size=1001)\ny = np.random.rand(1001)*(4+np.log(x))\ndf = pd.DataFrame({\"x\":x, \"y\":y})\n\nu = df.x.unique()\ncolor=plt.cm.spectral(np.linspace(.1,.8, len(u)))\nfor c, (name, group) in zip(color,df.groupby(\"x\")):\n    bp = plt.boxplot(group.y.values, positions=[name], widths=0.8, patch_artist=True)\n    bp['boxes'][0].set_facecolor(c)\n\n\nplt.xticks(u,u)\nplt.autoscale()\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7Dwlc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7Dwlc.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 848, "user_id": 4942812, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/6n9TS.png?s=128&g=1", "display_name": "MPa", "link": "https://stackoverflow.com/users/4942812/mpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3391, "favorite_count": 0, "accepted_answer_id": 44813859, "answer_count": 1, "score": 4, "last_activity_date": 1532445070, "creation_date": 1498684171, "last_edit_date": 1532445070, "question_id": 44812589, "link": "https://stackoverflow.com/questions/44812589/seaborn-boxplot-x-axis-as-numbers-not-labels", "title": "seaborn boxplot x-axis as numbers, not labels", "body": "<p>Suppose I have a pandas <code>DataFrame</code> that is generated like this:</p>\n\n<pre><code>df = pd.DataFrame(columns=['x_value', 'y_value'])\nfor x in [1.0, 3.0, 9.0]:\n    for _ in range(1000):\n        df = df.append({'x_value':x, 'y_value':np.random.random()}, ignore_index=True)\n</code></pre>\n\n<p>The result would look something like this:</p>\n\n<pre><code>In: df.head()\nOut: \n    x_value y_value\n0   1.0 0.616052\n1   3.0 1.406715\n2   9.0 8.774720\n3   1.0 0.810729\n4   3.0 1.309627\n</code></pre>\n\n<p>Using seaborn to generate boxplots provides this result:</p>\n\n<pre><code>[In] sns.boxplot(x='x_value', y='y_value', data=df)\n[Out]\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/zLu96.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLu96.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I would like is to generate the set of boxplots that are spaced out as if the x-axis values are treated as numbers, not just labels.  </p>\n\n<p>Is this possible?\nAm I simply looking at the wrong type of graph to convey information about the dispersion of my data, if boxplots cannot do this?</p>\n"}, {"tags": ["python", "selenium", "firefox", "geckodriver"], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 1366015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4302468798dec6ea1cc21295c8b2cfd2?s=128&d=identicon&r=PG", "display_name": "Kurtis AS-K", "link": "https://stackoverflow.com/users/1366015/kurtis-as-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1501357550, "creation_date": 1501357550, "answer_id": 45393409, "question_id": 44812587, "link": "https://stackoverflow.com/questions/44812587/how-do-you-load-a-firefox-profile-in-selenium-3-3-3/45393409#45393409", "title": "How do you load a Firefox profile in Selenium 3.3.3", "body": "<p>The Python selenium port unfortunately is a victim of port over-extension obvious (POO), one could say it's a piece of poo. The documentation is outdated and incomplete. Good luck finding answers to simple questions like this one.</p>\n\n<p>So port your project into C# and loading a profile actually works...</p>\n\n<p>In the future I'll avoid coding with a POO port.</p>\n"}], "owner": {"reputation": 111, "user_id": 1366015, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4302468798dec6ea1cc21295c8b2cfd2?s=128&d=identicon&r=PG", "display_name": "Kurtis AS-K", "link": "https://stackoverflow.com/users/1366015/kurtis-as-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571224828, "creation_date": 1498684150, "last_edit_date": 1571224828, "question_id": 44812587, "link": "https://stackoverflow.com/questions/44812587/how-do-you-load-a-firefox-profile-in-selenium-3-3-3", "title": "How do you load a Firefox profile in Selenium 3.3.3", "body": "<ul>\n<li>Python: 3.6.0</li>\n<li>Firefox: 53</li>\n<li>Gecko: 0.16.0</li>\n<li>Selenium: 3.3.3</li>\n</ul>\n\n<p>In running the code below my expectation is that the URL should load in Firefox, and the profile should be the one defined in profile. Instead an anonymous profile is loaded every time.</p>\n\n<pre><code>from selenium import webdriver\nprofile = webdriver.FirefoxProfile(\"C:\\\\Users\\\\user\\\\AppData\\\\Roaming\\\\Mozilla\\\\Firefox\\\\Profiles\\\\4dyfyi8v.Profile\");\nbinary = FirefoxBinary('C:\\\\Program Files\\\\Mozilla Firefox\\\\firefox.exe');\nff = webdriver.Firefox(firefox_profile=profile, firefox_binary=binary);\nff.get(\"http://cbc.ca\");\n</code></pre>\n\n<p>I used to do this, but it seems broken now that I've installed the latest Firefox, and Selenium.</p>\n\n<pre><code>from selenium import webdriver\nfp = webdriver.FirefoxProfile();\nfp.set_preference(\"permissions.default.image\",2)\ndriver = webdriver.Firefox(fp);\n</code></pre>\n\n<p>Is there a way to just set preferences in a profile, and launch selenium using that profile? The old way is well documented, but what mechanism has replaced it seems to be hiding in a todo list somewhere.</p>\n"}, {"tags": ["python", "audio", "wav"], "answers": [{"comments": [{"owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "edited": false, "score": 0, "creation_date": 1498686954, "post_id": 44813025, "comment_id": 76606988, "body": "Thanks a lot for your help!"}, {"owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "edited": false, "score": 0, "creation_date": 1498687928, "post_id": 44813025, "comment_id": 76607370, "body": "When I run data, samplerate = soundfile.read(&#39;dog_bark.wav&#39;) I get a runtime error. It says Error opening &#39;dog_bark.wav&#39;&#39;: System error."}, {"owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "reply_to_user": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "edited": false, "score": 0, "creation_date": 1498688026, "post_id": 44813025, "comment_id": 76607404, "body": "Are you running the script in the same directory as the audio file?"}, {"owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "edited": false, "score": 0, "creation_date": 1498688958, "post_id": 44813025, "comment_id": 76607712, "body": "It works now. I&#39;ll post my final code below to help anyone who faces the same issue!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11141180"}, "edited": false, "score": 0, "creation_date": 1566938986, "post_id": 44813025, "comment_id": 101810643, "body": "I get this error, &quot;RuntimeError: Error opening &#39;audio.wav&#39;: File contains data in an unknown format.&quot;"}], "tags": [], "owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "is_accepted": true, "score": 15, "last_activity_date": 1498686197, "creation_date": 1498686197, "answer_id": 44813025, "question_id": 44812553, "link": "https://stackoverflow.com/questions/44812553/how-to-convert-a-24-bit-wav-file-to-16-or-32-bit-files-in-python3/44813025#44813025", "title": "How to convert a 24-bit wav file to 16 or 32 bit files in python3", "body": "<p>I would suggest using <a href=\"http://sox.sourceforge.net\" rel=\"noreferrer\" title=\"SoX\">SoX</a> for this task. Changing the bit depth is very simple:</p>\n\n<pre><code>sox old.wav -b 16 new.wav\n</code></pre>\n\n<p>If you must use Python, then you could use PySoundFile as you found. Here's a little code snippet:</p>\n\n<pre><code>import soundfile\n\ndata, samplerate = soundfile.read('old.wav')\nsoundfile.write('new.wav', data, samplerate, subtype='PCM_16')\n</code></pre>\n\n<p>You should also use <a href=\"http://pysoundfile.readthedocs.io/en/0.9.0/#soundfile.available_subtypes\" rel=\"noreferrer\" title=\"soundfile.available_subtypes\"><code>soundfile.available_subtypes</code></a> to see which subtypes you can convert a file to. Here's its sample usage, taken from their documentation:</p>\n\n<pre><code>&gt;&gt;&gt; import soundfile as sf\n&gt;&gt;&gt; sf.available_subtypes('FLAC')\n{'PCM_24': 'Signed 24 bit PCM',\n 'PCM_16': 'Signed 16 bit PCM',\n 'PCM_S8': 'Signed 8 bit PCM'}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1498689222, "creation_date": 1498689222, "answer_id": 44813581, "question_id": 44812553, "link": "https://stackoverflow.com/questions/44812553/how-to-convert-a-24-bit-wav-file-to-16-or-32-bit-files-in-python3/44813581#44813581", "title": "How to convert a 24-bit wav file to 16 or 32 bit files in python3", "body": "<p>I found the solution with the help of Berk \u00d6zbalc\u0131 \nI wrote a function below to convert a directory of .wav files to 16-bit wav files</p>\n\n<pre><code>def convertAllFilesInDirectoryTo16Bit(directory):\n    for file in os.listdir(directory):\n         if(file.endswith('.wav')):\n             nameSolo = file.rsplit('.', 1)[0]\n             print(directory + nameSolo )\n             data, samplerate = soundfile.read(directory + file)                \n\n           soundfile.write('/Users/yournamehere/Desktop/folderwhereyouwanttosae/' + nameSolo + '16BIT.wav', data, samplerate, subtype='PCM_16')\n            print(\"converting \" + file + \"to 16 - bit\")\n</code></pre>\n"}], "owner": {"reputation": 829, "user_id": 7153699, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-Q2GDPjKTZic/AAAAAAAAAAI/AAAAAAAAAFU/J2wYyI4vdIk/photo.jpg?sz=128", "display_name": "Sreehari R", "link": "https://stackoverflow.com/users/7153699/sreehari-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11133, "favorite_count": 2, "accepted_answer_id": 44813025, "answer_count": 2, "score": 5, "last_activity_date": 1498689222, "creation_date": 1498684013, "question_id": 44812553, "link": "https://stackoverflow.com/questions/44812553/how-to-convert-a-24-bit-wav-file-to-16-or-32-bit-files-in-python3", "title": "How to convert a 24-bit wav file to 16 or 32 bit files in python3", "body": "<p>I am trying to make spectrogram's of a bunch of .wav files so I can further analyze them(in python 3.6), however, I keep getting this nasty error</p>\n\n<pre><code> ValueError: Unsupported bit depth: the wav file has 24-bit data.\n</code></pre>\n\n<p>I have looked into other stack overflow posts such as \n<a href=\"https://stackoverflow.com/questions/16767248/how-do-i-write-a-24-bit-wav-file-in-python\">How do I write a 24-bit WAV file in Python?</a>\nbut theses didn't solve the issue!</p>\n\n<p>I found a audio library called Pysoundfile</p>\n\n<p><a href=\"http://pysoundfile.readthedocs.io/en/0.9.0/\" rel=\"noreferrer\">http://pysoundfile.readthedocs.io/en/0.9.0/</a></p>\n\n<p>I installed it with </p>\n\n<pre><code>pip3 install pysoundfile\n</code></pre>\n\n<p>I have looked over the documentation and it is still not clear to me how to convert a 24-bit .wav file to a 32-bit wav file or a 16-bit wav file so that I can create a spectrogram from it. </p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["python", "coverage.py"], "answers": [{"tags": [], "owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "is_accepted": true, "score": 5, "last_activity_date": 1498684860, "creation_date": 1498684860, "answer_id": 44812727, "question_id": 44812538, "link": "https://stackoverflow.com/questions/44812538/how-to-run-coverage-py-on-a-directory/44812727#44812727", "title": "How to run coverage.py on a directory?", "body": "<p>Use <code>--include</code> to only include files in particular directories. It matches file paths, so it can match a subdirectory.</p>\n"}, {"tags": [], "owner": {"reputation": 755, "user_id": 7686467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HicLw.jpg?s=128&g=1", "display_name": "Juan Diego Garcia", "link": "https://stackoverflow.com/users/7686467/juan-diego-garcia"}, "is_accepted": false, "score": 8, "last_activity_date": 1498685604, "creation_date": 1498685604, "answer_id": 44812899, "question_id": 44812538, "link": "https://stackoverflow.com/questions/44812538/how-to-run-coverage-py-on-a-directory/44812899#44812899", "title": "How to run coverage.py on a directory?", "body": "<p>You can achieve that using <code>--source</code>. For example: <code>coverage run --source=tests/ &lt;run_tests&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 1039, "user_id": 3320018, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QTstV.jpg?s=128&g=1", "display_name": "Nirmal", "link": "https://stackoverflow.com/users/3320018/nirmal"}, "is_accepted": false, "score": 10, "last_activity_date": 1554528700, "last_edit_date": 1554528700, "creation_date": 1554528179, "answer_id": 55546164, "question_id": 44812538, "link": "https://stackoverflow.com/questions/44812538/how-to-run-coverage-py-on-a-directory/55546164#55546164", "title": "How to run coverage.py on a directory?", "body": "<p>Here is a complete example with commands from the same PWD for all phases in one place. With a worked up example, I am also including the testing and the report part for before and after coverage is run. I ran the following steps and it worked all fine on osx/mojave.</p>\n\n<blockquote>\n  <ol>\n  <li>Discover and run all tests in the test directory </li>\n  </ol>\n</blockquote>\n\n<p><code>$</code> <code>python -m unittest discover &lt;directory_name&gt;</code></p>\n\n<blockquote>\n  <p>Or\n  Discover and run all tests in \"directory\" with tests having file name pattern *_test.py</p>\n</blockquote>\n\n<p><code>$</code> <code>python -m unittest discover -s &lt;directory&gt; -p '*_test.py'</code></p>\n\n<blockquote>\n  <ol start=\"2\">\n  <li>run coverage for all modules</li>\n  </ol>\n</blockquote>\n\n<p><code>$</code> <code>coverage run --source=./test -m unittest discover -s &lt;directory&gt;/</code></p>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>get the coverage report from the same directory - no need to cd.</li>\n  </ol>\n</blockquote>\n\n<p><code>$</code> <code>coverage report -m</code></p>\n\n<blockquote>\n  <p>Notice in above examples that the test directory doesn't have to be\n  named \"test\" and same goes for the test modules.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1116, "user_id": 4703367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dc209ff341d38c7d9fbc2eec295d8cc?s=128&d=identicon&r=PG&f=1", "display_name": "erncyp", "link": "https://stackoverflow.com/users/4703367/erncyp"}, "is_accepted": false, "score": 3, "last_activity_date": 1581603483, "creation_date": 1581603483, "answer_id": 60209940, "question_id": 44812538, "link": "https://stackoverflow.com/questions/44812538/how-to-run-coverage-py-on-a-directory/60209940#60209940", "title": "How to run coverage.py on a directory?", "body": "<p>None of the answers here quite worked for me. I found that coverage and pytest worked fine though:</p>\n\n<pre><code>coverage run -m pytest\n</code></pre>\n\n<p>This was run at the project folder. It was able to find the folder called tests, and run all the tests (which was split into multiple python files and had a <code>__init__</code>.py file) within them. To see the report run:</p>\n\n<pre><code>coverage report\n</code></pre>\n"}], "owner": {"reputation": 3938, "user_id": 3832802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/k0Hxl.jpg?s=128&g=1", "display_name": "pythad", "link": "https://stackoverflow.com/users/3832802/pythad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9879, "favorite_count": 0, "accepted_answer_id": 44812727, "answer_count": 4, "score": 10, "last_activity_date": 1581603483, "creation_date": 1498683958, "question_id": 44812538, "link": "https://stackoverflow.com/questions/44812538/how-to-run-coverage-py-on-a-directory", "title": "How to run coverage.py on a directory?", "body": "<p>I have a directory <code>tests</code> that includes a lot of different tests named <code>test_*</code>.</p>\n\n<p>I tried to run <code>coverage run tests</code> but it doesn't work.</p>\n\n<p>How can I run a single command to coverage multiple files in the directory?</p>\n"}, {"tags": ["python", "pandas", "join", "dataframe"], "comments": [{"owner": {"reputation": 254200, "user_id": 7964527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HPW8R.jpg?s=128&g=1", "display_name": "BENY", "link": "https://stackoverflow.com/users/7964527/beny"}, "edited": false, "score": 0, "creation_date": 1498686270, "post_id": 44812517, "comment_id": 76606697, "body": "Hope the link helps <a href=\"https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.merge.html\" rel=\"nofollow noreferrer\">pandas.pydata.org/pandas-docs/stable/generated/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 112399, "user_id": 6361531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BRRGS.png?s=128&g=1", "display_name": "Scott Boston", "link": "https://stackoverflow.com/users/6361531/scott-boston"}, "is_accepted": true, "score": 1, "last_activity_date": 1498684508, "last_edit_date": 1498684508, "creation_date": 1498684197, "answer_id": 44812596, "question_id": 44812517, "link": "https://stackoverflow.com/questions/44812517/pandas-dataframe-append-values-to-one-column-based-on-the-values-in-another-data/44812596#44812596", "title": "pandas dataframe append values to one column based on the values in another dataframe", "body": "<p>Use <code>merge</code>:</p>\n\n<pre><code>(df1.merge(df2[['oescode','soccode']], left_on='OCC_1988', right_on='oescode', how='left')\n    .drop('oescode',axis=1)\n    .rename(columns={'soccode':'new_occ_2000'}))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>    OCC_1988    DIST  YEAR  COW  EST_LEV new_occ_2000\n0          0  100.00  1988  NaN        4          NaN\n1      10000    5.83  1988  3.0        4      11-3041\n2      13002    0.28  1988  3.0        4      11-2022\n3      13005    0.16  1988  3.0        4      11-2031\n4      13008    0.06  1988  3.0        4      11-3011\n5      13011    0.38  1988  3.0        4      11-2011\n6      13014    0.39  1988  3.0        4      11-2021\n7      13017    0.16  1988  3.0        4      11-3021\n8      15017    0.22  1988  3.0        4      11-3031\n9      15023    1.96  1988  3.0        4      11-1031\n10     19005    1.30  1988  3.0        4      11-1011\n11     19005    1.30  1988  3.0        4      11-1021\n</code></pre>\n"}], "owner": {"reputation": 315, "user_id": 7170857, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/e7d80663520879d41d20dfec30986fbd?s=128&d=identicon&r=PG&f=1", "display_name": "MMM", "link": "https://stackoverflow.com/users/7170857/mmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1898, "favorite_count": 1, "accepted_answer_id": 44812596, "answer_count": 1, "score": 0, "last_activity_date": 1499089075, "creation_date": 1498683859, "last_edit_date": 1499089075, "question_id": 44812517, "link": "https://stackoverflow.com/questions/44812517/pandas-dataframe-append-values-to-one-column-based-on-the-values-in-another-data", "title": "pandas dataframe append values to one column based on the values in another dataframe", "body": "<p>I have two data frame and I want to add one column into first data frame according to values matching with second dataframe.</p>\n\n<p>First df = df1</p>\n\n<pre><code>   OCC_1988 DIST    YEAR    COW EST_LEV\n0   0       100.00  1988    NaN 4\n1   10000   5.83    1988    3.0 4\n2   13002   0.28    1988    3.0 4\n3   13005   0.16    1988    3.0 4\n4   13008   0.06    1988    3.0 4\n5   13011   0.38    1988    3.0 4\n6   13014   0.39    1988    3.0 4\n7   13017   0.16    1988    3.0 4\n8   15017   0.22    1988    3.0 4\n9   15023   1.96    1988    3.0 4\n</code></pre>\n\n<p>10   19005   1.30    1988    3.0 4</p>\n\n<p>Second df = df2</p>\n\n<pre><code>    soccode oescode oes99code\n0   11-1011 19002   11-1011\n1   11-1011 19005   11-1011\n2   11-1021 19002   11-1021\n3   11-1021 19005   11-1021\n4   11-1031 15023   11-1031\n5   11-2011 13011   11-2011\n6   11-2021 13014   11-2021\n7   11-2022 13002   11-2022\n8   11-2031 13005   11-2031\n9   11-3011 13008   11-3011\n10  11-3021 13017   11-3021\n11  11-3031 15017   11-3031\n12  11-3041 10000   11-3040\n</code></pre>\n\n<p>I want to matching with df1['OCC_1988'] to df2['oescode'] and add matched df2['soccode'] values to newly added column 'new_occ_2000'.</p>\n\n<p>So the final df will be like this:</p>\n\n<pre><code>   OCC_1988 DIST    YEAR    COW EST_LEV new_occ_2000\n0   0       100.00  1988    NaN 4       Nan\n1   10000   5.83    1988    3.0 4       11-3041      \n2   13002   0.28    1988    3.0 4       11-2022\n3   13005   0.16    1988    3.0 4       11-2031\n4   13008   0.06    1988    3.0 4       11-3011\n5   13011   0.38    1988    3.0 4       11-2011\n6   13014   0.39    1988    3.0 4       11-2021\n7   13017   0.16    1988    3.0 4       11-3021\n8   15017   0.22    1988    3.0 4       11-3031\n9   15023   1.96    1988    3.0 4       11-1031\n</code></pre>\n\n<p>10   19005   1.30    1988    3.0 4       11-1021</p>\n\n<p>Is there any elegant way to do this?</p>\n"}, {"tags": ["python", "linux", "email"], "comments": [{"owner": {"reputation": 82953, "user_id": 608639, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/aPIhh.jpg?s=128&g=1", "display_name": "jww", "link": "https://stackoverflow.com/users/608639/jww"}, "edited": false, "score": 0, "creation_date": 1498684482, "post_id": 44812498, "comment_id": 76605906, "body": "A small nit... <code>FQDN : ABC.XYZ.com</code> is <i>not</i> a FQDN. A FQDN ends in a dot (<code>.</code>), and it denotes the top of the DNS tree. <code>localhost</code> is <i>not</i> a FQDN; while <code>localhost.</code> is a FQDN. <code>localhost.localdomain</code> is <i>not</i> a FQDN; while <code>localhost.localdomain.</code> is a FQDN. Also see W. Richard Stevens&#39; <a href=\"https://rads.stackoverflow.com/amzn/click/com/0201633469\" rel=\"nofollow noreferrer\" rel=\"nofollow noreferrer\">TCP/IP Illustrated, Volume 1</a>."}, {"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 1, "creation_date": 1498684791, "post_id": 44812498, "comment_id": 76606035, "body": "Hi and welcome to Stack Overflow, please take a time to go through the <a href=\"https://stackoverflow.com/tour\">welcome tour</a> to know your way around here (and also to earn your first badge), read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}], "owner": {"reputation": 11, "user_id": 8228438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3a6e87153eff02b769b34c0cfdb13525?s=128&d=identicon&r=PG&f=1", "display_name": "Rohan Arora", "link": "https://stackoverflow.com/users/8228438/rohan-arora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498684794, "creation_date": 1498683784, "last_edit_date": 1498684794, "question_id": 44812498, "link": "https://stackoverflow.com/questions/44812498/wrong-text-due-to-whitespace-using-python-and-sendmail", "title": "Wrong text due to whitespace using python and sendmail", "body": "<p>I generated a file in following format with a python script on a linux server</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>++++++++++++++++++++++++++++ Server Information +++++++++++++++++++++++++++\nHostname                     :          ABC    \nFQDN                         :          ABC.XYZ.com    \nRHEL Release                 :          Red Hat Enterprise Linux Server 6.8 Santiago    \nBooted Kernel                :          2.6.32-642.6.2.el6.x86_64    \nTop Kernel in Grub           :          2.6.32-642.6.2.el6.x86_64    \nVendor                       :          VMware, Inc.    \nModel                        :          VMware Virtual Platform    \nUptime                       :          194 days        \nTime                         :          14:58:41 CDT    \nBoot Disk                    :          sda\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\n</code></pre>\n\n<p>I am sending above text stored  in a file through sendmail with following command</p>\n\n\n\n<pre><code>mail -s \"Subject\" EMAILADDRESS  &lt; Path to File\n</code></pre>\n\n<p>Text shown in Mail body isn't interpreting whitespace characters properly. For example, the text in mail:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hostname          :         ABC    \nFQDN         :        ABC.XYZ.att.com    \nRHEL Release     :      Red Hat Enterprise Linux Server \n</code></pre>\n\n<p>What needs to be done so that mail body interprets white space characters correctly? Anything needs to be done with character encoding? </p>\n\n<p>For reference, lines are written in file as following : </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>f.write('Hostname'.ljust(20) + ':'.center(20) + runCmd(['uname','-n']) + \"\\t\")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "time-complexity", "complexity-theory"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 1, "creation_date": 1498683822, "post_id": 44812468, "comment_id": 76605617, "body": "Well, to count the number of elements of a list, there is no way round checking all the elements. That means we will end up at O(n)."}, {"owner": {"reputation": 13863, "user_id": 6162307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6y4Ix.jpg?s=128&g=1", "display_name": "Ma0", "link": "https://stackoverflow.com/users/6162307/ma0"}, "edited": false, "score": 0, "creation_date": 1498683824, "post_id": 44812468, "comment_id": 76605618, "body": "try it yourself.. construct lists using range() of ever increasing size and time the <code>count</code> function. Is it linear?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498684150, "post_id": 44812468, "comment_id": 76605769, "body": "You&#39;ll find that most documentation is pretty terrible about giving asymptotic complexities for things. The only place I&#39;ve seen consistent availability of time complexity information is the C++ standard library."}, {"owner": {"reputation": 427, "user_id": 7303809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19e7a15c0a2c04cf0685450cc959a284?s=128&d=identicon&r=PG&f=1", "display_name": "SW Williams", "link": "https://stackoverflow.com/users/7303809/sw-williams"}, "edited": false, "score": 0, "creation_date": 1498685028, "post_id": 44812468, "comment_id": 76606157, "body": "&quot;Well, to count the number of elements of a list, there is no way round checking all the elements.&quot; I could make an list implementation where count is O(1) by keeping track of the occurrences and increment when the same value is appended. Just didn&#39;t want to make any assumption about Python&#39;s implementation."}, {"owner": {"reputation": 3541, "user_id": 4450721, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/fGVGo.png?s=128&g=1", "display_name": "direprobs", "link": "https://stackoverflow.com/users/4450721/direprobs"}, "edited": false, "score": 0, "creation_date": 1498685722, "post_id": 44812468, "comment_id": 76606461, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11032015/how-to-find-time-complexity-of-an-algorithm\">How to find time complexity of an algorithm</a>"}], "answers": [{"comments": [{"owner": {"reputation": 427, "user_id": 7303809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19e7a15c0a2c04cf0685450cc959a284?s=128&d=identicon&r=PG&f=1", "display_name": "SW Williams", "link": "https://stackoverflow.com/users/7303809/sw-williams"}, "edited": false, "score": 3, "creation_date": 1498684879, "post_id": 44812503, "comment_id": 76606091, "body": "But that&#39;s assuming the implementation. From what I learned in class Python has quite a few implementation that are faster than expected. For example count can be O(1) if we keep track of the number of occurrences when an item is appended. Just didn&#39;t want to make any assumptions."}, {"owner": {"reputation": 368279, "user_id": 1288, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fc763c6ff6c160ddad05741e87e517b6?s=128&d=identicon&r=PG", "display_name": "Bill the Lizard", "link": "https://stackoverflow.com/users/1288/bill-the-lizard"}, "reply_to_user": {"reputation": 427, "user_id": 7303809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19e7a15c0a2c04cf0685450cc959a284?s=128&d=identicon&r=PG&f=1", "display_name": "SW Williams", "link": "https://stackoverflow.com/users/7303809/sw-williams"}, "edited": false, "score": 0, "creation_date": 1498685140, "post_id": 44812503, "comment_id": 76606213, "body": "@SWWilliams That would work for a length function, where you&#39;re just interested in how many items are in the list, but it would be inefficient to store the count of each piece of data in a list."}, {"owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "edited": false, "score": 0, "creation_date": 1498688990, "post_id": 44812503, "comment_id": 76607721, "body": "There are other classes in python (ie Counter) that keep track of elements differently and can provide answers like this without taking O(n) time.  They do so at the cost of memory overhead (something which may or may not be critical in your application).  But for the question as asked, the time for <code>list.count()</code> is O(n)."}], "tags": [], "owner": {"reputation": 41467, "user_id": 351031, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d495a914ca38eca81f0143e62706775d?s=128&d=identicon&r=PG&f=1", "display_name": "g.d.d.c", "link": "https://stackoverflow.com/users/351031/g-d-d-c"}, "is_accepted": false, "score": 4, "last_activity_date": 1498683808, "creation_date": 1498683808, "answer_id": 44812503, "question_id": 44812468, "link": "https://stackoverflow.com/questions/44812468/what-is-the-time-complexity-of-python-lists-count-function/44812503#44812503", "title": "What is the time complexity of Python list&#39;s count() function?", "body": "<p>Because the <code>count</code> method has to check every entry in the list, the runtime is going to be O(n).</p>\n"}, {"tags": [], "owner": {"reputation": 335867, "user_id": 2988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed181f8c80df53d2b67a4f4fff088ed4?s=128&d=identicon&r=PG", "display_name": "J&#246;rg W Mittag", "link": "https://stackoverflow.com/users/2988/j%c3%b6rg-w-mittag"}, "is_accepted": false, "score": 1, "last_activity_date": 1498683978, "creation_date": 1498683978, "answer_id": 44812545, "question_id": 44812468, "link": "https://stackoverflow.com/questions/44812468/what-is-the-time-complexity-of-python-lists-count-function/44812545#44812545", "title": "What is the time complexity of Python list&#39;s count() function?", "body": "<p>It <em>needs</em> needs to visit all elements in order to know whether to count them or not. There is no reason for it to do any more work than that.</p>\n\n<p>So, it cannot possibly be better than O(n), and since even the most basic, simple, straightforward implementation is O(n), you would need to actually be either very stupid or very malicious to make it any slower.</p>\n\n<p>Ergo, by common sense, the worst-case step complexity is most likely O(n).</p>\n"}, {"tags": [], "owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "is_accepted": true, "score": 23, "last_activity_date": 1498686891, "creation_date": 1498686891, "answer_id": 44813154, "question_id": 44812468, "link": "https://stackoverflow.com/questions/44812468/what-is-the-time-complexity-of-python-lists-count-function/44813154#44813154", "title": "What is the time complexity of Python list&#39;s count() function?", "body": "<p>Dig into the CPython source code and visit <a href=\"https://github.com/python/cpython/blob/master/Objects/listobject.c\" rel=\"noreferrer\" title=\"Objects/listobject.c\"><code>Objects/listobject.c</code></a>, you will find the source code for the <code>count()</code> method in there. It looks like this:</p>\n\n<pre><code>static PyObject *\nlist_count(PyListObject *self, PyObject *value)\n{\n    Py_ssize_t count = 0;\n    Py_ssize_t i;\n\n    for (i = 0; i &lt; Py_SIZE(self); i++) {\n        int cmp = PyObject_RichCompareBool(self-&gt;ob_item[i], value, Py_EQ);\n        if (cmp &gt; 0)\n            count++;\n        else if (cmp &lt; 0)\n            return NULL;\n    }\n    return PyLong_FromSsize_t(count);\n}\n</code></pre>\n\n<p>What it does is to simply iterate over every <code>PyObject</code> in the list, and if they are equal in rich comparision (see <a href=\"https://www.python.org/dev/peps/pep-0207/\" rel=\"noreferrer\" title=\"PEP 207\">PEP 207</a>), a counter is incremented. The function simply returns this counter.</p>\n\n<p>In the end, the time complexity of <code>list_count</code> is O(n). Just make sure that your objects don't have <code>__eq__</code> functions with large time complexities and you'll be safe.</p>\n"}], "owner": {"reputation": 427, "user_id": 7303809, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/19e7a15c0a2c04cf0685450cc959a284?s=128&d=identicon&r=PG&f=1", "display_name": "SW Williams", "link": "https://stackoverflow.com/users/7303809/sw-williams"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19993, "favorite_count": 3, "accepted_answer_id": 44813154, "answer_count": 3, "score": 11, "last_activity_date": 1498774594, "creation_date": 1498683640, "last_edit_date": 1498774594, "question_id": 44812468, "link": "https://stackoverflow.com/questions/44812468/what-is-the-time-complexity-of-python-lists-count-function", "title": "What is the time complexity of Python list&#39;s count() function?", "body": "<p>I'm trying to figure what the time complexity of the count() function.</p>\n\n<p>Ex if there is a list of <code>[1, 2, 2, 3]</code> and <code>[1, 2, 2, 3].count(2)</code> is used.</p>\n\n<p>I've searched endlessly and looked at the Python wiki <a href=\"https://wiki.python.org/moin/TimeComplexity\" rel=\"noreferrer\">here</a>, but its not there. </p>\n\n<p>The closest I've come to finding an answer is <a href=\"http://python-reference.readthedocs.io/en/latest/docs/list/count.html\" rel=\"noreferrer\">here</a>, but the field for complexity happens to be empty... Does anyone what the answer is?</p>\n"}, {"tags": ["python", "python-2.7", "decimal"], "comments": [{"owner": {"reputation": 55248, "user_id": 2705542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc22708f70324dcbfe34f247637ca01?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Peters", "link": "https://stackoverflow.com/users/2705542/tim-peters"}, "edited": false, "score": 3, "creation_date": 1498683602, "post_id": 44812420, "comment_id": 76605521, "body": "The literal <code>4321.90</code> is a binary float no matter what context it appears in.  So you&#39;re not passing the decimal value you <i>think</i> you&#39;re passing to the <code>Decimal()</code> constructor.  Spell it <code>Decimal(&quot;4321.90&quot;)</code> instead."}, {"owner": {"reputation": 13863, "user_id": 6162307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6y4Ix.jpg?s=128&g=1", "display_name": "Ma0", "link": "https://stackoverflow.com/users/6162307/ma0"}, "edited": false, "score": 0, "creation_date": 1498683630, "post_id": 44812420, "comment_id": 76605530, "body": "if it always is a two decimal place number convert it to string and replace the dot &#39;.&#39; with nothing."}, {"owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "reply_to_user": {"reputation": 13863, "user_id": 6162307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6y4Ix.jpg?s=128&g=1", "display_name": "Ma0", "link": "https://stackoverflow.com/users/6162307/ma0"}, "edited": false, "score": 0, "creation_date": 1498737908, "post_id": 44812420, "comment_id": 76629127, "body": "@Ev.Kounis this is string manipulation, and I&#39;d rather not do this."}, {"owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 0, "creation_date": 1498738836, "post_id": 44812420, "comment_id": 76629905, "body": "The question which this one is the duplicate of, answers the underlying problem I&#39;m facing here indeed. However, this question is what made me realize there is actually a difference between Decimal(4321.90) and Decimal(&#39;4321.90&#39;), which then leads to said question."}], "answers": [{"comments": [{"owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 0, "creation_date": 1498738181, "post_id": 44812457, "comment_id": 76629336, "body": "So in all cases, the initial value should be a string, then passed to Decimal(), whether it comes from a user input, a database query or is hard coded. Right? (btw I like your answer. Clear and concise)"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 1, "creation_date": 1498738559, "post_id": 44812457, "comment_id": 76629660, "body": "@Jerther Exactly, to safely (or rather precisely) initialize <code>Decimal</code> you need strings."}, {"owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 0, "creation_date": 1503417278, "post_id": 44812457, "comment_id": 78602301, "body": "There&#39;s also Decimal(repr(4321.90)) that does the trick pretty well. <a href=\"https://stackoverflow.com/a/18886013/2498426\">stackoverflow.com/a/18886013/2498426</a>"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 0, "creation_date": 1503475725, "post_id": 44812457, "comment_id": 78625278, "body": "@Jerther No, it does not: <code>repr(11.000000000000001)</code> is <code>&#39;11.000000000000002&#39;</code>. It suffers from the same problem. The float inside <code>repr</code> is parsed and then rounded to the nearest floating point number. Then repr is called on that number which at that point is different from the original one."}, {"owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "edited": false, "score": 0, "creation_date": 1503590404, "post_id": 44812457, "comment_id": 78690895, "body": "right, sorry. And from what I gather, str() has yet another behavior."}], "tags": [], "owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "is_accepted": true, "score": 4, "last_activity_date": 1553442712, "last_edit_date": 1553442712, "creation_date": 1498683603, "answer_id": 44812457, "question_id": 44812420, "link": "https://stackoverflow.com/questions/44812420/python-decimal-vs-c-decimal-precision/44812457#44812457", "title": "Python Decimal vs C# decimal precision", "body": "<p>The main reason it fails with Python is because <code>4321.90</code> is interpreted as float (you lose precision at that point) and then casted to <code>Decimal</code> at runtime. With C# <code>4321.90m</code> is interpreted as decimal to begin with. Python simply doesn't support decimals as a built-in structure.</p>\n\n<p>But there's an easy way to fix that with Python. Simply use strings:</p>\n\n<pre><code>&gt;&gt;&gt; Decimal('4321.90') * Decimal('100')\nDecimal('432190.00')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": false, "score": 1, "last_activity_date": 1498683605, "creation_date": 1498683605, "answer_id": 44812460, "question_id": 44812420, "link": "https://stackoverflow.com/questions/44812420/python-decimal-vs-c-decimal-precision/44812460#44812460", "title": "Python Decimal vs C# decimal precision", "body": "<p><a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken?s=1%7C19.5592\">Floating point inaccuracy again</a>.</p>\n\n<p><code>Decimal(number)</code> doesn't change a thing: the value is modified <em>before</em> it hits <code>Decimal</code>.</p>\n\n<p>You can avoid that by passing strings to <code>Decimal</code>, though:</p>\n\n<pre><code>Decimal(\"4321.90\") * Decimal(\"100\")\n</code></pre>\n\n<p>result:</p>\n\n<pre><code>Decimal('432190.00')\n</code></pre>\n\n<p>(so <code>Decimal</code> handles the floating point numbers without using the floating point registers &amp; operations at all)</p>\n"}, {"tags": [], "owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "is_accepted": false, "score": 2, "last_activity_date": 1498683638, "creation_date": 1498683638, "answer_id": 44812467, "question_id": 44812420, "link": "https://stackoverflow.com/questions/44812420/python-decimal-vs-c-decimal-precision/44812467#44812467", "title": "Python Decimal vs C# decimal precision", "body": "<blockquote>\n  <p>I'm about to convert the initial value to string</p>\n</blockquote>\n\n<p>Yes! (but don't do it by calling <code>str</code> - use a string literal)</p>\n\n<blockquote>\n  <p>and do the math with string manipulations</p>\n</blockquote>\n\n<p>No!</p>\n\n<p>When hardcoding a decimal value into your source code, you should initialize it from a string literal, not a float literal. With <code>4321.90</code>, floating-point rounding has already occurred, and building a Decimal won't undo that. With <code>\"4321.90\"</code>, Decimal has the original text you wrote available to perform an exact initialization:</p>\n\n<pre><code>Decimal('4321.90')\n</code></pre>\n"}], "owner": {"reputation": 4731, "user_id": 2498426, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cf3f31fe484579c868193e7e9c21badd?s=128&d=identicon&r=PG", "display_name": "Jerther", "link": "https://stackoverflow.com/users/2498426/jerther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 801, "favorite_count": 0, "closed_date": 1498683793, "accepted_answer_id": 44812457, "answer_count": 3, "score": 1, "last_activity_date": 1553442712, "creation_date": 1498683419, "last_edit_date": 1498739186, "question_id": 44812420, "link": "https://stackoverflow.com/questions/44812420/python-decimal-vs-c-decimal-precision", "closed_reason": "Duplicate", "title": "Python Decimal vs C# decimal precision", "body": "<p>I know this has been asked numerous times and I've come across many blogs and SO answers but this one's making me pull my hair out. I just want to multiply a two decimal number by 100 so I get rid of its decimals:</p>\n\n<pre><code>&gt;&gt;&gt; 4321.90 * 100\n432189.99999999994\n&gt;&gt;&gt; Decimal(4321.90) * Decimal(100)\nDecimal('432189.9999999999636202119291')\n</code></pre>\n\n<p>I'm scared to use rounding for such seemingly trivial operation. Would it be safe? What if the precision problem plays tricks on me and the result is close to xxx.5? Can that happen? I do understand the problem at the binary level, but I come from C# and I don't have that problem with .Net's <code>decimal</code> type:</p>\n\n<pre><code>decimal x = 4321.90m;\ndecimal y = 100m;\nConsole.WriteLine(x * y);\n432190,00\n</code></pre>\n\n<p>I thought Python's decimal module was supposed to fix that. I'm about to convert the initial value to string and do the math with string manipulations, and I feel bad about it...</p>\n"}, {"tags": ["python", "python-2.7", "file"], "comments": [{"owner": {"reputation": 13863, "user_id": 6162307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6y4Ix.jpg?s=128&g=1", "display_name": "Ma0", "link": "https://stackoverflow.com/users/6162307/ma0"}, "edited": false, "score": 0, "creation_date": 1498683469, "post_id": 44812409, "comment_id": 76605455, "body": "what do you mean by <i>&quot;all folders&quot;</i>? Like all all?"}, {"owner": {"reputation": 177, "user_id": 8056376, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6981d96f597b6057b75008254440dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "LearningEveryday", "link": "https://stackoverflow.com/users/8056376/learningeveryday"}, "reply_to_user": {"reputation": 13863, "user_id": 6162307, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6y4Ix.jpg?s=128&g=1", "display_name": "Ma0", "link": "https://stackoverflow.com/users/6162307/ma0"}, "edited": false, "score": 0, "creation_date": 1498683783, "post_id": 44812409, "comment_id": 76605596, "body": "Like an example if I have a current working directory with 5 folders and each folder has its own files."}, {"owner": {"reputation": 5646, "user_id": 4992422, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e408ee3d89df9b7865442e5387ef856c?s=128&d=identicon&r=PG&f=1", "display_name": "PYA", "link": "https://stackoverflow.com/users/4992422/pya"}, "edited": false, "score": 0, "creation_date": 1498708281, "post_id": 44812409, "comment_id": 76612256, "body": "<code>os.listdir</code> will list all files and folders, can call it recursively"}], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 8056376, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6981d96f597b6057b75008254440dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "LearningEveryday", "link": "https://stackoverflow.com/users/8056376/learningeveryday"}, "edited": false, "score": 0, "creation_date": 1498753313, "post_id": 44813267, "comment_id": 76641221, "body": "I tried to run the python 2.2+ example, but it&#39;s giving an error saying that max () arg is an empty sequence."}, {"owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "reply_to_user": {"reputation": 177, "user_id": 8056376, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6981d96f597b6057b75008254440dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "LearningEveryday", "link": "https://stackoverflow.com/users/8056376/learningeveryday"}, "edited": false, "score": 0, "creation_date": 1498772179, "post_id": 44813267, "comment_id": 76651233, "body": "Did you try debugging it? Are you positive that there are some zip files in the said directories?"}], "tags": [], "owner": {"reputation": 2331, "user_id": 1767963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95c748e809936567f2cdf0c86486d59f?s=128&d=identicon&r=PG", "display_name": "Berk &#214;zbalc\u0131", "link": "https://stackoverflow.com/users/1767963/berk-%c3%96zbalc%c4%b1"}, "is_accepted": false, "score": 2, "last_activity_date": 1609165383, "last_edit_date": 1609165383, "creation_date": 1498687456, "answer_id": 44813267, "question_id": 44812409, "link": "https://stackoverflow.com/questions/44812409/get-the-latest-file-in-every-directory-using-python/44813267#44813267", "title": "Get the latest file in every directory using python", "body": "<p><strong>Python 3.5+</strong>:</p>\n<pre><code>import glob\n\nlist_of_files = glob.glob('/path/to/folder/**/*.zip', recursive=True)\nlatest_file = max(list_of_files, key=os.path.getctime)\nprint(latest_file)\n</code></pre>\n<p>Quoting the documentation for <a href=\"https://docs.python.org/3/library/glob.html#glob.glob\" rel=\"nofollow noreferrer\" title=\"glob.glob\"><code>glob.glob</code></a>:</p>\n<blockquote>\n<p>If recursive is true, the pattern <code>**</code> will match any files and zero or more directories and subdirectories. If the pattern is followed by an os.sep, only directories and subdirectories match.</p>\n</blockquote>\n<hr />\n<p>For old versions:</p>\n<p><strong>Python 2.2+:</strong></p>\n<pre><code>import fnmatch\nimport os\n\nlist_of_files = []\nfor root, dirnames, filenames in os.walk('/path/to/folder'):\n    for filename in fnmatch.filter(filenames, '*.zip'):\n        matches.append(os.path.join(root, filename))\nlatest_file = max(list_of_files, key=os.path.getctime)\nprint latest_file\n</code></pre>\n"}], "owner": {"reputation": 177, "user_id": 8056376, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/6981d96f597b6057b75008254440dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "LearningEveryday", "link": "https://stackoverflow.com/users/8056376/learningeveryday"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2561, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1609165383, "creation_date": 1498683353, "question_id": 44812409, "link": "https://stackoverflow.com/questions/44812409/get-the-latest-file-in-every-directory-using-python", "title": "Get the latest file in every directory using python", "body": "<p>I want find the latest zip file in every directory in a current working directory. I have this code that can find the latest file in one folder:</p>\n\n<pre><code>import glob\nimport os\n\nlist_of_files = glob.glob('/path/to/folder/*.zip') \nlatest_file = max(list_of_files, key=os.path.getctime)\nprint latest_file\n</code></pre>\n\n<p>How can I find the latest file in all folders?</p>\n"}, {"tags": ["python", "algorithm", "python-2.7", "recursion", "iteration"], "comments": [{"owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 1, "creation_date": 1498683294, "post_id": 44812341, "comment_id": 76605354, "body": "Why would you think that converting the algorithm to recursive version is going to reduce time complexity? The time complexity will probably be the same, and might even be worse, and recursion is <i>way more expensive</i> than a loop, so your constant factors will almost certainly be higher."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "reply_to_user": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "edited": false, "score": 0, "creation_date": 1498683669, "post_id": 44812341, "comment_id": 76605549, "body": "Because after achieving recursion i will try to add memoization to reduce time complexity. correct me if I am wrong. Also if you can suggest me other ways to reduce time complexity of this triple nested loop."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1498683940, "post_id": 44812341, "comment_id": 76605671, "body": "Note that the default recursion depth in python is only 1000..."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1498684241, "post_id": 44812341, "comment_id": 76605807, "body": "First up, why are you calling <code>enumerate</code> when you never need the indices?"}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1498684301, "post_id": 44812341, "comment_id": 76605833, "body": "If L is only three items long, you don&#39;t need to make this faster.  You need to make it more readable, which probably means using <a href=\"https://docs.python.org/2/library/itertools.html#itertools.product\" rel=\"nofollow noreferrer\"><code>itertools.product()</code></a> instead of nested loops."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "reply_to_user": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1498684373, "post_id": 44812341, "comment_id": 76605859, "body": "@Kevin No,  The length of l is between 2 and 2000 inclusive.  The elements of l are between 1 and 999999 inclusive."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498684448, "post_id": 44812341, "comment_id": 76605890, "body": "@user2357112 forgot to remove that after removing indices use."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "edited": false, "score": 0, "creation_date": 1498684459, "post_id": 44812341, "comment_id": 76605895, "body": "2000**3 = 8e9, which is a lot, but even with the high overhead of the Python interpreter, that&#39;s still O(minutes) in my estimation, given a multi-GHz processor."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498684599, "post_id": 44812341, "comment_id": 76605942, "body": "But still can you suggest ways to further reduce the time to achieve result."}], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498685263, "post_id": 44812729, "comment_id": 76606286, "body": "It is faster but not fast enough."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498685411, "post_id": 44812729, "comment_id": 76606349, "body": "Also shouldn&#39;t you just write L[i + 1:][j + 1:] as L[j+1:]?"}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "reply_to_user": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687164, "post_id": 44812729, "comment_id": 76607083, "body": "@MuhammadShehrozSajjad <code>j</code> is relative to the sliced list, not the original list.  But I just realized you can save on a slice by doing <code>L[i + j + 2:]</code> instead."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687836, "post_id": 44812729, "comment_id": 76607335, "body": "Still the other solutions given here are way faster than this on a larger input."}], "tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 0, "last_activity_date": 1498687183, "last_edit_date": 1498687183, "creation_date": 1498684869, "answer_id": 44812729, "question_id": 44812341, "link": "https://stackoverflow.com/questions/44812341/conversion-of-iterative-algorithm-to-recursive/44812729#44812729", "title": "Conversion of iterative algorithm to recursive", "body": "<p>As far as speeding things up goes (instead of going recursive), testing with 1000 entries, slicing the sorted list at each level cut time by more than half for me (gets rid of numbers less than <code>y, z</code> at their respective levels:</p>\n\n<pre><code>def foo(L):\n    assert 0 not in L\n    L=sorted(L)\n    A = 0\n    for i,x in enumerate(L):\n        for j,y in enumerate(L[i + 1:]):\n            if x != y and not y % x:\n                for k,z in enumerate(L[i + j + 2:]):\n                    if y != z and not z % y:\n                        A = A + 1\n\n    return A\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498685986, "post_id": 44812858, "comment_id": 76606573, "body": "B should also evenly divide C is this condition been catered here?"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498686090, "post_id": 44812858, "comment_id": 76606625, "body": "Yes. There&#39;s only an edge from B to C if B evenly divides into C."}, {"owner": {"reputation": 4508, "user_id": 1766544, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d74d9adb2fe5c3bf8fc5d10c504ca155?s=128&d=identicon&r=PG", "display_name": "Kenny Ostrom", "link": "https://stackoverflow.com/users/1766544/kenny-ostrom"}, "edited": false, "score": 0, "creation_date": 1498686098, "post_id": 44812858, "comment_id": 76606631, "body": "foo(range(1,21)) == 40 for both"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498686247, "post_id": 44812858, "comment_id": 76606686, "body": "Yeah, I&#39;ve tried many thousands of random lists (<code>[random.randint(1, 100) for _ in range(100)]</code>), and I have yet to find one that doesn&#39;t produce the same output as the original code."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498686540, "post_id": 44812858, "comment_id": 76606812, "body": "But it is failing some test cases I don&#39;t know why"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498686717, "post_id": 44812858, "comment_id": 76606885, "body": "Please share a test case where it&#39;s failing, and maybe we can figure it out."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687158, "post_id": 44812858, "comment_id": 76607079, "body": "I think there is some problem with my original algorithm because this is much faster and giving same results."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687476, "post_id": 44812858, "comment_id": 76607198, "body": "What my code is basically trying to achieve is the count of these kinds of triple tuples in list which are triple multiples. [1, 2, 3, 4, 5, 6] has the triples: [1, 2, 4], [1, 2, 6], [1, 3, 6]."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "reply_to_user": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687513, "post_id": 44812858, "comment_id": 76607220, "body": "@MuhammadShehrozSajjad It sounds like the problem description comes from somewhere else... can you share (or link to) the full problem description?"}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498687709, "post_id": 44812858, "comment_id": 76607289, "body": "I have to find number of tuples in a given list such that  a tuple (x, y, z) where x divides y and y divides z, such as (1, 2, 4)."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498687866, "post_id": 44812858, "comment_id": 76607348, "body": "If that&#39;s the entire problem description, it&#39;s hopelessly vague. It sounds like you have access to some test cases, one of which your code fails. Can you share the test cases?"}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498688144, "post_id": 44812858, "comment_id": 76607445, "body": "Complete Description: Write a function answer(l) that takes a list of positive integers l and counts the number of &quot;lucky triples&quot; of (lst[i], lst[j], lst[k]) where i &lt; j &lt; k.  The length of l is between 2 and 2000 inclusive.  The elements of l are between 1 and 999999 inclusive. A &quot;lucky triple&quot; is a tuple (x, y, z) where x divides y and y divides z, such as (1, 2, 4)."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 1, "creation_date": 1498688161, "post_id": 44812858, "comment_id": 76607451, "body": "I think I found the problem description: <a href=\"https://codereview.stackexchange.com/questions/144510/google-foobar-challenge-lucky-triples\" title=\"google foobar challenge lucky triples\">codereview.stackexchange.com/questions/144510/&hellip;</a>. If so, I think the issue is that you&#39;re excluding pairs that are equal. (Your <code>if x != y</code> and <code>if y != z</code> shouldn&#39;t be there.)"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498688204, "post_id": 44812858, "comment_id": 76607467, "body": "Oh, actually your problem description is different. Where did it come from?"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498688422, "post_id": 44812858, "comment_id": 76607534, "body": "This seems to match your description: <a href=\"https://gist.github.com/christophercrouzet/421fc9bdf646c93d099c109d6740cea1\" rel=\"nofollow noreferrer\">gist.github.com/christophercrouzet/&hellip;</a>"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498688465, "post_id": 44812858, "comment_id": 76607550, "body": "So here the problem is that you can&#39;t sort the list because order matters, and a &quot;triple&quot; only counts if it has ascending IDs. Let me take a stab."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498688716, "post_id": 44812858, "comment_id": 76607632, "body": "Take a look at my latest edit and see if that does what you want."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498688906, "post_id": 44812858, "comment_id": 76607693, "body": "Er, one more ninja edit to &quot;edit 3&quot;. We&#39;re back to something that&#39;s perhaps too slow... I&#39;ll try to optimize. I just want to make sure it&#39;s correct first."}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498689010, "post_id": 44812858, "comment_id": 76607735, "body": "[1,1,1]  should return 1 but it is giving 27 here."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498689089, "post_id": 44812858, "comment_id": 76607763, "body": "I&#39;m getting <code>1</code>. Maybe you grabbed the code before my ninja edit. :-)"}, {"owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "edited": false, "score": 0, "creation_date": 1498689309, "post_id": 44812858, "comment_id": 76607840, "body": "Yes it is giving correct answer and the main mistake in my code was the condition x!=y and y!=z"}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498689438, "post_id": 44812858, "comment_id": 76607878, "body": "See &quot;EDIT 4&quot; above. That&#39;s a much faster version."}], "tags": [], "owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "is_accepted": true, "score": 3, "last_activity_date": 1498689951, "last_edit_date": 1498689951, "creation_date": 1498685412, "answer_id": 44812858, "question_id": 44812341, "link": "https://stackoverflow.com/questions/44812341/conversion-of-iterative-algorithm-to-recursive/44812858#44812858", "title": "Conversion of iterative algorithm to recursive", "body": "<p>This is the fastest version I can come up with:</p>\n\n<pre><code>def foo(lst):\n    edges = {x: [y for y in lst if x != y and y % x == 0] for x in set(lst)}\n    return sum(len(edges[y]) for x in lst for y in edges[x])\n</code></pre>\n\n<p>This should be significantly faster (1/7th the time in my test of lists with 100 elements).</p>\n\n<p>The algorithm is essentially to build a directed graph where the nodes are the numbers in the list. Edges go from node A to node B iff the integer values of those nodes are different and A divides evenly into B.</p>\n\n<p>Then traverse the graph. For each starting node A, find all the nodes B where there's an edge from A to B. On paper, we would then go to all the next nodes C, but we don't need to... we can just count how many edges are leaving node B and add that to our total.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Depending on the distribution of values in the list, this is probably faster:</p>\n\n<pre><code>def foo(lst):\n    counts = Counter(lst)\n    edges = {x: [y for y in counts if x != y and y % x == 0] for x in counts}\n    return sum(counts[x] * counts[y] * sum(counts[z] for z in edges[y]) for x in counts for y in edges[x])\n</code></pre>\n\n<p>Here, you can think of nodes as having a numeric value and a count. This avoids duplicate nodes for duplicate values in the input. Then we basically do the same thing but multiply by the appropriate count at each step.</p>\n\n<p><strong>EDIT 2</strong></p>\n\n<pre><code>def foo(lst):\n    counts = collections.Counter(lst)\n    edges = collections.defaultdict(list)\n    for x, y in itertools.combinations(sorted(counts), 2):\n        if y % x == 0:\n            edges[x].append(y)\n    return sum(counts[x] * counts[y] * sum(counts[z] for z in edges[y]) for x in counts for y in edges[x])\n</code></pre>\n\n<p>Slight improvement thanks to @Blckknght. Sorting the unique values first saves some time in enumeration.</p>\n\n<p><strong>EDIT 3</strong></p>\n\n<p>See comments, but the original code in this question was actually wrong. Here's code that (I think) does the right thing based on the problem description which can be found in the comments:</p>\n\n<pre><code>def foo3(lst):\n    count = 0\n\n    for x, y, z in itertools.combinations(lst, 3):\n        if y % x == 0 and z % y == 0:\n            count += 1\n\n    return count\n\nprint(foo3([1, 2, 3, 4, 5, 6]))  # 3\nprint(foo3([6, 5, 4, 3, 2, 1]))  # 0\n</code></pre>\n\n<p><strong>EDIT 4</strong></p>\n\n<p><em>Much</em> faster version of the previous code:</p>\n\n<pre><code>def foo4(lst):\n    edges = [[] for _ in range(len(lst))]\n\n    for i, j in itertools.combinations(range(len(lst)), 2):\n        if lst[j] % lst[i] == 0:\n            edges[i].append(j)\n\n    return sum(len(edges[j]) for i in range(len(lst)) for j in edges[i])\n</code></pre>\n\n<p><strong>EDIT 5</strong></p>\n\n<p>More compact version (seems to run in about the same amount of time):</p>\n\n<pre><code>def foo5(lst):\n    edges = [[j for j in range(i + 1, len(lst)) if lst[j] % lst[i] == 0] for i in range(len(lst))]\n    return sum(len(edges[j]) for i in range(len(lst)) for j in edges[i])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498686860, "post_id": 44813126, "comment_id": 76606950, "body": "Nice! This appears to be a bit faster than my solution."}, {"owner": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498687296, "post_id": 44813126, "comment_id": 76607132, "body": "See the latest edit to my solution; it now seems to be slightly faster than yours."}, {"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "reply_to_user": {"reputation": 54533, "user_id": 94559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab13b7f135315a91b9ef13e073354d90?s=128&d=identicon&r=PG&f=1", "display_name": "user94559", "link": "https://stackoverflow.com/users/94559/user94559"}, "edited": false, "score": 0, "creation_date": 1498687356, "post_id": 44813126, "comment_id": 76607154, "body": "Yeah, I figured some combination of our two ideas might be optimal, but I couldn&#39;t see quite how to get there. It looks like you may have found it."}], "tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": false, "score": 3, "last_activity_date": 1498686720, "creation_date": 1498686720, "answer_id": 44813126, "question_id": 44812341, "link": "https://stackoverflow.com/questions/44812341/conversion-of-iterative-algorithm-to-recursive/44813126#44813126", "title": "Conversion of iterative algorithm to recursive", "body": "<p>Here's how I'd solve your problem. It should use <code>O(N**2)</code> time.</p>\n\n<pre><code>def count_triple_multiples(lst):\n    count = collections.Counter(lst)\n    double_count = collections.defaultdict(int)\n    for x, y in itertools.combinations(sorted(count), 2):\n        if y % x == 0:\n            double_count[y] += count[x] * count[y]\n    triple_count = 0\n    for x, y in itertools.combinations(sorted(double_count), 2):\n        if y % x == 0:\n            triple_count += double_count[x] * count[y]\n    return triple_count\n</code></pre>\n\n<p>My algorithm is very similar to the one smarx is using in his answer, but I keep a count of the number of edges incident to a given value rather than a list.</p>\n"}], "owner": {"reputation": 127, "user_id": 5704835, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/956813017745746/picture?type=large", "display_name": "Muhammad Shehroz Sajjad", "link": "https://stackoverflow.com/users/5704835/muhammad-shehroz-sajjad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 44812858, "answer_count": 3, "score": 0, "last_activity_date": 1498689951, "creation_date": 1498683105, "last_edit_date": 1498683823, "question_id": 44812341, "link": "https://stackoverflow.com/questions/44812341/conversion-of-iterative-algorithm-to-recursive", "title": "Conversion of iterative algorithm to recursive", "body": "<p>Hi I am trying to convert my iterative algorithm to recursive solution to achieve Dynamic Programming after it's done (Do suggest me other ways to reduce time complexity of this triple nested iteration). I am not good with recursion. I had tried to convert it but it is giving me index out of range errors.</p>\n\n<p>Iterative Approach:</p>\n\n<pre><code>def foo(L):\n          L=sorted(L)\n          A = 0\n          for i,x in enumerate(L):\n            for j,y in enumerate(L):\n                if x != y:\n                    if (y%x ==0):\n                        for k,z in enumerate(L):\n                            if y != z:\n                                if (z%y==0) and (y%x==0):\n                                    A= A+1\n\n          return A\n</code></pre>\n\n<p>Recursive Approach:</p>\n\n<pre><code>A =i =j= k =0 #Initializing globals\ndef foo(L):\n              L=sorted(L)\n              global A ,i,j,k\n              x=y=z=L\n              luckyOne(x,y,z)\n              return A\n\ndef luckyOne(x,y,z):\n    global i,j,k\n    while(i&lt; len(x) and j &lt; len(y) and k &lt; len(z)):\n        while(x[i] != y[j]):\n            luckyTwo(x[i:],y[j:],z[k:])\n            i+=1 \n            luckyOne(x[i:],y[j:],z[k:])\n            # i+=1 \n            # return A\n        i+=1 \n        luckyOne(x[i:],y[j:],z[k:])\n    return 0\n\ndef luckyTwo(x,y,z):\n    global i,j,k\n    while (i&lt; len(x) and j &lt; len(y) and k &lt; len(z)):\n        while(y[j]%x[i]==0):\n            luckyThree(x[i:],y[j:],z[k:])\n            j+=1 \n            luckyTwo(x[i:],y[j:],z[k:])\n        j+=1 \n        luckyTwo(x[i:],y[j:],z[k:])\n    return 0\n\ndef luckyThree(x,y,z):\n    global A ,i,j,k\n    while (i&lt; len(x) and j &lt; len(y) and k &lt; len(z)):\n        while (y[j]!=z[k]):\n            while((z[k]%y[j]==0) and (y[j]%x[i]==0)):\n                A+=1\n                print 'idr aya'\n                k+=1 \n                luckyThree(x[i:],y[j:],z[k:])\n        k+=1 \n        luckyThree(x[i:],y[j:],z[k:])\n    return 0\n</code></pre>\n\n<p>The input should be like L=['1','2','3']</p>\n"}, {"tags": ["python", "sftp", "paramiko", "bloomberg"], "comments": [{"owner": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1498686252, "post_id": 44812316, "comment_id": 76606691, "body": "I have not seen this either. But <a href=\"https://stackoverflow.com/questions/29741887/what-should-i-do-first-decrypt-or-decompress-python\">these</a> <a href=\"https://stackoverflow.com/questions/41398026/pydes-with-bloomberg-data\">questions</a> give me the impression that maybe Mathworks is conveniently combining SFTP and DES decryption into one function/method. If so, then you can possibly use &quot;conventional&quot; SFTP (such as <code>pysftp</code>) to retrieve a DES-encrypted file, which you then decrypt as a separate step (using something like <code>pyDes</code>). Good luck!"}, {"owner": {"reputation": 389, "user_id": 5428358, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ef5381b92dc8d7615a0423922a873b4?s=128&d=identicon&r=PG&f=1", "display_name": "Benloper", "link": "https://stackoverflow.com/users/5428358/benloper"}, "reply_to_user": {"reputation": 12668, "user_id": 95852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e215c7362074d0346612a10d3a89be9e?s=128&d=identicon&r=PG", "display_name": "John Y", "link": "https://stackoverflow.com/users/95852/john-y"}, "edited": false, "score": 0, "creation_date": 1498756669, "post_id": 44812316, "comment_id": 76643089, "body": "Thanks, that may be next best option. I&#39;m going to reach out to Bloomberg and see if there is a way to turn of decrypt, I&#39;m not sure I need it over SFTP anyways."}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 5428358, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ef5381b92dc8d7615a0423922a873b4?s=128&d=identicon&r=PG&f=1", "display_name": "Benloper", "link": "https://stackoverflow.com/users/5428358/benloper"}, "is_accepted": true, "score": 2, "last_activity_date": 1499698708, "creation_date": 1499698708, "answer_id": 45015404, "question_id": 44812316, "link": "https://stackoverflow.com/questions/44812316/python-sftp-bloomberg-data-license-paramiko/45015404#45015404", "title": "Python SFTP Bloomberg Data License - Paramiko", "body": "<p>OK, for anybody that needs SOCKS proxy through Bloomberg, here is what I've done and it works:</p>\n\n<p>After some research, it appears the decrypt is not necessary. This code works, just be sure to include the two files for a test:  ('readme.txt','readme-test.txt') on your bloomberg server using RequestBuilder or WinSCP.</p>\n\n<pre><code># coding: utf-8\n\nimport paramiko\nimport socket\nimport socks\n\n\nproxy_details = {'host': \"xxx\",\n             'port': 1080,\n             'username': \"xxx\",\n             'password': \"xxx\"}\n\nauth_credentials = {'host': \"sftp.bloomberg.com\",\n                'username': \"dlxxxxxx\",\n                'password': \"xxxxxx\"}\n\ns = socks.socksocket()\n\ns.set_proxy(\n  proxy_type=socks.SOCKS5,\n  addr=proxy_details['host'],\n  port=proxy_details['port'],\n  username=proxy_details['username'],\n  password=proxy_details['password']\n)\n\n#setup the SFTP client using the connected socket\ns.connect((auth_credentials['host'],22))\ntransport = paramiko.Transport(s)\ntransport.connect(username=auth_credentials['username'],\n              password=auth_credentials['password'])\n\n# start SFTP Client from SSH transport\nsftp = paramiko.SFTPClient.from_transport(transport)  #.get_transport() was appended\n\n\n#will download readme.txt from the remote server, and save as the filename in the second argument\nsftp.get('readme.txt','readme-test.txt')\n\n#Test whether transport is authenticated\nprint (transport.is_authenticated())\n\n# cleanup\nsftp.close()\ntransport.close()\n</code></pre>\n"}], "owner": {"reputation": 389, "user_id": 5428358, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0ef5381b92dc8d7615a0423922a873b4?s=128&d=identicon&r=PG&f=1", "display_name": "Benloper", "link": "https://stackoverflow.com/users/5428358/benloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1288, "favorite_count": 3, "accepted_answer_id": 45015404, "answer_count": 1, "score": 2, "last_activity_date": 1500574442, "creation_date": 1498682986, "last_edit_date": 1500574442, "question_id": 44812316, "link": "https://stackoverflow.com/questions/44812316/python-sftp-bloomberg-data-license-paramiko", "title": "Python SFTP Bloomberg Data License - Paramiko", "body": "<p>Is anybody aware of a Python solution to sftp into the Bloomberg enterprise service.  We're converting some bloomberg pulling from Mathworks to Python. Historically, I would have done this in Mathworks <a href=\"https://www.mathworks.com/help/datafeed/bdl.html?requestedDomain=www.mathworks.com\" rel=\"nofollow noreferrer\">like this</a> using the bdl function.</p>\n\n<pre><code>username = 'xxxxx';\npassword = 'xxxxxxxx';\nhostname = 'dlsftp.bloomberg.com';\nportnumber = 30206;\ndecrypt = 'nAcLeZ';\n\nc = bdl(username,password,hostname,portnumber,decrypt)\n</code></pre>\n\n<p>Any thoughts? Thanks!</p>\n"}, {"tags": ["python", "selenium", "web"], "comments": [{"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498684687, "post_id": 44812299, "comment_id": 76605977, "body": "After the statement <code>br = webdriver.Chrome()</code> you don&#39;t load a page into Chrome before you make soup out of the contents of the page with BeautifulSoup."}, {"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498684793, "post_id": 44812299, "comment_id": 76606037, "body": "I navigate to the page after the browser is open. I excluded the raw_input part of the code in my original post. It&#39;s there now."}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498684892, "post_id": 44812299, "comment_id": 76606098, "body": "Where is that in the code?"}, {"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498685180, "post_id": 44812299, "comment_id": 76606241, "body": "@Bill Bell right after br = webdriver.Chrome()"}, {"owner": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498685790, "post_id": 44812299, "comment_id": 76606490, "body": "No. (a) To load a page into <code>br</code> you would use its <code>get</code> method: for instance, <code>br.get(&#39;http:&#47;&#47;bbc.co.uk&#39;)</code>. (b) Loading a page into an instance of a browser has nothing to do with BeautifulSoup. (c) Using <code>raw_input</code> without capturing its result gives you nothing. If you want the user to give you a url then you&#39;d have to use a statement like, <code>url = raw_input(&quot;url, please&quot;)</code>. Since you seem to know xpath I suggest you leave out BeautifulSoup and use just selenium."}, {"owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "reply_to_user": {"reputation": 19199, "user_id": 131187, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/27eJi.jpg?s=128&g=1", "display_name": "Bill Bell", "link": "https://stackoverflow.com/users/131187/bill-bell"}, "edited": false, "score": 0, "creation_date": 1498688416, "post_id": 44812299, "comment_id": 76607531, "body": "@Bill Bell I initially used br.get and it didn&#39;t copy the page results, only the contents of the login page. Hence I&#39;m using br.page_source. The prompt is just a stall to get the current url where I need it. Once the page source is captured by br.page_source I&#39;m using BeautifulSoup  to get only the text elements (the table of addresses) as the additional tags make the output file twice as big."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 4663580, "user_type": "registered", "profile_image": "https://graph.facebook.com/1055545514459700/picture?type=large", "display_name": "Tony Toms", "link": "https://stackoverflow.com/users/4663580/tony-toms"}, "is_accepted": false, "score": 0, "last_activity_date": 1517111447, "creation_date": 1517111447, "answer_id": 48482990, "question_id": 44812299, "link": "https://stackoverflow.com/questions/44812299/selenium-webdriver-page-source-not-refreshing-after-click/48482990#48482990", "title": "selenium, webdriver.page_source not refreshing after click", "body": "<p>I faced the same problem.\nThe problem i think is because some javascripts are not completely loaded.\nAll you need is wait till the object is loaded.Below code worked for me</p>\n\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\nfrom selenium.webdriver.common.by import By\n        delay = 10 # seconds\n        try:\n            myElem = WebDriverWait(drivr, delay).until(EC.presence_of_element_located((By.CLASS_NAME, 'legal-attribute-row')))\n        except :\n            print (\"Loading took too much time!\")\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 6273533, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/ztqm3.jpg?s=128&g=1", "display_name": "geoJshaun", "link": "https://stackoverflow.com/users/6273533/geojshaun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1054, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1517111447, "creation_date": 1498682923, "last_edit_date": 1498685043, "question_id": 44812299, "link": "https://stackoverflow.com/questions/44812299/selenium-webdriver-page-source-not-refreshing-after-click", "title": "selenium, webdriver.page_source not refreshing after click", "body": "<p>I am trying to copy a web page's list of addresses for a given community service to a new document so i can geocode all of the locations in a map. Instead of being able to get a list of all the parcels I can only download one at a time and there are 25 parcel numbers limited to a page. As such, this would be extremely time consuming.</p>\n\n<p>I want to develop a script that will look at the page source (everything including the 25 addresses which are contained in a table tag) click the next page button, copy the next page, and so on until the max page is reached. Afterwards, I can format the text to be geocoding compatible.</p>\n\n<p>The code below does all of this except it only copies the first page over and over again even though I can clearly see that the program has successfully navigated to the next page:</p>\n\n<pre><code># Open chrome\nbr = webdriver.Chrome()\n\nraw_input(\"Navigate to web page. Press enter when done: \")\n\npg_src = br.page_source.encode(\"utf\") \nsoup = BeautifulSoup(pg_src)\n\nmax_page = 122 #int(max_page)\n\n#open a text doc to write the results to\n\nf = open(r'C:\\Geocoding\\results.txt', 'w')\n\n# write results page by page until max page number is reached\n\npg_cnt = 1 # start on 1 as we should already have the first page\nwhile pg_cnt &lt; max_page:\n    tble_elems = soup.findAll('table')\n    soup = BeautifulSoup(str(tble_elems))\n    f.write(str(soup))\n    time.sleep(5)\n    pg_cnt +=1\n    # clicks the next button\n    br.find_element_by_xpath(\"//div[@class='next button']\").click()\n    # give some time for the page to load\n    time.sleep(5)\n    # get the new page source (THIS IS THE PART THAT DOESN'T SEEM TO BE WORKING)\n    page_src = br.page_source.encode(\"utf\")\n    soup = BeautifulSoup(pg_src)\n\nf.close()\n</code></pre>\n"}, {"tags": ["python", "list", "python-3.x", "dictionary", "python-3.5"], "comments": [{"owner": {"reputation": 13104, "user_id": 621690, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6edc5dbf6a1b8cef7db25355aba35a1c?s=128&d=identicon&r=PG", "display_name": "Risadinha", "link": "https://stackoverflow.com/users/621690/risadinha"}, "edited": false, "score": 0, "creation_date": 1498683061, "post_id": 44812294, "comment_id": 76605229, "body": "And what have you tried so far? Have you at least tried to loop over the dictionaries to create the result you describe? Post some code that shows your problem in solving this yourself."}, {"owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "edited": false, "score": 0, "creation_date": 1498720792, "post_id": 44812294, "comment_id": 76617378, "body": "I have added a perhaps a more efficient solution"}], "answers": [{"comments": [{"owner": {"reputation": 36902, "user_id": 223424, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e97c628a88337b15e76a4690e916a2cd?s=128&d=identicon&r=PG", "display_name": "9000", "link": "https://stackoverflow.com/users/223424/9000"}, "edited": false, "score": 1, "creation_date": 1498684696, "post_id": 44812348, "comment_id": 76605983, "body": "BTW instead of <code>_id not in items.keys()</code> it&#39;s enough to write <code>_id not in items</code>."}], "tags": [], "owner": {"reputation": 2999, "user_id": 8071126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/550f1700622fccf1b6980580222c8d80?s=128&d=identicon&r=PG", "display_name": "glegoux", "link": "https://stackoverflow.com/users/8071126/glegoux"}, "is_accepted": false, "score": 0, "last_activity_date": 1498684741, "last_edit_date": 1498684741, "creation_date": 1498683138, "answer_id": 44812348, "question_id": 44812294, "link": "https://stackoverflow.com/questions/44812294/detect-same-key-value-in-list-of-dictionaries-and-merge-them/44812348#44812348", "title": "detect same key value in list of dictionaries and merge them", "body": "<p>Do :</p>\n\n<pre><code>from pprint import pprint\n\nl = [{'count': 1, 'item_no': 'E-Y12-A6-301', 'price': 748},\n     {'count': 3, 'item_no': 'E-Y12-A6-301', 'price': 2244},\n     {'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748}]\n\n\nitems = dict()\n\nfor item in l:\n    _id = item['item_no']\n    if _id not in items:\n        items[_id] = item\n    else:\n        items[_id]['count'] += item['count']\n        items[_id]['price'] += item['price']\n\nnl = list(items.values())\n\npprint(nl)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[{'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748},\n {'count': 4, 'item_no': 'E-Y12-A6-301', 'price': 2992}]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "reply_to_user": {"reputation": 77, "user_id": 4289184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db5d775efbb9d0b6b6948bead2ebcd5c?s=128&d=identicon&r=PG&f=1", "display_name": "YoloAcc", "link": "https://stackoverflow.com/users/4289184/yoloacc"}, "edited": false, "score": 0, "creation_date": 1498723150, "post_id": 44812421, "comment_id": 76618832, "body": "Glad you liked it, its not the most efficient way but its more <b>pythonic</b> IMHO"}], "tags": [], "owner": {"reputation": 7186, "user_id": 5741460, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oxgS1vLh9Co/AAAAAAAAAAI/AAAAAAAAAAA/5hRLB7BLWWA/photo.jpg?sz=128", "display_name": "Yoav Glazner", "link": "https://stackoverflow.com/users/5741460/yoav-glazner"}, "is_accepted": true, "score": 2, "last_activity_date": 1498683426, "creation_date": 1498683426, "answer_id": 44812421, "question_id": 44812294, "link": "https://stackoverflow.com/questions/44812294/detect-same-key-value-in-list-of-dictionaries-and-merge-them/44812421#44812421", "title": "detect same key value in list of dictionaries and merge them", "body": "<pre><code>l = [{'count': 1, 'item_no': 'E-Y12-A6-301', 'price': 748}, \n     {'count': 3, 'item_no': 'E-Y12-A6-301', 'price': 2244}, \n     {'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748}]\n\nnew_l = [{'count': sum(d['count'] for d in l if d['item_no']==item_no),\n          'price': sum(d['price'] for d in l if d['item_no']==item_no),\n          'item_no': item_no} \n         for item_no in set(i['item_no'] for i in l)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "is_accepted": false, "score": 0, "last_activity_date": 1498723899, "last_edit_date": 1498723899, "creation_date": 1498720541, "answer_id": 44818635, "question_id": 44812294, "link": "https://stackoverflow.com/questions/44812294/detect-same-key-value-in-list-of-dictionaries-and-merge-them/44818635#44818635", "title": "detect same key value in list of dictionaries and merge them", "body": "<p>This solution only iterates over <code>l</code> once, it also sorts <code>l</code> by count, although you can sort by whichever value you want it and it also re-assigns <code>l</code> instead of creating a new list:</p>\n\n<pre><code>def merge_dicts(list_of_dicts):\n    items = {}\n    for dct in list_of_dicts:\n        item_no = dct['item_no']\n        if item_no in items:\n            items[item_no]['count'] += dct['count']\n            items[item_no]['price'] += dct['price']\n        else:\n            items[item_no] = dct\n    return sorted(items.values(),key=lambda k: k['count'])\n\nl = [{'count': 1, 'item_no': 'E-Y12-A6-301', 'price': 748},\n     {'count': 3, 'item_no': 'E-Y12-A6-301', 'price': 2244},\n     {'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748}]  \nl = merge_dicts(l)\n</code></pre>\n\n<p>If you want them sorted in descending order replace the return line with this one:</p>\n\n<pre><code>return sorted(items.values(),key=lambda k: k['count'],reverse=True)\n</code></pre>\n\n<p>If you want to neatly print out the dictionaries:</p>\n\n<pre><code>for dct in l:\n    print (\"Item No: \"+dct['item_no'])\n    print (\"  Price: \"+str(dct['price']))\n    print (\"  Count: \"+str(dct['count']))\n    print (\"-\"*50)\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>Item No: E-Y12-A6-301\n  Price: 2992\n  Count: 4\n--------------------------------------------------\nItem No: E-Y13-A3-301\n  Price: 748\n  Count: 1\n--------------------------------------------------\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 4289184, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/db5d775efbb9d0b6b6948bead2ebcd5c?s=128&d=identicon&r=PG&f=1", "display_name": "YoloAcc", "link": "https://stackoverflow.com/users/4289184/yoloacc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 44812421, "answer_count": 3, "score": 0, "last_activity_date": 1498723899, "creation_date": 1498682899, "last_edit_date": 1498703575, "question_id": 44812294, "link": "https://stackoverflow.com/questions/44812294/detect-same-key-value-in-list-of-dictionaries-and-merge-them", "title": "detect same key value in list of dictionaries and merge them", "body": "<p>I have a list, inside that list I have dictionaries with the same key value. The code should detect the duplicate <code>item_no</code> and should merge the dictionaries(add the price and count together). Python version is 3.5.</p>\n\n<p><a href=\"https://i.stack.imgur.com/gvuoe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gvuoe.png\" alt=\"code_capture\"></a></p>\n\n<pre><code>[{'count': 1, 'item_no': 'E-Y12-A6-301', 'price': 748}, \n {'count': 3, 'item_no': 'E-Y12-A6-301', 'price': 2244}, \n {'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748}]\n</code></pre>\n\n<p>The end result should look like this:</p>\n\n<pre><code>[{'count': 4, 'item_no': 'E-Y12-A6-301', 'price': 2992}, \n {'count': 1, 'item_no': 'E-Y13-A3-301', 'price': 748}]\n</code></pre>\n"}, {"tags": ["python", "python-2.7", "tensorflow", "google-cloud-platform"], "comments": [{"owner": {"reputation": 2172, "user_id": 6368214, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/a33c7bc154d558f21f9296b778a221d1?s=128&d=identicon&r=PG&f=1", "display_name": "tensor", "link": "https://stackoverflow.com/users/6368214/tensor"}, "edited": false, "score": 0, "creation_date": 1502477692, "post_id": 44812261, "comment_id": 78243666, "body": "same pb here. Version should be added to TensorFlow"}, {"owner": {"reputation": 418, "user_id": 5484902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qU9Z.jpg?s=128&g=1", "display_name": "Gal_M", "link": "https://stackoverflow.com/users/5484902/gal-m"}, "edited": false, "score": 0, "creation_date": 1574239988, "post_id": 44812261, "comment_id": 104156823, "body": "if you are happy with my answer feel free to mark it as the accepted one."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "edited": false, "score": 0, "creation_date": 1540414001, "post_id": 45783971, "comment_id": 92861831, "body": "This does not give any result"}], "tags": [], "owner": {"reputation": 398, "user_id": 5018125, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qgSSC.png?s=128&g=1", "display_name": "Chitransh Gaurav", "link": "https://stackoverflow.com/users/5018125/chitransh-gaurav"}, "is_accepted": false, "score": 1, "last_activity_date": 1503243999, "creation_date": 1503243999, "answer_id": 45783971, "question_id": 44812261, "link": "https://stackoverflow.com/questions/44812261/module-object-has-no-attribute-feature-column/45783971#45783971", "title": "&#39;module&#39; object has no attribute &#39;feature_column&#39;", "body": "<p>I faced this problem with an outdated version of tensorflow. Updating it to the latest build helped.</p>\n"}, {"comments": [{"owner": {"reputation": 1855, "user_id": 1347170, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/89018841d62e9a13f96caa632fd5fd76?s=128&d=identicon&r=PG", "display_name": "Joshua Terrill", "link": "https://stackoverflow.com/users/1347170/joshua-terrill"}, "edited": false, "score": 1, "creation_date": 1514955116, "post_id": 46262448, "comment_id": 83116284, "body": "or <code>pip3 install --upgrade tensorflow</code> for python3.x"}, {"owner": {"reputation": 109, "user_id": 10090361, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KY8r2JweNs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pTblbvzCJVv-610MLuHCN4OrRRtw/mo/photo.jpg?sz=128", "display_name": "codingPerson", "link": "https://stackoverflow.com/users/10090361/codingperson"}, "edited": false, "score": 1, "creation_date": 1540414023, "post_id": 46262448, "comment_id": 92861842, "body": "This does not give any result"}], "tags": [], "owner": {"reputation": 418, "user_id": 5484902, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5qU9Z.jpg?s=128&g=1", "display_name": "Gal_M", "link": "https://stackoverflow.com/users/5484902/gal-m"}, "is_accepted": false, "score": 4, "last_activity_date": 1505639827, "creation_date": 1505639827, "answer_id": 46262448, "question_id": 44812261, "link": "https://stackoverflow.com/questions/44812261/module-object-has-no-attribute-feature-column/46262448#46262448", "title": "&#39;module&#39; object has no attribute &#39;feature_column&#39;", "body": "<p>This could also happen from updating Google Cloud SDK, in which case <code>pip install --upgrade tensorflow</code> should do the job.</p>\n"}], "owner": {"reputation": 379, "user_id": 4970438, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cNlf6f_RbgY/AAAAAAAAAAI/AAAAAAAAArk/pq2lS25-Jew/photo.jpg?sz=128", "display_name": "Yanfeng Liu", "link": "https://stackoverflow.com/users/4970438/yanfeng-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6385, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1505639827, "creation_date": 1498682750, "last_edit_date": 1498764191, "question_id": 44812261, "link": "https://stackoverflow.com/questions/44812261/module-object-has-no-attribute-feature-column", "title": "&#39;module&#39; object has no attribute &#39;feature_column&#39;", "body": "<p>I ran the official tutorial from Google (<a href=\"https://cloud.google.com/ml-engine/docs/how-tos/getting-started-training-prediction\" rel=\"noreferrer\">link here</a>). It ran fine locally but I got stuck on the part where I need to train the network on the Google Cloud Platform. I ran the following code on my terminal:</p>\n\n<pre><code>JOB_NAME=census_single_1\nOUTPUT_PATH=gs://$BUCKET_NAME/$JOB_NAME\ngcloud ml-engine jobs submit training $JOB_NAME \\\n--job-dir $OUTPUT_PATH \\\n--runtime-version 1.0 \\\n--module-name trainer.task \\\n--package-path trainer/ \\\n--region $REGION \\\n-- \\\n--train-files $TRAIN_DATA \\\n--eval-files $EVAL_DATA \\\n--train-steps 1000 \\\n--verbosity DEBUG\n</code></pre>\n\n<p>And I got the following error message:</p>\n\n<blockquote>\n  <p>\"Traceback (most recent call last):\\n  File\n  \\\"/usr/lib/python2.7/runpy.py\\\", line 162, in _run_module_as_main\\n<br>\n  \\\"<strong>main</strong>\\\", fname, loader, pkg_name)\\n  File\n  \\\"/usr/lib/python2.7/runpy.py\\\", line 72, in _run_code\\n    exec code\n  in run_globals\\n  File\n  \\\"/root/.local/lib/python2.7/site-packages/trainer/task.py\\\", line 4,\n  in \\n    import model\\n  File\n  \\\"/root/.local/lib/python2.7/site-packages/trainer/model.py\\\", line\n  40, in \\n<br>\n  tf.feature_column.categorical_column_with_vocabulary_list(\\nAttributeError:\n  'module' object has no attribute 'feature_column'\\n\"</p>\n</blockquote>\n\n<p>// <strong>UPDATE</strong></p>\n\n<p>Never mind. I figured it out. It turns out the <code>--runtime-version</code> argument controls the Cloud ML Runtime Version (<a href=\"https://cloud.google.com/ml-engine/docs/concepts/runtime-version-list\" rel=\"noreferrer\">link</a>). In the tutorial it was specified as 1.0, and that corresponds to Tensorflow v 1.0.1, which does not have <code>tf.feature_column.*</code> because it was just introduced in Tensorflow v 1.2.0 on June 16, 2017</p>\n\n<p>// <strong>UPDATE 2</strong></p>\n\n<p>The Google tutorial has been updated to use <code>--runtime-version 1.2</code> instead of <code>--runtime-version 1.0</code> as of today, Jun 29, 2017. I don't know if they saw my post but this was changed between Jun 28 and Jun 29. Future users on that tutorial shouldn't experience the same issue I had. </p>\n"}, {"tags": ["python", "python-3.x", "opencv"], "comments": [{"owner": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 1, "creation_date": 1498683959, "post_id": 44812195, "comment_id": 76605682, "body": "Can you post the picture?"}, {"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "reply_to_user": {"reputation": 17643, "user_id": 5087436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZyXHE.jpg?s=128&g=1", "display_name": "alkasm", "link": "https://stackoverflow.com/users/5087436/alkasm"}, "edited": false, "score": 0, "creation_date": 1498684933, "post_id": 44812195, "comment_id": 76606114, "body": "Added to the repository"}, {"owner": {"reputation": 18948, "user_id": 3051961, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/b81cbd6deac24f756452266ff2e8d3ce?s=128&d=identicon&r=PG", "display_name": "ZdaR", "link": "https://stackoverflow.com/users/3051961/zdar"}, "edited": false, "score": 0, "creation_date": 1498704595, "post_id": 44812195, "comment_id": 76611383, "body": "Are you referring <code>[0 0 0 ..., 0 0 0]</code> as an empty matrix ?"}, {"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1498720611, "post_id": 44812195, "comment_id": 76617266, "body": "Yes because the roi matrix  &#39;roi = im_th[pt1:pt1+leng, pt2:pt2+leng]&#39; in my code (line number 49) is an empty matrix which means that the findContours function failed to find any contours in the image. Why is it happening ?"}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1498753223, "post_id": 44812195, "comment_id": 76641170, "body": "So the code you&#39;ve posted here is not what&#39;s causing the problem? Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> here, not on an external site."}, {"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1498766912, "post_id": 44812195, "comment_id": 76648727, "body": "The main problem was that resize function in the for loop was reporting a null image and I thought that this is because the threshold matrix is empty so I think I provided a good explanation of the problem I though I was having."}], "answers": [{"comments": [{"owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1498766858, "post_id": 44833113, "comment_id": 76648707, "body": "Was the code successfully able to recognise the digits ? Did the for - loop run successfully ? The main problem was that resize function in the for loop was reporting a null image and I thought that this is because the threshold matrix is empty."}, {"owner": {"reputation": 1820, "user_id": 6411572, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UW5c3vqf1Uk/AAAAAAAAAAI/AAAAAAAACVM/MxyCKe2XJJM/photo.jpg?sz=128", "display_name": "Shawn Mathew", "link": "https://stackoverflow.com/users/6411572/shawn-mathew"}, "reply_to_user": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "edited": false, "score": 0, "creation_date": 1498770980, "post_id": 44833113, "comment_id": 76650759, "body": "I posted the resulting image. No errors were reported. Hope this answered your posted question"}], "tags": [], "owner": {"reputation": 1820, "user_id": 6411572, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UW5c3vqf1Uk/AAAAAAAAAAI/AAAAAAAACVM/MxyCKe2XJJM/photo.jpg?sz=128", "display_name": "Shawn Mathew", "link": "https://stackoverflow.com/users/6411572/shawn-mathew"}, "is_accepted": true, "score": 1, "last_activity_date": 1498767325, "last_edit_date": 1498767325, "creation_date": 1498763240, "answer_id": 44833113, "question_id": 44812195, "link": "https://stackoverflow.com/questions/44812195/cv2-adaptivethreshold-returns-empty-matrix/44833113#44833113", "title": "cv2.adaptiveThreshold() returns empty matrix", "body": "<p>I ran your code on the on the image at <a href=\"https://github.com/tanmay-edgelord/HandwrittenDigitRecognition/blob/master/Digit1.jpg\" rel=\"nofollow noreferrer\">https://github.com/tanmay-edgelord/HandwrittenDigitRecognition/blob/master/Digit1.jpg</a> and it worked as expected. The only change I made was to display the image using <code>cv2.imshow()</code>.</p>\n\n<pre><code>import numpy as np\nimport cv2\n    # Read image in grayscale mode\nimg = cv2.imread(r\"path\\to\\img\",0)\n\n    # Median Blur and Gaussian Blur to remove Noise\nimg = cv2.medianBlur(img,3)\nimg = cv2.GaussianBlur(img, (5, 5), 0)\n#print(img)\n\n    # Adaptive Threshold for handling lightning\nim_th = cv2.adaptiveThreshold(img,255,cv2.ADAPTIVE_THRESH_GAUSSIAN_C,cv2.THRESH_BINARY_INV,11,5)\ncv2.imshow(\"te\", im_th)\nif cv2.waitKey():\n    cv2.destroyAllWindows()\n</code></pre>\n\n<p>Here's the result:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BsFXJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BsFXJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why are you certain this is an empty matrix? This is a pretty large array if you're just judging from <code>[0 0 0 ..., 0 0 0]</code>. Python just displays this as a shorthand version of the array. Just use <code>np.maximum(img_th)</code> to get the max value in the array and you will see that the max value is non-zero.</p>\n"}], "owner": {"reputation": 1730, "user_id": 6916919, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/bee0b5c5298aba8b8215fe1963d4308d?s=128&d=identicon&r=PG&f=1", "display_name": "Tanmay Bhatnagar", "link": "https://stackoverflow.com/users/6916919/tanmay-bhatnagar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 416, "favorite_count": 0, "accepted_answer_id": 44833113, "answer_count": 1, "score": 0, "last_activity_date": 1498767325, "creation_date": 1498682505, "question_id": 44812195, "link": "https://stackoverflow.com/questions/44812195/cv2-adaptivethreshold-returns-empty-matrix", "title": "cv2.adaptiveThreshold() returns empty matrix", "body": "<pre><code>    # Read image in grayscale mode\nimg = cv2.imread(inp_pic,0)\n\n    # Median Blur and Gaussian Blur to remove Noise\nimg = cv2.medianBlur(img,3)\nimg = cv2.GaussianBlur(img, (5, 5), 0)\nprint(img)\n\n    # Adaptive Threshold for handling lightning\nim_th = cv2.adaptiveThreshold(img,255,cv2.ADAPTIVE_THRESH_GAUSSIAN_C,cv2.THRESH_BINARY_INV,11,5)\nprint(im_th)\n</code></pre>\n\n<p>The function adaptive threshold returns an empty matrix here but the image being passed(img) is not an empty matrix (i checked using the print statement) Why is it so ?</p>\n\n<p>You can find the source code here :\n<a href=\"https://github.com/tanmay-edgelord/HandwrittenDigitRecognition/blob/master/performRecognition.ipynb\" rel=\"nofollow noreferrer\">https://github.com/tanmay-edgelord/HandwrittenDigitRecognition/blob/master/performRecognition.ipynb</a></p>\n"}, {"tags": ["python", "excel"], "answers": [{"tags": [], "owner": {"reputation": 5785, "user_id": 7306999, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9dNzL.jpg?s=128&g=1", "display_name": "Xukrao", "link": "https://stackoverflow.com/users/7306999/xukrao"}, "is_accepted": true, "score": 1, "last_activity_date": 1498842549, "creation_date": 1498842549, "answer_id": 44851728, "question_id": 44812166, "link": "https://stackoverflow.com/questions/44812166/cannot-convert-to-excel-in-python-3-x-however-works-in-python-2-x/44851728#44851728", "title": "Cannot convert to Excel in Python 3.X, however works in Python 2.X", "body": "<p>Try replacing the line</p>\n\n<p><code>for cell.value in row:</code></p>\n\n<p>with</p>\n\n<p><code>for cell in row:</code></p>\n"}], "owner": {"reputation": 300, "user_id": 3330347, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/82071575c13df623a9a722612c388cd1?s=128&d=identicon&r=PG&f=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/3330347/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 808, "favorite_count": 1, "accepted_answer_id": 44851728, "answer_count": 1, "score": 0, "last_activity_date": 1498842549, "creation_date": 1498682388, "question_id": 44812166, "link": "https://stackoverflow.com/questions/44812166/cannot-convert-to-excel-in-python-3-x-however-works-in-python-2-x", "title": "Cannot convert to Excel in Python 3.X, however works in Python 2.X", "body": "<p>In the code snippet below, I am trying to open and excel worksheet in Python and then carryout some calculations.  The code works with Python 2.X, but I am having problems with the Python 3.0 implementation.  While trying to run the code, I get the error <code>ValueError: Cannot convert &lt;Cell 'Sheet1'.A1&gt; to Excel</code></p>\n\n<p>Can you tell me how to fix this code to work with Python 3.6</p>\n\n<p>Here is the code that I have so far:</p>\n\n<pre><code>import openpyxl\nfrom openpyxl import load_workbook\nimport os\n# import pandas as pd\nimport xlwings as xw\n\n\nos.chdir(\"C:/Users/boss/Desktop/for_Interns/Code\")\n\nwb= openpyxl.load_workbook(\"F2_copy.xlsx\")\nwb.create_sheet(index=0,title='Summary')\nsumsheet= wb.get_sheet_by_name('Summary')\nprint('Creating Summary Sheet')\nfor sheet in wb.worksheets:\n    for row in  sheet.iter_rows():\n        for cell in row:\n           if cell.value=='failed':\n\n               my_values= xw.Range('14_Messsage','A1:A6').options(ndim=2).value\n               xw.Range('Summary','A1:A6').value = my_values\n\n#loop through worksheets\nprint(\"Looping Worksheets\")\nfor sheet in wb.worksheets:\n    for row in  sheet.iter_rows():\n        for cell.value in row:\n           if cell.value=='LowLimit':\n                lowCol=cell.column\n            if cell.value=='HighLimit':\n                highCol=cell.column\n            if cell.value=='MeasValue':\n                measCol=cell.column\n       ....\n</code></pre>\n"}, {"tags": ["python", "heroku", "flask"], "comments": [{"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 0, "creation_date": 1498684900, "post_id": 44812111, "comment_id": 76606100, "body": "Hi and welcome to Stack Overflow, please take a time to go through the <a href=\"https://stackoverflow.com/tour\">welcome tour</a> to know your way around here (and also to earn your first badge), read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}, {"owner": {"reputation": 3072, "user_id": 6611672, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/fa3f99cc3070ae57d877e08f9564ed22?s=128&d=identicon&r=PG&f=1", "display_name": "Johnny Metz", "link": "https://stackoverflow.com/users/6611672/johnny-metz"}, "edited": false, "score": 0, "creation_date": 1502471010, "post_id": 44812111, "comment_id": 78240193, "body": "Make sure your HTML has the <code>method=&quot;POST&quot;</code> attribute on the form element and the <code>action</code> attribute specifies the correct route."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8577951, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-iRMU3ocYZA8/AAAAAAAAAAI/AAAAAAAAIGY/56WCG71z4M0/photo.jpg?sz=128", "display_name": "john mcaree", "link": "https://stackoverflow.com/users/8577951/john-mcaree"}, "is_accepted": false, "score": 2, "last_activity_date": 1504846118, "creation_date": 1504846118, "answer_id": 46108838, "question_id": 44812111, "link": "https://stackoverflow.com/questions/44812111/flask-app-works-locally-but-not-on-heroku-method-not-allowed/46108838#46108838", "title": "Flask app works locally, but not on Heroku (Method not allowed)", "body": "<p>\"Method not allowed\" in the browser is common and doesn't really tell you much- it's a way to hide the details of the error from users who shouldn't see your code or know about the details your app. Try heroku logs to get a more detailed report. I have been getting the same error even though the heroku logs say my app is running on heroku</p>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 12384952, "user_type": "registered", "profile_image": "https://graph.facebook.com/10157666162434909/picture?type=large", "display_name": "Jordon Gonzales", "link": "https://stackoverflow.com/users/12384952/jordon-gonzales"}, "is_accepted": false, "score": 0, "last_activity_date": 1615834362, "creation_date": 1615834362, "answer_id": 66643953, "question_id": 44812111, "link": "https://stackoverflow.com/questions/44812111/flask-app-works-locally-but-not-on-heroku-method-not-allowed/66643953#66643953", "title": "Flask app works locally, but not on Heroku (Method not allowed)", "body": "<p>Seeing this 3 years and 8 months later. I had simply created the app first and tested the default page heroku creates but I was getting this Method Not Allowed. My issue was using the wrong link. The git.heroku.com/<code>yourapp</code>.git gives this error. But the <code>yourapp</code>.herokuapp.com/ link worked.  Again, this was just with the default page.</p>\n<p>If you deployed your app and errors exist at the correct URL, you will probably be getting an Application Error page and as mentioned before, you need to utilize the heroku logs on their dashboard to resolve those.</p>\n"}], "owner": {"reputation": 31, "user_id": 8228349, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5e491bd047a1654e452c4a7ec94f31?s=128&d=identicon&r=PG&f=1", "display_name": "jessd", "link": "https://stackoverflow.com/users/8228349/jessd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2675, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1615834362, "creation_date": 1498682217, "question_id": 44812111, "link": "https://stackoverflow.com/questions/44812111/flask-app-works-locally-but-not-on-heroku-method-not-allowed", "title": "Flask app works locally, but not on Heroku (Method not allowed)", "body": "<p>My python code works fine when I run it locally, but fails on Heroku when I hit the submit button on my form and I get the error: Method Not Allowed The method is not allowed for the requested URL.</p>\n\n<pre><code>from flask import Flask, render_template, request, redirect\nimport dill\n\napp = Flask(__name__)\n\n@app.route('/',methods=['GET','POST'])\ndef main():\n  return redirect('/index')\n\n@app.route('/index',methods=['GET','POST'])\ndef index():\n    message = '  '\n    if request.method == 'GET':\n        return render_template('index.html',output=message)\n    elif request.method == 'POST':\n      gender = request.form.get('sex')\n      poverty = request.form.get('poverty')\n      school = request.form.get('school')\n      marital = request.form.get(\"marital\")\n      race = request.form.get(\"race\")\n      orient = request.form.get(\"orient\")\n      phys = request.form.get(\"phys\")\n      drinks = request.form.get(\"drinks\")\n      age = request.form.get(\"age\")\n      message = '  '\n      output = get_risk([phys,orient,school,drinks,race,poverty,marital,gender,age])\n      if output ==0:\n        message = \"Not At Risk\"\n      elif output == 1:\n        message = \"At Risk!\"\n      return render_template('index.html',output=message)\n\ndef get_risk(features):\n  forest = dill.load(open('forest.pkd','rb'))\n  return forest.predict(features)\n</code></pre>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["python", "vba", "excel", "shell"], "comments": [{"owner": {"reputation": 136405, "user_id": 1140579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TbC2t.jpg?s=128&g=1", "display_name": "Siddharth Rout", "link": "https://stackoverflow.com/users/1140579/siddharth-rout"}, "edited": false, "score": 0, "creation_date": 1498682900, "post_id": 44812085, "comment_id": 76605143, "body": "Nic I do not work with Py but based on what you said in the last line, I would double check what <code>Program</code> is evaluating to? <code>Program = Join(args, &quot; &quot;)</code> you may want to put a breakpoint there and check?"}, {"owner": {"reputation": 2140, "user_id": 4570230, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/I2tMC.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4570230/nicholas"}, "reply_to_user": {"reputation": 136405, "user_id": 1140579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TbC2t.jpg?s=128&g=1", "display_name": "Siddharth Rout", "link": "https://stackoverflow.com/users/1140579/siddharth-rout"}, "edited": false, "score": 0, "creation_date": 1498686946, "post_id": 44812085, "comment_id": 76606986, "body": "@SiddharthRout I edited my post based on your comment."}, {"owner": {"reputation": 2140, "user_id": 4570230, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/I2tMC.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4570230/nicholas"}, "reply_to_user": {"reputation": 136405, "user_id": 1140579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TbC2t.jpg?s=128&g=1", "display_name": "Siddharth Rout", "link": "https://stackoverflow.com/users/1140579/siddharth-rout"}, "edited": false, "score": 0, "creation_date": 1498691482, "post_id": 44812085, "comment_id": 76608406, "body": "@SiddharthRout It looks like the reason is I cannot have folder whose name has space. As I recalled, I moved my relevant files to the folder <code>Insurance Project\\Health Insurance Company Regression</code> today. Now I changed &quot;Insurance Project&quot; to &quot;Insurance_Project&quot; and &quot;Health Insurance Company Regression&quot; to &quot;Health_Insurance_Company_Regression&quot;, then things started to work. But do you know if this is an issue caused by Excel VBA rather than my Python and Anaconda? I would like to exclude this possibility."}, {"owner": {"reputation": 136405, "user_id": 1140579, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/TbC2t.jpg?s=128&g=1", "display_name": "Siddharth Rout", "link": "https://stackoverflow.com/users/1140579/siddharth-rout"}, "edited": false, "score": 0, "creation_date": 1498718545, "post_id": 44812085, "comment_id": 76616027, "body": "This is not a bug. You need to pad the spaces with double quotes. If you search stackoverflow, you will see lot of questions on this :) \u2013"}], "owner": {"reputation": 2140, "user_id": 4570230, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/I2tMC.jpg?s=128&g=1", "display_name": "Nicholas", "link": "https://stackoverflow.com/users/4570230/nicholas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1498691701, "creation_date": 1498682099, "last_edit_date": 1498691701, "question_id": 44812085, "link": "https://stackoverflow.com/questions/44812085/vba-shell-function-fails-to-execute-python-script", "title": "VBA Shell function fails to execute Python script", "body": "<p>I tried to execute Python script using the VBA code below (please run <code>sub Test()</code>),</p>\n\n<pre><code>Option Explicit\n\n#If VBA7 And Win64 Then\n    Declare PtrSafe Function OpenProcess Lib \"kernel32\" _\n    (ByVal dwDesiredAccess As Long, _\n     ByVal bInheritHandle As Long, _\n     ByVal dwProcessId As Long) As Long\n\n    Declare PtrSafe Function GetExitCodeProcess Lib \"kernel32\" _\n    (ByVal hProcess As Long, lpExitCode As Long) As Long\n#Else\n    Declare Function OpenProcess Lib \"kernel32\" _\n    (ByVal dwDesiredAccess As Long, _\n     ByVal bInheritHandle As Long, _\n     ByVal dwProcessId As Long) As Long\n\n    Declare Function GetExitCodeProcess Lib \"kernel32\" _\n    (ByVal hProcess As Long, lpExitCode As Long) As Long\n#End If\n\nConst interpreter_path As String = \"C:\\Users\\dongm\\Anaconda2\\python.exe\"\n\n\nSub Test()\n    RegressAndWait \"Output\"\nEnd Sub\n\nPrivate Sub RegressAndWait(ByVal output_folder_name As String)\n\n    Dim TaskID As Long, hProc As Long, lExitCode As Long\n    Dim ACCESS_TYPE As Integer, STILL_ACTIVE As Integer\n\n    ACCESS_TYPE = &amp;H400\n    STILL_ACTIVE = &amp;H103\n\n    Dim Program As String, args(1 To 5) As String\n    args(1) = interpreter_path\n    args(2) = ThisWorkbook.path &amp; \"\\regressions.py\"\n    args(3) = \"\"\"\" &amp; \"dummy\" &amp; \"\"\"\"\n    args(4) = \"\"\"\" &amp; \".\" &amp; \"\"\"\"\n    args(5) = \"\"\"\" &amp; output_folder_name &amp; \"\"\"\"\n    Program = Join(args, \" \")\n\n    ChDir ThisWorkbook.path\n    TaskID = Shell(Program, vbNormalFocus)\n    hProc = OpenProcess(ACCESS_TYPE, False, TaskID)\n    If Err &lt;&gt; 0 Then\n        MsgBox \"Cannot run regressions.py\", vbCritical, \"Error\"\n        Exit Sub\n    End If\n    Do\n        GetExitCodeProcess hProc, lExitCode\n        DoEvents\n    Loop While lExitCode = STILL_ACTIVE\nEnd Sub\n</code></pre>\n\n<p>After running <code>sub Test()</code>, I can see the prompt window flashes and then exits as if the prompt window is opened but never used (I can't see if there is any message written to the prompt window since it disappears really fast). </p>\n\n<p>However, I can run the python script manually without using VBA by opening <code>Anaconda Prompt</code> window, and then <code>cd</code> to my current folder address (why <code>ChDir ThisWorkbook.path</code>), and then enter <code>python regressions.py \"dummy\" \".\"</code> to the prompt window to run the python script.</p>\n\n<p>My VBA code is basically just repeating what I have done manually, but why it doesn't work?</p>\n\n<p>In addition, it's very strange that my code used to work well, but this morning I just found that it no longer works.</p>\n\n<hr>\n\n<p>FYI, I stepped into <code>Program</code> using debugger before jumping into the <code>Shell</code> function, the <code>?Program</code> in the immediate window gives me</p>\n\n<p><code>C:\\Users\\dongm\\Anaconda2\\python.exe C:\\Company\\Insurance Project\\Health Insurance Company Regression\\regressions.py \"dummy\" \".\" \"Output\"</code> </p>\n\n<hr>\n\n<p>After some manipulation, it seems that the reason that I am no longer able to call Python script is because I have folder that has space in its name. As I recalled, I moved the relevant files this morning to a different directory. I just changed <code>Insurance Project</code> to <code>Insurance_Project</code> and <code>Health Insurance Company Regression</code> to <code>Health_Insurance_Company_Regression</code>, then everything backs to normal. This is really an interesting bug, which I have never seen before, but I wonder what can cause this. Excel VBA or Python and Anaconda?</p>\n"}, {"tags": ["python", "oop", "multiprocessing"], "comments": [{"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1498682535, "post_id": 44812071, "comment_id": 76604968, "body": "Well, your current example cannot run. You have syntax errors and, what is worse, you have no access to <code>processes</code> in your main code, since it is only defines in your function call. Please fix that, so your problem can be directed"}, {"owner": {"reputation": 107, "user_id": 8002598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc9eedb1285d50dc28fd0b08406f67f?s=128&d=identicon&r=PG&f=1", "display_name": "Boris Mulder", "link": "https://stackoverflow.com/users/8002598/boris-mulder"}, "reply_to_user": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1498683182, "post_id": 44812071, "comment_id": 76605292, "body": "Sorry, I wrote the code in here so I made indeed a few syntax errors. I edited it and removed them. My nested object is to complicated to put in here. The basic idea of my code is clear in this way right?"}, {"owner": {"reputation": 1069, "user_id": 6316272, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/QYMZK.jpg?s=128&g=1", "display_name": "gionni", "link": "https://stackoverflow.com/users/6316272/gionni"}, "edited": false, "score": 0, "creation_date": 1498684067, "post_id": 44812071, "comment_id": 76605728, "body": "Have you tried running your code from terminal? I had a similar issue while running multiprocess on Pycharm interactive console. There are some other visible issues with the code you posted, but I guess they are just mistypes"}, {"owner": {"reputation": 107, "user_id": 8002598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc9eedb1285d50dc28fd0b08406f67f?s=128&d=identicon&r=PG&f=1", "display_name": "Boris Mulder", "link": "https://stackoverflow.com/users/8002598/boris-mulder"}, "edited": false, "score": 0, "creation_date": 1498684841, "post_id": 44812071, "comment_id": 76606067, "body": "I Checked the version I wrote now and used my nested object in there. This code runs fine for 4 processes, but won&#39;t for more than 4. I will try to run it from the terminal thanks for the tip!"}, {"owner": {"reputation": 107, "user_id": 8002598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc9eedb1285d50dc28fd0b08406f67f?s=128&d=identicon&r=PG&f=1", "display_name": "Boris Mulder", "link": "https://stackoverflow.com/users/8002598/boris-mulder"}, "edited": false, "score": 0, "creation_date": 1498687141, "post_id": 44812071, "comment_id": 76607075, "body": "I tried running it in command prompt in windows 10 and it gives exactly the same result. Running it for 4 processes is fine, but if I run anymore then that will cause the program to get stuck at the end."}, {"owner": {"reputation": 14460, "user_id": 1404311, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/j4CQ5.jpg?s=128&g=1", "display_name": "Scott Mermelstein", "link": "https://stackoverflow.com/users/1404311/scott-mermelstein"}, "edited": false, "score": 0, "creation_date": 1498746502, "post_id": 44812071, "comment_id": 76636164, "body": "Instead of editing your answer into your question, you should post an answer yourself.  Then wait the specified amount of time, and accept your own answer."}], "answers": [{"tags": [], "owner": {"reputation": 107, "user_id": 8002598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc9eedb1285d50dc28fd0b08406f67f?s=128&d=identicon&r=PG&f=1", "display_name": "Boris Mulder", "link": "https://stackoverflow.com/users/8002598/boris-mulder"}, "is_accepted": true, "score": 0, "last_activity_date": 1499165036, "creation_date": 1499165036, "answer_id": 44903811, "question_id": 44812071, "link": "https://stackoverflow.com/questions/44812071/python-multiprocessing-using-nested-objects/44903811#44903811", "title": "Python multiprocessing using nested objects", "body": "<p>I got it to work using pipes to send my objects!</p>\n\n<p>this is the code I used:</p>\n\n<pre><code>from multiprocessing import Process, Pipe\nfrom SupportCostModel.SupportStructure import SupportStructure, SupportType\nimport random\n\n# Method the processes will execute\ndef optimizeAlgoritm(optimizeObject, conn):\n\n    optimizeObject.Optimize()\n\n    # Send the optimized object\n    conn.send(optimizeObject)\n\n# Method the main thread will execute\ndef getOptimumalObject(n):\n\n    connections = []\n\n    for i in range(n):\n\n        # Create a pipe for each of the processes that is started\n        parent_conn, child_conn = Pipe()\n\n        # Save the parent connections\n        connections.append(parent_conn)\n\n        # Create objects that needs to by optimized using different initial conditions\n        if i == 0:\n            structure = SupportStructure(SupportType.Monopile)\n        else:\n            structure = SupportStructure(SupportType.Monopile)\n            structure.properties.D_mp = random.randrange(4., 10.)\n            structure.properties.Dtrat_tower = random.randrange(90., 120.)\n            structure.properties.Dtrat_mud = random.randrange(60., 100.)\n            structure.properties.Dtrat_mp = random.randrange(60., 100.)\n            structure.UpdateAll()\n\n        # Create a new process with a new nested object that should be optimized\n        p = Process(target = optimizeAlgoritm, args = (structure, child_conn))\n        processes.append(p)\n        p.deamon = True\n        p.start()\n\n    # Receive the optimized objects\n    for i in range(n):\n        optimizedObjects.append(connections[i].recv())\n\n# Part the main thread is running        \nif __name__ == '__main__':\n\n    processes = []\n    optimizedObjects = []\n\n    # Run the code on 6 processes\n    getOptimumalObject(6)\n\n    for i in range(len(processes)):\n        processes[i].join()\n\n    # Get the best optimized object and print the resulting value\n    minimum = 1000000000000000000000000.\n\n    for i in range(len(optimizedObjects)):\n\n        optimizeObject = optimizedObjects[i]\n\n        if optimizeObject.GetTotalMass() &lt; minimum:\n\n            bestObject = optimizeObject\n            minumum = optimizeObject.GetTotalMass()\n\n    print(bestObject.GetTotalMass())\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 8002598, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc9eedb1285d50dc28fd0b08406f67f?s=128&d=identicon&r=PG&f=1", "display_name": "Boris Mulder", "link": "https://stackoverflow.com/users/8002598/boris-mulder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 353, "favorite_count": 0, "accepted_answer_id": 44903811, "answer_count": 1, "score": 1, "last_activity_date": 1499165036, "creation_date": 1498682044, "last_edit_date": 1499165020, "question_id": 44812071, "link": "https://stackoverflow.com/questions/44812071/python-multiprocessing-using-nested-objects", "title": "Python multiprocessing using nested objects", "body": "<p>I'm writing an optimization algorithm which uses several different initial conditions to increase the chance of finding the global optimum. I'm trying to make the code run faster by using the multiprocessing library, and running the optimizations on different processes.</p>\n\n<p>This is the way my code is basically working now:</p>\n\n<pre><code>from multiprocessing import Process, Queue\nfrom SupportCostModel.SupportStructure import SupportStructure, SupportType\n\n# Method the processes will execute\ndef optimizeAlgoritm(optimizeObject, qOut):\n\n    optimizeObject.Optimize()\n    qOut.put(optimizeObject)\n\n# Method the main thread will execute\ndef getOptimumalObject(n):\n\n    for i in range(n):\n\n        # Create a new process with a new nested object that should be optimized\n        p = Process(target = optimizeAlgoritm, args = (SupportStructure(SupportType.Monopile), qOut))\n        processes.append(p)\n        p.deamon = True\n        p.start()\n\n# Part the main thread is running        \nif __name__ == '__main__':\n\n    qOut = Queue()\n    processes = []\n\n    # Run the code on 6 processes\n    getOptimumalObject(6)\n\n    for i in range(len(processes)):\n        processes[i].join()\n\n    # Get the best optimized object and print the resulting value\n    minimum = 1000000000000000000000000.\n\n    while not qOut.empty():\n\n        optimizeObject = qOut.get()\n\n        if optimizeObject.GetTotalMass() &lt; minimum:\n\n            bestObject = optimizeObject\n            minumum = optimizeObject.GetTotalMass()\n\n    print(bestObject.GetTotalMass())\n</code></pre>\n\n<p>This code works as long as I only use 4 processes. If I run more than 4, say 6 as in the example, two processes will get stuck at the end of the code and the code will never stop running as the main thread is still stuck at the <code>processes[i].join()</code>. I think the two processes have a problem in the <code>qOut.put()</code> in the optimizeAlgorithm. When I remove the <code>qOut.put()</code> the code exits giving the error that bestObject doesn't exists, as expected. However, the strange thing is that if I print, for example, the objects minimum after the <code>qOut.put()</code> it will print it, but the process will stay stay alive using 0% of my CPU. This forces the main code to stay alive as well.</p>\n\n<p>I'm quite new to the multiprocessing and a read that OOP and multiprocessing don't always work very well hand in hand. Am I using a wrong approach here? It is kind of frustrating as it almost works, but isn't working for more than 4 processes.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "python-2.7", "python-3.x", "psycopg2"], "comments": [{"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498682375, "post_id": 44812069, "comment_id": 76604904, "body": "pass tuple: <code>c.execute(create_user_sql, (user_id,))</code>"}, {"owner": {"reputation": 109, "user_id": 3646699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f22c9d3b8c32256495e3b6024135ebe?s=128&d=identicon&r=PG&f=1", "display_name": "user3646699", "link": "https://stackoverflow.com/users/3646699/user3646699"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498736777, "post_id": 44812069, "comment_id": 76628275, "body": "Tried <code>[user_id]</code>, <code>(user_id,)</code>,<code>[user_id,]</code> still getting the same error"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498740345, "post_id": 44812069, "comment_id": 76631129, "body": "per chance, is the password provided contains percent chars?"}, {"owner": {"reputation": 109, "user_id": 3646699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f22c9d3b8c32256495e3b6024135ebe?s=128&d=identicon&r=PG&f=1", "display_name": "user3646699", "link": "https://stackoverflow.com/users/3646699/user3646699"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498763172, "post_id": 44812069, "comment_id": 76646779, "body": "yup, i ended up doing it the following way <code>create_user_sql=&quot;create user &quot;+ user_id + &quot; with password &#39;Xx12345678&#39; in group test_group;&quot;         print (create_user_sql)         c.execute(create_user_sql)</code> which is not the best way, but it work"}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498764856, "post_id": 44812069, "comment_id": 76647656, "body": "<code>c.execute(create_user_sql % user_id)</code> would be better in that case."}, {"owner": {"reputation": 109, "user_id": 3646699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f22c9d3b8c32256495e3b6024135ebe?s=128&d=identicon&r=PG&f=1", "display_name": "user3646699", "link": "https://stackoverflow.com/users/3646699/user3646699"}, "reply_to_user": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "edited": false, "score": 0, "creation_date": 1498825153, "post_id": 44812069, "comment_id": 76672900, "body": "<code>c.execute(create_user_sql % user_id)</code> works. Thanks"}], "owner": {"reputation": 109, "user_id": 3646699, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f22c9d3b8c32256495e3b6024135ebe?s=128&d=identicon&r=PG&f=1", "display_name": "user3646699", "link": "https://stackoverflow.com/users/3646699/user3646699"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1498682410, "answer_count": 0, "score": 0, "last_activity_date": 1498682044, "creation_date": 1498682044, "question_id": 44812069, "link": "https://stackoverflow.com/questions/44812069/typeerror-not-all-arguments-converted-during-string-formatting-while-execute-sq", "closed_reason": "Duplicate", "title": "TypeError: not all arguments converted during string formatting while execute SQL", "body": "<p>I am getting the following error</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):\n    File \"create_user.py\", line 18, in create_user\n      c.execute(create_user_sql, user_id)\n  TypeError: not all arguments converted during string formatting</p>\n</blockquote>\n\n<p>while i run this </p>\n\n<pre><code>import psycopg2\nimport sys\nif __name__ == '__main__':\n    user_id=sys.argv[1]\n    c = conn.cursor()\n        create_user_sql=\"create user %s with password 'Xx12345678' in group test_group;\"\n        c.execute(create_user_sql, user_id)\n</code></pre>\n\n<p>I have tried to use <code>%user_id</code> instead. Any idea?</p>\n"}, {"tags": ["python", "regex", "machine-learning", "ocr", "tesseract"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1498682455, "post_id": 44812039, "comment_id": 76604941, "body": "Why not just duplicate a directory of images, then run it through tesrak to make a duplicate list. Or, just run a directory through twice."}, {"owner": {"reputation": 1606, "user_id": 7242490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/259444dba6bc0f46688d3522a93cd82c?s=128&d=identicon&r=PG&f=1", "display_name": "bli00", "link": "https://stackoverflow.com/users/7242490/bli00"}, "edited": false, "score": 0, "creation_date": 1498682816, "post_id": 44812039, "comment_id": 76605105, "body": "it produce the same output everytime though"}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1498683090, "post_id": 44812039, "comment_id": 76605240, "body": "What kind of other problem do you get? Are the receipts after OCR not separated? Or, does the OCR insert a blank line where it should? You have to think about this more, what are it&#39;s limitations, etc.. Look at the micro parts to see what&#39;s doable on a macro scale."}], "answers": [{"tags": [], "owner": {"reputation": 27168, "user_id": 7355741, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CMNt.jpg?s=128&g=1", "display_name": "fmw42", "link": "https://stackoverflow.com/users/7355741/fmw42"}, "is_accepted": true, "score": 3, "last_activity_date": 1498702757, "last_edit_date": 1498702757, "creation_date": 1498691713, "answer_id": 44813965, "question_id": 44812039, "link": "https://stackoverflow.com/questions/44812039/receipt-reading-using-tesserocr/44813965#44813965", "title": "Receipt reading using TesserOCR", "body": "<p>If you can use ImageMagick and are on a Unix-like system (Linux, MacOSX, Windows w/Cygwin or Windows 10 unix environment), then you could try my bash shell scripts, textdeskew and textcleaner at <a href=\"http://www.fmwconcepts.com/imagemagick/index.php\" rel=\"nofollow noreferrer\">http://www.fmwconcepts.com/imagemagick/index.php</a>. For example:</p>\n\n<pre><code>textdeskew input.jpg deskew.png\n</code></pre>\n\n<p><a href=\"http://www.fmwconcepts.com/misc_tests/text_clean/deskew.png\" rel=\"nofollow noreferrer\" title=\"deskew result\">deskew result</a></p>\n\n<p>and then</p>\n\n<pre><code>textcleaner -f 25 -o 10 -g -e normalize -s 1 deskew.png deskew_clean.png\n</code></pre>\n\n<p><a href=\"http://www.fmwconcepts.com/misc_tests/text_clean/deskew_clean.png\" rel=\"nofollow noreferrer\">deskew and clean result</a></p>\n\n<p>Or on any OS in ImageMagick, just use -deskew and -lat:</p>\n\n<pre><code>convert input.jpg -deskew 40% input_deskew.png\n</code></pre>\n\n<p><a href=\"http://www.fmwconcepts.com/misc_tests/text_clean/input_deskew.png\" rel=\"nofollow noreferrer\">Imagemagick deskew result</a></p>\n\n<pre><code>convert input_deskew.png -negate -lat 25x25+10% -negate input_deskew_lat.png\n</code></pre>\n\n<p><a href=\"http://www.fmwconcepts.com/misc_tests/text_clean/input_deskew_lat.png\" rel=\"nofollow noreferrer\">Imagemagick deskew and lat result </a> </p>\n\n<p>Or run them together as:</p>\n\n<pre><code>convert input.jpg -deskew 40% -negate -lat 25x25+10% -negate input_deskew_lat.png\n</code></pre>\n\n<p>Do any of those help your OCR?</p>\n"}], "owner": {"reputation": 1606, "user_id": 7242490, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/259444dba6bc0f46688d3522a93cd82c?s=128&d=identicon&r=PG&f=1", "display_name": "bli00", "link": "https://stackoverflow.com/users/7242490/bli00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2379, "favorite_count": 1, "accepted_answer_id": 44813965, "answer_count": 1, "score": 0, "last_activity_date": 1498702757, "creation_date": 1498681922, "question_id": 44812039, "link": "https://stackoverflow.com/questions/44812039/receipt-reading-using-tesserocr", "title": "Receipt reading using TesserOCR", "body": "<p>My roomates and I are tired of manually splitting receipts everytime we go grocery shopping (specially Costco), so I want to make a receipt splitter using image recognition.</p>\n\n<p>I'm using <a href=\"https://github.com/sirfz/tesserocr\" rel=\"nofollow noreferrer\">Tesserocr</a> for python to convert pictures of the receipt into text, then match the text using regex and do calculations from there. The problem is that tesseract does a terrible job at converting image to text. Here's is a picture of one of our <a href=\"https://i.imgur.com/HmOG0pj.jpg\" rel=\"nofollow noreferrer\">receipt</a>, and here's the output after using <code>api.SetImageFile(img)</code> and <code>api.GetUTF8Text()</code>:</p>\n\n<pre><code>\u201dWm-\nBelfsville #214j\n|0925 Balfimore Rve. (R1.\nBelfsvlll B, MD 20705\n4P Member 111869052983\nE 1952 SNEET8SRTLY 11.79\nE 0000165287 CPN/1952 3.80\u201c\nE 1952 SNEET&amp;SHTLY 11.79\nE 0000165287 CPN/1952 3.80-\n87745 ROTISSERIE 4.99 H\n1 5597 BLUEBERRIES 6.99\nE. 5597 BIUEBERRIES 6.99\nE. 979210 CHOC MRNGOS 9.99 H\nF\u2018 24311 VHR. MUFFIN 7.99\n1 1060788 PRETZELCRISP 6.89\n87745 ROTISSERIE 4.99 H\n- 87745 ROTISSERIE 4.99 H\nEZ 71096 RED DEL 7.99\nEl 1027557 KOREHNNOODLE 8.79\nEi 382861 KS IN CK BST 16.79\n[S 91610 FROSTED FLKS 6.79\n[3 11422 3 YR CHDR 12_27\n[5 46849 SESNDPRKTEND 12.55\nSUBTOTRL 13 _\nTHX 1,33\nxu** TOTAL IIIIIIIBEEIH\ufb02I\nxxxxx XXXXXXX4540 CHIP Read\n</code></pre>\n\n<p>You can see that the output is kind of hard to work with. It reads \"A\" as \"H\" and sometimes reads \"E\" as \"F\" or other random stuff. I think I have two options:</p>\n\n<ol>\n<li><p>Somehow train tesseract to read the receipts better, but I have no previous experience with machine learning. I tried to read up on <a href=\"https://github.com/tesseract-ocr/tesseract/wiki/TrainingTesseract-4.00\" rel=\"nofollow noreferrer\">Tesseract's trainning guide</a>, but there's a lot of technicalities I'm not familar with. I'd imagine the actual process is not difficult though, since the images I'm reading are very specific.</p></li>\n<li><p>Take multiple pictures of the recipt, use something like <a href=\"http://www.fmwconcepts.com/imagemagick/index.php\" rel=\"nofollow noreferrer\">Fred's ImageMagick Scripts</a>, put all the pictures through different filters, put all permutation of the pictures through tesseract and consolidate a result. The problem with this is 1) I'm not sure how the consolidation can be done. It would be difficult with regex. And 2) I imagine there will still be base line issues, like reading \"A\" as \"H\".</p></li>\n</ol>\n\n<p>Can anyone help me with either of these options; point me to the path to get this done? Or enlighten me on another approach I can try?</p>\n"}, {"tags": ["python", "selenium"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498682704, "post_id": 44812032, "comment_id": 76605056, "body": "Why are you using <code>exec</code>?"}, {"owner": {"reputation": 5903, "user_id": 3908170, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/vou9q.jpg?s=128&g=1", "display_name": "DarkCygnus", "link": "https://stackoverflow.com/users/3908170/darkcygnus"}, "edited": false, "score": 0, "creation_date": 1498683845, "post_id": 44812032, "comment_id": 76605629, "body": "Please reformat your question for a better readability and add more code so other users can help you better. Also, read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}], "owner": {"reputation": 11, "user_id": 8110885, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh3.googleusercontent.com/-7zQZlTIUxqM/AAAAAAAAAAI/AAAAAAAAAqc/-JvS-xa1xxc/photo.jpg?sz=128", "display_name": "MrCoInSanity", "link": "https://stackoverflow.com/users/8110885/mrcoinsanity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498733244, "creation_date": 1498681899, "last_edit_date": 1498733244, "question_id": 44812032, "link": "https://stackoverflow.com/questions/44812032/selenium-python-exec-issue", "title": "(Selenium/Python) exec Issue", "body": "<p>I've run into a small problem, basically, I'm trying to exec URL what is a variable. the variable is <code>driver.get(\"https://www.youtube.com\")</code> this is my code           </p>\n\n<pre><code>URL = driver.get(https://www.youtube.com)\n</code></pre>\n\n<p>but i keep this error in the output console when i try to exec URL                                                       </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Users\\MrCoInSanity\\Desktop\\python scripts\\Youtube Bot\\Youtube bot.py\", line 66, in &lt;module&gt;\n    exec URL\nTypeError: exec: arg 1 must be a string, file, or code object\n</code></pre>\n\n<p>Anyways thanks for your time :)                                          </p>\n"}, {"tags": ["python", "vb.net", "execute"], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7877793"}, "is_accepted": false, "score": 0, "last_activity_date": 1498814893, "creation_date": 1498814893, "answer_id": 44843112, "question_id": 44812023, "link": "https://stackoverflow.com/questions/44812023/shell-command-not-executing-my-py-file-from-vb-net/44843112#44843112", "title": "Shell command not executing my .py file from vb.net", "body": "<p>The code you are using should work fine. But this worked for me</p>\n\n<pre><code>Shell(\"py C:\\fakepath\\xyz.py\")\n</code></pre>\n\n<p>If py is not in your PATH environment you can find it at C:\\Windows\\py.exe</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2707356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f8678e61defd0b65c329945ba9f560?s=128&d=identicon&r=PG&f=1", "display_name": "BathAndy", "link": "https://stackoverflow.com/users/2707356/bathandy"}, "is_accepted": false, "score": 0, "last_activity_date": 1498815083, "creation_date": 1498815083, "answer_id": 44843180, "question_id": 44812023, "link": "https://stackoverflow.com/questions/44812023/shell-command-not-executing-my-py-file-from-vb-net/44843180#44843180", "title": "Shell command not executing my .py file from vb.net", "body": "<p>It works for me.\nFirst a python3 script to generate a csv file:</p>\n\n<pre><code>import csv\nwith open('order.csv', 'w', newline='') as csvfile:\n    writer = csv.writer(csvfile, delimiter=',')\n    writer.writerow(['name', 'amount'])\n    writer.writerow(['ham', '3'])\n    writer.writerow(['egg', '2'])\nexit(1)\n</code></pre>\n\n<p>Then a vb app to call the python script and read the generated csv file:</p>\n\n<pre><code>Imports System.IO\nModule App\n    Sub Main()\n        Process.Start(\"C:\\Projects\\PythonVbInterop\\PythonVbInterop\\script.py\").WaitForExit()\n        For Each line In File.ReadAllLines(\"Order.csv\")\n            Console.WriteLine(line)\n        Next\n    End Sub\nEnd Module\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8228339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8931f4037d0ad0a6b6c11afbf58ed9ff?s=128&d=identicon&r=PG&f=1", "display_name": "Clive", "link": "https://stackoverflow.com/users/8228339/clive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498815083, "creation_date": 1498681878, "last_edit_date": 1498683284, "question_id": 44812023, "link": "https://stackoverflow.com/questions/44812023/shell-command-not-executing-my-py-file-from-vb-net", "title": "Shell command not executing my .py file from vb.net", "body": "<p>I wonder if anyone can point me in the right direction.\nI am trying to write a <code>VB</code> application that runs a simple python program of about 10 lines , then is supposed to return to <code>VB</code> and wait for the excel file that <code>xyz.py</code> created to read a cell from it. </p>\n\n<p><strong>Problem</strong> I cannot get the file to execute.</p>\n\n<p>I have tried </p>\n\n<pre><code> Shell(\"C:\\Users\\Clive\\AppData\\Local\\Programs\\Python\\Python36\\python.exe C:\\Users\\Clive\\Documents\\xyz.py\") \n</code></pre>\n\n<p>also:</p>\n\n<pre><code> System.Diagnostics.Process.Start(\"C:\\Users\\Clive\\Documents\\xyz.py\") \n</code></pre>\n\n<p>none of these work.\nbefore we carry on double clicking <code>xyz.py</code> gives me a correct result as well as running from the command line.\nAm I missing a reference or something?</p>\n\n<p>thanks in advance!</p>\n\n<p>Clive</p>\n"}, {"tags": ["python", "dictionary"], "comments": [{"owner": {"reputation": 72748, "user_id": 3185459, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PBjxg.jpg?s=128&g=1", "display_name": "RomanPerekhrest", "link": "https://stackoverflow.com/users/3185459/romanperekhrest"}, "edited": false, "score": 3, "creation_date": 1498681815, "post_id": 44811979, "comment_id": 76604624, "body": "post the input list and expected result"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498682277, "post_id": 44811979, "comment_id": 76604851, "body": "What output do you want if the largest and smallest values <i>do</i> correspond to the same key?"}, {"owner": {"reputation": 179, "user_id": 1914609, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9e8baef80e0562ee134dd67e8c70e471?s=128&d=identicon&r=PG", "display_name": "codeAligned", "link": "https://stackoverflow.com/users/1914609/codealigned"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498682431, "post_id": 44811979, "comment_id": 76604933, "body": "@user2357112 I want get the max first, then get the minimum and require that the minimum not have the same key as the max."}], "answers": [{"tags": [], "owner": {"reputation": 63658, "user_id": 5014455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JTknr.png?s=128&g=1", "display_name": "juanpa.arrivillaga", "link": "https://stackoverflow.com/users/5014455/juanpa-arrivillaga"}, "is_accepted": false, "score": 1, "last_activity_date": 1498685798, "last_edit_date": 1498685798, "creation_date": 1498684954, "answer_id": 44812760, "question_id": 44811979, "link": "https://stackoverflow.com/questions/44811979/find-the-max-and-min-values-in-a-python-dictionary-with-requirement-that-they-b/44812760#44812760", "title": "Find the max and min values in a python dictionary, with requirement that they belong to distinct keys", "body": "<p>So you <em>say</em> you are working with a dictionary, but your sample input is actually a list of lists. Translating your requirements in the most straightforward way, we can achieve this in two passes:</p>\n\n<blockquote>\n  <p>Find the max in the values first, then find the minimum and require\n  that the minimum not have the same key as the max.</p>\n</blockquote>\n\n<pre><code>&gt;&gt;&gt; from operator import itemgetter\n&gt;&gt;&gt; l = [[1, 3, 4], [0, 2, 5]]\n&gt;&gt;&gt; flattened = ((i, e) for i, sub in enumerate(l) for e in sub)\n&gt;&gt;&gt; max_idx, maxval = max(flattened, key=itemgetter(1))\n&gt;&gt;&gt; minval = min(e for i, sub in enumerate(l) if i != max_idx for e in sub)\n&gt;&gt;&gt; print(\"Max:\", maxval, \"Min:\", minval)\nMax: 5 Min: 1\n</code></pre>\n\n<p>The above is essentially equivalent to the following:</p>\n\n<pre><code>&gt;&gt;&gt; l = [[1, 3, 4], [0, 2, 5]]\n&gt;&gt;&gt; maxval = float('-inf')\n&gt;&gt;&gt; max_idx = 0\n&gt;&gt;&gt; for i, sub in enumerate(l):\n...     for e in sub:\n...         if e &gt; maxval:\n...             maxval = e\n...             max_idx = i\n...\n&gt;&gt;&gt; minval = float('inf')\n&gt;&gt;&gt; for i, sub in enumerate(l):\n...     if i != max_idx:\n...         for e in sub:\n...             if e &lt; minval:\n...                 minval = e\n...\n&gt;&gt;&gt; print(\"Max:\", maxval, \"Min:\", minval)\nMax: 5 Min: 1\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 1914609, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/9e8baef80e0562ee134dd67e8c70e471?s=128&d=identicon&r=PG", "display_name": "codeAligned", "link": "https://stackoverflow.com/users/1914609/codealigned"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1498685798, "creation_date": 1498681708, "last_edit_date": 1498682318, "question_id": 44811979, "link": "https://stackoverflow.com/questions/44811979/find-the-max-and-min-values-in-a-python-dictionary-with-requirement-that-they-b", "title": "Find the max and min values in a python dictionary, with requirement that they belong to distinct keys", "body": "<p>I am iterating through a list of lists and recording the max and min value of each list.\nI have the following code which stores the max value and min value of a list using the index of the array as the key. </p>\n\n<pre class=\"lang-python prettyprint-override\"><code>def maxAndMin( arrays):\n        i=0\n        d= {}\n        for a in arrays:\n            maxNum = max(a)\n            minNum = min(a)\n            d[i] = [minNum, maxNum]\n            i+=1 \n        print d\n</code></pre>\n\n<p>I want to find the largest value in the dictionary and also the smallest value with the requirement that they are mapped to from different keys (not found in the same array). Cannot find a working solution yet.</p>\n\n<p>Edit: Input: [[1, 3, 4], [0, 2, 5]]. Want to return max=5, min=1 or max=4, min=0. Not max=5, min=0, since 5 and 0 are in the same list. </p>\n\n<p>Edit2: Find the max in the values first, then find the minimum and require that the minimum not have the same key as the max.</p>\n"}, {"tags": ["python", "recursion", "try-catch", "except"], "answers": [{"tags": [], "owner": {"reputation": 206, "user_id": 8217247, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e94d8941c3246d6b004e33dc67e33c8?s=128&d=identicon&r=PG&f=1", "display_name": "mugwump", "link": "https://stackoverflow.com/users/8217247/mugwump"}, "is_accepted": true, "score": 0, "last_activity_date": 1498682622, "creation_date": 1498682622, "answer_id": 44812226, "question_id": 44811974, "link": "https://stackoverflow.com/questions/44811974/dna-sequence-alignment-in-python-making-a-cleaner-except-block/44812226#44812226", "title": "DNA Sequence Alignment in Python, Making a Cleaner Except Block", "body": "<p>Two ways you can easily do this:</p>\n\n<ul>\n<li>Assign variables <code>x_orig = x</code> and <code>y_orig = y</code> in your function as the first\nlines then calling <code>x_orig</code> and <code>y_orig</code> in the except block.</li>\n<li>Make <code>STRAND_X</code> and <code>STRAND_Y</code> global constants outside the function\nscope, call the function with the constants as arguments, manipulate\nthe local variables <code>x</code> and <code>y</code> in the try block, and then refer to the\nglobal constants in the except block.</li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7792600"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "accepted_answer_id": 44812226, "answer_count": 1, "score": 0, "last_activity_date": 1498682622, "creation_date": 1498681684, "question_id": 44811974, "link": "https://stackoverflow.com/questions/44811974/dna-sequence-alignment-in-python-making-a-cleaner-except-block", "title": "DNA Sequence Alignment in Python, Making a Cleaner Except Block", "body": "<p>I'm writing a program in which you enter a short DNA sequence and a long one, and it tries to return the best possible alignment of the DNA sequences. The criteria are that if there is a gap, you subtract 10, if there is a match, you add 1, and if there is a mismatch, you subtract 1. \nThe first part of my program scores the alignment, which works recursively by consistently deleting the first element of a long sequence and then scoring the alignment. My problem is that my except block is very ugly. Is there a way such that I can call back the original x before I continuously deleted elements from it? </p>\n\n<pre><code>lst=[]\ndef align_score(x,y):\n    gap_score=(len(x)-len(y))*(-10)\n    match_score=0\n    mismatch_score=0\n    ref=0\n    try:\n        for base in y:\n            if y[ref]==x[ref]:\n                match_score+=1\n                ref+=1\n            else:\n                mismatch_score-=1\n                ref+=1\n        a=gap_score+match_score+mismatch_score\n        lst.append(a)\n        del(x[0])\n        align_score(x,y)\n    except:\n        z=lst.index(max(lst))\n        x='ACGTCCTTCATT'\n        print x\n        y='GTCTCATG'\n        print \"%s%s\"%(\" \"*z, y)\n\nx=list('ACGTCCTTCATT')\ny=list('GTCTCATG')\nalign_score(x,y)\n</code></pre>\n"}, {"tags": ["python", "list", "python-3.x", "class"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1498681376, "post_id": 44811823, "comment_id": 76604355, "body": "<i>&quot;best&quot;</i> how, exactly? Does it matter whether or not it&#39;s destructive of the previous list (some of your suggestions are, some aren&#39;t). And why not just pick one and spend your time on something else more useful?"}, {"owner": {"reputation": 1415, "user_id": 8034149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8494340f27a5deedab7e35f956df63e1?s=128&d=identicon&r=PG&f=1", "display_name": "victor", "link": "https://stackoverflow.com/users/8034149/victor"}, "edited": false, "score": 0, "creation_date": 1498681429, "post_id": 44811823, "comment_id": 76604391, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2612802/how-to-clone-or-copy-a-list\">How to clone or copy a list?</a>"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1498681507, "post_id": 44811823, "comment_id": 76604444, "body": "Which <i>&quot;people&quot;</i>? Why not ask <i>them</i> which they&#39;d prefer? Or use <a href=\"https://codereview.stackexchange.com\">Code Review</a> once you have something more practical together?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1498681985, "post_id": 44811823, "comment_id": 76604710, "body": "You certainly need to provide <i>context</i>. To decide which is better you need to specify <i>criteria</i>, otherwise it&#39;s just an opinion. If it&#39;s just <i>&quot;which one would [random SO user] prefer&quot;</i>, then who can say but them?"}], "answers": [{"tags": [], "owner": {"reputation": 7083, "user_id": 4211135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70fd7db022a4fc71ad40335fce1e750e?s=128&d=identicon&r=PG&f=1", "display_name": "brianpck", "link": "https://stackoverflow.com/users/4211135/brianpck"}, "is_accepted": false, "score": 1, "last_activity_date": 1498681415, "creation_date": 1498681415, "answer_id": 44811919, "question_id": 44811823, "link": "https://stackoverflow.com/questions/44811823/shallow-copy-list-of-objects/44811919#44811919", "title": "Shallow copy list of objects", "body": "<p>Adding a dictionary obscures the use case. Based on your examples, it's not clear if you want a <em>copy</em> of the object or a list referencing the <em>same</em> objects.</p>\n\n<p>Assuming the latter, consider the simplified case. It's really as simple as assigning the list to another variable:</p>\n\n<pre><code>&gt;&gt;&gt; class MyObject(object):\n...     def __init__(self, v):\n...         self.value = v\n...\n&gt;&gt;&gt; x = [MyObject(1), MyObject(2)]\n&gt;&gt;&gt; y = x\n&gt;&gt;&gt; x[1].value\n2\n</code></pre>\n\n<p>Now, both <code>x</code> and <code>y</code> are a list of the same referenced objects. If I change the object in one list, it will change in the other:</p>\n\n<pre><code>&gt;&gt;&gt; y[1].value = 3\n&gt;&gt;&gt; x[1].value\n3\n</code></pre>\n\n<p>In your use case (a dictionary with list values), this is quite simple:</p>\n\n<pre><code>d[2] = d[1]\n</code></pre>\n\n<p>You can then delete the <code>1</code> key if necessary:</p>\n\n<pre><code>del d[1]\n</code></pre>\n\n<p>Voila!</p>\n"}, {"tags": [], "owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "is_accepted": true, "score": 3, "last_activity_date": 1498681495, "creation_date": 1498681495, "answer_id": 44811942, "question_id": 44811823, "link": "https://stackoverflow.com/questions/44811823/shallow-copy-list-of-objects/44811942#44811942", "title": "Shallow copy list of objects", "body": "<p>Which approach is best depends a bit on the details of the surrounding code. Does any other variable or data structure contain a reference to either of your lists? If not, you can just rebind the references in the dict (which takes <code>O(1)</code> time since no copying happens):</p>\n\n<pre><code>d = {1: [MyObject(\"obj1\"),MyObject(\"obj2\")], 2: []}\nd[2] = d[1]\nd[1] = []\n</code></pre>\n\n<p>If other references to the existing lists might exist and you want them to continue referring to the correct values (e.g. an old reference to <code>d[1]</code> should still reference <code>d[1]</code> after the changes), then you want to do a slice assignment followed by a clear (this is <code>O(N)</code>):</p>\n\n<pre><code>d[2][:] = d[1] # copy data\nd[1].clear()\n</code></pre>\n\n<p>I don't think there's a good reason to use any other approach unless you have some other logic to apply (for instance, if you only want to copy some of the values and not others).</p>\n"}], "owner": {"reputation": 1493, "user_id": 7655687, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/vPZ8L.jpg?s=128&g=1", "display_name": "ragardner", "link": "https://stackoverflow.com/users/7655687/ragardner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 188, "favorite_count": 0, "accepted_answer_id": 44811942, "answer_count": 2, "score": 0, "last_activity_date": 1498682044, "creation_date": 1498681046, "last_edit_date": 1498682044, "question_id": 44811823, "link": "https://stackoverflow.com/questions/44811823/shallow-copy-list-of-objects", "title": "Shallow copy list of objects", "body": "<p>What would be the best way to transfer references of objects from one list to another (move objects from one list to another). For clarity, I need to remove the objects from <code>d[1]</code> after copying</p>\n\n<pre><code>class MyObject:\n    def __init__(self,v):\n        self.value = v\n\nd = {1: [MyObject(\"obj1\"),MyObject(\"obj2\")], 2: []}\n\n#which one?\n#d[2] = [obj for obj in d[1]]\n\n#d[2] = d[1][:]\n\n#d[2] = d[1].copy()\n\n#clear d[1]\n#d[1] = []\n\nfor i in range(len(d[1])):\n    d[2].append(d[1].pop(0))\n\nfor o in d[2]:\n    print (o.value)\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "tkinter"], "comments": [{"owner": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 0, "creation_date": 1498681486, "post_id": 44811820, "comment_id": 76604421, "body": "You repeat this statement in each file <code>root=Tk()</code>, which creates multiple tk instances, with multiple root windows. Remove the one from clinic.py probably."}, {"owner": {"reputation": 71, "user_id": 8043561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ada5ed4edc7937e03079a12d89709941?s=128&d=identicon&r=PG&f=1", "display_name": "lu_laude", "link": "https://stackoverflow.com/users/8043561/lu-laude"}, "reply_to_user": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 0, "creation_date": 1498682565, "post_id": 44811820, "comment_id": 76604981, "body": "@Ron Norris I did that before. Placed it inside the main_page function cause when i delete it i get an error saying root is not defined. But there is still a window showing up when i click save button."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 8043561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ada5ed4edc7937e03079a12d89709941?s=128&d=identicon&r=PG&f=1", "display_name": "lu_laude", "link": "https://stackoverflow.com/users/8043561/lu-laude"}, "edited": false, "score": 0, "creation_date": 1498698857, "post_id": 44812347, "comment_id": 76610114, "body": "im sorry but i dont quite understand the last part about passing the reference to root. Do i need to connect <code>root</code> from the main file to clinic.py?"}, {"owner": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 0, "creation_date": 1498700111, "post_id": 44812347, "comment_id": 76610384, "body": "Specifically, in the first file, you have <code>clinic1.main_page()</code>. And main_page refers to the root variable when it creates frame1. But once you remove the (2nd) root = Tk() call, root will no longer exist in your clinic1.py file and references to root will therefore throw exceptions unless you pass root in from the first file calls. So you <i>could</i> change the definition to <code>def main_page(root)</code> and from the first file, call <code>clinic1.main_page(root)</code>."}, {"owner": {"reputation": 71, "user_id": 8043561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ada5ed4edc7937e03079a12d89709941?s=128&d=identicon&r=PG&f=1", "display_name": "lu_laude", "link": "https://stackoverflow.com/users/8043561/lu-laude"}, "reply_to_user": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "edited": false, "score": 0, "creation_date": 1498736647, "post_id": 44812347, "comment_id": 76628163, "body": "@Ron Norris tried what you said. First attempt nothing happened. Then figured i need to call the main_page function in clinic1.py however i get an error saying <code>main_page() missing 1 required positional argument: &#39;root&#39;</code> I tried placing root inside the parenthesis and it says <code>&#39;root&#39; is not defined</code>"}], "tags": [], "owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "is_accepted": false, "score": 2, "last_activity_date": 1498683137, "creation_date": 1498683137, "answer_id": 44812347, "question_id": 44811820, "link": "https://stackoverflow.com/questions/44811820/an-unexpected-window-appears-in-tkinter-python/44812347#44812347", "title": "An unexpected window appears in tkinter python", "body": "<p>Both files have this line of code:</p>\n\n<pre><code>root = Tk() \n</code></pre>\n\n<p>Each time you do that, you get another root window. A tkinter application needs to have exactly one instance of <code>Tk</code> running at a time. </p>\n\n<p>You need to remove the last two lines from clinic1.py. You will also need to pass in the reference to <code>root</code> to any methods from clinic1.py that need it. </p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 8043561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ada5ed4edc7937e03079a12d89709941?s=128&d=identicon&r=PG&f=1", "display_name": "lu_laude", "link": "https://stackoverflow.com/users/8043561/lu-laude"}, "edited": false, "score": 0, "creation_date": 1498744515, "post_id": 44825195, "comment_id": 76634511, "body": "thank you very much for taking the time to make this. I really appreciate you effort. Additional question though. Is it possible to use lambda on a label and bind it on a mouse click rather than command on a button?"}], "tags": [], "owner": {"reputation": 2294, "user_id": 8093469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fed3a09558b9d41e3cedbd025588b5ec?s=128&d=identicon&r=PG", "display_name": "Ron Norris", "link": "https://stackoverflow.com/users/8093469/ron-norris"}, "is_accepted": false, "score": 0, "last_activity_date": 1498739342, "creation_date": 1498739342, "answer_id": 44825195, "question_id": 44811820, "link": "https://stackoverflow.com/questions/44811820/an-unexpected-window-appears-in-tkinter-python/44825195#44825195", "title": "An unexpected window appears in tkinter python", "body": "<p>First file.</p>\n\n<pre><code>from tkinter import * \nfrom tkinter import ttk \nimport tkinter.messagebox\n\nlarge_font = ('Verdana',12)       \nstoredusername =['foo']\nstoredpass=['123']\nstoredretype=[]\nlist_of_users=storedusername \nlist_of_passwords=storedpass\n\n\ndef all_clinic_frames(event):\n    combo_clinic=combo.get()\n    if combo_clinic == 'Clinic 1':\n        enter()\n\nroot = Tk() \nroot.geometry('800x600') \nroot.title('CSSD') \ntopFrame=Frame(root,width=800,height=100,padx=310) \narea=Label(topFrame,text='CSSD') \narea.config(font=(\"Courier\", 50)) \nframe=Frame(root,highlightbackground=\"black\", highlightcolor=\"black\", highlightthickness=1, width=100, height=100, bd= 0) \nframe.place(relx=.5, rely=.5, anchor=\"center\")\n\nmyvar=StringVar()\nusername = Label(frame, text='User Name')\nusername.config(font='Arial',width=15)\npassword = Label(frame, text='Password')\npassword.config(font='Arial',width=15)\nenteruser = Entry(frame, textvariable=myvar, font=large_font)\npass1=StringVar()\nenterpass = Entry(frame, show='*', textvariable=pass1, font=large_font)\ncombo_choice=StringVar() \ncombo=ttk.Combobox(frame,textvariable=combo_choice) \ncombo['values']=[('Clinic 1')]\ncombo.state(['readonly']) \ncombo.grid(row=0,sticky=NW) \ncombo.set('Choose Area...') \ncombo.bind('&lt;&lt;ComboboxSelected&gt;&gt;',all_clinic_frames)\n\ntopFrame.grid(row=0,sticky=N)\ntopFrame.grid_propagate(False)\narea.grid(row=0,column=1,sticky=N)\nusername.grid(row=1, sticky=E)\nenteruser.grid(row=1, column=1)\npassword.grid(row=2, sticky=E)\nenterpass.grid(row=2, column=1)\n\ndef valid():\n    usernameRight=enteruser.get()\n    passwordRight=enterpass.get()\n    while True:\n         try:\n            if (usernameRight==list_of_users[0]) and (passwordRight==list_of_passwords[0]):\n               import clinic1\n               clinic1.main_page(root)\n#               quit()\n               break\n         except IndexError:\n            invalid = Label(frame, text='User name or Password is incorrect!', fg='red')\n            invalid.grid(row=3, columnspan=2)\n            break\n\ndef enter():\n    register = Button(frame, text='Sign In',relief=RAISED,fg='white',bg='red',command=valid)\n    register.grid(row=3,column=1,ipadx=15,sticky=E)\n\ndef quit():\n    root.destroy()\n\nroot.mainloop()\n</code></pre>\n\n<p>clinic1.py</p>\n\n<pre><code>from tkinter import*\nimport tkinter.messagebox\n\nnewInstList=[]\n\ndef addItem(root, event=None):\n    global back_add,quantityentry,itemEntry,itemEntry1,quantityentry1\n    if event is None:\n        event = Event()\n    itemFrameTop=Frame(root, width=800, height=100, bg='pink')\n    itemFrameTop.grid_propagate(False)\n    itemFrameTop.grid(row=0)\n    area1_item = Label(itemFrameTop, text='CSSD', pady=5,padx=230)\n    area1_item.config(font=(\"Courier\", 30))\n    area1_item.grid_propagate(False)\n    area1_item.grid(row=0,column=1,sticky=NE)\n    clinic_1 = Label(itemFrameTop, text='Clinic 1', bg='red', fg='white', bd=5)\n    clinic_1.config(font=(\"Courier\", 15))\n    clinic_1.grid_propagate(False)\n    clinic_1.grid(row=1, sticky=W,padx=10)\n    itemFrameMid=Frame(root,width=700,height=600,bg='blue')\n    itemFrameMid.grid_propagate(False)\n    itemFrameMid.grid(row=1)\n    itemname=Label(itemFrameMid,text='Item name:')\n    itemname.config(font=('Arial,15'))\n    itemname.grid_propagate(False)\n    itemname.grid(row=1,sticky=E)\n    quantity=Label(itemFrameMid,text='Qty:')\n    quantity.config(font=('Arial,15'))\n    quantity.grid_propagate(False)\n    quantity.grid(row=1,column=3, sticky=E,padx=10)\n    itemEntry=Entry(itemFrameMid)\n    itemEntry.config(font=('Arial,15'))\n    itemEntry.grid(row=1,column=1,sticky=EW,padx=30,pady=10)\n    itemEntry1 = Entry(itemFrameMid)\n    itemEntry1.config(font=('Arial,15'))\n    itemEntry1.grid(row=2, column=1)\n\n    quantityentry=Entry(itemFrameMid,width=5)\n    quantityentry.config(font=('Arial',15))\n    quantityentry.grid(row=1, column=4)\n    quantityentry1 = Entry(itemFrameMid, width=5)\n    quantityentry1.config(font=('Arial', 15))\n    quantityentry1.grid(row=2, column=4,padx=10)\n\n    \"\"\"When I click save button another small window appears\"\"\"\n    okbutton = Button(itemFrameMid, text='Save', command=lambda: saveCheck(root))\n    okbutton.config(font=('Arial', 12))\n    okbutton.grid(row=3, column=4, padx=15)\n\n    back_add = Label(itemFrameTop, text='Back')\n    back_add.config(font=('Courier,15'))\n    back_add.grid(row=0, sticky=W, padx=30)\n    back_add.bind('&lt;Button-1&gt;', main_page)\n    back_add.bind('&lt;Enter&gt;', red_text_back1)\n    back_add.bind('&lt;Leave&gt;', black_text_back1)\n\ndef saveCheck(root):\n    saveQuestion=tkinter.messagebox.askquestion('CSSD', 'Are you sure you want to save?')\n    if saveQuestion == 'yes':\n        newInstList.append(itemEntry.get())\n        newInstList.append(quantityentry.get())\n        newInstList.append(itemEntry1.get())\n        newInstList.append(quantityentry1.get())\n        print(newInstList)\n        main_page(root)\n    elif saveQuestion == 'no':\n        pass\n\ndef red_text_back1(event=None):\n    back_add.config(fg='red')\n\ndef black_text_back1(event=None):\n    back_add.config(fg='black')\n\ndef red_text_add(event=None):\n    addnew.config(fg='red')\n\ndef black_text_add(event=None):\n    addnew.config(fg='black')\n\ndef main_page(root):\n\n    global addnew,usedInst,logOut\n    frame1 = Frame(root, width=800, height=100,bg='pink')\n    frame1.grid(row=0, column=0, sticky=\"nsew\")\n    frame1.grid_propagate(False)\n    midframe1=Frame(root,width=800,height=600)\n    midframe1.grid_propagate(False)\n    midframe1.grid(row=1)\n\n    area1 = Label(frame1, text='CSSD',pady=5,padx=350)\n    area1.config(font=(\"Courier\", 30))\n    area1.grid(row=0)\n    clinic1=Label(frame1,text='Clinic 1',bg='red',fg='white',bd=5)\n    clinic1.config(font=(\"Courier\", 15))\n    clinic1.grid_propagate(False)\n    clinic1.grid(row=1,sticky=W,padx=10)\n    addnew=Button(midframe1,text='+ Add new item', font=('Arial', 15), command=lambda: addItem(root))\n    addnew.grid(row=2,column=1,sticky=E,ipadx=50)\n#    addnew.bind('&lt;Button-1&gt;', lambda r=root: addItem(r))\n    addnew.bind('&lt;Enter&gt;', red_text_add)\n    addnew.bind('&lt;Leave&gt;', black_text_add)\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 8043561, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ada5ed4edc7937e03079a12d89709941?s=128&d=identicon&r=PG&f=1", "display_name": "lu_laude", "link": "https://stackoverflow.com/users/8043561/lu-laude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498739342, "creation_date": 1498681019, "question_id": 44811820, "link": "https://stackoverflow.com/questions/44811820/an-unexpected-window-appears-in-tkinter-python", "title": "An unexpected window appears in tkinter python", "body": "<p>I made a separate file called clinic1.py for the other code and import it to the main page. Everything works fine however another window appears when I click save button on the add new item page.  </p>\n\n<p>When I place all the code on the main page that small window doesn't appear. \nI cant find whats causing another window to appear when it's in a separate file.</p>\n\n<p>This is my main page:</p>\n\n<pre><code>from tkinter import * \nfrom tkinter import ttk \nimport tkinter.messagebox\n\nlarge_font = ('Verdana',12)       \nstoredusername =['foo'] storedpass=['123'] storedretype=[]\nlist_of_users=storedusername \nlist_of_passwords=storedpass\n\n\ndef all_clinic_frames(event):\n    combo_clinic=combo.get()\n    if combo_clinic == 'Clinic 1':\n        enter()\n\nroot = Tk() \nroot.geometry('800x600') \nroot.title('CSSD') \ntopFrame=Frame(root,width=800,height=100,padx=310) \narea=Label(topFrame,text='CSSD') \narea.config(font=(\"Courier\", 50)) \nframe=Frame(root,highlightbackground=\"black\", highlightcolor=\"black\", highlightthickness=1, width=100, height=100, bd= 0) \nframe.place(relx=.5, rely=.5, anchor=\"center\")\n\nusername = Label(frame, text='User Name') username.config(font='Arial',width=15) password = Label(frame, text='Password') password.config(font='Arial',width=15) enteruser = Entry(frame, textvariable=StringVar(),font=large_font) enterpass = Entry(frame, show='*', textvariable=StringVar(),font=large_font)\ncombo_choice=StringVar() \ncombo=ttk.Combobox(frame,textvariable=combo_choice) \ncombo['values']=('Clinic 1') \ncombo.state(['readonly']) \ncombo.grid(row=0,sticky=NW) \ncombo.set('Choose Area...') \ncombo.bind('&lt;&lt;ComboboxSelected&gt;&gt;',all_clinic_frames)\n\ntopFrame.grid(row=0,sticky=N) topFrame.grid_propagate(False) area.grid(row=0,column=1,sticky=N) username.grid(row=1, sticky=E) enteruser.grid(row=1, column=1) password.grid(row=2, sticky=E) enterpass.grid(row=2, column=1)\n\n def valid():\n    usernameRight=enteruser.get()\n    passwordRight=enterpass.get()\n    while True:\n         try:\n            if (usernameRight==list_of_users[0]) and (passwordRight==list_of_passwords[0]):\n            import clinic1\n            clinic1.main_page()\n            quit()\n            break\n         except IndexError:\n            invalid = Label(frame, text='User name or Password is incorrect!', fg='red')\n            invalid.grid(row=3, columnspan=2)\n            break\n\ndef enter():\n    register = Button(frame, text='Sign In',relief=RAISED,fg='white',bg='red',command=valid)\n    register.grid(row=3,column=1,ipadx=15,sticky=E)\n\ndef quit():\n    root.destroy()\n</code></pre>\n\n<p>And this is the second file that I imported in the main page which i saved as clinic1.py</p>\n\n<pre><code>from tkinter import*\nimport tkinter.messagebox\n\nnewInstList=[]\n\ndef addItem(event=None):\n    global back_add,quantityentry,itemEntry,itemEntry1,quantityentry1\n    itemFrameTop=Frame(root, width=800,height=100,bg='pink')\n    itemFrameTop.grid_propagate(False)\n    itemFrameTop.grid(row=0)\n    area1_item = Label(itemFrameTop, text='CSSD', pady=5,padx=230)\n    area1_item.config(font=(\"Courier\", 30))\n    area1_item.grid_propagate(False)\n    area1_item.grid(row=0,column=1,sticky=NE)\n    clinic_1 = Label(itemFrameTop, text='Clinic 1', bg='red', fg='white', bd=5)\n    clinic_1.config(font=(\"Courier\", 15))\n    clinic_1.grid_propagate(False)\n    clinic_1.grid(row=1, sticky=W,padx=10)\n    itemFrameMid=Frame(root,width=700,height=600,bg='blue')\n    itemFrameMid.grid_propagate(False)\n    itemFrameMid.grid(row=1)\n    itemname=Label(itemFrameMid,text='Item name:')\n    itemname.config(font=('Arial,15'))\n    itemname.grid_propagate(False)\n    itemname.grid(row=1,sticky=E)\n    quantity=Label(itemFrameMid,text='Qty:')\n    quantity.config(font=('Arial,15'))\n    quantity.grid_propagate(False)\n    quantity.grid(row=1,column=3, sticky=E,padx=10)\n    itemEntry=Entry(itemFrameMid)\n    itemEntry.config(font=('Arial,15'))\n    itemEntry.grid(row=1,column=1,sticky=EW,padx=30,pady=10)\n    itemEntry1 = Entry(itemFrameMid)\n    itemEntry1.config(font=('Arial,15'))\n    itemEntry1.grid(row=2, column=1)\n\n    quantityentry=Entry(itemFrameMid,width=5)\n    quantityentry.config(font=('Arial',15))\n    quantityentry.grid(row=1, column=4)\n    quantityentry1 = Entry(itemFrameMid, width=5)\n    quantityentry1.config(font=('Arial', 15))\n    quantityentry1.grid(row=2, column=4,padx=10)\n\n\"\"\"When I click save button another small window appears\"\"\"\n    okbutton = Button(itemFrameMid, text='Save', command=saveCheck)\n    okbutton.config(font=('Arial', 12))\n    okbutton.grid(row=3, column=4, padx=15)\n\n    back_add = Label(itemFrameTop, text='Back')\n    back_add.config(font=('Courier,15'))\n    back_add.grid(row=0, sticky=W, padx=30)\n    back_add.bind('&lt;Button-1&gt;', main_page)\n    back_add.bind('&lt;Enter&gt;', red_text_back1)\n    back_add.bind('&lt;Leave&gt;', black_text_back1)\n\ndef saveCheck():\n    saveQuestion=tkinter.messagebox.askquestion('CSSD', 'Are you sure you want to save?')\n    if saveQuestion == 'yes':\n        newInstList.append(itemEntry.get())\n        newInstList.append(quantityentry.get())\n        newInstList.append(itemEntry1.get())\n        newInstList.append(quantityentry1.get())\n        print(newInstList)\n        main_page()\n    elif saveQuestion == 'no':\n        pass\n\ndef red_text_back1(event=None):\n    back_add.config(fg='red')\n\ndef black_text_back1(event=None):\n    back_add.config(fg='black')\n\ndef red_text_add(event=None):\n    addnew.config(fg='red')\n\ndef black_text_add(event=None):\n    addnew.config(fg='black')\n\ndef main_page(event=None):\n\n    global addnew,usedInst,logOut\n    frame1 = Frame(root, width=800, height=100,bg='pink')\n    frame1.grid(row=0, column=0, sticky=\"nsew\")\n    frame1.grid_propagate(False)\n    midframe1=Frame(root,width=800,height=600)\n    midframe1.grid_propagate(False)\n    midframe1.grid(row=1)\n\n    area1 = Label(frame1, text='CSSD',pady=5,padx=350)\n    area1.config(font=(\"Courier\", 30))\n    area1.grid(row=0)\n    clinic1=Label(frame1,text='Clinic 1',bg='red',fg='white',bd=5)\n    clinic1.config(font=(\"Courier\", 15))\n    clinic1.grid_propagate(False)\n    clinic1.grid(row=1,sticky=W,padx=10)\n    addnew=Label(midframe1,text='+ Add new item')\n    addnew.config(font=('Arial',15))\n    addnew.grid(row=2,column=1,sticky=E,ipadx=50)\n    addnew.bind('&lt;Button-1&gt;', addItem)\n    addnew.bind('&lt;Enter&gt;', red_text_add)\n    addnew.bind('&lt;Leave&gt;', black_text_add)\n\nroot = Tk()\nroot.geometry('800x600')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1498680900, "post_id": 44811756, "comment_id": 76604037, "body": "The <code>for ... if ...</code> goes in the <code>sum</code> call, not the <code>print</code>."}], "answers": [{"tags": [], "owner": {"reputation": 35644, "user_id": 4954037, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/YOM4r.jpg?s=128&g=1", "display_name": "hiro protagonist", "link": "https://stackoverflow.com/users/4954037/hiro-protagonist"}, "is_accepted": false, "score": 3, "last_activity_date": 1498681291, "last_edit_date": 1498681291, "creation_date": 1498680981, "answer_id": 44811805, "question_id": 44811756, "link": "https://stackoverflow.com/questions/44811756/applying-functions-in-single-statement-for-loop/44811805#44811805", "title": "Applying functions in single statement for loop", "body": "<p>you need to do the <code>sum</code> over the generator:</p>\n\n<pre><code>print(sum(i for i in range(0,len(subset)) if -1.00 &lt; subset[i] &lt; 1.00))\n</code></pre>\n\n<p>your brackets were just set around the wrong items...</p>\n\n<p>a bit more explicit: what you want is this:</p>\n\n<pre><code>gen = (i for i in range(0,len(subset)) if -1.00 &lt; subset[i] &lt; 1.00)\nprint(sum(gen))\n</code></pre>\n\n<p>the way your brackets are set, your result is this:</p>\n\n<pre><code>gen = (i for i in range(0,len(subset)) if -1.00 &lt; subset[i] &lt; 1.00)\nprint(sum(i) for i in gen)\n</code></pre>\n\n<p>...and the expression in the print statement is just another generator.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5158162, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3085d1a4e6d2fe18f30d1c7762577ba4?s=128&d=identicon&r=PG&f=1", "display_name": "Mikaeil Orfanian", "link": "https://stackoverflow.com/users/5158162/mikaeil-orfanian"}, "is_accepted": true, "score": 0, "last_activity_date": 1498732313, "creation_date": 1498732313, "answer_id": 44822710, "question_id": 44811756, "link": "https://stackoverflow.com/questions/44811756/applying-functions-in-single-statement-for-loop/44822710#44822710", "title": "Applying functions in single statement for loop", "body": "<p><code>sum</code> takes an iterable as argument, but you're passing an integer to it. Generators, <code>range</code> in Python 3.X for example, are iterable. See below links:</p>\n\n<p><a href=\"https://docs.python.org/3/library/functions.html#sum\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/functions.html#sum</a></p>\n\n<p><a href=\"https://docs.python.org/3/glossary.html\" rel=\"nofollow noreferrer\">https://docs.python.org/3/glossary.html</a> -> search for \"iterable\"</p>\n"}], "owner": {"reputation": 39, "user_id": 7242909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/236b584c5b5c63fb4adb391daa326c8f?s=128&d=identicon&r=PG&f=1", "display_name": "kobe2792", "link": "https://stackoverflow.com/users/7242909/kobe2792"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 44822710, "answer_count": 2, "score": 0, "last_activity_date": 1498732313, "creation_date": 1498680778, "last_edit_date": 1498681050, "question_id": 44811756, "link": "https://stackoverflow.com/questions/44811756/applying-functions-in-single-statement-for-loop", "title": "Applying functions in single statement for loop", "body": "<p>I am trying to sum each i which falls within the range in this 1d data called subset. I wanted to know if I could do this in one line- I get an generator object which I am not sure how I can access when I run the following:</p>\n\n<pre><code>print(sum(i) for i in range(0,len(subset)) if -1.00&lt; subset[i] &lt; 1.00)\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "pip"], "comments": [{"owner": {"reputation": 3226, "user_id": 424303, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb28353472ae0098eb51de2883d97c0?s=128&d=identicon&r=PG", "display_name": "Emile", "link": "https://stackoverflow.com/users/424303/emile"}, "edited": false, "score": 0, "creation_date": 1498681503, "post_id": 44811643, "comment_id": 76604441, "body": "Are you using a virtual environment? Try VirtualEnv to have a fresh environment <a href=\"https://virtualenv.pypa.io/en/stable/\" rel=\"nofollow noreferrer\">virtualenv.pypa.io/en/stable</a>"}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "reply_to_user": {"reputation": 3226, "user_id": 424303, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb28353472ae0098eb51de2883d97c0?s=128&d=identicon&r=PG", "display_name": "Emile", "link": "https://stackoverflow.com/users/424303/emile"}, "edited": false, "score": 0, "creation_date": 1498681608, "post_id": 44811643, "comment_id": 76604501, "body": "No I&#39;m not currently using a virtual environment, I&#39;ll take a look at this."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 0, "creation_date": 1498681922, "post_id": 44811643, "comment_id": 76604678, "body": "It might be an issue with pip, that it is outdated enough that it can handle a new package style/command that made its way into mpl2&#39;s <code>setup.py</code>. Hard to say though, with the limited traceback. Any chance you could add a few more lines that come before the current ones (not all, but 10-20, that would show clearer where the error originates)?"}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498682579, "post_id": 44811643, "comment_id": 76604987, "body": "There you go, updated to include all lines above the original error code I posted."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498683418, "post_id": 44812286, "comment_id": 76605429, "body": "I checked my pip version, and it&#39;s 1.5.6, I just updated it to 9.0.1, but trying to update matplotlib, still the same error. I&#39;ll try everything you suggested above and will get back to you, cheers."}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498683662, "post_id": 44812286, "comment_id": 76605546, "body": "I just tried uninstalling using pip uninstall matplotlib but it doesn&#39;t seem happy with it. Gives exact same error as above. Is there a better way to install?"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "reply_to_user": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498683855, "post_id": 44812286, "comment_id": 76605636, "body": "What is the output of <code>which pip</code>? Also, you might need (be careful here, this is your responsibility) to go in the directory where matplotlib is installed, <code>cd &#47;Library&#47;Python&#47;2.7&#47;site-packages</code> and remove all previous traces of matplotlib <code>rm -r matplotlib*</code> (caution: no space between matplotlib and the star, do first <code>ls matplotlib*</code>, go up one step in your terminal history (up arrow) and replace the ls by <code>rm -r</code>)."}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684036, "post_id": 44812286, "comment_id": 76605713, "body": "<code>which pip</code> returns <code>&#47;usr&#47;local&#47;bin&#47;pip</code>"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "reply_to_user": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684125, "post_id": 44812286, "comment_id": 76605757, "body": "what is the output of <code>pip --version</code>, of <code>echo $PATH</code>?"}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684152, "post_id": 44812286, "comment_id": 76605771, "body": "Oddly enough in <code>&#47;Library&#47;Python&#47;2.7&#47;site-packages</code> there is no matplotlib file..."}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684175, "post_id": 44812286, "comment_id": 76605779, "body": "<code>pip --version</code> returns <code>pip 9.0.1 from &#47;Library&#47;Python&#47;2.7&#47;site-packages (python 2.7)</code>"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "reply_to_user": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684337, "post_id": 44812286, "comment_id": 76605846, "body": "<code>ls &#47;usr&#47;local&#47;lib&#47;python2.7&#47;site-packages</code>?"}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684513, "post_id": 44812286, "comment_id": 76605918, "body": "<code>ls &#47;usr&#47;local&#47;lib&#47;python2.7&#47;site-packages</code> shows matplotlib, yes, it&#39;s there. Shall I remove it?"}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "reply_to_user": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498684732, "post_id": 44812286, "comment_id": 76606005, "body": "yes. overall the ideal situtation is when, beyond the base system, you have only one copy of the pip-installed packages that is in <code>~&#47;.local&#47;lib&#47;python2.7&#47;site-packages&#47;</code> (+ extra virtualenvs if you want), including pip, matplotlib, numpy, etc. Also, a single &quot;bin&quot; location with the pip-installed executables  (i.e. <code>~&#47;.local&#47;bin</code>, for instance)."}, {"owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498685119, "post_id": 44812286, "comment_id": 76606196, "body": "so ive deleted it, but <code>pip list | grep matplotlib</code> still shows that 1.3.1 is installed? Should I try to install again? This makes very little sense to me but I imagine after deleting I shouldnt be able to use matplotlib anymore but i still can..."}, {"owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "reply_to_user": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "edited": false, "score": 0, "creation_date": 1498721725, "post_id": 44812286, "comment_id": 76617956, "body": "The location of matplotlib can be found by running <code>python -c &#39;import matplotlib ; print matplotlib.__file__</code>. Uninstall this one also"}], "tags": [], "owner": {"reputation": 6394, "user_id": 3327666, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/717bb7cd1896b19837f5ab1f4264bc9d?s=128&d=identicon&r=PG&f=1", "display_name": "Pierre de Buyl", "link": "https://stackoverflow.com/users/3327666/pierre-de-buyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1498682858, "creation_date": 1498682858, "answer_id": 44812286, "question_id": 44811643, "link": "https://stackoverflow.com/questions/44811643/difficulty-updating-matplotlib-on-mac-os/44812286#44812286", "title": "Difficulty updating matplotlib on Mac OS", "body": "<p>Too long for a comment, hope it helps anyway.</p>\n\n<p>From the line <code>File \"/Library/Python/2.7/site-packages/pip/basecommand.py\", line 122, in main</code>, it looks like Evert is right and that your pip is updated itself (it is probably the one that came with the system). Type <code>pip --version</code> to confirm (and copy-paste the result to your question).</p>\n\n<p>If that is the case (pip , I suggest that you update by 1. adding <code>~/.local/bin</code> to the PATH <a href=\"https://en.wikipedia.org/wiki/PATH_%28variable%29\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/PATH_%28variable%29</a> environment variable via the file <code>~/.bash_profile</code> 2. restart the terminal and 3. issue <code>pip install -U --user pip setuptools</code>. Check that <code>which pip</code> returns <code>~/.local/bin/pip</code>.</p>\n\n<p>Then uninstall the system-wide installed matplotlib (installing with pip in <code>/Library</code> will cause trouble) and try <code>pip install -U --user matplotlib</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "is_accepted": true, "score": -1, "last_activity_date": 1498955827, "creation_date": 1498955827, "answer_id": 44866537, "question_id": 44811643, "link": "https://stackoverflow.com/questions/44811643/difficulty-updating-matplotlib-on-mac-os/44866537#44866537", "title": "Difficulty updating matplotlib on Mac OS", "body": "<p>Solved by installing anaconda. It comes with the latest version of matplotlib. I recommend anyone else to do this as well.</p>\n"}], "owner": {"reputation": 149, "user_id": 2968801, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/Nj24P.jpg?s=128&g=1", "display_name": "TZJ", "link": "https://stackoverflow.com/users/2968801/tzj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2091, "favorite_count": 0, "accepted_answer_id": 44866537, "answer_count": 2, "score": 1, "last_activity_date": 1498955827, "creation_date": 1498680340, "last_edit_date": 1498753998, "question_id": 44811643, "link": "https://stackoverflow.com/questions/44811643/difficulty-updating-matplotlib-on-mac-os", "title": "Difficulty updating matplotlib on Mac OS", "body": "<p>EDIT: Fixed. Solved by installing <code>anaconda</code> and running python through that.</p>\n\n<p>I'm running Sierra 10.12.5 on my Mac, and <code>pip list | grep matplotlib</code> shows that I'm running matplotlib (1.3.1). I am trying to update matplotlib to 2.0.2 (the latest version), but any <code>sudo pip install matplotlib --upgrade</code> seems to fail with a very very long error (won't paste it all here) that gets to: </p>\n\n<pre><code>Terrys-MBP:Bitcore-master-2 Terry$ pip install matplotlib --upgrade\nDownloading/unpacking matplotlib from https://pypi.python.org/packages/f5/f0/9da3ef24ea7eb0ccd12430a261b66eca36b924aeef06e17147f9f9d7d310/matplotlib-2.0.2.tar.gz#md5=061111784278bde89b5d4987014be4ca\nDownloading matplotlib-2.0.2.tar.gz (53.9MB): 53.9MB downloaded\nRunning setup.py      (path:/private/var/folders/m5/1fg5rnj11_9cz5pntlqlwzyc0000gn/T/pip_build_Terry/matplotlib/setup.py) egg_info for package matplotlib\n============================================================================\nEdit setup.cfg to change the build options\n\nBUILDING MATPLOTLIB\n            matplotlib: yes [2.0.2]\n                python: yes [2.7.10 (default, Feb  7 2017, 00:08:15)  [GCC\n                        4.2.1 Compatible Apple LLVM 8.0.0 (clang-800.0.34)]]\n              platform: yes [darwin]\n\nREQUIRED DEPENDENCIES AND EXTENSIONS\n                 numpy: yes [version 1.13.0]\n                   six: yes [using six version 1.10.0]\n              dateutil: yes [using dateutil version 2.6.0]\n           functools32: yes [using functools32]\n          subprocess32: yes [using subprocess32]\n                  pytz: yes [using pytz version 2017.2]\n                cycler: yes [using cycler version 0.10.0]\n               tornado: yes [using tornado version 4.5.1]\n             pyparsing: yes [using pyparsing version 2.2.0]\n                libagg: yes [pkg-config information for 'libagg' could not\n                        be found. Using local copy.]\n              freetype: yes [version 2.8.0]\n                   png: yes [version 1.6.29]\n                 qhull: yes [pkg-config information for 'qhull' could not be\n                        found. Using local copy.]\n\nOPTIONAL SUBPACKAGES\n           sample_data: yes [installing]\n              toolkits: yes [installing]\n                 tests: no  [skipping due to configuration]\n        toolkits_tests: no  [skipping due to configuration]\n\nOPTIONAL BACKEND EXTENSIONS\n                macosx: yes [installing, darwin]\n                qt5agg: no  [PyQt5 not found]\n                qt4agg: no  [PySide not found; PyQt4 not found]\n               gtk3agg: no  [Requires pygobject to be installed.]\n             gtk3cairo: no  [Requires cairocffi or pycairo to be installed.]\n                gtkagg: no  [Requires pygtk]\n                 tkagg: yes [installing; run-time loading from Python Tcl /\n                        Tk]\n                 wxagg: no  [requires wxPython]\n                   gtk: no  [Requires pygtk]\n                   agg: yes [installing]\n                 cairo: no  [cairocffi or pycairo not found]\n             windowing: no  [Microsoft Windows only]\n\nOPTIONAL LATEX DEPENDENCIES\n                dvipng: yes [version 1.15]\n           ghostscript: yes [version 9.16]\n                 latex: yes [version 3.14159265]\n               pdftops: no\n\nOPTIONAL PACKAGE DATA\n                  dlls: no  [skipping due to configuration]\n\nRequirement already up-to-date: numpy&gt;=1.7.1 in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: six&gt;=1.10 in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: python-dateutil in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: functools32 in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: subprocess32 in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: pytz in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: cycler&gt;=0.10 in /Library/Python/2.7/site-packages (from matplotlib)\nRequirement already up-to-date: pyparsing&gt;=1.5.6,!=2.0.4,!=2.1.2,!=2.1.6 in /Library/Python/2.7/site-packages (from matplotlib)\nInstalling collected packages: matplotlib\nFound existing installation: matplotlib 1.3.1\nUninstalling matplotlib:\nCleaning up...\nException:\nTraceback (most recent call last):\nFile \"/Library/Python/2.7/site-packages/pip/basecommand.py\", line 122, in main\nstatus = self.run(options, args)\n</code></pre>\n\n<p>I assume there is something wrong with attempting to uninstall 1.3.1 because when I try to do a <code>pip uninstall</code> for my matplotlib the exact same error occurs. </p>\n\n<p>I had pip version 1.5.6 previously and just updated to 9.0.1 via advice from comments below. It hasn't yet fixed the issues (yet).</p>\n\n<p>I've tried <code>sudo chown -R $USER /Library/Python/2.7</code> thinking it may have been a permission problem and I also did mess around with <code>brew install pkg-config</code> and <code>brew install freetype</code> to no avail. </p>\n\n<p>Does anyone have any ideas how to fix this?</p>\n\n<p>Edit: No it's not a virtual environment, it's on my Mac off terminal with default install locations with pip and python.</p>\n"}, {"tags": ["python", "flask-sqlalchemy"], "answers": [{"comments": [{"owner": {"reputation": 1007, "user_id": 3794038, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3279d4553a6a584651144d08c4c75aa?s=128&d=identicon&r=PG&f=1", "display_name": "Constantinos", "link": "https://stackoverflow.com/users/3794038/constantinos"}, "edited": false, "score": 0, "creation_date": 1521471416, "post_id": 44833188, "comment_id": 85732437, "body": "Lifesaver. Thanks!"}], "tags": [], "owner": {"reputation": 7053, "user_id": 317971, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f3612eb48bbf7acfe2668d843af0618b?s=128&d=identicon&r=PG", "display_name": "augustomen", "link": "https://stackoverflow.com/users/317971/augustomen"}, "is_accepted": true, "score": 3, "last_activity_date": 1521568582, "last_edit_date": 1521568582, "creation_date": 1498763527, "answer_id": 44833188, "question_id": 44811589, "link": "https://stackoverflow.com/questions/44811589/flask-sqlalchemy-why-instance-created-by-model-query-filter-by-first-doesn/44833188#44833188", "title": "flask_sqlalchemy: why instance created by Model.query.filter_by().first() doesn&#39;t run __init__() in model", "body": "<p>I just ran accross this same problem (constructor not being called), and reading through <a href=\"http://docs.sqlalchemy.org/en/latest/orm/constructors.html\" rel=\"nofollow noreferrer\">SQLAlchemy documentation</a>, that's exactly how it's supposed to behave. When an instance is being created from a <code>Query</code> object, it doesn't call the <code>__init__</code> method. Instead, it calls methods marked as <code>reconstructor</code> (decorator).</p>\n\n<p>To mark a method as reconstructor, declare a parameterless method and decorate it with the method from your <code>SQLAlchemy</code> instance:</p>\n\n<pre><code>class User(UserMixin, db.Model):\n\n    @db.reconstructor\n    def reload(self):\n        # Will be run when loading from a Query object\n</code></pre>\n\n<p>From the documentation:</p>\n\n<blockquote>\n  <p>Any method may be tagged as the <code>reconstructor()</code>, even the <code>__init__</code> method. SQLAlchemy will call the reconstructor method with no arguments.</p>\n</blockquote>\n\n<p>So, if your class has initialization code, or if you call <code>super()</code>, you can call your reconstructor from your <code>__init__</code>:</p>\n\n<pre><code>class User(UserMixin, db.Model):\n\n    def __init__(self, **kwargs):\n        super(User, self).__init__(**kwargs)\n        self.reload()\n\n    @db.reconstructor\n    def reload(self):\n        # Process data from model\n</code></pre>\n\n<p>That way, <code>reload()</code> will be called upon custom initialization <strong>and</strong> when queried.</p>\n"}], "owner": {"reputation": 23, "user_id": 7382468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/947dd4a2f2f14210e386a94681727a2b?s=128&d=identicon&r=PG&f=1", "display_name": "YE YUE", "link": "https://stackoverflow.com/users/7382468/ye-yue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 44833188, "answer_count": 1, "score": 1, "last_activity_date": 1521568582, "creation_date": 1498680135, "last_edit_date": 1498765190, "question_id": 44811589, "link": "https://stackoverflow.com/questions/44811589/flask-sqlalchemy-why-instance-created-by-model-query-filter-by-first-doesn", "title": "flask_sqlalchemy: why instance created by Model.query.filter_by().first() doesn&#39;t run __init__() in model", "body": "<p>I have a User model like this:</p>\n\n<pre><code>class User(UserMixin, db.Model):\n    id = db.Column(db.Integer, primary_key = True)\n    username = db.Column(db.String(64), unique=True, index=True\n    # ...\n\n    def __init__(self, **kwargs):\n        pass\n</code></pre>\n\n<p>When the instance is created like:<code>user = User(username='john')</code>, the constructor is called successfully.</p>\n\n<p>But if the instance is returned by <code>user = User.query.filter_by(username=john).first()</code>, the constructor won't be called anyway.</p>\n\n<p>And I have checked that the instance returned by the query is an instance of User, so the constructor should be called when the query is done. Because to my understanding, the constructor is called every time when an instance is created.</p>\n\n<p><strong>The question is</strong>: why this happens and what to do to call <code>__init__</code> when the user is returned by the query.</p>\n"}, {"tags": ["python", "numpy", "scipy"], "comments": [{"owner": {"reputation": 6689, "user_id": 7117003, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HaW1a.png?s=128&g=1", "display_name": "petezurich", "link": "https://stackoverflow.com/users/7117003/petezurich"}, "edited": false, "score": 2, "creation_date": 1498680259, "post_id": 44811581, "comment_id": 76603682, "body": "Welcome to SO. I suggest you add full code so that others can help you more easily."}, {"owner": {"reputation": 6027, "user_id": 7738328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84d6eb24cbea7d5c8d4bdab21dd3d232?s=128&d=identicon&r=PG&f=1", "display_name": "JohanL", "link": "https://stackoverflow.com/users/7738328/johanl"}, "edited": false, "score": 0, "creation_date": 1498681218, "post_id": 44811581, "comment_id": 76604261, "body": "Are your original data points evenly spaced? In that case the integrated value is not much more than a scaled sum of your dataset."}, {"owner": {"reputation": 165, "user_id": 7554799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48a6ae8823a641ad6e66c87df536f9b8?s=128&d=identicon&r=PG&f=1", "display_name": "Anon", "link": "https://stackoverflow.com/users/7554799/anon"}, "edited": false, "score": 0, "creation_date": 1498683480, "post_id": 44811581, "comment_id": 76605463, "body": "Maybe smooth the function with a savitzky-golay filter before integration?"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 5213381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TfYByTi_VY4/AAAAAAAAAAI/AAAAAAAAAN0/QLYN1pqfF-o/photo.jpg?sz=128", "display_name": "Shu Liao", "link": "https://stackoverflow.com/users/5213381/shu-liao"}, "edited": false, "score": 0, "creation_date": 1498834979, "post_id": 44812857, "comment_id": 76679629, "body": "Then if I want to integrate from 0.5 to 9, the points in x will be out of bound of the integrand, and the quad will return an error message. How should I do in this case? Thank you!"}, {"owner": {"reputation": 4503, "user_id": 6212875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63785a00c56fd72d4e9199a973920873?s=128&d=identicon&r=PG&f=1", "display_name": "Stelios", "link": "https://stackoverflow.com/users/6212875/stelios"}, "reply_to_user": {"reputation": 75, "user_id": 5213381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TfYByTi_VY4/AAAAAAAAAAI/AAAAAAAAAN0/QLYN1pqfF-o/photo.jpg?sz=128", "display_name": "Shu Liao", "link": "https://stackoverflow.com/users/5213381/shu-liao"}, "edited": false, "score": 0, "creation_date": 1498835954, "post_id": 44812857, "comment_id": 76680211, "body": "@ShuLiao In that case, you should provide the points in <code>x</code> that correspond in the interval <code>[0.5, 9]</code>. Isn&#39;t that obvious?"}, {"owner": {"reputation": 75, "user_id": 5213381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TfYByTi_VY4/AAAAAAAAAAI/AAAAAAAAAN0/QLYN1pqfF-o/photo.jpg?sz=128", "display_name": "Shu Liao", "link": "https://stackoverflow.com/users/5213381/shu-liao"}, "edited": false, "score": 0, "creation_date": 1498842357, "post_id": 44812857, "comment_id": 76684014, "body": "The problem is I&#39;m worried about the efficiency of doing something like <code>points=x[np.where(x&gt;0.5)]</code> since this kind of integration will be done a lot of times in my code. So I&#39;m curious about if there&#39;s other way to avoid this extra work.."}], "tags": [], "owner": {"reputation": 4503, "user_id": 6212875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63785a00c56fd72d4e9199a973920873?s=128&d=identicon&r=PG&f=1", "display_name": "Stelios", "link": "https://stackoverflow.com/users/6212875/stelios"}, "is_accepted": true, "score": 5, "last_activity_date": 1498685410, "creation_date": 1498685410, "answer_id": 44812857, "question_id": 44811581, "link": "https://stackoverflow.com/questions/44811581/scipy-how-to-integrate-a-linearly-interpolated-function/44812857#44812857", "title": "scipy -- how to integrate a linearly interpolated function?", "body": "<p><code>quad</code> accepts an optional argument, called <code>points</code>. According to the documentation:</p>\n\n<blockquote>\n  <p>points : (sequence of floats,ints), optional</p>\n  \n  <p>A sequence of break points in the bounded integration interval where\n  local difficulties of the integrand may occur (e.g., singularities,\n  discontinuities). The sequence does not have to be sorted.</p>\n</blockquote>\n\n<p>In your case, the \"difficult\" <code>points</code> are exactly the x-coordinates of the data points. Here is an example:</p>\n\n<pre><code>import numpy as np \nfrom scipy.integrate import quad\nnp.random.seed(123)\n\n# generate random data set \nx = np.arange(0,10)  \ny = np.random.rand(10)\n\n# construct a linear interpolation function of the data set \nf_interp = lambda xx: np.interp(xx, x, y)\n</code></pre>\n\n<p>Here is a plot of the data points and <code>f_interp</code>:\n<a href=\"https://i.stack.imgur.com/8MIpl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/8MIpl.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now calling <code>quad</code> as </p>\n\n<pre><code>quad(f_interp,0,9)\n</code></pre>\n\n<p>return a series of warnings along with </p>\n\n<blockquote>\n  <p><code>(4.89770017785734, 1.3762838395159349e-05)</code></p>\n</blockquote>\n\n<p>If you provide the <code>points</code> argument, i.e., </p>\n\n<pre><code>quad(f_interp,0,9, points = x)\n</code></pre>\n\n<p>it issues no warnings and the result is </p>\n\n<blockquote>\n  <p><code>(4.8977001778573435, 5.437539505167948e-14)</code></p>\n</blockquote>\n\n<p>which also implies a much greater accuracy of the result compared to the previous call.</p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 5213381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TfYByTi_VY4/AAAAAAAAAAI/AAAAAAAAAN0/QLYN1pqfF-o/photo.jpg?sz=128", "display_name": "Shu Liao", "link": "https://stackoverflow.com/users/5213381/shu-liao"}, "edited": false, "score": 0, "creation_date": 1498752185, "post_id": 44813818, "comment_id": 76640555, "body": "Thank you! This does solve the integral of the function. But instead of the function it self, I also want to integrate this function multiply by other functions. For example, how to integrate the function <code>lambda x: x*finterp(x)[()]</code> without using <code>quad</code>?"}], "tags": [], "owner": {"reputation": 92118, "user_id": 1217358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d2aafb97833979e3668c61d36e697bfc?s=128&d=identicon&r=PG", "display_name": "Warren Weckesser", "link": "https://stackoverflow.com/users/1217358/warren-weckesser"}, "is_accepted": false, "score": 3, "last_activity_date": 1498690696, "creation_date": 1498690696, "answer_id": 44813818, "question_id": 44811581, "link": "https://stackoverflow.com/questions/44811581/scipy-how-to-integrate-a-linearly-interpolated-function/44813818#44813818", "title": "scipy -- how to integrate a linearly interpolated function?", "body": "<p>Instead of <code>interp1d</code>, you could use <a href=\"https://docs.scipy.org/doc/scipy/reference/generated/scipy.interpolate.InterpolatedUnivariateSpline.html\" rel=\"nofollow noreferrer\"><code>scipy.interpolate.InterpolatedUnivariateSpline</code></a>.  That interpolator has the method <code>integral(a, b)</code> that computes the definite integral.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>import numpy as np\nfrom scipy.interpolate import InterpolatedUnivariateSpline\nimport matplotlib.pyplot as plt\n\n\n# Create some test data.\nx = np.linspace(0, np.pi, 21)\nnp.random.seed(12345)\ny = np.sin(1.5*x) + np.random.laplace(scale=0.35, size=len(x))**3\n\n# Create the interpolator.  Use k=1 for linear interpolation.\nfinterp = InterpolatedUnivariateSpline(x, y, k=1)\n\n# Create a finer mesh of points on which to compute the integral.\nxx = np.linspace(x[0], x[-1], 5*len(x))\n\n# Use the interpolator to compute the integral from 0 to t for each\n# t in xx.\nqq = [finterp.integral(0, t) for t in xx]\n\n# Plot stuff\np = plt.plot(x, y, '.', label='data')\nplt.plot(x, y, '-', color=p[0].get_color(), label='linear interpolation')\nplt.plot(xx, qq, label='integral of linear interpolation')\nplt.grid()\nplt.legend(framealpha=1, shadow=True)\nplt.show()\n</code></pre>\n\n<p>The plot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/POqCf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/POqCf.png\" alt=\"plot\"></a></p>\n"}], "owner": {"reputation": 75, "user_id": 5213381, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TfYByTi_VY4/AAAAAAAAAAI/AAAAAAAAAN0/QLYN1pqfF-o/photo.jpg?sz=128", "display_name": "Shu Liao", "link": "https://stackoverflow.com/users/5213381/shu-liao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3173, "favorite_count": 1, "accepted_answer_id": 44812857, "answer_count": 2, "score": 5, "last_activity_date": 1499202576, "creation_date": 1498680113, "last_edit_date": 1499202576, "question_id": 44811581, "link": "https://stackoverflow.com/questions/44811581/scipy-how-to-integrate-a-linearly-interpolated-function", "title": "scipy -- how to integrate a linearly interpolated function?", "body": "<p>I have a function which is an interpolation of a relative large set of data. I use linear interpolation <code>interp1d</code> so there are a lot of non-smooth sharp point like <a href=\"https://i.stack.imgur.com/wF1KM.png\" rel=\"nofollow noreferrer\">this</a>. The <code>quad</code> function from scipy will give warning because of the sharp points. I wonder how to do the integration without the warning?</p>\n\n<p>Thank you!</p>\n\n<hr>\n\n<p>Thanks for all the answers. Here I summarize the solutions in case some others run into the same problem: </p>\n\n<ol>\n<li>Just like what @Stelios did, use <code>points</code> to avoid warnings and to get a more accurate result. </li>\n<li>In practice the number of points are usually larger than the default limit(<code>limit=50</code>) of <code>quad</code>, so I choose <code>quad(f_interp, a, b, limit=2*p.shape[0], points=p)</code> to avoid all those warnings.</li>\n<li>If <code>a</code> and <code>b</code> are not the same start or the end point of the data set <code>x</code>, the points <code>p</code> can be chosen by <code>p = x[where(x&gt;=a and x&lt;=b)]</code></li>\n</ol>\n"}, {"tags": ["python", "excel", "openpyxl"], "comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498682023, "post_id": 44811523, "comment_id": 76604728, "body": "is there a reason for SSA2.csv to be a csv and not xlsx?"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 8195589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3uC5C.png?s=128&g=1", "display_name": "Sarah Porgess", "link": "https://stackoverflow.com/users/8195589/sarah-porgess"}, "edited": false, "score": 0, "creation_date": 1498680764, "post_id": 44811681, "comment_id": 76603970, "body": "typo! I meant column, Thanks though!"}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "reply_to_user": {"reputation": 65, "user_id": 8195589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3uC5C.png?s=128&g=1", "display_name": "Sarah Porgess", "link": "https://stackoverflow.com/users/8195589/sarah-porgess"}, "edited": false, "score": 0, "creation_date": 1498683053, "post_id": 44811681, "comment_id": 76605220, "body": "@SarahPorgess: I have updated my answer to use your current imports."}], "tags": [], "owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "is_accepted": false, "score": 2, "last_activity_date": 1498683022, "last_edit_date": 1498683022, "creation_date": 1498680489, "answer_id": 44811681, "question_id": 44811523, "link": "https://stackoverflow.com/questions/44811523/how-do-i-add-a-column-to-an-existing-excel-file-using-python/44811681#44811681", "title": "How do I add a column to an existing excel file using python?", "body": "<p>From your updated question I have rewrote my answer.</p>\n\n<p>You don't need to use another library to accomplish what you are trying to do.\nHere is another option for accomplishing what you want.</p>\n\n<pre><code>import openpyxl\nimport pprint\n\nwb = openpyxl.load_workbook('/Users/sarahporgess/Desktop/SSA1.xlsx')\nsheet = wb.active\n# you may also use the wb.get_sheet_by_name('Sheet1') method here.\n\n\ndata = {}\nfor row in range(1,sheet.max_row+1):\n        date = sheet.cell(row = row, column = 1) # use .cell() to get values of cells\n        gamma = sheet.cell(row = row, column = 2)\n        theta = sheet.cell(row = row, column = 3)\n        print(date, gamma, theta)\n        ratio = float(gamma)/float(theta)\n        new_wb = openpyxl.Workbook() # creates new workbook to be saved as results\n        # you can also open a wookbook here instead but I wrote it to create a results workbook as I didnt already have one.\n        new_sheet = new_wb.active\n        new_sheet['A1'] = pprint.pformat(date)\n        new_sheet['B1'] = pprint.pformat(gamma)\n        new_sheet['C1'] = pprint.pformat(theta)\n        new_sheet['D1'] = pprint.pformat(ratio)\n        print(ratio)\n        # save new workbook as SSA2\n        new_wb.save('/Users/sarahporgess/Desktop/SSA2.xlsx')\n\nprint('Done.')\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 8195589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3uC5C.png?s=128&g=1", "display_name": "Sarah Porgess", "link": "https://stackoverflow.com/users/8195589/sarah-porgess"}, "edited": false, "score": 0, "creation_date": 1498681934, "post_id": 44811753, "comment_id": 76604688, "body": "Thank you so much! This is my first time seeing the code &quot;df.to_excel(&quot;path to save&quot;)&quot;, can you explain this line please?"}, {"owner": {"reputation": 8755, "user_id": 4168397, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8e31d5748edf285187f67c329542ef96?s=128&d=identicon&r=PG", "display_name": "Rakesh Adhikesavan", "link": "https://stackoverflow.com/users/4168397/rakesh-adhikesavan"}, "reply_to_user": {"reputation": 65, "user_id": 8195589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3uC5C.png?s=128&g=1", "display_name": "Sarah Porgess", "link": "https://stackoverflow.com/users/8195589/sarah-porgess"}, "edited": false, "score": 0, "creation_date": 1498682242, "post_id": 44811753, "comment_id": 76604831, "body": "Here is what the code does: It reads the Excel file as a DataFrame, which is a data structure that represents tabular data. After reading the Excel File as a DataFrame, there is a lot of things that you can do, including transformations, joins, merges, mathematical operations etc. <code>df.to_excel()</code> simply writes the DataFrame back to disk as an Excel File"}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "edited": false, "score": 0, "creation_date": 1498729745, "post_id": 44811753, "comment_id": 76623438, "body": "While Pandas is a great library it&#39;s not the best tool for editing Excel files."}], "tags": [], "owner": {"reputation": 8755, "user_id": 4168397, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/8e31d5748edf285187f67c329542ef96?s=128&d=identicon&r=PG", "display_name": "Rakesh Adhikesavan", "link": "https://stackoverflow.com/users/4168397/rakesh-adhikesavan"}, "is_accepted": true, "score": 6, "last_activity_date": 1498682047, "last_edit_date": 1498682047, "creation_date": 1498680772, "answer_id": 44811753, "question_id": 44811523, "link": "https://stackoverflow.com/questions/44811523/how-do-i-add-a-column-to-an-existing-excel-file-using-python/44811753#44811753", "title": "How do I add a column to an existing excel file using python?", "body": "<p>It is easier to use the Pandas package</p>\n\n<pre><code>import pandas as pd\nfile_name = #Path to your file\ndf = pd.read_excel(file_name) #Read Excel file as a DataFrame\n\ndf['Ratio'] = df['Gamma']/df['Theta']\n#Display top 5 rows to check if everything looks good\ndf.head(5)\n\n#To save it back as Excel\ndf.to_excel(\"path to save\") #Write DateFrame back as Excel file\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498740010, "post_id": 44821961, "comment_id": 76630873, "body": "he is adding the results to another file."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498748043, "post_id": 44821961, "comment_id": 76637434, "body": "In which case the question is misleading."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498748197, "post_id": 44821961, "comment_id": 76637565, "body": "Sometimes people are not able to articulate their questions well. That is why I review the code and from the question and the content of the code decide on what their question really is. This approach has proven more accurate than not."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498763397, "post_id": 44821961, "comment_id": 76646899, "body": "Saving to another file is merely the filename you pass to the <code>save()</code> method. More important is to make as use of the openpyxl API for this kind of thing: no need to create a loop, no need to use <code>pprint</code>, use of the <code>offset</code> method."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498764564, "post_id": 44821961, "comment_id": 76647501, "body": "I imaging the loop is there for multiple rows of date that need the same process done to them. I don&#39;t think they are only performing this function one one row of data. Also I agree pprint does not appear to be needed however because the OP is using pprint I answer with the use of pprint as well."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498765817, "post_id": 44821961, "comment_id": 76648149, "body": "Compare the original code with my suggestion. openpyxl provides all the necessary methods for this so that it is never necessary to create counters (<code>max_row</code> might not be available), etc."}, {"owner": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498766288, "post_id": 44821961, "comment_id": 76648400, "body": "I did see you used <code>sheet</code> instead of <code>max_row</code>. I am not fully versed in openpyxl so my answer was to solve the OPs problem and leave the rest of their code intact as is."}, {"owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "reply_to_user": {"reputation": 14442, "user_id": 7475225, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/niMZR.jpg?s=128&g=1", "display_name": "Mike - SMT", "link": "https://stackoverflow.com/users/7475225/mike-smt"}, "edited": false, "score": 0, "creation_date": 1498766492, "post_id": 44821961, "comment_id": 76648514, "body": "Familiarity with domain specific libraries makes for better answers. EOT."}], "tags": [], "owner": {"reputation": 14362, "user_id": 2385133, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/3a93c5a0f975385738c1f27848f3b50a?s=128&d=identicon&r=PG", "display_name": "Charlie Clark", "link": "https://stackoverflow.com/users/2385133/charlie-clark"}, "is_accepted": false, "score": 1, "last_activity_date": 1498730318, "creation_date": 1498730318, "answer_id": 44821961, "question_id": 44811523, "link": "https://stackoverflow.com/questions/44811523/how-do-i-add-a-column-to-an-existing-excel-file-using-python/44821961#44821961", "title": "How do I add a column to an existing excel file using python?", "body": "<p>It's not clear from your code whether you want to print the result or edit the existing file. If you're editing an Excel file then you might want to create a formula and let Excel do the calculation for you.</p>\n\n<pre><code>import openpyxl\nwb = openpyxl.load_workbook('/Users/sarahporgess/Desktop/SSA1.xlsx')\nsheet = wb['Sheet1']\n\nfor row in sheet:\n     date, gamma, theta = row\n     ratio = theta.offset(column=1)\n     ratio.value = \"=B{0}/C{0}\".format(theta.row) # if you want the formula\n     # ratio.value = gamma/theta # if you just want the calculation\n\nwb.save(\u2026)\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 8195589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3uC5C.png?s=128&g=1", "display_name": "Sarah Porgess", "link": "https://stackoverflow.com/users/8195589/sarah-porgess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34605, "favorite_count": 2, "accepted_answer_id": 44811753, "answer_count": 3, "score": 6, "last_activity_date": 1498730318, "creation_date": 1498679904, "last_edit_date": 1498680769, "question_id": 44811523, "link": "https://stackoverflow.com/questions/44811523/how-do-i-add-a-column-to-an-existing-excel-file-using-python", "title": "How do I add a column to an existing excel file using python?", "body": "<p>here is my code:</p>\n\n<pre><code>import openpyxl, pprint\nwb = openpyxl.load_workbook('/Users/sarahporgess/Desktop/SSA1.xlsx')\nsheet = wb.get_sheet_by_name('Sheet1')\n\n\ndata = {}\nfor row in range(1,sheet.max_row+1):\n\n\n        date = sheet['A' +str(row)].value\n        gamma = sheet['B' +str(row)].value\n        theta = sheet['C' +str(row)].value\n        ratio = float(gamma)/float(theta)\n        resultFile = open('SSA2.csv' , 'w')\n        resultFile.write( pprint.pformat(date))\n        resultFile.write( pprint.pformat(gamma))\n        resultFile.write( pprint.pformat(theta))\n\n        resultFile.write( pprint.pformat(ratio))\n        print(ratio)\n        sheet['D1']=ratio\nresultFile.close()\nprint('Done.')\n</code></pre>\n\n<p>my existing excel file currently has three columns: \"date, gamma, theta\". I want to add a fourth column called \"ratio\" that is the ratio of gamma/theta. How do I add another column to an existing excel document using python? \nThis code creates an excel document with the 4 elements printed into one cell  </p>\n"}, {"tags": ["python", "pandas", "matplotlib"], "comments": [{"owner": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 1, "creation_date": 1498680680, "post_id": 44811504, "comment_id": 76603931, "body": "Please just don&#39;t use pie charts. Especially to portray something with lots of categories/variables. Also, you might be leaning towards <a href=\"https://en.wikipedia.org/wiki/Chartjunk\" rel=\"nofollow noreferrer\">chart junk</a> with this approach."}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 12973, "user_id": 5061557, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7df554b2e75e1a1581ed3757ca4d0c82?s=128&d=identicon&r=PG&f=1", "display_name": "Grr", "link": "https://stackoverflow.com/users/5061557/grr"}, "edited": false, "score": 0, "creation_date": 1498682968, "post_id": 44811504, "comment_id": 76605175, "body": "Please do use pie charts if you think that makes sense. We are not in the position to judge on that @Grr"}], "answers": [{"comments": [{"owner": {"reputation": 594, "user_id": 5549744, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b999133ac87d05555a90ed7f01bcc94?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro A", "link": "https://stackoverflow.com/users/5549744/alejandro-a"}, "edited": false, "score": 0, "creation_date": 1498717153, "post_id": 44812218, "comment_id": 76615210, "body": "Thank you man! I defintely need to look a little more into matlplotlib and how it works, how did you learn by yourself? If there is any documentation you could share I&#39;d be so thankfull!"}, {"owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "reply_to_user": {"reputation": 594, "user_id": 5549744, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b999133ac87d05555a90ed7f01bcc94?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro A", "link": "https://stackoverflow.com/users/5549744/alejandro-a"}, "edited": false, "score": 1, "creation_date": 1498717589, "post_id": 44812218, "comment_id": 76615436, "body": "For me personally, I did learning by doing. The matplotlib documentation is in itself very good and useful and there are some tutorials on the matplotlib page as well. Plus, there is the example gallery showing a good bunch of use cases. As far as I can tell there is also a lot of literature out about matplotlib and tutorial videos on youtube. Finally, since matplotlib is already quite mature, a lot of questions on SO are available."}], "tags": [], "owner": {"reputation": 246762, "user_id": 4124317, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/wsHAV.png?s=128&g=1", "display_name": "ImportanceOfBeingErnest", "link": "https://stackoverflow.com/users/4124317/importanceofbeingernest"}, "is_accepted": true, "score": 1, "last_activity_date": 1498682922, "last_edit_date": 1498682922, "creation_date": 1498682593, "answer_id": 44812218, "question_id": 44811504, "link": "https://stackoverflow.com/questions/44811504/matplotlib-resizing-pie-graph-when-adding-a-picture/44812218#44812218", "title": "Matplotlib resizing pie graph when adding a picture", "body": "<p>You need to set the aspect with <code>plt.axis('equal')</code> to the axes in which the pie resides. This is easily being done by placing this line just before or after the pie creation.</p>\n\n<pre><code>plt.axis('equal')\nDonutA = plt.pie(sizes, colors=colors, shadow=False, \n                 wedgeprops = { 'linewidth' : 1 , 'edgecolor' : 'lightgrey'}, radius=1)\n</code></pre>\n\n<p>Note that in order to place a letter <code>A</code> into the plot you don't need an image.</p>\n\n<p>Complete example:</p>\n\n<pre><code>import pandas as pd\nimport matplotlib.pyplot as plt\nimport numpy as np\n\nsizes = (1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1,1)\ncolors = np.random.choice([\"r\", \"g\"], size=len(sizes))\n\nplt.axis('equal')\nDonutA = plt.pie(sizes, colors=colors, shadow=False, \n                 wedgeprops = { 'linewidth' : 1 , 'edgecolor' : 'lightgrey'}, radius=1)\n\n#draw a circle at the center of pie to make it look like a donut \ncentre_circle = plt.Circle((0,0),0.75,color='white', fc='white',linewidth=1) \nfig = plt.gcf()\nfig.gca().add_artist(centre_circle) \n\nimport matplotlib.patheffects as path_effects\ntext = plt.gca().text(0.0, 0.0, 'A', color='white', ha='center', va='center', size=100)\ntext.set_path_effects([path_effects.Stroke(linewidth=3, foreground='black'),\n                       path_effects.Normal()])\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OXPq0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OXPq0.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 594, "user_id": 5549744, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0b999133ac87d05555a90ed7f01bcc94?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro A", "link": "https://stackoverflow.com/users/5549744/alejandro-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 433, "favorite_count": 0, "accepted_answer_id": 44812218, "answer_count": 1, "score": 1, "last_activity_date": 1498682922, "creation_date": 1498679848, "question_id": 44811504, "link": "https://stackoverflow.com/questions/44811504/matplotlib-resizing-pie-graph-when-adding-a-picture", "title": "Matplotlib resizing pie graph when adding a picture", "body": "<p>I'm doing a pie graphic which is perfectly ruound, I then add a white circle in the middle so it looks like doghnut.</p>\n\n<p>Finally I go an add an image in the middle of the graphic, from an example I found, which resizes the perfect circle to an elipse.</p>\n\n<p>Pics:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aOCaD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aOCaD.png\" alt=\"Perfect Circle\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/LiJfm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LiJfm.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code:</p>\n\n<pre><code>&gt; labels = df.index.values \n&gt;sizes = (1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1, 1, 1, 1,1,1)\n&gt; \n&gt; DonutA = plt.pie(sizes, colors=df.ColorCond.map({True :'g', False :\n&gt; 'r'}), shadow=False, \n&gt;                  wedgeprops = { 'linewidth' : 1 , 'edgecolor' : 'lightgrey'}, radius=1)\n&gt; \n&gt; #draw a circle at the center of pie to make it look like a donut centre_circle = plt.Circle((0,0),0.75,color='white',\n&gt; fc='white',linewidth=1) fig = plt.gcf()\n&gt; fig.gca().add_artist(centre_circle) im =\n&gt; plt.imread(get_sample_data('C:\\\\Users\\\\Usuario\\\\Desktop\\\\Sanmatech\\\\A2.png'))\n&gt; newax = fig.add_axes([0.33,0.36,0.37,0.30], anchor='SE', zorder=1)\n&gt; newax.imshow(im,  extent=(30, 50, 30, 50)) plt.axis('equal')\n&gt; newax.axis('off')\n&gt; \n&gt; # Set aspect ratio to be equal so that pie is drawn as a circle.\n&gt; \n&gt; plt.show()\n</code></pre>\n\n<p>Really struggline a little bit with this one, I have clear its the line:</p>\n\n<pre><code> &gt;newax = fig.add_axes([0.33,0.36,0.37,0.30], anchor='SE', zorder=1)\n</code></pre>\n\n<p>but have been playing for a few days without any luck:</p>\n"}, {"tags": ["python", "amazon-web-services", "amazon-s3"], "comments": [{"owner": {"reputation": 7483, "user_id": 902751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f818a4a4d5e72627a81443a0cd1fc2da?s=128&d=identicon&r=PG", "display_name": "spg", "link": "https://stackoverflow.com/users/902751/spg"}, "edited": false, "score": 1, "creation_date": 1498681783, "post_id": 44811488, "comment_id": 76604599, "body": "I&#39;d be curious to know what boto3 can&#39;t do for your needs. Boto3 covers all APIs in AWS. Also, it handles signatures for you. If you&#39;re going to build signatures yourself, you&#39;re about to enter a huge world of pain and misery. You should definitely look deeper into boto3."}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1498699407, "post_id": 44811488, "comment_id": 76610248, "body": "<code>canonicalQuerystring = &#39;Action=&#39; + requestParameters</code> isn&#39;t correct. The string <code>Action=</code> does not belong here.  The S3 API is REST, not Query.  <a href=\"http://docs.aws.amazon.com/AmazonS3/latest/API/sig-v4-header-based-auth.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/API/&hellip;</a>"}, {"owner": {"reputation": 138098, "user_id": 1695906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/638d2ec6b52f3db1583890be23d74cc6?s=128&d=identicon&r=PG", "display_name": "Michael - sqlbot", "link": "https://stackoverflow.com/users/1695906/michael-sqlbot"}, "edited": false, "score": 0, "creation_date": 1498699484, "post_id": 44811488, "comment_id": 76610260, "body": "<code>requestParameters</code> also needs to be sorted lexically, although in this case you appear to have only one."}, {"owner": {"reputation": 11, "user_id": 6222110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0281254577743cceb186b55f6fb7b02d?s=128&d=identicon&r=PG&f=1", "display_name": "sccoache", "link": "https://stackoverflow.com/users/6222110/sccoache"}, "reply_to_user": {"reputation": 7483, "user_id": 902751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f818a4a4d5e72627a81443a0cd1fc2da?s=128&d=identicon&r=PG", "display_name": "spg", "link": "https://stackoverflow.com/users/902751/spg"}, "edited": false, "score": 0, "creation_date": 1498737412, "post_id": 44811488, "comment_id": 76628749, "body": "From my understanding, boto3 can&#39;t do what I want @spg, what my end goal here is to be able to generate signed URL requests of commands such as GET Bucket (List Objects) v2. I&#39;m open to using boto3 if there is a way to do that, however, I was enjoying using this as practice for HTTPS responses. Thank you!"}, {"owner": {"reputation": 7483, "user_id": 902751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/f818a4a4d5e72627a81443a0cd1fc2da?s=128&d=identicon&r=PG", "display_name": "spg", "link": "https://stackoverflow.com/users/902751/spg"}, "edited": false, "score": 0, "creation_date": 1498751397, "post_id": 44811488, "comment_id": 76639963, "body": "I&#39;m sure there&#39;s a class you could reuse in boto3 (or botocore) that would handle the signing for you. Just curious, why do you need to generate signed URLs for GET Bucket? Maybe there&#39;s an alternative."}, {"owner": {"reputation": 11, "user_id": 6222110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0281254577743cceb186b55f6fb7b02d?s=128&d=identicon&r=PG&f=1", "display_name": "sccoache", "link": "https://stackoverflow.com/users/6222110/sccoache"}, "edited": false, "score": 0, "creation_date": 1499087901, "post_id": 44811488, "comment_id": 76751245, "body": "All I want to do is be able to generate v4 signed GET and POST requests with arguments, I have no HTTP experience or anything like that at all and was given this as a task for a project and I&#39;m very lost"}], "owner": {"reputation": 11, "user_id": 6222110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0281254577743cceb186b55f6fb7b02d?s=128&d=identicon&r=PG&f=1", "display_name": "sccoache", "link": "https://stackoverflow.com/users/6222110/sccoache"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 294, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498701293, "creation_date": 1498679783, "last_edit_date": 1498701293, "question_id": 44811488, "link": "https://stackoverflow.com/questions/44811488/unable-to-construct-aws-s3-signature-for-method-in-python", "title": "Unable to construct AWS S3 signature for method in Python", "body": "<p>I have this Python code where I am trying to create signed HTTPS calls to AWS. (From <a href=\"http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html\" rel=\"nofollow noreferrer\">http://docs.aws.amazon.com/general/latest/gr/sigv4_signing.html</a>) </p>\n\n<p>However I get a response of </p>\n\n<p><code>403 The request signature we calculated does not match the signature you provided. Check your key and signing method\" from the server.</code> </p>\n\n<p>I can run the command from the AWS CLI so I know that my keys are valid and I can't find anything online that looks different than what I currently have. Also I've looked into Boto3 and it can't do what I want. </p>\n\n<pre><code>import sys, os, base64, datetime, hashlib, hmac \nimport requests # pip install requests\n\n# Standard Variables\naws_service = 's3'\naws_region = 'us-east-1'\nendpoint = 'https://s3.amazonaws.com'\nalgorithm = 'AWS4-HMAC-SHA256'\n\nsignedHeaders = 'host;x-amz-content-sha256;x-amz-date'\n\ndef test():\n  method = 'GET'\n  requestParameters = 'max-keys=2'\n  path = '/'\n  bucket = 'my-test-bucket'\n  signatureRequest(method, requestParameters, path, bucket)\n\n# Creates the Authorization Header for the request\ndef signatureRequest(method, requestParameters, objPath, bucket):\n  accessKey = os.environ.get('AWS_ACCESSKEY_ID')\n  secretKey = os.environ.get('AWS_SECRET_ACCESSKEY')\n  if accessKey is None or secretKey is None:\n    print 'No access key is available.'\n    sys.exit()\n\n  # Variables\n  host= aws_service + '.' + aws_region + '.amazonaws.com'\n  t = datetime.datetime.utcnow()\n  amzDate = t.strftime('%Y%m%dT%H%M%SZ')\n  dateStamp = t.strftime('%Y%m%d')\n  canonicalUri = objPath\n  canonicalQuerystring = 'Action=' + requestParameters\n  payloadHash = hashlib.sha256('').hexdigest() # hash is always '' for GET\n\n  #--- Create the request (Task 1) ---\n  canonicalHeaders = 'host:' + host + '\\n' + 'x-amz-content-sha256:' + payloadHash + '\\n' + 'x-amz-date:' + amzDate + '\\n'\n  canonicalRequest = method + '\\n' + canonicalUri + '\\n' + canonicalQuerystring + '\\n' + canonicalHeaders + '\\n' + signedHeaders + '\\n' + payloadHash\n  print '--- Canonical Request (Task 1) ---'\n  print 'method \\ncanonicalUri \\ncanonicalQuerystring \\ncanonical_headers \\nsigned_headers \\npayload_hash \\n'\n  print '%s \\n\\n' % canonicalRequest\n\n  #--- String to Sign (Task 2) ---\n  credentialScope = dateStamp + '/' + aws_region + '/' + aws_service + '/' + 'aws4_request'\n  stringToSign = algorithm + '\\n' +  amzDate + '\\n' +  credentialScope + '\\n' +  hashlib.sha256(canonicalRequest).hexdigest()\n\n  #--- Signature (Task 3) ---\n  signingKey = getSignatureKey(secretKey, dateStamp, aws_region, aws_service)\n  signature = hmac.new(signingKey, (stringToSign).encode('utf-8'), hashlib.sha256).hexdigest()\n\n  #--- authorizationHeader (Task 4) ---\n  authorizationHeader = algorithm + ' ' + 'Credential=' + accessKey + '/' + credentialScope + ', ' +  'SignedHeaders=' + signedHeaders + ', ' + 'Signature=' + signature\n  requestUrl = endpoint + '?' + canonicalQuerystring # Creates the URL\n\n  #The 'host' header is added automatically by the Python 'requests' library.\n  headers = {'x-amz-content-sha256': payloadHash, 'x-amz-date':amzDate, 'Authorization':authorizationHeader}\n\n  sendRequest(requestUrl, headers)\n\n# Key Signing Functions\ndef sign(key, msg):\n  '''\n  Copied from https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html\n  '''\n  return hmac.new(key, msg.encode('utf-8'), hashlib.sha256).digest()\n\ndef getSignatureKey(key, dateStamp, regionName, serviceName):\n  '''\n  Copied from https://docs.aws.amazon.com/general/latest/gr/sigv4-signed-request-examples.html\n  '''\n  kDate = sign(('AWS4' + key).encode('utf-8'), dateStamp)\n  kRegion = sign(kDate, regionName)\n  kService = sign(kRegion, serviceName)    \n  kSigning = sign(kService, 'aws4_request')\n  print '%s' % kSigning\n  return kSigning\n\n# Sends the request to AWS and prints the return code\ndef sendRequest(url, headers):\n  r = requests.get(url, headers=headers)\n  print 'Response from AWS: %d\\n' % r.status_code\n  print r.text\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 2, "creation_date": 1498679765, "post_id": 44811452, "comment_id": 76603383, "body": "Wouldn&#39;t you just modify your <code>no-data</code> class to include <code>text-align:center;</code>?  Would be helpful if you include the css for that class.  Remember, you should provide a minimal set of code so it is reproducible."}, {"owner": {"reputation": 631, "user_id": 3739517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PCydR.jpg?s=128&g=1", "display_name": "Supersnake", "link": "https://stackoverflow.com/users/3739517/supersnake"}, "edited": false, "score": 0, "creation_date": 1498680453, "post_id": 44811452, "comment_id": 76603803, "body": "Are you using paging in your grid? If so then the paging bar at the bottom of the grid will have a &#39;No Items to Display&#39; message."}, {"owner": {"reputation": 7, "user_id": 7834233, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6dc0bc4eed6df60915735e3ae7bf0a1?s=128&d=identicon&r=PG&f=1", "display_name": "212Coder", "link": "https://stackoverflow.com/users/7834233/212coder"}, "reply_to_user": {"reputation": 5865, "user_id": 2557138, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/zwSr0.png?s=128&g=1", "display_name": "Rick S", "link": "https://stackoverflow.com/users/2557138/rick-s"}, "edited": false, "score": 0, "creation_date": 1498767654, "post_id": 44811452, "comment_id": 76649143, "body": "@RickS yes, I added the text-align: center and that worked perfectly!"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 4891925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53ccc3d4b9c8b0d5fdae87b52139481a?s=128&d=identicon&r=PG&f=1", "display_name": "raj_just123", "link": "https://stackoverflow.com/users/4891925/raj-just123"}, "is_accepted": false, "score": 0, "last_activity_date": 1498689153, "creation_date": 1498689153, "answer_id": 44813563, "question_id": 44811452, "link": "https://stackoverflow.com/questions/44811452/python-error-adm-not-defined/44813563#44813563", "title": "Python- Error &#39;adm&#39; not defined", "body": "<p>Using the pager on the kendo grid will give you more flexibility on what text you want to display and how you want it aligned.</p>\n\n<pre><code>&lt;div id=\"grid\"&gt;&lt;/div&gt;\n&lt;script&gt;\n$(\"#grid\").kendoGrid({\n  columns: [\n    { field: \"column1\" },\n    { field: \"column2\" }\n  ],\n  dataSource: [\n  ],\n  pageable: {\n    pageSize: 2,\n    messages: {\n      empty: \"No matching records found\"\n    }\n  }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>This way, you can customize the text using css:</p>\n\n<pre><code>&lt;style&gt;\n    #grid .k-pager-info.k-label {\n        float: left\n    }\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2127, "user_id": 3330947, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cbef7af543f21150cca4c794b5e47e45?s=128&d=identicon&r=PG", "display_name": "dev_in_progress", "link": "https://stackoverflow.com/users/3330947/dev-in-progress"}, "is_accepted": true, "score": 0, "last_activity_date": 1498733165, "last_edit_date": 1592644375, "creation_date": 1498733165, "answer_id": 44823020, "question_id": 44811452, "link": "https://stackoverflow.com/questions/44811452/python-error-adm-not-defined/44823020#44823020", "title": "Python- Error &#39;adm&#39; not defined", "body": "<p>How about this:</p>\n<pre><code>$(&quot;#grid&quot;).kendoGrid({\n    dataSource: ...,\n    columns: [...],\n    noRecords: {\n        template: '&lt;div class=&quot;no-data&quot;&gt;No data available&lt;/div&gt;'\n    }\n})\n\n.no-data {\n    float: left;\n    font-size: 40px;\n    color: #e2dfda;\n    height: 80px;\n    text-align: start;\n    margin-left: 20px;\n    margin-top: 20px;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IMqBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IMqBu.png\" alt=\"No data\" /></a></p>\n<p>If you remove float and text-align property it will be centered!</p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 7834233, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6dc0bc4eed6df60915735e3ae7bf0a1?s=128&d=identicon&r=PG&f=1", "display_name": "212Coder", "link": "https://stackoverflow.com/users/7834233/212coder"}, "is_accepted": false, "score": 0, "last_activity_date": 1498767713, "creation_date": 1498767713, "answer_id": 44834331, "question_id": 44811452, "link": "https://stackoverflow.com/questions/44811452/python-error-adm-not-defined/44834331#44834331", "title": "Python- Error &#39;adm&#39; not defined", "body": "<pre><code> function gridDataBound(e) {\n        var grid = e.sender;\n        if (grid.dataSource.total() == 0) {\n            var colCount = grid.columns.length;\n            $(e.sender.wrapper)\n                .find('tbody')\n                .append('&lt;tr class=\"kendo-data-row\"&gt;&lt;td colspan=\"' + colCount + '\" style=\"text-align:center; height: 170px; class=\"no-data\"&gt;No matching records found&lt;/td&gt;&lt;/tr&gt;');\n        }\n    };\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 7834233, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b6dc0bc4eed6df60915735e3ae7bf0a1?s=128&d=identicon&r=PG&f=1", "display_name": "212Coder", "link": "https://stackoverflow.com/users/7834233/212coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 383, "favorite_count": 1, "accepted_answer_id": 44823020, "answer_count": 3, "score": 0, "last_activity_date": 1532559322, "creation_date": 1498679631, "last_edit_date": 1532559322, "question_id": 44811452, "link": "https://stackoverflow.com/questions/44811452/python-error-adm-not-defined", "title": "Python- Error &#39;adm&#39; not defined", "body": "<p>Hi I have the following code below which is giving me a class error.\nI do not know what is wrong with the function or class. Please advise. \nHi I have the following code below which is giving me a class error.\nI do not know what is wrong with the function or class. Please adviseHi I have the following code below which is giving me a class error.\nI do not know what is wrong with the function or class. Please advise</p>\n\n<pre><code>def User(uname):\n    print('\\nA)post message\\nB)see recent post\\nc)Quit\\n')\n    ch=input('enter your choice:')\n    if(ch.lower()=='c'):\n        return\n    elif(ch.lower()=='a'):\n        tdmin.UserDict[uname].postMessage()\n        user(uname, pswrd)\n#define the Admin class\ndef adminFun(adm):\n    print('\\nA)add user\\nB)remove user\\nC)activity of user\\nD)display most and least active user\\nE)exit\\n')\n    ch=input('enter your choice:')\n    if(ch.lower()=='e'):\n        return\n    elif(ch.lower()=='a'):\n        adm.addUser()\n        admin(adm)\n\nclass Admin():\n    username='admin'\n    password='1234'\n    userDict = {}\n    def __init__(self):\n        pass\n    def addUser(self):\n        userDict = {}\n        uname = input('Enter a user name:')\n        pswrd = input('password:')\n        self.userDict[uname] = pswrd\n        print(userDict)\n\nif __name__=='__main__':\n    while(True):\n        print('A)Login\\nB)Quit')\n        ch=input('Enter your choice:')\n        if(ch.lower()=='b'):\n            exit()\n        elif(ch.lower()=='a'):\n            usrname=input('please enter User name:')\n            adm = adminFun(adm)\n            adm.addUser()\n            if(usrname==adm.username):\n                passwrd=input('enter {} password:'.format(adm.username))\n                if(passwrd==adm.password):\n                    admin(adm)\n                else:\n                    print('incorrect password')\n        elif(usrname in adm.UserDict):\n            passwrd=input('enter {} password:'.format(usrname))\n            if passwrd != adm.UserDict[usrname].pswrd:\n                print('password invalid')\n            else:\n                adm.UserDict[usrname].visit+=1\n                user(usrname)\n\n        else:\n            print('enter valid username!')\n\n\n\n#Dictionary of Users\ndict_users = {}\n</code></pre>\n"}, {"tags": ["python", "printing"], "comments": [{"owner": {"reputation": 7, "user_id": 8196112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49402f85005d09e52b7e63488aa1dbe?s=128&d=identicon&r=PG&f=1", "display_name": "LOL", "link": "https://stackoverflow.com/users/8196112/lol"}, "edited": false, "score": 0, "creation_date": 1498679626, "post_id": 44811438, "comment_id": 76603299, "body": "Im also using python 3"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 2, "creation_date": 1498679680, "post_id": 44811438, "comment_id": 76603328, "body": "You forgot a <code>+</code>."}, {"owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "edited": false, "score": 2, "creation_date": 1498679708, "post_id": 44811438, "comment_id": 76603347, "body": "you&#39;re missing a <code>+</code> between <code>PlayerName</code> and  <code>&quot;! Enter your...&quot;</code>"}, {"owner": {"reputation": 7, "user_id": 8196112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49402f85005d09e52b7e63488aa1dbe?s=128&d=identicon&r=PG&f=1", "display_name": "LOL", "link": "https://stackoverflow.com/users/8196112/lol"}, "edited": false, "score": 0, "creation_date": 1498679728, "post_id": 44811438, "comment_id": 76603359, "body": "Where did I forget it?"}, {"owner": {"reputation": 3240, "user_id": 1754709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BQhqD.png?s=128&g=1", "display_name": "Grimmy", "link": "https://stackoverflow.com/users/1754709/grimmy"}, "edited": false, "score": 0, "creation_date": 1498679779, "post_id": 44811438, "comment_id": 76603394, "body": "<code>print(&quot;Hello, {name}! Enter your number&quot;.format(name=PlayerName))</code>"}, {"owner": {"reputation": 7, "user_id": 8196112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49402f85005d09e52b7e63488aa1dbe?s=128&d=identicon&r=PG&f=1", "display_name": "LOL", "link": "https://stackoverflow.com/users/8196112/lol"}, "edited": false, "score": 0, "creation_date": 1498679781, "post_id": 44811438, "comment_id": 76603396, "body": "Oh ok thanks a lot guys!"}], "answers": [{"tags": [], "owner": {"reputation": 7050, "user_id": 8033585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcd92ce2da15d74815d79b2908132d3?s=128&d=identicon&r=PG&f=1", "display_name": "AGN Gazer", "link": "https://stackoverflow.com/users/8033585/agn-gazer"}, "is_accepted": false, "score": 1, "last_activity_date": 1498679770, "creation_date": 1498679770, "answer_id": 44811486, "question_id": 44811438, "link": "https://stackoverflow.com/questions/44811438/how-do-you-add-a-variable-to-a-print-function-in-python/44811486#44811486", "title": "How do you add a variable to a print function in python?", "body": "<pre><code>print(\"Hello,\"  +str(PlayerName) + \"! Enter your number and I\\'ll tell you if it\\'s even or odd!\")\n</code></pre>\n\n<p>or </p>\n\n<pre><code>print(\"Hello, {}! Enter your number and I\\'ll tell you if it\\'s even or odd!\".format(PlayerName))\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8228212"}, "is_accepted": false, "score": 1, "last_activity_date": 1498682296, "creation_date": 1498682296, "answer_id": 44812132, "question_id": 44811438, "link": "https://stackoverflow.com/questions/44811438/how-do-you-add-a-variable-to-a-print-function-in-python/44812132#44812132", "title": "How do you add a variable to a print function in python?", "body": "<p>Use format function</p>\n\n<pre><code>print(\"hello world {someparam}\".format(name='foo')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8222702, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B2srZ.jpg?s=128&g=1", "display_name": "Chase", "link": "https://stackoverflow.com/users/8222702/chase"}, "is_accepted": false, "score": 0, "last_activity_date": 1498682500, "creation_date": 1498682500, "answer_id": 44812194, "question_id": 44811438, "link": "https://stackoverflow.com/questions/44811438/how-do-you-add-a-variable-to-a-print-function-in-python/44812194#44812194", "title": "How do you add a variable to a print function in python?", "body": "<p><strong>Try this code:</strong></p>\n\n<p>Remember to add a \"+\" sign between variables and strings to print a combined sentence.</p>\n\n<pre><code>print(\"Hello! What is your name?\")\nplayerName = input()\nprint(\"Hello, \" + playerName + \"! Enter your number and I'll tell you if it's even or odd!\")\nplayerNum = input()\nList = list(playerNum)\nprint(playerNum)\n</code></pre>\n\n<p>As for determining if it is even or odd, I'm not sure if you did this code already but here is what I would use:</p>\n\n<pre><code>if int(playerNum) % 2 == 0:\n    print(\"Even\")\nelse:\n    print(\"Odd\")\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 8196112, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e49402f85005d09e52b7e63488aa1dbe?s=128&d=identicon&r=PG&f=1", "display_name": "LOL", "link": "https://stackoverflow.com/users/8196112/lol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 3, "score": -2, "last_activity_date": 1498717580, "creation_date": 1498679557, "last_edit_date": 1498679705, "question_id": 44811438, "link": "https://stackoverflow.com/questions/44811438/how-do-you-add-a-variable-to-a-print-function-in-python", "title": "How do you add a variable to a print function in python?", "body": "<p>Ok, so I typed in my code, but I keep getting syntax errors. So, why is it not working? Please let me know. \nThanks</p>\n\n<pre><code># Odd or Even?\nprint('Hello! What is your name?')\nPlayerName = input()\nprint(\"Hello,\"  +PlayerName \"! Enter your number and I\\'ll tell you if it\\'s even or odd!\")\nPlayerNum = input()\nList = list(PlayerNum)\nprint(PlayerNum)\n</code></pre>\n"}, {"tags": ["python", "dictionary", "pulp"], "comments": [{"owner": {"reputation": 59721, "user_id": 72631, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/42a1d7b456fc3d77050f124927ad70ab?s=128&d=identicon&r=PG", "display_name": "rlbond", "link": "https://stackoverflow.com/users/72631/rlbond"}, "edited": false, "score": 1, "creation_date": 1498679803, "post_id": 44811430, "comment_id": 76603415, "body": "From your above post it looks like <code>demand.index</code> returns tuples so you need to get just a unique set of the second item. <code>model += pulp.lpSum( [bookingsaccepted[(0,j)] for j in set(b) for a,b in demand.index] ) &lt;= capacity</code>"}], "answers": [{"comments": [{"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1498683100, "post_id": 44811695, "comment_id": 76605246, "body": "Why then does this code not provide same results: &#39;model += bookingsaccepted[(0,1)]  + bookingsaccepted[(0,2)] + bookingsaccepted[(0,3)] + bookingsaccepted[(0,4)] + bookingsaccepted[(0,5)] + bookingsaccepted[(0,6)]  \\          + bookingsaccepted[(0,7)] + bookingsaccepted[(0,8)]+ bookingsaccepted[(0,9)] + bookingsaccepted[(0,10)] &lt;= capacity&#39;"}, {"owner": {"reputation": 373, "user_id": 6174024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b08cc4be558bf7a2829a18a6240fa39?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Yudin", "link": "https://stackoverflow.com/users/6174024/igor-yudin"}, "reply_to_user": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1498684930, "post_id": 44811695, "comment_id": 76606111, "body": "There are completely different meaning between <code>lpSum(...) &lt;= num</code> and <code>sum(...) &lt;= num</code>."}, {"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1498685896, "post_id": 44811695, "comment_id": 76606533, "body": "Also gives different results than: &#39;for i,j in demand.index:     if i==0:         model += pulp.lpSum( bookingsaccepted[i,j] ) &lt;= capacity     else:         break&#39;"}, {"owner": {"reputation": 373, "user_id": 6174024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b08cc4be558bf7a2829a18a6240fa39?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Yudin", "link": "https://stackoverflow.com/users/6174024/igor-yudin"}, "reply_to_user": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1498686417, "post_id": 44811695, "comment_id": 76606755, "body": "<code>pulp.lpSum(..) &lt;= capacity</code> creates a new constraint. You add all your elements and set it to be less or equal the capacity, but that&#39;s not the same, when you create a constraint for each element. You create completely different sets of constraints and add in to your model. That&#39;s absolutely different things."}, {"owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "edited": false, "score": 0, "creation_date": 1498771363, "post_id": 44811695, "comment_id": 76650888, "body": "Thank you. The code that worked was: <code>model += pulp.lpSum( [bookingsaccepted[(i,j)] for i, j in demand.index if i==0] ) &lt;= capacity</code>"}], "tags": [], "owner": {"reputation": 373, "user_id": 6174024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b08cc4be558bf7a2829a18a6240fa39?s=128&d=identicon&r=PG&f=1", "display_name": "Igor Yudin", "link": "https://stackoverflow.com/users/6174024/igor-yudin"}, "is_accepted": false, "score": 2, "last_activity_date": 1498680536, "creation_date": 1498680536, "answer_id": 44811695, "question_id": 44811430, "link": "https://stackoverflow.com/questions/44811430/python-calling-dictionary-w-2-keys/44811695#44811695", "title": "Python - Calling Dictionary w/ 2 Keys", "body": "<p>That looks like your <code>demand.index</code> consists of pairs <code>(i, j)</code>. Look here you iterate through <code>demand.index</code> and it brings i and j:</p>\n\n<pre><code>bookingsaccepted = pulp.LpVariable.dicts(\"bookingsaccepted\",\n              ((i, j) for i, j in demand.index), lowBound=0, cat='Integer')\n</code></pre>\n\n<p>So, when you're iterating <code>demand.index</code> you get a tuples <code>(i, j)</code>. If you need to get only <code>j</code>, do so:</p>\n\n<pre><code>model += pulp.lpSum( [bookingsaccepted[(0,j)] for i, j in demand.index] ) &lt;= capacity\n</code></pre>\n\n<p>or</p>\n\n<pre><code>model += pulp.lpSum( [bookingsaccepted[(0,index[1])] for index in demand.index] ) &lt;= capacity\n</code></pre>\n"}], "owner": {"reputation": 245, "user_id": 3242036, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/37d758e91fc943b363d78ff504bc36c6?s=128&d=identicon&r=PG&f=1", "display_name": "user3242036", "link": "https://stackoverflow.com/users/3242036/user3242036"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498680536, "creation_date": 1498679530, "question_id": 44811430, "link": "https://stackoverflow.com/questions/44811430/python-calling-dictionary-w-2-keys", "title": "Python - Calling Dictionary w/ 2 Keys", "body": "<p>I have a dictionary with 2 keys (i and j) that are the same as indices in a data frame. \nExample of data frame - demands for different i and j pairings.</p>\n\n<hr>\n\n<pre><code>i   j   Demand\n0   1   13\n0   2   24\n0   3   68\n0   4   92\n0   5   72\n0   6   11\n0   7   12\n0   8   6\n0   9   4\n0   10  3\n1   1   0\n1   2   11\n1   3   15\n.   .   .\n</code></pre>\n\n<p>The i's go from 0 to 9 and the j's repeat for each i from 1 to 10.\nA dictionary for bookings accepted was built off of this demand as such:</p>\n\n<pre><code>bookingsaccepted = pulp.LpVariable.dicts(\"bookingsaccepted\",\n                  ((i, j) for i, j in demand.index), lowBound=0, cat='Integer')\n</code></pre>\n\n<p>And now I am trying to reference values in the bookings accepted dictionary. I am trying to set a constraint in pulp so that all the (i,j) pairs where i=0 are summed together. I am using this but it doesn't work and I can't figure out why.</p>\n\n<pre><code>model += pulp.lpSum( [bookingsaccepted[(0,j)] for j in demand.index] ) &lt;= capacity\n</code></pre>\n\n<p>Gives error:\nKeyError: (0, (0, 1))</p>\n"}, {"tags": ["python", "performance", "pypy"], "comments": [{"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498680355, "post_id": 44811418, "comment_id": 76603740, "body": "@user2357112 if it&#39;s wrong then why does <code>sieve(10**8) == sieve_var(10**8)</code>?"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498681747, "post_id": 44811418, "comment_id": 76604582, "body": "How did you time this?"}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498685693, "post_id": 44811418, "comment_id": 76606449, "body": "@user2357112 basically <code>t = time.clock(); print(len(sieve(10**8))); print(time.clock()-t)</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498685911, "post_id": 44811418, "comment_id": 76606538, "body": "Did you time the two calls in the same process?"}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1498687051, "post_id": 44811418, "comment_id": 76607028, "body": "@user2357112 not sure what you mean but I ran both as separate programs"}, {"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 2, "creation_date": 1498728230, "post_id": 44811418, "comment_id": 76622391, "body": "I can reproduce the problem. I get around 6.6s for <code>len(sieve(2*10**8))</code> and 7s for <code>len(sieve_var(2*10**8))</code>. I am using pypy 5.7.1 on  64 bit Windows."}, {"owner": {"reputation": 16381, "user_id": 1176601, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YCkL9.jpg?s=128&g=1", "display_name": "Aprillion", "link": "https://stackoverflow.com/users/1176601/aprillion"}, "edited": false, "score": 0, "creation_date": 1499413961, "post_id": 44811418, "comment_id": 76905596, "body": "more brainstorming ideas: when compiled by pypi, the <code>range</code> generator may use single <code>INC</code> instruction for the increment of 1, but not for 2... or processors may be able to predict the next value of <code>i</code> in the simpler situation and correctly guess the branches..."}], "answers": [{"comments": [{"owner": {"reputation": 9307, "user_id": 2179021, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/629b9942cb64be30074eecfe0a100a50?s=128&d=identicon&r=PG", "display_name": "eleanora", "link": "https://stackoverflow.com/users/2179021/eleanora"}, "edited": false, "score": 0, "creation_date": 1498729746, "post_id": 44821699, "comment_id": 76623439, "body": "The number of iterations of the inner loop is much smaller in the sieve_var case. Try this code: <a href=\"https://bpaste.net/show/bfbd7e66bdcb\" rel=\"nofollow noreferrer\">bpaste.net/show/bfbd7e66bdcb</a>"}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1498730361, "post_id": 44821699, "comment_id": 76623879, "body": "One extra check? Isn&#39;t the second version doing half as many checks?"}, {"owner": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1498731268, "post_id": 44821699, "comment_id": 76624496, "body": "Yes, the second version is in theory doing half as many checks.  My point is that it&#39;s completely irrelevant because these checks are all in the cache and the benchmark is memory-bound.  I&#39;m told it becomes 7 times faster (on 64-bit linux) by using a bytearray instead---and, surprize, that&#39;s almost the reduction of memory."}, {"owner": {"reputation": 11905, "user_id": 2897372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9e114bd942d7cc21603ae50d2e73d81?s=128&d=identicon&r=PG", "display_name": "B\u0142otosm\u0119tek", "link": "https://stackoverflow.com/users/2897372/b%c5%82otosm%c4%99tek"}, "edited": false, "score": 0, "creation_date": 1499031148, "post_id": 44821699, "comment_id": 76729173, "body": "I don&#39;t think it is the correct explanation \u2013 I have changed this code to use <code>bytearray</code>; now on my home server (Linux) <code>sieve</code> and <code>sieve_var</code> take 55 and 39s respectively using python3, but 5.29 and 5.53 usiny pypy. So, sieve_var is still slower under pypy."}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1499154997, "post_id": 44821699, "comment_id": 76777796, "body": "Why is it the same speed in pypy but not in python?"}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 1, "creation_date": 1499166392, "post_id": 44821699, "comment_id": 76785380, "body": "@qwr if you run pypy without jit-compiler (<code>pypy --jit off</code>) you will see that <code>sieve_var</code> is faster than <code>sieve</code>. I guess it is overhead from the intepreter, which makes the difference."}, {"owner": {"reputation": 16381, "user_id": 1176601, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/YCkL9.jpg?s=128&g=1", "display_name": "Aprillion", "link": "https://stackoverflow.com/users/1176601/aprillion"}, "reply_to_user": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "edited": false, "score": 0, "creation_date": 1499412437, "post_id": 44821699, "comment_id": 76904686, "body": "@ead and if you compare <code>sieve_var</code> with and without JIT, which one is faster? if it&#39;s faster with JIT, I wouldn&#39;t call it &quot;overhead&quot;, just that the less sophisticated version of the code was easier to optimize"}], "tags": [], "owner": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "is_accepted": false, "score": 10, "last_activity_date": 1498729545, "creation_date": 1498729545, "answer_id": 44821699, "question_id": 44811418, "link": "https://stackoverflow.com/questions/44811418/why-is-this-improved-sieve-slower-with-pypy/44821699#44821699", "title": "Why is this improved sieve slower with pypy?", "body": "<p>I'm not sure why it's slightly slower on Windows.  On Linux the speed is the same.  However, I can answer why we get <em>mostly</em> the same speed.  The answer would be the same if the program was written in C, and the answer is purely at the level of the processor.  This program is bound on memory I/O accessing the list, which is 400 or 800MB in size.  In the second version, you're basically avoiding one extra <code>if nums[i] == 0</code> check.  This extra check costs nothing, though, because the CPU just fetched <code>nums[i - 1]</code> in its caches during the previous iteration and will need <code>nums[i + 1]</code> during the next iteration.  The CPU is waiting for the memory anyway.</p>\n\n<p>To verify what I'm saying, try to make the <code>nums</code> array more compact.  I tried to access it with <code>nums[i // 2]</code>, assuming that <code>i</code> is always odd, and the result was twice faster.  You can probably win even more by not using a Python list (stored as an array of 32-bit integers on a 32-bit PyPy), but instead an array of bits (but it's much more code because there is no standard built-in array of bits).</p>\n"}, {"comments": [{"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1499155098, "post_id": 44894920, "comment_id": 76777866, "body": "Do you think the program is limited by list I/O speed?"}, {"owner": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1499433791, "post_id": 44894920, "comment_id": 76918431, "body": "Your answer is purely speculative.  If you&#39;re describing PyPy then it is wrong, sorry."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1499434448, "post_id": 44894920, "comment_id": 76918953, "body": "@ArminRigo You are right, it just a try to explain the experimental findings, because they can not be explained only in terms of memory band-width+caching. I&#39;m very thankful to everybody who would correct my misunderstandings!"}, {"owner": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1499450333, "post_id": 44894920, "comment_id": 76929107, "body": "In this kind of boring example, PyPy implements the list as an array of (machine-sized) integers, and unboxes all integers.  That means that PyPy&#39;s JIT produces code close to what C would, and the difference is mostly missing low-level optimizations at which gcc is better.  Maybe someone should first try to write actual C code, to check if we <i>do</i> get different behaviour; that sounds like something that should be done before assuming we&#39;ll get a difference and guessing why."}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1499536941, "post_id": 44894920, "comment_id": 76953218, "body": "I don&#39;t know which answer can be marked as &quot;correct&quot; but I&#39;m giving you the bounty for the experimental effort to determine pypy vs C differences."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1499661747, "post_id": 44894920, "comment_id": 76981642, "body": "@qwr I guess both answers didn&#39;t answer your question in full."}, {"owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "edited": false, "score": 0, "creation_date": 1499721957, "post_id": 44894920, "comment_id": 77018030, "body": "I was kinda hoping someone who really knew the inner workings of pypy could give a authoritative answer, but it&#39;s more a curiosity to me than something actually serious, so I&#39;m fine with the answers."}, {"owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "reply_to_user": {"reputation": 10650, "user_id": 1556290, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5b37e6b4ac97453e4ba9dba37954cf79?s=128&d=identicon&r=PG", "display_name": "Armin Rigo", "link": "https://stackoverflow.com/users/1556290/armin-rigo"}, "edited": false, "score": 0, "creation_date": 1499977881, "post_id": 44894920, "comment_id": 77153266, "body": "@ArminRigo Sorry to bother you again. I did some more digging and now it looks like the difference is due to a more efficient jit-code of the first version. Does it sound right? What could be the reason these differences? If compiled with C, the assembly of both version would not differ much..."}], "tags": [], "owner": {"reputation": 26689, "user_id": 5769463, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/71a28b5fac23ee656a32cc7ea6df54ec?s=128&d=identicon&r=PG&f=1", "display_name": "ead", "link": "https://stackoverflow.com/users/5769463/ead"}, "is_accepted": false, "score": 4, "last_activity_date": 1499978042, "last_edit_date": 1499978042, "creation_date": 1499123848, "answer_id": 44894920, "question_id": 44811418, "link": "https://stackoverflow.com/questions/44811418/why-is-this-improved-sieve-slower-with-pypy/44894920#44894920", "title": "Why is this improved sieve slower with pypy?", "body": "<p>TL,DR;</p>\n\n<p>As a C-program this would be a memory bound algorithm. However, even jit-compiled pypy-code has considerably more overhead and the operations are no longer \"for free\". Surprisingly (or maybe not), rhese two <code>sieve</code> versions have different jit-code, it is probably just bad luck that the second version results in a slower code.</p>\n\n<hr>\n\n<p>If it would be C,  @Armin's answer would be the right one. It is well known, that for modern computers/caches and memory-bound code it does not matter if we jump over an integer - nevertheless all values must be fetched from memory and this is a bottle-neck. See <a href=\"http://igoro.com/archive/gallery-of-processor-cache-effects/\" rel=\"nofollow noreferrer\">this article</a> for a great explanation.</p>\n\n<p>Yet my experiments show that the non-optimized version (<code>sieve</code>) is slightly faster than the optimized version (<code>sieve_var</code>). Timings also shown, that the last line of <code>sieve</code> i.e. <code>[i for i in range(2, n) if nums[i] == 0]</code> is executed faster than the line of <code>sieve_var</code> - <code>return [2] + [i for i in range(3, n, 2) if nums[i] == 0]</code>. </p>\n\n<p>On my machine it was<code>0.45</code> seconds vs. <code>0.65</code> seconds for <code>10^8</code> elements. These numbers may vary from machine to machine, so it is quite possible that somebody with faster CPU and slower memory would not see any difference at all. If it could be explained in terms of \"memory dominates all\", then we should be able to see, that the slower version has more cache misses as the faster version.</p>\n\n<p>However, by running <code>valgrind --tool=cachegrind pypy sieveXXX.py</code> we can see, that there is almost no difference in number of cache misses, at least nothing that would explain the observable difference.</p>\n\n<p>Let's consider a slightly simpler version, which exhibits exactly the same behavior - we don't save the primes, but just count them:</p>\n\n<pre><code>def sieve(n):\n    ...\n    res=0\n    for i in range(2, n): \n          if nums[i] == 0:\n              res+=1\n    return res\n\ndef sieve_var(n):\n    ...\n    res=1\n    for i in range(3, n,2): \n          if nums[i] == 0:\n              res+=1\n    return res\n</code></pre>\n\n<p>The first version is still faster: <code>0.35</code> sec. vs. <code>0.45</code> sec (to make sure the time difference is no fluke and not due to some jit-warmup, I put the last part of the code into a for-loop and got always the same timings). </p>\n\n<p>Before going further, let's take a look at a C-implementation and its assembly </p>\n\n<pre><code>long long int sum(long long int *a, int n){\n    long long int res=0;\n    for(int i=2;i&lt;n;i++)\n       if(a[i]==0)\n          res++;\n    return res;\n} \n</code></pre>\n\n<p>compiled with <a href=\"https://godbolt.org/g/i8zKHd\" rel=\"nofollow noreferrer\">gcc and <code>-Os</code> we get</a>:</p>\n\n<pre><code>        movl    $2, %edx\n        xorl    %eax, %eax\n.L4:\n        cmpl    %edx, %esi\n        jle     .L1\n        cmpq    $0, (%rdi,%rdx,8)\n        jne     .L3\n        incq    %rax\n.L3:\n        incq    %rdx\n        jmp     .L4\n.L1:\n        ret\n</code></pre>\n\n<p>Pretty small and straight forward and takes only <code>0.08</code> seconds on my machine. My memory can go as fast as 10 GB/s and there are <code>8*10^8</code> bytes - so the whole time was basically needed to get the data. </p>\n\n<p>But from this we also see, that the pypy-version has about <code>0.25</code> seconds overhead compared to the C-code. Where does it come from? By utilizing the <a href=\"https://vmprof.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">vmprof-module</a> we can see the jit-code and:</p>\n\n<ol>\n<li>for one iteration of the loop, there are many more operations than in the C-version</li>\n<li>the versions for <code>sieve</code> and <code>sieve_par</code> are very different. We can <a href=\"https://stackoverflow.com/questions/21628002/counting-machine-instructions-using-gdb\">use debugger to count the number of instruction</a> of an iteration: <code>24</code> for <code>sieve</code>  and <code>76</code>-operations for <code>sieve_var</code> which handles only every second element, so the relation is actually  <code>24:38</code>. </li>\n</ol>\n\n<p>It is hard to tell, why jit-code is so different for both versions without debugging pypy. Probably it is just bad luck, that the <code>sieve_par</code> is slower.</p>\n"}], "owner": {"reputation": 6641, "user_id": 3163618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/bfab3078ba21206c78750d088cae76cf?s=128&d=identicon&r=PG&f=1", "display_name": "qwr", "link": "https://stackoverflow.com/users/3163618/qwr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 2, "answer_count": 2, "score": 14, "last_activity_date": 1584397508, "creation_date": 1498679486, "last_edit_date": 1584397508, "question_id": 44811418, "link": "https://stackoverflow.com/questions/44811418/why-is-this-improved-sieve-slower-with-pypy", "title": "Why is this improved sieve slower with pypy?", "body": "<pre><code>def sieve(n):\n    nums = [0] * n\n    for i in range(2, int(n**0.5)+1):\n        if nums[i] == 0:\n            for j in range(i*i, n, i):\n                nums[j] = 1\n\n    return [i for i in range(2, n) if nums[i] == 0]\n\ndef sieve_var(n):\n    nums = [0] * n\n    for i in range(3, int(n**0.5)+1, 2):\n        if nums[i] == 0:\n            for j in range(i*i, n, i):\n                nums[j] = 1\n\n    return [2] + [i for i in range(3, n, 2) if nums[i] == 0]\n</code></pre>\n\n<p>On my machine, <code>sieve(10**8)</code> takes 2.28 s while <code>sieve_var(10**8)</code> takes 2.67 s. I don't think pypy's warmup time is the culprit here, so why isn't <code>sieve_var</code>, which iterates over less, faster? In standard python 3.3 <code>sieve_var</code> is faster as expected. Using pypy 4.0.1 32bit on Windows 8.1.</p>\n\n<p><strong>Edit:</strong> As a test, I added <code>count = 0</code> at the start of the function and <code>count += 1</code> inside the inner loop (where <code>nums[j] = 1</code> is). <code>sieve(10**8)</code> counts 242570202 while <code>sieve_var(10**8)</code> counts 192570204. So although the count isn't halved for <code>sieve_var</code>, it is doing less \"work\". </p>\n\n<p>For fun, here is a version with slice indexing:</p>\n\n<pre><code>def sieve_slice(n):\n    sieve = [True] * n\n    for i in range(3,int(n**0.5)+1,2):\n        if sieve[i]:\n            sieve[i*i::2*i]=[False]*((n-i*i-1)//(2*i)+1)\n    return [2] + [i for i in range(3,n,2) if sieve[i]]\n</code></pre>\n\n<p>With python 3.6, <code>sieve_slice</code> runs about 4x faster than <code>sieve</code>, but with pypy3 7.3.0, <code>sieve</code> runs about 2x faster than <code>sieve_slice</code>. </p>\n"}, {"tags": ["python", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 2872, "user_id": 6805091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6abbb6c8d37d0e91ad6265d68a55bf?s=128&d=identicon&r=PG&f=1", "display_name": "Bubble Bubble Bubble Gut", "link": "https://stackoverflow.com/users/6805091/bubble-bubble-bubble-gut"}, "is_accepted": false, "score": 0, "last_activity_date": 1498680813, "creation_date": 1498680813, "answer_id": 44811764, "question_id": 44811405, "link": "https://stackoverflow.com/questions/44811405/pandas-concatenating-dataframe-with-sparse-matrix/44811764#44811764", "title": "Pandas: Concatenating DataFrame with Sparse Matrix", "body": "<p>Maybe you can try using <code>to_dense()</code> on the sparse matrix before doing the concatenation, and later convert back to a sparse matrix with <code>to_sparse()</code>. Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "is_accepted": false, "score": 3, "last_activity_date": 1498680918, "creation_date": 1498680918, "answer_id": 44811794, "question_id": 44811405, "link": "https://stackoverflow.com/questions/44811405/pandas-concatenating-dataframe-with-sparse-matrix/44811794#44811794", "title": "Pandas: Concatenating DataFrame with Sparse Matrix", "body": "<p>Consider the following demo:</p>\n\n<p>Source DF:</p>\n\n<pre><code>In [2]: df\nOut[2]:\n                     text\n0       is it  good movie\n1  wooow is it very goode\n2               bad movie\n</code></pre>\n\n<p>Solution: let's create a SparseDataFrame out of TFIDF sparse matrix:</p>\n\n<pre><code>from sklearn.feature_extraction.text import TfidfVectorizer\n\nvect = TfidfVectorizer(sublinear_tf=True, max_df=0.5, analyzer='word', stop_words='english')\n\nsdf = pd.SparseDataFrame(vect.fit_transform(df['text']),\n                         columns=vect.get_feature_names(), \n                         default_fill_value=0)\nsdf['text'] = df['text']\n</code></pre>\n\n<p>Result:</p>\n\n<pre><code>In [13]: sdf\nOut[13]:\n   bad  good     goode     wooow                    text\n0  0.0   1.0  0.000000  0.000000       is it  good movie\n1  0.0   0.0  0.707107  0.707107  wooow is it very goode\n2  1.0   0.0  0.000000  0.000000               bad movie\n\nIn [14]: sdf.memory_usage()\nOut[14]:\nIndex    80\nbad       8\ngood      8\ngoode     8\nwooow     8\ntext     24\ndtype: int64\n</code></pre>\n\n<p>PS pay attention at <code>.memory_usage()</code> - we didn't lose the \"spareness\". If we would use <code>pd.concat</code>, <code>join</code>, <code>merge</code>, etc. - we would lose the \"sparseness\" as all these methods generate a new regular (not sparsed) copy of merged DataFrames</p>\n"}], "owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4275, "favorite_count": 0, "answer_count": 2, "score": 7, "last_activity_date": 1498680918, "creation_date": 1498679449, "question_id": 44811405, "link": "https://stackoverflow.com/questions/44811405/pandas-concatenating-dataframe-with-sparse-matrix", "title": "Pandas: Concatenating DataFrame with Sparse Matrix", "body": "<p>I'm doing some basic machine learning and have a sparse matrix resulting from TFIDF as follows:</p>\n\n<pre><code>&lt;983x33599 sparse matrix of type '&lt;type 'numpy.float64'&gt;'\n    with 232944 stored elements in Compressed Sparse Row format&gt;\n</code></pre>\n\n<p>Then I have a DataFrame with a <code>title</code> column.  I want to combine these into one DataFrame but when I try to use <code>concat</code>, I get that I can't combine a DataFrame with a non-DataFrame object.</p>\n\n<p>How do I get around this?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "django", "python-2.7"], "comments": [{"owner": {"reputation": 2780, "user_id": 7992467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uhwP2.jpg?s=128&g=1", "display_name": "cookiedough", "link": "https://stackoverflow.com/users/7992467/cookiedough"}, "edited": false, "score": 1, "creation_date": 1498679476, "post_id": 44811362, "comment_id": 76603208, "body": "Do you have operator installed?"}, {"owner": {"reputation": 3226, "user_id": 424303, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb28353472ae0098eb51de2883d97c0?s=128&d=identicon&r=PG", "display_name": "Emile", "link": "https://stackoverflow.com/users/424303/emile"}, "edited": false, "score": 0, "creation_date": 1498679520, "post_id": 44811362, "comment_id": 76603232, "body": "Try to import operator, it would appear you don&#39;t have it installed"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1498679903, "post_id": 44811362, "comment_id": 76603469, "body": "You seem to be hitting <a href=\"http://bugs.python.org/issue21306\" rel=\"nofollow noreferrer\">issue 21306</a>, which basically means that your either Python installation is broken. Or you messed up the package path so that <code>operator</code> is not the standard <code>operator</code> library. Does your application have an <code>operator</code> package?"}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "reply_to_user": {"reputation": 3226, "user_id": 424303, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb28353472ae0098eb51de2883d97c0?s=128&d=identicon&r=PG", "display_name": "Emile", "link": "https://stackoverflow.com/users/424303/emile"}, "edited": false, "score": 0, "creation_date": 1498680302, "post_id": 44811362, "comment_id": 76603707, "body": "@Emile where in my code  to <code>import operator</code> ?"}, {"owner": {"reputation": 3226, "user_id": 424303, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/4eb28353472ae0098eb51de2883d97c0?s=128&d=identicon&r=PG", "display_name": "Emile", "link": "https://stackoverflow.com/users/424303/emile"}, "reply_to_user": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1498680416, "post_id": 44811362, "comment_id": 76603784, "body": "Open a terminal, type &quot;import operator&quot;, we are saying that should error as it isn&#39;t included with your Python installation, like @dhke said"}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "reply_to_user": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1498680428, "post_id": 44811362, "comment_id": 76603793, "body": "@dhke  yes i have operator library,i have two pythonpath i think but how to fix it?"}, {"owner": {"reputation": 13636, "user_id": 3191557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ffa6013ed93cfff5ef56f1ddf63956b1?s=128&d=identicon&r=PG&f=1", "display_name": "dhke", "link": "https://stackoverflow.com/users/3191557/dhke"}, "edited": false, "score": 0, "creation_date": 1498680887, "post_id": 44811362, "comment_id": 76604034, "body": "@Mar Well, by first checking what goes wrong. If you open a Python prompt (<code>manage.py shell</code> if you&#39;ve got nothing else) and type <code>import operator</code> what does <code>import sys; print sys.modules[&#39;operator&#39;]</code> say? If it&#39;s not something like <code>C:\\Python27\\Lib\\operator.py</code>, you are getting the wrong module."}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 1, "creation_date": 1498681666, "post_id": 44811362, "comment_id": 76604532, "body": "that say me <code>&lt;module &#39;operator&#39; (built-in)&gt;</code>"}, {"owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "edited": false, "score": 0, "creation_date": 1498681930, "post_id": 44811362, "comment_id": 76604685, "body": "i dont have &#39;operator.py&#39; in my system only &#39;test_operator.py&#39; and &#39;fix_operator.py&#39;"}], "owner": {"reputation": 583, "user_id": 7080457, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/1c401b8d7c36164cfdbd94d877156e24?s=128&d=identicon&r=PG&f=1", "display_name": "Mar", "link": "https://stackoverflow.com/users/7080457/mar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498679308, "creation_date": 1498679308, "question_id": 44811362, "link": "https://stackoverflow.com/questions/44811362/django-cannot-import-name-compare-digest", "title": "DJANGO cannot import name _compare_digest", "body": "<p>hello i have python 7.13</p>\n\n<p>DJANGO 1.11.2 version</p>\n\n<p>django-crypto 0.20 version on windows 10.</p>\n\n<p>i want to create a DJANGO app but anytime to try to migrate i take</p>\n\n<p>that error :</p>\n\n<pre><code>    from django.utils.crypto import get_random_string\n  File \"C:\\Python27\\lib\\site-packages\\django\\utils\\crypto.py\", line 8, in &lt;module&gt;\n    import hmac\n  File \"C:\\Python27\\Lib\\hmac.py\", line 8, in &lt;module&gt;\n    from operator import _compare_digest as compare_digest\nImportError: cannot import name _compare_digest\n</code></pre>\n\n<p>how to fix it ?</p>\n"}, {"tags": ["python", "if-statement", "sum", "conditional-statements", "pandas-groupby"], "answers": [{"tags": [], "owner": {"reputation": 12837, "user_id": 2184364, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/fe15cfa3ec22be57f1762ba905c8eb70?s=128&d=identicon&r=PG", "display_name": "Julien Spronck", "link": "https://stackoverflow.com/users/2184364/julien-spronck"}, "is_accepted": false, "score": 0, "last_activity_date": 1498682378, "last_edit_date": 1498682378, "creation_date": 1498681419, "answer_id": 44811922, "question_id": 44811346, "link": "https://stackoverflow.com/questions/44811346/create-new-field-in-dataframe-using-complex-conditional-summing-logic/44811922#44811922", "title": "Create New Field in Dataframe Using Complex Conditional Summing Logic", "body": "<p>If I am not mistaken, your logic can be summarized as following: for each unique 'cbsa' value, set 'age_HC01_EST_VC31_2' field equal to the sum of UNIQUE 'age_HC01_EST_VC31' field values. </p>\n\n<p>If that is correct, here is a way to do it: first group by <code>cbsa</code>, find the unique <code>age_HC01_EST_VC31</code> values and sum these values.</p>\n\n<pre><code>import pandas as pd\ndic = {'zip': [57401, 57401, 57401, 57401, 98520, 98550, 79604, 79602, 79602, 79601],\n       'age_HC01_EST_VC31': [15.5, 15.5, 15.5, 15.5, 13.5, 17.3, 14.9, 18, 18, 11],\n       'cbsa': [10100, 10100, 10100, 10100, 10140, 10140, 10180, 10180, 10180, 10180]}\ndf = pd.DataFrame(dic)\ndf.join(df.groupby('cbsa').age_HC01_EST_VC31.unique().apply(sum), on='cbsa', rsuffix='_2')\n\n#    age_HC01_EST_VC31   cbsa    zip  age_HC01_EST_VC31_2\n# 0               15.5  10100  57401                 15.5\n# 1               15.5  10100  57401                 15.5\n# 2               15.5  10100  57401                 15.5\n# 3               15.5  10100  57401                 15.5\n# 4               13.5  10140  98520                 30.8\n# 5               17.3  10140  98550                 30.8\n# 6               14.9  10180  79604                 43.9\n# 7               18.0  10180  79602                 43.9\n# 8               18.0  10180  79602                 43.9\n# 9               11.0  10180  79601                 43.9\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 161, "user_id": 3687197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a17f0eeea8623895a656d97d97dc497?s=128&d=identicon&r=PG&f=1", "display_name": "user3687197", "link": "https://stackoverflow.com/users/3687197/user3687197"}, "edited": false, "score": 0, "creation_date": 1498682503, "post_id": 44812165, "comment_id": 76604958, "body": "There might be some other easy way. But this also works"}], "tags": [], "owner": {"reputation": 161, "user_id": 3687197, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a17f0eeea8623895a656d97d97dc497?s=128&d=identicon&r=PG&f=1", "display_name": "user3687197", "link": "https://stackoverflow.com/users/3687197/user3687197"}, "is_accepted": false, "score": 1, "last_activity_date": 1498682384, "creation_date": 1498682384, "answer_id": 44812165, "question_id": 44811346, "link": "https://stackoverflow.com/questions/44811346/create-new-field-in-dataframe-using-complex-conditional-summing-logic/44812165#44812165", "title": "Create New Field in Dataframe Using Complex Conditional Summing Logic", "body": "<pre><code>df['new_column']=\"\" #Initialise and empty column\n\n#iterate through all unique values\nfor item in df['cbsa'].unique():\n    if len(df['zip'].loc[df['cbsa']==item].unique())==1:\n        df['new_column'].loc[df['cbsa']==item] = df['age_HC01_EST_VC31'].loc[df['cbsa']==item]\n    else:\n        df['new_column'].loc[df['cbsa']==item] = sum(df['age_HC01_EST_VC31'].loc[df['cbsa']==item].unique())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 560, "user_id": 4987268, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-XufPDae-uTg/AAAAAAAAAAI/AAAAAAAAAFA/2o-LjAaeiVg/photo.jpg?sz=128", "display_name": "Tapa Dipti Sitaula", "link": "https://stackoverflow.com/users/4987268/tapa-dipti-sitaula"}, "is_accepted": false, "score": 0, "last_activity_date": 1498682738, "creation_date": 1498682738, "answer_id": 44812256, "question_id": 44811346, "link": "https://stackoverflow.com/questions/44811346/create-new-field-in-dataframe-using-complex-conditional-summing-logic/44812256#44812256", "title": "Create New Field in Dataframe Using Complex Conditional Summing Logic", "body": "<p>This is a long way, but gets the work done (you need to rename the age columns - I just called it age1).</p>\n\n<pre><code>grouped = df.groupby(['cbsa','zip'])[['age1']].mean().reset_index()\nsummed = grouped.groupby(['cbsa'])[['age1']].sum().reset_index()\ndf = pd.merge(df, summed, how='left', on='cbsa')\n</code></pre>\n"}], "owner": {"reputation": 3310, "user_id": 7077532, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/dc1c023b437567e50b600d8df7e1c995?s=128&d=identicon&r=PG&f=1", "display_name": "PineNuts0", "link": "https://stackoverflow.com/users/7077532/pinenuts0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1503573988, "creation_date": 1498679248, "last_edit_date": 1503573988, "question_id": 44811346, "link": "https://stackoverflow.com/questions/44811346/create-new-field-in-dataframe-using-complex-conditional-summing-logic", "title": "Create New Field in Dataframe Using Complex Conditional Summing Logic", "body": "<p>Below is my table (Python dataframe).  I'm trying to create the last column in purple text.  </p>\n\n<p><a href=\"https://i.stack.imgur.com/GVddg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GVddg.png\" alt=\"enter image description here\"></a></p>\n\n<p>Below is the logic I want to implement: </p>\n\n<ol>\n<li><p>For each unique 'cbsa' value, if the associated 'zip' field values are all the same then set 'age_HC01_EST_VC31_2' field equal to 'age_HC01_EST_VC31' field (see rows highlighted in yellow).  </p></li>\n<li><p>For each unique 'cbsa' value, if the associated 'zip' field values are different then set 'age_HC01_EST_VC31_2' field equal to the sum of 'age_HC01_EST_VC31' field values (see rows highlighted in orange).  </p></li>\n<li><p>For each unique 'cbsa' value, if the associated 'zip' field values are some the same and some different, then set 'age_HC01_EST_VC31_2' field equal to the sum of UNIQUE 'age_HC01_EST_VC31' field values (see rows highlighted in blue).</p></li>\n</ol>\n\n<p>I have tried using groupby and then sum on 'cbsa' field ... but it doesn't work for the specific, multi-layered logic I'm trying to implement.  </p>\n"}, {"tags": ["python", "list"], "answers": [{"tags": [], "owner": {"reputation": 56804, "user_id": 7326738, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/VgOrW.jpg?s=128&g=1", "display_name": "Ajax1234", "link": "https://stackoverflow.com/users/7326738/ajax1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1498775536, "creation_date": 1498775536, "answer_id": 44835949, "question_id": 44811276, "link": "https://stackoverflow.com/questions/44811276/how-would-i-append-two-lists-already-on-a-txt-file/44835949#44835949", "title": "How would i append two lists already on a txt file?", "body": "<p>You need to write the newline character to the file as well:</p>\n\n<pre><code>import time\ndate = [time.strftime(\"%Y/%m/%d %I:%M%p\")]\n\nf = open(\"RapData.txt\", \"a\")\n\ndata = [input()]\n\nf.write(str(date))\nf.write('\\n')\nf.write(str(data))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15201, "user_id": 7386332, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb50c81104978fe1e111da483c41ff0f?s=128&d=identicon&r=PG&f=1", "display_name": "Anton vBR", "link": "https://stackoverflow.com/users/7386332/anton-vbr"}, "is_accepted": false, "score": 0, "last_activity_date": 1498776176, "creation_date": 1498776176, "answer_id": 44836056, "question_id": 44811276, "link": "https://stackoverflow.com/questions/44811276/how-would-i-append-two-lists-already-on-a-txt-file/44836056#44836056", "title": "How would i append two lists already on a txt file?", "body": "<p>To achieve what you are asking for you can't use append (as append adds items to the end of the file).</p>\n\n<p>You would need to read the data to a local variable and output it to the file again:</p>\n\n<pre><code>open(\"RapData.txt\",\"r\")\n... read code...\n\nopen(\"RapData.txt\",\"w\")\n... write code..\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8192316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a8b466b1c024a398636bb69439c8655?s=128&d=identicon&r=PG&f=1", "display_name": "drew p", "link": "https://stackoverflow.com/users/8192316/drew-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498776176, "creation_date": 1498678988, "last_edit_date": 1498775240, "question_id": 44811276, "link": "https://stackoverflow.com/questions/44811276/how-would-i-append-two-lists-already-on-a-txt-file", "title": "How would i append two lists already on a txt file?", "body": "<p>I want to be able to create two lists: Time and data.</p>\n\n<pre><code>import time\ndate = [time.strftime(\"%Y/%m/%d %I:%M%p\")]\ndata = []\nx = input()\ndata.append(x)\nwith open(\"RapData.txt\", \"a\") as output:\n    output.write(str(date))\n    output.write(str(data))\n</code></pre>\n\n<p>This code makes the two lists and saves it all on one line in the txt file like this if ran twice:</p>\n\n<pre><code>['2017/06/28 02:15PM']['x']['2017/06/28 02:15PM']['x']\n</code></pre>\n\n<p>and i want it to be:</p>\n\n<pre><code>['2017/06/28 02:15PM']['2017/06/28 02:15PM']\n['x']['x']\n</code></pre>\n"}, {"tags": ["python", "scrapy", "whitespace"], "answers": [{"comments": [{"owner": {"reputation": 566, "user_id": 5340361, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ICGJJ.png?s=128&g=1", "display_name": "NFB", "link": "https://stackoverflow.com/users/5340361/nfb"}, "edited": false, "score": 0, "creation_date": 1498679905, "post_id": 44811298, "comment_id": 76603471, "body": "This is helpful and almost completely answers it - except that if a single space begins a new line, as in the example here, it doesn&#39;t get stripped."}, {"owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "reply_to_user": {"reputation": 566, "user_id": 5340361, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ICGJJ.png?s=128&g=1", "display_name": "NFB", "link": "https://stackoverflow.com/users/5340361/nfb"}, "edited": false, "score": 0, "creation_date": 1498681015, "post_id": 44811298, "comment_id": 76604121, "body": "@NFB: now the answer looks pretty complete and there are even 2 alternatives now :)"}, {"owner": {"reputation": 566, "user_id": 5340361, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ICGJJ.png?s=128&g=1", "display_name": "NFB", "link": "https://stackoverflow.com/users/5340361/nfb"}, "edited": false, "score": 0, "creation_date": 1498702815, "post_id": 44811298, "comment_id": 76611012, "body": "This completely solves the original example, however it does have one unintended effect not illustrated by my example string. If there are multiple spaces between words, it reduces them to no space at all, rather than just one space. However I&#39;m marking it answered since it does solve the original example. Also a great range of possible solutions. Thank you!"}, {"owner": {"reputation": 566, "user_id": 5340361, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ICGJJ.png?s=128&g=1", "display_name": "NFB", "link": "https://stackoverflow.com/users/5340361/nfb"}, "edited": false, "score": 0, "creation_date": 1498773980, "post_id": 44811298, "comment_id": 76651995, "body": "Unless I am missing something, I am still getting double spaces removed, not replaced with single spaces. Which code snippet was fixed to replace many spaces by one, the longer or second (shorter) one?"}], "tags": [], "owner": {"reputation": 126278, "user_id": 6451573, "user_type": "moderator", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/4xczZ.jpg?s=128&g=1", "display_name": "Jean-Fran&#231;ois Fabre", "link": "https://stackoverflow.com/users/6451573/jean-fran%c3%a7ois-fabre"}, "is_accepted": true, "score": 4, "last_activity_date": 1498895979, "last_edit_date": 1498895979, "creation_date": 1498679065, "answer_id": 44811298, "question_id": 44811224, "link": "https://stackoverflow.com/questions/44811224/remove-leading-ending-and-internal-multiple-spaces-but-not-tabs-newlines-or-re/44811298#44811298", "title": "Remove leading/ending and internal multiple spaces but NOT tabs, newlines, or return characters, in Python", "body": "<p>In that case <code>str.strip()</code> won't help you (even if you use <code>\" \"</code> as an argument because it won't remove the spaces inside, only at the start/end of your string, and it would remove the single space before <code>\"and\"</code> as well.</p>\n\n<p>Instead, use regex to remove 2 or more spaces from your strings:</p>\n\n<pre><code>l= ['\\n                        \\n                    ',\n         '\\n                        ',\n         'Some text',\n         ' and some more text\\n',\n  ' and on another a line some more text']\n\nimport re\n\nresult = \"\".join([re.sub(\"  +\",\"\",x) for x in l])\n\nprint(repr(result))\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>'\\n\\n\\nSome text and some more text\\n and on another a line some more text'\n</code></pre>\n\n<p>EDIT: if we apply the regex to each line, we cannot detect <code>\\n</code> in some cases, as you noted. So, the alternate and more complex solution would be to join the strings <em>before</em> applying regex, and apply a more complex regex (note that I changed the test list of strings to add more corner cases):</p>\n\n<pre><code>l= ['\\n                        \\n                    ',\n         '\\n                        ',\n         'Some text',\n         ' and some more text \\n',\n  '\\n and on another a line some more text ']\n\nimport re\n\nresult = re.sub(\"(^ |(?&lt;=\\n) |  +| (?=\\n)| $)\",\"\",\"\".join(l))\n\nprint(repr(result))\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>'\\n\\n\\nSome text and some more text\\n\\nand on another a line some more text'\n</code></pre>\n\n<p>There are 5 cases in the regex now that will be removed:</p>\n\n<ul>\n<li>start by one space</li>\n<li>space following a newline</li>\n<li>2 or more spaces</li>\n<li>space followed by a newline</li>\n<li>end by one space</li>\n</ul>\n\n<p>Aftertought: looks (and is) complicated. There <em>is</em> a non-regex solution after all which gives exactly the same result (if there aren't multiple spaces between words):</p>\n\n<pre><code>result = \"\\n\".join([x.strip(\" \") for x in \"\".join(l).split(\"\\n\")])\nprint(repr(result))\n</code></pre>\n\n<p>just join the strings, then split according to newline, apply <code>strip</code> with <code>\" \"</code> as argument to preserve tabs, and join again according to newline.</p>\n\n<p>Chain with <code>re.sub(\"  +\",\" \",x.strip(\" \"))</code> to take care of possible double spaces between words:</p>\n\n<pre><code>result = \"\\n\".join([re.sub(\"  +\",\" \",x.strip(\" \")) for x in \"\".join(l).split(\"\\n\")])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 8223751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bd897ed16607d31b8a640ecea1e7e75?s=128&d=identicon&r=PG&f=1", "display_name": "jpeoples", "link": "https://stackoverflow.com/users/8223751/jpeoples"}, "is_accepted": false, "score": 2, "last_activity_date": 1498682252, "creation_date": 1498682252, "answer_id": 44812120, "question_id": 44811224, "link": "https://stackoverflow.com/questions/44811224/remove-leading-ending-and-internal-multiple-spaces-but-not-tabs-newlines-or-re/44812120#44812120", "title": "Remove leading/ending and internal multiple spaces but NOT tabs, newlines, or return characters, in Python", "body": "<p>You can also do the whole thing in terms of built in string operations if you like.</p>\n\n<pre><code>l = ['\\n                        \\n                    ',\n     '\\n                        ',\n     'Some text',\n     ' and some more text\\n',\n     ' and on another a      line some more text',\n     '              ']\n\n\ndef remove_duplicate_spaces(l):\n    words = [w for w in l.split(' ') if w != '']\n    return ' '.join(words)\n\nlines = ''.join(l).split('\\n')\nformatted_lines = map(remove_duplicate_spaces, lines)\nu = \"\\n\".join(formatted_lines)\n\nprint(repr(u))\n</code></pre>\n\n<p>gives</p>\n\n<pre><code>'\\n\\n\\nSome text and some more text\\nand on another a line some more text'\n</code></pre>\n\n<p>You can also collapse the whole thing into a one-liner:</p>\n\n<pre><code>s = '\\n'.join([' '.join([s for s in x.strip(' ').split(' ') if s!='']) for x in ''.join(l).split('\\n')])\n\n# OR\n\nt = '\\n'.join(map(lambda x: ' '.join(filter(lambda s: s!='', x.strip(' ').split(' '))), ''.join(l).split('\\n')))\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 5340361, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/ICGJJ.png?s=128&g=1", "display_name": "NFB", "link": "https://stackoverflow.com/users/5340361/nfb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1032, "favorite_count": 0, "accepted_answer_id": 44811298, "answer_count": 2, "score": 1, "last_activity_date": 1498895979, "creation_date": 1498678799, "last_edit_date": 1498679267, "question_id": 44811224, "link": "https://stackoverflow.com/questions/44811224/remove-leading-ending-and-internal-multiple-spaces-but-not-tabs-newlines-or-re", "title": "Remove leading/ending and internal multiple spaces but NOT tabs, newlines, or return characters, in Python", "body": "<p>The answer to the question at <a href=\"https://stackoverflow.com/questions/8270092/python-remove-all-whitespace-in-a-string/28607213\">Python remove all whitespace in a string</a> shows separate ways to remove leading/ending, duplicated, and all spaces, respectively, from a string in Python. But strip() removes tabs and newlines, and lstrip() only affects leading spaces. The solution using .join(sentence.split()) also appears to remove Unicode whitespace characters. </p>\n\n<p>Suppose I have a string, in this case scraped from a website using Scrapy, like this:</p>\n\n<pre><code>['\\n                        \\n                    ',\n         '\\n                        ',\n         'Some text',\n         ' and some more text\\n',\n  ' and on another a line some more text', '\n                ']\n</code></pre>\n\n<p>The newlines preserve formatting of the text when I use it in another contexts, but all the extra space is a nuisance. <strong>How do I remove all the leading, ending, and duplicated internal spaces while preserving the newline characters (in addition to any \\r or \\t characters, if there are any)?</strong> </p>\n\n<p>The result I want (after I join the individual strings) would then be:</p>\n\n<pre><code>['\\n\\n\\nSome text and some more text\\nand on another line some more text']\n</code></pre>\n\n<p>No sample code is provided because what I've tried so far is just the suggestions on the page referenced above, which gets the results I'm trying to avoid.</p>\n"}, {"tags": ["python", "eulers-number"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 8228039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0575e314046b149f4eb117bbc5e116c?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/8228039/alan"}, "edited": false, "score": 0, "creation_date": 1498765371, "post_id": 44814414, "comment_id": 76647919, "body": "Thanks @CaptainMeow for your helpful comment!"}, {"owner": {"reputation": 123, "user_id": 8228039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0575e314046b149f4eb117bbc5e116c?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/8228039/alan"}, "edited": false, "score": 0, "creation_date": 1498867625, "post_id": 44814414, "comment_id": 76693104, "body": "Yes that&#39;s true, the mapping between my code and the pseudo-code is not accurate. I had paste the wrong code. Thanks also for indicating the difference between the non-inclusive property of range that is absent when indexing."}], "tags": [], "owner": {"reputation": 341, "user_id": 8227971, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqBdJ.png?s=128&g=1", "display_name": "CaptainMeow", "link": "https://stackoverflow.com/users/8227971/captainmeow"}, "is_accepted": false, "score": 0, "last_activity_date": 1498712247, "last_edit_date": 1498712247, "creation_date": 1498695168, "answer_id": 44814414, "question_id": 44811157, "link": "https://stackoverflow.com/questions/44811157/google-puzzle-euler-number/44814414#44814414", "title": "Google Puzzle Euler Number", "body": "<p>For your first part, you are grasping the right-end non-inclusive property of range and slicing in Python. However, when you are just indexing to find an element, should you still care about that or not? By that I mean, is the third digit really indexed at <code>i+3</code> for a number starting at position <code>i</code>?</p>\n\n<p>For your second part, I am not quite seeing the mapping between your code and the pseudo-code.</p>\n\n<p>Tips in general. You can compartmentalize the prime_check logic into a function that returns True or False, and call the function each time you get a number, then decide whether you want to print it and break or continue. Also, the comparisons you are doing for 1, 3, 7, 9 and be abbreviated with an <code>in</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 8228039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0575e314046b149f4eb117bbc5e116c?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/8228039/alan"}, "edited": false, "score": 1, "creation_date": 1498765342, "post_id": 44815411, "comment_id": 76647902, "body": "Thanks very much @Jedi. Definitely my code needs improvement, this is my 3rd week of a Python course I am taking online so thanks for your understanding!"}], "tags": [], "owner": {"reputation": 2453, "user_id": 6382901, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/hVuGD.jpg?s=128&g=1", "display_name": "Jedi", "link": "https://stackoverflow.com/users/6382901/jedi"}, "is_accepted": true, "score": 1, "last_activity_date": 1498703332, "creation_date": 1498703332, "answer_id": 44815411, "question_id": 44811157, "link": "https://stackoverflow.com/questions/44811157/google-puzzle-euler-number/44815411#44815411", "title": "Google Puzzle Euler Number", "body": "<p>For the first part, replace <em>'3'</em> with <em>'2'</em> so that it checks the 3rd digit for oddness, instead of the 4th:</p>\n\n<pre><code>euler[i + 3]== '1' or euler[i + 3]== '3' or euler[i + 3]== '7' or euler[i + 3]== '9'):\n</code></pre>\n\n<p>changes to</p>\n\n<pre><code>euler[i + 2]== '1' or euler[i + 2]== '3' or euler[i + 2]== '7' or euler[i + 2]== '9'):\n</code></pre>\n\n<p>Similarly, think about what the range in the for loop should stretch to (i.e. len - 2 or len -3), even if it does not apply to this example.</p>\n\n<p>In general, avoid using <a href=\"https://en.wikipedia.org/wiki/Magic_number_(programming)\" rel=\"nofollow noreferrer\">magic numbers</a> at all. Define a variable or accept an input to set N = 3 or 10...</p>\n\n<p>Also, you don't gain much by adding the <code>if</code> condition, only the potential for bugs (as above). <em>Premature optimization is the root of all evil</em></p>\n\n<p>For the second part, when you <code>break</code> your inner loop, you don't really establish any primality. You could do something simple like setting a flag. Here, I've modified your program to provide one example:</p>\n\n<pre><code>euler = '7182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274274663919320030599218174135966290435729003342952605956307381323286279434907632338298807531952510190115738341879307021540891499348841675092447614606680822648001684774118537423454424371075390777449920695517027618386062613313845830007520449338265602976067371132007093287091274437470472306969772093101416928368190255151086574637721112523897844250569536967707854499699679468644549059879316368892300987931277361782154249992295763514822082698951936680331825288693984964651058209392398294887933203625094431173012381970684161403970198376793206832823764648042953118023287825098194558153017567173613320698112509961818815930416903515988885193458072738667385894228792284998920868058257492796104841984443634632449684875602336248270419786232090021609902353043699418491463140934317381436405462531520961836908887070167683964243781405927145635490613031072085103837505101157477041718986106873969655212671546889570350354'\n\nfor i in range(len(euler) - 2):\n    if (euler[i + 2]== '1' or euler[i + 2]== '3' or euler[i + 2]== '7' or euler[i + 2]== '9'):\n        number = int(euler[i:i + 3])\n        for y in range(2, number-1):\n            isPrime = True\n            while y * y &lt;= number:\n                if (number % y != 0 or  number % (y+1) != 0):\n                  isPrime = False # The number is not prime\n                  break  # Exit loop\n\n            if isPrime:  # Nothing was able to factorize the number\n              print(number) # Print and leave\n              exit(0)\n</code></pre>\n\n<p>However, your code is really quite broken and could do with a lot of attention and testing of the different edge cases.</p>\n"}], "owner": {"reputation": 123, "user_id": 8228039, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b0575e314046b149f4eb117bbc5e116c?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/8228039/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 44815411, "answer_count": 2, "score": 0, "last_activity_date": 1498712247, "creation_date": 1498678574, "last_edit_date": 1498695399, "question_id": 44811157, "link": "https://stackoverflow.com/questions/44811157/google-puzzle-euler-number", "title": "Google Puzzle Euler Number", "body": "<p>This post is twofold.\nI am a neophyte to Python. </p>\n\n<h3>First part.</h3>\n\n<p>This is my code for the old Google puzzle:\n'First 10 digit prime number in the consecutive digits of e' \n(<a href=\"https://google-tale.blogspot.ca/2008/07/google-billboard-puzzle.html\" rel=\"nofollow noreferrer\">https://google-tale.blogspot.ca/2008/07/google-billboard-puzzle.html</a>)</p>\n\n<pre><code>euler = '7182818284590452353602874713526624977572470936999595749669676277240766303535475945713821785251664274274663919320030599218174135966290435729003342952605956307381323286279434907632338298807531952510190115738341879307021540891499348841675092447614606680822648001684774118537423454424371075390777449920695517027618386062613313845830007520449338265602976067371132007093287091274437470472306969772093101416928368190255151086574637721112523897844250569536967707854499699679468644549059879316368892300987931277361782154249992295763514822082698951936680331825288693984964651058209392398294887933203625094431173012381970684161403970198376793206832823764648042953118023287825098194558153017567173613320698112509961818815930416903515988885193458072738667385894228792284998920868058257492796104841984443634632449684875602336248270419786232090021609902353043699418491463140934317381436405462531520961836908887070167683964243781405927145635490613031072085103837505101157477041718986106873969655212671546889570350354'\n\n\nfor i in range(len(euler) - 3):\n    if (euler[i + 3]== '1' or euler[i + 3]== '3' or euler[i + 3]== '7' or euler[i + 3]== '9'):\n        number = int(euler[i:i + 3])\n        for a in range(2, round(number**0.5)):\n           if number % a == 0:\n             break\n        else:\n           print(number),\n           break\n</code></pre>\n\n<p>So strangely using the code above I can find the correct answer which is 7427466391 (it takes 45mn to compile) but when I test the code for 3 digits it gives me 709 which is incorrect because the first 3-digits prime number is 281 range(3,6).</p>\n\n<p>How can I fix this?</p>\n\n<h3>Second part.</h3>\n\n<p>This is an algorithm which is supposed to be the fastest to find a prime number (<a href=\"https://en.wikipedia.org/wiki/Primality_test\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Primality_test</a>) (see pseudo-code in the middle of the page). This is my code but it doesn't work, I enter into an infinite loop.</p>\n\n<pre><code>for i in range(len(euler) - 3):\n    if (euler[i + 3]== '1' or euler[i + 3]== '3' or euler[i + 3]== '7' or euler[i + 3]== '9'):\n        number = int(euler[i:i + 3])\n        for y in range(2, number-1):\n            while y * y &lt;= number:\n                if (number % y != 0 or  number % (y+1) != 0):\n                break\n</code></pre>\n\n<p>How can I fix it?</p>\n"}]