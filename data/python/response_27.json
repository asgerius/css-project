[{"tags": ["python", "python-2.7", "python-multithreading"], "comments": [{"owner": {"reputation": 16641, "user_id": 374746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659060fcfde804c6582d87b432dfa497?s=128&d=identicon&r=PG", "display_name": "Russell Borogove", "link": "https://stackoverflow.com/users/374746/russell-borogove"}, "edited": false, "score": 0, "creation_date": 1437006059, "post_id": 31443198, "comment_id": 50855840, "body": "The <code>dostuff</code> functions access multiple data members from your thread class (<code>data</code> and <code>my_lock</code>). Would it make sense for them to be methods on the class itself?"}, {"owner": {"reputation": 251, "user_id": 1202417, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4e6cbdf13aca31653e6a2171bcbb0beb?s=128&d=identicon&r=PG", "display_name": "Ben Fishbein", "link": "https://stackoverflow.com/users/1202417/ben-fishbein"}, "reply_to_user": {"reputation": 16641, "user_id": 374746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659060fcfde804c6582d87b432dfa497?s=128&d=identicon&r=PG", "display_name": "Russell Borogove", "link": "https://stackoverflow.com/users/374746/russell-borogove"}, "edited": false, "score": 0, "creation_date": 1437006334, "post_id": 31443198, "comment_id": 50855888, "body": "Not in this case, it gets pretty elaborate in the background, dostuff calls other functions from other files. If I put everything one one file it will be a couple thousand lines too long."}, {"owner": {"reputation": 22019, "user_id": 1733117, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b886d4df174af783771e8a4dbaa4bf7?s=128&d=identicon&r=PG", "display_name": "dnozay", "link": "https://stackoverflow.com/users/1733117/dnozay"}, "edited": false, "score": 0, "creation_date": 1437007648, "post_id": 31443198, "comment_id": 50856168, "body": "I think it would be very interesting to know <b>why</b> locks are being used in the first place. Would you mind explaining your use case further?"}], "answers": [{"tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": true, "score": 1, "last_activity_date": 1437007371, "creation_date": 1437007371, "answer_id": 31443589, "question_id": 31443198, "link": "https://stackoverflow.com/questions/31443198/passing-locks-in-python/31443589#31443589", "title": "Passing locks in python", "body": "<p>Python has module level variables, if you <em>really</em> want to use them:</p>\n\n<pre><code># main file, call it main.py\nlock = None\nif __name__ == '__main__':\n    lock = threading.Lock()\n    # launch threads without passing lock\n</code></pre>\n\n<p>Then, in any other file, you can do:</p>\n\n<pre><code># other files:\nfrom main import lock\n\n# use the lock...\n</code></pre>\n\n<p>If this solves a quick problem you're dealing with, then use it.  But I wouldn't really recommend it for a real programming project.  It's better programming practice to have your code rely less on global state (such as module level variables), and have more explicitly passed parameters.  That way you always know what your code depends on, and it's more reusable.</p>\n"}], "owner": {"reputation": 251, "user_id": 1202417, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/4e6cbdf13aca31653e6a2171bcbb0beb?s=128&d=identicon&r=PG", "display_name": "Ben Fishbein", "link": "https://stackoverflow.com/users/1202417/ben-fishbein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 0, "accepted_answer_id": 31443589, "answer_count": 1, "score": 1, "last_activity_date": 1437007371, "creation_date": 1437004482, "question_id": 31443198, "link": "https://stackoverflow.com/questions/31443198/passing-locks-in-python", "title": "Passing locks in python", "body": "<p>I was wondering if there was a better way to deal with locks while importing other modules. Right now I've got this...</p>\n\n<pre><code>import ot1, ot2, ot3\nclass Thread(threading.Thread):\n    def __init___(blah, blah):\n\n    def run(self):\n        data, my_lock = self.data, self.my_lock\n        return ot1.dostuff(data, my_lock) + ot2.dostuff(data, my_lock) + ot3.dostuff(data, my_lock)\nif __name__ == '__main__':\n    my_lock = threading.Lock()\n    for x in range(10):\n        Thread(data, my_lock)\n</code></pre>\n\n<p>Because I'm importing things I have to pass the lock into the new areas, is there any way to work around this, like globally declare the lock. It would make my code a whole lot cleaner. </p>\n"}, {"tags": ["python", "python-3.x", "dictionary"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 2629241, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1685076651/picture?type=large", "display_name": "Andrew Pampuch", "link": "https://stackoverflow.com/users/2629241/andrew-pampuch"}, "edited": false, "score": 0, "creation_date": 1437005452, "post_id": 31443234, "comment_id": 50855689, "body": "Does this work with non-lists? The <code>[:]</code> part, whatever that&#39;s called?"}, {"owner": {"reputation": 2021, "user_id": 3636636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/483f63f301825435fbe3b02d657da737?s=128&d=identicon&r=PG&f=1", "display_name": "user3636636", "link": "https://stackoverflow.com/users/3636636/user3636636"}, "reply_to_user": {"reputation": 65, "user_id": 2629241, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1685076651/picture?type=large", "display_name": "Andrew Pampuch", "link": "https://stackoverflow.com/users/2629241/andrew-pampuch"}, "edited": false, "score": 0, "creation_date": 1437005602, "post_id": 31443234, "comment_id": 50855719, "body": "What do you mean by non-lists?"}], "tags": [], "owner": {"reputation": 2021, "user_id": 3636636, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/483f63f301825435fbe3b02d657da737?s=128&d=identicon&r=PG&f=1", "display_name": "user3636636", "link": "https://stackoverflow.com/users/3636636/user3636636"}, "is_accepted": true, "score": 0, "last_activity_date": 1437004786, "creation_date": 1437004786, "answer_id": 31443234, "question_id": 31443172, "link": "https://stackoverflow.com/questions/31443172/how-do-i-make-the-value-of-a-dictionary-constant-when-passing-in-a-variable-mult/31443234#31443234", "title": "How do I make the value of a dictionary constant when passing in a variable multiple times?", "body": "<p>All your dictionary values are references to the same list, <code>b</code>. Therefor they will be updated when <code>b</code> is updated. You need to make a copy of <code>b</code> for each key.</p>\n\n<pre><code>for a in range(2, original_number + 1):\nb.append(1)\nall_divisors[a] = b[:]\nprint(all_divisors)\n</code></pre>\n\n<p>Where <code>b[:]</code> is a new list, instead of a reference to the original list <code>b</code></p>\n"}, {"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 0, "last_activity_date": 1437004808, "creation_date": 1437004808, "answer_id": 31443242, "question_id": 31443172, "link": "https://stackoverflow.com/questions/31443172/how-do-i-make-the-value-of-a-dictionary-constant-when-passing-in-a-variable-mult/31443242#31443242", "title": "How do I make the value of a dictionary constant when passing in a variable multiple times?", "body": "<pre><code>original_number = 4\nfor i in range(2,original_number+1):\n    print dict((j,[1]*j) for j in range(2,i+1))\n</code></pre>\n\n<p>maybe i guess?</p>\n\n<p>but to answer the original question about the original code</p>\n\n<pre><code>all_divisors[a] = b[:]\n</code></pre>\n\n<p>should fix the problem</p>\n"}], "owner": {"reputation": 65, "user_id": 2629241, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1685076651/picture?type=large", "display_name": "Andrew Pampuch", "link": "https://stackoverflow.com/users/2629241/andrew-pampuch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "closed_date": 1437004950, "accepted_answer_id": 31443234, "answer_count": 2, "score": 0, "last_activity_date": 1437004808, "creation_date": 1437004341, "question_id": 31443172, "link": "https://stackoverflow.com/questions/31443172/how-do-i-make-the-value-of-a-dictionary-constant-when-passing-in-a-variable-mult", "closed_reason": "Duplicate", "title": "How do I make the value of a dictionary constant when passing in a variable multiple times?", "body": "<pre><code>original_number = int(input('Please enter a number: '))\n\nall_divisors = {} # lists all of the divisors\nb = [1]\n\n# adds 1 to the end of b, then puts it into all_divisors with key\n# equal to its divisor, its value is a list of 1's with a number of 1's\n# equal to the key\nfor a in range(2, original_number + 1):\n    b.append(1)\n    all_divisors[a] = b\n    print(all_divisors) # just to make sure everything works properly\n</code></pre>\n\n<p>What I'm trying to do is get a result like:</p>\n\n<pre><code>Please enter a number: 4\n{2: [1, 1]}\n{2: [1, 1], 3: [1, 1, 1]}\n{2: [1, 1], 3: [1, 1, 1], 4: [1, 1, 1, 1]}\n</code></pre>\n\n<p>Instead, I get:</p>\n\n<pre><code>Please enter a number: 4\n{2: [1, 1]}\n{2: [1, 1, 1], 3: [1, 1, 1]}\n{2: [1, 1, 1, 1], 3: [1, 1, 1, 1], 4: [1, 1, 1, 1]}\n</code></pre>\n\n<p>How do I get each value in the dictionary to be the value of b when it's passed in? (That is the correct use of 'pass in' right?)</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"tags": [], "owner": {"reputation": 590, "user_id": 3854029, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6kMnx.png?s=128&g=1", "display_name": "rohanp", "link": "https://stackoverflow.com/users/3854029/rohanp"}, "is_accepted": true, "score": 3, "last_activity_date": 1437004446, "creation_date": 1437004446, "answer_id": 31443191, "question_id": 31443131, "link": "https://stackoverflow.com/questions/31443131/numpy-change-value-of-masked-constants/31443191#31443191", "title": "Numpy - Change value of masked constants", "body": "<p>Try this:</p>\n\n<pre><code>x[x.mask] = fill_value\n</code></pre>\n\n<p><a href=\"http://docs.scipy.org/doc/numpy/reference/maskedarray.generic.html#accessing-only-the-valid-entries\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy/reference/maskedarray.generic.html#accessing-only-the-valid-entries</a></p>\n"}], "owner": {"reputation": 2517, "user_id": 242036, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/608beceac5c543ef6cd9c66547b7ae97?s=128&d=identicon&r=PG", "display_name": "Auxiliary", "link": "https://stackoverflow.com/users/242036/auxiliary"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 31443191, "answer_count": 1, "score": 0, "last_activity_date": 1437004446, "creation_date": 1437004046, "question_id": 31443131, "link": "https://stackoverflow.com/questions/31443131/numpy-change-value-of-masked-constants", "title": "Numpy - Change value of masked constants", "body": "<p>I have a large 3 dimensional <code>MaskedArray</code> and I'm applying a function like <code>numpy.mean</code> or <code>numpy.std</code> to one of its axes. </p>\n\n<p>The problem is that at some places in the array, all elements that are being fed to the mean function are masked and when I save everything to file (NetCDF format) I get <strong>0s</strong>. </p>\n\n<p>How can I turn all those values from masked (<code>MaskedConstant</code> type) to the fill value I originally had? I am looking for either some magical way that doesn't involve <code>if</code> statements or at least a very fast way of doing it, because the dataset is very large. </p>\n"}, {"tags": ["python", "python-2.7", "windows-services", "pywin32"], "comments": [{"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437039303, "post_id": 31442977, "comment_id": 50868695, "body": "Can you show the traceback of that ImportError? You can print it to a file with try, except and <code>import traceback; traceback.print_exc(...)</code>"}, {"owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "reply_to_user": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437061058, "post_id": 31442977, "comment_id": 50884144, "body": "@User See updated details."}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437067737, "post_id": 31442977, "comment_id": 50888228, "body": "What happens if you name the file <code>tmp.py</code> or <code>tmp2.py</code>? Maybe the reg class has something to do with the module name. Also, try to put it into the site-packages."}], "answers": [{"tags": [], "owner": {"reputation": 2844, "user_id": 4518652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4659c2d7bcc959da83e923c47e5ec0f?s=128&d=identicon&r=PG&f=1", "display_name": "Vinkal", "link": "https://stackoverflow.com/users/4518652/vinkal"}, "is_accepted": true, "score": 0, "last_activity_date": 1437076045, "creation_date": 1437076045, "answer_id": 31463236, "question_id": 31442977, "link": "https://stackoverflow.com/questions/31442977/pywin32-service-start-error-no-module-named-tmp/31463236#31463236", "title": "pywin32 service start error: no module named &#39;tmp&#39;", "body": "<p>Change the _svc_reg_class = \"tmp.reg_class\" as shown below. </p>\n\n<pre><code>try:\n    module_path = modules[TMP_Service.__module__].__file__\nexcept AttributeError:\n    # maybe py2exe went by\n    from sys import executable\n    module_path = executable\n\nmodule_file = splitext(abspath(module_path))[0]\nTMP_Service._svc_reg_class = '%s.%s' % (module_file, TMP_Service.__name__)\n</code></pre>\n\n<p>Below is the complete modified version of your original code.</p>\n\n<pre><code>#!/bin/python\n\nimport winerror\nimport win32event\nimport win32service\nimport win32serviceutil\nfrom sys import modules\nfrom os.path import splitext, abspath\n\nSVC_RUN = 1\nSVC_REMOVE = 2\n\nclass TMP_Service(win32serviceutil.ServiceFramework):\n\n    _svc_name_ = \"tmp_svc_name\"\n    _svc_display_name_ =  \"tmp svc disp name\"\n    _svc_reg_class = \"tmp.reg_class\"\n    _svc_description_ = \"tmp description\"\n\n    def __init__(self, args):\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)\n\n    def SvcStop(self):\n        self.ReportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        self.Stop = True\n        # I will call reactor.callFromThread(reactor.stop) here to stop the \n        # FTP and SCP listeners\n        win32event.SetEvent(self.hWaitStop)\n        self.ReportServiceStatus(win32service.SERVICE_STOPPED)\n\n    def SvcDoRun(self):\n        self.Stop = False\n        self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n\n        # This infinite loop simulates future behavior of my service. It will\n        # run a Twisted reactor to handle FTP and TCP network connections.\n        while self.Stop == False:\n            pass \n\n        win32event.WaitforSingleObject(self.hWaitStop, win32event.INFINITE)\n\ndef install_svc():\n\n    try:\n        module_path = modules[TMP_Service.__module__].__file__\n    except AttributeError:\n        # maybe py2exe went by\n        from sys import executable\n        module_path = executable\n\n    module_file = splitext(abspath(module_path))[0]\n    TMP_Service._svc_reg_class = '%s.%s' % (module_file, TMP_Service.__name__)\n\n    try:\n        win32serviceutil.InstallService(\n                TMP_Service._svc_reg_class,\n                TMP_Service._svc_name_,\n                TMP_Service._svc_display_name_,\n                startType=win32service.SERVICE_AUTO_START)\n\n    except win32service.error as e:\n\n        if e[0] == winerror.ERROR_SERVICE_EXISTS:\n            pass # ignore install error if service is already installed\n\n        else:\n            raise\n\ndef handle_service(svc):\n\n    if svc == SVC_RUN:\n\n        try:\n            win32serviceutil.StartService(TMP_Service._svc_name_)\n\n        except win32service.error as e:\n\n            if ((e[0] == winerror.ERROR_SERVICE_ALREADY_RUNNING) or\n                    (e[0] == winerror.ERROR_ALREADY_RUNNING_LKG)):\n                pass # ignore failed start if the service is already running\n\n            elif e[0] == winerror.ERROR_SERVICE_DOES_NOT_EXIST:\n\n                # if the service is not installed, install it and try again\n                install_svc()\n                win32serviceutil.StartService(TMP_Service._svc_name_)\n\n            else:\n                # reraise any other start expection\n                raise\n\n        status = win32serviceutil.QueryServiceStatus(TMP_Service._svc_name_)\n        print(\"Service status: {}\".format(status[1]))\n\n    else:\n\n        try:\n            win32serviceutil.RemoveService(TMP_Service._svc_name_)\n\n        except win32service.error as e:\n\n            if e[0] == winerror.ERROR_SERVICE_DOES_NOT_EXIST:\n                pass # ignore failed removal if service is not installed\n            else:\n                # reraise any other remove exception\n                raise\n\nif __name__ == \"__main__\":\n    handle_service(SVC_RUN)\n</code></pre>\n\n<p>Reference: <a href=\"http://code.activestate.com/recipes/551780-win-services-helper/\" rel=\"nofollow\">here</a></p>\n"}], "owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2528, "favorite_count": 0, "accepted_answer_id": 31463236, "answer_count": 1, "score": 1, "last_activity_date": 1437076045, "creation_date": 1437003048, "last_edit_date": 1495542106, "question_id": 31442977, "link": "https://stackoverflow.com/questions/31442977/pywin32-service-start-error-no-module-named-tmp", "title": "pywin32 service start error: no module named &#39;tmp&#39;", "body": "<h2>Question</h2>\n\n<p>I am attempting to start a Python script as a Windows service using <a href=\"http://sourceforge.net/projects/pywin32/\" rel=\"nofollow noreferrer\">pywin32</a>. I can properly install and remove the service, but while installed, its state never changes from \"stopped.\" How can I fix my code so that the service actually runs?</p>\n\n<h2>Code</h2>\n\n<pre><code>#!/bin/python\n\nimport winerror\nimport win32event\nimport win32service\nimport win32serviceutil\n\nSVC_RUN = 1\nSVC_REMOVE = 2\n\nclass TMP_Service(win32serviceutil.ServiceFramework):\n\n    _svc_name_ = \"tmp_svc_name\"\n    _svc_display_name_ =  \"tmp svc disp name\"\n    _svc_reg_class = \"tmp.reg_class\"\n    _svc_description_ = \"tmp description\"\n\n    def __init__(self, dut_name):\n        win32serviceutil.ServiceFramework.__init__(self, args)\n        self.hWaitStop = win32event.CreateEvent(None, 0, 0, None)\n\n    def SvcStop(self):\n        self.reportServiceStatus(win32service.SERVICE_STOP_PENDING)\n        # I will call reactor.callFromThread(reactor.stop) here to stop the \n        # FTP and SCP listeners\n        win32event.SetEvent(self.hWaitStop)\n\n    def SvcDoRun(self):\n        self.ReportServiceStatus(win32service.SERVICE_RUNNING)\n\n        # This infinite loop simulates future behavior of my service. It will\n        # run a Twisted reactor to handle FTP and TCP network connections.\n        while True:\n            pass \n\n        win32event.WaitforSingleObject(self.hWaitStop, win32event.INFINITE)\n\ndef install_svc():\n\n    try:\n        win32serviceutil.InstallService(\n                TMP_Service._svc_reg_class,\n                TMP_Service._svc_name_,\n                TMP_Service._svc_display_name_,\n                startType=win32service.SERVICE_AUTO_START)\n\n    except win32service.error as e:\n\n        if e[0] == winerror.ERROR_SERVICE_EXISTS:\n            pass # ignore install error if service is already installed\n\n        else:\n            raise\n\ndef handle_service(svc):\n\n    if svc == SVC_RUN:\n\n        try:\n            win32serviceutil.StartService(TMP_Service._svc_name_)\n\n        except win32service.error as e:\n\n            if ((e[0] == winerror.ERROR_SERVICE_ALREADY_RUNNING) or\n                    (e[0] == winerror.ERROR_ALREADY_RUNNING_LKG)):\n                pass # ignore failed start if the service is already running\n\n            elif e[0] == winerror.ERROR_SERVICE_DOES_NOT_EXIST:\n\n                # if the service is not installed, install it and try again\n                install_svc()\n                win32serviceutil.StartService(TMP_Service._svc_name_)\n\n            else:\n                # reraise any other start expection\n                raise\n\n        status = win32serviceutil.QueryServiceStatus(TMP_Service._svc_name_)\n        print(\"Service status: {}\".format(status[1]))\n\n    else:\n\n        try:\n            win32serviceutil.RemoveService(TMP_Service._svc_name_)\n\n        except win32service.error as e:\n\n            if e[0] == winerror.ERROR_SERVICE_DOES_NOT_EXIST:\n                pass # ignore failed removal if service is not installed\n            else:\n                # reraise any other remove exception\n                raise\n\nif __name__ == \"__main__\":\n\n    handle_service(SVC_RUN)\n</code></pre>\n\n<h2>Other Details</h2>\n\n<ol>\n<li><p>When I look at the system event logs, I see this error:  </p>\n\n<blockquote>\n  <p>Python could not import the service's module<br>\n  ImportError: No module named tmp<br>\n  %2: %3  </p>\n</blockquote>\n\n<p>The timestamp for these messages match the times that I tried to run this script.</p></li>\n<li><p>I have seen this question: <a href=\"https://stackoverflow.com/q/8943371/2615940\">Can&#39;t start Windows service written in Python (win32serviceutil)</a>. Based on the advice there, I have made my code match the suggestion in the top answer there, and made sure that <strong>C:\\Python27</strong> is in my system path. Neither suggestion made a difference.</p></li>\n<li><p>The status that is printed is always \"2\". According to <a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms685996(v=vs.85).aspx\" rel=\"nofollow noreferrer\">MSDN</a>, this is SERVICE_START_PENDING, which means the service should be starting.</p></li>\n</ol>\n\n<p><strong>Updated Details</strong></p>\n\n<ol start=\"4\">\n<li><p>If I change the value of the <code>_svc_reg_class_</code> attribute to <code>\"tmp2.reg_class\"</code>, then the name of the missing module, as reported in the Windows event log, changes to \"tmp2\", so this error is related to the <code>_svc_reg_class_</code> attribute.</p></li>\n<li><p>In reply to a comment below: I don't think I can capture the full traceback, because my service class is instantiated and used in the pywin32 library code. The offending import doesn't happen anywhere in my code, so there's nothing for me to wrap in a try/except block.</p></li>\n</ol>\n"}, {"tags": ["python", "flask", "supervisord"], "comments": [{"owner": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437100345, "post_id": 31442945, "comment_id": 50901063, "body": "Please add more information, are you using any configuration file for supervisord? if it&#39;s an XML file, you&#39;re probably missing a root node for the xml tree. You&#39;re not showing running a configuration file at all above, so please add more information. Also, note that supervisorctl should be used after you start supervisord (think of supervisord as the server and the *ctl as the client allowing control of supervisord. If supervisord wasn&#39;t started, supervisordctl will fail."}, {"owner": {"reputation": 121, "user_id": 3539965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/635997944/picture?type=large", "display_name": "Illumin8s", "link": "https://stackoverflow.com/users/3539965/illumin8s"}, "reply_to_user": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437150478, "post_id": 31442945, "comment_id": 50926144, "body": "Okay -- Editted to show configuration file -- base configuration file just has an [include] that points to, and successfully finds that file.   It is not an XML file -- I am not using an xml file anywhere in the configuration, which is pretty much why I am here  And yes, supervisord was up and running when I attempted to supervisorctl"}, {"owner": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437150750, "post_id": 31442945, "comment_id": 50926278, "body": "you&#39;re not showing anything new.. did you save the edits?"}, {"owner": {"reputation": 121, "user_id": 3539965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/635997944/picture?type=large", "display_name": "Illumin8s", "link": "https://stackoverflow.com/users/3539965/illumin8s"}, "reply_to_user": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437150945, "post_id": 31442945, "comment_id": 50926392, "body": "^^ was still editing -- it&#39;s up now"}, {"owner": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437158983, "post_id": 31442945, "comment_id": 50930616, "body": "i&#39;m thinking there&#39;s something to do with calling supervisordctl with the socket. call supervisordctl with the same -c &lt;conf file&gt; parameter as when you start the supervisord process."}, {"owner": {"reputation": 121, "user_id": 3539965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/635997944/picture?type=large", "display_name": "Illumin8s", "link": "https://stackoverflow.com/users/3539965/illumin8s"}, "reply_to_user": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437159289, "post_id": 31442945, "comment_id": 50930789, "body": "Well, yes, it does have to do with that -- calling supervisord with localhost:9001 and supervisorctl with localhost:9001 works fine. But... this doesn&#39;t necessarily help. I&#39;m thinking that if supervisord is run as root, and the socket is created by a script running as a specific user (www-data), then this may be a weird manifestation of a permission error"}, {"owner": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437371339, "post_id": 31442945, "comment_id": 50981444, "body": "not sure where this stands, if you found a solution, please post and accept your own solution (i.e. state that it was a user permissions issue, etc..)"}, {"owner": {"reputation": 121, "user_id": 3539965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/635997944/picture?type=large", "display_name": "Illumin8s", "link": "https://stackoverflow.com/users/3539965/illumin8s"}, "reply_to_user": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1437437512, "post_id": 31442945, "comment_id": 51017925, "body": "well ... no, I didn&#39;t solve it. I ended up abandoning the problem and just using localhost on the server rather than a unix socket.  If I were to suggest a way that someone <i>might</i> solve this problem, it would be to make sure that the supervisor process user and group has read/write access along the whole cd path from executable run location, to the executable location, to the application location."}], "owner": {"reputation": 121, "user_id": 3539965, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/635997944/picture?type=large", "display_name": "Illumin8s", "link": "https://stackoverflow.com/users/3539965/illumin8s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565482134, "creation_date": 1437002862, "last_edit_date": 1565482134, "question_id": 31442945, "link": "https://stackoverflow.com/questions/31442945/supervisorctl-error-xml-parser-in-otherwise-working-local-configuration", "title": "supervisorctl error (xml parser) in otherwise working local configuration", "body": "<p>This is a real head-scratcher for me. Don't know where to start, please help.</p>\n\n<p>I have a local environment running nginx, and gunicorn under supervisor on Mac OS X Yosemite.</p>\n\n<p>Everything is working fine except for supervisorctl:</p>\n\n<pre><code>campus-016-065:config [user]$ supervisorctl -s unix:///.../.../Flasl_Proj.sock\nerror: &lt;class 'xml.parsers.expat.ExpatError'&gt;, mismatched tag: line 10, column 4: file: /System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/xmlrpclib.py line: 557\nsupervisor&gt;\n</code></pre>\n\n<p>This doesn't really seem like a configuration problem to me, especially when everything else is working, so... what exactly is going wrong, and how do I fix it?</p>\n\n<p><strong>EDIT</strong></p>\n\n<pre><code>&gt;cat supervisord.conf\n\n[supervisord]\ndirectory=/Users/[user]/.../.../Flask_Proj/\nuser=[user]\nnodaemon=false\n\n[supervisorctl]\nserverurl=unix:///Users/[user]/.../.../Flask_Proj/\nprompt=Flask_Proj\n\n[include]\nfiles=/Users/[user]/.../.../Flask_Proj/config/Flask_Proj.conf\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;cat Flask_Proj.conf\n\n[program:Flask_Proj]\ncommand=/Users/[user]/.../.../Flask_Proj/config/gunicorn_start\nautostart=true\nautorestart=true\npriority=991\nstopsignal=KILL\n</code></pre>\n\n<hr>\n\n<pre><code>&gt;cat gunicorn_start\n\n#!/usr/bin/env bash\nexport FLASK_PROJ_FLASK_NAME=\"Project Name\"\nexport FLASK_PROJ_FLASK_ROOT=/Users/[user]/.../.../.../\nexport FLASK_PROJ_FLASK_DIR=${FLASK_PROJ_FLASK_ROOT}FLASK_PROJ/\nexport FLASK_PROJ_FLASK_CONFIG=${FLASK_PROJ_FLASK_DIR}config/\nexport PYTHONPATH=$FLASK_PROJ_FLASK_ROOT:$PYTHONPATH\nexport FLASK_PROJ_FLASK_VENV=/Users/[user]/.virtualenvs/Flask_Proj-env/\nexport FLASK_PROJ_FLASK_SOCK=${FLASK_PROJ_FLASK_ROOT}Flask_Proj.sock\nexport FLASK_PROJ_WSGI_MOD=\"FLask_Proj:app\"\nexport FLASK_PROJ_USER=[user]\nexport FLASK_PROJ_GROUP=staff\nexport FLASK_PROJ_FLASK_RUNDIR=$(dirname $FLASK_PROJ_FLASK_SOCK)\nexport FLASK_PROJ_GUNICORN_LOGS=${FLASK_PROJ_FLASK_DIR}logs/\nexport FLASK_PROJ_GUNICORN_LOGLEVEL=\"debug\"\nexport FLASK_PROJ_GUNICORN_PROCESS=\"gunicorn_Flask_Proj_flask\"\n\necho \"Starting $FLASK_PROJ_FLASK_NAME as `whoami`\"\nsource ${FLASK_PROJ_FLASK_VENV}bin/activate\n\ntest -d $FLASK_PROJ_FLASK_RUNDIR || mkdir -p $FLASK_PROJ_FLASK_RUNDIR\nexec ${FLASK_PROJ_FLASK_VENV}bin/gunicorn -c ${FLASK_PROJ_FLASK_CONFIG}gunicorn.conf.py ${FLASK_PROJ_WSGI_MOD}\n</code></pre>\n"}, {"tags": ["python", "dictionary", "memory-management", "garbage-collection"], "comments": [{"owner": {"reputation": 2471, "user_id": 2723407, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/739d4ab844743e1a19950a1ec8dbcabf?s=128&d=identicon&r=PG&f=1", "display_name": "iobender", "link": "https://stackoverflow.com/users/2723407/iobender"}, "edited": false, "score": 0, "creation_date": 1437002781, "post_id": 31442906, "comment_id": 50854875, "body": "You could try creating a new dictionary with the contents of the old one, and remove the reference to the old one."}, {"owner": {"reputation": 7915, "user_id": 494343, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/446b5d6d3a019f8219b5d8102c1d4bbc?s=128&d=identicon&r=PG", "display_name": "Schultz9999", "link": "https://stackoverflow.com/users/494343/schultz9999"}, "reply_to_user": {"reputation": 2471, "user_id": 2723407, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/739d4ab844743e1a19950a1ec8dbcabf?s=128&d=identicon&r=PG&f=1", "display_name": "iobender", "link": "https://stackoverflow.com/users/2723407/iobender"}, "edited": false, "score": 0, "creation_date": 1437002827, "post_id": 31442906, "comment_id": 50854897, "body": "At what point? On schedule? How do I block writes?"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1437003426, "post_id": 31442906, "comment_id": 50855112, "body": "Python&#39;s <code>threading</code>, <code>multiprocessing</code>, and <code>asyncio</code> modules <i>all</i> provide you with nearly identical synchronization primitives such as <code>Lock</code>.  I would start looking in the applicable module&#39;s documentation."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1437003541, "post_id": 31442906, "comment_id": 50855158, "body": "Also, 6291736 is 6MB.  Is your application&#39;s memory footprint a problem right now?  Premature debugging is the root of all evils..."}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1437004454, "post_id": 31442906, "comment_id": 50855421, "body": "Indeed. As long as you are removing entries from the dictionary, they will get reused. 6 MB seems fine. What problem are you trying to solve by freeing this memory? BTW, it will probably never get released back to the OS even if you manage to pry it from Python&#39;s hands."}], "answers": [{"comments": [{"owner": {"reputation": 7915, "user_id": 494343, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/446b5d6d3a019f8219b5d8102c1d4bbc?s=128&d=identicon&r=PG", "display_name": "Schultz9999", "link": "https://stackoverflow.com/users/494343/schultz9999"}, "edited": false, "score": 1, "creation_date": 1437002941, "post_id": 31442934, "comment_id": 50854938, "body": "I can&#39;t just stop everything -- requests are coming in async fashion. Surely Python async model is crooked but nonetheless there is no guarantee that while I move data from one dictionary to another, there won&#39;t be any changes in the source one."}, {"owner": {"reputation": 962, "user_id": 5109168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c377cfb3fe1ebd7d8c94a112bc3cf?s=128&d=identicon&r=PG&f=1", "display_name": "franciscod", "link": "https://stackoverflow.com/users/5109168/franciscod"}, "edited": false, "score": 1, "creation_date": 1437003290, "post_id": 31442934, "comment_id": 50855062, "body": "This seems a lot like stop-the-world garbage collection, and in the same fashion you could use a Lock so async requests wait upon the dict is recreated. More info about Lock: <a href=\"https://docs.python.org/2/library/threading.html\" rel=\"nofollow noreferrer\">docs.python.org/2/library/threading.html</a>"}, {"owner": {"reputation": 25125, "user_id": 156755, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/VYXRG.jpg?s=128&g=1", "display_name": "Basic", "link": "https://stackoverflow.com/users/156755/basic"}, "reply_to_user": {"reputation": 7915, "user_id": 494343, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/446b5d6d3a019f8219b5d8102c1d4bbc?s=128&d=identicon&r=PG", "display_name": "Schultz9999", "link": "https://stackoverflow.com/users/494343/schultz9999"}, "edited": false, "score": 1, "creation_date": 1437003297, "post_id": 31442934, "comment_id": 50855065, "body": "@Schultz9999 Then you need to consider locking, etc as with any async programming. Internally, the lists use an array. It&#39;s grown as items are added. To go through and compact the list (essentially doing a &quot;Defrag&quot; of the array) will require blocking other threads."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1437003319, "post_id": 31442934, "comment_id": 50855073, "body": "Well, you could stop everything. Using a synchronization primitive from whichever of Python&#39;s <a href=\"https://docs.python.org/3/library/threading.html\" rel=\"nofollow noreferrer\">many</a> <a href=\"https://docs.python.org/3/library/asyncio-sync.html\" rel=\"nofollow noreferrer\">concurrency</a> <a href=\"https://docs.python.org/3.4/library/multiprocessing.html\" rel=\"nofollow noreferrer\">models</a> could prevent the dictionary from being updated."}], "tags": [], "owner": {"reputation": 962, "user_id": 5109168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e29c377cfb3fe1ebd7d8c94a112bc3cf?s=128&d=identicon&r=PG&f=1", "display_name": "franciscod", "link": "https://stackoverflow.com/users/5109168/franciscod"}, "is_accepted": false, "score": 2, "last_activity_date": 1437003123, "last_edit_date": 1437003123, "creation_date": 1437002821, "answer_id": 31442934, "question_id": 31442906, "link": "https://stackoverflow.com/questions/31442906/how-to-force-python-dictionary-to-shrink/31442934#31442934", "title": "How to force Python dictionary to shrink?", "body": "<p>The way to do this \"rehashing\" so it uses less memory is to create a new dictionary and copy the content over.</p>\n\n<p>The Python dictionary implementation is explained really well in this video:</p>\n\n<p><a href=\"https://youtu.be/C4Kc8xzcA68\" rel=\"nofollow\">https://youtu.be/C4Kc8xzcA68</a></p>\n\n<p>There is an atendee asking this same question (<a href=\"https://youtu.be/C4Kc8xzcA68?t=1593\" rel=\"nofollow\">https://youtu.be/C4Kc8xzcA68?t=1593</a>), and the answer given by the speaker is: </p>\n\n<blockquote>\n  <p>Resizes are only calculated upon insertion; as a dictionary shrinks it just gains a lot of dummy entries and as you refill it will just start reusing those to store keys. [...] you have to copy the keys and values out to a new dictionary</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 854, "user_id": 1175053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28df8a966ae08848f42afff541d0af6a?s=128&d=identicon&r=PG", "display_name": "C S", "link": "https://stackoverflow.com/users/1175053/c-s"}, "is_accepted": false, "score": 1, "last_activity_date": 1492293593, "creation_date": 1492293593, "answer_id": 43431700, "question_id": 31442906, "link": "https://stackoverflow.com/questions/31442906/how-to-force-python-dictionary-to-shrink/43431700#43431700", "title": "How to force Python dictionary to shrink?", "body": "<p>Actually a dictionary can shrink upon resize, but the resize only happens upon a key insert not removal.  Here's a comment from the <a href=\"https://hg.python.org/cpython/file/tip/Objects/dictobject.c#l1207\" rel=\"nofollow noreferrer\">CPython source</a> for <code>dictresize</code>:</p>\n\n<blockquote>\n  <p>Restructure the table by allocating a new table and reinserting all\n  items again.  When entries have been deleted, the new table may\n  actually be smaller than the old one.</p>\n</blockquote>\n\n<p>By the way, since the other answer quotes <a href=\"https://youtu.be/C4Kc8xzcA68?t=1593\" rel=\"nofollow noreferrer\">Brandon Rhodes talk</a> on the dictionary at PyCon 2010, and the quote seems to be at odds with the above (which has been there for years), I thought I would include the full quote, with the missing part in bold.</p>\n\n<blockquote>\n  <p>Resizes are only calculated upon insertion.  As a dictionary shrinks,\n  it just gains a lot of dummy entries and as you refill it, it will\n  just start re-using those to store keys.  <strong>It will not resize until you\n  manage to make it two-thirds full again at its larger size.  So it\n  does not resize as you delete keys.  You have to do an insert to get\n  it to figure out it needs to shrink.</strong></p>\n</blockquote>\n\n<p>So he does say the resizing operation can \"figure out [the dictionary] needs to shrink\".  But that only happens on insert.  Apparently when copying over all the keys during resize, the dummy keys can get removed, reducing the size of the backing array.</p>\n\n<p>It isn't clear, however, how to get this to happen, which is why Rhodes says to just copy over everything to a new dictionary.</p>\n"}], "owner": {"reputation": 7915, "user_id": 494343, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/446b5d6d3a019f8219b5d8102c1d4bbc?s=128&d=identicon&r=PG", "display_name": "Schultz9999", "link": "https://stackoverflow.com/users/494343/schultz9999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1592, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1492293593, "creation_date": 1437002632, "last_edit_date": 1437003914, "question_id": 31442906, "link": "https://stackoverflow.com/questions/31442906/how-to-force-python-dictionary-to-shrink", "title": "How to force Python dictionary to shrink?", "body": "<p>I have experienced that in other languages. Now I have the same problem in Python. I have a dictionary that has a lot of CRUD actions. One would assume that deleting elements from a dictionary should decrease the memory footprint of it. It's not the case. Once a dictionary grows in size (doubling usually), it never(?) releases allocated memory back. I have run this experiment:</p>\n\n<pre><code>import random\nimport sys\nimport uuid\n\na= {}\nfor i in range(0, 100000):\n    a[uuid.uuid4()] = uuid.uuid4()\n    if i % 1000 == 0:\n        print sys.getsizeof(a)\n\nfor i in range(0, 100000):\n    e = random.choice(a.keys())\n    del a[e]\n    if i % 1000 == 0:\n        print sys.getsizeof(a)\n\nprint len(a)\n</code></pre>\n\n<p>The last line of the first loop is <code>6291736</code>. The last line of the second loop is <code>6291736</code> as well. And the size of the dictionary is <code>0</code>. </p>\n\n<p>So how to tackle this issue? Is there a way to force release of memory? </p>\n\n<p>PS: don't really need to do random - I played with the range of the second loop.</p>\n"}, {"tags": ["python", "database", "image", "web2py"], "answers": [{"tags": [], "owner": {"reputation": 25193, "user_id": 440323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c524d823f477d9bb60626dc9dcacc95e?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/440323/anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1437067198, "creation_date": 1437067198, "answer_id": 31460648, "question_id": 31442831, "link": "https://stackoverflow.com/questions/31442831/display-a-set-of-images-from-a-folder-on-web2py/31460648#31460648", "title": "Display a set of Images from a folder on Web2py", "body": "<p>Assuming you know the file name and path, you can return any file to the browser via a controller action that calls <code>response.stream</code>. In a controller (e.g., default.py):</p>\n\n<pre><code>import os\n\ndef serve_file():\n    filename = request.args(0)\n    path = os.path.join(request.folder, 'private', 'file_subfolder', filename)\n    return response.stream(path)\n</code></pre>\n\n<p>In a view, you would then include an image as follows:</p>\n\n<pre><code>&lt;img src=\"{{=URL(default, serve_file, args=filename)}}\" /&gt;\n</code></pre>\n\n<p>If the images are intended to be public, a better option is to store them in the /static folder -- any files in /static can simply be served directly via their URL:</p>\n\n<pre><code>&lt;img src=\"{{=URL('static', 'image_files', args=filename)}}\" /&gt;\n</code></pre>\n\n<p>This method does not require a special controller action to call <code>response.stream</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 3283236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9858eb95ee6e19fa6b2a3b806cd3bd69?s=128&d=identicon&r=PG&f=1", "display_name": "Pulkit", "link": "https://stackoverflow.com/users/3283236/pulkit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1828, "favorite_count": 0, "accepted_answer_id": 31460648, "answer_count": 1, "score": 1, "last_activity_date": 1437067198, "creation_date": 1437002149, "question_id": 31442831, "link": "https://stackoverflow.com/questions/31442831/display-a-set-of-images-from-a-folder-on-web2py", "title": "Display a set of Images from a folder on Web2py", "body": "<p>I am a web2py newbie and I have the following doubt.\nI have a web2py application which take some inputs from the user and then generate some images. These images are then stored inside a folder under the private folder.\nI want to display these images on the web2py application. \nHow do I do that? Also, I don't want to upload the images as a database but simply read them from the folder and display it directly in the application. I got a reference from here:\n<a href=\"http://www.widecodes.com/0xmqqVkXkP/web2py-downloading-files-displaying-images.html\" rel=\"nofollow\">http://www.widecodes.com/0xmqqVkXkP/web2py-downloading-files-displaying-images.html</a></p>\n\n<p>But, couldn't quite understand it.\nAny help?\nThanks in advance!</p>\n"}, {"tags": ["python", "numpy", "linear-algebra", "delaunay"], "comments": [{"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 2, "creation_date": 1437027984, "post_id": 31442826, "comment_id": 50861980, "body": "The essence to increasing efficiency here is to eliminate the loops, and exploit vectorization possibilities. On top of that, I get the impression you could make scipy.spatial do a lot of the heavy lifting for you. Could you add a more high-level expected-input-ouput type description of your problem?"}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 2, "creation_date": 1437028172, "post_id": 31442826, "comment_id": 50862062, "body": "A simple optimization would be to first vectorize the loops over x and y. Just create a list of points using np.mgrid, transform all these points into barycentric space, and filter out all points that do not have exclusively positive coordinates. That should easily yield an order of magnitude in performance. But still, I don&#39;t think this solution is optimal if we take a higher-level perspective of the problem."}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1437028612, "post_id": 31442826, "comment_id": 50862313, "body": "btw; lstsq does not compute barycentric coordinates per se. Consider a triangle with its COM at the origin. The &#39;barycentric coordinates&#39; for [0,0] as computed with lstsq are [0,0,0]; which do not sum to one. Finding the transform to barycentric cords should fundamentally include the sum-to-one constraint."}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "edited": false, "score": 0, "creation_date": 1437029023, "post_id": 31442826, "comment_id": 50862539, "body": "barytransform = np.linalg.inv([[ax,bx,cx], [ay,by,cy], [1,1,1]])  That should give you a matrix transforming to barycentric space; then to get the barycentric coords:  barycoord = np.dot(barytransform, [x,y,1])"}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 5121152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wuw0sC5Kf6k/AAAAAAAAAAI/AAAAAAAADao/JCA0aE2Y6uA/photo.jpg?sz=128", "display_name": "keygrip_chris", "link": "https://stackoverflow.com/users/5121152/keygrip-chris"}, "edited": false, "score": 0, "creation_date": 1437093771, "post_id": 31447441, "comment_id": 50899636, "body": "After computing all of the barycentric coordinates for the triangle, what would be the most efficient method of performing the actual transformation without any use of loops?"}, {"owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "reply_to_user": {"reputation": 71, "user_id": 5121152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wuw0sC5Kf6k/AAAAAAAAAAI/AAAAAAAADao/JCA0aE2Y6uA/photo.jpg?sz=128", "display_name": "keygrip_chris", "link": "https://stackoverflow.com/users/5121152/keygrip-chris"}, "edited": false, "score": 0, "creation_date": 1437126645, "post_id": 31447441, "comment_id": 50911302, "body": "I do not understand the higher-level problem you are trying to address well enough to answer that question with any specificity. Personally, I would guess your problem is best tackled by existing higher-level functionality, like scipy.spatial.Delaunay.find_simplex"}], "tags": [], "owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "is_accepted": false, "score": 3, "last_activity_date": 1437030306, "creation_date": 1437030306, "answer_id": 31447441, "question_id": 31442826, "link": "https://stackoverflow.com/questions/31442826/increasing-efficiency-of-barycentric-coordinate-calculation-in-python/31447441#31447441", "title": "Increasing efficiency of barycentric coordinate calculation in python", "body": "<p>Here are my suggestions, expressed in your pseudocode. Note that vectorizing the loop over the triangles should not be much harder either.</p>\n\n<pre><code># Iterate through each triangle (and get corresponding warp triangle)\nfor triangle in triangulation:\n\n    # Extract corners of the unwarped triangle\n    a = firstCornerUW\n    b = secondCornerUW\n    c = thirdCornerUW\n\n    # Bounding box of the triangle\n    xleft = min(ax, bx, cx)\n    xright = max(ax, bx, cx)\n    ytop = min(ay, by, cy)\n    ybottom = max(ay, by, cy)\n\n    barytransform = np.linalg.inv([[ax,bx,cx], [ay,by,cy], [1,1,1]])     \n\n    grid = np.mgrid[xleft:xright, ytop:ybottom].reshape(2,-1)\n    grid = np.vstack((grid, np.ones((1, grid.shape[1]))))\n\n    barycoords = np.dot(barytransform, grid)\n    barycoords = barycoords[:,np.all(barycoords&gt;=0, axis=0)]\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 5121152, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Wuw0sC5Kf6k/AAAAAAAAAAI/AAAAAAAADao/JCA0aE2Y6uA/photo.jpg?sz=128", "display_name": "keygrip_chris", "link": "https://stackoverflow.com/users/5121152/keygrip-chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2376, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1437030306, "creation_date": 1437002115, "question_id": 31442826, "link": "https://stackoverflow.com/questions/31442826/increasing-efficiency-of-barycentric-coordinate-calculation-in-python", "title": "Increasing efficiency of barycentric coordinate calculation in python", "body": "<p>Background: I'm attempting to warp one face to another of a different shape.</p>\n\n<p>In order to warp one image to another, I'm using a delaunay triangulation of facial landmarks and warping the triangles of one portrait to the corresponding triangles of the second portrait. I'm using a barycentric coordinate system to map a point within a triangle to its corresponding warped location on the other triangle.</p>\n\n<p>My first approach was to solve the system Ax = b with the inverse multiplication method, where A consists of the three corners of the triangle, b represents the current point, and x represents the barycentric coordinates of this point (alpha, beta, and gamma). I found the inverse of matrix A once per triangle, and then for every point within that triangle calculated the barycentric coordinates by finding the dot product of A^-1 and the point b. I found this to be very slow (the function takes 36 seconds to complete).</p>\n\n<p>Following the recommendation of other posts, I attempted to use a least squares solution to improve the efficiency of this process. However, the time increased to 154 seconds when I used numpy's lsq method. I believe this is due to the fact that the A matrix is factored every single time the inside loop runs, while before I was able to find the inverse only one time, before the two loops begin.</p>\n\n<p>My question is, how can I improve the efficiency of this function? Is there a way to store the factorization of A so that each time the least squares solution is calculated for a new point, it isn't repeating the same work?</p>\n\n<p>Pseudocode for this function:</p>\n\n<pre><code># Iterate through each triangle (and get corresponding warp triangle)\nfor triangle in triangulation:\n\n    # Extract corners of the unwarped triangle\n    a = firstCornerUW\n    b = secondCornerUW\n    c = thirdCornerUW\n\n    # Extract corners of the warp triangle\n    a_prime = firstCornerW\n    b_prime = secondCornerW\n    c_prime = thirdCornerW\n\n    # This matrix will be the same for all points within the triangle\n    triMatrix = matrix of a, b, and c\n\n    # Bounding box of the triangle\n    xleft = min(ax, bx, cx)\n    xright = max(ax, bx, cx)\n    ytop = min(ay, by, cy)\n    ybottom = max(ay, by, cy)\n\n    for x in range(xleft, xright):\n\n        for y in range(ytop, ybottom):\n\n            # Store the current point as a matrix\n            p = np.array([[x], [y], [1]])\n\n            # Solve for least squares solution to get barycentric coordinates\n            barycoor = np.linalg.lstsq(triMatrix, p)\n\n            # Pull individual coordinates from the array\n            alpha = barycoor[0]\n            beta = barycoor[1]\n            gamma = barycoor[2]\n\n            # If any of these conditions are not met, the point is not inside the triangle\n            if alpha, beta, gamma &gt; 0 and alpha + beta + gamma &lt;= 1:\n\n                # Now calculate the warped point by multiplying by alpha, beta, and gamma\n                # Warp the point from image to warped image\n</code></pre>\n"}, {"tags": ["python", "pygame"], "comments": [{"owner": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1437003535, "post_id": 31442805, "comment_id": 50855152, "body": "Quick tip: You should try to clean up your code a bit first and actually put it in your question."}, {"owner": {"reputation": 1, "user_id": 5121396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1517c34fcdc330f3dfc0c8460c59a014?s=128&d=identicon&r=PG&f=1", "display_name": "iDynasty", "link": "https://stackoverflow.com/users/5121396/idynasty"}, "reply_to_user": {"reputation": 4987, "user_id": 3100515, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dZSlO.jpg?s=128&g=1", "display_name": "Ajean", "link": "https://stackoverflow.com/users/3100515/ajean"}, "edited": false, "score": 0, "creation_date": 1437023580, "post_id": 31442805, "comment_id": 50860315, "body": "Thanks for the tip I trying doing the code block in the post but wasn&#39;t formatting everything correctly, never actually used paste bin either but thought that it showing line numbers would be really helpful with the trace back."}], "answers": [{"tags": [], "owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "is_accepted": false, "score": 0, "last_activity_date": 1437002734, "creation_date": 1437002734, "answer_id": 31442920, "question_id": 31442805, "link": "https://stackoverflow.com/questions/31442805/pygame-class-object-has-no-attribute-rect/31442920#31442920", "title": "Pygame, &#39;Class&#39; Object has no attribute rect", "body": "<p>Look at line 73:</p>\n\n<p><code>def __init_(self):</code></p>\n\n<p>You might prefer:</p>\n\n<p><code>def __init__(self):</code></p>\n\n<p>Given your typo, your Enemy class does not have a constructor when you instantiate it, however, you do have a useless method __init_. And hence you get an <code>AttributeError</code> when you do <code>.rect.x</code>.</p>\n\n<p>EDIT: semi-useless, you still get some expected behaviour because you call <code>super().__init__()</code> within <code>__init_</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 5121396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1517c34fcdc330f3dfc0c8460c59a014?s=128&d=identicon&r=PG&f=1", "display_name": "iDynasty", "link": "https://stackoverflow.com/users/5121396/idynasty"}, "edited": false, "score": 0, "creation_date": 1437023429, "post_id": 31442995, "comment_id": 50860269, "body": "Omg I wanna shoot myself right now. I&#39;m surprised that didn&#39;t throw an error itself. Just started learning a few weeks ago. Novice mistake I guess. Thanks so much guys!"}, {"owner": {"reputation": 1798, "user_id": 3715463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6194dc2c513eaf3f83798c4672d4da2c?s=128&d=identicon&r=PG", "display_name": "jonnybazookatone", "link": "https://stackoverflow.com/users/3715463/jonnybazookatone"}, "edited": false, "score": 0, "creation_date": 1437066072, "post_id": 31442995, "comment_id": 50887345, "body": "You should accept one answer, and maybe upvote the one you don&#39;t select as the answer given we both responded within a few minutes of each other."}, {"owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "edited": false, "score": 0, "creation_date": 1437066201, "post_id": 31442995, "comment_id": 50887430, "body": "Totally agreed with you. Nice answer by the way."}], "tags": [], "owner": {"reputation": 2924, "user_id": 4052384, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2WuTl.jpg?s=128&g=1", "display_name": "Anthony Pham", "link": "https://stackoverflow.com/users/4052384/anthony-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1437003145, "creation_date": 1437003145, "answer_id": 31442995, "question_id": 31442805, "link": "https://stackoverflow.com/questions/31442805/pygame-class-object-has-no-attribute-rect/31442995#31442995", "title": "Pygame, &#39;Class&#39; Object has no attribute rect", "body": "<p>The fact is that you forgot an underscore.</p>\n\n<p>In line 73 of your code you accidentally wrote this:</p>\n\n<pre><code>def __init_(self):\n</code></pre>\n\n<p>You are missing an underscore (the last one). You have two on the left side and one on the right side. To complete the initialization correctly, you need to add an underscore like so:</p>\n\n<pre><code>def __init__(self):\n</code></pre>\n\n<p>This will then allow the <code>Enemy</code> class to have a rect due to that you have <code>self.rect = self.image.get_rect()</code> anyways. The missing underscore will always raise an <code>Attribute Error</code> if it is the only error/first error in your code. </p>\n"}], "owner": {"reputation": 1, "user_id": 5121396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1517c34fcdc330f3dfc0c8460c59a014?s=128&d=identicon&r=PG&f=1", "display_name": "iDynasty", "link": "https://stackoverflow.com/users/5121396/idynasty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1239, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437003476, "creation_date": 1437001969, "last_edit_date": 1437003476, "question_id": 31442805, "link": "https://stackoverflow.com/questions/31442805/pygame-class-object-has-no-attribute-rect", "title": "Pygame, &#39;Class&#39; Object has no attribute rect", "body": "<p>I'm making a simple game with python and pygame, and I'm trying to populate the screen with enemies by using a for loop. I have what looks to me like identical code in the other parts of my game, but for whatever reason I'm getting the error</p>\n\n<blockquote>\n  <p>AttributeError: 'Enemy object has no attribute 'rect'</p>\n</blockquote>\n\n<p>I changed the values for <code>enemy.rect.x</code> and <code>enemy.rect.y</code> to 500 and 500 just to see if it was the variable I was using that was causing the error but it wasn't.</p>\n\n<p>Here's the pastebin for the full code... <a href=\"http://pastebin.com/ZJ2u9w7t\" rel=\"nofollow\">http://pastebin.com/ZJ2u9w7t</a></p>\n\n<p>The full traceback is:</p>\n\n<pre><code>Traceback (most recent call last):\nFile \"D:\\Projects portfolio\\PythonStuff\\ShipTest.PY\", line 119, in &lt;module&gt;\nmain()\n\nFile \"D:\\Projects portfolio\\PythonStuff\\ShipTest.PY\", line 109, in main\nenemy.rect.x = 500\nAttributeError: 'Enemy' object has no attribute 'rect'\n[Finished in 1.0s]\n</code></pre>\n"}, {"tags": ["python", "excel", "pandas", "ffmpeg"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437010760, "post_id": 31443330, "comment_id": 50856988, "body": "Thank you for the reply! You were correct that I had other sheets. I am getting a   TypeError: copy() got an unexpected keyword argument &#39;font&#39; [Finished in 0.4s with exit code 1]   Can you help me get rid of it?"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437011250, "post_id": 31443330, "comment_id": 50857137, "body": "I had the same error when testing the code.  There seems to be a bug in Pandas with OpenPyXL version 2.2.  If you install OpenPyXL version 2.1 instead, it works fine.  <code>pip install openpyxl==2.1</code> worked for me, hopefully it&#39;ll work on Windows too!"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437011296, "post_id": 31443330, "comment_id": 50857152, "body": "Here&#39;s the link to the <a href=\"https://github.com/pydata/pandas/issues/10125\" rel=\"nofollow noreferrer\">GitHub Issue for Pandas about it</a>"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437011375, "post_id": 31443330, "comment_id": 50857173, "body": "Apparently, openpyxl hasn&#39;t had a very steady API since they released 2.0, so Pandas can&#39;t really keep up with it.  So maybe you&#39;ll want to go back to 2.0 (but I had no problems with 2.1)."}, {"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437011886, "post_id": 31443330, "comment_id": 50857280, "body": "Thanks! This solved the issue! I am a complete newb! where would you put your line to write the code? I try to put it on line 29 but it causes the sheets to get messed up because it adds another index column."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437012143, "post_id": 31443330, "comment_id": 50857343, "body": "I&#39;m not sure what you mean, &quot;the line to write the code&quot;.  If you mean, where do you put the line <code>df.loc[i, &#39;Timestamp&#39;] = str(datetime.now())</code>, it depends on whether you want to have a timestamp only after you&#39;ve called ffmpeg.  If that&#39;s so, I would put it after the <code>sp.call(...)</code> line, inside the if statement.  Is that what you&#39;re asking?"}, {"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437012608, "post_id": 31443330, "comment_id": 50857450, "body": "Yes I put it after sp. I believe what is happening is that it is copying the index from the dataframe and shifting my columns in the excelfile to the right."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437012890, "post_id": 31443330, "comment_id": 50857531, "body": "Oh!  You can probably add <code>index=False</code> to the call to <code>df.to_excel()</code>.  According to <a href=\"http://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.to_excel.html\" rel=\"nofollow noreferrer\">this</a> documentation page."}, {"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437013246, "post_id": 31443330, "comment_id": 50857630, "body": "Thanks so much! that got rid of the index. However, the timestamp won&#39;t show at all. I&#39;m trying to get it in the Timestamp column at the appropriate row."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437013505, "post_id": 31443330, "comment_id": 50857701, "body": "Did you want a timestamp only for the times that you call ffmpeg?  Or for every row of the spreadsheet?  Cause you might have to move the line labeled <code>(4)</code>.  Do you see a &quot;Timestamp&quot; column?"}, {"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437013665, "post_id": 31443330, "comment_id": 50857747, "body": "II want the timestamp everytime FFMPEG runs. I moved line (4) under the if statement after the sp call. I have a designated Timestamp column."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437013772, "post_id": 31443330, "comment_id": 50857774, "body": "Huh, I really don&#39;t know why this would be happening.  Maybe open a new question for that issue, this thread is getting pretty long!"}, {"owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437018859, "post_id": 31443330, "comment_id": 50858978, "body": "I figured it out. I need to put the writer portion inside the loop! DOH! thank you for your help!!!"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "edited": false, "score": 0, "creation_date": 1437019324, "post_id": 31443330, "comment_id": 50859069, "body": "Oh damn, I didn&#39;t even put that portion within the function!! That explains a whole lot! It doesn&#39;t need to be within the loop, but it does need to be within the function. I&#39;ll edit my answer."}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": true, "score": 0, "last_activity_date": 1437019372, "last_edit_date": 1437019372, "creation_date": 1437005428, "answer_id": 31443330, "question_id": 31442758, "link": "https://stackoverflow.com/questions/31442758/how-do-i-timestamp-an-excel-document-using-pandas/31443330#31443330", "title": "How do I timestamp an excel document using Pandas?", "body": "<p>Applying the answer from <a href=\"https://stackoverflow.com/questions/20219254/how-to-write-to-an-existing-excel-file-without-overwriting-data\">this</a> SO question, here is an updated version of your code, with comments where I made changes:</p>\n\n<pre><code>import subprocess as sp, pandas as pd\n# (1) new import\nfrom openpyxl import load_workbook\n# (2) new import\nfrom datetime import datetime\n\nffmpeg = 'C:/FFMPEG/bin/ffmpeg.exe' # on Windows\ndatafile = r'C:\\Users\\A_Do\\Dropbox\\1. Projects\\2. Python\\TM Creator\\tm_creator_test1.xlsx'\n\n# (3) open the file in openpyxl first:\nbook = load_workbook(datafile)\n\nxl = pd.ExcelFile(datafile,index = False)\ndf = xl.parse('Sheet1')\n\ndef create_tm():\n    row_iterator = df.iterrows()\n     # take first item from row_iterator\n    for i, row in row_iterator:\n        infile = row['filename']\n        outputfile = row['outputfilename']\n        timein = row['timein']\n        duration = row['duration']\n        decision = row['Create TM?']\n        if decision == \"Y\":\n            sp.call(ffmpeg + \" -y -i \" + infile + \" -map 0:0 -map 0:1 -map 0:2 -acodec copy -ss \" + str(timein) + \" -codec copy -t \" + str(duration) + \" \" + outputfile,shell=True) #this works\n\n        elif decision != decision: #this gets rid of the NaN\n            break\n        else:\n            print \"You said you didn't want to make a TM for \" + str(infile)\n\n        # (4) Wherever in the code you want to put the timestamp:\n        df.loc[i, 'Timestamp'] = str(datetime.now())\n\n    # (5) This saves the sheet back into the original file, without removing\n    # any of the old sheets.\n    writer = pd.ExcelWriter(datafile)\n    writer.book = book\n    writer.sheets = dict((ws.title, ws) for ws in book.worksheets)\n    df.to_excel(writer)\n    writer.save()\n\ncreate_tm()\n</code></pre>\n\n<p>If you'd like more control over the format of your timestamp, consult the docs for <a href=\"https://docs.python.org/3/library/datetime.html#datetime.date.strftime\" rel=\"nofollow\"><code>datetime.datetime.strftime()</code></a>.  Also, I wrote this assuming that your Excel file had other sheets that you would be upset if you lost.  If that is not the case, you don't have to do nearly as much.  You can ignore changes numbered 1 and 3, and replace 5 with <code>df.to_excel(datafile)</code>.</p>\n"}], "owner": {"reputation": 79, "user_id": 4592256, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/100000588897350/picture?type=large", "display_name": "Andy Do", "link": "https://stackoverflow.com/users/4592256/andy-do"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 660, "favorite_count": 1, "accepted_answer_id": 31443330, "answer_count": 1, "score": 0, "last_activity_date": 1437019372, "creation_date": 1437001729, "last_edit_date": 1437019125, "question_id": 31442758, "link": "https://stackoverflow.com/questions/31442758/how-do-i-timestamp-an-excel-document-using-pandas", "title": "How do I timestamp an excel document using Pandas?", "body": "<p>I have a script that uses FFMPEG and CMD to cut video files based off of an excel document row by row. I would like python to add a timestamp after it is done with a row. Can you guys please help?</p>\n\n<pre><code>import subprocess as sp, pandas as pd\n\nffmpeg = 'C:/FFMPEG/bin/ffmpeg.exe' # on Windows\ndatafile = r'C:\\Users\\A_Do\\Dropbox\\1. Projects\\2. Python\\TM Creator\\tm_creator_test1.xlsx'\n\nxl = pd.ExcelFile(datafile,index = False)\ndf = xl.parse('Sheet1')\n\ndef create_tm():\n    row_iterator = df.iterrows()\n     # take first item from row_iterator\n    for i, row in row_iterator:\n        infile = row['filename']\n        outputfile = row['outputfilename']\n        timein = row['timein']\n        duration = row['duration']\n        decision = row['Create TM?']\n        if decision == \"Y\":\n            sp.call(ffmpeg + \" -y -i \" + infile + \" -map 0:0 -map 0:1 -map 0:2 -acodec copy -ss \" + str(timein) + \" -codec copy -t \" + str(duration) + \" \" + outputfile,shell=True) #this works\n\n        elif decision != decision: #this gets rid of the NaN\n            break\n        else:\n            print \"You said you didn't want to make a TM for \" + str(infile)\n\ncreate_tm()\n</code></pre>\n\n<p>Thanks!</p>\n\n<p>My final code:</p>\n\n<pre><code>import subprocess as sp, pandas as pd\n# (1) new import\nfrom openpyxl import load_workbook\n# (2) new import\nfrom datetime import datetime\n\nffmpeg = 'D:/FFMPEG/bin/ffmpeg.exe' # on Windows\ndatafile = r'D:\\Dropbox\\1. Projects\\2. Python\\TM Creator\\tm_creator_test1.xlsx'\n\n# (3) open the file in openpyxl first:\nbook = load_workbook(datafile)\n\nxl = pd.ExcelFile(datafile,index = False)\ndf = xl.parse('Sheet1')\n\ndef create_tm():\n    row_iterator = df.iterrows()\n     # take first item from row_iterator\n    for i, row in row_iterator:\n        infile = row['filename']\n        outputfile = row['outputfilename']\n        timein = row['timein']\n        duration = row['duration']\n        decision = row['Create TM?']\n        if decision == \"Y\":\n            sp.call(ffmpeg + \" -y -i \" + infile + \" -map 0:0 -map 0:1 -acodec copy -ss \" + str(timein) + \" -codec copy -t \" + str(duration) + \" \" + outputfile,shell=True) #this works\n            # (4) Wherever in the code you want to put the timestamp:\n            df.loc[i, 'Timestamp'] = str(datetime.now())\n            # (5) This saves the sheet back into the original file, without removing\n            # any of the old sheets.\n            writer = pd.ExcelWriter(datafile)\n            writer.book = book\n            writer.sheets = dict((ws.title, ws) for ws in book.worksheets)\n            df.to_excel(writer, index=False)\n            writer.save()\n        elif decision != decision: #this gets rid of the NaN\n            break\n        else:\n            print \"You said you didn't want to make a TM for \" + str(infile)\n</code></pre>\n"}, {"tags": ["python", "datetime", "timezone", "pytz"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 0, "creation_date": 1437001731, "post_id": 31442718, "comment_id": 50854538, "body": "Somewhat related: <a href=\"http://stackoverflow.com/questions/13866926/python-pytz-list-of-timezones\" title=\"python pytz list of timezones\">stackoverflow.com/questions/13866926/&hellip;</a>"}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1437021232, "post_id": 31442718, "comment_id": 50859603, "body": "Read the very beginning of the pytz docs.  You need to use the <code>localize</code> function."}, {"owner": {"reputation": 3, "user_id": 5053998, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RxAAKmMroR4/AAAAAAAAAAI/AAAAAAAAAlQ/-aVDS3RAqAA/photo.jpg?sz=128", "display_name": "Matthew Strugari", "link": "https://stackoverflow.com/users/5053998/matthew-strugari"}, "edited": false, "score": 0, "creation_date": 1437057101, "post_id": 31442718, "comment_id": 50881260, "body": "The pytz doc states: &quot;normalize() and localize() are not really necessary when there are no daylight saving time transitions to deal with.&quot;. I would like to avoid using any kind of conversion. The time I am stating under datetime() is in CST so I would like to avoid extra lines of code to convert it to CST."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1437195753, "post_id": 31442718, "comment_id": 50940235, "body": "That particular line is with regard to UTC.  When it says &quot;there are no daylight saving time transitions to deal with&quot;, it means over the <i>entire</i> time zone - not just that particular point in time.  Since the time zones you&#39;re working with <i>do</i> have DST, then you <i>must</i> use <code>localize</code>.  Otherwise you just get the first offset in the zone definition, which happens to be the LMT value."}, {"owner": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1437196052, "post_id": 31442718, "comment_id": 50940287, "body": "Also note, that the definition for <code>CET</code> in the tzdb does indeed switch between CET and CEST - it just has no LMT value assigned, so you happen to get the UTC+01:00 offset, because it&#39;s the first offset in the zone definition."}, {"owner": {"reputation": 3, "user_id": 5053998, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RxAAKmMroR4/AAAAAAAAAAI/AAAAAAAAAlQ/-aVDS3RAqAA/photo.jpg?sz=128", "display_name": "Matthew Strugari", "link": "https://stackoverflow.com/users/5053998/matthew-strugari"}, "reply_to_user": {"reputation": 195413, "user_id": 634824, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/889cf720c96957e615463b5c903a5e18?s=128&d=identicon&r=PG", "display_name": "Matt Johnson-Pint", "link": "https://stackoverflow.com/users/634824/matt-johnson-pint"}, "edited": false, "score": 0, "creation_date": 1437681670, "post_id": 31442718, "comment_id": 51145651, "body": "Thanks for the help @MattJohnson, however the timezones I am working with do not have DST. I ended up using cst = pytz.timezone(&#39;Etc/GMT+6) and then adding in the extra line of code with .astimezone(hometime) to display everything in the correct CST timezone."}], "owner": {"reputation": 3, "user_id": 5053998, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RxAAKmMroR4/AAAAAAAAAAI/AAAAAAAAAlQ/-aVDS3RAqAA/photo.jpg?sz=128", "display_name": "Matthew Strugari", "link": "https://stackoverflow.com/users/5053998/matthew-strugari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1144, "favorite_count": 0, "closed_date": 1437023546, "answer_count": 0, "score": 0, "last_activity_date": 1437001442, "creation_date": 1437001442, "question_id": 31442718, "link": "https://stackoverflow.com/questions/31442718/how-can-i-specify-the-cst-time-zone-when-using-pytz", "closed_reason": "Duplicate", "title": "How can I specify the CST time zone when using pytz?", "body": "<p>I have two code segments set up which return a date to the user. The first one converts the date from the CET time zone to CST and appears as follows:</p>\n\n<pre><code>from datetime import datetime\nfrom pytz import timezone\nimport pytz\n\nfmt = '%Y-%m-%d %H:%M:%S %Z%z'\n\ncet = pytz.timezone(\"CET\")\ninstall_date = datetime(day=18, month=5, year=2015, hour=18, minute=00, second=00, tzinfo=cet)\n\nhometime = timezone('Canada/Saskatchewan')\nloc_dt = install_date.astimezone(hometime)\n\nresult=loc_dt.strftime(fmt)\n</code></pre>\n\n<p>which returns the correct result:</p>\n\n<pre><code>2015-05-18 11:00:00 CST-0600\n</code></pre>\n\n<p>For the second segment, I just want the date returned under the CST timezone to ensure that it will not be affected by daylight savings time:</p>\n\n<pre><code>from datetime import datetime\nfrom pytz import timezone\nimport pytz\n\nfmt = '%Y-%m-%d %H:%M:%S %Z%z'\ncst = pytz.timezone('Canada/Saskatchewan')\ncalibration_date = datetime(day=2, month=6, year=2015, hour=10, minute=00, second=00, tzinfo=cst)\nresult = calibration_date.strftime(fmt)\n</code></pre>\n\n<p>which returns the result:</p>\n\n<pre><code>2015-06-02 10:00:00 LMT-0659\n</code></pre>\n\n<p>Notice the LMT-0659 result. I need it to return CST-0600 since CST is unaffected by daylight savings time. I am not sure why the conversion segment would return the CST time zone while the LMT time zone is returned in the second segment. </p>\n\n<p>Does anyone know why I am receiving the LMT-0659 result and what time zone I should be using to obtain the correct CST-0600 time zone? Should I just use the 'Etc/GMT+6' time zone instead to avoid any daylight savings issues in the future?</p>\n"}, {"tags": ["python", "pandas", "textblob"], "answers": [{"comments": [{"owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "edited": false, "score": 0, "creation_date": 1437521173, "post_id": 31443698, "comment_id": 51061059, "body": "Cool, thanks! Any ideas how to combine the tweet column in a way that preserves everything?"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "edited": false, "score": 0, "creation_date": 1437524422, "post_id": 31443698, "comment_id": 51061877, "body": "See my edited answer, it has a new section describing how you can do string operations on the string column without &quot;combining&quot; everything back into a single string."}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 0, "last_activity_date": 1437524752, "last_edit_date": 1437524752, "creation_date": 1437008116, "answer_id": 31443698, "question_id": 31442693, "link": "https://stackoverflow.com/questions/31442693/textblob-not-returning-the-correct-number-of-instances-of-string-in-pandas-dataf/31443698#31443698", "title": "TextBlob not returning the correct number of instances of string in Pandas dataframe", "body": "<p>The CSV conversion is not the problem!  When you use <code>str()</code> on a column of a <code>DataFrame</code> (that is, a <code>Series</code>), it makes a \"print-friendly\" output of the Series, which means cutting out the majority of the data, and just displaying the first few and the last few.  Here is a transcript of an IPython session that will probably illustrate the issue better:</p>\n\n<pre><code>In [1]: import pandas as pd\n\nIn [2]: blah = pd.Series('tweet %d' % n for n in range(1000))\n\nIn [3]: blah\nOut[3]: \n0        tweet 0\n1        tweet 1\n...  (output continues from 1 to 29)\n29       tweet 29\n       ... (OUTPUT SKIPS HERE)\n970    tweet 970\n... (output continues from 970 to 998)\n998    tweet 998\n999    tweet 999\ndtype: object\n\nIn [4]: blahstr = str(blah)\n\nIn [5]: blahstr.count('tweet')\nOut[5]: 60\n</code></pre>\n\n<p>So, since the output of the <code>str()</code> operation cuts off my data (and might even truncate column values, If I had used longer strings), I don't get 1000, I get 60.</p>\n\n<p>If you want to do it your way (combine everything <em>back</em> into a single string and work with it that way), there's no point in using a library like Pandas.  Pandas gives you better ways:</p>\n\n<h2>Working With a Series of Strings</h2>\n\n<p>Pandas has tools for working with a <code>Series</code> that contains strings.  Here is a <a href=\"http://pandas.pydata.org/pandas-docs/stable/text.html\" rel=\"nofollow\">tutorial-like page about it</a>, and here is the full <a href=\"http://pandas.pydata.org/pandas-docs/stable/api.html#string-handling\" rel=\"nofollow\">string handling API documentation</a>.  In particular, for finding the number of uses of the word \"sex\", you could do something like this (assuming <code>df</code> is a <code>DataFrame</code>, and <code>text</code> is the column containing the tweets):</p>\n\n<pre><code>import re\ncounts = df['text'].str.count('sex', re.IGNORECASE)\n</code></pre>\n\n<p><code>counts</code> should be a <code>Series</code> containing the number of occurrences of \"sex\" in each tweet.  <code>counts.sum()</code> would give you the total number of usages, which should hopefully be more than 1000.</p>\n"}, {"comments": [{"owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "edited": false, "score": 0, "creation_date": 1437521094, "post_id": 31444183, "comment_id": 51061026, "body": "When I try to join the list, I get this error, &quot;TypeError: sequence item 368: expected string, float found&quot;. I assume that&#39;s because that tweet contains a URL and some backslashes. How do I get around that and convert my Series into a string? When I use the 2nd suggested code and skip the textblob, it&#39;s still functioning on the truncated str version."}, {"owner": {"reputation": 12993, "user_id": 2548721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/29DSr.jpg?s=128&g=1", "display_name": "NullDev", "link": "https://stackoverflow.com/users/2548721/nulldev"}, "reply_to_user": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "edited": false, "score": 0, "creation_date": 1437523468, "post_id": 31444183, "comment_id": 51061644, "body": "When that error occurs, that means that the 369th item in your list is not a string-type element but a float. I&#39;ll edit in a better explanation."}], "tags": [], "owner": {"reputation": 12993, "user_id": 2548721, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/29DSr.jpg?s=128&g=1", "display_name": "NullDev", "link": "https://stackoverflow.com/users/2548721/nulldev"}, "is_accepted": true, "score": 0, "last_activity_date": 1437523764, "last_edit_date": 1437523764, "creation_date": 1437012006, "answer_id": 31444183, "question_id": 31442693, "link": "https://stackoverflow.com/questions/31442693/textblob-not-returning-the-correct-number-of-instances-of-string-in-pandas-dataf/31444183#31444183", "title": "TextBlob not returning the correct number of instances of string in Pandas dataframe", "body": "<p>I'm not entirely sure this is methodically correct insofar as language processing, but using <code>join</code> will give you the count you need.</p>\n\n<pre><code>import pandas as pd\nfrom textblob import TextBlob\n\ntweets = pd.Series('sex {}'.format(x) for x in range(1000))\ntweetstr = \" \".join(tweets.tolist())\ntweetsb = TextBlob(tweetstr).upper()\nprint tweetsb.words.count('sex', case_sensitive=False)\n# 1000\n</code></pre>\n\n<hr>\n\n<p>If you just need the count without necessarily using <code>TextBlob</code>, then just do:</p>\n\n<pre><code>import pandas as pd\n\ntweets = pd.Series('sex {}'.format(x) for x in range(1000))\nsex_tweets = tweets.str.contains('sex', case=False)\nprint sex_tweets.sum()\n# 1000\n</code></pre>\n\n<hr>\n\n<p>You can get a <code>TypeError</code> in the first snippet if one of your elements is not of type <code>string</code>. This is more of <code>join</code> issue. A simple test can be done using the following snippet:</p>\n\n<pre><code># tweets = pd.Series('sex {}'.format(x) for x in range(1000))\ntweets = pd.Series(x for x in range(1000))\ntweetstr = \" \".join(tweets.tolist())\n</code></pre>\n\n<p>Which gives the following result:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"F:\\test.py\", line 6, in &lt;module&gt;\n    tweetstr = \" \".join(tweets.tolist())\nTypeError: sequence item 0: expected string, numpy.int64 found\n</code></pre>\n\n<p>A simple workaround is to convert <code>x</code> in the list comprehension into a <code>string</code> before using <code>join</code>, like so:</p>\n\n<pre><code>tweets = pd.Series(str(x) for x in range(1000))\n</code></pre>\n\n<p>Or you can be more explicit and create a list first, map the <code>str</code> function to it, and then use <code>join</code>.</p>\n\n<pre><code>tweetlist = tweets.tolist()\ntweetstr = map(str, tweetlist)\ntweetstr = \" \".join(tweetstr)\n</code></pre>\n"}], "owner": {"reputation": 139, "user_id": 4455771, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh4.googleusercontent.com/-448sd3I-6U0/AAAAAAAAAAI/AAAAAAAABNI/xbgBV8XnLJA/photo.jpg?sz=128", "display_name": "Heather", "link": "https://stackoverflow.com/users/4455771/heather"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 584, "favorite_count": 1, "accepted_answer_id": 31444183, "answer_count": 2, "score": 1, "last_activity_date": 1437524752, "creation_date": 1437001334, "last_edit_date": 1437011752, "question_id": 31442693, "link": "https://stackoverflow.com/questions/31442693/textblob-not-returning-the-correct-number-of-instances-of-string-in-pandas-dataf", "title": "TextBlob not returning the correct number of instances of string in Pandas dataframe", "body": "<p>For a project for my lab, I'm analyzing Twitter data. The tweets we've captured all have the word 'sex' in them, that's the keyword we filtered the TwitterStreamer to capture based on.</p>\n\n<p>I converted the CSV where all of the tweet data (json metatags) is housed into a pandas DB and saved the 'text' column to isolate the tweet text. </p>\n\n<pre><code>    import pandas as pd\n    import csv\n    df = pd.read_csv('tweets_hiv.csv')\n    saved_column4 = df.text\n    print saved_column4\n</code></pre>\n\n<p>Out comes the correct output:</p>\n\n<pre><code>    0                                Some example tweet text\n    1                 Oh hey look more tweet text @things I hate #stuff\n    ...a bunch more lines\n    Name: text, Length: 8540, dtype: object\n</code></pre>\n\n<p>But, when I try this</p>\n\n<pre><code>    from textblob import TextBlob\n    tweetstr = str(saved_column4)\n    tweets = TextBlob(tweetstr).upper()\n    print tweets.words.count('sex', case_sensitive=False)\n</code></pre>\n\n<p>My output is <code>22</code>.</p>\n\n<p>There should be AT LEAST as many incidences of the word 'sex' as there are lines in the CSV, and likely more. I can't figure out what's happening here. Is TextBlob not configuring right around a dtype:object? </p>\n"}, {"tags": ["python", "wordpress", "csv", "plone", "transmogrifier"], "comments": [{"owner": {"reputation": 2896, "user_id": 5031339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82ce3852cc31d052ce2568e3a777875a?s=128&d=identicon&r=PG", "display_name": "NightShadeQueen", "link": "https://stackoverflow.com/users/5031339/nightshadequeen"}, "edited": false, "score": 1, "creation_date": 1437001464, "post_id": 31442647, "comment_id": 50854436, "body": "Hum. Would it be okay if you first converted all the HTML &amp;nbsp; into spaces and then tried csv.reader?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437002358, "post_id": 31442647, "comment_id": 50854735, "body": "can you add a sample of your input?"}], "answers": [{"tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 1, "last_activity_date": 1437008545, "creation_date": 1437008545, "answer_id": 31443750, "question_id": 31442647, "link": "https://stackoverflow.com/questions/31442647/how-to-parse-a-wordpress-csv-export-using-python/31443750#31443750", "title": "How to parse a WordPress CSV export using Python", "body": "<p>The CSV module provides the <a href=\"https://docs.python.org/3.4/library/csv.html#csv.Dialect.escapechar\" rel=\"nofollow\"><code>escapechar</code></a> format parameter, which allows you to escape the delimiter (which you have set to semicolon).  If you can provide <code>escapechar='\\\\'</code> in the call to <code>csv.reader()</code>, you could then replace the character <code>\\</code> in your CSV file with <code>\\\\</code>, and replace <code>&amp;nbsp;</code> with <code>&amp;nbsp\\;</code> (using a text editor's find/replace option).</p>\n"}, {"comments": [{"owner": {"reputation": 1138, "user_id": 3046069, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b34b203f8bc8938ba1f84ce198afaf37?s=128&d=identicon&r=PG", "display_name": "Danimal", "link": "https://stackoverflow.com/users/3046069/danimal"}, "edited": false, "score": 1, "creation_date": 1437126215, "post_id": 31460534, "comment_id": 50910992, "body": "I would have thought that exporting with:  <code>fields enclosed by &quot;</code> would have solved the issue you mentioned, whatever delimiter you were using"}, {"owner": {"reputation": 874, "user_id": 2116850, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e6e99cfaa3a04f9253614b392e4c2429?s=128&d=identicon&r=PG", "display_name": "rodfersou", "link": "https://stackoverflow.com/users/2116850/rodfersou"}, "edited": false, "score": 0, "creation_date": 1502727261, "post_id": 31460534, "comment_id": 78315072, "body": "In my last test, we should not mark &quot;Remove CRLF characters within fields&quot; to make transmogrify.wordpress detect paragraphs"}], "tags": [], "owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "is_accepted": true, "score": 2, "last_activity_date": 1437138443, "last_edit_date": 1437138443, "creation_date": 1437066696, "answer_id": 31460534, "question_id": 31442647, "link": "https://stackoverflow.com/questions/31442647/how-to-parse-a-wordpress-csv-export-using-python/31460534#31460534", "title": "How to parse a WordPress CSV export using Python", "body": "<p>After some additional research, I discovered the <code>excel-tab</code> dialect by reading the text of the <a href=\"https://www.python.org/dev/peps/pep-0305/\" rel=\"nofollow noreferrer\">PEP 0305</a> (which proposed the addition of the cvs module to Python); this is mentioned in the module documentation, but I haven't noticed at first.</p>\n\n<p>I then re-exported the posts using a tab as a delimiter (<code>\\t</code>).</p>\n\n<p><img src=\"https://i.stack.imgur.com/E7aGr.png\" alt=\"enter image description here\"></p>\n\n<p>I made a test reading a batch of 1,000 rows and found no errors at all.</p>\n"}, {"tags": [], "owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "is_accepted": false, "score": 1, "last_activity_date": 1437138586, "creation_date": 1437138586, "answer_id": 31476607, "question_id": 31442647, "link": "https://stackoverflow.com/questions/31442647/how-to-parse-a-wordpress-csv-export-using-python/31476607#31476607", "title": "How to parse a WordPress CSV export using Python", "body": "<p>Another option, for smaller sites, could be using <a href=\"https://pypi.python.org/pypi/pywordpress\" rel=\"nofollow\">pywordpress</a>, a pythonic interface to WordPress XML-RPC API.</p>\n"}], "owner": {"reputation": 2825, "user_id": 644075, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/3wKFs.jpg?s=128&g=1", "display_name": "hvelarde", "link": "https://stackoverflow.com/users/644075/hvelarde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 588, "favorite_count": 0, "accepted_answer_id": 31460534, "answer_count": 3, "score": 2, "last_activity_date": 1437138586, "creation_date": 1437000998, "question_id": 31442647, "link": "https://stackoverflow.com/questions/31442647/how-to-parse-a-wordpress-csv-export-using-python", "title": "How to parse a WordPress CSV export using Python", "body": "<p>I need to import content from WordPress into Plone, a Python-based CMS, and I have a dump of the posts table as a huge CSV vanilla file using \";\" as a delimiter.</p>\n\n<p>The problem is the standard CSV reader from the <a href=\"https://docs.python.org/2/library/csv.html\" rel=\"nofollow\">csv module</a> is not smart enough to parse the HTML content inside a row (the <code>post_content</code> field).</p>\n\n<p>For instance, when the parser encounters something like <code>&lt;p&gt;&amp;nbsp;&lt;/p&gt;</code> it interprets the semicolon as a field delimiter and I end up with more items than fields and with fields with wrong content.</p>\n\n<p>Is there any other option to solve this kind of issues? Processing the row with a regex seems pretty scary to me.</p>\n"}, {"tags": ["python", "tabs"], "answers": [{"comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 115, "user_id": 5121390, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5c95ee2faf822db82340596e850754d2?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Guerra", "link": "https://stackoverflow.com/users/5121390/miguel-guerra"}, "edited": false, "score": 0, "creation_date": 1437001332, "post_id": 31442625, "comment_id": 50854389, "body": "No worries, you can right-align, left-align and a multitude of other things using str.format"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 0, "last_activity_date": 1437000877, "creation_date": 1437000877, "answer_id": 31442625, "question_id": 31442582, "link": "https://stackoverflow.com/questions/31442582/how-can-i-use-tabs-between-variables-in-python-to-create-a-single-row-with-3-col/31442625#31442625", "title": "how can i use tabs between variables in python to create a single row with 3 columns?", "body": "<p>use <code>str.format</code>:</p>\n\n<pre><code>print \"{}\\t{}\\t{}\".format(n, int(bu.total_seconds() * 1000),int(qui.total_seconds() * 1000))\n</code></pre>\n\n<p>You can align your format many different ways use <a href=\"https://docs.python.org/2/library/string.html#formatspec\" rel=\"nofollow\">str.format's Format Specification Mini-Language</a></p>\n"}], "owner": {"reputation": 115, "user_id": 5121390, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5c95ee2faf822db82340596e850754d2?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Guerra", "link": "https://stackoverflow.com/users/5121390/miguel-guerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 294, "favorite_count": 0, "accepted_answer_id": 31442625, "answer_count": 1, "score": 1, "last_activity_date": 1437000896, "creation_date": 1437000641, "last_edit_date": 1437000896, "question_id": 31442582, "link": "https://stackoverflow.com/questions/31442582/how-can-i-use-tabs-between-variables-in-python-to-create-a-single-row-with-3-col", "title": "how can i use tabs between variables in python to create a single row with 3 columns?", "body": "<p>This is basically my variables that I want to print: </p>\n\n<p><code>print n, bu, qui</code></p>\n\n<p>right now i have it like this:</p>\n\n<p><code>print n\"\\t\", int(bu.total_seconds() * 1000)\"\\t\", int(qui.total_seconds() * 1000)\"\\t\"</code></p>\n"}, {"tags": ["python", "python-2.7", "python-requests", "github-api"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437000397, "post_id": 31442518, "comment_id": 50854068, "body": "tried ten times and it worked for me first time every time, what version of requests?"}, {"owner": {"reputation": 225, "user_id": 4110754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/28fb5c075940d2d15a985b1c57a2145f?s=128&d=identicon&r=PG&f=1", "display_name": "Shengjie Zhang", "link": "https://stackoverflow.com/users/4110754/shengjie-zhang"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437000951, "post_id": 31442518, "comment_id": 50854252, "body": "Great point! I&#39;m now using requests 2.3.0. I could update it and try again. Did you mean you tried ten times for the same url? Does it works for another brand new url that you&#39;ve never visited before? Thanks"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437001090, "post_id": 31442518, "comment_id": 50854297, "body": "It worked the first time I used it, try updating and see how you go,the latest is 2.7.0, tried my own link and it worked fine also"}, {"owner": {"reputation": 225, "user_id": 4110754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/28fb5c075940d2d15a985b1c57a2145f?s=128&d=identicon&r=PG&f=1", "display_name": "Shengjie Zhang", "link": "https://stackoverflow.com/users/4110754/shengjie-zhang"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437002951, "post_id": 31442518, "comment_id": 50854943, "body": "Still not works for me. I tried both python 2.7 and 3.4."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 4110754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/28fb5c075940d2d15a985b1c57a2145f?s=128&d=identicon&r=PG&f=1", "display_name": "Shengjie Zhang", "link": "https://stackoverflow.com/users/4110754/shengjie-zhang"}, "edited": false, "score": 0, "creation_date": 1437083311, "post_id": 31464160, "comment_id": 50896511, "body": "First time returned 202. Second time returned 200. Your answer perfectly explained everything. I already moved to a different approach to get content I need without using stats/contributors. Still great to know the reason. Thank you so much."}], "tags": [], "owner": {"reputation": 2067, "user_id": 1363815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/337e8e7f3447c1245268f3313a3c3d88?s=128&d=identicon&r=PG", "display_name": "Brendan Forster", "link": "https://stackoverflow.com/users/1363815/brendan-forster"}, "is_accepted": true, "score": 4, "last_activity_date": 1437079384, "creation_date": 1437079384, "answer_id": 31464160, "question_id": 31442518, "link": "https://stackoverflow.com/questions/31442518/python-need-to-request-github-api-repo-statistics-contributors-url-twice-to-get/31464160#31464160", "title": "Python need to request GitHub/API/repo/statistics/contributors url twice to get content", "body": "<p>I believe this is due to the computation that needs to occur for generating the statistics. The <a href=\"https://developer.github.com/v3/repos/statistics/\" rel=\"nofollow\">API documentation</a> outlines this:</p>\n\n<blockquote>\n  <p>If the data hasn\u2019t been cached when you query a repository\u2019s statistics, you\u2019ll receive a <code>202</code> response; a background job is also fired to start compiling these statistics. Give the job a few moments to complete, and then submit the request again. If the job has completed, that request will receive a <code>200</code> response with the statistics in the response body.</p>\n</blockquote>\n\n<p>Can you check the status code in the request to verify that it's an empty response:</p>\n\n<p><code>contributors_url = 'https://api.github.com/repos/marcboeker/mongodb-utils/stats/contributors'\nrequest = requests.get(contributors_url)\nprint request.status_code\n</code></p>\n\n<p>I tested this with Fiddler on a fresh repository and received both the <code>202</code> status code and an empty JSON array as the response. So I think you need to check that status code and then retry the call after a delay...</p>\n"}], "owner": {"reputation": 225, "user_id": 4110754, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/28fb5c075940d2d15a985b1c57a2145f?s=128&d=identicon&r=PG&f=1", "display_name": "Shengjie Zhang", "link": "https://stackoverflow.com/users/4110754/shengjie-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 914, "favorite_count": 0, "accepted_answer_id": 31464160, "answer_count": 1, "score": 1, "last_activity_date": 1437079384, "creation_date": 1437000246, "last_edit_date": 1437007022, "question_id": 31442518, "link": "https://stackoverflow.com/questions/31442518/python-need-to-request-github-api-repo-statistics-contributors-url-twice-to-get", "title": "Python need to request GitHub/API/repo/statistics/contributors url twice to get content", "body": "<p>I want to get particular repository's contributors and their total number of commits. I'm using Python 2.7 and Requests 2.7.0 library to request GitHub API url like: '<a href=\"https://api.github.com/repos/marcboeker/mongodb-utils/stats/contributors\" rel=\"nofollow noreferrer\">https://api.github.com/repos/marcboeker/mongodb-utils/stats/contributors</a>' (This is a random link, sorry marcboeker ^_^).</p>\n\n<p>However, the first time I request particular url, I got an empty dictionary response. The second time I request the same url, I can get a list that contains information I need. Here is my code:</p>\n\n<pre><code>import requests\n\ncontributors_url = 'https://api.github.com/repos/marcboeker/mongodb-utils/stats/contributors'\ncontributors = requests.get(contributors_url).json()\nprint contributors\n</code></pre>\n\n<p>I also tried to use GitHub authentication and tried to use urllib2 library. I also tried in Python 3.4. But I got the same result.\nI need to get right result the first time I request the url, not second or third time. Since other GitHub API urls works fine, please explain why it's happening to 'contributors'.</p>\n\n<p><img src=\"https://i.stack.imgur.com/wfO2o.png\" alt=\"First time result\"></p>\n\n<p><img src=\"https://i.stack.imgur.com/0xGGA.png\" alt=\"Second time result\"></p>\n"}, {"tags": ["android", "python", "shell", "gps", "adb"], "owner": {"reputation": 21, "user_id": 4297458, "user_type": "registered", "profile_image": "https://graph.facebook.com/1066217287/picture?type=large", "display_name": "Michael Brikov", "link": "https://stackoverflow.com/users/4297458/michael-brikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2227, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1436999976, "creation_date": 1436999976, "question_id": 31442465, "link": "https://stackoverflow.com/questions/31442465/controlling-gps-operations-using-adb-shell-turning-on-seeing-that-gps-actually", "title": "Controlling GPS operations using adb shell - turning on/seeing that GPS actually get a location", "body": "<p>Is there a way, using adb shell commands, to:</p>\n\n<ul>\n<li>Turn on GPS on the phone (and not to just toggle-on GPS, but to actually activate the sensor to retrieve location)</li>\n<li>Check to see if GPS sensor actually retrieves (correct) location</li>\n</ul>\n\n<p>I am writing a python script, passing adb shell commands through an internal app, and am having trouble checking to see if the GPS sensors check out on these phones. In a nutshell, I am testing the functionality of the GPS on the phones.</p>\n\n<p>Once I have a string variable with the GPS data, I am planning on using regex to parse it and actually find latitude/longitude coordinates. Right now I can turn on the GPS sensor but, for whatever reason, these phones (factory reset) do not connect to the satellite through this sensor. They can see their location if you connect them through WiFi or the mobile network, but when both are turned off GPS seems to go quiet. In order for the GPS to actually read something, the workaround we ended up using was to download a 3rd party GPS app. Only then could the phones connect and see their own location.</p>\n"}, {"tags": ["python", "multithreading", "sockets"], "comments": [{"owner": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "edited": false, "score": 0, "creation_date": 1436999883, "post_id": 31442370, "comment_id": 50853899, "body": "why not using thread? the first socket won&#39;t block the other socket."}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1436999991, "post_id": 31442370, "comment_id": 50853939, "body": "Your question is somewhat vague, but yes its possible, you need another thread, preferably a thread for each socket. Try wrapping the socket functionality in a new class, inherit that class from Thread and then just make a new class instance for each port"}, {"owner": {"reputation": 4729, "user_id": 1703772, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/963bc9ac37c31c3f6bff29dc60b8891b?s=128&d=identicon&r=PG", "display_name": "NuclearPeon", "link": "https://stackoverflow.com/users/1703772/nuclearpeon"}, "edited": false, "score": 0, "creation_date": 1437000003, "post_id": 31442370, "comment_id": 50853945, "body": "Are you using an existing python web server or writing your own? I wouldn&#39;t use a socket for receiving gui data personally. I think you are looking for <code>interprocess communications</code> such as D-Bus, XML-RPC and others."}, {"owner": {"reputation": 926, "user_id": 2712219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTFQ.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2712219/dan"}, "edited": false, "score": 0, "creation_date": 1437000084, "post_id": 31442370, "comment_id": 50853970, "body": "Yes, its safe to send data from python on one socket and receive it in Java. Its also considered a good option for Inter-process communication which is what you are explaining that you are doing here"}, {"owner": {"reputation": 724, "user_id": 2744342, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e46375ea8161701c62f0a0e0cde23f0?s=128&d=identicon&r=PG&f=1", "display_name": "Alok--", "link": "https://stackoverflow.com/users/2744342/alok"}, "edited": false, "score": 0, "creation_date": 1437000400, "post_id": 31442370, "comment_id": 50854069, "body": "You can make <code>listen</code> / <code>accept</code> not block by setting <code>socket.setblocking(0)</code> on the listening socket(s).  Then you can use <code>select</code> to wait for events.  There are some details to take care of, but it should be fairly easy.  Of course, you can also use a library that does such stuff for you.  One option is twisted: <a href=\"https://twistedmatrix.com/trac/\" rel=\"nofollow noreferrer\">twistedmatrix.com/trac</a>.  See their echo server example (<a href=\"https://twistedmatrix.com/trac/#echoserver\" rel=\"nofollow noreferrer\">twistedmatrix.com/trac/#echoserver</a>) to get started."}, {"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1437001803, "post_id": 31442370, "comment_id": 50854568, "body": "What python version are you using? What platform? I&#39;ve been trying on various <code>python2</code> versions on <code>Windows</code>, <code>Centos</code>, <code>RedHat</code> and none of them was blocking."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 3772329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3BS4e.jpg?s=128&g=1", "display_name": "Davide Rain", "link": "https://stackoverflow.com/users/3772329/davide-rain"}, "edited": false, "score": 0, "creation_date": 1437000245, "post_id": 31442455, "comment_id": 50854019, "body": "There is the possibility that someone spoof his ip address in 127.0.0.1 and send data to the Python Server pretending to be the GUI?"}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "reply_to_user": {"reputation": 63, "user_id": 3772329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3BS4e.jpg?s=128&g=1", "display_name": "Davide Rain", "link": "https://stackoverflow.com/users/3772329/davide-rain"}, "edited": false, "score": 0, "creation_date": 1437000421, "post_id": 31442455, "comment_id": 50854074, "body": "No, that is a special <code>loopback</code> address that only works on the same computer."}], "tags": [], "owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "is_accepted": false, "score": 0, "last_activity_date": 1436999924, "last_edit_date": 1495542586, "creation_date": 1436999924, "answer_id": 31442455, "question_id": 31442370, "link": "https://stackoverflow.com/questions/31442370/python-listening-on-two-sockets-at-the-same-time/31442455#31442455", "title": "Python, Listening on two sockets at the same time", "body": "<p>This can be done in C: <a href=\"https://stackoverflow.com/q/15560336/584846\">Listen to multiple ports from one server</a></p>\n\n<p>and C++: <a href=\"https://stackoverflow.com/q/22775149/584846\">Create multiple listening sockets</a></p>\n\n<p>so you should be able to do this in Python.</p>\n\n<p>The only thing that would make this not safe is if your server performs a dangerous activity in response to the GUI, but you can probably add code to check and protect against hacks.</p>\n"}, {"tags": [], "owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "is_accepted": false, "score": 0, "last_activity_date": 1437049080, "last_edit_date": 1437049080, "creation_date": 1437008020, "answer_id": 31443686, "question_id": 31442370, "link": "https://stackoverflow.com/questions/31442370/python-listening-on-two-sockets-at-the-same-time/31443686#31443686", "title": "Python, Listening on two sockets at the same time", "body": "<p>I am using <code>python2.7.3</code>, and as stated in my comment I couldn't reproduce the <code>listen</code> blocking issue.\nNotes:</p>\n\n<ul>\n<li>for the simplicity's sake I am only using <code>IPv4</code> sockets</li>\n<li>I included <code>Python</code>'s prompter in the code to show that it didn't block</li>\n<li>regarding eventual security concerns: the socket (<code>s_local</code>) listening on 9091, only accepts connections from localhost (from other hosts will fail)</li>\n</ul>\n\n<p>Here's a snippet from a <em>CentOS5</em> machine:</p>\n\n<pre><code>&gt;&gt;&gt; import socket\n&gt;&gt;&gt; s_global = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n&gt;&gt;&gt; s_global.bind((\"\", 9090))\n&gt;&gt;&gt; backlog = 0xFF\n&gt;&gt;&gt; s_global.listen(backlog)\n&gt;&gt;&gt; s_local = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n&gt;&gt;&gt; s_local.bind((\"127.0.0.1\", 9091))\n&gt;&gt;&gt; s_local.listen(backlog)\n&gt;&gt;&gt;\n</code></pre>\n\n<p>and here's some output on the same machine:</p>\n\n<pre><code>netstat -an | grep 909\ntcp        0      0 0.0.0.0:9090                0.0.0.0:*                   LISTEN      \ntcp        0      0 127.0.0.1:9091              0.0.0.0:*                   LISTEN      \n</code></pre>\n\n<p>As seen, both <em>server</em> sockets are listening for connections.</p>\n\n<p>Now, if something is wrong in my environments (some reading revealed that by default sockets <em>are</em> blocking by default), <strong>after creating each socket</strong>, you could add (as specified in one comment) the following line(s):</p>\n\n<ul>\n<li><p>for s_global</p>\n\n<pre><code>s_global.setblocking(0)\n</code></pre></li>\n<li><p>for s_local</p>\n\n<pre><code>s_local.setblocking(0)\n</code></pre></li>\n</ul>\n\n<p>Now in order to <strong>receive incoming connections</strong> from both sockets, you should use <code>Python</code>'s <a href=\"https://docs.python.org/2/library/select.html\" rel=\"nofollow\">select module</a> (used for async IO) <strong>with no need for other threads</strong>; your server app should constantly listen for connections, something like:</p>\n\n<pre><code>TIMEOUT = 1 #seconds\nterminate = False # variable to be modified externally to end the loop\nlistening_sockets = [s_global, s_local]\nwhile (not terminate):\n    notified_socket_list = select.select(listening_sockets, [], [], TIMEOUT)[0]\n    for notified_socket in notified_socket_list:\n        incoming_socket, addr = notified_socket.accept()\n        handle(incoming_socket, addr)\n</code></pre>\n\n<p>Note: worth being mentioned: <em>epoll</em>(<code>select.epoll</code>) is performance-wise preferred to <em>select</em>(<code>select.select</code>) but i haven't tried it yet.</p>\n\n<p>Now, regarding the connections handling function(<strong>handle</strong>): if your server is designed only for educative purposes, you can leave it as it is, but if your server is designed to accept lots of simultaneous connections and lots of data exchange from/to each client, you should handle each connection in a separate <strong>thread</strong>(this is a general advice that doesn't apply to <code>Python</code> because of its <a href=\"http://www.dabeaz.com/python/UnderstandingGIL.pdf\" rel=\"nofollow\">GIL</a>, sometimes threads only slow things down)/<strong>process</strong> as done in <a href=\"https://docs.python.org/2/library/socketserver.html\" rel=\"nofollow\">SocketServer.py - part of Python's standard library</a>.</p>\n\n<p>@Edit1 - reply to 1st comment:</p>\n\n<p>It's simple, all you have to do is modify a little bit the <em>inner</em> <code>for</code> loop:</p>\n\n<pre><code>    for notified_socket in notified_socket_list:\n        incoming_socket, addr = notified_socket.accept()\n        if notified_socket == s_global:\n            handle_global(incoming_socket, addr)\n        else:\n            handle_local(incoming_socket, addr)\n</code></pre>\n\n<p>or you can use my original solution and do the differentiate the connections in <strong>handle</strong>: the <code>addr</code> argument contains the (local) port that the socket connected to; you can test it and depending on its value (9090 or 9091) handle the connection differently.</p>\n"}], "owner": {"reputation": 63, "user_id": 3772329, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/3BS4e.jpg?s=128&g=1", "display_name": "Davide Rain", "link": "https://stackoverflow.com/users/3772329/davide-rain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3950, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1437049080, "creation_date": 1436999521, "question_id": 31442370, "link": "https://stackoverflow.com/questions/31442370/python-listening-on-two-sockets-at-the-same-time", "title": "Python, Listening on two sockets at the same time", "body": "<p>I am making a python server that should handle connection from remote hosts on port 9090 and connection only from localhost (a GUI sending data) on port 9091.\nI think the problem is in socket.listen(backlog), because this blocks everything.\nSo there is a way to make socket1.listen(backlog) and socket2.listen(backlog) running at the same time?\nAlso, is it a good, and above all safe, idea to make a socket for receiving data from a GUI (written in Java)?</p>\n"}, {"tags": ["python", "opencv", "kivy"], "answers": [{"tags": [], "owner": {"reputation": 3095, "user_id": 1008902, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71cad26db42145bae6acca07bd2688d3?s=128&d=identicon&r=PG", "display_name": "DikobrAz", "link": "https://stackoverflow.com/users/1008902/dikobraz"}, "is_accepted": false, "score": 4, "last_activity_date": 1436999464, "creation_date": 1436999464, "answer_id": 31442358, "question_id": 31442241, "link": "https://stackoverflow.com/questions/31442241/display-numpy-opencv-matplotlib-image-in-kivy/31442358#31442358", "title": "Display numpy/opencv/matplotlib image in Kivy", "body": "<p>Found the right transformation. Probably suboptimal:</p>\n\n<pre><code>    ret, image = video_capture.read()\n    image = np.rot90(np.swapaxes(image, 0, 1))\n    video_texture = Texture.create(size=(image.shape[1], image.shape[0]), colorfmt='rgb')\n    video_texture.blit_buffer(image.tostring(), colorfmt='bgr', bufferfmt='ubyte')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6644805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e9a6fe2f2f17f92c0d8237f64221d8f8?s=128&d=identicon&r=PG&f=1", "display_name": "I. Hoekstra", "link": "https://stackoverflow.com/users/6644805/i-hoekstra"}, "is_accepted": false, "score": 3, "last_activity_date": 1469623749, "creation_date": 1469623749, "answer_id": 38613467, "question_id": 31442241, "link": "https://stackoverflow.com/questions/31442241/display-numpy-opencv-matplotlib-image-in-kivy/38613467#38613467", "title": "Display numpy/opencv/matplotlib image in Kivy", "body": "<p>I found that the rotation can also be done using the numpy function flipud(), not sure if it is actually faster (I'm not that experienced with python/numpy) but for some this might be more logical to read instead of the 90 degrees rotation and the swapaxes.</p>\n"}], "owner": {"reputation": 3095, "user_id": 1008902, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/71cad26db42145bae6acca07bd2688d3?s=128&d=identicon&r=PG", "display_name": "DikobrAz", "link": "https://stackoverflow.com/users/1008902/dikobraz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2021, "favorite_count": 3, "answer_count": 2, "score": 11, "last_activity_date": 1469623749, "creation_date": 1436998938, "question_id": 31442241, "link": "https://stackoverflow.com/questions/31442241/display-numpy-opencv-matplotlib-image-in-kivy", "title": "Display numpy/opencv/matplotlib image in Kivy", "body": "<p>How to display image in standard numpy/opencv/matplotlib format in Kivy? Kivy uses different image memory layout and I can't figure out which one.</p>\n\n<p>The following code works totally fine. Image was captured using cv2 VideoCapture. I think image is BGR, array dimensions are (360, 480, 3):</p>\n\n<pre><code>    ret, image = video_capture.read()\n    cv2.imshow('image', image)\n    cv2.waitKey()\n</code></pre>\n\n<p>Trying to display it with the following code produce messy results:</p>\n\n<pre><code>    video_texture = Texture.create(size=image.shape[:2])\n    video_texture.blit_buffer(image.tostring(), colorfmt='rgb', bufferfmt='ubyte')\n\n    # ...\n\n    video_panel = self.ids['video_panel']\n    with video_panel.canvas:\n        Rectangle(texture=video_texture, pos=video_panel.pos, size=video_panel.size)\n</code></pre>\n"}, {"tags": ["python", "string", "python-2.7"], "comments": [{"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "edited": false, "score": 2, "creation_date": 1436998878, "post_id": 31442216, "comment_id": 50853521, "body": "works for me... <code>&#39;hello#hello&#39;.split(&#39;#&#39;)</code>"}, {"owner": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "edited": false, "score": 3, "creation_date": 1436998999, "post_id": 31442216, "comment_id": 50853574, "body": "can you print mappingDict[str(guidNewTg)][&#39;Site&#39;] and put here the result of this print please?"}, {"owner": {"reputation": 1091, "user_id": 4419448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOfto.png?s=128&g=1", "display_name": "Darkdeamon", "link": "https://stackoverflow.com/users/4419448/darkdeamon"}, "reply_to_user": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "edited": false, "score": 0, "creation_date": 1436999229, "post_id": 31442216, "comment_id": 50853646, "body": "Hi @omri_saadon I&#39;m running it now, will get back with the results in few min."}, {"owner": {"reputation": 1091, "user_id": 4419448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOfto.png?s=128&g=1", "display_name": "Darkdeamon", "link": "https://stackoverflow.com/users/4419448/darkdeamon"}, "reply_to_user": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "edited": false, "score": 0, "creation_date": 1436999919, "post_id": 31442216, "comment_id": 50853910, "body": "Well, @omri_saadon its not printing anything.. but still brings back on the CSV output file a raw with the word None"}, {"owner": {"reputation": 8765, "user_id": 3417069, "user_type": "registered", "accept_rate": 94, "profile_image": "https://graph.facebook.com/1504657819/picture?type=large", "display_name": "omri_saadon", "link": "https://stackoverflow.com/users/3417069/omri-saadon"}, "edited": false, "score": 0, "creation_date": 1437000097, "post_id": 31442216, "comment_id": 50853973, "body": "i think you have a problem with the access to your data.. debug your code, first see what mappingDict holds, if it holds everything it should holds then move on to mappingDict[str(guidNewTg)] and again check if it holds everything it should hold, if yes then move on.. this way you can see why you got none instead of your data."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437000679, "post_id": 31442216, "comment_id": 50854160, "body": "@Darkdeamon, if you are getting None it has nothing to do with the code you have provided"}, {"owner": {"reputation": 1091, "user_id": 4419448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOfto.png?s=128&g=1", "display_name": "Darkdeamon", "link": "https://stackoverflow.com/users/4419448/darkdeamon"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437058215, "post_id": 31442216, "comment_id": 50882141, "body": "@PadraicCunningham Yes you right its something related to the SQL query that builds the dictionary which i also struggle to understand as  its look OK on the SQL query but not when running the script"}], "owner": {"reputation": 1091, "user_id": 4419448, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOfto.png?s=128&g=1", "display_name": "Darkdeamon", "link": "https://stackoverflow.com/users/4419448/darkdeamon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436998962, "creation_date": 1436998823, "last_edit_date": 1436998962, "question_id": 31442216, "link": "https://stackoverflow.com/questions/31442216/how-to-strip-hashtag-from-a-string-using-python", "title": "How to strip hashtag from a string using python", "body": "<p>I have a lot of lines like that have 2 words with numbers separated by <code>#</code> like this: <code>Test#willwork</code></p>\n\n<p>What I want to get out of it is just the first part of the string\nUsing the <code>.split</code> command works fine but seems to be not working for #</p>\n\n<p>Here is an example</p>\n\n<pre><code>finalRow['Target Sector CSR'] = mappingDict[str(guidNewTg)]['Site'].split(\"#\")[0]\n</code></pre>\n"}, {"tags": ["python", "numpy", "regression", "nonlinear-functions"], "comments": [{"owner": {"reputation": 334, "user_id": 5102804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271514b815be1e2ac2448a1586312b3?s=128&d=identicon&r=PG&f=1", "display_name": "lispsil", "link": "https://stackoverflow.com/users/5102804/lispsil"}, "edited": false, "score": 0, "creation_date": 1436999532, "post_id": 31442210, "comment_id": 50853778, "body": "Please add your own code. For now it is not clear what do you want."}, {"owner": {"reputation": 23, "user_id": 5121244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e64208bff3c54de176ddb908604a1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pasols", "link": "https://stackoverflow.com/users/5121244/victor-pasols"}, "reply_to_user": {"reputation": 334, "user_id": 5102804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271514b815be1e2ac2448a1586312b3?s=128&d=identicon&r=PG&f=1", "display_name": "lispsil", "link": "https://stackoverflow.com/users/5102804/lispsil"}, "edited": false, "score": 0, "creation_date": 1437000757, "post_id": 31442210, "comment_id": 50854187, "body": "Basically is to be able to read the input provided by a USB interface  phidget, which I already do, and use that current reading to convert to kilograms or find the corresponding X value."}, {"owner": {"reputation": 334, "user_id": 5102804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271514b815be1e2ac2448a1586312b3?s=128&d=identicon&r=PG&f=1", "display_name": "lispsil", "link": "https://stackoverflow.com/users/5102804/lispsil"}, "edited": false, "score": 0, "creation_date": 1437041006, "post_id": 31442210, "comment_id": 50869828, "body": "What input your are reading from USB interface phidget? What type does it have?"}, {"owner": {"reputation": 23, "user_id": 5121244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e64208bff3c54de176ddb908604a1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pasols", "link": "https://stackoverflow.com/users/5121244/victor-pasols"}, "reply_to_user": {"reputation": 334, "user_id": 5102804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271514b815be1e2ac2448a1586312b3?s=128&d=identicon&r=PG&f=1", "display_name": "lispsil", "link": "https://stackoverflow.com/users/5102804/lispsil"}, "edited": false, "score": 0, "creation_date": 1437071718, "post_id": 31442210, "comment_id": 50890478, "body": "zveryansky ~ the input from the phidget is saved into vol (as in voltage) because that&#39;s what the phidget &quot;returns&quot;. I don&#39;t have it defined as any type but it should receive a floating point. 0.1934234."}, {"owner": {"reputation": 23, "user_id": 5121244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e64208bff3c54de176ddb908604a1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pasols", "link": "https://stackoverflow.com/users/5121244/victor-pasols"}, "reply_to_user": {"reputation": 334, "user_id": 5102804, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6271514b815be1e2ac2448a1586312b3?s=128&d=identicon&r=PG&f=1", "display_name": "lispsil", "link": "https://stackoverflow.com/users/5102804/lispsil"}, "edited": false, "score": 0, "creation_date": 1437073890, "post_id": 31442210, "comment_id": 50891656, "body": "@codewarrior. Thank you for the formula.  When implementing the code these are the findings: vol = 0.19580114 (reading from phidget av.) vol_calibrated = 0.094488083  however is vol who I want to have converted (the phidged readings) from voltage to kilos. In other words I get the voltage and should find the  corresponding kilos.  Kilo   Voltage 0.0   0.0851251612903 0.5   0.10802704918 1.0   0.129768095238 1.5   0.152979180328 2.0   0.17526862069  Your input is well appreciated."}, {"owner": {"reputation": 1810, "user_id": 300850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2706cb4f2a1de054929a6a4a504234d1?s=128&d=identicon&r=PG", "display_name": "codewarrior", "link": "https://stackoverflow.com/users/300850/codewarrior"}, "edited": false, "score": 0, "creation_date": 1437093070, "post_id": 31442210, "comment_id": 50899461, "body": "To go from y (voltage) to x (kilos), simply reverse the order of the arguments to polyfit: <code>z = numpy.polyfit(y, x, 5)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5121244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e64208bff3c54de176ddb908604a1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pasols", "link": "https://stackoverflow.com/users/5121244/victor-pasols"}, "edited": false, "score": 1, "creation_date": 1437141114, "post_id": 31451423, "comment_id": 50919960, "body": "Thank you @codewarrior. You are a life saver, and a job saver for that matter. My initial test results are positive. I&#39;ll test with more weight now."}], "tags": [], "owner": {"reputation": 1810, "user_id": 300850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2706cb4f2a1de054929a6a4a504234d1?s=128&d=identicon&r=PG", "display_name": "codewarrior", "link": "https://stackoverflow.com/users/300850/codewarrior"}, "is_accepted": true, "score": 0, "last_activity_date": 1437041752, "creation_date": 1437041752, "answer_id": 31451423, "question_id": 31442210, "link": "https://stackoverflow.com/questions/31442210/input-into-a-polynomial-regression-formula-with-python/31451423#31451423", "title": "Input into a polynomial regression formula with Python", "body": "<p>The linear conversion function from the calibrations is returned by <code>numpy.polyfit</code> as an array of coefficients. Since you passed 5 for the degree argument of <code>polyfit</code>, you will get an array of six coefficients:</p>\n\n<p>f(x) = ax<sup>5</sup> + bx<sup>4</sup> + cx<sup>3</sup> + dx<sup>2</sup> + ex + f</p>\n\n<p>Where a, b, c, d, e, and f are the elements of the <code>z</code> array returned by <code>nonlinear_regression</code>.</p>\n\n<p>To implement the linear conversion formula, simply use the power operator <code>**</code>, the elements of <code>z</code>, and the value of <code>vol</code>:</p>\n\n<p><code>vol_calibrated = vol**5 * z[0] + vol**4 * z[1] + vol**3 * z[2] + vol**2 * z[3] + vol * z[4] + z[5]</code></p>\n\n<p>Or more generally:</p>\n\n<pre><code>degree = len(z) - 1\nvol_calibrated = sum(vol**(degree-i) * coeff for i, coeff in enumerate(z))\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5121244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c72e64208bff3c54de176ddb908604a1?s=128&d=identicon&r=PG&f=1", "display_name": "Victor Pasols", "link": "https://stackoverflow.com/users/5121244/victor-pasols"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "accepted_answer_id": 31451423, "answer_count": 1, "score": 2, "last_activity_date": 1437041752, "creation_date": 1436998798, "last_edit_date": 1437000324, "question_id": 31442210, "link": "https://stackoverflow.com/questions/31442210/input-into-a-polynomial-regression-formula-with-python", "title": "Input into a polynomial regression formula with Python", "body": "<p>I inherited a project in the middle of pandemonium and to makes matters worse I am just learning python.</p>\n\n<p>I managed to implement a polynomial function into my code and the results\nare the same as the ones posted in the examples of this web page. \n[z = numpy.polyfit(x, y, 5)]</p>\n\n<p>However, I will like to know how to modify the program so I can insert an input of one of the know values of y to find x.</p>\n\n<p>In other words. I have x and y arrays where:\n- array x holds values for know kilograms weights (0.0, 0.5, 1.0, 1.5, 2.0)\n- array y (0.074581967, 0.088474754, 0.106797419, 0.124461935, 0.133726833)</p>\n\n<p>I have a program who reads a load of weight and the tension created by a phidget and generates the array to be used by this program. </p>\n\n<p>What I need to accomplish is to read the next value from the phidget and be able to convert the reading into kilograms, from within the provided array.</p>\n\n<p>Is there a way to do this? I feel I am only missing a line of code but I don't know how to implement the results of the returned values from the formula. (z)</p>\n\n<p>Thanks in advance.</p>\n\n<h1>CODE ADDED AS REQUESTED</h1>\n\n<pre><code>from Phidgets.PhidgetException import PhidgetException\nfrom Phidgets.Devices.Bridge import Bridge, BridgeGain\n\nimport datetime\nimport os\nimport re\nimport sys\nimport time\nimport numpy\n\n\nwgh = list()\navg = list()\nbuf = list()\nx = []\ny = []\n\n\ndef nonlinear_regression():   # reads the calibration mapping and generates the conversion coefficients\n\n    fd = open(\"calibration.csv\", \"r\")\n\n    for line in fd:\n        [v0, v1] = line.split(\",\")\n        x.append(float(v0))\n        y.append(float(v1[:len(v1) - 1]))\n\n    xdata = numpy.array(x)\n    ydata = numpy.array(y)\n\n\n    z = numpy.polyfit(x, y, 5)      \n\n    return z       \n\n\ndef create_data_directory():   # create the data directory\n    if not os.path.exists(\"data\"):\n        os.makedirs(\"data\")\n\ndef parse_config():   # get config-file value\n    v = int()\n\n    config = open(\"config.properties\", \"r\")\n    for line in config:\n        toks = re.split(r\"[\\n= ]+\", line)\n        if toks[0] == \"record_interval\":\n            v = int(toks[1])\n\n    return v\n\ndef read_bridge_data(event):   # read the data\n    buf.append(event.value)\n\ndef record_data(f_name, date, rms):\n    if not os.path.isfile(f_name):\n        fd = open(f_name, \"w\")\n        fd.write(\"time,weight\\n\")\n        fd.write(datetime.datetime.strftime(date, \"%H:%M\"))\n        fd.write(\",\")\n        fd.write(str(rms) + \"\\n\")\n        fd.close()\n    else:\n        fd = open(f_name, \"a\")\n        fd.write(datetime.datetime.strftime(date, \"%H:%M\"))\n        fd.write(\",\")\n        fd.write(str(rms) + \"\\n\")\n        fd.close()\n    print(\"Data recorded.\")\n\ndef release_bridge(event):   # release the phidget device\n    try:\n        event.device.closePhidget()\n    except:\n        print(\"Phidget bridge could not be released properly.\")\n        sys.exit(1)\n\n\ndef main():\n\n    create_data_directory()\n\n    RECORD_INTERVAL = parse_config()        # get the config-file value\n    calibrate = nonlinear_regression()      # get calibration function; use like: calibrate(some_input)\n    bridge = Bridge()\n\n    try:\n        bridge.setOnBridgeDataHandler(read_bridge_data)\n        bridge.setOnDetachHandler(release_bridge)   # when the phidget gets physically detached\n        bridge.setOnErrorhandler(release_bridge)   # asynchronous exception (i.e. keyboard interrupt)\n    except:\n        print(\"Phidget bridge event binding failed.\")\n        sys.exit(1)\n\n    try:\n        bridge.openPhidget()\n        bridge.waitForAttach(3000)\n    except:\n        print(\"Phidget bridge opening failed.\")\n        sys.exit(1)\n\n    last_record = int()\n    while (True):\n        date = datetime.datetime.now()\n        f_name = \"data\\\\\" + datetime.datetime.strftime(date, \"%B_%d_%Y\") + \".csv\"\n\n        curr = time.time() * 1000\n        if (curr - last_record) &gt; (RECORD_INTERVAL * 1000):\n            try:\n                bridge.setDataRate(10)\n                last = time.time() * 1000\n                bridge.setEnabled(0, True)\n                while (time.time() * 1000 - last) &lt; 1000:   # collects over 1 sec\n                    pass\n                bridge.setEnabled(0, False)\n            except:\n                print(\"Phidget bridge data reading error.\")\n                bridge.setEnabled(0, False)\n                bridge.closePhidget()\n                sys.exit(1)\n            vol = sum(buf) / len(buf)\n\n            del buf[:]\n            last_record = curr\n\n            record_data(f_name, date, vol)   # replace curr with calibrated data\n\n        #THIS IS WHERE I WILL LIKE TO INCORPORATE THE CHANGES TO SAVE THE WEIGHT                \n            #record_data(f_name, date,  conversion[0] * vol + conversion[1])   # using the linear conversion function\n        else:\n            time.sleep(RECORD_INTERVAL - 1)   # to reduce the CPU's busy-waiting\n\nif __name__ == \"__main__\":\n    main()\n</code></pre>\n"}, {"tags": ["python", "scikit-image"], "comments": [{"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1437005347, "post_id": 31442125, "comment_id": 50855655, "body": "Can you please provide a) a link to your source image and b) a working code snippet?"}, {"owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "reply_to_user": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "edited": false, "score": 0, "creation_date": 1438100166, "post_id": 31442125, "comment_id": 51305338, "body": "Where can I post an image so that I can provide a link? It&#39;s 5.67MB"}, {"owner": {"reputation": 893, "user_id": 2415660, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/776167e13395c958a9a794db19766a6f?s=128&d=identicon&r=PG", "display_name": "Andrew Scott Evans", "link": "https://stackoverflow.com/users/2415660/andrew-scott-evans"}, "edited": false, "score": 0, "creation_date": 1438101044, "post_id": 31442125, "comment_id": 51305943, "body": "could we get an image result from your edgedetection. also, have you tried contouring? OpenCV has a great contouring system that provides a decent least squares line based on the contour points. Basically, is it the points you collect that cause the issue? Maybe there is a gradient that throws off edge detection."}, {"owner": {"reputation": 893, "user_id": 2415660, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/776167e13395c958a9a794db19766a6f?s=128&d=identicon&r=PG", "display_name": "Andrew Scott Evans", "link": "https://stackoverflow.com/users/2415660/andrew-scott-evans"}, "edited": false, "score": 0, "creation_date": 1438101397, "post_id": 31442125, "comment_id": 51306161, "body": "also have you tried np.int0(np.where(t&gt; # greater than 160))? Still, I tend to use contours to recognize objects and then check colors and what not in a contour bounding box."}, {"owner": {"reputation": 893, "user_id": 2415660, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/776167e13395c958a9a794db19766a6f?s=128&d=identicon&r=PG", "display_name": "Andrew Scott Evans", "link": "https://stackoverflow.com/users/2415660/andrew-scott-evans"}, "edited": false, "score": 0, "creation_date": 1438101554, "post_id": 31442125, "comment_id": 51306265, "body": "<a href=\"http://scikit-image.org/docs/dev/auto_examples/plot_contours.html\" rel=\"nofollow noreferrer\">scikit-image.org/docs/dev/auto_examples/plot_contours.html</a>"}, {"owner": {"reputation": 893, "user_id": 2415660, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/776167e13395c958a9a794db19766a6f?s=128&d=identicon&r=PG", "display_name": "Andrew Scott Evans", "link": "https://stackoverflow.com/users/2415660/andrew-scott-evans"}, "edited": false, "score": 0, "creation_date": 1438101640, "post_id": 31442125, "comment_id": 51306328, "body": "<a href=\"http://opencv-python-tutroals.readthedocs.org/en/latest/py_tutorials/py_imgproc/py_contours/py_contours_more_functions/py_contours_more_functions.html\" rel=\"nofollow noreferrer\">opencv-python-tutroals.readthedocs.org/en/latest/py_tutorial&zwnj;&#8203;s/&hellip;</a>     (sorry for all the comments its just that this is an alternate way so may not be your preferred solution)"}, {"owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "edited": false, "score": 0, "creation_date": 1438810905, "post_id": 31442125, "comment_id": 51608162, "body": "The Canny results are overlaid on the image provided (white line around the needle).  I&#39;ll look into the OpenCV contour function."}], "owner": {"reputation": 1912, "user_id": 3107858, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sehuC.jpg?s=128&g=1", "display_name": "DanGoodrick", "link": "https://stackoverflow.com/users/3107858/dangoodrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1438099877, "creation_date": 1436998434, "last_edit_date": 1438099877, "question_id": 31442125, "link": "https://stackoverflow.com/questions/31442125/scikit-image-linemodel-estimate-incorrect", "title": "scikit-image LineModel() estimate incorrect", "body": "<p>I have some pretty straight forward code to segment out a blob and then do a total least squares line fit to it, but the estimate of the line (blue) is clearly not correct.  Anybody know what I did wrong?</p>\n\n<p><img src=\"https://i.stack.imgur.com/Essgg.png\" alt=\"segment of dash image under analysis\"></p>\n\n<pre><code>import skimage as s\nimport skimage.feature as feat\nfrom skimage import measure\n#dash is the original image of the dash as a numpy array\ng= dash[2662:2800,3050:3263,0]\nedges = feat.canny(g/255., 3.2, .01, .45)\nfill = ndimage.binary_fill_holes(edges)\nt = s.img_as_ubyte(flt.sobel_h(fill))/2+s.img_as_ubyte(flt.sobel_v(fill))/2\nptpairs = np.int0(np.where(t&gt;160))\nl = measure.LineModel()\nl.estimate(ptpairs.T)\nxdata = np.arange(60,80)\nydata = l.predict_y(xdata)\nimshow(g+edges*100)\nplot(xdata,ydata)\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/TN8ck.png\" alt=\"Line Fit Overlay on Gauge Image\"></p>\n"}, {"tags": ["javascript", "python", "ajax", "mechanize", "mechanize-python"], "answers": [{"comments": [{"owner": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437225593, "post_id": 31491282, "comment_id": 50946696, "body": "Thank you so much for help :) I will try it in a while. Yeah, I agree, but BeautifulSoup is not a problem, I used it before, so I think I will handle it. However, I had problems with <code>send_keys</code> method, because after I automatically (from the source code) clicked the Search (Wyszukaj) button, page automatically cleared the criteria. Meh, who cares, if your approach will work, I will simply use BS4 for parsing."}, {"owner": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437225724, "post_id": 31491282, "comment_id": 50946724, "body": "Oh, I just noticed, you&#39;re THE GUY from <code>yagmail</code> - used your tool, I just wanted to thank you for this, its awesome!"}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437225782, "post_id": 31491282, "comment_id": 50946743, "body": "Good luck! Pretty sure it will work :) Indeed, it&#39;s weird what exactly the page does, but simply retrying the element works... Also, if you want to be friendly to the page and be patient, feel free to add more delay."}, {"owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "reply_to_user": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437225873, "post_id": 31491282, "comment_id": 50946769, "body": "@yak Hah, so cool to be called &quot;THE GUY&quot;; you&#39;re very welcome!"}, {"owner": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437548524, "post_id": 31491282, "comment_id": 51069066, "body": "Partly. I&#39;m using your solution but it seems that it somehow &#39;repeats&#39; pages and downloads some of them twice. However, I don&#39;t think it&#39;s a huge problem, I can handle this further, when parsing. Cheers :)"}], "tags": [], "owner": {"reputation": 17930, "user_id": 1575066, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/hGOuL.png?s=128&g=1", "display_name": "PascalVKooten", "link": "https://stackoverflow.com/users/1575066/pascalvkooten"}, "is_accepted": false, "score": 2, "last_activity_date": 1437230762, "last_edit_date": 1437230762, "creation_date": 1437223375, "answer_id": 31491282, "question_id": 31442119, "link": "https://stackoverflow.com/questions/31442119/mechanize-and-python-clicking-href-javascriptvoid0-links-and-getting-the/31491282#31491282", "title": "Mechanize and Python, clicking href=&quot;javascript:void(0);&quot; links and getting the response back", "body": "<p>This works for me: it seems all the html is available in <code>page</code></p>\n\n<pre><code>import time    \nfrom selenium import webdriver\ndriver = webdriver.Firefox()\ndriver.get('https://polon.nauka.gov.pl/opi/aa/drh/zestawienie')\n\nnext_id = 'drhPageForm:drhPageTable:j_idt211:j_idt233_ds_next'\n\npages = []\nit = 0\nwhile it &lt; 1795:\n    time.sleep(1)\n    it += 1\n    bad = True\n    while bad:\n        try:\n            driver.find_element_by_id(next_id).click()\n            bad = False \n        except:\n            print('retry')\n\n    page = driver.page_source\n\n    pages.append(page)\n</code></pre>\n\n<p>Instead of first collecting and storing all html, you could also just query what you want, but you'll need <code>lxml</code> or <code>BeautifulSoup</code> for that.</p>\n\n<p>EDIT: After running it indeed I noticed we got a mistake. It was simple to just catch the exception and retry.</p>\n"}, {"comments": [{"owner": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437672117, "post_id": 31491605, "comment_id": 51140040, "body": "It seems your solution is better. I opened a new bounty to thank you for your answer :)"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "edited": false, "score": 0, "creation_date": 1437672182, "post_id": 31491605, "comment_id": 51140082, "body": "@yak wow, thanks so much for it. Glad the answer helped to solve the problem."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 4, "last_activity_date": 1437225780, "last_edit_date": 1495542235, "creation_date": 1437225780, "answer_id": 31491605, "question_id": 31442119, "link": "https://stackoverflow.com/questions/31442119/mechanize-and-python-clicking-href-javascriptvoid0-links-and-getting-the/31491605#31491605", "title": "Mechanize and Python, clicking href=&quot;javascript:void(0);&quot; links and getting the response back", "body": "<p>First of all, I would still stick to selenium since this is a quite \"javascript-heavy\" website. Note that you can use a headless browser (<a href=\"http://phantomjs.org/\" rel=\"nofollow noreferrer\"><code>PhantomJS</code></a> or with a <a href=\"https://stackoverflow.com/questions/6183276/how-do-i-run-selenium-in-xvfb\">virtual display</a>) if needed.</p>\n\n<p>The idea here would be to paginate by 100 rows per page, click on the \">>\" link until it is not present on page, which would mean we've hit the last page and there are no more results to process. In order to make the solution reliable we need to use <a href=\"https://selenium-python.readthedocs.org/waits.html#explicit-waits\" rel=\"nofollow noreferrer\">Explicit Waits</a>: every time we proceed to a next page - wait for invisibility of the loading spinner.</p>\n\n<p>Working implementation:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nfrom selenium.common.exceptions import NoSuchElementException\nfrom selenium.webdriver.common.by import By\nfrom selenium import webdriver\nfrom selenium.webdriver.support.select import Select\nfrom selenium.webdriver.support.wait import WebDriverWait\nfrom selenium.webdriver.support import expected_conditions as EC\n\ndriver = webdriver.Firefox()\ndriver.maximize_window()\n\ndriver.get('https://polon.nauka.gov.pl/opi/aa/drh/zestawienie?execution=e1s1')\nwait = WebDriverWait(driver, 30)\n\n# paginate by 100\nselect = Select(driver.find_element_by_id(\"drhPageForm:drhPageTable:j_idt211:j_idt214:j_idt220\"))\nselect.select_by_visible_text(\"100\")\n\nwhile True:\n    # wait until there is no loading spinner\n    wait.until(EC.invisibility_of_element_located((By.ID, \"loadingPopup_content_scroller\")))\n\n    current_page = driver.find_element_by_class_name(\"rf-ds-act\").text\n    print(\"Current page: %d\" % current_page)\n\n    # TODO: collect the results\n\n    # proceed to the next page\n    try:\n        next_page = driver.find_element_by_link_text(u\"\u00bb\")\n        next_page.click()\n    except NoSuchElementException:\n        break\n</code></pre>\n"}], "owner": {"reputation": 3140, "user_id": 1582481, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/MAazu.jpg?s=128&g=1", "display_name": "yak", "link": "https://stackoverflow.com/users/1582481/yak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2848, "favorite_count": 1, "accepted_answer_id": 31491605, "answer_count": 2, "score": 7, "last_activity_date": 1437671818, "creation_date": 1436998420, "last_edit_date": 1437000022, "question_id": 31442119, "link": "https://stackoverflow.com/questions/31442119/mechanize-and-python-clicking-href-javascriptvoid0-links-and-getting-the", "title": "Mechanize and Python, clicking href=&quot;javascript:void(0);&quot; links and getting the response back", "body": "<p>I need to scrap some data from page, where I fill out the form (already did this with mechanize). The problem is, the page returns data on many pages, and I have troubles from getting the data from those pages. </p>\n\n<p>There's no problem to get them from the first result page, since it displays already after the search - I simply submit the form and get the response. </p>\n\n<p>I analyzed the source code of the results page and it seems it uses Java Script, RichFaces (some lib for JSF with ajax but I can be wrong since I am not a web expert).</p>\n\n<p>However, I managed to figure out how to get to the remaining result pages. I need to click links which are in this form (<code>href=\"javascript:void(0);\"</code>, full code below):</p>\n\n<pre><code>&lt;td class=\"pageNumber\"&gt;&lt;span class=\"rf-ds \" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233\"&gt;&lt;span class=\"rf-ds-nmb-btn rf-ds-act \" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_1\"&gt;1&lt;/span&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_2\"&gt;2&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_3\"&gt;3&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_4\"&gt;4&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_5\"&gt;5&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_6\"&gt;6&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_7\"&gt;7&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_8\"&gt;8&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_9\"&gt;9&lt;/a&gt;&lt;a class=\"rf-ds-nmb-btn \" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_10\"&gt;10&lt;/a&gt;&lt;a class=\"rf-ds-btn rf-ds-btn-next\" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_next\"&gt;\u00bb&lt;/a&gt;&lt;a class=\"rf-ds-btn rf-ds-btn-last\" href=\"javascript:void(0);\" id=\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_l\"&gt;\u00bb\u00bb\u00bb\u00bb&lt;/a&gt;\n\n&lt;script type=\"text/javascript\"&gt;new RichFaces.ui.DataScroller(\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233\",function(event,element,data){RichFaces.ajax(\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233\",event,{\"parameters\":{\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233:page\":data.page} ,\"incId\":\"1\"} )},{\"digitals\":{\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_9\":\"9\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_8\":\"8\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_7\":\"7\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_6\":\"6\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_5\":\"5\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_4\":\"4\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_3\":\"3\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_1\":\"1\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_10\":\"10\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_2\":\"2\"} ,\"buttons\":{\"right\":{\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_next\":\"next\",\"SomeSimpleForm:SomeSimpleTable:j_idt211:j_idt233_ds_l\":\"last\"} } ,\"currentPage\":1} )&lt;/script&gt;&lt;/span&gt;&lt;/td&gt;\n&lt;td class=\"pageExport\"&gt;&lt;script type=\"text/javascript\" src=\"/opi/javax.faces.resource/download.js?ln=js/component&amp;amp;b=\"&gt;&lt;/script&gt;&lt;script type=\"text/javascript\"&gt;\n</code></pre>\n\n<p>So I would like to ask if there's a way to click all the links and get all the pages using mechanize (note, that after <code>\u00bb</code> symbol there are more pages available)? I ask about answers for total dummies with web knowledge :) </p>\n"}, {"tags": ["python", "list-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436999017, "post_id": 31442157, "comment_id": 50853582, "body": "I like functional code. That&#39;s very readable."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436999101, "post_id": 31442157, "comment_id": 50853604, "body": "@ProbablyAStupidQuestion, then you might like <code>filter(lambda n: n &gt; 1, map(test.giveMyNum, q)))</code> ;)"}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436999493, "post_id": 31442157, "comment_id": 50853763, "body": "that&#39;s really nice! I&#39;m sad filter is being moved into itertools in Python3."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436999583, "post_id": 31442157, "comment_id": 50853793, "body": "@ProbablyAStupidQuestion, filter is still available in python3 it just returns an iterator asd opposed to a list."}, {"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 1, "creation_date": 1436999737, "post_id": 31442157, "comment_id": 50853842, "body": "Oh, I&#39;m thinking of reduce. Sorry"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436999787, "post_id": 31442157, "comment_id": 50853865, "body": "Yep, reduce has been moved to functools."}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": true, "score": 3, "last_activity_date": 1437000005, "last_edit_date": 1437000005, "creation_date": 1436998601, "answer_id": 31442157, "question_id": 31442096, "link": "https://stackoverflow.com/questions/31442096/preventing-multiple-calls-in-list-comprehension/31442157#31442157", "title": "Preventing multiple calls in list comprehension", "body": "<p>You can combine it with a generator but I would stick with a regular loop.</p>\n\n<pre><code>print([n for n in (x.giveMyNum() for x in q) if n  &gt; 1 ])\n</code></pre>\n\n<p>If you like functional code you could map or <code>itertools.imap</code> with python2:</p>\n\n<pre><code>print([n for n in map(test.giveMyNum, q) if n &gt; 1 ])\n</code></pre>\n\n<p>Using python2 and imap is faster than the  gen exp:</p>\n\n<pre><code>In [8]: q = [test(x) for x in range(10000)]\n\nIn [9]: timeit [ n for n in imap(test.giveMyNum, q) if n &gt; 1]\n1000 loops, best of 3: 1.94 ms per loop\n\nIn [10]: timeit [n for n in (x.giveMyNum() for x in q) if n  &gt; 1 ]\n100 loops, best of 3: 2.56 ms per loop\n</code></pre>\n\n<p>map is also faster using python3:</p>\n\n<pre><code>In [2]: timeit [ n for n in map(test.giveMyNum, q) if n &gt; 1]\n100 loops, best of 3: 2.23 ms per loop\n\nIn [3]: timeit [n for n in (x.giveMyNum() for x in q) if n  &gt; 1 ]\n100 loops, best of 3: 2.93 ms per loop\n</code></pre>\n\n<p>The timing for the regular loop and calling the method:</p>\n\n<pre><code>In [8]: timeit [x.giveMyNum() for x in q if x.giveMyNum()&gt;1]\n100 loops, best of 3: 3.59 ms per loop\n\nIn [9]: %%timeit\nret=[]\nfor x in q:\n    k=x.giveMyNum()\n    if k&gt;1:\n        ret.append(k)\n   ...: \n100 loops, best of 3: 2.67 ms per loop\n</code></pre>\n\n<p>Python3:</p>\n\n<pre><code>In [2]: %%timeit\nret=[]\nfor x in q:\n    k=x.giveMyNum()\n    if k&gt;1:\n        ret.append(k)\n   ...: \n100 loops, best of 3: 2.84 ms per loop\n\nIn [3]: timeit [x.giveMyNum() for x in q if x.giveMyNum()&gt;1]\n\n100 loops, best of 3: 4.08 ms per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "edited": false, "score": 0, "creation_date": 1436998759, "post_id": 31442169, "comment_id": 50853472, "body": "That&#39;s awesome - a generator comprehension! That&#39;s really clever. I was asking because I have a case with a slow pure function and this solves it in a nice way."}], "tags": [], "owner": {"reputation": 103812, "user_id": 320726, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/02041b18199678d1f02e6d5040dbb907?s=128&d=identicon&r=PG", "display_name": "6502", "link": "https://stackoverflow.com/users/320726/6502"}, "is_accepted": false, "score": 3, "last_activity_date": 1436998633, "creation_date": 1436998633, "answer_id": 31442169, "question_id": 31442096, "link": "https://stackoverflow.com/questions/31442096/preventing-multiple-calls-in-list-comprehension/31442169#31442169", "title": "Preventing multiple calls in list comprehension", "body": "<p>It's possible but not very readable...</p>\n\n<pre><code>print [y for y in (x.giveMyNum() for x in q) if y &gt; 1]\n</code></pre>\n\n<p>so unless <code>giveMyNum()</code> is slow or not pure I'd avoid it.</p>\n"}], "owner": {"reputation": 2970, "user_id": 1763955, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/3a7a94d762a9d702b88404f840e31d8f?s=128&d=identicon&r=PG&f=1", "display_name": "Carbon", "link": "https://stackoverflow.com/users/1763955/carbon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "closed_date": 1453019037, "accepted_answer_id": 31442157, "answer_count": 2, "score": 5, "last_activity_date": 1437000005, "creation_date": 1436998360, "last_edit_date": 1436998834, "question_id": 31442096, "link": "https://stackoverflow.com/questions/31442096/preventing-multiple-calls-in-list-comprehension", "closed_reason": "Duplicate", "title": "Preventing multiple calls in list comprehension", "body": "<p>Using the below as an example, we can see x.giveMyNum() will be called 4 times - 3 times to check the value of myNum and once to construct the list to return. You'd probably want it to be called only 3 times, as it's a pure function and its value won't change.</p>\n\n<p>List Comprehension Version:</p>\n\n<pre><code>class test(object):\n    def __init__(self,myNum):\n        self.myNum=myNum\n    def giveMyNum(self):\n        print \"giving\"\n        return self.myNum\nq=[test(x) for x in range(3)]\nprint [x.giveMyNum() for x in q if x.giveMyNum()&gt;1]\n</code></pre>\n\n<p>I know you can do something like this to fix it:</p>\n\n<pre><code>ret=[]\nfor x in q:\n    k=x.giveMyNum()\n    if k&gt;1:\n        ret.append(k)\n</code></pre>\n\n<p>but is there a way to prevent the extra call in a list comprehension?</p>\n\n<p>I don't need to keep the intermediate value.</p>\n"}, {"tags": ["python", "django", "nginx", "wkhtmltopdf", "uwsgi"], "comments": [{"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1437025047, "post_id": 31442049, "comment_id": 50860828, "body": "Is that working on your local dev server?"}, {"owner": {"reputation": 460, "user_id": 2048792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7258c560f8f5018c0f9b38a5d1acab4b?s=128&d=identicon&r=PG", "display_name": "kurkop", "link": "https://stackoverflow.com/users/2048792/kurkop"}, "reply_to_user": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1437048893, "post_id": 31442049, "comment_id": 50874776, "body": "No, I&#39;m working a vps server with Ubuntu 12.04 Server"}, {"owner": {"reputation": 1913, "user_id": 3509554, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/2ed608a1c5a6b018efc70e255ed888d0?s=128&d=identicon&r=PG&f=1", "display_name": "cdvv7788", "link": "https://stackoverflow.com/users/3509554/cdvv7788"}, "edited": false, "score": 0, "creation_date": 1437061187, "post_id": 31442049, "comment_id": 50884263, "body": "I haven&#39;t used wkhtmltopdf but there are some people with the same issue (<a href=\"https://github.com/incuna/django-wkhtmltopdf/issues/67\" rel=\"nofollow noreferrer\">github.com/incuna/django-wkhtmltopdf/issues/67</a>). Are your static files reachable?"}], "answers": [{"tags": [], "owner": {"reputation": 460, "user_id": 2048792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7258c560f8f5018c0f9b38a5d1acab4b?s=128&d=identicon&r=PG", "display_name": "kurkop", "link": "https://stackoverflow.com/users/2048792/kurkop"}, "is_accepted": false, "score": 0, "last_activity_date": 1438041154, "creation_date": 1438041154, "answer_id": 31665282, "question_id": 31442049, "link": "https://stackoverflow.com/questions/31442049/uwsgi-wkhtmltopdf-django-not-works/31665282#31665282", "title": "uwsgi + wkhtmltopdf + Django not works", "body": "<p>I solve this problem with help of this comment: <a href=\"https://github.com/incuna/django-wkhtmltopdf/issues/67#issuecomment-120930906\" rel=\"nofollow\">https://github.com/incuna/django-wkhtmltopdf/issues/67#issuecomment-120930906</a></p>\n\n<p>I changed in Django the STATIC_URL by default to:</p>\n\n<pre><code>STATIC_URL = 'http://domain.com/static/'\n</code></pre>\n\n<p>And I use \"static\" in templates as recommended the official documentation <a href=\"https://docs.djangoproject.com/en/1.8/howto/static-files/\" rel=\"nofollow\">https://docs.djangoproject.com/en/1.8/howto/static-files/</a>: </p>\n\n<p><code>{% load staticfiles %}</code> and\n<code>{% static 'js/jquery.min.js'%}\"</code></p>\n"}], "owner": {"reputation": 460, "user_id": 2048792, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7258c560f8f5018c0f9b38a5d1acab4b?s=128&d=identicon&r=PG", "display_name": "kurkop", "link": "https://stackoverflow.com/users/2048792/kurkop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1520395788, "creation_date": 1436998139, "last_edit_date": 1520395788, "question_id": 31442049, "link": "https://stackoverflow.com/questions/31442049/uwsgi-wkhtmltopdf-django-not-works", "title": "uwsgi + wkhtmltopdf + Django not works", "body": "<p>I create a deployment of Django application with nginx and uwsgi. Where I try access to page rendered in pdf with wkhtmltopdf print the following error:</p>\n\n<blockquote>\n  <p>Command '['wkhtmltopdf', '--encoding', u'utf8', '--quiet', '/tmp/wkhtmltopdfQuoAXk.html', '-']' returned non-zero exit status 1</p>\n</blockquote>\n\n<p>I think that wkhtmltopdf can't create the pdf, because the uwsgi request is not parse with HTML directly.</p>\n\n<p>Do you think?</p>\n"}, {"tags": ["python", "pip"], "comments": [{"owner": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "edited": false, "score": 1, "creation_date": 1436998335, "post_id": 31442007, "comment_id": 50853325, "body": "Have you tried <code>pip3</code>?"}, {"owner": {"reputation": 4729, "user_id": 1703772, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/963bc9ac37c31c3f6bff29dc60b8891b?s=128&d=identicon&r=PG", "display_name": "NuclearPeon", "link": "https://stackoverflow.com/users/1703772/nuclearpeon"}, "reply_to_user": {"reputation": 5892, "user_id": 1476941, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UX0GO.jpg?s=128&g=1", "display_name": "brainless coder", "link": "https://stackoverflow.com/users/1476941/brainless-coder"}, "edited": false, "score": 0, "creation_date": 1436999711, "post_id": 31442007, "comment_id": 50853829, "body": "Could be a path issue, or an issue on JetBrain&#39;s side. Search your drive for pip to make sure it exists. If it does, either jetbrains is importing the wrong name (pip3 as @brainlesscoder suggests) or pip is not installed on a path that jetbrains looks for modules on. You are correct that pip is included in python bundles &gt;= 3.4.0"}], "owner": {"reputation": 5372, "user_id": 1700890, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7ae3069bce34ea67aa6ed85035fac697?s=128&d=identicon&r=PG", "display_name": "user1700890", "link": "https://stackoverflow.com/users/1700890/user1700890"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1081, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1437000862, "creation_date": 1436997958, "last_edit_date": 1437000862, "question_id": 31442007, "link": "https://stackoverflow.com/questions/31442007/pip-is-missing-python-3-4-3-pycharm-ide", "title": "`pip` is missing python 3.4.3, PyCharm IDE", "body": "<p>I just installed python 3.4.3 and pyCharm 4.5, while installing module six. I got the following error message. I thought <code>pip</code> is included in python 3.4.3 installation. Any suggestions?</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"C:\\Program Files (x86)\\JetBrains\\PyCharm Community Edition 4.5.3\\helpers\\packaging_tool.py\", line 56, in do_install\n    import pip\nImportError: No module named 'pip'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Program Files (x86)\\JetBrains\\PyCharm Community Edition 4.5.3\\helpers\\packaging_tool.py\", line 125, in main\n    retcode = do_install(pkgs)\n  File \"C:\\Program Files (x86)\\JetBrains\\PyCharm Community Edition 4.5.3\\helpers\\packaging_tool.py\", line 58, in do_install\n    error_no_pip()\n  File \"C:\\Program Files (x86)\\JetBrains\\PyCharm Community Edition 4.5.3\\helpers\\packaging_tool.py\", line 36, in error_no_pip\n    tb = sys.exc_traceback\nAttributeError: 'module' object has no attribute 'exc_traceback'\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>Okay, following suggestion below, I checked that there is no pip.exe on hard drive. So I downloaded get-pip.py and tried to install it. Here is the error message: </p>\n\n<pre><code>C:\\Python34&gt;python get-pip.py\nCollecting pip\n  Using cached pip-7.1.0-py2.py3-none-any.whl\nCollecting wheel\n  Using cached wheel-0.24.0-py2.py3-none-any.whl\nInstalling collected packages: pip, wheel\n  Found existing installation: pip 6.0.8\nException:\nTraceback (most recent call last):\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\basecommand\n.py\", line 223, in main\n    status = self.run(options, args)\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\commands\\in\nstall.py\", line 299, in run\n    root=options.root_path,\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\req\\req_set\n.py\", line 640, in install\n    requirement.uninstall(auto_confirm=True)\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\req\\req_ins\ntall.py\", line 683, in uninstall\n    for path in pip.wheel.uninstallation_paths(dist):\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\wheel.py\",\nline 512, in unique\n    for item in fn(*args, **kw):\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\wheel.py\",\nline 531, in uninstallation_paths\n    r = csv.reader(FakeFile(dist.get_metadata_lines('RECORD')))\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\_vendor\\pkg\n_resources\\__init__.py\", line 1619, in get_metadata_lines\n    return yield_lines(self.get_metadata(name))\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\_vendor\\pkg\n_resources\\__init__.py\", line 1616, in get_metadata\n    return self._get(self._fn(self.egg_info, name)).decode(\"utf-8\")\n  File \"C:\\Users\\somepath\\AppData\\Local\\Temp\\tmpram2_j5v\\pip.zip\\pip\\_vendor\\pkg\n_resources\\__init__.py\", line 1722, in _get\n    with open(path, 'rb') as stream:\nFileNotFoundError: [Errno 2] No such file or directory: 'c:\\\\python34\\\\lib\\\\site\n-packages\\\\pip-6.0.8.dist-info\\\\RECORD'\n</code></pre>\n\n<p><strong>FINAL UPDATE:</strong></p>\n\n<p>Uninstalling Python and deleting C:\\Python34 folder helped. New installation came with pip. Sorry for all this mess.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 85, "user_id": 5121296, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FnlYGN6P024/AAAAAAAAAAI/AAAAAAAAABw/xb4BMBInkqo/photo.jpg?sz=128", "display_name": "Jeffrey Y.", "link": "https://stackoverflow.com/users/5121296/jeffrey-y"}, "edited": false, "score": 0, "creation_date": 1436997823, "post_id": 31441949, "comment_id": 50853110, "body": "Oh the code display got messed up :( how do I fix that for future reference?"}, {"owner": {"reputation": 7673, "user_id": 3004881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lFgVw.jpg?s=128&g=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3004881/dan-getz"}, "edited": false, "score": 0, "creation_date": 1436997911, "post_id": 31441949, "comment_id": 50853152, "body": "Check out <a href=\"http://stackoverflow.com/help/formatting\">stackoverflow.com/help/formatting</a>"}, {"owner": {"reputation": 592, "user_id": 2953724, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/763072947/picture?type=large", "display_name": "Daymon Schroeder", "link": "https://stackoverflow.com/users/2953724/daymon-schroeder"}, "edited": false, "score": 0, "creation_date": 1436997939, "post_id": 31441949, "comment_id": 50853165, "body": "I gave you an edit that you can accept. StackOverflow uses Markdown syntax. If you put -three- four spaces at the beginning of a line, it is counted as a part of a code block. You can also use the editor for this."}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 4, "creation_date": 1436998051, "post_id": 31441949, "comment_id": 50853209, "body": "<i>&quot;Which function definition is more efficient in Python&quot;</i> - why not test them (e.g. with <code>timeit</code>) and find out? You can also look at the bytecode they compile to with <code>dis</code>. But this seems like pointless micro-optimisation. And, FYI, SO <b>is not a forum</b>."}, {"owner": {"reputation": 7673, "user_id": 3004881, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/lFgVw.jpg?s=128&g=1", "display_name": "Dan Getz", "link": "https://stackoverflow.com/users/3004881/dan-getz"}, "reply_to_user": {"reputation": 592, "user_id": 2953724, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/763072947/picture?type=large", "display_name": "Daymon Schroeder", "link": "https://stackoverflow.com/users/2953724/daymon-schroeder"}, "edited": false, "score": 0, "creation_date": 1436998137, "post_id": 31441949, "comment_id": 50853248, "body": "@DaymonSchroeder four spaces, right?"}, {"owner": {"reputation": 2666, "user_id": 583608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7mLIJ.png?s=128&g=1", "display_name": "ToothlessRebel", "link": "https://stackoverflow.com/users/583608/toothlessrebel"}, "edited": false, "score": 0, "creation_date": 1436998647, "post_id": 31441949, "comment_id": 50853431, "body": "I think it will depending very much on what goes on in the conditional statement. In general I think there is no one <b>better</b> option but in your example there may be. Also consider maintenance versus performance, if performance isn&#39;t absolutely critical it may be best to not worry about that, and instead write what is easier for you maintain later when you don&#39;t remember what you were doing."}], "answers": [{"tags": [], "owner": {"reputation": 2666, "user_id": 583608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7mLIJ.png?s=128&g=1", "display_name": "ToothlessRebel", "link": "https://stackoverflow.com/users/583608/toothlessrebel"}, "is_accepted": false, "score": 0, "last_activity_date": 1436998392, "creation_date": 1436998392, "answer_id": 31442107, "question_id": 31441949, "link": "https://stackoverflow.com/questions/31441949/for-loop-or-while-loop/31442107#31442107", "title": "For loop or while loop?", "body": "<p>The <code>for</code> loop evaluates the length once, and operates knowing that. The <code>while</code> loop will have to evaluate <code>len(s)</code> each loop. There may be more overhead in accessing the individual index of the string each time the <code>while</code> statement gets evaluated too.</p>\n\n<p>If the <code>while</code> loop is recalculating something like <code>len()</code> each time, I <em>think</em> it would be more efficient to use <code>for</code>. Both of them have to test at least one condition each loop though.</p>\n\n<p>Rewriting the <code>while</code> loop to use a save variable like <code>len = len(s)</code> may remove that extra bit and make them extremely close. This is more true when you consider that your <code>for</code> loop is executing a second internal loop.</p>\n"}], "owner": {"reputation": 85, "user_id": 5121296, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-FnlYGN6P024/AAAAAAAAAAI/AAAAAAAAABw/xb4BMBInkqo/photo.jpg?sz=128", "display_name": "Jeffrey Y.", "link": "https://stackoverflow.com/users/5121296/jeffrey-y"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1479450375, "creation_date": 1436997758, "last_edit_date": 1436998145, "question_id": 31441949, "link": "https://stackoverflow.com/questions/31441949/for-loop-or-while-loop", "title": "For loop or while loop?", "body": "<p>Which function definition is more efficient in Python, even though they do the same task? I.e when should we use a <code>for</code> loop and when should we use a <code>while</code> loop?</p>\n\n<pre><code>def count_to_first_vowel(s):\n    '''  (str) -&gt; str\n    Return the substring of s up to but not including the first vowel in s. If no vowel\n    is present, return s.\n    &gt;&gt;&gt; count_to_first_vowel('hello')\n    'h'\n    &gt;&gt;&gt; count_to_first_vowel('cherry')\n    'ch'\n    &gt;&gt;&gt; count_to_first_vowel('xyz')\n    xyz\n    '''\n    substring = ''\n    for char in s:\n        if char in 'aeiouAEIOU':\n            return substring\n        substring = substring + char\n    return substring\n</code></pre>\n\n<p>or</p>\n\n<pre><code>def count_to_first_vowel(s):\n    '''  (str) -&gt; str\n    Return the substring of s up to but not     including the first vowel in s. If no vowel\n    is present, return s.\n    &gt;&gt;&gt; count_to_first_vowel('hello')\n    'h'\n    &gt;&gt;&gt; count_to_first_vowel('cherry')\n    'ch'\n    &gt;&gt;&gt; count_to_first_vowel('xyz')\n    xyz\n    '''\n    substring = ''\n    i = 0\n    while i &lt; len(s) and not s[i] in 'aeiouAEIOU':\n        substring = substring + s\n        i = i + 1\n    return substring\n</code></pre>\n"}, {"tags": ["python", "performance", "websocket", "tornado", "broadcast"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1437004090, "post_id": 31441934, "comment_id": 50855317, "body": "I closed this as a dupe since it looks like the other question answers your question ... if it does not let me know ... as an aside you could use something like celery to provide some level of asycronous behaviour"}], "owner": {"reputation": 1294, "user_id": 1731005, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fcbc712e658b0bc306ce65b14c8b746e?s=128&d=identicon&r=PG", "display_name": "haren", "link": "https://stackoverflow.com/users/1731005/haren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 1, "closed_date": 1437004066, "answer_count": 0, "score": 3, "last_activity_date": 1436997697, "creation_date": 1436997697, "question_id": 31441934, "link": "https://stackoverflow.com/questions/31441934/is-there-a-way-to-broadcast-a-message-to-all-or-filtered-websocket-clients-con", "closed_reason": "Duplicate", "title": "Is there a way to broadcast a message to all (or filtered) WebSocket clients connected to a WebSocket server?", "body": "<p>I am using Python's Tornado WebSocketHandlers to handle websocket connections. </p>\n\n<p>I have some messages that need to be broadcast globally. When I have +1000 clients the following iteration starts to be costly for high-frequency messages:</p>\n\n<pre><code>def broadcast(self,msg):\n    for client in self.clients:\n        client.send(msg)\n</code></pre>\n\n<p><strong>Is there a way to a perform a sort of a WebSocket multicast using Python and Tornado</strong> (instead of iterating over a list / dict of existing connections) <strong>?</strong> </p>\n"}, {"tags": ["python", "python-3.x", "encryption"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1436997944, "post_id": 31441927, "comment_id": 50853166, "body": "<i>&quot;something that will prevent casual attempts to look at the code in this module&quot;</i> - you mean like distributing a <code>.pyd</code>?"}, {"owner": {"reputation": 259, "user_id": 4084714, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-J6ayi69udVw/AAAAAAAAAAI/AAAAAAAAAEE/86sxlT5a6qY/photo.jpg?sz=128", "display_name": "johnny_be", "link": "https://stackoverflow.com/users/4084714/johnny-be"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1436999947, "post_id": 31441927, "comment_id": 50853924, "body": "@jonrsharpe Yes. I am doing that, but I want one more extra layer of annoyance that somebody would have to work through to get at the code."}, {"owner": {"reputation": 8426, "user_id": 1791279, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/abcaa7d84748400f1557b2f91add969a?s=128&d=identicon&r=PG", "display_name": "rth", "link": "https://stackoverflow.com/users/1791279/rth"}, "edited": false, "score": 1, "creation_date": 1437001073, "post_id": 31441927, "comment_id": 50854292, "body": "An interesting approach. A guess, but I think what happens if that you are hitting OS limits: on Windows you can&#39;t remove a file if it is opened by some process. I&#39;m pretty sure that this would work fine on Linux. What you could do is a) figure out how you can manually close all references to the <code>.pyd</code> file so it can be removed b) see if there is a way around this OS level limitation."}, {"owner": {"reputation": 343905, "user_id": 4279, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d92ce60d3a4cbe03598e27c2e8dee69d?s=128&d=identicon&r=PG", "display_name": "jfs", "link": "https://stackoverflow.com/users/4279/jfs"}, "edited": false, "score": 0, "creation_date": 1437050673, "post_id": 31441927, "comment_id": 50876088, "body": "related: <a href=\"https://github.com/kholia/dedrop\" rel=\"nofollow noreferrer\">Dropbox used a modified python interpreter to import encrypted Python code</a>"}], "answers": [{"comments": [{"owner": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "edited": false, "score": 0, "creation_date": 1610145062, "post_id": 31460571, "comment_id": 116049519, "body": "just wondering if u had any more luck with this issue since 16... any idea if pyd can be now imported from str/byte maybe? I tried lately but I failed badly, then again I&#39;m not very good ^^ TIA"}, {"owner": {"reputation": 259, "user_id": 4084714, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-J6ayi69udVw/AAAAAAAAAAI/AAAAAAAAAEE/86sxlT5a6qY/photo.jpg?sz=128", "display_name": "johnny_be", "link": "https://stackoverflow.com/users/4084714/johnny-be"}, "reply_to_user": {"reputation": 589, "user_id": 1873108, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/b657b898a98b18d615bab71f45cba853?s=128&d=identicon&r=PG", "display_name": "Dariusz", "link": "https://stackoverflow.com/users/1873108/dariusz"}, "edited": false, "score": 0, "creation_date": 1610391248, "post_id": 31460571, "comment_id": 116113012, "body": "@Dariusz I never figured out how to do it starting from <code>.pyd</code>, unfortunately."}], "tags": [], "owner": {"reputation": 259, "user_id": 4084714, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-J6ayi69udVw/AAAAAAAAAAI/AAAAAAAAAEE/86sxlT5a6qY/photo.jpg?sz=128", "display_name": "johnny_be", "link": "https://stackoverflow.com/users/4084714/johnny-be"}, "is_accepted": true, "score": 0, "last_activity_date": 1437073755, "last_edit_date": 1495535059, "creation_date": 1437066846, "answer_id": 31460571, "question_id": 31441927, "link": "https://stackoverflow.com/questions/31441927/delete-python-module-from-disk-after-import-while-keeping-it-available-in-memory/31460571#31460571", "title": "Delete Python module from disk after import while keeping it available in memory?", "body": "<p>I found a workaround that ignores the specific <code>PermissionError</code> problem above but that solves the problem of decrypting a Python module and then running it from within Python without leaving a decrypted copy of the module on the disk for any amount of time.</p>\n\n<p>Using <a href=\"https://stackoverflow.com/a/7548190/4084714\">this answer</a> as a starting point, I decided to modify the <code>decrypt</code> function above to return a string rather than write to a file. Then I can import the string as a module and run the code from within Python--all while never saving the decrypted module to disk. Unfortunately, in order to accomplish this, I had to start with an encrypted <code>.py</code> file rather than an encrypted <strong>and</strong> compiled <code>.pyd</code> file like I originally wanted. (If anyone knows how to import a <code>bytes</code> object as a module, please let me know!)\n<hr>\nAnyway, here are the specific changes I made to get it working.</p>\n\n<p>First, the new <code>decrypt</code> function:</p>\n\n<pre><code>def decrypt(in_file, password, key_length=32):\n    bs = AES.block_size\n    salt = in_file.read(bs)[len('Salted__'):]\n    key, iv = derive_key_and_iv(password, salt, key_length, bs)\n    cipher = AES.new(key, AES.MODE_CBC, iv)\n    next_chunk = b''\n    b = b''\n    finished = False\n    while not finished:\n        chunk, next_chunk = next_chunk, cipher.decrypt(in_file.read(1024 * bs))\n        if len(next_chunk) == 0:\n            padding_length = chunk[-1]\n            chunk = chunk[:-padding_length]\n            finished = True\n        b += chunk\n    return b.decode() # Note: will only work if unencrypted file is text, not binary\n</code></pre>\n\n<p>Just to be thorough, let's encrypt the original file, delete the unencrypted file, and then decrypt, returning the source to a string, <code>s</code>:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; origpath = r'C:\\test\\test_me_pls.py'\n&gt;&gt;&gt; encpath = r'C:\\test\\blue.rrr'\n&gt;&gt;&gt; key = 'hello'\n&gt;&gt;&gt; with open(origpath,'rb') as inf, open(encpath,'wb') as outf:\n...     encrypt(inf,outf,key)\n&gt;&gt;&gt; os.remove(origpath)\n&gt;&gt;&gt; import test_me_pls\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'test_me_pls'\n&gt;&gt;&gt; with open(encpath,'rb') as inf:\n...     s = decrypt(inf,key)\n</code></pre>\n\n<p>Great! No unencrypted copy of the source is saved to disk. Now to import the string as a module:</p>\n\n<pre><code>&gt;&gt;&gt; import sys, imp\n&gt;&gt;&gt; test_me_pls = imp.new_module('test_me_pls')\n&gt;&gt;&gt; exec(s, test_me_pls.__dict__)\n&gt;&gt;&gt; test_me_pls.square(7)\n49\n</code></pre>\n\n<p>Then, for good measure, we can add the module to <code>sys</code> to get it to ignore subsequent attempts to import:</p>\n\n<pre><code>&gt;&gt;&gt; sys.modules['test_me_pls'] = test_me_pls\n</code></pre>\n\n<p>And then because making it more difficult to read the source code was our original goal, let's get rid of the string that contains it:</p>\n\n<pre><code>&gt;&gt;&gt; del s\n</code></pre>\n\n<p>And finally, just as a sanity check, make sure the module still works after the source string is gone:</p>\n\n<pre><code>&gt;&gt;&gt; test_me_pls.square(3)\n9\n</code></pre>\n\n<p><hr>\nIf anyone has any alternative solutions (especially how to fix that Windows <code>PermissionError</code> problem or import a binary <code>.pyd</code> from a <code>bytes</code> object rather than from a file), please let me know!</p>\n"}], "owner": {"reputation": 259, "user_id": 4084714, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh5.googleusercontent.com/-J6ayi69udVw/AAAAAAAAAAI/AAAAAAAAAEE/86sxlT5a6qY/photo.jpg?sz=128", "display_name": "johnny_be", "link": "https://stackoverflow.com/users/4084714/johnny-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 31460571, "answer_count": 1, "score": 1, "last_activity_date": 1437073755, "creation_date": 1436997652, "last_edit_date": 1495541447, "question_id": 31441927, "link": "https://stackoverflow.com/questions/31441927/delete-python-module-from-disk-after-import-while-keeping-it-available-in-memory", "title": "Delete Python module from disk after import while keeping it available in memory?", "body": "<p>I'm trying to set up encryption on a portion of a project that I'm working on. Right now, I'm trying an implementation similar to <a href=\"https://stackoverflow.com/questions/21864682/encrypt-unencrypt-python-scripts-in-c\">this</a>. As an extra layer of security, I have all of my Python source code compiled into <a href=\"https://docs.python.org/2/faq/windows.html#is-a-pyd-file-the-same-as-a-dll\" rel=\"nofollow noreferrer\"><code>.pyd</code> files</a> via Cython. What I want to do is unencrypt a <code>.pyd</code> module, import it, and then delete the unencrypted file immediately afterwords while keeping the module available in memory. How do I do this?\n<hr>\nHere is the code I'm using for encryption/decryption:</p>\n\n<pre><code>from hashlib import md5\nfrom Crypto.Cipher import AES\nfrom Crypto import Random\n\ndef derive_key_and_iv(password, salt, key_length, iv_length):\n    d = d_i = ''.encode()\n    while len(d) &lt; key_length + iv_length:\n        d_i = md5(d_i + password.encode() + salt).digest()\n        d += d_i\n    return d[:key_length], d[key_length:key_length+iv_length]\n\ndef encrypt(in_file, out_file, password, key_length=32):\n    bs = AES.block_size\n    salt = Random.new().read(bs - len('Salted__'))\n    key, iv = derive_key_and_iv(password, salt, key_length, bs)\n    cipher = AES.new(key, AES.MODE_CBC, iv)\n    out_file.write('Salted__'.encode() + salt)\n    finished = False\n    while not finished:\n        chunk = in_file.read(1024 * bs)\n        if len(chunk) == 0 or len(chunk) % bs != 0:\n            padding_length = (bs - len(chunk) % bs) or bs\n            chunk += (padding_length * chr(padding_length)).encode()\n            finished = True\n        out_file.write(cipher.encrypt(chunk))\n\ndef decrypt(in_file, out_file, password, key_length=32):\n    bs = AES.block_size\n    salt = in_file.read(bs)[len('Salted__'):]\n    key, iv = derive_key_and_iv(password, salt, key_length, bs)\n    cipher = AES.new(key, AES.MODE_CBC, iv)\n    next_chunk = b''\n    finished = False\n    while not finished:\n        chunk, next_chunk = next_chunk, cipher.decrypt(in_file.read(1024 * bs))\n        if len(next_chunk) == 0:\n            padding_length = chunk[-1]\n            chunk = chunk[:-padding_length]\n            finished = True\n        out_file.write(chunk)\n</code></pre>\n\n<p>I am using a test module called <code>test_me_pls</code> with the following code, which is compiled into <code>test_me_pls.pyd</code>:</p>\n\n<pre><code>def square(x):\n    return x * x\n</code></pre>\n\n<p><hr>\nTo test, I have done the following:</p>\n\n<pre><code>&gt;&gt;&gt; import os\n&gt;&gt;&gt; origpath = r'C:\\test\\test_me_pls.pyd'\n&gt;&gt;&gt; encpath = r'C:\\test\\blue.rrr'\n&gt;&gt;&gt; decpath = r'C:\\test\\test_me_pls.pyd'\n&gt;&gt;&gt; key = 'hello'\n&gt;&gt;&gt; with open(origpath,'rb') as inf, open(encpath,'wb') as outf:\n...     encrypt(inf,outf,key)\n&gt;&gt;&gt; os.remove(origpath)\n&gt;&gt;&gt; import test_me_pls\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nImportError: No module named 'test_me_pls'\n</code></pre>\n\n<p>So far so good. I got the file encrypted and deleted the unencrypted <code>.pyd</code> file. Just to make sure it worked how I was expecting, I tried to import the deleted/encrypted module and the import failed as expected.\nNext, I decrypt, import the module, and test it out:</p>\n\n<pre><code>&gt;&gt;&gt; with open(encpath,'rb') as inf, open(decpath,'wb') as outf:\n...     decrypt(inf,outf,key)\n&gt;&gt;&gt; import test_me_pls\n&gt;&gt;&gt; test_me_pls.square(5)\n25\n</code></pre>\n\n<p>Okay, decryption worked.\nNow that I have the module imported, I want to delete the unencrypted <code>.pyd</code> file:</p>\n\n<pre><code>&gt;&gt;&gt; os.remove('test_me_pls.pyd')\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nPermissionError: [WinError 5] Access is denied: 'test_me_pls.pyd'\n</code></pre>\n\n<p>Okay. Not what I was hoping for. And just to beat a dead horse:</p>\n\n<pre><code>&gt;&gt;&gt; test_me_pls.__file__\n'.\\\\test_me_pls.pyd'\n&gt;&gt;&gt; os.remove(test_me_pls.__file__)\nTraceback (most recent call last):\n  File \"&lt;stdin&gt;\", line 1, in &lt;module&gt;\nPermissionError: [WinError 5] Access is denied: '.\\\\test_me_pls.pyd'\n</code></pre>\n\n<p>Is there a way to do this?\n<hr>\n<strong>NOTE:</strong> I understand that if someone really wants to get at my code, it doesn't matter that I have it compiled and encrypted because if they know what they're doing they can still get to the unencrypted <code>.pyd</code> file by using a debugger and setting a break point at the appropriate spot, uncompiling the <code>.pyd</code> file, etc. etc. insert reverse engineering techniques here. What I do want is something that will prevent casual attempts to look at the code in this module. The lock on the front door to my house can easily be picked by someone with the right knowledge and tools, but that doesn't mean I don't want to bother locking my door.</p>\n\n<p><strong>2nd NOTE:</strong> If it makes any difference, I'm using Python 3.3</p>\n"}, {"tags": ["python", "matplotlib", "imshow"], "comments": [{"owner": {"reputation": 10336, "user_id": 4177384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f603f5ee2e318d192aefb46694222c9d?s=128&d=identicon&r=PG&f=1", "display_name": "hitzg", "link": "https://stackoverflow.com/users/4177384/hitzg"}, "edited": false, "score": 0, "creation_date": 1437035532, "post_id": 31441900, "comment_id": 50866237, "body": "Your question is not very clear. What is <i>wrong</i> when using <code>imshow</code>? What do you mean by *the quality output of <code>imshow</code>? Do you mean the interpolation that <code>imshow</code> applies?"}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "reply_to_user": {"reputation": 10336, "user_id": 4177384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f603f5ee2e318d192aefb46694222c9d?s=128&d=identicon&r=PG&f=1", "display_name": "hitzg", "link": "https://stackoverflow.com/users/4177384/hitzg"}, "edited": false, "score": 0, "creation_date": 1437040179, "post_id": 31441900, "comment_id": 50869286, "body": "Yes by quality i mean the interpolation that is provided by imshow. I have tried pcolormesh with interpolation but for reasons unknown to me the output cannot be saved in eps format needed for latex. Also when i am  using imshow i am getting the plot upside down compared with the plot produced by pcolormesh."}, {"owner": {"reputation": 262, "user_id": 921668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8892bfba5e19bb1b71083676eddf413?s=128&d=identicon&r=PG", "display_name": "Achim", "link": "https://stackoverflow.com/users/921668/achim"}, "edited": false, "score": 0, "creation_date": 1437045184, "post_id": 31441900, "comment_id": 50872530, "body": "@MavridisM. for the upsidedown problem you can try origin=&#39;lower&#39; in your imshow parameters."}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1437048280, "post_id": 31441900, "comment_id": 50874389, "body": "Setting origin = &#39;lower&#39; worked and gives me the same output image. Thank you for your help and i am sorry if the answer seems obvious for you.  I have just started using matplotlib."}, {"owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "edited": false, "score": 0, "creation_date": 1437066484, "post_id": 31441900, "comment_id": 50887602, "body": "it is related since it has to do with the way imshow uses the input array although it is not the same question, which i was unaware of."}], "owner": {"reputation": 95, "user_id": 4633338, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-6h_232DagEw/AAAAAAAAAAI/AAAAAAAAAsI/21FmoAQlyJ8/photo.jpg?sz=128", "display_name": "Mavridis M.", "link": "https://stackoverflow.com/users/4633338/mavridis-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "closed_date": 1437066617, "answer_count": 0, "score": 0, "last_activity_date": 1437035462, "creation_date": 1436997516, "last_edit_date": 1437035462, "question_id": 31441900, "link": "https://stackoverflow.com/questions/31441900/create-with-imshow-the-same-plot-as-pcolormesh", "closed_reason": "Duplicate", "title": "Create with imshow the same plot as pcolormesh", "body": "<p>I have an array ( 256 X 128 ) which i am plotting using python and matplotlib with <code>imshow</code> and <code>pcolormesh</code>. When i am using <code>pcolormesh</code> I am getting the plot as it should be while when i am using <code>imshow</code> i am getting something different which is expected as i understand but it is wrong. Since i want the quality output of <code>imshow</code>, is it possible to get with <code>imshow</code> the same output as <code>pcolormesh</code> for given array ? Can i, for example, transform the array to get with <code>imshow</code> the same output created by <code>pcolormesh</code>?</p>\n"}, {"tags": ["python", "importerror"], "comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1436997661, "post_id": 31441873, "comment_id": 50853026, "body": "Try to add a <code>print test</code> at the end of the file base.py and run it (python base.py). I suspect that there might be an issue there that prevents the module from being loaded"}, {"owner": {"reputation": 53, "user_id": 5112453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HhlYNRJMWvo/AAAAAAAAAAI/AAAAAAAABbc/X5X0wZhMCI8/photo.jpg?sz=128", "display_name": "Marshall", "link": "https://stackoverflow.com/users/5112453/marshall"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1436998329, "post_id": 31441873, "comment_id": 50853322, "body": "Nope. Base doesn&#39;t get called at all. No output. If I do  &quot;importer.load_module(&#39;base&#39;)&quot; base loads just fine. and even if I try loading base before script1, it still gives the same error.  I should also probably mention the above is pesudocode and that I&#39;m running python 3.4.3"}], "owner": {"reputation": 53, "user_id": 5112453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HhlYNRJMWvo/AAAAAAAAAAI/AAAAAAAABbc/X5X0wZhMCI8/photo.jpg?sz=128", "display_name": "Marshall", "link": "https://stackoverflow.com/users/5112453/marshall"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1436997427, "creation_date": 1436997427, "question_id": 31441873, "link": "https://stackoverflow.com/questions/31441873/realitive-import-inside-zipimport-python", "title": "realitive import inside zipimport python", "body": "<p>I have an application structured like this:</p>\n\n<pre><code>|-- main.py\n|-- lib.py\n|-- scripts.zip\n|   |-- run.conf\n|   |-- script1.py\n|   |-- more scripts...\n|   |--\n|   |-- base.py\n</code></pre>\n\n<p>main.py imports script1.py, which has a class that inherits from base.py</p>\n\n<p>main.py code:</p>\n\n<pre><code>module_name = 'script1'\nimport zipimport\n            importer = zipimport.zipimporter('scripts.zip')  \n            if module_name not in sys.modules:\n                importer.load_module(module_name)\n</code></pre>\n\n<p>script1.py code:</p>\n\n<pre><code>from . import base\n\nclass doesstuff(base.scriptbase):\n\n    def __init__:\n        pass\n</code></pre>\n\n<p>when main.py tries to import script1.py with zipimport, this happens:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\"\n    importer.load_module(module_name)\n  File \"scripts.zip/script1.py\", line 1, in &lt;module&gt;\nSystemError: Parent module '' not loaded, cannot perform relative import\n</code></pre>\n\n<p>It first I thought it was beacuse zipimport basically puts scripts.zip in the system path, but when I modify script1.py</p>\n\n<p>script1.py code:</p>\n\n<pre><code>import base #zip file should be in the system path as a base\n\nclass doesstuff(base.scriptbase):\n\n    def __init__:\n        pass\n</code></pre>\n\n<p>I get this:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"main.py\"\n    importer.load_module(module_name)\n  File \"scripts.zip/script1.py\", line 1, in &lt;module&gt;\nImportError: No module named 'base'\n</code></pre>\n\n<p>So apparently it isn't quite part of the system path.\nso I'm not sure how to have one of the scripts inside the zip file import one of their own. I've tried a couple variations of the above, and pretty much all of them end up with the Systemerror.</p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["python", "google-app-engine", "go", "atom-editor"], "comments": [{"owner": {"reputation": 1889, "user_id": 1477364, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ded6e69660b0493583d054a8861fdefb?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/1477364/travis"}, "edited": false, "score": 0, "creation_date": 1436998054, "post_id": 31441833, "comment_id": 50853210, "body": "Are you using version control? Can you roll back?"}, {"owner": {"reputation": 21993, "user_id": 702275, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/25411d307fa0ce0f741e7eb1b28d2cd9?s=128&d=identicon&r=PG", "display_name": "tim peterson", "link": "https://stackoverflow.com/users/702275/tim-peterson"}, "reply_to_user": {"reputation": 1889, "user_id": 1477364, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ded6e69660b0493583d054a8861fdefb?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/1477364/travis"}, "edited": false, "score": 0, "creation_date": 1436998545, "post_id": 31441833, "comment_id": 50853397, "body": "I am using version control on my app but not the whole app engine platform and the problem seems with the platform"}, {"owner": {"reputation": 1889, "user_id": 1477364, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ded6e69660b0493583d054a8861fdefb?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/1477364/travis"}, "edited": false, "score": 2, "creation_date": 1437001408, "post_id": 31441833, "comment_id": 50854424, "body": "If it were me, I&#39;d reinstall the SDK if that&#39;s what&#39;s been mangled. I would have less than 100% confidence in a repaired SDK even if it appeared to work fine."}, {"owner": {"reputation": 1620, "user_id": 4316235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b46c2d21f13517cd4460f4513815fd46?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Deskins", "link": "https://stackoverflow.com/users/4316235/jeff-deskins"}, "edited": false, "score": 0, "creation_date": 1437008288, "post_id": 31441833, "comment_id": 50856307, "body": "Another thing to consider if you use the Google Cloud SDK.  Starting with release 0.9.68, it will no longer be distributing the stand alone App Engine SDK, which includes dev_appserver.py.  You can continue to use those scripts by installing the stand-alone App Engine SDK: <a href=\"https://cloud.google.com/appengine/downloads\" rel=\"nofollow noreferrer\">cloud.google.com/appengine/downloads</a>."}], "owner": {"reputation": 21993, "user_id": 702275, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/25411d307fa0ce0f741e7eb1b28d2cd9?s=128&d=identicon&r=PG", "display_name": "tim peterson", "link": "https://stackoverflow.com/users/702275/tim-peterson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 241, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436997261, "creation_date": 1436997261, "question_id": 31441833, "link": "https://stackoverflow.com/questions/31441833/google-app-engine-unable-to-find-dev-appserver-py", "title": "Google App Engine unable to find dev_appserver.py", "body": "<p>I started using <a href=\"https://github.com/atom/find-and-replace/issues/189\" rel=\"nofollow\">Atom</a> editor and inadvertently renamed everything in my google app engine folder from \"appengine\" to \"google.golang.org\". I switched it all back even replacing the \"go_appengine\" folder but I'm still getting the following error when I run my app:</p>\n\n<pre><code>goapp serve: unable to find dev_appserver.py\n</code></pre>\n\n<p>Thoughts?</p>\n"}, {"tags": ["python", "file", "caching", "persistence"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1436997543, "post_id": 31441751, "comment_id": 50852974, "body": "first use <code>simplejson</code> instead of <code>pickle</code> if at all possible .. .second you should time the pickle load ... I suspect that is not the bottleneck in the program"}, {"owner": {"reputation": 1, "user_id": 3711371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6f9cd5a66fb9e4584b9323d78f08b4?s=128&d=identicon&r=PG&f=1", "display_name": "ncamarda", "link": "https://stackoverflow.com/users/3711371/ncamarda"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1437172276, "post_id": 31441751, "comment_id": 50935962, "body": "The only method running at this point in the program is the readCancerObject() method, and it takes between 12 and 20 seconds to load the pickled object. Here is the time stamp:      <code>C:\\Users\\...\\workspace&gt;python matrixWriter.py</code>     <code>Enter the name of variant call file: oneVariantPerLine.pk1</code>     <code>Time elapsed to load file: 14.639602513</code>  If you have any information about how to store pickled object in memory that would be much appreciated."}], "owner": {"reputation": 1, "user_id": 3711371, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b6f9cd5a66fb9e4584b9323d78f08b4?s=128&d=identicon&r=PG&f=1", "display_name": "ncamarda", "link": "https://stackoverflow.com/users/3711371/ncamarda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1447512704, "creation_date": 1436996910, "last_edit_date": 1447512704, "question_id": 31441751, "link": "https://stackoverflow.com/questions/31441751/storing-a-pickled-python-object-in-memory-for-quick-access", "title": "Storing a pickled python object in memory for quick access", "body": "<p>I have pickled an object (myCancerObject in the example below) using the cPickle module, and I run analyses on this pickled object multiple times a day. Each time I start a separate analysis, I have to re-load the pickled object. </p>\n\n<p>I was wondering if there is a way to \"cache\" or store this object in memory for a day so that when I call readCancerObject(), it checks to see if the pickled object that it's about to load is in memory and if it is, performs operations on the object stored in memory rather than reading it all over again each call.</p>\n\n<p>Is there a pythonic way to do this? I'm hoping that caching this object will speed up the runtime of my analyses significantly.</p>\n\n<p>My code looks something like this:</p>\n\n<pre><code>def readCancerObject():\n  infile = open(object_filename,\"rb\")\n  myCancerObject = pickle.load(infile)\n\n  ~do iterative things on myCancerObject\n</code></pre>\n"}, {"tags": ["python", "multithreading"], "comments": [{"owner": {"reputation": 965, "user_id": 1839841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62609001da1c988ed120333b1bf7c378?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1839841/dan"}, "edited": false, "score": 1, "creation_date": 1436999866, "post_id": 31441742, "comment_id": 50853893, "body": "Looks like you should set &#39;start_t2 = end_t1&#39; instead of +1. Start the thread before &#39;self.count_orders_from&#39;."}], "answers": [{"comments": [{"owner": {"reputation": 965, "user_id": 1839841, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/62609001da1c988ed120333b1bf7c378?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/1839841/dan"}, "edited": false, "score": 1, "creation_date": 1436999925, "post_id": 31442031, "comment_id": 50853912, "body": "Move &#39;if linecount==ending&#39; block to the first line of the for loop."}], "tags": [], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1436998050, "creation_date": 1436998050, "answer_id": 31442031, "question_id": 31441742, "link": "https://stackoverflow.com/questions/31441742/output-between-single-threaded-and-multi-threaded-versions-of-same-application-d/31442031#31442031", "title": "Output between single-threaded and multi-threaded versions of same application differs [Python]", "body": "<p>The error was occurring because even though in theory the threads were parsing individual halves, what was in fact happening is that one thread parsed halfway and the other one parsed the full file, so items were double counted. This error was fixed by adding a linecount variable to count_orders_from, in order to check whether the reader has reached the line it is supposed to read to. </p>\n\n<pre><code>def count_orders_from(self, f, starting, ending, offset_list):\n        f.seek(offset_list[starting])\n        order_pattern = re.compile(r'.*(IN:)(\\s)*(ORDER).*(ord_type)*')\n        replace_pattern = re.compile(r'.*(IN:)(\\s)*(REPLACE).*(ord_type)*')\n        order_count=replace_count=linecount = 0\n        for line in f:\n            if order_pattern.match(line) != None:\n                order_count+=1 # = order_count + 1\n            if replace_pattern.match(line) != None:\n                replace_count+=1 # = replace_count + 1\n            if linecount==ending:\n                break\n            linecount+=1\n        self.queue.put((order_count, replace_count, order_count+replace_count))\n</code></pre>\n"}], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436998050, "creation_date": 1436996863, "question_id": 31441742, "link": "https://stackoverflow.com/questions/31441742/output-between-single-threaded-and-multi-threaded-versions-of-same-application-d", "title": "Output between single-threaded and multi-threaded versions of same application differs [Python]", "body": "<p>I have written 2 versions of a program to parse a log file and return the number of strings that match a given regex. The single-threaded version return the correct output</p>\n\n<pre><code>Number of Orders ('ORDER'): 1108\nNumber of Replacements ('REPLACE'): 742\nNumber of Orders and Replacements: 1850\nTime to process: 5.018553\n</code></pre>\n\n<p>The multithreaded program however returns erroneous values:</p>\n\n<pre><code>Number of Orders ('ORDER'): 1579\nNumber of Replacements ('REPLACE'): 1108\nNumber of Orders and Replacements: 2687\nTime to process: 2.783091\n</code></pre>\n\n<p>The time can vary (it should be faster for the multithreaded one) but I can't seem to find why the values for orders and replacements differ between the two versions. </p>\n\n<p>Here is the multithreaded version:</p>\n\n<pre><code>import re\nimport time\nimport sys\nimport threading\nimport Queue\n\nclass PythonLogParser:\n    queue = Queue.Queue()\n\n    class FileParseThread(threading.Thread):\n\n        def __init__(self, parsefcn, f, startind, endind, olist):\n            threading.Thread.__init__(self)\n            self.parsefcn = parsefcn\n            self.startind = startind\n            self.endind = endind\n            self.olist = olist\n            self.f = f\n\n        def run(self):\n            self.parsefcn(self.f, self.startind, self.endind, self.olist)\n\n    def __init__(self, filename):\n        assert(len(filename) != 0)\n        self.filename = filename\n        self.start = 0\n        self.end = 0\n\n    def open_file(self):\n        f = None\n        try:\n            f = open(self.filename)\n        except IOError as e:\n            print 'Unable to open file:', e.message\n        return f\n\n    def count_orders_from(self, f, starting, ending, offset_list):\n        f.seek(offset_list[starting])\n        order_pattern = re.compile(r'.*(IN:)(\\s)*(ORDER).*(ord_type)*')\n        replace_pattern = re.compile(r'.*(IN:)(\\s)*(REPLACE).*(ord_type)*')\n        order_count=replace_count = 0\n        for line in f:\n            if order_pattern.match(line) != None:\n                order_count+=1 # = order_count + 1\n            if replace_pattern.match(line) != None:\n                replace_count+=1 # = replace_count + 1\n        #return (order_count, replace_count, order_count+replace_count)\n        self.queue.put((order_count, replace_count, order_count+replace_count))\n\n    def get_file_data(self):\n        offset_list = []\n        offset = 0\n        num_lines = 0\n        f = 0\n        try:\n            f = open(self.filename)\n            for line in f:\n                num_lines += 1\n                offset_list.append(offset)\n                offset += len(line)\n            f.close()\n        finally:\n            f.close()\n        return (num_lines, offset_list)\n\n    def count_orders(self):\n        self.start = time.clock()\n        num_lines, offset_list = self.get_file_data()\n        start_t1 = 0\n        end_t1 = num_lines/2\n        start_t2 = end_t1 + 1\n        f = open(self.filename)\n        t1 = self.FileParseThread(self.count_orders_from, f, start_t1, end_t1, offset_list)\n        self.count_orders_from(f, start_t2, num_lines, offset_list)\n        t1.start()\n        self.end = time.clock()\n        tup1 = self.queue.get()\n        tup2 = self.queue.get()\n        order_count1, replace_count1, sum1 = tup1\n        order_count2, replace_count2, sum2 = tup2\n        print 'Number of Orders (\\'ORDER\\'): {0}\\n'\\\n        'Number of Replacements (\\'REPLACE\\'): {1}\\n'\\\n        'Number of Orders and Replacements: {2}\\n'\\\n        'Time to process: {3}\\n'.format(order_count1+order_count2, \\\n                                        replace_count1+replace_count2, \\\n                                        sum1+sum2, \\\n                                        self.end - self.start)\n        f.close()\n\ndef test2():\n    p = PythonLogParser('../../20150708.aggregate.log')\n    p.count_orders()\n\ndef main():\n    test2()\n\nmain()\n</code></pre>\n\n<p>The idea is that since the file is large, each thread will read half the file. t1 reads the first half and the main thread reads the second. The main thread then adds together the results from both iterations and displays them.</p>\n\n<p>My suspicion is that somehow the order_count and replace_count in count_orders_from are being modified between threads rather than starting at 0 for each thread, but I'm not sure since I don't see why separate calls to a method from 2 separate threads would modify the same variables.</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "edited": false, "score": 0, "creation_date": 1437003420, "post_id": 31442676, "comment_id": 50855110, "body": "Thanks roeland. I understand your point, but am I not suppose in that case to find the same value (1.7*10^7) in every cases, corresponding to the limit ?"}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "reply_to_user": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "edited": false, "score": 0, "creation_date": 1437004068, "post_id": 31442676, "comment_id": 50855310, "body": "@ArnaudPROST Not sure, I think it depends on the exact values in the array (they are not exactly 1.0), and how those intermediate results are rounded. You can do a test with summing an array with all elements initialized to exactly 1.0."}, {"owner": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "edited": false, "score": 0, "creation_date": 1437005658, "post_id": 31442676, "comment_id": 50855733, "body": "If I create an array <code>test=np.zeros([432,45,135,135])</code> then do <code>test=test+1.0</code> and <code>print test.sum()</code> I obtain <code>1.67772e+07</code> that I interpret as the limit you were talking about, over which adding 1 does not change anything anymore. But I still don&#39;t understand how we can go over it with the pressure array, reaching <code>2.24963e+07</code>"}, {"owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "reply_to_user": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "edited": false, "score": 0, "creation_date": 1437006417, "post_id": 31442676, "comment_id": 50855910, "body": "Probably the latter array has elements which are a bit larger than 1.0"}], "tags": [], "owner": {"reputation": 4119, "user_id": 4447998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be2b81fe09ceb2ec13da299127f242f3?s=128&d=identicon&r=PG", "display_name": "roeland", "link": "https://stackoverflow.com/users/4447998/roeland"}, "is_accepted": true, "score": 1, "last_activity_date": 1437001202, "creation_date": 1437001202, "answer_id": 31442676, "question_id": 31441655, "link": "https://stackoverflow.com/questions/31441655/incomprehension-in-the-sum-of-numpy-arrays/31442676#31442676", "title": "Incomprehension in the sum of numpy arrays", "body": "<p>Calculating the sum of a large amount of numbers is a tricky problem, since computers may not represent numbers with enough precision to do that.</p>\n\n<p>32-bit floating point has only around 7 digits of precision. As a consequence, if you add a small number to a large number, and the ratio between them is more than <code>2^24</code>\u00a0(\u2248\u00a0<code>1.7*10^7</code>) then the result may be exactly that large number. So when doing the sum, once your sum reaches that value, adding +1 will not change the sum anymore.</p>\n\n<p>You may <em>just</em> get away with using double precision (but the result can still have quite a large error with that amount of values). Otherwise you'll have to use an algorithm like Kahan summation, or, if there are no negative numbers, do the sum in stages. For instance you can calculate the sums of the 432 numbers every a row first, then calculate the sums of 45 rows in a column, etc.</p>\n"}, {"tags": [], "owner": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "is_accepted": false, "score": 0, "last_activity_date": 1437004882, "creation_date": 1437004882, "answer_id": 31443259, "question_id": 31441655, "link": "https://stackoverflow.com/questions/31441655/incomprehension-in-the-sum-of-numpy-arrays/31443259#31443259", "title": "Incomprehension in the sum of numpy arrays", "body": "<p>Following @roeland lines, this code does the trick : </p>\n\n<pre><code>T1=T1.astype(np.float64)\nT2=T1+np.float64(1.)\nP1=P1.astype(np.float64)\nP2=P1+np.float64(1.)\n\nprint np.sqrt(np.sum(np.square(np.subtract(T2,T1))))\nprint np.sqrt(np.sum(np.square(np.subtract(P2,P1))))\n</code></pre>\n\n<p>Gives the correct output : </p>\n\n<pre><code>354294000.0\n354294000.0\n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 4709364, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/42efe9cba3817f92274224908e577043?s=128&d=identicon&r=PG&f=1", "display_name": "Arnaud BUBBLE", "link": "https://stackoverflow.com/users/4709364/arnaud-bubble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 2, "accepted_answer_id": 31442676, "answer_count": 2, "score": 1, "last_activity_date": 1437004882, "creation_date": 1436996493, "last_edit_date": 1436998817, "question_id": 31441655, "link": "https://stackoverflow.com/questions/31441655/incomprehension-in-the-sum-of-numpy-arrays", "title": "Incomprehension in the sum of numpy arrays", "body": "<p><code>T1</code> and <code>P1</code> are two numpy arrays respectively encompassing temperatures (in Kelvin, between 100 and 250) and pressures (in Pascals, between 700 and 1). They have exactly the same shape <code>432*45*135*135</code> Each element of those arrays are <code>numpy.float32</code>. Here is my code :</p>\n\n<pre><code>1  T2=T1+1.\n2  P2=P1+1.\n\n3  print np.sum(np.square(np.subtract(T2,T1)))\n4  print np.sum(np.square(np.subtract(P2,P1)))\n\n5  print ((T2-T1)-1.&lt;1e-3).sum()\n6  print ((P2-P1)-1.&lt;1e-3).sum()\n</code></pre>\n\n<p>And here are my outputs : </p>\n\n<pre><code>1.6792e+07\n2.24963e+07\n\n354294000\n354294000\n</code></pre>\n\n<p>I can't understand why : </p>\n\n<ul>\n<li>Instructions 3 and 4 do not give the same results, because <code>T2-T1</code> and <code>P2-P1</code> should both be equal to a <code>432*45*135*135</code> array full of 1s.</li>\n<li>None of instruction 3 and 4 give the good results, which is given by instruction 5 and 6, and equals to the number of elements in the array (<code>432*45*135*135=354294000</code>)</li>\n<li>Some elements in <code>T2-T1</code> and <code>P2-P1</code> are not equal to 1., which can be seen if I increase the precision of the comparison in instructions 5 and 6.</li>\n</ul>\n\n<p>Expressions</p>\n\n<pre><code>print ((T2-T1)-1.&lt;1e-5).sum()\nprint ((P2-P1)-1.&lt;1e-5).sum()\n</code></pre>\n\n<p>Give the output : </p>\n\n<pre><code>354293978\n354041812\n</code></pre>\n\n<p>I can imagine that those problems have something to do with precision, but I should not encounter this problem using dtype <code>numpy.float32</code>. I tried :</p>\n\n<pre><code>T2=T1+np.float32(1.)\nP2=P1+np.float32(1.)\n</code></pre>\n\n<p>Which does not change anything. Any idea ? Thanks</p>\n"}, {"tags": ["python", "numpy"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1437003436, "post_id": 31441649, "comment_id": 50855115, "body": "The default action of <code>sum</code> is to reduce the dimensions by 1, in this case, from 2d to 1d.  The transpose of a 1d is itself."}], "answers": [{"comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 2, "creation_date": 1436997041, "post_id": 31441697, "comment_id": 50852741, "body": "No problem. BTW, isn&#39;t it better just to change the <code>axis=</code>?"}, {"owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997140, "post_id": 31441697, "comment_id": 50852793, "body": "no, i want to have array([[6,5]]) in the first result and array([[6],[5]]). What the best way to reach for that result?  I use it for matrix multiplication and i need to T matrix."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1436997237, "post_id": 31441697, "comment_id": 50852841, "body": "@AmiTavory, indeed  it is, I just wanted to show the OP that they were getting exactly what they should be getting."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997342, "post_id": 31441697, "comment_id": 50852884, "body": "@member555, not sure I follow,  add your input to your question and expected output"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 1, "creation_date": 1436997374, "post_id": 31441697, "comment_id": 50852895, "body": "@PadraicCunningham I&#39;m pretty sure he means 6, <b>15</b>."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997573, "post_id": 31441697, "comment_id": 50852987, "body": "@member555, you can use .reshape as per Ami&#39;s answer"}], "tags": [], "owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "is_accepted": false, "score": 4, "last_activity_date": 1436996785, "last_edit_date": 1436996785, "creation_date": 1436996617, "answer_id": 31441697, "question_id": 31441649, "link": "https://stackoverflow.com/questions/31441649/numpy-sum-result-and-transpose-on-it-give-same-answer/31441697#31441697", "title": "numpy sum result and transpose on it give same answer", "body": "<p>I presume you want to transpose first:</p>\n\n<pre><code>print np.sum(X.T,axis=1)\n</code></pre>\n\n<p>You are getting a flat array after summing so obviously transposing a 1d array is going to give you the same output as the original array when transposed.</p>\n\n<pre><code>In [14]: X=np.array([[1,2,3],[4,5,6]])    \nIn [15]: np.sum(X, axis=1)\nOut[15]: array([ 6, 15])    \nIn [16]: np.sum(X, axis=1).T\nOut[16]: array([ 6, 15])    \nIn [17]: np.sum(X.T, axis=1)\nOut[17]: array([5, 7, 9])\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997203, "post_id": 31441771, "comment_id": 50852823, "body": "no, i want to have array([[6,5]]) in the first result and array([[6],[5]]). What the best way to reach for that result? I use it for matrix multiplication and i need to T matrix"}, {"owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997593, "post_id": 31441771, "comment_id": 50852997, "body": "it will be reshape((2,1)) for every input array?"}, {"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "reply_to_user": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 1, "creation_date": 1436997710, "post_id": 31441771, "comment_id": 50853053, "body": "That means 2 rows, 1 column - the number of rows will depend on your input matrix."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "reply_to_user": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "edited": false, "score": 0, "creation_date": 1436997847, "post_id": 31441771, "comment_id": 50853125, "body": "@member555, not for every input, use the shape of the original array"}], "tags": [], "owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "is_accepted": false, "score": 4, "last_activity_date": 1436997495, "last_edit_date": 1436997495, "creation_date": 1436997011, "answer_id": 31441771, "question_id": 31441649, "link": "https://stackoverflow.com/questions/31441649/numpy-sum-result-and-transpose-on-it-give-same-answer/31441771#31441771", "title": "numpy sum result and transpose on it give same answer", "body": "<p>If it's summing across the wrong axis, why not change it?</p>\n\n<pre><code>&gt;&gt; np.sum(np.array([[1, 2, 3], [2, 3, 4]]), axis=1)\narray([6, 9])\n\n&gt;&gt; np.sum(np.array([[1, 2, 3], [2, 3, 4]]), axis=0)\narray([3, 5, 7])\n</code></pre>\n\n<hr>\n\n<p><strong>Edit</strong></p>\n\n<p>You can reshape the resulting array, like this:</p>\n\n<pre><code>&gt;&gt; np.sum(np.array([[1, 2, 3], [2, 3, 4]]), axis=1).reshape((2, 1))\narray([[6],\n    [9]])\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1436999351, "last_edit_date": 1436999351, "creation_date": 1436997267, "answer_id": 31441834, "question_id": 31441649, "link": "https://stackoverflow.com/questions/31441649/numpy-sum-result-and-transpose-on-it-give-same-answer/31441834#31441834", "title": "numpy sum result and transpose on it give same answer", "body": "<p>If you want to keep the extra singleton dimension after computing the sum, you can pass <code>keepdims=True</code> to <code>sum</code>:</p>\n\n<pre><code>X = np.array([[1, 2, 3], [2, 3, 4]])\n\nprint(np.sum(X, axis=0).shape)\n# (3,)\n\nprint(np.sum(X, axis=0, keepdims=1).shape)\n# (1, 3)\n\nprint(np.sum(X, axis=1, keepdims=1).shape)\n# (2, 1)\n</code></pre>\n\n<p>Apart from using <code>keepdims</code>, you could also reshape the output to insert a new axis to replace the one that was lost in the reduction, e.g.:</p>\n\n<pre><code># the '-1' here means that numpy will infer the size in the first dimension to\n# match the number of elements in the result array\nprint(np.sum(X, axis=1).reshape(-1, 1).shape)\n# (2, 1)\n\nprint(np.sum(X, axis=1)[:, np.newaxis].shape)\n# (2, 1)\n\n# indexing with 'None' is equivalent to 'np.newaxis'\nprint(np.sum(X, axis=1)[:, None].shape)\n# (2, 1)\n</code></pre>\n"}], "owner": {"reputation": 737, "user_id": 2615853, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1c5de77f718d917c842b10a69686c515?s=128&d=identicon&r=PG", "display_name": "member555", "link": "https://stackoverflow.com/users/2615853/member555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 31441834, "answer_count": 3, "score": 0, "last_activity_date": 1437003387, "creation_date": 1436996473, "last_edit_date": 1437003387, "question_id": 31441649, "link": "https://stackoverflow.com/questions/31441649/numpy-sum-result-and-transpose-on-it-give-same-answer", "title": "numpy sum result and transpose on it give same answer", "body": "<p>I'm having some troubles to understand how to do this thing in the right way.</p>\n\n<pre><code>print np.sum(X,axis=1)\n</code></pre>\n\n<p>and</p>\n\n<pre><code>print np.sum(X,axis=1).T\n</code></pre>\n\n<p>gives me the same result.\nWhat is the best way to fix it?</p>\n\n<p>Why such a thing should not be considered as a bug in numpy?</p>\n\n<p>For example: <code>X=[[1,2],[3,4]]</code>.</p>\n\n<p>For first result I wish to get <code>array([[3,7]])</code>, and <code>array([[3],[7]])</code> for second. can be in the opposite way too..doesnt really matter.</p>\n"}, {"tags": ["python", "django", "django-models"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1436996692, "post_id": 31441566, "comment_id": 50852607, "body": "I think you need Javascript."}, {"owner": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "reply_to_user": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1436997301, "post_id": 31441566, "comment_id": 50852866, "body": "I really don&#39;t think I need JavaScript, I&#39;m trying to define something at the model level."}], "answers": [{"comments": [{"owner": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "edited": false, "score": 0, "creation_date": 1436998621, "post_id": 31442106, "comment_id": 50853422, "body": "Ok that looks good, but the logic needs to be according to what has already been chosen in a previous field, how would I go about that?"}, {"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "reply_to_user": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "edited": false, "score": 0, "creation_date": 1436998850, "post_id": 31442106, "comment_id": 50853508, "body": "You need this just to save it? or to show this in a form?. You can pass some parameter to <code>get_choices(condition=None)</code>"}], "tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": false, "score": 3, "last_activity_date": 1485946950, "last_edit_date": 1485946950, "creation_date": 1436998389, "answer_id": 31442106, "question_id": 31441566, "link": "https://stackoverflow.com/questions/31441566/changing-the-choices-in-django-model-according-to-a-field-value/31442106#31442106", "title": "Changing the choices in Django Model according to a field value", "body": "<p>You could set the choices dynamically using a function.</p>\n\n<pre><code># models.py\n\ndef get_choices():\n    choices_tuple_list = []\n    ... # your logic to define choices\n    return choices_tuple_list\n\nclass Summary(models.Model):\n    ... # Summary definition\n    subject = models.CharField(max_length=20, blank=True)\n\n    def __init__(self, *args, **kwargs):\n        super(Summary, self).__init__(*args, **kwargs)\n        self._meta.get_field_by_name('subject')[0]._choices = get_choices()\n</code></pre>\n\n<p><a href=\"https://docs.djangoproject.com/en/1.8/ref/models/meta/\" rel=\"nofollow noreferrer\">See docs</a></p>\n"}, {"comments": [{"owner": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "edited": false, "score": 0, "creation_date": 1437000689, "post_id": 31442450, "comment_id": 50854163, "body": "This is fine but I just feel that using databases isn&#39;t the right choice here, I want a more brittle structure. Guess I&#39;ll have to rethink it"}], "tags": [], "owner": {"reputation": 1889, "user_id": 1477364, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ded6e69660b0493583d054a8861fdefb?s=128&d=identicon&r=PG&f=1", "display_name": "Travis", "link": "https://stackoverflow.com/users/1477364/travis"}, "is_accepted": true, "score": 3, "last_activity_date": 1436999895, "creation_date": 1436999895, "answer_id": 31442450, "question_id": 31441566, "link": "https://stackoverflow.com/questions/31441566/changing-the-choices-in-django-model-according-to-a-field-value/31442450#31442450", "title": "Changing the choices in Django Model according to a field value", "body": "<p>Even if the data doesn't change often, it seems most natural to put data in the database and Python in Python files. Your proposed solution seems like you're fighting the way Django wants to do things.</p>\n\n<p>What do think of a database solution?</p>\n\n<pre><code>class Subject(models.Model):\n    parent = models.ForeignKey(\"self\")\n    name = models.CharField(max_length=100)\n    hebrew_name = models.CharField(max_length=100)\n\nclass Summary(models.Model):\n    ...\n    subject = models.ForeignKey(\"Subject\")\n    ...\n\nclass SubjectForm(forms.Form):\n    subject = forms.ModelChoiceField(queryset=Subject.objects.none())\n    ...\n\n    def __init__(self, *args, **kwargs): # see http://stackoverflow.com/a/4880869/1477364\n        sub = kwargs.pop('parent_subject')\n        super(SubjectForm, self).__init__(*args, **kwargs)\n        parent_subject = Subject.objects.get(name=sub)\n        sub_subjects = Subject.objects.filter(parent=parent_subject)\n        self.fields['subject'].queryset = forms.ModelChoiceField(queryset=sub_subjects)\n</code></pre>\n\n<p>Note that the code implies there will always be a parent Subject passed to SubjectForm. (You'll need a \"root\" Subject.)</p>\n"}], "owner": {"reputation": 1816, "user_id": 2105338, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/04fea5fa00223bb306c1063d2bb8eaf6?s=128&d=identicon&r=PG", "display_name": "davegri", "link": "https://stackoverflow.com/users/2105338/davegri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3926, "favorite_count": 2, "accepted_answer_id": 31442450, "answer_count": 2, "score": 2, "last_activity_date": 1485946950, "creation_date": 1436996131, "question_id": 31441566, "link": "https://stackoverflow.com/questions/31441566/changing-the-choices-in-django-model-according-to-a-field-value", "title": "Changing the choices in Django Model according to a field value", "body": "<p>If for example, I have a class Summary,</p>\n\n<p>each Instance of the class Summary, can be one subject:</p>\n\n<pre><code>    subjects = (\n        ('english', '\u05d0\u05e0\u05d2\u05dc\u05d9\u05ea'),\n        ('bible', '\u05ea\u05e0\"\u05da'),\n        ('history', '\u05d4\u05d9\u05e1\u05d8\u05d5\u05e8\u05d9\u05d4'),\n        ('civics', '\u05d0\u05d6\u05e8\u05d7\u05d5\u05ea'),\n        ('language', '\u05dc\u05e9\u05d5\u05df'),\n        ('literature', '\u05e1\u05e4\u05e8\u05d5\u05ea'),\n    )\n\n\nclass Summary(models.Model):\n...\nsubject = models.CharField(max_length=20, choices=subjects)\n...\n</code></pre>\n\n<p>Now I've decided I want to hardcode some topics for each subject, so if <code>Summary.subject = \"literature\"</code> I want to add a field</p>\n\n<pre><code>subtopic = models.CharField(choices=literature_subtopics)\n</code></pre>\n\n<p>and make the choices equal to:</p>\n\n<pre><code>literature_subtopics = (\n    ('poems', '\u05e9\u05d9\u05e8\u05d4'),\n    ('short_stories', '\u05e1\u05d9\u05e4\u05d5\u05e8\u05d9\u05dd \u05e7\u05e6\u05e8\u05d9\u05dd'),\n    ('plays', '\u05de\u05d7\u05d6\u05d5\u05ea'),\n    ('novels', '\u05e0\u05d5\u05d1\u05dc\u05d5\u05ea'),\n)\n</code></pre>\n\n<p>If the subject was English then <code>english_subtopics</code> would be used for the choices field.</p>\n\n<p>I want to hard-code all these divisions because they will not change more than once every few years if at all, storing them in a database makes zero sense.</p>\n\n<p>I need to somehow set up all these divisions for each subject, and make Django set the choices field for the subtopic appropriately.</p>\n\n<p>can I override the init method to accomplish this somehow? I heard that's a bad idea and can break things.</p>\n"}, {"tags": ["python", "list", "pandas", "pivot-table", "ordereddictionary"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1436996158, "post_id": 31441521, "comment_id": 50852359, "body": "I imagine it means you have a <code>long</code>"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437000656, "post_id": 31441521, "comment_id": 50854155, "body": "@PadraicCunningham any idea how to get rid of it to make the two dicts match?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437000737, "post_id": 31441521, "comment_id": 50854181, "body": "can you add a sample of your df?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437001375, "post_id": 31441521, "comment_id": 50854409, "body": "@PadraicCunningham Added"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437001670, "post_id": 31441521, "comment_id": 50854508, "body": "@Jenrryb, can you add a bit of the original df itself so I can copy/paste and run the code?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437002441, "post_id": 31441521, "comment_id": 50854764, "body": "@PadraicCunningham Here is some mock data <a href=\"https://www.dropbox.com/s/o2010jiiuve6hy9/MOCK_DATA%20%281%29.csv?dl=0\" rel=\"nofollow noreferrer\">dropbox.com/s/o2010jiiuve6hy9/MOCK_DATA%20%281%29.csv?dl=0</a>"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1437002952, "post_id": 31441521, "comment_id": 50854944, "body": "@PadraicCunningham I also added the code leading up to what I originally posted to make it easier to copy paste."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437003392, "post_id": 31441521, "comment_id": 50855102, "body": "what should <code>result.columns = [&#39;Month&#39;, &#39;CompanyName&#39;, &#39;NumberCalls&#39;]</code> actually be?"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437003562, "post_id": 31441521, "comment_id": 50855162, "body": "@PadraicCunningham Everything with &#39;Month&#39; changes to &#39;Day&#39; in the new code."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437003649, "post_id": 31441521, "comment_id": 50855188, "body": "Are you missing some column names? There are 7 in the original df"}, {"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "reply_to_user": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1437056712, "post_id": 31441521, "comment_id": 50880948, "body": "@PadraicCunningham I am only using two columns for the code, the CompanyName and the recvd_dttm"}], "answers": [{"comments": [{"owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "edited": false, "score": 0, "creation_date": 1436996363, "post_id": 31441594, "comment_id": 50852454, "body": "Ah. What if I want to stay with Python 2.7? It seems like people say to ignore them, but in my case the months_dict is working and the days_dict is not, and since that&#39;s the only difference I see, I feel like that&#39;s the problem."}], "tags": [], "owner": {"reputation": 590, "user_id": 3854029, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6kMnx.png?s=128&g=1", "display_name": "rohanp", "link": "https://stackoverflow.com/users/3854029/rohanp"}, "is_accepted": false, "score": 0, "last_activity_date": 1436996257, "last_edit_date": 1495541168, "creation_date": 1436996257, "answer_id": 31441594, "question_id": 31441521, "link": "https://stackoverflow.com/questions/31441521/making-ordereddict-out-of-lists/31441594#31441594", "title": "Making OrderedDict out of Lists", "body": "<p>L means long integer (<a href=\"https://stackoverflow.com/questions/11764713/why-do-integers-in-database-row-tuple-have-an-l-suffix\">Why do integers in database row tuple have an &#39;L&#39; suffix?</a>). Long integers and regular integers were merged in Python 3, so you can get rid of them by switching to Python 3. I do not think you have to worry about them, however.</p>\n"}, {"tags": [], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "is_accepted": true, "score": 0, "last_activity_date": 1437066809, "creation_date": 1437066809, "answer_id": 31460560, "question_id": 31441521, "link": "https://stackoverflow.com/questions/31441521/making-ordereddict-out-of-lists/31460560#31460560", "title": "Making OrderedDict out of Lists", "body": "<p>Alright I figured out how to make it work. First I had to make a list of Days. I took this from my dataframe. Then I used</p>\n\n<pre><code>graphdays = [pivot_table[(m)].astype(float).values for m in range(1, len(Days)+1)]\ndays_dict = OrderedDict(list(zip(Days, graphdays)))\n</code></pre>\n\n<p>and it worked!</p>\n"}], "owner": {"reputation": 1695, "user_id": 4945793, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/b2850e14438ec7cc64635c0c017d8e1d?s=128&d=identicon&r=PG&f=1", "display_name": "jenryb", "link": "https://stackoverflow.com/users/4945793/jenryb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 31460560, "answer_count": 2, "score": 0, "last_activity_date": 1437066809, "creation_date": 1436995949, "last_edit_date": 1437066738, "question_id": 31441521, "link": "https://stackoverflow.com/questions/31441521/making-ordereddict-out-of-lists", "title": "Making OrderedDict out of Lists", "body": "<p>I am trying to modify my code so that it will work over different time spans. I want my variable days_dict to look like months_dict.</p>\n\n<p>I have this variable called months_dict which works very well. I made it using these lines of code</p>\n\n<pre><code>graphmonths = [pivot_table[(m)].astype(float).values for m in range(1, 13)]\nnames = [\"Jan\", \"Feb\", \"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\", \"Dec\"]\nmonths_dict = OrderedDict(list(zip(names, graphmonths)))\n</code></pre>\n\n<p>It looks like this</p>\n\n<pre><code>months_dict\nOut[86]: \nOrderedDict([('Jan', array([ 17.,   4.,  11.,  12.,  13.,   6.,   9.,   7.,   8.,   7.,   4.,\n         3.,   5.,   3.,   4.,   4.,   5.,   6.,   3.,   4.,  10.,   5.,\n         8.,   5.,   3.,   4.,   9.,   4.,   2.,   2.])), ('Feb', array([ 30.,  11.,   8.,  11.,  10.,  10.,   1.,   8.,   3.,   5.,   5.,\n        11.,   6.,   8.,   3.,   5.,   2.,   5.,  15.,   2.,   3.,   8.,\n         6.,   6.,   5.,   4.,   9.,   6.,  11.,   1.])), ('Mar', array([ 29.,  13.,  25.,   6.,   7.,  11.,   2.,   9.,   9.,   5.,   4.,\n         7.,  12.,   5.,   5.,   8.,   8.,   5.,  13.,   6.,   8.,   3.,\n         7.,   5.,  10.,   5.,   6.,   4.,   3.,   4.])), ('Apr', array([ 39.,  22.,  24.,  23.,  14.,   8.,  20.,   7.,   8.,   3.,   6.,\n         7.,   6.,   6.,   6.,   3.,  15.,   8.,   4.,   1.,   5.,   2.,\n         4.,   7.,   2.,   4.,   6.,   3.,   5.,   0.])), ('May', array([ 15.,  34.,   7.,  11.,   6.,   3.,   6.,  11.,   9.,   3.,   5.,\n         5.,  10.,   1.,   5.,   4.,   2.,   4.,   5.,   5.,   2.,   3.,\n        13.,   9.,   4.,   7.,   5.,   3.,   5.,   0.])), ('Jun', array([ 27.,  27.,  13.,  11.,   8.,   4.,   7.,   4.,   7.,   7.,   4.,\n         9.,   6.,   4.,   6.,   4.,   7.,   9.,   1.,   3.,   2.,  11.,\n         8.,   1.,   4.,   4.,   5.,   1.,   3.,  10.])), ('Jul', array([ 22.,  30.,  24.,   9.,   5.,  10.,   6.,   3.,   5.,   9.,  12.,\n         6.,   4.,   6.,   5.,  10.,   6.,   7.,   1.,   9.,   2.,   6.,\n         0.,   8.,   6.,   2.,   3.,   6.,   5.,   9.])), ('Aug', array([ 12.,  18.,   0.,   4.,  10.,   8.,   4.,   3.,   7.,   7.,  14.,\n         3.,   5.,  10.,   5.,   7.,   6.,   2.,   0.,   8.,  20.,  10.,\n         1.,   5.,   7.,   8.,   3.,   0.,   5.,  12.])), ('Sep', array([ 36.,  29.,  21.,   6.,  13.,  11.,   6.,   6.,   6.,  11.,   5.,\n         6.,   3.,   6.,   4.,   5.,   6.,   5.,   7.,   8.,   2.,   3.,\n         1.,   4.,   5.,   6.,   3.,   3.,  10.,   7.])), ('Oct', array([ 21.,  31.,  12.,  11.,   8.,  11.,   6.,   5.,   9.,   6.,   8.,\n         5.,   4.,   4.,   7.,   4.,   1.,   6.,   9.,   3.,   5.,   7.,\n         6.,   7.,   6.,   6.,   3.,   4.,   4.,   8.])), ('Nov', array([ 18.,  17.,  12.,   5.,  12.,  18.,  12.,   8.,   3.,  10.,   2.,\n         3.,   9.,   4.,  12.,   6.,   5.,   4.,   2.,   8.,   4.,   5.,\n         4.,   3.,   2.,   3.,   4.,  21.,   3.,   3.])), ('Dec', array([ 15.,  14.,  17.,  10.,  11.,  14.,   7.,  11.,   5.,   3.,   6.,\n         9.,   3.,  15.,   9.,  11.,   5.,   7.,   5.,   7.,   1.,   1.,\n         4.,   1.,   7.,   7.,   3.,   4.,   2.,   2.]))])\n</code></pre>\n\n<p>Now I am trying to do the same but for a month. So I have </p>\n\n<pre><code>Days = pivot_table.columns[1:].tolist()\n</code></pre>\n\n<p>this gives </p>\n\n<pre><code>Days\nOut[80]: \n[1L,\n 2L,\n 3L,\n 4L,\n 5L,\n 6L,\n 7L,\n 8L,\n 9L,\n 10L,\n 11L,\n 12L,\n 13L,\n 14L,\n 15L,\n 16L,\n 17L,\n 18L,\n 19L,\n 20L,\n 21L,\n 22L,\n 23L,\n 24L,\n 25L,\n 26L,\n 27L,\n 28L,\n 29L,\n 30L]\n</code></pre>\n\n<p>Then I have </p>\n\n<pre><code>graphdays = [pivot_table[(m)].astype(float).values for m in range(1, len(Days)+1)]\ndays_dict = OrderedDict(list(zip(Days, graphdays)\n</code></pre>\n\n<p>but days_dict looks like this:</p>\n\n<pre><code>days_dict\nOut[73]: \nOrderedDict([(1L, array([ 3.,  0.,  0.,  0.,  0.,  2.,  0.,  1.,  0.,  0.,  2.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  1.,\n        0.,  0.,  0.,  0.])), (2L, array([ 1.,  1.,  0.,  0.,  3.,  1.,  0.,  1.,  1.,  1.,  0.,  1.,  0.,\n        0.,  1.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (3L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (4L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  1.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  2.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (5L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (6L, array([ 1.,  3.,  0.,  0.,  1.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  1.,\n        0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  1.,  0.])), (7L, array([ 2.,  2.,  1.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  4.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  2.,  0.,  0.,  0.,\n        0.,  0.,  2.,  0.])), (8L, array([ 9.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  1.,  1.,  0.,  0.,  1.,  0.,  0.,  1.,  2.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (9L, array([ 1.,  0.,  4.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,\n        0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  3.,  2.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (10L, array([ 2.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,\n        0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  1.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (11L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (12L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (13L, array([ 1.,  0.,  0.,  2.,  1.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  0.,  0.,  0.])), (14L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (15L, array([  0.,   2.,  10.,   1.,   0.,   0.,   1.,   1.,   0.,   1.,   1.,\n         3.,   0.,   2.,   0.,   1.,   0.,   2.,   0.,   0.,   0.,   0.,\n         0.,   0.,   0.,   0.,   0.,   0.,   0.,   0.])), (16L, array([ 0.,  4.,  3.,  0.,  0.,  0.,  5.,  2.,  1.,  0.,  0.,  0.,  3.,\n        1.,  0.,  0.,  1.,  4.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (17L, array([ 0.,  1.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  2.,  1.,  0.,  1.,\n        0.,  0.,  0.,  0.,  0.,  0.,  2.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  0.,  0.,  0.])), (18L, array([ 0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  1.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,\n        0.,  0.,  0.,  0.])), (19L, array([ 4.,  1.,  0.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  1.,  1.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (20L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (21L, array([ 0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (22L, array([ 2.,  1.,  0.,  5.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  2.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  3.,  0.,  0.,  0.,  0.,  2.,\n        0.,  1.,  0.,  0.])), (23L, array([ 2.,  0.,  0.,  0.,  1.,  1.,  1.,  0.,  0.,  0.,  0.,  1.,  0.,\n        0.,  0.,  1.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  3.,  0.,  1.])), (24L, array([ 1.,  0.,  0.,  3.,  1.,  0.,  0.,  0.,  0.,  1.,  1.,  0.,  1.,\n        0.,  1.,  0.,  0.,  0.,  0.,  0.,  3.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  1.,  2.])), (25L, array([ 1.,  4.,  0.,  1.,  0.,  2.,  0.,  0.,  1.,  0.,  1.,  0.,  0.,\n        0.,  0.,  0.,  1.,  0.,  6.,  0.,  0.,  0.,  0.,  0.,  6.,  0.,\n        2.,  0.,  0.,  2.])), (26L, array([ 0.,  1.,  0.,  2.,  1.,  0.,  0.,  0.,  0.,  2.,  0.,  0.,  1.,\n        1.,  0.,  0.,  0.,  0.,  0.,  2.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (27L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  1.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (28L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.])), (29L, array([ 2.,  1.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        1.,  0.,  1.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  1.,\n        0.,  0.,  1.,  0.])), (30L, array([ 0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  1.,  0.,  0.,  0.,  0.,\n        0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,  0.,\n        0.,  1.,  0.,  0.]))])\n</code></pre>\n\n<p>With 'L's in the code. </p>\n\n<p>What are these 'L's? How can I remove them so that this code will work the same as with months_dict?</p>\n"}, {"tags": ["python", "arrays", "numpy", "indexing"], "comments": [{"owner": {"reputation": 1590, "user_id": 2964777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4b12be63bb040043f526170517daa?s=128&d=identicon&r=PG&f=1", "display_name": "koffein", "link": "https://stackoverflow.com/users/2964777/koffein"}, "edited": false, "score": 0, "creation_date": 1436995679, "post_id": 31441415, "comment_id": 50852160, "body": "Could you name your arrays differently? I think <code>x, y</code> and  <code>z</code> are already been used for the inner values of your matrices."}, {"owner": {"reputation": 569, "user_id": 3357979, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/69d38a7b3afce1b70368b8797c8abf27?s=128&d=identicon&r=PG&f=1", "display_name": "user3357979", "link": "https://stackoverflow.com/users/3357979/user3357979"}, "reply_to_user": {"reputation": 1590, "user_id": 2964777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4b12be63bb040043f526170517daa?s=128&d=identicon&r=PG&f=1", "display_name": "koffein", "link": "https://stackoverflow.com/users/2964777/koffein"}, "edited": false, "score": 1, "creation_date": 1436995822, "post_id": 31441415, "comment_id": 50852230, "body": "Sorry about that, has been changed."}], "answers": [{"comments": [{"owner": {"reputation": 1590, "user_id": 2964777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4b12be63bb040043f526170517daa?s=128&d=identicon&r=PG&f=1", "display_name": "koffein", "link": "https://stackoverflow.com/users/2964777/koffein"}, "edited": false, "score": 1, "creation_date": 1436997217, "post_id": 31441700, "comment_id": 50852832, "body": "I get the idea, but I think it does not work, because  <code>==</code> is not made for comparing different shaped arrays in a way <code>where</code> makes use of. In short: Not working for my example..."}], "tags": [], "owner": {"reputation": 590, "user_id": 3854029, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/6kMnx.png?s=128&g=1", "display_name": "rohanp", "link": "https://stackoverflow.com/users/3854029/rohanp"}, "is_accepted": false, "score": 0, "last_activity_date": 1436996639, "creation_date": 1436996639, "answer_id": 31441700, "question_id": 31441415, "link": "https://stackoverflow.com/questions/31441415/numpy-finding-rows-in-array-that-correspond-to-values-in-another-array-python/31441700#31441700", "title": "Numpy finding rows in array that correspond to values in another array python", "body": "<p>I think this should work, or at least get you in the right direction.</p>\n\n<pre><code>idxs = np.where( arr3[:,0] == arr1 )\nanswer = arr3[idxs, :]\n</code></pre>\n\n<p>read about np.where: <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html\" rel=\"nofollow\">http://docs.scipy.org/doc/numpy/reference/generated/numpy.where.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": false, "score": 0, "last_activity_date": 1436997479, "creation_date": 1436997479, "answer_id": 31441889, "question_id": 31441415, "link": "https://stackoverflow.com/questions/31441415/numpy-finding-rows-in-array-that-correspond-to-values-in-another-array-python/31441889#31441889", "title": "Numpy finding rows in array that correspond to values in another array python", "body": "<pre><code>inds = [ where( arr3[:,0] == val)[0] for val in arr1 ]\ninds = [ i[0] for i in inds if i.size ] \nanswer = arr3[inds]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1590, "user_id": 2964777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57d4b12be63bb040043f526170517daa?s=128&d=identicon&r=PG&f=1", "display_name": "koffein", "link": "https://stackoverflow.com/users/2964777/koffein"}, "is_accepted": false, "score": 0, "last_activity_date": 1436998937, "creation_date": 1436998937, "answer_id": 31442240, "question_id": 31441415, "link": "https://stackoverflow.com/questions/31441415/numpy-finding-rows-in-array-that-correspond-to-values-in-another-array-python/31442240#31442240", "title": "Numpy finding rows in array that correspond to values in another array python", "body": "<p>Take the first row (<code>next()</code>), where the first element equals an element <code>e1</code> of <code>arr1</code>. </p>\n\n<pre><code>array([\n    next(row3 for row3 in arr3 if row3[0]==e1)\n      for e1 in arr1])\n</code></pre>\n\n<p>Out:</p>\n\n<pre><code>array([['x', 'd16', 'd17', 'd18'],\n       ['y', 'd1', 'd2', 'd3'],\n       ['z', 'd10', 'd11', 'd12']], \n  dtype='|S3')\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9216, "user_id": 613246, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/09cd8fb3ecae7d982c5bb0e1081dcf69?s=128&d=identicon&r=PG", "display_name": "Eelco Hoogendoorn", "link": "https://stackoverflow.com/users/613246/eelco-hoogendoorn"}, "is_accepted": false, "score": 0, "last_activity_date": 1459624403, "creation_date": 1459624403, "answer_id": 36377650, "question_id": 31441415, "link": "https://stackoverflow.com/questions/31441415/numpy-finding-rows-in-array-that-correspond-to-values-in-another-array-python/36377650#36377650", "title": "Numpy finding rows in array that correspond to values in another array python", "body": "<p>The <a href=\"https://github.com/EelcoHoogendoorn/Numpy_arraysetops_EP\" rel=\"nofollow\">numpy_indexed</a> package (disclaimer: I am its author) has functionality to address this problem efficiently. You can think of it as a vectorized equivalent of list.index. Should be in numpy itself if you ask me; maybe in a future version!</p>\n\n<pre><code>import numpy_indexed as npi\nanswer = arr3[npi.indices(arr3[:,0], arr1)]\n</code></pre>\n"}], "owner": {"reputation": 569, "user_id": 3357979, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/69d38a7b3afce1b70368b8797c8abf27?s=128&d=identicon&r=PG&f=1", "display_name": "user3357979", "link": "https://stackoverflow.com/users/3357979/user3357979"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 212, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1459624403, "creation_date": 1436995496, "last_edit_date": 1436996983, "question_id": 31441415, "link": "https://stackoverflow.com/questions/31441415/numpy-finding-rows-in-array-that-correspond-to-values-in-another-array-python", "title": "Numpy finding rows in array that correspond to values in another array python", "body": "<p>I have the following arrays:</p>\n\n<pre><code>arr1 = np.array(['x','y','z'])\n\narr2 = np.array(['y','a','b','z','c','x'])\n\narr3 = np.array([['y','d1','d2','d3'],\n                 ['a','d4','d5','d6'],\n                 ['b','d7','d8','d9'],\n                 ['z','d10','d11','d12'],\n                 ['c','d13','d14','d15'],\n                 ['x','d16','d17','d18']])\n</code></pre>\n\n<p>and I want to get the following:</p>\n\n<pre><code>answer = np.array([[x,d16,d17,d18],\n                   [y,d1,d2,d3]\n                   [z,d10,d11,d12]])\n</code></pre>\n\n<p>How do I do this??</p>\n"}, {"tags": ["python", "google-app-engine", "python-requests", "urlfetch"], "answers": [{"comments": [{"owner": {"reputation": 2076, "user_id": 2416097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/saeab.png?s=128&g=1", "display_name": "bgenchel", "link": "https://stackoverflow.com/users/2416097/bgenchel"}, "edited": false, "score": 0, "creation_date": 1437000272, "post_id": 31442489, "comment_id": 50854030, "body": "yup, this is it; with better detail than my answer below. THANKS!!"}, {"owner": {"reputation": 2076, "user_id": 2416097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/saeab.png?s=128&g=1", "display_name": "bgenchel", "link": "https://stackoverflow.com/users/2416097/bgenchel"}, "edited": false, "score": 1, "creation_date": 1437066612, "post_id": 31442489, "comment_id": 50887651, "body": "I see; I was securing it so it wasn&#39;t plain text in the server, but I wasn&#39;t thinking about the url send itself. Thanks again."}], "tags": [], "owner": {"reputation": 1404, "user_id": 1911099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11b645e2a98ce0bba4e08feab715d11?s=128&d=identicon&r=PG", "display_name": "asamarin", "link": "https://stackoverflow.com/users/1911099/asamarin"}, "is_accepted": true, "score": 10, "last_activity_date": 1437000565, "last_edit_date": 1495535060, "creation_date": 1437000103, "answer_id": 31442489, "question_id": 31441350, "link": "https://stackoverflow.com/questions/31441350/requests-works-and-urlfetch-doesnt/31442489#31442489", "title": "Requests works and URLFetch doesn&#39;t", "body": "<p>In a nutshell, your problem is that in your <code>urlfetch</code> sample you're embedding your access token into the request body, and since you're issuing a GET request -which cannot carry any request body with them- this information gets discarded.</p>\n\n<p><strong>Why does your first snippet work?</strong></p>\n\n<p>Because <code>requests.get()</code> takes that optional <code>params</code> argument that means: \"take this dictionary I give you, convert all its key/value pairs into a <a href=\"https://en.wikipedia.org/wiki/Query_string\" rel=\"nofollow noreferrer\">query string</a> and append it to the main URL\"</p>\n\n<p>So, behind the curtains, <code>requests.get()</code> is building a string like this:</p>\n\n<p><code>https://api.particle.io/v1/devices?access_token=ACCESS_TOKEN</code></p>\n\n<p>That's the correct endpoint you should point your GET requests to.</p>\n\n<p><strong>Why doesn't your second snippet work?</strong></p>\n\n<p>This time, <code>urlfetch.fetch()</code> uses a different syntax than <code>requests.get()</code> (but equivalent nonetheless). The important bit to note here is that <code>payload</code> argument <strong>doesn't</strong> mean the same as our <code>params</code> argument that you used before in <code>requests.get()</code>. </p>\n\n<p><code>urlfetch.fetch()</code> expects our query string -if any- to be already urlencoded into the URL (that's why <code>urllib.urlencode()</code> comes into play here). On the other hand, <code>payload</code> is where you should put your request body in case you were issuing a POST, PUT or PATCH request, but particle.io's endpoint is not expecting your OAuth access token to be there.</p>\n\n<p>Something like this should work (disclaimer: not tested):</p>\n\n<pre class=\"lang-python prettyprint-override\"><code>auth = {\"access_token\": {ACCESS_TOKEN}}\nurl_params = urllib.urlencode(auth)\nurl = 'https://api.particle.io/v1/devices?%s' % url_params\n\nres = urlfetch.fetch(\n    url=url,\n    method=urlfetch.GET,\n    follow_redirects=False \n)\n</code></pre>\n\n<p>Notice how now we don't need your previous <code>Content-type</code> header anymore, since we aren't carrying any content after all. Hence, <code>headers</code> parameter can be removed from this example call.</p>\n\n<p>For further reference, take a look at <code>urlfetch.fetch()</code> <a href=\"https://cloud.google.com/appengine/docs/python/refdocs/google.appengine.api.urlfetch#google.appengine.api.urlfetch.fetch\" rel=\"nofollow noreferrer\">reference</a> and <a href=\"https://stackoverflow.com/questions/14551194/how-are-parameters-sent-in-an-http-post-request\">this SO thread</a> that will hopefully give you a better insight into HTTP methods, parameters and request bodies than my poor explanation here.</p>\n\n<p><strong>PS:</strong> If particle.io servers support it (they should), you should move away from this authentication schema and carry your tokens in a <code>Authorization: Bearer &lt;access_token&gt;</code> header instead. Carrying access tokens in URLs is not a good idea because they are much more visible that way and tend to stay logged in servers, hence posing a security risk. On the other hand, in a TLS session all request headers are always encrypted so your auth tokens are well hidden there.</p>\n"}, {"tags": [], "owner": {"reputation": 2076, "user_id": 2416097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/saeab.png?s=128&g=1", "display_name": "bgenchel", "link": "https://stackoverflow.com/users/2416097/bgenchel"}, "is_accepted": false, "score": 0, "last_activity_date": 1437000170, "creation_date": 1437000170, "answer_id": 31442504, "question_id": 31441350, "link": "https://stackoverflow.com/questions/31441350/requests-works-and-urlfetch-doesnt/31442504#31442504", "title": "Requests works and URLFetch doesn&#39;t", "body": "<p>Ok, so, as it turns out, one cannot include a payload for a GET request using Urlfetch. Instead, one has to include the parameters in the url using the '?' syntax as follows: </p>\n\n<pre><code>url = 'https://api.particle.io/v1/devices'\nurl = url + '?access_token=' + {ACCESS_TOKEN}\nres = urlfetch.fetch(\n    url=url,\n    method=urlfetch.GET,\n    follow_redirects=False \n)\n</code></pre>\n\n<p>this worked for me.</p>\n"}], "owner": {"reputation": 2076, "user_id": 2416097, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/saeab.png?s=128&g=1", "display_name": "bgenchel", "link": "https://stackoverflow.com/users/2416097/bgenchel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2089, "favorite_count": 0, "accepted_answer_id": 31442489, "answer_count": 2, "score": 2, "last_activity_date": 1437000565, "creation_date": 1436995229, "question_id": 31441350, "link": "https://stackoverflow.com/questions/31441350/requests-works-and-urlfetch-doesnt", "title": "Requests works and URLFetch doesn&#39;t", "body": "<p>I'm trying to make a request to the particle servers in python in a google app engine app. </p>\n\n<p>In my terminal, I can complete the request simply and successfully with requests as: </p>\n\n<pre><code>res = requests.get('https://api.particle.io/v1/devices', params={\"access_token\": {ACCESS_TOKEN}})\n</code></pre>\n\n<p>But in my app, the same thing doesn't work with urlfetch, which keeps telling me it can't find the access token: </p>\n\n<pre><code>    url = 'https://api.particle.io/v1/devices'\n    payload = {\"access_token\": {ACCESS_TOKEN}}\n    form_data = urllib.urlencode(payload)\n    res = urlfetch.fetch(\n        url=url,\n        payload=form_data,\n        method=urlfetch.GET,\n        headers={\n            'Content-Type':\n            'application/x-www-form-urlencoded'\n        },\n        follow_redirects=False \n    )\n</code></pre>\n\n<p>I have no idea what the problem is, and no way to debug. Thanks!</p>\n"}, {"tags": ["java", "android", "python", "android-studio", "admob"], "answers": [{"comments": [{"owner": {"reputation": 681, "user_id": 4391671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dde20277e88d335edf7b8176b1f511?s=128&d=identicon&r=PG&f=1", "display_name": "Aiman Al-Eryani", "link": "https://stackoverflow.com/users/4391671/aiman-al-eryani"}, "edited": false, "score": 0, "creation_date": 1441343036, "post_id": 31441510, "comment_id": 52649721, "body": "I am afraid I didn&#39;t succeed. PGS4A is quite lacking compared to others, so I didn&#39;t use it, and I wouldn&#39;t recommend it to anyone for the time being. Since my application was simple, I just ended up redoing it on Java Android Studio.Thank you very much for taking your time to reply though!"}, {"owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "reply_to_user": {"reputation": 681, "user_id": 4391671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dde20277e88d335edf7b8176b1f511?s=128&d=identicon&r=PG&f=1", "display_name": "Aiman Al-Eryani", "link": "https://stackoverflow.com/users/4391671/aiman-al-eryani"}, "edited": false, "score": 0, "creation_date": 1441382471, "post_id": 31441510, "comment_id": 52672679, "body": "Ow, don&#39;t say that! I used PGS4A for one very complicated project and it proved as excellent! The thing is, whether you know pygame, and few other tricks, and everything works nice and cool. Did you try Pyjnius? Did you try PGU (pygame GUI utilities)?"}], "tags": [], "owner": {"reputation": 3660, "user_id": 2247264, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/a645fe19c42263286b982aaa633b96a9?s=128&d=identicon&r=PG", "display_name": "Dalen", "link": "https://stackoverflow.com/users/2247264/dalen"}, "is_accepted": false, "score": 0, "last_activity_date": 1436995912, "creation_date": 1436995912, "answer_id": 31441510, "question_id": 31441307, "link": "https://stackoverflow.com/questions/31441307/admob-ads-with-python-subset-for-android-pgs4a/31441510#31441510", "title": "Admob Ads with Python Subset For Android (PGS4A)", "body": "<p>To access Java already implemented version you can use pyjnius. I tried to use it for something else and I didn't succeed. Well, I yielded pretty quickly  because it wasn't necessary for my project.</p>\n\n<p>Otherwise, I am afraid, you will have to implement it yourself from scratch.\nI never heard about a finished solution for your problem.</p>\n\n<p>If you succeeded to use PGU, it wouldn't be so hard.\nIf not, well, I wish you luck, and put your solution online for others.</p>\n\n<p>There is an Eclipse plug-in for Python. I think that Android studio does not support PGS4A. Never needed it. Console is the queen.</p>\n"}], "owner": {"reputation": 681, "user_id": 4391671, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13dde20277e88d335edf7b8176b1f511?s=128&d=identicon&r=PG&f=1", "display_name": "Aiman Al-Eryani", "link": "https://stackoverflow.com/users/4391671/aiman-al-eryani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436995912, "creation_date": 1436995083, "question_id": 31441307, "link": "https://stackoverflow.com/questions/31441307/admob-ads-with-python-subset-for-android-pgs4a", "title": "Admob Ads with Python Subset For Android (PGS4A)", "body": "<p>I'd like to have advertisements in an android App I've written and built using PGS4A. I've done my research and all, but there doesn't seem to be any online resources that explains how to do that just yet. I haven't much knowledge on Java either, which is clearly why I've written that in Python. Has anyone found a way to achieve that? If not, how difficult would it be to convert the project files into an Android Studio (or even an Eclipse) project? (so then one can just implement the ads following the Java Admob documentation found everywhere)</p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["python", "list", "properties", "decorator", "member"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1436995266, "post_id": 31441303, "comment_id": 50851966, "body": "you would probably need to make a new addresslist class"}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436995574, "post_id": 31441303, "comment_id": 50852106, "body": "You can&#39;t; whatever <code>object.address_list</code> returns needs to support the <code>append()</code> method."}, {"owner": {"reputation": 647, "user_id": 1486262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6f966ed16d86f9c752cf894ad9f8e254?s=128&d=identicon&r=PG", "display_name": "watersnake", "link": "https://stackoverflow.com/users/1486262/watersnake"}, "edited": false, "score": 0, "creation_date": 1436996962, "post_id": 31441303, "comment_id": 50852703, "body": "address_list returns a regular python <code>list</code>"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1436997080, "post_id": 31441303, "comment_id": 50852768, "body": "ergo whatever you give append will get appended ... in order to do what you want you <b>must</b> create a new class that handles append differently"}], "answers": [{"tags": [], "owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "is_accepted": false, "score": 2, "last_activity_date": 1436996944, "last_edit_date": 1495539829, "creation_date": 1436996944, "answer_id": 31441760, "question_id": 31441303, "link": "https://stackoverflow.com/questions/31441303/writing-a-setting-method-for/31441760#31441760", "title": "Writing a setting method for", "body": "<p>you would need to create a new AddressList class to handle this. something like </p>\n\n<pre><code>class Wrapper(object):\n    \"\"\"Wrapper class that provides proxy access to an instance of some\n       internal instance.\"\"\"\n    __wraps__  = None\n    __ignore__ = \"class mro new init setattr getattr getattribute\"\n    def __init__(self, obj):\n        if self.__wraps__ is None:\n            raise TypeError(\"base class Wrapper may not be instantiated\")\n        elif isinstance(obj, self.__wraps__):\n            self._obj = obj\n        else:\n            raise ValueError(\"wrapped object must be of %s\" % self.__wraps__)\n    # provide proxy access to regular attributes of wrapped object\n    def __getattr__(self, name):\n        return getattr(self._obj, name)\n\n    # create proxies for wrapped object's double-underscore attributes\n    class __metaclass__(type):\n        def __init__(cls, name, bases, dct):\n            def make_proxy(name):\n                def proxy(self, *args):\n                    return getattr(self._obj, name)\n                return proxy\n            type.__init__(cls, name, bases, dct)\n            if cls.__wraps__:\n                ignore = set(\"__%s__\" % n for n in cls.__ignore__.split())\n                for name in dir(cls.__wraps__):\n                    if name.startswith(\"__\"):\n                        if name not in ignore and name not in dct:\n                            setattr(cls, name, property(make_proxy(name)))\n\n\n\n\nclass AddressList(Wrapper):\n    __wraps__=list\n    def append(self,x):\n        if 0 &lt;= x &lt;= 127:\n            self._obj.append(x)\n        else:\n            raise ValueError(\"Cannot append %r\"%x)\n\n\nclass MyContainer:\n    def __init__(self):\n        self.address_list = AddressList([])\n\n\nx = MyContainer()\nx.address_list.append(1)\nx.address_list.append(7)\nx.address_list.append(-1)\n\nprint x.address_list\n</code></pre>\n\n<p><strong>*note that this answer borrows heavily from <a href=\"https://stackoverflow.com/a/9059858/541038\">https://stackoverflow.com/a/9059858/541038</a> *</strong></p>\n"}], "owner": {"reputation": 647, "user_id": 1486262, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6f966ed16d86f9c752cf894ad9f8e254?s=128&d=identicon&r=PG", "display_name": "watersnake", "link": "https://stackoverflow.com/users/1486262/watersnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1436997021, "creation_date": 1436995069, "last_edit_date": 1436997021, "question_id": 31441303, "link": "https://stackoverflow.com/questions/31441303/writing-a-setting-method-for", "title": "Writing a setting method for", "body": "<p>In a class I am writing, one of the member properties is a list:</p>\n\n<pre><code>@property\ndef address_list(self):\n    return self._address_list\n\n@address_list.setter\ndef address_list(self, addr_list):\n    if type(addr_list) is not list:\n        return\n    self._address_list = addr_list\n</code></pre>\n\n<p>I want to be able to write a property so if someone wanted to append something onto the list, it would call something like another setter function, but for adding onto the list:</p>\n\n<pre><code>Object.address_list.append(value)\n</code></pre>\n\n<p>would call something like</p>\n\n<pre><code>@property.appender # I made this line up\ndef address_list.append(self, value):\n    if value &gt;= 0 and value &lt;= 127:\n        self._address_list.append(value)\n</code></pre>\n\n<p>so I could safely append values to my private list. Is something like this possible without having to create a new type of list object? </p>\n\n<p>EDIT: Address list returns a standard python <code>list</code></p>\n"}, {"tags": ["python", "web.py"], "owner": {"reputation": 77588, "user_id": 32914, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/50facfccdffe2e9cabaa589205959d30?s=128&d=identicon&r=PG", "display_name": "Mason Wheeler", "link": "https://stackoverflow.com/users/32914/mason-wheeler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1436995054, "creation_date": 1436995054, "question_id": 31441298, "link": "https://stackoverflow.com/questions/31441298/how-to-farm-possibly-unstable-code-out-to-a-separate-process", "title": "How to farm possibly unstable code out to a separate process?", "body": "<p>I've got a web.py server that has a problem: it's supposed to take input from the user and process it.  Some of this processing takes place in a <code>.pyd</code> that I didn't write and I can't debug or rebuild, and it has some bugs.  There are certain inputs that can cause it to throw an Access Violation, which for some reason cannot be caught and causes <code>python.exe</code> to crash, bringing down the server.</p>\n\n<p>This is unacceptable, but also unavoidable, so I need to change the rules a little.</p>\n\n<p>What I'd like to do is to move the unstable functionality, the interface to which is already cleanly contained in a single .py file, out of the server and have the server launch it as a separate process.  If it works successfully, it should print the output, which (conveniently enough) is a text string.  If not, the server should detect that the separate process crashed, and return <code>HTTP 500</code>.  Unfortunately, I don't know how to do multi-process work in Python.</p>\n\n<p>How would I implement this?</p>\n"}, {"tags": ["python", "matplotlib", "ipython-notebook"], "answers": [{"tags": [], "owner": {"reputation": 705380, "user_id": 190597, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/aabc98d5c6482ca0e1405ec97710f30a?s=128&d=identicon&r=PG&f=1", "display_name": "unutbu", "link": "https://stackoverflow.com/users/190597/unutbu"}, "is_accepted": true, "score": 11, "last_activity_date": 1436998281, "last_edit_date": 1436998281, "creation_date": 1436997568, "answer_id": 31441909, "question_id": 31441247, "link": "https://stackoverflow.com/questions/31441247/how-to-keep-the-current-figure-when-using-ipython-notebook-with-matplotlib-inli/31441909#31441909", "title": "How to keep the current figure when using ipython notebook with %matplotlib inline?", "body": "<p>Use <code>ax.plot</code> instead of <code>plt.plot</code> to make sure you are plotting to the same axes both times. Use <code>fig</code> (in the second cell) to display  the plot.</p>\n\n<p>In cell 1:</p>\n\n<pre><code>%matplotlib inline\nimport matplotlib.pyplot as plt\nfig, ax = plt.subplots()\nax.plot([1,2,3,6],[4,2,3,4])\n</code></pre>\n\n<p>In cell 2:</p>\n\n<pre><code>ax.plot([3.3, 4.4, 4.5, 6.5], [3., 5., 6., 7.])\nfig \n</code></pre>\n\n<p>yields</p>\n\n<p><img src=\"https://i.stack.imgur.com/n2x3o.png\" width=\"400\"></p>\n"}], "owner": {"reputation": 131, "user_id": 4269285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f19613883795e77ddc70f998108e5e8e?s=128&d=identicon&r=PG&f=1", "display_name": "user26767", "link": "https://stackoverflow.com/users/4269285/user26767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4231, "favorite_count": 2, "accepted_answer_id": 31441909, "answer_count": 1, "score": 4, "last_activity_date": 1436998281, "creation_date": 1436994857, "last_edit_date": 1436996054, "question_id": 31441247, "link": "https://stackoverflow.com/questions/31441247/how-to-keep-the-current-figure-when-using-ipython-notebook-with-matplotlib-inli", "title": "How to keep the current figure when using ipython notebook with %matplotlib inline?", "body": "<p>I could not find answer for this, so please let me ask here.</p>\n\n<p>I would like to keep the current figure in ipython notebook when using <code>%matplotlib inline</code>. Is that possible?</p>\n\n<p>For example, I want to plot 2 lines in a graph</p>\n\n<pre><code>plt.plot([1,2,3,6],[4,2,3,4])\n\nplt.plot([3.3, 4.4, 4.5, 6.5], [3., 5., 6., 7.])\n</code></pre>\n\n<p>If I put those two command lines in a cell it is ok. The graph shows two lines. However, if I put them separately into two cells, when the second cell (plt.plot([3.3, 4.4, 4.5, 6.5], [3., 5., 6., 7.])) is executed, the previous plot(plt.plot([1,2,3,6],[4,2,3,4])) is cleared. I want to plot a graph with the line for the first cell and a graph with the two lines for the second cell.</p>\n\n<p>I looked up the <a href=\"http://www2.mpia-hd.mpg.de/~robitaille/PY4SCI_SS_2014/_static/11.%20Introduction%20to%20Matplotlib.html\" rel=\"nofollow\">website</a>\nIt explicitly clears the plot  by </p>\n\n<pre><code>plt.cla()  # clear existing plot\n</code></pre>\n\n<p>but it is bit confusing, since it automatically clears anyway.</p>\n\n<p>Is there any command to not clear (or keep) the previous plot like \"hold on\" in Matlab?</p>\n"}, {"tags": ["python", "algebraixlib"], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 5125544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Lx7A.jpg?s=128&g=1", "display_name": "wesholler", "link": "https://stackoverflow.com/users/5125544/wesholler"}, "is_accepted": true, "score": 1, "last_activity_date": 1437520164, "creation_date": 1437520164, "answer_id": 31551184, "question_id": 31441176, "link": "https://stackoverflow.com/questions/31441176/unable-to-ingest-csv-data-into-algebraixlib/31551184#31551184", "title": "unable to ingest csv data into algebraixlib", "body": "<p>First you need to import the <code>import_csv</code> function from the <code>csv</code> module, then you can slurp the CSV file in as a <code>MathObject</code> in one line of code.</p>\n\n\n\n<pre class=\"lang-py prettyprint-override\"><code>from algebraixlib.io.csv import import_csv\ncsv_as_clan = import_csv(file_path_or_file_object)\n</code></pre>\n\n<p>Take a look at <a href=\"https://github.com/AlgebraixData/algebraixlib/blob/master/examples/hello_world.py\" rel=\"nofollow\">https://github.com/AlgebraixData/algebraixlib/blob/master/examples/hello_world.py</a> and notice how lines 181-182 are importing the python module using the <code>import</code> keyword. <code>import_csv</code> is the function that actually takes a file as an argument and returns a valid <code>MathObject</code>.</p>\n"}], "owner": {"reputation": 19230, "user_id": 680578, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/BK341.jpg?s=128&g=1", "display_name": "Kristian", "link": "https://stackoverflow.com/users/680578/kristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 31551184, "answer_count": 1, "score": 0, "last_activity_date": 1437520164, "creation_date": 1436994645, "question_id": 31441176, "link": "https://stackoverflow.com/questions/31441176/unable-to-ingest-csv-data-into-algebraixlib", "title": "unable to ingest csv data into algebraixlib", "body": "<p>I'm playing with the hello world example of the algebraixlib and i'm getting a funky error when trying to import sample data</p>\n\n<pre><code>import import_csv from sampleData.csv\nclan = import_csv(file)\n</code></pre>\n\n<p>what am I doing wrong here?</p>\n"}, {"tags": ["python", "api", "python-2.7", "http-post", "python-requests"], "comments": [{"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436994656, "post_id": 31441130, "comment_id": 50851648, "body": "I get a 200 response for that exact code."}, {"owner": {"reputation": 4069, "user_id": 3413239, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hM6rq.jpg?s=128&g=1", "display_name": "pg2455", "link": "https://stackoverflow.com/users/3413239/pg2455"}, "reply_to_user": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "edited": false, "score": 0, "creation_date": 1436997471, "post_id": 31441130, "comment_id": 50852937, "body": "amazing... it was not working earlier for me. Now it works fine!! I am so doomed!"}], "answers": [{"tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": true, "score": 6, "last_activity_date": 1436995024, "last_edit_date": 1436995024, "creation_date": 1436994719, "answer_id": 31441198, "question_id": 31441130, "link": "https://stackoverflow.com/questions/31441130/post-request-with-form-data-using-pythons-request/31441198#31441198", "title": "POST request with form data using Python&#39;s request", "body": "<p>You are doing it exactly right; sending a <code>POST</code> request with a <code>text</code> parameter gives me a 200 response with JSON body:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; url = 'http://text-processing.com/api/phrases/'\n&gt;&gt;&gt; params = {'text': 'This is California.'}\n&gt;&gt;&gt; r = requests.post(url, data=params)\n&gt;&gt;&gt; r\n&lt;Response [200]&gt;\n&gt;&gt;&gt; r.json()\n{u'NP': [u'California', u'This'], u'GPE': [u'California'], u'VP': [u'is'], u'LOCATION': [u'California']}\n</code></pre>\n\n<p>If you get a 400 response instead you are sending too much data or an empty value:</p>\n\n<blockquote>\n  <h2>Errors</h2>\n  \n  <p>A 400 Bad Request response will be returned under the following conditions:</p>\n  \n  <ul>\n  <li>no value for text is provided</li>\n  <li>text exceeds 1,000 characters</li>\n  <li>an incorrect language is specified</li>\n  </ul>\n</blockquote>\n\n<p><code>language</code> can be <code>english</code>, <code>dutch</code>, <code>portuguese</code> or <code>spanish</code>, but defaults to <code>english</code> if you don't include it. If you do include it in your request you can also get a 400 error if you don't set it to one of those 4 supported values.</p>\n"}], "owner": {"reputation": 4069, "user_id": 3413239, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/hM6rq.jpg?s=128&g=1", "display_name": "pg2455", "link": "https://stackoverflow.com/users/3413239/pg2455"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21080, "favorite_count": 1, "accepted_answer_id": 31441198, "answer_count": 1, "score": 4, "last_activity_date": 1436995024, "creation_date": 1436994479, "last_edit_date": 1436994593, "question_id": 31441130, "link": "https://stackoverflow.com/questions/31441130/post-request-with-form-data-using-pythons-request", "title": "POST request with form data using Python&#39;s request", "body": "<p>I am trying to query this API from within Python. It seems to respond with 400 code. Can some one tell me how should this API be queried?</p>\n\n<p>This API is documented at <a href=\"http://text-processing.com/docs/phrases.html\" rel=\"nofollow\">http://text-processing.com/docs/phrases.html</a></p>\n\n<pre><code>import requests\nr = requests.post('http://text-processing.com/api/phrases/',\n                  data= {'text':'This is California.'})\n</code></pre>\n\n<p>I guess I am misunderstanding the way that data should be posted here. </p>\n"}, {"tags": ["python", "list", "matrix"], "comments": [{"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "edited": false, "score": 0, "creation_date": 1436994413, "post_id": 31441089, "comment_id": 50851515, "body": "What do you want it to do?"}, {"owner": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "reply_to_user": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "edited": false, "score": 0, "creation_date": 1436994698, "post_id": 31441089, "comment_id": 50851671, "body": "I just edited my question. See if you have found what you  wanted to know."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "edited": false, "score": 0, "creation_date": 1437025089, "post_id": 31441344, "comment_id": 50860841, "body": "Your code works fine. But I wanted to give user-defined input and then store all equation in a list. Can you help me with putting value in a list after receiving input."}], "tags": [], "owner": {"reputation": 5935, "user_id": 893324, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3b24d4de5ae7afebfee98aa85e8a960e?s=128&d=identicon&r=PG", "display_name": "Brien", "link": "https://stackoverflow.com/users/893324/brien"}, "is_accepted": false, "score": 0, "last_activity_date": 1436995209, "creation_date": 1436995209, "answer_id": 31441344, "question_id": 31441089, "link": "https://stackoverflow.com/questions/31441089/how-to-take-input-for-multidimentional-python-list/31441344#31441344", "title": "how to take input for multidimentional python list", "body": "<p>This is a very simple regular expression that will get you started with obtaining the values from your equations:</p>\n\n<pre><code>&gt;&gt;&gt; import re\n&gt;&gt;&gt; def getvalues(eqn):\n    return [1 if digit == '' else int(digit) for digit in re.match(r'(\\d*)x\\+(\\d*)y=(\\d*)',eqn).groups()]\n\n&gt;&gt;&gt; getvalues('x+2y=3')\n[1, 2, 3]\n&gt;&gt;&gt; getvalues('4x+5y=6')\n[4, 5, 6]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "edited": false, "score": 0, "creation_date": 1437025185, "post_id": 31441367, "comment_id": 50860877, "body": "Then how should I do it? Do you have any suggestion?"}, {"owner": {"reputation": 242, "user_id": 3841901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72986a963d1d0a8c77a1fb929e11cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Lear", "link": "https://stackoverflow.com/users/3841901/martin-lear"}, "reply_to_user": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "edited": false, "score": 0, "creation_date": 1437073027, "post_id": 31441367, "comment_id": 50891219, "body": "I still am not quite sure what you are trying to accomplish unfortunately.  I was just pointing out that in your code you were reassigning your list, and I didn&#39;t think you had intended to do that."}, {"owner": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "edited": false, "score": 0, "creation_date": 1437129482, "post_id": 31441367, "comment_id": 50912944, "body": "@Martin_Lear,  I wanted i number sublist of eqn to be copied to co_eff so that i could get i number sublist of eqn by iteration. is there any other way to print every character of this nested list by a loop."}], "tags": [], "owner": {"reputation": 242, "user_id": 3841901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f72986a963d1d0a8c77a1fb929e11cfe?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Lear", "link": "https://stackoverflow.com/users/3841901/martin-lear"}, "is_accepted": false, "score": 0, "last_activity_date": 1436995289, "creation_date": 1436995289, "answer_id": 31441367, "question_id": 31441089, "link": "https://stackoverflow.com/questions/31441089/how-to-take-input-for-multidimentional-python-list/31441367#31441367", "title": "how to take input for multidimentional python list", "body": "<p>this is resetting your co_eff list through every for iteration to whatever eqn[i] is equal to for that iteration:</p>\n\n<pre><code>for i in range(eqn_no):\n    co_eff=eqn[i] #takes the i number equation's co-efficient\n    for j in range(eqn_no):\n        print co_eff[j]\n    print x_val[i]\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 5070762, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10204695681054749/picture?type=large", "display_name": "Ahashan Alam Sojib", "link": "https://stackoverflow.com/users/5070762/ahashan-alam-sojib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436995289, "creation_date": 1436994357, "last_edit_date": 1436994631, "question_id": 31441089, "link": "https://stackoverflow.com/questions/31441089/how-to-take-input-for-multidimentional-python-list", "title": "how to take input for multidimentional python list", "body": "<pre><code>#this code take input of three equation like matrix and print them\neqn_no = int(raw_input(\"Enter Equation no: -&gt;\"))\neqn=[] #main variable to hold data like [[1,2,3],[4,5,6]]\nco_eff=[] #secondary variable to temporarily hold data like[1,2]\nx_val=[] #hold the last term of eqn like[3,6]\nfor i in range(eqn_no):\n    for j in range(eqn_no):\n         co_eff.append(float(raw_input(\"Enter Co eff of a%d %d term: \" %((i+1),(j+1))))) #append co-efficients piece by piece\n    x_val.append(float(raw_input(\"Enter Co eff of b%d term: \" %((i+1))))) #append last term of the equation\n    eqn.append(co_eff) #appends the the equation\nfor i in range(eqn_no):\n    co_eff=eqn[i] #takes the i number equation's co-efficient\n    for j in range(eqn_no):\n        print co_eff[j]\n    print x_val[i]\n</code></pre>\n\n<p>This codes takes input perfectly but doesn't print correctly.\nIt only shows eqn[0] but outputs x_value OK. Can't find out what is the problem. I need to learn output like this because I have to access the values of the list.\nFor example if two equations are like x+2y=3,4x+5y=6\nthen I want to output like\n1   2   3\n4   5   6\nand I also want a way to access every item of eqn[] one by one(by a loop). </p>\n"}, {"tags": ["python", "openxml", "python-docx"], "answers": [{"tags": [], "owner": {"reputation": 1139, "user_id": 5295415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0be0a6805b21a6df6136c987fdc89f83?s=128&d=identicon&r=PG&f=1", "display_name": "Yaron", "link": "https://stackoverflow.com/users/5295415/yaron"}, "is_accepted": false, "score": 1, "last_activity_date": 1493924490, "creation_date": 1493924490, "answer_id": 43790857, "question_id": 31441064, "link": "https://stackoverflow.com/questions/31441064/reading-a-header-from-a-docx-word-file-in-python-docx/43790857#43790857", "title": "Reading a header from a .docx (Word) file in Python docx", "body": "<p>I had the same problem.\nI used instead of the \"python-docx\" package a newer version called python-docx2txt\n(<a href=\"https://github.com/ankushshah89/python-docx2txt\" rel=\"nofollow noreferrer\">https://github.com/ankushshah89/python-docx2txt</a>) which extract the text with the headers in one line.</p>\n"}], "owner": {"reputation": 346, "user_id": 2391980, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e1dad7ee213f20c9aab170b81e5db712?s=128&d=identicon&r=PG", "display_name": "Bennet Leff", "link": "https://stackoverflow.com/users/2391980/bennet-leff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1493924490, "creation_date": 1436994251, "question_id": 31441064, "link": "https://stackoverflow.com/questions/31441064/reading-a-header-from-a-docx-word-file-in-python-docx", "title": "Reading a header from a .docx (Word) file in Python docx", "body": "<p>I'm parsing docx files using the library <a href=\"https://github.com/python-openxml/python-docx\" rel=\"nofollow\">python-docx</a>. I need to read the header of documents as well as paragraphs however I can't find anything about document headers in their documentation. There is documentation on writing a header to a new file but none on reading a header. Is there a way to do this?</p>\n"}, {"tags": ["python", "csv", "syntax"], "comments": [{"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 1, "creation_date": 1436994575, "post_id": 31440988, "comment_id": 50851605, "body": "Assuming you have an a <code>csv.Writer</code> instance, do <code>writer.writerows(list((output2).difference(output1)))</code>."}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1436994858, "post_id": 31440988, "comment_id": 50851768, "body": "Your question boils down to &quot;How do I write a set of tuples to csv?&quot;.  Pretty much all the code you posted is irrelevant to the question."}], "answers": [{"comments": [{"owner": {"reputation": 225, "user_id": 5076287, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/469550776df452ef5c925b8c68203fae?s=128&d=identicon&r=PG&f=1", "display_name": "Michal K", "link": "https://stackoverflow.com/users/5076287/michal-k"}, "edited": false, "score": 0, "creation_date": 1436995942, "post_id": 31441427, "comment_id": 50852282, "body": "Thanks Dan would want to output all the rows hence would be after writerows. Will give it a go. Cheers"}, {"owner": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1436995977, "post_id": 31441427, "comment_id": 50852292, "body": "<code>[tuple((output2).difference(output1))]</code> produces a list of tuples of tuples.  Change it to <code>for line in output2.difference(output1)</code>."}, {"owner": {"reputation": 2065, "user_id": 3195451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9f1955e912e631e239d4389e54c9cc47?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3195451/daniel"}, "reply_to_user": {"reputation": 39811, "user_id": 1322401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/JlaPg.jpg?s=128&g=1", "display_name": "Steven Rumbalski", "link": "https://stackoverflow.com/users/1322401/steven-rumbalski"}, "edited": false, "score": 0, "creation_date": 1436996649, "post_id": 31441427, "comment_id": 50852589, "body": "Yup, that&#39;s correct.  Thanks for the tip @StevenRumbalski"}, {"owner": {"reputation": 2065, "user_id": 3195451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9f1955e912e631e239d4389e54c9cc47?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3195451/daniel"}, "reply_to_user": {"reputation": 225, "user_id": 5076287, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/469550776df452ef5c925b8c68203fae?s=128&d=identicon&r=PG&f=1", "display_name": "Michal K", "link": "https://stackoverflow.com/users/5076287/michal-k"}, "edited": false, "score": 0, "creation_date": 1436997070, "post_id": 31441427, "comment_id": 50852758, "body": "@MichalK try the code as it&#39;s written to solve your issue; edited per Steven&#39;s tip.  Feel free to comment if you encounter any roadblocks."}, {"owner": {"reputation": 225, "user_id": 5076287, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/469550776df452ef5c925b8c68203fae?s=128&d=identicon&r=PG&f=1", "display_name": "Michal K", "link": "https://stackoverflow.com/users/5076287/michal-k"}, "edited": false, "score": 0, "creation_date": 1436998859, "post_id": 31441427, "comment_id": 50853511, "body": "Works our pretty well . Thanks to both of you."}], "tags": [], "owner": {"reputation": 2065, "user_id": 3195451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9f1955e912e631e239d4389e54c9cc47?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3195451/daniel"}, "is_accepted": true, "score": 1, "last_activity_date": 1436996733, "last_edit_date": 1436996733, "creation_date": 1436995549, "answer_id": 31441427, "question_id": 31440988, "link": "https://stackoverflow.com/questions/31440988/python-how-to-write-a-set-of-tuples-to-csv/31441427#31441427", "title": "Python how to write a set of tuples to csv", "body": "<p>This should do the trick.  You want the <code>writerow</code> or <code>writerows</code> method, re.: the <code>csv</code> module.  Here it is with <code>writerow</code>:    </p>\n\n<pre><code>import csv\n\nf1 = open (\"ted.csv\")\noldFile1 = csv.reader(f1, delimiter=',')\noldList1 = list(oldFile1)\n\nf2 = open (\"ted2.csv\")\nnewFile2 = csv.reader(f2, delimiter=',')\nnewList2 = list(newFile2)\n\nf1.close()\nf2.close()\n\noutput1 = set(tuple(row) for row in newList2 if row not in oldList1)\noutput2 = set(tuple(row) for row in oldList1 if row not in newList2)\n\nwith open('Michal_K.csv','w') as csvfile:\n        wr = csv.writer(csvfile,delimiter=',')\n        for line in (output2).difference(output1):\n            wr.writerow(line)\n</code></pre>\n"}], "owner": {"reputation": 225, "user_id": 5076287, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/469550776df452ef5c925b8c68203fae?s=128&d=identicon&r=PG&f=1", "display_name": "Michal K", "link": "https://stackoverflow.com/users/5076287/michal-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2615, "favorite_count": 0, "accepted_answer_id": 31441427, "answer_count": 1, "score": 1, "last_activity_date": 1436996733, "creation_date": 1436993991, "last_edit_date": 1436995011, "question_id": 31440988, "link": "https://stackoverflow.com/questions/31440988/python-how-to-write-a-set-of-tuples-to-csv", "title": "Python how to write a set of tuples to csv", "body": "<p>Hi total Newb here and trying to get a mastery of working with lists, sets and tuples. How can I convert the following code into a csv file. </p>\n\n<pre><code>print((output2).difference(output1))\n</code></pre>\n\n<p>The full code is found below.</p>\n\n<pre><code>import csv\n\nf1 = open (\"ted.csv\")\noldFile1 = csv.reader(f1, delimiter=',')\noldList1 = list(oldFile1)\n\nf2 = open (\"ted2.csv\")\nnewFile2 = csv.reader(f2, delimiter=',')\nnewList2 = list(newFile2)\n\nf1.close()\nf2.close()\n\noutput1 = set(tuple(row) for row in newList2 if row not in oldList1)\noutput2 = set(tuple(row) for row in oldList1 if row not in newList2)\n\n\nprint((output2).difference(output1))\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["python", "matrix", "scikit-learn", "scikit-image", "imread"], "answers": [{"comments": [{"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1436995519, "post_id": 31441363, "comment_id": 50852080, "body": "Thanks Dermen, I&#39;m gonna try right now and let you know about it."}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1436995725, "post_id": 31441363, "comment_id": 50852183, "body": "Actually, if you want to save one image file as 1 matrix, the code will be like this: arr = imread(&#39;/path/to/image&#39;) arr = np.array(arr) sio.savemat (&#39;R.mat&#39;, {R : arr}) I&#39;m sorry I&#39;m new in python, so in this case how can we implement it?"}, {"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "reply_to_user": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 1, "creation_date": 1436996076, "post_id": 31441363, "comment_id": 50852330, "body": "so then you will use this file in matlab ? In which case, after you load the R.mat file you will obtain the R object (in matlab) which is the image?"}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1436996218, "post_id": 31441363, "comment_id": 50852389, "body": "Actually I won&#39;t use it in matlab. But sometimes I need to check the matrix file. I use Matlab for this issue. And I also know how to load the &#39;.mat&#39; files back."}, {"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "reply_to_user": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 1, "creation_date": 1436996560, "post_id": 31441363, "comment_id": 50852541, "body": "I added a little bit of code. Any reason why you want one file per img ? It seems you can save imgs in the same file"}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1436996751, "post_id": 31441363, "comment_id": 50852626, "body": "Thank you dermen, but I actually need one mat file for each image."}, {"owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "reply_to_user": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 1, "creation_date": 1436997031, "post_id": 31441363, "comment_id": 50852737, "body": "sounds good, btw, not sure who downvoted you, but I would suggest you elaborate on what you mean by <code>matrix</code> or <code>.mat</code> file. In python there is a <code>matrix</code> object which is similar to a <code>np.array</code>. It seems you are actually saving the images as <code>np.arrays</code>."}], "tags": [], "owner": {"reputation": 4079, "user_id": 2077270, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/6z5gq.jpg?s=128&g=1", "display_name": "dermen", "link": "https://stackoverflow.com/users/2077270/dermen"}, "is_accepted": false, "score": 2, "last_activity_date": 1436996518, "last_edit_date": 1436996518, "creation_date": 1436995276, "answer_id": 31441363, "question_id": 31440935, "link": "https://stackoverflow.com/questions/31440935/reading-all-the-images-in-a-directory-and-saving-as-mat-file-matrixes-into-an/31441363#31441363", "title": "reading all the images in a directory and saving as (.mat file matrixes) into another directory", "body": "<p>What is a matrix file ? Is it binary, or ascii ? I assume you have a function for saving and loading. Call this function <code>img2mat</code>, and assume it takes an input img file name and an output matrix file name. Below I am using the <code>os</code> module, which is a tool for interacting with the operating system. I would do something like</p>\n\n<pre><code>import os\n\nimport scipy.io as sio\nimport scipy\n\ndef img2mat( infile , outfile, matlab_name):\n    arr = scipy.misc.imread(infile) # should already be loaded as a np.array\n    sio.savemat(outfile, { matlab_name: arr})\n\ndirpath = '/path/to/images'\n\nimg_ext = '.jpg' #for example\nimg_fnames = [ os.path.join(dirpath,x) for x in os.listdir( dirpath ) if x.endswith(img_ext) ] \n\noutpath = '/path/to/outputfolder'\n\nmat_fnames = [ os.path.splitext(os.path.basename(x))[0] +'.mat' for x in img_fnames ] \nmat_fnames = [ os.path.join( outpath, x ) for x in mat_fnames ] \n\nfor i,(in,out) in enumerate( zip( img_fnames, mat_fnames) ):\n    img2mat( in,out, 'img%d'%i)\n</code></pre>\n\n<p>Assuming you don't have too many images, I would save multiple images to the same file.</p>\n\n<pre><code>img_dict = { 'img%d'%i: scipy.misc.imread(fname) for i,fname in enumerate( img_fnames) }\n\nsio.savemat( 'allimg.mat', img_dict )\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1437055307, "post_id": 31443347, "comment_id": 50879795, "body": "But why it doesn&#39;t work? It doesn&#39;t give a syntax error, but also it doesn&#39;t work."}, {"owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "reply_to_user": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 2, "creation_date": 1437090800, "post_id": 31443347, "comment_id": 50898889, "body": "What is the result of <code>len(images)</code>?"}, {"owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "edited": false, "score": 0, "creation_date": 1437145046, "post_id": 31443347, "comment_id": 50922823, "body": "Actually it was the problem of importing. But I still couldn&#39;t have time to try your approach."}, {"owner": {"reputation": 1782, "user_id": 3615225, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UdCVK.jpg?s=128&g=1", "display_name": "Mohamed Adel", "link": "https://stackoverflow.com/users/3615225/mohamed-adel"}, "edited": false, "score": 0, "creation_date": 1496450640, "post_id": 31443347, "comment_id": 75681988, "body": "importing problem that u have to download scikit-image first, if you working on pycharm  ( File  -&gt; Settings -&gt; project interpreter ) then chose library and it will work"}], "tags": [], "owner": {"reputation": 6487, "user_id": 214686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b30b909765488cf4cf9de4a496f9a408?s=128&d=identicon&r=PG", "display_name": "Stefan van der Walt", "link": "https://stackoverflow.com/users/214686/stefan-van-der-walt"}, "is_accepted": true, "score": 4, "last_activity_date": 1437005552, "creation_date": 1437005552, "answer_id": 31443347, "question_id": 31440935, "link": "https://stackoverflow.com/questions/31440935/reading-all-the-images-in-a-directory-and-saving-as-mat-file-matrixes-into-an/31443347#31443347", "title": "reading all the images in a directory and saving as (.mat file matrixes) into another directory", "body": "<p>Using scikit-image, you can utilise the ImageCollection object:</p>\n\n<pre><code>from skimage import io\nimages = io.imread_collection('/path/to/images/*.jpg')\n\nfor (image, fn) in zip(images, images.files):\n    np.savetxt(fn + '.txt', image)\n</code></pre>\n"}], "owner": {"reputation": 3042, "user_id": 4393898, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/JvZg5.jpg?s=128&g=1", "display_name": "yusuf", "link": "https://stackoverflow.com/users/4393898/yusuf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4177, "favorite_count": 0, "accepted_answer_id": 31443347, "answer_count": 2, "score": 2, "last_activity_date": 1437005552, "creation_date": 1436993849, "last_edit_date": 1436997319, "question_id": 31440935, "link": "https://stackoverflow.com/questions/31440935/reading-all-the-images-in-a-directory-and-saving-as-mat-file-matrixes-into-an", "title": "reading all the images in a directory and saving as (.mat file matrixes) into another directory", "body": "<p>I'm working with kinect, and just started with python.</p>\n\n<p>I know how to read an image and save as a matrix in python.</p>\n\n<p>But how can I manage to read all images in a directory and save as matrix files (.mat files) in another directory?</p>\n\n<p>Could you give a brief short example?</p>\n\n<p>Thanks,</p>\n"}, {"tags": ["python", "html", "web-scraping", "screen-scraping"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5121127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48055047843b7a3abc6163506251cbe2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5121127/chris"}, "edited": false, "score": 0, "creation_date": 1436994880, "post_id": 31441090, "comment_id": 50851779, "body": "Thanks, is there a way to replace empty cells with blank strings (&quot;&quot;)? Also, the whole table is still being cut off at line 257 for some reason."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 19, "user_id": 5121127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48055047843b7a3abc6163506251cbe2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5121127/chris"}, "edited": false, "score": 0, "creation_date": 1436995122, "post_id": 31441090, "comment_id": 50851899, "body": "@Chris not sure, it works for me. Tested using <a href=\"http://www.basketball-reference.com/boxscores/pbp/201504140IND.html\" rel=\"nofollow noreferrer\">basketball-reference.com/boxscores/pbp/201504140IND.html</a>."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1436994360, "creation_date": 1436994360, "answer_id": 31441090, "question_id": 31440896, "link": "https://stackoverflow.com/questions/31440896/data-im-trying-to-scrape-cut-short/31441090#31441090", "title": "Data I&#39;m trying to scrape cut short", "body": "<p>You need to <em>skip empty cells</em>:</p>\n\n<pre><code>table = soup.find(\"table\", class_=\"no_highlight stats_table\")\nrows = [[cell.text.replace(u\"\\xa0\", u\"\").strip() for cell in row.find_all(\"td\") if cell.text.strip()]\n        for row in table.find_all(\"tr\")[2:]]\n\nwith open(game + '.csv', 'w') as f:\n    writer = csv.writer(f)\n    writer.writerows(rows)\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 5121127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48055047843b7a3abc6163506251cbe2?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5121127/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1436994406, "creation_date": 1436993712, "last_edit_date": 1436994406, "question_id": 31440896, "link": "https://stackoverflow.com/questions/31440896/data-im-trying-to-scrape-cut-short", "title": "Data I&#39;m trying to scrape cut short", "body": "<p>I'm trying to use Python to scrape the play-by-play table from this <a href=\"http://www.basketball-reference.com/boxscores/pbp/201505020LAC.html\" rel=\"nofollow\">basketball-reference example</a> into a CSV file.</p>\n\n<p>When I run this code, the table is cut short and many cells are missing. I'm a programming n00b and any help would be appreciated.</p>\n\n<pre><code>from bs4 import BeautifulSoup\nfrom urllib2 import urlopen\nimport csv\n\nbref = \"http://www.basketball-reference.com\"\nprint \"Enter game code:\"\ngame = raw_input(\"&gt; \")\n\ndef make_soup(url):\n    return BeautifulSoup(urlopen(url), \"lxml\")\n\ndef get_pbp(pbp):\n    soup = make_soup(bref + \"/boxscores/pbp/\" + game + \".html\")\n    table = soup.find(\"table\", \"no_highlight stats_table\")\n    rows = [row.find_all(\"td\") for row in table.find_all(\"tr\")]\n\n    data = []\n    for row in rows:\n        values = []\n        for value in row:\n            if value.string is None:\n                values.append(u\"\")\n            else:\n                values.append(value.string.replace(u\"\\xa0\", u\"\"))\n        data.append(values)\n    return data\n\nif __name__ == '__main__':\n\n    print \"Writing data for game \" + game\n\n    with open(game + '.csv', 'w') as f:\n        writer = csv.writer(f)\n        writer.writerows(get_pbp(game))\n\n    print game + \" has been successfully scraped.\"\n</code></pre>\n"}, {"tags": ["python", "django"], "comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "edited": false, "score": 3, "creation_date": 1436993589, "post_id": 31440805, "comment_id": 50851073, "body": "This should be fine, but if you are looking for abstraction, you can look into the <code>pre_save</code> signal"}], "answers": [{"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": true, "score": 0, "last_activity_date": 1436995389, "creation_date": 1436995389, "answer_id": 31441393, "question_id": 31440805, "link": "https://stackoverflow.com/questions/31440805/django-model-save-override-simpler-approach/31441393#31441393", "title": "Django Model Save Override Simpler Approach?", "body": "<p>As @karthinkr says in comments, you could use <a href=\"https://docs.djangoproject.com/en/1.8/ref/signals/#pre-save\" rel=\"nofollow\"><code>pre_save</code></a>. Here an example:</p>\n\n<pre><code>from django.db.models.signals import pre_save\n\ndef calculate_things(sender, instance, **kwargs):\n    # sender =&gt; Model\n    # instance =&gt; Object pre saved\n    ...\n    # Your loginc here\n\nclass Entry(models.Model):\n    ...\n    # Model definition\n    ...\n\n    ... # You don't need re define save method.\n\n\npre_save.connect(calculate_things, sender=Entry)\n</code></pre>\n"}], "owner": {"reputation": 334, "user_id": 5081886, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e515c460457f61a34209d7aae2ac35cc?s=128&d=identicon&r=PG&f=1", "display_name": "TheEarlyMan", "link": "https://stackoverflow.com/users/5081886/theearlyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 31441393, "answer_count": 1, "score": 0, "last_activity_date": 1436997883, "creation_date": 1436993418, "last_edit_date": 1436997883, "question_id": 31440805, "link": "https://stackoverflow.com/questions/31440805/django-model-save-override-simpler-approach", "title": "Django Model Save Override Simpler Approach?", "body": "<p>I'm looking to override the save method of my model so that it does some simple calculations before saving, then saves the final result. Calculation example(from my model):</p>\n\n<pre><code>total_ticket = ticket2 - ticket1\ngross_sales = rate * total_ticket\ntotal_tax = tax * total_ticket\n</code></pre>\n\n<p>Although I have been able to accomplish it, I would love to know if there are alternative simpler methods to accomplish the same.</p>\n\n<p><strong>Look at My models.py, you'll understand what I mean</strong></p>\n\n<pre><code>class Entry(models.Model):\n    ticket1 = models.IntegerField()\n    ticket2 = models.IntegerField()\n    total_ticket = models.IntegerField(default=0, editable=False)\n    rate = models.IntegerField(null=True, blank=True)\n    tax = models.IntegerField(null=True, blank=True)\n    gross_sales = models.IntegerField(default=0, editable=False)\n    total_tax = models.IntegerField(default=0, editable=False)\n\n    def save(self, *args, **kwargs):\n        # calculate sum before saving.\n        self.total_ticket = self.calculate_ticket()\n        self.gross_sales = self.calculate_gross_sales()\n        self.total_tax = self.calculate_tax()\n        super(Entry, self).save(*args, **kwargs)\n\n    def calculate_gross_sales(self):\n        try:\n            total_ticket = self.total_ticket\n            rate = self.rate\n            return total_ticket * rate\n        except KeyError:\n            return 0\n\n    def calculate_tax(self):\n        try:\n            total_ticket = self.total_ticket\n            tax = self.tax\n            return total_ticket * tax\n        except KeyError:\n            return 0\n\n    def calculate_ticket(self):\n        \"\"\" Calculate a numeric value for the model instance. \"\"\"\n        try:\n            ticket1 = self.ticket1\n            ticket2 = self.ticket2\n            return ticket2 - ticket1\n        except KeyError:\n            return 0\n\n    def __str__(self):\n        return self.show\n</code></pre>\n"}, {"tags": ["python", "performance", "image-processing", "3d"], "comments": [{"owner": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1436994645, "post_id": 31440742, "comment_id": 50851644, "body": "What plotting / graphics libraries are you currently using in Python?"}, {"owner": {"reputation": 347, "user_id": 3817992, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/07ea5dd150de27430ceb0919a827a949?s=128&d=identicon&r=PG&f=1", "display_name": "NGXII", "link": "https://stackoverflow.com/users/3817992/ngxii"}, "reply_to_user": {"reputation": 96306, "user_id": 3250829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e2e07c34e170453eeea9e937a98f19b?s=128&d=identicon&r=PG", "display_name": "rayryeng", "link": "https://stackoverflow.com/users/3250829/rayryeng"}, "edited": false, "score": 0, "creation_date": 1436998878, "post_id": 31440742, "comment_id": 50853522, "body": "I&#39;m currently using matplotlib, but I can import anything that Pycharm knows how to play nice with"}], "owner": {"reputation": 347, "user_id": 3817992, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/07ea5dd150de27430ceb0919a827a949?s=128&d=identicon&r=PG&f=1", "display_name": "NGXII", "link": "https://stackoverflow.com/users/3817992/ngxii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437009338, "creation_date": 1436993224, "last_edit_date": 1437009338, "question_id": 31440742, "link": "https://stackoverflow.com/questions/31440742/stacking-images-in-a-python-graph", "title": "Stacking Images in a Python graph", "body": "<p>I'm looking to take several 2D images, and put them together back to back to create a sort of pseudo-3D cube, taking advantage of opacity to create depth. </p>\n\n<p>I want to do this in the most efficient way possible, allowing upwards of 400 large images to be stacked in this manner, while at the same time being able to rotate and examine the resulting pseudo-cube. Any ideas?</p>\n\n<p>All these images currently exist as individual data points in a 2D array, so format is not an issue, as long as I can control RGB and alpha.</p>\n"}, {"tags": ["python", "performance", "file", "if-statement", "for-loop"], "comments": [{"owner": {"reputation": 6892, "user_id": 2048879, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c622ca73254e6dc7bb974cd4ef33626f?s=128&d=identicon&r=PG", "display_name": "ben_frankly", "link": "https://stackoverflow.com/users/2048879/ben-frankly"}, "edited": false, "score": 0, "creation_date": 1436993371, "post_id": 31440682, "comment_id": 50850945, "body": "I would first run a Python profiler on your code to find where the performance bottlenecks are. <a href=\"https://docs.python.org/2/library/profile.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/profile.html</a>. Amend your question with the results and we can work from there."}, {"owner": {"reputation": 11357, "user_id": 584846, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/uD1uQ.jpg?s=128&g=1", "display_name": "Brent Washburne", "link": "https://stackoverflow.com/users/584846/brent-washburne"}, "edited": false, "score": 0, "creation_date": 1436993669, "post_id": 31440682, "comment_id": 50851116, "body": "I think your use of <code>elif</code> statements is the most efficient way of performing short-circuit testing for flags."}, {"owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "edited": false, "score": 0, "creation_date": 1436993896, "post_id": 31440682, "comment_id": 50851257, "body": "You&#39;re doing a lot of extra work, because for each each flag you fail, you parse the <i>entire</i> line again."}, {"owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "edited": false, "score": 0, "creation_date": 1436993967, "post_id": 31440682, "comment_id": 50851289, "body": "<code>in</code> is significantly faster than <code>str.find</code>."}, {"owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "edited": false, "score": 0, "creation_date": 1437071144, "post_id": 31440682, "comment_id": 50890205, "body": "I change the code to <b>in</b> instead, but I did not see much notable improvement"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "edited": false, "score": 0, "creation_date": 1436997697, "post_id": 31440773, "comment_id": 50853044, "body": "Thanks, using the <b>in</b> operator helped a lot. Also is there a way to implement your flags list with the short circuiting method? Or should i not bother with it at all?"}, {"owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "reply_to_user": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "edited": false, "score": 0, "creation_date": 1436998014, "post_id": 31440773, "comment_id": 50853191, "body": "@mistasong a list only improves readability. I do not think that there would be considerable time difference between for loops and if statements, but you can do timings using the <code>time</code> module."}], "tags": [], "owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "is_accepted": true, "score": 2, "last_activity_date": 1436993674, "last_edit_date": 1436993674, "creation_date": 1436993342, "answer_id": 31440773, "question_id": 31440682, "link": "https://stackoverflow.com/questions/31440682/python-efficiently-checking-a-file-line-by-line/31440773#31440773", "title": "Python: efficiently checking a file line by line", "body": "<p>Just a suggestion: you can use a list of \"flags\", and iterate through them.</p>\n\n<pre><code>flags = [('name:', nameMethod), ('age:', ageMethod), ('test pass', tpMethod), ('test fail', tfMethod), ... ] #methods are functions without ()\n\nfor line in lines:\n  for flag, func in flags:\n    if line.find(flag) != -1:\n      func(args) #your args\n      break #same functionality as elif\n</code></pre>\n\n<p>By the way, using the <code>in</code> operator is better than <code>str.find</code> or <code>str.index</code>. So <code>if flag in line: #do something</code>.</p>\n\n<p>This is just for readability. You should definitely do profiling to identify bottlenecks, and then see what should/shouldn't be fixed. I <em>do</em> know for sure that using <code>in</code> instead of <code>str.find</code> is much more efficient (about 3 times by my testing estimations).</p>\n"}, {"comments": [{"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 1, "creation_date": 1436994323, "post_id": 31441001, "comment_id": 50851481, "body": "Useless use of <code>cat</code> detected!"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "edited": false, "score": 0, "creation_date": 1436994442, "post_id": 31441001, "comment_id": 50851534, "body": "Yeah, I always forget the order of parameters for grep, so I just cat or pipe the text in...  I looked it up and in the man page and fixed it now :)"}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 2, "last_activity_date": 1436994436, "last_edit_date": 1436994436, "creation_date": 1436994042, "answer_id": 31441001, "question_id": 31440682, "link": "https://stackoverflow.com/questions/31440682/python-efficiently-checking-a-file-line-by-line/31441001#31441001", "title": "Python: efficiently checking a file line by line", "body": "<p>In Python, there isn't much you could do to speed things up.  You're going line by line, only reading the file once.  You've already done plenty to \"squeeze\" more speed out of your loop with short circuiting.  The amount of time your code takes to run is proportional to the size of the file.</p>\n\n<p>It may be better for you to first filter the file's lines with a faster tool.  For instance, the <code>grep</code> Unix command is generally implemented in C, and is very fast (much faster than implementing the loop in Python).  So, you could use a command like this (on Linux or Unix) to filter the lines, and then run your program on the filtered file:</p>\n\n<pre><code>grep \"flag1\\|flag2\\|flag3\" big.txt &gt; filtered.txt\n</code></pre>\n\n<p>Another option might be using <a href=\"http://cython.org/\" rel=\"nofollow\">Cython</a> to attempt to speed up your code by compiling it to C.  But realistically, that won't gain you <em>that</em> much.</p>\n"}, {"tags": [], "owner": {"reputation": 3382, "user_id": 4759361, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zu2kz.jpg?s=128&g=1", "display_name": "xrisk", "link": "https://stackoverflow.com/users/4759361/xrisk"}, "is_accepted": false, "score": 0, "last_activity_date": 1436995332, "creation_date": 1436995332, "answer_id": 31441381, "question_id": 31440682, "link": "https://stackoverflow.com/questions/31440682/python-efficiently-checking-a-file-line-by-line/31441381#31441381", "title": "Python: efficiently checking a file line by line", "body": "<p>Consider it: every single <code>if</code> searches the <em>entire</em> line for a (possibly non-existent) flag. </p>\n\n<p>Suppose your line was 'Daddy has reached the airport', and your list of flags was ['M', 'Mommy'] then it is obvious that if M could not be found, Mommy will not be found either.</p>\n\n<p>If you are willing to take the effort to implement them, the <a href=\"https://en.wikipedia.org/wiki/Aho%E2%80%93Corasick_algorithm\" rel=\"nofollow\">Aho-Corasick</a> or <a href=\"https://en.wikipedia.org/wiki/Rabin%E2%80%93Karp_algorithm\" rel=\"nofollow\">Rabin-Karp</a> algorithms will offer significant speed-ups.</p>\n"}, {"tags": [], "owner": {"reputation": 415, "user_id": 4992910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Hwkmo.png?s=128&g=1", "display_name": "ate50eggs", "link": "https://stackoverflow.com/users/4992910/ate50eggs"}, "is_accepted": false, "score": 0, "last_activity_date": 1436996004, "creation_date": 1436996004, "answer_id": 31441534, "question_id": 31440682, "link": "https://stackoverflow.com/questions/31440682/python-efficiently-checking-a-file-line-by-line/31441534#31441534", "title": "Python: efficiently checking a file line by line", "body": "<p>A regex search might be faster:</p>\n\n<pre><code>import re\nflags = \"name|age|etc\"\n\nfor line in file:\n    m = re.match(flags, line)\n    if m.group():\n        do_something(m)\n</code></pre>\n\n<p>Alternatively, you could put all your tests in a while loop so that it will exit as soon as it finds a flag:</p>\n\n<pre><code>flags = ['name', 'age', 'foo']\n\nfor line in file:\n    i = 0\n    while i &lt; len(flags):\n        if (line.find(flags[i])):\n            do_something(flags[i])\n            i = len(flag[i]) \n        i += 1\n</code></pre>\n\n<p>If you need to do something different for each flag, you can put that logic in a method.</p>\n"}], "owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 1, "accepted_answer_id": 31440773, "answer_count": 4, "score": 1, "last_activity_date": 1436996004, "creation_date": 1436993020, "question_id": 31440682, "link": "https://stackoverflow.com/questions/31440682/python-efficiently-checking-a-file-line-by-line", "title": "Python: efficiently checking a file line by line", "body": "<p>I have very large text files (around 1.5 million or more lines) to parse for some information. Each line I do checks for certain keywords (I call them \"flags\"). </p>\n\n<p>However, there are dozens of checks I run for each line, so my program takes a considerable amount of time to finish. Is there a faster way to how I am currently checking? Below is just an example of what I am doing: </p>\n\n<pre><code>nameFound = false\nageFound = false\n\nfor line in file:\n    if not nameFound and line.find('name:') != -1:\n        do something\n    elif not ageFound and line.find('age:') != -1:\n        do something\n    elif line.find('test pass') != -1:\n        do something\n    elif line.find('test fail') != -1:\n        do something\n    and so on ...\n</code></pre>\n\n<p>Some of the \"flags\" only appear once (although I do not know where in the file or in what order), so I use a \"found\" variable to short-circuit my checks for those \"flags\". Other information appears thousands of times, so I can not use a \"found\" variable in my conditions. <strong>One thing I know is that each line, if it contains a \"flag\", will only have one flag at maximum.</strong> With that information in mind, is there a more efficient way to go about this?</p>\n"}, {"tags": ["python", "arrays", "numpy"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5120950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb141edaf8cf6e57c6f0f037a425612?s=128&d=identicon&r=PG&f=1", "display_name": "JeannieJ", "link": "https://stackoverflow.com/users/5120950/jeanniej"}, "edited": false, "score": 0, "creation_date": 1437079371, "post_id": 31440804, "comment_id": 50894598, "body": "Thank you.  Both methods worked, and I now have a better understanding of this aspect of array manipulation."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 0, "last_activity_date": 1436993418, "creation_date": 1436993418, "answer_id": 31440804, "question_id": 31440488, "link": "https://stackoverflow.com/questions/31440488/replace-row-with-another-row-in-3d-numpy-array/31440804#31440804", "title": "Replace row with another row in 3D numpy array", "body": "<p>The error message tells you pretty much everything you need to know: the array slice on the left-hand side of the assignment has a shape of <code>(24,1,1)</code>, whereas the right-hand side has shape <code>(24,)</code>. Since these shapes don't match, numpy raises a <code>ValueError</code>.</p>\n\n<p>There are two ways to solve this:</p>\n\n<ol>\n<li><p>Make the shape of the LHS <code>(24,)</code> rather than <code>(24, 1, 1)</code>. A nice way to do this would be to index with an integer rather than a slice for the last two dimensions:</p>\n\n<pre><code>s_array[:, 0, 0] = c_data\n</code></pre></li>\n<li><p>Reshape <code>c_data</code> to match the shape of the LHS:</p>\n\n<pre><code>s_array[:, 0:1, 0:1] = c_data.reshape(24, 1, 1)\n</code></pre></li>\n</ol>\n\n<p>I think option 1 is a lot more readable.</p>\n"}], "owner": {"reputation": 13, "user_id": 5120950, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cb141edaf8cf6e57c6f0f037a425612?s=128&d=identicon&r=PG&f=1", "display_name": "JeannieJ", "link": "https://stackoverflow.com/users/5120950/jeanniej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1902, "favorite_count": 1, "accepted_answer_id": 31440804, "answer_count": 1, "score": 1, "last_activity_date": 1436993630, "creation_date": 1436992347, "last_edit_date": 1436993630, "question_id": 31440488, "link": "https://stackoverflow.com/questions/31440488/replace-row-with-another-row-in-3d-numpy-array", "title": "Replace row with another row in 3D numpy array", "body": "<p>I am trying to replace a specific row of NaN's in a 3-D array (filled with NaN's) with rows of known integer values from a specific column in a text file (ex: 24 rows of column 8). Is there a method to perform this replacement that I have missed in my search for help?</p>\n\n<p>My most recent trial code (of many) is as follows:</p>\n\n<pre><code>import numpy as np\n\ntfile = \"C:\\...\\Lee_Gilmer_MEM_GA_01_02_2015.txt\"\ndata = np.genfromtxt(tfile, dtype=None)\n\n#creation of empty 24 hour global matrix\ns_array = np.empty((24,361,720))\ns_array[:] = np.NAN\n\n#Get values from column 8\nc_data = data[:,7]\n\n#Replace all 24 NaN's slices of row 1 column 1 with corresponding 24 row values from column 8\ns_array[:,0:1,0:1] = c_data\n\nprint s_array\n</code></pre>\n\n<p>This produces a result of:</p>\n\n<pre><code>ValueError: could not broadcast input array from shape (24) into shape (24,1,1)\n</code></pre>\n\n<p>When I print out the shape of <code>c_data</code>, I get:</p>\n\n<pre><code>(24L,)\n</code></pre>\n\n<p>Is this at all possible to do without having to use a loop and replacing each one individually?</p>\n"}, {"tags": ["python", "mysql", "python-3.4", "pymysql"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3308083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3da74fc9062af5cf48138922491200e3?s=128&d=identicon&r=PG&f=1", "display_name": "Downdog555", "link": "https://stackoverflow.com/users/3308083/downdog555"}, "edited": false, "score": 0, "creation_date": 1436993579, "post_id": 31440532, "comment_id": 50851065, "body": "Many thanks i guess the documentaiton i look at was wrong ;/ but thanks !"}], "tags": [], "owner": {"reputation": 700, "user_id": 5104778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1d0588e47ac1f641ef21f90a5e302aa?s=128&d=identicon&r=PG&f=1", "display_name": "blasko", "link": "https://stackoverflow.com/users/5104778/blasko"}, "is_accepted": true, "score": 1, "last_activity_date": 1436992502, "creation_date": 1436992502, "answer_id": 31440532, "question_id": 31440452, "link": "https://stackoverflow.com/questions/31440452/correct-sql-usage-in-python-using-pymysql/31440532#31440532", "title": "Correct SQL usage in Python Using PYMYSQL", "body": "<p>You're missing a comparison (like, =, etc) between Series_Name and data, as well as a ';' on the end of the query.</p>\n\n<p>`'SELECT Series_ID FROM series_information WHERE Series_Name = \"'+data +'\";'</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 1269551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f93b1b091d20f20c3bf473e12a0307f4?s=128&d=identicon&r=PG", "display_name": "iceraj", "link": "https://stackoverflow.com/users/1269551/iceraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1436992586, "creation_date": 1436992586, "answer_id": 31440555, "question_id": 31440452, "link": "https://stackoverflow.com/questions/31440452/correct-sql-usage-in-python-using-pymysql/31440555#31440555", "title": "Correct SQL usage in Python Using PYMYSQL", "body": "<pre><code>`SELECT Series_ID FROM series_information WHERE Series_Name \"'+data +'\"'`\n</code></pre>\n\n<p>Is not a valid SQL query did you mean:</p>\n\n<pre><code>`'SELECT Series_ID FROM series_information WHERE Series_Name like \"'+data +'\"'`\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 3308083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3da74fc9062af5cf48138922491200e3?s=128&d=identicon&r=PG&f=1", "display_name": "Downdog555", "link": "https://stackoverflow.com/users/3308083/downdog555"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 144, "favorite_count": 0, "accepted_answer_id": 31440532, "answer_count": 2, "score": 1, "last_activity_date": 1436992586, "creation_date": 1436992239, "last_edit_date": 1436992328, "question_id": 31440452, "link": "https://stackoverflow.com/questions/31440452/correct-sql-usage-in-python-using-pymysql", "title": "Correct SQL usage in Python Using PYMYSQL", "body": "<p>I am attempting to write a SQL in python using PYMYSQL, which searches a table for a certain record with a set value, however while this sounds simple I cannot seem to do it below is my query:</p>\n\n<pre><code>SELECT Series_ID FROM series_information WHERE Series_Name \"'+data +'\"'\n</code></pre>\n\n<p>where the data is the value that I am searching for however the following error occurs:</p>\n\n<pre><code>pymysql.err.ProgrammingError: (1064, 'You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near \\'\"Spice And Wolf\"\\' at line 1')\n</code></pre>\n\n<p>The problem I believe is that I am not sure how to properly escape the data value if it has spaces in it and therefore would require quotation marks in the SQL query.</p>\n"}, {"tags": ["python", "mysql", "sqlalchemy", "supervisord", "alembic"], "answers": [{"tags": [], "owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "is_accepted": false, "score": 0, "last_activity_date": 1437492132, "creation_date": 1437492132, "answer_id": 31543252, "question_id": 31440422, "link": "https://stackoverflow.com/questions/31440422/sqlalchemy-db-interactions-fail-depending-how-i-run-the-python-script/31543252#31543252", "title": "SQLAlchemy db interactions fail depending how I run the python script", "body": "<p>The issue was at the top of the <code>/etc.supervisord.conf</code> file. In it, an environment variable is set that was pointing the script to the wrong database, overriding the environment variable that was set and examined from anywhere else. This environment variable is only set when the script is being run from <code>supervisor</code> and was causing the trouble</p>\n"}], "owner": {"reputation": 3377, "user_id": 2224777, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/4s327.png?s=128&g=1", "display_name": "Brian Leach", "link": "https://stackoverflow.com/users/2224777/brian-leach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1437492132, "creation_date": 1436992158, "last_edit_date": 1437061420, "question_id": 31440422, "link": "https://stackoverflow.com/questions/31440422/sqlalchemy-db-interactions-fail-depending-how-i-run-the-python-script", "title": "SQLAlchemy db interactions fail depending how I run the python script", "body": "<p>This seems to be the most obscure issue I have dealt with so far. I am struggling hard.</p>\n\n<p>I have an application that collects remote data from some hardware and saves it to a database. I renamed one of the columns using <code>alembic</code>. I have a development database and a testing database. Both are on the same server (<code>MySQL</code> via <code>MariaDB</code> on <code>CentOS 7</code>).</p>\n\n<p>I interact with the development server via the app running on my laptop and the testing db is interacted with via the app running on a clone of the production server.</p>\n\n<p>All servers and databases are set up using <code>Ansible</code>, so differences are limited to usernames and passwords.</p>\n\n<p>Below is the <code>ansible</code> snippet from the upgrade script</p>\n\n<pre><code>def upgrade():\n    op.alter_column('units', 'ip_address', new_column_name='ipv4', existing_type=sa.String(100))\n</code></pre>\n\n<p>If I run the app from my laptop (using my IDE), the data is saved ok. </p>\n\n<p>If I run the script on the testing server manually <code>(env)$ python app.py</code>, the data is saved ok. </p>\n\n<p>But, here's the problem, If I run the script using <code>supervisord</code>, I get an SQLAlchemy error. (excerpts below, <a href=\"http://pastebin.com/aWiWE3Ff\" rel=\"nofollow\">full traceback</a>)</p>\n\n<pre><code>...\nFile \"thefile.py\", line 64, in run\n    self.data['my_wellsites'][w.name]['ipv4'] = wellsite.unit.ipv4\n...\nsqlalchemy.exc.InternalError: (InternalError) (1054, u\"Unknown column 'units.ipv4' in 'field list'\") 'SELECT units.id AS units_id, units.unittype_id AS units_unittype_id, units.serial AS units_serial, units.ipv4 AS units_ipv4, units.mac_address AS units_mac_address, units.engine_hours AS units_engine_hours, units.gen_odometer AS units_gen_odometer, units.gen_periodic AS units_gen_periodic, units.notes AS units_notes \\nFROM units \\nWHERE units.id = %s' (1,)\n...\n</code></pre>\n\n<p>SQLAlchemy models..</p>\n\n<pre><code>class Unit(Model):\n    __tablename__ = 'units'\n    __table_args__ = {'mysql_engine': 'InnoDB'}\n\n    id = Column(Integer, Sequence('unit_id_seq'), primary_key=True)\n    wellsites = relationship('Wellsite', order_by='Wellsite.id', backref='unit')\n    ipv4 = Column(String(16), unique=True)\n    ...\n\nclass Wellsite(Model):\n    __tablename__ = 'wellsites'\n    __table_args__ = {'mysql_engine': 'InnoDB'}\n\n    id = Column(Integer, Sequence('wellsite_id_seq'), primary_key=True)\n    unit_id = Column(Integer, ForeignKey('units.id'), nullable=False)\n    ...\n</code></pre>\n\n<p>etc/supervisord.conf..</p>\n\n<pre><code>...\n[program:datacollect]\ncommand = /home/webdev/mydevelopment/git/ers_data_app/env/bin/python /home/webdev/mydevelopment/git/ers_data_app/data_monitoring/collection_manager.py\nstdout_logfile=/home/webdev/logs/datacollect.log\nstderr_logfile=/home/webdev/logs/datacollecterr.log\nautostart=true\nautorestart=unexpected\nstartsecs=10\n</code></pre>\n\n<p>I tried running an additional <code>alembic</code> upgrade with </p>\n\n<pre><code>op.create_unique_constraint('uq_ipv4', 'units', ['ipv4'])\n</code></pre>\n\n<p>No dice. </p>\n\n<p>The <code>traceback</code> is identical (using diff program) except timestamps</p>\n\n<p>Here are the two database descriptions of the <code>units</code> table (identical)</p>\n\n<pre><code>MariaDB [ers_DEV]&gt; show columns from units;\n+--------------+--------------+------+-----+---------+----------------+\n| Field        | Type         | Null | Key | Default | Extra          |\n+--------------+--------------+------+-----+---------+----------------+\n| id           | int(11)      | NO   | PRI | NULL    | auto_increment |\n| unittype_id  | int(11)      | YES  | MUL | NULL    |                |\n| serial       | varchar(10)  | YES  | UNI | NULL    |                |\n| ipv4         | varchar(100) | YES  | UNI | NULL    |                |\n| mac_address  | varchar(17)  | YES  | UNI | NULL    |                |\n| engine_hours | int(11)      | YES  |     | NULL    |                |\n| gen_odometer | tinyint(1)   | YES  |     | NULL    |                |\n| gen_periodic | tinyint(1)   | YES  |     | NULL    |                |\n| notes        | mediumtext   | YES  |     | NULL    |                |\n+--------------+--------------+------+-----+---------+----------------+\n\n\nMariaDB [ers_TEST]&gt; show columns from units;\n+--------------+--------------+------+-----+---------+----------------+\n| Field        | Type         | Null | Key | Default | Extra          |\n+--------------+--------------+------+-----+---------+----------------+\n| id           | int(11)      | NO   | PRI | NULL    | auto_increment |\n| unittype_id  | int(11)      | YES  | MUL | NULL    |                |\n| serial       | varchar(10)  | YES  | UNI | NULL    |                |\n| ipv4         | varchar(100) | YES  | UNI | NULL    |                |\n| mac_address  | varchar(17)  | YES  | UNI | NULL    |                |\n| engine_hours | int(11)      | YES  |     | NULL    |                |\n| notes        | mediumtext   | YES  |     | NULL    |                |\n| gen_odometer | tinyint(1)   | YES  |     | NULL    |                |\n| gen_periodic | tinyint(1)   | YES  |     | NULL    |                |\n+--------------+--------------+------+-----+---------+----------------+\n</code></pre>\n"}, {"tags": ["python", "windows", "service", "cx-freeze"], "comments": [{"owner": {"reputation": 161, "user_id": 8118824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17e9917de1984ce395979a7d72aef7ab?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Vysko\u010dil", "link": "https://stackoverflow.com/users/8118824/martin-vysko%c4%8dil"}, "edited": false, "score": 0, "creation_date": 1618306310, "post_id": 31440421, "comment_id": 118555719, "body": "I found there is error in the cx_Freezes examples. The functions: <code>initialize, run, stop</code> must be defined with lower case. The service itself is registered for example with <code>cx_FreezeSampleService.exe --install test</code>"}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 6205071, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tLNSVjU0-sM/AAAAAAAAAAI/AAAAAAAAByM/YGjw9Ti-DWM/photo.jpg?sz=128", "display_name": "Mariangel garcia", "link": "https://stackoverflow.com/users/6205071/mariangel-garcia"}, "is_accepted": false, "score": 1, "last_activity_date": 1611611945, "creation_date": 1611611945, "answer_id": 65893017, "question_id": 31440421, "link": "https://stackoverflow.com/questions/31440421/how-to-install-a-python-windows-service-using-cx-freeze/65893017#65893017", "title": "How to install a Python Windows service using cx_Freeze?", "body": "<p>This is an old question, but I manage to get it working as a window service for a simple flask application with the help of the developers.\n[https://github.com/marcelotduarte/cx_Freeze/tree/master/cx_Freeze/samples/service]</p>\n<p>You have to set up all the windows service actions you want performance.\nthis is how the  ServiceHandler.py should look like as a template you still need to adapt to run your application.</p>\n<pre><code>&quot;&quot;&quot;\nImplements a simple service using cx_Freeze.\nSee below for more information on what methods must be implemented and how they\nare called.\n&quot;&quot;&quot;\n\nimport threading\nimport os\nimport sys\nimport cx_Logging\n\n\n\n\nclass Handler:\n\n    # no parameters are permitted; all configuration should be placed in the\n    # configuration file and handled in the Initialize() method\n    def __init__(self):\n        self.stopEvent = threading.Event()\n        self.stopRequestedEvent = threading.Event()\n\n    # called when the service is starting\n    def initialize(self, configFileName):\n        self.directory = os.path.dirname(sys.executable)\n        cx_Logging.StartLogging(os.path.join(self.directory, &quot;teste.log&quot;), cx_Logging.DEBUG)\n        #pass\n\n    # called when the service is starting immediately after Initialize()\n    # use this to perform the work of the service; don't forget to set or check\n    # for the stop event or the service GUI will not respond to requests to\n    # stop the service\n    def run(self):\n        cx_Logging.Debug(&quot;stdout=%r&quot;, sys.stdout)\n        sys.stdout = open(os.path.join(self.directory, &quot;stdout.log&quot;), &quot;a&quot;)\n        sys.stderr = open(os.path.join(self.directory, &quot;stderr.log&quot;), &quot;a&quot;)\n        self.stopRequestedEvent.wait()\n        self.stopEvent.set()\n\n    # called when the service is being stopped by the service manager GUI\n    def stop(self):\n        self.stopRequestedEvent.set()\n        self.stopEvent.wait()\n</code></pre>\n"}], "owner": {"reputation": 91, "user_id": 5028915, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e000598ffcd02e67ab80248f9bd6907?s=128&d=identicon&r=PG&f=1", "display_name": "Nicole", "link": "https://stackoverflow.com/users/5028915/nicole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1489, "favorite_count": 3, "answer_count": 1, "score": 6, "last_activity_date": 1611611945, "creation_date": 1436992158, "question_id": 31440421, "link": "https://stackoverflow.com/questions/31440421/how-to-install-a-python-windows-service-using-cx-freeze", "title": "How to install a Python Windows service using cx_Freeze?", "body": "<p>I currently have a Python file that when run using python file_name.py installs a Windows service that is viewable in Event Viewer under application logs and stoppable using sc stop service_name. However, when converted into an executable using cx_Freeze, the executable runs with no errors but the service no longer installs. This happens if I run just the executable by itself, if I run service_name.exe --install service_name, or if I run sc create service_name binPath=service_path </p>\n\n<p>My setup.py file looks something like:</p>\n\n<pre><code>from cx_Freeze import setup, Executable\n\noptions = {\n'build_exe': {\n    'packages': ['packagename'],\n    'includes': ['ServiceHandler', 'cx_Logging']}\n}\n\nsetup(name='cx_FreezeSampleService',\n  version='0.1',\n  description='Sample cx_Freeze Windows serice',\n  executables=Executable('Config.py', base='Win32Service',\n           targetName='cx_FreezeSampleService.exe'),\n  options=options\n  )\n</code></pre>\n\n<p>My Config.py looks something like:</p>\n\n<pre><code>NAME = 'cx_FreezeSampleService%s'\nDISPLAY_NAME = 'cx_Freeze Sample Service - %s'\nMODULE_NAME = 'ServiceHandler'\nCLASS_NAME = 'Handler'\nDESCRIPTION = 'Sample service description'\nAUTO_START = True\nSESSION_CHANGES = False\n</code></pre>\n\n<p>And finally, my ServiceHandler.py looks something like:</p>\n\n<pre><code>class Handler(object):\n def Initialize(self, Config):\n    pass\n\n def Run(self):\n    #code to run service\n\n def Stop(self):\n    #code to stop service\n</code></pre>\n\n<p>This code follows the example at the cx_Freeze source code here (<a href=\"https://bitbucket.org/anthony_tuininga/cx_freeze/src/1282b6b6ee637738210113dd88c3c198d475340f/cx_Freeze/samples/service/?at=default\" rel=\"noreferrer\">https://bitbucket.org/anthony_tuininga/cx_freeze/src/1282b6b6ee637738210113dd88c3c198d475340f/cx_Freeze/samples/service/?at=default</a>) almost exactly, but neither this nor the example seem to work in actually installing a service.</p>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["python", "ncurses", "curses", "python-curses"], "answers": [{"tags": [], "owner": {"reputation": 3592, "user_id": 988828, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/NEIcC.jpg?s=128&g=1", "display_name": "lc2817", "link": "https://stackoverflow.com/users/988828/lc2817"}, "is_accepted": false, "score": 2, "last_activity_date": 1436993219, "creation_date": 1436993219, "answer_id": 31440738, "question_id": 31440392, "link": "https://stackoverflow.com/questions/31440392/curses-wrapper-messing-up-terminal-after-background-foreground-sequence/31440738#31440738", "title": "curses.wrapper() messing up terminal after background/foreground sequence", "body": "<p>This happens to be a bug in <code>curses.wrapper</code> or anything underneath that forgets to restore signal handler to their previous values.\nThis fixes it:</p>\n\n<pre><code>import curses, subprocess\nimport signal\n\n# Function that does nothing\ndef f(*args, **kwargs):\n    pass\n\na = signal.getsignal(signal.SIGTSTP)\n\ncurses.wrapper(f)\n\nsignal.signal(signal.SIGTSTP, a)\n\n# Call vi to open a file \nsubprocess.call(\"vi /tmp/oo\", shell=True)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 42737, "user_id": 4518274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UPurS.png?s=128&g=1", "display_name": "Thomas Dickey", "link": "https://stackoverflow.com/users/4518274/thomas-dickey"}, "is_accepted": false, "score": 2, "last_activity_date": 1541767395, "last_edit_date": 1541767395, "creation_date": 1436996673, "answer_id": 31441709, "question_id": 31440392, "link": "https://stackoverflow.com/questions/31440392/curses-wrapper-messing-up-terminal-after-background-foreground-sequence/31441709#31441709", "title": "curses.wrapper() messing up terminal after background/foreground sequence", "body": "<p>The source-code for <a href=\"https://github.com/python/cpython/blob/e42b705188271da108de42b55d9344642170aa2b/Lib/curses/__init__.py#L63\" rel=\"nofollow noreferrer\">curses.wrapper</a> does nothing special with signals.</p>\n\n<p>During initialization (such as a call to <a href=\"http://invisible-island.net/ncurses/man/curs_initscr.3x.html\" rel=\"nofollow noreferrer\"><code>initscr</code></a>), the ncurses library adds handlers for these signals: <code>SIGINT</code>, <code>SIGTERM</code>, <code>SIGTSTP</code>, <code>SIGWINCH</code>. For whatever reason (likely because it is an internal detail not directly visible to callers), this is documented mainly in the <a href=\"http://invisible-island.net/ncurses/NEWS.html\" rel=\"nofollow noreferrer\"><code>NEWS</code></a> file.</p>\n\n<p>Applications which need to add their own signal handler should do this after ncurses' initialization (since ncurses does this only once).  Because curses applications can be switched to/from screen-mode, the signal handlers are left active until the program quits.  For instance, it would be possible for a Python script to call <code>curses.wrapper</code> more than once (although it probably would not work correctly except with ncurses -- X/Open says that \"<a href=\"http://invisible-island.net/ncurses/man/curs_initscr.3x.html#h2-PORTABILITY\" rel=\"nofollow noreferrer\">portable applications must not\ncall <strong>initscr</strong> more than once</a>\").</p>\n\n<p>Saving and restoring the signal handler state as suggested by <a href=\"https://stackoverflow.com/users/988828/lc2817\">@lc2817</a> will work&mdash;but it <em>is</em> a workaround because it is not elegant.  If <code>curses.wrapper</code> were modified to add some state to it, to remember if it was called before, and to save/restore the signal-handlers, the workaround would be unnecessary.  To make it really portable, <code>initscr</code> should be called on the first use, and <code>refresh</code> on subsequent uses.</p>\n"}], "owner": {"reputation": 3592, "user_id": 988828, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/NEIcC.jpg?s=128&g=1", "display_name": "lc2817", "link": "https://stackoverflow.com/users/988828/lc2817"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 938, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1541767395, "creation_date": 1436992083, "question_id": 31440392, "link": "https://stackoverflow.com/questions/31440392/curses-wrapper-messing-up-terminal-after-background-foreground-sequence", "title": "curses.wrapper() messing up terminal after background/foreground sequence", "body": "<p>I am investigating a bug where <code>curses.wrapper</code> does not restore the terminal properly. The issue is shown after a backgrounding/foregrounding sequence.</p>\n\n<p>Consider the following python program saved in <code>myprogram.py</code>:</p>\n\n<pre><code>import curses, subprocess\n\n# Function that does nothing\ndef f(*args, **kwargs):\n    pass\n\ncurses.wrapper(f)\n\n# Call vi to open a file \nsubprocess.call(\"vi /tmp/foo\", shell=True)\n</code></pre>\n\n<p>Steps to repro the issue:</p>\n\n<ol>\n<li>Run the program: <code>python myprogram.py</code></li>\n<li>It starts vi editing the file <code>/tmp/foo</code></li>\n<li>When I hit <code>ctrl-z</code> it brings me back to my shell</li>\n<li>When I resume the program with <code>fg</code></li>\n<li>It restarts the editor but the screen is wrong (all black and the editor is not drawn)</li>\n</ol>\n\n<p><strong>Removing the <code>curses.wrapper(f)</code> line makes the program works: the editor is drawn properly when the program is resumed.</strong></p>\n\n<p>I tried multiple things, like replacing the call to <code>curses.wrapper(f)</code> by what it actually does and, the most minimal example (i.e. calling <code>initscr</code>, <code>endwin</code>) leads also to the same issue.</p>\n\n<p>I am running:</p>\n\n<ul>\n<li>zsh 5.0.5, I also tried the latest fish shell version</li>\n<li>python 2.7.6</li>\n<li>VIM - Vi IMproved 7.3 </li>\n</ul>\n\n<p>What am I missing?</p>\n"}, {"tags": ["python", "gcc", "build", "ibm-mq", "pymqi"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 4709029, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b98b6f7317ed1884b60d67e70e443382?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian Yung", "link": "https://stackoverflow.com/users/4709029/vivian-yung"}, "edited": false, "score": 0, "creation_date": 1437401208, "post_id": 31462421, "comment_id": 50998354, "body": "Thanks, how would I check if I have the development toolkit installed? btw i have MQ V 7.5 installed"}], "tags": [], "owner": {"reputation": 6263, "user_id": 1431734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ex16s.gif?s=128&g=1", "display_name": "Roger", "link": "https://stackoverflow.com/users/1431734/roger"}, "is_accepted": false, "score": 0, "last_activity_date": 1437073264, "creation_date": 1437073264, "answer_id": 31462421, "question_id": 31440384, "link": "https://stackoverflow.com/questions/31440384/unable-to-build-pymqi-on-window-errors-compiling/31462421#31462421", "title": "Unable to build pymqi on window - errors compiling", "body": "<p>You need to have WebSphere MQ v7.0 or higher installed on the server where you are doing the build.  Also, when you did the installation of MQ, did you include the \"Development Toolkit\"?  It is optional and you need to select it.</p>\n"}], "owner": {"reputation": 49, "user_id": 4709029, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b98b6f7317ed1884b60d67e70e443382?s=128&d=identicon&r=PG&f=1", "display_name": "Vivian Yung", "link": "https://stackoverflow.com/users/4709029/vivian-yung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 376, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1580483846, "creation_date": 1436992063, "last_edit_date": 1580483846, "question_id": 31440384, "link": "https://stackoverflow.com/questions/31440384/unable-to-build-pymqi-on-window-errors-compiling", "title": "Unable to build pymqi on window - errors compiling", "body": "<p>I am trying to build and install pymqi, but I am getting a lot of errors trying to compile it.</p>\n\n<p>I have done the following:</p>\n\n<p>Get and install MinGW gcc</p>\n\n<p>Create libpython2?.a</p>\n\n<p>Using instruction from: <a href=\"https://pythonhosted.org/pymqi/mingw32.html\" rel=\"nofollow\">https://pythonhosted.org/pymqi/mingw32.html</a></p>\n\n<p>When I try to build it using: <code>setup.py build -cmingw32 client</code>\nI get a list of undefined references. Below are some examples</p>\n\n<pre><code>build\\temp.win32-2.6\\Release\\pymqe.o:pymqe.c:(.text+0x25e): undefined  reference to `MQINQMP'\nbuild\\temp.win32-2.6\\Release\\pymqe.o:pymqe.c:(.text+0x463): undefined reference to `MQSETMP'\n</code></pre>\n\n<p>At the very end, I also get the following error:</p>\n\n<pre><code>c:/mingw/bin/../lib/gcc/mingw32/4.8.1/../../../../mingw32/bin/ld.exe: build\\temp\n.win32-2.6\\Release\\pymqe.o: bad reloc address 0x0 in section `.data'\ncollect2.exe: error: ld returned 1 exit status\nerror: command 'gcc' failed with exit status 1\n</code></pre>\n\n<p>I am using:</p>\n\n<ul>\n<li>Python 26</li>\n<li>gcc version 4.8.1 (GCC)</li>\n</ul>\n\n<p>Any clues and help will be very much appreciated :)</p>\n"}, {"tags": ["python", "graph", "plotly"], "answers": [{"comments": [{"owner": {"reputation": 2081, "user_id": 2426679, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae42083756ea100bc8b06658725b4493?s=128&d=identicon&r=PG", "display_name": "user2426679", "link": "https://stackoverflow.com/users/2426679/user2426679"}, "edited": false, "score": 0, "creation_date": 1437001595, "post_id": 31441883, "comment_id": 50854486, "body": "thanks for the thought, but this would exclude points &gt; 15.  I still want to include those points, just not have the y-axis scaled against them.  The y-axis would really have 2 scalings, 1 below the squiggly line (in the attached pic) and 1 above it.  The finished plot would not exclude any points."}, {"owner": {"reputation": 619, "user_id": 5041475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34170c97dbff9351721c57198f8038a8?s=128&d=identicon&r=PG&f=1", "display_name": "neda", "link": "https://stackoverflow.com/users/5041475/neda"}, "reply_to_user": {"reputation": 2081, "user_id": 2426679, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae42083756ea100bc8b06658725b4493?s=128&d=identicon&r=PG", "display_name": "user2426679", "link": "https://stackoverflow.com/users/2426679/user2426679"}, "edited": false, "score": 1, "creation_date": 1437060540, "post_id": 31441883, "comment_id": 50883767, "body": "@user2426679 if you click on &quot;Autoscale&quot;  you would view all your data (given you have points &gt; max_range).   However, if you want to see all your data at once while having your plot zoomed in on a specific part, you might want to use subplots with shared x-axes: <a href=\"https://plot.ly/python/subplots/#subplots-with-shared-x-axes\" rel=\"nofollow noreferrer\">plot.ly/python/subplots/#subplots-with-shared-x-axes</a>"}], "tags": [], "owner": {"reputation": 619, "user_id": 5041475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34170c97dbff9351721c57198f8038a8?s=128&d=identicon&r=PG&f=1", "display_name": "neda", "link": "https://stackoverflow.com/users/5041475/neda"}, "is_accepted": true, "score": 0, "last_activity_date": 1436997457, "creation_date": 1436997457, "answer_id": 31441883, "question_id": 31440367, "link": "https://stackoverflow.com/questions/31440367/plotly-how-to-collapse-axis-at-defined-cutoff/31441883#31441883", "title": "plotly - how to collapse axis at defined cutoff", "body": "<p>You can adjust the range of your y-axes from the layout. For example: </p>\n\n<pre><code>layout['yaxis']['range'] = [-5, 15]\n</code></pre>\n"}], "owner": {"reputation": 2081, "user_id": 2426679, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/ae42083756ea100bc8b06658725b4493?s=128&d=identicon&r=PG", "display_name": "user2426679", "link": "https://stackoverflow.com/users/2426679/user2426679"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "accepted_answer_id": 31441883, "answer_count": 1, "score": -1, "last_activity_date": 1436997457, "creation_date": 1436992018, "question_id": 31440367, "link": "https://stackoverflow.com/questions/31440367/plotly-how-to-collapse-axis-at-defined-cutoff", "title": "plotly - how to collapse axis at defined cutoff", "body": "<p>I'm trying to create a graph that focuses on the 99% of the data that is w/in a given range, meaning that there are 1% outliers that skew the perspective/\"ability to zoom in on.\"  Please see the attached picture showing what I'm going for.  Basically, I want to collapse a portion of the y-axis.  I am using python if that matters.  If it's not possible to do this in plotly, I can switch to another library if you know of one.</p>\n\n<p><img src=\"https://i.stack.imgur.com/yVcFz.png\" alt=\"enter image description here\"></p>\n"}, {"tags": ["python", "parsing", "hex", "bit-manipulation", "computer-science"], "comments": [{"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1436992028, "post_id": 31440326, "comment_id": 50850153, "body": "So your question is how to parse the list of byte offsets?  Or how to use those to get the correct bytes from the string of hexadecimal bytes?"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1436992246, "post_id": 31440326, "comment_id": 50850286, "body": "How are you storing the range?  <code>2-1</code> is a subtraction in Python."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436992335, "post_id": 31440326, "comment_id": 50850330, "body": "Their docs are weird, but it&#39;s actually 2-1 (2 and 1 included)"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1436992417, "post_id": 31440326, "comment_id": 50850376, "body": "@Ryan, StackOverflow is a question-and-answer site. Readers, such as yourself, ask questions. Other readers attempt to answer them. Your post is well-organized, and you&#39;ve clearly put some effort into it. However, it is still missing a key ingredient: a question. Do you have a specific question to ask?"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436992601, "post_id": 31440326, "comment_id": 50850481, "body": "Sorry, was trying my best to structure this best as I could."}], "answers": [{"comments": [{"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "reply_to_user": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436992867, "post_id": 31440506, "comment_id": 50850654, "body": "I updated my answer with a more concrete example that you can directly run.  Hopefully that&#39;ll help you a bit more!"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436993457, "post_id": 31440506, "comment_id": 50850991, "body": "Know the easiest way to split a string of 127-4 into a comma-sep. list like that? nvm, got it"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 1, "creation_date": 1436993873, "post_id": 31440506, "comment_id": 50851246, "body": "@Ryan <code>&quot;127-4&quot;.split(&quot;-&quot;)</code>"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436994446, "post_id": 31440506, "comment_id": 50851537, "body": "Hm, I am overcomplicating this. I am looking through each byte offset in a loop. As it iterates, I want to append &#39;127-4&#39; into the form [(4,127)] so the final array looks like the ranges example above"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436994527, "post_id": 31440506, "comment_id": 50851575, "body": "Also slight problem in your example output. Bits are read in reverse order, so shouldn&#39;t I reverse the string?"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1436994774, "post_id": 31440506, "comment_id": 50851716, "body": "See my updated code, which deals with the ranges being strings, as you seem to be implying.  Also, if you are saying that the bytes are numbered from 127 down to 0, then yes, you should reverse <code>string</code> before doing this."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436998587, "post_id": 31440506, "comment_id": 50853413, "body": "Hm, I noticed a slight issue. The bits are printing in reverse order LSB - MSB when it should be MSB - LSB. Can this be fixed? I think it&#39;s ok to structure &quot;the_bytes&quot; as the_bytes[::-1]"}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1437002615, "post_id": 31440506, "comment_id": 50854821, "body": "That is probably caused by the fact that you reversed the string.  Since each byte is a pair of digits (say, AB), when you reversed the string, the digits were reversed as well (AB becomes BA).  So, you should actually reverse the string in units of pairs."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1437002679, "post_id": 31440506, "comment_id": 50854839, "body": "Here is the shortest way I could come up with:  <code>string = &quot;&quot;.join(x for pair in reversed(list(zip(string[::2], string[1::2]))) for x in pair)</code>"}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": true, "score": 1, "last_activity_date": 1436994721, "last_edit_date": 1436994721, "creation_date": 1436992398, "answer_id": 31440506, "question_id": 31440326, "link": "https://stackoverflow.com/questions/31440326/parsing-bits-from-a-128-byte-block-of-hex-in-python/31440506#31440506", "title": "Parsing bits from a 128 byte block of hex in Python", "body": "<p>Say that you have the starting byte # stored in <code>start</code> variable, and ending byte # stored in <code>end</code> variable, and then the hex string stored in <code>string</code> variable.</p>\n\n<p>Since every byte is two hexadecimal digits, you can simply do this to get the byte in hexadecimal string form:</p>\n\n<pre><code>string[start*2:(end+1)*2]\n</code></pre>\n\n<p>You need to do <code>end+1</code> because it appears that your byte ranges are inclusive in your example, but Python slicing is exclusive on the end of the range.  <a href=\"https://stackoverflow.com/questions/509211/explain-pythons-slice-notation\">More on slicing if you're unfamiliar.</a></p>\n\n<p>To make this concrete for you, here is a minimal working example.  You may have to do parsing and massaging to get your ranges to look like mine, but this is the idea:</p>\n\n<pre><code>string = \"100000000000000220000000000000003000000000000000\" \\\n         \"000000000000000000000000000000000000000000000000\" \\\n         \"000000000000000000000000000000000000000000000000\" \\\n         \"000000000000000000000000000000000000000000000000\" \\\n         \"000000000000000000000000000000000000000000000000\" \\\n         \"0000000000000000\"\n\nranges = ['0', '2-1', '3', '127-4']\n\nfor offset in ranges:\n    offset_list = offset.split('-')\n    if len(offset_list) == 1:\n        start = int(offset_list[0])\n        end = int(offset_list[0])\n    else:\n        start = int(offset_list[1])\n        end = int(offset_list[0])\n    the_bytes = string[start*2:(end+1)*2]\n    print('%d-%d: %s' % (start, end, the_bytes))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>0-0: 10\n1-2: 0000\n3-3: 00\n4-127: 00000002200000000000000030000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436993578, "post_id": 31440800, "comment_id": 50851064, "body": "my output from this... slightly off maybe?"}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436993581, "post_id": 31440800, "comment_id": 50851067, "body": "[0, 0] 0x [2, 1] 0000 [3, 3] 00 [127, 4] 0000000000"}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436993704, "post_id": 31440800, "comment_id": 50851144, "body": "Your input string apparently starts with <code>0x</code>, but the example input string in your question doesn&#39;t. If your actual data has an <code>0x</code>, or if your actual data is an <code>int</code> instead of a string, please update your question."}, {"owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "edited": false, "score": 0, "creation_date": 1436994280, "post_id": 31440800, "comment_id": 50851455, "body": "Hm, the string I am dealing with is the block I have up there labeled HEX String. It&#39;s a string."}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": false, "score": 0, "last_activity_date": 1436993412, "creation_date": 1436993412, "answer_id": 31440800, "question_id": 31440326, "link": "https://stackoverflow.com/questions/31440326/parsing-bits-from-a-128-byte-block-of-hex-in-python/31440800#31440800", "title": "Parsing bits from a 128 byte block of hex in Python", "body": "<pre><code># Input: array of byte values\nx='''\n100000000000000220000000000000003000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n0000000000000000\n'''\n\n# Input: list of offsets\no = ['0', '2-1', '3', '127-4']\n\n# Put everything in a more useful format\nx = ''.join(x.split())\no = [item.split('-') for item in o]\no = [[int(item) for item in pair] for pair in o]\nfor pair in o:\n    if len(pair) == 1:\n        pair.append(pair[0])\n\n# Display the values\nfor pair in o:\n    print pair, x[pair[1]*2:pair[0]*2+2]\n</code></pre>\n"}], "owner": {"reputation": 344, "user_id": 5054204, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/YgwYl.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/5054204/ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1106, "favorite_count": 0, "accepted_answer_id": 31440506, "answer_count": 2, "score": 1, "last_activity_date": 1436994721, "creation_date": 1436991843, "last_edit_date": 1592644375, "question_id": 31440326, "link": "https://stackoverflow.com/questions/31440326/parsing-bits-from-a-128-byte-block-of-hex-in-python", "title": "Parsing bits from a 128 byte block of hex in Python", "body": "<p>Ok, so I am in a bit of a weird parsing scenario, but here it goes.</p>\n<p>I have a script that reads in the bytes it needs to parse. I need to parse out those bytes and then return them.</p>\n<h1>Example</h1>\n<pre><code>-------------------------------------------------------------------\nDescription: Log Parameters   : Byte Offset:  0\n-------------------------------------------------------------------\n-------------------------------------------------------------------\nDescription: Offset           : Byte Offset:  2-1\n-------------------------------------------------------------------\n-------------------------------------------------------------------\nDescription: Request Count    : Byte Offset:  3\n-------------------------------------------------------------------\n-------------------------------------------------------------------\nDescription: Reserved         : Byte Offset:  127-4\n-------------------------------------------------------------------\n</code></pre>\n<p>So my script will eventually have the ability to output the hex associated with each line. For now, I need to say, ok, Byte offset is 0, go get the first byte and return it in hex. Ok, byte offset is 127-4, go get that, print the hex value right there on the screen.</p>\n<p>The format is 127 bytes of hex stored in a string.</p>\n<h1>HEX String</h1>\n<pre><code>100000000000000220000000000000003000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n000000000000000000000000000000000000000000000000\n0000000000000000\n</code></pre>\n<p>The 0x prefix has been stripped and stored into a string.</p>\n<p>There are a lot of zeroes in this example, but this is just a random case.\nThe byte offsets can fluctuate, so I'm trying to figure out how to basically iterate through an array of byte offsets and parse them incrementally.</p>\n<p>It's weird to me that if a description takes up so many bytes, bitwise operations become more difficult because I can't split these up into 32 or even 64 bit blocks.</p>\n<h1>What I Want</h1>\n<p>Currently I have an array of the byte offsets in the following form:</p>\n<pre><code>[0, 2-1, 3, 127-4]\n</code></pre>\n<p>I want to iterate through each of those byte offsets, parse them from long hex string and print them.</p>\n<h1>Question</h1>\n<p>How do I use the byte offsets from my array and parse them out of the hex string.</p>\n"}, {"tags": ["python", "cherrypy", "cx-freeze"], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 1069841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3fa05e97d0f1b7234657c4b2f5bc4ea8?s=128&d=identicon&r=PG", "display_name": "gattu marrudu", "link": "https://stackoverflow.com/users/1069841/gattu-marrudu"}, "edited": false, "score": 0, "creation_date": 1437073669, "post_id": 31455734, "comment_id": 50891556, "body": "Thanks. It works if I add the <code>--include-modules=cherrypy.wsgiserver.wsgiserver3</code> command line option, but not if I add the module to the <code>includes</code> list in setup.py (see config file I just add to my post). How do I add this option to my config file?"}, {"owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "reply_to_user": {"reputation": 237, "user_id": 1069841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3fa05e97d0f1b7234657c4b2f5bc4ea8?s=128&d=identicon&r=PG", "display_name": "gattu marrudu", "link": "https://stackoverflow.com/users/1069841/gattu-marrudu"}, "edited": false, "score": 1, "creation_date": 1437117628, "post_id": 31455734, "comment_id": 50906363, "body": "@gattumarrudu Take a look."}, {"owner": {"reputation": 237, "user_id": 1069841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3fa05e97d0f1b7234657c4b2f5bc4ea8?s=128&d=identicon&r=PG", "display_name": "gattu marrudu", "link": "https://stackoverflow.com/users/1069841/gattu-marrudu"}, "edited": false, "score": 0, "creation_date": 1437141790, "post_id": 31455734, "comment_id": 50920424, "body": "I tried exactly the same thing to no avail. I was surprised that this is not documented and so I guessed that <code>includes</code>, which is documented and described very similarly as the <code>include-modules</code> command line option, would have the same effect."}], "tags": [], "owner": {"reputation": 16763, "user_id": 2072035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64e664749fc4faf8c7964ce44729a9cc?s=128&d=identicon&r=PG", "display_name": "saaj", "link": "https://stackoverflow.com/users/2072035/saaj"}, "is_accepted": true, "score": 4, "last_activity_date": 1437149777, "last_edit_date": 1592644375, "creation_date": 1437053641, "answer_id": 31455734, "question_id": 31440277, "link": "https://stackoverflow.com/questions/31440277/cherrypy-cannot-find-wsgiserver-module-when-packed-with-cxfreeze/31455734#31455734", "title": "Cherrypy cannot find wsgiserver module when packed with cxfreeze", "body": "<p>The question included the answer. <em>cxfreeze</em> must be doing some sort of dependency analysis. I don't know exactly what the method is, it can be an AST traversal for instance, but what it is doing is looking for <code>import</code>s. When a library does a dynamic import like <code>exec('from .wsgiserver3 import *')</code> <em>cxfreeze</em> won't recognize it. Thus you need to list such modules explicitly in <em>cxfreeze</em> configuration. I see configuration option call <a href=\"http://cx-freeze.readthedocs.org/en/latest/script.html#cmdoption--include-modules\" rel=\"nofollow noreferrer\"><code>--include-modules</code></a>.</p>\n<p>Btw, for the same reason of dynamic import CherryPy 3.5 (as far as I can remember) wheel distribution lacked the same <code>wsgiserver3</code> module.</p>\n<h1>Update</h1>\n<p>Here's a quote from documentation section <a href=\"http://cx-freeze.readthedocs.org/en/latest/distutils.html#distutils-commands\" rel=\"nofollow noreferrer\"><code>distutils commands</code></a>:</p>\n<blockquote>\n<p>To specify options in the script, use underscores in the name. For example:</p>\n<pre><code>setup(options = {'build_exe': {'init_script':'Console'}} )\n</code></pre>\n<p>To specify the same options on the command line, use dashes, like this:</p>\n<pre><code>python setup.py build_exe --init-script Console\n</code></pre>\n</blockquote>\n<h1>Update 2</h1>\n<p>Okay, I pip-installed cx_freeze (not that fast, only with help of <a href=\"https://bitbucket.org/anthony_tuininga/cx_freeze/issues/32/cant-compile-cx_freeze-in-ubuntu-1304#comment-13195058\" rel=\"nofollow noreferrer\">this comment</a>) and did the test myself.</p>\n<p><em>app.py</em></p>\n<pre><code>#!/usr/bin/env python3\n\n\nimport cherrypy\n\n\nclass App:\n\n  @cherrypy.expose\n  def index(self):\n    return 'Hello world!'\n\n\nif __name__ == '__main__':\n  cherrypy.quickstart(App(), '/')\n</code></pre>\n<p><em>setup.py</em></p>\n<pre><code>import sys\n\nfrom cx_Freeze import setup, Executable\n\n\noptions = {\n  'build_exe' : {\n    'includes' : 'cherrypy.wsgiserver.wsgiserver3'\n  }\n}\nexecutables = [Executable('app.py')]\n\nsetup(\n  name        = 'CherryPyApp',\n  version     = '0.1',\n  description = 'Testing CherryPy wsgiserver3 dynamic import',\n  options     = options,\n  executables = executables\n)\n</code></pre>\n<p>It does work with <code>{'includes': 'cherrypy.wsgiserver.wsgiserver3'}</code>, it doesn't without it, <code>ImportError(&quot;No module named 'cherrypy.wsgiserver.wsgiserver3'&quot;,)</code>.</p>\n"}], "owner": {"reputation": 237, "user_id": 1069841, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/3fa05e97d0f1b7234657c4b2f5bc4ea8?s=128&d=identicon&r=PG", "display_name": "gattu marrudu", "link": "https://stackoverflow.com/users/1069841/gattu-marrudu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3603, "favorite_count": 1, "accepted_answer_id": 31455734, "answer_count": 1, "score": 2, "last_activity_date": 1437149777, "creation_date": 1436991690, "last_edit_date": 1437072543, "question_id": 31440277, "link": "https://stackoverflow.com/questions/31440277/cherrypy-cannot-find-wsgiserver-module-when-packed-with-cxfreeze", "title": "Cherrypy cannot find wsgiserver module when packed with cxfreeze", "body": "<p>I am deploying a cherrypy app by packing into a set of executable files with cx_freeze. </p>\n\n<p>I am using python 3 (via scl in CentOS). In order to compile the binaries I run: </p>\n\n<pre><code>scl enable python33 -- cxfreeze server.py\n</code></pre>\n\n<p>where server.py is the entry script. </p>\n\n<p>When I execute the resulting file, the server starts and immediately stops with the error: </p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/process/wspbus.py\", line 205, in publish\n    output.append(listener(*args, **kwargs))\n  File \"/opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/_cpserver.py\", line 167, in start\n    self.httpserver, self.bind_addr = self.httpserver_from_self()\n  File \"/opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/_cpserver.py\", line 157, in httpserver_from_self\n    from cherrypy import _cpwsgi_server\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1616, in _handle_fromlist\n    _call_with_frames_removed(import_, from_name)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 313, in _call_with_frames_removed\n    return f(*args, **kwds)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1567, in _find_and_load\n    return _find_and_load_unlocked(name, import_)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1534, in _find_and_load_unlocked\n    loader.load_module(name)\n  File \"/opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/_cpwsgi_server.py\", line 7, in &lt;module&gt;\n    from cherrypy import wsgiserver\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1616, in _handle_fromlist\n    _call_with_frames_removed(import_, from_name)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 313, in _call_with_frames_removed\n    return f(*args, **kwds)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1567, in _find_and_load\n    return _find_and_load_unlocked(name, import_)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1534, in _find_and_load_unlocked\n    loader.load_module(name)\n  File \"/opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/wsgiserver/__init__.py\", line 14, in &lt;module&gt;\n    exec('from .wsgiserver3 import *')\n  File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1567, in _find_and_load\n    return _find_and_load_unlocked(name, import_)\n  File \"/opt/rh/python33/root/usr/lib64/python3.3/importlib/_bootstrap.py\", line 1531, in _find_and_load_unlocked\n    raise exc\nImportError: No module named 'cherrypy.wsgiserver.wsgiserver3'\n</code></pre>\n\n<p>The cxfreeze script output contains, among the rest, this line:</p>\n\n<pre><code>Missing modules:\n[...]\n? wsgiserver2 imported from cherrypy.wsgiserver\n[...]\nThis is not necessarily a problem - the modules may not be needed on this platform.\n</code></pre>\n\n<p>In /opt/rh/python33/root/usr/lib/python3.3/site-packages/cherrypy/wsgiserver/__init__.py I can see: </p>\n\n<pre><code>import sys\nif sys.version_info &lt; (3, 0):\n    from wsgiserver2 import *\nelse:\n    # Le sigh. Boo for backward-incompatible syntax.\n    exec('from .wsgiserver3 import *')\n</code></pre>\n\n<p>I wonder why wsgiserver is not imported correctly. </p>\n\n<p>I also tried to include the <code>wsgiserver3</code> module explicitly in setup.py:</p>\n\n<pre><code>buildOptions = {\n    'packages' : ['cherrypy'],\n    'includes' : ['cherrypy.wsgiserver.wsgiserver3'],\n    'excludes' : [],\n    'path' : sys.path,\n}\n\nimport sys\nbase = 'Win32Service' if sys.platform=='win32' else None\n\nexecutables = [\n    Executable('server.py', base=base, targetName = 'myapp')\n]\n\nsetup(name='Myapp',\n      version = '1.0beta1',\n      description = 'My App',\n      options = dict(build_exe = buildOptions),\n      executables = executables)\n</code></pre>\n\n<p>Any hints?</p>\n\n<p>Thanks,</p>\n\n<p>gm</p>\n"}, {"tags": ["python", "opengl", "pygame"], "comments": [{"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1437026354, "post_id": 31440249, "comment_id": 50861298, "body": "you most likely did not register needed extension like MultiTexturing ... Either you do it yourself which is a pain in the... or use some lib for that I use <code>GLEW</code> for that ,,, you just init OpenGL and after that you call glew init and that is all after that you can use any extension your gfx card have and GLEW supports ... To check if your extension is present read the extension strings or (in GLEW)  jus look if used function is not NULL"}, {"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1437026755, "post_id": 31440249, "comment_id": 50861462, "body": "how you want to use more textures at once? (GLSL or some legacy GL texture combinations) With multi texturing you should provide texture coordinates for each unit <a href=\"http://www.informit.com/articles/article.aspx?p=770639&amp;seqNum=5\" rel=\"nofollow noreferrer\">first relevant google hit</a>"}], "owner": {"reputation": 11, "user_id": 5116208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed057b25243335b3c8edbf38cc3c3d32?s=128&d=identicon&r=PG&f=1", "display_name": "Silas247", "link": "https://stackoverflow.com/users/5116208/silas247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 435, "favorite_count": 2, "closed_date": 1611918429, "answer_count": 0, "score": 1, "last_activity_date": 1436993113, "creation_date": 1436991595, "last_edit_date": 1436993113, "question_id": 31440249, "link": "https://stackoverflow.com/questions/31440249/python-opengl-pygame-multiple-textures-on-a-cube", "closed_reason": "Duplicate", "title": "python opengl (pygame) multiple textures on a cube", "body": "<p>I want this code to Display a cube(which already works), and render the pictures, given in the <code>imgNames</code> list, as surfaces of the cube.\nThis partially works it only renders the last given texture on every side.\nI tried fiddling around with <code>glActiveClientTexturesARB()</code> but it told be that this Name wasn't defined.</p>\n\n<p>Are there any suggestions?</p>\n\n<pre><code>def Cube(oV,imgNames): #oV is the starting point from the cube\n    #creating a list of the raw img data\n    imgs=[]\n    for imgName in imgNames:\n        imgs.append(pygame.image.load(imgName))\n\n    h=imgs[0].get_height()/1000\n    l=imgs[0].get_width()/1000\n    w=imgs[1].get_width()/1000\n\n\n    #setting up verticies and surfaces\n    verticies = (\n        (vAdd(oV,(0,l,0))),\n        (vAdd(oV,(h,l,0))),\n        (vAdd(oV,(h,0,0))),\n        (oV),\n        (vAdd(oV,(0,l,w))),\n        (vAdd(oV,(h,l,w))),\n        (vAdd(oV,(0,0,w))),\n        (vAdd(oV,(h,0,w))),\n        )\n\n\n    surfaces = (\n        (0,1,2,3),\n        (3,2,7,6),\n        (6,7,5,4),\n        (4,5,1,0),\n        (1,5,7,2),\n        (4,0,3,6),    \n        )\n\n    #saw somebody use that for multitexturing, but doesn's seen to work\n    glTs=(\"GL_TEXTURE0_ARB\",\"GL_TEXTURE1_ARB\",\"GL_TEXTURE2_ARB\",\n          \"GL_TEXTURE3_ARB\",\"GL_TEXTURE4_ARB\",\"GL_TEXTURE5_ARB\")\n\n    #drawing each surface individually\n    x=0\n    for surface in surfaces:\n        try:\n            img=imgs[x]\n            try:\n                glActiveClientTextureARB(glTs[x])\n            except:\n                pass\n\n            textureData = pygame.image.tostring(img, \"RGB\", 1)\n            width = img.get_width()\n            height = img.get_height()\n\n            im = glGenTextures(1)\n            glBindTexture(GL_TEXTURE_2D, im)\n\n            glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_LINEAR)\n            glTexImage2D(GL_TEXTURE_2D, 0, GL_RGB, width, height, 0, GL_RGB, GL_UNSIGNED_BYTE, textureData)\n            glEnable(GL_TEXTURE_2D)\n        except:\n            pass\n        glBegin(GL_QUADS)\n        glTexCoord2f(0,0)\n        glVertex3f(verticies[surface[0]][0],verticies[surface[0]][1],verticies[surface[0]][2])\n        glTexCoord2f(0,1)\n        glVertex3f(verticies[surface[1]][0],verticies[surface[1]][1],verticies[surface[1]][2])\n        glTexCoord2f(1,1)\n        glVertex3f(verticies[surface[2]][0],verticies[surface[2]][1],verticies[surface[2]][2])\n        glTexCoord2f(1,0)\n        glVertex3f(verticies[surface[3]][0],verticies[surface[3]][1],verticies[surface[3]][2])\n        glEnd()\n        x+=1\n</code></pre>\n"}, {"tags": ["python", "csv"], "comments": [{"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 2, "creation_date": 1436991585, "post_id": 31440201, "comment_id": 50849884, "body": "Did you try <code>csv.reader(f, delimiter=&#39;\\t&#39;)</code> ? By default, it expects comma as delimiter."}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 1, "creation_date": 1436991656, "post_id": 31440201, "comment_id": 50849921, "body": "I ran your script got <code>&gt;NOT FOUND &gt;FOUND &gt;NOT FOUND</code> what else were you expecting?"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436991711, "post_id": 31440201, "comment_id": 50849961, "body": "@mehtunguh Just tried that still not found"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436991741, "post_id": 31440201, "comment_id": 50849974, "body": "@Leb For it to find the name and only say &quot;Found&quot; and run the code within that"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 1, "creation_date": 1436991911, "post_id": 31440201, "comment_id": 50850075, "body": "This is really confusing, you&#39;re opening a file to print &quot;FOUND&quot;?"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436991978, "post_id": 31440201, "comment_id": 50850117, "body": "Or are you trying to <i>write</i> to the file &quot;FOUND&quot;?"}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 1, "creation_date": 1436991983, "post_id": 31440201, "comment_id": 50850123, "body": "What does the csv file use for delimiter? Are those spaces or tabs? They appear to be spaces, which would make it impossible to use csv to parse the columns."}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436992001, "post_id": 31440201, "comment_id": 50850135, "body": "@Leb I&#39;m opening the file and then looking to see if the variable &quot;Name&quot; is within it. In the example I got it to print &quot;FOUND&quot; but in my full program this would be replaced with the corresponding code"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436992019, "post_id": 31440201, "comment_id": 50850147, "body": "@mehtunguh I&#39;m pretty sure he&#39;s using that format to present it in here. They&#39;re not tabs."}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436992092, "post_id": 31440201, "comment_id": 50850193, "body": "@max.church2000 what is the corresponding code? Writing to file?"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436992120, "post_id": 31440201, "comment_id": 50850211, "body": "@mehtunguh I&#39;m not sure what you mean, but I havnt edited it so what ever CSV&#39;s normally edit by I assume"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436992151, "post_id": 31440201, "comment_id": 50850224, "body": "@Leb Appending that row instead of a new row, yes"}, {"owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436992190, "post_id": 31440201, "comment_id": 50850247, "body": "@mehtunguh CSV is Comma Separated Values, so by default it&#39;s commas, unless it was written differently then I&#39;m not sure."}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436992443, "post_id": 31440201, "comment_id": 50850395, "body": "@max.church2000 I mean the actual file. Can you look at the lines in the file? Are there comma&#39;s or something else between the columns?"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "edited": false, "score": 0, "creation_date": 1436992615, "post_id": 31440201, "comment_id": 50850493, "body": "@leb I haven&#39;t changed anything in the way it was written"}, {"owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "reply_to_user": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 0, "creation_date": 1436992653, "post_id": 31440201, "comment_id": 50850522, "body": "@mehtunguh there are no commas between the lines"}], "answers": [{"tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 0, "last_activity_date": 1436993182, "creation_date": 1436993182, "answer_id": 31440724, "question_id": 31440201, "link": "https://stackoverflow.com/questions/31440201/not-finding-variable-within-csv-file/31440724#31440724", "title": "Not finding variable within CSV File", "body": "<p>It's still a little vague on your expected outcome, but you definitely to change <code>print(\"FOUND\")</code> to <code>fp.write(\"whatever the output is\")</code></p>\n\n<p>The way you're opening the file and appending to it at the same time, can be dangerous and not recommended. It's always better to write to a new file to prevent issues.</p>\n\n<p>If you're wanting to write <code>Steve</code> to the new file then just <code>row[0]</code> if you're wanting to write <code>Steve 3</code> then you need to split the list of <code>(\"Steve\", 3)</code> before writing. <code>write()</code> only allows strings, not a list or tuple.</p>\n\n<p>Let me know if this clarifies things.</p>\n"}, {"tags": [], "owner": {"reputation": 163, "user_id": 2787541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f6e9c74a215b6256803b4b7be78a65?s=128&d=identicon&r=PG", "display_name": "Maxime Biette", "link": "https://stackoverflow.com/users/2787541/maxime-biette"}, "is_accepted": false, "score": 1, "last_activity_date": 1436993452, "creation_date": 1436993452, "answer_id": 31440820, "question_id": 31440201, "link": "https://stackoverflow.com/questions/31440201/not-finding-variable-within-csv-file/31440820#31440820", "title": "Not finding variable within CSV File", "body": "<p>Your file doesn't seem to be properly formatted as a CSV.</p>\n\n<p>The most common CSV formatting that you can see is with commas (could be semicolon or have quotes depending on internationalization):</p>\n\n<pre><code>Dave,55\nSteve,3\nMax,56\n</code></pre>\n\n<p>The code to read this CSV would be the following indeed:</p>\n\n<pre><code>import csv\nf = open('comma_separated.csv', 'r')\ncsvread = csv.reader(f)\nfor row in csvread:\n    if row[0] == \"Steve\":\n        print(\"FOUND\")\n    else:\n        print(\"NOT FOUND\")\n</code></pre>\n\n<p>In your \"csv\" I see no seperator. It looks like a fixed width formatting (meaning it is not a CSV file), meaning the value of each column will always take the same space. You can then split your data just by selecting the column where the data are. Another way could be to use regular expression.</p>\n\n<pre><code>f = open('fixed_width.txt', 'r')\nfor row in f:\n    if row[0:5].strip() == \"Steve\":\n        print(\"FOUND\")\n    else:\n        print(\"NOT FOUND\")\n</code></pre>\n\n<p>As other suggested, if the fields are indeed separated with tabulation the file should look that way (If you copy-paste in a text editor you will have a better chance at seeing the tabulation between the values):</p>\n\n<pre><code>Dave    55\nSteve   3\nMax 56\n</code></pre>\n\n<p>The corresponding code will get you the answer you need with tabulations:</p>\n\n<pre><code>import csv\nf = open('tab_separated.tsv', 'r')\ncsvread = csv.reader(f, delimiter='\\t')\nfor row in csvread:\n    if row[0] == \"Steve\":\n        print(\"FOUND\")\n    else:\n        print(\"NOT FOUND\")\n</code></pre>\n\n<p>Also please note that in my examples that I removed the open() of the file in append mode because I don't see the use case of doing so and it was not answering your question.</p>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "is_accepted": false, "score": 0, "last_activity_date": 1436993676, "creation_date": 1436993676, "answer_id": 31440886, "question_id": 31440201, "link": "https://stackoverflow.com/questions/31440201/not-finding-variable-within-csv-file/31440886#31440886", "title": "Not finding variable within CSV File", "body": "<p>Since your file seems to be separated by whitespace instead of a character delimiter, you cannot use <code>csv.reader</code> to parse it.</p>\n\n<p>instead of</p>\n\n<pre><code>csvread = csv.reader(f)\nfor row in csvread:\n</code></pre>\n\n<p>try this</p>\n\n<pre><code>for line in f:\n    row = line.split()\n</code></pre>\n\n<p>this should give the result you are looking for.</p>\n"}], "owner": {"reputation": 17, "user_id": 4351498, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UBhLk.png?s=128&g=1", "display_name": "mx.church_", "link": "https://stackoverflow.com/users/4351498/mx-church"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 1, "answer_count": 3, "score": 0, "last_activity_date": 1436993676, "creation_date": 1436991434, "question_id": 31440201, "link": "https://stackoverflow.com/questions/31440201/not-finding-variable-within-csv-file", "title": "Not finding variable within CSV File", "body": "<p>So here i am looking for the name \"Steve\" in my csv file. However it cant find it? (It prints \"Not found\" to shell indicating that it ran the else statement)</p>\n\n<p>This is my CSV File:    </p>\n\n<pre><code>Dave    55\nSteve   3\nMax     56\n</code></pre>\n\n<p>This is my python File:</p>\n\n<pre><code>import csv\nname = \"Steve\"\nscore = \"5\"\nclassname = \"Class A\"\n\nif classname == \"Class A\":\n    f = open('Class A.csv', 'r')\n    csvread = csv.reader(f)\n    for row in csvread:\n        if row[0] == name:\n            with open('Class A.csv', 'a', newline='') as fp:\n                print(\"FOUND\")\n        else:\n            with open('Class A.csv', 'a', newline='') as fp:\n                print(\"NOT FOUND\")\n</code></pre>\n\n<p>(My code extends beyond this but this is the issue bit so I'l save you the whole program)</p>\n"}, {"tags": ["python", "python-3.x", "floor"], "comments": [{"owner": {"reputation": 774, "user_id": 5091356, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001677227706/picture?type=large", "display_name": "Akshat Harit", "link": "https://stackoverflow.com/users/5091356/akshat-harit"}, "edited": false, "score": 0, "creation_date": 1436991504, "post_id": 31440173, "comment_id": 50849834, "body": "<a href=\"http://python-history.blogspot.com/2010/08/why-pythons-integer-division-floors.html\" rel=\"nofollow noreferrer\">python-history.blogspot.com/2010/08/&hellip;</a> might help you."}, {"owner": {"reputation": 36413, "user_id": 2301450, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/4xgoZ.png?s=128&g=1", "display_name": "vaultah", "link": "https://stackoverflow.com/users/2301450/vaultah"}, "edited": false, "score": 1, "creation_date": 1436991520, "post_id": 31440173, "comment_id": 50849841, "body": "similar to <a href=\"http://stackoverflow.com/questions/14348219/integer-division-modulo-operation-with-negative-operands-in-python\">Integer division &amp; modulo operation with negative operands in Python</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436991743, "post_id": 31440211, "comment_id": 50849975, "body": "Or: <code>fdiv = lambda a, b: (a - a % b) &#47; b</code>"}, {"owner": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1566344731, "post_id": 31440211, "comment_id": 101624638, "body": "@AdamSmith It certainly doesn&#39;t work that way. Compare <code>1 &#47;&#47; 0.1</code> to <code>math.floor(1 &#47; 0.1)</code>."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1566368150, "post_id": 31440211, "comment_id": 101628900, "body": "@Selcuk that appears to be just floating point inaccuracies. <code>1 &#47; 0.1</code> is very nearly 10, so flooring it becomes 9. <code>math.floor(1 &#47; 0.1)</code> lets the <code>__truediv__</code> operator handle the floating point weirdness which it correctly accounts for, then floors afterwards."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "reply_to_user": {"reputation": 45099, "user_id": 2011147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FGRgf.jpg?s=128&g=1", "display_name": "Selcuk", "link": "https://stackoverflow.com/users/2011147/selcuk"}, "edited": false, "score": 0, "creation_date": 1566368250, "post_id": 31440211, "comment_id": 101628944, "body": "@Selcuk note that <code>1 &#47;&#47; Decimal(&#39;0.1&#39;) == Decimal(&#39;10&#39;)</code>. Similarly for a decimal whose binary floating-point is precise like <code>0.5</code>: <code>5 &#47;&#47; 0.5 == 10</code>"}], "tags": [], "owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "is_accepted": false, "score": 3, "last_activity_date": 1436991461, "creation_date": 1436991461, "answer_id": 31440211, "question_id": 31440173, "link": "https://stackoverflow.com/questions/31440173/how-does-floor-division-work-in-python/31440211#31440211", "title": "How does floor division work in python?", "body": "<p>Floor division works in Python the way it's mathematically defined.</p>\n\n<pre><code>x // y == math.floor(x/y)\n</code></pre>\n\n<p>In other words <code>x // y</code> is the largest integer less than or equal to <code>x / y</code></p>\n"}, {"tags": [], "owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "is_accepted": true, "score": 3, "last_activity_date": 1436991478, "creation_date": 1436991478, "answer_id": 31440215, "question_id": 31440173, "link": "https://stackoverflow.com/questions/31440173/how-does-floor-division-work-in-python/31440215#31440215", "title": "How does floor division work in python?", "body": "<p>The way it should:</p>\n\n<pre><code>5 / 2 = 2.5        (2)\n5 / 7 = 0.714285   (0)\n5 / -6 = \u22120.8333   (-1 is the integer below -0.833333)\n5 / -2 = \u22122.5      (-3)\n5 / -3 = \u22121.6666   (-2)\n</code></pre>\n\n<p>It's a basic floor. It divides it, and then makes it the integer below.</p>\n"}, {"comments": [{"owner": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1437035070, "post_id": 31440218, "comment_id": 50865952, "body": "Plus one although the undisclosed mention of floating point issues is a distraction."}, {"owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "reply_to_user": {"reputation": 219167, "user_id": 2380830, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/5qiYa.jpg?s=128&g=1", "display_name": "Bathsheba", "link": "https://stackoverflow.com/users/2380830/bathsheba"}, "edited": false, "score": 0, "creation_date": 1437048154, "post_id": 31440218, "comment_id": 50874324, "body": "@Bathsheba: You can do integer division with floats, but you get floats back, which aren&#39;t precise."}], "tags": [], "owner": {"reputation": 25103, "user_id": 1340389, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5d0e5b16679b92b24c8262e1e6aa2aa7?s=128&d=identicon&r=PG", "display_name": "Kevin", "link": "https://stackoverflow.com/users/1340389/kevin"}, "is_accepted": false, "score": 4, "last_activity_date": 1436992269, "last_edit_date": 1436992269, "creation_date": 1436991479, "answer_id": 31440218, "question_id": 31440173, "link": "https://stackoverflow.com/questions/31440173/how-does-floor-division-work-in-python/31440218#31440218", "title": "How does floor division work in python?", "body": "<p>This is always true, ignoring floating point issues:</p>\n\n<pre><code>b*(a // b) + a % b == a\n</code></pre>\n\n<p>This is also always true:</p>\n\n<pre><code>((b &gt; 0) == (a % b &gt; 0)) or (a % b == 0)\n</code></pre>\n\n<p>Finally,</p>\n\n<pre><code>abs(a % b) &lt; abs(b)\n</code></pre>\n\n<p>To provide this behavior, integer division rounds towards negative infinity, rather than towards zero.</p>\n"}], "owner": {"reputation": 77, "user_id": 5087995, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec4f3c09a8d9060e1ba0ac9fff4fbf6b?s=128&d=identicon&r=PG&f=1", "display_name": "Usr_Dev", "link": "https://stackoverflow.com/users/5087995/usr-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13291, "favorite_count": 0, "closed_date": 1436995389, "accepted_answer_id": 31440215, "answer_count": 3, "score": -4, "last_activity_date": 1436992269, "creation_date": 1436991319, "question_id": 31440173, "link": "https://stackoverflow.com/questions/31440173/how-does-floor-division-work-in-python", "closed_reason": "Duplicate", "title": "How does floor division work in python?", "body": "<ol>\n<li>5//2 = 2;</li>\n<li>5//7 = 0;</li>\n<li>5//-6 = -1;</li>\n<li>5//-2 = -3;</li>\n<li>5//-3 = -2;</li>\n<li>5/-4 =  -2;</li>\n</ol>\n\n<p>Can someone explain the logic behind this?</p>\n"}, {"tags": ["python", "canvas", "matplotlib", "plot", "tkinter"], "comments": [{"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 1, "creation_date": 1436994467, "post_id": 31440167, "comment_id": 50851546, "body": "Please post a complete minimal example."}, {"owner": {"reputation": 1468, "user_id": 5018299, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e03ba5625fd43cb41670102e309ee192?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/5018299/dania"}, "reply_to_user": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "edited": false, "score": 0, "creation_date": 1437030312, "post_id": 31440167, "comment_id": 50863262, "body": "Thanks Eric, I&#39;ve updated the question and posted a working code, can you please check it? Thank you."}], "answers": [{"comments": [{"owner": {"reputation": 1468, "user_id": 5018299, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e03ba5625fd43cb41670102e309ee192?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/5018299/dania"}, "edited": false, "score": 0, "creation_date": 1437049757, "post_id": 31453958, "comment_id": 50875427, "body": "Thanks a lot Eric, this is working perfectly. There are two lines which are not clear to me, can you please tell me what does these two lines mean, fig = Figure(figsize=(6,6)) and a = fig.add_subplot(111)? Thank you."}, {"owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "reply_to_user": {"reputation": 1468, "user_id": 5018299, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e03ba5625fd43cb41670102e309ee192?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/5018299/dania"}, "edited": false, "score": 0, "creation_date": 1437051571, "post_id": 31453958, "comment_id": 50876777, "body": "I started from <a href=\"http://stackoverflow.com/questions/4073660/python-tkinter-embed-matplotlib-in-gui\" title=\"python tkinter embed matplotlib in gui\">stackoverflow.com/questions/4073660/&hellip;</a> where they make a figure then a subfigure then add the figure to the canvas. Hope this helps."}, {"owner": {"reputation": 895, "user_id": 6875778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2865a0ea6b44de5b273197112219d67f?s=128&d=identicon&r=PG&f=1", "display_name": "Aaron England", "link": "https://stackoverflow.com/users/6875778/aaron-england"}, "edited": false, "score": 0, "creation_date": 1545763833, "post_id": 31453958, "comment_id": 94691199, "body": "Hey, I know that I am years late to this conversation, but if I wanted to clear the plot with a command, how would I do that?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3376020"}, "edited": false, "score": 0, "creation_date": 1546207534, "post_id": 31453958, "comment_id": 94800957, "body": "I am trying to make an interactive scatter graph (with some click event) but it does not work with Figure :("}], "tags": [], "owner": {"reputation": 3184, "user_id": 4731042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/558e45917a7ce973da825c7dbcafd1f5?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Levieil", "link": "https://stackoverflow.com/users/4731042/eric-levieil"}, "is_accepted": true, "score": 23, "last_activity_date": 1437049179, "creation_date": 1437049179, "answer_id": 31453958, "question_id": 31440167, "link": "https://stackoverflow.com/questions/31440167/placing-plot-on-tkinter-main-window-in-python/31453958#31453958", "title": "Placing plot on Tkinter main window in Python", "body": "<p>Main changes:</p>\n\n<ol>\n<li>Using matplolib.figure instead of matplotlib.pyplot (and renaming all related functions)</li>\n<li>Adding a self.window variable</li>\n<li>Using pack() everywhere (you cannot mix grid and pack in one container.)</li>\n</ol>\n\n<p>Result:</p>\n\n<pre><code>__author__ = 'Dania'\nimport matplotlib\nmatplotlib.use('TkAgg')\nimport numpy as np\nfrom matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\nfrom matplotlib.figure import Figure\nfrom Tkinter import *\n\nclass mclass:\n    def __init__(self,  window):\n        self.window = window\n        self.box = Entry(window)\n        self.button = Button (window, text=\"check\", command=self.plot)\n        self.box.pack ()\n        self.button.pack()\n\n    def plot (self):\n        x=np.array ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\n        v= np.array ([16,16.31925,17.6394,16.003,17.2861,17.3131,19.1259,18.9694,22.0003,22.81226])\n        p= np.array ([16.23697,     17.31653,     17.22094,     17.68631,     17.73641 ,    18.6368,\n            19.32125,     19.31756 ,    21.20247  ,   22.41444   ,  22.11718  ,   22.12453])\n\n        fig = Figure(figsize=(6,6))\n        a = fig.add_subplot(111)\n        a.scatter(v,x,color='red')\n        a.plot(p, range(2 +max(x)),color='blue')\n        a.invert_yaxis()\n\n        a.set_title (\"Estimation Grid\", fontsize=16)\n        a.set_ylabel(\"Y\", fontsize=14)\n        a.set_xlabel(\"X\", fontsize=14)\n\n        canvas = FigureCanvasTkAgg(fig, master=self.window)\n        canvas.get_tk_widget().pack()\n        canvas.draw()\n\nwindow= Tk()\nstart= mclass (window)\nwindow.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 1468, "user_id": 5018299, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e03ba5625fd43cb41670102e309ee192?s=128&d=identicon&r=PG&f=1", "display_name": "Dania", "link": "https://stackoverflow.com/users/5018299/dania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62260, "favorite_count": 6, "accepted_answer_id": 31453958, "answer_count": 1, "score": 8, "last_activity_date": 1588462591, "creation_date": 1436991305, "last_edit_date": 1588462591, "question_id": 31440167, "link": "https://stackoverflow.com/questions/31440167/placing-plot-on-tkinter-main-window-in-python", "title": "Placing plot on Tkinter main window in Python", "body": "<p>I have a program that processes data then plots the result. Usually in Python plots are shown in a new window, but I want to show the plot in the same Tkinter window. I've searched and found these two answers, <a href=\"https://stackoverflow.com/questions/4073660/python-tkinter-embed-matplotlib-in-gui\">Python Tkinter Embed Matplotlib in GUI</a>, and <a href=\"https://stackoverflow.com/questions/11270078/how-do-i-refresh-a-matplotlib-plot-in-a-tkinter-window\">How do I refresh a matplotlib plot in a Tkinter window?</a>. They state that we should first make a canvas then place it on the window using grid or pack. This is the first time I use canvas, I've applied the concept, and here is a working sample code for that, </p>\n\n<pre><code>from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg\n\n__author__ = 'Dania'\nimport numpy as np\nfrom Tkinter import *\nimport matplotlib.pyplot as plt\nclass mclass:\n    def __init__(self,  window):\n        self.box = Entry(window)\n        self.button = Button (window, text=\"check\", command=self.plot)\n        self.box.pack ()\n        self.button.pack()\n\n    def plot (self):\n        x=np.array ([1, 2, 3, 4, 5, 6, 7, 8, 9, 10])\n        v= np.array ([16,16.31925,17.6394,16.003,17.2861,17.3131,19.1259,18.9694,22.0003,22.81226])\n        p= np.array ([16.23697,     17.31653,     17.22094,     17.68631,     17.73641 ,    18.6368,\n            19.32125,     19.31756 ,    21.20247  ,   22.41444   ,  22.11718  ,   22.12453])\n\n        plt.scatter(v,x,color='red')\n        plt.plot(p, range(2 +max(x)),color='blue')\n        plt.gca().invert_yaxis()\n\n        plt.suptitle (\"Estimation Grid\", fontsize=16)\n        plt.ylabel(\"Y\", fontsize=14)\n        plt.xlabel(\"X\", fontsize=14)\n        plt.show()\n        plt.gcf().canvas.draw()\n        fig = plt.figure()\n        canvas = FigureCanvasTkAgg(fig, master=window)\n        canvas.get_tk_widget().grid(row=1,column=24)\n        canvas.draw()\n\nwindow= Tk()\nstart= mclass (window)\nwindow.mainloop()\n</code></pre>\n\n<p>The code above first shows the plot in a separated window, then shows a gray canvas without a plot in the position specified in grid. Also, the canvas expands vertically and a part of the window disappears, in other words the canvas pushes the contents bellow it down, and they don't appear anymore as no vertical scrolling bar appear.  </p>\n\n<p>I want to show the plot in the same Tkinter window, and if any content is pushed down I want to be able to scroll the window.</p>\n"}, {"tags": ["python", "regex", "regex-group", "os.path"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1436991236, "post_id": 31440117, "comment_id": 50849666, "body": "What exactly are you trying to extract?  That is, given your second example (<code>Z:\\dir1\\dir2\\dir3\\dir4\\dir5\\file.txt</code>), what exactly do you want?"}, {"owner": {"reputation": 5228, "user_id": 1518924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VQGia.jpg?s=128&g=1", "display_name": "Kamehameha", "link": "https://stackoverflow.com/users/1518924/kamehameha"}, "edited": false, "score": 0, "creation_date": 1436991300, "post_id": 31440117, "comment_id": 50849708, "body": "What do you mean by <code>extract each file directory and the file</code>? Do you want to store them separately in a list? Can you show desired output?"}, {"owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1436991512, "post_id": 31440117, "comment_id": 50849837, "body": "@larsks Please see the edited question"}, {"owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "reply_to_user": {"reputation": 5228, "user_id": 1518924, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VQGia.jpg?s=128&g=1", "display_name": "Kamehameha", "link": "https://stackoverflow.com/users/1518924/kamehameha"}, "edited": false, "score": 0, "creation_date": 1436991551, "post_id": 31440117, "comment_id": 50849862, "body": "@Kamehameha I want to take each directory name between the backslashes <code>` as well as the file name and write each element to it&#39;s own column by having a bar </code>|` in between the <code>dir</code> names and file name. I will write them to the output file <code>|</code> delimited. The desired output is describe in the edited question above."}], "answers": [{"comments": [{"owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "edited": false, "score": 0, "creation_date": 1436998715, "post_id": 31440313, "comment_id": 50853457, "body": "When i run <code>filename2 = splitFilePath[1]</code> against the string <code>E:\\dir1\\Logs\\dir2\\1998-12-23\\message.txt</code> I get the following error: <code>IndexError: list index out of range</code>. Also, the regex for search a <code>`</code> is <code>(r&#39;\\\\&#39;)</code>"}, {"owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "reply_to_user": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "edited": false, "score": 0, "creation_date": 1437041302, "post_id": 31440313, "comment_id": 50870028, "body": "I&#39;ve corrected and tested the example, don&#39;t use r&#39;\\\\&#39; but just &#39;\\\\&#39;."}, {"owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "edited": false, "score": 0, "creation_date": 1437051283, "post_id": 31440313, "comment_id": 50876580, "body": "Awesome! It works and I got the following output when I <code>print(directory.split(&quot;\\\\&quot;)</code>: <code>[&#39;E:&#39;, &#39;dir1&#39;, &#39;Logs&#39;, &#39;dir2&#39;, &#39;1998-12-23&#39;]</code>."}], "tags": [], "owner": {"reputation": 6174, "user_id": 1577341, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nmeAD.jpg?s=128&g=1", "display_name": "Jacques de Hooge", "link": "https://stackoverflow.com/users/1577341/jacques-de-hooge"}, "is_accepted": true, "score": 2, "last_activity_date": 1437079209, "last_edit_date": 1437079209, "creation_date": 1436991780, "answer_id": 31440313, "question_id": 31440117, "link": "https://stackoverflow.com/questions/31440117/extract-directory-names-from-dynamic-file-paths-in-python/31440313#31440313", "title": "Extract Directory Names from Dynamic File Paths in Python", "body": "<p>You can separate fileName and directory by using:</p>\n\n<pre><code>splitFilePath = filePath.rsplit (']\\', 1)\ndirectory = splitFilePath [0]\nfileName = splitFilePath [1]\n</code></pre>\n\n<p>You can get all chunks separated by '\\' by using:</p>\n\n<pre><code>chunks = filePath.split (r'\\')\n</code></pre>\n\n<p>You can then take out particular chunks by using slicing and glue subsets of them together using join.</p>\n\n<p>Using the columns as you added in your edited question assumes you know your longest path to determine the number of columns:</p>\n\n<ul>\n<li>Split using split function as explained above</li>\n<li>Find length of longest list</li>\n<li>Insert empty strings in all lists but the longest before the last element to make the lists equal length</li>\n<li>Join them using '|' using join function</li>\n</ul>\n\n<p>In response to your comment:</p>\n\n<p>Running the following program</p>\n\n<pre><code>filePath = r'E:\\dir1\\Logs\\dir2\\1998-12-23\\message.txt'\nsplitFilePath = filePath.rsplit ('\\\\', 1)\ndirectory = splitFilePath [0]\nfileName = splitFilePath [1]\nprint directory\nprint fileName\n</code></pre>\n\n<p>gives as output</p>\n\n<pre><code>E:\\dir1\\Logs\\dir2\\1998-12-23\nmessage.txt\n</code></pre>\n\n<p>So '\\\\' rather than '\\' in the rsplit.</p>\n"}], "owner": {"reputation": 1046, "user_id": 3708219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3f25dc94a4bfc8f628a30bb81de5faba?s=128&d=identicon&r=PG&f=1", "display_name": "pHorseSpec", "link": "https://stackoverflow.com/users/3708219/phorsespec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 934, "favorite_count": 0, "accepted_answer_id": 31440313, "answer_count": 1, "score": 0, "last_activity_date": 1489399997, "creation_date": 1436991120, "last_edit_date": 1489399997, "question_id": 31440117, "link": "https://stackoverflow.com/questions/31440117/extract-directory-names-from-dynamic-file-paths-in-python", "title": "Extract Directory Names from Dynamic File Paths in Python", "body": "<p>Is there a way in Python to extract each file directory and the file in a windows file path either through the use of <code>REGEX</code> and <code>group()</code> or <code>os.path</code>? </p>\n\n<p>I'm dealing with the file paths that have varying amount of directories, so one line could be <code>D:\\dir1\\file.txt</code> while the next could be <code>Z:\\dir1\\dir2\\dir3\\dir4\\dir5\\file.txt</code>, so I wonder if there is even a way to do this with <code>REGEX</code> or a built in function in Python when there are varying amounts of <code>\\</code> in the text I'm searching.</p>\n\n<p>Any insight would be helpful, even if it's just the bitter truth that it can't be done.</p>\n\n<p>After Edit:</p>\n\n<p>I'm trying to extract the directory names in between the <code>\\</code> and the final <code>file.txt</code> and write each <code>dir</code> or <code>file</code> to it's own column in an output text file.</p>\n\n<p>My desired output for the above two lines would be:</p>\n\n<pre><code> col1|col2|col3|col4|col5|col6\n dir1|dir2|dir3|dir4|dir5|file.txt\n dir1|    |    |    |    |file.txt\n</code></pre>\n\n<p>I know <code>os.path</code> has a lot of good built in functions, but after reading this site: <a href=\"https://docs.python.org/2/library/os.path.html\" rel=\"nofollow noreferrer\">https://docs.python.org/2/library/os.path.html</a>, I don't think any of them are doing what I'm trying to do.</p>\n"}, {"tags": ["python", "list", "set"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436991202, "post_id": 31440056, "comment_id": 50849642, "body": "possible duplicate of <a href=\"http://stackoverflow.com/questions/986006/how-do-i-pass-a-variable-by-reference\">How do I pass a variable by reference?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 305833, "user_id": 68587, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/7d9fd158e03cbde94f7e0b33b78222af?s=128&d=identicon&r=PG", "display_name": "John Kugelman", "link": "https://stackoverflow.com/users/68587/john-kugelman"}, "is_accepted": true, "score": 8, "last_activity_date": 1436991133, "creation_date": 1436991133, "answer_id": 31440120, "question_id": 31440056, "link": "https://stackoverflow.com/questions/31440056/list-of-sets-set-add-is-adding-to-all-sets-in-the-list/31440120#31440120", "title": "List of sets, set.add() is adding to all sets in the list", "body": "<pre><code>storage = [set()] * 35\n</code></pre>\n\n<p>This creates a list with the <strong>same set</strong> listed 35 times. To create a list with 35 different sets, use:</p>\n\n<pre><code>storage = [set() for i in range(35)]\n</code></pre>\n\n<p>This second form ensures <code>set()</code> is called multiple times. The first form only calls it once and then duplicates that single object reference over and over.</p>\n"}, {"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 0, "last_activity_date": 1436991241, "creation_date": 1436991241, "answer_id": 31440149, "question_id": 31440056, "link": "https://stackoverflow.com/questions/31440056/list-of-sets-set-add-is-adding-to-all-sets-in-the-list/31440149#31440149", "title": "List of sets, set.add() is adding to all sets in the list", "body": "<pre><code>storage = [ set() ]*35\n\n&gt;&gt;&gt;[id(i) for i in storage]\n [3055749916L,\n 3055749916L,\n 3055749916L,\n .....\n 3055749916L]\n</code></pre>\n\n<p>You can see all are referencing to same object.So try</p>\n\n<pre><code>storage = [set() for i in range(35)]\n&gt;&gt;&gt;[id(i) for i in storage]\n[3054483692L,\n 3054483804L,\n .....\n 3054483916L,\n 3054484028L]\n</code></pre>\n"}], "owner": {"reputation": 23937, "user_id": 678572, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/kZ2Ia.jpg?s=128&g=1", "display_name": "O.rka", "link": "https://stackoverflow.com/users/678572/o-rka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 31440120, "answer_count": 2, "score": 2, "last_activity_date": 1436991241, "creation_date": 1436990929, "last_edit_date": 1436991230, "question_id": 31440056, "link": "https://stackoverflow.com/questions/31440056/list-of-sets-set-add-is-adding-to-all-sets-in-the-list", "title": "List of sets, set.add() is adding to all sets in the list", "body": "<p>I'm trying to iterate through a spreadsheet and make a set of all the columns in there while adding the values to their respective set.</p>\n\n<pre><code>storage = [ set() ]*35 #there's 35 columns in the excel sheet\nfor line in in_file: #iterate through all the lines in the file\n    t = line.split('\\t') #split the line by all the tabs\n    for i in range(0, len(t)): #iterate through all the tabs of the line\n        if t[i]: #if the entry isn't empty\n            storage[i].add(t[i]) #add the ith entry of the to the ith set\n</code></pre>\n\n<p>if i do this for <code>storage[0].add(t[0])</code> it works kind of but it adds to ALL the sets in the storage list...why is it doing that? I'm specifying which set I want to add it in.  I didn't post what the print out looks like for the sets b/c it's so big but basically every set is the same and has all the entries from the tabs</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1436991240, "post_id": 31439974, "comment_id": 50849668, "body": "Could you give example points and an area?"}, {"owner": {"reputation": 1, "user_id": 2505629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1ea01cc55c46a5da403685779e96d?s=128&d=identicon&r=PG", "display_name": "python1234", "link": "https://stackoverflow.com/users/2505629/python1234"}, "reply_to_user": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437071530, "post_id": 31439974, "comment_id": 50890387, "body": "this is similar as generating 1000 points for x and y and want to calculate area compassed by boundary constructed using the outermost points on the x,y plane. I cannot add image here yet."}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 1, "creation_date": 1437072406, "post_id": 31439974, "comment_id": 50890845, "body": "Do you mean a <a href=\"https://en.wikipedia.org/wiki/Convex_hull\" rel=\"nofollow noreferrer\">convex hull</a>?"}, {"owner": {"reputation": 1, "user_id": 2505629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1ea01cc55c46a5da403685779e96d?s=128&d=identicon&r=PG", "display_name": "python1234", "link": "https://stackoverflow.com/users/2505629/python1234"}, "reply_to_user": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1437077580, "post_id": 31439974, "comment_id": 50893642, "body": "Thank you, that was exactly what I wanted, I was not aware of the name."}], "owner": {"reputation": 1, "user_id": 2505629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74a1ea01cc55c46a5da403685779e96d?s=128&d=identicon&r=PG", "display_name": "python1234", "link": "https://stackoverflow.com/users/2505629/python1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436990646, "creation_date": 1436990646, "question_id": 31439974, "link": "https://stackoverflow.com/questions/31439974/area-span-using-python-for-a-collection-of-points", "title": "Area Span using python for a collection of points", "body": "<p>I have an array for x and y co-ordinates for a set of points.I wanted to estimate the area encompassed by these set of points. Is there any routine for this.</p>\n\n<p>To be more specific --> I have linear growing polymer (set of x,y points) which move laterally. I would like to estimate the area spanned by the polymer through its life time.</p>\n"}, {"tags": ["javascript", "python", "flask"], "comments": [{"owner": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1436991020, "post_id": 31439947, "comment_id": 50849560, "body": "it&#39;s a bit unclear what you&#39;re trying to achieve. Is this an ajax call? redirect?"}, {"owner": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1436991223, "post_id": 31439947, "comment_id": 50849653, "body": "From where comes content to the route <code>&#47;team&#47;Bowdoin</code>?"}, {"owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "reply_to_user": {"reputation": 5433, "user_id": 841339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0c6d669eb872c414d81490f00a2e626?s=128&d=identicon&r=PG", "display_name": "Mauro Baraldi", "link": "https://stackoverflow.com/users/841339/mauro-baraldi"}, "edited": false, "score": 0, "creation_date": 1436999574, "post_id": 31439947, "comment_id": 50853791, "body": "@MauroBaraldi What do you mean?  I want to have a general route where the text after the second slash, aka &quot;/team/RIGHT_HERE&quot; represents the team.  each leads to a diff page for that team.  I&#39;m just not sure how to give my Python code access to this value once I get it from the text box (using javascript)."}, {"owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "reply_to_user": {"reputation": 2927, "user_id": 2016946, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/O9mVs.png?s=128&g=1", "display_name": "GG_Python", "link": "https://stackoverflow.com/users/2016946/gg-python"}, "edited": false, "score": 0, "creation_date": 1436999673, "post_id": 31439947, "comment_id": 50853816, "body": "@GG_Python So the page /team will have a text box.  When the user enters a team name and clicks a certain button, I&#39;ll retrieve the contents of that text box using javascript.  But once I do that, I&#39;m not sure how to access it using Python within my routes file..."}], "answers": [{"tags": [], "owner": {"reputation": 4979, "user_id": 2676531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc88aa76113d738e11685389a1409a26?s=128&d=identicon&r=PG", "display_name": "Celeo", "link": "https://stackoverflow.com/users/2676531/celeo"}, "is_accepted": true, "score": 1, "last_activity_date": 1437006262, "creation_date": 1437006262, "answer_id": 31443442, "question_id": 31439947, "link": "https://stackoverflow.com/questions/31439947/flask-getting-js-to-talk-to-python/31443442#31443442", "title": "Flask: Getting JS to Talk to Python", "body": "<p>You have a textbox where the user will enter the team's name, and you want to get the URL for the page for that team's name from Flask using JavaScript.</p>\n\n<p>Assuming:</p>\n\n<pre><code>&lt;input type=\"text\" id=\"teamname\" placeholder=\"Team name\"&gt;\n&lt;button id=\"btn_teamname\"&gt;Get team name&lt;/button&gt;\n</code></pre>\n\n<p>and you have some handler on that button:</p>\n\n<pre><code>$('#btn_teamname').on('click', function() {\n    // do something\n});\n</code></pre>\n\n<p>First off, we'll want to use <a href=\"http://flask.pocoo.org/docs/0.10/api/#flask.url_for\" rel=\"nofollow\"><code>url_for</code></a> as that's the best way to generate URLs in Flask. Remember that once the user is viewing the page, Flask is done rendering it and we cannot use <code>url_for</code> without getting that from Flask (the back-end).</p>\n\n<p>For this example, do the next best thing: since you know that the team name variable is simply appended to the end of the URL, get the base URL from Flask and build the final URL with JavaScript.</p>\n\n<p>In your HTML somewhere, store the base URL from Flask:</p>\n\n<pre><code>&lt;span id=\"teambaseurl\" hidden&gt;{{ url_for('teamname') }}&lt;/span&gt;\n</code></pre>\n\n<p>Then, you can get it with JavaScript when the user clicks the button and finish the URL:</p>\n\n<pre><code>$('#btn_teamname').on('click', function() {\n    var baseURL = $('#teambaseurl').text();\n    var finalURL = baseURL + \"/\" + $('#teamname').val();\n    // window.location.href = finalURL; // if you want to immediately navigate to that page\n});\n</code></pre>\n"}], "owner": {"reputation": 6871, "user_id": 1316501, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3f0ddaf1d7d2aaeeb19b6ec8a99a70ee?s=128&d=identicon&r=PG", "display_name": "anon_swe", "link": "https://stackoverflow.com/users/1316501/anon-swe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 31443442, "answer_count": 1, "score": -1, "last_activity_date": 1437006262, "creation_date": 1436990545, "question_id": 31439947, "link": "https://stackoverflow.com/questions/31439947/flask-getting-js-to-talk-to-python", "title": "Flask: Getting JS to Talk to Python", "body": "<p>I'm writing a small Flask app and so far have only used routes that call Python functions.  So far, I just specify what Python function to call when the user hits a certain URL.</p>\n\n<p>Now I want to use the value of a textBox to construct the route.  So I'll have a textBox on the page and if the user types in \"Bowdoin\", I want to construct a route as follows:</p>\n\n<pre><code>/team/&lt;teamName&gt;\n</code></pre>\n\n<p>and teamName will be Bowdoin in this case.  </p>\n\n<p>I can get the value of the textBox with basic JS but I'm not sure how to pass this value to my views file and use in a route (as described above).</p>\n\n<p>Any help much appreciated.</p>\n\n<p>Thanks,\nbclayman</p>\n"}, {"tags": ["python", "pandas", "dataframe", "nan"], "comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1436990714, "post_id": 31439878, "comment_id": 50849385, "body": "It appears that Col1 is completely irrelevant, correct?  If not, please explain why."}], "answers": [{"tags": [], "owner": {"reputation": 12819, "user_id": 4805990, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d9f613c6b101a7c571caac271c632ca6?s=128&d=identicon&r=PG&f=1", "display_name": "Leb", "link": "https://stackoverflow.com/users/4805990/leb"}, "is_accepted": false, "score": 0, "last_activity_date": 1436990925, "creation_date": 1436990925, "answer_id": 31440055, "question_id": 31439878, "link": "https://stackoverflow.com/questions/31439878/filling-nan-in-dataframe-based-on-the-values-of-a-column/31440055#31440055", "title": "Filling NaN in DataFrame based on the values of a column", "body": "<p>Is this what you're looking for?</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\n\ndf['Col3'] = np.where(df['Col2'] == 'A', df['Col3'].fillna(10.1), df[\"Col3\"])\n</code></pre>\n\n<p>Of course replace accordingly.</p>\n"}, {"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 0, "last_activity_date": 1436992899, "last_edit_date": 1436992899, "creation_date": 1436991010, "answer_id": 31440084, "question_id": 31439878, "link": "https://stackoverflow.com/questions/31439878/filling-nan-in-dataframe-based-on-the-values-of-a-column/31440084#31440084", "title": "Filling NaN in DataFrame based on the values of a column", "body": "<p>You can take slices of the DataFrame for each element of <code>Col2</code>, and then concatenate the results.</p>\n\n<pre><code>&gt;&gt;&gt; pd.concat((df.loc[df.Col2 == letter, :].ffill() for letter in df.Col2.unique()))\n\n  Col1 Col2  Col3\n0    a    A  10.1\n1    b    A  10.1\n2    d    B   NaN\n3    e    B  12.3\n4    f    B  12.3\n5    g    C  14.1\n6    h    C  14.1\n7    i    C  14.1\n</code></pre>\n\n<p>EDIT:  It appears the method presented by @EdChum is the fastest by far.</p>\n\n<pre><code>%timeit pd.concat((df.loc[df.Col2 == letter, :].ffill() for letter in df.Col2.unique()))\n100 loops, best of 3: 3.57 ms per loop\n\n%timeit df.groupby('Col2').transform('fillna',method='ffill')['Col3']\n100 loops, best of 3: 4.59 ms per loop\n\n%timeit df.groupby('Col2')['Col3'].transform(lambda x: x.ffill())\n1000 loops, best of 3: 746 \u00b5s per loop\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1436991308, "post_id": 31440139, "comment_id": 50849712, "body": "I think you meant <code>df.groupby(&#39;Col2&#39;).transform(&#39;fillna&#39;,method=&#39;ffill&#39;)[&#39;Col3&#39;&zwnj;&#8203;]</code>. Otherwise, it seems to work, but only for groups which are consecutive (which is either the question or not)."}, {"owner": {"reputation": 1361, "user_id": 5120955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db26a9aaa8b37bfdc32817b1175441bb?s=128&d=identicon&r=PG&f=1", "display_name": "DrTRD", "link": "https://stackoverflow.com/users/5120955/drtrd"}, "reply_to_user": {"reputation": 66318, "user_id": 3510736, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/kVtHP.jpg?s=128&g=1", "display_name": "Ami Tavory", "link": "https://stackoverflow.com/users/3510736/ami-tavory"}, "edited": false, "score": 0, "creation_date": 1437070432, "post_id": 31440139, "comment_id": 50889778, "body": "Agreed, I&#39;ve edited the solution to reflect your comment.  Thanks!"}], "tags": [], "owner": {"reputation": 1361, "user_id": 5120955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db26a9aaa8b37bfdc32817b1175441bb?s=128&d=identicon&r=PG&f=1", "display_name": "DrTRD", "link": "https://stackoverflow.com/users/5120955/drtrd"}, "is_accepted": false, "score": 1, "last_activity_date": 1437070447, "last_edit_date": 1437070447, "creation_date": 1436991211, "answer_id": 31440139, "question_id": 31439878, "link": "https://stackoverflow.com/questions/31439878/filling-nan-in-dataframe-based-on-the-values-of-a-column/31440139#31440139", "title": "Filling NaN in DataFrame based on the values of a column", "body": "<p>One answer I found is the following:</p>\n\n<pre><code>df['col3'] = df.groupby('Col2').transform('fillna',method='ffill')['col3']\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"comments": [{"owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1436991498, "post_id": 31440183, "comment_id": 50849831, "body": "Hi Ed.  Note that the first B (index=2) should be a NaN, as it is the first value for &#39;B&#39; and cannot be forward filled."}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1436991546, "post_id": 31440183, "comment_id": 50849856, "body": "@Alexander no ffill going on here as the nan rows are dropped"}, {"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "reply_to_user": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "edited": false, "score": 0, "creation_date": 1436991707, "post_id": 31440183, "comment_id": 50849957, "body": "@Alexander OK I see what you mean"}], "tags": [], "owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "is_accepted": true, "score": 2, "last_activity_date": 1436991980, "last_edit_date": 1436991980, "creation_date": 1436991381, "answer_id": 31440183, "question_id": 31439878, "link": "https://stackoverflow.com/questions/31439878/filling-nan-in-dataframe-based-on-the-values-of-a-column/31440183#31440183", "title": "Filling NaN in DataFrame based on the values of a column", "body": "<p>If I understand correctly then you can groupby on 'Col2' and then call transform on 'Col3' and call <code>ffill</code>:</p>\n\n<pre><code>In [35]:\n\ndf['Col3'] = df.groupby('Col2')['Col3'].transform(lambda x: x.ffill())\ndf\nOut[35]:\n  Col1 Col2  Col3\n0    a    A  10.1\n1    b    A  10.1\n2    d    B   NaN\n3    e    B  12.3\n4    f    B  12.3\n5    g    C  14.1\n6    h    C  14.1\n7    i    C  14.1\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 5120955, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/db26a9aaa8b37bfdc32817b1175441bb?s=128&d=identicon&r=PG&f=1", "display_name": "DrTRD", "link": "https://stackoverflow.com/users/5120955/drtrd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 31440183, "answer_count": 4, "score": 3, "last_activity_date": 1437070447, "creation_date": 1436990280, "question_id": 31439878, "link": "https://stackoverflow.com/questions/31439878/filling-nan-in-dataframe-based-on-the-values-of-a-column", "title": "Filling NaN in DataFrame based on the values of a column", "body": "<p>I have data that resembles the following simplified example:</p>\n\n<pre><code>Col1    Col2    Col3\na       A       10.1\nb       A       NaN\nd       B       NaN\ne       B       12.3    \nf       B       NaN\ng       C       14.1\nh       C       NaN\ni       C       NaN\n</code></pre>\n\n<p>...for many thousands of rows.  I need to fillna based upon the value in Col2, using something analogous to the ffill method.  The result I'm looking for is this:</p>\n\n<pre><code>Col1    Col2    Col3\na       A       10.1\nb       A       10.1\nd       B       NaN\ne       B       12.3    \nf       B       12.3\ng       C       14.1\nh       C       14.1\ni       C       14.1\n</code></pre>\n\n<p>However, this method ignores the value in Col2.  Any ideas?</p>\n"}, {"tags": ["python", "numpy", "scipy", "mathematical-optimization", "integral"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436990667, "post_id": 31439875, "comment_id": 50849347, "body": "Is <code>beta(s)</code> just a scalar constant? The <code>s</code> parameter does not seem to be doing anything."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436991695, "post_id": 31439875, "comment_id": 50849949, "body": "Also, what is <code>g(x)</code>?"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436991884, "post_id": 31439875, "comment_id": 50850061, "body": "Oh, sorry, I copied half of one equation and the other half of the one above. Let me fix that. g(x) is arbitrary, currently in my code it is the second derivative of the gaussian."}], "answers": [{"tags": [], "owner": {"reputation": 2508, "user_id": 1045479, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5dfb7eeb76f5473d05f396f436205e44?s=128&d=identicon&r=PG", "display_name": "alex314159", "link": "https://stackoverflow.com/users/1045479/alex314159"}, "is_accepted": false, "score": 1, "last_activity_date": 1436993636, "creation_date": 1436993636, "answer_id": 31440879, "question_id": 31439875, "link": "https://stackoverflow.com/questions/31439875/infinite-summation-in-python/31440879#31440879", "title": "Infinite Summation in Python", "body": "<p>There's a chance Numba improves speed significantly - <a href=\"http://numba.pydata.org\" rel=\"nofollow\">http://numba.pydata.org</a></p>\n\n<p>It's slightly painful to install but very easy to use. Have a look at:\n<a href=\"https://jakevdp.github.io/blog/2015/02/24/optimizing-python-with-numpy-and-numba/\" rel=\"nofollow\">https://jakevdp.github.io/blog/2015/02/24/optimizing-python-with-numpy-and-numba/</a></p>\n"}, {"comments": [{"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "edited": false, "score": 0, "creation_date": 1436995669, "post_id": 31441157, "comment_id": 50852149, "body": "Thanks. I was using a vectorized version of g(x), but the optimization step destroy the vector nature. I am looking into using another optimizer that can do bounded vector optimization (scipy.optimize.differential_evolution). Then I can vectorize everything. Also, I think numerically, it is better to just sum the gx vector. Trapazoidal integration might cut edges too much"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "edited": false, "score": 0, "creation_date": 1436995842, "post_id": 31441157, "comment_id": 50852243, "body": "Also, I know differential_evolution is slow, but my problem is not necessarily convex, so I need bounded global minimization"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "edited": false, "score": 0, "creation_date": 1437001735, "post_id": 31441157, "comment_id": 50854541, "body": "If you are interested, I posted an answer with a solution that does the summation for vectorized functions."}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": false, "score": 2, "last_activity_date": 1436995006, "last_edit_date": 1436995006, "creation_date": 1436994576, "answer_id": 31441157, "question_id": 31439875, "link": "https://stackoverflow.com/questions/31439875/infinite-summation-in-python/31441157#31441157", "title": "Infinite Summation in Python", "body": "<p><code>g(x)</code> is almost certainly your bottleneck. A very quick-and-dirty solution would be to vectorize it to operate on an array of integers, then use <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.trapz.html\" rel=\"nofollow\"><code>np.trapz</code></a> to estimate the integral using the trapezoid rule:</p>\n\n<pre><code>import numpy as np\n\n# appropriate range and step size depends on how accurate you need to be and how\n# quickly the sum converges\nxmin = -1000000\nxmax = 1000000\ndx = 1\n\nx = np.arange(xmin, xmax + dx, dx)\ngx = (2 / np.sqrt(3)) * np.pi**(-0.25)*(1 - x**2) * np.exp(-x**2 / 2)\nsum_gx = np.trapz(gx, x, dx)\n</code></pre>\n\n<p>Aside from that, you could re-write <code>g(x)</code> using Cython or numba to speed it up.</p>\n"}, {"comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1437002183, "post_id": 31442749, "comment_id": 50854678, "body": "Very nice. I just fixed a couple of errors in your indentation."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1437002717, "post_id": 31442749, "comment_id": 50854853, "body": "<code>np.linalg.norm</code> is rather slow  - you could probably do substantially better by taking the norm yourself, e.g. <code>np.sqrt(diff.dot(diff))</code> for 1D"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1437151638, "post_id": 31442749, "comment_id": 50926783, "body": "Thanks. I decided to stick with linalg.norm because I am using higher dimensional structures (3,4,5 ndarrays). It may be slow, but everything is running remarkably fast. For the record, the code above converges normally, but it not fully robust. 90%-ish percent of the numbers I get are equal to the numbers in the paper, but for certain case, I get different values as though I am missing areas of high density in the approximation"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 1, "creation_date": 1437154656, "post_id": 31442749, "comment_id": 50928358, "body": "For fast multidimensional L2 norms you could do <code>np.sqrt(diff.ravel().dot(diff.ravel()))</code>"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1437576237, "post_id": 31442749, "comment_id": 51088292, "body": "So this method converges most of the time. I posted my code on my website, links following. I used it for wavelets. <a href=\"http://acsweb.ucsd.edu/~amacdona/notes/Wavelets/\" rel=\"nofollow noreferrer\">acsweb.ucsd.edu/~amacdona/notes/Wavelets</a>  <a href=\"http://acsweb.ucsd.edu/~amacdona/notes/Wavelets/daubechies-1990-affine-bounds.py\" rel=\"nofollow noreferrer\">acsweb.ucsd.edu/~amacdona/notes/Wavelets/&hellip;</a>"}, {"owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1500862280, "post_id": 31442749, "comment_id": 77506234, "body": "I left UCSD, so the above link might go stale. More permanent link, <a href=\"https://github.com/aidan-plenert-macdonald/website/tree/master/notes/Wavelets\" rel=\"nofollow noreferrer\">github.com/aidan-plenert-macdonald/website/tree/master/notes&zwnj;&#8203;/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "is_accepted": true, "score": 4, "last_activity_date": 1437002160, "last_edit_date": 1437002160, "creation_date": 1437001684, "answer_id": 31442749, "question_id": 31439875, "link": "https://stackoverflow.com/questions/31439875/infinite-summation-in-python/31442749#31442749", "title": "Infinite Summation in Python", "body": "<p>Thanks to all the useful comment, I wrote my own summator that seems to run pretty fast. It anyone has any recommendations to make it better, I will gladly take them.</p>\n\n<p>I will test this on the problem I am working on and once it demonstrates success, I will claim it functional.</p>\n\n<pre><code>def integers(blk_size=100):\n    x = arange(0, blk_size)\n    while True:\n        yield x\n        yield -x -1\n        x += blk_size\n\n#                                                                                                                                                                                                            \n# For convergent summation                                                                                                                                                                                   \n# on not necessarily finite sequences                                                                                                                                                                        \n# processes in blocks which can be any size                                                                                                                                                                  \n# shape that the function can handle                                                                                                                                                                         \n#                                                                                                                                                                                                            \ndef converge_sum(f, x_strm, eps=1e-5, axis=0):\n    total = sum(f(x_strm.next()), axis=axis)\n    for x_blk in x_strm:\n        diff = sum(f(x_blk), axis=axis)\n        if abs(linalg.norm(diff)) &lt;= eps:\n            # Converged                                                                                                                                                                                      \n            return total + diff\n        else:\n            total += diff\n</code></pre>\n"}], "owner": {"reputation": 4473, "user_id": 3002273, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/14663c07f99bd2fdc191b05db9d3e900?s=128&d=identicon&r=PG&f=1", "display_name": "ignorance", "link": "https://stackoverflow.com/users/3002273/ignorance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3790, "favorite_count": 1, "accepted_answer_id": 31442749, "answer_count": 3, "score": 5, "last_activity_date": 1437002160, "creation_date": 1436990270, "last_edit_date": 1436996984, "question_id": 31439875, "link": "https://stackoverflow.com/questions/31439875/infinite-summation-in-python", "title": "Infinite Summation in Python", "body": "<p>I have a function for with i need to do an infinite summation on (over all the integers) numerically. The summation doesn't always need to converge as I can change internal parameters. The function looks like,</p>\n\n<pre><code>m(g, x, q0) = sum(abs(g(x - n*q0))^2 for n in Integers)\nm(g, q0) = minimize(m(g, x, q0) for x in [0, q0])\n</code></pre>\n\n<p>using a Pythonic pseudo-code</p>\n\n<p>Using Scipy integration methods, I was just flooring the n and integrating like for a fixed x,</p>\n\n<pre><code>m(g, z, q0) = integrate.quad(lambda n:\n                             abs(g(x - int(n)*q0))**2,\n                             -inf, +inf)[0]\n</code></pre>\n\n<p>This works pretty well, but then I have to do optimization on the x as a function of x, and then do another summation on that which yields a integral of a optimization of an integral. Pretty much it takes a really long time.</p>\n\n<p>Do you know of a better way to do the summation that is faster? Hand coding it seemed to go slower.</p>\n\n<p>Currently, I am working with</p>\n\n<pre><code>g(x) = (2/sqrt(3))*pi**(-0.25)*(1 - x**2)*exp(-x**2/2)\n</code></pre>\n\n<p>but the solution should be general</p>\n\n<p>The paper this comes from is \"The Wavelet Transform, Time-Frequency Localization and Signal Analysis\" by Daubechies (IEEE 1990)</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "python", "html", "dropbox-api"], "comments": [{"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1436992069, "post_id": 31439852, "comment_id": 50850173, "body": "Can you share your code and a sample file you see this with?"}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437079809, "post_id": 31439852, "comment_id": 50894825, "body": "Thanks for the updated post. As far as I can tell, this is all working correctly. The header you&#39;re getting back is telling you it&#39;s a PDF: &quot;&#39;content-type&#39;: &#39;application/pdf&#39;&quot;, and the content is valid PDF data. There&#39;s some HTML at the top of your &quot;Content&quot; section, but presumably that&#39;s from your own test site(?), as I&#39;m not getting that back from the Dropbox API call itself. If you&#39;re just trying to display the returned PDF, you can&#39;t just print the data out on the page like that, as that&#39;ll just been interpreted as text. You&#39;ll need to use an iframe or something."}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437079902, "post_id": 31439852, "comment_id": 50894865, "body": "If you want to display the PDF in an iframe, you can make the API call directly in the src for the iframe, by passing the access token as URL parameter, but that would require exposing the access token to the user, which may or may not be okay in your use case."}, {"owner": {"reputation": 31, "user_id": 4441415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-evvSy_pvHIA/AAAAAAAAAAI/AAAAAAAAAH0/evy6uaJ3oLY/photo.jpg?sz=128", "display_name": "Abe Gertler", "link": "https://stackoverflow.com/users/4441415/abe-gertler"}, "reply_to_user": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437161394, "post_id": 31439852, "comment_id": 50931789, "body": "Hi @Greg, thanks for your help. I have in fact been trying to iFrame it (among other strategies, I&#39;m trying anything to get it to work). I think that html was actually returned, if I open it in the browser it doesn&#39;t appear but when opened in a text editor it comes up. It seems like it should be frameable but just displays the jibberish pdf data when framed (even if I take out the html and rename it as a pdf). Also can&#39;t seem to get any other standard application to display the data of the pdf strangely enough. I&#39;m struggling to see how this part of the API is supposed to be used."}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437162479, "post_id": 31439852, "comment_id": 50932342, "body": "When supplying an OAuth 2 access token as a URL parameter, you would use the <code>access_token</code> parameter. That is, ?<code>access_token=ACCESS_TOKEN_HERE</code>. You should revoke that token now that you&#39;ve posted it though."}, {"owner": {"reputation": 31, "user_id": 4441415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-evvSy_pvHIA/AAAAAAAAAAI/AAAAAAAAAH0/evy6uaJ3oLY/photo.jpg?sz=128", "display_name": "Abe Gertler", "link": "https://stackoverflow.com/users/4441415/abe-gertler"}, "reply_to_user": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437162489, "post_id": 31439852, "comment_id": 50932350, "body": "Tried putting the source directly in the iframe but can&#39;t seem to work around authentication failed even when providing Authorization= &quot;Bearer 7_XHti2LmzYAAAAAAACaPcyc3PpEMJ7KuOgYdCYg3a8u8TV6P9HwCY_6RxIj&zwnj;&#8203;Crl3&quot; as specified in the header of the request we were sending from the server. Seems like it might be promising if I can get the authentication working? Thanks again \u2013"}, {"owner": {"reputation": 31, "user_id": 4441415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-evvSy_pvHIA/AAAAAAAAAAI/AAAAAAAAAH0/evy6uaJ3oLY/photo.jpg?sz=128", "display_name": "Abe Gertler", "link": "https://stackoverflow.com/users/4441415/abe-gertler"}, "reply_to_user": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437163831, "post_id": 31439852, "comment_id": 50932972, "body": "Sorry to go on so long, the token doesn&#39;t seem to be getting through either. Strange that I&#39;m able to get through to Something on the API but it doesn&#39;t seem as strait forward doing it from the front end. @Greg would you recommend I open up another question asking more specifically how to display that type of return data? It appears the /previews function is meant to be framed but I must be framing it incorrectly somehow."}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437165584, "post_id": 31439852, "comment_id": 50933774, "body": "Yes, if you want to continue with this method make a new post with where you are now. I believe extended discussions like this in comments are discouraged. (For reference though, framing /previews responses directly like this isn&#39;t necessarily encouraged.)"}, {"owner": {"reputation": 31, "user_id": 4441415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-evvSy_pvHIA/AAAAAAAAAAI/AAAAAAAAAH0/evy6uaJ3oLY/photo.jpg?sz=128", "display_name": "Abe Gertler", "link": "https://stackoverflow.com/users/4441415/abe-gertler"}, "reply_to_user": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437405246, "post_id": 31439852, "comment_id": 51001446, "body": "Hi sorry I was just about to open a new post when I noticed you said this approach wasn&#39;t encouraged. Before I open the other one, what exactly is the previews response there for then? Because I can&#39;t seem to do anything at all (including framing) with it anyways."}, {"owner": {"reputation": 13778, "user_id": 1305693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da01d21aaa750b4cca96f2eb6017ce94?s=128&d=identicon&r=PG", "display_name": "Greg", "link": "https://stackoverflow.com/users/1305693/greg"}, "edited": false, "score": 0, "creation_date": 1437419209, "post_id": 31439852, "comment_id": 51009880, "body": "The /previews endpoint allows you to download the content for a preview of the file. In the simplest form, you could test this by writing the content out to a .pdf file, for example, and viewing it."}], "owner": {"reputation": 31, "user_id": 4441415, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-evvSy_pvHIA/AAAAAAAAAAI/AAAAAAAAAH0/evy6uaJ3oLY/photo.jpg?sz=128", "display_name": "Abe Gertler", "link": "https://stackoverflow.com/users/4441415/abe-gertler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1437079701, "creation_date": 1436990205, "last_edit_date": 1495535059, "question_id": 31439852, "link": "https://stackoverflow.com/questions/31439852/displaying-return-data-from-dropbox-api-previews", "title": "Displaying Return Data From Dropbox API Previews", "body": "<p>I'm attempting to use dropbox's preview function for word and other supported documents but cannot make sense of the data it's returning. The documentation says it returns a preview for a file as either application/pdf or text/html. I seem to be getting the text/html as far as I can tell by the header although internally it seems to be coming through in some sort of pdf markup. I've included the returns from 'content' and 'header' at the bottom. I can get 'text' too but the three are greater than 30000 characters combined.</p>\n\n<p>I want to display the preview in an iframe or something of the sort but cannot make sense of the pdf markup. When I try to frame it it just displays as plain text the way you see it below minus the html markup. I can't figure out how to display it as a pdf or in any other way. It opens up that same jibberish way in the browser as well if attempted that way. If there's any other good way to use dropbox's preview I would be open to it. </p>\n\n<p>This answer to this is somewhat related.\n<a href=\"https://stackoverflow.com/questions/30777188/dropbox-previews-not-working\">Dropbox /previews not working</a></p>\n\n<p>I'm using the python api and previews function found here:</p>\n\n<p><a href=\"https://www.dropbox.com/developers/core/docs#previews\" rel=\"nofollow noreferrer\">https://www.dropbox.com/developers/core/docs#previews</a> </p>\n\n<p>Any help would be greatly appreciated.\nThanks\n-Abe</p>\n\n<p>Update in response to comment. Here's a link to the file:\n<a href=\"https://www.dropbox.com/s/6hh3uwvdkjmc7ty/Agenda%207-14-2015.docx?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/6hh3uwvdkjmc7ty/Agenda%207-14-2015.docx?dl=0</a></p>\n\n<p>And here's the python:</p>\n\n<pre><code>import requests\n\nclient = DropboxClient(ACCESS_TOKEN)\n(url, params, headers) = client.request('/previews/auto' + FILE_PATH, method = 'GET', content_server = True)\n\nr = requests.get(url, headers=headers)\n\nprint r.content\n</code></pre>\n\n<p>Content</p>\n\n<pre><code>&lt;!-- saved from url=(0026)http://localhost:5000/test --&gt;\n&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;&lt;/head&gt;&lt;body&gt;%PDF-1.4\n%\ufffd\uc3e2\n5 0 obj\n&amp;lt;&amp;gt;\nendobj\n\nxref\n5 15\n0000000015 00000 n \n0000000608 00000 n \n0000000672 00000 n \n0000000851 00000 n \n0000001153 00000 n \n0000001172 00000 n \n0000001214 00000 n \n0000001247 00000 n \n0000001449 00000 n \n0000001650 00000 n \n0000001681 00000 n \n0000001712 00000 n \n0000001744 00000 n \n0000010388 00000 n \n0000010687 00000 n \n\ntrailer\n&amp;lt;&lt;c7635ddd2c9579cc73483074c45ac3d9&gt;]/Prev 15063&amp;gt;&amp;gt;\nstartxref\n0\n%%EOF\n\n6 0 obj\n&amp;lt;&amp;gt;\nendobj\n7 0 obj\n&amp;lt;&amp;gt;\n/Contents 8 0 R\n&amp;gt;&amp;gt;\nendobj\n8 0 obj\n&amp;lt;&amp;gt;\nstream\nx\ufffdMO\ufffdN1\ufffd\ufffd|D\u02a4\ufffdq\ufffdul\ufffdH4t\ufffd\ufffd8\ufffd\ufffd\ufffd\u0693\ufffd\ufffd\ufffddo\ufffd;\ufffd\ufffd3\ufffd\ufffd!{\ufffd\ufffd\ufffd4\ufffd\ufffdO\ufffd\ufffdK\ufffd\ufffd\ufffdV\ufffd/\ufffd\ufffd\\&amp;gt;6L\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdzAi\ufffd\ufffd}\ufffd\ufffd\ufffd\ufffd*\ufffdp\ufffd\ufffd\ufffdb\"\u020af\ufffd:\"S\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd:+_\ufffd\ufffd\ufffd&amp;lt;\ufffdh\ufffdp\ufffdSU*\ufffd\u00d3\u04c9\ufffd\ufffd\ufffd&amp;amp;L5\ufffd\ufffdT@\ufffd\ufffd9&amp;lt;\ufffdK\ufffd\ufffd\ufffdc\ufffdL|\ufffd\ufffd\ufffd\ufffdh\ufffd\ufffdcbP\ufffd\ufffd\ufffdR\u010c\ufffdSLT)&lt;w\ufffd \ufffdgn\ufffd\ufffd\ufffd&amp;\ufffdp\ufffd\ufffd~\ufffd\ufffd\ufffdmt\ufffd\ufffd[e~endstream=\"\" endobj=\"\" 9=\"\" 0=\"\" obj=\"\" 232=\"\" 10=\"\" &lt;&lt;=\"\" type=\"\" extgstate=\"\" opm=\"\" 1=\"\"&gt;&amp;gt;endobj\n11 0 obj\n[/ICCBased\n1 0 R]endobj\n12 0 obj\n&amp;lt;&amp;gt;\nendobj\n13 0 obj\n&amp;lt;&amp;gt;\nendobj\n14 0 obj\n&amp;lt;&amp;gt;\nendobj\n15 0 obj\n&amp;lt;&amp;gt;\nendobj\n16 0 obj\n&amp;lt;&amp;gt;\nendobj\n17 0 obj\n&amp;lt;&amp;gt;stream\nx\ufffd\ufffd}\nXSg\ufffd\ufffdy\ufffd\ufffd            $\"\ufffd\ufffd/ \ufffdD\\  \ufffd\ufffdh-$*Z?\ufffdRk?\ufffd8\ufffd\u046am\ufffdZ\ufffdN\ufffd\ufffd\ufffd8\u06dd}\ufffd`g\ufffd\ufffdN\ufffdt:\ufffd\ufffd+3\ufffdt\ufffd;\ufffd\u0659jkg\ufffdV+\ufffd\ufffd\u04f1Sa\ufffd{\ufffd\ufffdh\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd'\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n\ufffd\ufffd\ufffd~`!0\ufffd\ufffd\ufffdg%\ufffd\ufffd\ufffdu\ufffd\ufffd\ufffdk\ufffd\"\ufffd\u073d\ufffd\ufffd\u01b2\ufffdGP\ufffd\ufffdzbe\ufffd\ufffdu\ufffdI[\ufffd@\ufffd@\u06f1j\ufffd\ufffd-\ufffd\ufffd\ufffd3\ufffd\ufffdZ{\ufffd\ufffdp&amp;gt;\u01cb\ufffd\ufffd\ufffdY\ufffd\ufffdp\ufffdp\ufffd6-*+zP\ufffd\ufffdb\u046eH\ufffd\u031eu}\ufffd\ufffd\ufffd|1__\ufffd\ufffd\ufffd+\ufffd/?\ufffd\u054f\ufffd\ufffd\ufffd\u049buS\ufffdwL*m\ufffd\ufffd\u05ad\ufffd\ufffd\ufffdK\ufffd\ufffdM}\ufffd|\ufffdZ\ufffd{\ufffd\ufffd\ufffd\ufffd\ufffd(\ufffd2\ufffd\ufffd\ufffd!@\ufffd\ufffd\ufffd\ufffd\ufffdq\ufffd(G\ufffd\ufffd\ufffd&amp;lt;16\ufffd\nJe\ufffdx\ufffdU[B[q\ufffd\ufffd81\u019c\ufffd\u0111\ufffd5\ufffd\ufffd\ufffdg\ufffdQT\ufffd\ufffdCl\ufffdT\ufffd\ufffd\ufffda{/\ufffds\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdO\ufffdU\ufffdg\ufffd!\ufffd\ufffd\ufffdI\ufffdnD\ufffd]\ufffd`\ufffd\ufffdA\ufffd\ufffd~\ufffd\ufffd\ufffd\ufffd\ufffdY\ufffda!,\ufffd\ufffdX\ufffd\ufffd\u00b1H\ufffd\ufffd\ufffdL\ufffdh\ufffdPD\ufffd\ufffd\ufffd\"_b\ufffd\u01fe2\ufffdC8\u02ad0\ufffd#=\ufffd\ufffd_5&amp;lt;\ufffd\ufffd\ufffd:\ufffd&amp;lt; -\ufffdsW\ufffd\ufffd$z\ufffd\ufffd\ufffd5\ufffd   \ufffd\ufffd\ufffdm\ufffd\ufffd#i\ufffd\ufffdvh\ufffd\ufffdqn\ufffdh\ufffd\ufffd\ufffdG_'\ufffdiX\ufffdp\ufffd\ufffdA;&amp;lt;\ufffd|TL\u0769\ufffd\ufffddfL\ufffd'\ufffd\ufffd\ufffd3}\ufffdvf\ufffd}p7&amp;lt;\ufffd\ufffdO\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd_\ufffd\ufffdGp\ufffd\ufffd&amp;gt;\ufffd\ufffd\ufffdl\ufffd\ufffd&amp;amp;\ufffd\ufffd/=\u03e0\ufffd~\ufffd\ufffd\u0642\ufffd\ufffdm\u070f'\ufffd\u0242Gal%Z\ufffd&lt;gj\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd \ufffd\u017e\ufffd}~\ufffd\ufffdn\ufffdp\ufffd\ufffd\ufffd6\ufffd\ufffd|g\ufffdz}s\ufffdkb\ufffdo\ufffd\ufffdb_\ufffd\ufffd\ufffd\u02d9\ufffd\ufffd\ufffde_\u0602\ufffd5\ufffdv\\\ufffdv\ufffdw\u0746\ufffdq\ufffd\ufffd\\*h5\ufffd\ufffd]\ufffd)\ufffds\ufffd\ufffd\ufffd{`=\"\ufffd\ufffdbxv3\u0709\ufffd\ufffd\ufffd\u06af\u00f3\ufffd\ufffdn\ufffd\ufffdI.\\\ufffd\ufffd\ufffd\ufffd*\ufffd\ufffd\ufffdy\ufffd\ufffd\ufffd@\u34980N06\ufffd/h\ufffd\ufffd@\"&gt;dJ2\u1569\ufffdq\ufffd8\ufffd\ufffdg\ufffd)\ufffd\ufffd\ufffd1b%,|ga\ufffd8\ufffd4\u0739&lt;x\ufffd2\ufffd\ufffdy\ufffd\ufffd\ufffd\ufffd0\u00ff\ufffd\ufffd\ufffd\ufffd-\ufffd(vp\ufffd\u04af\ufffd\ufffd\ufffd\ufffdk\u03c6\ufffd)\ufffdc|mezc\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd;\ufffdt\ufffd}\ufffd\ufffd\ufffdk\ufffd8\u05eb\ufffd.\ufffdu\ufffdj6\ufffdg\u03c0\ufffdqg\ufffd~\u2349qi\ufffdq\ufffd\ufffd\ufffd\ufffdi\ufffd_1\ufffd\ufffd\ufffd\u070age\ufffd\ufffd=\"\"&gt;\u00c7\ufffd\ufffd\ufffd=\ufffd;\ufffdl\ufffdNA&amp;amp;&amp;gt;\u478a\ufffd\u0197\ufffd\u03f0\ufffdF\ufffdCH\ufffd\u00b4\ufffd\ufffdm\ufffd+\ufffdy\u0149\ufffd\ufffd\u03ce\ufffd)\ufffd\ufffd\ufffd\ufffd\ufffdw\ufffd]\ufffdo\ufffdK\ufffd)\ufffd\u07837\u0473_\ufffd\u07f1\ufffd\ufffd\ufffd\u0633\ufffd'\\\ufffdS*F\ufffd\ufffd\ufffd\ufffdvx\ufffd\ufffd\ufffd\ufffd\ufffd\\\ufffd\ufffd\ufffdsE\ufffd\ufffdO\u00fb\ufffdn\u00bb*\ufffd\ufffd\ufffd-x\ufffd\ufffd\ufffd@L \ufffd\ufffdb\ufffd\"\ufffd~\ufffd~\ufffd\ufffd\ufffdQk\ufffd\ufffd\u06c9g\ufffdCx\ufffd\ufffd\ufffdxEp\ufffd\ufffd\u039b\ufffd,\ufffd\ufffdv\ufffd\u03dd\ufffd\ufffd&amp;lt;\ufffdiV\ufffd\ufffd\ufffd\ufffdV\ufffd\ufffd\ufffd\ufffd\u031c\u1b9c^Q^\ufffd*-)v\ufffd\ufffdy\ufffd9\ufffdY\ufffd\ufffd\ufffd-=-u\ufffd5\ufffdbN6\ufffdz]|\ufffdV\ufffdV\ufffd(\ufffd( f\ufffd\\\ufffdkX#Z\ufffd\ufffd\ufffd\ufffdu\ufffdm\ufffdv\ufffd\ufffd\\\ufffd V\ufffd\ufffd`s9\ufffd\ufffd\ufffdZ\ufffd\ufffd!\ufffdELj\ufffd\n\ufffdP\ufffd\ufffd\ufffd\ufffdU\ufffd\ufffdl\ufffd\ufffd;6\ufffdk\ufffd5\ufffd\\~\ufffd]A1\ufffd\ufffdgw\ufffd\u07f2N\ufffd\ufffd\ufffd\ufffd\ufffdR\ufffd\ufffd\u06ed\"\ufffd\ufffd\ufffd\ufffdX\ufffd\ufffd\ufffd.[P\u0537\ufffd\ufffdn\nkf\ufffd\ufffd\ufffd\ufffd\ufffdx\ufffd\ufffdPi\ufffd#m\ufffd\ufffdir\ufffd\ufffd\ufffd\ufffd$O\ufffd\ufffd4r\ufffd4\u7450~Pk\ufffd\ufffd\ufffd\ufffd4\ufffdwE0\ufffdjc\ufffd\ufffd&amp;gt;\ufffdsy\ufffd\ufffd%\ufffd7p\ufffd$\ufffd\ufffd$\ufffd\ufffd8\ufffd|\ufffd\ufffd\u0659\ufffd\u0620!\ufffd\ufffd\ufffd\\\ufffd\n\ufffd\ufffdt,lQ\ufffd-d\ufffd\ufffd.\ufffdI\ufffd\ufffd\ufffd\ufffd\ufffd5\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdI\ufffd\ufffd\ufffdh\ufffd\ufffd\ufffd$\ufffdj\"  \ufffd\ufffda\ufffd \ufffd84_\ufffdn\ufffdQ\ufffd@\ufffd\ufffdE\ufffdaI\ufffd\u0552\u1251\ufffdS\ufffd\ufffd\ufffdRbX\nOBT\u058b1\ufffdI\ufffdV\ufffdB\ufffd{l\ufffd#\ufffd\ufffd\ufffdzX\ufffd\ufffdAG\ufffd\ufffdf\ufffd\ufffdva\ufffdA`\ufffdz:\ufffdi-\ufffd\ufffdQ\ufffdC!=6\ufffd\ufffd^\ufffd\ufffd\u03735\ufffd\ufffdB\ufffd\ufffduH^\ufffd\ufffd\ufffd\ufffd\ufffd=+\ufffdMH\ufffd\ufffd\ufffd2u\ufffdo\ufffd}\ufffd*&amp;amp; o\n\ufffd\ufffd\ufffd\ufffd\ufffd&lt;gec \ufffd\ufffd6\ufffd=\"\" \ufffdv\ufffd\ufffd#8\ufffd)\ufffdvj\ufffd=\"\" \ufffd8\ufffdp\ufffdg\ufffd\ufffd\ufffd\ufffd\ufffd-qnn\ufffd\u4373\ufffd\ufffd\ufffd{\ufffdlb\ufffd\ufffd5a\ufffd\ufffd\ufffd+\ufffd\ufffd=\"\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd`K\ufffda\u0114\ufffd\ufffd:\ufffd5]t\ufffd\" kl\ufffd=\"+\ufffd\ufffd\ue556\ufffd\ufffdjkX\u3960\" \ufffd\ufffda!\ufffd^\ufffdk\ufffdq4\\\ufffd\ufffdu}[\ufffd]\ufffd\ufffd\ufffda(\ufffd@\ufffd\ufffd\ufffd\u0647\ufffd\ufffdw\ufffdoc\ufffd\ufffd\ufffdo\ufffd(th=\"\" :\ufffd=\"\ufffd\ufffd.\ufffd?\ufffd\ufffdTXL\ufffd\u0452\ufffd\ufffd\ufdc7\ufffd\ufffd\ufffd1Y\ufffdE[\ufffd\ufffd\ufffd%&amp;amp;\ufffdz\ufffdKX6RX\ufffd\ufffd\ufffdk\ufffdZ\ufffd\u054bL\ufffd\ufffd\ufffd\ufffd\ufffdz\ufffd\ufffd\ufffdI51c\ufffd\ufffd\ufffd\ufffd5l\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd$\ufffd`fr\ufffd\ufffdj\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd:\ufffdo\ufffd5:\ufffdP\ufffd\ufffd\ufffd\" \ufffd\ufffd\ufffd'\ufffd\ufffd;lzghp\ufffd=\"\" \ufffd6lr\ufffd\ufffd?\ufffd\ufffd*6\ufffd\ufffd\ufffd\ufffd@\ufffd!\ufffd\ufffd\ufffdf}\ufffd\ufffd\ufffdell[b\ufffd\ufffd\ufffd\ufffd\ufffd=\"\"&gt;8j\ufffdJ\ufffd\ufffd0Y\ufffd\ufffdOGb\ufffdc\ufffd\ufffd\\H\ufffd\ufffd\ufffd\ufffd\ufffdjk\ufffdG\ufffd0\ufffdVQ_IC'\ufffd\u04071\ufffd-\ufffd\ufffdD0V`\ufffdV5\ufffd?\ufffda\ufffd\ufffd\ufffd\ufffd\ufffd3#\ufffdC\ufffd\ufffd\ufffd\ufffd;\ufffd\ufffdi&amp;lt;\ufffd`9f\ufffd\ufffd6_8o\ufffd\ufffd\ufffd!\ufffd&amp;lt;\ufffdc\ufffd\ufffd\ufffd\ufffd%\u0185\ufffd\ufffd_.\ufffdlp\u0f99[\ufffd\ufffd\ufffd\ufffd\ufffd!\ufffd#\ufffd\ufffdvJ\ufffd\ufffd\ufffd\u07a08\u0481k\ufffdC\ufffd\ufffd\ufffd\ufffdl}b\ufffd\ufffd\ufffd2\ufffd\ufffd\ufffdT\ufffd\ufffd\ufffd(\ufffd\ufffd\u027c\u0510\ufffdO\u0310\ufffda{\ufffd!\ufffdyQQ\ufffd\ufffdz\ufffd6\ufffd\ufffd:\ufffdu\ufffdxAx\ufffd\ufffd\ufffdx\ufffd\ufffds\ufffd\ufffd\"\ufffd\ufffd\ufffdD\ufffd\ufffd\ufffd\ufffdt\ufffd\ufffd\u0255X8\ufffdH\ufffd\ufffdP \ufffdiS\ufffd\ufffd\ufffd=7^\ufffd\ufffd;py\ufffdp}C\ufffd\ufffd\ufffd\ufffd\ufffdt\ufffdEN\ufffd\ufffdFWV{\ufffdF\ufffd_\ufffd\ufffdg\ufffdA\"8_k\ufffd\u03c6'Fn\ufffd$\ufffdl=t\ufffdE[\ufffd+    ~\ufffdT\ufffd\ufffd\u0119\ufffd\ufffd\ufffd8eZ\ufffdqq\ufffda\ufffd^\ufffdk\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdo\ufffd\ufffd\uf641\ufffd\ufffd\ufffd[9+EK\ufffd/b\ufffdJk$\ufffd\ufffdX\ufffd\ufffdR\ufffd-\ufffd\ufffd\ufffd\\7\ufffd.\ufffd\ufffdjFGM1_\ufffd\ufffd\ufffd\ufffd-\ufffd\ufffd\ufffd&amp;amp;\ufffdUN\ufffd&amp;gt;\ufffd\ufffd\ufffd;\ufffdg\ufffd\u05a9\u0666\ufffd\ufffdg\ufffd\ufffdx|l\ufffd\ufffdI\ufffd\ufffddw\u06e0@v/X\ufffd;\ufffd_gl\ufffd;|Ca\ufffdu\ufffd\ufffdL,\ufffd\ufffd\ufffd\ufffdK\ufffd\ufffde\ufffd\ufffd*i\ufffdF3\ufffdB\ufffd\ufffd!F%\u0577\ufffd\ufffd\ufffdRNRH\ufffd\ufffda\ufffdN%\ufffdt3a\ufffd^\ufffd1\ufffd\ufffd\ufffd:A\u0485\ufffd*\ufffd=h\ufffd7=(\n\ufffd\ufffd\ufffd\ufffd=\ufffd\ufffd\ufffdLaD\ufffdvT\ufffd\ufffd8\ufffd  \ufffd\u050a\ufffd\ufffdu\ufffd\ufffdQG\ufffd5T_\ufffd+\ufffd&amp;gt;\ufffdQ\ufffd\ufffd\ufffd\ufffda\ufffd\ufffd\n80\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdSwa\ufffdl\ufffdx\ufffd\ufffd\ufffd\ufffdk\ufffdY7#\ufffd\ufffdU\ufffd~zq3\u059bE@\ufffd,\ufffd\ufffd\ufffd\ufffd\u0383\ufffd)K\ufffd\ufffd\ufffd\ufffd~Q5\ufffd!V\ufffd-\ufffd\ufffdu\ufffd\ufffd\ufffd(\ufffd\ufffd\ufffd6\ufffdFg\ufffdrH\"\ufffd18\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdV\ufffdl6|jr\ufffd\ufffd\ufffd\ufffd&amp;gt;\ufffdt \ufffd?\ufffd\ufffd(\ufffd\ufffde\ufffd\ufffd\ufffd\ufffd25\u038d\ufffd\ufffd\u018aY\ufffd6R\ufffdg\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n\ufffd\ufffdA\ufffdtF.\ufffd~b\ufffda\ufffd\n\ufffd\u0579\ufffdb\ufffd\ufffdBG\ufffd&amp;amp;.VT\u047b*F\ufffd5E\ufffd!~b\ufffd\ufffd\ufffd\ufffd\ufffd\u072eH[/jpF\ufffdSLi\ufffd\ufffd\ufffd\ufffd\ufffdt.\ufffd\u0645S\ufffdU@\ufffdi\ufffdv\ufffd\ufffdA:i\ufffd\ufffd,\ufffd\ufffdfw\ufffd\ufffdn\ufffdA\ufffd\ufffdRn\ufffd}\ufffd$\ufffd\u39706\ufffd\ufffd\\+\ufffd\ufffdvOw\ufffda\ufffd\ufffd8\ufffdv\ufffdQ\ufffd+\ufffdC\n\ufffd]\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd^'\ufffdC!U\u070d\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdTikX\ufffd\ufffd\n6\ufffdS\u040c\ufffd\ufffd\ufffd]{*\ufffd\n1 \ufffd\ufffdq7@\ufffd\ufffdO\u02ee5}\ufffd\ufffd\ufffd\ufffd\ufffdO5\ufffd\ufffd0\ufffdp\ufffdzp\ufffdJ\ufffdC:\ufffd@N\ufffd\ufffd\ufffd?\ufffd6\ufffdf\ufffd0\ufffdB.\ufffd\ufffdd\ufffdsY\ufffd\ufffd,\ufffd\ufffd\ufffd%Y\ufffdH.\ufffd\ufffdY\ufffdP~+\ufffd\ufffd\ufffd9YxO\u0795\ufffd\ufffd\ufffdpF\u0794\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdSY\ufffd\ufffd,\ufffd\ufffd\ufffdiY8\"\ufffdea\ufffd,\ufffdda\ufffd,\uc485\ufffd\ufffd\ufffdD\u02c2_|\ufffd\ufffd!\ufffd\ufffd0GZd\ufffdY*d\ufffdX\ufffd\ufffdP(\ufffd\ufffd\ufffd\ufffdYP\ufffd\ufffd\ufffdD?\ufffd\ufffd\ufffd\ufffd\ufffd%\ufffd^\ufffd\ufffd\ufffd~ \ufffd\ufffd%zN\ufffd\ufffdI\ufffd\ufffdD#\u0477%\ufffd\ufffd\ufffd)\ufffdQ\ufffd\ufffd\ufffd\ufffdk}U\ufffd\ufffdH\ufffde\ufffd\ufffd$\ufffd%:\"\ufffd$\ufffd}\ufffd\ufffd\ufffd\ufffd\ufffdDOH\ufffd\ufffdD\ufffdJ\ufffd\ufffdD\ufffdI\ufffd~\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd$z\ufffdD$z\ufffdDw \ufffd\ufffdm\ufffdRn\ufffdD\ufffd\ufffd\ufffdV\ufffd.\ufffdh\ufffdD[%\ufffd$\ufffd:\ufffd\ufffdS\ufffd\ufffd\ufffd\ufffdj!\ufffdD\ufffd \ufffd#\ufffd!6 \ufffd!\ufffd#\ufffdD\ufffd@\ufffd\ufffd\ufffd)\"\ufffd\ufffd``\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdA\ufffd\ufffd8\ufffdC\ufffd\ufffdW\ufffd\ufffd\ufffd^]\u062b{ua\ufffd.\ufffd\u0545\ufffd\ufffd\ufffdW\ufffd\ufffd\ufffdX\ufffdC\ufffd.\ufffd\ufffdeX\ufffdk\ufffda\ufffd2\ufffd]18\ufffd\ufffdA\\B\ufffd\ufffdC\ufffd\ufffd\ufffdA,C&amp;lt;\ufffd9\ufffdb\ufffd]\"^\ufffd\\y\ufffd\u0299+cW\ufffd0cG&amp;amp;^\ufffd8316\ufffd\ufffd\ufffd\ufffdrY8\ufffd\ufffd\ufffd#\ufffd \u01b8,A\u02ddy~\ufffdyF\"\ufffdZg\u01ce\ufffd\ufffd\ufffd`|X[\ufffd\ufffd\ufffd\ufffdaci\ufffdS=Mt\ufffdDWk\ufffdb\ufffd\ufffd\ufffd6&amp;amp;Y\ufffd\ufffd8\ufffd#\ufffd\ufffd\ufffd|\ufffd2\ufffd\ufffdAz  1\ufffd&amp;lt;.,`\ufffd9cJ\ufffd\ufffd\ufffdEr\ufffd\ufffd&amp;amp;\ufffd]w[\ufffd\ufffd\u029boG\ufffd\ufffd\ufffd\ufffd\nHnYo\ufffd\u07b2~\u06ed)}\ufffd%\ufffd\ufffdZ\ufffdd\ufffdj$+z\ufffd\ufffd+z6\ufffdX6\ufffd\ueb37\ufffd\ufffd@XjK\ufffd\ufffd0\ufffd\ufffdiH\ufffd\ufffdfe-s?\ufffd\ufffd\u064f&amp;lt;\ufffd\ufffda\ufffd\ufffd\ufffd\ufffda\u0603\ufffd%!}\ufffd\u03c8_!8\ufffd\ufffd9q\u0313\ufffd\ufffd\ufffd\ufffd\u01f6O@\ufffd\ufffdyf\ufffdP\ufffd\ufffd}\n\ufffdG\ufffdP\ufffd\ufffd|\ufffd\u064a[\ufffd3\u06d9\ufffdA\ufffd\ufffd\ufffdN\ufffd\ufffdxfk\ufffd\ufffd\ufffd\ufffd$\ufffdogVI|s\u04d0\ufffd\ufffd\n3\ufffdCV\ufffd\ufffd\ufffd\u032dXN\ufffd\ufffdG=G\ufffd7\ufffd,q\ufffd\u0575\ufffd\ufffdF\ufffd \ufffd\ufffd\ufffda\ufffd\ufffdj\u033d\ufffd\ufffdy\ufffd\ufffd\ufffd\u0701\ufffd\ufffd~\ufffd\ufffd\ufffd6\ufffdtwE\ufffd\ufffd\"\ufffd|C\ufffd\ufffd\ufffdg6#\ufffd\ufffd\ufffd\"|S\ufffd\ufffd\ufffd\ufffd\ufffdcI\ufffd6E\ufffdf\ufffdP\ufffdW\u06cay;)e:\ufffd\ufffd\ufffd24a\ufffd\ufffd,@&amp;gt;\ufffd\ufffd\u03f4\ufffd)5\ufffd&lt;d\ufffd2\ufffd0e?\u029b\ufffda\ufffd1\ufffd\ufffd \ufffd\ufffd2\ufffd\ufffd\ufffd-h\ufffdn\ufffdi\ufffd\ufffd\ufffd\ufffd\ufffdj\ufffd0\u0748\ufffd\ufffd\u0446\ufffd\ufffd\ufffd2\ufffdj\ufffd\ufffd7\ufffd\ufffd\u05f9p\ufffd\ufffdt\ufffdu\ufffd\ufffd\ufffdxkd=\"\ufffdF\ufffd/#f&amp;amp;\ufffd\ufffd`\ufffd9]\ufffd\ufffdH};\u058f\ufffdVv\" %\ufffd\u0735&amp;\ufffd)(\ufffd\ufffdb\ufffdt\ufffd\ufffdh\ufffd\ufffd\ufffd|l\ufffd\ufffdg\ufffd\ufffda\ufffd\ufffd\ufffd1ij3\ufffd=\"\" \ufffd\ufffd\ufffd\ufffdu\ufffd:f=\"\" ]\ufffd\ufffd\ufffdt\ufffd\ufffdn}fd_\ufffd^\ufffd\ufffd=\"\" \ufffd\ufffd+\ufffd\ufffd\ufffd\ufffd=\"\"&gt;/\ufffds=.!T\ufffd\ufffdR\ufffd\ufffdbJq\ufffd\u024c\ufffd\ufffd\ufffd\ufffdh-\ufffd\\\u0168\ufffdXisT\n?g\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdhps\ufffdqsT\ufffd9\u02789*,w`\ufffd,\u070cT\ufffd)y\n\ufffd4\n\ufffd7\"\ufffd\ufffdHFh*\ufffd\ufffdd.]\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdVda\ufffd\u07c4\ufffd\ufffd\ufffd&amp;amp;?\u01f3\ufffd'\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd2r6\ufffd\u03d0%~  9\ufffd\ufffd|\ufffd\ufffd\ufffd}aH\ufffd\ufffd6B\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdA3&amp;lt;1\ufffd\ufffd\ufffd\ufffdmn\ufffd\ufffd\ufffd\ufffd%,AS\ufffdg8NQ\ufffd\ufffdHZ\ufffdCV\ufffd\ufffd\ufffd\ufffdi\ufffd&amp;amp;\ufffdV\ufffd\ufffdLJ\ufffdH\ufffd\ufffd\u0108$\ufffdcQb9)\ufffd\ufffdA\ufffdPJ\ufffd\ufffd\ufffd\ufffd\ufffdTE9N\ufffdZJ3\ufffd\ufffd\ufffd&amp;lt;\ufffd\ufffd\ufffd\ufffd[\ufffd\ufffd4\ufffd\ufffd\ufffd^4LTB\"\ufffd\ufffd/\ufffd\u0337Z\ufffdbQ\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n\ufffd\ufffd'\ufffd\ufffd\ufffd\ufffdb\ufffd\ufffd\ufffd\ufffd\ufffdG\ufffd\ufffdp\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdy\ufffdQw\ufffd\ufffd\ufffd\ufffd\u06ba\ufffdt\ufffd\ufffd\ufffd\u04f3\u04b3\ufffd\ufffd2Lb\ufffdi\u4443\ufffd\ufffd\ufffdy\ufffd \u00dbe\u7ed3\ufffd\ufffd\ufffd\ufffd\u02c3\ufffd9RA\n\ufffd\ufffd\ufffdI\ufffd\ufffd(\ufffd\ufffd\ufffd\ufffd\ufffdi\ufffd\n\ufffdFYdT\ufffd\ufffdC\ufffd\ufffd:\ufffdC\ufffd\ufffd)\ufffd\ufffdt`\\\ufffdj-\ufffd\ufffd\ufffd\ufffdIvK\ufffd\ufffd9\ufffd\ufffd\ufffd\"|7\ufffd/5\u0707\ufffd\ufffd\ufffd\ufffdP\ufffd5\ufffdZr\ufffd 9-\ufffd9\ufffd!y\ufffd\ufffdR\u049d\ufffd*-uSv\ufffd\ufffdf8\ufffd\ufffd4i[\u00ff\ufffdS\u072f\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd+\ufffd\ufffd=\ufffd\ufffd1Y\ufffd/\ufffd5%nJ\ufffdj;^(,q\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u03bd\ufffd\ufffd\ufffd\ufffd\ufffd\u0763\ufffd\u0443N\ufffdy\ufffd\ufffd\ufffdsr(\ufffdtr\ufffd\ufffd\ufffd\ufffdZ=\ufffd\ufffd4\ufffd\ufffd\ufffd +\ufffd\ufffd\ufffdDx\u025a\ufffd&amp;gt;9\ufffd\ufffdqc\ufffd\ufffd\ufffd*\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd?\ufffd\ufffd\ufffd\ufffdL\ufffd}\ufffd\ufffd\ufffd\ufffd&amp;gt;B\ufffd\ufffdSQ)u\ufffd'\ufffd\ufffd\ufffdR\ufffd\ufffd\ufffd{\ufffd\ufffd\ufffd?\ufffd\ufffd\ufffd\ufffd|\ufffd\ufffd\ufffd%\ufffd\ufffd\u4482\ufffd\ufffd\ufffd\ufffd\u01cep\ufffd%4\ufffdp\ufffd\ufffd\ufffd-\\\ufffd\ufffdh\ufffd#m\ufffda\ufffd0+\ufffd+=Rw\ufffd#\ufffd\ufffd\ufffd!G\ufffd%\ufffd\ufffd\ufffd\ufffd\u078f\ufffd\u067e\ufffd\ufffd\ufffd\u0b36\ufffd\ufffd\ufffdF\ufffd\nd\ufffd\ufffd \ufffd.\u013d8\ufffdD\u0780{`\ufffd\ufffdr\ufffd4\ufffd\ufffd\ufffd=@\ufffd\u04cd\ufffd\n\ufffd\ufffd\u0718Pf\u0539\ufffd\ufffdR\ufffd\ufffd\u0128,6\ufffdN#/\ufffd\ufffd].\ufffd\ufffdd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd^\ufffd\ufffd\ufffd\ufffdt\ufffd\ufffd\ufffd\ufffdm\ufffd:P\ufffd\ufffd\ufffd*^\ufffd\ufffd\ufffd\ufffd\ufffd:\ufffdA\ufffd\ufffd\ufffdh\ufffd1*-\ufffd)\ufffdxAh\ufffdl0\ufffd7\ufffd\ufffd\ufffd\ufffdF\u05e2\u00d3b&amp;amp;x\ufffd&amp;gt;\ufffd\ufffdW:\ufffd4\ufffdF7f\ufffd\ufffd\ufffd\ufffdf\ufffd1xL}X\ufffdK\u041e\"\ufffd\ufffduV\ufffdg\ufffdI\ufffd3\ufffd\ufffd\ufffd\ufffd\ufffd8\ufffd\ufffd\n\ufffd\ufffd\ufffd|\ufffd\ufffdO/\ufffd~YYsY\ufffd|\ufffd\ufffdx\ufffd\ufffde\u0350\ufffd\ufffd\ufffdY\ufffd\ufffd\ufffd\ufffd\ufffd?z.{&amp;gt;\ufffd|\ufffd)\ufffd\ufffd{r=\u065eLO\ufffd\ufffd\ufffdI\ufffdX=f\ufffd\u0453\ufffd\ufffdy\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdA\u0104h\ufffd\ufffd  \ufffdu\ufffd\ufffdofm\ufffdb)\ufffd\"\ufffd[\ufffd\ufffd    \ufffd\ufffdG\ufffd\ufffd\ufffd\ufffdx\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdK|\ufffd\ufffdB\ufffd\ufffd\ufffdbK`\ufffd~?\u03e7\ufffdA\ufffd\ufffd\ufffd\ufffdT\ufffdXJ\ufffd\ufffd~hK\ufffdD\ufffd\ufffd\ufffd\ufffd\u0473\ufffd\ufffd6\ufffdo\ua2e80I\ufffd`nv\ufffd\ufffd\ufffd\ufffd%4\ufffd\ufffd\ufffd\ufffd\ufffd    \ufffdp\ufffdH\ufffdI&amp;gt;\ufffd\ufffd&amp;gt;'\u01f9\ufffd\ufffdS\ufffd(#\ufffd}\ufffd\ufffd&amp;gt;\ufffd\ufffd\ubee6\ufffd\n\u01a0\ufffd\ufffdDN\ufffdq\u04f5m@^p\ufffdJ\ufffd_\ufffd\ufffd+s\ufffd\ufffd\ufffd\ufffdf\ufffd\ufffd\ufffd\ufffd\n\ufffdj\ufffd\ufffd\ufffd\ufffdu\ufffd\ufffd\ufffd-b\ufffd\ufffdELk]Su-\ufffd+\ufffd\ufffdh]\"ju\ufffd\ufffd\ufffd\ufffd\ufffdG?\ufffdm\ufffd\ufffd\nS\ufffd1\ufffdP\ufffdD\ufffdd\ufffd\ufffd\ufffd\ufffd\ufffdC\ufffd|\ufffd\ufffd\ufffd\ufffd\ufffds\ufffd\ufffdc\ufffdK\ufffd\ufffd\"~\ufffdxq\ufffd\ufffd]\ufffdY\ufffd\u011b\ufffd\ufffd!\ufffd@\ufffd\ufffd\ufffd(\ufffd4\ufffdb?b\"\ufffd\u060d\u0605\u0609X\ufffdX\ufffd\ufffd#|\ufffdD+b\ufffd\u044c\ufffd@#\ufffd\ufffdBDB\ufffd\ufffdA(\ufffd\ufffd\ufffdO\ufffd\ufffd?\ufffd///?\ufffd&amp;lt;|/x6\ufffd\ufffd\ufffd\ufffd\ufffd_\ufffd\ufffdO_\ufffd|%\ufffdr\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdO\ufffd'\ufffd\u01c2G\ufffdG\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdC\ufffd\ufffd\ufffd\ufffd{\ufffd;\ufffd\ufffd\ufffdm\ufffd{\ufffd[\ufffd\u02c3m\ufffd\ufffd`S\ufffd.\ufffd\ufffd\ufffd\ufffd\ufffd?\ufffd\ufffd\ufffd0\ufffd\ufffdK&amp;lt;\ufffdd\ufffd\ufffdr\ufffd\ufffd\ufffdZ\ufffd,\ufffd\ufffd,7\ufffd\nR5%Ee\ufffd\ufffd\"MAW^y|\ufffd+!11\ufffdl.*a\ufffdf\ufffd\u0509\ufffd\ufffd_\ufffd5ZjH \ufffdn'&amp;gt;\ufffdQ\ufffd\ufffd\ufffd\ufffd-\ufffd\ufffd\ufffd\ufffd\ufffdbR^V\ufffdL\ufffdf\ufffd\u02f2\ufffdL\ufffd\ufffd\ufffd\ufffd\ufffdU\ufffd\ufffd\ufffd0\ufffd\ufffd\ufffdFG91\ufffd\n\ufffdt\ufffd)?39\u06ea\ufffd\ufffd\ufffdgZ\ufffd\ufffd}\ufffd\ufffd\ufffd\ufffd\ufffdt\ufffd\ufffd[\ufffd1&amp;amp;\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdd\ufffd\ufffd/\u03f18]nGK{Rfi\ufffd\ufffd\u048aR]\ufffdy\ufffd\ufffdU\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdi\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd9\ufffd\ufffd?\ufffd\ufffd&amp;gt;\ufffd\u2ef8@|?\ufffd\u00f5\u07adX6X(\ufffd \ufffd\ufffdX]:\ufffdc\ufffd\ufffd\njXX\ufffd~9\ufffd\ufffd\u01e6\ufffd\ufffd\u048f\ufffdl\ufffd\ufffdmfs\ufffd\u0750\ufffdv\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd`\ufffdI\ufffd\ufffd\ufffd\ufffd\ufffd6;\ufffd-\ufffdt9i\ufffd\ufffd8\ufffdnp\ufffd\ufffd!)\ufffdI6\ufffd\u02eb\ufffdrCx\ufffdu\u070c\ufffd&amp;amp;\ufffdx\ufffd\ufffdmq\u05a2\ufffd\ufffd\ufffd8\ufffdD\ufffd=\u03aa2&amp;gt;\ufffd[\ufffdp\ufffd\ufffd\ufffd`\ufffd\ufffdK\ufffd\u0658\ufffd\ufffd))\ufffd\ufffd'gV{8Hp\ufffdn\ufffdw\ufffd\u05891VdG!J\ufffd\ufffdx&lt;o\ufffdz\ufffd\ufffd\ufffd\ufffd8 \ufffdr\ufffd)\"\ufffd\\\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd5\ufffdj49l\ufffd\ufffdb\ufffd\ufffd_#jf4h\ufffd\ufffdv\ufffd\ufffd\ufffdb\ufffdj4\ufffdbr\ufffd\ufffdeo\ufffd)+\ufffd\ufffd7\ufffdhk,n&lt;\ufffd(&amp;r\ufffdh\ufffddz\ufffd\ufffd4q\ufffdi\ufffd\ufffd\ufffds\ufffd\ufffdfv\ufffd\ufffd=\"\ufffd\u0122OLJR\ufffd\" m6[ju\ufffd\ufffd\ufffd\ufffd\u04b2\ufffd\ufffdnbf\ufffd\u4a6d\ufffdde\ufffdp#\ufffd=\"\" \ufffdd\u05bf\ufffd\ufffd\ufffd\ufffdx\ufffdop\ufffd\ufffd\ufffdp\ufffdg\ufffd\ufffd\ufffd\ufffd\ufffdr\ufffdjgfvvyyf:z\ufffd\ufffd\ufffd\ufffdq\ufffd\ufffdlf\ufffd.\ufffd\ufffde\ufffdjc\ufffd\ufffd\ufffd*\ufffd\ufffd(g\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd9}\ufffd\ufffdn\uce4b\ufffd\ufffd-3\ufffd\ufffd\ufffd\ufffduo\ufffd0\ufffdi9\ufffdi\ufffd\u5d62\ufffdb\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdy\ufffd-\ufffd=\"\"&gt;W\u06f3\ufffd\ufffd\ufffd\ufffdk\ufffdNk\ufffd\ufffdv\ufffdm\ufffd*K7iK\ufffd+L\ufffdjw\ufffd\ufffdn%~\ufffd\ufffd\ufffdc\ufffd8P\ufffd\ufffd\"\ufffdSz\ufffd\ufffd\ufffdWot%9\ufffdN\ufffdyH0\ufffd2\ufffd\ufffd\ufffd\ufffd\u063c\ufffdB\ufffd&amp;gt;Fy\ufffd*;\ufffd\ufffd\ufffd\ufffd:\ufffd!\ufffdq\ufffd\u0282V\ufffdl\ufffd\ufffd4@\ufffd'-a\ufffdZ\ufffd\ufffd5eElN\ufffdtW\u060bb\ufffds\ufffd4Fy\nS\ufffd\ufffd\ufffd\ufffdvW):\u02f1q\ufffd9\ufffdOf*\ufffd\ufffd\ufffd\ufffd\ufffd\ufffds\ufffd\ufffd\ufffdP\u07cf\ufffd\ufffd[\ub3b7W\ufffd;\ufffdw\ufffd\ufffd-\ufffdQ9\ufffd\ufffd\ufffd\u6527%\ufffd\ufffdb\ufffdx\ufffd\ufffd\ufffd\\\ufffd\ufffd,\ufffd(W_\ufffd{\ufffd\u00e3\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\nI\ufffd##\ufffd\ufffd\ufffd3\ufffd\ufffdK-\u0403\ufffd\ufffdu\ufffd&amp;gt;\ufffda\ufffdPgK4\ufffd\ufffd\n\ufffd\ufffda\ufffdn\u05d8`\ufffd\ufffd\ufffd%\ufffd\ufffdf\ufffdpj\ufffdb\ufffdL\ufffd\ufffd:\ufffd&amp;amp;\ufffdM;(h\ufffd$9\ufffd \ufffd))\ufffd\ufffd{c$;|\ufffd\ufffd~\ufffd\ufffdN\ufffd\ufffd\ufffd\n!S\ufffd[\ufffd/X.\ufffd_D,\ufffd.)\u039ab4\ufffd=\ufffd\ufffd\ufffd\ufffd\"\ufffd\ufffd\ufffd/\ufffd\ufffd?\ufffd'?\ufffd\ufffd\ufffd\ufffd+\ufffd-t\ufffdWB\ufffdwt\ufffd\u6094E\ufffd\ufffd\ufffd]u\ufffd\ufffd\ufffd\ufffd9\ufffd\ufffd&lt;w\ufffd\ufffd\ufffd\ufffdw'l\ufffd\u64aa\ufffdp\ufffd}\ufffd\ufffd|\ufffd\ufffd\ufffde\ufffd\ufffd\ufffdb-,\ufffd1\ufffd\ufffd:{{nn\ufffd\u02a9\ufffd`ug*\ufffd\ufffd\"\ufffd\ufffdy\ufffd\ufffd+*\ufffd\ufffdv\ufffd.\ufffd\ufffd1\ufffdt\ufffdt\ufffdsi?\ufffdw8x\ufffd\ufffd\ufffdd\ufffd&gt;Ju\ufffd&amp;amp;\ufffd\ufffd\ufffd`\ufffd\ufffd\ufffdak:\ufffd9\ufffd\u068c9\ufffd\ufffd\ufffd\ufffddnff\ufffd\ufffd\ufffdnN\ufffdM\ufffdH\ufffd4\ufffd\ufffdu0\ufffd\ufffd.\ufffd\ufffd\n=:\ufffdBat,\ufffdC#K\ufffd\ufffds\ufffd\u0185\ufffd{\ufffd%\ufffd\ufffd\ufffdH\ufffdY\ufffd\ufffd\ufffd6P\ufffd\ufffdmp\ufffd\ufffd\ufffd\ufffd\ufffd4\u0526Z\ufffd\ufffd G\ufffd\ufffd\u0394\ufffdNl\ufffdb\u012eX\ufffd\ufffd%91TIo9\u1012\ufffd,\ufffd`\ufffd&amp;amp;\ufffdN\ufffd0Li&amp;amp;\u06c9\ufffdyL$.\ufffdaW\ufffd(,\ufffd\ufffdpd\ufffd\ufffd\ufffdR\ufffdg\ufffdzj\ufffdgNj\ufffdwl\ufffdN\ufffd\ufffd\u04fbW\ufffd\ufffd\ufffdc\ufffd\ufffdBhkjq\ufffd\ufffd6\ufffd\"\u02ef4\ufffd\ufffd\ufffd\n\ufffd\ufffd\ufffd*\ufffd-.\ufffd\ufffd\ufffdo\ufffd\ufffd\ufffd4\ufffd8\ufffd\ufffd\ufffd\ufffdI\ufffd\ufffd\ufffd[\ufffd\ufffd\ufffdY\ufffd\ufffd\ufffd\n\ufffdKj7\ufffd;kV\ufffd$6\ufffd\ufffd\ufffdU\ufffd\ufffdy\u0476y\ufffd\ufffd\u05f7\ufffd\ufffd\ufffd\ufffdK|\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd/\ufffdL+\u03f7\ufffdy/\ufffdy\ufffd\ufffd\ufffd;\ufffd\ufffdZ\ufffd\ufffdEB(J\ufffd\ufffd&amp;lt;\ufffd\ufffd\ufffd{\u071b\ufffdg\ufffd\ufffdTE*\ufffdzHP\ufffd+\ufffd\ufffdV\ufffd\ufffdh\ufffdf8\ufffd\ufffdW\u0739b\ufffd{)\ufffd\ufffd\ufffd\ufffd\ufffd.\ufffd\ufffd.zr\ufffdk\\25S\ufffd\ufffd\ufffd\ufffd$\ufffdl\ufffdA\ufffdU&lt;c\ufffd\ufffd\ufffd.\ufffdd7o\ufffd\ufffd5}qm^\ufffd.g\ufffd\ufffd\u670c\ufffd8\ufffd\ufffdy\ufffdb\ufffd\ufffd\u01d0\ufffddc\ufffd \ufffd\ufffd\u00e6\ufffd\ufffd5\ufffd\ufffd\udaa7\uddf4\ufffd\ufea9\u01a1=\"\" )\ufffd&amp;\ufffd\ufffd\ufffdd9p\u3d269\ufffd\ufffdv\ufffd\ufffd^\"zs\ufffd\ufffd\ufffd6\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdpx\ufffde-\ufffdh\ufffdo\ufffd,\ufffdq\ufffd\ufffd(\ufffdi:\ufffd\ufffd\ufffd%:\ufffd\ufffd\u0471\u02d0\ufffd,\ufffd\ufffd$0\ufffd\ufffdc=\"6b\ufffdX&amp;#39;\u03fftV\ufffd\ufffd;/\ufffdO\ufffd\ufffd\ufffdH\ufffd\"&gt;g\ufffdkc\ufffdG\ufffdd\ufffdmxe\ufffd=9\ufffd3\ufffd\ufffdG\ufffd\ufffd\ufffd5\ufffdE\ufffd}\ufffd\ufffd/.\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&lt;g\ufffd\ufffd\\}\ufffd|q\ufffd#\ufffd\ufffd\ufffd\ufffd5h\ufffdw\ufffd\u0142\ufffd\ufffdq\ufffd\ufffd\ufffd\ufffd%\ufffd&amp;\ufffd\ufffd\ufffd \ufffde&amp;\ufffd[\ufffd\ufffd!mgxys\ufffd1\ufffdz:\ufffd\ufffd\ufffdcl\u010e_h#\ufffd\ufffdm\u02e9\ufffd\ufffdb$\ufffd\ufffd\\\u019e\ufffd\ufffd\ufffditt\ufffdf$j\ufffdfyj\ufffd%\ufffd\ufffd%*\ufffd\ufffdlu\ufffdowt\ufffdw\ufffd\ufffd\ufffd\ufffd\ufffd=\"\ufffdti\ufffdq\ufffdRQ\ufffd\ufffd\ufffd\ufffdze=[(N\ufffdWx\ufffd\ufffd\ufffdS\ufffd\\\ufffdN\ufffd\ufffd\ufffdtvR\ufffd\ufffd^\ufffd\ufffdXh\ufffd\ufffd,\ufffd\u06d7\ufffdi\ufffdG\ufffdk\" s}\ufffd\ufffdn\ufffdc\ufffd\ufffd7\ufffd\ufffdz%\ufffdc\ufffdk\ufffd=\"\" *\ufffd\ufffduqr\ufffd\u0235r\ufffd=\"\" \ufffd(\ufffd|\ufffdm#\ufffd\ufffd\ufffd+er\ufffd\ub753\ufffd\ufffd\ufffdn\ufffd\u062b:i\ufffd\u0246x\ufffd\u0726{\ufffdskgwe}w}zlbv\ufffd\ufffd\ufffd\u0519\u0549\u058c\ufffd\ufffd\u0706\ufffd\u032b\ufffdx\ufffd=\"\ufffd(5\ufffd\ufffd%[\ufffd\ufffd\ufffd5\ufffd%\ufffdn\ufffdR\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&amp;lt;UY\ufffd\ufffd\ufffd\ufffdi\ufffd\ufffdi\ufffds\ufffd\ufffd\ufffd93l\ufffd\ufffdIO_\ufffd\ufffd.{\ufffd\ufffd6gn\ufffd\ufffdC\u05d6\ufffd{\ufffd\ufffd&amp;amp;MV\u3702\ufffd\ufffd\u071e\" cb\ufffdt4\ufffd\ufffd\";\ufffd9q\ufffd=\"\ufffdY\ufffd*\ufffdPH\u03c2JxJ,\ufffd&amp;lt;,C\ufffd\ufffd\ufffdb\ufffd{*77\ufffd\ufffd7WW\ufffd\ufffd+\u05b1\ufffdC\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\" ?i=\"\" cx\ufffdu\ufffd\ufffd'bz\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdl\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd9\ufffda%s\ufffd\\=\"C\ufffd\ufffd\ufffd3|(\ufffd\ufffdY\ufffd99\ufffd\ufffdR\ufffd\ufffdA\ufffd&amp;amp;\ufffdyIgY\ufffd\ufffd\ufffd|\ufffd*)\ufffd)\ufffd\ufffd\ufffd\ufffd\ufffdy\ufffd\ufffd\ufffd9\ufffd\ufffd\ufffd{\ufffd\ufffd~\ufffd1\ufffd\u0175K\ufffd\u0735\ufffdw5T\ufffd\ufffd\ufffd\ufffd\ufffd=\ufffd\ufffdi\ufffd:\ufffdP\" \ufffdb\ufffdz)\ufffd\ufffdx!\ufffd(_=\"\" \u0666\ufffdw\ufffd\ufffdu\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd8\ufffd5\ufffd2v\ufffddn\ufffdz\ufffd\u0161g\ufffd\ufffd\ufffd\ufffds=\"\" [9\ufffd\ufffd\u0783p\ufffd\ufffd\ufffd\ufffdq%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffda:\ufffdr\ufffde\ufffdw\ufffd\u02d8\ufffd\u04c6o\ufffdl+\ufffd\ufffds\ufffd\ufffdliz\ufffd\ufffd|\ufffdxof\ufffdy\ufffdi\ufffds=\"\" ?\ufffd\ufffd\ufffdu7\u035d\ufffd{l0\ufffd\u00bd\ufffd[j\ufffdu\ufffdw\ufffd\ufffd~e[\ufffd=\"\ufffd\ufffdZ!\u02cc.k\ufffdk\ufffd\ufffd.n\ufffd\ufffdMIPS\ufffd\u0538\ufffd\ufffd\ufffdt\ufffd\ufffdFY\u8a75\ufffd\ufffd\ufffd\ufffd\ufffd7;\ufffdz\ufffdR|\ufffd\u0177\ufffd8,\ufffd\ufffd)5)\ufffdS\ufffdR\ufffd\ufffdSl)lJJv*\ufffd9\ufffd\u0414`jr|\ufffd\ufffd\ufffd\u069dZ&amp;amp;K[\ufffdeX\ufffd\uad42\ufffdU\ufffd*\ufffd\" mj\ufffdo\ufffd\ufffd\ufffd\ufffdt\ufffd`\ufffd\ufffd)\ufffd,\ufffd\ufffdrr=\"\" @\ufffd\ufffd\ufffdp\ufffd\ufffd\ufffd\ufffdy\ufffd\ufffdww_\ufffd^_\ufffd\ufffdi\ufffd\u07a2;yz\ufffd\ufffd\ufffdv&lt;\ufffd\ufffd{\ufffd\u0353\ufffd\u07f6\ufffdr9\ufffd.\ufffd\ufffd\u015d#]\ufffd\ufffd\ufffd$30y\ufffdlo]\ufffd\u077ab\u519a\ufffd\ufffd\ufffdz;\ufffdhyn]\u04d9\ufffdpa\ufffd\ufffdx\ufffdd}\ufffd\ufffd;\ufffd\ufffd\ufffdd\ufffdz\ufffd\ufffd\ufffdy\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdk\ufffdi\ufffd\ufffd7n^\ufffdsx=\"\" ]byav\ufffd\ufffd\ufffd\ufffd;\ufffd\ufffddj\ufffduh\ufffd\ufffdy\ufffdm\ufffd\ufffdxv\ufffdg\ufffd=\"\" \ufffdqp\ufffde\ufffd\ufffd\ufffd\\\ufffd\ufffd7\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdjo\ufffd\ufffdld?m\ufffd\ufffd\ufffd\ufffdlg\u05f3\ufffdq-r\u06ad\ufffdc\ufffd\ufffd\ufffdm1\ufffdm\ufffd\ufffd&amp;o4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4es4e\ufffd\ufffd:\ufffd?\ufffd\ufffd\ufffd\ufffdi\ufffdj|(![\ufffd\ufffd!b\ufffdb\ufffd\ufffd\ufffd=\"\"&gt;\ufffd\ufffd\ufffd\ufffdI\ufffd\ufffdG60a\ufffd\ufffd\ufffd\ufffd    \ufffd@)\ufffd\ufffd\ufffd\ufffdsm\ufffd_r    86\ufffd\ufffdb\ufffd\ufffd\ufffd-\ufffduuW\ufffd\ufffdP\ufffdn$\ufffd\ufffd\ufffd\u034e\ufffd\ufffd\u0135\ufffdN7\ufffd^x^\ufffd!\ufffd\ufffd\ufffd=uQ\ufffd\ufffd\ufffd&amp;lt;\ufffd\ufffd\ufffdza5\ufffd;\ufffd\ufffd\ufffd)\ufffdpk@`\u0730`P\ufffd\ufffd,\ufffdn\ufffd`\u0316\ufffd\ufffd\ufffd\ufffd(\ufffd\ufffd\"\ufffd(\ufffd{ Ga]\ufffd\ufffd\ufffdO?\ufffd\ufffdV|\ufffd\ufffdA\ufffd\u0133\ufffdt\ufffd\ufffd\ufffd\ufffd\ufffdO\ufffd\ufffd\ufffd*\ufffd\ufffd\ufffds\u05e7eZL\ufffd/aV-\ufffdO\ufffd\ufffd_\ufffdg$\ufffd\nendstream\nendobj\n18 0 obj\n&amp;lt;&amp;gt;stream\nx\ufffd]\ufffd\ufffdn\ufffd \ufffd\ufffd&amp;lt;o\ufffd4\ufffd\ufffd*_\ufffdK\ufffd\ufffdm/@\ufffdTJM}\ufffd\ufffdx\ufffd\ufffd&amp;gt;\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\u04ea\ufffd\ufffd\ufffd\ufffdOZuL9T\ufffd-\ufffd\ufffdI\ufffdtIY\ufffd^\ufffd\ufffd\ufffdk\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd+_\ufffdBz+\ufffd(~vW\ufffd&amp;gt;\ufffdm'Fz\ufffd\ufffdV\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd1\ufffd\ufffd\ufffd]\ufffdA:\ufffd\ufffd\ufffdTw\ufffd\ufffd\u0676=\ufffd\u0773(\ufffd4\ufffd\ufffdP\ufffdXG\ufffdV\ufffd\ufffd\ufffd:\ufffdS+\u07a3\u05b3\ufffd\ufffdvdu(\ufffd\ufffdXg\ufffd\ufffdGl{d@zjC&amp;gt;\ufffd\ufffdy9\ufffdgN\ufffd\ufffdk\ufffd\ufffd\ufffdt[z\ufffdZ\ufffd\ufffd\ufffde)\u07257\ufffd7yy\ufffd\nendstream\nendobj\n19 0 obj\n&amp;lt;&amp;gt;\nstream\n\ufffdS.\nendstream\nendobj\n2 0 obj\n&amp;lt;&amp;gt;endobj\n3 0 obj\n&amp;lt;&amp;lt; /Type /Pages /Kids [\n7 0 R\n] /Count 1\n&amp;gt;&amp;gt;\nendobj\n1 0 obj\n&amp;lt;&amp;gt;stream\n\nmntrRGB XYZ acspAPPL\ufffd\ufffd\ufffd,\ndesc\ufffd|cprtx(wtpt\ufffdbkpt\ufffdrXYZ\ufffdgXYZ\ufffdbXYZ\ufffdrTRCgTRCbTRCdesc\"Artifex Software sRGB ICC Profile\"Artifex Software sRGB ICC ProfiletextCopyright Artifex Software 2011XYZ \ufffdQ\ufffdXYZ XYZ o\ufffd8\ufffd\ufffdXYZ b\ufffd\ufffd\ufffd\ufffdXYZ $\ufffd\ufffd\ufffd\ufffdcurv\n#(-27;@EJOTY^chmrw|\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n%+28&amp;gt;ELRY`gnu|\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&amp;amp;/8AKT]gqz\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd!-8COZfr~\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd -;HUcq~\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n+:IXgw\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd'7HYj{\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd+=Oat\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd2FZn\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd      %   :   O   d   y   \ufffd   \ufffd   \ufffd   \ufffd   \ufffd   \ufffd\n\n'\n=\nT\nj\n\ufffd\n\ufffd\n\ufffd\n\ufffd\n\ufffd\n\ufffd\"9Qi\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd*C\\u\ufffd\ufffd\ufffd\ufffd\ufffd\n\n\n&amp;amp;\n@\nZ\nt\n\ufffd\n\ufffd\n\ufffd\n\ufffd\n\ufffd.Id\ufffd\ufffd\ufffd\ufffd    %A^z\ufffd\ufffd\ufffd\ufffd    &amp;amp;Ca~\ufffd\ufffd\ufffd\ufffd1Om\ufffd\ufffd\ufffd\ufffd&amp;amp;Ed\ufffd\ufffd\ufffd\ufffd#Cc\ufffd\ufffd\ufffd\ufffd'Ij\ufffd\ufffd\ufffd\ufffd4Vx\ufffd\ufffd\ufffd&amp;amp;Il\ufffd\ufffd\ufffd\ufffdAe\ufffd\ufffd\ufffd\ufffd@e\ufffd\ufffd\ufffd\ufffd Ek\ufffd\ufffd\ufffd*Qw\ufffd\ufffd\ufffd;c\ufffd\ufffd\ufffd*R{\ufffd\ufffd\ufffdGp\ufffd\ufffd\ufffd@j\ufffd\ufffd\ufffd&amp;gt;i\ufffd\ufffd\ufffd  A l \ufffd \ufffd \ufffd!!H!u!\ufffd!\ufffd!\ufffd\"'\"U\"\ufffd\"\ufffd\"\ufffd#\n#8#f#\ufffd#\ufffd#\ufffd$$M$|$\ufffd$\ufffd%    %8%h%\ufffd%\ufffd%\ufffd&amp;amp;'&amp;amp;W&amp;amp;\ufffd&amp;amp;\ufffd&amp;amp;\ufffd''I'z'\ufffd'\ufffd(\n(?(q(\ufffd(\ufffd))8)k)\ufffd)\ufffd**5*h*\ufffd*\ufffd++6+i+\ufffd+\ufffd,,9,n,\ufffd,\ufffd--A-v-\ufffd-\ufffd..L.\ufffd.\ufffd.\ufffd/$/Z/\ufffd/\ufffd/\ufffd050l0\ufffd0\ufffd11J1\ufffd1\ufffd1\ufffd2*2c2\ufffd2\ufffd3\n3F33\ufffd3\ufffd4+4e4\ufffd4\ufffd55M5\ufffd5\ufffd5\ufffd676r6\ufffd6\ufffd7$7`7\ufffd7\ufffd88P8\ufffd8\ufffd99B99\ufffd9\ufffd:6:t:\ufffd:\ufffd;-;k;\ufffd;\ufffd&amp;lt;'&lt;e&lt;\ufffd&lt;\ufffd=\"=a=\ufffd=\ufffd&gt; &amp;gt;`&amp;gt;\ufffd&amp;gt;\ufffd?!?a?\ufffd?\ufffd@#@d@\ufffd@\ufffdA)AjA\ufffdA\ufffdB0BrB\ufffdB\ufffdC:C}C\ufffdDDGD\ufffdD\ufffdEEUE\ufffdE\ufffdF\"FgF\ufffdF\ufffdG5G{G\ufffdHHKH\ufffdH\ufffdIIcI\ufffdI\ufffdJ7J}J\ufffdKKSK\ufffdK\ufffdL*LrL\ufffdMMJM\ufffdM\ufffdN%NnN\ufffdOOIO\ufffdO\ufffdP'PqP\ufffdQQPQ\ufffdQ\ufffdR1R|R\ufffdSS_S\ufffdS\ufffdTBT\ufffdT\ufffdU(UuU\ufffdVV\\V\ufffdV\ufffdWDW\ufffdW\ufffdX/X}X\ufffdYYiY\ufffdZZVZ\ufffdZ\ufffd[E[\ufffd[\ufffd\\5\\\ufffd\\\ufffd]']x]\ufffd^^l^\ufffd__a_\ufffd``W`\ufffd`\ufffdaOa\ufffda\ufffdbIb\ufffdb\ufffdcCc\ufffdc\ufffdd@d\ufffdd\ufffde=e\ufffde\ufffdf=f\ufffdf\ufffdg=g\ufffdg\ufffdh?h\ufffdh\ufffdiCi\ufffdi\ufffdjHj\ufffdj\ufffdkOk\ufffdk\ufffdlWl\ufffdmm`m\ufffdnnkn\ufffdooxo\ufffdp+p\ufffdp\ufffdq:q\ufffdq\ufffdrKr\ufffdss]s\ufffdttpt\ufffdu(u\ufffdu\ufffdv&amp;gt;v\ufffdv\ufffdwVw\ufffdxxnx\ufffdy*y\ufffdy\ufffdzFz\ufffd{{c{\ufffd|!|\ufffd|\ufffd}A}\ufffd~~b~\ufffd#\ufffd\ufffd\ufffdG\ufffd\ufffd\ufffd\n\ufffdk\ufffd\u03420\ufffd\ufffd\ufffd\ufffd\ufffdW\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdG\ufffd\ufffd\ufffd\ufffdr\ufffd\u05c7;\ufffd\ufffd\ufffd\ufffdi\ufffd\u03893\ufffd\ufffd\ufffd\ufffd\ufffdd\ufffd\u028b0\ufffd\ufffd\ufffd\ufffd\ufffdc\ufffd\u028d1\ufffd\ufffd\ufffd\ufffd\ufffdf\ufffd\u038f6\ufffd\ufffd\ufffd\ufffdn\ufffd\u0591?\ufffd\ufffd\ufffd\ufffdz\ufffd\ufffd\ufffdM\ufffd\ufffd\ufffd \ufffd\ufffd\ufffd\ufffd\ufffd_\ufffd\u02564\ufffd\ufffd\ufffd\n\ufffdu\ufffd\ufffd\ufffdL\ufffd\ufffd\ufffd$\ufffd\ufffd\ufffd\ufffd\ufffdh\ufffd\u055bB\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdd\ufffd\u049e@\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdi\ufffd\u0621G\ufffd\ufffd\ufffd&amp;amp;\ufffd\ufffd\ufffd\ufffdv\ufffd\ufffd\ufffdV\ufffd\u01e58\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdn\ufffd\ufffd\ufffdR\ufffd\u01297\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdu\ufffd\ufffd\ufffd\\\ufffd\u042dD\ufffd\ufffd\ufffd-\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdu\ufffd\ufffd\ufffd`\ufffd\u05b2K\ufffd\u00b38\ufffd\ufffd\ufffd%\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffdy\ufffd\ufffd\ufffdh\ufffd\ufffd\ufffdY\ufffd\u0479J\ufffd\u00ba;\ufffd\ufffd\ufffd.\ufffd\ufffd\ufffd!\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\n\ufffd\ufffd\ufffd\ufffd\ufffdz\ufffd\ufffd\ufffdp\ufffd\ufffd\ufffdg\ufffd\ufffd\ufffd_\ufffd\ufffd\ufffdX\ufffd\ufffd\ufffdQ\ufffd\ufffd\ufffdK\ufffd\ufffd\ufffdF\ufffd\ufffd\ufffdA\u01ff\ufffd=\u023c\ufffd:\u0279\ufffd8\u02b7\ufffd6\u02f6\ufffd5\u0335\ufffd5\u0375\ufffd6\u03b6\ufffd7\u03f8\ufffd9\u043a\ufffd&amp;lt;\u047e\ufffd?\ufffd\ufffd\ufffdD\ufffd\ufffd\ufffdI\ufffd\ufffd\ufffdN\ufffd\ufffd\ufffdU\ufffd\ufffd\ufffd\\\ufffd\ufffd\ufffdd\ufffd\ufffd\ufffdl\ufffd\ufffd\ufffdv\ufffd\ufffd\u06c0\ufffd\u070a\ufffd\u0756\ufffd\u07a2\ufffd)\u07ef\ufffd6\ufffd\ufffd\ufffdD\ufffd\ufffd\ufffdS\ufffd\ufffd\ufffdc\ufffd\ufffd\ufffds\ufffd\ufffd\ufffd\ufffd\ufffd\n\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd2\ufffd\ufffd\ufffdF\ufffd\ufffd\ufffd[\ufffd\ufffd\ufffdp\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd(\ufffd\ufffd\ufffd@\ufffd\ufffd\ufffdX\ufffd\ufffd\ufffdr\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd4\ufffd\ufffd\ufffdP\ufffd\ufffd\ufffdm\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd8\ufffd\ufffd\ufffdW\ufffd\ufffd\ufffdw\ufffd\ufffd\ufffd\ufffd)\ufffd\ufffd\ufffdK\ufffd\ufffd\ufffdm\ufffd\ufffd\nendstream\nendobj\n4 0 obj\n&amp;lt;&amp;gt;stream\n&lt;!--?xpacket begin='' id='W5M0MpCehiHzreSzNTczkc9d'?--&gt;\n&lt;!--?adobe-xap-filters esc=\"CRLF\"?--&gt;\n&lt;x:xmpmeta xmlns:x=\"adobe:ns:meta/\" x:xmptk=\"XMP toolkit 2.9.1-13, framework 1.6\"&gt;\n&lt;rdf:rdf xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\" xmlns:ix=\"http://ns.adobe.com/iX/1.0/\"&gt;\n&lt;rdf:description rdf:about=\"uuid:86fb0a98-6263-11f0-0000-d0aa9c4924b2\" xmlns:pdf=\"http://ns.adobe.com/pdf/1.3/\" pdf:producer=\"GPL Ghostscript 9.14\"&gt;\n&lt;rdf:description rdf:about=\"uuid:86fb0a98-6263-11f0-0000-d0aa9c4924b2\" xmlns:xmp=\"http://ns.adobe.com/xap/1.0/\"&gt;&lt;xmp:modifydate&gt;2015-07-14T16:40:04Z&lt;/xmp:modifydate&gt;\n&lt;xmp:createdate&gt;2015-07-14T16:40:04Z&lt;/xmp:createdate&gt;\n&lt;xmp:creatortool&gt;PDF&lt;/xmp:creatortool&gt;&lt;/rdf:description&gt;\n&lt;rdf:description rdf:about=\"uuid:86fb0a98-6263-11f0-0000-d0aa9c4924b2\" xmlns:xapmm=\"http://ns.adobe.com/xap/1.0/mm/\" xapmm:documentid=\"uuid:86fb0a98-6263-11f0-0000-d0aa9c4924b2\"&gt;\n&lt;rdf:description rdf:about=\"uuid:86fb0a98-6263-11f0-0000-d0aa9c4924b2\" xmlns:dc=\"http://purl.org/dc/elements/1.1/\" dc:format=\"application/pdf\"&gt;&lt;dc:title&gt;&lt;rdf:alt&gt;&lt;rdf:li xml:lang=\"x-default\"&gt;document&lt;/rdf:li&gt;&lt;/rdf:alt&gt;&lt;/dc:title&gt;&lt;/rdf:description&gt;\n&lt;/rdf:description&gt;&lt;/rdf:description&gt;&lt;/rdf:rdf&gt;\n&lt;/x:xmpmeta&gt;\n\n\n&lt;!--?xpacket end='w'?--&gt;\nendstream\nendobj\nxref\n0 5\n0000000000 65535 f \n0000011039 00000 n \n0000010826 00000 n \n0000010980 00000 n \n0000013668 00000 n \ntrailer\n&amp;lt;&amp;gt;\nstartxref\n146\n%%EOF\n&lt;/e&lt;\ufffd&lt;\ufffd=\"=a=\ufffd=\ufffd&gt;&lt;/g\ufffd\ufffd\\}\ufffd|q\ufffd#\ufffd\ufffd\ufffd\ufffd5h\ufffdw\ufffd\u0142\ufffd\ufffdq\ufffd\ufffd\ufffd\ufffd%\ufffd&amp;\ufffd\ufffd\ufffd&gt;&lt;/c\ufffd\ufffd\ufffd.\ufffdd7o\ufffd\ufffd5}qm^\ufffd.g\ufffd\ufffd\u670c\ufffd8\ufffd\ufffdy\ufffdb\ufffd\ufffd\u01d0\ufffddc\ufffd&gt;&lt;/w\ufffd\ufffd\ufffd\ufffdw'l\ufffd\u64aa\ufffdp\ufffd}\ufffd\ufffd|\ufffd\ufffd\ufffde\ufffd\ufffd\ufffdb-,\ufffd1\ufffd\ufffd:{{nn\ufffd\u02a9\ufffd`ug*\ufffd\ufffd\"\ufffd\ufffdy\ufffd\ufffd+*\ufffd\ufffdv\ufffd.\ufffd\ufffd1\ufffdt\ufffdt\ufffdsi?\ufffdw8x\ufffd\ufffd\ufffdd\ufffd&gt;&lt;/o\ufffdz\ufffd\ufffd\ufffd\ufffd8&gt;&lt;/d\ufffd2\ufffd0e?\u029b\ufffda\ufffd1\ufffd\ufffd&gt;&lt;/gec&gt;&lt;/x\ufffd2\ufffd\ufffdy\ufffd\ufffd\ufffd\ufffd0\u00ff\ufffd\ufffd\ufffd\ufffd-\ufffd(vp\ufffd\u04af\ufffd\ufffd\ufffd\ufffdk\u03c6\ufffd)\ufffdc|mezc\ufffd\ufffd&gt;&lt;/gj\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd&gt;&lt;/w\ufffd&gt;&lt;/c7635ddd2c9579cc73483074c45ac3d9&gt;&lt;div class=\"vimiumReset vimiumHUD\" style=\"right: 150px; display: none;\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;div&gt;&lt;/div&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Header</p>\n\n<pre><code>&lt;!-- saved from url=(0026)http://localhost:5000/test --&gt;\n&lt;html&gt;&lt;head&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"&gt;&lt;/head&gt;&lt;body&gt;{'content-length': '15212', 'x-robots-tag': 'noindex, nofollow, noimageindex', 'x-dropbox-metadata': '{\"rev\": \"4325329019721\", \"thumb_exists\": false, \"path\": \"/Agenda 7-14-2015.docx\", \"is_dir\": false, \"client_mtime\": \"Tue, 14 Jul 2015 18:29:03 +0000\", \"icon\": \"page_white_word\", \"read_only\": false, \"modifier\": null, \"bytes\": 22580, \"modified\": \"Tue, 14 Jul 2015 18:29:03 +0000\", \"size\": \"22.1 KB\", \"root\": \"dropbox\", \"mime_type\": \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\", \"revision\": 275027}', 'x-server-response-time': '219', 'server': 'nginx', 'connection': 'keep-alive', 'x-dropbox-request-id': '14dc0144973a9896429f8e8eb8faf960', 'pragma': 'no-cache', 'cache-control': 'no-cache', 'date': 'Tue, 14 Jul 2015 18:40:39 GMT', 'original-content-length': '15212', 'content-type': 'application/pdf'}&lt;div class=\"vimiumReset vimiumHUD\" style=\"right: 150px; display: none;\"&gt;&lt;/div&gt;&lt;/body&gt;&lt;div&gt;&lt;/div&gt;&lt;/html&gt;\n</code></pre>\n\n<p>And here's a link to the txt output in case that's needed, it didn't fit in the post:</p>\n\n<p><a href=\"https://www.dropbox.com/s/ekfo6t6aut6g22d/text.html?dl=0\" rel=\"nofollow noreferrer\">https://www.dropbox.com/s/ekfo6t6aut6g22d/text.html?dl=0</a></p>\n\n<p>Essentially I want to know what I'm looking at and if there's anything I can do with it. Let me know if my code isn't clear or if there's anything else I can include!</p>\n"}, {"tags": ["python", "json", "django"], "comments": [{"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "edited": false, "score": 1, "creation_date": 1436990098, "post_id": 31439810, "comment_id": 50849005, "body": "Can you copy and paste?"}, {"owner": {"reputation": 304245, "user_id": 216074, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/609c93bafd659500f83fde04802a9be5?s=128&d=identicon&r=PG", "display_name": "poke", "link": "https://stackoverflow.com/users/216074/poke"}, "edited": false, "score": 0, "creation_date": 1436990173, "post_id": 31439810, "comment_id": 50849041, "body": "Import <code>json</code> instead?"}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 2, "creation_date": 1436990732, "post_id": 31439810, "comment_id": 50849390, "body": "Welcome to stack overflow! The way you&#39;ve asked your question, with the main bit in the title and the Traceback in a picture embedded in a presentation is particularly unlikely to help future users, which is one of the main aims of the site, or to get you all the help you could get.  See <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a> for some tips on how to structure a good question here. In this particular case, can you copy and paste the error from your terminal into the question and take the text from the title into the body of the question?  Good luck!"}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 1, "creation_date": 1437045310, "post_id": 31439810, "comment_id": 50872602, "body": "@JesseQuarum In the interests of helping you to see what I mean, I&#39;ve got the traceback from the picture using OCR and added it to your question, made the title more descriptive and the question more focused. I wouldn&#39;t normally do that and shouldn&#39;t have to, but there is a reasonable question here.  You got answers that didn&#39;t help because you didn&#39;t follow the advice to improve your question.  I hope my edits show how you could have done this - please do have a look at the changes I made  so you can see what to do next time and also proof read the traceback."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "edited": false, "score": 0, "creation_date": 1437045349, "post_id": 31439810, "comment_id": 50872625, "body": "P.S. I&#39;ve also given you an answer"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "edited": false, "score": 0, "creation_date": 1436990510, "post_id": 31439862, "comment_id": 50849243, "body": "I have simplejson installed but it still is giving me the error"}, {"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "reply_to_user": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "edited": false, "score": 0, "creation_date": 1436990538, "post_id": 31439862, "comment_id": 50849254, "body": "@JesseQuarum I told you - <code>import json</code>."}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1436990581, "post_id": 31439862, "comment_id": 50849284, "body": "You will get error, since it is importing from django.Solution 1. can edit it(if can) 2. Downgrade django version"}, {"owner": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "edited": false, "score": 0, "creation_date": 1436990810, "post_id": 31439862, "comment_id": 50849428, "body": "I added another pic to the link.  I have done everything you all have said"}, {"owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "edited": false, "score": 0, "creation_date": 1436990946, "post_id": 31439862, "comment_id": 50849509, "body": "Now which django version are you using ?"}, {"owner": {"reputation": 538898, "user_id": 104349, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/0f4cefeedec5163556751d61625eedd0?s=128&d=identicon&r=PG", "display_name": "Daniel Roseman", "link": "https://stackoverflow.com/users/104349/daniel-roseman"}, "edited": false, "score": 0, "creation_date": 1436991317, "post_id": 31439862, "comment_id": 50849717, "body": "Please <b>stop</b> posting pictures in links, and post the actual error messages in your question."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "reply_to_user": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "edited": false, "score": 0, "creation_date": 1436991453, "post_id": 31439862, "comment_id": 50849803, "body": "@JesseQuarum don&#39;t use a picture - copy the text of the traceback off your console into the question.  That is where the key to your error resides, but people will not be able to help you unless you do that."}, {"owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "reply_to_user": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "edited": false, "score": 0, "creation_date": 1436992096, "post_id": 31439862, "comment_id": 50850194, "body": "@JesseQuarum it occurs to me that you may not know how to do that. I see you are on windows.  in the command prompt, right click and click <code>Mark</code> on the menu.  Select the top left of where you want to copy.  Drag down to the bottom right.  Right click again. The text you want is now on the clipboard - just paste it into the question as normal.  Apologies if you already knew this."}], "tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 3, "last_activity_date": 1436990247, "creation_date": 1436990247, "answer_id": 31439862, "question_id": 31439810, "link": "https://stackoverflow.com/questions/31439810/using-tinymce-with-django-i-see-importerror-cannot-import-name-simplejson/31439862#31439862", "title": "Using TinyMCE with Django, I see ImportError: Cannot import name simplejson", "body": "<p>From django 1.7</p>\n\n<blockquote>\n  <p>The module django.utils.simplejson will be removed. The standard library provides json which should be used instead.</p>\n</blockquote>\n\n<p>To install</p>\n\n<pre><code>easy_install simplejson\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18845, "user_id": 838992, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AJyNd.png?s=128&g=1", "display_name": "J Richard Snape", "link": "https://stackoverflow.com/users/838992/j-richard-snape"}, "is_accepted": true, "score": 1, "last_activity_date": 1436993559, "creation_date": 1436993559, "answer_id": 31440854, "question_id": 31439810, "link": "https://stackoverflow.com/questions/31439810/using-tinymce-with-django-i-see-importerror-cannot-import-name-simplejson/31440854#31440854", "title": "Using TinyMCE with Django, I see ImportError: Cannot import name simplejson", "body": "<p>Your version of <code>django-tinymce</code> is incompatible with your version of <code>django</code>.  <a href=\"https://docs.djangoproject.com/en/1.8/releases/1.5/#simplejson-deprecation\" rel=\"nofollow\"><code>django.utils.simplejson</code> has been deprecated as per the docs</a>, but your version of <code>django-tinymce</code> is still trying to import it.</p>\n\n<p>The module <code>simplejson</code> installed by <code>easy_install simplejson</code> is a different module and hence has no effect as you have found.</p>\n\n<p>The fix to <code>django-tinymce</code> was applied in <a href=\"https://github.com/aljosa/django-tinymce/commit/bbdeb13163ef380f7d6bbab64723ad18fb532f8a\" rel=\"nofollow\">this code change</a> on 9th July 2013.  I don't know how you have an old version on your system, but this is what you need to upgrade. It resides in <code>C:\\Home\\genesis_book\\webapp\\tinymce</code> on your system.  I suspect it has been bundled with some application that you have downloaded, or you have included it in an old project and not upgraded it.</p>\n\n<p>To fix this - you need to replace at least <code>views.py</code> and <code>widgets.py</code> in that directory with the versions found here <a href=\"https://github.com/aljosa/django-tinymce/tree/bbdeb13163ef380f7d6bbab64723ad18fb532f8a/tinymce\" rel=\"nofollow\">https://github.com/aljosa/django-tinymce/tree/bbdeb13163ef380f7d6bbab64723ad18fb532f8a/tinymce</a>.  </p>\n\n<p><strong>Massive caveat</strong> that's not a clean way to upgrade, but without further information about how exactly django-tinymce was installed on your system with an old version, it is the best I can do.</p>\n"}], "owner": {"reputation": 23, "user_id": 5113946, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iMVKtqiPdMg/AAAAAAAAAAI/AAAAAAAAAF4/MhWIdw5OchA/photo.jpg?sz=128", "display_name": "Jesse Quarum", "link": "https://stackoverflow.com/users/5113946/jesse-quarum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1954, "favorite_count": 0, "accepted_answer_id": 31440854, "answer_count": 2, "score": -3, "last_activity_date": 1437415449, "creation_date": 1436990039, "last_edit_date": 1437051199, "question_id": 31439810, "link": "https://stackoverflow.com/questions/31439810/using-tinymce-with-django-i-see-importerror-cannot-import-name-simplejson", "title": "Using TinyMCE with Django, I see ImportError: Cannot import name simplejson", "body": "<p>I'm using Django and TinyMCE on Windows. When I run the following in the command prompt:</p>\n\n<blockquote>\n<pre><code>python manage.py runserver \n</code></pre>\n</blockquote>\n\n<p>I get </p>\n\n<blockquote>\n<pre><code>ImportError: Cannot import name simplejson\n</code></pre>\n</blockquote>\n\n<p>Below is the entire console output including traceback that I got (from <a href=\"https://docs.google.com/presentation/d/1M9bBw5nAZKEgkoUzfKqK5ygvXmoJPb3T3Knpl9hpFWs/edit?usp=sharing\" rel=\"nofollow\">Screenshot here</a>)</p>\n\n<p>Has anyone got any tips?</p>\n\n<pre><code>C:\\WINDOWS\\system32&gt;easy_install sinplejson\nsearching for simplejson\nBest match: sinplejson 3.7.3\nProcessing simp1ejson-3.7.3-py2.7-win-amd64.egg\nsinplejson 3.7.3 is already the active version in easy-install.pth\nUsing C:\\python2?\\lib\\site-packages\\sinp1ejson-3.7.3-pg2.7-win-and64.egg\nprocessing dependencies for simplejson\nfinished processing dependencies for simplejson\n\nC:\\WINDOWS\\system32&gt;cd C:\\home\\genesis_book\n\nC:\\Home\\Genesis_Book&gt;python manage.pg runserver\nTraceback (most recent call last):\n  File \"manage.py\". line 13. in (nodule)\n    execute_from_comnand_1ine(sys.argu)\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\management\\__init__.py\". Line 338. in execute_from_conmand_1ine\n    uti1ity.execute()\n  File \"C:\\Python27\\lib\\site-packages\\django\\core\\management\\__init__.py\". Line 312. in execute\n    django.setup()\n  File \"C:\\Python27\\lib\\site-packages\\django\\__init__.py\". line 18. in setup\n    apps.popu1ate(settings.INST\ufb02LLED_BPP8)\n  Fi1e \"C:\\Python27\\lib\\site-packages\\django\\apps\\registry.pg\". line 138. in populate\n    app_config.import_mode1s(a11_mode1s)\n  File \"C:\\Python27\\lib\\site-packages\\django\\apps\\config.py\". line 198. in import_models\n    se1f.mode1s_modu1e = import_modu1e(mode1s_modu1e_name)\n  File \"C:\\Python27\\lib\\importlib\\__init__.py\". line 37. in import_modu1e\n    __import__(name)\n  File \"C:\\Home\\Genesis_Book\\webapp\\tinymce\\nodels.py\". line 6. in (module)\n    from tinymce import widgets as tinymce_widgets\n  File \"C:\\Home\\Genesis_Book\\webapp\\tinymce\\widgets.py\". line 19. in (nodule)\n    from django.uti1s import simplejson\nImportError: cannot import name simplejson\n</code></pre>\n\n<h3>Update</h3>\n\n<p>People have suggested that I use <code>easy_install simplejson</code>, but I still get the error - I've added the output following that stage to my screenshot and the console output above.</p>\n"}, {"tags": ["python", "sockets", "tcp"], "comments": [{"owner": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 0, "creation_date": 1436990554, "post_id": 31439755, "comment_id": 50849265, "body": "Sure.  You will probably need to learn about handling sockets asynchronously using <code>select</code>.  There are some examples <a href=\"http://pymotw.com/2/select/#timeouts\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 23, "user_id": 4180695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qa8VWcaRxuI/AAAAAAAAAAI/AAAAAAAAAVk/srY3TLlp9UA/photo.jpg?sz=128", "display_name": "George Berdux", "link": "https://stackoverflow.com/users/4180695/george-berdux"}, "reply_to_user": {"reputation": 191222, "user_id": 147356, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b9506717d24256a090524dd5505d3207?s=128&d=identicon&r=PG", "display_name": "larsks", "link": "https://stackoverflow.com/users/147356/larsks"}, "edited": false, "score": 2, "creation_date": 1437021071, "post_id": 31439755, "comment_id": 50859563, "body": "thank you, i found my answer on the duplicate. i set timeout like this:     conn, addr = s.accept()     conn.settimeout(10)"}], "owner": {"reputation": 23, "user_id": 4180695, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qa8VWcaRxuI/AAAAAAAAAAI/AAAAAAAAAVk/srY3TLlp9UA/photo.jpg?sz=128", "display_name": "George Berdux", "link": "https://stackoverflow.com/users/4180695/george-berdux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 721, "favorite_count": 0, "closed_date": 1437020555, "answer_count": 0, "score": 1, "last_activity_date": 1436989852, "creation_date": 1436989852, "question_id": 31439755, "link": "https://stackoverflow.com/questions/31439755/close-persistent-tcp-connection-in-python-after-some-seconds-of-inactivity", "closed_reason": "Duplicate", "title": "Close persistent TCP connection in python after some seconds of inactivity", "body": "<p>I have built a simple TCP server, that runs on my Pi, that stores some data received from a GPRS module. It generally works fine, but at random intervals (some hours or even a couple of days) my python script doesn't receive any more data. I suspect that this is caused by a TCP connection that does not close properly. If I kill the script and try to run it again I get an error that the port is being used.</p>\n\n<p>This is my code so far:</p>\n\n<pre><code>    from socket import * \n    import time\n\n    HOST = ''\n    PORT = 24071\n    BUFFER_SIZE = 200\n    b=\" \"\n    data=\" \"\n\n    s = socket(AF_INET, SOCK_STREAM)\n    s.bind((HOST, PORT))\n\n    while 1:\n            s.listen(1)\n            print ''\n            print ''\n            print ''\n            mTime = time.strftime('%d-%m-%y   %H:%M:%S')\n            print mTime\n            print 'Port',PORT,': listening...'\n            conn, addr = s.accept()\n            print 'Connection address:', addr, conn\n            while 1:\n                    data = conn.recv(BUFFER_SIZE)\n                    print \"received:\", data\n                    if not data: break\n                    if data==\"start\":\n                            b=conn.recv(BUFFER_SIZE)\n                            print \"data:\", b\n                            if not b: break\n                    if data==\"check\":\n                            print \"check!!\"\n                            conn.send(\"test\")\n</code></pre>\n\n<p>I would like to end any persistent connections after some seconds (ex. 20s). Is there any way i could do this?</p>\n"}, {"tags": ["python", "syntax", "syntax-error"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 0, "creation_date": 1436989793, "post_id": 31439715, "comment_id": 50848850, "body": "Works fine for me on Python 2 and 3."}, {"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 0, "creation_date": 1436989869, "post_id": 31439715, "comment_id": 50848884, "body": "well, are you SURE there aren&#39;t <code>&quot;&quot;&quot;</code> that naturally appear in that garbage?"}, {"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "edited": false, "score": 1, "creation_date": 1436989896, "post_id": 31439715, "comment_id": 50848903, "body": "Can we see the whole garbage in a pastebin?"}], "answers": [{"tags": [], "owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "is_accepted": true, "score": 4, "last_activity_date": 1436992278, "creation_date": 1436992278, "answer_id": 31440461, "question_id": 31439715, "link": "https://stackoverflow.com/questions/31439715/python-syntaxerror-eof-while-scanning-triple-quoted-string-literal/31440461#31440461", "title": "Python SyntaxError: EOF while scanning triple-quoted string literal", "body": "<p>Reason: Python thinks that within your string the file ends. </p>\n\n<p>Guessing: For some reason character 26 is EOF in some cases.</p>\n\n<p>Motivation:<br>\nPython files are text files whereas zip files are binary. You should not mix them because</p>\n\n<ul>\n<li>the text files have an encoding whereas binary files do not.</li>\n<li>in Windows, Mac and Linux line endings are different. Text files may be changed accordingly.</li>\n</ul>\n\n<p>In both cases zip binary stuff will break.</p>\n\n<p>Solution:<br>\nEncoding. </p>\n\n<pre><code>&gt;&gt;&gt; import base64\n&gt;&gt;&gt; base64.b64encode(b\"\"\"raw string\"\"\") # here you get the encoded result\nb'cmF3IHN0cmluZw==' \n&gt;&gt;&gt; base64.b64decode(b'cmF3IHN0cmluZw==') # this is part of your Python file.\nb'raw string'\n</code></pre>\n"}], "owner": {"reputation": 305, "user_id": 5050391, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/075619a8b4bdd8cbd6a8231c7ab1d9c7?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Paul Astley", "link": "https://stackoverflow.com/users/5050391/richard-paul-astley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27794, "favorite_count": 0, "accepted_answer_id": 31440461, "answer_count": 1, "score": 4, "last_activity_date": 1436992278, "creation_date": 1436989714, "question_id": 31439715, "link": "https://stackoverflow.com/questions/31439715/python-syntaxerror-eof-while-scanning-triple-quoted-string-literal", "title": "Python SyntaxError: EOF while scanning triple-quoted string literal", "body": "<p>My script is:</p>\n\n<pre><code># -*- coding: utf-8 -*-\nRAW_ZIP = \"\"\"PK    \u0161\u00eeF4\u201c\u00e0\u00b5\u00d1$=\f   tcp_host.exe\u00ec]\n|G\u00df\u00cb]\u00c8%\\\u00c8a/\u00ed\u00b5M\u00e1\u0160\u00a6%El\u00c0B\u0013\u00ea\u2026|b\u00dc\u00e5\u00c8\u201d#\u0192MIz\u00d9\u00a3\u00a1\u2020\u0010&lt;\u00a2\\\u00b7\u00b1\u00a8UQ\u00ab\u00a9Z\u00b5jU\u00b4\u00d1\u00d6h\u00a9\u00b4\u201dZ\u00aahQ\u2014\u00db\u00f4\u000bB\u00a1\u0153\u00ff7\u00b3{\u00f9\u00c0\u00b6~\u00fd\u00fc\u00e9\u00c1\u00ec\u00ec\u00cc\u00bcy\u00f3%\u00f46\u201c\u203a\u00b8\u0178I\u00d6\u00c3%\u000b,\u2026N\u000f\u2013*\u000f\u00a7x\u01524xF*\u00d3\u00ce\u017e\u0152\u00ced.\u20228\u00b9l\u00b9\u00a0j'4\u0178Z\u00eb\u00ed\u201aR;\u00bb\u2030M\u00cai\u00c8L`\n...long string...\n\"\u00dd\u00e4\u00ad+\\\u00e8\\n$NK\u0192\u2014u-\u00c8p\u2030f(OY3\u00f2 \u02c6h&amp;\u201a\"\u00be \u00f4E\\&gt;\u00d3]l\u00c0Y\u02dc *\u00b8|\u00d0ZV=\u00c8\u00f84\u00ab\u203a\u201e\u00d7\u2039\u00b3\\1\u00f2ND\u00d8\u00f8\u2020R\u00bcp\u017eH5\u00c7He\u00f2\u00d3\u00eaxt\u0160\u2039\u2030Y\u00ed2t\u00aa\u00d6E\u02dc\"&amp;-')r\u00a2W\u00e5\u00afA\u00cfk\"\u00d5hv%r\u00b3\\\u00e3&amp;\u00b7\u00f9$\u0161R\u00b9\u00aa6\u00f1\u00d5\f\u00ab\u203a\u00fbP\u00a86\u00b3\u00cd\u00cd\u00fd\u00a7\u017d\u00da\u02c6\u0153\u0010\u00db\u00a2|\u00d8\u00e2b\u00fd63&gt;8\u00a3z\u0160n`\u2013D\u00de\u00f8U\u00e2V\u201ccO\u00a7E\u000e\u00a9\u00b8z\u00bd\u00f5\u2014O\u00f9\u00db\u00aa|\u00e4\u2039P\u2018[\u00be\u2020\u00e49\u00ddGr\u0160\u00fc\u0161K(E\u00f6\u0152\u00edj\u00bb&lt;\u00a3&gt;M|\u0010\u00f9^\u2013\u00bf\u00a6P\u00df8\u00af\u00d2w\u2018\u00e9\u2019*3\u0178\u00d6\u000fh\u2020\u00ac\u00ae\u02dc\u2039\u00b5[]T\u00b0\u00b3\fCx\u000e\u00dd\u00ad\u00bb\u00e2U\u0178\u00b3\u00ca\"RzY,\u00fb\u017d\u2014o\u00a0\u00c8#\u000fH\u00b6\u00ae\u2019\u02c6\u201c\n&gt;\u00d1a\u00cbm1\u00e8\u00d8\u00f7\u2030 )\u00f4\u00a7\u00ecKv\u00d0\nc\"\"\"\n</code></pre>\n\n<p>But when i run it i get the error:</p>\n\n<pre><code>SyntaxError: EOF while scanning triple-quoted string literal\n</code></pre>\n\n<p>Why?</p>\n"}, {"tags": ["python", "text", "multidimensional-array", "import"], "comments": [{"owner": {"reputation": 2289, "user_id": 1664675, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/e9526be62369d44940cded06d9b1f7f8?s=128&d=identicon&r=PG", "display_name": "letsc", "link": "https://stackoverflow.com/users/1664675/letsc"}, "edited": false, "score": 0, "creation_date": 1436989557, "post_id": 31439633, "comment_id": 50848727, "body": "Pretty sure the values are read as strings when reading from a file. You can use <code>map()</code> to convert them to float"}, {"owner": {"reputation": 4258, "user_id": 2532275, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qFBUh.png?s=128&g=1", "display_name": "innoSPG", "link": "https://stackoverflow.com/users/2532275/innospg"}, "edited": false, "score": 1, "creation_date": 1436989598, "post_id": 31439633, "comment_id": 50848753, "body": "are you sure that you do not have the symbol % in your file? check first. array2d = numpy.loadtxt(&#39;ExampleTable.txt&#39;) might be your friend if your file already has lines and columns."}, {"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 1, "creation_date": 1436989743, "post_id": 31439633, "comment_id": 50848821, "body": "You may see the file as containing <code>float</code>s and <code>int</code>s, but the interpreter sees a <code>%</code> symbol in one of the columns and doesn&#39;t know what to do with it because it&#39;s not a number."}, {"owner": {"reputation": 1, "user_id": 5120932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a2dade6a5734e5df2341a9416a5296?s=128&d=identicon&r=PG&f=1", "display_name": "Leander2112", "link": "https://stackoverflow.com/users/5120932/leander2112"}, "edited": false, "score": 0, "creation_date": 1436990326, "post_id": 31439633, "comment_id": 50849127, "body": "Yes thank you, there was 1 &#39;%&#39; in the mix of 50mil numbers"}, {"owner": {"reputation": 16470, "user_id": 964813, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/8d83aea6c053a73e1e80441432024f36?s=128&d=identicon&r=PG", "display_name": "jbat100", "link": "https://stackoverflow.com/users/964813/jbat100"}, "edited": false, "score": 0, "creation_date": 1437081350, "post_id": 31439633, "comment_id": 50895565, "body": "If you have that amount of data, using numpy will make things a lot faster and it has nice functions to read in arrays from text files <a href=\"http://docs.scipy.org/doc/numpy/reference/generated/numpy.loadtxt.html#numpy.loadtxt\" rel=\"nofollow noreferrer\">docs.scipy.org/doc/numpy/reference/generated/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 11845, "user_id": 3280538, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pYuGC.jpg?s=128&g=1", "display_name": "flakes", "link": "https://stackoverflow.com/users/3280538/flakes"}, "is_accepted": false, "score": 0, "last_activity_date": 1436990630, "creation_date": 1436990630, "answer_id": 31439971, "question_id": 31439633, "link": "https://stackoverflow.com/questions/31439633/how-can-i-make-a-2-d-array-in-python-from-a-txt-file/31439971#31439971", "title": "How can I make a 2-D Array in Python from a .txt file?", "body": "<p>If you want to watch out for this in the future, you can add a quick check to make sure the conversion is possible first.</p>\n\n<p>For millions of numbers this shouldn't change the answer too much if one value is corrupt! </p>\n\n<pre><code>with open('ExampleTable.txt') as file:\n    array2d = [[float(digit) for digit in line.split() if digit.isnumeric() else 0]\n               for line in file]\n    f = Find_StDev(Find12EpochStars(array2d), array2d)\n    print (f)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5120932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55a2dade6a5734e5df2341a9416a5296?s=128&d=identicon&r=PG&f=1", "display_name": "Leander2112", "link": "https://stackoverflow.com/users/5120932/leander2112"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436990630, "creation_date": 1436989392, "question_id": 31439633, "link": "https://stackoverflow.com/questions/31439633/how-can-i-make-a-2-d-array-in-python-from-a-txt-file", "title": "How can I make a 2-D Array in Python from a .txt file?", "body": "<p>I have to import a .txt file that has 9 columns and 807022 rows into my program so I can sort through it. I have tried the code:</p>\n\n<pre><code>with open('ExampleTable.txt') as file:\n    array2d = [[float(digit) for digit in line.split()] for line in file]\nf = Find_StDev(Find12EpochStars(array2d), array2d)\nprint (f)\n</code></pre>\n\n<p>However, I get the error message:\nValueError: could not convert string to float: '%'</p>\n\n<p>The text file is floats and ints.</p>\n\n<p>How can I import the .txt file so that the functions can use it?</p>\n"}, {"tags": ["python", "flask-sqlalchemy", "factory-boy"], "comments": [{"owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "edited": false, "score": 0, "creation_date": 1437000180, "post_id": 31439564, "comment_id": 50853999, "body": "<b>SubFactory</b> doesn&#39;t work.  See comments on this.  According to the Factory Boy api it should, but it doesn&#39;t which is why I posted on this."}], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "edited": false, "score": 0, "creation_date": 1436999772, "post_id": 31441305, "comment_id": 50853859, "body": "Thanks for the suggestion but SubFactory doesn&#39;t solve this.  SQL throws an &#39;unsupported type&#39; error since the SubFactory returns a Group instance instead of an Integer.  So what I need is to communicate the Group.group_pk Integer value to the User.group_fk attribute so that SQL doesn&#39;t freak out when it executes the INSERT statement.  Also the Group object returned from SubFactory is <b>not saved in the database yet</b>"}, {"owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "edited": false, "score": 0, "creation_date": 1436999934, "post_id": 31441305, "comment_id": 50853919, "body": "sqlalchemy.exc.InterfaceError: (sqlite3.InterfaceError) Error binding parameter 1 - probably unsupported type. [SQL: u&#39;INSERT INTO &quot;UserTable&quot; (name, group_fk) VALUES (?, ?)&#39;] [parameters: (u&#39;User 0&#39;, &lt;__main__.Group object at 0x101c20650&gt;)]"}, {"owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "edited": false, "score": 0, "creation_date": 1437070029, "post_id": 31441305, "comment_id": 50889541, "body": "The github code you wrote is great.  It looks like this may be the way to do it.  It requires a change in the SQLAlchemy table model which is why I didn&#39;t see SubFactory as a solution.  It&#39;s a solution if the table model is constructed in a particular fashion, which is a better construction.  I need more time to review it before I mark the answer, but this is good."}], "tags": [], "owner": {"reputation": 1950, "user_id": 4173186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3rs86.jpg?s=128&g=1", "display_name": "Xelnor", "link": "https://stackoverflow.com/users/4173186/xelnor"}, "is_accepted": true, "score": 8, "last_activity_date": 1436995071, "creation_date": 1436995071, "answer_id": 31441305, "question_id": 31439564, "link": "https://stackoverflow.com/questions/31439564/how-do-i-setup-dependent-factories-using-factory-boy-and-flask-sqlalchemy/31441305#31441305", "title": "How do I setup dependent factories using Factory Boy and Flask-SQLAlchemy?", "body": "<p>The issue comes from using a <code>RelatedFactory</code>: those are intended for <strong>reverse</strong> <code>ForeignKey</code> relations (e.g if you want to build a <code>Group</code> object which already contains a <code>User</code>).</p>\n\n<p>For a direct <code>ForeignKey</code> - like the relation from <code>User</code> to <code>Group</code>, use a <code>SubFactory</code>:</p>\n\n<pre><code>class UserFactory(factory.alchemy.SQLAlchemyModelFactory):\n    class Meta:\n        model = User\n        sqlalchemy_session = db.session\n\n    # No need to force the user_pk, it is built automatically from the database\n    # user_pk = Sequence(lambda n: n)\n    name = Sequence(lambda n: u'User %d' % n)  # coding=utf-8\n    group_fk = factory.SubFactory(GroupFactory)\n</code></pre>\n\n<p>I'm not very familiar with Flask-SQLAlchemy, but I've just added a small example to the repository (at <a href=\"https://github.com/rbarrois/factory_boy/tree/master/examples/flask_alchemy\" rel=\"noreferrer\">https://github.com/rbarrois/factory_boy/tree/master/examples/flask_alchemy</a>) that works yet is quite similar to your situation.</p>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 1058858, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec2e88bf08d3af5179ea57549183e9ed?s=128&d=identicon&r=PG", "display_name": "Technoloft", "link": "https://stackoverflow.com/users/1058858/technoloft"}, "is_accepted": false, "score": 3, "last_activity_date": 1437070199, "creation_date": 1437070199, "answer_id": 31461547, "question_id": 31439564, "link": "https://stackoverflow.com/questions/31439564/how-do-i-setup-dependent-factories-using-factory-boy-and-flask-sqlalchemy/31461547#31461547", "title": "How do I setup dependent factories using Factory Boy and Flask-SQLAlchemy?", "body": "<p>You can use LazyAttribute and a lambda to generate a your new Group and then pull it's 'group_pk' out.</p>\n\n<p>Working version of your code below:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code># coding=utf-8\nfrom flask import Flask\nfrom flask.ext.sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///test.db'\ndb = SQLAlchemy(app)\n\n# ------------------------------\n#   SQLAlchemy Table Models\n# ------------------------------\nclass User(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user with a ForeignKey Constraint\"\"\"\n    __tablename__ = 'UserTable'\n\n    user_pk = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.Unicode(20))\n    group_fk = db.Column(db.ForeignKey(\"GroupTable.group_pk\"), nullable=False)\n\n\nclass Group(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user \"\"\"\n    __tablename__ = 'GroupTable'\n\n    group_pk = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.String(), nullable=False)\n\n\n# -------------------------\n#   Create the SQL tables\n# -------------------------\ndb.drop_all()\ndb.create_all()\n# ----------------------------------------\n#   Factory-Boy User and Group Factories\n# ----------------------------------------\nfrom factory import alchemy, Sequence, LazyAttribute\n\n\nclass GroupFactory(alchemy.SQLAlchemyModelFactory):\n    class Meta(object):\n        model = Group\n        sqlalchemy_session = db.session  # the SQLAlchemy session object\n\n    name = Sequence(lambda n: \"Group {}\".format(n))\n    group_pk = Sequence(lambda n: n)\n\n\nclass UserFactory(alchemy.SQLAlchemyModelFactory):\n    class Meta(object):\n        model = User\n        sqlalchemy_session = db.session  # the SQLAlchemy session object\n\n    user_pk = Sequence(lambda n: n)\n    name = Sequence(lambda n: u'User %d' % n)  # coding=utf-8\n    group_fk = LazyAttribute(lambda a: GroupFactory().group_pk)\n\n\n# ----------------------\n#   Factory tests\n# ----------------------\n# Create a new Group from our factory\ngroup_from_factory = GroupFactory(name='a new group name')\n# Save it to our DB\ndb.session.add(group_from_factory)\ndb.session.commit()\n\n# Verify that Group Saved correctly to DB\ngroup_from_db = db.session.query(Group).filter(Group.group_pk == group_from_factory.group_pk).first()\nassert group_from_db.group_pk is not None\nassert group_from_db.name == 'a new group name'\nassert group_from_db.group_pk == group_from_factory.group_pk\n\n# Create a new User from our factory\nuser_from_factory = UserFactory()\ndb.session.add(user_from_factory)\n# ----------------------------------------------\n#   FAILS AT COMMIT() - NOT NULL constraint failed (group_fk is null)\n# ----------------------------------------------\ndb.session.commit()\n\nassert user_from_factory.user_pk is not None\nassert user_from_factory.name is not None\nassert user_from_factory.group_fk is not None\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "is_accepted": false, "score": 5, "last_activity_date": 1512142575, "last_edit_date": 1512142575, "creation_date": 1437077228, "answer_id": 31463576, "question_id": 31439564, "link": "https://stackoverflow.com/questions/31439564/how-do-i-setup-dependent-factories-using-factory-boy-and-flask-sqlalchemy/31463576#31463576", "title": "How do I setup dependent factories using Factory Boy and Flask-SQLAlchemy?", "body": "<p><strong>Xelnor's</strong> git link shows the best answer so far, but it requires changes to the sqlalchemy model.  Here is the finished working copy of my post using Xelnor's solution:</p>\n\n<pre><code># coding=utf-8\nfrom flask import Flask\nfrom flask.ext.sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///test.db'\ndb = SQLAlchemy(app)\n</code></pre>\n\n<p>SQLAlchemy Table Models</p>\n\n<pre><code>class User(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user with a ForeignKey Constraint\"\"\"\n    __tablename__ = 'user'\n\n    id = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.Unicode(20))\n\n    group_id = db.Column(db.Integer, db.ForeignKey('group.id'), nullable=False)\n</code></pre>\n\n<p>The 'group' db.relationship is what makes the SubFactory call work.\nUserFactory passes group to the User model, which is setup with this\nrelationship() definition.  </p>\n\n<pre><code>    group = db.relationship('Group', backref=db.backref('groups', lazy='dynamic'))\n\n    def __init__(self, name, group):\n        self.name = name\n        self.group = group\n\n    def __repr__(self):\n        return '&lt;Group for %r: %s&gt;' % (self.group, self.name)\n\n\nclass Group(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user \"\"\"\n    __tablename__ = 'group'\n\n    id = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.String(), nullable=False)\n\n    def __init__(self, name):\n        self.name = name\n\n    def __repr__(self):\n        return '&lt;Group %r&gt;' % self.name\n</code></pre>\n\n<p>Create the SQL tables</p>\n\n<pre><code>db.create_all()\n</code></pre>\n\n<p>Factory-Boy User and Group Factories</p>\n\n<pre><code>from factory import alchemy, Sequence, SubFactory, fuzzy\n\n\nclass BaseFactory(alchemy.SQLAlchemyModelFactory):\n    class Meta(object):\n        abstract = True\n        sqlalchemy_session = db.session\n\n\nclass GroupFactory(BaseFactory):\n    class Meta(object):\n        model = Group\n        sqlalchemy_session = db.session  # the SQLAlchemy session object\n\n    name = fuzzy.FuzzyText()\n\n\nclass UserFactory(BaseFactory):\n    class Meta:\n        model = User\n        sqlalchemy_session = db.session\n\n    name = fuzzy.FuzzyText()\n    group = SubFactory(GroupFactory)\n</code></pre>\n\n<p>Factory tests</p>\n\n<pre><code># Create a new Group from our factory\ngroup_from_factory = GroupFactory(name='a new group name')\nassert group_from_factory.id is None\n# Save it to our DB\ndb.session.add(group_from_factory)\ndb.session.commit()\n\n# Verify that Group Saved correctly to DB\ngroup_from_db = db.session.query(Group).filter(Group.id == group_from_factory.id).first()\nassert group_from_db.id is not None\nassert group_from_db.name == 'a new group name'\nassert group_from_db.id == group_from_factory.id\n\n# Create a new User from our factory\nuser1_from_factory = UserFactory(name=u'first')\nuser2_from_factory = UserFactory(name=u'second')\ndb.session.add(user1_from_factory)\ndb.session.add(user2_from_factory)\ndb.session.commit()\n\nassert user1_from_factory.id is not None\nassert user1_from_factory.name is not None\nassert user1_from_factory.id is not None\n\nassert user2_from_factory.id is not None\nassert user2_from_factory.name is not None\nassert user2_from_factory.id is not None\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 2327472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e9064447de53083138a33f2a9d0e8db?s=128&d=identicon&r=PG", "display_name": "etiology", "link": "https://stackoverflow.com/users/2327472/etiology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6079, "favorite_count": 3, "accepted_answer_id": 31441305, "answer_count": 3, "score": 11, "last_activity_date": 1512142575, "creation_date": 1436989102, "question_id": 31439564, "link": "https://stackoverflow.com/questions/31439564/how-do-i-setup-dependent-factories-using-factory-boy-and-flask-sqlalchemy", "title": "How do I setup dependent factories using Factory Boy and Flask-SQLAlchemy?", "body": "<p>What is the correct way to use factory boy with Flask-SQLAlchemy and Foreign Key constraints?  </p>\n\n<p>Consider the following Flask SQLAlchemy Model setup:\n</p>\n\n<pre><code># coding=utf-8\nfrom flask import Flask\nfrom flask.ext.sqlalchemy import SQLAlchemy\n\napp = Flask(__name__)\napp.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///test.db'\ndb = SQLAlchemy(app)\n\n# ------------------------------\n#   SQLAlchemy Table Models\n# ------------------------------\nclass User(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user with a ForeignKey Constraint\"\"\"\n    __tablename__ = 'UserTable'\n\n    user_pk = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.Unicode(20))\n    group_fk = db.Column(db.ForeignKey(\"GroupTable.group_pk\"), nullable=False)\n\n\nclass Group(db.Model):\n    \"\"\" A SQLAlchemy simple model class who represents a user \"\"\"\n    __tablename__ = 'GroupTable'\n\n    group_pk = db.Column(db.Integer(), primary_key=True)\n    name = db.Column(db.String(), nullable=False)\n\n\n# -------------------------\n#   Create the SQL tables\n# -------------------------\ndb.create_all()\n</code></pre>\n\n<p><strong>The User schema requires a Group foreign key when creating a new user.</strong>  Since the Group primary key is assigned from the database, the factory would need to commit a group entry and get the entry's primary key so that it can provide it to the new User.</p>\n\n<p><strong>How do I create a group, save it to the DB, and provide it's key to the User Factory?</strong></p>\n\n<p><a href=\"http://factoryboy.readthedocs.org/en/latest/recipes.html#dependent-objects-foreignkey\" rel=\"noreferrer\">Factory Boy has examples for dealing with Foreign Keys </a> but they don't seem to apply to SQLAlchemy.  Here are the factories and the failure point:</p>\n\n<pre><code># ----------------------------------------\n#   Factory-Boy User and Group Factories\n# ----------------------------------------\nfrom factory import alchemy, Sequence, RelatedFactory\n\n\nclass GroupFactory(alchemy.SQLAlchemyModelFactory):\n    class Meta(object):\n        model = Group\n        sqlalchemy_session = db.session  # the SQLAlchemy session object\n\n    name = Sequence(lambda n: \"Group {}\".format(n))\n    # group_pk = Sequence(lambda n: n)\n\n\nclass UserFactory(alchemy.SQLAlchemyModelFactory):\n    class Meta(object):\n        model = User\n        sqlalchemy_session = db.session  # the SQLAlchemy session object\n\n    user_pk = Sequence(lambda n: n)\n    name = Sequence(lambda n: u'User %d' % n)  # coding=utf-8\n    group_fk = RelatedFactory(GroupFactory)\n\n\n# ----------------------\n#   Factory tests\n# ----------------------\n# Create a new Group from our factory\ngroup_from_factory = GroupFactory(name='a new group name')\nassert group_from_factory.group_pk is None\n# Save it to our DB\ndb.session.add(group_from_factory)\ndb.session.commit()\n\n# Verify that Group Saved correctly to DB\ngroup_from_db = db.session.query(Group).filter(Group.group_pk == group_from_factory.group_pk).first()\nassert group_from_db.group_pk is not None\nassert group_from_db.name == 'a new group name'\nassert group_from_db.group_pk == group_from_factory.group_pk\n\n# Create a new User from our factory\nuser_from_factory = UserFactory()\ndb.session.add(user_from_factory)\n# ----------------------------------------------\n#   FAILS AT COMMIT() - NOT NULL constraint failed (group_fk is null)\n# ----------------------------------------------\ndb.session.commit()\n\nassert user_from_factory.user_pk is not None\nassert user_from_factory.name is not None\nassert user_from_factory.group_fk is not None\n</code></pre>\n"}, {"tags": ["python", "if-statement", "console", "code-reuse", "reusability"], "comments": [{"owner": {"reputation": 44584, "user_id": 2617068, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0nSBO.png?s=128&g=1", "display_name": "TigerhawkT3", "link": "https://stackoverflow.com/users/2617068/tigerhawkt3"}, "edited": false, "score": 3, "creation_date": 1436989567, "post_id": 31439516, "comment_id": 50848736, "body": "If you&#39;re totally unfamiliar with the concept of loops (a fundamental structure in almost every programming language), you really should take a look at the <a href=\"https://docs.python.org/2.7/tutorial\" rel=\"nofollow noreferrer\">official Python tutorial</a>."}], "answers": [{"tags": [], "owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1436991074, "last_edit_date": 1436991074, "creation_date": 1436989079, "answer_id": 31439556, "question_id": 31439516, "link": "https://stackoverflow.com/questions/31439516/is-it-possible-to-reuse-an-if-statement/31439556#31439556", "title": "Is it possible to reuse an &#39;if&#39; statement?", "body": "<p>Use a while-loop:</p>\n\n<pre><code>print \"Hello! What is your name?\"\nwhile True:\n    userinput = raw_input(\"My name is \")\n    if re.search(r'[A-Za-z]', userinput):\n        break\n    print \"That isn't a name!\"\nprint userinput\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 38371, "user_id": 3555845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e06f616d9a53b1ca18287d1049a28ee?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3555845/daniel"}, "edited": false, "score": 0, "creation_date": 1436991117, "post_id": 31439579, "comment_id": 50849603, "body": "no need for the parentheses around the expressions in the print-statements."}, {"owner": {"reputation": 1173, "user_id": 1596068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eb68262670abd792e51d8548c265923?s=128&d=identicon&r=PG", "display_name": "Dobz", "link": "https://stackoverflow.com/users/1596068/dobz"}, "edited": false, "score": 0, "creation_date": 1436993468, "post_id": 31439579, "comment_id": 50850999, "body": "even though there&#39;s &#39;no need&#39; for parentheses around the expressions in the print statement, I think it&#39;s good to use them in python 2.x, because when you start working with python 3.x, these little errors might crop up for a bit when you just start :)"}, {"owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "reply_to_user": {"reputation": 1173, "user_id": 1596068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eb68262670abd792e51d8548c265923?s=128&d=identicon&r=PG", "display_name": "Dobz", "link": "https://stackoverflow.com/users/1596068/dobz"}, "edited": false, "score": 0, "creation_date": 1436993587, "post_id": 31439579, "comment_id": 50851071, "body": "@RussellHickey Which is why I aim to have them, but because i&#39;m using raw_input here... :)"}, {"owner": {"reputation": 1173, "user_id": 1596068, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8eb68262670abd792e51d8548c265923?s=128&d=identicon&r=PG", "display_name": "Dobz", "link": "https://stackoverflow.com/users/1596068/dobz"}, "edited": false, "score": 0, "creation_date": 1436993793, "post_id": 31439579, "comment_id": 50851199, "body": "@Tim I know <code>raw_input</code> shows you&#39;re using python 2.x, I&#39;m just saying, it is sometimes helpful, to use code that can be used also in 3.x :) If the author of this code decided to change to python 3.x he would need to go through each 2.x file and change the <code>print &quot;text&quot;</code>, to code that would have worked regardless :) I know you can use find and replace, but it&#39;s just a small time saver if you have multiple files :)"}], "tags": [], "owner": {"reputation": 2101, "user_id": 2808510, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/vaEJm.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/2808510/tim"}, "is_accepted": false, "score": 2, "last_activity_date": 1436991205, "last_edit_date": 1436991205, "creation_date": 1436989148, "answer_id": 31439579, "question_id": 31439516, "link": "https://stackoverflow.com/questions/31439516/is-it-possible-to-reuse-an-if-statement/31439579#31439579", "title": "Is it possible to reuse an &#39;if&#39; statement?", "body": "<p>Use a <code>while</code> loop:</p>\n\n<pre><code>print \"Hello! What is your name?\"\nwhile True:\n    userinput = raw_input(\"My name is \")\n    if not re.search(r'[A-Za-z]', userinput):\n        print \"That isn't a name!\"\n    else:\n        break\n\nprint userinput\n</code></pre>\n\n<p>Note you don't <code>print</code> a <code>raw_input()</code> - or make it <code>str</code> (it already is). All you need is the <code>raw_input('text')</code> and it will display <code>text</code>.</p>\n"}], "owner": {"reputation": 39, "user_id": 5115709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/944ce299e3a487f7c87d29ed0d05bb89?s=128&d=identicon&r=PG&f=1", "display_name": "user5115709", "link": "https://stackoverflow.com/users/5115709/user5115709"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1436991205, "creation_date": 1436988965, "last_edit_date": 1436990255, "question_id": 31439516, "link": "https://stackoverflow.com/questions/31439516/is-it-possible-to-reuse-an-if-statement", "title": "Is it possible to reuse an &#39;if&#39; statement?", "body": "<p>So I am working on a project and I was wondering if it is possible to reuse an 'if' statement. For example, my code right now is </p>\n\n<pre><code>import re\nimport string\nuserinput=''\nprint \"Hello! What is your name?\"\n\nuserinput = str(raw_input(\"My name is \"))\n\nif not re.search(r'[A-Za-z]', userinput):\n    print \"That isn't a name!\"\n    print str(raw_input(\"My name is \"))\n</code></pre>\n\n<p>and it prints</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hello! WHat is your name?\nMy name is 86124674983@\nThat isn't a name! \nMy name is 986421674941\n986421674941\n</code></pre>\n\n<p>As you can see, it recognizes anything other than letters as an invalid entrance, but it only does it once. If you input symbols the second time it prompts you for a name, it takes that random input and prints it. I want it to print </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Hello! WHat is your name?\nMy name is 86124674983@\nThat isn't a name! \nMy name is 986421674941\nThat isn't a name! \nMy name is Eli\n</code></pre>\n\n<p>Sorry if this confuses anyone. If you need anything clarified don't hesitate to ask. Thanks very much in advance!!</p>\n"}, {"tags": ["python", "regex", "regular-language"], "answers": [{"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 2, "creation_date": 1436989224, "post_id": 31439509, "comment_id": 50848564, "body": "<code>re.DOTALL</code> and <code>re.S</code> <a href=\"https://docs.python.org/2/library/re.html#re.S\" rel=\"nofollow noreferrer\">are synonyms</a>."}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "reply_to_user": {"reputation": 9677, "user_id": 4244780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KUXr1.jpg?s=128&g=1", "display_name": "Iron Fist", "link": "https://stackoverflow.com/users/4244780/iron-fist"}, "edited": false, "score": 0, "creation_date": 1436989788, "post_id": 31439509, "comment_id": 50848846, "body": "I felt I missed something. Now, I think I finally got it."}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 4, "last_activity_date": 1571817025, "last_edit_date": 1571817025, "creation_date": 1436988941, "answer_id": 31439509, "question_id": 31439488, "link": "https://stackoverflow.com/questions/31439488/matching-newline-and-any-character-with-python-regex/31439509#31439509", "title": "Matching newline and any character with Python regex", "body": "<p>You can grab it with:</p>\n\n<pre><code>var\\d+(?:(?!var\\d).)*?secondVar\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/pS4iV1/5\" rel=\"nofollow noreferrer\">demo</a>. <a href=\"https://docs.python.org/2/library/re.html#re.S\" rel=\"nofollow noreferrer\"><code>re.S</code> (or <code>re.DOTALL</code>) modifier</a> must be used with this regex <em>so that <code>.</code> could match a newline</em>. The text between the delimiters will be in Group 1. </p>\n\n<p><strong>NOTE:</strong> The <em>closest match</em> will be matched due to <code>(?:(?!var\\d).)*?</code> <a href=\"https://stackoverflow.com/questions/30900794/tempered-greedy-token-what-is-different-about-placing-the-dot-before-the-negat\">tempered greedy token</a> (i.e. if you have another <code>var</code> + a digit after <code>var</code> + 1+ digits then the match will be between the second <code>var</code> and <code>secondVar</code>.</p>\n\n<p><strong>NOTE2:</strong> You might want to use <code>\\b</code> word boundaries to match the words beginning with them: <code>\\bvar(?:(?!var\\d).)*?\\bsecondVar</code>.</p>\n\n<p><strong>REGEX EXPLANATION</strong></p>\n\n<ul>\n<li><code>var</code> - match the starting delimiter</li>\n<li><code>\\d+</code> - 1+ digits</li>\n<li><code>(?:(?!var\\d).)*?</code> - a tempered greedy token that matches any char, 0 or more (but as few as possible) repetitions, that does not start a char sequence <code>var</code> and a digit</li>\n<li><code>secondVar</code> - match <code>secondVar</code> literally.</li>\n</ul>\n\n<p><a href=\"https://ideone.com/TXzNJa\" rel=\"nofollow noreferrer\">IDEONE DEMO</a></p>\n\n<pre><code>import re\np = re.compile(r'var\\d+(?:(?!var\\d).)*?secondVar', re.DOTALL)\ntest_str = \"var12.1\\na\\na\\ndsa\\n\\n88\\n123!!!\\nsecondVar12.1\\nvar12.1\\na\\na\\ndsa\\n\\n88\\n123!!!\\nsecondVar12.1\"\nprint(p.findall(test_str))\n</code></pre>\n\n<p>Result for the input string (I doubled it for demo purposes):</p>\n\n<pre><code>['12.1\\na\\na\\ndsa\\n\\n88\\n123!!!\\n', '12.1\\na\\na\\ndsa\\n\\n88\\n123!!!\\n']\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1436989304, "post_id": 31439518, "comment_id": 50848604, "body": "<code>.*</code> is not correct as it is greedy, and will overmatch if there are more delimited sections."}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 1, "last_activity_date": 1436989426, "last_edit_date": 1436989426, "creation_date": 1436988973, "answer_id": 31439518, "question_id": 31439488, "link": "https://stackoverflow.com/questions/31439488/matching-newline-and-any-character-with-python-regex/31439518#31439518", "title": "Matching newline and any character with Python regex", "body": "<p>You're looking for the <a href=\"https://docs.python.org/3.4/library/re.html#re.DOTALL\" rel=\"nofollow\"><code>re.DOTALL</code></a> flag, with a regex like this: <code>var(.*?)secondVar</code>.  This regex would capture everything between <code>var</code> and <code>secondVar</code>.</p>\n"}], "owner": {"reputation": 735, "user_id": 2254668, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/RuBEj.jpg?s=128&g=1", "display_name": "Alexey Berezuev", "link": "https://stackoverflow.com/users/2254668/alexey-berezuev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2173, "favorite_count": 0, "accepted_answer_id": 31439509, "answer_count": 2, "score": 1, "last_activity_date": 1571817025, "creation_date": 1436988846, "last_edit_date": 1436995725, "question_id": 31439488, "link": "https://stackoverflow.com/questions/31439488/matching-newline-and-any-character-with-python-regex", "title": "Matching newline and any character with Python regex", "body": "<p>I have a text like </p>\n\n<blockquote>\n  <p>var12.1<br>\n  a<br>\n  a<br>\n  dsa<br><br>\n  88<br>\n  123!!!<br>\n  secondVar12.1</p>\n</blockquote>\n\n<p>The string between <code>var</code> and <code>secondVar</code> may be different (and there may be different count of them).</p>\n\n<p>How can I dump it with regexp?<br>\nI'm trying something something like this to no avail:</p>\n\n<pre><code>re.findall(r\"^var[0-9]+\\.[0-9]+[\\n.]+^secondVar[0-9]+\\.[0-9]+\", str, re.MULTILINE)\n</code></pre>\n"}, {"tags": ["python", "sqlalchemy"], "answers": [{"tags": [], "owner": {"reputation": 1267, "user_id": 2517292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf6e6268c0f3048c0f719b17f9b1e0a?s=128&d=identicon&r=PG", "display_name": "Eric Workman", "link": "https://stackoverflow.com/users/2517292/eric-workman"}, "is_accepted": true, "score": 2, "last_activity_date": 1437000364, "creation_date": 1437000364, "answer_id": 31442537, "question_id": 31439394, "link": "https://stackoverflow.com/questions/31439394/sqlalchemy-select-data-associated-with-foreign-key-not-the-foreign-key-itself/31442537#31442537", "title": "SQLAlchemy - select data associated with foreign key, NOT the foreign key itself", "body": "<pre><code>class Name(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name = db.Column(db.Text) # or varchar \n\nclass Person(db.Model):\n    id = db.Column(db.Integer, primary_key=True)\n    name_id = db.Column(db.Integer, db.ForeignKey('name.id'))\n\n    _name = db.relationship('Name')\n\n    @property\n    def name(self):\n        return self._name.name\n</code></pre>\n\n<p>Getting the actual name back could be done like this or with a select in the name function. I prefer this way with a property. You'll need to fill in the details with how you are using joins in the relationship and other details.</p>\n\n<p>You could <code>@property</code> to<code>@hybrid_property</code> to get some neat functionality from SQLAlchemy. Of course, you need to use it effectively.</p>\n"}], "owner": {"reputation": 137, "user_id": 4883227, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh6.googleusercontent.com/--uwG_ruBDAo/AAAAAAAAAAI/AAAAAAAAABE/Z4rwQbyvack/photo.jpg?sz=128", "display_name": "Ian Ling", "link": "https://stackoverflow.com/users/4883227/ian-ling"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 31442537, "answer_count": 1, "score": 0, "last_activity_date": 1437000364, "creation_date": 1436988557, "question_id": 31439394, "link": "https://stackoverflow.com/questions/31439394/sqlalchemy-select-data-associated-with-foreign-key-not-the-foreign-key-itself", "title": "SQLAlchemy - select data associated with foreign key, NOT the foreign key itself", "body": "<p>I have two tables, Name and Person.</p>\n\n<p>Name:</p>\n\n<ul>\n<li><p>id (int, primary key)</p></li>\n<li><p>name (varchar)</p></li>\n</ul>\n\n<p>Person:</p>\n\n<ul>\n<li><p>id (int, primary key)</p></li>\n<li><p>name_id (int, foreign key->Name.id)</p></li>\n</ul>\n\n<p>Assuming my models are set up with the foreign keys, if I run <code>Person.query.first().name_id</code>, this will return an integer. I want it to return the <code>name</code> varchar. Is this possible? Or is there something I can do to get the same result? </p>\n"}, {"tags": ["python", "openssl", "request"], "owner": {"reputation": 576, "user_id": 1092608, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/60d5607f3c0f837ef436c112637f0b14?s=128&d=identicon&r=PG", "display_name": "cecemel", "link": "https://stackoverflow.com/users/1092608/cecemel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1436988508, "creation_date": 1436988508, "question_id": 31439380, "link": "https://stackoverflow.com/questions/31439380/how-to-build-python-requests-module-with-custom-version-openssl", "title": "How to build python requests module with custom version OpenSSL", "body": "<p>what should I do to build/install python requests module  requests with a custom build of OpenSSL?</p>\n\n<p>thx</p>\n"}, {"tags": ["python", "ubuntu", "selenium", "selenium-webdriver", "automation"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 5066514, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/48e082213a4f4b501968b2252c997198?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5066514/chris"}, "edited": false, "score": 0, "creation_date": 1436989046, "post_id": 31439465, "comment_id": 50848460, "body": "I realize that there is not a name or an id attribute, it was just something that I tried... :/"}, {"owner": {"reputation": 123, "user_id": 5066514, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/48e082213a4f4b501968b2252c997198?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5066514/chris"}, "edited": false, "score": 0, "creation_date": 1436989122, "post_id": 31439465, "comment_id": 50848507, "body": "I am just trying to figure out how to click the button. I can find and click other buttons on the page, just not a few that are on the top (almost like tabs)"}], "tags": [], "owner": {"reputation": 335, "user_id": 372704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53c6915158bea6c84266d4d14d6c30be?s=128&d=identicon&r=PG", "display_name": "Jorge Omar V&#225;zquez", "link": "https://stackoverflow.com/users/372704/jorge-omar-v%c3%a1zquez"}, "is_accepted": false, "score": 0, "last_activity_date": 1436989153, "last_edit_date": 1436989153, "creation_date": 1436988790, "answer_id": 31439465, "question_id": 31439343, "link": "https://stackoverflow.com/questions/31439343/python-selenium-cant-find-an-element-on-page/31439465#31439465", "title": "Python Selenium: Can&#39;t find an element on page", "body": "<p>Chris,</p>\n\n<p>The span that you pasted doesn't has an attribute named id.</p>\n\n<p>Also, your class selector is too wide, i'd suggest using a more explicit path following the dom structure. Bare in mind that there may be multiple elements that have that class name.</p>\n\n<p>Also, you are trying to find by the attribute name, which you don't have in that element.</p>\n\n<p>Finally, it seems that you might be using angular. Does the input that you  are looking for is created with javascript dinamically ?</p>\n\n<p>And also,  why are you using root to do this tests ?</p>\n\n<p>Before doing the asserts, can you store the resulting html and manually checking that you indeed have that element?.</p>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 5066514, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/48e082213a4f4b501968b2252c997198?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5066514/chris"}, "edited": false, "score": 0, "creation_date": 1436989567, "post_id": 31439568, "comment_id": 50848737, "body": "driver.find_element_by_css_selector(&quot;span[data-title=Reports&zwnj;&#8203;]&quot;) did the trick. I was trying to use the data-title before I just didn&#39;t have the correct format. Thanks a lot!"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1436989119, "creation_date": 1436989119, "answer_id": 31439568, "question_id": 31439343, "link": "https://stackoverflow.com/questions/31439343/python-selenium-cant-find-an-element-on-page/31439568#31439568", "title": "Python Selenium: Can&#39;t find an element on page", "body": "<p>Find the element by <code>data-title</code>:</p>\n\n<pre><code>driver.find_element_by_css_selector(\"span[data-title=Reports]\")\n</code></pre>\n\n<p>Or, if you need to get to the <code>a</code> tag:</p>\n\n<pre><code>driver.find_element_by_xpath(\"//a[span/@data-title = 'Reports']\")\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 5066514, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/48e082213a4f4b501968b2252c997198?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5066514/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1430, "favorite_count": 1, "accepted_answer_id": 31439568, "answer_count": 2, "score": 0, "last_activity_date": 1436989170, "creation_date": 1436988420, "last_edit_date": 1436989170, "question_id": 31439343, "link": "https://stackoverflow.com/questions/31439343/python-selenium-cant-find-an-element-on-page", "title": "Python Selenium: Can&#39;t find an element on page", "body": "<p>I'm pretty new to using python in selenium.</p>\n\n<p>I have been trying to select a button on my web page. Here is the piece of HTML that appears after inspecting the element of the button:</p>\n\n<pre><code>&lt;a class=\"btn col-xs-3 nav-btns\" ui-sref=\"salt.dashboard.reports.minions\" href=\"/dashboard/reports/minions/\"&gt;\n\n    &lt;span class=\"ssIcons-icon_reports salt-icon-3x ng-scope active\" bs-tooltip=\"\" data-title=\"Reports\" container=\"body\" placement=\"bottom\" animation=\"none\" data-trigger=\"hover\" ng-class=\"{'active': state.current.name =='salt.dashboard.reports' \u2026 || state.current.name =='salt.dashboard.reports.minions'}\"&gt;\n\n    ::before\n    &lt;/span&gt;\n\n&lt;/a&gt;\n</code></pre>\n\n<p>I have tried everything I can think of. Here are some of the things that I have tried:</p>\n\n<pre><code>element = driver.find_element_by_class_name(\"btncol-xs-3\")\nelement = driver.find_element_by_name(\"Reports\")\nelement = driver.find_element_by_id(\"Reports\")\n</code></pre>\n\n<p>the error that I keep getting is:</p>\n\n<blockquote>\n  <p>selenium.common.exceptions.NoSuchElementException: Message: Unable to\n  locate element: {\"method\":\"class\n  name\",\"selector\":\"salt.dashboard.reports\"} Stacktrace:\n      at FirefoxDriver.prototype.findElementInternal_ (file:///tmp/tmpoRPJXA/extensions/fxdriver@googlecode.com/components/driver-component.js:10299)\n      at FirefoxDriver.prototype.findElement (file:///tmp/tmpoRPJXA/extensions/fxdriver@googlecode.com/components/driver-component.js:10308)\n      at DelayedCommand.prototype.executeInternal_/h (file:///tmp/tmpoRPJXA/extensions/fxdriver@googlecode.com/components/command-processor.js:12282)\n      at DelayedCommand.prototype.executeInternal_ (file:///tmp/tmpoRPJXA/extensions/fxdriver@googlecode.com/components/command-processor.js:12287)\n      at DelayedCommand.prototype.execute/&lt; (file:///tmp/tmpoRPJXA/extensions/fxdriver@googlecode.com/components/command-processor.js:12229)\n  root@chris-salt:/home/chris/Documents/projects/python-selenium#</p>\n</blockquote>\n"}, {"tags": ["python", "python-2.7", "numpy"], "comments": [{"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436989424, "post_id": 31439331, "comment_id": 50848669, "body": "Might be related to this: <a href=\"http://stackoverflow.com/q/14657375/1461210\">stackoverflow.com/q/14657375/1461210</a>"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436989800, "post_id": 31439331, "comment_id": 50848855, "body": "Try the following: download the package without installing it (<code>pip install  fastcluster --download=&#39;.&#39;</code>), untar it, edit <code>setup.py</code> so that the <code>Extension</code> in <code>ext_modules</code> has the following keyword argument: <code>include_dirs=[numpy.get_include()]</code>, then install it using <code>python setup.py install</code>"}, {"owner": {"reputation": 43, "user_id": 4907989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89450144b551b56dafe4ac65fd9227c0?s=128&d=identicon&r=PG&f=1", "display_name": "JonNYC", "link": "https://stackoverflow.com/users/4907989/jonnyc"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436991256, "post_id": 31439331, "comment_id": 50849672, "body": "Thanks for quick reply - tried that but when I run python setup.py install I get: NameError: name &#39;numpy&#39; is not defined"}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436991292, "post_id": 31439331, "comment_id": 50849703, "body": "You need to <code>import numpy</code>"}, {"owner": {"reputation": 43, "user_id": 4907989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89450144b551b56dafe4ac65fd9227c0?s=128&d=identicon&r=PG&f=1", "display_name": "JonNYC", "link": "https://stackoverflow.com/users/4907989/jonnyc"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436992537, "post_id": 31439331, "comment_id": 50850443, "body": "Ah yes sorry missed obvious, that seemed to work to get fastcluster installed!  Let me try some tests and work on the rest."}, {"owner": {"reputation": 43, "user_id": 4907989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89450144b551b56dafe4ac65fd9227c0?s=128&d=identicon&r=PG&f=1", "display_name": "JonNYC", "link": "https://stackoverflow.com/users/4907989/jonnyc"}, "reply_to_user": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436994215, "post_id": 31439331, "comment_id": 50851417, "body": "Totally working and it was the other issue you linked to, thanks again and apologies for not finding on my own."}, {"owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "edited": false, "score": 0, "creation_date": 1436995083, "post_id": 31439331, "comment_id": 50851876, "body": "No worries - I&#39;ll re-write my comment as an answer"}, {"owner": {"reputation": 814, "user_id": 627163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd9ac03d714f0ceb516a5a6c22f1fb1c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/627163/daniel"}, "edited": false, "score": 0, "creation_date": 1437052325, "post_id": 31439331, "comment_id": 50877364, "body": "This problem has been fixed in fastcluster version 1.1.18."}], "answers": [{"comments": [{"owner": {"reputation": 814, "user_id": 627163, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd9ac03d714f0ceb516a5a6c22f1fb1c?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/627163/daniel"}, "edited": false, "score": 2, "creation_date": 1437052435, "post_id": 31441491, "comment_id": 50877448, "body": "Step 4 should not be optional! Thanks to Forest Gregg (U Chicago) for notifying me about the problem, and thanks to ali_m for the solution. I fixed it in fastcluster version 1.1.18."}, {"owner": {"reputation": 118707, "user_id": 54964, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/0VZ1V.png?s=128&g=1", "display_name": "L&#233;o L&#233;opold Hertz \uc900\uc601", "link": "https://stackoverflow.com/users/54964/l%c3%a9o-l%c3%a9opold-hertz-%ec%a4%80%ec%98%81"}, "edited": false, "score": 0, "creation_date": 1468248456, "post_id": 31441491, "comment_id": 64036497, "body": "Can your approach also work in the case here <a href=\"http://unix.stackexchange.com/q/294979/16920\">unix.stackexchange.com/q/294979/16920</a> ?"}], "tags": [], "owner": {"reputation": 62045, "user_id": 1461210, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fa93b9461ed24899945403cae69e02ee?s=128&d=identicon&r=PG", "display_name": "ali_m", "link": "https://stackoverflow.com/users/1461210/ali-m"}, "is_accepted": true, "score": 3, "last_activity_date": 1437079503, "last_edit_date": 1495535330, "creation_date": 1436995795, "answer_id": 31441491, "question_id": 31439331, "link": "https://stackoverflow.com/questions/31439331/having-trouble-installing-fastcluster-library-numpy-include-error/31441491#31441491", "title": "Having trouble installing fastcluster library, numpy include error", "body": "<p>The issue you're seeing with installing <code>fastcluster</code> is related to <a href=\"https://stackoverflow.com/q/14657375/1461210\">this previous question</a> - the compiler is not looking in the correct directory to find the numpy headers. You can use more or less the same solution as given in the accepted answer:</p>\n\n<ol>\n<li><p>Download and untar the source for <code>fastcluster</code></p>\n\n<pre><code>$ pip install fastcluster --download='.'\n$ tar -xzf fastcluster-1.1.17.tar.gz\n$ cd fastcluster-1.1.17/\n</code></pre></li>\n<li><p>Edit the <code>setup.py</code> file to add the output of <code>numpy.get_include()</code> to the <code>include_dirs=</code> argument for the <code>Extension</code>:</p>\n\n<pre><code>import numpy\n\n...\n\next_modules=[Extension('_fastcluster',                                     \n                       ['src/fastcluster_python.cpp'],                     \n                       extra_compile_args=['/EHsc'] if os.name=='nt' else [],\n                       include_dirs=[numpy.get_include()]\n                       )]\n</code></pre></li>\n<li><p>Install <code>fastcluster</code>:</p>\n\n<pre><code>$ python setup.py install\n</code></pre></li>\n<li><p>Let the <a href=\"http://danifold.net/fastcluster.html\" rel=\"nofollow noreferrer\"><code>fastcluster</code> maintainer</a> know that his package is broken :-)</p></li>\n</ol>\n"}], "owner": {"reputation": 43, "user_id": 4907989, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89450144b551b56dafe4ac65fd9227c0?s=128&d=identicon&r=PG&f=1", "display_name": "JonNYC", "link": "https://stackoverflow.com/users/4907989/jonnyc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1677, "favorite_count": 0, "accepted_answer_id": 31441491, "answer_count": 1, "score": 4, "last_activity_date": 1437079503, "creation_date": 1436988376, "last_edit_date": 1436996107, "question_id": 31439331, "link": "https://stackoverflow.com/questions/31439331/having-trouble-installing-fastcluster-library-numpy-include-error", "title": "Having trouble installing fastcluster library, numpy include error", "body": "<p>I'm trying to install the <code>fastcluster</code> Python library, but I'm running into a compilation error.</p>\n\n<pre><code>$ pip install fastcluster\n</code></pre>\n\n<p>produces the following output:</p>\n\n<pre><code>Collecting fastcluster\n  Using cached fastcluster-1.1.17.tar.gz\nBuilding wheels for collected packages: fastcluster\n  Running setup.py bdist_wheel for fastcluster\n  Complete output from command /home/ruser/dedupe/venv/bin/python -c \"import setuptools;__file__='/tmp/pip-build-9ejthV/fastcluster/setup.py';exec(compile(open(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" bdist_wheel -d /tmp/tmpXVyTyspip-wheel-:\n  Version: 1.1.17\n  running bdist_wheel\n  running build\n  running build_py\n  creating build\n  creating build/lib.linux-x86_64-2.7\n  copying fastcluster.py -&gt; build/lib.linux-x86_64-2.7\n  running build_ext\n  building '_fastcluster' extension\n  creating build/temp.linux-x86_64-2.7\n  creating build/temp.linux-x86_64-2.7/src\n  x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c src/fastcluster_python.cpp -o build/temp.linux-x86_64-2.7/src/fastcluster_python.o\n  cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C/ObjC but not for C++ [enabled by default]\n  src/fastcluster_python.cpp:38:31: fatal error: numpy/arrayobject.h: No such file or directory\n   #include &lt;numpy/arrayobject.h&gt;\n                                 ^\n  compilation terminated.\n  error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n\n  ----------------------------------------\n  Failed building wheel for fastcluster\nFailed to build fastcluster\nInstalling collected packages: fastcluster\n  Running setup.py install for fastcluster\n    Complete output from command /home/ruser/dedupe/venv/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-9ejthV/fastcluster/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-85ovHC-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/ruser/dedupe/venv/include/site/python2.7/fastcluster:\n    Version: 1.1.17\n    running install\n    running build\n    running build_py\n    running build_ext\n    building '_fastcluster' extension\n    x86_64-linux-gnu-gcc -pthread -fno-strict-aliasing -DNDEBUG -g -fwrapv -O2 -Wall -Wstrict-prototypes -fPIC -I/usr/include/python2.7 -c src/fastcluster_python.cpp -o build/temp.linux-x86_64-2.7/src/fastcluster_python.o\n    cc1plus: warning: command line option \u2018-Wstrict-prototypes\u2019 is valid for C/ObjC but not for C++ [enabled by default]\n    src/fastcluster_python.cpp:38:31: fatal error: numpy/arrayobject.h: No such file or directory\n     #include &lt;numpy/arrayobject.h&gt;\n                                   ^\n    compilation terminated.\n    error: command 'x86_64-linux-gnu-gcc' failed with exit status 1\n\n    ----------------------------------------\nCommand \"/home/ruser/dedupe/venv/bin/python -c \"import setuptools, tokenize;__file__='/tmp/pip-build-9ejthV/fastcluster/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\\r\\n', '\\n'), __file__, 'exec'))\" install --record /tmp/pip-85ovHC-record/install-record.txt --single-version-externally-managed --compile --install-headers /home/ruser/dedupe/venv/include/site/python2.7/fastcluster\" failed with error code 1 in /tmp/pip-build-9ejthV/fastcluster\n</code></pre>\n\n<p>What would cause this? Something about setting include directories?</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"comments": [{"owner": {"reputation": 2719, "user_id": 2028710, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RsoK4.png?s=128&g=1", "display_name": "Dickster", "link": "https://stackoverflow.com/users/2028710/dickster"}, "edited": false, "score": 1, "creation_date": 1436990436, "post_id": 31439399, "comment_id": 50849195, "body": "This break as well:       df.loc(axis=0)[:,(2014,9):(2015,8)]"}, {"owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "reply_to_user": {"reputation": 2719, "user_id": 2028710, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RsoK4.png?s=128&g=1", "display_name": "Dickster", "link": "https://stackoverflow.com/users/2028710/dickster"}, "edited": false, "score": 0, "creation_date": 1436990589, "post_id": 31439399, "comment_id": 50849287, "body": "That <i>should</i> as it doesn&#39;t have meaning"}], "tags": [], "owner": {"reputation": 107245, "user_id": 644898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2833d485728ee2f603802242ebc9826?s=128&d=identicon&r=PG", "display_name": "Jeff", "link": "https://stackoverflow.com/users/644898/jeff"}, "is_accepted": true, "score": 3, "last_activity_date": 1436991297, "last_edit_date": 1436991297, "creation_date": 1436988583, "answer_id": 31439399, "question_id": 31439314, "link": "https://stackoverflow.com/questions/31439314/axis-argument-to-loc-to-interpret-the-passed-slicers-on-a-axis-1/31439399#31439399", "title": "Axis argument to .loc() to interpret the passed slicers on a axis=1", "body": "<p>That might be a bug. Pls post an issue on github. The canoncial way to select things is to fully specify all the axes.</p>\n\n<pre><code>In [6]: df.loc[:,(2014,9):(2015,8)]\nOut[6]: \n  2014     2015    \n    9   10   7   8 \nA   26   2   44  69\nB   41   7    5   1\nC    8  27   23  22\nD   54  72   81  93\nE   18  23   54   7\nF   11  81   37  83\nG   60  38   59  29\nH    3  95   89  96\nI    6   9   77   9\nJ   90  92   10  32\n</code></pre>\n"}], "owner": {"reputation": 2719, "user_id": 2028710, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/RsoK4.png?s=128&g=1", "display_name": "Dickster", "link": "https://stackoverflow.com/users/2028710/dickster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2107, "favorite_count": 1, "accepted_answer_id": 31439399, "answer_count": 1, "score": 7, "last_activity_date": 1436992052, "creation_date": 1436988327, "last_edit_date": 1436992052, "question_id": 31439314, "link": "https://stackoverflow.com/questions/31439314/axis-argument-to-loc-to-interpret-the-passed-slicers-on-a-axis-1", "title": "Axis argument to .loc() to interpret the passed slicers on a axis=1", "body": "<p>The <a href=\"http://pandas.pydata.org/pandas-docs/stable/advanced.html#using-slicers\" rel=\"noreferrer\">documentation</a> suggests:</p>\n\n<blockquote>\n  <p>You can also specify the axis argument to .loc to interpret the passed\n  slicers on a single axis.</p>\n</blockquote>\n\n<p>However I get an error trying to slice along the column index.</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ncols= [(yr,m) for yr in [2014,2015] for m in [7,8,9,10]]\ndf = pd.DataFrame(np.random.randint(1,100,(10,8)),index=tuple('ABCDEFGHIJ'))\ndf.columns =pd.MultiIndex.from_tuples(cols)\n\nprint df.head()\n\n  2014             2015            \n    7   8   9   10   7   8   9   10\nA   68  51   6  48   24   3   4  85\nB   79  75  68  62   19  40  63  45\nC   60  15  32  32   37  95  56  38\nD    4  54  81  50   13  64  65  13\nE   78  21  84   1   83  18  39  57\n\n\n#This does not work as expected\nprint df.loc(axis=1)[(2014,9):(2015,8)]\n</code></pre>\n\n<pre class=\"lang-none prettyprint-override\"><code>AssertionError: Start slice bound is non-scalar\n</code></pre>\n\n<pre class=\"lang-python prettyprint-override\"><code>#but an arbitrary transpose and changing axis works!\ndf = df.T\nprint df.loc(axis=0)[(2014,9):(2015,8)]\n\n          A   B   C   D   E   F   G   H   I   J\n2014 9    6  68  32  81  84  60  83  39  94  93\n     10  48  62  32  50   1  84  18  14  92  33\n2015 7   24  19  37  13  83  69  31  91  69  90\n     8    3  40  95  64  18   8  32  93  16  25\n</code></pre>\n\n<p>So I could always assign the slice and re-transpose. \nThat though feels like a hack and the axis=1 setting should have worked.</p>\n\n<pre><code>df = df.loc(axis=0)[(2014,9):(2015,8)]\n\ndf = df.T\n\n\nprint df\n\n  2014     2015    \n    9   10   7   8 \nA   64  98   99  87\nB   43  36   22  84\nC   32  78   86  66\nD   67   8   34  73\nE   83  54   96  33\nF   18  83   36  71\nG   13  25   76   8\nH   69   4   99  84\nI    3  52   50  62\nJ   67  60    9  49\n</code></pre>\n"}, {"tags": ["python", "mysql", "django", "csv"], "comments": [{"owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "edited": false, "score": 0, "creation_date": 1436988576, "post_id": 31439312, "comment_id": 50848208, "body": "What is this? is a View? where is this file? can you show your project&#39;s folder tree?"}, {"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1436988590, "post_id": 31439312, "comment_id": 50848210, "body": "What is <code>main.models.Comicbook</code> ? You seem to be trying to import it and not even using it ... ?"}], "answers": [{"comments": [{"owner": {"reputation": 6724, "user_id": 1454176, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/O9qna.png?s=128&g=1", "display_name": "Zulu", "link": "https://stackoverflow.com/users/1454176/zulu"}, "edited": false, "score": 0, "creation_date": 1437005726, "post_id": 31439435, "comment_id": 50855752, "body": "Can you explain your answer please ?"}], "tags": [], "owner": {"reputation": 5102, "user_id": 327694, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/affc703514153388019ab26f0eb6ab7d?s=128&d=identicon&r=PG", "display_name": "Josep Valls", "link": "https://stackoverflow.com/users/327694/josep-valls"}, "is_accepted": false, "score": 0, "last_activity_date": 1436988710, "creation_date": 1436988710, "answer_id": 31439435, "question_id": 31439312, "link": "https://stackoverflow.com/questions/31439312/how-to-fix-importerror-no-module-named-main-models/31439435#31439435", "title": "how to fix ImportError: No module named main.models", "body": "<p>Remove line:</p>\n\n<p><code>from main.models import Comicbook</code></p>\n"}, {"tags": [], "owner": {"reputation": 8395, "user_id": 3945375, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/DE10z.jpg?s=128&g=1", "display_name": "Gocht", "link": "https://stackoverflow.com/users/3945375/gocht"}, "is_accepted": true, "score": 0, "last_activity_date": 1436989147, "creation_date": 1436989147, "answer_id": 31439578, "question_id": 31439312, "link": "https://stackoverflow.com/questions/31439312/how-to-fix-importerror-no-module-named-main-models/31439578#31439578", "title": "how to fix ImportError: No module named main.models", "body": "<p>I can see some mistakes here.</p>\n\n<ul>\n<li>You import <code>Comicbook</code> but never use it, you could delete this line <code>from main.models import Comicbook</code></li>\n<li><code>Store</code> and <code>Stores</code> are never imported.</li>\n<li>Why <code>new_store = Store.objects.all()</code> and then change it for other value?</li>\n</ul>\n\n<p>You should check this points.</p>\n"}, {"tags": [], "owner": {"reputation": 17410, "user_id": 3160881, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/96c8o.png?s=128&g=1", "display_name": "itzMEonTV", "link": "https://stackoverflow.com/users/3160881/itzmeontv"}, "is_accepted": false, "score": 0, "last_activity_date": 1436989409, "creation_date": 1436989409, "answer_id": 31439638, "question_id": 31439312, "link": "https://stackoverflow.com/questions/31439312/how-to-fix-importerror-no-module-named-main-models/31439638#31439638", "title": "how to fix ImportError: No module named main.models", "body": "<p>Try this</p>\n\n<pre><code>sys.path.append('/absolute/path/to/Comics')\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"Comics.settings\")\n\nfrom main.models import Comicbook #if main is an app inside \n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5109159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b39138043e09daba4c72cf05437dafa?s=128&d=identicon&r=PG&f=1", "display_name": "sarah S", "link": "https://stackoverflow.com/users/5109159/sarah-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 472, "favorite_count": 0, "accepted_answer_id": 31439578, "answer_count": 3, "score": 0, "last_activity_date": 1436989409, "creation_date": 1436988322, "last_edit_date": 1436988475, "question_id": 31439312, "link": "https://stackoverflow.com/questions/31439312/how-to-fix-importerror-no-module-named-main-models", "title": "how to fix ImportError: No module named main.models", "body": "<p>Disclaimer: I am brand new to coding so this may be a dumb question, but I would LOVE some help</p>\n\n<p>I am trying to get a .py folder uploaded into mysql but it keeps giving me a name error. This is my code, where am I going wrong?</p>\n\n<pre><code>#!/usr/bin/env python\nimport csv\nimport os\nimport sys\n\nsys.path.append('..')\n\nos.environ.setdefault(\"DJANGO_SETTINGS_MODULE\", \"Comics.settings\")\n\nfrom main.models import Comicbook\n\ncsv_file_path = os.path.join(os.path.dirname(os.path.abspath('__file__')), \"stores.csv\")\ncsv_file = open(csv_file_path, 'r')\nreader = csv.DictReader(csv_file)\n\nStore = Store.objects.all()\n\nfor row in reader:\n    new_store = Store\n    new_store, created = Stores.objects.get_or_create(state=row['State'])\n    new_store.city = row['City']\n    new_store.name = row['Name']\n    new_store.number = row['Number']\n\n    new_store.save()\n\ncsv_file.close()\n</code></pre>\n"}, {"tags": ["python", "pygame", "surface"], "answers": [{"tags": [], "owner": {"reputation": 5236, "user_id": 1913990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab871420257b4167142acf11b0923cb?s=128&d=identicon&r=PG", "display_name": "cmd", "link": "https://stackoverflow.com/users/1913990/cmd"}, "is_accepted": true, "score": 1, "last_activity_date": 1437000306, "last_edit_date": 1437000306, "creation_date": 1436991805, "answer_id": 31440319, "question_id": 31439143, "link": "https://stackoverflow.com/questions/31439143/pygame-create-fluid-effect-to-make-a-surface-smaller/31440319#31440319", "title": "pygame - create fluid effect to make a surface smaller", "body": "<p>Well a couple of things can help</p>\n\n<ol>\n<li>Don't overwrite your original, this can cause an assortment of transformation problem to accumulate.  Keep your original as is and perform the total transformation you want each time.</li>\n<li>Don't scale by a static number each time through the loop.  Each loop will not have exactly the same amount of time between them.  Use time since start of shrinkage * rate of shrinkage. This will keep your animation smooth and prevent accumulation errors.</li>\n</ol>\n\n<p>code would look something like this:</p>\n\n<pre><code># time_start is when you start the shrinkage\n# time_end is when the shrinkage should be completed\nnow = time.time()\nif now &lt; time_end:\n    shrinking = (time_end - now) / (time_end - time_start)\n    new_size = (int(earth.get_width()*shrinking),\n                int(earth.get_height()*shrinking))\n    earth_scaled = pygame.transform.scale(earth, new_size)  \n    # draw earth_scaled\n</code></pre>\n\n<p>Note: you will probably want to also pay attention to where you are drawing it as your earth_scaled gets smaller.</p>\n\n<hr>\n\n<p>Response to Comment</p>\n\n<p>Transformations are not loss-less.  Each transform will make your image less perfect.  You can get artifacts, cropping issues, etc.  For instance in your case you were multiplying the width and height by just less then 1, then truncating it with <code>int</code>.  This will result is reducing the size by 1 pixel each iteration (unless you have a crazy large image).  Scaling an image to 1 less pixel width than it started with will probably just omit one of the pixel columns. If you keep doing this it will keep removing 1 column and 1 row each time. (not what you want).  If instead you take the full image and scale it, the scale function can make better choices about what to omit or merge.</p>\n"}], "owner": {"reputation": 5, "user_id": 4698564, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GYBATOEDNFU/AAAAAAAAAAI/AAAAAAAAAMg/qU9P6Qv0Kbo/photo.jpg?sz=128", "display_name": "C&#225;ssio Evaldt", "link": "https://stackoverflow.com/users/4698564/c%c3%a1ssio-evaldt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 31440319, "answer_count": 1, "score": 0, "last_activity_date": 1437000306, "creation_date": 1436987767, "last_edit_date": 1436988806, "question_id": 31439143, "link": "https://stackoverflow.com/questions/31439143/pygame-create-fluid-effect-to-make-a-surface-smaller", "title": "pygame - create fluid effect to make a surface smaller", "body": "<p>I want create an effect in pygame where an surface get smaller slowly. I try this:</p>\n\n<p>In main loop:</p>\n\n<pre><code>earth = pygame.transform.scale(earth, (int(earth.get_width()*0.9999), int(earth.get_height()*0.9999)))   \n</code></pre>\n\n<p>how begins\n<img src=\"https://i.stack.imgur.com/OLvbL.jpg\" alt=\"http://s14.postimg.org/d4rblmdgt/Untitled2.png\"></p>\n\n<p>how ends\n<img src=\"https://i.stack.imgur.com/aAuGN.jpg\" alt=\"http://s14.postimg.org/ng3oea565/Untitled1.png\"></p>\n\n<p>with which technique is possible I can do this?</p>\n\n<p>Thanks!</p>\n\n<p>`</p>\n"}, {"tags": ["python", "string", "performance", "file", "split"], "comments": [{"owner": {"reputation": 32126, "user_id": 2666289, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/746dd23bbe20769fbd758421e67f455c?s=128&d=identicon&r=PG", "display_name": "Holt", "link": "https://stackoverflow.com/users/2666289/holt"}, "edited": false, "score": 0, "creation_date": 1436987580, "post_id": 31438991, "comment_id": 50847662, "body": "<code>char = string[index:index+1]</code> creates a new string at each loop, very unefficient. <code>split (string[startIndex:])</code> would be much faster than your current method."}, {"owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "edited": false, "score": 0, "creation_date": 1436987765, "post_id": 31438991, "comment_id": 50847754, "body": "Does <code>string</code> contain the entire contents of the file, or just a single line?"}, {"owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "edited": false, "score": 0, "creation_date": 1436988342, "post_id": 31438991, "comment_id": 50848082, "body": "&quot;string&quot; is just a single line"}, {"owner": {"reputation": 1013, "user_id": 1858954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13f399b9420bf9ec6ad27e823cfd2bf2?s=128&d=identicon&r=PG", "display_name": "spalac24", "link": "https://stackoverflow.com/users/1858954/spalac24"}, "edited": false, "score": 0, "creation_date": 1436989796, "post_id": 31438991, "comment_id": 50848852, "body": "Also, and correct me if I&#39;m wrong, isn&#39;t <code>string[i]</code> equivalent to <code>string[i:i+1]</code>? And <i>maybe</i> a bit more efficient?"}], "answers": [{"tags": [], "owner": {"reputation": 2748, "user_id": 134381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8202cb792bf63a6abdd4092b02801352?s=128&d=identicon&r=PG", "display_name": "Victor Yan", "link": "https://stackoverflow.com/users/134381/victor-yan"}, "is_accepted": false, "score": 0, "last_activity_date": 1436987633, "creation_date": 1436987633, "answer_id": 31439100, "question_id": 31438991, "link": "https://stackoverflow.com/questions/31438991/python-split-efficiency-vs-character-crawling-method/31439100#31439100", "title": "python: split() efficiency vs character crawling method", "body": "<p>suppose you have a file object pointing to the file:</p>\n\n<pre><code>current_item = \"\"\nchar = file.read(1) \nwhile char:\n  if char != \" \":\n     current_item += char\n  else:\n     do_something_about_the_item(current_item)\n     current_item = \"\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1013, "user_id": 1858954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13f399b9420bf9ec6ad27e823cfd2bf2?s=128&d=identicon&r=PG", "display_name": "spalac24", "link": "https://stackoverflow.com/users/1858954/spalac24"}, "edited": false, "score": 1, "creation_date": 1436989980, "post_id": 31439211, "comment_id": 50848938, "body": "The last difference is probably due to the fact that his function only looks for the <i>first</i> occurrence of <code>&#39; &#39;</code>, whereas <code>split</code> would look for all the occurrences of <code>&#39; &#39;</code>."}, {"owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "edited": false, "score": 0, "creation_date": 1436990362, "post_id": 31439211, "comment_id": 50849149, "body": "Thank you for that data, the lines are in face very long. You just saved me from a lot of work changing my findVaule implementaion"}], "tags": [], "owner": {"reputation": 1318, "user_id": 3325465, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/981116e7665b2e6a7d91c92cb9bdc5d1?s=128&d=identicon&r=PG&f=1", "display_name": "bcdan", "link": "https://stackoverflow.com/users/3325465/bcdan"}, "is_accepted": true, "score": 2, "last_activity_date": 1436989107, "last_edit_date": 1436989107, "creation_date": 1436987969, "answer_id": 31439211, "question_id": 31438991, "link": "https://stackoverflow.com/questions/31438991/python-split-efficiency-vs-character-crawling-method/31439211#31439211", "title": "python: split() efficiency vs character crawling method", "body": "<p>I did some timing tests using string <code>'oabsecaosbeoiabsoeib;asdnvzldkxbcoszievbzldkvn.zlisebv;iszdb;vibzdlkv8niandsailbsdlivbslidznclkxvnlidbvlzidbvlzidbvlkxnv'</code>, searching for <code>'8'</code>, each 100000 times:</p>\n\n<p><strong>Your Method</strong>: 2.156 seconds</p>\n\n<p><strong><code>str.split</code></strong>: 0.151 seconds</p>\n\n<p>Another test, that is somewhat more realistic: <code>'hello this is for stack overflow and i absolutely hate typing unecessary characters'</code></p>\n\n<p><strong>Your Method</strong>: 0.317 seconds</p>\n\n<p><strong><code>str.split</code></strong>: 0.267 seconds</p>\n\n<p>A final test, with the above string multiplied 100 times:</p>\n\n<p><strong>Your Method</strong>: 0.325 seconds</p>\n\n<p><strong><code>str.split</code></strong>: 7.376 seconds</p>\n\n<p>Whatever this says.</p>\n\n<p>In your case, with super large strings, I would definitely use your function!</p>\n"}, {"comments": [{"owner": {"reputation": 1109, "user_id": 1772476, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bc3dd034928abd20bb22de44a4846c93?s=128&d=identicon&r=PG", "display_name": "Timidger", "link": "https://stackoverflow.com/users/1772476/timidger"}, "edited": false, "score": 1, "creation_date": 1436994164, "post_id": 31439289, "comment_id": 50851387, "body": "You might want to include the case where the end index extends to the end of the line (no space in the string). In that case just make endIndex = len(string) + 1. In your implementation, it&#39;s -1 if no space char is found, , which truncates the last character (second slicing parameter is exclusive)"}], "tags": [], "owner": {"reputation": 2479, "user_id": 820319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c8d8b17fb98d0730c1a7a346ba9ae9c3?s=128&d=identicon&r=PG", "display_name": "brenns10", "link": "https://stackoverflow.com/users/820319/brenns10"}, "is_accepted": false, "score": 1, "last_activity_date": 1436994288, "last_edit_date": 1436994288, "creation_date": 1436988250, "answer_id": 31439289, "question_id": 31438991, "link": "https://stackoverflow.com/questions/31438991/python-split-efficiency-vs-character-crawling-method/31439289#31439289", "title": "python: split() efficiency vs character crawling method", "body": "<p>Python's <code>split()</code> function is almost certainly written in C, which means it will be faster than the equivalent code if you wrote it in Python.  However, if you are just calling <code>split()</code> on a single line (not all 1.5 million of them), the difference won't be huge.</p>\n\n<p>However, why bother even using <code>split()</code> when you just need the next item in the list?  This may be the most efficient of any approach:</p>\n\n<pre><code>def findValue(string, flag):\n    startIndex = string.find(flag) + len(flag)\n    endIndex = string.find(' ', startIndex)\n    if endIndex == -1:\n        return string[startIndex:]\n    else:\n        return string[startIndex:endIndex]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": false, "score": 0, "last_activity_date": 1436988329, "creation_date": 1436988329, "answer_id": 31439316, "question_id": 31438991, "link": "https://stackoverflow.com/questions/31438991/python-split-efficiency-vs-character-crawling-method/31439316#31439316", "title": "python: split() efficiency vs character crawling method", "body": "<p>You can try python's regular expression tool, the <code>re</code> module, which particularly suited for parsing text files.\nSome examples:\n<a href=\"http://www.thegeekstuff.com/2014/07/python-regex-examples/\" rel=\"nofollow\">http://www.thegeekstuff.com/2014/07/python-regex-examples/</a></p>\n"}], "owner": {"reputation": 49, "user_id": 5087117, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49ccb93c4333acaf7f09a9bbc6c16102?s=128&d=identicon&r=PG&f=1", "display_name": "mistasong", "link": "https://stackoverflow.com/users/5087117/mistasong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 170, "favorite_count": 0, "accepted_answer_id": 31439211, "answer_count": 4, "score": 2, "last_activity_date": 1436994288, "creation_date": 1436987262, "last_edit_date": 1436988310, "question_id": 31438991, "link": "https://stackoverflow.com/questions/31438991/python-split-efficiency-vs-character-crawling-method", "title": "python: split() efficiency vs character crawling method", "body": "<p>I have a very large text file to parse for some information. Each line I do checks for certain keywords (I call them \"flags\"). Once I find the \"flag\", I then call the below method and gather the data that comes right after the flag (usually just a name or number) to find the information after the flag I used the below method(which works):</p>\n\n<pre><code>def findValue(string, flag):\n    string = string.strip()\n    startIndex = string.find(flag) + len(flag)\n    index = startIndex\n    char = string[index:index+1]\n    while char != \" \" and index &lt; len(string):\n        index += 1\n        char = string[index:index+1]\n    endIndex = index\n    return string[startIndex:endIndex]\n</code></pre>\n\n<p>However, it is much easier if I just use the split() with white spaces as separators and then take the next item in the list rather than \"crawling\" the characters. </p>\n\n<p>The log files I am parsing are really large (around 1.5 million or more lines), so I would like to know if and how much it would hurt my efficient to use split() on lines compared to my current method.</p>\n"}, {"tags": ["python", "xpath", "scrapy"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1436987609, "post_id": 31438983, "comment_id": 50847678, "body": "Have you tried using ebay&#39;s web API? <a href=\"https://go.developer.ebay.com/what-ebay-api\" rel=\"nofollow noreferrer\">go.developer.ebay.com/what-ebay-api</a> Not only would this eliminate the need for scraping, it would also help you make sure of their TOS. (Disclaimer: I haven&#39;t tried it.)"}, {"owner": {"reputation": 57, "user_id": 4987085, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/55718b26b2a3ad9630a04bc73701d9b0?s=128&d=identicon&r=PG&f=1", "display_name": "awade1075", "link": "https://stackoverflow.com/users/4987085/awade1075"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1436988324, "post_id": 31438983, "comment_id": 50848075, "body": "Ah I hadn&#39;t even considered if it violated their TOS, woops, turns out it does..  &quot;you will not: ... use any robot, spider, scraper or other automated means to access our Services for any purpose ...&quot; Thanks for the heads up!"}, {"owner": {"reputation": 1989, "user_id": 2368836, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/622bb3fd160ea49f1ed0db7d898a6c09?s=128&d=identicon&r=PG", "display_name": "rocktheartsm4l", "link": "https://stackoverflow.com/users/2368836/rocktheartsm4l"}, "edited": false, "score": 0, "creation_date": 1437004413, "post_id": 31438983, "comment_id": 50855410, "body": "You could always use regex instead of xpath."}, {"owner": {"reputation": 17034, "user_id": 858913, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/b5015a60c08feee1d8116be3dd70878d?s=128&d=identicon&r=PG", "display_name": "eLRuLL", "link": "https://stackoverflow.com/users/858913/elrull"}, "edited": false, "score": 0, "creation_date": 1437017681, "post_id": 31438983, "comment_id": 50858717, "body": "you could use <a href=\"http://crawlera.com/\" rel=\"nofollow noreferrer\">crawlera</a> if you are worried about hitting the site (by its site, or even the api)."}], "owner": {"reputation": 57, "user_id": 4987085, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/55718b26b2a3ad9630a04bc73701d9b0?s=128&d=identicon&r=PG&f=1", "display_name": "awade1075", "link": "https://stackoverflow.com/users/4987085/awade1075"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 972, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436987236, "creation_date": 1436987236, "question_id": 31438983, "link": "https://stackoverflow.com/questions/31438983/python-scrapy-extracting-xpath-from-ebays-dynamic-description-field", "title": "Python/Scrapy: Extracting xpath from Ebay&#39;s dynamic description field", "body": "<p>I'm working on a project that is looking to ingest data from Ebay listings and store it for analysis.  I'm using Scrapy to scrape/crawl specific categories but I'm running into issues when trying to extract the text within an items' \"description\" field.  Each listing seems to have a unique layout for the description so I can't generalize an xPath for the item of my Scrapy object.  </p>\n\n<p>For example one advertisement may have a layout like <a href=\"http://www.ebay.com/itm/Primitive-Wall-Decor-Metal-Art-Butterfly-Rustic-Vintage-Style-Garden-Decor-/141693990060?pt=LH_DefaultDomain_0&amp;hash=item20fd9eb4ac\" rel=\"nofollow\">this</a>, while another may be formatted like <a href=\"http://www.ebay.com/itm/Rawlings-Football-St5-Official-Size-Full-Grain-Leather-Lot-Of-2-Previously-Used-/151727887062?pt=LH_DefaultDomain_0&amp;hash=item2353afd2d6\" rel=\"nofollow\">this</a>.  How can I go about extracting the text within each description tab? I can successfully extract other fields, as their xPaths are universal in Ebay advertisements.  Here's the method I'm reffering to:</p>\n\n<pre><code>def parse_item(self, response):\n    item = EbayItem()\n    item['url'] = response.url\n    item['title'] = response.xpath('//*[@id=\"itemTitle\"]/text()').extract()\n    item['description']= response.xpath( #THISISWHEREIMLOST).extract()\n\n    print \":(\"\n</code></pre>\n"}, {"tags": ["python", "web-scraping", "spotify", "splinter"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1436986988, "post_id": 31438902, "comment_id": 50847336, "body": "Why don&#39;t use spotify API instead? Thanks."}, {"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "reply_to_user": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 1, "creation_date": 1436987040, "post_id": 31438902, "comment_id": 50847360, "body": "These numbers are not currently available through the spotify API: <a href=\"http://stackoverflow.com/questions/31430851/get-play-count-from-top-songs-on-spotify\" title=\"get play count from top songs on spotify\">stackoverflow.com/questions/31430851/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436989420, "post_id": 31439414, "comment_id": 50848666, "body": "That looks promising--when I execute that code, I get no frame, but if i change &quot;frame&quot; to &quot;iframe&quot; and run the second line, I hit a TypeError that looks like: <code>&lt;splinter.driver.webdriver.WebDriverElement object at 0x1040b4dd0&gt; is not JSON serializable</code>"}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436989490, "post_id": 31439414, "comment_id": 50848693, "body": "@MichaelK could you try once again (I&#39;ve updated the code but using selenium bindings directly through <code>browser.driver</code>)? Thanks."}, {"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436990134, "post_id": 31439414, "comment_id": 50849022, "body": "OK, that executes fine, but I still can&#39;t find the elements that I&#39;m looking for, and running <code>browser.html</code> still yields the html from the outer container."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436990682, "post_id": 31439414, "comment_id": 50849356, "body": "@MichaelK how do you locate these elements?"}, {"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436991000, "post_id": 31439414, "comment_id": 50849549, "body": "Okay, still not sure why the solution is the way it is, but I have something that works. Thanks a ton."}, {"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "reply_to_user": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "edited": false, "score": 0, "creation_date": 1436991086, "post_id": 31439414, "comment_id": 50849591, "body": "@MichaelK aside from switching to the iframe, you may need to use explicit waits to wait for elements to load. Spotify web-site is quite dynamic."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1436989460, "last_edit_date": 1436989460, "creation_date": 1436988633, "answer_id": 31439414, "question_id": 31438902, "link": "https://stackoverflow.com/questions/31438902/scrape-spotify-web-interface/31439414#31439414", "title": "Scrape spotify web interface", "body": "<p>The key problem is that there is an <code>iframe</code> containing the artist's page with list of tracks. You need to <em>switch into it's context</em> before searching for elements:</p>\n\n<pre><code>frame = browser.driver.find_element_by_css_selector(\"iframe[id^=browse-app-spotify]\")\nbrowser.driver.switch_to.frame(frame)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1219, "user_id": 3999494, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-TcpQhQNjCRM/AAAAAAAAAAI/AAAAAAAAABA/D9HG90_icPc/photo.jpg?sz=128", "display_name": "Goodword", "link": "https://stackoverflow.com/users/3999494/goodword"}, "edited": false, "score": 0, "creation_date": 1452375839, "post_id": 31440136, "comment_id": 57144582, "body": "How did you find out the iframe index?"}, {"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "reply_to_user": {"reputation": 1219, "user_id": 3999494, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-TcpQhQNjCRM/AAAAAAAAAAI/AAAAAAAAABA/D9HG90_icPc/photo.jpg?sz=128", "display_name": "Goodword", "link": "https://stackoverflow.com/users/3999494/goodword"}, "edited": false, "score": 0, "creation_date": 1452376635, "post_id": 31440136, "comment_id": 57144816, "body": "Trial and error. Right now, the correct iframe index is actually 7"}, {"owner": {"reputation": 1219, "user_id": 3999494, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-TcpQhQNjCRM/AAAAAAAAAAI/AAAAAAAAABA/D9HG90_icPc/photo.jpg?sz=128", "display_name": "Goodword", "link": "https://stackoverflow.com/users/3999494/goodword"}, "edited": false, "score": 0, "creation_date": 1452460880, "post_id": 31440136, "comment_id": 57168020, "body": "My browser freezes up if I try to do get the html with <code>iframe.html</code>.  Does that happen to you?"}, {"owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "reply_to_user": {"reputation": 1219, "user_id": 3999494, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh3.googleusercontent.com/-TcpQhQNjCRM/AAAAAAAAAAI/AAAAAAAAABA/D9HG90_icPc/photo.jpg?sz=128", "display_name": "Goodword", "link": "https://stackoverflow.com/users/3999494/goodword"}, "edited": false, "score": 0, "creation_date": 1452461196, "post_id": 31440136, "comment_id": 57168123, "body": "Sometimes--I&#39;m using Firefox 43, splinter 0.7.3, and selenium 2.48.0 right now and it usually works fine. If it throws a selenium NoSuchFrameException I&#39;ll catch that with some other code"}], "tags": [], "owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1436992060, "last_edit_date": 1436992060, "creation_date": 1436991199, "answer_id": 31440136, "question_id": 31438902, "link": "https://stackoverflow.com/questions/31438902/scrape-spotify-web-interface/31440136#31440136", "title": "Scrape spotify web interface", "body": "<p>Many thanks to @alecxe, the following code works to pull the information on the artist.</p>\n\n<pre><code>from splinter import Browser\nimport time\nfrom bs4 import BeautifulSoup\nimport codecs\n\nbrowser = Browser()\nurl = 'http://play.spotify.com'\nbrowser.visit(url)\ntime.sleep(2)\nbutton = browser.find_by_id('has-account')\nbutton.click()\ntime.sleep(1)\nbrowser.fill('username', 'your_username')\nbrowser.fill('password', 'your_password')\nbuttons = browser.find_by_css('button')\nvisible_buttons = [button for button in buttons if button.visible]\nlogin_button = visible_buttons[-1]\nlogin_button.click()\ntime.sleep(1)\nbrowser.visit('https://play.spotify.com/artist/5YGY8feqx7naU7z4HrwZM6')\ntime.sleep(30)\n\nCORRECT_FRAME_INDEX = 6\nwith browser.get_iframe(CORRECT_FRAME_INDEX) as iframe:\n    html = iframe.html\n    soup = BeautifulSoup(html)\n    output = soup.prettify()\n    with codecs.open('test.html', 'w', 'utf-8') as output_f:\n        output_f.write(output)\nbrowser.quit()\n</code></pre>\n"}], "owner": {"reputation": 1842, "user_id": 1650448, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/894d8191c267188064bf3bfb000127f4?s=128&d=identicon&r=PG", "display_name": "Michael K", "link": "https://stackoverflow.com/users/1650448/michael-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3333, "favorite_count": 2, "accepted_answer_id": 31440136, "answer_count": 2, "score": 2, "last_activity_date": 1436992060, "creation_date": 1436986967, "last_edit_date": 1436987856, "question_id": 31438902, "link": "https://stackoverflow.com/questions/31438902/scrape-spotify-web-interface", "title": "Scrape spotify web interface", "body": "<p>I'm trying to get the number of plays for the top songs from a number of artists on Spotify using python and splinter. </p>\n\n<p>If you fill in the username and password below with yours, you should be able to run the code.</p>\n\n<pre><code>from splinter import Browser\nimport time\nfrom bs4 import BeautifulSoup\n\nbrowser = Browser()\nurl = 'http://play.spotify.com'\nbrowser.visit(url)\ntime.sleep(2)\nbutton = browser.find_by_id('has-account')\nbutton.click()\ntime.sleep(1)\nbrowser.fill('username', 'your_username')\nbrowser.fill('password', 'your_password')\nbuttons = browser.find_by_css('button')\nvisible_buttons = [button for button in buttons if button.visible]\nlogin_button = visible_buttons[-1]\nlogin_button.click()\ntime.sleep(1)\nbrowser.visit('https://play.spotify.com/artist/5YGY8feqx7naU7z4HrwZM6')\ntime.sleep(10)\n</code></pre>\n\n<p>So far, so good. If you open up firefox, you'll can see Miley Cyrus's artist page, including the number of plays for top tracks. </p>\n\n<p>If you open up the Firefox Developer Tools Inspector and hover, you can see the name of the song in <code>.tl-highlight</code> elements, and the number of plays in <code>.tl-listen-count</code> elements. However, I've found it impossible (at least on my machine) to access these elements using <code>splinter</code>. Moreover, when I try to get the source for the entire page, the elements that I can see by hovering my mouse over them in Firefox don't show up in what is ostensibly the page source.</p>\n\n<pre><code>html = browser.html\nsoup = BeautifulSoup(html)\noutput = soup.prettify()\nwith open('miley_cyrus_artist_page.html', 'w') as output_f:\n    output_f.write(output)\nbrowser.quit()\n</code></pre>\n\n<p>I don't think I know enough about web programming to know what the issue is here--Firefox sees all the DOM elements clearly, but splinter that is driving Firefox does not.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436986903, "post_id": 31438867, "comment_id": 50847293, "body": "What is the given output? What is the given return?"}, {"owner": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436986937, "post_id": 31438867, "comment_id": 50847307, "body": "@MalikBrahimi Sorry I just added the output of the program"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436986962, "post_id": 31438867, "comment_id": 50847323, "body": "I don&#39;t get it. You printed the result, what is the problem?"}, {"owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "edited": false, "score": 6, "creation_date": 1436986964, "post_id": 31438867, "comment_id": 50847325, "body": "This is not an example of returning a value. Lists are mutable <a href=\"https://docs.python.org/2/reference/datamodel.html\" rel=\"nofollow noreferrer\">see explanation here</a> so when you call the function <code>addInterest</code>, it <i>actually changes</i> the values in <code>amounts</code>. The changed value is what gets printed"}, {"owner": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "reply_to_user": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436987026, "post_id": 31438867, "comment_id": 50847355, "body": "@MalikBrahimi I don&#39;t understand why the output isn&#39;t [1000, 2200, 800, 360], because there is no call for return in addInterest"}, {"owner": {"reputation": 15161, "user_id": 4338920, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/AHhiC.png?s=128&g=1", "display_name": "Malik Brahimi", "link": "https://stackoverflow.com/users/4338920/malik-brahimi"}, "edited": false, "score": 0, "creation_date": 1436987237, "post_id": 31438867, "comment_id": 50847474, "body": "Because you index the function and reassign the value at the given index."}, {"owner": {"reputation": 2496, "user_id": 487464, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Pl50g.jpg?s=128&g=1", "display_name": "Bryce Guinta", "link": "https://stackoverflow.com/users/487464/bryce-guinta"}, "edited": false, "score": 1, "creation_date": 1436987426, "post_id": 31438867, "comment_id": 50847576, "body": "Python arguments are <a href=\"http://robertheaton.com/2014/02/09/pythons-pass-by-object-reference-as-explained-by-philip-k-dick/\" rel=\"nofollow noreferrer\">pass by (object) reference</a>"}], "answers": [{"comments": [{"owner": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "edited": false, "score": 0, "creation_date": 1436987271, "post_id": 31438932, "comment_id": 50847493, "body": "But if amounts was just defined as a number, (i.e. amounts = 1000) then the print statement would display 1000, not 1050"}, {"owner": {"reputation": 31116, "user_id": 2670792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jjhe7.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/2670792/christian"}, "reply_to_user": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "edited": false, "score": 0, "creation_date": 1436987518, "post_id": 31438932, "comment_id": 50847622, "body": "Note that between the definition and the <code>print</code> there is a call to <code>addInterests</code>. You are passing your list <code>amount</code> to <code>addInterests</code> and in this function this list is modified. Finally, when you reach the <code>print</code> the list <code>amount</code> has the new values."}, {"owner": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "edited": false, "score": 0, "creation_date": 1436987769, "post_id": 31438932, "comment_id": 50847758, "body": "@so if amount is a mutable object, the print statement would show the modified amount; and if amount is a non-mutable object, then the print statement would show the non-modified ammount?"}, {"owner": {"reputation": 31116, "user_id": 2670792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jjhe7.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/2670792/christian"}, "reply_to_user": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "edited": false, "score": 0, "creation_date": 1436987891, "post_id": 31438932, "comment_id": 50847824, "body": "The <code>print</code> statement just prints the content, nothing else. What matters here is if you modify the object or not. In this case, a <code>list</code> is mutable, but for example, a <code>tuple</code> isn&#39;t. You won&#39;t be able to modify a <code>tuple</code>."}], "tags": [], "owner": {"reputation": 31116, "user_id": 2670792, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Jjhe7.jpg?s=128&g=1", "display_name": "Christian", "link": "https://stackoverflow.com/users/2670792/christian"}, "is_accepted": true, "score": 2, "last_activity_date": 1436987813, "last_edit_date": 1436987813, "creation_date": 1436987061, "answer_id": 31438932, "question_id": 31438867, "link": "https://stackoverflow.com/questions/31438867/why-does-this-function-return-a-value-when-there-is-no-call-to-return/31438932#31438932", "title": "Why does this function return a value when there is no call to return?", "body": "<p>Indeed, when no return is specified, <code>None</code> is returned by default. But, why are you getting other values? Because when you do this</p>\n\n<pre><code>balances[i] = balances[i] * (1 + rate)\n</code></pre>\n\n<p>you are modifying the values of the list <code>balances</code>.</p>\n\n<p>So, you are doing the following:</p>\n\n<ol>\n<li>Declare the list <code>amounts = [1000, 2200, 800, 360]</code></li>\n<li>Call the function <code>addInterest</code> passing the list as a parameter. Inside this function you are modifying the content of this list. You don't return anything, but the list is already modified.</li>\n<li>You print the modified list and the new values are shown.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 4046, "user_id": 4709400, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Oy7HE.jpg?s=128&g=1", "display_name": "stellasia", "link": "https://stackoverflow.com/users/4709400/stellasia"}, "is_accepted": false, "score": 1, "last_activity_date": 1436987117, "last_edit_date": 1495540271, "creation_date": 1436987117, "answer_id": 31438949, "question_id": 31438867, "link": "https://stackoverflow.com/questions/31438867/why-does-this-function-return-a-value-when-there-is-no-call-to-return/31438949#31438949", "title": "Why does this function return a value when there is no call to return?", "body": "<p>Your function does not return anything, but it prints the result. If you just do : </p>\n\n<pre><code>def test():\n    amounts = [1000, 2200, 800, 360]\n    rate = 0.05\n    addInterest(amounts, rate)\n</code></pre>\n\n<p>then <code>test()</code> will be None (which is the default return value of a function). </p>\n\n<p>If you want your function to return a result, you have to change the print to a return like this : </p>\n\n<pre><code>def test():\n    amounts = [1000, 2200, 800, 360]\n    rate = 0.05\n    addInterest(amounts, rate)\n    return amount\n</code></pre>\n\n<p>Also, be careful when modifying a list in a function. See for example <a href=\"https://stackoverflow.com/a/17686659/4709400\">https://stackoverflow.com/a/17686659/4709400</a></p>\n"}, {"tags": [], "owner": {"reputation": 4969, "user_id": 4592059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/96a9cbb1200973090eb787c8ccbe4829?s=128&d=identicon&r=PG&f=1", "display_name": "Geeocode", "link": "https://stackoverflow.com/users/4592059/geeocode"}, "is_accepted": false, "score": 1, "last_activity_date": 1437032840, "last_edit_date": 1437032840, "creation_date": 1436987288, "answer_id": 31439000, "question_id": 31438867, "link": "https://stackoverflow.com/questions/31438867/why-does-this-function-return-a-value-when-there-is-no-call-to-return/31439000#31439000", "title": "Why does this function return a value when there is no call to return?", "body": "<p>Because lists are mutable and <code>balances[i] = balances[i] * (1 + rate</code> modified the values of <code>amounts</code> too, which was passed with the call <code>addInterest(amounts, rate)</code></p>\n\n<p>Thus <code>addInterest()</code> has an implicit return value in this case.</p>\n"}, {"tags": [], "owner": {"reputation": 2568, "user_id": 1235982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a6bc519c83ff9d8bd541271deb459bd?s=128&d=identicon&r=PG", "display_name": "mehtunguh", "link": "https://stackoverflow.com/users/1235982/mehtunguh"}, "is_accepted": false, "score": 1, "last_activity_date": 1436987922, "creation_date": 1436987922, "answer_id": 31439198, "question_id": 31438867, "link": "https://stackoverflow.com/questions/31438867/why-does-this-function-return-a-value-when-there-is-no-call-to-return/31439198#31439198", "title": "Why does this function return a value when there is no call to return?", "body": "<p>See this post about <a href=\"https://docs.python.org/2/reference/datamodel.html\" rel=\"nofollow\">data model</a> and in particular the part about mutability.</p>\n\n<p>Here is an example of how lists are mutable</p>\n\n<pre><code>&gt;&gt;&gt; arr = [1,2,3]\n&gt;&gt;&gt; arr[0] = 99\n&gt;&gt;&gt; print(arr)\n[99, 2, 3]\n</code></pre>\n\n<p>When you call the <code>addInterest</code> function, passing the <code>amounts</code> array as a parameter, it modified that array. Here's another example showing how that occurs</p>\n\n<pre><code>def test(my_list):\n    print(my_list)\n    my_list[0] = 99\n    print(my_list)\n</code></pre>\n\n<p>Now test in the interpreter</p>\n\n<pre><code>&gt;&gt;&gt; arr = [1,2,3]\n&gt;&gt;&gt; x = test(arr)\n[1,2,3] \n[99, 2, 3]\n&gt;&gt;&gt; arr\n[99,2,3]\n&gt;&gt;&gt; x\n&gt;&gt;&gt; x is None\nTrue\n</code></pre>\n\n<p>So you can see, the return value of the function is <code>None</code>, which we stored in the variable named <code>x</code>. But the function also has a <em>side effect</em>, which is to change the value of the list <code>arr</code> that was passed into it. </p>\n\n<p>Finally, let's see an example like yours, where the array is defined inside a function.</p>\n\n<pre><code>def change_list(l):\n    print(l)\n    l[0] = 99\n    print(l)\n\n\ndef test():\n    arr = [1,2,3]\n    change_list(arr)\n</code></pre>\n\n<p>and check it out in the interpreter</p>\n\n<pre><code>&gt;&gt;&gt; x = test()\n[1, 2, 3]\n[99, 2, 3]\n&gt;&gt;&gt; x\n&gt;&gt;&gt; x is None\nTrue\n</code></pre>\n\n<p>Hope this clears up any confusion.</p>\n"}], "owner": {"reputation": 521, "user_id": 2297237, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/1ayl6.png?s=128&g=1", "display_name": "Ovi", "link": "https://stackoverflow.com/users/2297237/ovi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 31438932, "answer_count": 4, "score": 2, "last_activity_date": 1437032840, "creation_date": 1436986859, "last_edit_date": 1436986914, "question_id": 31438867, "link": "https://stackoverflow.com/questions/31438867/why-does-this-function-return-a-value-when-there-is-no-call-to-return", "title": "Why does this function return a value when there is no call to return?", "body": "<p>I have the following example in my book, which is supposed to be a program whch calculates the new balance after interest is added on multiple accounts:</p>\n\n<pre><code>def addInterest(balances, rate):\n    for i in range (len(balances)):\n    balances[i] = balances[i] * (1 + rate)\n\n\ndef test():\n    amounts = [1000, 2200, 800, 360]\n    rate = 0.05\n    addInterest(amounts, rate)\n    print(amounts)\n\n\ntest()\n</code></pre>\n\n<p>The output is [1050.0, 2310.0, 840.0, 378.0]</p>\n\n<p>There is no return call at the end of addInterest, so \nwhy doesn't print(amounts) just print amounts which was defined intially, namely [1000, 2200, 800, 360]?</p>\n"}, {"tags": ["python", "html"], "comments": [{"owner": {"reputation": 2666, "user_id": 583608, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/7mLIJ.png?s=128&g=1", "display_name": "ToothlessRebel", "link": "https://stackoverflow.com/users/583608/toothlessrebel"}, "edited": false, "score": 0, "creation_date": 1436992617, "post_id": 31438861, "comment_id": 50850496, "body": "You should be able to use a relative path. This will not display the image if server from a remote host. Otherwise, please check of provide the file structure including the location of the script being run and the image itself. The path is often case sensitive, so double check that as well. My guess is the image is not in that path relative to where the script is <i>run</i>."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 5105763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20f434e4f637c709496fe8e7d0e242a?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5105763/ash"}, "edited": false, "score": 0, "creation_date": 1437588605, "post_id": 31439008, "comment_id": 51096478, "body": "Thanks, i have got a feeling that it does work however its saying the page is not found. Thanks for answering!"}], "tags": [], "owner": {"reputation": 2748, "user_id": 134381, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8202cb792bf63a6abdd4092b02801352?s=128&d=identicon&r=PG", "display_name": "Victor Yan", "link": "https://stackoverflow.com/users/134381/victor-yan"}, "is_accepted": true, "score": 0, "last_activity_date": 1436987320, "creation_date": 1436987320, "answer_id": 31439008, "question_id": 31438861, "link": "https://stackoverflow.com/questions/31438861/can-i-hyperlink-to-a-page-in-my-files/31439008#31439008", "title": "Can i hyperlink to a page in my files?", "body": "<p>link to something like:</p>\n\n<pre><code>file:///Users/ashsa_000/Desktop/Html/Revision.HTML\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 640, "user_id": 478079, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/53v77.jpg?s=128&g=1", "display_name": "Zac Crites", "link": "https://stackoverflow.com/users/478079/zac-crites"}, "is_accepted": false, "score": 0, "last_activity_date": 1436988133, "creation_date": 1436988133, "answer_id": 31439250, "question_id": 31438861, "link": "https://stackoverflow.com/questions/31438861/can-i-hyperlink-to-a-page-in-my-files/31439250#31439250", "title": "Can i hyperlink to a page in my files?", "body": "<p><code>src=\"Images/UnityButton.png\"</code> should work for an image located in an \"Images\" directory in the same directory as Python.html</p>\n"}], "owner": {"reputation": 31, "user_id": 5105763, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20f434e4f637c709496fe8e7d0e242a?s=128&d=identicon&r=PG&f=1", "display_name": "Ash", "link": "https://stackoverflow.com/users/5105763/ash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 31439008, "answer_count": 2, "score": 0, "last_activity_date": 1436988133, "creation_date": 1436986838, "question_id": 31438861, "link": "https://stackoverflow.com/questions/31438861/can-i-hyperlink-to-a-page-in-my-files", "title": "Can i hyperlink to a page in my files?", "body": "<p>I want to hyperlink to a page in my local files, i thought you could just do this by doing this;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a target=\"_blank\" href=\"http://unity3d.com\"&gt;\r\n  &lt;input type=\"image\" id=\"Unity3d\" position:absolute style=\"height:100px; width:150px;\" src=\"./Images/UnityButton.PNG\"&gt;\r\n&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nas you can see i have embedded it inside of a button which is a image...This doesnt work, <strong>so what im asking is how do i hyperlink my button to a local file.</strong></p>\n\n<ul>\n<li>filename : Python.html</li>\n<li>Where is it: C:\\Users\\ashsa_000\\Desktop\\Html\\Revision.HTML</li>\n</ul>\n"}, {"tags": ["python", "python-2.7", "dictionary", "pickle", "eoferror"], "comments": [{"owner": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 2, "creation_date": 1436987511, "post_id": 31438797, "comment_id": 50847619, "body": "Are you sure the definition of class <code>Person</code> is exactly the same as it was before the crash? That&#39;s one possible cause."}, {"owner": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 2, "creation_date": 1436987788, "post_id": 31438797, "comment_id": 50847770, "body": "I strongly suggest that you not use <code>pickle</code> for almost any purpose because the mechanism is very fragile. As an early Pythoner, the concept of the pickle interface was seductive: &quot;I can save my objects and get them back with no effort&quot;. Unfortunately, because pickled data is implemented as programs for a simple stack machine, a single bit error will break the whole thing. Your code appears correct, but <a href=\"http://stackoverflow.com/questions/10263564/python-pickling-dictionary-eoferror\">silent errors</a> can invade. Use <a href=\"https://docs.python.org/2/library/sqlite3.html\" rel=\"nofollow noreferrer\">sqlite3</a> instead."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "reply_to_user": {"reputation": 97835, "user_id": 355230, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/VjcbL.jpg?s=128&g=1", "display_name": "martineau", "link": "https://stackoverflow.com/users/355230/martineau"}, "edited": false, "score": 0, "creation_date": 1436987991, "post_id": 31438797, "comment_id": 50847888, "body": "@martineau the class Person isn&#39;t exactly the same, but nothing should change from it. All I did was remove one of the variables (relationship)."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "reply_to_user": {"reputation": 40404, "user_id": 282912, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bmLJq.png?s=128&g=1", "display_name": "msw", "link": "https://stackoverflow.com/users/282912/msw"}, "edited": false, "score": 0, "creation_date": 1436988076, "post_id": 31438797, "comment_id": 50847932, "body": "@msw I don&#39;t know sql yet. I&#39;m only a newbie programmer. I&#39;m so sad with this situation, yesterday everything was just fine I have no idea what is happening. I don&#39;t even understand the damn error message ( I know what EOF is kinda, but the rest I don&#39;t understand)"}], "answers": [{"comments": [{"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436987593, "post_id": 31439050, "comment_id": 50847670, "body": "I honestly have no idea what is going wrong with pickle. Just yesterday, it was working fine. Then, I lost the working version, started from scratch today and it doesn&#39;t work, for reasons unknown. Should I post my whole code somewhere? Will that help?"}, {"owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 2, "creation_date": 1436988232, "post_id": 31439050, "comment_id": 50848022, "body": "@pedromatias You may have corrupted your file by hitting Ctrl-C or closing the script window during execution. Try deleting the file and starting over with a clean slate. Also, I would recommend backing up the file regularly (or better, automatically), whether you choose to use pickle or shelve. You can have your script fall back to the latest good version in case the primary copy gets corrupted."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988354, "post_id": 31439050, "comment_id": 50848092, "body": "I don&#39;t care about what is in the file. I actually started with a new DATA file, the DATA file is new and empty. I don&#39;t care about the things I&#39;m putting there, or with the things that were in the old file. This is just a project for me to work on to practice Python. I just want my code to work to learn, not because of what I&#39;ll put in the DATA file. The old DATA file only had the information of 1 person as a test, and I was that person xD"}, {"owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 1, "creation_date": 1436988528, "post_id": 31439050, "comment_id": 50848175, "body": "@pedromatias An empty file is going to cause this error. The error you mentioned happens when the pickle module is trying to load the file and reaches the end before it sees what it is expecting. This will always happen with an empty file. Instead, create a new file by pickling an empty dictionary and dumping it to that path."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988907, "post_id": 31439050, "comment_id": 50848374, "body": "Ok, now I understand what you and the other answerer meant. I just need to check for the case that DATA is empty, and if it is empty, drop an empty dictionary there."}, {"owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 1, "creation_date": 1436989048, "post_id": 31439050, "comment_id": 50848461, "body": "Yes, only I would wrap the <code>open()</code> and <code>pickle.load()</code> statements in a try block and have it use an empty dictionary if either fails for any reason."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436989083, "post_id": 31439050, "comment_id": 50848476, "body": "It works now, I just had to check for the file&#39;s emptiness. Great!"}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436989175, "post_id": 31439050, "comment_id": 50848538, "body": "I didn&#39;t use a try block, just a simple if statement in the beginning of the code, after the import statements and the defining of DATA and persons, where I do<code>if os.stat(DATA).st_size == 0:</code> and if so, I assign the empty persons to DATA."}, {"owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 1, "creation_date": 1436989305, "post_id": 31439050, "comment_id": 50848606, "body": "That will only handle the case where the file is empty. If the file doesn&#39;t exist, or has been corrupted as I described above, you will still get an exception."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436990123, "post_id": 31439050, "comment_id": 50849013, "body": "actually, I wanted to make that a piece of this code. To allow for multiple address books to be written, ask the user for the path to the file. If the file doesn&#39;t exist, create the file. This should be possible in python, right? I believe os.mkdir creates a directory, something must create files."}, {"owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 1, "creation_date": 1437505077, "post_id": 31439050, "comment_id": 51053573, "body": "To create a file, just use open() with mode &#39;wb&#39; instead of &#39;rb&#39;. This will overwrite the file if it exists, though, so be careful."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1437832972, "post_id": 31439050, "comment_id": 51201891, "body": "yeah the file is working now! I just check to see if the file exists with os.path.isfile() and create it with open if it doesn&#39;t, and I also check to see if the file is empty with os.stat(DATA).st_size and put an empty dictionary if it is empty."}], "tags": [], "owner": {"reputation": 326, "user_id": 4683578, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-igBBwNkx8j0/AAAAAAAAAAI/AAAAAAAACEM/NMMG8lv-9g0/photo.jpg?sz=128", "display_name": "hosford42", "link": "https://stackoverflow.com/users/4683578/hosford42"}, "is_accepted": false, "score": 2, "last_activity_date": 1436987449, "creation_date": 1436987449, "answer_id": 31439050, "question_id": 31438797, "link": "https://stackoverflow.com/questions/31438797/eoferror-in-unpickling-python-dictionary-from-an-empty-pickle-file/31439050#31439050", "title": "EOFerror in unpickling Python dictionary from an empty pickle file", "body": "<p>I don't see anything obviously wrong with your code, but if you just want to store key/value pairs like this, you probably ought to use the <a href=\"https://docs.python.org/2.7/library/shelve.html\" rel=\"nofollow\">shelve</a> module instead of a home-brewed solution.</p>\n\n<pre><code>import shelve\n\npersons = shelve.open(DATA)\n\ndef create_person():\n    \"\"\"Adds an instance object of the Person class to the dictionary persons. persons is a global variable, that has been created previously. DATA is a variable that points to a file named test.data that exists in the same directory as the script.\"\"\"\n    name = raw_input(\"Enter the person's name here: \")\n    email = raw_input(\"Enter the person's email here: \")    \n    phone = raw_input(\"Enter the person's phone here: \")\n    address = raw_input(\"Enter the person's address here: \")\n    persons[name] = Person(name, email, phone, address)    \n\nwhile more_people:\n    create_person()\n\npersons.close()    \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988213, "post_id": 31439244, "comment_id": 50848007, "body": "What? No. The file I had previously has been eliminated. DATA is a completely new file. I have no interest with what was in the file, nor with what is going to be in this new one. I&#39;m just writing this to practice my python."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 1, "creation_date": 1436988343, "post_id": 31439244, "comment_id": 50848083, "body": "<code>pickle</code> hitting <code>EOF</code> is a sure tell the file is corrupt. Why it is corrupt is another question."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988404, "post_id": 31439244, "comment_id": 50848113, "body": "What if I create a new file, something like newfile.data, put it in the same directory as the script, and then pointing DATA at it, will it work?"}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988502, "post_id": 31439244, "comment_id": 50848159, "body": "Ok, just tried with a newly created file called newfile.data, get the EOF anyhow. It is with my script I think."}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "reply_to_user": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 2, "creation_date": 1436988536, "post_id": 31439244, "comment_id": 50848181, "body": "You&#39;d better handle the case when the file is missing and produce an empty <code>dict</code>. The file <i>is</i> supposed to be missing initially, isn&#39;t it?"}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988572, "post_id": 31439244, "comment_id": 50848204, "body": "yes, in the beginning the file DATA is completely empty. What do you mean produce an empty dict?"}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436988913, "post_id": 31439244, "comment_id": 50848379, "body": "Ok, now I understand what you and the other answerer meant. I just need to check for the case that DATA is empty, and if it is empty, drop an empty dictionary there."}, {"owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "edited": false, "score": 0, "creation_date": 1436989094, "post_id": 31439244, "comment_id": 50848486, "body": "It works now, I just had to check for the file&#39;s emptiness. Great!"}], "tags": [], "owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "is_accepted": true, "score": 4, "last_activity_date": 1436989862, "last_edit_date": 1495541700, "creation_date": 1436988114, "answer_id": 31439244, "question_id": 31438797, "link": "https://stackoverflow.com/questions/31438797/eoferror-in-unpickling-python-dictionary-from-an-empty-pickle-file/31439244#31439244", "title": "EOFerror in unpickling Python dictionary from an empty pickle file", "body": "<p><code>pickle</code> hitting <code>EOF</code> is a sure tell the file is corrupt (probably truncated, maybe a write operation failed).</p>\n\n<p>If you upload it somewhere, we might be able to deduce what exactly is wrong with it. In the worst case, you'll have to peek inside and deduce the data that was there to re-input it by hand.</p>\n\n<p>That's your price for using an unreadable format and not paying attention to its integrity (e.g. <a href=\"https://stackoverflow.com/a/27123361/648265\">writing to another file and only moving it over the original one after saving succeeded</a>).</p>\n\n<p>UPDATE:</p>\n\n<p>If you want to start from a <em>new,</em> \"empty\" file, then handle the case when the file is missing and produce an empty <code>dict</code>. After all, the file <em>is</em> supposed to be missing initially, isn't it?</p>\n\n<p>An empty file is not valid <code>pickle</code> data (it has to at least contain information about the object's type).</p>\n\n<p>Here's \"one obvious way\" ((c) Python Zen) to handle a missing file:</p>\n\n<pre><code>import errno    \ntry: f = open(DATA, \"rb\")\nexcept IOError,e:\n    if e[0]==errno.ENOENT: persons={}\n    else: raise\nelse:\n    persons = pickle.load(f)\n    f.close()\n    del f\n</code></pre>\n"}], "owner": {"reputation": 461, "user_id": 3846286, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c08598e91102b796103792b17ad3abe4?s=128&d=identicon&r=PG&f=1", "display_name": "chilliefiber", "link": "https://stackoverflow.com/users/3846286/chilliefiber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2321, "favorite_count": 0, "accepted_answer_id": 31439244, "answer_count": 2, "score": 2, "last_activity_date": 1436989862, "creation_date": 1436986611, "last_edit_date": 1436989362, "question_id": 31438797, "link": "https://stackoverflow.com/questions/31438797/eoferror-in-unpickling-python-dictionary-from-an-empty-pickle-file", "title": "EOFerror in unpickling Python dictionary from an empty pickle file", "body": "<p>Very newbie programmer, sorry if this is stupid or if my English is wrong. So, I have this command line address book that I am writing. It consists of a dictionary that holds an object with the key as the name variable, and each object has variables associated with it like the name of the person, the email, etc... It works, but now I'm trying to make it store the dictionary persistenly in memory using pickle. </p>\n\n<pre><code>def create_person():\n    \"\"\"Adds an instance object of the Person class to the dictionary persons. persons is a global variable, that has been created previously. DATA is a variable that points to a file named test.data that exists in the same directory as the script.\"\"\"\n    name = raw_input(\"Enter the person's name here: \")\n    email = raw_input(\"Enter the person's email here: \")    \n    phone = raw_input(\"Enter the person's phone here: \")\n    address = raw_input(\"Enter the person's address here: \")\n    f = open(DATA, \"rb\")\n    persons = pickle.load(f) #assign whatever is saved in the dictionary in persistent memory to global variable persons, which is empty at this point in the beginning\n    f.close()\n    persons[name] = Person(name, email, phone, address)    \n    f = open(DATA, \"wb\")\n    pickle.dump(persons, f)\n    f.close()\n</code></pre>\n\n<p>However, I'm getting this error: </p>\n\n<pre><code>Traceback (most recent call last):\nFile \"testpickle.py\", line 85, in &lt;module&gt;\n  main()\nFile \"testpickle.py\", line 40, in main\n  create_person()\nFile \"testpickle.py\", line 20, in create_person\n  persons = pickle.load(f)\nFile \"/home/pedro/anaconda/lib/python2.7/pickle.py\", line 1378, in load\n  return Unpickler(file).load()\nFile \"/home/pedro/anaconda/lib/python2.7/pickle.py\", line 858, in load\n  dispatch[key](self)\nFile \"/home/pedro/anaconda/lib/python2.7/pickle.py\", line 880, in load_eof\n  raise EOFError\nEOFError\n</code></pre>\n\n<p>I don't understand this. I had actually already written this program, and it was working with memory saving, but I accidently deleted it. What is happening?</p>\n"}, {"tags": ["python", "opencl", "pyopencl"], "answers": [{"comments": [{"owner": {"reputation": 327, "user_id": 4402818, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/x8frn.jpg?s=128&g=1", "display_name": "PeachMode", "link": "https://stackoverflow.com/users/4402818/peachmode"}, "edited": false, "score": 0, "creation_date": 1436992347, "post_id": 31439255, "comment_id": 50850339, "body": "Thanks for the reply. What I don&#39;t understand is why the second piece of code works on my GTX970 but the first kernel doesn&#39;t when adding the neighbors.  And now that i think about it, when I do:     al = X[(id-1)*W+6];     ar = X[(id+1)*W+6]; I don&#39;t get any error on the first cl code, but when I add them, it crashes."}, {"owner": {"reputation": 7948, "user_id": 4899330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a19fa016a8fc6c0a3250f03f108a9?s=128&d=identicon&r=PG&f=1", "display_name": "doqtor", "link": "https://stackoverflow.com/users/4899330/doqtor"}, "reply_to_user": {"reputation": 327, "user_id": 4402818, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/x8frn.jpg?s=128&g=1", "display_name": "PeachMode", "link": "https://stackoverflow.com/users/4402818/peachmode"}, "edited": false, "score": 0, "creation_date": 1436993792, "post_id": 31439255, "comment_id": 50851198, "body": "<code>al = X[(id-1)*W+6];ar = X[(id+1)*W+6];</code> is a dead code and is removed by optimizer. In out of bound access you may not always get a crash because the read can be successful and it can be either the garbage value or value of other variable which resides in the memory before the beginning of the array."}], "tags": [], "owner": {"reputation": 7948, "user_id": 4899330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a19fa016a8fc6c0a3250f03f108a9?s=128&d=identicon&r=PG&f=1", "display_name": "doqtor", "link": "https://stackoverflow.com/users/4899330/doqtor"}, "is_accepted": false, "score": 0, "last_activity_date": 1436988148, "creation_date": 1436988148, "answer_id": 31439255, "question_id": 31438778, "link": "https://stackoverflow.com/questions/31438778/opencl-access-neighbors-error/31439255#31439255", "title": "OpenCL: Access neighbors error", "body": "<p>If <code>id=0</code> and <code>W=7</code> then you use negative index value to access element of 'X' array:</p>\n\n<pre><code>aux = (X[(id-1)*W+6] + X[(id+1)*W+6]);\n</code></pre>\n\n<p>which for <code>id=0</code> and <code>W=7</code> is:</p>\n\n<pre><code>aux = (X[-1] + X[13]);\n</code></pre>\n\n<p>From my experience a code with error like this one may produce still good results on some GPUs therefore I always test my opencl code using different GPU vendors. Especially opencl validation on CPU seems to be very sensitive to such errors.</p>\n"}], "owner": {"reputation": 327, "user_id": 4402818, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/x8frn.jpg?s=128&g=1", "display_name": "PeachMode", "link": "https://stackoverflow.com/users/4402818/peachmode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1436988148, "creation_date": 1436986533, "question_id": 31438778, "link": "https://stackoverflow.com/questions/31438778/opencl-access-neighbors-error", "title": "OpenCL: Access neighbors error", "body": "<p>I'm working on a solver for a differential equation for a particle smulation using Pyopencl.\nTo solve this equation each particle must access it's neighbors information.\nThe arrays I'm using are numpy complex64 arrays each with 7 elements.</p>\n\n<p>When accessing the neighbors, the program returns the error:</p>\n\n<pre><code>clWaitForEvents failed: out of resources\n</code></pre>\n\n<p>My OpenCl code is the following. I guess most of it isn't related to this error but i'll post it anyway because it might help somehow:</p>\n\n<pre><code>#define complex_ctr(x, y) (float2)(x, y)\n#define complex_add(a, b) complex_ctr((a).x + (b).x, (a).y + (b).y)\n#define complex_mul(a, b) complex_ctr(mad(-(a).y, (b).y, (a).x * (b).x), mad((a).y, (b).x, (a).x * (b).y))\n#define complex_mul_scalar(a, b) complex_ctr((a).x * (b), (a).y * (b))\n#define complex_div_scalar(a, b) complex_ctr((a).x / (b), (a).y / (b))\n#define conj(a) complex_ctr((a).x, -(a).y)\n#define conj_transp(a) complex_ctr(-(a).y, (a).x)\n#define conj_transp_and_mul(a, b) complex_ctr(-(a).y * (b), (a).x * (b))\n#define complex_real(a) a.x\n#define complex_imag(a) a.y\n#define complex_unit (float2)(0, 1)\n\nconstant int M=10; \nconstant float L=1e-09; \nconstant float p0=1.0; \nconstant float delta=1.0; \nconstant float gama=1.0; \nconstant float omc=1.0;  \nconstant float k_p=1.0; \nconstant float om_p=1.0;\nconstant float v = 0.001; \nconstant float b = 1.0;\nconstant float dt=0.01; \n\nvoid f(__global float2 *X,  \n       __global float2 *K, \n       int id, \n       uint W,\n       float t){  \n    float exp_arg;\n    float2 p11, p22, p33, p21, p31, p32, op, aux, ar, al, p;\n    p11 = X[id*W];\n    p22 = X[id*W+1];\n    p33 = X[id*W+2];\n    p21 = X[id*W+3];\n    p31 = X[id*W+4];\n    p32 = X[id*W+5];\n    al = X[(id-1)*W+6];\n    ar = X[(id+1)*W+6];\n    op = p0 * complex_mul(X[id*W+6], complex_unit);\n\n    aux = p22 * gama/2 + complex_mul(op, p22) + conj(p22) * gama/2 + complex_mul(op, conj(p22));\n    K[id*W] = aux;\n\n    aux = (-p22*gama - complex_mul(op, p21) + complex_mul(p32, complex_unit)*omc \n          - conj(p22)*gama - complex_mul(op, conj(p21)) + complex_mul(conj(p32), complex_unit)*omc);\n    K[id*W+1] = aux;\n\n    aux = p22*gama/2 - complex_mul(p32, complex_unit)*omc + conj(p22)*gama/2 - complex_mul(conj(p32), complex_unit)*omc;\n    K[id*W+2] = aux;\n\n    aux = complex_mul(op, p11) - complex_mul(op, p22) - p21*gama + complex_mul(p21, complex_unit)*delta + complex_mul(p31, complex_unit)*omc;    \n    K[id*W+3] = aux;\n\n    aux = complex_mul(p21, complex_unit)*omc + complex_mul(p31, complex_unit)*delta - complex_mul(op, p32);\n    K[id*W+4] = aux;\n\n    aux = (complex_mul(p22, complex_unit)*omc - complex_mul(p33, complex_unit)*omc - complex_mul(op, p31) - p32*gama);\n    K[id*W+5] = aux;\n\n    exp_arg = k_p * L * id - om_p * t;\n    p = complex_mul(b*p0*p21*complex_ctr(cos(exp_arg), sin(exp_arg)), complex_unit);\n    aux = (X[(id-1)*W+6] + X[(id+1)*W+6]);\n    aux = aux + p;\n    K[id*W+6] = aux;\n}\n\n__kernel void RK4Step(__global float2 *X, \n                      __global float2 *K, \n                      __global float2 *Xs, \n                      __global float2 *Xm, \n                      uint W,\n                      float t){\n    const int gid_x = get_global_id(0);\n    int idx = 0;    \n\n    //computation of k1\n    f(X, K, gid_x, W, t);\n    for(int i=0; i&lt;W; i++)\n    {\n        idx = gid_x*W+i;\n        Xs[idx] = X[idx] + dt*K[idx]/6;\n        Xm[idx] = X[idx] + dt*K[idx]/2;\n    }\n\n    //computation of k2\n    f(Xm, K, gid_x, W, t);\n    for(int i=0; i&lt;W; i++)\n    {\n        idx = gid_x*W+i;\n        Xs[idx] = Xs[idx] + dt*K[idx]/3;\n        Xm[idx] = X[idx] + dt*K[idx]/2;\n    }   \n\n    //computation of k3\n    f(Xm, K, gid_x, W, t);\n    for(int i=0; i&lt;W; i++)\n    {\n        idx = gid_x*W+i;\n        Xs[idx] = Xs[idx] + dt*K[idx]/3;\n        Xm[idx] = X[idx] + dt*K[idx];\n    }   \n\n    //computation of k4\n    f(Xm, K, gid_x, W, t);\n    for(int i=0; i&lt;W; i++)\n    {\n        idx = gid_x*W+i;\n        Xs[idx] = Xs[idx] + dt*K[idx]/6;\n    }\n\n    //update photon\n    for(int i=0; i&lt;W; i++)\n    {\n        idx = gid_x*W+i;\n        X[idx] = Xs[idx];\n    }\n}\n</code></pre>\n\n<p>If i comment this line:</p>\n\n<pre><code>aux = (X[(id-1)*W+6] + X[(id+1)*W+6]);\n</code></pre>\n\n<p>The code runs through with no errors, but if I uncomment it, i get the error i described.</p>\n\n<p>The python code that calls this kernel is the following:</p>\n\n<pre><code>import pyopencl as cl\nimport numpy as np\nfrom pylab import *\nimport matplotlib.pyplot as plt\nimport time\n\n\"\"\"\nSolve the problem\nXi' = M1*Xi + M2*Xi~\nM1 and M2 are 6*6 Matrixes which elements are complex numbers\nXi in the form [P11i, P22i, P33i, P21i, P31i, P32i, Ai] where Pxyi is a complex number\n\"\"\" \n\n########################################################\n#                                                      #\n#'_h' buffers are host buffers. '_d' are device buffers#\n#                                                      #\n########################################################\n\n#Initialization of the device and workspace\nctx = cl.create_some_context()\nqueue = cl.CommandQueue(ctx)\nMF = cl.mem_flags\n\n# Constants \nM = 2000 # Number of atoms\nL = np.float32(0.000000001) # Atom Spacing\nN = 1000 # Number of time intervals\ndt = np.float32(0.1) # Time interval\nTimeline = np.arange(0.0, N, dt).astype(np.float32) \np0 = np.float32(1.0) # constant P0 [OMP = P0*Ai]\ndelta = np.float32(1.0) # constant DELTA\ngama = np.float32(1.0) # constant GAMA\nomc = np.float32(1.0) # constant OMC\n\n# Writing the source code with the constants declared by the user\ntext = \"\"\n##text = \"__constant int M=\" + str(M) + \"; \\n\"\n##text += \"__constant float L=\" + str(L) + \"; \\n\"\n##text += \"__constant float dt=\" + str(dt) + \"; \\n\"\n##text += \"__constant float p0=\" + str(p0) + \"; \\n\"\n##text += \"__constant float delta=\" + str(delta) + \"; \\n\"\n##text += \"__constant float gama=\" + str(gama) + \"; \\n\"\n##text += \"__constant float omc=\" + str(omc) + \"; \\n\"\nf1 = open(\"precode.cl\", \"r\")\nf2 = open(\"kernel.cl\", \"r\")\nf3 = open(\"source.cl\",'w+')\nprecode = f1.read()\nkernel = f2.read()\nf3.write(precode + text + kernel)\nf1.close()\nf2.close()\nf3.close()\n\n#Initial Conditions \nA_h = (np.arange(M) + 1j*np.zeros(M)).astype(np.complex64)\nA_h = np.exp(-((A_h-M/2.0)/(0.05 * M))**2)*np.exp(1j * 200.0 * A_h /M)\n\nP11_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\nP22_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\nP33_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\nP21_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\nP31_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\nP32_h = (np.random.randn(M) + 1j*np.random.randn(M)).astype(np.complex64)\n\nW = np.uint32(7) # The row width to compute the index inside the kernel\nX_h = []\nfor i in range(M):\n    X_h.append( np.array([P11_h[i], P22_h[i], P33_h[i], P21_h[i], P31_h[i], P32_h[i], A_h[i]]).astype(np.complex64) )\nX_h = np.array(X_h).astype(np.complex64)\nK_h = np.empty_like(X_h)\nXs_h = np.empty_like(X_h)\nXm_h = np.empty_like(X_h)\n\nA_h = X_h[:,6]\nfigure(1)\nplt.plot(np.real(A_h))\nplt.plot(np.abs(A_h))\n\n# Allocation of required buffers on the device\nX_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=X_h)\nK_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=K_h)\nXs_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=Xs_h)\nXm_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=Xm_h)\n\nf = open(\"source.cl\", \"r\")\nsource = f.read()\nf.close()\nprg = cl.Program(ctx, source).build()\n\nprint \"Begin Calculation\"\nstart_time = time.time()\n\nfor t in Timeline:\n    completeevent = prg.RK4Step(queue, (M,), None, X_d, K_d, Xs_d, Xm_d, W, t)\n    completeevent.wait()\n\ncl.enqueue_copy(queue, X_h, X_d)\nend_time = time.time()\nprint \"All done\"\nprint \"Calculation took \" + str(end_time - start_time) + \" seconds\"\n\nA_h = X_h[:,6]\nfigure(2)\nplt.plot(np.real(A_h))\nplt.plot(np.abs(A_h))\n##plt.show()\n</code></pre>\n\n<p>Some code is commented because I'm still working on it but it's minor stuff just to get things a bit cleaner.</p>\n\n<p>I can't understand why this happens. I've tried something similiar but with a much simpler code and the neighbors access goes just fine as I intended.\nFor examples, when I run this module:</p>\n\n<pre><code>import pyopencl as cl\nimport numpy as np\n\nctx = cl.create_some_context()\nqueue = cl.CommandQueue(ctx)\nMF = cl.mem_flags\n\nM = 3\n\nzero = np.complex64(0.0)\n\nX1_h = np.array([1 + 1j*2, 2 + 1j*3, 3 + 1j*4]).astype(np.complex64)\nX2_h = np.array([1 + 1j*2, 2 + 1j*3, 3 + 1j*4]).astype(np.complex64)\nX3_h = np.array([1 + 1j*2, 2 + 1j*3, 3 + 1j*4]).astype(np.complex64)\nY1_h = np.array([4 + 1j*5, 5 + 1j*6, 6 + 1j*7]).astype(np.complex64)\nY2_h = np.array([4 + 1j*5, 5 + 1j*6, 6 + 1j*7]).astype(np.complex64)\nY3_h = np.array([4 + 1j*5, 5 + 1j*6, 6 + 1j*7]).astype(np.complex64)\naux_h = np.complex64(1 + 1j*1)\nRES_h = np.empty_like(X1_h)\n\ndados_h = []\nfor i in range(3):\n      dados_h.append(np.array([X1_h[i], X2_h[i], X3_h[i], Y1_h[i], Y2_h[i], Y3_h[i]]).astype(np.complex64))\ndados_h = np.array(dados_h).astype(np.complex64)\n\nprint dados_h\n\naux_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=aux_h)\ndados_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf=dados_h)\nRES_d = cl.Buffer(ctx, MF.READ_WRITE | MF.COPY_HOST_PTR, hostbuf = RES_h)\n\nSource = \"\"\"\n__kernel void soma( __global float2 *dados, __global float2 *res, int rowWidth){\n    const int gid_x = get_global_id(0);\n    res[gid_x] = dados[(gid_x-1)*rowWidth] + dados[(gid_x+1)*rowWidth];\n}\n\"\"\"\nprg = cl.Program(ctx, Source).build()\n\ncompleteEvent = prg.soma(queue, (M,), None, dados_d, RES_d, np.int32(6))\ncompleteEvent.wait()\n\ncl.enqueue_copy(queue, RES_h, RES_d)\nprint \"GPU RES\"\nprint RES_h\n</code></pre>\n\n<p>the result i get is:</p>\n\n<pre><code> [[ 1.+2.j  1.+2.j  1.+2.j  4.+5.j  4.+5.j  4.+5.j]\n [ 2.+3.j  2.+3.j  2.+3.j  5.+6.j  5.+6.j  5.+6.j]\n [ 3.+4.j  3.+4.j  3.+4.j  6.+7.j  6.+7.j  6.+7.j]]\nGPU RES\n[ 2.+3.j  4.+6.j  2.+3.j]\n</code></pre>\n\n<p>which is exactly what i expected.</p>\n\n<p>Can anyone give me some help on what is happening here? It's probably something simple but I can't find what's wrong.</p>\n\n<p>One additional info: This happens only when i run the code on my GTX970. I have a laptop with an old ATI card that handles the code above just fine with no errors, which got me even more confused on this whole thing.</p>\n\n<p>PS: Sorry for the long post</p>\n"}, {"tags": ["python", "oauth", "pip", "blogger", "egg"], "comments": [{"owner": {"reputation": 955, "user_id": 1327710, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7bd13dffa2769c3e5f7ff9fd3f843152?s=128&d=identicon&r=PG", "display_name": "Ned Rockson", "link": "https://stackoverflow.com/users/1327710/ned-rockson"}, "edited": false, "score": 0, "creation_date": 1436986325, "post_id": 31438677, "comment_id": 50846954, "body": "Could you look at your python path:      import sys     print sys.path  and from there determine if it&#39;s looking in the right location for your egg? Also, if you run python in verbose mode (python -v) you can see where it is looking for your files. With this information you should be able to determine what&#39;s going on."}, {"owner": {"reputation": 24570, "user_id": 2272172, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/40d9cf17504d06006a0154ef0b332457?s=128&d=identicon&r=PG&f=1", "display_name": "cel", "link": "https://stackoverflow.com/users/2272172/cel"}, "edited": false, "score": 0, "creation_date": 1436986645, "post_id": 31438677, "comment_id": 50847125, "body": "I would also try <code>python -m pip install --upgrade setuptools pip</code>"}, {"owner": {"reputation": 12709, "user_id": 1320237, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c8053e7d7aac8830f25a47135ce07bec?s=128&d=identicon&r=PG", "display_name": "User", "link": "https://stackoverflow.com/users/1320237/user"}, "edited": false, "score": 0, "creation_date": 1436992595, "post_id": 31438677, "comment_id": 50850477, "body": "Do these two and see if the results match: <code>pip --version</code> and <code>python --version</code>."}, {"owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "edited": false, "score": 0, "creation_date": 1437009525, "post_id": 31438677, "comment_id": 50856650, "body": "I am getting this, when printing sys.path : <a href=\"http://pastebin.com/rZBmgyxc\" rel=\"nofollow noreferrer\">pastebin.com/rZBmgyxc</a> I have both python 2.7 and pyhton 3.4 installed, isn&#39;t it a problem?"}], "owner": {"reputation": 2537, "user_id": 1596686, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/bb0df9d59647054dda587a38d1612a78?s=128&d=identicon&r=PG", "display_name": "Konstantin", "link": "https://stackoverflow.com/users/1596686/konstantin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1436986200, "creation_date": 1436986200, "question_id": 31438677, "link": "https://stackoverflow.com/questions/31438677/i-installed-an-egg-with-pip-but-python-says-its-missing", "title": "I installed an egg with pip, but Python says it&#39;s missing", "body": "<p>I have installed an egg with \"pip install pypandoc\", unfortinately python always throws an error message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"/usr/bin/easyblogger\", line 5, in &lt;module&gt;\n    from pkg_resources import load_entry_point\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3074, in &lt;module&gt;\n    @_call_aside\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3060, in _call_aside\n    f(*args, **kwargs)\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 3087, in _initialize_master_working_set\n    working_set = WorkingSet._build_master()\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 645, in _build_master\n    ws.require(__requires__)\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 946, in require\n    needed = self.resolve(parse_requirements(requirements))\n  File \"/usr/lib/python2.7/site-packages/pkg_resources/__init__.py\", line 833, in resolve\n    raise DistributionNotFound(req, requirers)\npkg_resources.DistributionNotFound: The 'pypandoc' distribution was not found and is required by EasyBlogger\n</code></pre>\n\n<p>What can I do to use this easyblogger python script, which requires the pypandoc egg?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 14673, "user_id": 296460, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/FGDo8.jpg?s=128&g=1", "display_name": "shuttle87", "link": "https://stackoverflow.com/users/296460/shuttle87"}, "edited": false, "score": 3, "creation_date": 1436986211, "post_id": 31438644, "comment_id": 50846891, "body": "Given the context with which they appear <code>if fruit in fruits:</code> and <code>if size in sizes:</code> are tautological. So I would remove those."}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "edited": false, "score": 5, "creation_date": 1436986318, "post_id": 31438644, "comment_id": 50846950, "body": "Also you are overriding variable&#39;s value by <code>for size in size:</code> so it is probably the reason why your code stops working."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1436986388, "post_id": 31438644, "comment_id": 50847004, "body": "Please provide a short <b>complete</b> program that demonstrates the error you are seeing,. It is not at all obvious how to turn those code fragments into such a program."}, {"owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "edited": false, "score": 0, "creation_date": 1436986571, "post_id": 31438644, "comment_id": 50847089, "body": "The compile function is very big. I can&#39;t post."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1436987169, "post_id": 31438644, "comment_id": 50847437, "body": "Make a copy of your program and delete everything that isn&#39;t relevant to your question, like the <code>compile</code> function. You should be able to demonstrate the problem in a 10-20 lines program. Make sure that the resulting program is 1) short, 2) complete, and 3) demonstrates the error. Copy-paste <i>that</i> program into your question. For more information on this technique, see <a href=\"http://stackoverflow.com/help/mcve\">stackoverflow.com/help/mcve</a> and <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">sscce.org</a>."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1436987773, "post_id": 31438644, "comment_id": 50847760, "body": "After fixing the obvious typos, <a href=\"http://ideone.com/lFvkjJ\" rel=\"nofollow noreferrer\">your program</a> works perfectly fine for me."}, {"owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "edited": false, "score": 0, "creation_date": 1436988524, "post_id": 31438644, "comment_id": 50848174, "body": "Hi Rob, it doesn&#39;t work when we specify fruit, or fruit and size"}, {"owner": {"reputation": 28384, "user_id": 648265, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d98e414a47934d66cb78bf73d0845ba?s=128&d=identicon&r=PG", "display_name": "ivan_pozdeev", "link": "https://stackoverflow.com/users/648265/ivan-pozdeev"}, "edited": false, "score": 0, "creation_date": 1436992016, "post_id": 31438644, "comment_id": 50850145, "body": "<code>for fruit in fruit:</code> ?! Close this as &quot;a syntactic error&quot; right away!"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "edited": false, "score": 0, "creation_date": 1436987893, "post_id": 31438972, "comment_id": 50847826, "body": "This is what initially I was doing. it compiles for all combinations instead of given ones"}, {"owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "reply_to_user": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "edited": false, "score": 0, "creation_date": 1436987989, "post_id": 31438972, "comment_id": 50847884, "body": "can you try again with the above code and confirm? It works as expected in my command line."}], "tags": [], "owner": {"reputation": 40575, "user_id": 793428, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/999b32fdf6b04835061fffd1c5c6cf76?s=128&d=identicon&r=PG&f=1", "display_name": "ozgur", "link": "https://stackoverflow.com/users/793428/ozgur"}, "is_accepted": false, "score": 1, "last_activity_date": 1436988779, "last_edit_date": 1436988779, "creation_date": 1436987203, "answer_id": 31438972, "question_id": 31438644, "link": "https://stackoverflow.com/questions/31438644/python-code-does-not-compile-for-all-configurations/31438972#31438972", "title": "python code does not compile for all configurations", "body": "<p>The problem is that you are overriding the value of <code>fruit</code> (which is a list of fruits) with another variable named <code>fruit</code> on the first iteration of outer loop. </p>\n\n<p>Since <code>fruit</code> will start pointing to your first fruit in your list after first iteration, for loop will exit and won't iterate over the rest of the fruits.</p>\n\n<p>I'd recommend you to change your variable names as follows:</p>\n\n<pre><code>fruits = [str(item).strip() for item in args.fruit.split(',')]\nsizes = [str(item).strip() for item in args.size.split(',')]\n\nfor fruit in fruits:\n    for size in sizes:\n        compile() \n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>I tweaked your <a href=\"http://ideone.com/1uDfov\" rel=\"nofollow\">code</a> and executed in my shell. Here are the results:</p>\n\n<pre><code>~ $ python test.py -f watermelon -s small\nwatermelon small\n\n~ $ python test.py -f watermelon\nwatermelon small\nwatermelon medium\nwatermelon large\n\n~ $ python test.py\napple small\napple medium\napple large\nbanana small\nbanana medium\nbanana large\npineapple small\npineapple medium\npineapple large\noranges small\noranges medium\noranges large\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 5017630, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9108392918de8bcc5a1d02ecf874c783?s=128&d=identicon&r=PG&f=1", "display_name": "geek_xed", "link": "https://stackoverflow.com/users/5017630/geek-xed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1436988779, "creation_date": 1436986089, "last_edit_date": 1495540270, "question_id": 31438644, "link": "https://stackoverflow.com/questions/31438644/python-code-does-not-compile-for-all-configurations", "title": "python code does not compile for all configurations", "body": "<p>This question is in sync with my current question:\n<a href=\"https://stackoverflow.com/questions/31359735/code-generate-outputs-for-all-items-in-the-list-in-python-script\">code generate outputs for all items in the list in python script</a></p>\n\n<p>I have,</p>\n\n<pre><code>fruits = [apple, banana, pineapple, oranges]\nsizes = [small, medium, large]\n</code></pre>\n\n<p>my code is as below: </p>\n\n<pre><code>parser= argparse.ArgumentParser(description=' Require path')\nparser.add_argument('maindir', help = 'give maindirectory path', action='store')\nparser.add_argument(\"-f\", \"--fruit\", help ='give specific fruit name', type=str, default = \"apple, banana, pineapple, oranges\")\nparser.add_argument(\"-s\", \"--size\", help='give size', type=str, default=\"small, medium, large\")\nargs= parser.parse_args() \n\n# The above code works fine and prints correct arguments \n</code></pre>\n\n<p>Now I am making use of arguments as below: </p>\n\n<pre><code>fruit= [str(item).strip() for item in args.fruit.split(',')]\nsize= [str(item).strip() for item in args.size.split(',')]\nfor fruit in fruit:\n    for size in size:\n       if fruit in fruits:\n          if size in sizes:\n             compile() \n</code></pre>\n\n<p>So my code should compile in three ways: </p>\n\n<pre><code>     python fruit.py # This should compile for all fruit-size combinations\n     python fruit.py -f fruit # This should compile for all particular fruit-sizes combination. Like apple with (small, medium, large)\n     python fruit.py -f fruit -s size # This should compile for particular fruit-size combination.\n</code></pre>\n\n<p>For last two it works fine, but for just <code>python fruit.py</code> it just compiles for first fruit in the list with all sizes and stops. </p>\n\n<p>Where am I getting it wrong? </p>\n"}, {"tags": ["python", "bash", "virtualenvwrapper"], "owner": {"reputation": 143, "user_id": 3912149, "user_type": "registered", "profile_image": "https://graph.facebook.com/1388446221/picture?type=large", "display_name": "Oleh Dubno", "link": "https://stackoverflow.com/users/3912149/oleh-dubno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1436985874, "creation_date": 1436985874, "question_id": 31438573, "link": "https://stackoverflow.com/questions/31438573/virtualenvwrapper-creates-new-virtualenvs-with-preexisting-packages-how-to-cre", "title": "virtualenvwrapper creates new virtualenv&#39;s with preexisting packages. how to create a empty mkvirtualenv?", "body": "<p>When I run the command <code>mkvirtualenv newenv</code> in bash for a new environment, what I get back is an environment with existing packages that are already on my system. No matter how many or what environments I create they all have the same packages. It appears that <code>mkvirtualenv</code> just creates duplicate environments. How do I create an empty environment?</p>\n\n<p><code>pip freeze</code> for virtualenv has slight different packages from <code>pip freeze</code> on my system. See pip freeze for both at the bottom.</p>\n\n<p><strong>What My Bash Profile Looks Like</strong></p>\n\n<p>You'll notice that the pip freeze returns packages that should not be there when creating a new virtualenv</p>\n\n<pre><code>ihors-mbp:~ olehdubno$ mkvirtualenv newenv\nNew python executable in newenv/bin/python2.7\nAlso creating executable in newenv/bin/python\nInstalling setuptools, pip, wheel...done.\nError: deactivate must be sourced. Run 'source deactivate'\ninstead of 'deactivate'.\n\nUsage: source deactivate\n\nremoves the 'bin' directory of the environment activated with 'source\nactivate' from PATH. \n(newenv)ihors-mbp:~ olehdubno$ pip freeze \narrayterator==1.0.1\nbackports.ssl-match-hostname==3.4.0.2\nbeautifulsoup4==4.3.2\nblaze==0.6.0\nblinker==1.3\nboto==2.33.0\nbunch==1.0.1\ncffi==1.1.2\n</code></pre>\n\n<p><strong>Python Version</strong></p>\n\n<pre><code>&gt;&gt;&gt; sys.version\n'2.7.10 (default, Jun  1 2015, 09:45:55) \\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)]'\n</code></pre>\n\n<p><strong>My Bash Profile</strong></p>\n\n<pre><code>.bash_profile\n# added by Anaconda 2.0.1 installer\nexport PATH=\"/Users/olehdubno/Downloads/Anaconda_install/anaconda/bin:$PATH\"\n\n### Added by the Heroku Toolbelt\nexport PATH=\"/usr/local/heroku/bin:$PATH\"\n\n# set where virutal environments will live\nexport WORKON_HOME=$HOME/.virtualenvs\n# ensure all new environments are isolated from the site-packages directory\nexport VIRTUALENVWRAPPER_VIRTUALENV_ARGS='--no-site-packages'\n# use the same directory for virtualenvs as virtualenvwrapper\nexport PIP_VIRTUALENV_BASE=$WORKON_HOME\n# makes pip detect an active virtualenv and install to it\nexport PIP_RESPECT_VIRTUALENV=true\nif [[ -r /usr/local/bin/virtualenvwrapper.sh ]]; then\n    source /usr/local/bin/virtualenvwrapper.sh\nelse\n    echo \"WARNING: Can't find virtualenvwrapper.sh\"\nfi\n</code></pre>\n\n<p><strong>pip freeze inside the virtualenvwrapper</strong></p>\n\n<pre><code>(newenv)ihors-mbp:Desktop olehdubno$ pip freeze\narrayterator==1.0.1\nbackports.ssl-match-hostname==3.4.0.2\nbeautifulsoup4==4.3.2\nblaze==0.6.0\nblinker==1.3\nboto==2.33.0\nbunch==1.0.1\ncffi==1.1.2\nCherryPy==3.7.0\nConfigArgParse==0.9.3\ncryptography==0.9.1\ncssselect==0.9.1\ndaemonize==2.3.1\ndecorator==3.4.0\ndict2xml==1.3\ndill==0.2.2\necdsa==0.13\nenum34==1.0.4\nFlask==0.10.1\nFlask-Restless==0.17.0\nFlask-SQLAlchemy==2.0\nFlask-WTF==0.11\nfolium==0.1.2\nGenshi==0.7\ngeopy==1.4.0\ngeorge==0.2.1\ngnureadline==6.3.3\ngoogle-api-python-client==1.4.0\nGraphLab-Create==1.1\nhpack==1.0.1\nhtml==1.16\nhttplib2==0.9.1\nidna==2.0\nipaddress==1.0.7\nipython==3.1.0\nitsdangerous==0.24\nJinja2==2.7.3\nlibrato-metrics==0.4.9\nlxml==3.4.4\nM2Crypto==0.21.1\nMarkupSafe==0.23\nmatplotlib==1.4.3\nmimerender==0.5.5\nmitmproxy==0.12.1\nmixpanel-py==3.1.1\nmock==1.0.1\nnetlib==0.12.1\nnltk==3.0.2\nnose==1.3.6\nnumpy==1.9.2\noauth2client==1.4.9\noauthlib==0.7.2\npandas==0.16.1\nparallel==0.2.5\nparamiko==1.15.2\npasslib==1.6.2\nPaste==1.7.5.1\nPasteDeploy==1.5.2\nPasteScript==1.7.5\npatsy==0.3.0\npbr==1.3.0\nPillow==2.7.0\nprettytable==0.7.2\npsutil==3.0.1\npupynere==1.0.15\npyasn1==0.1.7\npyasn1-modules==0.0.5\npycparser==2.14\npycrypto==2.6.1\nPydap==3.1.1\npydap.handlers.netcdf==0.6.4\nPyIntervalTree==0.5\npymssql==2.1.1\npyOpenSSL==0.15.1\npyperclip==1.5.11\npysftp==0.2.8\npyshp==1.2.1\npython-aggcat==0.9\npython-dateutil==2.4.2\npython-mimeparse==0.1.4\npytz==2015.4\npywin==0.3.1\npyzmq==14.6.0\nrequests==2.7.0\nrequests-oauthlib==0.4.2\nrsa==3.1.4\nscikit-learn==0.15.1\nselenium==2.46.0\nsimplejson==3.6.5\nsix==1.9.0\nsortedcontainers==0.9.5\nSQLAlchemy==0.6.8\nsqlalchemy-migrate==0.7.2\nstevedore==1.6.0\nTempita==0.5.2\ntextblob==0.9.0\ntornado==3.2.1\ntwitter==1.15.0\nuritemplate==0.6\nurllib3==1.10.4\nurwid==1.3.0\nvirtualenv==13.1.0\nvirtualenv-clone==0.2.6\nvirtualenvwrapper==4.6.0\nWerkzeug==0.10.1\nwheel==0.24.0\nWTForms==2.0.2\n</code></pre>\n\n<p><strong>pip freeze on my system</strong></p>\n\n<pre><code>(newenv)ihors-mbp:Desktop olehdubno$ deactivate\nihors-mbp:Desktop olehdubno$ pip freeze\narrayterator==1.0.1\nbackports.ssl-match-hostname==3.4.0.2\nbeautifulsoup4==4.3.2\nblaze==0.6.0\nblinker==1.3\nboto==2.33.0\nbunch==1.0.1\ncertifi==2015.4.28\ncffi==1.1.2\nCherryPy==3.7.0\nConfigArgParse==0.9.3\ncryptography==0.9.1\ncssselect==0.9.1\ndaemonize==2.3.1\ndecorator==3.4.0\ndict2xml==1.3\ndill==0.2.2\necdsa==0.13\nenum34==1.0.4\nFlask==0.10.1\nFlask-Restless==0.17.0\nFlask-SQLAlchemy==2.0\nFlask-WTF==0.11\nfolium==0.1.2\nGenshi==0.7\ngeopy==1.4.0\ngeorge==0.2.1\ngnureadline==6.3.3\ngoogle-api-python-client==1.4.0\nGraphLab-Create==1.1\nhpack==1.0.1\nhtml==1.16\nhttplib2==0.9.1\nidna==2.0\nipaddress==1.0.7\nipython==3.1.0\nitsdangerous==0.24\nJinja2==2.7.3\njsonschema==2.4.0\nlibrato-metrics==0.4.9\nlxml==3.4.4\nM2Crypto==0.21.1\nMarkupSafe==0.23\nmatplotlib==1.4.3\nmimerender==0.5.5\nmitmproxy==0.12.1\nmixpanel-py==3.1.1\nmock==1.0.1\nnetlib==0.12.1\nnltk==3.0.2\nnose==1.3.6\nnumpy==1.9.2\noauth2client==1.4.9\noauthlib==0.7.2\npandas==0.16.1\nparallel==0.2.5\nparamiko==1.15.2\npasslib==1.6.2\nPaste==1.7.5.1\nPasteDeploy==1.5.2\nPasteScript==1.7.5\npatsy==0.3.0\npbr==1.3.0\nPillow==2.7.0\nprettytable==0.7.2\npsutil==3.0.1\npsycopg2==2.5.4\npupynere==1.0.15\npyasn1==0.1.7\npyasn1-modules==0.0.5\npycparser==2.14\npycrypto==2.6.1\nPydap==3.1.1\npydap.handlers.netcdf==0.6.4\nPyIntervalTree==0.5\npymssql==2.1.1\npyOpenSSL==0.15.1\npyparsing==2.0.3\npyperclip==1.5.11\npysftp==0.2.8\npyshp==1.2.1\npython-aggcat==0.9\npython-dateutil==2.4.2\npython-mimeparse==0.1.4\npytz==2015.4\npywin==0.3.1\nPyYAML==3.11\npyzmq==14.6.0\nrequests==2.7.0\nrequests-oauthlib==0.3.1\nrsa==3.1.4\nscikit-learn==0.15.1\nselenium==2.46.0\nsimplejson==3.6.5\nsix==1.9.0\nsortedcontainers==0.9.5\nSQLAlchemy==0.6.8\nsqlalchemy-migrate==0.7.2\nstevedore==1.6.0\nsuds==0.4\nsympy==0.7.5\nTempita==0.5.2\ntextblob==0.9.0\ntornado==4.2\ntwitter==1.15.0\nuritemplate==0.6\nurllib3==1.10.4\nurwid==1.3.0\nvboxapi==1.0\nvirtualenv==13.1.0\nvirtualenv-clone==0.2.6\nvirtualenvwrapper==4.6.0\nWerkzeug==0.10.1\nWTForms==2.0.2\nxlrd==0.9.3\nxlwt==0.7.5\n</code></pre>\n"}, {"tags": ["python", "module", "beautifulsoup", "pythonpath"], "answers": [{"comments": [{"owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "edited": false, "score": 0, "creation_date": 1436990925, "post_id": 31439601, "comment_id": 50849496, "body": "When doing this I get the following: <code>&gt;&gt;&gt; sys.path.append(&#39;&#47;usr&#47;lib&#47;python2.7&#47;dist-packages&#39;) &gt;&gt;&gt; help(&#39;modules&#39;)  Please wait a moment while I gather a list of all available modules...  Segmentation fault (core dumped)</code>"}, {"owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "edited": false, "score": 0, "creation_date": 1436991766, "post_id": 31439601, "comment_id": 50849994, "body": "Then, when I run it again the same output occurs as if nothing was done in the beginning."}, {"owner": {"reputation": 1162, "user_id": 5090789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ee5f9c3dd82ee461b3b2bb27fa1d9180?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Hilyard", "link": "https://stackoverflow.com/users/5090789/anthony-hilyard"}, "reply_to_user": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "edited": false, "score": 0, "creation_date": 1436994595, "post_id": 31439601, "comment_id": 50851623, "body": "Listing modules from <code>help</code> has the side-effect of importing every available module in order to read docstrings.  A segmentation fault could occur for many reasons after changing the PYTHONPATH, and may or may not indicate an issue with the module you are interested in.  Have you tried appending <code>&#47;usr&#47;lib&#47;python2.7&#47;dist-packages</code> to your PYTHONPATH, as above, and then running your code to see if it behaves any differently?"}, {"owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "edited": false, "score": 0, "creation_date": 1436995191, "post_id": 31439601, "comment_id": 50851929, "body": "Adding that line to the top of my program work (after import sys). Thank you."}], "tags": [], "owner": {"reputation": 1162, "user_id": 5090789, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ee5f9c3dd82ee461b3b2bb27fa1d9180?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Hilyard", "link": "https://stackoverflow.com/users/5090789/anthony-hilyard"}, "is_accepted": true, "score": 1, "last_activity_date": 1436989232, "creation_date": 1436989232, "answer_id": 31439601, "question_id": 31438567, "link": "https://stackoverflow.com/questions/31438567/python-modules-listed-in-help-differ-from-what-pip-is-finding/31439601#31439601", "title": "Python Modules listed in help differ from what pip is finding", "body": "<p>It appears that beautifulsoup is installed into a directory that is not on your PYTHONPATH.  Try this temporary solution:</p>\n\n<pre><code>sys.path.append('/usr/lib/python2.7/dist-packages')\nhelp('modules')\n</code></pre>\n\n<p>You should now see bs4 listed, and usable.  Keep in mind that this is not a permanent solution--you will need to add the directory to your PYTHONPATH environment variable, or install beautifulsoup in a directory that is already on your PYTHONPATH.</p>\n"}], "owner": {"reputation": 3094, "user_id": 3312595, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/Xhpeq.jpg?s=128&g=1", "display_name": "Rorschach", "link": "https://stackoverflow.com/users/3312595/rorschach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 270, "favorite_count": 0, "accepted_answer_id": 31439601, "answer_count": 1, "score": 1, "last_activity_date": 1436989232, "creation_date": 1436985858, "last_edit_date": 1436986814, "question_id": 31438567, "link": "https://stackoverflow.com/questions/31438567/python-modules-listed-in-help-differ-from-what-pip-is-finding", "title": "Python Modules listed in help differ from what pip is finding", "body": "<p>I am having a bit of trouble getting my code to find a my beautifulsoup4 module.\nWhen listing the modules I have installed, python gives the list that I have supplied below (no mention of beatifulsoup4 or bs4)</p>\n\n<p>But, when I run the pip install for the module I get the output which can be seen below</p>\n\n<p>If anyone could explain this discrepancy and/or supply the code necessary for my file to find this module that would be great.</p>\n\n<p>(If it is helpful: my code is in Home/username/Desktop/mycode and my module is installed in Home/username/Desktop/python2.7/dist-packages/bs4</p>\n\n<pre><code>pip install beautifulsoup4\nRequirement already satisfied (use --upgrade to upgrade): beautifulsoup4 in /usr/lib/python2.7/dist-packages\nCleaning up...\n</code></pre>\n\n<p>Modules:</p>\n\n<pre><code>&gt;&gt;&gt; help('modules')\n\nPlease wait a moment while I gather a list of all available modules...\n\nBaseHTTPServer      asynchat            imaplib             sha\nBastion             asyncore            imghdr              shelve\nCDROM               atexit              imp                 shlex\nCGIHTTPServer       audiodev            importlib           shutil\nCanvas              audioop             imputil             signal\nConfigParser        base64              inspect             site\nCookie              bdb                 io                  smtpd\nDLFCN               binascii            itertools           smtplib\nDialog              binhex              json                sndhdr\nDocXMLRPCServer     bisect              keyword             socket\nFileDialog          bsddb               lib2to3             spwd\nFixTk               bz2                 linecache           sqlite3\nHTMLParser          cPickle             linuxaudiodev       sre\nIN                  cProfile            locale              sre_compile\nMimeWriter          cStringIO           logging             sre_constants\nQueue               calendar            macpath             sre_parse\nScrolledText        cgi                 macurl2path         ssl\nSimpleDialog        cgitb               mailbox             stat\nSimpleHTTPServer    chunk               mailcap             statvfs\nSimpleXMLRPCServer  cmath               markupbase          string\nSocketServer        cmd                 marshal             stringold\nStringIO            code                math                stringprep\nTYPES               codecs              md5                 strop\nTix                 codeop              mhlib               struct\nTkconstants         collections         mimetools           subprocess\nTkdnd               colorsys            mimetypes           sunau\nTkinter             commands            mimify              sunaudio\nUserDict            compileall          mmap                symbol\nUserList            compiler            modulefinder        symtable\nUserString          contextlib          multifile           sys\n_LWPCookieJar       cookielib           multiprocessing     sysconfig\n_MozillaCookieJar   copy                mutex               syslog\n__builtin__         copy_reg            netrc               tabnanny\n__future__          crypt               new                 tarfile\n_abcoll             csv                 nis                 telnetlib\n_ast                ctypes              nntplib             tempfile\n_bisect             curses              ntpath              termios\n_codecs             datetime            nturl2path          test\n_codecs_cn          dbhash              numbers             textwrap\n_codecs_hk          dbm                 opcode              this\n_codecs_iso2022     decimal             operator            thread\n_codecs_jp          difflib             optparse            threading\n_codecs_kr          dircache            os                  time\n_codecs_tw          dis                 os2emxpath          timeit\n_collections        distutils           ossaudiodev         tkColorChooser\n_csv                dl                  parser              tkCommonDialog\n_ctypes             doctest             pdb                 tkFileDialog\n_ctypes_test        dumbdbm             pickle              tkFont\n_elementtree        dummy_thread        pickletools         tkMessageBox\n_functools          dummy_threading     pipes               tkSimpleDialog\n_hashlib            email               pkgutil             toaiff\n_heapq              encodings           platform            token\n_hotshot            errno               plistlib            tokenize\n_io                 exceptions          popen2              trace\n_json               fcntl               poplib              traceback\n_locale             filecmp             posix               ttk\n_lsprof             fileinput           posixfile           tty\n_multibytecodec     fnmatch             posixpath           turtle\n_multiprocessing    formatter           pprint              types\n_osx_support        fpformat            profile             unicodedata\n_pyio               fractions           pstats              unittest\n_random             ftplib              pty                 urllib\n_socket             functools           pwd                 urllib2\n_sqlite3            future_builtins     py_compile          urlparse\n_sre                gc                  pyclbr              user\n_ssl                gdbm                pydoc               uu\n_strptime           genericpath         pydoc_data          uuid\n_struct             getopt              pyexpat             warnings\n_symtable           getpass             quopri              wave\n_sysconfigdata      gettext             random              weakref\n_testcapi           glob                re                  webbrowser\n_threading_local    grp                 readline            whichdb\n_tkinter            gzip                repr                wsgiref\n_warnings           hashlib             resource            xdrlib\n_weakref            heapq               rexec               xml\n_weakrefset         hmac                rfc822              xmllib\nabc                 hotshot             rlcompleter         xmlrpclib\naifc                htmlentitydefs      robotparser         xxsubtype\nantigravity         htmllib             runpy               zipfile\nanydbm              httplib             sched               zipimport\nargparse            idlelib             select              zlib\narray               ihooks              sets                \nast                 imageop             sgmllib             \n</code></pre>\n\n<p>If this is helpful, my PYTHONPATH is:</p>\n\n<pre><code>['/home/username/Desktop/mycode', '/usr/local/lib/python27.zip', '/usr/local/lib/python2.7', '/usr/local/lib/python2.7/plat-linux2', '/usr/local/lib/python2.7/lib-tk', '/usr/local/lib/python2.7/lib-old', '/usr/local/lib/python2.7/lib-dynload', '/usr/local/lib/python2.7/site-packages']\n</code></pre>\n\n<p>This was found by running this program: </p>\n\n<pre><code>import sys\nprint sys.path\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 359, "user_id": 3033970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/954c861fafe33bf732b4c3e0816cbbce?s=128&d=identicon&r=PG&f=1", "display_name": "Haoran Yi", "link": "https://stackoverflow.com/users/3033970/haoran-yi"}, "is_accepted": false, "score": 1, "last_activity_date": 1436986574, "last_edit_date": 1436986574, "creation_date": 1436985891, "answer_id": 31438577, "question_id": 31438478, "link": "https://stackoverflow.com/questions/31438478/where-should-i-put-the-pdbrc-file-on-windows-so-that-it-is-globally-visible/31438577#31438577", "title": "Where should I put the .pdbrc file on windows so that it is globally visible?", "body": "<p>After several tries, I found it.\nYou can put it in <strong>C:\\users\\your_win_user\\.pdbrc</strong></p>\n"}, {"tags": [], "owner": {"reputation": 11251, "user_id": 3284878, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/d324c610856d2626e9b719eb4135b3cb?s=128&d=identicon&r=PG&f=1", "display_name": "Aviv Cohn", "link": "https://stackoverflow.com/users/3284878/aviv-cohn"}, "is_accepted": false, "score": 1, "last_activity_date": 1454694018, "creation_date": 1454694018, "answer_id": 35230270, "question_id": 31438478, "link": "https://stackoverflow.com/questions/31438478/where-should-i-put-the-pdbrc-file-on-windows-so-that-it-is-globally-visible/35230270#35230270", "title": "Where should I put the .pdbrc file on windows so that it is globally visible?", "body": "<p>If putting the file in <code>C:\\Users\\&lt;your_user&gt;</code> doesn't work, additionaly try setting your <code>HOME</code> environment variable to <code>C:\\Users\\&lt;your_user&gt;</code>. Worked for me.</p>\n\n<p>Thanks to @WayneWerner for the solution.</p>\n"}], "owner": {"reputation": 359, "user_id": 3033970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/954c861fafe33bf732b4c3e0816cbbce?s=128&d=identicon&r=PG&f=1", "display_name": "Haoran Yi", "link": "https://stackoverflow.com/users/3033970/haoran-yi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1454694018, "creation_date": 1436985578, "question_id": 31438478, "link": "https://stackoverflow.com/questions/31438478/where-should-i-put-the-pdbrc-file-on-windows-so-that-it-is-globally-visible", "title": "Where should I put the .pdbrc file on windows so that it is globally visible?", "body": "<p>I am using .pdbrc to store my debugging alias. And I want it to be available globally. Where should this file be on windows?</p>\n"}, {"tags": ["python", "python-2.7", "scikit-learn", "random-forest"], "answers": [{"tags": [], "owner": {"reputation": 56500, "user_id": 2658050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yPuAp.jpg?s=128&g=1", "display_name": "lejlot", "link": "https://stackoverflow.com/users/2658050/lejlot"}, "is_accepted": true, "score": 6, "last_activity_date": 1436987712, "creation_date": 1436987712, "answer_id": 31439124, "question_id": 31438476, "link": "https://stackoverflow.com/questions/31438476/parameter-oob-score-in-scikit-learn-equals-accuracy-or-error/31439124#31439124", "title": "Parameter oob_score_ in scikit-learn equals accuracy or error?", "body": "<p>It is an analogous of <code>.score</code> method, which returns <strong>accuracy</strong> of the model. It simply generalizes to to the oob scenario. Documentation is indeed a bit missleading.</p>\n\n<p>As you may find in the code <a href=\"https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/ensemble/forest.py\" rel=\"noreferrer\">https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/ensemble/forest.py</a></p>\n\n<pre><code>for k in range(self.n_outputs_):\n            if (predictions[k].sum(axis=1) == 0).any():\n                warn(\"Some inputs do not have OOB scores. \"\n                     \"This probably means too few trees were used \"\n                     \"to compute any reliable oob estimates.\")\n\n            decision = (predictions[k] /\n                        predictions[k].sum(axis=1)[:, np.newaxis])\n            oob_decision_function.append(decision)\n            oob_score += np.mean(y[:, k] ==\n                                 np.argmax(predictions[k], axis=1), axis=0)\n</code></pre>\n\n<p>It simply computes average of correct classifications.</p>\n"}], "owner": {"reputation": 284, "user_id": 3832976, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b5d8ee2332e0f4798d7b2efbb031a67e?s=128&d=identicon&r=PG&f=1", "display_name": "no_use123", "link": "https://stackoverflow.com/users/3832976/no-use123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5439, "favorite_count": 2, "accepted_answer_id": 31439124, "answer_count": 1, "score": 6, "last_activity_date": 1527681605, "creation_date": 1436985561, "last_edit_date": 1592644375, "question_id": 31438476, "link": "https://stackoverflow.com/questions/31438476/parameter-oob-score-in-scikit-learn-equals-accuracy-or-error", "title": "Parameter oob_score_ in scikit-learn equals accuracy or error?", "body": "<p>I implemented Random Forest classifiers (RF) from Python scikit-learn package for a ML problem. In the first stage I used cross validation to spot check other algorithms and RF is now my choice.</p>\n<p>Later on I also checked out what the OOB estimation of RF tells me. However, when I compare the return in 'oob_score_' with my results from CV I have a large discrepancy.</p>\n<p>The scikit-learn doc tells me:</p>\n<blockquote>\n<p>oob_score : bool</p>\n<p>Whether to use out-of-bag samples to estimate the generalization error.</p>\n</blockquote>\n<p>Because of the doc I was assuming that the Parameter 'oob_score_' is the error estimation. But looking for reasons it also came to my mind that it might actually estimate the accuracy instead This would be - at least a bit - closer to my CV results. I checked also the code, and more believe it's the accuracy but wanted to be sure... (in this case I find the doc misleading BTW).</p>\n<p>Is oob_score_ in scikit-learn accuracy or error estimation?</p>\n"}]