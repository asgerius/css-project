[{"tags": ["python", "json", "python-requests"], "comments": [{"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1455754127, "post_id": 35470205, "comment_id": 58636070, "body": "What other variations are possible?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1455754733, "post_id": 35470205, "comment_id": 58636255, "body": "You should fix the server code that&#39;s sending invalid JSON."}, {"owner": {"reputation": 234, "user_id": 5520507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0abdc884249fd28f92e9642d86bf84b9?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5520507/connor"}, "edited": false, "score": 0, "creation_date": 1455755128, "post_id": 35470205, "comment_id": 58636381, "body": "I would if I could, it&#39;s a third party API that I&#39;m querying, I&#39;ve sent the development team an email but was wondering if there was anything I could do in the mean time"}, {"owner": {"reputation": 234, "user_id": 5520507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0abdc884249fd28f92e9642d86bf84b9?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5520507/connor"}, "edited": false, "score": 0, "creation_date": 1455755399, "post_id": 35470205, "comment_id": 58636460, "body": "Padraic I&#39;m not sure what you mean?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1455755879, "post_id": 35470205, "comment_id": 58636600, "body": "I mean can the comma appear anywhere and is it only a stray comma that can possibly be misplaced? i.e would <code>json.loads(re.sub(&quot;{(\\s+)?,&quot;,&quot;{&quot;,r.content))</code> fix the issue"}, {"owner": {"reputation": 234, "user_id": 5520507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0abdc884249fd28f92e9642d86bf84b9?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5520507/connor"}, "edited": false, "score": 1, "creation_date": 1455757362, "post_id": 35470205, "comment_id": 58637100, "body": "It seems like the stray commas in that particular place is the only issue. That does fix the issue for now actually thank you, it&#39;s not ideal hopefully the developers will fix the issue soon."}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1455754761, "post_id": 35470269, "comment_id": 58636265, "body": "That will remove more than just the comma."}, {"owner": {"reputation": 234, "user_id": 5520507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0abdc884249fd28f92e9642d86bf84b9?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5520507/connor"}, "edited": false, "score": 0, "creation_date": 1455755081, "post_id": 35470269, "comment_id": 58636363, "body": "I&#39;ve added the preceding line for clarification, I&#39;m using the Python response library. Is there any way to make that edit to the content before attempting to load it as JSON?"}], "tags": [], "owner": {"reputation": 474, "user_id": 3399534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85dc28cf4835645b46d29b256b65ca51?s=128&d=identicon&r=PG&f=1", "display_name": "IeuanG", "link": "https://stackoverflow.com/users/3399534/ieuang"}, "is_accepted": true, "score": 1, "last_activity_date": 1455817524, "last_edit_date": 1455817524, "creation_date": 1455753920, "answer_id": 35470269, "question_id": 35470205, "link": "https://stackoverflow.com/questions/35470205/dealing-with-a-preceding-comma-when-parsing-json-in-python/35470269#35470269", "title": "Dealing with a preceding comma when parsing JSON in Python", "body": "<pre><code>resp = requests.get(citedByURL % (eid, apiKey, citedByPerPage, startPoint))\ndata = resp.text()\ndata = data.replace(\"[{,\", \"[{\")\ndata = json.loads(data)\n</code></pre>\n"}], "owner": {"reputation": 234, "user_id": 5520507, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0abdc884249fd28f92e9642d86bf84b9?s=128&d=identicon&r=PG&f=1", "display_name": "Connor", "link": "https://stackoverflow.com/users/5520507/connor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 35470269, "answer_count": 1, "score": 1, "last_activity_date": 1455817524, "creation_date": 1455753580, "last_edit_date": 1455755015, "question_id": 35470205, "link": "https://stackoverflow.com/questions/35470205/dealing-with-a-preceding-comma-when-parsing-json-in-python", "title": "Dealing with a preceding comma when parsing JSON in Python", "body": "<p>I'm querying an API for some JSON formatted data but it is coming back with slightly invalid formatting. There is a preceding comma which is causing a problem, I was wondering if there was any way around this?</p>\n\n<p>I'm using the <a href=\"http://docs.python-requests.org/en/master/\" rel=\"nofollow\">Requests</a> library to issue the API queries and read the JSON like so:</p>\n\n<pre><code>resp = requests.get(citedByURL % (eid, apiKey, citedByPerPage, startPoint))\ndata = resp.json()\n</code></pre>\n\n<p>The JSON has an error which you can see here:</p>\n\n<pre><code>\"entry\": [{, \"link\": [{\"@ref\": \"self\", \"@href\": \"http://api.elsevier.com/content/abstract/scopus_id/77957867010\"}\n</code></pre>\n\n<p>And hence Python throws the following error:</p>\n\n<pre><code>ValueError: Expecting property name enclosed in double quotes: line 1 column 1164 (char 1163)\n</code></pre>\n\n<p>Is there anything I can do to maybe preprocess the data before attempting to load it as JSON?</p>\n"}, {"tags": ["python", "selenium", "selenium-webdriver", "xpath", "webdriverwait"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5936345"}, "edited": false, "score": 0, "creation_date": 1455754594, "post_id": 35470356, "comment_id": 58636202, "body": "Well, they&#39;re about 100 different buttons I have to click, and they all have different xpathas"}, {"owner": {"user_type": "does_not_exist", "display_name": "user5936345"}, "edited": false, "score": 0, "creation_date": 1455754618, "post_id": 35470356, "comment_id": 58636212, "body": "But they have the same text/look the same"}, {"owner": {"reputation": 2287, "user_id": 1797321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1862ad779accac9b8286f8ff570c918?s=128&d=identicon&r=PG", "display_name": "kchomski", "link": "https://stackoverflow.com/users/1797321/kchomski"}, "edited": false, "score": 1, "creation_date": 1455755452, "post_id": 35470356, "comment_id": 58636479, "body": "In the example I&#39;ve given, you&#39;re not looking for a given <i>absolute</i> xpath, but for text that buttons contain."}, {"owner": {"user_type": "does_not_exist", "display_name": "user5936345"}, "edited": false, "score": 0, "creation_date": 1455758190, "post_id": 35470356, "comment_id": 58637348, "body": "driver.find_elements_by_xpath(&quot;//*[contains(text(), &#39;Unlock this result here&#39;)]&quot;).click() Not working, I don&#39;t understand?"}, {"owner": {"reputation": 2287, "user_id": 1797321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1862ad779accac9b8286f8ff570c918?s=128&d=identicon&r=PG", "display_name": "kchomski", "link": "https://stackoverflow.com/users/1797321/kchomski"}, "edited": false, "score": 0, "creation_date": 1455801542, "post_id": 35470356, "comment_id": 58658649, "body": "Could you provide us with a link to the website you try to interact with? Or show us html code of buttons?"}], "tags": [], "owner": {"reputation": 2287, "user_id": 1797321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1862ad779accac9b8286f8ff570c918?s=128&d=identicon&r=PG", "display_name": "kchomski", "link": "https://stackoverflow.com/users/1797321/kchomski"}, "is_accepted": true, "score": 19, "last_activity_date": 1455754366, "last_edit_date": 1495540475, "creation_date": 1455754366, "answer_id": 35470356, "question_id": 35470171, "link": "https://stackoverflow.com/questions/35470171/click-button-by-text-using-python-and-selenium/35470356#35470356", "title": "Click button by text using Python and Selenium", "body": "<p>You can find all buttons by text and then execute <code>click()</code> method for each button in a <code>for</code> loop.<br><br>\nUsing this SO <a href=\"https://stackoverflow.com/questions/12323403/how-do-i-find-an-element-that-contains-specific-text-in-selenium-webdriver-pyth\">answer</a> it would be something like this:</p>\n\n<pre><code>buttons = driver.find_elements_by_xpath(\"//*[contains(text(), 'My Button')]\")\n\nfor btn in buttons:\n    btn.click()\n</code></pre>\n\n<p>I also recommend you take a look at <a href=\"https://splinter.readthedocs.org/en/latest/#\" rel=\"noreferrer\">Splinter</a> which is a nice wrapper for Selenium.</p>\n\n<blockquote>\n  <p>Splinter is an abstraction layer on top of existing browser automation\n  tools such as Selenium, PhantomJS and zope.testbrowser. It has a\n  high-level API that makes it easy to write automated tests of web\n  applications.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 221, "user_id": 8570634, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a683e5e51f20808bc9da7f854eee39a?s=128&d=identicon&r=PG&f=1", "display_name": "Nisheeth", "link": "https://stackoverflow.com/users/8570634/nisheeth"}, "is_accepted": false, "score": 7, "last_activity_date": 1534888153, "creation_date": 1534888153, "answer_id": 51957151, "question_id": 35470171, "link": "https://stackoverflow.com/questions/35470171/click-button-by-text-using-python-and-selenium/51957151#51957151", "title": "Click button by text using Python and Selenium", "body": "<p>I had the following in html: \n\n<pre><code>driver.find_element_by_xpath('//button[contains(text(), \"HELLO\")]').click()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6507278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8p7hs.jpg?s=128&g=1", "display_name": "Lakshminarayanan", "link": "https://stackoverflow.com/users/6507278/lakshminarayanan"}, "is_accepted": false, "score": 1, "last_activity_date": 1557198699, "creation_date": 1557198699, "answer_id": 56015017, "question_id": 35470171, "link": "https://stackoverflow.com/questions/35470171/click-button-by-text-using-python-and-selenium/56015017#56015017", "title": "Click button by text using Python and Selenium", "body": "<p>@nobodyskiddy , Try to use driver.find_element ( if you have single button option ) , use index to click() when you are using driver.find_elements , find_elements will return array to webelement values , so you have to use index to select or click.</p>\n"}, {"tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": false, "score": 1, "last_activity_date": 1610213129, "last_edit_date": 1610213129, "creation_date": 1610212587, "answer_id": 65645420, "question_id": 35470171, "link": "https://stackoverflow.com/questions/35470171/click-button-by-text-using-python-and-selenium/65645420#65645420", "title": "Click button by text using Python and Selenium", "body": "<p>To locate and click a <code>&lt;button&gt;</code> element by it's text you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>text()</code>:</p>\n<pre><code>driver.find_element_by_xpath(&quot;//button[text()='button_text']&quot;).click()\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>contains()</code>:</p>\n<pre><code>driver.find_element_by_xpath(&quot;//button[contains(., 'button_text')]&quot;).click()\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally, to locate and click a <code>&lt;button&gt;</code> element by it's text you need to induce <a href=\"https://stackoverflow.com/questions/59130200/selenium-wait-until-element-is-present-visible-and-interactable/59130336#59130336\">WebDriverWait</a> for the <code>element_to_be_clickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>XPATH</em> and <code>text()</code>:</p>\n<pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//button[text()='button_text']&quot;))).click()\n</code></pre>\n</li>\n<li><p>Using <em>XPATH</em> and <code>contains()</code>:</p>\n<pre><code>WebDriverWait(driver, 20).until(EC.element_to_be_clickable((By.XPATH, &quot;//button[contains(., 'button_text')]&quot;))).click()\n</code></pre>\n</li>\n<li><p><strong>Note</strong> : You have to add the following imports :</p>\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Update</h2>\n<p>To locate all the <code>&lt;button&gt;</code> elements by the text you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>text()</code>:</p>\n<pre><code>for button in driver.find_elements_by_xpath(&quot;//button[text()='button_text']&quot;):\n  button.click()\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>contains()</code>:</p>\n<pre><code>for button in driver.find_elements_by_xpath(&quot;//button[contains(., 'button_text')]&quot;):\n  button.click()\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>Ideally, to locate all the <code>&lt;button&gt;</code> elements by the text you need to induce <a href=\"https://stackoverflow.com/questions/59130200/selenium-wait-until-element-is-present-visible-and-interactable/59130336#59130336\">WebDriverWait</a> for the <code>visibility_of_all_elements_located()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p>Using <em>XPATH</em> and <code>text()</code>:</p>\n<pre><code>for button in WebDriverWait(driver, 20).until(EC.visibility_of_all_elements_located((By.XPATH, &quot;//button[text()='button_text']&quot;))):\n  button.click()\n</code></pre>\n</li>\n<li><p>Using <em>XPATH</em> and <code>contains()</code>:</p>\n<pre><code>for button in WebDriverWait(driver, 20).until(EC.visibility_of_all_elements_located((By.XPATH, &quot;//button[contains(., 'button_text')]&quot;))):\n  button.click()\n</code></pre>\n</li>\n<li><p><strong>Note</strong> : You have to add the following imports :</p>\n<pre><code>from selenium.webdriver.support.ui import WebDriverWait\nfrom selenium.webdriver.common.by import By\nfrom selenium.webdriver.support import expected_conditions as EC\n</code></pre>\n</li>\n</ul>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5936345"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29111, "favorite_count": 2, "accepted_answer_id": 35470356, "answer_count": 4, "score": 14, "last_activity_date": 1610213129, "creation_date": 1455753394, "last_edit_date": 1610212533, "question_id": 35470171, "link": "https://stackoverflow.com/questions/35470171/click-button-by-text-using-python-and-selenium", "title": "Click button by text using Python and Selenium", "body": "<p>Is it possible to click multiply buttons with the same text with <a href=\"http://en.wikipedia.org/wiki/Selenium_%28software%29\" rel=\"noreferrer\">Selenium</a>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/KzAK7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KzAK7.png\" alt=\"Text = Unlock this result here\"></a></p>\n"}, {"tags": ["python", "function", "pandas", "lambda"], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 4608333, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8452dfe3fe013a2f97cb23379c47b730?s=128&d=identicon&r=PG&f=1", "display_name": "kurious", "link": "https://stackoverflow.com/users/4608333/kurious"}, "is_accepted": true, "score": 0, "last_activity_date": 1455758240, "creation_date": 1455758240, "answer_id": 35471014, "question_id": 35470145, "link": "https://stackoverflow.com/questions/35470145/how-to-apply-a-function-with-series-as-argument-to-pandas-column/35471014#35471014", "title": "How to apply a function with series as argument to pandas column", "body": "<p>Solved it:</p>\n\n<pre><code>def displayDetails(df_name,col_name):\n    print df_name[col_name].describe()\n    df_name[col_name].value_counts().plot(kind='bar')\n\ndisplayDetails(dataFrameName,'Column_Name')\n</code></pre>\n"}], "owner": {"reputation": 916, "user_id": 4608333, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8452dfe3fe013a2f97cb23379c47b730?s=128&d=identicon&r=PG&f=1", "display_name": "kurious", "link": "https://stackoverflow.com/users/4608333/kurious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 35471014, "answer_count": 1, "score": 0, "last_activity_date": 1455758240, "creation_date": 1455753239, "question_id": 35470145, "link": "https://stackoverflow.com/questions/35470145/how-to-apply-a-function-with-series-as-argument-to-pandas-column", "title": "How to apply a function with series as argument to pandas column", "body": "<p>I want to create a function that essentially does the following:</p>\n\n<pre><code>def displayDetails(dataframe,column):\n    dataframe.column.describe()\n    dataframe.column.value_counts.display(kind='bar')\n</code></pre>\n\n<p>so that I can do <code>displayDetails(someDataFrame,someColumn)()</code></p>\n\n<p>How does one apply methods such as <code>describe</code> and <code>count</code> that work on a series instead of each element of the series?</p>\n\n<p>I tried this:</p>\n\n<pre><code>def displayDetailsDummy(para):\n    para.upper()\ndf4['Clinic_ID'].map(displayDetailsDummy)\n</code></pre>\n\n<p>which generated the output:</p>\n\n<pre><code>000103f8-7f48-4afd-b532-8e6c1028d965    None\n00021ec5-9945-47f7-bfda-59cf8918f10b    None\n0002510f-fb89-11e3-a6eb-742f68319ca7    None\n00025550-9a97-44a4-84d9-1f6f7741f973    None\n</code></pre>\n\n<p>This output is incorrect.</p>\n\n<p>Another approach is:</p>\n\n<pre><code>df4['Clinic_ID'].map(displayDetailsDummy)\ntest = map(vis, df4['Clinic_ID'])\nprint test\n</code></pre>\n\n<p>This one works:</p>\n\n<pre><code>[u'43E75091BE4CA5FF8182A9D45FD654E0', u'E2A62C2E0EB48FA046B6407DBE633856', u'4001', u'43E75091BE4CA5FF8182A9D45FD63870', u'05015141289349B8BC84533C7B489114']\n</code></pre>\n\n<p>However, using it for <code>value_counts</code> and <code>describe</code> throws up errors.</p>\n"}, {"tags": ["python", "python-2.7", "cookies"], "answers": [{"comments": [{"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "edited": false, "score": 0, "creation_date": 1455754297, "post_id": 35470215, "comment_id": 58636117, "body": "Corrected the code bug. The <code>globals</code> should work now"}, {"owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "reply_to_user": {"reputation": 23, "user_id": 5943134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6olJN.jpg?s=128&g=1", "display_name": "Mike KI", "link": "https://stackoverflow.com/users/5943134/mike-ki"}, "edited": false, "score": 0, "creation_date": 1455754599, "post_id": 35470215, "comment_id": 58636204, "body": "Glad it worked. Hopefully these aren&#39;t the ever persistent web cookies. They give me indigestion."}], "tags": [], "owner": {"reputation": 1327, "user_id": 1771644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QXOfw.png?s=128&g=1", "display_name": "Michal Frystacky", "link": "https://stackoverflow.com/users/1771644/michal-frystacky"}, "is_accepted": true, "score": 0, "last_activity_date": 1455754538, "last_edit_date": 1495535297, "creation_date": 1455753618, "answer_id": 35470215, "question_id": 35470131, "link": "https://stackoverflow.com/questions/35470131/python-click-bot-typeerror-an-integer-is-required-cookieclickerv2/35470215#35470215", "title": "Python click bot TypeError: an integer is required #CookieClickerV2", "body": "<p>Your <code>x</code> and <code>y</code> are initialized as lists and aren't modified within the functions(You need to make them <a href=\"https://stackoverflow.com/questions/423379/using-global-variables-in-a-function-other-than-the-one-that-created-them\">global</a>). Even if they were they would be <code>str</code>, so you will need to do something like:</p>\n\n<pre><code>x = int(input(\"Geef de X as op &gt;&gt; \")) \ny = int(input(\"Geef de Y as op &gt;&gt; \")) \n</code></pre>\n\n<p>And the entire code would look something like:</p>\n\n<pre><code>import win32api, win32con, win32gui\nimport random\nimport time\nimport os\n\nmenu = []\nmouseClick = []\nstop = []\nx = None\ny = None\n\ndef menu():\n    global x\n    global y\n    x = int(input(\"Geef de X as op &gt;&gt; \")) \n    y = int(input(\"Geef de Y as op &gt;&gt; \")) \n    mouseClick()\n\ndef mouseClick():\n    win32api.SetCursorPos((x,y,))\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,0,0)\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP,0,0)\n    time.sleep(.1)\n    stop()\n    mouseClick()\n\ndef stop():\n    exit = win32api.mouse_event(win32con.MOUSEEVENTF_MOVE,1,1)\n    if exit:\n        menu()\n\nmenu()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5943134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6olJN.jpg?s=128&g=1", "display_name": "Mike KI", "link": "https://stackoverflow.com/users/5943134/mike-ki"}, "is_accepted": false, "score": 0, "last_activity_date": 1455754318, "creation_date": 1455754318, "answer_id": 35470343, "question_id": 35470131, "link": "https://stackoverflow.com/questions/35470131/python-click-bot-typeerror-an-integer-is-required-cookieclickerv2/35470343#35470343", "title": "Python click bot TypeError: an integer is required #CookieClickerV2", "body": "<p>Thank you for the fast responds! </p>\n\n<p>My code is as followed: </p>\n\n<pre><code>import win32api, win32con, win32gui\nimport random\nimport time\nimport os\n\nmenu = []\nmouseClick = []\nstop = []\n\n\ndef menu():\n    globals x,y\n    x = int(input(\"Geef de X as op &gt;&gt; \")) \n    y = int(input(\"Geef de Y as op &gt;&gt; \")) \n    mouseClick()\n\ndef mouseClick():\n    win32api.SetCursorPos((x,y,))\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,0,0)\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP,0,0)\n    time.sleep(5)\n    stop()\n    mouseClick()\n\ndef stop():\n    exit = win32api.mouse_event(win32con.MOUSEEVENTF_MOVE,1,1)\n    if exit:\n        menu()\n\nmenu()\n</code></pre>\n\n<p>My debug code said:</p>\n\n<pre><code>  File \"D:\\Projecten\\Runescape\\RS_Bot_RuneMouse\\Click Module.py\", line 12\n    globals x,y\n            ^\nSyntaxError: invalid syntax\n</code></pre>\n\n<p>What is the observation of global?</p>\n"}], "owner": {"reputation": 23, "user_id": 5943134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6olJN.jpg?s=128&g=1", "display_name": "Mike KI", "link": "https://stackoverflow.com/users/5943134/mike-ki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 35470215, "answer_count": 2, "score": 2, "last_activity_date": 1455754538, "creation_date": 1455753176, "question_id": 35470131, "link": "https://stackoverflow.com/questions/35470131/python-click-bot-typeerror-an-integer-is-required-cookieclickerv2", "title": "Python click bot TypeError: an integer is required #CookieClickerV2", "body": "<p>Help I got stuck. I want to make a auto clicker for \"cookie clicker 2\". You know. I love cookies and I want them fast :P..... soooo I wrote this script:</p>\n\n<pre><code>import win32api, win32con, win32gui\nimport random\nimport time\nimport os\n\nmenu = []\nmouseClick = []\nstop = []\nx = []\ny = []\n\ndef menu():\n    x = input(\"Geef de X as op &gt;&gt; \")\n    y = input(\"Geef de Y as op &gt;&gt; \")\n    mouseClick()\n\ndef mouseClick():\n    win32api.SetCursorPos((x,y,))\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTDOWN,0,0)\n    win32api.mouse_event(win32con.MOUSEEVENTF_LEFTUP,0,0)\n    time.sleep(.1)\n    stop()\n    mouseClick()\n\ndef stop():\n    exit = win32api.mouse_event(win32con.MOUSEEVENTF_MOVE,1,1)\n    if exit:\n        menu()\n\nmenu()\n</code></pre>\n\n<p>I got the following Debug Message:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"\" \"\"\"File Location \"\"\" \\Click Module.py\", line 31, in &lt;module&gt;\n    menu()\n  File \"\" \"\"\"File Location \"\"\" \\Click Module.py\", line 14, in menu\n    mouseClick()\n  File \" \"\"\"File Location \"\"\" \\Click Module.py\", line 17, in mouseClick\n    win32api.SetCursorPos((x,y,))\nTypeError: an integer is required\n</code></pre>\n\n<p>Please save my day and give me cookies &lt;3</p>\n"}, {"tags": ["python", "scope", "standard-library", "built-in"], "comments": [{"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 4, "creation_date": 1455754602, "post_id": 35470018, "comment_id": 58636206, "body": "Do not name your variables after Python builtins, period."}, {"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "reply_to_user": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 1, "creation_date": 1455754899, "post_id": 35470018, "comment_id": 58636313, "body": "@Will, I understand what you&#39;re saying but in terms of readability the names <code>min</code> and <code>max</code> are great. Thus there are times where you might create internal naming conflicts so that your API is user friendly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1455755477, "post_id": 35470018, "comment_id": 58636487, "body": "It would be better to use a more descriptive name. For instance, if you have a list called <code>things</code>, use <code>max_thing</code>."}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1455756274, "post_id": 35470018, "comment_id": 58636726, "body": "@NickChapman: If you had a <code>max</code> function, for example, if you were NumPy and you had <code>numpy.max</code>, it&#39;d make sense to use the same name as a builtin. For <code>max = 4</code>? No way that&#39;s part of your API. Call it <code>max_</code> or something."}, {"owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "reply_to_user": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1455756918, "post_id": 35470018, "comment_id": 58636942, "body": "@user2357112 Consider the case of a keyword argument to a function. I might reasonably want to define a <code>get_random(min, max)</code>. There would never be any conflict for external users of my module, and I don&#39;t think there would be any reason to make them type <code>min_=</code> and <code>max_=</code>, but within the function body itself I&#39;d need an alias if I wanted to use the <code>min</code> and <code>max</code> functions. (Personally, I&#39;ve always used <code>**kwargs</code> in these cases to avoid shadowing, but I think it&#39;s at least debatable whether that&#39;s actually better code.)"}, {"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "reply_to_user": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1455760189, "post_id": 35470018, "comment_id": 58638018, "body": "@JeremyBanks this is exactly how this issue came up."}, {"owner": {"reputation": 1906, "user_id": 2221485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80fb7d05ab7fe36bd8a83002c05f058?s=128&d=identicon&r=PG", "display_name": "gil", "link": "https://stackoverflow.com/users/2221485/gil"}, "reply_to_user": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1455761079, "post_id": 35470018, "comment_id": 58638281, "body": "@JeremyBanks Why not name them <code>lower_bound</code> and <code>upper_bound</code> (or some such; there are always some good substitutes for <code>max</code> and <code>min</code> in each case). Yes you (and your user) may need to do more typing, but it&#39;s better than any work-around like <code>__builtin__.max</code> in your code."}, {"owner": {"reputation": 1906, "user_id": 2221485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c80fb7d05ab7fe36bd8a83002c05f058?s=128&d=identicon&r=PG", "display_name": "gil", "link": "https://stackoverflow.com/users/2221485/gil"}, "reply_to_user": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "edited": false, "score": 0, "creation_date": 1455761729, "post_id": 35470018, "comment_id": 58638434, "body": "@JeremyBanks I don&#39;t see why <code>lower_bound</code> etc is not just as user friendly as <code>min</code>, if not more so (if your user is using an IDE, he can actually get warned for using the <code>min</code> API which is annoying, but not for <code>lower_bound</code>). ps. I hope you are not saying I have a silly ideology. As for your dislike of Python, that&#39;s irrelevant. This is a question about how to do things as well as we can in Python, however much it sucks."}, {"owner": {"reputation": 21338, "user_id": 145279, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/r9KgA.jpg?s=128&g=1", "display_name": "Will", "link": "https://stackoverflow.com/users/145279/will"}, "edited": false, "score": 1, "creation_date": 1455764191, "post_id": 35470018, "comment_id": 58639062, "body": "@NickChapman Yeah, I understand. I&#39;ve wanted to name variables <code>class</code> or <code>max</code> or <code>file</code> before, too, but every language has its sacrifices you have to make. I personally use OOP-conventions for all of my names (unless I&#39;m working on other people&#39;s code), so for me, it&#39;d be <code>maxValue</code> or <code>maxThingName</code>. It&#39;s always good to be descriptive. If it&#39;s just a throwaway variable that doesn&#39;t need to be descriptive, call it <code>m</code>? I really, really, really wouldn&#39;t name things after builtins."}], "answers": [{"comments": [{"owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "edited": false, "score": 0, "creation_date": 1455752827, "post_id": 35470051, "comment_id": 58635625, "body": "The name of the module changed between Python 2 and Python 3? Interesting."}, {"owner": {"reputation": 55248, "user_id": 642070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c280b71b3187d1cc113a6e302b414b9?s=128&d=identicon&r=PG", "display_name": "tdelaney", "link": "https://stackoverflow.com/users/642070/tdelaney"}, "edited": false, "score": 2, "creation_date": 1455772528, "post_id": 35470051, "comment_id": 58641542, "body": "Then you can do <code>__builtins__.max = 2</code> and really cause trouble!"}], "tags": [], "owner": {"reputation": 1, "user_id": 1114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FFE8V.gif?s=128&g=1", "display_name": "Jeremy", "link": "https://stackoverflow.com/users/1114/jeremy"}, "is_accepted": true, "score": 5, "last_activity_date": 1455772174, "last_edit_date": 1455772174, "creation_date": 1455752772, "answer_id": 35470051, "question_id": 35470018, "link": "https://stackoverflow.com/questions/35470018/using-pythons-max-function-when-you-have-a-variable-named-max/35470051#35470051", "title": "Using Python&#39;s max function when you have a variable named max?", "body": "<p>The <a href=\"https://docs.python.org/2/library/__builtin__.html\" rel=\"nofollow\"><code>__builtin__</code> (Python 2)</a> / <a href=\"https://docs.python.org/3/library/builtins.html\" rel=\"nofollow\"><code>builtins</code> (Python 3)</a> module provides another way to access all built-in/standard identifiers for cases like this:</p>\n\n<pre><code>&gt;&gt;&gt; import __builtin__\n&gt;&gt;&gt;\n&gt;&gt;&gt; __builtin__.max is max\nTrue\n&gt;&gt;&gt;\n&gt;&gt;&gt; max = 2\n&gt;&gt;&gt; __builtin__.max([0, max])\n2\n</code></pre>\n\n\n\n<pre><code>import __builtin__ as builtins\n\ndef random_integer(min, max):\n    random_integer.seed = builtins.max(10101, ( # looks random enough, right?\n        ((random_integer.seed * 3 - 210) % 9898989) &gt;&gt; 1) ^ 173510713571)\n    return min + (random_integer.seed % (max - min + 1))\n\nrandom_integer.seed = 123456789\n</code></pre>\n\n<blockquote>\n  <p>This module is not normally accessed explicitly by most applications, but can be useful in modules that provide objects with the same name as a built-in value, but in which the built-in of that name is also needed.</p>\n</blockquote>\n\n<p>The name change in Python 3 is part of <a href=\"https://www.python.org/dev/peps/pep-3100/#core-language\" rel=\"nofollow\">the \"core languages\" changes described in PEP 3100</a>:</p>\n\n<blockquote>\n  <p>In order to get rid of the confusion between <code>__builtin__</code> and <code>__builtins__</code>, it was decided to rename <code>__builtin__</code> (the module) to <code>builtins</code>, and to leave <code>__builtins__</code> (the sandbox hook) alone.</p>\n</blockquote>\n"}], "owner": {"reputation": 3670, "user_id": 2681057, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7c2135aa4c462b83c2844bf35d03c447?s=128&d=identicon&r=PG&f=1", "display_name": "Nick Chapman", "link": "https://stackoverflow.com/users/2681057/nick-chapman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1913, "favorite_count": 2, "accepted_answer_id": 35470051, "answer_count": 1, "score": 2, "last_activity_date": 1455772174, "creation_date": 1455752612, "question_id": 35470018, "link": "https://stackoverflow.com/questions/35470018/using-pythons-max-function-when-you-have-a-variable-named-max", "title": "Using Python&#39;s max function when you have a variable named max?", "body": "<p>Python includes the built in max() function. However, despite it being built in it is not a keyword. That is to say, you are allowed to do <code>max=4</code>. This makes sense since the maximum of something comes up a lot. But! If you use max as a variable, then it disables use of the max function in that scope. </p>\n\n<p>So if you do:</p>\n\n<pre><code>max = 4\nmax(1, 2)\n</code></pre>\n\n<p>You will get an error of <code>int object not callable</code>. Again, makes sense. But is there any way to specify that you would like the max function? Like a <code>std.max()</code>? This goes for all other built in functions as well. </p>\n"}, {"tags": ["python", "python-2.7", "matplotlib", "cherrypy"], "comments": [{"owner": {"reputation": 321, "user_id": 3341026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ceacf024e47eddee32565c70011b27f?s=128&d=identicon&r=PG&f=1", "display_name": "DNelson", "link": "https://stackoverflow.com/users/3341026/dnelson"}, "edited": false, "score": 0, "creation_date": 1455753181, "post_id": 35470005, "comment_id": 58635768, "body": "What route are you navigating to (for example <code>127.0.0.1:18892&#47;some&#47;route</code>) in order to get the 404?"}, {"owner": {"reputation": 2094, "user_id": 3062625, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7204d6c8fe3dd39562a3860990709598?s=128&d=identicon&r=PG&f=1", "display_name": "Charon", "link": "https://stackoverflow.com/users/3062625/charon"}, "reply_to_user": {"reputation": 321, "user_id": 3341026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ceacf024e47eddee32565c70011b27f?s=128&d=identicon&r=PG&f=1", "display_name": "DNelson", "link": "https://stackoverflow.com/users/3341026/dnelson"}, "edited": false, "score": 0, "creation_date": 1455753382, "post_id": 35470005, "comment_id": 58635851, "body": "It&#39;s going to <code>...&#47;generate?start=010115</code>"}, {"owner": {"reputation": 321, "user_id": 3341026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ceacf024e47eddee32565c70011b27f?s=128&d=identicon&r=PG&f=1", "display_name": "DNelson", "link": "https://stackoverflow.com/users/3341026/dnelson"}, "edited": false, "score": 0, "creation_date": 1455753581, "post_id": 35470005, "comment_id": 58635909, "body": "I think this should help: <a href=\"https://stackoverflow.com/questions/3064374/how-to-return-an-image-in-an-http-response-with-cherrypy\" title=\"how to return an image in an http response with cherrypy\">stackoverflow.com/questions/3064374/&hellip;</a>"}, {"owner": {"reputation": 2094, "user_id": 3062625, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7204d6c8fe3dd39562a3860990709598?s=128&d=identicon&r=PG&f=1", "display_name": "Charon", "link": "https://stackoverflow.com/users/3062625/charon"}, "reply_to_user": {"reputation": 321, "user_id": 3341026, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6ceacf024e47eddee32565c70011b27f?s=128&d=identicon&r=PG&f=1", "display_name": "DNelson", "link": "https://stackoverflow.com/users/3341026/dnelson"}, "edited": false, "score": 0, "creation_date": 1455753904, "post_id": 35470005, "comment_id": 58636002, "body": "Thanks for the help! I&#39;ve just tried that but it doesn&#39;t seem to be working - very annoying."}, {"owner": {"reputation": 6355, "user_id": 1078883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7be865ee48e988767b66b4e8d9d5712b?s=128&d=identicon&r=PG", "display_name": "jordeu", "link": "https://stackoverflow.com/users/1078883/jordeu"}, "edited": false, "score": 0, "creation_date": 1461176068, "post_id": 35470005, "comment_id": 61084216, "body": "I&#39;ve tested your code, and (except for a typo I guess &quot;plt.plt()&quot; -&gt; &quot;plt.plot()&quot;) it&#39;s working."}], "owner": {"reputation": 2094, "user_id": 3062625, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/7204d6c8fe3dd39562a3860990709598?s=128&d=identicon&r=PG&f=1", "display_name": "Charon", "link": "https://stackoverflow.com/users/3062625/charon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 364, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1461176004, "creation_date": 1455752568, "last_edit_date": 1461176004, "question_id": 35470005, "link": "https://stackoverflow.com/questions/35470005/serve-matplotlib-figures-with-cherrypy", "title": "Serve matplotlib figures with Cherrypy", "body": "<p>How do I get Cherrypy to display a figure generated by <code>matplotlib</code>?</p>\n\n<p>This is my code so far, but it's generating a 404:</p>\n\n<pre><code>import cherrypy\nimport matplotlib\nmatplotlib.use(\"Agg\")\nimport matplotlib.pyplot as plt\nfrom io import BytesIO\n\n\nclass Root(object):\n    @cherrypy.expose\n    def index(self):\n            return \"\"\"\n&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;Yo!&lt;/p&gt;\n            &lt;form method=\"get\" action=\"generate\"&gt;\n              &lt;p&gt;Testerr&lt;/p&gt;\n              Start: &lt;input type=\"text\" value=\"010115\" name=\"start\" /&gt;\n              &lt;button type=\"submit\"&gt;Go!&lt;/button&gt;\n            &lt;/form&gt;\n&lt;body&gt;\n&lt;html&gt;\n\"\"\"\n    @cherrypy.expose\n    def generate(self, start):\n        cherrypy.response.headers['Content-Type'] = \"image/png\"\n        fig = plt.figure()\n        plt.plot([1,2,3,4])\n\n        figdata=BytesIO()\n        fig.savefig(figdata, format='png')\n\n        imdata = figdata.getvalue()\n        return imdata\n\n\ncherrypy.config.update({\n    'environment': 'production',\n    'log.screen': False,\n    'server.socket_host': '127.0.0.1',\n    'server.socket_port': 18892,\n})\ncherrypy.quickstart(Root())\n</code></pre>\n"}, {"tags": ["python", "function", "arguments", "call", "optional"], "answers": [{"tags": [], "owner": {"reputation": 16397, "user_id": 66349, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9c13b93d65bbb06c10fc349fa36b67dc?s=128&d=identicon&r=PG", "display_name": "Peter Gibson", "link": "https://stackoverflow.com/users/66349/peter-gibson"}, "is_accepted": false, "score": 1, "last_activity_date": 1455753195, "creation_date": 1455753195, "answer_id": 35470133, "question_id": 35469987, "link": "https://stackoverflow.com/questions/35469987/call-a-function-with-optional-and-name-arguments-in-another-function/35470133#35470133", "title": "call a function with optional and name arguments in another function", "body": "<p>The syntax for calling a function is basically the same as when defining the function. So your <code>funct2</code> would look like:</p>\n\n<pre><code>def funct2(*args, **kwargs):\n    # call funct() above\n    funct(*args, **kwargs)\n</code></pre>\n\n<p>Here are the Python docs covering the subject: <a href=\"https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists\" rel=\"nofollow\">https://docs.python.org/2/tutorial/controlflow.html#unpacking-argument-lists</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5822866, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hi1NcP8AeWA/AAAAAAAAAAI/AAAAAAAAAU8/i5qkPnREqMg/photo.jpg?sz=128", "display_name": "Vatsal Soni", "link": "https://stackoverflow.com/users/5822866/vatsal-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455753780, "creation_date": 1455752528, "last_edit_date": 1455753780, "question_id": 35469987, "link": "https://stackoverflow.com/questions/35469987/call-a-function-with-optional-and-name-arguments-in-another-function", "title": "call a function with optional and name arguments in another function", "body": "<p>How can we do function implementation for the following?</p>\n\n<p>For optional and named arguments we write function in following way.</p>\n\n<pre><code>def funct(*args, **kwargs):\n    for arg in args:\n        print \u201carg =\u201d, arg\n    for key in kwargs.keys():\n        print \u201carg[{0}]={1}\u201d.format(key, kwargs[key])\n</code></pre>\n\n<p>If I want to call this function inside another function of same protocol, how can I implement?</p>\n\n<pre><code>def funct2(*args, **kwargs):\n    # call funct() above\n    funct(????????)\n</code></pre>\n\n<p>So is there any way to call the first <code>funct()</code> with optional arguments inside the new <code>funct2()</code> with the same type of optional arguments?</p>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1455752565, "post_id": 35469970, "comment_id": 58635529, "body": "Is it whole error section?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5928717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbef80556ae03f379bd3e6851c5610a3?s=128&d=identicon&r=PG&f=1", "display_name": "sorianoasir", "link": "https://stackoverflow.com/users/5928717/sorianoasir"}, "edited": false, "score": 0, "creation_date": 1455805432, "post_id": 35470251, "comment_id": 58661479, "body": "Hi @paulrooney thanks for your answer, my code seems works fine, i was writing a domain without mx registry and appears this error. Your code works good also but i want to ask for domain. My question know is, how can i control if the answers of dns.resolver don&#39;t give me a mx registry for avoid an error?"}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "reply_to_user": {"reputation": 3, "user_id": 5928717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbef80556ae03f379bd3e6851c5610a3?s=128&d=identicon&r=PG&f=1", "display_name": "sorianoasir", "link": "https://stackoverflow.com/users/5928717/sorianoasir"}, "edited": false, "score": 0, "creation_date": 1455826910, "post_id": 35470251, "comment_id": 58675998, "body": "Hi sorry. I don&#39;t really understand your second question. Perhaps it would be better to create a new question for this."}], "tags": [], "owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "is_accepted": true, "score": 0, "last_activity_date": 1455755719, "last_edit_date": 1455755719, "creation_date": 1455753805, "answer_id": 35470251, "question_id": 35469970, "link": "https://stackoverflow.com/questions/35469970/get-ns-and-mx-web-information-python/35470251#35470251", "title": "Get NS and MX web information python", "body": "<p>You need to actually pass the domain names to your functions</p>\n\n<pre><code>import dns.resolver\n\ndomainlist = ['google.com', 'yahoo.com']\n\n#Declare Variable\n#Find dns\ndef fundns(domain):\n\n    idns = dns.resolver.query(domain,'NS')\n    print \"Los DNS de %s\" % domain + \" son:\"\n    for server in idns:\n        print server \n#Find mx\ndef funmx(domain):        \n\n    mx = dns.resolver.query(domain,'MX')\n    print \"Los MX de %s\" % domain + \" son:\"\n    for rdata in mx:\n        print \"Host\", rdata.exchange\n\nfor i in domainlist:\n    fundns(i)\n    print \"----------------------------------------\"\n    funmx(i)\n</code></pre>\n\n<p>Previously you were trying to use global variables, or so it seems.</p>\n\n<p>The Output:</p>\n\n<pre><code>Los DNS de google.com son:\nns3.google.com.\nns2.google.com.\nns4.google.com.\nns1.google.com.\n----------------------------------------\nLos MX de google.com son:\nHost alt3.aspmx.l.google.com.\nHost alt2.aspmx.l.google.com.\nHost alt4.aspmx.l.google.com.\nHost alt1.aspmx.l.google.com.\nHost aspmx.l.google.com.\nLos DNS de yahoo.com son:\nns6.yahoo.com.\nns2.yahoo.com.\nns5.yahoo.com.\nns3.yahoo.com.\nns1.yahoo.com.\nns4.yahoo.com.\n----------------------------------------\nLos MX de yahoo.com son:\nHost mta5.am0.yahoodns.net.\nHost mta7.am0.yahoodns.net.\nHost mta6.am0.yahoodns.net.\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5928717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dbef80556ae03f379bd3e6851c5610a3?s=128&d=identicon&r=PG&f=1", "display_name": "sorianoasir", "link": "https://stackoverflow.com/users/5928717/sorianoasir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "accepted_answer_id": 35470251, "answer_count": 1, "score": 0, "last_activity_date": 1455755719, "creation_date": 1455752430, "last_edit_date": 1455754959, "question_id": 35469970, "link": "https://stackoverflow.com/questions/35469970/get-ns-and-mx-web-information-python", "title": "Get NS and MX web information python", "body": "<p>Im trying to get information about two domain input with this code:</p>\n\n<pre><code>#! usr/bin/python\ndomainlist=[]\n#Ask for domain 1\ndomain = raw_input(\"------------------------------------------\\nIntroduce el primer domino de la pagina web:\\n\")\ndomainlist.append(domain)\n#Ask for domain 2\ndomain = raw_input(\"------------------------------------------\\nIntroduce el segundo domino de la pagina web:\\n\")\ndomainlist.append(domain)\nprint \"-------------------\"\n\n#Declare Variable\n#Find dns\ndef fundns():\n    import dns.resolver\n    idns = dns.resolver.query(i,'NS')\n    print \"Los DNS de %s\" % domain + \" son:\"\n    for server in idns:\n        print server \n#Find mx\ndef funmx():        \n    import dns.resolver\n    mx = dns.resolver.query(i,'MX')\n    print \"Los MX de %s\" % domain + \" son:\"\n    for rdata in mx:\n        print \"Host\", rdata.exchange\nfor i in domainlist:\n    fundns()\n    print \"----------------------------------------\"\n    funmx()\n</code></pre>\n\n<p>but I received this error:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File \"ejercicio5.py\", line 29, in\n  \n      funmx()   File \"ejercicio5.py\", line 22, in funmx</p>\n</blockquote>\n\n<p>I can see in the print all the information unless last <code>mx</code> registry, and I don't know what is wrong...</p>\n\n<p>Some one could help me?</p>\n"}, {"tags": ["python", "parameter-passing", "idioms"], "comments": [{"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1455752561, "post_id": 35469931, "comment_id": 58635528, "body": "<code>pass-by-reference</code> is the term"}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "reply_to_user": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1455753246, "post_id": 35469931, "comment_id": 58635799, "body": "@danidee: &quot;Pass by reference&quot; is a little different... Python is actually pass by value, but the value may be a pointer to an object which is shared."}, {"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1455753326, "post_id": 35469931, "comment_id": 58635831, "body": "i&#39;ll also suggest you go through this <a href=\"http://docs.python-guide.org/en/latest/writing/gotchas/\" rel=\"nofollow noreferrer\">docs.python-guide.org/en/latest/writing/gotchas</a>"}, {"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "reply_to_user": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "edited": false, "score": 0, "creation_date": 1455753774, "post_id": 35469931, "comment_id": 58635964, "body": "@DietrichEpp i&#39;ll rather say <code>pass-by-object-reference</code> since objects are just passed around with names bound to them"}, {"owner": {"reputation": 355, "user_id": 3874926, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OKRZ8.jpg?s=128&g=1", "display_name": "Katie Byers", "link": "https://stackoverflow.com/users/3874926/katie-byers"}, "edited": false, "score": 0, "creation_date": 1455756285, "post_id": 35469931, "comment_id": 58636729, "body": "FWIW, I got the &#39;pass-by-sharing&#39; nomenclature from here: <a href=\"http://eev.ee/blog/2012/05/23/python-faq-passing/\" rel=\"nofollow noreferrer\">eev.ee/blog/2012/05/23/python-faq-passing</a> and here: <a href=\"https://en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Evaluation_strategy#Call_by_sharing</a>. Of the different alternatives, it seemed the most descriptive."}, {"owner": {"reputation": 181215, "user_id": 82294, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5c5f910416e2b92bb73fa59c56fe695d?s=128&d=identicon&r=PG", "display_name": "Dietrich Epp", "link": "https://stackoverflow.com/users/82294/dietrich-epp"}, "reply_to_user": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1455757369, "post_id": 35469931, "comment_id": 58637103, "body": "@danidee: &quot;Pass-by-object-reference&quot; is just a new name for &quot;pass by value&quot; when all your values are references to objects.  That&#39;s why we say Python is pass by value, just like Java and C."}], "answers": [{"tags": [], "owner": {"reputation": 8218, "user_id": 2615940, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/9a6Qc.jpg?s=128&g=1", "display_name": "skrrgwasme", "link": "https://stackoverflow.com/users/2615940/skrrgwasme"}, "is_accepted": true, "score": 4, "last_activity_date": 1455752959, "creation_date": 1455752959, "answer_id": 35470090, "question_id": 35469931, "link": "https://stackoverflow.com/questions/35469931/is-it-idiomatic-to-take-advantage-of-pythons-pass-by-sharing-of-mutable-data-st/35470090#35470090", "title": "Is it idiomatic to take advantage of python&#39;s pass-by-sharing of mutable data structures like lists?", "body": "<p>I think whether or not this is \"acceptable\" will be determined by the context and how well the function is named. keep <a href=\"https://www.python.org/dev/peps/pep-0020/\" rel=\"nofollow\">Pep 20</a> in mind: \"Explicit is better than implicit.\" </p>\n\n<p>Python fully supports functional programming, and in that case, modifying objects that are passed in is often expected. If the function is named appropriately and documented well, I think it's fine. Your example illustrates this pretty well. The function is called <code>add_to_list</code>, which pretty explicitly says what the function does. </p>\n\n<p>If your program/script takes more of an object-oriented approach, modifying passed-in objects should be replaced by creating the appropriate classes instead, like the native <code>list</code> class in your example - it has an <code>append()</code> method that modifies the list instead of passing the list into a separate function.</p>\n\n<p>The key is to be consistent with your paradigm and well documented. If you cover both of those bases, I think it's acceptable.</p>\n"}], "owner": {"reputation": 355, "user_id": 3874926, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OKRZ8.jpg?s=128&g=1", "display_name": "Katie Byers", "link": "https://stackoverflow.com/users/3874926/katie-byers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 35470090, "answer_count": 1, "score": 1, "last_activity_date": 1455753237, "creation_date": 1455752237, "question_id": 35469931, "link": "https://stackoverflow.com/questions/35469931/is-it-idiomatic-to-take-advantage-of-pythons-pass-by-sharing-of-mutable-data-st", "title": "Is it idiomatic to take advantage of python&#39;s pass-by-sharing of mutable data structures like lists?", "body": "<p>I know that in Python, because it's pass-by-sharing, if I pass a mutable object (like a list) to a function, and then use that function to mutate it, I don't need to explicitly pass it back, because the caller can see the changes:</p>\n\n<pre><code>def add_to_list(list_of_nums):\n    list_of_nums.append(26)\n\nmy_list = [12]\nadd_to_list(my_list)\nprint my_list  # &gt;&gt;&gt;[12, 26]\n</code></pre>\n\n<p>So this works. But is it a good idea/good python practice? My gut says it's not (the same way global variables are almost always a bad idea), but maybe that's just because I first learned C++ in all its pass-by-value glory.</p>\n\n<p>And yes, I know that I can code my way around this (say by creating a class), but the question is, should I, or is this generally seen as acceptable practice?</p>\n"}, {"tags": ["python", "python-newspaper"], "comments": [{"owner": {"reputation": 3587, "user_id": 580709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b8519613c122e8f395187d27eb5bef?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyCrow", "link": "https://stackoverflow.com/users/580709/crazycrow"}, "edited": false, "score": 0, "creation_date": 1455752348, "post_id": 35469917, "comment_id": 58635465, "body": "Please, check this solution <a href=\"http://stackoverflow.com/a/32922903/580709\">stackoverflow.com/a/32922903/580709</a> . In your case it is line #467"}, {"owner": {"reputation": 101, "user_id": 5943094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac993d65400e2ea91f6c8ce21fc41c2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5943094/peter"}, "reply_to_user": {"reputation": 3587, "user_id": 580709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04b8519613c122e8f395187d27eb5bef?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyCrow", "link": "https://stackoverflow.com/users/580709/crazycrow"}, "edited": false, "score": 1, "creation_date": 1455753816, "post_id": 35469917, "comment_id": 58635978, "body": "I realized I was installing wrong version of package due to misleading and contradictory information on package page. Correct package name for Python 3 - pip3 install newspaper3k"}], "answers": [{"tags": [], "owner": {"reputation": 1293, "user_id": 3896984, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/91f728f19b48ae61f6f586e12ce51df8?s=128&d=identicon&r=PG&f=1", "display_name": "Camron_Godbout", "link": "https://stackoverflow.com/users/3896984/camron-godbout"}, "is_accepted": false, "score": 4, "last_activity_date": 1477680614, "creation_date": 1477680614, "answer_id": 40311458, "question_id": 35469917, "link": "https://stackoverflow.com/questions/35469917/python-package-newspaper-install-error/40311458#40311458", "title": "Python package (Newspaper) install error", "body": "<p>If you're trying to install using python3 then run \n<code>pip3 install newspaper3k</code></p>\n\n<p>if you're trying to install for python2 and want newspaper first run</p>\n\n<p><code>pip install --upgrade setuptools</code></p>\n\n<p>then </p>\n\n<p><code>pip install newspaper</code></p>\n"}], "owner": {"reputation": 101, "user_id": 5943094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fac993d65400e2ea91f6c8ce21fc41c2?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5943094/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4412, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1501228623, "creation_date": 1455752153, "last_edit_date": 1501228623, "question_id": 35469917, "link": "https://stackoverflow.com/questions/35469917/python-package-newspaper-install-error", "title": "Python package (Newspaper) install error", "body": "<p>Trying to install a package which failed with the error below. I googled and installed setuptools - still getting same error.</p>\n\n<p>Command: <code>pip install newspaper</code></p>\n\n<pre><code>Collecting nltk==2.0.5 (from newspaper)\n  Using cached nltk-2.0.5.tar.gz\n    Complete output from command python setup.py egg_info:\n    Downloading http://pypi.python.org/packages/source/d/distribute/distribute-0.6.21.tar.gz\n    Extracting in C:\\Users\\pratik\\AppData\\Local\\Temp\\tmp0mun48pu\n    Traceback (most recent call last):\n      File \"c:\\users\\pratik\\appdata\\local\\temp\\pip-build-6gyje7fp\\nltk\\distribute_setup.py\", line 143, in use_setuptools\n        raise ImportError\n    ImportError\n\n    During handling of the above exception, another exception occurred:\n\n    Traceback (most recent call last):\n      File \"&lt;string&gt;\", line 1, in &lt;module&gt;\n      File \"C:\\Users\\pratik\\AppData\\Local\\Temp\\pip-build-6gyje7fp\\nltk\\setup.py\", line 23, in &lt;module&gt;\n        distribute_setup.use_setuptools()\n      File \"c:\\users\\pratik\\appdata\\local\\temp\\pip-build-6gyje7fp\\nltk\\distribute_setup.py\", line 145, in use_setuptools\n        return _do_download(version, download_base, to_dir, download_delay)\n      File \"c:\\users\\pratik\\appdata\\local\\temp\\pip-build-6gyje7fp\\nltk\\distribute_setup.py\", line 125, in _do_download\n        _build_egg(egg, tarball, to_dir)\n      File \"c:\\users\\pratik\\appdata\\local\\temp\\pip-build-6gyje7fp\\nltk\\distribute_setup.py\", line 99, in _build_egg\n        _extractall(tar)\n      File \"c:\\users\\pratik\\appdata\\local\\temp\\pip-build-6gyje7fp\\nltk\\distribute_setup.py\", line 467, in _extractall\n        self.chown(tarinfo, dirpath)\n    TypeError: chown() missing 1 required positional argument: 'numeric_owner'\n\n    ----------------------------------------\nCommand \"python setup.py egg_info\" failed with error code 1 in C:\\Users\\pratik\\AppData\\Local\\Temp\\pip-build-6gyje7fp\\nltk\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 2754249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c87f0d4303ba675e61e612eb1b8b62f?s=128&d=identicon&r=PG", "display_name": "nazgullien", "link": "https://stackoverflow.com/users/2754249/nazgullien"}, "is_accepted": false, "score": 1, "last_activity_date": 1455752449, "creation_date": 1455752449, "answer_id": 35469973, "question_id": 35469885, "link": "https://stackoverflow.com/questions/35469885/matplotlib-rearranging-bars-when-plotting-from-dictionary/35469973#35469973", "title": "matplotlib rearranging bars when plotting from dictionary", "body": "<p>Python dicts are not ordered:</p>\n\n<p><a href=\"https://docs.python.org/2/library/stdtypes.html#dict.items\" rel=\"nofollow\">https://docs.python.org/2/library/stdtypes.html#dict.items</a> says</p>\n\n<blockquote>\n  <p>Keys and values are listed in an arbitrary order which is non-random, varies across Python implementations, and depends on the dictionary\u2019s history of insertions and deletions.</p>\n</blockquote>\n\n<p>To fix this, you should use collections.OrderedDict to store your data: <a href=\"https://docs.python.org/2/library/collections.html#ordereddict-objects\" rel=\"nofollow\">https://docs.python.org/2/library/collections.html#ordereddict-objects</a></p>\n"}, {"tags": [], "owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "is_accepted": true, "score": 1, "last_activity_date": 1455752472, "creation_date": 1455752472, "answer_id": 35469978, "question_id": 35469885, "link": "https://stackoverflow.com/questions/35469885/matplotlib-rearranging-bars-when-plotting-from-dictionary/35469978#35469978", "title": "matplotlib rearranging bars when plotting from dictionary", "body": "<p>Don't use a <code>dict</code> if you want the values to be sorted, the return can be completly random.</p>\n\n<p>There is <code>OrderedDict</code> (in the collections-library) which is basically a sorted dict. And looks/works exactly the same.</p>\n\n<p>Or you can use two lists one for the keys and one for the values.</p>\n"}, {"tags": [], "owner": {"reputation": 313, "user_id": 5918228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67be40cee2787afb4fc4bfc2041ad49e?s=128&d=identicon&r=PG&f=1", "display_name": "jVincent", "link": "https://stackoverflow.com/users/5918228/jvincent"}, "is_accepted": false, "score": 1, "last_activity_date": 1455752642, "creation_date": 1455752642, "answer_id": 35470024, "question_id": 35469885, "link": "https://stackoverflow.com/questions/35469885/matplotlib-rearranging-bars-when-plotting-from-dictionary/35470024#35470024", "title": "matplotlib rearranging bars when plotting from dictionary", "body": "<p>Normal dictionaries do not have an order. You could use an <a href=\"https://pymotw.com/2/collections/ordereddict.html\" rel=\"nofollow\">Ordered dictionary</a>. Or sort the results before you plot:</p>\n\n<pre><code>import numpy as np\nimport matplotlib.pyplot as plt\n\ninput_str = 'testdstasdtaetsts'\n\nchar_dict = {}\n\nfor char in input_str.lower():\n    char_dict[char] = char_dict.get(char, 0) + np.random.randint(1, 10)\n\nresult_list = sorted([[chars, counts] for chars, counts in char_dict.items()], key = lambda x: x[0])\n\ncharacters = [x[0] for x in result_list]\ncounts = [x[1] for x in result_list]\n\nplt.bar(range(len(char_dict)), counts, align = 'center')\n_ = plt.xticks(range(len(char_dict)), characters)\nplt.margins(0.05, 0)\n\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 2539, "user_id": 4677278, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/1cb766e72045dedd3adaf4353479fa26?s=128&d=identicon&r=PG&f=1", "display_name": "ytk", "link": "https://stackoverflow.com/users/4677278/ytk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1474, "favorite_count": 0, "accepted_answer_id": 35469978, "answer_count": 3, "score": 0, "last_activity_date": 1455752642, "creation_date": 1455751989, "last_edit_date": 1455752380, "question_id": 35469885, "link": "https://stackoverflow.com/questions/35469885/matplotlib-rearranging-bars-when-plotting-from-dictionary", "title": "matplotlib rearranging bars when plotting from dictionary", "body": "<p>I'm trying to build a barplot from a dictionary using matplotlib but it seems to be rearranging the bars. How can I fix this?</p>\n\n<pre><code>import numpy as np\nimport string\n\nchar_dict = {}\n\nfor char in string.lowercase:\n    char_dict[char] = char_dict.get(char, 0) + np.random.randint(1, 10)\n\nplt.bar(range(len(char_dict)), char_dict.values(), align = 'center')\n_ = plt.xticks(range(len(char_dict)), char_dict.keys())\nplt.margins(0.05, 0)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/RAsyW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RAsyW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["python", "html", "python-2.7", "python-requests"], "answers": [{"comments": [{"owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "edited": false, "score": 0, "creation_date": 1455752275, "post_id": 35469904, "comment_id": 58635438, "body": "that might be true, but for this particular page, the only link of value is the one that says &quot;Apply with your indeed resume&quot;"}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": false, "score": 1, "last_activity_date": 1455752291, "last_edit_date": 1455752291, "creation_date": 1455752083, "answer_id": 35469904, "question_id": 35469803, "link": "https://stackoverflow.com/questions/35469803/requests-module-gets-different-content-than-is-on-the-page/35469904#35469904", "title": "requests module gets different content than is on the page", "body": "<p>First of all, <em>you cannot expect <code>requests</code> bring you the same exact page as you see in the browser developer tools</em> since <code>requests</code> would only retrieve the initial HTML page without executing any javascript, without making any additional requests required to load the page - in other words, <strong><code>requests</code> is not a browser</strong>.</p>\n\n<p>About this particular case, I actually see \"Easily apply\" instead of \"Apply with your Indeed resume\". It looks like you are logged into Indeed in the browser. </p>\n\n<p>And I see these \"Easily apply\" elements in both <code>requests</code> response and in the browser:</p>\n\n<pre><code>&gt;&gt;&gt; import requests\n&gt;&gt;&gt; from bs4 import BeautifulSoup\n&gt;&gt;&gt; \n&gt;&gt;&gt; URL = \"http://www.indeed.com/jobs?q=python&amp;start=740\"\n&gt;&gt;&gt; \n&gt;&gt;&gt; r = requests.get(URL, headers={\"User-Agent\": \"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/48.0.2564.109 Safari/537.36\"})\n&gt;&gt;&gt; content = r.text\n&gt;&gt;&gt; soup = BeautifulSoup(content, \"html.parser\")\n&gt;&gt;&gt; \n&gt;&gt;&gt; for span in soup.find_all(\"span\", class_=\"iaLabel\"):\n...     print(span.text)\n... \n Easily apply\n Easily apply\n Easily apply\n Easily apply\n Easily apply\n</code></pre>\n\n<hr>\n\n<p>If you want to be as close to the browser as possible in your automation, then, well, use a real browser - you can control real browsers like Firefox or Chrome, or headless PhantomJS, via <a href=\"https://selenium-python.readthedocs.org/\" rel=\"nofollow\"><code>selenium</code></a>.</p>\n"}], "owner": {"reputation": 6798, "user_id": 3282434, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/bd87b9229901acfa4c6f754da6bf3655?s=128&d=identicon&r=PG&f=1", "display_name": "codyc4321", "link": "https://stackoverflow.com/users/3282434/codyc4321"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1455752291, "creation_date": 1455751522, "question_id": 35469803, "link": "https://stackoverflow.com/questions/35469803/requests-module-gets-different-content-than-is-on-the-page", "title": "requests module gets different content than is on the page", "body": "<p>I am getting completely different content than viewing source on the page shows:</p>\n\n<pre><code>import requests\nfrom bs4 import BeautifulSoup\n\nURL = \"http://www.indeed.com/jobs?q=python&amp;start=740\"\n\nr = requests.get(URL)\ncontent = r.content\nsoup = BeautifulSoup(content)\n\n\"Apply with\" in content\n\nfor span in spans:\n    try:\n        if \"Apply\" in span.string:\n            print(span.string)\n    except:\n        pass\n</code></pre>\n\n<p>There is no \"Apply\" in the spans, and no \"Apply with\" on the page. The only way I can identify what I want is the \"Apply with\" part</p>\n\n<p><a href=\"https://i.stack.imgur.com/K5vZG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/K5vZG.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/vqTFe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vqTFe.png\" alt=\"enter image description here\"></a>\nHow do I make the requests module return the same html I get when I visit the page? Thank you</p>\n"}, {"tags": ["python", "pandas"], "answers": [{"tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": true, "score": 1, "last_activity_date": 1455752593, "creation_date": 1455752593, "answer_id": 35470016, "question_id": 35469795, "link": "https://stackoverflow.com/questions/35469795/mapping-values-from-series-to-all-elements-in-a-dataframe/35470016#35470016", "title": "Mapping values from series to all elements in a dataframe", "body": "<p>This is a good use case of a <code>lambda</code> function with <code>apply</code> where you map each column in the dataframe.</p>\n\n<pre><code>&gt;&gt;&gt; df.apply(lambda col: col.map(keys))\n      ID1     ID2    ID3\n0  Orange   Brown    NaN\n1    Blue  Purple    NaN\n2   Green     Red  Black\n3   Brown   Green    NaN\n4   Black     NaN    NaN\n</code></pre>\n"}], "owner": {"reputation": 2589, "user_id": 3776938, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d1b19e04e44001cc1ddba3afc2212365?s=128&d=identicon&r=PG&f=1", "display_name": "AJG519", "link": "https://stackoverflow.com/users/3776938/ajg519"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 35470016, "answer_count": 1, "score": 2, "last_activity_date": 1455752593, "creation_date": 1455751486, "last_edit_date": 1455752511, "question_id": 35469795, "link": "https://stackoverflow.com/questions/35469795/mapping-values-from-series-to-all-elements-in-a-dataframe", "title": "Mapping values from series to all elements in a dataframe", "body": "<p>I have something like the following dataframe:</p>\n\n<pre><code>import pandas as pd\nimport numpy as np\n\ndf = pd.DataFrame()\ndf['ID1'] = [0, 1, 4, 6, 7]\ndf['ID2'] = [6, 2, 3, 4, np.nan]\ndf['ID3'] = [np.nan, np.nan, 7, np.nan, np.nan]\n&gt;&gt;&gt; df\n   ID1  ID2  ID3\n0    0    6  NaN\n1    1    2  NaN\n2    4    3    7\n3    6    4  NaN\n4    7  NaN  NaN\n</code></pre>\n\n<p>And the following set of keys:</p>\n\n<pre><code>keys = pd.Series(['Orange', 'Blue', 'Purple', 'Red', 'Green', 'Pink', 'Brown', 'Black'],\n                 name='ID')\n&gt;&gt;&gt; keys\n0    Orange\n1      Blue\n2    Purple\n3       Red\n4     Green\n5      Pink\n6     Brown\n7     Black\nName: ID, dtype: object\n</code></pre>\n\n<p>I want to replace each element in the dataframe with it's appropriate key. I can do this column by column using the 'map function':</p>\n\n<pre><code>&gt;&gt;&gt; df['ID1'].map(keys)\n0    Orange\n1      Blue\n2     Green\n3     Brown\n4     Black\nName: ID1, dtype: object\n</code></pre>\n\n<p>However, how can I do this to my entire dataframe at once? I would think that this is where 'applymap' would come in, but I seem to be using it incorrectly as I get an error message when I try <code>df.applymap(keys)</code>. </p>\n\n<p>Any suggestions on how I can do this?</p>\n"}, {"tags": ["python", "xml", "elementtree"], "answers": [{"comments": [{"owner": {"reputation": 574, "user_id": 5451573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c0ySE.jpg?s=128&g=1", "display_name": "ProgrammingWithRandy", "link": "https://stackoverflow.com/users/5451573/programmingwithrandy"}, "edited": false, "score": 0, "creation_date": 1455752973, "post_id": 35469881, "comment_id": 58635678, "body": "Was not aware of the node.attrib function. While the other answer works, this seems like the best method. I will try them out and pick an answer tomorrow morning, thanks!"}], "tags": [], "owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "is_accepted": false, "score": 4, "last_activity_date": 1455792072, "last_edit_date": 1455792072, "creation_date": 1455751964, "answer_id": 35469881, "question_id": 35469786, "link": "https://stackoverflow.com/questions/35469786/how-to-conditionally-insert-an-attribute-into-a-node-in-python-using-xml-etree-e/35469881#35469881", "title": "How to conditionally insert an attribute into a node in Python using xml.etree.ElementTree", "body": "<p>Just create the element first, and then add the attribute afterwards</p>\n\n<pre><code>node = ET.SubElement(root_node,\"ChildNode1\",Attr1=Attr1,Attr2=Attr2)\nif Attr3 != \"\":\n    node.attrib[\"Attr3\"] = Attr3\n</code></pre>\n\n<p>The same approach can be done with <em>Attr1</em> and <em>Attr2</em> if you are concerned about those being empty.</p>\n\n<p>ElementTree keeps all of the attributes of an element in a dictionary available in the <em>attrib</em> attribute of the object.  The keys are the attribute names and the values are the attribute values.</p>\n"}, {"comments": [{"owner": {"reputation": 574, "user_id": 5451573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c0ySE.jpg?s=128&g=1", "display_name": "ProgrammingWithRandy", "link": "https://stackoverflow.com/users/5451573/programmingwithrandy"}, "edited": false, "score": 0, "creation_date": 1455752707, "post_id": 35469896, "comment_id": 58635575, "body": "The dictionary is a good suggestion though and it should get the job done. I&#39;ll start with an empty dictionary and only append a key-value pair if the value exists. Thanks!"}, {"owner": {"reputation": 574, "user_id": 5451573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c0ySE.jpg?s=128&g=1", "display_name": "ProgrammingWithRandy", "link": "https://stackoverflow.com/users/5451573/programmingwithrandy"}, "edited": false, "score": 0, "creation_date": 1455801866, "post_id": 35469896, "comment_id": 58658892, "body": "Edited answer is what I went with. I like manipulating a dictionary and unloading it all instead of constantly updating the node"}], "tags": [], "owner": {"reputation": 89, "user_id": 4538876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2032056ea7fb1f94106ffba2214f6ee5?s=128&d=identicon&r=PG&f=1", "display_name": "JakeGreen", "link": "https://stackoverflow.com/users/4538876/jakegreen"}, "is_accepted": true, "score": 2, "last_activity_date": 1455752989, "last_edit_date": 1455752989, "creation_date": 1455752035, "answer_id": 35469896, "question_id": 35469786, "link": "https://stackoverflow.com/questions/35469786/how-to-conditionally-insert-an-attribute-into-a-node-in-python-using-xml-etree-e/35469896#35469896", "title": "How to conditionally insert an attribute into a node in Python using xml.etree.ElementTree", "body": "<p>Creating a dictionary is an easy way to manipulate the keyword arguments.</p>\n\n<pre><code>attrs = {}\n\nattrs[\"Attr1\"] = \"stamps\"\nattrs[\"Attr2\"] = \"ghouls\"\nif Attr != \"\":\n    attrs[\"Attr3\"] = Attr\n\nnode = ET.SubElement(root_node, \"ChildNode1\", **attrs)\n</code></pre>\n"}], "owner": {"reputation": 574, "user_id": 5451573, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c0ySE.jpg?s=128&g=1", "display_name": "ProgrammingWithRandy", "link": "https://stackoverflow.com/users/5451573/programmingwithrandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 35469896, "answer_count": 2, "score": 3, "last_activity_date": 1455792072, "creation_date": 1455751457, "question_id": 35469786, "link": "https://stackoverflow.com/questions/35469786/how-to-conditionally-insert-an-attribute-into-a-node-in-python-using-xml-etree-e", "title": "How to conditionally insert an attribute into a node in Python using xml.etree.ElementTree", "body": "<p>I'm building an XML document using Python's xml.etree.ElementTree and am unable to conditionally insert an attribute into a node. Here's an example of my code:</p>\n\n<pre><code>Attr1=\"stamps\"\nAttr2=\"ghouls\"\nAttr3=\"\"   \n\nnode = ET.SubElement(root_node, \"ChildNode1\",\n                         Attr1=Attr1,\n                         Attr2=Attr2,\n                         Attr3=Attr3)\n</code></pre>\n\n<p>Simple enough, output is exactly as expected. However, many XML documents I've seen exclude the attribute entirely if the value is None. How do I do this? Something like:</p>\n\n<pre><code>Attr1=\"stamps\"\nAttr2=\"ghouls\"\nAttr3=\"\"   \n\nnode = ET.SubElement(root_node, \"ChildNode1\",\n                         Attr1=Attr1,\n                         Attr2=Attr2,\n                         (Attr3=Attr3 if Attr != \"\" else pass))\n</code></pre>\n\n<p>But this syntax is not supported by the library. I know I can do an if statement and copy the code over for the entire node minus the conditional value, but I do not want to duplicate code many times over. Is there a quick and easy way to do this using the ElementTree library?</p>\n"}, {"tags": ["python", "numpy", "polynomials", "apple-numbers"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 5942973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c23a9f8376d7a31ebf602a6c0433509?s=128&d=identicon&r=PG&f=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/5942973/wes"}, "edited": false, "score": 0, "creation_date": 1455772555, "post_id": 35470104, "comment_id": 58641551, "body": "You&#39;re right, this is working. I was feeding my y_list the wrong values in my earlier code... Appreciate you pointing that out."}], "tags": [], "owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "is_accepted": true, "score": 0, "last_activity_date": 1455753620, "last_edit_date": 1455753620, "creation_date": 1455753007, "answer_id": 35470104, "question_id": 35469760, "link": "https://stackoverflow.com/questions/35469760/re-creating-polynomial-from-apples-numbers-app-in-python/35470104#35470104", "title": "Re-Creating Polynomial From Apple&#39;s Numbers App in Python", "body": "<p>The results I'm getting with this code are accurate. Maybe if you can post your code we can provide more help.</p>\n\n<pre><code>% x_list = [3.75652173913043, 3.79130434782609, 3.82608695652174]\n% y_list = [0.0872881944444445, 0.0872522935779816, 0.0858840909090909]\n% fit = numpy.polyfit(x_list, y_list, deg=2)\n% y = numpy.poly1d(fit)\n% print y\n         2\n-0.5506 x + 4.155 x - 7.751\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 5942973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c23a9f8376d7a31ebf602a6c0433509?s=128&d=identicon&r=PG&f=1", "display_name": "Wes", "link": "https://stackoverflow.com/users/5942973/wes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 35470104, "answer_count": 1, "score": 0, "last_activity_date": 1462831732, "creation_date": 1455751310, "last_edit_date": 1462831732, "question_id": 35469760, "link": "https://stackoverflow.com/questions/35469760/re-creating-polynomial-from-apples-numbers-app-in-python", "title": "Re-Creating Polynomial From Apple&#39;s Numbers App in Python", "body": "<p>I am currently working on finding polynomial equations to describe data sets (simple tables with one x and one y value) in Python. I need a polynomial equation to describe the data set so that given a number x I can derive it's y value. </p>\n\n<p>If I enter these data sets into Apple's Numbers app and plot them on a graph, I can get a very helpful polynomial equation that predicts my y values very accurately for my purposes. However, when using Numpy to derive a polynomial equation with the same data set, I am given a very different polynomial equation that makes incredibly inaccurate predictions. I want my Python program to create polynomial equations that are much closer to the ones produced by the numbers app.</p>\n\n<p>Some specifics:</p>\n\n<p>My x values (x_list): 3.75652173913043, 3.79130434782609, 3.82608695652174</p>\n\n<p>My y values (y_list): 0.0872881944444445, 0.0872522935779816, 0.0858840909090909</p>\n\n<p>My polynomial from Numbers: y = -0.5506x^2 + 4.1549x - 7.7508</p>\n\n<p>My polynomial from Numpy: y = -7.586x^2 + 57.53x - 108.7</p>\n\n<p>How I'm using Numpy: polynomial = numpy.poly1d(numpy.polyfit(x_list, y_list, deg=2))</p>\n\n<p>My numbers in Python are rounded to 8 decimal points, but I think the discrepancy is too large for it to be a rounding issue.</p>\n\n<p>In short, I am wondering how Numbers would have derived this polynomial vs. how Numpy would have, and how I can replicate the Numbers method, ideally without using Numpy. (I am going to have to translate my program from Python to Swift eventually.)</p>\n"}, {"tags": ["python", "bytecode"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 5873912, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7dd3e12bbb604ea69d5b39e177e55b02?s=128&d=identicon&r=PG&f=1", "display_name": "Kikapi", "link": "https://stackoverflow.com/users/5873912/kikapi"}, "edited": false, "score": 0, "creation_date": 1455752821, "post_id": 35469883, "comment_id": 58635622, "body": "so <code>IMPORT_NAME</code> instruction look for <code>os.pyc</code> file? the module is being identified by its name only? also how python know the position of <code>listdir</code> function bytecode within <code>os.pyc</code> file?"}, {"owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "reply_to_user": {"reputation": 321, "user_id": 5873912, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7dd3e12bbb604ea69d5b39e177e55b02?s=128&d=identicon&r=PG&f=1", "display_name": "Kikapi", "link": "https://stackoverflow.com/users/5873912/kikapi"}, "edited": false, "score": 0, "creation_date": 1455753548, "post_id": 35469883, "comment_id": 58635904, "body": "No, as I explained, <code>IMPORT_NAME</code> looks for <code>os</code> in the global variables. It is there because it was previously imported using the <code>import</code> statement. The way Python knows the location of the <code>listdir</code> function is that it&#39;s in the <code>os</code> module&#39;s namespace, i.e., that module&#39;s globals."}, {"owner": {"reputation": 88499, "user_id": 650405, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5cdee2abea51e91756076032f0053081?s=128&d=identicon&r=PG", "display_name": "Karoly Horvath", "link": "https://stackoverflow.com/users/650405/karoly-horvath"}, "edited": false, "score": 1, "creation_date": 1455753800, "post_id": 35469883, "comment_id": 58635970, "body": "&quot;is merely retrieving this reference from the global variables&quot; - technically, it checks the scopes <a href=\"http://stackoverflow.com/questions/291978/short-description-of-python-scoping-rules\" title=\"short description of python scoping rules\">stackoverflow.com/questions/291978/&hellip;</a> and this case it finds it in the global scope."}], "tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 5, "last_activity_date": 1455816270, "last_edit_date": 1455816270, "creation_date": 1455751966, "answer_id": 35469883, "question_id": 35469722, "link": "https://stackoverflow.com/questions/35469722/the-process-of-calling-python-library-function/35469883#35469883", "title": "The process of calling python library function", "body": "<p>Python's virtual machine is stack-based. References to Python objects are pushed onto the stack, and an opcode pulls one or more of these off, does some operation, and usually pushes the result back on the stack for use by the next opcode.</p>\n\n<p>As an aside, you might find disassembling a simple arithmetic calculation interesting (the operations must be completely reordered to work in this format). Or read up on FORTH; Python's VM is not dissimilar to FORTH's, but the actual FORTH <em>language</em> reflects its VM in a way that Python's does not. Anyway, on with the explanation...</p>\n\n<p>The <code>LOAD_NAME</code> opcode gets a reference to the <code>os</code> object. (It happens to be a module, but it doesn't matter what kind of object it is, it works the same with all kinds of objects.) The reference is placed on top of the stack.</p>\n\n<p>(This doesn't search for or load the module. Python has already imported a reference to <code>os</code> with a previous <code>import</code> statement, and is merely retrieving this reference from the global variables.)</p>\n\n<p>The <code>LOAD_ATTR</code> opcode gets a reference to the <code>listdir</code> object of whatever object is referenced at the top of the stack. (Again, this reference is a function, but that doesn't matter.) The object reference at the top of the stack is popped off and the result of the <code>LOAD_ATTR</code> is pushed on.</p>\n\n<p>The <code>LOAD_CONST</code> opcode gets a reference to the string <code>'.'</code> and pushes it on top of the stack.</p>\n\n<p>Now the <code>CALL_FUNCTION</code> pops 1 reference off the stack. This is the reference to the string <code>'.'</code>, the argument to <code>os.listdir</code>. (It knows to pop 1 reference because the operand of <code>CALL_FUNCTION</code> is 1. If the function took more arguments, there would be more <code>LOAD</code> opcodes and the operand of the <code>CALL_FUNCTION</code> opcode would be higher.) It pops another reference off the stack, which is the reference to the <code>os.listdir</code> function. It then calls the function with the arguments. The return value of the function is then pushed on the stack, where it can be used by further opcodes.</p>\n\n<p>As you have discovered, the names <code>os</code> and <code>listdir</code> are stored in a table, <code>co_names</code>. The operands to the <code>LOAD_NAME</code> and <code>LOAD_ATTR</code> opcodes are indices into this table. The <code>'.'</code> is handled similarly, except it's stored in the <code>co_consts</code> table.</p>\n"}], "owner": {"reputation": 321, "user_id": 5873912, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/7dd3e12bbb604ea69d5b39e177e55b02?s=128&d=identicon&r=PG&f=1", "display_name": "Kikapi", "link": "https://stackoverflow.com/users/5873912/kikapi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1455816270, "creation_date": 1455751101, "question_id": 35469722, "link": "https://stackoverflow.com/questions/35469722/the-process-of-calling-python-library-function", "title": "The process of calling python library function", "body": "<p>I'm trying to understand the process of calling python function, I created simple <code>.pyc</code> file that calls <code>os.listdir('.')</code>,\nI saw that <code>os</code> and <code>listdir</code> are saved in the <code>co_names</code> table, When executing <code>CALL_FUNCTION</code> bytecode instruction, how <code>os</code> library is being identified? is it by its name using the <code>co_names</code> table? is python start searching for module named <code>os.pyc</code>? if so how python knows where is the offset of the bytecode of the function called in the <code>.pyc</code> module?</p>\n\n<p>Thanks.</p>\n\n<p><strong>dis module bytecode snippet</strong></p>\n\n<pre><code>  5          28 LOAD_NAME                0 (os)\n             31 LOAD_ATTR                2 (listdir)\n             34 LOAD_CONST               3 ('.')\n             37 CALL_FUNCTION            1\n</code></pre>\n"}, {"tags": ["python", "matplotlib"], "comments": [{"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1455763008, "post_id": 35469716, "comment_id": 58638736, "body": "Pretty sure it&#39;s a parameter you can change. Have a look at the other parameters for <code>FancyArrowPatch</code>. There&#39;s something that move arrows away from the start and end point for the case where you don&#39;t want it to overlap with text."}, {"owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "reply_to_user": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1455767199, "post_id": 35469716, "comment_id": 58639918, "body": "Thanks! It was &quot;shrink&quot;. The description for that variable is really not very clear at all and I think it really shouldn&#39;t be the default."}, {"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1455769186, "post_id": 35469716, "comment_id": 58640424, "body": "The arrow patches are designed for when you&#39;re adding annotations, and so I don&#39;t think they thought about them much outside of that context."}, {"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1455769208, "post_id": 35469716, "comment_id": 58640432, "body": "By the way, if you have the answer you can post it yourself to mark the question as answered"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "is_accepted": false, "score": 0, "last_activity_date": 1455775573, "creation_date": 1455775573, "answer_id": 35474045, "question_id": 35469716, "link": "https://stackoverflow.com/questions/35469716/fancy-arrow-patch-not-starting-where-i-tell-it-to-start/35474045#35474045", "title": "Fancy arrow patch not starting where I tell it to start", "body": "<p>Thanks to @Jezzamon for pointing out the ShrinkA and ShrinkB inputs. The default for these is set to 2.0, probably meant to make sure the arrow doesn't overlap with another annotation such as text or a shape. I set these to 0.0 and it fixed it! I personally think it shouldn't defaulted to that... but there you go!</p>\n"}], "owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455775573, "creation_date": 1455751071, "last_edit_date": 1455754939, "question_id": 35469716, "link": "https://stackoverflow.com/questions/35469716/fancy-arrow-patch-not-starting-where-i-tell-it-to-start", "title": "Fancy arrow patch not starting where I tell it to start", "body": "<p>I've created my own quiver function in python using matplotlib (The provided quiver plot doesn't satisfy some of my needs, thats not important.) My function is below and I've made it plots little green circles where the arrows are meant to start (image below). The arrows always seem to be offset by the same amount in the direction of where they are pointing. The arrow starting position and the circle position is exactly the same.</p>\n\n<pre><code>def my_own_quiver_function(axis, X_pos, Y_pos, X_val, Y_val):\nstandard_vel = 500000.\nscale_factor = 0.0005\nvels = np.hypot(X_val, Y_val)\nvels = vels/(standard_vel)\nwidths = vels**2.\nwidths = widths.clip(max=1.0)\nfor xp in range(len(X_pos[0])):\n    for yp in range(len(Y_pos[0])):\n        xvel = X_val[xp][yp]*scale_factor\n        yvel = Y_val[xp][yp]*scale_factor\n        width_val = widths[xp][yp]\n        axis.add_patch(mpatches.Circle((X_pos[xp][yp], Y_pos[xp][yp]), radius=0.1, lw=0.5, color='m'))\n        axis.add_patch(mpatches.FancyArrowPatch((X_pos[xp][yp], Y_pos[xp][yp]), (X_pos[xp][yp]+xvel, Y_pos[xp][yp]+yvel), color='w', linewidth=1.*width_val, mutation_scale=30.*width_val,arrowstyle='-&gt;'))\n</code></pre>\n\n<p>Urgh I don't have enough reputation points but the image can be found here: <a href=\"http://imgur.com/S1GywxX\" rel=\"nofollow\">http://imgur.com/S1GywxX</a></p>\n\n<p>It's really frustrating that they quiver looks all wonky because of this.</p>\n\n<p>EDITS:I've tried removing the mutation because the documentation says its squeezes and stretches the arrow, but it doesn't change anything.</p>\n"}, {"tags": ["python", "macos", "diskspace", "icinga"], "comments": [{"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455751692, "post_id": 35469685, "comment_id": 58635206, "body": "Possible duplicate of: <a href=\"http://stackoverflow.com/questions/4260116/find-size-and-free-space-of-the-filesystem-containing-a-given-file\">Find size and free space of the filesystem containing a given file</a>"}, {"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "reply_to_user": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455752730, "post_id": 35469685, "comment_id": 58635586, "body": "Except, as I&#39;ve clearly stated with a link to that question, it&#39;s not. There is nowhere in that question an assumption that we&#39;re using Mac OS X.  As I&#39;ve explicitly stated, I already have a linux solution, which that link explores."}, {"owner": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455752974, "post_id": 35469685, "comment_id": 58635679, "body": "In that case, possible duplicates: <a href=\"http://stackoverflow.com/questions/787776/find-free-disk-space-in-python-on-os-x\">Find free disk space in python on OS/X</a> and <a href=\"http://stackoverflow.com/questions/51658/cross-platform-space-remaining-on-volume-using-python\">Cross-platform space remaining on volume using python</a>"}, {"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "reply_to_user": {"reputation": 52633, "user_id": 3155639, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d254eedd932f950213109aa3706aba74?s=128&d=identicon&r=PG", "display_name": "Alexander O&#39;Mara", "link": "https://stackoverflow.com/users/3155639/alexander-omara"}, "edited": false, "score": 0, "creation_date": 1455753355, "post_id": 35469685, "comment_id": 58635843, "body": "Both of these assume that I already know what the filesystems are. I have to pass the partition in as an arugment.  What I need is something that outputs the partitions themselves so I can use that information in a program like one of these. I can&#39;t discover the partitions by asking a program that first needs me to tell it the partitions to work."}], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 0, "creation_date": 1455753509, "post_id": 35469870, "comment_id": 58635893, "body": "This looks like the most authoritative method, as long as I have a smart enough parser for diskutil - I&#39;ve been bitten a few times when the program output format is changed upstream."}, {"owner": {"reputation": 3223, "user_id": 1048138, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n4v4r.jpg?s=128&g=1", "display_name": "Cripto", "link": "https://stackoverflow.com/users/1048138/cripto"}, "edited": false, "score": 0, "creation_date": 1455756704, "post_id": 35469870, "comment_id": 58636860, "body": "This is interesting, how do you get disk usage with diskutil?"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 3223, "user_id": 1048138, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n4v4r.jpg?s=128&g=1", "display_name": "Cripto", "link": "https://stackoverflow.com/users/1048138/cripto"}, "edited": false, "score": 0, "creation_date": 1455758644, "post_id": 35469870, "comment_id": 58637483, "body": "@Cripto I wasn&#39;t trying to give him disk usage - just answering the question &quot;In Python, how do I get a list of all partitions in Mac OS X?&quot; I gave you an upvote for your answer - it&#39;s definitely the better option for this task."}, {"owner": {"reputation": 3223, "user_id": 1048138, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n4v4r.jpg?s=128&g=1", "display_name": "Cripto", "link": "https://stackoverflow.com/users/1048138/cripto"}, "edited": false, "score": 0, "creation_date": 1455758797, "post_id": 35469870, "comment_id": 58637534, "body": "@wilbur: I got excited and read through the man pages. I wish diskutil had a means of doing this. I needed that in another project because diskutil knows when a disk is encrypted."}, {"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 0, "creation_date": 1456269837, "post_id": 35469870, "comment_id": 58866803, "body": "I&#39;ve marked the other answer as the solution to my particular problem, but this answer is technically the correct answer, which will hopefully be useful for other people looking for the answer to this particular question as well. Thanks!"}, {"owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "reply_to_user": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 0, "creation_date": 1456275206, "post_id": 35469870, "comment_id": 58868695, "body": "@AThomas Yeah, the other answer was far better for what you were trying to do - namely being able to run on both OS X and Linux"}], "tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 2, "last_activity_date": 1455751885, "creation_date": 1455751885, "answer_id": 35469870, "question_id": 35469685, "link": "https://stackoverflow.com/questions/35469685/in-python-how-do-i-get-a-list-of-all-partitions-in-mac-os-x/35469870#35469870", "title": "In Python, how do I get a list of all partitions in Mac OS X?", "body": "<p>I don't believe there is a uniform, cross-platform way to do this but you can use the <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\"><code>subprocess</code></a> module and call the command <code>$ diskutil list</code> like this for OS X</p>\n\n<pre><code>import subprocess\np = subprocess.Popen(['diskutil', 'list'], stdout=subprocess.PIPE)\no = p.stdout.read()\n</code></pre>\n\n<p><code>o</code> will contain the output of the <code>diskutil</code> command.</p>\n"}, {"comments": [{"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 0, "creation_date": 1455753245, "post_id": 35470121, "comment_id": 58635798, "body": "Thanks, I&#39;ll try this; I&#39;ll probably prefer to parse in python rather than awk though."}, {"owner": {"reputation": 3223, "user_id": 1048138, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n4v4r.jpg?s=128&g=1", "display_name": "Cripto", "link": "https://stackoverflow.com/users/1048138/cripto"}, "reply_to_user": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 1, "creation_date": 1455755229, "post_id": 35470121, "comment_id": 58636406, "body": "@AThomas: You&#39;re right. It&#39;s better to parse it manually; mostly because <code>shell=True </code> is unsafe and a security risk. I&#39;ve updated my answer"}, {"owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "edited": false, "score": 1, "creation_date": 1456269786, "post_id": 35470121, "comment_id": 58866772, "body": "I&#39;ll mark this as the solution, because it&#39;s what I&#39;ve decided to use for my problem, but the other answer technically answers the initial question, which will be useful for people looking for that solution too."}], "tags": [], "owner": {"reputation": 3223, "user_id": 1048138, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/n4v4r.jpg?s=128&g=1", "display_name": "Cripto", "link": "https://stackoverflow.com/users/1048138/cripto"}, "is_accepted": true, "score": 4, "last_activity_date": 1455756553, "last_edit_date": 1455756553, "creation_date": 1455753136, "answer_id": 35470121, "question_id": 35469685, "link": "https://stackoverflow.com/questions/35469685/in-python-how-do-i-get-a-list-of-all-partitions-in-mac-os-x/35470121#35470121", "title": "In Python, how do I get a list of all partitions in Mac OS X?", "body": "<p>Since you want a cross platform (Mac and Linux) option, you can use the <a href=\"http://linux.die.net/man/1/df\" rel=\"nofollow\">df</a> command which is available on both platforms. You can access it through <a href=\"https://docs.python.org/2/library/subprocess.html\" rel=\"nofollow\">subprocess</a>.</p>\n\n<p>I've tested this for both OS X 10.11 and Ubuntu Linux 15</p>\n\n<pre><code>import subprocess\n\nprocess = subprocess.Popen(['df -h | awk \\'{print $(NF-1),$NF}\\''], stdout=subprocess.PIPE, shell=True)\nout, err = process.communicate()\nout = out.splitlines()[1:] # grab all the lines except the header line\nresults = {}\nfor i in out:\n    tmp = i.split(' ')\n    results[tmp[1]] = tmp[0]\n\nfor key, value in results.items():\n    print key + \" is \" + str(value) +\" full\"\n</code></pre>\n\n<p><strong>Output on Mac</strong></p>\n\n<pre><code>/dev is 100% full\n/net is 100% full\n/ is 82% full\n/home is 100% full\n</code></pre>\n\n<p><strong>Output on Linux</strong></p>\n\n<pre><code>/dev is 1% full\n/run/lock is 0% full\n/run is 1% full\n/ is 48% full\n</code></pre>\n\n<p>Here is how you can do it without <code>awk</code></p>\n\n<pre><code>import subprocess\n\nprocess = subprocess.Popen(['df', '-h'], stdout=subprocess.PIPE)\nout, err = process.communicate()\nout = out.splitlines()[1:] # grab all the lines except the header line\n\nfor i in out:\n    tmp = i.split(' ')\n    tmp2 = []\n    for x in tmp:\n        if x != '':\n            tmp2.append(x)\n    print tmp2[-1] + \" is \" + tmp2[-2] + \" full\" \n</code></pre>\n"}], "owner": {"reputation": 70, "user_id": 3525428, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iK2nO.jpg?s=128&g=1", "display_name": "Mercury00", "link": "https://stackoverflow.com/users/3525428/mercury00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1858, "favorite_count": 0, "accepted_answer_id": 35470121, "answer_count": 2, "score": 1, "last_activity_date": 1455756553, "creation_date": 1455750900, "last_edit_date": 1495541740, "question_id": 35469685, "link": "https://stackoverflow.com/questions/35469685/in-python-how-do-i-get-a-list-of-all-partitions-in-mac-os-x", "title": "In Python, how do I get a list of all partitions in Mac OS X?", "body": "<p>I have a similar question to the one asked here: <a href=\"https://stackoverflow.com/questions/4260116/find-size-and-free-space-of-the-filesystem-containing-a-given-file\">Find size and free space of the filesystem containing a given file</a>, but that question assumes you already know something about the system.</p>\n\n<p>I have a task: for an undetermined number of machines, including new ones that are deployed regularly, I have/need a python script that can report to me if any of the partitions are too full. (Yes, it's deployed by icinga2).</p>\n\n<p>What I don't do is hand craft and personalize the arguments to the script for every machine to inform it of the partitions I want checked; I run the script and it just reports to me on all of the extant partitions on the system. I let the system itself be the authority on itself rather than externally define what partitions to check. This works okay in linux, and as the answer linked above shows, in linux we can parse a file in /proc to get an authoritative list.</p>\n\n<p>But what I'm lacking is a way to get a reliable list of partitions in Mac OS X from python.</p>\n\n<p>Mac OS X doesn't have /proc, so parsing that won't work. I'd rather not call on an external binary, as my goal is to build my python script to run on both linux and mac clients. Any ideas?</p>\n"}, {"tags": ["python", "matlab", "matlab-compiler"], "comments": [{"owner": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1455750924, "post_id": 35469660, "comment_id": 58634901, "body": "Have you tried using the absolute path?"}, {"owner": {"reputation": 35987, "user_id": 2732801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YEZ8S.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2732801/daniel"}, "edited": false, "score": 0, "creation_date": 1455753091, "post_id": 35469660, "comment_id": 58635729, "body": "@user5797292: Please put the complete error message into your question."}, {"owner": {"reputation": 35987, "user_id": 2732801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YEZ8S.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2732801/daniel"}, "reply_to_user": {"reputation": 19955, "user_id": 101087, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/646f0fa3075659904242cf6f576ed2e9?s=128&d=identicon&r=PG", "display_name": "NineBerry", "link": "https://stackoverflow.com/users/101087/nineberry"}, "edited": false, "score": 0, "creation_date": 1455753162, "post_id": 35469660, "comment_id": 58635759, "body": "@NineBerry: The path is probably right, otherwise it would not start searching for the Matlab Compiler Runtime (MCR). Searching for the runtime is done by the executable created with the Matlab Compiler."}, {"owner": {"reputation": 174, "user_id": 1287849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4baa4479a9b950bbaedbebea733be33?s=128&d=identicon&r=PG", "display_name": "durasm", "link": "https://stackoverflow.com/users/1287849/durasm"}, "edited": false, "score": 0, "creation_date": 1455790287, "post_id": 35469660, "comment_id": 58650902, "body": "@user5797292: Try to start application.exe from the same command prompt from which you start python. Does application.exe start?"}, {"owner": {"reputation": 51, "user_id": 5797292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf627b75e5899f6ab5fc282aa9bdbcf?s=128&d=identicon&r=PG&f=1", "display_name": "user5797292", "link": "https://stackoverflow.com/users/5797292/user5797292"}, "reply_to_user": {"reputation": 174, "user_id": 1287849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4baa4479a9b950bbaedbebea733be33?s=128&d=identicon&r=PG", "display_name": "durasm", "link": "https://stackoverflow.com/users/1287849/durasm"}, "edited": false, "score": 0, "creation_date": 1455803276, "post_id": 35469660, "comment_id": 58659881, "body": "@durasm Yes, I can run application.exe from the command line and via a batch file."}, {"owner": {"reputation": 35987, "user_id": 2732801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YEZ8S.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/2732801/daniel"}, "edited": false, "score": 0, "creation_date": 1455804453, "post_id": 35469660, "comment_id": 58660783, "body": "MCR is searched using the &quot;path&quot; environment variable. I don&#39;t know how python behaves when creating a process, but I assume it is lost for some reason."}, {"owner": {"reputation": 174, "user_id": 1287849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4baa4479a9b950bbaedbebea733be33?s=128&d=identicon&r=PG", "display_name": "durasm", "link": "https://stackoverflow.com/users/1287849/durasm"}, "edited": false, "score": 0, "creation_date": 1455806693, "post_id": 35469660, "comment_id": 58662535, "body": "@user5797292: Print out env. PATH variable from PYTHON script and check if MCR is there."}, {"owner": {"reputation": 51, "user_id": 5797292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf627b75e5899f6ab5fc282aa9bdbcf?s=128&d=identicon&r=PG&f=1", "display_name": "user5797292", "link": "https://stackoverflow.com/users/5797292/user5797292"}, "edited": false, "score": 0, "creation_date": 1455811849, "post_id": 35469660, "comment_id": 58666541, "body": "Thank you all for the suggestions, I was able to solve the problem with your help. It appears that Python was not correctly interpreting my environment variables and I needed to add the MCR to the     os.environ([&#39;PATH&#39;])"}], "owner": {"reputation": 51, "user_id": 5797292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cf627b75e5899f6ab5fc282aa9bdbcf?s=128&d=identicon&r=PG&f=1", "display_name": "user5797292", "link": "https://stackoverflow.com/users/5797292/user5797292"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 614, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1455803109, "creation_date": 1455750755, "last_edit_date": 1455803109, "question_id": 35469660, "link": "https://stackoverflow.com/questions/35469660/why-cant-i-run-matlab-executable-from-python", "title": "Why can&#39;t I run Matlab executable from Python?", "body": "<p>I have a Matlab executable and MCR from someone else. I can run the executable just fine by double clicking and through a batch script. However, when I try to run the executable within Python I get an error telling me it can't find the MCR. Here are the calls I have tried:</p>\n\n<pre><code>os.system('application.exe')\nsubprocess.Popen(['application.exe'])\nsubprocess.call(['application.exe'])\n</code></pre>\n\n<p>As requested, here is the complete error message, it comes from application.exe and not from Python.</p>\n\n<blockquote>\n  <p>Could not find version 7.15 of the MCR.\n      Attempting to load mclmcrrt7_15.dll.\n      Please install the correct version of the MCR.\n      Contact your vendor if you do not have an installer for the MCR.</p>\n</blockquote>\n\n<p>I guess I should also mention I am using Python 3.5 and application.exe was compiled with R2011a. I am using PyCharm for my Python development.</p>\n\n<p>Any help resolving this would be greatly appreciated! This is also a bit time sensitive, so the sooner the better :)</p>\n\n<p>Thanks in advance,</p>\n\n<p>Aaron</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1455750705, "post_id": 35469611, "comment_id": 58634815, "body": "Please provide the full traceback."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1455751297, "post_id": 35469611, "comment_id": 58635057, "body": "At the top of function <code>xturn</code> just put <code>global of</code>. This will fix it but consider making the game class instead and having all these as member variables."}, {"owner": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "edited": false, "score": 0, "creation_date": 1455752286, "post_id": 35469611, "comment_id": 58635439, "body": "Thank you very much, this worked."}, {"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1455753251, "post_id": 35469611, "comment_id": 58635800, "body": "It worked but you will have the same issues with the other variables. You should consider making your game a class and containing all these values within the class."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "edited": false, "score": 0, "creation_date": 1455751255, "post_id": 35469693, "comment_id": 58635036, "body": "Thanks but, as I cannot state the variable&#39;s value in the definitions (as this would break the game) how might I be able to fix this?"}], "tags": [], "owner": {"reputation": 6568, "user_id": 5276734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxwnY.png?s=128&g=1", "display_name": "bastelflp", "link": "https://stackoverflow.com/users/5276734/bastelflp"}, "is_accepted": false, "score": 0, "last_activity_date": 1455750935, "creation_date": 1455750935, "answer_id": 35469693, "question_id": 35469611, "link": "https://stackoverflow.com/questions/35469611/python-3-3-unboundlocalerror-local-variable-referenced-before-assignment/35469693#35469693", "title": "Python (3.3): UnboundLocalError: local variable referenced before assignment", "body": "<p>In your function <code>xturn</code> you use the variable <code>of</code> which is not declared / known in that scope, thus the error. </p>\n\n<p>If you look at the stack trace:</p>\n\n<pre><code>Traceback (most recent call last):\n  File \"D:/Projekte/Python/snakes35/blabla.py\", line 141, in &lt;module&gt;\n    ocheck(1)\n  File \"D:/Projekte/Python/snakes35/blabla.py\", line 138, in ocheck\n    xturn(1)\n  File \"D:/Projekte/Python/snakes35/blabla.py\", line 33, in xturn\n    if goo in \"1,4\" and of not in \"o\":\nUnboundLocalError: local variable 'of' referenced before assignment\n</code></pre>\n\n<p>you can figure that out via looking at the lines in your file, where the error ocures.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "edited": false, "score": 0, "creation_date": 1455751290, "post_id": 35469707, "comment_id": 58635053, "body": "Ok, thank you. So, should I put the definitions above the statements?"}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "edited": false, "score": 0, "creation_date": 1455752245, "post_id": 35469707, "comment_id": 58635429, "body": "It&#39;s not as simple as shuffling blocks of code.  You have several structural and data-type problems in your code.  This is why I recommended incremental development."}, {"owner": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "edited": false, "score": 0, "creation_date": 1455851528, "post_id": 35469707, "comment_id": 58685491, "body": "Thanks you very much, I did all globals in seperate lines with no idea that you could put them all seperated with commas."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": true, "score": 2, "last_activity_date": 1455752575, "last_edit_date": 1455752575, "creation_date": 1455751002, "answer_id": 35469707, "question_id": 35469611, "link": "https://stackoverflow.com/questions/35469611/python-3-3-unboundlocalerror-local-variable-referenced-before-assignment/35469707#35469707", "title": "Python (3.3): UnboundLocalError: local variable referenced before assignment", "body": "<p>Variable <strong>of</strong> (and all the other 2-letter variables) are not available in function <strong>xturn</strong>.</p>\n\n<p>I strongly recommend that you use incremental programming: write a few lines of code, get those working, and then enlarge your program.  This allows you to zero in on errors quite easily.  Any time I attack a new style of programming, I find this quite useful.  It appears that you're new to some of the techniques you're using here.</p>\n\n<p>For instance, you're using <strong>in</strong> instead of <strong>==</strong> for comparisons.  This is not going to work well as a general principle.</p>\n\n<p>Declare your functions <em>before</em> the main program.  The way you wrote this, you're redefining your functions every time you go through the loop.  Moving functions to the top will cure you of many variable scoping problems, too.</p>\n\n<p>Learn to use Boolean values and variables.  Your loops should look like this:</p>\n\n<pre><code>while True:\n    cont = True\n    while cont:\n</code></pre>\n\n<hr>\n\n<p>You make variables available by passing them as arguments to the function.  I can see that you're new to this, because you've given this function a parameter <strong>x</strong> that you never use.</p>\n\n<p>Overall, you should not have 9 variables: you should have a list, and then just pass the entire list as the current state of the game board.  If you number the squares 0-8, you can easily work with the board in that respect.</p>\n\n<hr>\n\n<p>To solve the immediate problem, you can add this line to each of your routines:</p>\n\n<pre><code>global of,tf,rf,ov,tv,rv,os,ts,rs\n</code></pre>\n\n<p>This will make the variables available.  I see that @Thomas has pointed this out.</p>\n\n<p>Still, I encourage you to work on designing this more cleanly.  Using global variables is generally bad design.  Also, notice how much code you have to duplicate for this program?  It <em>should</em> be a lot easier.</p>\n"}, {"tags": [], "owner": {"reputation": 4515, "user_id": 5927417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b72bc081e7911a7a007003e0da3da78?s=128&d=identicon&r=PG", "display_name": "Thomas Lotze", "link": "https://stackoverflow.com/users/5927417/thomas-lotze"}, "is_accepted": false, "score": 2, "last_activity_date": 1455751311, "creation_date": 1455751311, "answer_id": 35469761, "question_id": 35469611, "link": "https://stackoverflow.com/questions/35469611/python-3-3-unboundlocalerror-local-variable-referenced-before-assignment/35469761#35469761", "title": "Python (3.3): UnboundLocalError: local variable referenced before assignment", "body": "<p>Accessing a variable inside one of your functions will basically work even if the variable is defined only in an outside scope. But in your <code>xturn</code> function, you have a line that assigns to <code>of</code>. It doesn't matter whether this line has been executed before the error occurs; its mere existence anywhere inside the function causes the Python interpreter to treat it as a local variable. Therefore, when accessing it in the <code>if</code> clause, Python tries to access a local variable <code>of</code> and now it does matter that such a local variable hasn't been assigned up until that point.</p>\n"}], "owner": {"reputation": 93, "user_id": 5154465, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/8a31d38a8e0b2f1b9a3be56dc0ced6e1?s=128&d=identicon&r=PG&f=1", "display_name": "qwerty77asdf", "link": "https://stackoverflow.com/users/5154465/qwerty77asdf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3350, "favorite_count": 0, "accepted_answer_id": 35469707, "answer_count": 3, "score": 1, "last_activity_date": 1574932286, "creation_date": 1455750560, "last_edit_date": 1574932286, "question_id": 35469611, "link": "https://stackoverflow.com/questions/35469611/python-3-3-unboundlocalerror-local-variable-referenced-before-assignment", "title": "Python (3.3): UnboundLocalError: local variable referenced before assignment", "body": "<p>Whenever I start my game and let's say for example I enter 1,4 as the grid reference it will reply with </p>\n\n<blockquote>\n  <p>\"UnboundLocalError: local variable 'of' referenced before assignment\"</p>\n</blockquote>\n\n<p>How can I fix this?</p>\n\n<p>Code (edited to for brevity):    </p>\n\n<pre><code>import time\nwhile 1==1:\n    cont=1\n    while cont==1:\n\n        of=\"-\"\n        tf=\"-\"\n        rf=\"-\"\n        ov=\"-\"\n        tv=\"-\"\n        rv=\"-\"\n        os=\"-\"\n        ts=\"-\"\n        rs=\"-\"\n        go=1\n...\n</code></pre>\n"}, {"tags": ["python", "scipy", "interpolation"], "comments": [{"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1455753759, "post_id": 35469546, "comment_id": 58635959, "body": "It would help to add the <a href=\"https://stackoverflow.com/questions/tagged/python\">python</a> and <a href=\"https://stackoverflow.com/questions/tagged/scipy\">scipy</a> tags."}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1455826397, "post_id": 35469546, "comment_id": 58675704, "body": "Sorry, I thought this would get more response. I&#39;m not really a Python guy, but <a href=\"http://stackoverflow.com/questions/3526514/problem-with-2d-interpolation-in-scipy-non-rectangular-grid\">this</a> seems to suggest that <code>griddata</code> uses natural neighbor interpolation."}, {"owner": {"reputation": 144, "user_id": 5453824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/atPsu.jpg?s=128&g=1", "display_name": "SBFRF", "link": "https://stackoverflow.com/users/5453824/sbfrf"}, "reply_to_user": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1456516099, "post_id": 35469546, "comment_id": 59000999, "body": "hmmmm nothing still.  I&#39;ve found the griddata built off the NGL libraries.  I have yet to try it.  then there is the arcGIS arcpy library, that also i have not tried.  When i do i will update"}, {"owner": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1456671075, "post_id": 35469546, "comment_id": 59045319, "body": "I suggest you edit what you&#39;ve tried into your question. That will bump it back onto the front page where hopefully someone who can help will see it."}, {"owner": {"reputation": 144, "user_id": 5453824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/atPsu.jpg?s=128&g=1", "display_name": "SBFRF", "link": "https://stackoverflow.com/users/5453824/sbfrf"}, "reply_to_user": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1458916285, "post_id": 35469546, "comment_id": 60075146, "body": "well for those interested, i found a library in arcGIS using arcpy, there&#39;s also an opensource natural neighbor library called PyNGL.  This library produced the same surface as the arcpy with some different edge effects.  <a href=\"http://www.pyngl.ucar.edu/Download/\" rel=\"nofollow noreferrer\">pyngl.ucar.edu/Download</a>"}, {"owner": {"reputation": 144, "user_id": 5453824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/atPsu.jpg?s=128&g=1", "display_name": "SBFRF", "link": "https://stackoverflow.com/users/5453824/sbfrf"}, "reply_to_user": {"reputation": 14828, "user_id": 1377097, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFG0R.png?s=128&g=1", "display_name": "beaker", "link": "https://stackoverflow.com/users/1377097/beaker"}, "edited": false, "score": 0, "creation_date": 1491579570, "post_id": 35469546, "comment_id": 73632345, "body": "There&#39;s also one in the python MetPy package <a href=\"https://github.com/Unidata/MetPy\" rel=\"nofollow noreferrer\">github.com/Unidata/MetPy</a>"}], "answers": [{"comments": [{"owner": {"reputation": 981, "user_id": 2227222, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d80812002213736d9576158000e84d98?s=128&d=identicon&r=PG", "display_name": "Hans", "link": "https://stackoverflow.com/users/2227222/hans"}, "edited": false, "score": 0, "creation_date": 1543695938, "post_id": 48647164, "comment_id": 94013661, "body": "Is there a Python code for geometric rather than discrete natural neighbour interpolation?"}, {"owner": {"reputation": 2101, "user_id": 1146963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb4f122c5cec05c5e41210aa0df021a9?s=128&d=identicon&r=PG", "display_name": "jdg", "link": "https://stackoverflow.com/users/1146963/jdg"}, "reply_to_user": {"reputation": 981, "user_id": 2227222, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d80812002213736d9576158000e84d98?s=128&d=identicon&r=PG", "display_name": "Hans", "link": "https://stackoverflow.com/users/2227222/hans"}, "edited": false, "score": 0, "creation_date": 1543784534, "post_id": 48647164, "comment_id": 94032631, "body": "I am not aware of a 3D implementation of the geometric natural neighbor in python."}, {"owner": {"reputation": 981, "user_id": 2227222, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/d80812002213736d9576158000e84d98?s=128&d=identicon&r=PG", "display_name": "Hans", "link": "https://stackoverflow.com/users/2227222/hans"}, "edited": false, "score": 1, "creation_date": 1543787894, "post_id": 48647164, "comment_id": 94033487, "body": "How about a 2D and geometric implementation?"}], "tags": [], "owner": {"reputation": 2101, "user_id": 1146963, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb4f122c5cec05c5e41210aa0df021a9?s=128&d=identicon&r=PG", "display_name": "jdg", "link": "https://stackoverflow.com/users/1146963/jdg"}, "is_accepted": false, "score": 2, "last_activity_date": 1517933099, "creation_date": 1517933099, "answer_id": 48647164, "question_id": 35469546, "link": "https://stackoverflow.com/questions/35469546/where-to-find-natural-neighbor-interpolation-in-python/48647164#48647164", "title": "Where to find Natural neighbor interpolation in python", "body": "<p>Here is a 3D discrete natural neighbor implementation:</p>\n\n<p><a href=\"https://github.com/innolitics/natural-neighbor-interpolation\" rel=\"nofollow noreferrer\">https://github.com/innolitics/natural-neighbor-interpolation</a></p>\n\n<p>Note that the \"discrete\" is important here; it is an approximation of the true geometric natural neighbor.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wsRpc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wsRpc.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 144, "user_id": 5453824, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/atPsu.jpg?s=128&g=1", "display_name": "SBFRF", "link": "https://stackoverflow.com/users/5453824/sbfrf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2439, "favorite_count": 1, "closed_date": 1517934426, "answer_count": 1, "score": 5, "last_activity_date": 1517933099, "creation_date": 1455750243, "last_edit_date": 1455802021, "question_id": 35469546, "link": "https://stackoverflow.com/questions/35469546/where-to-find-natural-neighbor-interpolation-in-python", "closed_reason": "Not suitable for this site", "title": "Where to find Natural neighbor interpolation in python", "body": "<p>Does anyone know of any tools to do a natural neighbor interpolation in python?  unless i'm being stupid, i can't seem to find it in the scipy.interpolate module </p>\n"}, {"tags": ["python", "beautifulsoup", "python-requests"], "comments": [{"owner": {"reputation": 4505, "user_id": 3626961, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100001104558583/picture?type=large", "display_name": "titipata", "link": "https://stackoverflow.com/users/3626961/titipata"}, "edited": false, "score": 0, "creation_date": 1455754641, "post_id": 35469540, "comment_id": 58636217, "body": "They probably block the page from scraping."}], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 5942968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0b8706d9c1d2d3a7b3b73aa12150713f?s=128&d=identicon&r=PG&f=1", "display_name": "Monkey D Luffy", "link": "https://stackoverflow.com/users/5942968/monkey-d-luffy"}, "edited": false, "score": 0, "creation_date": 1455759658, "post_id": 35470562, "comment_id": 58637841, "body": "Walid, I tried the same exact code and it did not work  for me. It says             &quot;return codecs.charmap_encode(input,self.errors,encoding_table)[0] UnicodeEncodeError: &#39;charmap&#39; codec can&#39;t encode character &#39;\\u2261&#39; in position 15463: character maps to &lt;undefined&gt;&quot;"}, {"owner": {"reputation": 751, "user_id": 2446067, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ede1b414d6051c9d312c1a9fa5808e9f?s=128&d=identicon&r=PG", "display_name": "Walid Saad", "link": "https://stackoverflow.com/users/2446067/walid-saad"}, "reply_to_user": {"reputation": 84, "user_id": 5942968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0b8706d9c1d2d3a7b3b73aa12150713f?s=128&d=identicon&r=PG&f=1", "display_name": "Monkey D Luffy", "link": "https://stackoverflow.com/users/5942968/monkey-d-luffy"}, "edited": false, "score": 0, "creation_date": 1455761723, "post_id": 35470562, "comment_id": 58638431, "body": "check this answer <a href=\"http://stackoverflow.com/questions/27092833/unicodeencodeerror-charmap-codec-cant-encode-characters?rq=1\" title=\"unicodeencodeerror charmap codec cant encode characters\">stackoverflow.com/questions/27092833/&hellip;</a>"}], "tags": [], "owner": {"reputation": 751, "user_id": 2446067, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/ede1b414d6051c9d312c1a9fa5808e9f?s=128&d=identicon&r=PG", "display_name": "Walid Saad", "link": "https://stackoverflow.com/users/2446067/walid-saad"}, "is_accepted": true, "score": 4, "last_activity_date": 1455755612, "creation_date": 1455755612, "answer_id": 35470562, "question_id": 35469540, "link": "https://stackoverflow.com/questions/35469540/scraping-using-beautiful-soup-not-working-for-a-particular-url-as-expected/35470562#35470562", "title": "Scraping using beautiful soup not working for a particular URL as expected", "body": "<p>You should use a user-agent to make the website think the request comes from a browser. This worked for me:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\n\nheaders = {'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/47.0.2526.106 Safari/537.36'}\nr=requests.get('http://www.transfermarkt.com/arsenalfc/startseite/verein/11/saison_id/2015', headers=headers)\nsoup = BeautifulSoup(r.content, 'html.parser')\nprint(soup.prettify())\n</code></pre>\n"}], "owner": {"reputation": 84, "user_id": 5942968, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/0b8706d9c1d2d3a7b3b73aa12150713f?s=128&d=identicon&r=PG&f=1", "display_name": "Monkey D Luffy", "link": "https://stackoverflow.com/users/5942968/monkey-d-luffy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2731, "favorite_count": 0, "accepted_answer_id": 35470562, "answer_count": 1, "score": 0, "last_activity_date": 1581189254, "creation_date": 1455750230, "question_id": 35469540, "link": "https://stackoverflow.com/questions/35469540/scraping-using-beautiful-soup-not-working-for-a-particular-url-as-expected", "title": "Scraping using beautiful soup not working for a particular URL as expected", "body": "<p>I was trying to scrape some data off from a site using beautifulsoup on python 3.5(i'm working on eclipse) and requests from the site '<a href=\"http://www.transfermarkt.com/arsenal-fc/startseite/verein/11/saison_id/2015\" rel=\"nofollow\">http://www.transfermarkt.com/arsenal-fc/startseite/verein/11/saison_id/2015</a>'\nwhich has some stats for footballers. </p>\n\n<p>my code:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport requests\nr=requests.get('http://www.transfermarkt.com/arsenalfc/startseite/verein/11/saison_id/2015')\nsoup = BeautifulSoup(r.content, 'html.parser')\nprint (soup.prettify())\n</code></pre>\n\n<p>I expect a neat and pretty looking html code but all i get as output is this:</p>\n\n<pre><code>&lt;html&gt;\n &lt;head&gt;\n  &lt;title&gt;\n   404 Not Found\n  &lt;/title&gt;\n &lt;/head&gt;\n &lt;body bgcolor=\"white\"&gt;\n  &lt;center&gt;\n   &lt;h1&gt;\n    404 Not Found\n   &lt;/h1&gt;\n  &lt;/center&gt;\n  &lt;hr&gt;\n   &lt;center&gt;\n    nginx\n   &lt;/center&gt;\n  &lt;/hr&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>For a different url it works. I have tried a couple of other url's and it worked. But not for this one. Am I doing something wrong. Any suggestion is appreciated. Thanks</p>\n"}, {"tags": ["python", "dynamic-programming", "knapsack-problem"], "comments": [{"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 1, "creation_date": 1455750632, "post_id": 35469525, "comment_id": 58634780, "body": "You might get a better reception here if you post details on how this is not finding the global optimum, as well as a couple of links to the algorithms you&#39;re trying to read (even better if you post a particular algorithm and your partial implementation).  As it stands, your question smells like you might be asking us to do your homework."}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455752189, "post_id": 35469525, "comment_id": 58635408, "body": "This is a practical problem I&#39;m trying to solve.  The use case is fantasy golf.  I&#39;m in a salaried league and the knapsack problem with k-exact items constraint is perfect for helping me select my team.  I posted my implementation it&#39;s the exact same code as in the link but with the modifications I documented here.  As it SMELLS to me you don&#39;t know the answer.  So thanks anyway."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455753332, "post_id": 35469525, "comment_id": 58635834, "body": "I was just letting you know what appears to turn people off on StackOverflow.  I&#39;m not the latest expert on the knapsack problem by any means.  I&#39;m trying to gather enough understanding of your situation to decide whether it&#39;s time for me to dive back into the paradigm.  Thanks for the clarifications: knowing the boundaries will help."}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455759728, "post_id": 35469525, "comment_id": 58637864, "body": "OK fair enough, but I found the delivery insulting.  Either way I don&#39;t mind I&#39;m just trying to get my model working and hopefully gain a little understanding.  This is the link I was referring to with some insight <a href=\"http://cs.stackexchange.com/questions/18492/variant-of-the-knapsack-problem\" title=\"variant of the knapsack problem\">cs.stackexchange.com/questions/18492/&hellip;</a>"}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455760328, "post_id": 35469525, "comment_id": 58638072, "body": "His notation for  T,i,j = max{Tij-1,Tiwjj-1 + vj} maps directly to what I have in the code now.  However, I&#39;m having trouble wrapping my head around the solution I want:   T,i,j,k = max{Tij-1,k, Tiwjj-1,k + vj} and putting it into code."}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455760954, "post_id": 35469525, "comment_id": 58638251, "body": "My quick rough interpretation of the notation should actually be  T,i,j = max{Tij-1,Ti-wjj-1 + vj}  and T,i,j,k = max{Tij-1,k, Ti-wjj-1,k + vj} I typed it incorrectly up there.  Either way if you read the discussion it&#39;s clear what I&#39;m after."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455761847, "post_id": 35469525, "comment_id": 58638461, "body": "Thanks for the extra help on the notation.  I wasn&#39;t intending to be insulting -- I was trying to guide you <i>away</i> from that area to retain people who might help.  Now that I&#39;ve had a little time to scan the link you sent ... <i>very</i> cool!  I totally missed the factor that keeps this from being a simple backtrack."}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "reply_to_user": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "edited": false, "score": 0, "creation_date": 1455764277, "post_id": 35469525, "comment_id": 58639079, "body": "It&#39;s all good.  I&#39;m just trying to get &quot;to the bottom&quot; so to speak :)"}, {"owner": {"reputation": 1713, "user_id": 2955869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NtWpN.jpg?s=128&g=1", "display_name": "uSeemSurprised", "link": "https://stackoverflow.com/users/2955869/useemsurprised"}, "edited": false, "score": 0, "creation_date": 1455789678, "post_id": 35469525, "comment_id": 58650462, "body": "There should be a third dimension in the dp."}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "edited": false, "score": 0, "creation_date": 1455813564, "post_id": 35479808, "comment_id": 58667882, "body": "Thank you!  And this will run even faster than the Python implementation.  Respect."}, {"owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "edited": false, "score": 0, "creation_date": 1455843735, "post_id": 35479808, "comment_id": 58683376, "body": "Sure just did.  I wanted to modify the code and test with my data.  It worked as expected.  Thx again."}], "tags": [], "owner": {"reputation": 1713, "user_id": 2955869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NtWpN.jpg?s=128&g=1", "display_name": "uSeemSurprised", "link": "https://stackoverflow.com/users/2955869/useemsurprised"}, "is_accepted": true, "score": 3, "last_activity_date": 1455793911, "creation_date": 1455793911, "answer_id": 35479808, "question_id": 35469525, "link": "https://stackoverflow.com/questions/35469525/dynamic-programming-knapsack-k-exact-items/35479808#35479808", "title": "Dynamic Programming Knapsack K-exact items", "body": "<p>As i stated in the comment above a third dimension is required, i have written a recursive dynamic programming solution :</p>\n\n<pre><code>#include&lt;bits/stdc++.h&gt;\n\nusing namespace std;\n\nint noOfItems, items[100], maxWeight, maxItems, value[100];\nint dp[100][1000][100];\n\nint solve(int idx, int currentWeight, int itemsLeft){\n    if(idx == noOfItems || itemsLeft == 0) return 0;\n    if(dp[idx][currentWeight][itemsLeft] != -1) return dp[idx][currentWeight][itemsLeft];\n    int v1 = 0, v2 = 0;\n    //try to included the current item\n    if(currentWeight &gt;= items[idx]) v1 = solve(idx+1, currentWeight-items[idx], itemsLeft-1) + value[idx];\n    //exclude current item\n    v2 = solve(idx+1, currentWeight, itemsLeft);\n    return dp[idx][currentWeight][itemsLeft] = max(v1, v2);\n}\n\n//print the contents of the knapsack\nvoid print(int idx, int currentWeight, int itemsLeft){\n    if(idx == noOfItems || itemsLeft == 0) return;\n    int v1 = 0, v2 = 0;\n    if(currentWeight &gt;= items[idx]) v1 = solve(idx+1, currentWeight-items[idx], itemsLeft-1) + value[idx];\n    v2 = solve(idx+1, currentWeight, itemsLeft);\n    if(v1 &gt;= v2){\n        cout &lt;&lt; idx &lt;&lt; \" \" &lt;&lt; items[idx] &lt;&lt; \" \" &lt;&lt; value[idx] &lt;&lt; endl;\n        print(idx+1, currentWeight-items[idx], itemsLeft-1);\n        return;\n    }else{\n        print(idx+1, currentWeight, itemsLeft);\n        return;\n    }\n}\n\nint main(){\n    cin &gt;&gt; noOfItems &gt;&gt; maxWeight &gt;&gt; maxItems;\n    for(int i = 0;i &lt; noOfItems;i++) cin &gt;&gt; items[i] &gt;&gt; value[i];\n    memset(dp, -1, sizeof dp);\n    cout &lt;&lt; solve(0, maxWeight, maxItems) &lt;&lt; endl;  //prints the maximum    value that we can get from the constraints\n    cout &lt;&lt; \"Printing the elements in the knapsack\" &lt;&lt; endl;\n    print(0, maxWeight, maxItems);\nreturn 0;\n}\n</code></pre>\n\n<p>Link to solution on ideone : <a href=\"https://ideone.com/wKzqXk\" rel=\"nofollow\">https://ideone.com/wKzqXk</a></p>\n"}], "owner": {"reputation": 65, "user_id": 5125753, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JXwphQVNPKw/AAAAAAAAAAI/AAAAAAAABtk/59zVc4AkgtI/photo.jpg?sz=128", "display_name": "elligottmc", "link": "https://stackoverflow.com/users/5125753/elligottmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1305, "favorite_count": 1, "accepted_answer_id": 35479808, "answer_count": 1, "score": 5, "last_activity_date": 1455793911, "creation_date": 1455750171, "last_edit_date": 1492087236, "question_id": 35469525, "link": "https://stackoverflow.com/questions/35469525/dynamic-programming-knapsack-k-exact-items", "title": "Dynamic Programming Knapsack K-exact items", "body": "<p>I found this very handy example code which implements a DP solution to the knapsack problem (kudos to the person who posted it).</p>\n\n<p><a href=\"https://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem\">https://codereview.stackexchange.com/questions/20569/dynamic-programming-solution-to-knapsack-problem</a></p>\n\n<p>I am trying to modify it to include a constraint on the number of items k in the knapsack.</p>\n\n<p>I added a third argument </p>\n\n<pre><code>def knapsack(items, maxweight, maxitems):\n</code></pre>\n\n<p>and modified the reconstruction as follows:</p>\n\n<pre><code>while i &gt; 0:\n\n    if bestvalues[i][j] != bestvalues[i - 1][j] and len(reconstruction) &lt; maxitems:\n        reconstruction.append(items[i - 1])\n        j -= items[i - 1][1]\n\n    i -= 1\n</code></pre>\n\n<p>Provided I input enough items to choose from this will always converge to the desired k number of items.  However, I am fairly certain that this is not finding the closest approximation of the global optimum.  The discussions I have read after some searching refer to adding a third dimension k and accounting for the constraint before the reconstruction (I *think this would be during the best value assessment).</p>\n\n<p>Can someone provide an example of how to do this?  Ideally a working python example would be fantastic but I'll settle for pseudocode.  I have read a few instructions using notation but I am still not sure how to constrain with k (outside of what I have done here).</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "r", "pivot-table", "frequency"], "answers": [{"comments": [{"owner": {"reputation": 6080, "user_id": 5826590, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2dd2f99897706c4568b9f20c00d96d00?s=128&d=identicon&r=PG", "display_name": "PagMax", "link": "https://stackoverflow.com/users/5826590/pagmax"}, "edited": false, "score": 0, "creation_date": 1455754355, "post_id": 35469742, "comment_id": 58636127, "body": "Thanks @Alexander. Still very verbose compared to elegant solution in R using <code>table</code>.  Sounds like cannot avoid this extra typing in python."}, {"owner": {"reputation": 6080, "user_id": 5826590, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2dd2f99897706c4568b9f20c00d96d00?s=128&d=identicon&r=PG", "display_name": "PagMax", "link": "https://stackoverflow.com/users/5826590/pagmax"}, "edited": false, "score": 0, "creation_date": 1455950169, "post_id": 35469742, "comment_id": 58730181, "body": "@ Alexander, actually your solution works much better if the data frame has several columns . The code I posted does something I do not understand why for multiple columns but your solution still gives me exactly why I want..!"}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 1, "last_activity_date": 1455751251, "creation_date": 1455751251, "answer_id": 35469742, "question_id": 35469503, "link": "https://stackoverflow.com/questions/35469503/alternative-for-python-pivot-table-for-frequency-table-of-two-variables/35469742#35469742", "title": "alternative for python pivot_table for frequency table of two variables", "body": "<p>Here is an alternative method. </p>\n\n<pre><code>&gt;&gt;&gt; df.groupby(['group1', 'group2']).group2.count().unstack().fillna(0)\ngroup2  X  Y  Z\ngroup1         \nA       1  2  1\nB       2  1  1\nC       1  2  1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6080, "user_id": 5826590, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2dd2f99897706c4568b9f20c00d96d00?s=128&d=identicon&r=PG", "display_name": "PagMax", "link": "https://stackoverflow.com/users/5826590/pagmax"}, "is_accepted": true, "score": 1, "last_activity_date": 1456101427, "creation_date": 1456101427, "answer_id": 35544029, "question_id": 35469503, "link": "https://stackoverflow.com/questions/35469503/alternative-for-python-pivot-table-for-frequency-table-of-two-variables/35544029#35544029", "title": "alternative for python pivot_table for frequency table of two variables", "body": "<pre><code>pd.crosstab(df['group1'],df['group2'])\n</code></pre>\n\n<p>This was exactly what I was looking for. Did not find it when I was searching for it initially. </p>\n"}], "owner": {"reputation": 6080, "user_id": 5826590, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/2dd2f99897706c4568b9f20c00d96d00?s=128&d=identicon&r=PG", "display_name": "PagMax", "link": "https://stackoverflow.com/users/5826590/pagmax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1025, "favorite_count": 0, "accepted_answer_id": 35544029, "answer_count": 2, "score": 1, "last_activity_date": 1456101427, "creation_date": 1455750071, "question_id": 35469503, "link": "https://stackoverflow.com/questions/35469503/alternative-for-python-pivot-table-for-frequency-table-of-two-variables", "title": "alternative for python pivot_table for frequency table of two variables", "body": "<p>For a data like this</p>\n\n<pre><code>import pandas as pd\n\ndf=pd.DataFrame({'group1': list('AABBCCAABBCC'),'group2':list('ZYYXYXXYZXYZ')})\n</code></pre>\n\n<p>I figured out with some difficulty that to make a frequency table of rows and columns, the most common way is as follows</p>\n\n<pre><code>print df.pivot_table(index='group1',columns='group2',aggfunc=len,fill_value=0)\n</code></pre>\n\n<p>by which I get</p>\n\n<pre><code>group2  X  Y  Z\ngroup1         \nA       1  2  1\nB       2  1  1\nC       1  2  1\n</code></pre>\n\n<p>I am just wondering if there are any 'faster' way to generate the same table.  Not that there is anything wrong with it but what I mean is something which involve less typing (without me having to write a custom function)</p>\n\n<p>I am just comparing this with R where same result could have been achieved by</p>\n\n<pre><code> table(df$group1,df$group2)\n</code></pre>\n\n<p>Compared to this, entering non default parameters like <code>aggfunc</code> and <code>fill_value</code> and typing out argument names, <code>index</code> and <code>columns</code> seems lot of additional effort. </p>\n\n<p>In general my experience (very limited) is that R equivalent functions in python are very similar in conciseness.</p>\n\n<p>Any suggestions on alternative methods would be great. I will need to make several of these tables with my data.</p>\n"}, {"tags": ["python", "regex"], "comments": [{"owner": {"reputation": 28355, "user_id": 4788546, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2jWn.jpg?s=128&g=1", "display_name": "CristiFati", "link": "https://stackoverflow.com/users/4788546/cristifati"}, "edited": false, "score": 0, "creation_date": 1455754295, "post_id": 35469491, "comment_id": 58636116, "body": "I ran your code (on <i>WIN</i>) and got the records for both ifaces."}], "answers": [{"comments": [{"owner": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455755782, "post_id": 35470440, "comment_id": 58636573, "body": "Thanks I tried your regex suggestion but wound up with the following output. Out[147]: [[&#39;Mg0_RSP0_CPU0_0&#39;, &#39;1.83.53.27&#39;, &#39;255.255.0.0&#39;]]"}, {"owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "reply_to_user": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455755968, "post_id": 35470440, "comment_id": 58636631, "body": "And do You get data from ifconfig directly or do You keep results in string? Add following to Your loop to examine what actually You get, and post here: <code>print (&quot;&gt;{}&lt;&quot;.format(paragraph[:5]))</code>"}, {"owner": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455760707, "post_id": 35470440, "comment_id": 58638178, "body": "To answer your question I execute the ifconfig command on my linux box, which is storing the data in a variable (if_config_output)   here is the output &gt;&gt;&gt;                                    In [170]: type(if_config_output) Out[170]: str"}, {"owner": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455762327, "post_id": 35470440, "comment_id": 58638575, "body": "This is strange to me. I just tried the code on my machine where I just had the copied output of ifconfig in a variable, when I do that I get all the matches. But if I run the whole code where the system is executing the ifconfig and storing into a variable then I get the return output of only one group of matches."}, {"owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "reply_to_user": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455786638, "post_id": 35470440, "comment_id": 58648260, "body": "Then most probably the cause is, like I wrote in answer - Your regex stops on newline character. This differs between output you copy from screen as You don&#39;t copy leading newline. If You want me to help you with subprocess or whatever You are using to get output, You&#39;ll need to update question with code."}, {"owner": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "edited": false, "score": 0, "creation_date": 1455823355, "post_id": 35470440, "comment_id": 58673945, "body": "Thanks again, let me spend some time tying to get this and if needed I&#39;ll either comeback and update the title or close out this topic."}], "tags": [], "owner": {"reputation": 452, "user_id": 2269620, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6ccbb5a6f19975ba11e13fe7512b257a?s=128&d=identicon&r=PG", "display_name": "brainovergrow", "link": "https://stackoverflow.com/users/2269620/brainovergrow"}, "is_accepted": true, "score": 1, "last_activity_date": 1455755905, "last_edit_date": 1455755905, "creation_date": 1455754796, "answer_id": 35470440, "question_id": 35469491, "link": "https://stackoverflow.com/questions/35469491/parsing-ifconfig-output-with-python/35470440#35470440", "title": "Parsing ifconfig output with python", "body": "<p>Well, I've tested Your code, and at first got one result, second one:</p>\n\n<pre><code>&gt;&gt;&gt; ['Tg0_0_0_7_0', '13.13.13.1', '255.255.255.0']\n</code></pre>\n\n<p>Then I looked closely at what was in Your regex and it appears that You might have additional new line before second paragraph like I had before my first, thus causing \\S to stop. You could fix it with (if I am right about reason why You are getting single result), with adding \\s? to beginning Your regex:</p>\n\n<pre><code>\\s?^(\\S+).*?inet addr:(\\S+).*?Mask:(\\S+)\n</code></pre>\n\n<p>Or, if this is the case of simple interface and IP retrieval You might use simpler and faster split...<br>\nI'll even timeit, if someone is curious:</p>\n\n<pre><code>import timeit\nimport re\n\nif_config_output = \"\"\"\nMg0_RSP0_CPU0_0 Link encap:Ethernet  HWaddr 70:e4:22:32:53:42\n          inet addr:20.200.130.1  Mask:255.255.0.0\n          inet6 addr: fe80::72e4:22ff:fe32:5342/64 Scope:Link\n          UP RUNNING NOARP MULTICAST  MTU:1514  Metric:1\n          RX packets:147918 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:119226 errors:0 dropped:0 overruns:0 carrier:3\n          collisions:0 txqueuelen:1000\n          RX bytes:103741434 (98.9 MiB)  TX bytes:5320623 (5.0 MiB)\n\nTg0_0_0_7_0 Link encap:Ethernet  HWaddr 78:ba:f9:35:66:46\n          inet addr:13.13.13.1  Mask:255.255.255.0\n          inet6 addr: fe80::7aba:f9ff:fe35:6646/64 Scope:Link\n          UP RUNNING NOARP MULTICAST  MTU:1514  Metric:1\n          RX packets:26 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5058 errors:0 dropped:0 overruns:0 carrier:3\n          collisions:0 txqueuelen:1000\n          RX bytes:1832 (1.7 KiB)  TX bytes:454625 (443.9 KiB)\n\"\"\"\n\nma = re.compile(\"^\\s?(\\S+).*?inet addr:(\\S+).*?Mask:(\\S+)\", re.MULTILINE|re.DOTALL)\n\ndef split(paragraph):\n    \"\"\" ugly, but faster \"\"\"\n    interface = paragraph.split(\" Link \")[0]\n    inet_mask = paragraph.split(\"\\n\")[1].split(':')\n    ip, mask = inet_mask[1], inet_mask[2]\n    return [interface, ip, mask]\n\ndef regex(paragraph):\n\n    result = ma.match(paragraph)\n    if result:\n        result = ma.match(paragraph)\n        interface = result.group(1)\n        ip = result.group(2)\n        mac = result.group(3)\n        return [interface, ip, mac]\n\ndef test_split():\n    c = []\n    for paragraph in if_config_output.split('\\n\\n'):\n        c.append(split(paragraph))\n    return len(c)\n\ndef test_regex():\n    c = []\n    for paragraph in if_config_output.split('\\n\\n'):\n        c.append(regex(paragraph))\n    return len(c)\n\nprint (\"split\", timeit.timeit(stmt=test_split, number=100000))\nprint (\"regex\", timeit.timeit(stmt=test_regex, number=100000))\n</code></pre>\n\n<p>results</p>\n\n<pre><code>$ python --version\nPython 2.7.3\n$ python test.py\n('split', 3.096487045288086)\n('regex', 5.066282033920288)\n$ python3 --version\nPython 3.2.3\n$ python3 test.py\nsplit 4.155041933059692\nregex 4.875624895095825\n$ python3 test.py\nsplit 4.787220001220703\nregex 5.695119857788086\n</code></pre>\n\n<p>Anyone with Python 3.5 care to join?</p>\n\n<p>Huh, strangely inconclusive.</p>\n\n<pre><code>results from repl.it/languages/python3 (Python 3.4.0)\nsplit 1.2351078800020332\nregex 1.3363793969983817\n\nresults from ideone.com (Python 2.7.9) \n('split', 0.9004449844360352)\n('regex', 0.7017428874969482)\n\nand from ideone.com (Python 3.4.3+)\nsplit 1.2050538789480925\nregex 1.7611852046102285 \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10994671, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/1f9422e5f6120a3b4d4d3d14a85d4907?s=128&d=identicon&r=PG", "display_name": "user10994671", "link": "https://stackoverflow.com/users/10994671/user10994671"}, "is_accepted": false, "score": 0, "last_activity_date": 1548927029, "last_edit_date": 1548927029, "creation_date": 1548923561, "answer_id": 54456317, "question_id": 35469491, "link": "https://stackoverflow.com/questions/35469491/parsing-ifconfig-output-with-python/54456317#54456317", "title": "Parsing ifconfig output with python", "body": "<p>Your measurement is incorrect. You call <code>ma.match(paragraph)</code> twice in function.</p>\n\n<pre><code>result = ma.match(paragraph)\n    if result:\n        result = ma.match(paragraph)\n</code></pre>\n\n<p>Python 3.7.1 (v3.7.1:260ec2c36a, Oct 20 2018, 03:13:28)<br>\nsplit 0.569942316<br>\nregex 0.643881852 </p>\n"}], "owner": {"reputation": 779, "user_id": 2714150, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/YuY4M.gif?s=128&g=1", "display_name": "Matt", "link": "https://stackoverflow.com/users/2714150/matt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2826, "favorite_count": 0, "accepted_answer_id": 35470440, "answer_count": 2, "score": 0, "last_activity_date": 1548927029, "creation_date": 1455750011, "last_edit_date": 1455750906, "question_id": 35469491, "link": "https://stackoverflow.com/questions/35469491/parsing-ifconfig-output-with-python", "title": "Parsing ifconfig output with python", "body": "<p>I'm trying to parse this ifconfig output. I have seen another example on Stack Overflow where they did this same code however it's creating a nested list. However when I do the same thing I only get the first match options. Also, I would like to add the RX and TX packets into the list and that seems to not work as well.</p>\n\n<p><strong>Ifconfig output</strong></p>\n\n<pre><code>Mg0_RSP0_CPU0_0 Link encap:Ethernet  HWaddr 70:e4:22:32:53:42\n          inet addr:20.200.130.1  Mask:255.255.0.0\n          inet6 addr: fe80::72e4:22ff:fe32:5342/64 Scope:Link\n          UP RUNNING NOARP MULTICAST  MTU:1514  Metric:1\n          RX packets:147918 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:119226 errors:0 dropped:0 overruns:0 carrier:3\n          collisions:0 txqueuelen:1000\n          RX bytes:103741434 (98.9 MiB)  TX bytes:5320623 (5.0 MiB)\n\nTg0_0_0_7_0 Link encap:Ethernet  HWaddr 78:ba:f9:35:66:46\n          inet addr:13.13.13.1  Mask:255.255.255.0\n          inet6 addr: fe80::7aba:f9ff:fe35:6646/64 Scope:Link\n          UP RUNNING NOARP MULTICAST  MTU:1514  Metric:1\n          RX packets:26 errors:0 dropped:0 overruns:0 frame:0\n          TX packets:5058 errors:0 dropped:0 overruns:0 carrier:3\n          collisions:0 txqueuelen:1000\n          RX bytes:1832 (1.7 KiB)  TX bytes:454625 (443.9 KiB)\n</code></pre>\n\n<p><strong>Script</strong></p>\n\n<pre><code>c = []\nfor paragraph in if_config_output.split('\\n\\n'):\n\n    ma = re.compile(\"^(\\S+).*?inet addr:(\\S+).*?Mask:(\\S+)\", re.MULTILINE|re.DOTALL)\n\n    result = ma.match(paragraph)\n\n    if result != None:\n\n        result = ma.match(paragraph)\n\n        interface = result.group(1)\n        ip = result.group(2)\n        mac = result.group(3)\n\n        #print \"interface:\", interface\n        #print \"ip:\",ip\n        #print \"mask:\", mask\n\n        c.append([interface, ip, mac])\n\nprint c\n\n\n\n\n\nIn [145]: c\nOut[145]: [['Mg0_RSP0_CPU0_0', '1.83.53.27', '255.255.0.0']]\n</code></pre>\n"}, {"tags": ["python", "multithreading", "oracle", "cx-oracle"], "comments": [{"owner": {"reputation": 25709, "user_id": 429982, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2626843a1f8617b05b650b92b01ca63d?s=128&d=identicon&r=PG", "display_name": "Gerrat", "link": "https://stackoverflow.com/users/429982/gerrat"}, "edited": false, "score": 0, "creation_date": 1573852207, "post_id": 35469431, "comment_id": 104036614, "body": "I&#39;m guessing a bug in your code where you emit the timings.  Without publishing a working example, nobody can say for sure where your issue is."}], "answers": [{"tags": [], "owner": {"reputation": 4855, "user_id": 2510347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b8b4592704ce48913b5e75f20f3727d?s=128&d=identicon&r=PG", "display_name": "Anthony Tuininga", "link": "https://stackoverflow.com/users/2510347/anthony-tuininga"}, "is_accepted": false, "score": 4, "last_activity_date": 1456155274, "creation_date": 1456155274, "answer_id": 35557674, "question_id": 35469431, "link": "https://stackoverflow.com/questions/35469431/python-cx-oracle-multithreading-not-working-for-cursor-per-thread/35557674#35557674", "title": "Python cx_oracle multithreading not working for cursor per thread", "body": "<p>Please see the below which is a working implementation of a program using the same connection but a separate cursor in each thread. The procedure I am calling is in the cx_Oracle test case (part of the 5.2.1 release) and is very simple so I call it multiple times (a random number in each thread) in the example. The output clearly shows that the threads do not finish at the same time.</p>\n\n<pre><code>from __future__ import print_function\n\nimport cx_Oracle\nimport datetime\nimport random\nimport threading\n\nconnection = cx_Oracle.Connection(\"cx_Oracle/dev\", threaded = True)\n\ndef TestThread(threadNum):\n     startTime = datetime.datetime.today()\n     cursor = connection.cursor()\n     numInputs = int(random.random() * 5000)\n     print(\"Thread\", threadNum, \"with\", numInputs, \"inputs:\", startTime)\n     for i in range(numInputs):\n         value = bool(int(random.random() * 2))\n         cursor.callfunc(\"pkg_TestBooleans.GetStringRep\", str, (value,))\n     endTime = datetime.datetime.today()\n     print(\"Thread\", threadNum, \"with\", numInputs, \"inputs:\", endTime)\n\n threads = []\n for i in range(8):\n     thread = threading.Thread(target = TestThread, args = (i + 1,))\n     threads.append(thread)\n     thread.start()\n print(\"All threads spawned...waiting for them to complete...\")\n for thread in threads:\n     thread.join()\n</code></pre>\n\n<p>Output is as follows:</p>\n\n<p>Thread 1 with 3405 inputs: 2016-02-22 07:55:07.849127<br>\nThread 2 with 2706 inputs: 2016-02-22 07:55:07.849998<br>\nThread 3 with 4101 inputs: 2016-02-22 07:55:07.850256<br>\nThread 4 with 2912 inputs: 2016-02-22 07:55:07.850937<br>\nThread 5 with 3747 inputs: 2016-02-22 07:55:07.851275<br>\nThread 6 with 4318 inputs: 2016-02-22 07:55:07.851534<br>\nThread 7 with 1453 inputs: 2016-02-22 07:55:07.852649<br>\nThread 8 with 3304 inputs: 2016-02-22 07:55:07.853090<br>\nAll threads spawned...waiting for them to complete...<br>\nThread 7 with 1453 inputs: 2016-02-22 07:55:09.897217<br>\nThread 2 with 2706 inputs: 2016-02-22 07:55:11.446744<br>\nThread 4 with 2912 inputs: 2016-02-22 07:55:11.681414<br>\nThread 8 with 3304 inputs: 2016-02-22 07:55:12.016809<br>\nThread 1 with 3405 inputs: 2016-02-22 07:55:12.081846<br>\nThread 5 with 3747 inputs: 2016-02-22 07:55:12.266111<br>\nThread 3 with 4101 inputs: 2016-02-22 07:55:12.375623<br>\nThread 6 with 4318 inputs: 2016-02-22 07:55:12.409352  </p>\n"}, {"tags": [], "owner": {"reputation": 58368, "user_id": 30038, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/mPvRH.jpg?s=128&g=1", "display_name": "Vlad Bezden", "link": "https://stackoverflow.com/users/30038/vlad-bezden"}, "is_accepted": false, "score": 1, "last_activity_date": 1551692605, "last_edit_date": 1551692605, "creation_date": 1529263461, "answer_id": 50899780, "question_id": 35469431, "link": "https://stackoverflow.com/questions/35469431/python-cx-oracle-multithreading-not-working-for-cursor-per-thread/50899780#50899780", "title": "Python cx_oracle multithreading not working for cursor per thread", "body": "<pre><code>from concurrent.futures import ThreadPoolExecutor, as_completed\nimport cx_Oracle\nimport datetime\n\nCONN_INFO = {\n    'host': 'xxx.xx.xx.x',\n    'port': 99999,\n    'user': 'user_name',\n    'psw': 'password',\n    'service': 'abc.xyz.com',\n}\n\nCONN_STR = '{user}/{psw}@{host}:{port}/{service}'.format(**CONN_INFO)\n\n# your long running query\nQUERY = 'SELECT FROM * customer where date = :date'\n\ndef run(date):\n    conn = cx_Oracle.connect(CONN_STR, threaded=True)\n    cursor = conn.cursor()\n    cursor.execute(QUERY, {'date': date})    \n    data = cursor.fetchall()\n    cursor.close()\n\n    return data\n\ndef main():\n    dates = [datetime.datetime.today() - datetime.timedelta(days=x) for x in range(0, 30)] \n    with ThreadPoolExecutor(max_workers=4) as executor:\n        futures = [executor.submit(run, d) for d in dates]\n\n        for future in as_completed(futures):\n            # process your records from each thread\n            # process_records(future.result())\n\n\nif __name__ == '__main__':\n    main()\n</code></pre>\n"}], "owner": {"reputation": 589, "user_id": 1587784, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/8723c8923a28c501ca32e880341ee11c?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Nicholls", "link": "https://stackoverflow.com/users/1587784/simon-nicholls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5740, "favorite_count": 2, "answer_count": 2, "score": 3, "last_activity_date": 1596013941, "creation_date": 1455749748, "question_id": 35469431, "link": "https://stackoverflow.com/questions/35469431/python-cx-oracle-multithreading-not-working-for-cursor-per-thread", "title": "Python cx_oracle multithreading not working for cursor per thread", "body": "<p>I am trying to get completely separate Oracle queries running using cx_Oracle in python in parallel.</p>\n\n<p>I can successfully make this work by setting up a new database connection per thread and then running the queries in each separate thread, this brings the total time from around 2 minutes to 1 minute 20 so it's definitely working. Timings for queries:</p>\n\n<pre><code>START_TIME                      END_TIME\n17-FEB-16 22.33.28.000000000    17-FEB-16 22.33.30.000000000\n17-FEB-16 22.33.30.000000000    17-FEB-16 22.33.33.000000000\n17-FEB-16 22.33.33.000000000    17-FEB-16 22.33.36.000000000\n17-FEB-16 22.33.36.000000000    17-FEB-16 22.33.36.000000000\n17-FEB-16 22.33.36.000000000    17-FEB-16 22.34.08.000000000\n17-FEB-16 22.34.08.000000000    17-FEB-16 22.34.26.000000000\n17-FEB-16 22.34.26.000000000    17-FEB-16 22.34.27.000000000\n17-FEB-16 22.34.27.000000000    17-FEB-16 22.34.29.000000000\n</code></pre>\n\n<p>There is an overhead however in setting up a connection to the database in each thread and I'm pretty sure I should just be able to make a new cursor for each thread and share the connection as seen here:</p>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/vasiliev-python-concurrency-087536.html\" rel=\"nofollow\">http://www.oracle.com/technetwork/articles/vasiliev-python-concurrency-087536.html</a></p>\n\n<p>What happens when I share the connection and use a separate cursor however is that the queries all start at the same time and then end at the same time so it looks like while the threads are being spawned, on the database the query is still running sequentially. Timings for queries:</p>\n\n<pre><code>START_TIME                      END_TIME\n17-FEB-16 22.36.32.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.32.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.32.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.31.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.31.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.31.000000000    17-FEB-16 22.38.21.000000000\n17-FEB-16 22.36.31.000000000    17-FEB-16 22.38.21.000000000\n</code></pre>\n\n<p>Code for multi connections:</p>\n\n<pre><code>for file in file_transporter.complete_file_list:\n        #Get database and open connection\n        the_db =      shared_lib_wrapper.get_oracle().Oracle(the_logger)\n        the_db .connect(conn_str())\n        #Create new thread\n        thread = threading.Thread(target=Loader, args=(params, the_date, the_logger, the_db, file, file_transporter.complete_file_list[file]))\n        the_logger.info(\"Running Thread: \" + thread.getName())\n        thread.start()\n</code></pre>\n\n<p>Code for multi cursors (within runLoad there is a function that creates a new cursor and executes a procedure - see below):</p>\n\n<pre><code>for file in self.file_list:\n        file_parametes = self.file_list[file]\n        function_to_run = file_parametes['LOAD_PACKAGE'] + '.' + file_parametes['LOAD_FUNCTION']\n\n        #Create new thread\n        thread = threading.Thread(target=self.runLoad, args=(file_parametes['RUN_ID'], function_to_run))\n        self.log.info(\"Spawned Thread: \" + thread.getName())\n        self.log.info(\"Running Thread: \" + thread.getName())\n        thread.start()\n</code></pre>\n\n<p>Code that creates cursor:</p>\n\n<pre><code>def execute_stored_proc_with_in_and_out_params(self, proc_name, params, dbms_logging=False):\n    try:\n        cursor = cx_Oracle.Cursor(self.db_conn\n</code></pre>\n\n<p>My questions therefore are:</p>\n\n<p>1) Am I doing something wrong with creating the cursors? - If so any ideas of how to fix it, I've read that cx_oracle is threadsafety 2:</p>\n\n<pre><code>Currently 2, which means that threads may share the module and connections, but not cursors.\n</code></pre>\n\n<p>2) If I can't share the connection is there anything wrong with creating a new one for each thread, it still seems to give me a performance boost even with the overhead of creating each connection?</p>\n"}, {"tags": ["python", "beautifulsoup"], "answers": [{"comments": [{"owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "edited": false, "score": 0, "creation_date": 1455751057, "post_id": 35469553, "comment_id": 58634953, "body": "Thank you for the detailed explanation."}], "tags": [], "owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "is_accepted": true, "score": 1, "last_activity_date": 1455750834, "last_edit_date": 1495540765, "creation_date": 1455750286, "answer_id": 35469553, "question_id": 35469417, "link": "https://stackoverflow.com/questions/35469417/selecting-tags-with-multiple-part-class-in-beautifulsoup/35469553#35469553", "title": "Selecting Tags With Multiple Part Class in BeautifulSoup", "body": "<p>The problem is that <code>class</code> is a <em>multi-valued attribute</em>. Here is a quite detailed story in a context of a similar problem: <a href=\"https://stackoverflow.com/questions/34288969/beautifulsoup-returns-empty-list-when-searching-by-compound-class-names\">BeautifulSoup returns empty list when searching by compound class names</a>.</p>\n\n<hr>\n\n<p>As a workaround, you can make a <em>filtering function</em>:</p>\n\n<pre><code>def filter_function(elm):\n    return elm and \"class\" in elm.attrs and \"A\" in elm[\"class\"] and \"Y\" not in elm[\"class\"]\n</code></pre>\n\n<p>Complete example:</p>\n\n<pre><code>from bs4 import BeautifulSoup\n\nhtml = \"\"\"\n&lt;div&gt;\n     &lt;div class=\"A\"&gt;test1&lt;/div&gt;\n     &lt;div class=\"A B\"&gt;test2&lt;/div&gt;\n     &lt;div class=\"A X Y\"&gt;test3&lt;/div&gt;\n&lt;/div&gt;\n\"\"\"\n\nsoup = BeautifulSoup(html, \"lxml\")\n\ndef filter_function(elm):\n    return elm and \"class\" in elm.attrs and \"A\" in elm[\"class\"] and \"Y\" not in elm[\"class\"]\n\nfor div in soup.find_all(filter_function):\n    print(div.text)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>test1\ntest2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 4834191, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-W9YKrpJ_d9o/AAAAAAAAAAI/AAAAAAAAAAA/zRSMjWPC0R4/photo.jpg?sz=128", "display_name": "Chris Sinclair", "link": "https://stackoverflow.com/users/4834191/chris-sinclair"}, "is_accepted": false, "score": 0, "last_activity_date": 1455750868, "creation_date": 1455750868, "answer_id": 35469680, "question_id": 35469417, "link": "https://stackoverflow.com/questions/35469417/selecting-tags-with-multiple-part-class-in-beautifulsoup/35469680#35469680", "title": "Selecting Tags With Multiple Part Class in BeautifulSoup", "body": "<p>You can request BeautifulSoup select tags using a filter function.</p>\n\n<pre><code>html = '&lt;html&gt;&lt;body&gt;&lt;div class=\"A\"/&gt;&lt;div class=\"A B\"/&gt;&lt;div class=\"A X Y\"/&gt;&lt;/body&gt;&lt;/html&gt;'\nsoup = BeautifulSoup(html, \"lxml\")\nsoup.find_all('div', {'class':'A'})\n[&lt;div class=\"A\"&gt;&lt;/div&gt;, &lt;div class=\"A B\"&gt;&lt;/div&gt;, &lt;div class=\"A X Y\"&gt;&lt;/div&gt;]\n\ndef f(tag):\n    return tag.has_attr('class') and 'X' not in tag['class']\n\nsoup.find_all(f)\n[&lt;div class=\"A\"&gt;&lt;/div&gt;, &lt;div class=\"A B\"&gt;&lt;/div&gt;]\n</code></pre>\n\n<p>You can write arbitrarily complex rules in that filter function to get whatever result you want.</p>\n"}], "owner": {"reputation": 7235, "user_id": 3734914, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/JAGw8.jpg?s=128&g=1", "display_name": "Batman", "link": "https://stackoverflow.com/users/3734914/batman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1040, "favorite_count": 1, "accepted_answer_id": 35469553, "answer_count": 2, "score": 1, "last_activity_date": 1455750868, "creation_date": 1455749695, "question_id": 35469417, "link": "https://stackoverflow.com/questions/35469417/selecting-tags-with-multiple-part-class-in-beautifulsoup", "title": "Selecting Tags With Multiple Part Class in BeautifulSoup", "body": "<p>I'm trying to scrape some data off a webpage, that has <code>div</code> tags that have multiple part tags. E.g. <code>&lt;div class=\"A\"&gt;</code>, <code>&lt;div class=\"A B\"&gt;</code> and <code>&lt;div class=\"A X Y\"&gt;</code>. I want to collect the tags of the first two types, but not the last.</p>\n\n<p>I thought that this would be simple enough using BeautifulSoup:</p>\n\n<pre><code>from bs4 import BeautifulSoup\nimport re\nfrom urllib import request\n\nurl_request = request.Request(url)\nhtml = request.urlopen(url_request)\nsoup = BeautifulSoup(html, \"lxml\")\n\ndivs = soup.find_all(\"div\", {\"class\": re.compile(\"A( B)?$\")})\n</code></pre>\n\n<p>When I look at <code>divs</code> though, I see that all the <code>&lt;div class=\"A X Y\"&gt;</code> tags are there too.</p>\n\n<p>The problem appears to be that BeautifulSoup considers the class to be a list, rather than a string:</p>\n\n<pre><code>&gt;&gt; div['class']\n&gt;&gt; ['A', 'X', 'Y']\n</code></pre>\n\n<p>Can I use regular expressions (or anything else) to remove the unwanted tags? I'd prefer to ignore them, rather than post-select the tags I want.</p>\n"}, {"tags": ["python", "pandas", "lookup"], "comments": [{"owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "edited": false, "score": 0, "creation_date": 1455749784, "post_id": 35469399, "comment_id": 58634398, "body": "Iterate over the table, check whether the score is within the threshold, if so, you know your grade, otherwise continue"}, {"owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "reply_to_user": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "edited": false, "score": 0, "creation_date": 1455749854, "post_id": 35469399, "comment_id": 58634425, "body": "If you can, please you share the code?"}, {"owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "edited": false, "score": 0, "creation_date": 1455749975, "post_id": 35469399, "comment_id": 58634483, "body": "I&#39;m not familiar with pandas, but it would utterly suprise me, if it doesn&#39;t provide a way to iterate over its data structures."}, {"owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "reply_to_user": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "edited": false, "score": 0, "creation_date": 1455750126, "post_id": 35469399, "comment_id": 58634550, "body": "I know how to iterate over the score table but using if then else conditions for the grade lookup. I was wondering if there was a more efficient way of coding that would reduce the number of lines of code. If you are familiar with excel index match, that is what I am looking for.."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1455750534, "post_id": 35469399, "comment_id": 58634737, "body": "what columns contains your second DF: Score and Grade?"}, {"owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "edited": false, "score": 0, "creation_date": 1455750654, "post_id": 35469399, "comment_id": 58634792, "body": "No just the scores, I want to add Grade column to it, by lookup up the lookup table."}, {"owner": {"reputation": 171449, "user_id": 5741205, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SG6BE.png?s=128&g=1", "display_name": "MaxU", "link": "https://stackoverflow.com/users/5741205/maxu"}, "edited": false, "score": 0, "creation_date": 1455751377, "post_id": 35469399, "comment_id": 58635090, "body": "check this: <a href=\"http://stackoverflow.com/questions/30627968/merge-pandas-dataframes-where-one-value-is-between-two-others\" title=\"merge pandas dataframes where one value is between two others\">stackoverflow.com/questions/30627968/&hellip;</a>"}, {"owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "edited": false, "score": 0, "creation_date": 1455752725, "post_id": 35469399, "comment_id": 58635583, "body": "I checked out that link. It is really cumbersome because it creates an intermediate dataframe which is a cartesian product of the two tables, the intermediate table can get really huge, but the final table will be of the right size. Here is another link I found that would work better, but still cumbersome. It adds a separate line of code for each condition.<a href=\"http://stackoverflow.com/questions/21733893/pandas-dataframe-add-a-field-based-on-multiple-if-statements\" title=\"pandas dataframe add a field based on multiple if statements\">stackoverflow.com/questions/21733893/&hellip;</a>"}, {"owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "edited": false, "score": 0, "creation_date": 1456289751, "post_id": 35469399, "comment_id": 58873072, "body": "Did my solution work?"}, {"owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "edited": false, "score": 0, "creation_date": 1456418961, "post_id": 35469399, "comment_id": 58948383, "body": "Hi IanS. Yes your solution did work. Thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 13024, "user_id": 5276797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fad4546242573f7961ec20dd6ee6875?s=128&d=identicon&r=PG&f=1", "display_name": "IanS", "link": "https://stackoverflow.com/users/5276797/ians"}, "is_accepted": true, "score": 11, "last_activity_date": 1455787998, "creation_date": 1455787998, "answer_id": 35477595, "question_id": 35469399, "link": "https://stackoverflow.com/questions/35469399/pandas-table-lookup/35477595#35477595", "title": "Pandas table lookup", "body": "<p>A one-line solution (I call your lookup table <code>lookup</code>):</p>\n\n<pre><code>df['Score'].apply(lambda score: lookup['Grade'][(lookup['Lower_Boundary'] &lt;= score) &amp; (lookup['Upper_Boundary'] &gt; score)].values[0])\n</code></pre>\n\n<hr>\n\n<p><strong>Explanation</strong>:</p>\n\n<p>For a given score, here is how to find the grade:</p>\n\n<pre><code>score = -75\nmatch = (lookup['Lower_Boundary'] &lt;= score) &amp; (lookup['Upper_Boundary'] &gt; score)\ngrade = lookup['Grade'][match]\n</code></pre>\n\n<p>This return a series of length 1. You can get its value with, for instance:</p>\n\n<pre><code>grade.values[0]\n</code></pre>\n\n<p>All you need to do is <code>apply</code> the above to the score column. If you want a one-liner, use a <code>lambda</code> function:</p>\n\n<pre><code>df['Score'].apply(lambda score: lookup['Grade'][(lookup['Lower_Boundary'] &lt;= score) &amp; (lookup['Upper_Boundary'] &gt; score)].values[0])\n</code></pre>\n\n<p>Otherwise the following would be more readable:</p>\n\n<pre><code>def lookup_grade(score):\n    match = (lookup['Lower_Boundary'] &lt;= score) &amp; (lookup['Upper_Boundary'] &gt; score)\n    grade = lookup['Grade'][match]\n    return grade.values[0]\n\ndf['Score'].apply(lookup_grade)\n</code></pre>\n\n<p>This approach would also make it easier to deal with cases when no match is found.</p>\n"}], "owner": {"reputation": 1428, "user_id": 935376, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8df0551d2724dcc7cf7749533564bf16?s=128&d=identicon&r=PG", "display_name": "Zenvega", "link": "https://stackoverflow.com/users/935376/zenvega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14253, "favorite_count": 4, "accepted_answer_id": 35477595, "answer_count": 1, "score": 9, "last_activity_date": 1455787998, "creation_date": 1455749607, "question_id": 35469399, "link": "https://stackoverflow.com/questions/35469399/pandas-table-lookup", "title": "Pandas table lookup", "body": "<p>I have a pandas lookup table which looks like this</p>\n\n<pre><code>Grade   Lower_Boundary  Upper_Boundary\n1   -110    -96\n2   -96 -91\n3   -91 -85\n4   -85 -81\n5   -81 -77\n6   -77 -72\n7   -72 -68\n8   -68 -63\n9   -63 -58\n10  -58 -54\n11  -54 -50\n12  -50 -46\n13  -46 -42\n14  -42 -38\n15  -38 -34\n16  -34 -28\n17  -28 -18\n18  -18 -11\n19  -11 -11\n20  -11 -9\n</code></pre>\n\n<p>I have another pandas dataframe that looks contains score. I want to assign 'Grade' to the score column, by looking up the look up table. So based on which interval of lower and upper boundary the score falls, the grade should be assigned from that row in the lookup table. Is there a way to do it without typing a bunch of if then else statements? I am thinking just of excel's index match.</p>\n\n<pre><code>Score   Grade\n-75 6\n-75 6\n-60 9\n-66 8\n-66 8\n-98 1\n-60 9\n-82 4\n-70 7\n-60 9\n-60 9\n-60 9\n-56 10\n-70 7\n-70 7\n-70 7\n-66 8\n-56 10\n-66 8\n-66 8\n</code></pre>\n"}, {"tags": ["python", "generator", "coroutine"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1455750163, "post_id": 35469386, "comment_id": 58634569, "body": "<code>for</code>-looping over a coroutine doesn&#39;t really make sense. The way you interact with a coroutine is completely different from the normal mode of interaction with an ordinary generator."}, {"owner": {"reputation": 302, "user_id": 5874356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33ee5758dfef6beee8636ba442b0334a?s=128&d=identicon&r=PG&f=1", "display_name": "apex-meme-lord", "link": "https://stackoverflow.com/users/5874356/apex-meme-lord"}, "edited": false, "score": 0, "creation_date": 1455750450, "post_id": 35469386, "comment_id": 58634692, "body": "<code>yield score + 1</code> returns <code>None</code> and assigns that to <code>score</code>, so the next iteration attempts to add 1 to <code>None</code>."}], "answers": [{"comments": [{"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "edited": false, "score": 0, "creation_date": 1455751380, "post_id": 35469575, "comment_id": 58635092, "body": "It might be worth noting that <code>functools.wraps</code> will do the double-under assignments for you."}, {"owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 0, "creation_date": 1455751511, "post_id": 35469575, "comment_id": 58635136, "body": "Thanks! So why can&#39;t I just use two <code>yield</code> statements in the coroutine - one for the <code>for</code> loop, and one for <code>send</code>? I&#39;ve added another example to my question."}, {"owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "reply_to_user": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 1, "creation_date": 1455782466, "post_id": 35469575, "comment_id": 58645961, "body": "@z0r: sorry, I ran out of time last night. I&#39;ve added more info this morning."}], "tags": [], "owner": {"reputation": 881859, "user_id": 100297, "user_type": "moderator", "profile_image": "https://www.gravatar.com/avatar/24780fb6df85a943c7aea0402c843737?s=128&d=identicon&r=PG", "display_name": "Martijn Pieters", "link": "https://stackoverflow.com/users/100297/martijn-pieters"}, "is_accepted": false, "score": 3, "last_activity_date": 1612138382, "last_edit_date": 1612138382, "creation_date": 1455750390, "answer_id": 35469575, "question_id": 35469386, "link": "https://stackoverflow.com/questions/35469386/send-values-to-python-coroutine-without-handling-stopiteration/35469575#35469575", "title": "Send values to Python coroutine without handling StopIteration", "body": "<p>Yes, with coroutines you generally have to use a <code>next()</code> call first to 'prime' the generator; it'll cause the generator function to execute code until the first <code>yield</code>. Your issue is mostly that you are using a <code>for</code> loop, however, which uses <code>next()</code> <em>as well</em>, but doesn't send anything.</p>\n<p>You could add an extra <code>yield</code> to the coroutine to catch that first priming step, and add the <code>@consumer</code> decorator from <a href=\"https://www.python.org/dev/peps/pep-0342/\" rel=\"nofollow noreferrer\">PEP 342</a> (adjusted for Python 2 and 3):</p>\n<pre><code>def consumer(func):\n    def wrapper(*args,**kw):\n        gen = func(*args, **kw)\n        next(gen)\n        return gen\n    wrapper.__name__ = func.__name__\n    wrapper.__dict__ = func.__dict__\n    wrapper.__doc__  = func.__doc__\n    return wrapper\n\n@consumer\ndef coroutine():\n    score = 0\n    yield\n    for _ in range(3):\n        score = yield score + 1\n</code></pre>\n<p>You'd still have to use a <code>while</code> loop, as a <code>for</code> loop can't send:</p>\n<pre><code>c = 0\nwhile True:\n    try:\n        c = cs.send(c + 1)\n    except StopIteration:\n        break\n    print(c)\n</code></pre>\n<p>Now, if you want this to work with a <code>for</code> loop, you have to understand when the <code>next()</code> call from the <code>for</code> loop comes in when you are <em>in</em> the loop. When the <code>.send()</code> resumes the generator, the <code>yield</code> expression <em>returns the sent value</em>, and the generator continues on from there. So the generator function only stops again the <em>next</em> time a <code>yield</code> appears.</p>\n<p>So looking at a loop like this:</p>\n<pre><code>for _ in range(3):\n    score = yield score + 1\n</code></pre>\n<p>the first time you use <code>send</code> the above code has already executed <code>yield score + 1</code> and that'll now return the sent value, assigning it to <code>score</code>. The <code>for</code> loop continues on and takes the next value in the <code>range(3)</code>, starts another iteration, then executes <code>yield score + 1</code> again and pauses at that point. It is that <em>next iteration value</em> that is then produced.</p>\n<p>Now, if you want to combine sending with plain <code>next()</code> iteration, you <em>can</em> add extra <code>yield</code> expressions, but those then need to be positioned such that your code is paused in the right locations; at a plain <code>yield value</code> when you are going to call <code>next()</code> (because it'll return <code>None</code>) and at a <code>target = yield</code> when you are using <code>generator.send()</code> (because it'll return the sent value):</p>\n<pre><code>@consumer\ndef coroutine():\n    score = 0\n    yield  # 1\n    for _ in range(3):\n        score = yield score + 1  # 2\n        yield  # 3\n</code></pre>\n<p>When you use the above '@consumer' decorated generator with a <code>for</code> loop, the following happens:</p>\n<ul>\n<li>the <code>@consumer</code> decorator 'primes' the generator by moving to point 1.</li>\n<li>the <code>for</code> loop calls <code>next()</code> on the generator, and it advances to point 2, producing the <code>score + 1</code> value.</li>\n<li>a <code>generator.send()</code> call returns paused generator at point 2, assigning the sent value to <code>score</code>, and advances the generator to point 3. This <em>returns <code>None</code></em> as the <code>generator.send()</code> result!</li>\n<li>the <code>for</code> loop calls <code>next()</code> again, advancing to point 2, giving the loop the next <code>score + 1</code> value.</li>\n<li>and so on.</li>\n</ul>\n<p>So the above works directly with your loop:</p>\n<pre><code>&gt;&gt;&gt; @consumer\n... def coroutine():\n...     score = 0\n...     yield  # 1\n...     for _ in range(3):\n...         score = yield score + 1  # 2\n...         yield  # 3\n...\n&gt;&gt;&gt; cs = coroutine()\n&gt;&gt;&gt; for c in cs:\n...     print(c)\n...     cs.send(c + 1)\n...\n1\n3\n5\n</code></pre>\n<p>Note that the <code>@consumer</code> decorator and the first <code>yield</code> can now go again; the <code>for</code> loop can do that advancing to point 2 all by itself:</p>\n<pre><code>def coroutine():\n    score = 0\n    for _ in range(3):\n        score = yield score + 1  # 2, for advances to here\n        yield  # 3, send advances to here\n</code></pre>\n<p>and this still continues to work with your loop:</p>\n<pre><code>&gt;&gt;&gt; def coroutine():\n...     score = 0\n...     for _ in range(3):\n...         score = yield score + 1  # 2, for advances to here\n...         yield  # 3, send advances to here\n...\n&gt;&gt;&gt; cs = coroutine()\n&gt;&gt;&gt; for c in cs:\n...     print(c)\n...     cs.send(c + 1)\n...\n1\n3\n5\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 0, "creation_date": 1455753131, "post_id": 35470049, "comment_id": 58635747, "body": "Very interesting! Your conversion of the <code>for</code> loop to a <code>while</code> loop is an eye-opener."}, {"owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "reply_to_user": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 0, "creation_date": 1455753312, "post_id": 35470049, "comment_id": 58635822, "body": "@z0r, check out the final update, moving the <code>yield</code> to the end makes everything a lot cleaner."}, {"owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "edited": false, "score": 0, "creation_date": 1455753352, "post_id": 35470049, "comment_id": 58635842, "body": "Yes, funny how the <code>yield</code> statements were around the wrong way! I still need to wrap my head around this."}], "tags": [], "owner": {"reputation": 8233, "user_id": 2247550, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/zrSSY.jpg?s=128&g=1", "display_name": "Jared Goguen", "link": "https://stackoverflow.com/users/2247550/jared-goguen"}, "is_accepted": true, "score": 4, "last_activity_date": 1455753918, "last_edit_date": 1455753918, "creation_date": 1455752758, "answer_id": 35470049, "question_id": 35469386, "link": "https://stackoverflow.com/questions/35469386/send-values-to-python-coroutine-without-handling-stopiteration/35470049#35470049", "title": "Send values to Python coroutine without handling StopIteration", "body": "<p>I'll take a stab at your second attempt. First, let <code>coroutine</code> be defined as:</p>\n\n<pre><code>def coroutine():\n    score = 0\n    for _ in range(3):\n        yield\n        score = yield score + 1\n</code></pre>\n\n<p>This function will output your <code>1, 3, 5</code> as in the original question.</p>\n\n<p>Now, let's convert the <code>for</code> loop into a <code>while</code> loop.</p>\n\n<pre><code># for loop\nfor c in cs:\n    print(c)\n    cs.send(c + 1)\n\n# while loop\nwhile True:\n    try:\n        c = cs.send(None)\n        print(c)\n        cs.send(c + 1)\n    except StopIteration:\n        break\n</code></pre>\n\n<p>Now, we can get this <code>while</code> loop working using the following if we precede it with a <code>next(cs)</code>. In total:</p>\n\n<pre><code>cs = coroutine()\nnext(cs)\nwhile True:\n    try:\n        c = cs.send(None)\n        print(c)\n        cs.send(c + 1)\n    except StopIteration:\n        break\n# Output: 1, 3, 5\n</code></pre>\n\n<p>When we try to convert this back into a for loop, we have the relatively simple code:</p>\n\n<pre><code>cs = coroutine()\nnext(cs)\nfor c in cs:\n    print(c)\n    cs.send(c + 1)\n</code></pre>\n\n<p>And this outputs the <code>1, 3, 5</code> as you wanted. The issue is that in the last iteration of the <code>for</code> loop, <code>cs</code> is already exhausted, but <code>send</code> is called again. So, how do we get another <code>yield</code> out of the generator? Let's add one to the end...</p>\n\n<pre><code>def coroutine():\n    score = 0\n    for _ in range(3):\n        yield\n        score = yield score + 1\n    yield\n\ncs = coroutine()\nnext(cs)\nfor c in cs:\n    print(c)\n    cs.send(c + 1)\n# Output: 1, 3, 5\n</code></pre>\n\n<p>This final example iterates as intended without a <code>StopIteration</code> exception. </p>\n\n<p>Now, if we take a step back, this can all be better written as:</p>\n\n<pre><code>def coroutine():\n    score = 0\n    for _ in range(3):\n        score = yield score + 1\n        yield # the only difference from your first attempt\n\ncs = coroutine()\nfor c in cs:\n    print(c)\n    cs.send(c + 1)\n# Output: 1, 3, 5\n</code></pre>\n\n<p>Notice how the <code>yield</code> moved, and the <code>next(cs)</code> was removed.</p>\n"}], "owner": {"reputation": 6925, "user_id": 320036, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/CdvdX.jpg?s=128&g=1", "display_name": "z0r", "link": "https://stackoverflow.com/users/320036/z0r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1962, "favorite_count": 3, "accepted_answer_id": 35470049, "answer_count": 2, "score": 7, "last_activity_date": 1612138382, "creation_date": 1455749553, "last_edit_date": 1455753250, "question_id": 35469386, "link": "https://stackoverflow.com/questions/35469386/send-values-to-python-coroutine-without-handling-stopiteration", "title": "Send values to Python coroutine without handling StopIteration", "body": "<p>Given a Python coroutine:</p>\n\n<pre><code>def coroutine():\n     score = 0\n     for _ in range(3):\n          score = yield score + 1\n</code></pre>\n\n<p>I'd like to use it in a simple loop like this:</p>\n\n<pre><code>cs = coroutine()\nfor c in cs:\n     print(c)\n     cs.send(c + 1)\n</code></pre>\n\n<p>... which I would expect to print</p>\n\n<pre><code>1\n3\n5\n</code></pre>\n\n<p>But actually, I get an exception on the line <code>yield score + 1</code>:</p>\n\n<pre><code> TypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\n</code></pre>\n\n<p>I can get it to work if I call <code>next</code> manually:</p>\n\n<pre><code>c = next(cs)\nwhile True:\n    print(c)\n    try:\n        c = cs.send(c + 1)\n    except StopIteration:\n        break\n</code></pre>\n\n<p>But I don't like that I need to use try/except, given that generators are usually so elegant.</p>\n\n<p>So, is there any way to use a finite coroutine like this without explicitly handling <code>StopIteration</code>? I'm happy to change both the generator and the way I'm iterating over it.</p>\n\n<h2>Second Attempt</h2>\n\n<p>Martijn points out that both the <code>for</code> loop and my call to <code>send</code> advance the iterator. Fair enough. Why, then, can't I get around that with two yield statements in the coroutine's loop?</p>\n\n<pre><code>def coroutine():\n    score = 0\n    for _ in range(3):\n        yield score\n        score = yield score + 1\n\ncs = coroutine()\nfor c in cs:\n    print(c)\n    cs.send(c + 1)\n</code></pre>\n\n<p>If I try that, I get the same error but on the <code>send</code> line.</p>\n\n<pre><code>0\nNone\nTraceback (most recent call last):\n  File \"../coroutine_test.py\", line 10, in &lt;module&gt;\n    cs.send(c + 1)\nTypeError: unsupported operand type(s) for +: 'NoneType' and 'int'\n</code></pre>\n"}, {"tags": ["python", "arrays", "python-2.7", "numpy", "indexing"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1455749570, "post_id": 35469365, "comment_id": 58634297, "body": "Use a list comprehension."}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 0, "creation_date": 1455749599, "post_id": 35469365, "comment_id": 58634316, "body": "you can provide your own function to the sort method in order to compare 2 elements, default is <code>cmp</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "edited": false, "score": 1, "creation_date": 1455749617, "post_id": 35469365, "comment_id": 58634323, "body": "@PauloScardine What does this have to do with sortingz?"}, {"owner": {"reputation": 59346, "user_id": 444036, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/My2AZ.jpg?s=128&g=1", "display_name": "Paulo Scardine", "link": "https://stackoverflow.com/users/444036/paulo-scardine"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1455749823, "post_id": 35469365, "comment_id": 58634416, "body": "@Barmar I misread the question as sorting with multiple conditions when it is really just about filtering."}, {"owner": {"reputation": 137, "user_id": 5286617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2099413a674482afd946f29ad3c8fbc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Alperto", "link": "https://stackoverflow.com/users/5286617/john-alperto"}, "edited": false, "score": 0, "creation_date": 1455749914, "post_id": 35469365, "comment_id": 58634454, "body": "Sorry, I probably could have worded that better."}], "answers": [{"comments": [{"owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "edited": false, "score": 0, "creation_date": 1455749757, "post_id": 35469391, "comment_id": 58634388, "body": "I originally answered the question teaching about slicing as well, but OP isn&#39;t actually worried about indexes so this answer is correct."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1455750002, "post_id": 35469391, "comment_id": 58634500, "body": "You can simplify the condition to <code>1 &lt; x &lt; 10</code>"}, {"owner": {"reputation": 137, "user_id": 5286617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2099413a674482afd946f29ad3c8fbc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Alperto", "link": "https://stackoverflow.com/users/5286617/john-alperto"}, "edited": false, "score": 0, "creation_date": 1455750012, "post_id": 35469391, "comment_id": 58634505, "body": "I like this one a lot! Didnt even know you could use if and for&#39;s in brackets like that. Thanks."}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "reply_to_user": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "edited": false, "score": 0, "creation_date": 1455750039, "post_id": 35469391, "comment_id": 58634514, "body": "@JaronThatcher: Well, now that I see that, my answer is useless."}, {"owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "reply_to_user": {"reputation": 137, "user_id": 5286617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2099413a674482afd946f29ad3c8fbc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Alperto", "link": "https://stackoverflow.com/users/5286617/john-alperto"}, "edited": false, "score": 0, "creation_date": 1455750064, "post_id": 35469391, "comment_id": 58634531, "body": "@JohnAlperto That&#39;s called <a href=\"https://docs.python.org/2/tutorial/datastructures.html#list-comprehensions\" rel=\"nofollow noreferrer\">List Comprehension</a> and is one of the best parts of Python :)"}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": true, "score": 2, "last_activity_date": 1455749958, "last_edit_date": 1455749958, "creation_date": 1455749573, "answer_id": 35469391, "question_id": 35469365, "link": "https://stackoverflow.com/questions/35469365/indexing-arrays-with-multiple-conditions-in-python/35469391#35469391", "title": "Indexing arrays with multiple conditions in Python?", "body": "<pre><code>Python 2.7.10 (default, May 23 2015, 09:44:00) [MSC v.1500 64 bit (AMD64)] on win32\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n&gt;&gt;&gt; a = [1,2,3,4,5,6,7,8,9]\n&gt;&gt;&gt; new_a = [x for x in a if x &gt; 1 and x &lt; 10]\n&gt;&gt;&gt; print new_a\n[2, 3, 4, 5, 6, 7, 8, 9]\n&gt;&gt;&gt; print len(new_a)\n8\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "edited": false, "score": 0, "creation_date": 1455750307, "post_id": 35469416, "comment_id": 58634633, "body": "i prefer this answer, uses an inbuilt function"}], "tags": [], "owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "is_accepted": false, "score": 1, "last_activity_date": 1455750007, "last_edit_date": 1455750007, "creation_date": 1455749687, "answer_id": 35469416, "question_id": 35469365, "link": "https://stackoverflow.com/questions/35469365/indexing-arrays-with-multiple-conditions-in-python/35469416#35469416", "title": "Indexing arrays with multiple conditions in Python?", "body": "<p>The built in filter function was built for just that.  </p>\n\n<pre><code>def filter_fun(x):\n        return 1&lt;x&lt;10\na = range(10)\nnew_a = filter(filter_fun, a)\nprint a\nprint new_a\nprint len(new_a)\n</code></pre>\n\n<h1>Output:</h1>\n\n<pre><code>[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\n[2, 3, 4, 5, 6, 7, 8, 9]\n8\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 261375, "user_id": 174728, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eRO75.jpg?s=128&g=1", "display_name": "John La Rooy", "link": "https://stackoverflow.com/users/174728/john-la-rooy"}, "is_accepted": false, "score": 0, "last_activity_date": 1455750228, "creation_date": 1455750228, "answer_id": 35469539, "question_id": 35469365, "link": "https://stackoverflow.com/questions/35469365/indexing-arrays-with-multiple-conditions-in-python/35469539#35469539", "title": "Indexing arrays with multiple conditions in Python?", "body": "<p>For some arbitrary indices, you can use <code>itemgetter</code> to build a function</p>\n\n<pre><code>&gt;&gt;&gt; from operator import itemgetter\n&gt;&gt;&gt; interesting_things = itemgetter(2, 3, 4, 5, 6, 7, 8, 9)\n&gt;&gt;&gt; a = ['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']\n&gt;&gt;&gt; interesting_things(a)\n('c', 'd', 'e', 'f', 'g', 'h', 'i', 'j')\n</code></pre>\n\n<p>otherwise you can write an actual function for extra flexibility</p>\n\n<pre><code>&gt;&gt;&gt; def interesting_things(L):\n...     return [item for i, item in enumerate(L) if 1 &lt; i &lt; 10]\n... \n&gt;&gt;&gt; interesting_things(a)\n['c', 'd', 'e', 'f', 'g', 'h', 'i', 'j']\n</code></pre>\n\n<p>Regardless, you should put the logic into a function so it's easy to test and change</p>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 5286617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2099413a674482afd946f29ad3c8fbc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Alperto", "link": "https://stackoverflow.com/users/5286617/john-alperto"}, "edited": false, "score": 0, "creation_date": 1455750854, "post_id": 35469647, "comment_id": 58634870, "body": "What the heck. I knew you could do that in MATLAB but not in Python. Awesome. I&#39;d upvote if I could. Edit: Wait, I can :)"}], "tags": [], "owner": {"reputation": 67160, "user_id": 1078084, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/wApmM.jpg?s=128&g=1", "display_name": "Akavall", "link": "https://stackoverflow.com/users/1078084/akavall"}, "is_accepted": false, "score": 1, "last_activity_date": 1455750707, "creation_date": 1455750707, "answer_id": 35469647, "question_id": 35469365, "link": "https://stackoverflow.com/questions/35469365/indexing-arrays-with-multiple-conditions-in-python/35469647#35469647", "title": "Indexing arrays with multiple conditions in Python?", "body": "<p>Since the question is tagged as <code>numpy</code> and <code>array</code>, how about this:</p>\n\n<pre><code>In [1]: import numpy as np\n\nIn [2]: a = np.array([1,2,3,4,5,6,7,8,9,10])\n\nIn [3]: a[(a&gt;1) &amp; (a&lt;10)]\nOut[3]: array([2, 3, 4, 5, 6, 7, 8, 9])\n</code></pre>\n"}], "owner": {"reputation": 137, "user_id": 5286617, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2099413a674482afd946f29ad3c8fbc5?s=128&d=identicon&r=PG&f=1", "display_name": "John Alperto", "link": "https://stackoverflow.com/users/5286617/john-alperto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 35469391, "answer_count": 4, "score": 1, "last_activity_date": 1455750707, "creation_date": 1455749466, "question_id": 35469365, "link": "https://stackoverflow.com/questions/35469365/indexing-arrays-with-multiple-conditions-in-python", "title": "Indexing arrays with multiple conditions in Python?", "body": "<p>Is there a simple way to access the contents of an array with multiple conditions?</p>\n\n<p>For example, lets say</p>\n\n<pre><code>a=[1,2,3,4,5,6,7,8,9,10]\n</code></pre>\n\n<p>But I'm only interested in values ranging from 2 to 9 (inclusive)</p>\n\n<p>So I want to know two things:</p>\n\n<p>1) The number of elements that satisfy these conditions (that is, where a>1 and a&lt;10), so in this example it would be 8.</p>\n\n<p>2) A new array with the values that satify those conditions. In this case,  </p>\n\n<pre><code>new_a=[2,3,4,5,6,7,8,9]\n</code></pre>\n\n<p>I still suck at indexing in Python :/</p>\n"}, {"tags": ["python", "customization", "ipython-notebook", "jupyter", "jupyter-notebook"], "comments": [{"owner": {"reputation": 2238, "user_id": 2681088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5I395.png?s=128&g=1", "display_name": "pdm", "link": "https://stackoverflow.com/users/2681088/pdm"}, "edited": false, "score": 1, "creation_date": 1455756993, "post_id": 35469343, "comment_id": 58636964, "body": "Hi @titipat, did you try the solution here <a href=\"http://stackoverflow.com/questions/27177459/customize-welcome-page-of-ipython-notebook\">Customize welcome page of ipython notebook</a> ? I try this solution and it works to me."}, {"owner": {"reputation": 4505, "user_id": 3626961, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100001104558583/picture?type=large", "display_name": "titipata", "link": "https://stackoverflow.com/users/3626961/titipata"}, "reply_to_user": {"reputation": 2238, "user_id": 2681088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5I395.png?s=128&g=1", "display_name": "pdm", "link": "https://stackoverflow.com/users/2681088/pdm"}, "edited": false, "score": 0, "creation_date": 1455757734, "post_id": 35469343, "comment_id": 58637209, "body": "Oh nice. thanks @Eric! It almost works for me. I put the <code>logo.png</code> and added css into <code>custom.css</code>. However, my image is just too big. Probably I have to change the css file in order to make logo display properly."}], "answers": [{"comments": [{"owner": {"reputation": 128, "user_id": 8771173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79a4f4481005ab16c77de337291b0952?s=128&d=identicon&r=PG&f=1", "display_name": "Professor Rumble Pony", "link": "https://stackoverflow.com/users/8771173/professor-rumble-pony"}, "edited": false, "score": 0, "creation_date": 1567865800, "post_id": 35471265, "comment_id": 102097683, "body": "Thanks for the answer.  Note:  I believe the syntax should have quotes around the file: background: url(&quot;logo.png&quot;) no-repeat;"}], "tags": [], "owner": {"reputation": 4505, "user_id": 3626961, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100001104558583/picture?type=large", "display_name": "titipata", "link": "https://stackoverflow.com/users/3626961/titipata"}, "is_accepted": true, "score": 8, "last_activity_date": 1568899805, "last_edit_date": 1568899805, "creation_date": 1455759961, "answer_id": 35471265, "question_id": 35469343, "link": "https://stackoverflow.com/questions/35469343/change-jupyter-notebook-version-4-x-logo/35471265#35471265", "title": "Change Jupyter notebook version 4.x+ logo", "body": "<p>So here is the quick solution thanks to @Eric comment (referring to <a href=\"https://stackoverflow.com/questions/27177459/customize-welcome-page-of-ipython-notebook\">this post</a>). First, I add <code>logo.png</code> into <code>.jupyter/custom/logo.png</code>. Then add the following lines to <code>.jupyter/custom/custom.css</code> in order to load the logo.</p>\n\n<pre><code>#ipython_notebook img{                                                                                        \n    display:block;\n    /* logo url here */\n    background: url(\"logo.png\") no-repeat;\n    background-size: contain;\n    width: 233px;\n    height: 33px;\n    padding-left: 233px;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n}\n</code></pre>\n\n<p>You can also add this css tag to increase logo padding height by adding:</p>\n\n<pre><code>#ipython_notebook {\n    height: 40px !important;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 5480447, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208048540682074/picture?type=large", "display_name": "Va\u0161\u0161o", "link": "https://stackoverflow.com/users/5480447/va%c5%a1%c5%a1o"}, "is_accepted": false, "score": 1, "last_activity_date": 1490192251, "creation_date": 1490192251, "answer_id": 42954267, "question_id": 35469343, "link": "https://stackoverflow.com/questions/35469343/change-jupyter-notebook-version-4-x-logo/42954267#42954267", "title": "Change Jupyter notebook version 4.x+ logo", "body": "<p>Add <code>logo.png</code> into <code>.jupyter/custom/logo.png</code>. Then add the following lines to <code>.jupyter/custom/custom.css</code> in order to load the logo. With a square size I was seeing an offset of the notebook name when used titipad's CSS. This fixes it.</p>\n\n<pre><code>    #ipython_notebook img{                                                                                        \n        display:block;\n        background: url(logo.png) no-repeat;\n        background-size: contain;\n        width: 33px;\n        height: 33px;\n        padding-left: 33px;\n        -moz-box-sizing: border-box;\n        box-sizing: border-box;\n    }\n\n    #header-container {\n        display: flex;\n        justify-content: space-between;\n    }\n\n    span#login_widget {\n        flex-grow: 1;\n        order: 4;\n        display: flex;\n        justify-content: flex-end;\n    }\n\n    span#save_widget {\n        flex-grow: 40;\n    }\n</code></pre>\n"}], "owner": {"reputation": 4505, "user_id": 3626961, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/100001104558583/picture?type=large", "display_name": "titipata", "link": "https://stackoverflow.com/users/3626961/titipata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7258, "favorite_count": 3, "accepted_answer_id": 35471265, "answer_count": 2, "score": 7, "last_activity_date": 1568899805, "creation_date": 1455749360, "last_edit_date": 1455756735, "question_id": 35469343, "link": "https://stackoverflow.com/questions/35469343/change-jupyter-notebook-version-4-x-logo", "title": "Change Jupyter notebook version 4.x+ logo", "body": "<p>In IPython notebook version <code>2.x</code>, you can add logo by customizing folder <code>.ipython/profile_name/static/base/images/logo.png</code> and it will display the custom logo that we made on the header of the notebook.</p>\n\n<p>In Jupyter notebook version <code>4.x</code>, we know that they move directory to <code>.jupyter/</code> instead i.e. <code>.jupyter/base/</code> and <code>.jupyter/custom/custom.css</code>. However, when I try to customize default profile in <code>~/.jupyter/base/images/logo.png</code>, I couldn't custom the logo anymore.</p>\n\n<p>The question is: How to custom logo in Jupyter notebook version <code>4.x</code>. I'm wondering if there is a solution to custom Jupyter notebook logo (version <code>4.x</code>) or not. I put example snapshot of customized notebook logo in previous version <code>2.x</code> below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/7FCLU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7FCLU.png\" alt=\"example\"></a></p>\n"}, {"tags": ["python", "pylint", "unused-variables"], "comments": [{"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1455749316, "post_id": 35469253, "comment_id": 58634172, "body": "Does <a href=\"https://docs.pylint.org/faq.html#is-it-possible-to-locally-disable-a-particular-message\" rel=\"nofollow noreferrer\">docs.pylint.org/&hellip;</a> help?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455749373, "post_id": 35469253, "comment_id": 58634201, "body": "If you really want to do this, create a local <code>.pylintrc</code> file which suppresses that warning."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1455749754, "post_id": 35469253, "comment_id": 58634385, "body": "Does say use <code>locals()</code> to get the args?  That seems hinky."}, {"owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455750053, "post_id": 35469253, "comment_id": 58634525, "body": "@JohnGordon. Yes, it does. And yes, it does."}, {"owner": {"reputation": 2494, "user_id": 370132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/32962f2e057da55303dd023bab7e2617?s=128&d=identicon&r=PG", "display_name": "Eleno", "link": "https://stackoverflow.com/users/370132/eleno"}, "reply_to_user": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "edited": false, "score": 0, "creation_date": 1455751033, "post_id": 35469253, "comment_id": 58634939, "body": "@Rob\u1d69: Thanks, but I don&#39;t want to disable the <i>unused variable</i> warning for all variables."}, {"owner": {"reputation": 6494, "user_id": 1079075, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/377054ee866280e0cea2acf7f8761fe0?s=128&d=identicon&r=PG", "display_name": "Seanny123", "link": "https://stackoverflow.com/users/1079075/seanny123"}, "edited": false, "score": 3, "creation_date": 1510020491, "post_id": 35469253, "comment_id": 81247725, "body": "Note that string interpolation is now included in Python 3.6"}], "answers": [{"comments": [{"owner": {"reputation": 3207, "user_id": 1725088, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/7f0f1313dd8f54f2f4ded54edb88056d?s=128&d=identicon&r=PG&f=1", "display_name": "kupsef", "link": "https://stackoverflow.com/users/1725088/kupsef"}, "edited": false, "score": 8, "creation_date": 1486563062, "post_id": 35469406, "comment_id": 71399292, "body": "The funny thing is that your suggestion also violates a lint rule:) #pylint...   -- &gt;   E265 block comment should start with &#39;# &#39;"}], "tags": [], "owner": {"reputation": 142870, "user_id": 8747, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1ee0402d24625f555c25ea8511aad31?s=128&d=identicon&r=PG", "display_name": "Rob\u1d69", "link": "https://stackoverflow.com/users/8747/rob%e1%b5%a9"}, "is_accepted": true, "score": 49, "last_activity_date": 1581523443, "last_edit_date": 1581523443, "creation_date": 1455749639, "answer_id": 35469406, "question_id": 35469253, "link": "https://stackoverflow.com/questions/35469253/silence-pylint-warning-about-unused-variables-for-string-interpolation/35469406#35469406", "title": "Silence PyLint warning about unused variables for string interpolation", "body": "<p>Yes, you can silence pylint warnings.</p>\n\n<p>Here is one way:</p>\n\n<pre><code>import say\n\ndef f(a):\n    #pylint: disable=unused-argument\n    return say.fmt(\"The value of 'a' is {a}\")\n</code></pre>\n\n<p>Alternatively, you can create a config file and add these lines to it:</p>\n\n<pre><code>[MESSAGES CONTROL]\ndisable=unused-argument\n</code></pre>\n\n<p>Reference:</p>\n\n<ul>\n<li><a href=\"https://pylint.readthedocs.io/en/latest/faq.html#is-it-possible-to-locally-disable-a-particular-message\" rel=\"noreferrer\">https://pylint.readthedocs.io/en/latest/faq.html#is-it-possible-to-locally-disable-a-particular-message</a></li>\n<li><a href=\"https://pylint.readthedocs.io/en/latest/user_guide/run.html#command-line-options\" rel=\"noreferrer\">https://pylint.readthedocs.io/en/latest/user_guide/run.html#command-line-options</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 251717, "user_id": 895245, "user_type": "registered", "accept_rate": 49, "profile_image": "https://i.stack.imgur.com/jhDFt.png?s=128&g=1", "display_name": "Ciro Santilli\u65b0\u7586\u68c9\u82b1TRUMP BAN BAD", "link": "https://stackoverflow.com/users/895245/ciro-santilli%e6%96%b0%e7%96%86%e6%a3%89%e8%8a%b1trump-ban-bad"}, "edited": false, "score": 5, "creation_date": 1510678190, "post_id": 44865444, "comment_id": 81532751, "body": "The downside of this method is that it changes the function signature, since in Python one can always call: <code>f(_a=1)</code>."}], "tags": [], "owner": {"reputation": 4024, "user_id": 1080804, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/9bff7b79c1278cd94621160ed497aa71?s=128&d=identicon&r=PG", "display_name": "ecoe", "link": "https://stackoverflow.com/users/1080804/ecoe"}, "is_accepted": false, "score": 18, "last_activity_date": 1498943511, "creation_date": 1498943511, "answer_id": 44865444, "question_id": 35469253, "link": "https://stackoverflow.com/questions/35469253/silence-pylint-warning-about-unused-variables-for-string-interpolation/44865444#44865444", "title": "Silence PyLint warning about unused variables for string interpolation", "body": "<p>One approach to silencing that message is to name or prefix the argument with <code>dummy</code> or <code>_</code>, as in:</p>\n\n<pre><code>import say\n\ndef f(_a):\n    return say.fmt(\"The value of 'a' is {_a}\")\n</code></pre>\n\n<p>See here for more info: <a href=\"https://stackoverflow.com/a/10107410/1080804\">https://stackoverflow.com/a/10107410/1080804</a></p>\n"}, {"tags": [], "owner": {"reputation": 1829, "user_id": 2747741, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2c50bde11723bbb26ac7aa17ee9a0ad?s=128&d=identicon&r=PG", "display_name": "mtd", "link": "https://stackoverflow.com/users/2747741/mtd"}, "is_accepted": false, "score": 6, "last_activity_date": 1533215320, "creation_date": 1533215320, "answer_id": 51654498, "question_id": 35469253, "link": "https://stackoverflow.com/questions/35469253/silence-pylint-warning-about-unused-variables-for-string-interpolation/51654498#51654498", "title": "Silence PyLint warning about unused variables for string interpolation", "body": "<p>There is <code>disable-possibly-unused-variable</code> now (since <a href=\"http://pylint.pycqa.org/en/latest/whatsnew/2.0.html\" rel=\"noreferrer\">pylint 2.0 was released on 2018-07-15</a>), which one could ignore in files importing your <code>say</code> module:</p>\n\n<blockquote>\n  <p>New <strong>possibly-unused-variable</strong> check added.</p>\n  \n  <p>This is similar to unused-variable, the only difference is that it is emitted when we detect a locals() call in the scope of the unused variable. The locals() call could potentially use the said variable, by consuming all values that are present up to the point of the call. This new check allows to disable this error when the user intentionally uses locals() to consume everything.</p>\n  \n  <p>For instance, the following code will now trigger this new error:</p>\n\n<pre><code>def func():\n    some_value = some_call()\n    return locals()\n</code></pre>\n</blockquote>\n\n<p>The rationale for this check <a href=\"https://github.com/PyCQA/pylint/issues/1909#issue-301993685\" rel=\"noreferrer\">explicitly includes your use case</a>, though it's noted that it's not a perfect solution:</p>\n\n<blockquote>\n  <p>It would be great to have a separate check for unused variables if locals() is used in the same scope:</p>\n\n<pre><code>def example_no_locals():\n  value = 42  # pylint: disable=unused-variable\n\ndef exmaple_defined_before():\n  value = 42  # pylint: disable=possibly-unused-variable\n  print(locals())\n\ndef exmaple_defined_after():\n  print(locals())\n  value = 42  # pylint: disable=unused-variable\n</code></pre>\n  \n  <p>The benefit of this is that one can disable probably-unused-variable for a file (that has a lot of string formatting in it, or the config code example in #641) or the whole project without also loosing checks for unused-variable.</p>\n</blockquote>\n"}], "owner": {"reputation": 2494, "user_id": 370132, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/32962f2e057da55303dd023bab7e2617?s=128&d=identicon&r=PG", "display_name": "Eleno", "link": "https://stackoverflow.com/users/370132/eleno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37635, "favorite_count": 2, "accepted_answer_id": 35469406, "answer_count": 3, "score": 32, "last_activity_date": 1581523443, "creation_date": 1455749011, "question_id": 35469253, "link": "https://stackoverflow.com/questions/35469253/silence-pylint-warning-about-unused-variables-for-string-interpolation", "title": "Silence PyLint warning about unused variables for string interpolation", "body": "<p>The <code>say</code> module brings string interpolation to Python, like this:</p>\n\n<pre><code>import say\n\ndef f(a):\n    return say.fmt(\"The value of 'a' is {a}\")\n</code></pre>\n\n<p>However, PyLint complains that the variable 'a' is never used.  This is a problem because my code uses <code>say.fmt</code> extensively.  How can I silence this warning?</p>\n"}, {"tags": ["python", "python-2.7", "ubuntu", "image-processing", "tesseract"], "comments": [{"owner": {"reputation": 51822, "user_id": 1552748, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/7840b7a3579d2a7065d5c0aa804b5b92?s=128&d=identicon&r=PG", "display_name": "Paul H", "link": "https://stackoverflow.com/users/1552748/paul-h"}, "edited": false, "score": 1, "creation_date": 1455749037, "post_id": 35469218, "comment_id": 58634048, "body": "you should copy and paste the error into your question as text so that it is searchable for future users of the site."}, {"owner": {"reputation": 509, "user_id": 5104436, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/n6aQS.jpg?s=128&g=1", "display_name": "Darleison Rodrigues", "link": "https://stackoverflow.com/users/5104436/darleison-rodrigues"}, "edited": false, "score": 0, "creation_date": 1455832636, "post_id": 35469218, "comment_id": 58679131, "body": "can you show the the outputs after apply this:  <code>import PIL</code> <code>PIL.__version__</code>"}, {"owner": {"reputation": 2482, "user_id": 3654356, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/100006427382469/picture?type=large", "display_name": "orvi", "link": "https://stackoverflow.com/users/3654356/orvi"}, "edited": false, "score": 0, "creation_date": 1456314757, "post_id": 35469218, "comment_id": 58887399, "body": "Uninstall pillow and pip and reinstall those."}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455751205, "post_id": 35469636, "comment_id": 58635016, "body": "I tried now it says : from PIL import _imaging as core .I changed it to core and doesn&#39;t work"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2508324"}, "reply_to_user": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455751297, "post_id": 35469636, "comment_id": 58635056, "body": "@SiamakHeshmati Could you provide the full error message?"}, {"owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455751425, "post_id": 35469636, "comment_id": 58635114, "body": "here is the full error  Traceback (most recent call last):   File &quot;/home/siamak/workspace/test/com/tower/test/ocr2.py&quot;, line 1, in &lt;module&gt;     from PIL import _imaging as core ImportError: /home/siamak/.local/lib/python2.7/site-packages/PIL/_imaging&zwnj;&#8203;.so: undefined symbol: PyUnicodeUCS4_AsLatin1String"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2508324"}, "reply_to_user": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455751765, "post_id": 35469636, "comment_id": 58635234, "body": "@SiamakHeshmati Are you using Python on Windows? If so, this might help: <a href=\"http://stackoverflow.com/questions/26965487/undefined-symbol-pyunicodeucs4-aslatin1string-when-installing-pillow-for-local\" title=\"undefined symbol pyunicodeucs4 aslatin1string when installing pillow for local\">stackoverflow.com/questions/26965487/&hellip;</a>. Also, if you&#39;re using Python 2.6, you&#39;ll need to upgrade to 2.7."}, {"owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455751976, "post_id": 35469636, "comment_id": 58635332, "body": "I am using Python 2.7 on Ubuntu (Linux)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user2508324"}, "reply_to_user": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 0, "creation_date": 1455752038, "post_id": 35469636, "comment_id": 58635351, "body": "@SiamakHeshmati What error do you get when you use the exact code from your question, but replace <code>import Image</code> with <code>from PIL import Image</code>?"}, {"owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "edited": false, "score": 1, "creation_date": 1455753041, "post_id": 35469636, "comment_id": 58635698, "body": "I did and  : Traceback (most recent call last):   File &quot;/home/siamak/workspace/test/com/tower/test/ocr2.py&quot;, line 1, in &lt;module&gt;     from PIL import Image    File &quot;/home/siamak/.local/lib/python2.7/site-packages/PIL/Image.p&zwnj;&#8203;y&quot;, line 66, in &lt;module&gt;     from PIL import _imaging as core ImportError: /home/siamak/.local/lib/python2.7/site-packages/PIL/_imaging&zwnj;&#8203;.so: undefined symbol: PyUnicodeUCS4_AsLatin1String"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user2508324"}, "is_accepted": false, "score": 0, "last_activity_date": 1455750666, "creation_date": 1455750666, "answer_id": 35469636, "question_id": 35469218, "link": "https://stackoverflow.com/questions/35469218/i-am-using-pillow-and-getting-an-error-importerror-no-module-named-image-in-u/35469636#35469636", "title": "I am using Pillow and getting an error &quot;ImportError :No module named Image&quot; in Ubuntu?", "body": "<p>You have to do:</p>\n\n<pre><code>from PIL import Image\n</code></pre>\n\n<p><code>Image</code> is a submodule of <code>PIL</code>, so you have to use the <code>from...import</code> syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "is_accepted": false, "score": 0, "last_activity_date": 1455907952, "creation_date": 1455907952, "answer_id": 35512808, "question_id": 35469218, "link": "https://stackoverflow.com/questions/35469218/i-am-using-pillow-and-getting-an-error-importerror-no-module-named-image-in-u/35512808#35512808", "title": "I am using Pillow and getting an error &quot;ImportError :No module named Image&quot; in Ubuntu?", "body": "<p>I tested it on Linux Mint , and CentOS and it works perfectly .\nFor some reason it doesn't work on Ubuntu 32 and 64 .\nI am assuming it is related to the PIL installation\nThanks</p>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 754920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab81cc4d8cc7a2ad84f6f68018c34c7?s=128&d=identicon&r=PG", "display_name": "Jer K", "link": "https://stackoverflow.com/users/754920/jer-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1489546656, "last_edit_date": 1495540430, "creation_date": 1489546656, "answer_id": 42800331, "question_id": 35469218, "link": "https://stackoverflow.com/questions/35469218/i-am-using-pillow-and-getting-an-error-importerror-no-module-named-image-in-u/42800331#42800331", "title": "I am using Pillow and getting an error &quot;ImportError :No module named Image&quot; in Ubuntu?", "body": "<p>I also had this problem where,</p>\n\n<pre><code>from PIL import Image\n</code></pre>\n\n<p>gave this same error as the one in your comment:</p>\n\n<blockquote>\n  <p>from PIL import _imaging as core </p>\n  \n  <p>ImportError: /home/jer/.local/lib/python2.7/site-packages/PIL/_imaging.so:\n  undefined symbol: PyUnicodeUCS4_AsLatin1String</p>\n</blockquote>\n\n<p>It seems a locally installed version of Pillow is the culprit. We can <a href=\"https://stackoverflow.com/a/35524522\">uninstall the local version</a> with,</p>\n\n<pre><code>pip uninstall Pillow\n</code></pre>\n\n<p>This left the system version of Pillow installed, which worked fine.</p>\n"}], "owner": {"reputation": 17, "user_id": 1834098, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/de9440ed69feb2965ee080f8a732bad9?s=128&d=identicon&r=PG", "display_name": "Siamak Heshmati", "link": "https://stackoverflow.com/users/1834098/siamak-heshmati"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2108, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1489546656, "creation_date": 1455748884, "last_edit_date": 1455749284, "question_id": 35469218, "link": "https://stackoverflow.com/questions/35469218/i-am-using-pillow-and-getting-an-error-importerror-no-module-named-image-in-u", "title": "I am using Pillow and getting an error &quot;ImportError :No module named Image&quot; in Ubuntu?", "body": "<p>Does anyone know why I am getting this error?\nI have Ubuntu 32-Bit , and Python 32-Bit and Installed Pillow using pip </p>\n\n<p>Here is the code:</p>\n\n<pre><code>import Image\nimport pytesseract\nprint pytesseract.image_to_string(Image.open('1.jpg'))\n</code></pre>\n\n<p>Here is the error :</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):\n    File \"/home/siamak/workspace/test/com/tower/test/ocr.py\", line 1, in \n      import Image\n  ImportError: No module named Image</p>\n</blockquote>\n"}, {"tags": ["python", "loops", "tkinter"], "comments": [{"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1455748913, "post_id": 35469147, "comment_id": 58633988, "body": "You define <code>x</code> as a string, but you want to put a <code>Label</code> inside?"}, {"owner": {"reputation": 53, "user_id": 5878050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LeGcV.jpg?s=128&g=1", "display_name": "TRV", "link": "https://stackoverflow.com/users/5878050/trv"}, "reply_to_user": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1455749003, "post_id": 35469147, "comment_id": 58634025, "body": "i want the program to those build buttons in every tab so i dont have to write &lt;code&gt;tk.Label(f1, text=&#39;Nazwa&#39;).grid(row=0, column=0) tk.Label(f2, text=&#39;Nazwa&#39;).grid(row=0, column=0)&lt;/code&gt; nine times"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455749042, "post_id": 35469147, "comment_id": 58634050, "body": "Please post the full error message.  Don&#39;t make us guess where the error is."}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 1, "creation_date": 1455749123, "post_id": 35469147, "comment_id": 58634085, "body": "Why do you think the variable <code>x</code> can be the parent of a widget?"}, {"owner": {"reputation": 17990, "user_id": 5827958, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/V9KEl.png?s=128&g=1", "display_name": "zondo", "link": "https://stackoverflow.com/users/5827958/zondo"}, "edited": false, "score": 0, "creation_date": 1455749209, "post_id": 35469147, "comment_id": 58634123, "body": "@TRV: That is why I mention it.  BryanOakley put it better than I."}, {"owner": {"reputation": 53, "user_id": 5878050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LeGcV.jpg?s=128&g=1", "display_name": "TRV", "link": "https://stackoverflow.com/users/5878050/trv"}, "reply_to_user": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1455749700, "post_id": 35469147, "comment_id": 58634352, "body": "@BryanOakley I was hoping there is a way to automate the generation of buttons in the program and using a variable an a loop was my 1 idea"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1455750920, "post_id": 35469147, "comment_id": 58634898, "body": "There is a way to use a loop, of course. Are you aware of what a widget requires for its first argument? What did you expect would happen when you pass in a string to that parameter?"}, {"owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "edited": false, "score": 0, "creation_date": 1455758022, "post_id": 35469147, "comment_id": 58637296, "body": "A better title would be something like &quot;How to make multiple tab frames with the same content?&quot;  This is the question I answered."}], "answers": [{"tags": [], "owner": {"reputation": 15789, "user_id": 722804, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3qBY9.png?s=128&g=1", "display_name": "Terry Jan Reedy", "link": "https://stackoverflow.com/users/722804/terry-jan-reedy"}, "is_accepted": true, "score": 3, "last_activity_date": 1455757899, "creation_date": 1455757899, "answer_id": 35470958, "question_id": 35469147, "link": "https://stackoverflow.com/questions/35469147/str-object-has-no-attribute-tk/35470958#35470958", "title": "str object has no attribute tk", "body": "<p>You need an outer loop for the tab-frame pairs and an inner loop for the label-entry pairs.  I believe the following is a start on what you are looking for.</p>\n\n<pre><code>import Tkinter as tk\nimport ttk\n\nclass Aplikacja(tk.Frame):\n    def __init__(self, parent):\n        tk.Frame.__init__(self, parent)\n        self.grid()\n\n        zakladki=ttk.Notebook(parent)\n        entries = {}\n        for title in ('Czapki', 'Dodatki', 'buty', 'spodnie', 'kurtka',\n                      'T-shirt', 'sweter', 'skarpetki', 'koszula'):\n            frame = ttk.Frame(zakladki)\n            for row, txt in (0, 'Nazwa'), (1, \"Kolor\"), (2, \"Firma\"):\n                tk.Label(frame, text=txt).grid(row=row, column=0)\n                entry = tk.Entry(frame)\n                entries[title, txt] = entry\n                entry.grid(row=row, column=1)\n            zakladki.add(frame, text=title)\n        zakladki.grid()\n\nroot= tk.Tk()\nroot.title(\"Szaffa\")\napp= Aplikacja(root)\nroot.mainloop()\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 5878050, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/LeGcV.jpg?s=128&g=1", "display_name": "TRV", "link": "https://stackoverflow.com/users/5878050/trv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4945, "favorite_count": 0, "accepted_answer_id": 35470958, "answer_count": 1, "score": -1, "last_activity_date": 1455757899, "creation_date": 1455748563, "question_id": 35469147, "link": "https://stackoverflow.com/questions/35469147/str-object-has-no-attribute-tk", "title": "str object has no attribute tk", "body": "<p>I got 9 tabs in my program and in those tabs I have 5 widgets that are completely the same for every one. So instead of writing a block of identical hand written code I've wanted to use a loop so the program will self-assemble itself. But instead of progress I've got an attribute error. My question is: How can I \"persuade\" my code that my \"x\" is not really a \"x\" but a \"f1\"(\"f2\", \"f3\" etc) and its tk attribute was already declared?</p>\n\n<pre><code>import Tkinter as tk\nimport ttk as ttk\nimport sqlite3 #importowanie bazy danych\nimport time\nimport datetime\n\nlitera=\"f\"\nclass Aplikacja(tk.Frame):\ndef __init__(self, *args, **kwargs):\n    tk.Frame.__init__(self, *args, **kwargs)\n    self.grid()\n\n    k=tk.Toplevel(self)\n    zakladki=ttk.Notebook(k)\n    f1=ttk.Frame(zakladki)\n    f2=ttk.Frame(zakladki)\n    f3=ttk.Frame(zakladki)\n    f4=ttk.Frame(zakladki)\n    f5=ttk.Frame(zakladki)\n    f6=ttk.Frame(zakladki)\n    f7=ttk.Frame(zakladki)\n    f8=ttk.Frame(zakladki)\n    f9=ttk.Frame(zakladki)\n    zakladki.add(f1, text='Czapki')\n    zakladki.add(f2, text='Dodatki')\n    zakladki.add(f3, text='buty')\n    zakladki.add(f4, text='spodnie')\n    zakladki.add(f5, text='kurtka')\n    zakladki.add(f6, text='T-shirt')\n    zakladki.add(f7, text='sweter')\n    zakladki.add(f8, text='skarpetki')\n    zakladki.add(f9, text='koszula')\n    zakladki.grid()\n    numznak=1\n    while numznak&lt;10:\n        znak2=str(numznak)\n        #print \"numznak: %d\" % numznak\n        #print \"znak2: %s\" % znak2\n        x=litera+znak2\n        #print \"x: %s\" % x\n\n        tk.Label(x, text='Nazwa').grid(row=0, column=0)\n        self.nazwa=tk.Entry(x)\n        self.nazwa.grid(row=0, column=1)\n        tk.Label(x, text=(\"Kolor\")).grid(row=1, column=0)\n        self.kolor=tk.Entry(x)\n        self.kolor.grid(row=1, column=1)\n        tk.Label(x, text=(\"Firma:\")).grid(row=2, column=0)\n        self.firma=tk.Entry(x)\n        self.firma.grid(row=2, column=1)\n\n        numznak= numznak +1\n\nroot= tk.Tk()\nroot.title(\"Szaffa\")\nroot.geometry(\"180x200\")\napp= Aplikacja(root)\nroot.mainloop()\n</code></pre>\n"}, {"tags": ["python", "json", "csv", "pandas", "dataframe"], "answers": [{"tags": [], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "is_accepted": false, "score": 0, "last_activity_date": 1455749470, "last_edit_date": 1495539911, "creation_date": 1455749470, "answer_id": 35469366, "question_id": 35469138, "link": "https://stackoverflow.com/questions/35469138/python-panda-dataframe-to-json-object-omitting-a-groupby-column/35469366#35469366", "title": "Python panda dataframe to JSON object omitting a groupby column", "body": "<p>I have located the answer. Set as_index=False in the groupby param. The JSON object is in the correct format and includes the serial number with this change.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10373660/converting-a-pandas-groupby-object-to-dataframe\">Converting a Pandas GroupBy object to DataFrame</a></p>\n\n<blockquote>\n  <p>Aggregation functions will not return the groups that you are\n  aggregating over if they are named columns, when as_index=True, the\n  default. The grouped columns will be the indices of the returned\n  object.</p>\n  \n  <p>Passing as_index=False will return the groups that you are aggregating\n  over, if they are named columns.</p>\n</blockquote>\n"}], "owner": {"reputation": 1633, "user_id": 2183592, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/83404851cf2344785185e3d10c246af7?s=128&d=identicon&r=PG", "display_name": "pengz", "link": "https://stackoverflow.com/users/2183592/pengz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1488, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455749470, "creation_date": 1455748536, "question_id": 35469138, "link": "https://stackoverflow.com/questions/35469138/python-panda-dataframe-to-json-object-omitting-a-groupby-column", "title": "Python panda dataframe to JSON object omitting a groupby column", "body": "<p>I have a large CSV file that we will be using to import assets into our asset management database. Here is a smaller example for the CSV data.</p>\n\n<pre><code>Serial number,Movement type,Posting date\n2LMXK1,101,1/5/15 9:00\n2LMXK1,102,1/5/15 9:30\n2LMXK1,201,1/5/15 10:30\n2LMXK1,202,1/5/15 13:00\n2LMXK1,301,1/5/15 14:00\nJEMLP3,101,1/6/15 9:00\nJEMLP3,102,1/7/15 10:00\nJEMLP3,201,1/7/15 13:30\nJEMLP3,202,1/7/15 15:30\nJEMLP3,203,1/7/15 17:30\nBR83GP,101,1/5/15 9:00\nBR83GP,102,1/5/15 13:00\nBR83GP,201,1/6/15 9:00\nBR83GP,202,1/7/15 15:30\nBR83GP,301,1/5/15 13:00\nBR83GP,201,1/6/15 9:00\nBR83GP,301,1/9/15 15:30\n</code></pre>\n\n<p>I need to parse this CSV and return a JSON object of only the latest movement type for each unique serial number.</p>\n\n<p>I have a script successfully achieves:\n* Parse the CSV\n* Sort by Date and group by Serial number, get the latest date\n* Convert panda dataframe to JSON object (but missing serialnumber)</p>\n\n<p>ISSUE:\nThe \"serial number\" column is omitted when converting the dataframe to a JSON object. I think the problem is the fact that \"serial number\" is used as the groupby value. I tried the builtin to_json but that did not return the data in the correct format.</p>\n\n<p>The data frame contains the correct filtered data that I need as we can see in print(last_movement).</p>\n\n<p>How can I create a JSON object and obtain all of the columns in the dataframe?</p>\n\n<pre><code>#Import python modules\nimport ujson as json\nimport pandas as pd\nimport numpy as np\n\n#CSV parse to panda dataframe\npdata = pd.read_csv('import.csv', skipinitialspace=True, parse_dates=[2])\n\n#Sort by posting date to get rows by latest posting date/time only\nlast_movement = pdata.sort_values('Posting date').groupby('Serial number').last()\n\nprint(last_movement)\n# RETURNS\n# We know the dataframe is correct\n#\n#                      Movement type        Posting date \n#Serial number                                   \n#2LMXK1                   301 2015-01-05 14:00:00\n#BR83GP                   301 2015-01-09 15:30:00\n#JEMLP3                   203 2015-01-07 17:30:00\n\nout = last_movement.to_json()\nprint(out)\n\n#RETURNS a JSON object that is aggregated by serial number\n# {\"Movement type\":{\"2LMXK1\":301,\"BR83GP\":301,\"JEMLP3\":203},\"Posting date\":{\"2LMXK1\":1420466400000,\"BR83GP\":1420817400000,\"JEMLP3\":1420651800000}}\n</code></pre>\n\n<p>Here is the output when I tried a custom function to iterate the values and convert the dataframe to JSON object. Although this is a little bit better, it still does not have the serial number. It appears as though the \"groupby\" aggregation is causing some issues with the serial number column. Perhaps I need to somehow \"ungroup\" the resulting dataframe so I have my filtered data and can convert it to a JSON object.</p>\n\n<pre><code>#Convert panda dataframe to json object\ndef tojson(df):\n    d = [ \n        dict([\n            (colname, row[i])\n            for i,colname in enumerate(df.columns)\n        ])\n        for row in df.values\n    ]\n    return json.dumps(d)\n\nout = tojson(last_movement)\n\nprint(out)\n\n# RETURNS\n# MISSING SERIAL NUMBER\n# [{\"Posting date\":1420466400,\"Movement type\":301},{\"Posting date\":1420817400,\"Movement type\":301},{\"Posting date\":1420651800,\"Movement type\":203}]\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 1, "creation_date": 1455750031, "post_id": 35469123, "comment_id": 58634512, "body": "I suggest you try having the function return a string, instead of printing one, and use recursion."}, {"owner": {"reputation": 65, "user_id": 5911363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb9d58622133140e6e916dc2d63556a?s=128&d=identicon&r=PG&f=1", "display_name": "R.abdhir", "link": "https://stackoverflow.com/users/5911363/r-abdhir"}, "reply_to_user": {"reputation": 12289, "user_id": 675568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1cfe53579fb7b2afd58949be94cf97e?s=128&d=identicon&r=PG", "display_name": "Tom Zych", "link": "https://stackoverflow.com/users/675568/tom-zych"}, "edited": false, "score": 0, "creation_date": 1455817176, "post_id": 35469123, "comment_id": 58670289, "body": "Thank you. I was able to get the code working correctly using return and running recursive."}], "answers": [{"tags": [], "owner": {"reputation": 13033, "user_id": 4029014, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/ndZhu.jpg?s=128&g=1", "display_name": "aghast", "link": "https://stackoverflow.com/users/4029014/aghast"}, "is_accepted": false, "score": 0, "last_activity_date": 1455757688, "creation_date": 1455757688, "answer_id": 35470924, "question_id": 35469123, "link": "https://stackoverflow.com/questions/35469123/how-to-get-my-integer-to-word-dictionary-function-works-correctly/35470924#35470924", "title": "how to get my integer to word dictionary function works correctly", "body": "<p>This seems like homework, so I will hint rather than completely provide your answer.</p>\n\n<p>Please note that (in US English) handling \"thousand\" is <em>exactly</em> the same as handling numbers less than 1,000. The same is true (in US English) for 10E6 (million), 10E9 (billion), 10E12 (trillion), etc. I understand that this is different in Indian English, with lakhs and what-not. Also in countries that consider 10E9 = \"thousand million\" and 10E12 = \"billion.\" So you will definitely want to tune your answer to whatever your instructor expects.</p>\n\n<p>Anyway, 107,000 is \"one hundred seven <strong>thousand</strong>\", and 123,456 is \"one hundred twenty three <strong>thousand</strong> four hundred fifty six.\"</p>\n\n<p>You can see that this is a chance for a loop, because the logic is identical each time through.</p>\n\n<p>With that said, you will have to focus on the part of the number less than 1,000. The hundreds part is fairly easy: 401 is \"four hundred one\", and 525 is \"five hundred twenty five\", so all you need to do is check for a significant hundreds digit and add/not add the appropriate text.</p>\n\n<p>Next, we come down to the tens and ones digits. Looking at your code, you have way too much logic. I recommend you explicitly separate out the various parts, so you know what you are dealing with:</p>\n\n<pre><code>hundreds = (n % 1000) // 100\ntens_ones = n % 100\n</code></pre>\n\n<p>Now you can ask: is <code>tens_ones</code> in <code>d</code>? If so, you're done. If not, you'll have to divide it down into a tens part (and multiply by 10 to get back to 30 or whatever, which is in <code>d</code>), and a ones part which will be in <code>d</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5911363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb9d58622133140e6e916dc2d63556a?s=128&d=identicon&r=PG&f=1", "display_name": "R.abdhir", "link": "https://stackoverflow.com/users/5911363/r-abdhir"}, "edited": false, "score": 0, "creation_date": 1455817294, "post_id": 35472673, "comment_id": 58670359, "body": "Thank you. I was able to get this code working correctly using return statement and recursive."}], "tags": [], "owner": {"reputation": 5996, "user_id": 5917484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fafd4e82f40f116c5d2466663d8df13?s=128&d=identicon&r=PG&f=1", "display_name": "Tiny.D", "link": "https://stackoverflow.com/users/5917484/tiny-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1455768577, "creation_date": 1455768577, "answer_id": 35472673, "question_id": 35469123, "link": "https://stackoverflow.com/questions/35469123/how-to-get-my-integer-to-word-dictionary-function-works-correctly/35472673#35472673", "title": "how to get my integer to word dictionary function works correctly", "body": "<p>For your code, I think the problem is that you didn't consider how to handle the <strong>hundreds</strong> and <strong>thousands</strong> numbers correctly. And your code is only handle the number which is <strong>less than</strong> 1000,000. Here is the modified code based on your idea:</p>\n\n<pre><code>def int_to_word(n):\nd={0:'zero',1:'one',2:'two',3:'three',4:'four',5:'five',\n  6:'six',7:'seven',8:'eight',9:'nine',10:'ten',\n  11:'eleven',12:'twelve',13:'thirteen',14:'fourteen',\n  15:'fifteen',16:'sixteen',17:'seventeen',18:'eighteen',\n  19:'nineteen',20:'twenty',30:'thirty',40:'forty',\n  50:'fifty',60:'sixty',70:'seventy',80:'eighty',\n  90:'ninety'}\nk=1000\nm=k*1000\nif (n &lt;20):\n    print(d.get(n))\nelif (n &gt;=20 and n &lt;100):\n    if n%10==0:\n        print(d.get(n))\n    else:\n        print(d.get(n//10*10),d.get(n%10),end=\"\")\nelif (n&gt;=100) and (n&lt;k):\n    if n%100==0:\n        print(d[n//100],end=\" \")\n        print(\"hundred\")\n    else :\n        print(d.get(n//100),\"hundred\",d.get(n%100//10*10),d.get(n%100%10),end=\" \")\nelif (n&gt;=k)and (n&lt;m):\n    if n%k==0:\n        print(d.get(n//k//10*10),d.get(n//k%10),end=\" \")\n        print(\"thousand\")\n    else:\n        if n//k &gt; 100:\n            print(d.get(n//k//100),end=\" \")\n            print(\"hundred\",end=\" \")\n            print(d.get(n//k%100//10*10),d.get(n//k%100%10),end=\" \")\n            print(\"thousand\",end=\" \")\n        elif n//k &gt;10:\n            print(d.get(n//k//10*10),d.get(n//k%10),end=\" \")\n            print(\"thousand\",end=\" \")\n        else:\n            print(d.get(n//k%10),end=\" \")\n            print(\"thousand\",end=\" \")\n        print(d.get(n%k//100),\"hundred\",d.get(n%k%100//10*10),d.get(n%k%100%10),end=\" \")\n</code></pre>\n\n<p>In [2]:int_to_word(999999)</p>\n\n<p>nine hundred ninety nine thousand nine hundred ninety nine </p>\n"}], "owner": {"reputation": 65, "user_id": 5911363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bb9d58622133140e6e916dc2d63556a?s=128&d=identicon&r=PG&f=1", "display_name": "R.abdhir", "link": "https://stackoverflow.com/users/5911363/r-abdhir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455768577, "creation_date": 1455748459, "last_edit_date": 1455749257, "question_id": 35469123, "link": "https://stackoverflow.com/questions/35469123/how-to-get-my-integer-to-word-dictionary-function-works-correctly", "title": "how to get my integer to word dictionary function works correctly", "body": "<p>I was able to make this function converts integer to words in some cases, but still have trouble when the input is above 120; for 121,122,,,, and anything above ..20 after that, ie, 221,233,etc.. It returns one hundred None(for case above 120). And it would not work if the input is over 1020.</p>\n\n<pre><code>def int_to_word(n):\n    d={0:'zero',1:'one',2:'two',3:'three',4:'four',5:'five',\n      6:'six',7:'seven',8:'eight',9:'nine',10:'ten',\n      11:'eleven',12:'twelve',13:'thirteen',14:'fourteen',\n      15:'fifteen',16:'sixteen',17:'seventeen',18:'eighteen',\n      19:'nineteen',20:'twenty',30:'thirty',40:'forty',\n      50:'fifty',60:'sixty',70:'seventy',80:'eighty',\n      90:'ninety'}\n    k=1000\n    m=k*1000\n    if (n &lt;20):\n        print(d.get(n))\n    elif (n &gt;=20 and n &lt;100):\n        if n%10==0:\n            print(d.get(n))\n        else:\n            print(d.get(n//10*10),d.get(n%10),end=\"\")\n    elif (n&gt;=100) and (n&lt;k):\n        if n%100==0:\n            print(d[n//100],end=\" \")\n            print(\"hundred\")\n        else :\n            print(d.get(n//100),\"hundred\",d.get(n%100),end=\"\")\n    elif (n&gt;=k)and (n&lt;m):\n        if n%k==0:\n            print(d.get(n//k),end=\" \")\n            print(\"thousand\")\n        else:\n            print(d.get(n//k),end=\" \")\n            print(\"thousand\",end=\" \")\n            print(d.get(n%k))\n\nint_to_word(n)\n</code></pre>\n"}, {"tags": ["python", "variables", "sms", "twilio"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 4155334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/03dea26579d396eb651cd7346c49554e?s=128&d=identicon&r=PG&f=1", "display_name": "PieSquare", "link": "https://stackoverflow.com/users/4155334/piesquare"}, "edited": false, "score": 1, "creation_date": 1455753024, "post_id": 35469202, "comment_id": 58635692, "body": "I felt so dumb how i missed this simple logic, Code is working Fine Now. Thanks Ankitha :)"}], "tags": [], "owner": {"reputation": 330, "user_id": 5816858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkFpw.jpg?s=128&g=1", "display_name": "kulkarniankita", "link": "https://stackoverflow.com/users/5816858/kulkarniankita"}, "is_accepted": true, "score": 7, "last_activity_date": 1455748817, "creation_date": 1455748817, "answer_id": 35469202, "question_id": 35469080, "link": "https://stackoverflow.com/questions/35469080/twillio-restclient-in-python/35469202#35469202", "title": "Twillio Restclient in python", "body": "<p>Hi if you write anything in a \"\" (string) then it will be treated as a String. You should modify your code like below:</p>\n\n<pre><code>text =  \"Test Message\"\nmessage = client.messages.create(\n    body= text,\n    to=\"+12125551234\",\n    from_=\"+15105551234\",\n)\nprint message.sid\n</code></pre>\n\n<p>Basically you should assign the variable <code>text</code> to <code>body</code> so now body is \"Test Message\"</p>\n"}], "owner": {"reputation": 281, "user_id": 4155334, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/03dea26579d396eb651cd7346c49554e?s=128&d=identicon&r=PG&f=1", "display_name": "PieSquare", "link": "https://stackoverflow.com/users/4155334/piesquare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 35469202, "answer_count": 1, "score": 1, "last_activity_date": 1455751786, "creation_date": 1455748255, "last_edit_date": 1455751786, "question_id": 35469080, "link": "https://stackoverflow.com/questions/35469080/twillio-restclient-in-python", "title": "Twillio Restclient in python", "body": "<p>I'm Using Twilio Rest API in python to send sms , Below is the code I'm using to send SMS</p>\n\n<p>SMS was being sent successfully by below code but I want body of text to be declared as a variable. For example if I declare <code>ABC = \"Test message\"</code> then body should be <code>Test message</code>.</p>\n\n<pre><code>from twilio.rest import TwilioRestClient\n\nACCOUNT_SID = \"ACXXXXXXXXXXXXXXXXX\"\nAUTH_TOKEN = \"YYYYYYYYYYYYYYYYYY\"\n\nclient = TwilioRestClient(ACCOUNT_SID, AUTH_TOKEN)\n\nmessage = client.messages.create(\n    body=\"Hello World!\",  \n    to=\"+12125551234\",\n    from_=\"+15105551234\",\n)\nprint message.sid\n</code></pre>\n\n<p>If I use body = \"ABC\" it's sending message as \"ABC\" by sms i want declare variable in this case ABC = \"Test Message \" i want Body as Testmessage</p>\n\n<pre><code>message = client.messages.create(\n    body=\"Hello Monkey!\",  # Message body, if any\n    to=\"+12125551234\",\n    from_=\"+15105551234\",\n)\nprint message.sid\n</code></pre>\n\n<p>Is there any way to send declare variable as Message.</p>\n"}, {"tags": ["python", "wsgi"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 2, "creation_date": 1455748351, "post_id": 35469020, "comment_id": 58633768, "body": "The very first line of that script is: <code>from web.wsgi import *</code> presumably, base is defined in that module somewhere.  Do you have that module installed?"}, {"owner": {"reputation": 332, "user_id": 5725604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zysKN.png?s=128&g=1", "display_name": "ag415", "link": "https://stackoverflow.com/users/5725604/ag415"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455748550, "post_id": 35469020, "comment_id": 58633858, "body": "When I first tried running this application, I got an error saying &quot;ImportError: No module named web&quot;. At first, I tried doing &quot;pip install web&quot;, but that didn&#39;t work. Pip couldn&#39;t find anything named &quot;web.&quot; Eventually I stumbled across this StackOverflow post: <a href=\"http://stackoverflow.com/questions/9305316/python-import-web-not-working\" title=\"python import web not working\">stackoverflow.com/questions/9305316/&hellip;</a> Whoop&#39;s post stated that you should use &quot;aptitude install python-webpy&quot; so I did that and that solved the import error. I presume this did install the module."}, {"owner": {"reputation": 332, "user_id": 5725604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zysKN.png?s=128&g=1", "display_name": "ag415", "link": "https://stackoverflow.com/users/5725604/ag415"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455748916, "post_id": 35469020, "comment_id": 58633989, "body": "Please let me know if &quot;aptitude install python-webpy&quot; is not the correct way to install the module. Apparently the module is not properly installed if I am getting this NameError"}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 1, "creation_date": 1455748942, "post_id": 35469020, "comment_id": 58634001, "body": "You are looking at the documentation for <a href=\"http://pythonweb.org/\" rel=\"nofollow noreferrer\">pythonweb</a>, which is different from webpy"}, {"owner": {"reputation": 332, "user_id": 5725604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zysKN.png?s=128&g=1", "display_name": "ag415", "link": "https://stackoverflow.com/users/5725604/ag415"}, "edited": false, "score": 0, "creation_date": 1455751605, "post_id": 35469020, "comment_id": 58635167, "body": "How I install pythonweb? I tried doing &quot;aptitude install python-pythonweb&quot; but it said the package couldn&#39;t be found."}, {"owner": {"reputation": 15290, "user_id": 1913824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7793dc1a1117c0583651f716630e2403?s=128&d=identicon&r=PG", "display_name": "Andrea Corbellini", "link": "https://stackoverflow.com/users/1913824/andrea-corbellini"}, "edited": false, "score": 1, "creation_date": 1455787322, "post_id": 35469020, "comment_id": 58648693, "body": "You can download it from the home page. However note the scary warning: <i>29th June 2006 - Work on pythonweb has officially stopped so the code is no longer maintained</i> -- are you sure you want to use pythonweb?"}], "owner": {"reputation": 332, "user_id": 5725604, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/zysKN.png?s=128&g=1", "display_name": "ag415", "link": "https://stackoverflow.com/users/5725604/ag415"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1179, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455748003, "creation_date": 1455748003, "question_id": 35469020, "link": "https://stackoverflow.com/questions/35469020/nameerror-name-base-is-not-defined-in-wsgisession-example-application", "title": "NameError: name &#39;base&#39; is not defined in wsgisession example application", "body": "<p>I am trying to start a test server with the example application from this web page:</p>\n\n<p><a href=\"http://pythonweb.org/projects/webmodules/doc/0.5.3/html_multipage/lib/example-wsgiSession.html\" rel=\"nofollow\">http://pythonweb.org/projects/webmodules/doc/0.5.3/html_multipage/lib/example-wsgiSession.html</a></p>\n\n<p>However, when I try to launch my WSGI server, I get the following error message:</p>\n\n<p>Traceback (most recent call last):\n  File \"wsgiSession.py\", line 3, in \n    class simpleApp(base.BaseApplication):\nNameError: name 'base' is not defined</p>\n\n<p>I downloaded the plain text version of the script from here:</p>\n\n<p><a href=\"http://pythonweb.org/projects/webmodules/doc/0.5.3/html_multipage/lib/wsgiSession.txt\" rel=\"nofollow\">http://pythonweb.org/projects/webmodules/doc/0.5.3/html_multipage/lib/wsgiSession.txt</a></p>\n\n<p>I did not make <em>any</em> changes to this code. I simply put it in my project home directory and specified it in the command line parameters of my WSGI server, as I would with any other python script. All other python scripts in my project directory work fine, it is just this one script that is giving me this error.</p>\n\n<p>How can I make it work?</p>\n"}, {"tags": ["python", "sympy"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1455748191, "post_id": 35468985, "comment_id": 58633700, "body": "I don&#39;t see an <code>Add</code> object anywhere in your code.  Post the actual code that is causing the error, please."}], "answers": [{"comments": [{"owner": {"reputation": 384, "user_id": 5022475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/135938996b905d8b590f305573fa7ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Estefy", "link": "https://stackoverflow.com/users/5022475/estefy"}, "edited": false, "score": 0, "creation_date": 1455750068, "post_id": 35469199, "comment_id": 58634533, "body": "When I tried calling the function by using:          <code>def fun(x):</code>            <code>return numpy.sin(x)</code> It didn&#39;t work as well"}, {"owner": {"reputation": 8858, "user_id": 186026, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/q1xfe.png?s=128&g=1", "display_name": "fjarri", "link": "https://stackoverflow.com/users/186026/fjarri"}, "reply_to_user": {"reputation": 384, "user_id": 5022475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/135938996b905d8b590f305573fa7ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Estefy", "link": "https://stackoverflow.com/users/5022475/estefy"}, "edited": false, "score": 0, "creation_date": 1455751284, "post_id": 35469199, "comment_id": 58635048, "body": "I do not really have enough information to comment on that (what was the type of <code>x</code>? didn&#39;t work how? what did you expect it to do?). Also it seems like a separate question."}, {"owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "reply_to_user": {"reputation": 384, "user_id": 5022475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/135938996b905d8b590f305573fa7ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Estefy", "link": "https://stackoverflow.com/users/5022475/estefy"}, "edited": false, "score": 1, "creation_date": 1455814461, "post_id": 35469199, "comment_id": 58668530, "body": "@Estefy: &quot;It didn&#39;t work&quot; is not a problem description.  Please see <a href=\"http://stackoverflow.com/help/how-to-ask\">how to ask</a>."}], "tags": [], "owner": {"reputation": 8858, "user_id": 186026, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/q1xfe.png?s=128&g=1", "display_name": "fjarri", "link": "https://stackoverflow.com/users/186026/fjarri"}, "is_accepted": false, "score": 4, "last_activity_date": 1455748806, "creation_date": 1455748806, "answer_id": 35469199, "question_id": 35468985, "link": "https://stackoverflow.com/questions/35468985/integrals-in-python-add-object-not-callable/35469199#35469199", "title": "Integrals in Python: Add object not callable", "body": "<p>In your case <code>f</code> is a <code>sympy</code> expression. You cannot just evaluate it by calling it; you have to use the <a href=\"http://docs.sympy.org/latest/modules/evalf.html\" rel=\"nofollow\"><code>evalf()</code></a> method:</p>\n\n<pre><code>...\nintegral += 0.5*(xedge[n+1] - xedge[n])*(f.evalf(xedge[n]) + f.evalf(xedge[n+1]))\n...\n</code></pre>\n\n<p>Produces the output:</p>\n\n<pre><code>Taylor series: x**5/120 - x**3/6 + x\nTrapezoid rule result: 0.0079345703125*x**5 - 0.158203125*x**3 + 1.0*x\n\nEnd\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75386, "user_id": 161801, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/0383e4cae325f65a1bbd906be4be2276?s=128&d=identicon&r=PG", "display_name": "asmeurer", "link": "https://stackoverflow.com/users/161801/asmeurer"}, "edited": false, "score": 0, "creation_date": 1455811739, "post_id": 35469291, "comment_id": 58666449, "body": "<code>f = sin(x)</code> is correct. <code>sin</code> here is <code>sympy.sin</code>."}], "tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1530711625, "last_edit_date": 1530711625, "creation_date": 1455749197, "answer_id": 35469291, "question_id": 35468985, "link": "https://stackoverflow.com/questions/35468985/integrals-in-python-add-object-not-callable/35469291#35469291", "title": "Integrals in Python: Add object not callable", "body": "<p>Your command <code>f = sin(x)</code> is invalid; the argument is a <code>sympy.Symbol</code>, not a legal argument to the <code>sin</code> function.</p>\n\n<p>For future reference, here's how I broke down the problem to isolate the error.  Replacing <code>f</code> with <code>sin</code> worked around the problem ... likely not what you need for your assignment, but useful in debugging.</p>\n\n<pre><code>import math\nimport numpy\nimport sympy as sy\nimport numpy as np\nfrom sympy.functions import sin,cos\nimport matplotlib.pyplot as plt\nx = sy.Symbol('x')\nprint \"sy.Symbol('x') is\", x, type(x)\nf = sin(x)\n\n# Factorial function that will be used in the Taylor approximation\ndef factorial(n):\n    if n &lt;= 0:\n        return 1\n    else:\n        return n*factorial(n-1)\n\ntaylor_series = sin(x).series(n=None)\n\n#def fun(x):\n#   return numpy.sin(x)\n\n\n# Do a trapezoid integration by breaking up the domain [a,b] into N slabs\ndef trap(a,b,f,N):\n\n    xedge = numpy.linspace(a,b,N+1)\n\n    integral = 0.0\n\n    n = 0\n    while n &lt; N:\n        x0 = xedge[n]\n        x1 = xedge[n+1]\n        print x0, x1\n        sub1 = x1 - x0\n        f0 = math.sin(x0)\n        f1 = math.sin(x1)\n        sub2 = f0 + f1\n        integral = integral + 0.5 * sub1 * sub2\n        n += 1\n\n    return integral\n\n\nN = 3\na = 0.0\nb = 1.0\n# takes the number of terms desired for your generator\nz = sum([next(taylor_series) for i in range(N)])\nprint(\"Taylor series:\",z)\n\n# Trapezoid rule result and calculaiton of error term\nN = 2\n\nwhile (N &lt;= 2):\n    dd = trap(a,b,z,N)\n    print ('Trapezoid rule result:', dd)\n    N *= 2\n</code></pre>\n"}], "owner": {"reputation": 384, "user_id": 5022475, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/135938996b905d8b590f305573fa7ef0?s=128&d=identicon&r=PG&f=1", "display_name": "Estefy", "link": "https://stackoverflow.com/users/5022475/estefy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7968, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1530711625, "creation_date": 1455747834, "last_edit_date": 1455748833, "question_id": 35468985, "link": "https://stackoverflow.com/questions/35468985/integrals-in-python-add-object-not-callable", "title": "Integrals in Python: Add object not callable", "body": "<p>I'm trying to solve an integral of a taylor approximation of a sin(x) function by using the trapezoid rule. The code seems fine but it keep giving me the following error: \"TypeError: 'Add' object is not callable\"</p>\n\n<p>This is my code:</p>\n\n<pre><code> import math\n import numpy\n import sympy as sy\n import numpy as np\n from sympy.functions import sin,cos\n import matplotlib.pyplot as plt\n x = sy.Symbol('x')\n f = sin(x)\n # Factorial function\n     if n &lt;= 0:\n         return 1\n     else:\n         return n*factorial(n-1)\n\n taylor_series = sin(x).series(n=None)\n # Do a trapezoid integration\n     xedge = numpy.linspace(a,b,N+1)\n     integral = 0.0\n     n = 0\n     while n &lt; N:\n         integral += 0.5*(xedge[n+1] - xedge[n])*(f(xedge[n]) + f(xedge[n+1]))\n         n += 1\n     return integral\n\n N = 3\n a = 0.0\n b = 1.0\n\n z = sum([next(taylor_series) for i in range(N)])\n print(\"Taylor series:\",z)\n # Trapezoid rule result \n N = 2\n while (N &lt;= 2):\n     dd = trap(a,b,z,N)\n     print ('Trapezoid rule result:', dd)\n     N *= 2\n</code></pre>\n\n<p>The traceback:</p>\n\n<pre><code>Error: Traceback (most recent call last):\n  File \"Question1.py\", line 86, in &lt;module&gt;\n    dd = trap(a,b,z,N)\n  File \"Question1.py\", line 67, in trap\n    integral += 0.5*(xedge[n+1] - xedge[n])*(f(xedge[n]) + f(xedge[n+1]))\nTypeError: 'Add' object is not callable\n</code></pre>\n"}, {"tags": ["python", "django", "selenium"], "comments": [{"owner": {"reputation": 411841, "user_id": 771848, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2DTBv.jpg?s=128&g=1", "display_name": "alecxe", "link": "https://stackoverflow.com/users/771848/alecxe"}, "edited": false, "score": 0, "creation_date": 1455752655, "post_id": 35468966, "comment_id": 58635562, "body": "What if you do the same manually in the browser - same problem?"}], "answers": [{"tags": [], "owner": {"reputation": 2065, "user_id": 3195451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9f1955e912e631e239d4389e54c9cc47?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3195451/daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1457469376, "creation_date": 1457469376, "answer_id": 35877508, "question_id": 35468966, "link": "https://stackoverflow.com/questions/35468966/python-selenium-send-keys-switches-input-before-finishing-first-string/35877508#35877508", "title": "Python selenium send_keys switches input before finishing first string", "body": "<p>It looks like (for some reason) something is interpreting the \"r\" in \"username\" as a <em>control</em> character (moving focus to the next field), rather than as a regular character.</p>\n\n<p>Two possible workarounds: you could <a href=\"http://selenium-python.readthedocs.org/api.html#selenium.webdriver.remote.webelement.WebElement.clear\" rel=\"nofollow\"><code>clear()</code></a> the element before calling <code>send_keys</code> and/or send the letters in your strings one at a time:</p>\n\n<pre><code>def test_login_with_valid_credentials(self):\n    self.selenium.get('%s%s' % (self.live_server_url,  \"/login\"))\n\n    username = self.selenium.find_element_by_name(\"username\")\n    username.clear()\n    username.send_keys(\"username\")\n    # if clear() alone doesn't solve the problem, you might also try:\n    # for x in list(\"username\"):\n    #     username.send_keys(x)\n    password = self.selenium.find_element_by_name(\"password\")\n    password().clear\n    password.send_keys(\"password\")\n    ...\n</code></pre>\n"}], "owner": {"reputation": 432, "user_id": 548841, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/282abe4c92b68ad4f3ab3a0579810100?s=128&d=identicon&r=PG", "display_name": "mjuopperi", "link": "https://stackoverflow.com/users/548841/mjuopperi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1457469376, "creation_date": 1455747780, "question_id": 35468966, "link": "https://stackoverflow.com/questions/35468966/python-selenium-send-keys-switches-input-before-finishing-first-string", "title": "Python selenium send_keys switches input before finishing first string", "body": "<p>I'm writing functional tests against Django's <code>StaticLiveServerTestCase</code> with selenium using the Firefox driver. </p>\n\n<p>For some reason my <code>send_keys</code> is cut off in the middle and the rest sent to another field:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fcEadm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fcEadm.png\" alt=\"&quot;user&quot; in username field, &quot;namepassword&quot; in password field.\"></a><br>\n<em>Password field's type set to \"text\" to show the problem.</em></p>\n\n<p>Here is my test case that is very close to <a href=\"https://docs.djangoproject.com/en/1.9/topics/testing/tools/#s-liveservertestcase\" rel=\"nofollow noreferrer\">the example in Django documentation</a>.</p>\n\n<pre><code>from django.contrib.auth import get_user_model\nfrom django.contrib.staticfiles.testing import StaticLiveServerTestCase\n\nfrom selenium.webdriver.firefox.webdriver import WebDriver\n\nUser = get_user_model()\n\nclass LoginSpec(StaticLiveServerTestCase):\n\n    @classmethod\n    def setUpClass(cls):\n        super(LoginSpec, cls).setUpClass()\n        cls.selenium = WebDriver()\n        User.objects.create_user('username', 'username@example.com', 'password')\n\n    @classmethod\n    def tearDownClass(cls):\n        User.objects.all().delete()\n        cls.selenium.quit()\n        super(LoginSpec, cls).tearDownClass()\n\n    def test_login_with_valid_credentials(self):\n        self.selenium.get('%s%s' % (self.live_server_url,  \"/login\"))\n\n        username = self.selenium.find_element_by_name(\"username\")\n        username.send_keys(\"username\")\n        password = self.selenium.find_element_by_name(\"password\")\n        password.send_keys(\"password\")\n        ...\n</code></pre>\n"}, {"tags": ["python", "distributed-computing", "python-multiprocessing"], "owner": {"reputation": 41, "user_id": 2522775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0895a6c9347680efc5a17d10e966de?s=128&d=identicon&r=PG", "display_name": "Arash", "link": "https://stackoverflow.com/users/2522775/arash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 539, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1455747550, "creation_date": 1455747550, "question_id": 35468907, "link": "https://stackoverflow.com/questions/35468907/how-launch-workers-and-brokers-via-scoop-python", "title": "How launch workers and brokers via SCOOP Python?", "body": "<p>Following simple Python code which uses SCOOP for multiprocessing across different virtual machines, does not seem to work at all:</p>\n\n<pre><code>from __future__ import print_function\nfrom scoop import futures\n\ndef helloWorld(value):\n    return \"Hello World from Future #{0}\".format(value)\n\nif __name__ == \"__main__\":\n    returnValues = list(futures.map(helloWorld, range(16)))\n    print(\"\\n\".join(returnValues))\n</code></pre>\n\n<p>FYI - I have identical VMs (192.168.0.13 and 192.168.0.12) and they SSH Tunnel with no password is already set up. </p>\n\n<p>I launch the program using the following command:</p>\n\n<pre><code>user_a@vm12:~$ python -m scoop --hosts vm13 vm13 -vv --verbose --external-hostname 192.168.0.13 --path /home/user_a ./pycode/hw-01.py\n</code></pre>\n\n<p>And the only output I can see is:</p>\n\n<pre><code>[2016-02-18 09:09:25,222] launcher  INFO    SCOOP 0.7 1.1 on linux2 using Python 2.7.6 (default, Jun 22 2015, 18:00:18) [GCC 4.8.2], API: 1013\n[2016-02-18 09:09:25,223] launcher  INFO    Deploying 2 worker(s) over 1 host(s).\n[2016-02-18 09:09:25,223] launcher  DEBUG   Using hostname/ip: \"192.168.0.13\" as external broker reference.\n[2016-02-18 09:09:25,223] launcher  DEBUG   The python executable to execute the program with is: /usr/bin/python.\n[2016-02-18 09:09:25,223] launcher  INFO    Worker distribution: \n[2016-02-18 09:09:25,223] launcher  INFO       vm13:    1 + origin\n[2016-02-18 09:09:25,224] brokerLaunch DEBUG   Launching remote broker: ssh -x -n -oStrictHostKeyChecking=no vm13 /usr/bin/python -m scoop.broker.__main__ --echoGroup --echoPorts --backend ZMQ \n[2016-02-18 09:09:29,252] brokerLaunch DEBUG   Foreign broker launched on ports 44950, 55874 of host vm13.\n[2016-02-18 09:09:29,253] launcher  DEBUG   Initialising remote worker 2 [vm13].\n[2016-02-18 09:09:29,253] launcher  DEBUG   Initialising remote origin worker 1 [vm13].\n[2016-02-18 09:09:29,254] launcher  DEBUG   vm13: Launching '(/usr/bin/python -m scoop.bootstrap.__main__ --echoGroup  --size 2 --workingDirectory /home/user_a --brokerHostname 192.168.0.13 --externalBrokerHostname 192.168.0.13 --taskPort 44950 --metaPort 55874 --backend=ZMQ -v ./pycode/hw-01.py &amp; ) &amp;&amp; (/usr/bin/python -m scoop.bootstrap.__main__ --size 2 --workingDirectory /home/user_a --brokerHostname 192.168.0.13 --externalBrokerHostname 192.168.0.13 --taskPort 44950 --metaPort 55874 --origin --backend=ZMQ -v ./pycode/hw-01.py)'\n[2016-02-18 09:09:29,536] __main__  INFO    Worker(s) launched using /bin/bash\n</code></pre>\n\n<p>It is strange because if I run it on 1 machine only, everything works smoothly:</p>\n\n<pre><code>python -m scoop ./pycode/hw-01.py \n[2016-02-18 09:12:52,739] launcher  INFO    SCOOP 0.7 1.1 on linux2 using Python 2.7.6 (default, Jun 22 2015, 18:00:18) [GCC 4.8.2], API: 1013\n[2016-02-18 09:12:52,739] launcher  INFO    Deploying 2 worker(s) over 1 host(s).\n[2016-02-18 09:12:52,739] launcher  INFO    Worker distribution: \n[2016-02-18 09:12:52,740] launcher  INFO       127.0.0.1:   1 + origin\nHello World from Future #0\nHello World from Future #1\nHello World from Future #2\nHello World from Future #3\nHello World from Future #4\nHello World from Future #5\nHello World from Future #6\nHello World from Future #7\nHello World from Future #8\nHello World from Future #9\nHello World from Future #10\nHello World from Future #11\nHello World from Future #12\nHello World from Future #13\nHello World from Future #14\nHello World from Future #15\n[2016-02-18 09:12:53,174] launcher  (127.0.0.1:34747) INFO    Root process is done.\n[2016-02-18 09:12:53,175] launcher  (127.0.0.1:34747) INFO    Finished cleaning spawned subprocesses.\n</code></pre>\n\n<p>Any thought or idea is much appreciated.</p>\n"}, {"tags": ["python", "redis", "continuous-integration", "continuous-deployment", "devops"], "answers": [{"tags": [], "owner": {"reputation": 38204, "user_id": 346478, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a60a250d33ebf1c57ca7e603e21311?s=128&d=identicon&r=PG", "display_name": "Jan Vlcinsky", "link": "https://stackoverflow.com/users/346478/jan-vlcinsky"}, "is_accepted": false, "score": 2, "last_activity_date": 1455756322, "creation_date": 1455756322, "answer_id": 35470696, "question_id": 35468710, "link": "https://stackoverflow.com/questions/35468710/worker-queues-vs-continuous-deployment-frameworks/35470696#35470696", "title": "worker queues vs. continuous deployment frameworks", "body": "<p>We use Jenkins CI and the bonus you get with these larger frameworks are:</p>\n\n<ul>\n<li>web interface not only for task definition, but also to review the results</li>\n<li>wider set of plugins for different types of tasks</li>\n<li>visualisation of test results</li>\n<li>notification of users by e-mail</li>\n</ul>\n\n<p>We were considering doing most of the tasks, Jenkins CI is doing for us (running tests on data) by other means (like AWS Lambda), but the visual interface is the main argument to stay with Jenkins as it allows our users to see the results without a need to do these things ourself.</p>\n"}], "owner": {"reputation": 1365, "user_id": 3238702, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/o0WOd.jpg?s=128&g=1", "display_name": "matthewatabet", "link": "https://stackoverflow.com/users/3238702/matthewatabet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455756322, "creation_date": 1455746662, "question_id": 35468710, "link": "https://stackoverflow.com/questions/35468710/worker-queues-vs-continuous-deployment-frameworks", "title": "worker queues vs. continuous deployment frameworks", "body": "<p>There are many CI/CD solutions out there: <a href=\"http://www.devopsbookmarks.com/ci\" rel=\"nofollow\">http://www.devopsbookmarks.com/ci</a>. However, looking at some buildbot examples, the <a href=\"http://docs.buildbot.net/latest/tutorial/fiveminutes.html\" rel=\"nofollow\">snippets</a> of Python code seem very similar to those created when writing, say, <a href=\"http://python-rq.org/docs/workers/\" rel=\"nofollow\">workers for RQ</a>.</p>\n\n<p>RQ seems fairly simple while Buildbot seems quite complex. Are the additional features of a full-blown CI/CD solution like Buildbot really worth it when it's possible to create queues and workers with a much simpler (yet not as fully featured) system like RQ?</p>\n\n<p>In other words, what's the best way to frame the tradeoffs between CI/CD frameworks and worker queues?</p>\n"}, {"tags": ["python", "csv", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1455747141, "post_id": 35468709, "comment_id": 58633243, "body": "Why do you need to do this, if you don&#39;t pass anything then a string of the output is returned"}, {"owner": {"reputation": 1201, "user_id": 1762492, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/da8c8d66ff8f2f9c6506621e97610640?s=128&d=identicon&r=PG", "display_name": "traggatmot", "link": "https://stackoverflow.com/users/1762492/traggatmot"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1455747169, "post_id": 35468709, "comment_id": 58633255, "body": "just added some more information."}, {"owner": {"reputation": 2939, "user_id": 4320738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de47f691b009d906bf13e2e6c0fb1451?s=128&d=identicon&r=PG&f=1", "display_name": "Munir", "link": "https://stackoverflow.com/users/4320738/munir"}, "edited": false, "score": 0, "creation_date": 1455748380, "post_id": 35468709, "comment_id": 58633789, "body": "@traggatmot If you only want some way for the other process to know that file creation is complete, what I did in a similar situation was create a empty file called <code>finished.txt</code> or something like that, and make the other process wait until that file has created. This way there is only a few microseconds delay and no weird lock issues. Just make sure you delete the <code>finished.txt</code> file before you begin your writing your csv."}, {"owner": {"reputation": 1201, "user_id": 1762492, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/da8c8d66ff8f2f9c6506621e97610640?s=128&d=identicon&r=PG", "display_name": "traggatmot", "link": "https://stackoverflow.com/users/1762492/traggatmot"}, "edited": false, "score": 0, "creation_date": 1455748634, "post_id": 35468709, "comment_id": 58633882, "body": "So it can&#39;t handle writing two files at the same time?  Meaning if the order is 1) writing output.csv, 2) writing finished.txt., then 3)next process, python will make sure to finish writing output.csv before finished.txt?  So that the next process (step 3) is never started before output.csv is written?"}], "answers": [{"tags": [], "owner": {"reputation": 2065, "user_id": 3195451, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/9f1955e912e631e239d4389e54c9cc47?s=128&d=identicon&r=PG", "display_name": "Daniel", "link": "https://stackoverflow.com/users/3195451/daniel"}, "is_accepted": false, "score": 4, "last_activity_date": 1455858488, "last_edit_date": 1455858488, "creation_date": 1455857633, "answer_id": 35497577, "question_id": 35468709, "link": "https://stackoverflow.com/questions/35468709/setting-a-buffer-of-0-in-pandas-dataframe-to-csv/35497577#35497577", "title": "Setting a buffer of 0 in Pandas dataframe.to_csv", "body": "<p>If I'm understanding your question correctly, you could implement the following.  This snippet passes a <a href=\"https://docs.python.org/2/library/stringio.html#module-StringIO\" rel=\"nofollow\"><code>StringIO</code></a> instance as the first argument for <a href=\"http://pandas.pydata.org/pandas-docs/stable/io.html#writing-to-csv-format\" rel=\"nofollow\"><code>to_csv</code></a>, and calls <a href=\"https://docs.python.org/2/tutorial/inputoutput.html\" rel=\"nofollow\"><code>seek(0)</code></a>:</p>\n\n<pre><code>import StringIO\n\n#### your code here...assuming something like:\n#### import pandas as pd\n#### data = {\"key1\":\"value1\"}\n#### dataframe = pd.DataFrame(data, index=dataframe)\n\nbuffer = StringIO.StringIO()\ndataframe.to_csv(buffer)\nbuffer.seek(0)\noutput = buffer.getvalue()\nbuffer.close()\n</code></pre>\n\n<p>You could then manipulate <code>output</code> however you choose.</p>\n"}], "owner": {"reputation": 1201, "user_id": 1762492, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/da8c8d66ff8f2f9c6506621e97610640?s=128&d=identicon&r=PG", "display_name": "traggatmot", "link": "https://stackoverflow.com/users/1762492/traggatmot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2840, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1455858488, "creation_date": 1455746658, "last_edit_date": 1455747151, "question_id": 35468709, "link": "https://stackoverflow.com/questions/35468709/setting-a-buffer-of-0-in-pandas-dataframe-to-csv", "title": "Setting a buffer of 0 in Pandas dataframe.to_csv", "body": "<p>Is there a way to set a buffer of '0' when using the Pandas dataframe.to_csv()?  I looked through the documentation and it appears to not allow that as an argument.  Am I overlooking something?</p>\n\n<p>Edit:  I am asking because I am outputting dataframes which range in size from several hundred to many thousands of rows (always with the same 7 columns), and a later process that eventually examines the file is occasionally failing because sometimes it isn't finished being written.</p>\n\n<p>I could of course introduce a delay (of 3-5 minutes), but I'd rather not arbitrarily slow down my code if I don't have to - I'd rather force the the code to wait for the completion of the output before moving on, and when writing files with open() it's nice to be able to set a buffer value of '0'.</p>\n"}, {"tags": ["python", "networkx", "graphlab"], "answers": [{"tags": [], "owner": {"reputation": 1017, "user_id": 1347807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/886cb971056c2bdfb1593ee857b2bf91?s=128&d=identicon&r=PG", "display_name": "papayawarrior", "link": "https://stackoverflow.com/users/1347807/papayawarrior"}, "is_accepted": true, "score": 1, "last_activity_date": 1455747402, "creation_date": 1455747402, "answer_id": 35468873, "question_id": 35468636, "link": "https://stackoverflow.com/questions/35468636/dato-graphlab-check-if-edge-exists/35468873#35468873", "title": "Dato-Graphlab Check if Edge exists", "body": "<p>The <code>SGraph.get_edges</code> method can be used to check if a particular edge exists. In my example below I create a \"chain\" graph where vertices with consecutive integers are connected by an edge.</p>\n\n<pre><code>&gt;&gt;&gt; import graphlab\n&gt;&gt;&gt; g = graphlab.SGraph().add_edges(\n        [graphlab.Edge(i, i+1) for i in range(4)])\n\n# Edge does exist.\n&gt;&gt;&gt; test1 = g.get_edges(src_ids=[0], dst_ids=[1])\n&gt;&gt;&gt; test1.num_rows()\n1\n\n# Edge does *not* exist.\n&gt;&gt;&gt; test2 = g.get_edges(src_ids=[0], dst_ids=[2])\n&gt;&gt;&gt; test2.num_rows()\n0\n</code></pre>\n\n<p>Here's the link to the API docs for <code>get_edges</code>: <a href=\"https://dato.com/products/create/docs/generated/graphlab.SGraph.get_edges.html\" rel=\"nofollow\">https://dato.com/products/create/docs/generated/graphlab.SGraph.get_edges.html</a></p>\n"}], "owner": {"reputation": 467, "user_id": 2715877, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/3823cc9b667a0415695a30c4cfe26fac?s=128&d=identicon&r=PG&f=1", "display_name": "user2715877", "link": "https://stackoverflow.com/users/2715877/user2715877"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 35468873, "answer_count": 1, "score": 1, "last_activity_date": 1455747402, "creation_date": 1455746350, "question_id": 35468636, "link": "https://stackoverflow.com/questions/35468636/dato-graphlab-check-if-edge-exists", "title": "Dato-Graphlab Check if Edge exists", "body": "<p>I've just installed Graphlab and am trying to convert NetworkX code to Graphlab.  I'm having trouble finding in the Graphlab documentation the NetworkX equivalent of <code>G.has_edge()</code>.  If a similar function does not exist, how would one check if an Graphlab Edge already exists in the Graph?</p>\n"}, {"tags": ["python", "algorithm", "linked-list"], "comments": [{"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1455746494, "post_id": 35468594, "comment_id": 58632947, "body": "Why <code>previous_node = self.head</code> ? every node inserted after head?"}, {"owner": {"reputation": 228, "user_id": 5889975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d507f91cae513c38c8eb497d7e5d67d?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/5889975/steven"}, "edited": false, "score": 1, "creation_date": 1455746641, "post_id": 35468594, "comment_id": 58633019, "body": "You have a typo here <code>new_node = Node(data)</code> should be <code>new node = Node2(data)</code>, is it possible <code>Node</code> is calling your backwards linked list and causing the confusion?"}, {"owner": {"reputation": 3891, "user_id": 2326911, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/173ece6e1a474bf45d2dee00f651b543?s=128&d=identicon&r=PG&f=1", "display_name": "\u1d00\u0280\u1d0d\u1d00\u0274", "link": "https://stackoverflow.com/users/2326911/%e1%b4%80%ca%80%e1%b4%8d%e1%b4%80%c9%b4"}, "edited": false, "score": 0, "creation_date": 1455747492, "post_id": 35468594, "comment_id": 58633400, "body": "You need a <code>while</code> with condtion that Kurt said in his answer , then add your <code>new_node</code> after the desired <code>previous_node</code>, Kurt answer is completly correct"}], "answers": [{"comments": [{"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455747351, "post_id": 35468682, "comment_id": 58633342, "body": "I can&#39;t figure out for the life of me how to implement this.  Would you be willing to add the correct <code>insert</code> method to your answer?"}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748280, "post_id": 35468682, "comment_id": 58633740, "body": "How can I check the <code>get_next()</code> of type <code>None</code>?"}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748325, "post_id": 35468682, "comment_id": 58633760, "body": "You don&#39;t. You need to stop one step before that, where <code>current_node.get_next() == None</code>."}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748490, "post_id": 35468682, "comment_id": 58633837, "body": "Isn&#39;t <code>current</code> initialized to <code>None</code> before any nodes are added?"}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748593, "post_id": 35468682, "comment_id": 58633873, "body": "Yes you&#39;ll need to check for that special case first with an if-else statement. If you&#39;re still confused you can look at @cricket_007&#39;s answer where he wrote the code for you."}, {"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748744, "post_id": 35468682, "comment_id": 58633924, "body": "I&#39;ve tried that code, and I get the same error: <code>&#39;NoneType&#39; object has no attribute &#39;get_next&#39;</code>"}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455748882, "post_id": 35468682, "comment_id": 58633973, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/103775/discussion-between-kurt-stutsman-and-123\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "is_accepted": false, "score": 3, "last_activity_date": 1455747763, "last_edit_date": 1455747763, "creation_date": 1455746483, "answer_id": 35468682, "question_id": 35468594, "link": "https://stackoverflow.com/questions/35468594/trouble-with-forward-linked-list/35468682#35468682", "title": "Trouble with forward linked list", "body": "<p>It's not clear what your <code>insert</code> method is supposed to do. If it is meant to insert at the beginning of the list (before head), then you should be setting <code>new_node.set_next(previous_node)</code> and <code>self.head = new_node</code>. If you meant to append to the end of the list, then you will need to scan through the list until you find the node with <code>current_node.get_next() == None</code> and do <code>current_node.set_next(new_node)</code>.</p>\n\n<p>Since this looks like homework, I don't want to straight out give you the answer. I will provide some pseudocode to get you started though</p>\n\n<pre><code>def insert(value):\n    let current = head\n    until current.next_node == None:\n        let current = current.next_node\n\n    let current.next_node = Node2(value)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1455748794, "last_edit_date": 1455748794, "creation_date": 1455747494, "answer_id": 35468895, "question_id": 35468594, "link": "https://stackoverflow.com/questions/35468594/trouble-with-forward-linked-list/35468895#35468895", "title": "Trouble with forward linked list", "body": "<p>Try this. </p>\n\n<p>If the list is empty, set the head, and return. Else, loop \"forward\" through all the elements until you hit a <code>None</code> node. Once you do, set the appropriate <code>next_node</code> value. </p>\n\n<pre><code>class LinkedList(object):\n    def __init__(self, head=None):\n        self.head = head\n\n    def empty(self):\n        return self.head is None\n\n    def insert(self, data):\n        new_node = Node(data)    # Want to insert this\n        if self.empty():         # Is this list empty?\n            self.head = new_node #   Yes? Then add the head\n        else:                    # No? There are elements in the list\n            current_node = self.head                    # Save a moving reference\n            while not current_node.get_next() is None:  # While there are forward nodes\n                current_node = current_node.get_next()  # Move the reference forward\n            current_node.set_next(new_node)             # Set the last node, thus inserting at the \"end\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 70549, "user_id": 4785185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ChR5h.jpg?s=128&g=1", "display_name": "Prune", "link": "https://stackoverflow.com/users/4785185/prune"}, "is_accepted": false, "score": 0, "last_activity_date": 1455747612, "creation_date": 1455747612, "answer_id": 35468929, "question_id": 35468594, "link": "https://stackoverflow.com/questions/35468594/trouble-with-forward-linked-list/35468929#35468929", "title": "Trouble with forward linked list", "body": "<p>Let's write out what this does:</p>\n\n<pre><code>def insert(self, data):\n    previous_node = self.head    # set to head of list\n    current_node = self.head     # not used elsewhere\n    new_node = Node(data)        # make a new node with the given data.\n    if previous_node is not None:        # if the list isn't empty\n        previous_node.set_next(new_node) #    point the list head to the new node\n        previous_node = self.head        # does nothing; this was already the list head\n</code></pre>\n\n<p>Bottom line: this creates a new node and makes it the \"next\" node of the list head.  That's all this does; your list will never be more than 2 nodes long.  In fact, your list can't ever get a first node, because you have no code to insert into an empty list.</p>\n\n<p>To fix this, you need a clear, adaptable algorithm, such as:</p>\n\n<pre><code>Create a new node.\nLink the existing list behind the new node:\n    Set new.next to the current head node.\n    Point the list head to the new node.\n</code></pre>\n\n<p>Note that this works even with an empty list.</p>\n\n<p>If you want a list that adds to the end, then also maintain a self.tail attribute that points to the last node in the list.  Then your insert (append) looks like this:</p>\n\n<pre><code>Create a new node.\nLink the new node to the existing tail:\n    if tail exists:\n        Set tail.next to the new node.\n    else:\n        Set head to the new node\n    Set tail to the new node.\n</code></pre>\n\n<p>Is this clear enough to implement?</p>\n"}], "owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 35468895, "answer_count": 3, "score": 2, "last_activity_date": 1455748794, "creation_date": 1455746188, "last_edit_date": 1455747002, "question_id": 35468594, "link": "https://stackoverflow.com/questions/35468594/trouble-with-forward-linked-list", "title": "Trouble with forward linked list", "body": "<p>I've implemented a backwards linked list successfully, but I'm trying to find out how to implement a forwards linked list, and I can't seem to figure out how to do it.  The problem is in my <code>insert</code> method.  I'm trying to keep track of the previous node, and point it to the newly created node, but I'm missing something.</p>\n\n<pre><code>class Node(object):\n    def __init__(self, data=None, next_node=None):\n        self.data = data\n        self.next_node = next_node\n\n    def set_next(self, new_next):\n        self.next_node = new_next\n\n    def get_data(self):\n        return self.data\n\n    def get_next(self):\n        return self.next_node\n\nclass LinkedList(object):\n    def __init__(self, head=None):\n        self.head = head\n\n    def insert(self, data):\n        previous_node = self.head\n        current_node = self.head\n        new_node = Node(data)\n        if previous_node is not None:\n            previous_node.set_next(new_node)\n            previous_node = self.head\n</code></pre>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 1, "creation_date": 1455745971, "post_id": 35468480, "comment_id": 58632664, "body": "<code>numbers = [float(input(&quot;Enter number %s: &quot;%i)) for i in range(1000)]</code>"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1455746161, "post_id": 35468480, "comment_id": 58632769, "body": "Are you really expecting your poor users to type in one thousand separate numbers?"}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455746222, "post_id": 35468480, "comment_id": 58632808, "body": "@JohnGordon the input does not have to come from a human :)"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455746737, "post_id": 35468480, "comment_id": 58633052, "body": "True, but that&#39;s the typical use for <code>input()</code>, otherwise why not just read directly from stdin?"}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "reply_to_user": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 2, "creation_date": 1455746757, "post_id": 35468480, "comment_id": 58633060, "body": "@timgeb: If the input doesn&#39;t come from an actual person, the prompts seem rather pointless."}, {"owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "edited": false, "score": 0, "creation_date": 1455746819, "post_id": 35468480, "comment_id": 58633089, "body": "Yeah, you&#39;re right. Looks like work for the user of OP&#39;s program."}], "answers": [{"tags": [], "owner": {"reputation": 64040, "user_id": 3620003, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/QnqtZ.jpg?s=128&g=1", "display_name": "timgeb", "link": "https://stackoverflow.com/users/3620003/timgeb"}, "is_accepted": false, "score": 3, "last_activity_date": 1455746454, "last_edit_date": 1455746454, "creation_date": 1455746002, "answer_id": 35468549, "question_id": 35468480, "link": "https://stackoverflow.com/questions/35468480/how-to-average-multiple-inputs-in-python-in-a-condensed-form/35468549#35468549", "title": "How to average multiple inputs in Python in a condensed form?", "body": "<p>A concise way is with a list comprehension.</p>\n\n<pre><code>nums = [float(input('enter number {}: '.format(i+1))) for i in range(100)]\n</code></pre>\n\n<p>Replace 100 with any range you like. This will create a list of input numbers. You can access the n'th input number with <code>nums[n-1]</code>.</p>\n\n<p>Alternatively, you could parse a single input string into a list of floats:</p>\n\n<pre><code>&gt;&gt;&gt; nums = [float(x) for x in input('enter numbers: ').split()]\nenter numbers: 1.0 3.14 7.124 -5\n&gt;&gt;&gt; nums\n[1.0, 3.14, 7.124, -5.0]\n</code></pre>\n\n<p>I'd prefer that over a lot of prompts. </p>\n\n<p>Finally, if getting the numbers from the command line is an option, you can do it like this</p>\n\n<pre><code>import sys\n\nnums = [float(x) for x in sys.argv[1:]]\nprint(nums)\n</code></pre>\n\n<p>Demo:</p>\n\n<pre><code>$ python3 getinput.py 1.0 -5.37 8.2\n[1.0, -5.37, 8.2]\n</code></pre>\n\n<p>To get the mean, issue <code>sum(nums)/len(nums)</code>, assuming that your list is not empty.</p>\n"}, {"tags": [], "owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "is_accepted": false, "score": 4, "last_activity_date": 1455746772, "last_edit_date": 1455746772, "creation_date": 1455746245, "answer_id": 35468608, "question_id": 35468480, "link": "https://stackoverflow.com/questions/35468480/how-to-average-multiple-inputs-in-python-in-a-condensed-form/35468608#35468608", "title": "How to average multiple inputs in Python in a condensed form?", "body": "<p>One way is to use a <strong>for loop</strong> to repeatedly query for the numbers. If only the average is needed, it's sufficient to just increment a single variable and divide by the total number of queries at the end:</p>\n\n<pre><code>n = 10\ntemp = 0\nfor i in range(n):\n    temp += float(input(\"Enter a number\"))\n\nprint(\"The average is {}\".format(temp / n))\n</code></pre>\n\n<p>By using the built-in <a href=\"https://docs.python.org/3.5/library/functions.html#sum\" rel=\"nofollow\" title=\"sum&#40;&#41;\">sum()</a> function and <strong>generator comprehension</strong> it's possible to shorten that code alot:</p>\n\n<pre><code>n = 10\naverage = sum(float(input(\"Enter a number\")) for i in range(n)) / n\nprint(\"The average is {}\".format(average))\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5942784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04073eb49561b47e04a92127e77db783?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse", "link": "https://stackoverflow.com/users/5942784/jesse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1141, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1455746772, "creation_date": 1455745759, "question_id": 35468480, "link": "https://stackoverflow.com/questions/35468480/how-to-average-multiple-inputs-in-python-in-a-condensed-form", "title": "How to average multiple inputs in Python in a condensed form?", "body": "<p>I have many, many numbers to write and it is simply not efficient to write out...</p>\n\n<pre><code>a = float(input(\"Enter the first number: \"))\nb = float(input(\"Enter the second number: \"))\nc = float(input(\"Enter the third number: \"))\n</code></pre>\n\n<p>...when you have a thousand numbers. So how can I use the range feature maybe to get many numbers from a single input line and then also calculate the mean or average of all of the inputs?</p>\n"}, {"tags": ["python", "snmp", "scapy"], "answers": [{"tags": [], "owner": {"reputation": 1255, "user_id": 3873440, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ySfS.jpg?s=128&g=1", "display_name": "goCards", "link": "https://stackoverflow.com/users/3873440/gocards"}, "is_accepted": false, "score": 0, "last_activity_date": 1455746722, "creation_date": 1455746722, "answer_id": 35468716, "question_id": 35468469, "link": "https://stackoverflow.com/questions/35468469/preventing-scapy-from-printing-results/35468716#35468716", "title": "Preventing scapy from printing results", "body": "<p>Line 205 in scapy/sendrecv.py reads </p>\n\n<pre><code>if verbose:\n    print \"\\nReceived %i packets, got %i answers, remaining %i packets\" % (nbrecv+len(ans), len(ans), notans)\n</code></pre>\n\n<p>So there is no option to only print this when ans > 0 (note that there is no way to shortcut this print in the context of the function). You can either change the source code to </p>\n\n<pre><code>if verbose and len(ans)&gt;0:\n    print \"\\nReceived %i packets, got %i answers, remaining %i packets\" % (nbrecv+len(ans), len(ans), notans)\n</code></pre>\n\n<p>or much more preferable, just parse the output better.</p>\n"}], "owner": {"reputation": 111, "user_id": 5367481, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/050a1e2277110acdd182690d5a3fd296?s=128&d=identicon&r=PG&f=1", "display_name": "Papantonia", "link": "https://stackoverflow.com/users/5367481/papantonia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 422, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455746722, "creation_date": 1455745723, "question_id": 35468469, "link": "https://stackoverflow.com/questions/35468469/preventing-scapy-from-printing-results", "title": "Preventing scapy from printing results", "body": "<p>So I have a SNMP script in Scapy as below:</p>\n\n<pre><code>for i in range(j, k+1):\n    ip = iprange + str(i)\n    print 'Sending SNMP request to: ' +ip + \"\\n\"\n    p = IP(dst=ip)\n    SNMP(community=\"public\", PDU=SNMPget(id=1416992799, varbindlist=[SNMPvarbind(oid=ASN1_OID(\"1.3.6.1.2.1.1.1.0\"))]))\n    pkt = sr1(p, timeout=0.08)\n</code></pre>\n\n<p>And I get the desired result when I get a hit (an answer of 1):</p>\n\n<pre><code>Sending SNMP request to: 192.168.1.200\n\nBegin emission:\n.Finished to send 1 packets.\n\nReceived 1 packets, got 0 answers, remaining 1 packets\nSending SNMP request to: 192.168.1.201\n\nBegin emission:\n.Finished to send 1 packets.\n\nReceived 1 packets, got 1 answers, remaining 1 packets\n</code></pre>\n\n<p>However, I only really want Scapy to print out the results when an answer is 1, not when I don't have a hit (0). Is it possible to do this in Scapy?</p>\n"}, {"tags": ["python", "linux", "sockets", "tcp", "tcpdump"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user862787"}, "edited": false, "score": 0, "creation_date": 1455804669, "post_id": 35468612, "comment_id": 58660909, "body": "Presumably you meant <code>-i any</code>, as this is Linux rather than OS X.  (Either <code>-i any</code> or <code>-i all</code> works on newer versions of OS X, with Apple&#39;s tcpdump and libpcap, although they just document <code>-i all</code>.)"}, {"owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "edited": false, "score": 0, "creation_date": 1455804791, "post_id": 35468612, "comment_id": 58660988, "body": "@GuyHarris Nice catch. I probably looked at the manpage on the wrong machine. I fixed the answer."}], "tags": [], "owner": {"reputation": 3765, "user_id": 459615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73f4c8c6dee5c7decf6434296f0fce47?s=128&d=identicon&r=PG", "display_name": "Kurt Stutsman", "link": "https://stackoverflow.com/users/459615/kurt-stutsman"}, "is_accepted": false, "score": 0, "last_activity_date": 1455804763, "last_edit_date": 1455804763, "creation_date": 1455746267, "answer_id": 35468612, "question_id": 35468431, "link": "https://stackoverflow.com/questions/35468431/how-do-i-capture-syn-tcpdump-packets-within-a-linux-server/35468612#35468612", "title": "How do I capture SYN tcpdump packets within a Linux server?", "body": "<p>Connections on localhost will be going over the <code>lo</code> interface. Try using the <code>-i any</code> option to make it listen to all network interfaces.</p>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 5589510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1daa57cb89948693e40c89c22f57750?s=128&d=identicon&r=PG&f=1", "display_name": "leongold", "link": "https://stackoverflow.com/users/5589510/leongold"}, "is_accepted": true, "score": 0, "last_activity_date": 1455746438, "creation_date": 1455746438, "answer_id": 35468667, "question_id": 35468431, "link": "https://stackoverflow.com/questions/35468431/how-do-i-capture-syn-tcpdump-packets-within-a-linux-server/35468667#35468667", "title": "How do I capture SYN tcpdump packets within a Linux server?", "body": "<p>Use <code>-i any</code> to capture data of all interfaces, including loopback (\"localhost to localhost\")</p>\n"}, {"tags": [], "owner": {"reputation": 4181, "user_id": 3337677, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2a3cb5dc363dbc123686e074c4c3181e?s=128&d=identicon&r=PG&f=1", "display_name": "packetie", "link": "https://stackoverflow.com/users/3337677/packetie"}, "is_accepted": false, "score": 0, "last_activity_date": 1505870626, "creation_date": 1505870626, "answer_id": 46311866, "question_id": 35468431, "link": "https://stackoverflow.com/questions/35468431/how-do-i-capture-syn-tcpdump-packets-within-a-linux-server/46311866#46311866", "title": "How do I capture SYN tcpdump packets within a Linux server?", "body": "<p>You can exclude your own IP (the ssh client IP) by </p>\n\n<pre><code>    tcpdump -tttt -nn 'tcp[tcpflags] &amp; tcp-syn == tcp-syn &amp;&amp; ! host &lt;ssh-client-ip&gt;'\n</code></pre>\n\n<p>For example, if you ssh from 10.2.3.4, then the command should be</p>\n\n<pre><code>    tcpdump -tttt -nn 'tcp[tcpflags] &amp; tcp-syn == tcp-syn &amp;&amp; ! host 10.2.3.4'\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 33, "user_id": 2487378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c0609d008f919ecbb24f91ecbe1905?s=128&d=identicon&r=PG", "display_name": "Lindy", "link": "https://stackoverflow.com/users/2487378/lindy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 421, "favorite_count": 0, "accepted_answer_id": 35468667, "answer_count": 3, "score": 0, "last_activity_date": 1505870626, "creation_date": 1455745569, "last_edit_date": 1504533247, "question_id": 35468431, "link": "https://stackoverflow.com/questions/35468431/how-do-i-capture-syn-tcpdump-packets-within-a-linux-server", "title": "How do I capture SYN tcpdump packets within a Linux server?", "body": "<p>I'm trying to process all server connections using tcpdump using python and it was working very well using this command:</p>\n\n<pre><code>tcpdump -tttt -nn 'tcp[tcpflags] &amp; tcp-syn == tcp-syn'\n</code></pre>\n\n<p>Here is what it captures:</p>\n\n<ul>\n<li>Any connections to and from the server from another machine</li>\n<li>Running on the box, it will log a telnet to port 22</li>\n</ul>\n\n<p>Here is what it doesn't:</p>\n\n<ul>\n<li>if I run ssh localhost</li>\n<li>anytime any server (or most processes) on the machine syn's to a listen port      on the same machine</li>\n</ul>\n\n<p>So I'm getting all traffic from the outside in and inside out, but nothing that is happening withing the machine.</p>\n\n<p>I think I got some of the flags wrong, but I'm not sure what.  Any ideas?  I'm simply trying to monitor server connection activity inside a machine, but only getting a log when it's external.</p>\n"}, {"tags": ["python", "python-3.x"], "comments": [{"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1455817906, "post_id": 35468404, "comment_id": 58670758, "body": "<a href=\"http://stackoverflow.com/questions/510357/python-read-a-single-character-from-the-user\" title=\"python read a single character from the user\">stackoverflow.com/questions/510357/&hellip;</a> shows how you can get input cross-platform"}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 5931278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLmtN.jpg?s=128&g=1", "display_name": "D.C", "link": "https://stackoverflow.com/users/5931278/d-c"}, "edited": false, "score": 1, "creation_date": 1455745565, "post_id": 35468413, "comment_id": 58632424, "body": "On code review I was told this:  If you didn&#39;t know, your code is not cross platform. This is as msvcrt is MS Windows only. To allow use on Linux and OSX you should use sys, tty and termios, as shown in this SO answer.  Doing this will allow more users to use your program."}, {"owner": {"reputation": 120, "user_id": 5931278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLmtN.jpg?s=128&g=1", "display_name": "D.C", "link": "https://stackoverflow.com/users/5931278/d-c"}, "edited": false, "score": 0, "creation_date": 1455745608, "post_id": 35468413, "comment_id": 58632452, "body": "I thought that I could adapt it to make it more widely available"}, {"owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "reply_to_user": {"reputation": 120, "user_id": 5931278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLmtN.jpg?s=128&g=1", "display_name": "D.C", "link": "https://stackoverflow.com/users/5931278/d-c"}, "edited": false, "score": 1, "creation_date": 1455745776, "post_id": 35468413, "comment_id": 58632559, "body": "Apologies, I didn&#39;t realize that was where <code>getch</code> was coming from. What is the specific reason you are using msvcrt? Why not just use the standard <code>getch</code> found in <a href=\"https://pypi.python.org/pypi/getch\" rel=\"nofollow noreferrer\">pypi.python.org/pypi/getch</a>"}, {"owner": {"reputation": 120, "user_id": 5931278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLmtN.jpg?s=128&g=1", "display_name": "D.C", "link": "https://stackoverflow.com/users/5931278/d-c"}, "edited": false, "score": 0, "creation_date": 1455745976, "post_id": 35468413, "comment_id": 58632668, "body": "to be honest, I am not sure, all I know is that it worked, so I used it. Haha sorry"}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 1, "creation_date": 1455817512, "post_id": 35468413, "comment_id": 58670493, "body": "@Jaron from the Pypi page: &quot;Platform: Linux/UNIX (Windows unknown...)&quot;"}], "tags": [], "owner": {"reputation": 766, "user_id": 5631362, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/d71db07625c0d57cd7d55c7931f86c60?s=128&d=identicon&r=PG", "display_name": "Jaron Thatcher", "link": "https://stackoverflow.com/users/5631362/jaron-thatcher"}, "is_accepted": false, "score": 0, "last_activity_date": 1455745511, "creation_date": 1455745511, "answer_id": 35468413, "question_id": 35468404, "link": "https://stackoverflow.com/questions/35468404/can-i-make-my-code-available-to-multiple-platforms/35468413#35468413", "title": "Can I make my code available to multiple platforms.", "body": "<p>Your code is perfectly runnable on any platform that has a Python interpreter. </p>\n"}, {"tags": [], "owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "is_accepted": false, "score": 3, "last_activity_date": 1455817467, "last_edit_date": 1455817467, "creation_date": 1455745978, "answer_id": 35468542, "question_id": 35468404, "link": "https://stackoverflow.com/questions/35468404/can-i-make-my-code-available-to-multiple-platforms/35468542#35468542", "title": "Can I make my code available to multiple platforms.", "body": "<p>Yes the code review answer is right <code>msvcrt</code> is a module specifically for windows, you could make your code cross platform by checking the os your code is running on before carrying out an operation this can be done with <code>plaform</code> module</p>\n\n<pre><code>import platform\nif platform.system() == \"Windows\":\n    import msvcrt\n    # do windows only stuff\n\nif platform.system() == \"Linux\":\n    # do some linux stuff\n</code></pre>\n"}], "owner": {"reputation": 120, "user_id": 5931278, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hLmtN.jpg?s=128&g=1", "display_name": "D.C", "link": "https://stackoverflow.com/users/5931278/d-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1455817467, "creation_date": 1455745452, "question_id": 35468404, "link": "https://stackoverflow.com/questions/35468404/can-i-make-my-code-available-to-multiple-platforms", "title": "Can I make my code available to multiple platforms.", "body": "<p>Here is my code for a sprinting game in Python. You have to tap the 'a' and 'd' keys as fast as you can to run 100 meters. **Firstly, I would appreciate anyone's opinion, and I would also be interested to know if I can alter my program to make it accessible to multiple platforms?</p>\n\n<pre><code>import msvcrt\nimport time\nhigh_score = 50\nname = \"no-one\"\nwhile True:\n    distance = int(0)\n    print(\"\\n--------------------------------------------------------------\")\n    print('\\n\\nWelcome to the 100m sprint, tap a and d rapidly to move!')    \n    print('* = 10m')\n    print(\"\\n**Current record: \" + str(high_score) + \"s, by: \" + name)\n    print('\\nPress enter to start')\n    input()\n    print('Ready...')\n    time.sleep(1)\n    print('GO!')\nstart_time = time.time()\nwhile distance &lt; 100:           \n    k1 = msvcrt.getch().decode('ASCII')\n    if k1 == 'a':\n        k2 = msvcrt.getch().decode('ASCII')\n        if k2 == 'd':\n            distance += 1\n            if distance == 50:\n                print(\"* You're halfway there!\")\n                elif distance % 10 == 0:\n                    print('*')\nfin_time = time.time() - start_time\nfin_time = round(fin_time,2)\nprint('Well done you did it in...'+str(fin_time))\nif fin_time &lt; high_score:\n    print(\"Well done you've got a new high score \")\n    name = input(\"Please enter your name : \")\n</code></pre>\n"}, {"tags": ["python", "python-3.x", "python-3.5"], "comments": [{"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 3, "creation_date": 1455745703, "post_id": 35468391, "comment_id": 58632515, "body": "&quot;I think the error isn&#39;t even in my code.&quot; - get used to the problem being in your code. It almost always is. Did you look at the line in your code that the traceback is pointing to? There&#39;s a problem in your regex syntax."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1455745839, "post_id": 35468391, "comment_id": 58632594, "body": "Hint: a <code>+</code> sign is special; you&#39;ll want to escape it."}, {"owner": {"reputation": 6568, "user_id": 5276734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxwnY.png?s=128&g=1", "display_name": "bastelflp", "link": "https://stackoverflow.com/users/5276734/bastelflp"}, "edited": false, "score": 0, "creation_date": 1455746094, "post_id": 35468391, "comment_id": 58632732, "body": "@Poeder the most interesting line is the first one of the traceback. It shows you, where the error is in your file."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 5863968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8365c4a4bbf6fa6ddf8835e879dc826?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/5863968/angelo"}, "edited": false, "score": 0, "creation_date": 1455746134, "post_id": 35468554, "comment_id": 58632752, "body": "I&#39;m confused, don&#39;t the &quot; &#39; &quot;s make everything inside re.compile a string? You can&#39;t add values from a string, right?"}, {"owner": {"reputation": 6568, "user_id": 5276734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxwnY.png?s=128&g=1", "display_name": "bastelflp", "link": "https://stackoverflow.com/users/5276734/bastelflp"}, "reply_to_user": {"reputation": 13, "user_id": 5863968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8365c4a4bbf6fa6ddf8835e879dc826?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/5863968/angelo"}, "edited": false, "score": 0, "creation_date": 1455746250, "post_id": 35468554, "comment_id": 58632821, "body": "Your regex pattern is in inside <code>&#39;...&#39;</code> or <code>&quot;...&quot;</code>, see the <a href=\"https://docs.python.org/3.5/library/re.html#match-objects\" rel=\"nofollow noreferrer\">docs</a>"}, {"owner": {"reputation": 13, "user_id": 5863968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8365c4a4bbf6fa6ddf8835e879dc826?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/5863968/angelo"}, "edited": false, "score": 0, "creation_date": 1455746423, "post_id": 35468554, "comment_id": 58632912, "body": "yeah, that&#39;s what I meant. :p So this isn&#39;t a string at all? That&#39;d explain quite a bit haha"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "reply_to_user": {"reputation": 13, "user_id": 5863968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8365c4a4bbf6fa6ddf8835e879dc826?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/5863968/angelo"}, "edited": false, "score": 1, "creation_date": 1455746825, "post_id": 35468554, "comment_id": 58633091, "body": "@Poeder: It is a string. You&#39;re passing the string to the regex engine to be interpreted as a regular expression, and <code>+</code> has special meaning in regular expression syntax. The fact that it&#39;s a string doesn&#39;t prevent this."}], "tags": [], "owner": {"reputation": 6568, "user_id": 5276734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UxwnY.png?s=128&g=1", "display_name": "bastelflp", "link": "https://stackoverflow.com/users/5276734/bastelflp"}, "is_accepted": true, "score": 1, "last_activity_date": 1455746017, "creation_date": 1455746017, "answer_id": 35468554, "question_id": 35468391, "link": "https://stackoverflow.com/questions/35468391/python-sre-parse-py-error/35468554#35468554", "title": "Python sre_parse.py error", "body": "<p>You can test your regex patterns here: <a href=\"https://regex101.com/r/eY4aT8/1\" rel=\"nofollow\">https://regex101.com/r/eY4aT8/1</a>. They are explained in detail and errors are depicted.</p>\n\n<p>The problem is your regex pattern <code>+31 6 \\d{8}</code> - it cannot just start with a <code>+</code> with nothing on the left of that <code>+</code>.</p>\n"}], "owner": {"reputation": 13, "user_id": 5863968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8365c4a4bbf6fa6ddf8835e879dc826?s=128&d=identicon&r=PG&f=1", "display_name": "Angelo", "link": "https://stackoverflow.com/users/5863968/angelo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3099, "favorite_count": 0, "accepted_answer_id": 35468554, "answer_count": 1, "score": 0, "last_activity_date": 1455746017, "creation_date": 1455745406, "question_id": 35468391, "link": "https://stackoverflow.com/questions/35468391/python-sre-parse-py-error", "title": "Python sre_parse.py error", "body": "<p>I'm getting an error message when I run my code... (Python 3.5.1)</p>\n\n<blockquote>\n  <p>sre_constants.error: nothing to repeat at position 0</p>\n</blockquote>\n\n<p>I can't find mistakes in my code, I think the error isn't even in <strong>my</strong> code.</p>\n\n<p>This is my code:</p>\n\n<pre><code>import re\n\nnumberRegexa = re.compile(r'06\\d{8}')\nnumberRegexb = re.compile(r'06 \\d{8}')\nnumberRegexc = re.compile(r'31 6 \\d{8}')\nnumberRegexd = re.compile(r'+31 6 \\d{8}')\nnumberRegexe = re.compile(r'316\\d{8}')\nnumberRegexf = re.compile(r'+316\\d{8}')\nnumberRegexg = re.compile(r'316 \\d{8}')\nnumberRegexh = re.compile(r'+316 \\d{8}')\nnumberRegexi = re.compile(r'31 6\\d{8}')\nnumberRegexj = re.compile(r'+31 6\\d{8}')\n\n##numberRegexAll = [\n##    (1,  numberRegex06a),\n##    (2,  numberRegex06b),\n##    (3,  numberRegex31a),\n##    (4,  numberRegex31b),\n##    (5,  numberRegex31c),\n##    (6,  numberRegex31d),\n##    (7,  numberRegex31e),\n##    (8,  numberRegex31f),\n##    (9,  numberRegex31g),\n##    (10, numberRegex31h),\n##]\n\ndef searchNumber():\n    result = numberRegex06a.search(userInput)\n    print('Found: ' + result.group())\n\nuserInput = input(\"Insert text you'd like searched:\\n\")\nsearchNumber()\n</code></pre>\n\n<p>And this is my log:</p>\n\n<blockquote>\n  <p>Traceback (most recent call last):   File\n  \"C:/Users/Hibuna/Desktop/asdsad.py\", line 6, in \n      numberRegexd = re.compile(r'+31 6 \\d{8}')</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\re.py\", line 224, in compile\n      return _compile(pattern, flags)</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\re.py\", line 293, in _compile\n      p = sre_compile.compile(pattern, flags)</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\sre_compile.py\", line 536, in\n  compile\n      p = sre_parse.parse(p, flags)</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\sre_parse.py\", line 829, in parse\n      p = _parse_sub(source, pattern, 0)</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\sre_parse.py\", line 437, in\n  _parse_sub\n      itemsappend(_parse(source, state))</p>\n  \n  <p>File \"C:\\Programs\\Python 3.5.1\\lib\\sre_parse.py\", line 638, in\n  _parse\n      source.tell() - here + len(this))</p>\n</blockquote>\n\n<p>What the hell is going on? I really don't understand this advanced stuff, I'm pretty new to programming..</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["python", "mysql", "amazon-web-services", "boto3"], "answers": [{"comments": [{"owner": {"reputation": 1018, "user_id": 3024827, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1275986857/picture?type=large", "display_name": "user3024827", "link": "https://stackoverflow.com/users/3024827/user3024827"}, "edited": false, "score": 0, "creation_date": 1455746310, "post_id": 35468443, "comment_id": 58632847, "body": "thank you. Excuse my naivety here, but how would I then go about creating and API to get data via queries for use in a web/mobile app? Is there a set of services or API for example?"}, {"owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "reply_to_user": {"reputation": 1018, "user_id": 3024827, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1275986857/picture?type=large", "display_name": "user3024827", "link": "https://stackoverflow.com/users/3024827/user3024827"}, "edited": false, "score": 0, "creation_date": 1455746418, "post_id": 35468443, "comment_id": 58632909, "body": "@user3024827 - Nope. No API. You simply connect to your database just as you would if it were local. RDS is nothing more than a hosted database solution."}, {"owner": {"reputation": 1018, "user_id": 3024827, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1275986857/picture?type=large", "display_name": "user3024827", "link": "https://stackoverflow.com/users/3024827/user3024827"}, "edited": false, "score": 0, "creation_date": 1455746689, "post_id": 35468443, "comment_id": 58633032, "body": "so does this mean it cannot be used as the database for an application? Again apologies if this is a silly question, I am very new to it!"}, {"owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "reply_to_user": {"reputation": 1018, "user_id": 3024827, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1275986857/picture?type=large", "display_name": "user3024827", "link": "https://stackoverflow.com/users/3024827/user3024827"}, "edited": false, "score": 1, "creation_date": 1455746948, "post_id": 35468443, "comment_id": 58633153, "body": "@user3024827 - It most definitely can be used as the database for an application. I&#39;m merely saying that you don&#39;t treat it any differently than if you were running a database server locally."}, {"owner": {"reputation": 583, "user_id": 4113031, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-teEepVvzrsk/AAAAAAAAAAI/AAAAAAAAgdE/VeSy9eLuKc4/photo.jpg?sz=128", "display_name": "Niv Cohen", "link": "https://stackoverflow.com/users/4113031/niv-cohen"}, "edited": false, "score": 0, "creation_date": 1557819855, "post_id": 35468443, "comment_id": 98882632, "body": "@JustinNiessner - When I threat Aurora with the native client, performance are poor comparing to same query running using Node.JS API. I just submitted a new <a href=\"https://stackoverflow.com/questions/56116451/how-to-improve-query-time-from-aws-aurora-rds-when-using-python-3-executed-on?noredirect=1#comment98867091_56116451\">question</a> about that"}, {"owner": {"reputation": 442, "user_id": 4204196, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A9epnZz72aI/AAAAAAAAAAI/AAAAAAAAAMA/4zO_GUHeBiw/photo.jpg?sz=128", "display_name": "Rohin Tak", "link": "https://stackoverflow.com/users/4204196/rohin-tak"}, "edited": false, "score": 0, "creation_date": 1603458952, "post_id": 35468443, "comment_id": 114051731, "body": "I feel this answer can create more ambiguity and guiding someone looking for a way to connect to Aurora using Boto3. There are APIs to connect to &#39;rds-data&#39; using boto3 and then run queries. This can be especially useful when trying to use secret manager instead of using username passwords directly to connect."}], "tags": [], "owner": {"reputation": 228875, "user_id": 84651, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b5ab789d3e28d1fad880f3fd1765b66?s=128&d=identicon&r=PG", "display_name": "Justin Niessner", "link": "https://stackoverflow.com/users/84651/justin-niessner"}, "is_accepted": true, "score": 11, "last_activity_date": 1455745617, "creation_date": 1455745617, "answer_id": 35468443, "question_id": 35468372, "link": "https://stackoverflow.com/questions/35468372/using-boto3-to-interact-with-amazon-aurora-on-rds/35468443#35468443", "title": "Using Boto3 to interact with amazon Aurora on RDS", "body": "<p>When using Amazon RDS offerings (including Aurora), you don't connect to the database via any AWS API (including Boto). Instead you would use the native client of your chosen database. In the case of Aurora, you would connect using the MySQL Command Line client. From there, you can query it just like any other MySQL database.</p>\n\n<p>There's a brief section of the \"Getting Started\" documentation that talks about connecting to your Aurora database:</p>\n\n<p><a href=\"http://docs.aws.amazon.com/AmazonRDS/latest/UserGuide/Aurora.Connect.html\" rel=\"noreferrer\">Connecting to an Amazon Aurora DB Cluster</a></p>\n"}, {"comments": [{"owner": {"reputation": 1175, "user_id": 3275705, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/y8i0t.jpg?s=128&g=1", "display_name": "Thijs", "link": "https://stackoverflow.com/users/3275705/thijs"}, "edited": false, "score": 0, "creation_date": 1599470015, "post_id": 62843346, "comment_id": 112774608, "body": "there is no rds-data client in Boto3 when you run in on Glue"}], "tags": [], "owner": {"reputation": 652, "user_id": 4946843, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7326f8c34acb1079ecb37cf745ad0469?s=128&d=identicon&r=PG&f=1", "display_name": "vbp13", "link": "https://stackoverflow.com/users/4946843/vbp13"}, "is_accepted": false, "score": 5, "last_activity_date": 1594421538, "creation_date": 1594421538, "answer_id": 62843346, "question_id": 35468372, "link": "https://stackoverflow.com/questions/35468372/using-boto3-to-interact-with-amazon-aurora-on-rds/62843346#62843346", "title": "Using Boto3 to interact with amazon Aurora on RDS", "body": "<p>Here are a couple examples:</p>\n<p><strong>INSERT example:</strong></p>\n<pre><code>import boto3\n\nsql = &quot;&quot;&quot;\n        INSERT INTO YOUR_TABLE_NAME_HERE\n        (\n            your_column_name_1\n            ,your_column_name_2\n            ,your_column_name_3)\n        VALUES(\n            :your_param_1_name\n            ,:your_param_2_name)\n            ,:your_param_3_name\n        &quot;&quot;&quot;\n\nparam1 = {'name':'your_param_1_name', 'value':{'longValue': 5}}\nparam2 = {'name':'your_param_2_name', 'value':{'longValue': 63}}\nparam3 = {'name':'your_param_3_name', 'value':{'stringValue': 'para bailar la bamba'}}\n\nparam_set = [param1, param2, param3]\n\ndb_clust_arn = 'your_db_cluster_arn_here'\n\ndb_secret_arn = 'your_db_secret_arn_here'\n\nrds_data = boto3.client('rds-data')\n\nresponse = rds_data.execute_statement(\n    resourceArn = db_clust_arn, \n    secretArn = db_secret_arn, \n    database = 'your_database_name_here', \n    sql = sql,\n    parameters = param_set)\n\nprint(str(response))\n</code></pre>\n<p><strong>READ example:</strong></p>\n<pre><code>import boto3\n\nrds_data = boto3.client('rds-data')\n\ndb_clust_arn = 'your_db_cluster_arn_here'\n\ndb_secret_arn = 'your_db_secret_arn_here'\n\n\nemployee_id = 35853\n\nget_vacation_days_sql = f&quot;&quot;&quot;\n    select vacation_days_remaining\n    from employees_tbl\n    where employee_id = {employee_id}    \n        &quot;&quot;&quot;\n\n\nresponse1 = rds_data.execute_statement(\n        resourceArn = db_clust_arn, \n        secretArn = db_secret_arn, \n        database = 'your_database_name_here', \n        sql = get_vacation_days_sql)\n\n#recs is a list (of rows returned from Db)\nrecs = response1['records']\n\nprint(f&quot;recs === {recs}&quot;)\n#recs === [[{'longValue': 57}]]\n\n#single_row is a list of dictionaries, where each dictionary represents a \n#column from that single row\nfor single_row in recs:\n    print(f&quot;single_row === {single_row}&quot;)\n    #single_row === [{'longValue': 57}]\n    \n    #one_dict is a dictionary with one key value pair\n    #where the key is the data type of the column and the \n    #value is the value of the column\n    #each additional column is another dictionary\n    for single_column_dict in single_row:\n        print(f&quot;one_dict === {single_column_dict}&quot;)\n        # one_dict === {'longValue': 57}\n\n        vacation_days_remaining = single_column_dict['longValue']\n        \n        print(f'vacation days remaining === {vacation_days_remaining}')\n</code></pre>\n<p>Source Link:\n<a href=\"https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/data-api.html#data-api.calling.python\" rel=\"noreferrer\">https://docs.aws.amazon.com/AmazonRDS/latest/AuroraUserGuide/data-api.html#data-api.calling.python</a></p>\n"}], "owner": {"reputation": 1018, "user_id": 3024827, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1275986857/picture?type=large", "display_name": "user3024827", "link": "https://stackoverflow.com/users/3024827/user3024827"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16206, "favorite_count": 0, "accepted_answer_id": 35468443, "answer_count": 2, "score": 13, "last_activity_date": 1594440437, "creation_date": 1455745355, "question_id": 35468372, "link": "https://stackoverflow.com/questions/35468372/using-boto3-to-interact-with-amazon-aurora-on-rds", "title": "Using Boto3 to interact with amazon Aurora on RDS", "body": "<p>I have set up a database in Amazon RDS using Amazon Aurora and would like to interact with the database using Python - the obvious choice is to use Boto.</p>\n\n<p>However, their documentation is awful and does nopt cover ways in which I can interact with the databse to:</p>\n\n<ul>\n<li>Run queries with SQL statements</li>\n<li>Interact with the tables in the database</li>\n<li>etc</li>\n</ul>\n\n<p>Does anyone have an links to some examples/tutorials, or know how to do these tasks?</p>\n"}, {"tags": ["python", "io"], "comments": [{"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1455745682, "post_id": 35468348, "comment_id": 58632501, "body": "If you want this to behave like an exception, just make it an exception.  You could also have an error function that first writes to stderr and then throws an exception."}, {"owner": {"reputation": 478030, "user_id": 279627, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/2dceea858ad8f1577bec6ddaa0485d15?s=128&d=identicon&r=PG", "display_name": "Sven Marnach", "link": "https://stackoverflow.com/users/279627/sven-marnach"}, "edited": false, "score": 0, "creation_date": 1455745793, "post_id": 35468348, "comment_id": 58632568, "body": "That said, you could move the logic to a subprocess, and then kill the subprocess when something is written to stderr.  Or you could monkey-patch <code>sys.stderr</code> with an object that throws an exception when <code>write()</code> is called.  But all those solutions are rather weird compared to the straight-forward solution of simply throwing an exception."}, {"owner": {"reputation": 119, "user_id": 5607933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b697a1c2e77922df29462831d1823c88?s=128&d=identicon&r=PG&f=1", "display_name": "platinhom", "link": "https://stackoverflow.com/users/5607933/platinhom"}, "edited": false, "score": 0, "creation_date": 1455745882, "post_id": 35468348, "comment_id": 58632623, "body": "Why not use <code>except Exception as e</code> to catch all Exception and print it out. To catch the stderr, you can use a <code>stderrio=StringIO()</code> and give it to <code>sys.stderr=stderrio</code> and then check its content."}, {"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "reply_to_user": {"reputation": 119, "user_id": 5607933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b697a1c2e77922df29462831d1823c88?s=128&d=identicon&r=PG&f=1", "display_name": "platinhom", "link": "https://stackoverflow.com/users/5607933/platinhom"}, "edited": false, "score": 0, "creation_date": 1455747603, "post_id": 35468348, "comment_id": 58633450, "body": "@platinhom that is what i am trying to do, could you possibly put this as an answer? i tried writing except Exception as e but i didn&#39;t know if there was a <code>e.print_stack_trace()</code> that would print my custom error string"}, {"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1455747983, "post_id": 35468348, "comment_id": 58633621, "body": "@ platinhom This worked. I caught the exception with <code>catch Exception as e</code> and printed <code>e.strerror</code> which printed my custom error string and exited the program. Thanks"}, {"owner": {"reputation": 119, "user_id": 5607933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b697a1c2e77922df29462831d1823c88?s=128&d=identicon&r=PG&f=1", "display_name": "platinhom", "link": "https://stackoverflow.com/users/5607933/platinhom"}, "edited": false, "score": 0, "creation_date": 1455750147, "post_id": 35468348, "comment_id": 58634560, "body": "It&#39;s good. Indeed I don&#39;t exactly know your need so I don&#39;t make an answer \u256e(\u256f\u25bd\u2570)\u256d"}], "answers": [{"comments": [{"owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "edited": false, "score": 0, "creation_date": 1455747508, "post_id": 35468459, "comment_id": 58633411, "body": "So I can override Python&#39;s inherent errors which write to stderr and pass my own error message?"}], "tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": false, "score": 2, "last_activity_date": 1455806734, "last_edit_date": 1455806734, "creation_date": 1455745695, "answer_id": 35468459, "question_id": 35468348, "link": "https://stackoverflow.com/questions/35468348/catching-stderr-custom-output-in-try-catch-python/35468459#35468459", "title": "Catching stderr custom output in try catch python", "body": "<p>Instead of writing to stderr is there a reason you cant just raise errors with what you're writing to stderr as the message? Then you can just catch whatever error you decide to raise. Something like</p>\n\n<pre><code>class Scanner:\n...\n\ndef next(self):\n   if ...\n        ...\n        if not open_comment_count == closed_comment_count:\n                    ...\n                    raise InputError(\"error: unclosed comment at position ({0}, {1})\".format(start_position, end_position))\n                    ...\n                    break\n        ...\n\n   else:\n        raise InputError(\"error: illegal character \\'{0}\\' found \" \\\n                      \"at position @({1}, {2})\".format(self.input_text[self.curr_position],\n                                                       self.curr_position, self.curr_position))\n                error_flag = 1\n                break\n  if error_flag == 0:\n        token = Token(kind=4, eof_value=\"eof\", start_position=self.curr_position, end_position=self.curr_position)\n        return token\n</code></pre>\n\n<p>and then </p>\n\n<pre><code>def main():\ns = Scanner(input_string)\ntry:\n    while(True):\n        s.next()\nexcept InputError as e:\n    print e\n</code></pre>\n\n<p>EDIT\nto address your comment, yes. And if you want do do it with a custom error name you can do</p>\n\n<pre><code>class MyException(Exception):\n    pass\n</code></pre>\n\n<p>and then <code>raise MyException('message')</code></p>\n"}, {"tags": [], "owner": {"reputation": 2924, "user_id": 2066459, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d8408d7e5ef47a2e2af09f3c6da6e1a6?s=128&d=identicon&r=PG", "display_name": "Robert Jacobs", "link": "https://stackoverflow.com/users/2066459/robert-jacobs"}, "is_accepted": false, "score": 0, "last_activity_date": 1455746133, "creation_date": 1455746133, "answer_id": 35468582, "question_id": 35468348, "link": "https://stackoverflow.com/questions/35468348/catching-stderr-custom-output-in-try-catch-python/35468582#35468582", "title": "Catching stderr custom output in try catch python", "body": "<p>If you want to cause an exception when you write to stderr, then close stderr. Now when some function writes to stderr, I guess it will get an IOError. Getting the error message will be harder.</p>\n\n<p>You could catch all exceptions and print out the exception, but this still won't capture the message to stderr.</p>\n"}, {"tags": [], "owner": {"reputation": 156940, "user_id": 416467, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/32cad7487ccecc3740a62e797fc326dc?s=128&d=identicon&r=PG", "display_name": "kindall", "link": "https://stackoverflow.com/users/416467/kindall"}, "is_accepted": false, "score": 3, "last_activity_date": 1455746276, "creation_date": 1455746276, "answer_id": 35468615, "question_id": 35468348, "link": "https://stackoverflow.com/questions/35468348/catching-stderr-custom-output-in-try-catch-python/35468615#35468615", "title": "Catching stderr custom output in try catch python", "body": "<p>What you want to do mixes up concerns: reporting an error becomes a signal that there has <em>been</em> an error. You could do that by creating a wrapper for <code>stderr</code> that sets some kind of flag:</p>\n\n<pre><code>import sys\n\nclass MyStdErr(object):\n\n    stderr = sys.stderr\n    waserr = False\n\n    def write(self, text):\n        self.waserr = True\n        self.stderr.write(text)\n\nsys.stderr = MyStdErr()\n</code></pre>\n\n<p>Now <code>sys.stderr.waserr</code> is <code>True</code> if <code>stderr</code> was written to at any point.</p>\n\n<p>I think raising an exception containing the error message, catching it, and printing the error (as shown by Nathan) is considerably better, however.</p>\n"}], "owner": {"reputation": 1724, "user_id": 2543209, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/5869184dad8dd949887291f0e328e395?s=128&d=identicon&r=PG", "display_name": "Jeremy Fisher", "link": "https://stackoverflow.com/users/2543209/jeremy-fisher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1455806734, "creation_date": 1455745294, "last_edit_date": 1455747637, "question_id": 35468348, "link": "https://stackoverflow.com/questions/35468348/catching-stderr-custom-output-in-try-catch-python", "title": "Catching stderr custom output in try catch python", "body": "<p>I have a function that will write to stderr when an error occurs:</p>\n\n<pre><code>class Scanner:\n    ...\n\n    def next(self):\n       if ...\n            ...\n            if not open_comment_count == closed_comment_count:\n                        ...\n                        sys.stderr.write(\"error: unclosed comment at position ({0}, {1})\".format(start_position, end_position))\n                        ...\n                        break\n            ...\n\n       else:\n            sys.stderr.write(\"error: illegal character \\'{0}\\' found \" \\\n                          \"at position @({1}, {2})\".format(self.input_text[self.curr_position],\n                                                           self.curr_position, self.curr_position))\n                    error_flag = 1\n                    break\n      if error_flag == 0:\n            token = Token(kind=4, eof_value=\"eof\", start_position=self.curr_position, end_position=self.curr_position)\n            return token\n</code></pre>\n\n<p>the function is very long so I included the parts where I write to <code>stderr</code>. What I would like to do is when those errors occur, I want to print those errors and terminate the program. So in my main, I would like to have:</p>\n\n<pre><code>def main():\n    s = Scanner(input_string)\n    try:\n        while(True):\n            s.next()\n    except:\n        # print error message and stop\n</code></pre>\n\n<p>What i am stuck on is what should the exception be. I want to somehow catch that something was written to stderr and I want that caught and printed out in main and then the program to stop. Basically running until an exception occurs. I know this can be done by writing my own exception, but is it possible to just check if something was written to stderr and then print it out?</p>\n"}, {"tags": ["python", "matplotlib"], "answers": [{"tags": [], "owner": {"reputation": 1437, "user_id": 799461, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6ad5074785c7411cea4df34074e1a80c?s=128&d=identicon&r=PG", "display_name": "Christoph", "link": "https://stackoverflow.com/users/799461/christoph"}, "is_accepted": true, "score": 1, "last_activity_date": 1455745979, "creation_date": 1455745979, "answer_id": 35468544, "question_id": 35468340, "link": "https://stackoverflow.com/questions/35468340/extend-matplotlib-line-plot-across-chart/35468544#35468544", "title": "Extend matplotlib line plot across chart", "body": "<p>Matplotlib tends to include some space around the data. If you don't want that, you can adjust the axis ranges manually. This can be done via</p>\n\n<pre><code>plt.xlim(min(trip.index),max(trip.index))\n</code></pre>\n"}], "owner": {"reputation": 1331, "user_id": 3509416, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5289e35d10a71dcee399b70bcb6a674c?s=128&d=identicon&r=PG&f=1", "display_name": "hselbie", "link": "https://stackoverflow.com/users/3509416/hselbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 35468544, "answer_count": 1, "score": 1, "last_activity_date": 1455745979, "creation_date": 1455745267, "question_id": 35468340, "link": "https://stackoverflow.com/questions/35468340/extend-matplotlib-line-plot-across-chart", "title": "Extend matplotlib line plot across chart", "body": "<p>I've created this plot, but it doesn't extend all the way across the figure for some reason. Can anyone help explain why?</p>\n\n<p>Chart = <a href=\"https://i.stack.imgur.com/Ealg9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ealg9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code = </p>\n\n<pre><code>fig, ax = plt.subplots()\nax.plot(trip.index, trip.gas, marker='.',linestyle='-')\n\nplt.xticks(np.arange(min(trip.index), max(trip.index), 7))\nax.set_xticklabels(map(str, ax.get_xticks()/7))\nplt.xlabel('Week #')\nplt.ylabel('Trip Cost ($)')\n</code></pre>\n"}, {"tags": ["python", "django", "django-autocomplete-light"], "comments": [{"owner": {"reputation": 2472, "user_id": 603819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zYtBs.png?s=128&g=1", "display_name": "Bobort", "link": "https://stackoverflow.com/users/603819/bobort"}, "edited": false, "score": 0, "creation_date": 1457626113, "post_id": 35468263, "comment_id": 59501432, "body": "I have never seen ArrayField before, but it looks interesting.  Get rid of it.  You probably need it to be a ManyToManyField to the Tag model."}, {"owner": {"reputation": 181, "user_id": 5353484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG1nz.jpg?s=128&g=1", "display_name": "Evgeniy_Burdin", "link": "https://stackoverflow.com/users/5353484/evgeniy-burdin"}, "reply_to_user": {"reputation": 2472, "user_id": 603819, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zYtBs.png?s=128&g=1", "display_name": "Bobort", "link": "https://stackoverflow.com/users/603819/bobort"}, "edited": false, "score": 0, "creation_date": 1457644370, "post_id": 35468263, "comment_id": 59513261, "body": "I do not need referential integrity between tables, so do not use ManyToMany. I just need to adjust the values for <code>tags_name</code> of <code>Tag.name</code>"}], "owner": {"reputation": 181, "user_id": 5353484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG1nz.jpg?s=128&g=1", "display_name": "Evgeniy_Burdin", "link": "https://stackoverflow.com/users/5353484/evgeniy-burdin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 219, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1456675610, "creation_date": 1455744986, "last_edit_date": 1456675610, "question_id": 35468263, "link": "https://stackoverflow.com/questions/35468263/django-multi-autocomplete-for-array-field", "title": "django - multi autocomplete for array field", "body": "<p>models.py:</p>\n\n<pre><code>from django.contrib.postgres.fields import ArrayField\n\nclass AdDO(models.Model):\n    ...\n    tags_name = ArrayField(models.CharField(max_length=40,\n                           blank=True, null=True),\n                           blank=True, null=True)\n\nclass Tag(models.Model):\n    ...\n    name = models.CharField(max_length=40, db_index=True)\n</code></pre>\n\n<p>How do multi autocomplete for the field <code>AdDO.tags_name</code> from <code>Tag.name</code>?<br>\nThe <code>AdDO.tags_name</code> needs to get the character field, for example: \"watermelon red, green leaf, black stone\" (<code>Tag.name</code> values separated by commas) </p>\n"}, {"tags": ["python", "svg", "coordinates", "robotics", "cnc"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1455746215, "post_id": 35468253, "comment_id": 58632801, "body": "SVG is XML, use an XML parser."}, {"owner": {"reputation": 11, "user_id": 5942645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fF1hS.jpg?s=128&g=1", "display_name": "Florian80333", "link": "https://stackoverflow.com/users/5942645/florian80333"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1455747912, "post_id": 35468253, "comment_id": 58633587, "body": "Thanks for your reply, it made me rethink my question. I understand that SVG is basically XML.   What I would like to avoid having to code myself (as I am far from being a professional programmer) is:  1) some function to get ALL Point Coordinates out of my SVG file aoutmatically in one simple list of X/Y coordinates   2) functionality to approximate line points of round shapes (like circles, ellipses and beziers which are defined by radius etc.)"}, {"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1455748212, "post_id": 35468253, "comment_id": 58633710, "body": "Probably not the best site for you then, since this is for programming questions."}], "owner": {"reputation": 11, "user_id": 5942645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fF1hS.jpg?s=128&g=1", "display_name": "Florian80333", "link": "https://stackoverflow.com/users/5942645/florian80333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1179, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1455744953, "creation_date": 1455744953, "last_edit_date": 1495542670, "question_id": 35468253, "link": "https://stackoverflow.com/questions/35468253/svg-export-of-points-coordinates-in-python", "title": "SVG - Export of Points / Coordinates in Python", "body": "<p>I am developing a robotic controlled drawing system and currently are looking for some input regarding the extraction of plain coordinates out of exisitng SVG-files. My question is very similar to <a href=\"https://stackoverflow.com/questions/31557673/python-get-coordinates-of-the-vector-path-from-svg-file\">this one</a>, which did not get much feedback so far.</p>\n\n<p>-> Is there some simple/established/prebuild way to extract point-coordinates out of existing SVG files within python ?</p>\n\n<p>From my (limited) understanding, existing SVG libraries for python like <a href=\"https://pypi.python.org/pypi/svg.path\" rel=\"nofollow noreferrer\">svg.path</a> and <a href=\"https://pypi.python.org/pypi/pysvg/0.2.2\" rel=\"nofollow noreferrer\">pysvg</a> do not seem to include a function for extracting all points out of an existing file (as they seem to be build more towards writing SVG rather than reading SVG..)</p>\n\n<p>thanks for answers.</p>\n"}, {"tags": ["python", "turtle-graphics"], "comments": [{"owner": {"reputation": 84953, "user_id": 1405065, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c422b239ab1f49d3f4fcff9e5df3cf?s=128&d=identicon&r=PG", "display_name": "Blckknght", "link": "https://stackoverflow.com/users/1405065/blckknght"}, "edited": false, "score": 0, "creation_date": 1455745374, "post_id": 35468217, "comment_id": 58632303, "body": "Why do you expect <code>turtle.write</code> to work exactly the same as <code>print</code>? It does something rather different (writing text at the location of the turtle, rather than writing a line of output to the console). If you&#39;re going to <code>write</code> many times, you&#39;ll need to move the turtle around to get the different pieces in the right places."}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1535595767, "last_edit_date": 1535595767, "creation_date": 1535569590, "answer_id": 52084497, "question_id": 35468217, "link": "https://stackoverflow.com/questions/35468217/make-write-work-like-print-in-python-turtle-graphics/52084497#52084497", "title": "Make write() work like print() in Python turtle graphics?", "body": "<p>When using <code>turtle.write()</code> as a replacement for <code>print()</code>, it's able to meet us halfway.  In the horizontal direction, <code>write()</code> will keep track of where it is for us, like <code>print()</code>, if we specify the <code>move=True</code> option.  We need to handle the vertical direction ourselves, using the current font size to move the correct amount:</p>\n\n<pre><code>from turtle import Turtle, Screen\n\nFONT_SIZE = 18\nFONT = ('Courier', FONT_SIZE, 'normal')\n\n# Based on number of characters to draw, field width, font aspect ratio, etc.\nTABLE_EDGE_ESTIMATE = - ((0.6 * FONT_SIZE) * (11 * 3)) / 2\n\nscreen = Screen()\nHEIGHT = screen.window_height()/2\n\nturtle = Turtle(visible=False)\nturtle.penup()\n\nturtle.goto(0, HEIGHT * 0.9)\nturtle.write(\"Multiplication Table\", align=\"center\", font=FONT)\n\n# Display numbers along top\nturtle.goto(TABLE_EDGE_ESTIMATE, turtle.ycor() - 2 * FONT_SIZE)\nturtle.write(\"   \" * 2, move=True, font=FONT)\nfor j in range(1, 10):\n    turtle.write(format(j, \"^3\"), move=True, font=FONT)\n\nturtle.goto(TABLE_EDGE_ESTIMATE, turtle.ycor() - FONT_SIZE)\nturtle.write(\"---\" * 11, font=FONT)\n\n# Display body of table\nturtle.sety(turtle.ycor() - FONT_SIZE)\n\nfor i in range(1, 10):\n    turtle.setx(TABLE_EDGE_ESTIMATE)\n    turtle.write(format(i, \"^3\"), move=True, font=FONT)\n    turtle.write(\" | \", move=True, font=FONT)\n\n    for j in range(1, 10):\n        # Display the product and align properly\n        turtle.write(format(i * j, \"^3\"), move=True, font=FONT)\n\n    turtle.sety(turtle.ycor() - FONT_SIZE)\n\nscreen.mainloop()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/UbN2V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UbN2V.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 65, "user_id": 5942718, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/04a2b1af28b43877d4173507a6b0a25a?s=128&d=identicon&r=PG&f=1", "display_name": "BenjaminT", "link": "https://stackoverflow.com/users/5942718/benjamint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 652, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1535595767, "creation_date": 1455744821, "last_edit_date": 1535569825, "question_id": 35468217, "link": "https://stackoverflow.com/questions/35468217/make-write-work-like-print-in-python-turtle-graphics", "title": "Make write() work like print() in Python turtle graphics?", "body": "<p>How to fix my Python code to work in turtle graphics window?  Below, I have my Python code. By itself, the code will display a multiplication chart when executed. I need this to work in Turtle Graphics.  I have tried changing <code>print()</code> to <code>turtle.write()</code> and imported turtle.  I do not know what else I need to do. Please help.</p>\n\n<pre><code>import turtle\n\nturtle.write(\"      Multiplication Table\")\n\n\n# Display numbers\nturtle.write(\"   \", end = '')\nfor j in range(1, 10):\n    turtle.write(\" \", j, end = '')\n\nturtle.write() \nturtle.write(\"--------------------------------\")\n\n# Display body of table\nfor i in range(1, 10):\n    turtle.write(i, \"|\", end = '')\n    for j in range(1, 10): \n        # Display the product and align properly\n        turtle.write(format(i * j, '3d'), end = '')\n    turtle.write()\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"comments": [{"owner": {"reputation": 6121, "user_id": 1513388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a235aa59e48586dcab866c685d042874?s=128&d=identicon&r=PG", "display_name": "user1513388", "link": "https://stackoverflow.com/users/1513388/user1513388"}, "edited": false, "score": 0, "creation_date": 1455745223, "post_id": 35468244, "comment_id": 58632202, "body": "Thanks, Is this python 2 or 3?"}, {"owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "reply_to_user": {"reputation": 6121, "user_id": 1513388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a235aa59e48586dcab866c685d042874?s=128&d=identicon&r=PG", "display_name": "user1513388", "link": "https://stackoverflow.com/users/1513388/user1513388"}, "edited": false, "score": 0, "creation_date": 1455745461, "post_id": 35468244, "comment_id": 58632346, "body": "This should run on both 2 and 3."}], "tags": [], "owner": {"reputation": 2473, "user_id": 4546885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dacef57bea7081f99b51bd3cfe448b35?s=128&d=identicon&r=PG", "display_name": "Sebastian Hoffmann", "link": "https://stackoverflow.com/users/4546885/sebastian-hoffmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1455745809, "last_edit_date": 1455745809, "creation_date": 1455744923, "answer_id": 35468244, "question_id": 35468159, "link": "https://stackoverflow.com/questions/35468159/search-data-object-and-concatenate-items-in-array-of-strings/35468244#35468244", "title": "Search data object and concatenate items in array of strings", "body": "<pre><code>def joinItems(myList, version)\n    toConcate = []\n    for dct in filter(lambda dct: dct[u\"version\"] == version, myList):\n       toConcate.extend(dct[u\"items\"])\n\n    return \"seperator\".join(toConcate)\n</code></pre>\n\n<p>It's also possible to do this within a single generator comprehension:</p>\n\n<pre><code>return \"sep\".join(itertools.chain(dct[u\"items\"] for dct in myList if dct[u\"version\"] == version))\n</code></pre>\n"}], "owner": {"reputation": 6121, "user_id": 1513388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a235aa59e48586dcab866c685d042874?s=128&d=identicon&r=PG", "display_name": "user1513388", "link": "https://stackoverflow.com/users/1513388/user1513388"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 35468244, "answer_count": 1, "score": 0, "last_activity_date": 1455745809, "creation_date": 1455744613, "question_id": 35468159, "link": "https://stackoverflow.com/questions/35468159/search-data-object-and-concatenate-items-in-array-of-strings", "title": "Search data object and concatenate items in array of strings", "body": "<p>I have a data structure that looks like this:</p>\n\n<pre><code>[{u'id': [u'213938162d125653628e0912986e78b23d359ca3'], u'items': [u'item1', u'item12'], u'version': u'v1'},\n {u'id': [u'213938162d125653628e0912986e78b23d359ca3'], u'items': [u'item1', u'item2', u'item3', u'item4'], u'version': u'v2'},\n {u'id': [u'213938162d125653628e0912986e78b23d359ca3'], u'items': [u'item1', u'item2'], u'version': u'v3'},\n {u'id': [u'213938162d125653628e0912986e78b23d359ca3'], u'items': [u'item1'], u'version': u'v4'}\n]\n</code></pre>\n\n<p>I need a function that can search based on the value of the \"version\" to get the \"items\" and and then concatenate the items into a single string.</p>\n\n<p>What would be the best way to achieve this. </p>\n"}, {"tags": ["python", "for-loop"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 3, "creation_date": 1455744750, "post_id": 35468157, "comment_id": 58631924, "body": "Did you try searching for Python for loop syntax? <a href=\"https://wiki.python.org/moin/ForLoop\" rel=\"nofollow noreferrer\">wiki.python.org/moin/ForLoop</a>"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455745043, "post_id": 35468157, "comment_id": 58632090, "body": "Also, this is an infinite loop because <code>i &gt; 0</code> is always true since you always divide by 2"}, {"owner": {"reputation": 24772, "user_id": 770830, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a3943e02574f64dabaa71603264c9c28?s=128&d=identicon&r=PG", "display_name": "bereal", "link": "https://stackoverflow.com/users/770830/bereal"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455745094, "post_id": 35468157, "comment_id": 58632132, "body": "@cricket_007 not when it&#39;s integer division."}, {"owner": {"reputation": 17566, "user_id": 901641, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/PR8Bl.png?s=128&g=1", "display_name": "ArtOfWarfare", "link": "https://stackoverflow.com/users/901641/artofwarfare"}, "edited": false, "score": 0, "creation_date": 1455745223, "post_id": 35468157, "comment_id": 58632203, "body": "Looks like it should be a while loop to me... <code>i = n; while i: i &#47;= 2</code> (imagine the proper line breaks and indents). <code>while</code> loop indicates you want to repeat an unknown number of times. <code>for</code> loop indicates you want to repeat a known number of times."}, {"owner": {"reputation": 58, "user_id": 5939301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOjhg.jpg?s=128&g=1", "display_name": "andra.ioana", "link": "https://stackoverflow.com/users/5939301/andra-ioana"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455745533, "post_id": 35468157, "comment_id": 58632394, "body": "@cricket_007 syntax for xrange is used for a arithmetic progression (+/- an index) and not a geometrical one. The question was if there is a Python way, except of creating a generator"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455745638, "post_id": 35468157, "comment_id": 58632476, "body": "I understood what you were going for, so I didn&#39;t downvote. The way you asked though, made it seem like you didn&#39;t know how to write a basic python for-loop. If you explained what you just said in your question, that may not have happened"}, {"owner": {"reputation": 58, "user_id": 5939301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOjhg.jpg?s=128&g=1", "display_name": "andra.ioana", "link": "https://stackoverflow.com/users/5939301/andra-ioana"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455746055, "post_id": 35468157, "comment_id": 58632706, "body": "@cricket_007 I will take that in account on next question"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 5822880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-esRykH82yGo/AAAAAAAAAAI/AAAAAAAAPOg/9DwyK-uFNyA/photo.jpg?sz=128", "display_name": "Juan", "link": "https://stackoverflow.com/users/5822880/juan"}, "edited": false, "score": 0, "creation_date": 1455745442, "post_id": 35468349, "comment_id": 58632339, "body": "or<code>while i &gt; 0: i = int(i &#47; 2)</code>"}], "tags": [], "owner": {"reputation": 131, "user_id": 5822880, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-esRykH82yGo/AAAAAAAAAAI/AAAAAAAAPOg/9DwyK-uFNyA/photo.jpg?sz=128", "display_name": "Juan", "link": "https://stackoverflow.com/users/5822880/juan"}, "is_accepted": false, "score": 1, "last_activity_date": 1455745294, "creation_date": 1455745294, "answer_id": 35468349, "question_id": 35468157, "link": "https://stackoverflow.com/questions/35468157/python-how-to-create-a-c-type-for-loop-for-a-geometrical-progression/35468349#35468349", "title": "Python: How to create a C type for loop for a geometrical progression?", "body": "<pre><code>i = n\nwhile int(i) &gt; 0:\n    i = i / 2\n    # do something\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": false, "score": 1, "last_activity_date": 1455745301, "creation_date": 1455745301, "answer_id": 35468350, "question_id": 35468157, "link": "https://stackoverflow.com/questions/35468157/python-how-to-create-a-c-type-for-loop-for-a-geometrical-progression/35468350#35468350", "title": "Python: How to create a C type for loop for a geometrical progression?", "body": "<p>Why not something like:</p>\n\n<pre><code>i = n\nwhile i &gt; 0:\n    #do something\n    i /= 2\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": true, "score": 1, "last_activity_date": 1455745401, "creation_date": 1455745401, "answer_id": 35468389, "question_id": 35468157, "link": "https://stackoverflow.com/questions/35468157/python-how-to-create-a-c-type-for-loop-for-a-geometrical-progression/35468389#35468389", "title": "Python: How to create a C type for loop for a geometrical progression?", "body": "<p>Integer division version let <code>n = 8</code>. Halts at <code>n = 0</code>. </p>\n\n<pre><code>while i &gt; 0:\n    print(\"do something\")\n    n = n &gt;&gt; 1 # shift right, divide by 2\n</code></pre>\n\n<p>Floating point division let <code>n = 8.0</code>. Halts at <code>n = 5*10^(-324)</code></p>\n\n<pre><code>while i &gt; 0:\n    print(\"do something\")\n    n /= 2.0\n</code></pre>\n"}], "owner": {"reputation": 58, "user_id": 5939301, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gOjhg.jpg?s=128&g=1", "display_name": "andra.ioana", "link": "https://stackoverflow.com/users/5939301/andra-ioana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 35468389, "answer_count": 3, "score": -1, "last_activity_date": 1455746565, "creation_date": 1455744600, "last_edit_date": 1455746565, "question_id": 35468157, "link": "https://stackoverflow.com/questions/35468157/python-how-to-create-a-c-type-for-loop-for-a-geometrical-progression", "title": "Python: How to create a C type for loop for a geometrical progression?", "body": "<p>I want to create a for loop equivalent for:</p>\n\n<pre><code>for (int i = n; i &gt; 0; i = i/2){\n    //do Something\n}\n</code></pre>\n\n<p>Notice the <code>i = i/2</code>. </p>\n\n<p>Is there an out of the box Python way to do this in a for without creating a custom generator? Using <code>xrange</code> seems to only support (+/-) step values, not division. </p>\n"}, {"tags": ["python", "raspberry-pi"], "answers": [{"tags": [], "owner": {"reputation": 9435, "user_id": 2626000, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/j8GY0.jpg?s=128&g=1", "display_name": "Aaron Christiansen", "link": "https://stackoverflow.com/users/2626000/aaron-christiansen"}, "is_accepted": true, "score": 5, "last_activity_date": 1455745096, "creation_date": 1455745096, "answer_id": 35468283, "question_id": 35468143, "link": "https://stackoverflow.com/questions/35468143/i-need-to-import-a-txt-file-as-a-list-for-a-specific-function/35468283#35468283", "title": "I need to import a txt file as a list for a specific function", "body": "<p><code>calfile.readlines()</code> isn't what you need to use here. That would be for if your numbers were all on different lines of the file, with no commas or square brackets, like this:</p>\n\n<pre><code>23\n51\n32\n</code></pre>\n\n<p>Because your numbers are already in a list-style format (ie. with commas and square brackets), we need to convert this into a real list rather than a string representation of one. To do this, replace your code between <code>calfile=open...</code> and <code>calfile.close()</code> with this:</p>\n\n<pre><code>caldata=[int(x.strip()) for x in calfile.read()[1:-1].split(\",\")]\n</code></pre>\n\n<p>This is a list comprehension that will convert the contents of your file into an actual Python list.</p>\n"}, {"tags": [], "owner": {"reputation": 1407, "user_id": 5919154, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca0f83c18e982b8675e9ba617307194e?s=128&d=identicon&r=PG&f=1", "display_name": "nathan.medz", "link": "https://stackoverflow.com/users/5919154/nathan-medz"}, "is_accepted": false, "score": 0, "last_activity_date": 1455745244, "creation_date": 1455745244, "answer_id": 35468331, "question_id": 35468143, "link": "https://stackoverflow.com/questions/35468143/i-need-to-import-a-txt-file-as-a-list-for-a-specific-function/35468331#35468331", "title": "I need to import a txt file as a list for a specific function", "body": "<p>You're getting this problem because the value in your caldata is a string, so the length isnt 22.</p>\n"}], "owner": {"reputation": 35, "user_id": 5942653, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38452512b37344778f391181afcb85fd?s=128&d=identicon&r=PG&f=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/5942653/richard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 35468283, "answer_count": 2, "score": 0, "last_activity_date": 1455745244, "creation_date": 1455744546, "question_id": 35468143, "link": "https://stackoverflow.com/questions/35468143/i-need-to-import-a-txt-file-as-a-list-for-a-specific-function", "title": "I need to import a txt file as a list for a specific function", "body": "<p>I am trying to save and load calibration data for my sensor. I was able to read the calibration data and save it to a text file. When looking at the text file there are 22 numbers separated by comas all in a set of square brackets. </p>\n\n<p>I need to import that text file in a way the set_calibration function will read it. </p>\n\n<p>Here is the set calibration function.</p>\n\n<pre><code>def set_calibration(self, data):\n    \"\"\"Set the sensor's calibration data using a list of 22 bytes that\n    represent the sensor offsets and calibration data.  This data should be\n    a value that was previously retrieved with get_calibration (and then\n    perhaps persisted to disk or other location until needed again).\n    \"\"\"\n    # Check that 22 bytes were passed in with calibration data.\n    if data is None or len(data) != 22:\n        raise ValueError('Expected a list of 22 bytes for calibration data.')\n    # Switch to configuration mode, as mentioned in section 3.10.4 of datasheet.\n    self._config_mode()\n    # Set the 22 bytes of calibration data.\n    self._write_bytes(ACCEL_OFFSET_X_LSB_ADDR, data)\n    # Go back to normal operation mode.\n    self._operation_mode()\n</code></pre>\n\n<p>Problem is, this is my first time using python and I have very very little coding experience. I tried this:</p>\n\n<pre><code>calfile=open(\"calibrate.txt\",\"r\")\ncaldata=calfile.readlines()\ncalfile.close()\n</code></pre>\n\n<p>After that caldata will print as \"['[242, 255, 0, 0, 27, 0, 65, 2, 139, 3, 174, 255, 255, 255, 255, 255, 0, 0, 232, 3, 102, 3]']\", but the set_calibration function returns the \"expected a list of 22 bytes for calibration data.\" error. when run as</p>\n\n<pre><code>bno.set_calibration(caldata)\n</code></pre>\n\n<p>I'm not sure how much this will help, but the sensor is an Adafruit BNO055 and I am running it using a Raspberry Pi. I have a strong feeling I am misusing and/or abusing the read function, but, like i said, i am very new to this.</p>\n"}, {"tags": ["python", "django", "python-3.x", "import", "python-import"], "comments": [{"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1455744435, "post_id": 35468042, "comment_id": 58631735, "body": "Did you add <code>django_rules</code> to your <code>INSTALLED_APPS</code>?"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1455744526, "post_id": 35468042, "comment_id": 58631793, "body": "@wim I need to import the <code>rules</code> from the installed <code>site-packages</code> so I don&#39;t think relative imports are possible?"}, {"owner": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1455744569, "post_id": 35468042, "comment_id": 58631815, "body": "Why are you using <code>import rules</code>? Did you get this from the documentation?"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1455744611, "post_id": 35468042, "comment_id": 58631841, "body": "@Monkpit Yep, it&#39;s there"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 2018, "user_id": 789505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7a6bc1d6aeb2a49f810f8d68d70c84f4?s=128&d=identicon&r=PG&f=1", "display_name": "Monkpit", "link": "https://stackoverflow.com/users/789505/monkpit"}, "edited": false, "score": 0, "creation_date": 1455744640, "post_id": 35468042, "comment_id": 58631858, "body": "@Monkpit To define a <code>@rules.predicate</code>"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 1, "creation_date": 1455744642, "post_id": 35468042, "comment_id": 58631861, "body": "@Kieran you are correct, I deleted my comment when I realised this :)"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1455745480, "post_id": 35468042, "comment_id": 58632356, "body": "for an extremely ugly workaround, you could <code>del sys.path[0]; sys.path.append(&#39;&#39;)</code> to reorder site-packages before local dir"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1455745583, "post_id": 35468042, "comment_id": 58632437, "body": "@wim Thanks, I was considering that. I deploy to Heroku too so I was worried about having the same issue there!"}, {"owner": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1455745611, "post_id": 35468042, "comment_id": 58632453, "body": "I don&#39;t dare post this as an answer.  There must be a better way!"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "reply_to_user": {"reputation": 263603, "user_id": 674039, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/leoFi.gif?s=128&g=1", "display_name": "wim", "link": "https://stackoverflow.com/users/674039/wim"}, "edited": false, "score": 0, "creation_date": 1455745785, "post_id": 35468042, "comment_id": 58632561, "body": "@wim Definitely! I&#39;m going to raise it as a problem with the package developer too, I think this whole situation could be avoided with a better choice of name for the file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 3, "creation_date": 1455746222, "post_id": 35468042, "comment_id": 58632806, "body": "I think this can only happen if your PYTHONPATH (probably set inside Django) points <i>into</i> the app directory where the app-related <code>rules.py</code> file lives. Normally, the app-related <code>rules.py</code> file could only be accessed through e.g. <code>from app import rules</code> or similar, and wouldn&#39;t clash with <code>site-packages&#47;rules.py</code> (or <code>site-packages&#47;rules&#47;__init__.py</code>, whichever is relevant). So double check that your PYTHONPATH isn&#39;t overrreaching."}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1455746429, "post_id": 35468042, "comment_id": 58632914, "body": "@Evert You&#39;re right! Each Django app is on my python path, but I certainly didn&#39;t put them there. Does Django or perhaps Pycharm do this?"}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 1, "creation_date": 1455746811, "post_id": 35468042, "comment_id": 58633081, "body": "@Evert I&#39;ve fixed it. Pycharm was adding all the apps to my python path. Changing this behaviour fixed the problem! Please post an answer so I can accept it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user707650"}, "edited": false, "score": 1, "creation_date": 1455755941, "post_id": 35468042, "comment_id": 58636619, "body": "Actually, you should post the answer yourself, because it&#39;s a different issue: PyCharm needed tuning. My suggestions: 1/ update your question, including the fact that you&#39;re using PyCharm (I always start out with the assumption that people use the simplest text editor and a terminal), and 2/ let us know in your answer what you changed in PyCharm to solve your problem, but also why PyCharm had added all the apps to your PYTHONPATH (is that the default? If so, bad, bad PyCharm)."}, {"owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "edited": false, "score": 0, "creation_date": 1455812752, "post_id": 35468042, "comment_id": 58667290, "body": "@Evert Thanks for your guidance, I have done what you suggested"}], "answers": [{"tags": [], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "is_accepted": true, "score": 1, "last_activity_date": 1455812658, "creation_date": 1455812658, "answer_id": 35486941, "question_id": 35468042, "link": "https://stackoverflow.com/questions/35468042/unexpected-import-behaviour-in-python-3/35486941#35486941", "title": "Unexpected import behaviour in Python 3", "body": "<p>This problem was the result of several configuration issues.</p>\n\n<ul>\n<li>I had marked all of my apps as source folders in Pycharm.</li>\n<li>I had also selected to \"Add source roots to PYTHONPATH\" in my run configuration.</li>\n</ul>\n\n<p>As a consequence, it was possible to refer to <code>rules.py</code> as simply <code>rules</code>, rather than <code>appname.rules</code>. This caused the unexpected behaviour.</p>\n\n<p>To resolve the issue I unmarked my apps as source folders and unticked the \"Add source roots to PYTHONPATH\" setting.</p>\n"}], "owner": {"reputation": 1713, "user_id": 365925, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/f5Xqh.jpg?s=128&g=1", "display_name": "Kieran", "link": "https://stackoverflow.com/users/365925/kieran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 35486941, "answer_count": 1, "score": 2, "last_activity_date": 1455812658, "creation_date": 1455744233, "last_edit_date": 1455746495, "question_id": 35468042, "link": "https://stackoverflow.com/questions/35468042/unexpected-import-behaviour-in-python-3", "title": "Unexpected import behaviour in Python 3", "body": "<p>For context, I am using the <code>django-rules</code> package. This is accessed as follows:</p>\n\n<pre><code>import rules\n</code></pre>\n\n<p>This package requires a file to be created in each app directory called <code>rules.py</code> in order for the files to be auto-discovered.</p>\n\n<p>The problem is that using <code>import rules</code> in the <code>rules.py</code> file causes the file to \"import itself\" rather than looking in the <code>site-packages</code>. All the relevant answers on SO point to using absolute imports instead - but this is only relevant on Python 2.7, not Python 3.5 (where absolute imports are now the default). </p>\n\n<p><a href=\"https://i.stack.imgur.com/o4tPq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4tPq.png\" alt=\"enter image description here\"></a></p>\n\n<p>I suspect it might have something to do with the ordering of the directories in <code>sys.path</code> but I'm not sure how to fix the problem. Has anybody else experienced this issue?</p>\n"}, {"tags": ["python", "mysql", "sql", "csv"], "comments": [{"owner": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 0, "creation_date": 1455744299, "post_id": 35467916, "comment_id": 58631631, "body": "Pretty sure this can be done through PowerShell"}, {"owner": {"reputation": 44721, "user_id": 5696608, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/82086984779cd4c215e63edc1d1b7731?s=128&d=identicon&r=PG", "display_name": "Tom H", "link": "https://stackoverflow.com/users/5696608/tom-h"}, "reply_to_user": {"reputation": 7147, "user_id": 5464747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f60df21c4da5e9dbe92aff62b4ded3b2?s=128&d=identicon&r=PG", "display_name": "dfundako", "link": "https://stackoverflow.com/users/5464747/dfundako"}, "edited": false, "score": 0, "creation_date": 1455744405, "post_id": 35467916, "comment_id": 58631711, "body": "SQL Server has <code>OPENROWSET</code> which I think can be used for something like this, but I don&#39;t believe that MySQL has an equivalent. As @dfundako points out, Powershell can do it (depending on the size of the CSV and your approach). I would think that Python could as well."}, {"owner": {"reputation": 27828, "user_id": 5563083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab25f269dc3fd3b4a657ddd27cf8f349?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Spiegel", "link": "https://stackoverflow.com/users/5563083/paul-spiegel"}, "edited": false, "score": 1, "creation_date": 1455746253, "post_id": 35467916, "comment_id": 58632823, "body": "You can load the CSV file into a temporary table and use that table for filtering. But why don&#39;t you just parse the CSV file with python?"}, {"owner": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1455774324, "post_id": 35467916, "comment_id": 58642217, "body": "Dont know much about Powershell and total newbie with Python too. But shouldn&#39;t be that hard, thanks for the tips. Going to investigate more."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1455876826, "post_id": 35494322, "comment_id": 58696502, "body": "Hmm.. so I could put this all in python script and run it?"}, {"owner": {"reputation": 27828, "user_id": 5563083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab25f269dc3fd3b4a657ddd27cf8f349?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Spiegel", "link": "https://stackoverflow.com/users/5563083/paul-spiegel"}, "reply_to_user": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1455884386, "post_id": 35494322, "comment_id": 58701446, "body": "I have no clue of python :-) This is a pure MySQL solution. You can execute that queries from mysql-console, a tool like HeidiSQL and Workbench or from a webinterface like PhpMyAdmin."}, {"owner": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1455885636, "post_id": 35494322, "comment_id": 58702228, "body": "Yep I know that got Sequel Pro at this moment. Hmm I could try to run this through python. Also got one friend who knows about Ruby and he said this should be peanuts. If we just get the SSL tunnel to work."}, {"owner": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1468321049, "post_id": 35494322, "comment_id": 64068309, "body": "This would work if one has writing rights to the database but since I have only rights to read, this doesn&#39;t solve my problem."}, {"owner": {"reputation": 27828, "user_id": 5563083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab25f269dc3fd3b4a657ddd27cf8f349?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Spiegel", "link": "https://stackoverflow.com/users/5563083/paul-spiegel"}, "reply_to_user": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "edited": false, "score": 0, "creation_date": 1468683023, "post_id": 35494322, "comment_id": 64233172, "body": "@Taapsa, you only need the <a href=\"http://dev.mysql.com/doc/refman/5.7/en/privileges-provided.html#priv_create-temporary-tables\" rel=\"nofollow noreferrer\">CREATE TEMPORARY TABLES privilege</a>."}], "tags": [], "owner": {"reputation": 27828, "user_id": 5563083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab25f269dc3fd3b4a657ddd27cf8f349?s=128&d=identicon&r=PG&f=1", "display_name": "Paul Spiegel", "link": "https://stackoverflow.com/users/5563083/paul-spiegel"}, "is_accepted": false, "score": 0, "last_activity_date": 1455837476, "last_edit_date": 1455837476, "creation_date": 1455837060, "answer_id": 35494322, "question_id": 35467916, "link": "https://stackoverflow.com/questions/35467916/simple-query-to-database-condition-comes-from-csv/35494322#35494322", "title": "Simple query to database - condition comes from csv", "body": "<p><strong>SQL solution with <a href=\"http://dev.mysql.com/doc/refman/5.7/en/load-data.html\" rel=\"nofollow\">LOAD DATA</a>:</strong></p>\n\n\n\n<p>Create a temporary table matching the CSV data:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TEMPORARY TABLE tmp_errors (\n    error_id   VARCHAR(50) NULL DEFAULT NULL,\n    company_id VARCHAR(50) NULL DEFAULT NULL,\n    INDEX company_id (company_id)\n);\n</code></pre>\n\n<p>Load your data into a temporary table:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>LOAD DATA INFILE '/full/path/to/csv/errors.csv'\nINTO TABLE tmp_errors\nFIELDS TERMINATED BY ';'\nIGNORE 1 LINES;\n</code></pre>\n\n<p>Use the temporary table to filter your select:    </p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select company_id, created_at\nfrom some_table\nwhere company_id IN (select company_id from tmp_errors);\n</code></pre>\n\n<p>Or</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>select t.company_id, t.created_at, e.error_id\nfrom some_table t\njoin tmp_errors e using(company_id);\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 5708537, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-SMnxQAAtJaI/AAAAAAAAAAI/AAAAAAAAAfM/CDWWP8QgFk0/photo.jpg?sz=128", "display_name": "Taapsa", "link": "https://stackoverflow.com/users/5708537/taapsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1468321211, "creation_date": 1455743822, "question_id": 35467916, "link": "https://stackoverflow.com/questions/35467916/simple-query-to-database-condition-comes-from-csv", "title": "Simple query to database - condition comes from csv", "body": "<p>I have been wondering one thing. Could it be possible to query database so that \"where\" clause condition is given in csv file?</p>\n\n<p>Like let's say that I have database and in there table (name some_table) like this:</p>\n\n<pre><code>id         company_id   created_at\n0001c73d   12345        2016-1-1\nrewrewrf   45678        2016-2-1\n0001c73d   57986        2016-3-1\nvcxcv34d   21346        2016-4-1\n23215fsf   47896        2016-6-1\n</code></pre>\n\n<p>And my some.csv would look like this:</p>\n\n<pre><code>error_id;company_id \n32rgfvx4;12345     \nfds44322;45678     \nfdsf46hh;57986    \n989jh2f4;21346   \nf43452fg;47896     \n</code></pre>\n\n<p>So the query could be something like:</p>\n\n<pre><code>select company_id, created_at\nfrom some_table\nwhere company_id IN ('some.csv:column2')\n</code></pre>\n\n<p>Get the idea?</p>\n\n<p>Could this be done with python or like straight with some SQL program (addon/script..) or something? Any ideas? </p>\n"}, {"tags": ["python", "python-3.x", "matplotlib"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "edited": false, "score": 0, "creation_date": 1455753192, "post_id": 35470021, "comment_id": 58635773, "body": "I want the figures to be on top of each other, which is why I&#39;m defining them one at a time and using <code>.twinx()</code> (which may not be the most elegant way of doing it; I would love to hear of a better way).  And my issue is with the tick marks themselves, not the labels. The labels behave as I want them to."}, {"owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "reply_to_user": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "edited": false, "score": 0, "creation_date": 1455753591, "post_id": 35470021, "comment_id": 58635914, "body": "Then try fig, axes = plt.subplots(nrows=1,ncols=2, sharex=True). But i suggested I think got rid of the tick marks and labels. If not I tried :)"}, {"owner": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "edited": false, "score": 0, "creation_date": 1455754581, "post_id": 35470021, "comment_id": 58636198, "body": "Using the <code>sharex=True</code> kwarg still gave me side-by-side plots.  But thank you for your time :)"}, {"owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "reply_to_user": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "edited": false, "score": 0, "creation_date": 1455754724, "post_id": 35470021, "comment_id": 58636253, "body": "Sorry I probably mixed up the ncol and nrow inputs. But play around with those. I THINK it should be ncol=1, nrow=2 for what you want."}], "tags": [], "owner": {"reputation": 21, "user_id": 2002449, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49e25866e0f5e5048aed3052760d7afd?s=128&d=identicon&r=PG", "display_name": "Reggicide", "link": "https://stackoverflow.com/users/2002449/reggicide"}, "is_accepted": false, "score": 0, "last_activity_date": 1455752624, "creation_date": 1455752624, "answer_id": 35470021, "question_id": 35467912, "link": "https://stackoverflow.com/questions/35467912/left-tick-marks-remain-in-matplotlib-despite-call-to-tick-params-and-use-of-null/35470021#35470021", "title": "Left tick marks remain in matplotlib despite call to tick_params and use of NullLocator", "body": "<p>Have you tried defining the figure and subplot like this:</p>\n\n<pre><code>fig, axes = plt.subplots(nrows=2,ncols=1)\n</code></pre>\n\n<p>and when setting the ytick labels for the second figure like this:</p>\n\n<pre><code>axes[1].set_yticklabels(axes[1].get_yticklabels(), visible=False)\n</code></pre>\n\n<p>This works for me when I'm plotting two figures side by side that share the same x and y labels.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "is_accepted": true, "score": 0, "last_activity_date": 1455754305, "creation_date": 1455754305, "answer_id": 35470339, "question_id": 35467912, "link": "https://stackoverflow.com/questions/35467912/left-tick-marks-remain-in-matplotlib-despite-call-to-tick-params-and-use-of-null/35470339#35470339", "title": "Left tick marks remain in matplotlib despite call to tick_params and use of NullLocator", "body": "<p>So the issue appears to be with the ordering of my commands.</p>\n\n<p>If I move the <code>.twinx()</code> call above where I do my formatting, then the tick marks go away as I would like:</p>\n\n<pre><code>X = np.linspace(0, 2 * np.pi, 100)\nY = np.sin(X)\nZ = np.sin(2 * X)\n\nfig, ax1 = plt.subplots()\nax1.set_ylim([-1.1, 1.1])\nax2 = ax1.twinx() # &lt;--------------- Move it here\n\nax1.spines['top'].set_visible(False)\nax1.spines['left'].set_visible(False)\nax1.spines['right'].set_visible(False)\n\nax1.tick_params(axis='both',\n                which='both',\n                bottom='off',\n                top='off',\n                left='off',\n                right='off')\n\nax1.plot(X, Y, color='b')\n\nax2.spines['top'].set_visible(False)\nax2.spines['left'].set_visible(False)\nax2.spines['right'].set_visible(False)\n\nax2.tick_params(axis='both',\n                which='both',\n                bottom='off',\n                top='off',\n                left='off',\n                right='off')\n\nax2.plot(X, Z, color='r')\n</code></pre>\n\n<p>yields what I want:\n<a href=\"http://i.stack.imgur.com/zi7Mr.png\" rel=\"nofollow\">No left tick marks!</a></p>\n\n<p>Thank you for getting me to question how I was plotting things, @Reggicide</p>\n"}, {"tags": [], "owner": {"reputation": 318, "user_id": 6420160, "user_type": "registered", "profile_image": "https://graph.facebook.com/267718613580762/picture?type=large", "display_name": "Mamun Or Rashid", "link": "https://stackoverflow.com/users/6420160/mamun-or-rashid"}, "is_accepted": false, "score": 1, "last_activity_date": 1595845912, "creation_date": 1595845912, "answer_id": 63113466, "question_id": 35467912, "link": "https://stackoverflow.com/questions/35467912/left-tick-marks-remain-in-matplotlib-despite-call-to-tick-params-and-use-of-null/63113466#63113466", "title": "Left tick marks remain in matplotlib despite call to tick_params and use of NullLocator", "body": "<p>Have you tried something like below.</p>\n<pre><code>plt.xticks([])\nplt.yticks([])\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 3986942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/961eaa610534968d790b15167c39648b?s=128&d=identicon&r=PG", "display_name": "jbowen", "link": "https://stackoverflow.com/users/3986942/jbowen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1102, "favorite_count": 1, "accepted_answer_id": 35470339, "answer_count": 3, "score": 1, "last_activity_date": 1595845912, "creation_date": 1455743809, "last_edit_date": 1455744885, "question_id": 35467912, "link": "https://stackoverflow.com/questions/35467912/left-tick-marks-remain-in-matplotlib-despite-call-to-tick-params-and-use-of-null", "title": "Left tick marks remain in matplotlib despite call to tick_params and use of NullLocator", "body": "<p>I've been struggling to remove the left tick marks from a matplotlib plot which has two subplots which share the x-axis.</p>\n\n<p>If I just start with one plot, things behave as I would expect:</p>\n\n<pre><code>X = np.linspace(0, 2 * np.pi, 100)\nY = np.sin(X)\nZ = np.sin(2 * X)\n\nfig, ax1 = plt.subplots()\n\nax1.set_ylim([-1.1, 1.1])\n\nax1.spines['top'].set_visible(False)\nax1.spines['left'].set_visible(False)\nax1.spines['right'].set_visible(False)\n\nax1.tick_params(axis='both',\n                which='both',\n                bottom='off',\n                top='off',\n                left='off',\n                right='off')\n\nax1.plot(X, Y, color='b')\n</code></pre>\n\n<p>yields:\n<a href=\"http://i.stack.imgur.com/RqNiM.png\" rel=\"nofollow\">No left ticks, all is well</a></p>\n\n<p>If I try to use <code>.twinx()</code> to make another plot that shares the same y-axis and use the same methods I used on <code>ax1</code>, then the left ticks return:</p>\n\n<pre><code>... continuing the block above...\n\nax2 = ax1.twinx()\nax2.spines['top'].set_visible(False)\nax2.spines['left'].set_visible(False)\nax2.spines['right'].set_visible(False)\n\nax2.tick_params(axis='both',\n                which='both',\n                bottom='off',\n                top='off',\n                left='off',\n                right='off')\n\nax2.plot(X, Z, color='r')\n</code></pre>\n\n<p>yields:\n<a href=\"http://i.stack.imgur.com/G5gOk.png\" rel=\"nofollow\">The left ticks are back</a></p>\n\n<p>I'm probably missing something simple, but I've been reading through documentation, playing with code, and looking through other posts to no avail.</p>\n\n<p>Any help would be greatly appreciated.</p>\n\n<p>EDIT: including <code>ax2.yaxis.set_major_locator(plt.NullLocator())</code> still doesn't get rid of the left ticks.</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 0, "creation_date": 1455744277, "post_id": 35467896, "comment_id": 58631622, "body": "In the interpreter, practice calling <code>float(str)</code> with different strings.  You need to understand when it works and when it raises this error."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1455744350, "post_id": 35467896, "comment_id": 58631667, "body": "For some reason, I can&#39;t see a question here."}, {"owner": {"reputation": 11, "user_id": 4850433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155574451685492/picture?type=large", "display_name": "Gisle Birkeland", "link": "https://stackoverflow.com/users/4850433/gisle-birkeland"}, "reply_to_user": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1455745014, "post_id": 35467896, "comment_id": 58632075, "body": "Good point @Jasper! I&#39;ve now added a question in the post."}], "answers": [{"comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "reply_to_user": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1455744581, "post_id": 35467938, "comment_id": 58631822, "body": "@Jasper If you get a ValueError, you still need to check whether it was due to an empty input or some other bogus value, because an empty input is the special case for terminating the loop.  So I&#39;ll stick with my answer."}, {"owner": {"reputation": 11, "user_id": 4850433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155574451685492/picture?type=large", "display_name": "Gisle Birkeland", "link": "https://stackoverflow.com/users/4850433/gisle-birkeland"}, "edited": false, "score": 0, "creation_date": 1455744588, "post_id": 35467938, "comment_id": 58631824, "body": "Thanks for your feedback! How do I check if it&#39;s empty?"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455744690, "post_id": 35467938, "comment_id": 58631888, "body": "Look at @MaxNoe&#39;s answer."}, {"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1455744694, "post_id": 35467938, "comment_id": 58631889, "body": "Oh, you&#39;re right. Check for empty, <i>then</i> convert in a <code>try: ... except:</code> block."}], "tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1455743896, "creation_date": 1455743896, "answer_id": 35467938, "question_id": 35467896, "link": "https://stackoverflow.com/questions/35467896/cant-convert-string-to-float-in-python/35467938#35467938", "title": "Can&#39;t convert string to float in Python", "body": "<p>You can't convert an empty string to a float.</p>\n\n<p>Get the user's input, check if it's empty, and if it's not, <strong>then</strong> convert it to a float.</p>\n"}, {"tags": [], "owner": {"reputation": 1492, "user_id": 4337310, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/a9bef9a8ef9e7ed2c6cf655b8c2d824c?s=128&d=identicon&r=PG&f=1", "display_name": "PRVS", "link": "https://stackoverflow.com/users/4337310/prvs"}, "is_accepted": false, "score": 0, "last_activity_date": 1455744710, "last_edit_date": 1455744710, "creation_date": 1455744122, "answer_id": 35468006, "question_id": 35467896, "link": "https://stackoverflow.com/questions/35467896/cant-convert-string-to-float-in-python/35468006#35468006", "title": "Can&#39;t convert string to float in Python", "body": "<p>You can check if the data is empty before convert to float with this way:  </p>\n\n<pre><code>sum = 0.0\n\nwhile True:\n\n    data = input('Enter a number or just enter to quit: ')\n\n    if data != \"\":\n        data = float(data);\n        if data &lt; 0:\n           print(\"Sorry, no negative numbers!\")\n           continue\n        number = data\n        sum += data \n        print(\"The sum is\", sum)\n     else:\n        print(\"impossible because data is empty\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3711, "user_id": 3456281, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6fb5e6fa4617d883de24fe3cc4372898?s=128&d=identicon&r=PG&f=1", "display_name": "Jasper", "link": "https://stackoverflow.com/users/3456281/jasper"}, "edited": false, "score": 0, "creation_date": 1455744772, "post_id": 35468131, "comment_id": 58631937, "body": "Since OP seems to be pretty new to Python, you might want to explain the <code>if not answer</code> idiom."}], "tags": [], "owner": {"reputation": 12086, "user_id": 3838691, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/11de3f70067be2739aed43b8876e82f9?s=128&d=identicon&r=PG&f=1", "display_name": "MaxNoe", "link": "https://stackoverflow.com/users/3838691/maxnoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1455745595, "last_edit_date": 1455745595, "creation_date": 1455744497, "answer_id": 35468131, "question_id": 35467896, "link": "https://stackoverflow.com/questions/35467896/cant-convert-string-to-float-in-python/35468131#35468131", "title": "Can&#39;t convert string to float in Python", "body": "<p>You have to first check for the empty string and then convert it to <code>float</code>. </p>\n\n<p>Also you might want to catch malformed user input. </p>\n\n<pre><code>sum = 0.0\n\nwhile True:\n\n    answer = input('Enter a number or just enter to quit: ')\n\n    if not answer:   # break if string was empty\n        break\n    else:        \n        try:\n            number = float(data)\n        except ValueError:   # Catch the error if user input is not a number\n            print('Could not read number') \n            continue\n        if number &lt; 0:\n            print('Sorry, no negative numbers!')\n            continue\n        sum += data\n\nprint('The sum is', sum)\n</code></pre>\n\n<p>In python, empty things like <code>''</code> compare like <code>False</code>, it's idiomatic to use this in comparisons with <code>if not &lt;variable&gt;</code> or <code>if &lt;variable&gt;</code>.</p>\n\n<p>This also works for empty lists:</p>\n\n<pre><code>&gt;&gt;&gt; not []\nTrue\n</code></pre>\n\n<p>And for <code>None</code></p>\n\n<pre><code>&gt;&gt;&gt; not None\nTrue\n</code></pre>\n\n<p>And pretty much everything else that could be described as empty or not defined like <code>None</code>:</p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 5943458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd92c4cf8af165c6448ce8d1d6f6a064?s=128&d=identicon&r=PG", "display_name": "TimRin", "link": "https://stackoverflow.com/users/5943458/timrin"}, "is_accepted": false, "score": 1, "last_activity_date": 1455763070, "last_edit_date": 1455763070, "creation_date": 1455761499, "answer_id": 35471522, "question_id": 35467896, "link": "https://stackoverflow.com/questions/35467896/cant-convert-string-to-float-in-python/35471522#35471522", "title": "Can&#39;t convert string to float in Python", "body": "<p>Instead of having the user press enter to quit, you can instead write:</p>\n\n<pre><code>sum = 0.0\n\nwhile True:\n    data = float(input('Enter a number or \"QUIT\" to quit: '))\n\n    if data.upper() != \"QUIT\":\n\n        if data &lt; 0:\n            print(\"Sorry, no negative numbers!\")\n            continue\n        elif data == \"\":\n            break\n        number = data\n        sum += data\n\nprint(\"The sum is\", sum)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4850433, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10155574451685492/picture?type=large", "display_name": "Gisle Birkeland", "link": "https://stackoverflow.com/users/4850433/gisle-birkeland"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3195, "favorite_count": 0, "answer_count": 4, "score": -1, "last_activity_date": 1455817778, "creation_date": 1455743732, "last_edit_date": 1455744762, "question_id": 35467896, "link": "https://stackoverflow.com/questions/35467896/cant-convert-string-to-float-in-python", "title": "Can&#39;t convert string to float in Python", "body": "<p>I'm trying to write a small program to calculate numbers from the user. There's also some conditions to check if the number is positive or the user just hits enter. For some reason, I can't get the data variable to convert into a float. </p>\n\n<p>The error occurs on line 5 where I get the error \"ValueError: could not convert string to float:\" I've tried so many combinations now, and tried to search StackOverflow for the answer, but without any luck.</p>\n\n<p>How can I convert the input into a float? Thanks in advance for any help!</p>\n\n<pre><code>sum = 0.0\n\nwhile True:\n\n    data = float(input('Enter a number or just enter to quit: '))\n\n    if data &lt; 0:\n        print(\"Sorry, no negative numbers!\")\n        continue\n    elif data == \"\":\n        break\n    number = data\n    sum += data\n\nprint(\"The sum is\", sum)\n</code></pre>\n"}, {"tags": ["python", "variables", "scipy", "nonlinear-functions", "equations"], "comments": [{"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455745924, "post_id": 35467860, "comment_id": 58632639, "body": "I tried editing it by following the example but it is still not working for me.  Sorry I couldn&#39;t get it to come up like code but here it is:   import numpy as np from scipy.optimize import curve_fit def func(x, a, b, c, d):     return [c * ((x - a)/(d - x))**(1/b)]      xdata = np.linspace(0, 1, 255) y = func(xdata, 0, 0.1, 0.9, 2.5) ydata = y + 0.2 * np.random.normal(size=len(xdata)) popt, pcov = curve_fit(func, xdata, ydata)"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455747515, "post_id": 35468580, "comment_id": 58633412, "body": "I added more but I could get the bottom portion to work: (c * ((131.5-a)/(d-131.5))**(1/b))-0.3,             (c * ((115.1667-a)/(d-115.1667))**(1/b))-0.4,             (c * ((91.333-a)/(d-91.333))**(1/b))-0.6,             (c * ((175.333-a)/(d-175.333))**(1/b))-0.03,             (c * ((174.333-a)/(d-174.333))**(1/b))-0.05,             (c * ((154.333-a)/(d-154.333))**(1/b))-0.15,"}, {"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455748308, "post_id": 35468580, "comment_id": 58633753, "body": "Would it be easier to use SymPy?"}, {"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455748350, "post_id": 35468580, "comment_id": 58633767, "body": "a,b,c,d = fsolve(equations, (1,1,1,1))  SyntaxError: invalid syntax"}, {"owner": {"reputation": 228, "user_id": 5889975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d507f91cae513c38c8eb497d7e5d67d?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/5889975/steven"}, "reply_to_user": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455748410, "post_id": 35468580, "comment_id": 58633798, "body": "I see yeah it looks like you can&#39;t do overdetermined with that fsolve function. Try this one then? (from the same thread as before) <a href=\"http://stackoverflow.com/a/8954984/5889975\">stackoverflow.com/a/8954984/5889975</a>"}, {"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455749234, "post_id": 35468580, "comment_id": 58634137, "body": "I tried this: from sympy import nsolve nsolve([c * ((176.5-a)/(d-176.5))**(1/b), c * ((66.1667-a)/(d-66.1667))**(1/b)-0.9, c * ((40.833-a)/(d-40.833))**(1/b)-2.5, c * ((115.1667-a)/(d-115.1667))**(1/b)-0.4], [a, b, c, d], [22, -1.5, 0.5, 175]), now I get an error saying a, b, c, d are not defined even though I know the values [22, -1.5, 0.5, 175] are close to what the values should be."}], "tags": [], "owner": {"reputation": 228, "user_id": 5889975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d507f91cae513c38c8eb497d7e5d67d?s=128&d=identicon&r=PG&f=1", "display_name": "steven", "link": "https://stackoverflow.com/users/5889975/steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1455746122, "last_edit_date": 1495541294, "creation_date": 1455746122, "answer_id": 35468580, "question_id": 35467860, "link": "https://stackoverflow.com/questions/35467860/solve-for-constants-of-4-parameter-rodbard-equation-using-python/35468580#35468580", "title": "Solve for constants of 4-parameter (Rodbard Equation) using Python", "body": "<p>This looks similar to this question: <a href=\"https://stackoverflow.com/questions/8739227/how-to-solve-a-pair-of-nonlinear-equations-using-python\">How to solve a pair of nonlinear equations using Python?</a></p>\n\n<p>But this does not seem to give me the correct answer. Try copying this and adding more points?</p>\n\n<pre><code>from scipy.optimize import fsolve\n\ndef equations(p):\n    a,b,c,d = p\n    return ((c * ((176.5-a)/(d-176.5))**(1/b)),\n            (c * ((161.333-a)/(d-161.333))**(1/b))-0.1,\n            (c * ((66.1667-a)/(d-66.1667))**(1/b))-0.9,\n            (c * ((40.833-a)/(d-40.833))**(1/b))-2.5)\n\na,b,c,d = fsolve(equations, (1,1,1,1))\nprint a,b,c,d\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>1.0 1.0 1.0 1.0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455750006, "post_id": 35469245, "comment_id": 58634504, "body": "I tried this but I keep get errors, this is what I have now where p0 is close to what the actual value is:  import numpy as np import scipy.optimize as opt  def f(x1, a1, b1, c1, d1):     return c1 * (((x1 - a1)/(d1 - x1))**(1/b1))  x_data = np.array([169.85, 172.15, 42.68, 65.13]) y_data = np.array([0.03, 0., 2.5, 0.9]) p0 = np.array([34., -1.5, 0.5, 170.])  popt, pcov = opt.curve_fit(f, x_data, y_data, p0, None, False, True, ftol = 0.00001)"}, {"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455801011, "post_id": 35469245, "comment_id": 58658217, "body": "Even know I know these values produce an r-squared value of 1 it says... Optimal parameters not found: Number of calls to function has reached maxfev = 1000.  Would I need to change ftol?"}, {"owner": {"reputation": 106, "user_id": 5532673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e3d6dbe68272bcca5a8eac0fb7327b?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc Torradeflot", "link": "https://stackoverflow.com/users/5532673/francesc-torradeflot"}, "reply_to_user": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455834909, "post_id": 35469245, "comment_id": 58680253, "body": "I think the optimization of this function is problematic because the base of the exponentiation can have negative values. If you use p0=np.array([15., -1./1.5, 0.5, 180.]) the base is positive for all observed x values and curve_fit converges (with warnings) to a quite good solution: [  21.63157788   -0.77630377    0.53499971  176.50006451]"}, {"owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "edited": false, "score": 0, "creation_date": 1455848717, "post_id": 35469245, "comment_id": 58684735, "body": "Thank you so much!  This actually produces something I was expecting!"}], "tags": [], "owner": {"reputation": 106, "user_id": 5532673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e3d6dbe68272bcca5a8eac0fb7327b?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc Torradeflot", "link": "https://stackoverflow.com/users/5532673/francesc-torradeflot"}, "is_accepted": true, "score": 2, "last_activity_date": 1455748977, "creation_date": 1455748977, "answer_id": 35469245, "question_id": 35467860, "link": "https://stackoverflow.com/questions/35467860/solve-for-constants-of-4-parameter-rodbard-equation-using-python/35469245#35469245", "title": "Solve for constants of 4-parameter (Rodbard Equation) using Python", "body": "<p>If you want to use curve_fit, you should do the following:</p>\n\n<pre><code>def f(x1, a1, b1, c1, d1):\n    return c1 * (((x1 - a1)/(d1 - x1))**1/b1)\n\nx_data = np.array([176.5, 161.333, 66.1667, 40.833])\ny_data = np.array([0., 0.1, 0.9, 2.5])\np0 = np.array([168., -0.01, -7.4, 35000.])\n\npopt, pcov = opt.curve_fit(f, x_data, y_data, p0, None, False, True, ftol = 0.00001)\n</code></pre>\n\n<p>p0 is the initial guess and if you do not inform it, an array of all ones will be assumed.</p>\n\n<p>With the provided data I have tried with different params but I've not been able to find a solution.</p>\n\n<p>I hope this helps. Good luck!</p>\n"}], "owner": {"reputation": 141, "user_id": 5942635, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/41b670ffdcf84069c60dcf6b4f7b3ac9?s=128&d=identicon&r=PG&f=1", "display_name": "A.LeBrun", "link": "https://stackoverflow.com/users/5942635/a-lebrun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1021, "favorite_count": 1, "accepted_answer_id": 35469245, "answer_count": 2, "score": 2, "last_activity_date": 1455748977, "creation_date": 1455743549, "question_id": 35467860, "link": "https://stackoverflow.com/questions/35467860/solve-for-constants-of-4-parameter-rodbard-equation-using-python", "title": "Solve for constants of 4-parameter (Rodbard Equation) using Python", "body": "<p>I am new to python and what I am trying to do is write an algorithm to solve for the 4 unknown parameters in the Rodbard Equation where we are relating a grayscale value measured using ImageJ to optical density calibration discs.  This equation is nonlinear and is written as y = c*((x-a)/(d-x))^(1/b) where a, b, c, and d are unknown.  I have the values of x and y for four point (176.5, 0), (161.333, 0.1), (66.1667, 0.9), and (40.833, 2.5).  Below, I have posted my attempt to solve for these 4 unknowns.  Any help to point me in the right direction would be greatly appreciated!</p>\n\n<pre><code>    import scipy.optimize as opt\n\n    def f(a, b, c, d):\n         0 == [c * ((176.5 - a)/(d - 176.5))**(1/b)]\n         0.1 == [c * ((161.333 - a)/(d - 161.333))**(1/b)]\n         0.9 == [c * ((66.1667 - a)/(d - 66.1667))**(1/b)]\n         2.5 == [c * ((40.833 - a)/(d - 40.833))**(1/b)]\n    return f\n\n    opt.curve_fit(a, b, c, d)\n\n    print a\n    print b\n    print c\n    print d\n</code></pre>\n"}, {"tags": ["python", "django", "exception-handling", "django-queryset"], "answers": [{"comments": [{"owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "reply_to_user": {"reputation": 38630, "user_id": 1324033, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/PaonW.png?s=128&g=1", "display_name": "Sayse", "link": "https://stackoverflow.com/users/1324033/sayse"}, "edited": false, "score": 0, "creation_date": 1455744568, "post_id": 35467823, "comment_id": 58631813, "body": "@Sayse <code>group = get_object_or_404(Groups, group = kwargs[&quot;group_id&quot;])</code> and <code>Groups.objects.get(subgroup = kwargs[&quot;group_id&quot;])</code> have the same net effect if the object exists in the database."}, {"owner": {"reputation": 46016, "user_id": 2615075, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f23ab144c48263fa1c4cf43ae46fb70d?s=128&d=identicon&r=PG", "display_name": "knbk", "link": "https://stackoverflow.com/users/2615075/knbk"}, "edited": false, "score": 1, "creation_date": 1455744731, "post_id": 35467823, "comment_id": 58631910, "body": "<code>.exists()</code> will execute a second query, you only need one. You can just do <code>group = qs.first(); if group:</code>."}], "tags": [], "owner": {"reputation": 86856, "user_id": 1628832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090ce0cca74f8cc6766366460b956a0f?s=128&d=identicon&r=PG&f=1", "display_name": "karthikr", "link": "https://stackoverflow.com/users/1628832/karthikr"}, "is_accepted": true, "score": 1, "last_activity_date": 1455745922, "last_edit_date": 1455745922, "creation_date": 1455743415, "answer_id": 35467823, "question_id": 35467804, "link": "https://stackoverflow.com/questions/35467804/conditional-with-queryset-doesnt-exist-exception-in-django-without-using-try-ex/35467823#35467823", "title": "Conditional with queryset doesn&#39;t exist exception in django without using try/except", "body": "<p><a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#get\" rel=\"nofollow\"><code>.get()</code></a> raises an exception if the object is not present in the database. You can use a combination of <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#filter\" rel=\"nofollow\"><code>.filter()</code></a> and <a href=\"https://docs.djangoproject.com/en/1.9/ref/models/querysets/#exists\" rel=\"nofollow\"><code>.exists()</code></a> like this:</p>\n\n<pre><code>group_child_qs = Groups.objects.filter(subgroup = kwargs[\"group_id\"])\nif group_child_qs.exists():\n    group = group_child_qs.first() \n    group.logic_delete()\n    messages.success(request, \"Deleted successfully\")\nelse:\n    messages.error(request, \"It has elements associated\")\n</code></pre>\n\n<p>EDIT:</p>\n\n<p>As @knbk mentions, here is a more optimized solution</p>\n\n<pre><code>group = Groups.objects.filter(subgroup = kwargs[\"group_id\"]).first()\nif group:\n    group.logic_delete()\n    messages.success(request, \"Deleted successfully\")\nelse:\n    messages.error(request, \"It has elements associated\")\n</code></pre>\n"}], "owner": {"reputation": 1602, "user_id": 5682919, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/4rC18.png?s=128&g=1", "display_name": "jsanchezs", "link": "https://stackoverflow.com/users/5682919/jsanchezs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 35467823, "answer_count": 1, "score": 0, "last_activity_date": 1455745922, "creation_date": 1455743341, "question_id": 35467804, "link": "https://stackoverflow.com/questions/35467804/conditional-with-queryset-doesnt-exist-exception-in-django-without-using-try-ex", "title": "Conditional with queryset doesn&#39;t exist exception in django without using try/except", "body": "<p>I need to make an \"if\" condition with a queryset result as follows :</p>\n\n<pre><code>group_child = Groups.objects.get(subgroup = kwargs[\"group_id\"])\n            if group_child is None:\n                group = get_object_or_404(Groups, group = kwargs[\"group_id\"])\n                group.logic_delete()\n                messages.success(request, \"Deleted successfull\")\n            else:\n                messages.error(request, \"It has elements asociated\")\n</code></pre>\n\n<p>But code never enters the conditional if queryset doesn't exist cause of course, it throws a django exception and also, im not sure if \"is None\" is valid at all in this scenario.</p>\n\n<p>I know one way to solve it it's using try/except to capture the exception but i wana know if there's another way so i can use the \"if\" statement as i need.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["python", "algorithm", "linked-list"], "answers": [{"comments": [{"owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455744151, "post_id": 35467934, "comment_id": 58631551, "body": "Are there only two ways to create a forward linked list? 1) By reversing a backward linked list, or 2) Using a doubly linked list?  Or is there a way to create a forward linked list from the start?"}, {"owner": {"reputation": 1505, "user_id": 1122474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47cfd16d98395b1c8f449b2b4b09ea9?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1122474/arthur"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455744315, "post_id": 35467934, "comment_id": 58631638, "body": "I&#39;m not sure to understand what you mean by &quot;from the start&quot;. Like creating a linked list from an iterator?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "edited": false, "score": 0, "creation_date": 1455744326, "post_id": 35467934, "comment_id": 58631650, "body": "@123 <i>is there a way to create a forward linked list from the start</i> Yes? You build a forward linked list....  the only difference between a &quot;forward&quot; list and a &quot;reversed&quot; list is how you mentally think about it"}], "tags": [], "owner": {"reputation": 1505, "user_id": 1122474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47cfd16d98395b1c8f449b2b4b09ea9?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1122474/arthur"}, "is_accepted": true, "score": 3, "last_activity_date": 1493902065, "last_edit_date": 1493902065, "creation_date": 1455743880, "answer_id": 35467934, "question_id": 35467798, "link": "https://stackoverflow.com/questions/35467798/reverse-link-direction-of-singly-linked-list/35467934#35467934", "title": "Reverse link direction of singly linked list", "body": "<p>Something like that would do the trick</p>\n\n<pre><code># linked_list is the list you want to reverse\nprevious_node = None\ncurrent_node = linked_list.head\n\nwhile current_node is not None:\n    next_node = current_node.get_next()\n    current_node.set_next(previous_node)\n    previous_node, current_node = current_node, next_node\n\nlinked_list.head = previous_node\n</code></pre>\n\n<p>This will execute in linear time.</p>\n\n<p>However, if you find you need to frequently reverse linked list, you may find <a href=\"https://en.wikipedia.org/wiki/Doubly_linked_list\" rel=\"nofollow noreferrer\">doubly linked lists</a> to be more adapted to your needs</p>\n"}, {"tags": [], "owner": {"reputation": 2549, "user_id": 5765298, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d109e4a14d083bccf645ffd660672e61?s=128&d=identicon&r=PG&f=1", "display_name": "Garrett R", "link": "https://stackoverflow.com/users/5765298/garrett-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1455744416, "creation_date": 1455744416, "answer_id": 35468097, "question_id": 35467798, "link": "https://stackoverflow.com/questions/35467798/reverse-link-direction-of-singly-linked-list/35468097#35468097", "title": "Reverse link direction of singly linked list", "body": "<p>You can do it recursively as well:</p>\n\n<pre><code>prev_node = \ncur_node = linked_list.head\n\ndef reverse_ll(prev, cur):\n    if not cur: return prev\n    next_node = cur.get_next()\n    cur.set_next(prev)\n    return reverse_ll(cur, next_node)\n\nreversed_head = reverse_ll(None, cur_node)\n</code></pre>\n"}], "owner": {"reputation": 8066, "user_id": 4272549, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/1hvwh.jpg?s=128&g=1", "display_name": "123", "link": "https://stackoverflow.com/users/4272549/123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 35467934, "answer_count": 2, "score": 1, "last_activity_date": 1493902065, "creation_date": 1455743324, "last_edit_date": 1455743753, "question_id": 35467798, "link": "https://stackoverflow.com/questions/35467798/reverse-link-direction-of-singly-linked-list", "title": "Reverse link direction of singly linked list", "body": "<p>I have a linked list that is reverse linked, is there a way I can <b>change the direction of the links</b> in this program? I've tried using <code>self.head.set_next</code> starting at the first element, but type <code>None</code> doesn't have a method <code>set_next</code>, so I'm not sure how I would proceed.</p>\n\n<pre><code>class Node2(object):\n    def __init__(self, data=None, next_node=None):\n        self.data = data\n        self.next_node = next_node\n\n    def set_next(self, new_next):\n        self.next_node = new_next\n\n    def get_data(self):\n        return self.data\n\n    def get_next(self):\n        return self.next_node\n\nclass LinkedList2(object):\n    def __init__(self, head=None):\n        self.head = head\n\n    def insert(self, data):\n        new_node = Node(data)\n        new_node.set_next(self.head)\n        self.head = new_node\n</code></pre>\n"}, {"tags": ["python", "tkinter", "tkinter-canvas"], "comments": [{"owner": {"reputation": 1, "user_id": 5942646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869432d76fbfb69ac5396cbc5b40ac6?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5942646/josh"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1455743440, "post_id": 35467747, "comment_id": 58631182, "body": "I have tried using winfo_x() and winfo_y() to fetch the x and y coordinates and then leave the top left as there inital coordinates and then adding the width in the y of the second y coordinate"}, {"owner": {"reputation": 1, "user_id": 5942646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869432d76fbfb69ac5396cbc5b40ac6?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5942646/josh"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1455743658, "post_id": 35467747, "comment_id": 58631292, "body": "newxone = canvas.winfo_x(rec)newyone = canvas.winfo_y(rec)             newxtwo = newxone + 25             newytwo = newyone + 56             rec = canvas.create_rectangle(newxone, newyone, newxtwo, newytwo)"}, {"owner": {"reputation": 1, "user_id": 5942646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869432d76fbfb69ac5396cbc5b40ac6?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5942646/josh"}, "reply_to_user": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "edited": false, "score": 0, "creation_date": 1455744214, "post_id": 35467747, "comment_id": 58631586, "body": "<code>newxone = canvas.winfo_x(rec)</code>             <code>newyone = canvas.winfo_y(rec)</code>             <code>newxtwo = newxone + 25</code>             <code>newytwo = newyone + 56</code>             <code>rec = canvas.create_rectangle(newxone, newyone, newxtwo, newytwo)</code>"}, {"owner": {"reputation": 305939, "user_id": 7432, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/3e3921ee8a7792e4b5da0244933395e8?s=128&d=identicon&r=PG", "display_name": "Bryan Oakley", "link": "https://stackoverflow.com/users/7432/bryan-oakley"}, "edited": false, "score": 0, "creation_date": 1455744316, "post_id": 35467747, "comment_id": 58631639, "body": "Try searching for equations to rotate a rectangle. It&#39;s just a little math, and then you can use the <code>coords</code> method to adjust the coordinates on the canvas."}, {"owner": {"reputation": 1, "user_id": 5942646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869432d76fbfb69ac5396cbc5b40ac6?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5942646/josh"}, "edited": false, "score": 0, "creation_date": 1455744375, "post_id": 35467747, "comment_id": 58631687, "body": "Okay thanks so much!"}], "owner": {"reputation": 1, "user_id": 5942646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7869432d76fbfb69ac5396cbc5b40ac6?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/5942646/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 150, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455743141, "creation_date": 1455743141, "question_id": 35467747, "link": "https://stackoverflow.com/questions/35467747/with-the-tkinter-library-in-python-on-a-canvas-how-do-i-rotate-a-rectangle", "title": "With the Tkinter library in python, on a canvas how do I rotate a rectangle?", "body": "<p>I am looking to switch a rectangle from horizontal to vertical. It is a rectangle on a canvas. With the Tkinter library in python, on a canvas how do I rotate a rectangle?</p>\n"}, {"tags": ["python", "function", "csv", "readability"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1455743287, "post_id": 35467726, "comment_id": 58631087, "body": "This question might be better suited to <a href=\"https://codereview.stackexchange.com\">Code Review</a>. It certainly doesn&#39;t seem Pythonic, though."}, {"owner": {"reputation": 568, "user_id": 1072283, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab6aae7aa48f96cf5ea5ab5d3aa2247d?s=128&d=identicon&r=PG", "display_name": "dongle", "link": "https://stackoverflow.com/users/1072283/dongle"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455744134, "post_id": 35467726, "comment_id": 58631542, "body": "Wasn&#39;t aware of that SE \u2013 perfect. Will post there."}, {"owner": {"reputation": 6639, "user_id": 1157100, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/1f9W9.png?s=128&g=1", "display_name": "200_success", "link": "https://stackoverflow.com/users/1157100/200-success"}, "edited": false, "score": 0, "creation_date": 1455744668, "post_id": 35467726, "comment_id": 58631874, "body": "<a href=\"http://codereview.stackexchange.com/q/120350/9357\">Cross-posted</a> on Code Review."}], "answers": [{"tags": [], "owner": {"reputation": 4259, "user_id": 2516916, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/90d670e62ae35e180ad6e939443cab62?s=128&d=identicon&r=PG", "display_name": "Gillespie", "link": "https://stackoverflow.com/users/2516916/gillespie"}, "is_accepted": false, "score": 1, "last_activity_date": 1455744933, "creation_date": 1455744933, "answer_id": 35468248, "question_id": 35467726, "link": "https://stackoverflow.com/questions/35467726/how-can-i-make-this-function-more-pythonically-efficient/35468248#35468248", "title": "How can I make this function more Pythonically efficient?", "body": "<p>I'm not sure exactly what the purpose of this function is, but here are a few tips:</p>\n\n<ul>\n<li><p>A function should have just one function. Yours seems to have multiple - return whether or not the input conforms to your standards (<code>True/False</code>) <em>and</em> return some sort of error string (<code>str</code>). You are returning tuples that combine these two things in unpredictable ways. Either pick one or the other, or standardize the tuple and always return the same exact one (i.e. <code>(bool, str)</code>)</p></li>\n<li><p>Even though you <em>can</em> set multiple different types to the same variable, you shouldn't. Don't set a Boolean in one condition, and then a string in another condition (see: <code>does_csv_exist</code>)</p></li>\n</ul>\n\n<p>I would have done something like this:</p>\n\n<pre><code># CONFORMANCE CHECKS\n# Returns a list of error strings encountered, empty list if OK\ndef getConformanceErrors():\n    csv = glob.glob(args.input+'*.csv')\n    disk_image = glob.glob(args.input+'*.E01')\n\n    msg = []\n\n    if len(csv) &lt; 1:\n        msg.append(\"CSV is missing\")\n    elif len(csv) &gt; 1:\n        msg.append(\"Too many CSVs\")  \n\n    if len(disk_image) &lt; 1:\n        msg.append(\"Disk Image is missing\")\n    elif len(disk_image) &gt; 1:\n        msg.append(\"Too many Disk Images\") \n\n    return msg\n</code></pre>\n"}], "owner": {"reputation": 568, "user_id": 1072283, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ab6aae7aa48f96cf5ea5ab5d3aa2247d?s=128&d=identicon&r=PG", "display_name": "dongle", "link": "https://stackoverflow.com/users/1072283/dongle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455744933, "creation_date": 1455743079, "question_id": 35467726, "link": "https://stackoverflow.com/questions/35467726/how-can-i-make-this-function-more-pythonically-efficient", "title": "How can I make this function more Pythonically efficient?", "body": "<p>I am working on a script for an automated workflow. It expects a CSV and a disk image to be present in the directory that is supplied as args.input.</p>\n\n<p>I want to check for and handle every possible scenario: no CSV, no disk image, too many CSVs, too many disk images, and any possible combination thereto.</p>\n\n<p>I've written the below, which works, and seems to be human readable, but it just seems incredibly excessive and verbose \u2013 is there any way I can make this more compact, yet still retain its legibility?</p>\n\n<pre><code># CONFORMANCE CHECKS\ndef check_conformance():\n    csv = glob.glob(args.input+'*.csv')\n    disk_image = glob.glob(args.input+'*.E01')\n\n    if len(csv) == 1:\n        does_csv_exist = os.path.isfile(csv[0])\n    elif len(csv) &lt; 1:\n        does_csv_exist = False\n    elif len(csv) &gt; 1:\n        does_csv_exist = \"too many CSVs!\"\n    if len(disk_image) == 1:\n        does_E01_exist = os.path.isfile(disk_image[0])\n    elif len(disk_image) &lt; 1:\n        does_E01_exist = False\n    elif len(disk_image) &gt; 1:\n        does_E01_exist = \"too many Disk Images!\"\n    if len(disk_image) &gt; 1 and len(csv) &gt; 1:\n        does_csv_exist = \"too many CSVs!\"\n        does_E01_exist = \"too many disk images!\"\n        return (False, does_csv_exist, does_E01_exist,)\n    if does_E01_exist is True and does_csv_exist is True:\n        return True\n    elif does_E01_exist is True and does_csv_exist is False:\n        return (False, \"CSV is missing\")\n    elif does_E01_exist is False and does_csv_exist is True:\n        return (False, \"E01 disk image is missing\")\n    elif does_E01_exist is False and does_csv_exist is False:\n        return (False, \"E01 disk image AND csv are missing\")\n    elif does_csv_exist is not True and does_csv_exist is not False:\n        return (False, does_csv_exist)\n    elif does_E01_exist is not True and does_E01_exist is not False:\n        return (False, does_E01_exist)\n</code></pre>\n"}, {"tags": ["python", "django"], "answers": [{"tags": [], "owner": {"reputation": 877, "user_id": 5936450, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caee686a90936356e5e81d1b513d4cef?s=128&d=identicon&r=PG&f=1", "display_name": "Curtis Olson", "link": "https://stackoverflow.com/users/5936450/curtis-olson"}, "is_accepted": true, "score": 1, "last_activity_date": 1455743653, "creation_date": 1455743653, "answer_id": 35467880, "question_id": 35467684, "link": "https://stackoverflow.com/questions/35467684/django-dicitionary-from-formset-errors/35467880#35467880", "title": "Django dicitionary from formset errors", "body": "<p>formset.errors will actually return a list of dictionaries. So for your case, you'll want a nested for loop. The following example will iterate over the list and each list's dictionary values.</p>\n\n<pre><code>for dict in formset.errors\n    for error in dict.values\n        error\n    endfor\nendfor         \n</code></pre>\n\n<p>OR</p>\n\n<pre><code>formset.non_form_errors\n</code></pre>\n"}], "owner": {"reputation": 405, "user_id": 4128877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ad9f6c82fe5f15fcf2e6e3f42bc593c7?s=128&d=identicon&r=PG&f=1", "display_name": "GoobyPrs", "link": "https://stackoverflow.com/users/4128877/goobyprs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 35467880, "answer_count": 1, "score": 0, "last_activity_date": 1455743653, "creation_date": 1455742934, "question_id": 35467684, "link": "https://stackoverflow.com/questions/35467684/django-dicitionary-from-formset-errors", "title": "Django dicitionary from formset errors", "body": "<p>I have formset:</p>\n\n<pre><code>SomeFormSet = inlineformset_factory(Obj1, Obj2, fields='__all__', extra=1)\nformset = SomeFormSet(request.POST or None, instance=instance)\nif request.method == 'POST':\n    if formset.is_valid():\n        formset.save()\n    else:\n        #get_error_dictionary      \n</code></pre>\n\n<p>And I want to get dictionary from formset.errors like: number_of_form-field : error. How can I do that? Thanks  </p>\n"}, {"tags": ["python", "gmail-api"], "answers": [{"comments": [{"owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1455743373, "post_id": 35467687, "comment_id": 58631144, "body": "so how do you set up hey@gmail.com as a alias?"}, {"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "reply_to_user": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "edited": false, "score": 0, "creation_date": 1455743512, "post_id": 35467687, "comment_id": 58631215, "body": "@ealeon Good question :) Edited the answer."}], "tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 1, "last_activity_date": 1455743479, "last_edit_date": 1455743479, "creation_date": 1455742941, "answer_id": 35467687, "question_id": 35467613, "link": "https://stackoverflow.com/questions/35467613/python-gmail-api-email-is-not-sending-as-the-specified-from/35467687#35467687", "title": "Python Gmail Api: Email is not sending as the specified from", "body": "<p>You can use a <a href=\"https://support.google.com/mail/answer/12096?hl=en\" rel=\"nofollow\">Gmail alias</a> in the <code>From</code>-header,</p>\n\n<pre><code>From: myalias@gmail.com\n</code></pre>\n\n<p>You can follow <a href=\"https://support.google.com/mail/answer/22370?hl=en\" rel=\"nofollow\">this guide</a> to set up an alias.</p>\n"}], "owner": {"reputation": 10213, "user_id": 1686628, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a03a6bd4b5f83b04ff39aec4b44e17ed?s=128&d=identicon&r=PG&f=1", "display_name": "ealeon", "link": "https://stackoverflow.com/users/1686628/ealeon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 35467687, "answer_count": 1, "score": 1, "last_activity_date": 1455743479, "creation_date": 1455742714, "question_id": 35467613, "link": "https://stackoverflow.com/questions/35467613/python-gmail-api-email-is-not-sending-as-the-specified-from", "title": "Python Gmail Api: Email is not sending as the specified from", "body": "<pre><code>import httplib2\nimport os\nfrom httplib2 import Http\n\nfrom apiclient import discovery\nimport oauth2client\nfrom oauth2client import client\nfrom oauth2client import tools\n\nimport base64\nfrom email.mime.audio import MIMEAudio\nfrom email.mime.base import MIMEBase\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\nimport mimetypes\n\n\nfrom apiclient import errors\n\ntry:\n    import argparse\n    flags = argparse.ArgumentParser(parents=[tools.argparser]).parse_args()\nexcept ImportError:\n    flags = None\n\n#SCOPES = 'https://www.googleapis.com/'\nSCOPES = 'https://www.googleapis.com/auth/gmail.compose'\nCLIENT_SECRET_FILE = 'client_secret.json'\nAPPLICATION_NAME = 'Gmail API Quickstart'\n\ndef get_credentials():\n    \"\"\"Gets valid user credentials from storage.\n\n    If nothing has been stored, or if the stored credentials are invalid,\n    the OAuth2 flow is completed to obtain the new credentials.\n\n    Returns:\n        Credentials, the obtained credential.\n    \"\"\"\n    home_dir = os.path.expanduser('~')\n    credential_dir = os.path.join(home_dir, '.credentials')\n    if not os.path.exists(credential_dir):\n        os.makedirs(credential_dir)\n    credential_path = os.path.join(credential_dir,\n                                   'gmail-quickstart.json')\n\n    store = oauth2client.file.Storage(credential_path)\n    credentials = store.get()\n    if not credentials or credentials.invalid:\n        flow = client.flow_from_clientsecrets(CLIENT_SECRET_FILE, SCOPES)\n        flow.user_agent = APPLICATION_NAME\n        if flags:\n            credentials = tools.run_flow(flow, store, flags)\n        else: # Needed only for compatability with Python 2.6\n            credentials = tools.run(flow, store)\n        print 'Storing credentials to ' + credential_path\n    return credentials\n\ndef CreateMessage(sender, to, subject, message_text):\n  \"\"\"Create a message for an email.\n\n  Args:\n    sender: Email address of the sender.\n    to: Email address of the receiver.\n    subject: The subject of the email message.\n    message_text: The text of the email message.\n\n  Returns:\n    An object containing a base64 encoded email object.\n  \"\"\"\n  message = MIMEText(message_text)\n  message['to'] = to\n  message['from'] = sender\n  message['subject'] = subject\n  return {'raw': base64.b64encode(message.as_string())}\n\ndef SendMessage(service, user_id, message):\n  \"\"\"Send an email message.\n\n  Args:\n    service: Authorized Gmail API service instance.\n    user_id: User's email address. The special value \"me\"\n    can be used to indicate the authenticated user.\n    message: Message to be sent.\n\n  Returns:\n    Sent Message.\n  \"\"\"\n  try:\n    message = (service.users().messages().send(userId=user_id, body=message)\n               .execute())\n    print 'Message Id: %s' % message['id']\n    return message\n  except errors.HttpError, error:\n    print 'An error occurred: %s' % error\n\ncredentials = get_credentials()\nhttp = credentials.authorize(httplib2.Http())\nservice = discovery.build('gmail', 'v1', http=http)\n\ntestMessage = CreateMessage('hey@gmail.com', 'johndoeisawesome@gmail.com', 'ENTER SUBJECT', 'ENTER EMAIL BODY')\n\ntestSend = SendMessage(service, 'me', testMessage)\n</code></pre>\n\n<p>i get email in johndoeisawesome@gmail.com as the email account that i enabled gmail api as, NOT <code>hey@gmail.com</code></p>\n\n<p>is that the correct behavior? \nThen, whats the point of filling out <code>'from'</code> in CreateMessage()?</p>\n"}, {"tags": ["python", "openmdao"], "answers": [{"comments": [{"owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 0, "creation_date": 1455745341, "post_id": 35468343, "comment_id": 58632282, "body": "So is there no way to add an integer variable to a gradient-based driver?"}, {"owner": {"reputation": 3880, "user_id": 2301186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecd326d907915e676ae9deb724cea0e?s=128&d=identicon&r=PG", "display_name": "Justin Gray", "link": "https://stackoverflow.com/users/2301186/justin-gray"}, "reply_to_user": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "edited": false, "score": 1, "creation_date": 1455745421, "post_id": 35468343, "comment_id": 58632331, "body": "By definition, no. A gradient based optimizer requires gradients (derivatives), which are not defined for integer variables."}], "tags": [], "owner": {"reputation": 3880, "user_id": 2301186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cecd326d907915e676ae9deb724cea0e?s=128&d=identicon&r=PG", "display_name": "Justin Gray", "link": "https://stackoverflow.com/users/2301186/justin-gray"}, "is_accepted": true, "score": 2, "last_activity_date": 1455745277, "creation_date": 1455745277, "answer_id": 35468343, "question_id": 35467610, "link": "https://stackoverflow.com/questions/35467610/how-can-i-add-an-integer-variable-to-an-openmdao-driver/35468343#35468343", "title": "How can I add an integer variable to an openmdao driver?", "body": "<p>The problem is this line </p>\n\n<pre><code>root.add('childWeight', IndepVarComp('x',240))\n</code></pre>\n\n<p>You've created an integer variable. Try this instead: </p>\n\n<pre><code>root.add('childWeight', IndepVarComp('x',240.))\n</code></pre>\n\n<p>If you want to use finite-differences you will also want: </p>\n\n<pre><code>top.root.fd_options['force_fd'] = True\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 2850762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a8fe9162d847e37c51e9b2a3cb0b6e8?s=128&d=identicon&r=PG&f=1", "display_name": "thearn", "link": "https://stackoverflow.com/users/2850762/thearn"}, "is_accepted": false, "score": 1, "last_activity_date": 1455745383, "creation_date": 1455745383, "answer_id": 35468382, "question_id": 35467610, "link": "https://stackoverflow.com/questions/35467610/how-can-i-add-an-integer-variable-to-an-openmdao-driver/35468382#35468382", "title": "How can I add an integer variable to an openmdao driver?", "body": "<p>I believe this error is being raised because the default value for <code>childWeight</code> is provided as the integer 240 instead of a float 240.0. If you ensure that your design variables always have default values as floats, they should not be categorized as a pass_by_obj variable.</p>\n"}], "owner": {"reputation": 7430, "user_id": 3474956, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/RWbuy.jpg?s=128&g=1", "display_name": "kilojoules", "link": "https://stackoverflow.com/users/3474956/kilojoules"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 132, "favorite_count": 0, "accepted_answer_id": 35468343, "answer_count": 2, "score": 1, "last_activity_date": 1455745383, "creation_date": 1455742709, "last_edit_date": 1455745084, "question_id": 35467610, "link": "https://stackoverflow.com/questions/35467610/how-can-i-add-an-integer-variable-to-an-openmdao-driver", "title": "How can I add an integer variable to an openmdao driver?", "body": "<p>I am confused by this openmdao error. Why is this being raised? Can I somehow tell openmdao that I don't have gradients and to use finite differences? Why is this raised for childWeight but not eta? </p>\n\n<p>I can get past this problem by initializing al my variables as floating point (eg. <code>root.add('childWeight', IndepVarComp('x',100))</code> -> <code>root.add('childWeight', IndepVarComp('x',100.0))</code>), but I would like to understand why this error was raised. </p>\n\n<pre><code>from openmdao.api import Component, Group, Problem, ScipyOptimizer, IndepVarComp\n\nclass gym(Component):\n    def __init__(self):\n        super(gym, self).__init__()\n        self.add_param('eta', 0.01)\n        self.add_param('childWeight', 240)\n\n        self.add_output('acc', 1)\n\n    def solve_nonlinear(self, params, unknowns, resids):\n        &lt;...... parameters are used to produce objective \"acc\" ...&gt;\n        unknowns[\"acc\"] = ....\n\ntop = Problem()\nroot = top.root = Group()\nroot.add('gym', gym())\ntop.driver = ScipyOptimizer()\ntop.driver.options['optimizer'] = 'BFGS'\n\nroot.add('eta',IndepVarComp('x', 0.01))\nroot.add('childWeight', IndepVarComp('x',100))\n\nroot.connect('eta.x', 'gym.eta')\nroot.connect('childWeight.x', 'gym.childWeight')\n\ntop.driver.add_desvar('eta.x', 0, 1.0)\ntop.driver.add_desvar('childWeight.x', 0, 1000)\n\ntop.driver.add_objective('gym.acc')\ntop.setup()\ntop.run()\n</code></pre>\n\n<p>raises the error</p>\n\n<pre><code>  File \"script.py\", line 98, in &lt;module&gt;\n    top.setup()\n  File \"/usr/local/lib/python2.7/site-packages/openmdao/core/problem.py\", line 694, in setup\n    self.driver._setup()\n  File \"/usr/local/lib/python2.7/site-packages/openmdao/drivers/scipy_optimizer.py\", line 91, in _setup\n    super(ScipyOptimizer, self)._setup()\n  File \"/usr/local/lib/python2.7/site-packages/openmdao/core/driver.py\", line 115, in _setup\n    (item_name, name, oname))\nRuntimeError: Parameter 'childWeight.x' is a 'pass_by_obj' variable and can't be used with a gradient based driver of type 'BFGS'.\n</code></pre>\n"}, {"tags": ["python", "yaml", "nonetype"], "comments": [{"owner": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 3, "creation_date": 1455743198, "post_id": 35467607, "comment_id": 58631045, "body": "I like your solution. Maybe <code>log_file_path = None if log_file_path == &#39;None&#39; else xxx</code> is shorter but it&#39;s just your solution rewritten. Don&#39;t be tempted to make <code>eval(log_file_path)</code> :-)"}, {"owner": {"reputation": 3670, "user_id": 868044, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/tQcbU.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/868044/dan"}, "edited": false, "score": 0, "creation_date": 1455743244, "post_id": 35467607, "comment_id": 58631067, "body": "Your solution is fine. You could make it a one-liner but that may obscure it more: <code>log_file_path = log_file_path if not log_file_path == &#39;None&#39; else None</code>"}, {"owner": {"reputation": 1505, "user_id": 1122474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c47cfd16d98395b1c8f449b2b4b09ea9?s=128&d=identicon&r=PG", "display_name": "Arthur", "link": "https://stackoverflow.com/users/1122474/arthur"}, "reply_to_user": {"reputation": 117275, "user_id": 5393381, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/308ffa6266fda6d94bc56fbd9e9798f9?s=128&d=identicon&r=PG&f=1", "display_name": "MSeifert", "link": "https://stackoverflow.com/users/5393381/mseifert"}, "edited": false, "score": 4, "creation_date": 1455743255, "post_id": 35467607, "comment_id": 58631074, "body": "I agree with @MSeifert. According to the zen of Python, explicit is better than implicit, and your solution seems to me quite Pythonic. I even find your original formulation much clearer than Dan&#39;s."}, {"owner": {"reputation": 1208, "user_id": 1824948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ab20aa92ebd7ff45f35121695bff88?s=128&d=identicon&r=PG", "display_name": "James Doepp - pihentagyu", "link": "https://stackoverflow.com/users/1824948/james-doepp-pihentagyu"}, "edited": false, "score": 2, "creation_date": 1455743496, "post_id": 35467607, "comment_id": 58631209, "body": "In the config file you could leave LOG_FILE_PATH: without a value and config[&#39;LOG_FILE_PATH&#39;] would be None."}, {"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 1, "creation_date": 1455743761, "post_id": 35467607, "comment_id": 58631350, "body": "Use <code>null</code>, not <code>None</code>, in the YAML file."}, {"owner": {"reputation": 1433, "user_id": 3717289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F548c.jpg?s=128&g=1", "display_name": "bmpasini", "link": "https://stackoverflow.com/users/3717289/bmpasini"}, "edited": false, "score": 0, "creation_date": 1455743969, "post_id": 35467607, "comment_id": 58631458, "body": "Nice solutions! Both leaving it blank and using <code>null</code> work!"}], "answers": [{"comments": [{"owner": {"reputation": 1433, "user_id": 3717289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F548c.jpg?s=128&g=1", "display_name": "bmpasini", "link": "https://stackoverflow.com/users/3717289/bmpasini"}, "edited": false, "score": 1, "creation_date": 1455744343, "post_id": 35467901, "comment_id": 58631662, "body": "Great solution @Oin. It is more of a matter of adjusting the YAML file rather than making it more Pythonic. One suggestion would be to also mention that <code>null</code> is another way of representing <code>None</code> in YAML, as someone said in the comments."}], "tags": [], "owner": {"reputation": 5486, "user_id": 7603, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d067cbdcb281602ba20ed58b5759b81a?s=128&d=identicon&r=PG&f=1", "display_name": "Oin", "link": "https://stackoverflow.com/users/7603/oin"}, "is_accepted": true, "score": 7, "last_activity_date": 1597323064, "last_edit_date": 1597323064, "creation_date": 1455743767, "answer_id": 35467901, "question_id": 35467607, "link": "https://stackoverflow.com/questions/35467607/pythonic-way-of-converting-none-string-to-none/35467901#35467901", "title": "Pythonic way of converting &#39;None&#39; string to None", "body": "<p>The <code>None</code> value in your YAML file is not really kosher YAML since YAML it uses absence of a value to represent None. So if you just used proper YAML your troubles would be over:</p>\n<pre><code>In [7]: yaml.load(&quot;&quot;&quot;\n   ...: CREDENTIALS:\n   ...:   USERNAME: 'USERNAME'\n   ...:   PASSWORD: 'PASSWORD'\n   ...: LOG_FILE_PATH: \n   ...: &quot;&quot;&quot;)\nOut[7]: \n{'CREDENTIALS': {'PASSWORD': 'PASSWORD', 'USERNAME': 'USERNAME'},\n 'LOG_FILE_PATH': None}\n</code></pre>\n<p>Notice how it read the absence of the <code>LOG_FILE_PATH</code> as <code>None</code> rather than <code>'None'</code>.</p>\n<p>Later edit: Other values which also work are: <code>null</code>, <code>Null</code> and <code>NULL</code> as per: <a href=\"https://yaml.org/type/null.html\" rel=\"nofollow noreferrer\">https://yaml.org/type/null.html</a></p>\n"}], "owner": {"reputation": 1433, "user_id": 3717289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/F548c.jpg?s=128&g=1", "display_name": "bmpasini", "link": "https://stackoverflow.com/users/3717289/bmpasini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1727, "favorite_count": 2, "accepted_answer_id": 35467901, "answer_count": 1, "score": 4, "last_activity_date": 1597323064, "creation_date": 1455742704, "last_edit_date": 1455743010, "question_id": 35467607, "link": "https://stackoverflow.com/questions/35467607/pythonic-way-of-converting-none-string-to-none", "title": "Pythonic way of converting &#39;None&#39; string to None", "body": "<p>Let's say I have the following yaml file and the value in the 4th row should be <code>None</code>. How can I convert the string <code>'None'</code> to <code>None</code>?</p>\n\n<pre><code>CREDENTIALS:\n  USERNAME: 'USERNAME'\n  PASSWORD: 'PASSWORD'\nLOG_FILE_PATH: None &lt;----------\n</code></pre>\n\n<p>I already have this:</p>\n\n<pre><code>config = yaml.safe_load(open(config_path, \"r\"))\nusername, password, log_file_path = (config['CREDENTIALS']['USERNAME'],\n                                     config['CREDENTIALS']['PASSWORD'],\n                                     config['LOG_FILE_PATH'])\n</code></pre>\n\n<p>I would like to know if there is a pythonic way to do this, instead of simply doing:</p>\n\n<pre><code>if log_file_path == 'None':\n  log_file_path = None\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455742793, "post_id": 35467515, "comment_id": 58630820, "body": "With <code>side_effect</code>? Have you tried reading the docs?"}, {"owner": {"reputation": 63, "user_id": 2515554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07337067df32efb6ab799057721ef568?s=128&d=identicon&r=PG", "display_name": "lrpri ya", "link": "https://stackoverflow.com/users/2515554/lrpri-ya"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455743463, "post_id": 35467515, "comment_id": 58631195, "body": "I tried using side_effect. It did not work. My return_vale for the first time is for filter.filter.values_list.return_value while for the second time it is for filter.limit.return_value"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1455743506, "post_id": 35467515, "comment_id": 58631212, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and a clearer description of the problem that <i>&quot;did not work&quot;</i>."}, {"owner": {"reputation": 63, "user_id": 2515554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07337067df32efb6ab799057721ef568?s=128&d=identicon&r=PG", "display_name": "lrpri ya", "link": "https://stackoverflow.com/users/2515554/lrpri-ya"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455808309, "post_id": 35467515, "comment_id": 58663752, "body": "Sorry for not being complete example. I have edited my post. Please see if it makes sense now."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2515554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07337067df32efb6ab799057721ef568?s=128&d=identicon&r=PG", "display_name": "lrpri ya", "link": "https://stackoverflow.com/users/2515554/lrpri-ya"}, "edited": false, "score": 0, "creation_date": 1455915744, "post_id": 35485560, "comment_id": 58720487, "body": "Thanks Michele. I refactored my code. That was much easier and simpler."}], "tags": [], "owner": {"reputation": 16853, "user_id": 4101725, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-dGwoPMFb_tM/AAAAAAAAAAI/AAAAAAAABks/tMMqc6E9REg/photo.jpg?sz=128", "display_name": "Michele d&#39;Amico", "link": "https://stackoverflow.com/users/4101725/michele-damico"}, "is_accepted": true, "score": 1, "last_activity_date": 1510874165, "last_edit_date": 1510874165, "creation_date": 1455809199, "answer_id": 35485560, "question_id": 35467515, "link": "https://stackoverflow.com/questions/35467515/mock-same-method-with-different-return-value-called-twice-in-a-function-in-pytho/35485560#35485560", "title": "Mock same method with different return value called twice in a function in python", "body": "<p>You should write a <code>side_effect</code> for <code>database_model.object.filter</code> mock that gives you a <code>Mock()</code> configured to return the correct <code>ids</code> list after a mock to use in for cycle.</p>\n\n<pre><code>mock_filter_get_ids = Mock()\nmock_filter_ids = Mock()\nmock_model.objects.filter.side_effect = [mock_filter_get_ids, mock_filter_ids]\nmock_filter_get_ids.filter.return_value.values_list.return_value.allow_filtering_return_value = [Mock_id]\nmock_filter_ids.limit.return_value = mock_dict\n</code></pre>\n\n<h1>But...</h1>\n\n<p>Forget it: refactor your code, at least extract:</p>\n\n<pre><code>database_model.object.filter(user=\"user1\").filter(group=\"admin\").values_list(ids, flat=True).allow_filtering()\n</code></pre>\n\n<p>In something like <code>get_user_ids()</code> and</p>\n\n<pre><code>database_model.object.filter(ids=ids).limit(1)\n</code></pre>\n\n<p>in <code>get_ids_response()</code>.</p>\n\n<p>You can mock the new methods and make your code simpler to read, simple to test means simple to read almost every time.</p>\n"}], "owner": {"reputation": 63, "user_id": 2515554, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07337067df32efb6ab799057721ef568?s=128&d=identicon&r=PG", "display_name": "lrpri ya", "link": "https://stackoverflow.com/users/2515554/lrpri-ya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5150, "favorite_count": 0, "accepted_answer_id": 35485560, "answer_count": 1, "score": 2, "last_activity_date": 1510874165, "creation_date": 1455742403, "last_edit_date": 1510873262, "question_id": 35467515, "link": "https://stackoverflow.com/questions/35467515/mock-same-method-with-different-return-value-called-twice-in-a-function-in-pytho", "title": "Mock same method with different return value called twice in a function in python", "body": "<p>I have a method to be tested using pytest. The method is calling same database model twice.</p>\n\n<pre><code> def function:\n    ids = database_model.object.filter(user=\"user1\").filter(group=\"admin\").values_list(ids, flat=True).allow_filtering()\n    response_list = []\n    unquie_ids = list(set(ids))\n    for ids in unique_ids:\n        response = database_model.object.filter(ids=ids).limit(1)\n        for res in response:\n            temp_dict = {}\n            temp_dict['name'] = res.name\n            temp_dict['description'] = res.description\n            response_list.append(temp_dict)\n   return response_list\n</code></pre>\n\n<p>This works well. I am tring to write unit test case for this.\nAs the same database_model requires return value twice. It does not work for me.</p>\n\n<pre><code>  @patch('database_model')\n  def test_function(mock_model):\n      mock_model.objects.filter.return_value.filter.return_value.values_list.return_value.allow_filtering_return_value = [Mock_id]\n      mock_model.objects.filter.limit.return_value = mock_dict\n\n      response = function()\n\n      assert len(response) &gt; 0\n</code></pre>\n\n<p>mock_id and mock_dict are values created for test case.\nMy question is first time i am assigning a return_value to mock_model.objects.filter.return_value.filter.return_value.values_list.return_value.allow_filtering.return_value to [Mock_id] which gets assigned properly. But the next line i am trying to assign a return_value again to the same method. This takes as a magic mock object. So my test case fails because it is getting a empty list. I would like to know how can i assign two different return_values to the same method.</p>\n"}, {"tags": ["python", "matplotlib", "heatmap"], "answers": [{"comments": [{"owner": {"reputation": 369, "user_id": 3076813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5eb33494d2ab3060b4c1a2ddcf058cdd?s=128&d=identicon&r=PG&f=1", "display_name": "user3076813", "link": "https://stackoverflow.com/users/3076813/user3076813"}, "edited": false, "score": 0, "creation_date": 1455745703, "post_id": 35467704, "comment_id": 58632516, "body": "This looks good but the problem is that it shows that x and y range from 1 to 3 while actual x and y are 1 and 2 and this could be quite misleading. Is there any way to put the ticks and tick labels (1 and 2) in the middle of each rectangle?"}, {"owner": {"reputation": 106, "user_id": 5532673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e3d6dbe68272bcca5a8eac0fb7327b?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc Torradeflot", "link": "https://stackoverflow.com/users/5532673/francesc-torradeflot"}, "reply_to_user": {"reputation": 369, "user_id": 3076813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5eb33494d2ab3060b4c1a2ddcf058cdd?s=128&d=identicon&r=PG&f=1", "display_name": "user3076813", "link": "https://stackoverflow.com/users/3076813/user3076813"}, "edited": false, "score": 0, "creation_date": 1455749791, "post_id": 35467704, "comment_id": 58634402, "body": "you have to modify the axes and the ticks, see the edit in my answer"}, {"owner": {"reputation": 369, "user_id": 3076813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5eb33494d2ab3060b4c1a2ddcf058cdd?s=128&d=identicon&r=PG&f=1", "display_name": "user3076813", "link": "https://stackoverflow.com/users/3076813/user3076813"}, "edited": false, "score": 0, "creation_date": 1455809950, "post_id": 35467704, "comment_id": 58665034, "body": "The resulting plot is exactly what I was looking for. However, here you have manipulated the original x and y in such a way that it works for this particular example. Is there a more general recipe that works for any x and y (i.e., to get the original x and y and then modifies them in such a way that the graph looks like what you did for this particular example)? A more general procedure will take into account that the entries of x and y may not be always evenly spaced."}], "tags": [], "owner": {"reputation": 106, "user_id": 5532673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7e3d6dbe68272bcca5a8eac0fb7327b?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc Torradeflot", "link": "https://stackoverflow.com/users/5532673/francesc-torradeflot"}, "is_accepted": false, "score": 1, "last_activity_date": 1455749725, "last_edit_date": 1455749725, "creation_date": 1455742972, "answer_id": 35467704, "question_id": 35467507, "link": "https://stackoverflow.com/questions/35467507/how-to-make-matplotlib-pcolor-show-the-last-row-and-column-of-data/35467704#35467704", "title": "How to make matplotlib/pcolor show the last row and column of data", "body": "<p>Try this:</p>\n\n<pre><code>import numpy as np\nfrom matplotlib import pyplot as plt\n\nx = np.array([1,2,3])\ny = np.array([1,2,3])\nz = np.array([[10,20],[30,40]])\n\n# Using pcolor\nfig, ax = plt.subplots()\np = ax.pcolor(x,y,z,vmin=z.min(), vmax=z.max())\nax.set_xlim([x.min(),x.max()])\nax.set_ylim([y.min(),y.max()])\ncb = fig.colorbar(p, ax=ax)\nplt.show()\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>x = np.array([0.5,1.5,2.5])\ny = np.array([0.5,1.5,2.5])\nz = np.array([[10,20],[30,40]])\n\n# Using pcolor\nfig, ax = plt.subplots()\np = ax.pcolor(x,y,z,vmin=z.min(), vmax=z.max())\nax.set_xticks([1., 2.])\nax.set_yticks([1., 2.])\ncb = fig.colorbar(p, ax=ax)\nplt.show()\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 3076813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5eb33494d2ab3060b4c1a2ddcf058cdd?s=128&d=identicon&r=PG&f=1", "display_name": "user3076813", "link": "https://stackoverflow.com/users/3076813/user3076813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1455749725, "creation_date": 1455742371, "last_edit_date": 1495542201, "question_id": 35467507, "link": "https://stackoverflow.com/questions/35467507/how-to-make-matplotlib-pcolor-show-the-last-row-and-column-of-data", "title": "How to make matplotlib/pcolor show the last row and column of data", "body": "<p>matplotlib/pcolor chops off the last row and column of data. <a href=\"https://stackoverflow.com/questions/23549195/matplotlib-pcolor-does-not-plot-last-row-and-column\">This post</a> suggests that increasing the dimensions of x and y arguments by one should resolve the problem. Now consider the following simple example:</p>\n\n<pre><code>x = np.array([1,2])\ny = np.array([1,2])\nz = np.array([[10,20],[30,40]])\n\n# Using pcolor\nfig, ax = plt.subplots()\np = ax.pcolor(x,y,z,vmin=z.min(), vmax=z.max())\nax.set_xlim([x.min(),x.max()])\nax.set_ylim([y.min(),y.max()])\ncb = fig.colorbar(p, ax=ax)\n\n# Using matshow (for comparison)\nfig, ax = plt.subplots()\nms = ax.matshow(z,vmin=z.min(), vmax=z.max(), origin = 'lower')\nax.xaxis.tick_bottom()\ncb = fig.colorbar(ms, ax=ax)\n</code></pre>\n\n<p>Increasing the dimensions of x and y by one e.g., by changing them to:</p>\n\n<pre><code>x = np.array([1,2,2.1])\ny = np.array([1,2,2.1])\n</code></pre>\n\n<p>does not solve the issue. How can I make the pcolor plot to look similar to matshow plot?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 4789833, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/814861518567482/picture?type=large", "display_name": "Teejay", "link": "https://stackoverflow.com/users/4789833/teejay"}, "edited": false, "score": 0, "creation_date": 1455809756, "post_id": 35485568, "comment_id": 58664899, "body": "tried doing that , getting an error in my cmd: fatal error unable to load file system codec. no module named encodings. trying to figure out what this is."}, {"owner": {"reputation": 43, "user_id": 4789833, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/814861518567482/picture?type=large", "display_name": "Teejay", "link": "https://stackoverflow.com/users/4789833/teejay"}, "edited": false, "score": 0, "creation_date": 1455810855, "post_id": 35485568, "comment_id": 58665740, "body": "Should i be making any changes in my environment variables incase i moved my python to another location. current location of python folder is: C:\\Users\\myuser\\Python\\Python35-32"}, {"owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "reply_to_user": {"reputation": 43, "user_id": 4789833, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/814861518567482/picture?type=large", "display_name": "Teejay", "link": "https://stackoverflow.com/users/4789833/teejay"}, "edited": false, "score": 0, "creation_date": 1455823229, "post_id": 35485568, "comment_id": 58673885, "body": "I would uninstall and reinstall Python in the right folder to make sure it is installed correctly."}, {"owner": {"reputation": 43, "user_id": 4789833, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/814861518567482/picture?type=large", "display_name": "Teejay", "link": "https://stackoverflow.com/users/4789833/teejay"}, "edited": false, "score": 0, "creation_date": 1455982760, "post_id": 35485568, "comment_id": 58740070, "body": "yup. installed python 3.4 again and my problem was solved. thank you. :)"}], "tags": [], "owner": {"reputation": 56149, "user_id": 904393, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07759b65c163ee70d802ae9cce9142ec?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/904393/miguel"}, "is_accepted": false, "score": 0, "last_activity_date": 1455809222, "creation_date": 1455809222, "answer_id": 35485568, "question_id": 35467495, "link": "https://stackoverflow.com/questions/35467495/how-to-execute-run-py-script-in-venv-in-flask-for-windows/35485568#35485568", "title": "How to execute run.py script in venv in flask for windows?", "body": "<p>Normally you do not write any of your files inside the virtual environment. Put the <code>run.py</code> file in <code>C:\\Users\\myuser\\microblog\\</code>. Then <code>cd</code> to this directory and run the application with:</p>\n\n<pre><code>flask\\Scripts\\python run.py\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 4789833, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/814861518567482/picture?type=large", "display_name": "Teejay", "link": "https://stackoverflow.com/users/4789833/teejay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 947, "favorite_count": 1, "answer_count": 1, "score": -4, "last_activity_date": 1455809222, "creation_date": 1455742347, "last_edit_date": 1455790144, "question_id": 35467495, "link": "https://stackoverflow.com/questions/35467495/how-to-execute-run-py-script-in-venv-in-flask-for-windows", "title": "How to execute run.py script in venv in flask for windows?", "body": "<p>I am following the <a href=\"http://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world\" rel=\"nofollow\">miguel grinberg tutorial</a> for flask.</p>\n\n<p>When it comes to running the script from python interpreter in virtualenv, I am stuck. First I will like to know what he means by this step? How to run it? </p>\n\n<p>To my understanding: I installed flask inside my microblog folder, with the <code>virtualenv flask</code> command that is mentioned. The following is my file structure: <code>C:\\Users\\myuser\\microblog\\flask</code> and I have stored the <code>run.py</code> file in the folder Scripts which is in <code>flask</code> folder.</p>\n\n<p>I tried to run the <code>flask\\Scripts\\python run.py</code> command from the <code>python.exe</code> file in scripts, but no success. </p>\n"}, {"tags": ["python", "myhdl"], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 2632960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHkZZ.jpg?s=128&g=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/2632960/angel"}, "edited": false, "score": 0, "creation_date": 1455803445, "post_id": 35476809, "comment_id": 58660001, "body": "Thx for your response."}], "tags": [], "owner": {"reputation": 2237, "user_id": 574895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e947f36b75d6f61fbcae8160565820ad?s=128&d=identicon&r=PG", "display_name": "Jan Decaluwe", "link": "https://stackoverflow.com/users/574895/jan-decaluwe"}, "is_accepted": true, "score": 1, "last_activity_date": 1455795384, "last_edit_date": 1455795384, "creation_date": 1455785799, "answer_id": 35476809, "question_id": 35467492, "link": "https://stackoverflow.com/questions/35467492/myhdl-object-type-is-not-supported-in-this-context/35476809#35476809", "title": "MyHDL: Object type is not supported in this context", "body": "<p>You have to use Signals to communicate between modules. Generators can only be sensitive to Signals. In particular, the sensitivity list that the <code>always_comb</code> decorator infers only contains Signals.</p>\n\n<p>BTW, I am puzzled why you refer to \"constants\". If you need constants, just use plain ints. Types like <code>intbv</code> and <code>modbv</code> are mutable types, and not intended to represent constants.</p>\n"}], "owner": {"reputation": 350, "user_id": 2632960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HHkZZ.jpg?s=128&g=1", "display_name": "Angel", "link": "https://stackoverflow.com/users/2632960/angel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 35476809, "answer_count": 1, "score": 0, "last_activity_date": 1455795384, "creation_date": 1455742344, "question_id": 35467492, "link": "https://stackoverflow.com/questions/35467492/myhdl-object-type-is-not-supported-in-this-context", "title": "MyHDL: Object type is not supported in this context", "body": "<p>I'm trying to convert this code to Verilog:</p>\n\n<pre><code>from myhdl import always_comb\nfrom myhdl import modbv\nfrom myhdl import Signal\nfrom myhdl import concat\nfrom myhdl import toVerilog\n\nvar0 = modbv(15)[12:]\nvar1 = modbv(15)[12:]\nvar2 = modbv(15)[12:]\nvar3 = modbv(15)[12:]\na = modbv(0)[3:]\nb = modbv(1)[3:]\nc = modbv(2)[3:]\nd = modbv(3)[3:]\ne = concat(d, c, b, a)\n\n\ndef qwe(sel, out_data):\n    @always_comb\n    def hdl():\n        if sel == a:\n            out_data.next = var0\n        elif sel == b:\n            out_data.next = var1\n        elif sel == c:\n            out_data.next = var2\n        elif sel == d:\n            out_data.next = var3\n        else:\n            out_data.next = e\n\n    return hdl\n\n\nsel = Signal(modbv(0)[3:])\noutput = Signal(modbv(0)[12:])\n\ntoVerilog(qwe, sel, output)\n</code></pre>\n\n<p>however, i got the following error:</p>\n\n<pre><code>  File \"/usr/lib/python3.5/site-packages/myhdl/conversion/_toVerilog.py\", line 474, in raiseError\n    raise ToVerilogError(kind, msg, info)\nmyhdl.ToVerilogError: in file test.py, line 22:\n    Object type is not supported in this context: a, &lt;class 'myhdl._modbv.modbv'&gt;\n</code></pre>\n\n<p>Moving the variables inside the <code>qwe</code> function will work, but I need those variables outside because I need to access those 'constants' in another module.</p>\n\n<p>Can anyone explain why I got this error, and how can I make it work?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "pandas", "dataframe", "multiplication"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 5822150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11e959b68f2ef99d51b2865c62d256fa?s=128&d=identicon&r=PG&f=1", "display_name": "JRivest", "link": "https://stackoverflow.com/users/5822150/jrivest"}, "edited": false, "score": 0, "creation_date": 1455745239, "post_id": 35468187, "comment_id": 58632215, "body": "You&#39;re probably right. I ran it too on another machine with 16GB without problem. Thanks!"}], "tags": [], "owner": {"reputation": 123, "user_id": 4123575, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50fa5acdc43790a7f087ade4ada036ce?s=128&d=identicon&r=PG&f=1", "display_name": "pajarraco", "link": "https://stackoverflow.com/users/4123575/pajarraco"}, "is_accepted": true, "score": 2, "last_activity_date": 1455744714, "creation_date": 1455744714, "answer_id": 35468187, "question_id": 35467468, "link": "https://stackoverflow.com/questions/35467468/repeatedly-multiplying-the-same-two-dataframes-many-times-raises-error-after-som/35468187#35468187", "title": "Repeatedly multiplying the same two dataframes many times raises error after some iterations", "body": "<p>This is not a Python or Pandas problem.  If you run it raw from the terminal, you will see that this runs properly.</p>\n\n<p>It's probably due to overhead of Spyder and Jupyter trying to capture data as the loop is progressing.</p>\n\n<p>With a machine with enough RAM, you should still be able to run this on Spyder and/or Jupyter.  I just ran it on Jupyter using a 16GB machine and it ran fine.</p>\n"}], "owner": {"reputation": 15, "user_id": 5822150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11e959b68f2ef99d51b2865c62d256fa?s=128&d=identicon&r=PG&f=1", "display_name": "JRivest", "link": "https://stackoverflow.com/users/5822150/jrivest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 35468187, "answer_count": 1, "score": 1, "last_activity_date": 1455745893, "creation_date": 1455742257, "last_edit_date": 1455745893, "question_id": 35467468, "link": "https://stackoverflow.com/questions/35467468/repeatedly-multiplying-the-same-two-dataframes-many-times-raises-error-after-som", "title": "Repeatedly multiplying the same two dataframes many times raises error after some iterations", "body": "<p>In the example below, after some iterations without a problem, a division error is raised because the <code>C</code> dataframe becomes filled up with 0s instead of ones (the number of iterations without a problem changes from time to time, e.g. 22 to 46 on Spider, 200 to 600 on Jupyter).</p>\n\n<p>Lowering the number of rows or columns avoids the problem. Seems to point to a memory problem. </p>\n\n<p>Any explanation would be welcome, as I'm performing multiple simulations requiring similar calculations (But I know the example does not make practical sense).</p>\n\n<pre><code>import pandas as pd\nA=pd.DataFrame(1, range(1,1000), range(1,132))\nB=A.copy()\nfor i in range (0,10000):\n    C=A.multiply(B)\n    print (\"Iteration \"+str(i)+\", Sum of C : \"+str(C.sum().sum())+\", Inverse of the sum of C : \"+str(1/(C.sum().sum())))\n</code></pre>\n"}, {"tags": ["python", "nginx", "flask", "gunicorn", "upstart"], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 4356243, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xpcP-QORJbk/AAAAAAAAAAI/AAAAAAAAAVM/lLATqj3NLKE/photo.jpg?sz=128", "display_name": "Bashar Ghadanfar", "link": "https://stackoverflow.com/users/4356243/bashar-ghadanfar"}, "is_accepted": false, "score": -1, "last_activity_date": 1472249447, "last_edit_date": 1495540423, "creation_date": 1472249447, "answer_id": 39175291, "question_id": 35467420, "link": "https://stackoverflow.com/questions/35467420/failed-to-find-application-wsgi-when-launching-upstart-script/39175291#39175291", "title": "failed to find application &#39;wsgi&#39; when launching upstart script", "body": "<p>I've just had the same issue. There's another question's answer that should help you with this as it did help me: <a href=\"https://stackoverflow.com/questions/33379287/gunicorn-cant-find-app-when-name-changed-from-application\">Gunicorn can&#39;t find app when name changed from &quot;application&quot;</a></p>\n"}], "owner": {"reputation": 1, "user_id": 5942545, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QNJN9uYnCME/AAAAAAAAAAI/AAAAAAAAD04/2AveNBDiaiY/photo.jpg?sz=128", "display_name": "Patrick", "link": "https://stackoverflow.com/users/5942545/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2424, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1472249447, "creation_date": 1455742094, "question_id": 35467420, "link": "https://stackoverflow.com/questions/35467420/failed-to-find-application-wsgi-when-launching-upstart-script", "title": "failed to find application &#39;wsgi&#39; when launching upstart script", "body": "<p>I'm trying to deploy a web app written using Flask onto an Ubuntu based VPS (hosted on Digital Ocean). I've run into an issue in the final steps of deployment.</p>\n\n<p>Following <a href=\"https://www.digitalocean.com/community/tutorials/how-to-serve-flask-applications-with-gunicorn-and-nginx-on-ubuntu-14-04\" rel=\"nofollow\">this guide</a> I've gotten through everything up to the Upstart script where the project fails completely.</p>\n\n<p>Looking in the log file after I <code>sudo start myproject</code> I found one line that reads: <code>Failed to find application 'wsgi'</code></p>\n\n<p>Folder Structure:</p>\n\n<pre><code>myproject\n- venv\n- templates\n- static\n- wsgi.py\n- main.py\n</code></pre>\n\n<p>The wsgi.py is:</p>\n\n<pre><code>from main import app\n\nif __name__ == \"__main__\":\n    app.run()\n</code></pre>\n\n<p>Finally, the Upstart file is currently:</p>\n\n<pre><code>start on runlevel [2345]\nstop on runlevel [!2345]\n\nrespawn\nsetuid myuseraccount\nsetgid www-data\n\nenv PATH=/var/www/myproject/venv/bin\nchdir /var/www/myproject\n\nexec gunicorn --workers 2 --bind unix:myproject.sock -m 007 wsgi:app\n</code></pre>\n\n<p>I've sent a lot of time trying to troubleshoot,but I am lost. Everything works properly when I start the project using <code>gunicorn --bind 0.0.0.0:8000 wsgi:app</code> inside of the virtual environment.</p>\n\n<p>Just in-case it is relevant, the nginx configuration:</p>\n\n<pre><code>server {\n    listen 80;\n    server_name myproject.com www.myproject.com;\n\n    location / {\n        include proxy_params;\n        proxy_pass http://unix:/var/www/myproject/myproject.sock;\n    }\n</code></pre>\n"}, {"tags": ["python", "python-2.7"], "comments": [{"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 5, "creation_date": 1455742269, "post_id": 35467410, "comment_id": 58630559, "body": "Python is part of MacOS, I don&#39;t believe you can <i>remove</i> it without messing up the OS... You don&#39;t specify <i>why</i> you want to do it, but an educated guess is that <a href=\"https://virtualenv.readthedocs.org/en/latest/\" rel=\"nofollow noreferrer\">this</a> may help."}, {"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1455742498, "post_id": 35467410, "comment_id": 58630668, "body": "I installed python3.5.1 but when i use Python -V i have already 2.7.10"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1455743065, "post_id": 35467410, "comment_id": 58630965, "body": "What about <code>python3 -V</code>? Or using a <code>virtualenv</code>?"}, {"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "edited": false, "score": 0, "creation_date": 1455743192, "post_id": 35467410, "comment_id": 58631041, "body": "in  /Library/Frameworks/Python.framework/Versions   i have just 3.5 but Pythob -V give me 2.7.10, i&#39;m really confused"}, {"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "edited": false, "score": 0, "creation_date": 1455743319, "post_id": 35467410, "comment_id": 58631113, "body": "python3 -V give me 3.5 but virtualenv use System/Library/Frameworks/Python.framework/Versions/2.7/Extr&zwnj;&#8203;as/lib/python/pkg_re&zwnj;&#8203;sources.py&quot;"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1455743463, "post_id": 35467410, "comment_id": 58631194, "body": "What about <code>python3 -m virtualenv venv</code>?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1455743673, "post_id": 35467410, "comment_id": 58631298, "body": "Also, <code>&#47;usr&#47;bin&#47;python</code> is most likely the executable you are running. Not sure what deleting that Framework folder does because it doesn&#39;t exist on my Mac"}, {"owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "edited": false, "score": 0, "creation_date": 1455743960, "post_id": 35467410, "comment_id": 58631456, "body": "python3 -m virtualenv venv /Library/Frameworks/Python.framework/Versions/3.5/bin/python&zwnj;&#8203;3: No module named virtualenv"}], "answers": [{"tags": [], "owner": {"reputation": 6472, "user_id": 3029173, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/xJxwn.jpg?s=128&g=1", "display_name": "AnilRedshift", "link": "https://stackoverflow.com/users/3029173/anilredshift"}, "is_accepted": true, "score": 3, "last_activity_date": 1455749971, "last_edit_date": 1495542791, "creation_date": 1455749971, "answer_id": 35469476, "question_id": 35467410, "link": "https://stackoverflow.com/questions/35467410/how-can-i-unistall-python-from-yosemite/35469476#35469476", "title": "How Can i unistall Python from Yosemite?", "body": "<p>Do not remove the system python. Consider it part of the operating system, and note that OS upgrades may restore that folder.</p>\n\n<p>Instead, what it sounds like is that you want to have multiple python versions installed at the same time. There are several ways of doing this. The short version is that</p>\n\n<ol>\n<li>The files have to be somewhere on your machine</li>\n<li>Your <code>PATH</code> has to point to this new python</li>\n<li>(optional) in the case of running python3, you may wish for <code>python</code> to execute python3.</li>\n</ol>\n\n<p>Let's solve these problems one at a time.</p>\n\n<h2>Installing python</h2>\n\n<p>It appears that you already have a version of python 3.5 installed, but you can also install it with <code>brew</code> or <code>pyenv</code></p>\n\n<p>To use <code>brew</code>, see these instructions: <a href=\"http://docs.python-guide.org/en/latest/starting/install/osx/\" rel=\"nofollow noreferrer\">http://docs.python-guide.org/en/latest/starting/install/osx/</a></p>\n\n<p><code>pyenv</code> is a brew package, so to use it, you would first install brew and then install a version of python. See: <a href=\"https://github.com/yyuu/pyenv#homebrew-on-mac-os-x\" rel=\"nofollow noreferrer\">https://github.com/yyuu/pyenv#homebrew-on-mac-os-x</a></p>\n\n<h2>Fixing the path</h2>\n\n<p><code>$PATH</code> is an environment variable that is a list of directories. To see your current path, type in <code>echo $PATH</code> into a terminal. Each directory is delimited by a semicolon(<code>:</code>). When you type <code>python</code> in the terminal, the computer goes through each directory, in order, until it finds a file named python. So, this is why trying to execute <code>python</code> gives you the system python instead of the one you downloaded. </p>\n\n<p>There are a couple ways of fixing this. Instead of running <code>python</code>, you could give an explicit path to wherever your new python binary is (for example <code>/usr/local/bin/python3</code> would launch the binary of python installed by <code>brew</code>.</p>\n\n<p>Typing a path manually every time is hard, and not all applications do this, so one option would be to add your new directory to $PATH. See: <a href=\"https://stackoverflow.com/questions/11025980/how-to-add-usr-local-bin-in-path-on-mac\">How to add /usr/local/bin in $PATH on Mac</a> . This is a great option if you want to add a new <code>python3</code> (since it doesn't exist in the original OS), but doesn't help if you want to override the existing python</p>\n\n<p>The other (better) option is to use virtual environments to <em>temporarily</em> change your PATH so that you can run the version of python that you want, without breaking other applications. This option also would let you run <code>python</code> and have it launch either python2 or python3 respectively. There are a few ways to get <code>virtualenv</code> working. You can read more here: <a href=\"https://virtualenvwrapper.readthedocs.org/en/latest/install.html\" rel=\"nofollow noreferrer\">https://virtualenvwrapper.readthedocs.org/en/latest/install.html</a></p>\n\n<p>If you have <code>brew</code> installed, I would <code>brew install python python-virtualenvwrapper</code></p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 1884, "user_id": 4527978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Od9E3.png?s=128&g=1", "display_name": "parik", "link": "https://stackoverflow.com/users/4527978/parik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "closed_date": 1456387494, "accepted_answer_id": 35469476, "answer_count": 1, "score": 0, "last_activity_date": 1455749971, "creation_date": 1455742072, "question_id": 35467410, "link": "https://stackoverflow.com/questions/35467410/how-can-i-unistall-python-from-yosemite", "closed_reason": "Needs details or clarity", "title": "How Can i unistall Python from Yosemite?", "body": "<p>I want  to unistall Python in my Mac.\nI tried  to removed it from \n<code>/Library/Frameworks/ </code> \nusing\n<code>sudo rm -rf /Library/Frameworks/Python.framework</code>\nand and from <strong>Applications</strong> too.\nBut yet i have \n<code>Python 2.7.10 </code>\nwhen i use \n<code>Python -V </code></p>\n\n<p>How i can delete and unistall Python from my mac please?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["python", "plotly"], "comments": [{"owner": {"reputation": 3260, "user_id": 4068492, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S8_Bi57oNpI/AAAAAAAAAAI/AAAAAAAAABM/Yy25L1enIMg/photo.jpg?sz=128", "display_name": "etpinard", "link": "https://stackoverflow.com/users/4068492/etpinard"}, "edited": false, "score": 1, "creation_date": 1455890413, "post_id": 35467316, "comment_id": 58704975, "body": "Filling this as planned enhancement. Thanks for the report. Please subscribe to <a href=\"https://github.com/plotly/plotly.js/issues/265\" rel=\"nofollow noreferrer\">github.com/plotly/plotly.js/issues/265</a> for the latest development information."}, {"owner": {"reputation": 6520, "user_id": 3025981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1222441570/picture?type=large", "display_name": "Ilya V. Schurov", "link": "https://stackoverflow.com/users/3025981/ilya-v-schurov"}, "reply_to_user": {"reputation": 3260, "user_id": 4068492, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-S8_Bi57oNpI/AAAAAAAAAAI/AAAAAAAAABM/Yy25L1enIMg/photo.jpg?sz=128", "display_name": "etpinard", "link": "https://stackoverflow.com/users/4068492/etpinard"}, "edited": false, "score": 0, "creation_date": 1456048336, "post_id": 35467316, "comment_id": 58757876, "body": "@etpinard, okay, thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 6520, "user_id": 3025981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1222441570/picture?type=large", "display_name": "Ilya V. Schurov", "link": "https://stackoverflow.com/users/3025981/ilya-v-schurov"}, "edited": false, "score": 0, "creation_date": 1462624898, "post_id": 37083780, "comment_id": 61721232, "body": "Thanks, it seems to be possible solution; could you please provide code example?"}], "tags": [], "owner": {"reputation": 316, "user_id": 6302647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a5117a73202c4fa1ea54e5aab587919?s=128&d=identicon&r=PG&f=1", "display_name": "tfg250", "link": "https://stackoverflow.com/users/6302647/tfg250"}, "is_accepted": true, "score": 2, "last_activity_date": 1512176576, "last_edit_date": 1512176576, "creation_date": 1462586891, "answer_id": 37083780, "question_id": 35467316, "link": "https://stackoverflow.com/questions/35467316/rename-axes-in-plotly-3d-hover-text/37083780#37083780", "title": "Rename axes in plotly 3d hover text", "body": "<p>This is more workaround than solution, but you could define a list of strings, one item for each point on your line, where each item in the list is a string of whatever text you wanted to show when hovering (including the string <code>\"&lt;br&gt;\"</code> for a line return), then set <code>text=your_list</code> and <code>hoverinfo=\"text\"</code>.</p>\n\n<p>Like this:</p>\n\n<pre><code>from plotly.graph_objs import Scatter3d, Layout, Scene\nfrom numpy import sin, cos, linspace, pi\nfrom plotly.offline import iplot, init_notebook_mode\ninit_notebook_mode()\nt = linspace(0, 4*pi)\nyour_list=[]\nfor iter_t in t:\n    iter_string = 't:'+'%1.3f'%iter_t+'&lt;br&gt;' + 'x:'+'%1.3f'%cos(iter_t) + '&lt;br&gt;'+'y:'+'%1.3f'%sin(iter_t)\n    your_list.append(iter_string)\n\ntrace = Scatter3d(\n    x = t,\n    y = cos(t),\n    z = sin(t),\n    mode = 'lines',\n    text=your_list,\n    hoverinfo='text')\n\nlayout = Layout(width = 500, height = 500, scene = Scene(\n    xaxis = {'title': 't'},\n    yaxis = {'title': 'x'},\n    zaxis = {'title': 'y'}))\n\niplot(dict(data=[trace], layout=layout))\n</code></pre>\n\n<p>Resulting plot looks like this</p>\n\n<p><a href=\"https://i.stack.imgur.com/bJcos.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bJcos.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>You should probably be saving the computed values in the for loop in order to prevent having to compute them more than once, but you get the idea. </p>\n"}], "owner": {"reputation": 6520, "user_id": 3025981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1222441570/picture?type=large", "display_name": "Ilya V. Schurov", "link": "https://stackoverflow.com/users/3025981/ilya-v-schurov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 0, "accepted_answer_id": 37083780, "answer_count": 1, "score": 1, "last_activity_date": 1512176576, "creation_date": 1455741765, "question_id": 35467316, "link": "https://stackoverflow.com/questions/35467316/rename-axes-in-plotly-3d-hover-text", "title": "Rename axes in plotly 3d hover text", "body": "<p>I'm drawing a picture in 3D with plot.ly and I want my axes to be referenced as <code>(t, x, y)</code> instead of <code>(x, y, z)</code>. It is possible to give them different titles (under <code>Scene</code> object in case of 3D), but when I hover on the plot, I get a tooltip that ignores new titles and still uses <code>(x, y, z)</code>. Is it possible to rename them too?</p>\n\n<p>My code is</p>\n\n<pre><code>from plotly.graph_objs import Scatter3d, Layout, Scene\nfrom numpy import sin, cos, linspace, pi\nfrom plotly.offline import iplot, init_notebook_mode\ninit_notebook_mode()\n\nt = linspace(0, 4*pi)\n\ntrace = Scatter3d(\n    x = t,\n    y = cos(t),\n    z = sin(t),\n    mode = 'lines'\n)\nlayout = Layout(\n                width = 500, \n                height = 500, \n                scene = Scene(\n                    xaxis = {'title': 't'},\n                    yaxis = {'title': 'x'},\n                    zaxis = {'title': 'y'}\n                )\n)\niplot(dict(data=[trace], layout=layout))\n</code></pre>\n\n<p>When I hover on graph, I have:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ouIHM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ouIHM.png\" alt=\"tooltip\"></a></p>\n\n<p>And I want to change <code>x, y, z</code> here to <code>t, x, y</code> or anything else.</p>\n"}, {"tags": ["python", "loops", "while-loop", "factorial"], "comments": [{"owner": {"reputation": 46136, "user_id": 3890632, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNkgF.png?s=128&g=1", "display_name": "khelwood", "link": "https://stackoverflow.com/users/3890632/khelwood"}, "edited": false, "score": 0, "creation_date": 1455742019, "post_id": 35467303, "comment_id": 58630390, "body": "A <code>for</code> loop can be rewritten as a <code>while</code> loop. Set up your initial value for <code>i</code> before the loop; use the <code>while</code> condition to detect when <code>i</code> reaches its limit; increment <code>i</code> inside the loop."}], "answers": [{"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": true, "score": 5, "last_activity_date": 1455741990, "creation_date": 1455741990, "answer_id": 35467382, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/35467382#35467382", "title": "Write factorial with while loop python", "body": "<pre><code>while num &gt; 1:\n    factorial = factorial * num\n    num = num - 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 5589510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1daa57cb89948693e40c89c22f57750?s=128&d=identicon&r=PG&f=1", "display_name": "leongold", "link": "https://stackoverflow.com/users/5589510/leongold"}, "is_accepted": false, "score": 4, "last_activity_date": 1455742103, "creation_date": 1455742103, "answer_id": 35467424, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/35467424#35467424", "title": "Write factorial with while loop python", "body": "<p>If you just want to get a result: <a href=\"https://docs.python.org/2/library/math.html\" rel=\"nofollow\" title=\"math.factorial&#40;x&#41;\">math.factorial(x)</a></p>\n\n<p>While loop:</p>\n\n<pre><code>def factorial(n):\n    num = 1\n    while n &gt;= 1:\n        num = num * n\n        n = n - 1\n    return num\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9489203, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/85c77d1cc480f1ff15bdcaa5e02f69d8?s=128&d=identicon&r=PG", "display_name": "dinesh palem", "link": "https://stackoverflow.com/users/9489203/dinesh-palem"}, "is_accepted": false, "score": 0, "last_activity_date": 1521002172, "creation_date": 1521002172, "answer_id": 49269865, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/49269865#49269865", "title": "Write factorial with while loop python", "body": "<pre><code>number = int(input(\"Enter number:\"))\nfactorial = 1\nwhile number&gt;0:\n    factorial = factorial * number\n    number = number - 1\nprint(factorial)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 9815884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f06ac6bdbecc3bbbedba79185b20e426?s=128&d=identicon&r=PG", "display_name": "Max", "link": "https://stackoverflow.com/users/9815884/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1526737523, "last_edit_date": 1526737523, "creation_date": 1526736626, "answer_id": 50425814, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/50425814#50425814", "title": "Write factorial with while loop python", "body": "<p>Make it easy by using the standard library:</p>\n\n<pre><code>import math\n\nprint(math.factorial(x))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10676857, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9469c09a9997659d96fbbcb93ab3120?s=128&d=identicon&r=PG&f=1", "display_name": "aravinda Challa", "link": "https://stackoverflow.com/users/10676857/aravinda-challa"}, "is_accepted": false, "score": -1, "last_activity_date": 1542667248, "last_edit_date": 1542667248, "creation_date": 1542660600, "answer_id": 53382437, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/53382437#53382437", "title": "Write factorial with while loop python", "body": "<pre><code>a=int(input(\"enter the number : \"))\nresult = 1\ni=1\nwhile(i &lt;= a):\n    result=i*result\n    i=i+1\nprint(\"factorial of given number is \", format(result))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 12959393, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCzjma3-D3No4x-ipt8cJFkX6nG61zaydBjapVDOA=k-s128", "display_name": "Akash Rajpuria", "link": "https://stackoverflow.com/users/12959393/akash-rajpuria"}, "reply_to_user": {"reputation": 233, "user_id": 504877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/V4fAt.jpg?s=128&g=1", "display_name": "Tyn", "link": "https://stackoverflow.com/users/504877/tyn"}, "edited": false, "score": 0, "creation_date": 1591097291, "post_id": 61692303, "comment_id": 109920174, "body": "While is for a continuous loop until the condition is false, if cannot do the work of while and moreover my answer solves the given question"}], "tags": [], "owner": {"reputation": 1, "user_id": 12959393, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCzjma3-D3No4x-ipt8cJFkX6nG61zaydBjapVDOA=k-s128", "display_name": "Akash Rajpuria", "link": "https://stackoverflow.com/users/12959393/akash-rajpuria"}, "is_accepted": false, "score": -1, "last_activity_date": 1589002674, "creation_date": 1589002674, "answer_id": 61692303, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/61692303#61692303", "title": "Write factorial with while loop python", "body": "<p>I will implement the recursive function using while loop ---Factorial----<br>\n(1)It will call the fact function recursively based on while a condition</p>\n\n<pre><code>def fact(num):\n        while num&gt;1:\n            return num*fact(num-1)\n        else:\n            return num\n\n    result = fact(3)\n    print(result)\n</code></pre>\n\n<p>6</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14684548, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mX6AVQt2PGg/AAAAAAAAAAI/AAAAAAAAAAA/AMZuucmM118vsh4dGfhNG62oDyNJOXdoKw/s96-c/photo.jpg?sz=128", "display_name": "Justin Licht", "link": "https://stackoverflow.com/users/14684548/justin-licht"}, "is_accepted": false, "score": 0, "last_activity_date": 1606021612, "creation_date": 1606021612, "answer_id": 64950835, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python/64950835#64950835", "title": "Write factorial with while loop python", "body": "<p><strong>While solution</strong></p>\n<pre><code>number = 5 (choose a number you want to factorial) \nproduct = 1 (must start at 1) \niteration = 1 (starting iteration that will increase +1) \nwhile iteration &lt;= number:\n    product = product*iteration\n    iteration +=1\nprint(product)\n</code></pre>\n<p><strong>Behind the scene steps:</strong></p>\n<blockquote>\n<p>product = 1  iteration = 1  1*1 = 1</p>\n<p>product = 1  iteration =2  1*2 = 2</p>\n<p>product = 2  iteration = 3  2*3 = 6</p>\n<p>product = 6  iteration = 4 6*4 = 24</p>\n<p>product = 24  iteration = 5  24*5 = 120</p>\n</blockquote>\n"}], "owner": {"reputation": 868, "user_id": 5917999, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/wN3gf.jpg?s=128&g=1", "display_name": "R overflow", "link": "https://stackoverflow.com/users/5917999/r-overflow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48670, "favorite_count": 1, "accepted_answer_id": 35467382, "answer_count": 7, "score": 4, "last_activity_date": 1606021612, "creation_date": 1455741725, "last_edit_date": 1455741885, "question_id": 35467303, "link": "https://stackoverflow.com/questions/35467303/write-factorial-with-while-loop-python", "title": "Write factorial with while loop python", "body": "<p>I am new and do not know a lot about Python. Does anybody know how you can write a factorial in a while loop? </p>\n\n<p>I can make it in an if / elif else statement: </p>\n\n<pre><code>num = ...\nfactorial = 1\n\nif num &lt; 0:\n   print(\"must be positive\")\nelif num == 0:\n   print(\"factorial = 1\")\nelse:\n   for i in range(1,num + 1):\n       factorial = factorial*i\n   print(num, factorial)\n</code></pre>\n\n<p>But I want to do this with a while loop (no function).</p>\n"}, {"tags": ["python", "pocketsphinx", "python-gstreamer"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 3821973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e379190bddd81f134a20dd5598557c78?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/3821973/nico"}, "edited": false, "score": 0, "creation_date": 1455827167, "post_id": 35474206, "comment_id": 58676164, "body": "Thanks for your quick answer!"}], "tags": [], "owner": {"reputation": 23634, "user_id": 432021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6c16a68dfa5030f9b6df4d4ae4a337a?s=128&d=identicon&r=PG", "display_name": "Nikolay Shmyrev", "link": "https://stackoverflow.com/users/432021/nikolay-shmyrev"}, "is_accepted": true, "score": 1, "last_activity_date": 1455776214, "creation_date": 1455776214, "answer_id": 35474206, "question_id": 35467241, "link": "https://stackoverflow.com/questions/35467241/how-to-set-configuration-options-in-pocketsphinx-using-gstreamer/35474206#35474206", "title": "How to set configuration options in pocketsphinx using gstreamer", "body": "<p>You need to modify plugin sources to introduce new properties:</p>\n\n<pre><code>g_object_class_install_property\n    (gobject_class, PROP_KEYPHRASE,\n     g_param_spec_string(\"keyphrase\", \"Keyspotting phrase\",\n                         \"Keyspotting phrase\",\n                         NULL,\n                         G_PARAM_READWRITE));\n\n ....\n\n\ncase PROP_KEYPHRASE:\n    gst_pocketsphinx_set_string(ps, \"-keyphrase\", value);\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 3821973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e379190bddd81f134a20dd5598557c78?s=128&d=identicon&r=PG&f=1", "display_name": "Nico", "link": "https://stackoverflow.com/users/3821973/nico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 35474206, "answer_count": 1, "score": 0, "last_activity_date": 1455776214, "creation_date": 1455741512, "question_id": 35467241, "link": "https://stackoverflow.com/questions/35467241/how-to-set-configuration-options-in-pocketsphinx-using-gstreamer", "title": "How to set configuration options in pocketsphinx using gstreamer", "body": "<p>Probably a very silly question, but I cannot find a solution anywhere.\nWhen I run 'gst-inspect-1.0 pocketsphinx' I get something like:</p>\n\n<pre><code>Current configuration:\n[NAME]          [DEFLT]     [VALUE]\n-agc            none        none\n-agcthresh      2.0     2.000000e+00\n-allphone               \n...\n\nElement Properties:\n  name                : The name of the object\n                        flags: readable, writable\n                        String. Default: \"pocketsphinx0\"\n...\n</code></pre>\n\n<p>I know how to set values for the 'element properties', but how do I set values for the other configuration options?  e.g. I'd like to set a value for 'keyphrase' but doing something like</p>\n\n<pre><code>asr.set_property(\"keyphrase\", \"test\")\n</code></pre>\n\n<p>or</p>\n\n<pre><code>asr.set_property(\"-keyphrase\", \"test\")\n</code></pre>\n\n<p>returns</p>\n\n<pre><code>TypeError: object of type `GstPocketSphinx' does not have property `keyphrase'\n</code></pre>\n"}, {"tags": ["python", "matplotlib", "visualization", "bar-chart", "seaborn"], "comments": [{"owner": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 1, "creation_date": 1455751221, "post_id": 35467188, "comment_id": 58635024, "body": "I&#39;m not sure what you mean by &quot;each individual bar&quot;. Do you mean you want every bar to have hatches, or you want different bars to have different hatches?"}, {"owner": {"reputation": 182, "user_id": 4826914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlOF9.jpg?s=128&g=1", "display_name": "kxirog", "link": "https://stackoverflow.com/users/4826914/kxirog"}, "reply_to_user": {"reputation": 35611, "user_id": 1533576, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7cd43cc3fa88edc6f2dbdad5fcbc85c1?s=128&d=identicon&r=PG", "display_name": "mwaskom", "link": "https://stackoverflow.com/users/1533576/mwaskom"}, "edited": false, "score": 0, "creation_date": 1455752144, "post_id": 35467188, "comment_id": 58635389, "body": "@mwaskom Thanks for the reply! I need different bars to have different hatches. You can set all bars to have the same hatch by just passing <code>hatch=&#39;&#47;&#47;&#39;</code> in sns.barplot. No idea how to have different hatches in different bars though.."}], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 4826914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlOF9.jpg?s=128&g=1", "display_name": "kxirog", "link": "https://stackoverflow.com/users/4826914/kxirog"}, "edited": false, "score": 1, "creation_date": 1455819208, "post_id": 35477440, "comment_id": 58671600, "body": "Thanks a lot, that&#39;s exactly what I was looking for! Do you think there is a way to add the hatches to the legend as well?"}, {"owner": {"reputation": 182, "user_id": 4826914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlOF9.jpg?s=128&g=1", "display_name": "kxirog", "link": "https://stackoverflow.com/users/4826914/kxirog"}, "edited": false, "score": 8, "creation_date": 1455851560, "post_id": 35477440, "comment_id": 58685497, "body": "Just as so every one knows, because it took me a bit to figure it out: <code>for i,thisbar in enumerate(bar.patches):</code> iterates over each color at a time fron left to right, so it will iterate over the left blue bar, then the right blue bar, then the left green bar etc..."}, {"owner": {"reputation": 644, "user_id": 5125206, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-DWclhD0mhws/AAAAAAAAAAI/AAAAAAAABwU/Gurbwp-_k30/photo.jpg?sz=128", "display_name": "lostsoul29", "link": "https://stackoverflow.com/users/5125206/lostsoul29"}, "reply_to_user": {"reputation": 182, "user_id": 4826914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlOF9.jpg?s=128&g=1", "display_name": "kxirog", "link": "https://stackoverflow.com/users/4826914/kxirog"}, "edited": false, "score": 1, "creation_date": 1470428942, "post_id": 35477440, "comment_id": 64964934, "body": "@kxirog Just put <code>ax.legend()</code> after adding the hatches and before <code>plt.show()</code>."}, {"owner": {"reputation": 2375, "user_id": 2745116, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d6e52cda3e0dccbd57c3020a3e6cecfa?s=128&d=identicon&r=PG&f=1", "display_name": "CGFoX", "link": "https://stackoverflow.com/users/2745116/cgfox"}, "edited": false, "score": 0, "creation_date": 1607948122, "post_id": 35477440, "comment_id": 115423377, "body": "For <code>box = sns.boxplot</code> use <code>box.artists</code> instead of <code>.patches</code>."}], "tags": [], "owner": {"reputation": 49128, "user_id": 588071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d0e0397d27c84e04451691ddb6c8d49c?s=128&d=identicon&r=PG&f=1", "display_name": "tmdavison", "link": "https://stackoverflow.com/users/588071/tmdavison"}, "is_accepted": true, "score": 19, "last_activity_date": 1527674514, "last_edit_date": 1527674514, "creation_date": 1455787564, "answer_id": 35477440, "question_id": 35467188, "link": "https://stackoverflow.com/questions/35467188/is-it-possible-to-add-hatches-to-each-individual-bar-in-seaborn-barplot/35477440#35477440", "title": "Is it possible to add hatches to each individual bar in seaborn.barplot?", "body": "<p>You can loop over the bars created by catching the <code>AxesSubplot</code> returned by <code>barplot</code>, then looping over its <code>patches</code>. You can then set hatches for each individual bar using <code>.set_hatch()</code></p>\n\n<p>Here's a minimal example, which is a modified version of the barplot example from <a href=\"https://stanford.edu/~mwaskom/software/seaborn/tutorial/categorical.html#bar-plots\" rel=\"noreferrer\">here</a>.</p>\n\n<pre><code>import matplotlib.pyplot as plt\nimport seaborn as sns\n\n# Set style\nsns.set(style=\"whitegrid\", color_codes=True)\n\n# Load some sample data\ntitanic = sns.load_dataset(\"titanic\")\n\n# Make the barplot\nbar = sns.barplot(x=\"sex\", y=\"survived\", hue=\"class\", data=titanic);\n\n# Define some hatches\nhatches = ['-', '+', 'x', '\\\\', '*', 'o']\n\n# Loop over the bars\nfor i,thisbar in enumerate(bar.patches):\n    # Set a different hatch for each bar\n    thisbar.set_hatch(hatches[i])\n\nplt.show()\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/kFiTD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/kFiTD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks to @kxirog in the comments for this additional info:</p>\n\n<p><code>for i,thisbar in enumerate(bar.patches)</code> will iterate over each colour at a time from left to right, so it will iterate over the left blue bar, then the right blue bar, then the left green bar, etc.</p>\n"}], "owner": {"reputation": 182, "user_id": 4826914, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlOF9.jpg?s=128&g=1", "display_name": "kxirog", "link": "https://stackoverflow.com/users/4826914/kxirog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6637, "favorite_count": 2, "accepted_answer_id": 35477440, "answer_count": 1, "score": 9, "last_activity_date": 1527674514, "creation_date": 1455741327, "question_id": 35467188, "link": "https://stackoverflow.com/questions/35467188/is-it-possible-to-add-hatches-to-each-individual-bar-in-seaborn-barplot", "title": "Is it possible to add hatches to each individual bar in seaborn.barplot?", "body": "<pre><code>ax = sns.barplot(x=\"size\", y=\"algorithm\", hue=\"ordering\", data=df2, palette=sns.color_palette(\"cubehelix\", 4))\n</code></pre>\n\n<p>After (or before) creating a seaborn barplot, is there a way for me to pass in hatch (fill in patterns along with the colors) values for each bar? \nA way to do this in <code>seaborn</code> or <code>matplotlib</code> would help a lot!</p>\n"}, {"tags": ["python", "python-2.7", "bitbake", "openembedded"], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 1216965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83546302f158b9216ad4f4d92eb82ded?s=128&d=identicon&r=PG", "display_name": "neowulf33", "link": "https://stackoverflow.com/users/1216965/neowulf33"}, "edited": false, "score": 0, "creation_date": 1455784044, "post_id": 35468587, "comment_id": 58646752, "body": "So, how would one &quot;extend / modify&quot; the required file defined in a bb file?"}], "tags": [], "owner": {"reputation": 595, "user_id": 1216965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83546302f158b9216ad4f4d92eb82ded?s=128&d=identicon&r=PG", "display_name": "neowulf33", "link": "https://stackoverflow.com/users/1216965/neowulf33"}, "is_accepted": false, "score": 0, "last_activity_date": 1455746159, "creation_date": 1455746159, "answer_id": 35468587, "question_id": 35467137, "link": "https://stackoverflow.com/questions/35467137/how-do-i-add-python-contextlib-to-python-2-7-3-bbappend/35468587#35468587", "title": "How do I add python-contextlib to python_2.7.3.bbappend?", "body": "<p>Looks like this person is also having a similar issue - <a href=\"http://permalink.gmane.org/gmane.linux.embedded.yocto.general/21170\" rel=\"nofollow\">http://permalink.gmane.org/gmane.linux.embedded.yocto.general/21170</a></p>\n\n<p>I manually verified this. I added the contents of the <code>python_2.7.3.bbappend</code> at the end of the <code>python_2.7.3.bb</code> file which didn't work.</p>\n\n<p>I then added the contents of the <code>python_2.7.3.bbappend</code> at the end of the python-2.7-manifest.inc file which worked.</p>\n"}, {"comments": [{"owner": {"reputation": 595, "user_id": 1216965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83546302f158b9216ad4f4d92eb82ded?s=128&d=identicon&r=PG", "display_name": "neowulf33", "link": "https://stackoverflow.com/users/1216965/neowulf33"}, "edited": false, "score": 0, "creation_date": 1455896465, "post_id": 35478368, "comment_id": 58709215, "body": "Yes it is definitely an ordering issue. I will try with prepending the package. Do you happen to know the history behind the split. It seems contextlib package is critical as it provides a convenient syntax sugar. Thanks."}, {"owner": {"reputation": 3208, "user_id": 1389358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000245bcb0910007a54d67e5ba34f1ef?s=128&d=identicon&r=PG", "display_name": "Ross Burton", "link": "https://stackoverflow.com/users/1389358/ross-burton"}, "reply_to_user": {"reputation": 595, "user_id": 1216965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83546302f158b9216ad4f4d92eb82ded?s=128&d=identicon&r=PG", "display_name": "neowulf33", "link": "https://stackoverflow.com/users/1216965/neowulf33"}, "edited": false, "score": 0, "creation_date": 1456166186, "post_id": 35478368, "comment_id": 58810709, "body": "Anything that isn&#39;t in a package explicitly goes into -misc.  As new modules got added to Python over the years, some modules didn&#39;t get moved to new modules or were left in misc.  contextlib is still packaged, it&#39;s just not split out into its own (tiny) package."}], "tags": [], "owner": {"reputation": 3208, "user_id": 1389358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/000245bcb0910007a54d67e5ba34f1ef?s=128&d=identicon&r=PG", "display_name": "Ross Burton", "link": "https://stackoverflow.com/users/1389358/ross-burton"}, "is_accepted": true, "score": 1, "last_activity_date": 1455789923, "creation_date": 1455789923, "answer_id": 35478368, "question_id": 35467137, "link": "https://stackoverflow.com/questions/35467137/how-do-i-add-python-contextlib-to-python-2-7-3-bbappend/35478368#35478368", "title": "How do I add python-contextlib to python_2.7.3.bbappend?", "body": "<p>Your first bitbake is failing because bitbake takes recipe names, not runtime package names.</p>\n\n<p>If you really want contextlib split out into a separate package then I'd just cherry-pick 27dbacdb88ee3e79f4c95a779d8a7e8c5c8f941d and b6b9df15a630605619bff060d5073272685058d6 (from oe-core).</p>\n\n<p>The problem here is likely ordering, you're putting PN-contextlib after the manifest inc has taken everything else.  Use PACKAGES =+ to prepend instead of append.</p>\n\n<p>Note that contextlib is packaged without this append, likely in the python-misc package, so I do wonder why so many people desperately want it split out.</p>\n"}], "owner": {"reputation": 595, "user_id": 1216965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/83546302f158b9216ad4f4d92eb82ded?s=128&d=identicon&r=PG", "display_name": "neowulf33", "link": "https://stackoverflow.com/users/1216965/neowulf33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 35478368, "answer_count": 2, "score": 0, "last_activity_date": 1455789923, "creation_date": 1455741160, "last_edit_date": 1455784293, "question_id": 35467137, "link": "https://stackoverflow.com/questions/35467137/how-do-i-add-python-contextlib-to-python-2-7-3-bbappend", "title": "How do I add python-contextlib to python_2.7.3.bbappend?", "body": "<p>In my <code>custom-layer/recipes-devtools/python/python_2.7.3.bbappend</code>, I have the following contents</p>\n\n<pre><code>PROVIDES+=\"${PN}-contextlib \"\n\nPACKAGES+=\"${PN}-contextlib \"\n\nSUMMARY_${PN}-contextlib=\"Python utilities for with-statementcontexts.\"\nRDEPENDS_${PN}-contextlib=\"${PN}-core \"\nFILES_${PN}-contextlib=\"${libdir}/python2.7/contextlib.* \"\n\nRDEPENDS_${PN}-modules+= \"${PN}-contextlib \"\n</code></pre>\n\n<p>When I execute <code>bitbake -f python-contextlib</code> - nothing fails.</p>\n\n<p>When I add python-contextlib as a RDEPEND within another recipe, it fails as in \u201cno package provides python-contextlib\u201d when the <code>do_rootfs</code> task is executed.</p>\n\n<p>When I build python, I do see the file contextlib.py exists when I go into python devshell. So, it seems like the bbappend file is correctly being picked up. The <code>bitbake-layers show-appends</code> also confirms that the bbappend file is getting picked up.</p>\n\n<p>How can I fix this issue?</p>\n"}, {"tags": ["python", "flask"], "answers": [{"tags": [], "owner": {"reputation": 97255, "user_id": 400617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aa7ef250a486833a8c6c933c523b282?s=128&d=identicon&r=PG", "display_name": "davidism", "link": "https://stackoverflow.com/users/400617/davidism"}, "is_accepted": true, "score": 2, "last_activity_date": 1455741724, "creation_date": 1455741724, "answer_id": 35467302, "question_id": 35467066, "link": "https://stackoverflow.com/questions/35467066/accessing-flask-apps-config-gives-module-object-has-no-attribute-getitem/35467302#35467302", "title": "Accessing flask app&#39;s config gives &quot;module object has no attribute __getitem__&quot;", "body": "<p>You have a package named <code>app</code>, and import a module named <code>config</code>.  The <code>app</code> module also defines a variable named <code>app</code>, which has an attribute named <code>config</code>.  You imported the wrong <code>app</code>.</p>\n\n<pre><code>from app import app\napp.config['SECRET_KEY']\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 5125027, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/10153391766200552/picture?type=large", "display_name": "Steven Kwok", "link": "https://stackoverflow.com/users/5125027/steven-kwok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4470, "favorite_count": 0, "closed_date": 1455779790, "accepted_answer_id": 35467302, "answer_count": 1, "score": 0, "last_activity_date": 1455741771, "creation_date": 1455740925, "last_edit_date": 1455741771, "question_id": 35467066, "link": "https://stackoverflow.com/questions/35467066/accessing-flask-apps-config-gives-module-object-has-no-attribute-getitem", "closed_reason": "Not suitable for this site", "title": "Accessing flask app&#39;s config gives &quot;module object has no attribute __getitem__&quot;", "body": "<p>I'm trying to implement email authentication to my flask app where users must confirm their email address upon completely the online registration process. I m guessing maybe it's the way i setup the config in my app.py or i should modify my config.py? Any thoughts?</p>\n\n<p>This is my app.py</p>\n\n<pre><code>....\nimport config\n\napp = Flask(__name__)\n\n# Import configuration\napp.config.from_object(config.DevelopmentConfig)\n\n# Initialize extensions\nlm = LoginManager()\nlm.session_protection = 'strong'\nlm.init_app(app)\nbootstrap = Bootstrap(app)\ndb = SQLAlchemy(app)\nmigrate = Migrate(app, db)\nmanager = Manager(app)\nmanager.add_command('db', MigrateCommand)\nmoment = Moment(app)\nmail = Mail(app)\n......\n</code></pre>\n\n<p>This is my token.py</p>\n\n<pre><code>from itsdangerous import URLSafeTimedSerializer\nimport app\n\n\ndef generate_confirmation_token(email):\n    serializer = URLSafeTimedSerializer(app.config['SECRET_KEY'])\n    return serializer.dumps(email, salt=app.config['SECRET_PASSWORD_SALT'])\n\ndef confirm_token(token, expiration=3600):\n    serializer = URLSafeTimedSerializer(app.config['SECRET_KEY'])\n    try:\n        email = serializer.loads(token, salt=app.config['SECRET_PASSWORD_SALT'], max_age=expiration)\n    except:\n        return False\n    return email\n</code></pre>\n\n<p>This is the error log generated by flask debug</p>\n\n<pre><code>TypeError\nTypeError: 'module' object has no attribute '__getitem__'\n\nTraceback (most recent call last)\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1836, in __call__\nreturn self.wsgi_app(environ, start_response)\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1820, in wsgi_app\nresponse = self.make_response(self.handle_exception(e))\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1403, in handle_exception\nreraise(exc_type, exc_value, tb)\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1817, in wsgi_app\nresponse = self.full_dispatch_request()\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1477, in full_dispatch_request\nrv = self.handle_user_exception(e)\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1381, in handle_user_exception\nreraise(exc_type, exc_value, tb)\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1475, in full_dispatch_request\nrv = self.dispatch_request()\nFile \"/usr/lib/python2.7/dist-packages/flask/app.py\", line 1461, in dispatch_request\nreturn self.view_functions[rule.endpoint](**req.view_args)\nFile \"/vagrant/catalog/app/main/routes.py\", line 20, in index\ntoken = generate_confirmation_token(user.email)\nFile \"/vagrant/catalog/app/token.py\", line 6, in generate_confirmation_token\nserializer = URLSafeTimedSerializer(app.config['SECRET_KEY'])\nTypeError: 'module' object has no attribute '__getitem__'\n</code></pre>\n"}, {"tags": ["python", "recursion", "scope"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 5, "creation_date": 1455741164, "post_id": 35467064, "comment_id": 58629932, "body": "The nested function shadows the one in which it&#39;s nested. It will work fine, but seems unnecessarily confusing."}, {"owner": {"reputation": 44495, "user_id": 3058609, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/2c0357556707713572abbf637a907ef9?s=128&d=identicon&r=PG&f=1", "display_name": "Adam Smith", "link": "https://stackoverflow.com/users/3058609/adam-smith"}, "edited": false, "score": 0, "creation_date": 1455741490, "post_id": 35467064, "comment_id": 58630112, "body": "as a recommendation, you could name the inner function <code>_standardize</code> instead. That&#39;s my normal convention."}], "answers": [{"tags": [], "owner": {"reputation": 1879, "user_id": 1695866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d44a90f9a75078775b62fdc03a361c5?s=128&d=identicon&r=PG", "display_name": "svohara", "link": "https://stackoverflow.com/users/1695866/svohara"}, "is_accepted": true, "score": 3, "last_activity_date": 1455821260, "last_edit_date": 1455821260, "creation_date": 1455741763, "answer_id": 35467314, "question_id": 35467064, "link": "https://stackoverflow.com/questions/35467064/helper-function-with-same-name-as-main-function/35467314#35467314", "title": "Helper function with same name as main function?", "body": "<p>To answer \"How does the interpreter know which version of the standardize function to use...\", it's based on scoping rules in the language.</p>\n\n<p>In most languages, names (identifiers to functions, variables, etc.) are resolved from the local scope first, then if not found, progressing to the next outer level, etc.</p>\n\n<p>In this case, you have two definitions for the \"standardize\" function -- the first is defined in the global scope of the interpreter, the second is defined inside the scope of the first. When you call <code>df.apply(standardize)</code>, the name \"standardize\" is resolved to the locally defined function (the second) because the local scope is searched prior to looking at outer scopes.</p>\n"}], "owner": {"reputation": 931, "user_id": 4981721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b610b64b2751a48c254de5f94d8e901a?s=128&d=identicon&r=PG&f=1", "display_name": "Niels Hameleers", "link": "https://stackoverflow.com/users/4981721/niels-hameleers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 35467314, "answer_count": 1, "score": 2, "last_activity_date": 1455825569, "creation_date": 1455740919, "last_edit_date": 1455825569, "question_id": 35467064, "link": "https://stackoverflow.com/questions/35467064/helper-function-with-same-name-as-main-function", "title": "Helper function with same name as main function?", "body": "<p>While working on the <a href=\"https://www.udacity.com/course/intro-to-data-analysis--ud170\" rel=\"nofollow\"><em>Intro to data analysis</em></a> course on Udacity I stumbled upon the following. When writing the function below I did not realize I named the helper function <code>standardize(series)</code> the same as the main function <code>standardize(df)</code>. To my surprise the function worked fine.</p>\n\n<p>How does the interpreter know which version of the standardize function to use when I use it in <code>df.apply(standardize)</code>? Does it have anything to do with the class of the argument (series vs df)? Why doesn't it try to use recursion? Or if it does, I cannot seem to conceptualize how that works out step by step.</p>\n\n<pre><code>grades_df = pd.DataFrame(\n    data={'exam1': [43, 81, 78, 75, 89, 70, 91, 65, 98, 87],\n          'exam2': [24, 63, 56, 56, 67, 51, 79, 46, 72, 60]},\n    index=['Andre', 'Barry', 'Chris', 'Dan', 'Emilio', \n           'Fred', 'Greta', 'Humbert', 'Ivan', 'James']\n)\ndef standardize(df):\n    '''\n    Fill in this function to standardize each column of the given\n    DataFrame. To standardize a variable, convert each value to the\n    number of standard deviations it is above or below the mean.\n    '''\n    def standardize(series):\n        return (series - series.mean())/series.std(ddof = 0)\n    return df.apply(standardize)\n\nstandardize(grades_df)\n</code></pre>\n"}, {"tags": ["python"], "answers": [{"tags": [], "owner": {"reputation": 1170, "user_id": 2287853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9uCw.jpg?s=128&g=1", "display_name": "Steve Byrne", "link": "https://stackoverflow.com/users/2287853/steve-byrne"}, "is_accepted": false, "score": 1, "last_activity_date": 1455743522, "last_edit_date": 1495541254, "creation_date": 1455743522, "answer_id": 35467851, "question_id": 35467060, "link": "https://stackoverflow.com/questions/35467060/python-fail-to-install-on-windows-8-1/35467851#35467851", "title": "Python fail to install on windows 8.1", "body": "<p>Make sure Windows is updated. Some have had the same error <a href=\"https://stackoverflow.com/questions/32673097/python-windows-7-installation-fail-0x80240017\">here</a>. If that does not work please update your answer with more information such as: the installer log, the windows event log (related items only if you could), and try rebooting/re-downloading the correct Python version for you. Also, what version of python are you using?</p>\n"}], "owner": {"reputation": 11, "user_id": 4699068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f99e1fb521935d993a1b66baaa6a0b67?s=128&d=identicon&r=PG&f=1", "display_name": "Haruna Yakubu", "link": "https://stackoverflow.com/users/4699068/haruna-yakubu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1455743522, "creation_date": 1455740916, "last_edit_date": 1455743253, "question_id": 35467060, "link": "https://stackoverflow.com/questions/35467060/python-fail-to-install-on-windows-8-1", "title": "Python fail to install on windows 8.1", "body": "<p>I'm currently learning web development with Python and Django. But the hard disk of my system failed and it has been replaced. I then tried to reinstall the Python but it fails to install. This is what I get as response:</p>\n\n<blockquote>\n  <p>\"One or more issues caused the setup to fail. Please fix the issues and then retry setup. 0x80240017 - unspecified error\". </p>\n</blockquote>\n\n<p>What does this error mean?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 1, "creation_date": 1455741674, "post_id": 35467046, "comment_id": 58630206, "body": "Your question is a little vague.  Where, exactly, are the checks performed?  You posted the check function itself, but not <i>where the function is called from</i>.  Also, what is being checked?  If you&#39;re verifying a typed code and also a code stored in a file, wouldn&#39;t you <b>have</b> to verify both of them?"}, {"owner": {"reputation": 11, "user_id": 5915590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-n9qUnSxx5Gg/AAAAAAAAAAI/AAAAAAAAABE/SprqJjF07KY/photo.jpg?sz=128", "display_name": "Wolf", "link": "https://stackoverflow.com/users/5915590/wolf"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455758761, "post_id": 35467046, "comment_id": 58637517, "body": "Where it says in the code..."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455773608, "post_id": 35467046, "comment_id": 58641919, "body": "Ah, I see it now.  But still, that&#39;s only one call; you said there were two.  Where is the other one?"}, {"owner": {"reputation": 11, "user_id": 5915590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-n9qUnSxx5Gg/AAAAAAAAAAI/AAAAAAAAABE/SprqJjF07KY/photo.jpg?sz=128", "display_name": "Wolf", "link": "https://stackoverflow.com/users/5915590/wolf"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455798767, "post_id": 35467046, "comment_id": 58656529, "body": "So the first one at the top is gtin8 = input and the second food = input, the second one then aligns with the data from the text file"}], "owner": {"reputation": 11, "user_id": 5915590, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-n9qUnSxx5Gg/AAAAAAAAAAI/AAAAAAAAABE/SprqJjF07KY/photo.jpg?sz=128", "display_name": "Wolf", "link": "https://stackoverflow.com/users/5915590/wolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455740954, "creation_date": 1455740863, "last_edit_date": 1455740954, "question_id": 35467046, "link": "https://stackoverflow.com/questions/35467046/how-to-remove-an-unwanted-check", "title": "How to remove an unwanted check", "body": "<p>In my code I have a check function which makes ensures the user enters the correct code. The only thing is it occurs twice; once when it asks the user for it in order to validate it and again when it is needed to retrieve something from the text file.</p>\n\n<pre><code>def gtin8check():\n    valid = False\n    while not valid:\n        gtin8 = input(\"Please enter your 8 digit GTIN product code.\") #Prompt user for the GTIN code\n        if gtin8.isdigit(): #Numbers will only be accepted as an answer, if the user types in letters they will be asked to type it out again\n            if len(gtin8) != 8:\n                print(\"Please enter 8 digits, numbers only.\")\n                gtin8check()\n            else:\n                answer = ((int(gtin8[0])*3)+(int(gtin8[1]))+(int(gtin8[2])*3)+(int(gtin8[3]))+(int(gtin8[4])*3)+(int(gtin8[5]))+(int(gtin8[6])*3)+(int(gtin8[7]))) #Multiply the first 7 digits by 3 and 1 alternately\n                if answer/10 == int(answer/10):\n                    print(\"GTIN Code is valid.\") \n                    valid = True\n                else:\n                    print(\"This GTIN Code is not valid, please re-enter a valid code.\")\n                    valid = False\n        else:\n            print(\"Please enter 8 digits, numbers only.\")\n            valid = False\ngtin8check()\n\n\ndef receipt():\n    food = input(\"Enter the product code for the item you want.\")\n\n    fi = open(\"data.txt\",\"r\")\n    info = fi.readlines()\n    fi.close()\n\n    price = (li.split(\":\")[2])\n\n    item = False \n    for li in info:\n        if(li.split(\":\")[0].lower() == food):\n            print(li.split(\":\")[1])\n            item = True\n            quantity = input(\"How many do you want?\")        \n            print(\"\u00a3\" + quantity)\nreceipt()\n</code></pre>\n\n<p>How could I remove one of the checks and incorporate it into the other?</p>\n"}, {"tags": ["python", "network-programming"], "comments": [{"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455740940, "post_id": 35466995, "comment_id": 58629824, "body": "an ethernet wire only has 2 ends ..."}, {"owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455742634, "post_id": 35466995, "comment_id": 58630742, "body": "that is what the switch is for I beleive"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455746774, "post_id": 35466995, "comment_id": 58633063, "body": "are you using a switch or a router? if its a router it should already have its own dhcp server? is this actually connected to the internet or just a local lan?"}, {"owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455794329, "post_id": 35466995, "comment_id": 58653591, "body": "It&#39;ll be a local lan without internet connection. Using just a regular switch."}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455814622, "post_id": 35466995, "comment_id": 58668641, "body": "hadcode the ip of your device and run a socket server ... the other computers will need to know your ip ..."}, {"owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455815980, "post_id": 35466995, "comment_id": 58669578, "body": "Yeah that&#39;s what I was planning. The problem is, from what I gather I&#39;ll need to set them all on the same subnet and give them ips manually. Since the computers are gonna be different each time, I dont want to have to do that with every single one, so I was looking for a way to do it from within python"}, {"owner": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455816821, "post_id": 35466995, "comment_id": 58670099, "body": "this sounds like a flawed design in general ... there is probably a better way... if you use a router instead of a switch for example then they will all aquire their ip from the routers DHCP server (which will (more or less) ensure that they are on the same network ...)"}, {"owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "reply_to_user": {"reputation": 92930, "user_id": 541038, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/a3a82559ae1ee7ec304fdbae095f063c?s=128&d=identicon&r=PG", "display_name": "Joran Beasley", "link": "https://stackoverflow.com/users/541038/joran-beasley"}, "edited": false, "score": 0, "creation_date": 1455895137, "post_id": 35466995, "comment_id": 58708319, "body": "Could I not set up a DHCP server on the computer which will be hosting the server? Switch has already been ordered :/"}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "edited": false, "score": 0, "creation_date": 1455897800, "post_id": 35467331, "comment_id": 58710143, "body": "Thanks for your answer, I feel like it&#39;s pointing me in the right direction, but I&#39;m a bit of a noob at network stuff. So presumably I&#39;d want to set up the DHCP server on the main computer that is distributing the data - but then how would the new computers know which subnet to be on in order to connect to the server computer?"}, {"owner": {"reputation": 795, "user_id": 5589510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1daa57cb89948693e40c89c22f57750?s=128&d=identicon&r=PG&f=1", "display_name": "leongold", "link": "https://stackoverflow.com/users/5589510/leongold"}, "reply_to_user": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "edited": false, "score": 0, "creation_date": 1455898463, "post_id": 35467331, "comment_id": 58710563, "body": "They don&#39;t need to know the subnet.   As long as their NIC&#39;s are set to DHCP, the protocol takes care of them being discovered on the network (via the <a href=\"https://en.wikipedia.org/wiki/Broadcast_address\" rel=\"nofollow noreferrer\">broadcast address</a>).   Once they&#39;re discovered, a DHCP request is sent. In return, the client receives whatever is set in the DHCP server (IP address, default gateway address, DNS address (optional))."}], "tags": [], "owner": {"reputation": 795, "user_id": 5589510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1daa57cb89948693e40c89c22f57750?s=128&d=identicon&r=PG&f=1", "display_name": "leongold", "link": "https://stackoverflow.com/users/5589510/leongold"}, "is_accepted": false, "score": 1, "last_activity_date": 1455741847, "creation_date": 1455741847, "answer_id": 35467331, "question_id": 35466995, "link": "https://stackoverflow.com/questions/35466995/setting-ip-and-subnet-in-python/35467331#35467331", "title": "Setting IP and Subnet in python", "body": "<p>You need a DHCP server and people's NIC's to retrieve their network configuration automatically.</p>\n\n<p>Windows:</p>\n\n<pre><code>netsh interface ip set address \"Local Area Connection\" dhcp\n</code></pre>\n\n<p>Debian (/etc/network/interfaces):</p>\n\n<pre><code>auto eth0\niface eth0 inet dhcp\n</code></pre>\n\n<p>Red Hat (/etc/sysconfig/network-scripts/ifcfg-eth0):</p>\n\n<pre><code>DEVICE=eth0\nBOOTPROTO=dhcp\nONBOOT=yes\n</code></pre>\n\n<p>I suppose you could use Python or whatever language you're convenient in to fetch the relevant interface's name, as they're not guaranteed to be named \"eth0\" or \"Local Area Connection\", e.g. subprocess.Popen(\"cat /proc/net/dev/\").</p>\n"}], "owner": {"reputation": 144, "user_id": 3088440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ecbb7e290387c4a70a4c94ae8b49b23?s=128&d=identicon&r=PG&f=1", "display_name": "user3088440", "link": "https://stackoverflow.com/users/3088440/user3088440"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1455741847, "creation_date": 1455740691, "question_id": 35466995, "link": "https://stackoverflow.com/questions/35466995/setting-ip-and-subnet-in-python", "title": "Setting IP and Subnet in python", "body": "<p>I've been doing the programming for a start up company I know to get some experience. I've been told I'll need to relay data from my original piece of software running on one computer to 8 others using ethernet. Bear in mind I haven't really done much network stuff before.</p>\n\n<p>I see that I'll need the python socket module so I've learned a bit of that. I also get that I'll need a network switch hardware-wise.</p>\n\n<p>What I'm unsure about is how I set up the network in the first place. I get that I can do this via Device Manager but setting all computers to the same subnet and different IP addresses. However, the idea is that people will bring their laptops to be connected, so I don't want to have to mess around with each laptop to connect it to the network. So is there a way of doing this directly in Python so that I can just write it in the program that I'll have running on each laptop?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["python", "c++", "callback", "swig"], "comments": [{"owner": {"reputation": 35327, "user_id": 27678, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/7496124d499d578df1e3a6ff85e7ae03?s=128&d=identicon&r=PG", "display_name": "AndyG", "link": "https://stackoverflow.com/users/27678/andyg"}, "edited": false, "score": 0, "creation_date": 1455741692, "post_id": 35466991, "comment_id": 58630217, "body": "Unfortunately passing a callback function from Python to C++ via SWIG is not very well supported yet. There&#39;d a fair number of swig code you&#39;d need to hand-write, and I believe there are a few attempts at it."}], "answers": [{"tags": [], "owner": {"reputation": 1271, "user_id": 4121210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lLgLn.jpg?s=128&g=1", "display_name": "El Sampsa", "link": "https://stackoverflow.com/users/4121210/el-sampsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1456415112, "last_edit_date": 1456415112, "creation_date": 1455894275, "answer_id": 35508383, "question_id": 35466991, "link": "https://stackoverflow.com/questions/35466991/calling-python-objects-method-from-c/35508383#35508383", "title": "Calling python object&#39;s method from c++", "body": "<p>Using in the constructor</p>\n\n<pre><code>po=this-&gt;po\n</code></pre>\n\n<p>solves the \"issue\". Sorry for the spam! I will leave here this thing as an example.. maybe someone finds it useful.</p>\n"}], "owner": {"reputation": 1271, "user_id": 4121210, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lLgLn.jpg?s=128&g=1", "display_name": "El Sampsa", "link": "https://stackoverflow.com/users/4121210/el-sampsa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 817, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1456415112, "creation_date": 1455740683, "last_edit_date": 1495535307, "question_id": 35466991, "link": "https://stackoverflow.com/questions/35466991/calling-python-objects-method-from-c", "title": "Calling python object&#39;s method from c++", "body": "<p>I am trying to achieve the following: passing a python object to a c++ callback chain (which are typical in many popular c++ libraries).  In the c++ code, callbacks pass on objects that have necessary information for consecutive callbacks in the cascade/chain.</p>\n\n<p>Here is a small test code I wrote: we pass a python object to a c routine (case 1) and call it's method.  That works ok.  But when I pass the python object to a c++ object and try to call it \"inside\" the c++ object, I get segfault.. :(</p>\n\n<p>Here it goes:</p>\n\n<p>c++ module (\"some.cpp\"):</p>\n\n<pre><code>#include &lt;stdint.h&gt;\n#include &lt;iostream&gt;\n#include &lt;Python.h&gt;\n\n/* objective:\n* create c++ objects / routines that accept python objects\n* then call methods of the python objects inside c++\n* \n* python objects (including its variables and methods) could be passed along, for example in c++ callback chains ..\n* .. and in the end we could call a python callback\n*\n* Compile and test as follows:\n* python setup.py build_ext\n* [copy/link some.so where test.py is]\n* python test.py\n* \n*/\n\nclass testclass {\n\npublic:  \ntestclass(int* i, PyObject* po) {\n  std::cerr &lt;&lt; \"testclass constructor! \\n\";\n  i=i; po=po; \n}\n~testclass() {}\n\nvoid runpo() {\n  PyObject* name;\n  const char* mname=\"testmethod\"; \n  name=PyString_FromString(mname);\n  std::cerr &lt;&lt; \"about to run the python method .. \\n\";\n  PyObject_CallMethodObjArgs(po, name, NULL);\n  std::cerr &lt;&lt; \".. you did it - i will buy you a beer!\\n\";\n}\n\npublic:\n  int* i;\n  PyObject* po;\n};\n\n\n/* Docstrings */\nstatic char module_docstring[] = \"hand-made python module\";\n\n/* Available functions */\nstatic PyObject* regi_wrapper(PyObject * self, PyObject * args);\nvoid regi(int* i, PyObject* po);\n\n/* Module specification */\nstatic PyMethodDef module_methods[] = {\n{\"regi_wrapper\",regi_wrapper, METH_VARARGS, \"lets see if we can wrap this sucker\"},\n{NULL, NULL, 0, NULL}\n};\n\n\n/* Initialize the module */\nPyMODINIT_FUNC initsome(void)\n{\n    PyObject *m = Py_InitModule3(\"some\", module_methods, module_docstring);\n    if (m == NULL)\n        return;\n    // import_array(); // numpy not required here ..\n}\n\n\nstatic PyObject* regi_wrapper(PyObject * self, PyObject * args)\n{\n  int* input_i; // whatever input variable\n  PyObject* input_po; // python object\n  PyObject* ret; // return variable\n\n  // parse arguments\n  if (!PyArg_ParseTuple(args, \"iO\", &amp;input_i, &amp;input_po)) {\n    return NULL;\n  }\n\n  // https://stackoverflow.com/questions/16606872/calling-python-method-from-c-or-c-callback\n\n  // Py_INCREF(input_po); // need this, right? .. makes no difference\n\n  /* // seems not to make any difference ..\n  PyGILState_STATE gstate;\n  gstate = PyGILState_Ensure();\n  */\n\n  regi(input_i, input_po);\n\n  // PyGILState_Release(gstate); // .. makes no difference\n\n  // Py_DECREF(input_po); // .. makes no difference\n\n  Py_RETURN_TRUE;\n}\n\nvoid regi(int* i, PyObject* po) {\n  // search variable and methods from PyObject \"po\" and call its methods?\n  PyObject* name;\n  const char* mname=\"testmethod\";\n\n  testclass* testobj;\n  testobj=new testclass(i,po);\n\n  /* [insert // in front of this line to test case 1]\n  // ***** this one works! *********\n  name=PyString_FromString(mname);  \n  PyObject_CallMethodObjArgs(po, name, NULL);\n  */ // [insert // in front of this line to test case 1]\n\n  // *** I WOULD LIKE THIS TO WORK *** but it gives segfault.. :(\n  testobj-&gt;runpo(); // [uncomment to test case 2]\n\n}\n</code></pre>\n\n<p>setup.py:</p>\n\n<pre><code>from distutils.core import setup, Extension\n\n# the c++ extension module\nextension_mod = Extension(\"some\", [\"some.cpp\"])\n\nsetup(name = \"some\", ext_modules=[extension_mod])\n</code></pre>\n\n<p>test.py:</p>\n\n<pre><code>import some\n\nclass sentinel:\n\n  def __init__(self):\n    pass\n\n  def testmethod(self):\n    print \"hello from sentinel.testmethod\"\n    pass\n\nse=sentinel()\n\nsome.regi_wrapper(1,se)\n</code></pre>\n\n<p>This question seems relevant:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/16606872/calling-python-method-from-c-or-c-callback\">Calling python method from C++ (or C) callback</a></p>\n\n<p>.. however the answer did not help me.</p>\n\n<p>What am I missing/misunderstanding here (my c++ sucks big time, so I might have missed something obvious) .. ?</p>\n\n<p>Also, some bonus questions:</p>\n\n<p>a) I am familiar with swig and swig \"directors\".. however, I would like to use swig for general wrapping of the code, but my custom wrapping for the sort of things described in this question (i.e. without directors).  Is there any way to achieve this?</p>\n\n<p>b) Any other suggestions to achieve what I am trying to achieve here, are highly appreciated.. is this possible or just pure insanity?</p>\n"}, {"tags": ["python", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1455740917, "post_id": 35466979, "comment_id": 58629811, "body": "You can get all the values for a specific group level <code>group_obj.get_level_values(level_name)</code> to avoid this kind of error"}, {"owner": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1455740995, "post_id": 35466979, "comment_id": 58629856, "body": "If you only want to get values with 0&#39;s, you can do something like <code>df[df[&#39;Result&#39;] == 0]</code>, which will work if there are no zeros as well"}, {"owner": {"reputation": 101, "user_id": 5874198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f394fb63fd1260d5484e7d2130c839?s=128&d=identicon&r=PG&f=1", "display_name": "E. T.", "link": "https://stackoverflow.com/users/5874198/e-t"}, "reply_to_user": {"reputation": 1210, "user_id": 3175431, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d718426ebc054d9b7962dcd804c1cb65?s=128&d=identicon&r=PG", "display_name": "Jezzamon", "link": "https://stackoverflow.com/users/3175431/jezzamon"}, "edited": false, "score": 0, "creation_date": 1456346632, "post_id": 35466979, "comment_id": 58909250, "body": "@Jezzamon, although this can work, I wanted something more generic. Thanks for the reply"}, {"owner": {"reputation": 101, "user_id": 5874198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f394fb63fd1260d5484e7d2130c839?s=128&d=identicon&r=PG&f=1", "display_name": "E. T.", "link": "https://stackoverflow.com/users/5874198/e-t"}, "reply_to_user": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 0, "creation_date": 1456346719, "post_id": 35466979, "comment_id": 58909295, "body": "@EdChum, it seems that I do not understand well the get_level_values, I will have to read more about it (I got an error when I passed level 0). I have posted how I managed to solve it as an answer. Thanks a lot!"}, {"owner": {"reputation": 1522, "user_id": 1676152, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bd377514013ca50ad811ba7e0c0c5e7a?s=128&d=identicon&r=PG", "display_name": "Owen", "link": "https://stackoverflow.com/users/1676152/owen"}, "edited": false, "score": 0, "creation_date": 1485516268, "post_id": 35466979, "comment_id": 70967591, "body": "What about just <code>try</code> - <code>except</code> ?"}, {"owner": {"reputation": 2587, "user_id": 772521, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/c82cd3d728849548aa896ce780672d33?s=128&d=identicon&r=PG", "display_name": "jlewkovich", "link": "https://stackoverflow.com/users/772521/jlewkovich"}, "edited": false, "score": 2, "creation_date": 1551317323, "post_id": 35466979, "comment_id": 96600104, "body": "I feel like <code>get_group()</code> should come with a parameter that addresses this problem, maybe a <code>fillna</code> param like other methods have"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5874198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f394fb63fd1260d5484e7d2130c839?s=128&d=identicon&r=PG&f=1", "display_name": "E. T.", "link": "https://stackoverflow.com/users/5874198/e-t"}, "edited": false, "score": 0, "creation_date": 1456346847, "post_id": 35467445, "comment_id": 58909360, "body": "thanks; that can work I guess. I have found another method group_obj.groups.keys(), and that gave me directly the keys and I was able to process after that. I have posted this method as an answer to the question."}], "tags": [], "owner": {"reputation": 86481, "user_id": 2411802, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RA92x.jpg?s=128&g=1", "display_name": "Alexander", "link": "https://stackoverflow.com/users/2411802/alexander"}, "is_accepted": false, "score": 2, "last_activity_date": 1455742173, "creation_date": 1455742173, "answer_id": 35467445, "question_id": 35466979, "link": "https://stackoverflow.com/questions/35466979/how-to-avoid-pandas-groupby-key-error-when-a-groupby-object-might-not-contain-a/35467445#35467445", "title": "How to avoid Pandas Groupby key error when a GroupBy object might not contain a certain key", "body": "<p>Use <code>value_counts</code>, unstack the result to get the results in columns and then use <code>fillna(0)</code> to replace all NaNs. </p>\n\n<pre><code>&gt;&gt;&gt; df.groupby('Nationality').Result.value_counts().unstack().fillna(0)\nResult       0  1\nNationality      \nCA           1  1\nGB           0  2\nUSA          1  1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 5874198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f394fb63fd1260d5484e7d2130c839?s=128&d=identicon&r=PG&f=1", "display_name": "E. T.", "link": "https://stackoverflow.com/users/5874198/e-t"}, "is_accepted": false, "score": 5, "last_activity_date": 1456346521, "creation_date": 1456346521, "answer_id": 35612659, "question_id": 35466979, "link": "https://stackoverflow.com/questions/35466979/how-to-avoid-pandas-groupby-key-error-when-a-groupby-object-might-not-contain-a/35612659#35612659", "title": "How to avoid Pandas Groupby key error when a GroupBy object might not contain a certain key", "body": "<p>OK, so here is how I was able to do it:</p>\n\n<pre><code>if key1 in group_obj.groups.keys():\n    #Do processing\n</code></pre>\n\n<p>so, the keys() method in a groupby object stores already the available keys and it can be accessed directly.</p>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 5960219, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--cKaHbu1SCo/AAAAAAAAAAI/AAAAAAAAAOg/3dOfBK9WDO4/photo.jpg?sz=128", "display_name": "debola Akeredolu", "link": "https://stackoverflow.com/users/5960219/debola-akeredolu"}, "is_accepted": false, "score": 0, "last_activity_date": 1594590520, "creation_date": 1594590520, "answer_id": 62866797, "question_id": 35466979, "link": "https://stackoverflow.com/questions/35466979/how-to-avoid-pandas-groupby-key-error-when-a-groupby-object-might-not-contain-a/62866797#62866797", "title": "How to avoid Pandas Groupby key error when a GroupBy object might not contain a certain key", "body": "<p>To get a group from a groupby object and get an empty data frame instead of an error if the group doesn't exist is this:</p>\n<pre><code>def get_group(key, dataframe_group):\n    if key in dataframe_group.groups.keys():\n        return dataframe_group.get_group(key)\n    else:\n        original_df = dataframe_group.obj\n        return original_df.drop(original_df.index)\n</code></pre>\n<p>Basically, checking first if the keys exists in the group and they if it doesn't get the original data frame but without any contents.</p>\n"}], "owner": {"reputation": 101, "user_id": 5874198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0f394fb63fd1260d5484e7d2130c839?s=128&d=identicon&r=PG&f=1", "display_name": "E. T.", "link": "https://stackoverflow.com/users/5874198/e-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7104, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1594590520, "creation_date": 1455740630, "question_id": 35466979, "link": "https://stackoverflow.com/questions/35466979/how-to-avoid-pandas-groupby-key-error-when-a-groupby-object-might-not-contain-a", "title": "How to avoid Pandas Groupby key error when a GroupBy object might not contain a certain key", "body": "<p>I am doing some analysis over a dataframe, with one of the columns being an integer with values either 0 or 1 (Sort of boolean, but in integer form). It looks something like this:</p>\n\n<pre><code>  Nat. | Result\n-------|-------\n  CA   |  1\n  USA  |  0\n  GB   |  1\n  USA  |  1\n  CA   |  0\n  GB   |  1\n</code></pre>\n\n<p>I grouped the data according to the nationality column, and one of the values (GB in the example above) produced -by chance- a group whose all members were only 1. This have created a problem because I have a function that I call a lot that contains group_obj.get_group(0) and this causes a runtime error \"KeyError: 0\"</p>\n\n<p>My question: I want to create the logic that follows:</p>\n\n<pre><code>if (group_obj contains key 0):\n   return group_obj.get_group(0)\nelse:\n   print \"Group Object contains no 0s\"\n   return null\n</code></pre>\n\n<p>Thanks</p>\n\n<p>I am using Python2, Pandas and iPython Notebook.</p>\n"}, {"tags": ["python", "cryptography", "rsa", "digital-signature", "pycrypto"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455740736, "post_id": 35466948, "comment_id": 58629705, "body": "The padding is likely randomized. Does the signature change every time? If so, then you need to create a signature in one environment and verify it in the other in order to check compatibility."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455753629, "post_id": 35466948, "comment_id": 58635928, "body": "Yes, it changes every time but it&#39;s not static data being signed it&#39;s randomized bytes and a timestamp."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1455755159, "post_id": 35466948, "comment_id": 58636391, "body": "What do you mean with <code>message = formatter.CreateSignature(hash);</code>. Shouldn&#39;t you be generating a <i>signature</i> from a <i>hashed message</i>?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455755365, "post_id": 35466948, "comment_id": 58636451, "body": "@ArtjomB. PKCS#1 v1.5 padding for <i>signature generation</i> is not randomized by itself; it&#39;s fully deterministic. PKCS#1 v1.5 padding for encryption is though."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "edited": false, "score": 0, "creation_date": 1455757596, "post_id": 35466948, "comment_id": 58637170, "body": "I am generating a signature from a hashed message. Both the C# version and the Python version need to generate a signature that&#39;s able to be communicated between the two languages and currently it doesn&#39;t."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "edited": false, "score": 0, "creation_date": 1455964118, "post_id": 35466948, "comment_id": 58733847, "body": "The C# code works but the Python code doesn&#39;t, anyone have any idea what&#39;s up?"}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455964752, "post_id": 35466948, "comment_id": 58734065, "body": "@JohnDong You seem to be hashing it yourself. Have you verified that the hashes in C# and Python are the same? (Please use @ replies if you expect somebody to receive a notification)."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455966337, "post_id": 35466948, "comment_id": 58734573, "body": "@ArtjomB. Both SHA-1 hashes are the same."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1455966468, "post_id": 35466948, "comment_id": 58734613, "body": "Have you tried to verify the signature that you generate in Python with C#?"}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "edited": false, "score": 0, "creation_date": 1455966643, "post_id": 35466948, "comment_id": 58734658, "body": "@ArtjomB.Yes, the Python signature fails with the same data input."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1456079561, "post_id": 35466948, "comment_id": 58768909, "body": "@ArtjomB. I&#39;ve noticed that the C# signature doesn&#39;t change even though the private key that signs it does because it has a random private exponent of 16 length. The python one, however, changes everytime that it&#39;s run."}, {"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456142576, "post_id": 35466948, "comment_id": 58794135, "body": "That is strange. I don&#39;t have much experience with the signature generation in C#. Perhaps @MaartenBodewes has some idea."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456193082, "post_id": 35466948, "comment_id": 58822939, "body": "The only thing I can think of is that the private key is a CRT private key for which the private exponent is simply ignored."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456193731, "post_id": 35466948, "comment_id": 58823104, "body": "Note that the private exponent and/or CRT parameters are generated for a specific public/private key pair and modulus. You cannot simply replace the private exponent and expect to have a valid private key left."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456198578, "post_id": 35466948, "comment_id": 58824418, "body": "@MaartenBodewes well the key is generated from rsa parameters and not from a pregenerated certificate, it encrypts the same way as C# but it doesn&#39;t sign the same way."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456216401, "post_id": 35466948, "comment_id": 58831917, "body": "A private exponent should have a length comparable to the modulus length. A 16 byte private exponent should never happen. You are eorking outside of bounds."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1456262760, "post_id": 35466948, "comment_id": 58863308, "body": "@MaartenBodewes meant 0x80 sorry."}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457379112, "post_id": 35466948, "comment_id": 59370337, "body": "@MaartenBodewes any ideas? I&#39;ve worked my butt off on this to find out the problem and I can&#39;t manage to find it so I&#39;m pretty much out of luck."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457379806, "post_id": 35466948, "comment_id": 59370814, "body": "What type is the <code>hash</code> variable in <code>CreateSignature</code>?"}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457380046, "post_id": 35466948, "comment_id": 59370964, "body": "@MaartenBodewes It&#39;s a raw SHA1 digest in the form of a byte array."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457380330, "post_id": 35466948, "comment_id": 59371153, "body": "Shouldn&#39;t that be either a digest object or the data itself instead of the hash <i>over</i> the data?"}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457381205, "post_id": 35466948, "comment_id": 59371699, "body": "@MaartenBodewes when you sign you&#39;re signing the hash of the data and not the data itself."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457382069, "post_id": 35466948, "comment_id": 59372192, "body": "True butin general the hashing is <i>part of</i> the signature generation. Did you <i>try</i>?"}, {"owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1457383320, "post_id": 35466948, "comment_id": 59372906, "body": "@MaartenBodewes hash is the SHA1CryptoServiceProvider digest it&#39;s 20 bytes."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "edited": false, "score": 0, "creation_date": 1457383519, "post_id": 35466948, "comment_id": 59373020, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/105605/discussion-between-maarten-bodewes-and-john-dong\">continue this discussion in chat</a>."}], "owner": {"reputation": 45, "user_id": 3051109, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/02181b9d681a9ffed5f4ff7b47c49173?s=128&d=identicon&r=PG&f=1", "display_name": "John Dong", "link": "https://stackoverflow.com/users/3051109/john-dong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 271, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455758172, "creation_date": 1455740506, "last_edit_date": 1455758172, "question_id": 35466948, "link": "https://stackoverflow.com/questions/35466948/c-rsapkcs1signatureformatter-in-python", "title": "C# RSAPKCS1SignatureFormatter in Python", "body": "<p>I've tried many times over to get C# and Python to sign the same the same way but have failed in all my attempts, is there something that I'm not doing correctly?</p>\n\n<p>C#:</p>\n\n<pre><code>RSAPKCS1SignatureFormatter formatter = new RSAPKCS1SignatureFormatter(key);\nformatter.SetHashAlgorithm(\"SHA1\");\nbyte[] signature = formatter.CreateSignature(hash);\n</code></pre>\n\n<p>Python (using PyCrypto):</p>\n\n<pre><code>signature = PKCS1_v1_5.new(key).sign(SHA.new(message))\n</code></pre>\n"}, {"tags": ["python", "ssl", "python-requests", "urllib3"], "comments": [{"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 2, "creation_date": 1455740824, "post_id": 35466918, "comment_id": 58629744, "body": "Are you <b>sure</b> the cert and key file paths are correct, and have appropriate permission to be read by the program?"}, {"owner": {"reputation": 161, "user_id": 5908551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7719f7409f38dd5a0dbab4a387669ac?s=128&d=identicon&r=PG&f=1", "display_name": "nacc", "link": "https://stackoverflow.com/users/5908551/nacc"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455741473, "post_id": 35466918, "comment_id": 58630106, "body": "@JohnGordon the paths are definitely correct (I got something along the lines of &quot;invalid path&quot; in an earlier version when I had a typo). In terms of whether the cert/key can be read I&#39;m game to check via a different methodology to validate if there&#39;s one I can use. In previous iterations it would throw something akin to &#39;cert/key mismatch&#39; or &#39;invalid ssl&#39; before I got which cert/key files I needed squared awa"}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455741785, "post_id": 35466918, "comment_id": 58630264, "body": "Are you running this program directly as yourself, or is it being executed within some other context (such as within a web server)?  If the latter, make sure that the files are readable in that context."}, {"owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455741857, "post_id": 35466918, "comment_id": 58630313, "body": "As a simple check, you could make a very short script that just tries to open both files, and see if it gets the same error."}, {"owner": {"reputation": 161, "user_id": 5908551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7719f7409f38dd5a0dbab4a387669ac?s=128&d=identicon&r=PG&f=1", "display_name": "nacc", "link": "https://stackoverflow.com/users/5908551/nacc"}, "reply_to_user": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "edited": false, "score": 0, "creation_date": 1455742040, "post_id": 35466918, "comment_id": 58630402, "body": "@JohnGordon running it as myself (on same box I hit the browser with w/ no issues); both files open ok from bash/terminal"}, {"owner": {"reputation": 76, "user_id": 12757947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1b67ab00aa312cea6144efffbc89c8a?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Brockmeier", "link": "https://stackoverflow.com/users/12757947/alexander-brockmeier"}, "edited": false, "score": 0, "creation_date": 1618261647, "post_id": 35466918, "comment_id": 118544541, "body": "check <a href=\"https://stackoverflow.com/questions/16903528/how-to-get-response-ssl-certificate-from-requests-in-python\">a related question</a> there cert is a list not a tuple."}], "owner": {"reputation": 161, "user_id": 5908551, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d7719f7409f38dd5a0dbab4a387669ac?s=128&d=identicon&r=PG&f=1", "display_name": "nacc", "link": "https://stackoverflow.com/users/5908551/nacc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2751, "favorite_count": 0, "answer_count": 0, "score": 11, "last_activity_date": 1455740429, "creation_date": 1455740429, "question_id": 35466918, "link": "https://stackoverflow.com/questions/35466918/python-requests-ioerror-errno-22-invalid-argument", "title": "Python Requests: IOError: [Errno 22] Invalid argument", "body": "<p>I am new to Python Requests and am encountering an <code>IOError:[Errno 22] Invalid argument</code> when I attempt a <code>requests.get()</code>. In short, I am attempting to connect to an internal web application using SSL and so I pass a cert/key combination per the Requests documentation.</p>\n\n<p>I've spent quite a bit of time researching potential issues and saw some mention of potential SNI issues but am not savvy enough to know how I might go about remedying the issue (again, new to Requests). Appreciate any nudge in the right direction/where to dig in further (I'm guessing the urllib3 piece?) </p>\n\n<h2>My Code</h2>\n\n<pre><code>import requests\n\ncert_file_path = \"/Users/me/Documents/cert.pem\"\nkey_file_path = \"/Users/me/Documents/key.pem\"\n\nurl = \"https://mydomain/path/to/something\"\ncert = (cert_file_path, key_file_path)\nr = requests.get(url, cert=cert) \n</code></pre>\n\n<h2>My Error</h2>\n\n<pre><code>IOError                               Traceback (most recent call last)\n    &lt;ipython-input-48-1ee4a7f23d00&gt; in &lt;module&gt;()\n          4 url = \"https://mydomain/path/to/something\"\n          5 cert = (cert_file_path, key_file_path)\n    ----&gt; 6 r = requests.get(url, cert=cert)\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/api.pyc in get(url, **kwargs)\n         66 \n         67     kwargs.setdefault('allow_redirects', True)\n    ---&gt; 68     return request('get', url, **kwargs)\n         69 \n         70 \n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/api.pyc in request(method, url, **kwargs)\n         48 \n         49     session = sessions.Session()\n    ---&gt; 50     response = session.request(method=method, url=url, **kwargs)\n         51     # By explicitly closing the session, we avoid leaving sockets open which\n         52     # can trigger a ResourceWarning in some cases, and look like a memory leak\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/sessions.pyc in request(self, method, url, params, data, headers, cookies, files, auth, timeout, allow_redirects, proxies, hooks, stream, verify, cert, json)\n        462         }\n        463         send_kwargs.update(settings)\n    --&gt; 464         resp = self.send(prep, **send_kwargs)\n        465 \n        466         return resp\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/sessions.pyc in send(self, request, **kwargs)\n        574 \n        575         # Send the request\n    --&gt; 576         r = adapter.send(request, **kwargs)\n        577 \n        578         # Total elapsed time of the request (approximately)\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/adapters.pyc in send(self, request, stream, timeout, verify, cert, proxies)\n        368                     decode_content=False,\n        369                     retries=self.max_retries,\n    --&gt; 370                     timeout=timeout\n        371                 )\n        372 \n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.pyc in urlopen(self, method, url, body, headers, retries, redirect, assert_same_host, timeout, pool_timeout, release_conn, **response_kw)\n        542             httplib_response = self._make_request(conn, method, url,\n        543                                                   timeout=timeout_obj,\n    --&gt; 544                                                   body=body, headers=headers)\n        545 \n        546             # If we're going to release the connection in ``finally:``, then\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.pyc in _make_request(self, conn, method, url, timeout, **httplib_request_kw)\n        339         # Trigger any extra validation we need to do.\n        340         try:\n    --&gt; 341             self._validate_conn(conn)\n        342         except (SocketTimeout, BaseSSLError) as e:\n        343             # Py2 raises this as a BaseSSLError, Py3 raises it as socket timeout.\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/packages/urllib3/connectionpool.pyc in _validate_conn(self, conn)\n        760         # Force connect early to allow us to validate the connection.\n        761         if not getattr(conn, 'sock', None):  # AppEngine might not have  `.sock`\n    --&gt; 762             conn.connect()\n        763 \n        764         if not conn.is_verified:\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/packages/urllib3/connection.pyc in connect(self)\n        236                                     ca_certs=self.ca_certs,\n        237                                     server_hostname=hostname,\n    --&gt; 238                                     ssl_version=resolved_ssl_version)\n        239 \n        240         if self.assert_fingerprint:\n\n    /Users/me/anaconda/lib/python2.7/site-packages/requests/packages/urllib3/util/ssl_.pyc in ssl_wrap_socket(sock, keyfile, certfile, cert_reqs, ca_certs, server_hostname, ssl_version, ciphers, ssl_context)\n        261             raise\n        262     if certfile:\n    --&gt; 263         context.load_cert_chain(certfile, keyfile)\n        264     if HAS_SNI:  # Platform-specific: OpenSSL with enabled SNI\n        265         return context.wrap_socket(sock, server_hostname=server_hostname)\n\n    IOError: [Errno 22] Invalid argument\n</code></pre>\n\n<h2>Environment</h2>\n\n<p><em>Python</em>: Python 2.7.11 :: Anaconda 2.4.1 (x86_64)<br>\n<em>Requests</em>: 2.6.0<br>\n<em>Mac OSX</em>: Yosemite (10.10.5)</p>\n"}, {"tags": ["python", "web-scraping", "beautifulsoup"], "answers": [{"tags": [], "owner": {"reputation": 8411, "user_id": 2399775, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29a2523b23d09e0bfc15d3a77e505271?s=128&d=identicon&r=PG", "display_name": "wpercy", "link": "https://stackoverflow.com/users/2399775/wpercy"}, "is_accepted": false, "score": 1, "last_activity_date": 1455741208, "last_edit_date": 1455741208, "creation_date": 1455740465, "answer_id": 35466932, "question_id": 35466862, "link": "https://stackoverflow.com/questions/35466862/scrape-json-data-with-beautiful-soup/35466932#35466932", "title": "Scrape json data with beautiful soup", "body": "<p>How about </p>\n\n<pre><code>video_div = self.soup.find('div', id=lambda d: d and d.startswith('video_wrapper_'))\nvideo_link = video_div.find('iframe')['src']\n</code></pre>\n\n<p>will return </p>\n\n<pre><code>In [5]: video_link\nOut[5]: 'https://www.youtube.com/embed/_Ym0LW_uPPk?version=3&amp;hl=en&amp;fs=1&amp;enablejsapi=1&amp;origin=http://www.buzzfeed.com&amp;autoplay=0&amp;showinfo=0&amp;wmode=opaque'\n</code></pre>\n\n<p>You can go a little more in depth if you want to use <code>urlparse</code> and get the actual youtube page.</p>\n\n<pre><code>import urlparse\n\nvideo_div = self.soup.find('div', id=lambda d: d and d.startswith('video_wrapper_'))\nvideo_link = video_div.find('iframe')['src']\nurl = urlparse.urlparse(video_link)\nyoutube_url = urlparse.urlunparse((url[0], url[1], \"watch?v=\" + url[2].split('/')[2],'','',''))\n</code></pre>\n\n<p>This is the output of <code>youtube_url</code></p>\n\n<pre><code>In [15]: urlunparse((url[0], url[1], \"watch?v=\" + url[2].split('/')[2],'','',''))\nOut[15]: 'https://www.youtube.com/watch?v=_Ym0LW_uPPk'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 80, "user_id": 2789026, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798513165/picture?type=large", "display_name": "Sabyasachi Behera", "link": "https://stackoverflow.com/users/2789026/sabyasachi-behera"}, "is_accepted": false, "score": 0, "last_activity_date": 1455741286, "creation_date": 1455741286, "answer_id": 35467171, "question_id": 35466862, "link": "https://stackoverflow.com/questions/35466862/scrape-json-data-with-beautiful-soup/35467171#35467171", "title": "Scrape json data with beautiful soup", "body": "<pre><code>video_link = self.soup.find('div',{'class':'video-embed-big'}).div.iframe['src']\n</code></pre>\n\n<p>You need to use the \".\" operator to go into the child of the div and then use the src attribute to get the url.</p>\n"}], "owner": {"reputation": 61, "user_id": 5309395, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/bcd7e7102a0f4f5263da17f62d20adf1?s=128&d=identicon&r=PG&f=1", "display_name": "joe", "link": "https://stackoverflow.com/users/5309395/joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1455776710, "creation_date": 1455740194, "last_edit_date": 1455776710, "question_id": 35466862, "link": "https://stackoverflow.com/questions/35466862/scrape-json-data-with-beautiful-soup", "title": "Scrape json data with beautiful soup", "body": "<p>I am trying to scrape a son data in a div class where I am trying to get the data of \"url\" and I used <code>video_link = self.soup.find('div' ,{'class':'video-embed-big'})</code> but I am unable to get the data inside that div with a quoted url. </p>\n\n<pre><code>&lt;div class=\"video-embed-big video-embed-area bf_dom\" id=\"video_buzz_element_4154403_7994283\" rel:thumb=\"https://img.youtube.com/vi/_Ym0LW_uPPk/2.jpg\" rel:bf_bucket_data=\"{\"video\": {\"size\": \"big\", \"width\":\"625\", \"height\":\"376\", \"url\":\"https://youtube.com/watch?v=_Ym0LW_uPPk\", \"id\":\"4154403_7994283\"}}\"&gt;\n  &lt;div style=\"position:relative;\" id=\"video_wrapper_4154403_7994283\"&gt;     \n     &lt;iframe id=\"yt_4154403_7994283\" class=\"ytvideo\" type=\"text/html\" allowscriptaccess=\"always\" allowfullscreen=\"true\" width=\"625\" height=\"376\" src=\"https://www.youtube.com/embed/_Ym0LW_uPPk?version=3&amp;amp;hl=en&amp;amp;fs=1&amp;amp;enablejsapi=1&amp;amp;origin=http://www.buzzfeed.com&amp;amp;autoplay=0&amp;amp;showinfo=0&amp;amp;wmode=opaque\" frameborder=\"0\"&gt;\n          &lt;/iframe&gt;\n     &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["python", "syntax-error", "list-comprehension"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 1729218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e266298ae9258d8570ca2f1198d6ac01?s=128&d=identicon&r=PG", "display_name": "Hudson Cooper", "link": "https://stackoverflow.com/users/1729218/hudson-cooper"}, "edited": false, "score": 0, "creation_date": 1455740285, "post_id": 35466847, "comment_id": 58629415, "body": "Interesting, thank you. I just read an answer from <a href=\"http://stackoverflow.com/questions/17321138/python-one-line-list-comprehension-if-else-variants\" title=\"python one line list comprehension if else variants\">stackoverflow.com/questions/17321138/&hellip;</a> that seems to suggest the opposite (at least for an if else case). Why does it work there and not here?"}, {"owner": {"reputation": 65, "user_id": 1729218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e266298ae9258d8570ca2f1198d6ac01?s=128&d=identicon&r=PG", "display_name": "Hudson Cooper", "link": "https://stackoverflow.com/users/1729218/hudson-cooper"}, "edited": false, "score": 0, "creation_date": 1455740363, "post_id": 35466847, "comment_id": 58629471, "body": "Never mind, I can answer my own question. This example is a filter, the other is not."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 65, "user_id": 1729218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e266298ae9258d8570ca2f1198d6ac01?s=128&d=identicon&r=PG", "display_name": "Hudson Cooper", "link": "https://stackoverflow.com/users/1729218/hudson-cooper"}, "edited": false, "score": 1, "creation_date": 1455740424, "post_id": 35466847, "comment_id": 58629507, "body": "List comprehensions have the following syntax (approximately):  <code>[expression for var in loop_expression if filter_expression]</code>.  Those expressions can be just about anything -- including &quot;conditional expressions&quot; which have the form:  <code>expression if conditional else conditional</code>.  Note that the <code>else</code> is required to make the conditional expression."}, {"owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "reply_to_user": {"reputation": 65, "user_id": 1729218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e266298ae9258d8570ca2f1198d6ac01?s=128&d=identicon&r=PG", "display_name": "Hudson Cooper", "link": "https://stackoverflow.com/users/1729218/hudson-cooper"}, "edited": false, "score": 1, "creation_date": 1455740572, "post_id": 35466847, "comment_id": 58629597, "body": "@HudsonCooper -- Also note that if <code>predicted</code> and <code>actual</code> are <code>np.ndarray</code>, you can probably do:  <code>np.sum(predicted == array)</code> as a shortcut :-)"}], "tags": [], "owner": {"reputation": 262567, "user_id": 748858, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/17gYz.png?s=128&g=1", "display_name": "mgilson", "link": "https://stackoverflow.com/users/748858/mgilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1455740135, "creation_date": 1455740135, "answer_id": 35466847, "question_id": 35466824, "link": "https://stackoverflow.com/questions/35466824/python-list-comprehension-with-conditional-and-double-for-loop-syntax-error/35466847#35466847", "title": "Python list comprehension with conditional and double for loop syntax error", "body": "<p>The <code>if</code> goes <em>after</em> the looping expression:</p>\n\n<pre><code>[int(p == a) for p in predicted for a in actual if a]\n</code></pre>\n\n<hr>\n\n<p>However, it really looks like you want to <code>zip</code> these together:</p>\n\n<pre><code>[int(p == a) for p, a in zip(predicted, actual)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8167, "user_id": 3734244, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/y1UTF.png?s=128&g=1", "display_name": "danidee", "link": "https://stackoverflow.com/users/3734244/danidee"}, "is_accepted": false, "score": 1, "last_activity_date": 1455740571, "creation_date": 1455740571, "answer_id": 35466966, "question_id": 35466824, "link": "https://stackoverflow.com/questions/35466824/python-list-comprehension-with-conditional-and-double-for-loop-syntax-error/35466966#35466966", "title": "Python list comprehension with conditional and double for loop syntax error", "body": "<p>the if is placed at the end of the list comprehension</p>\n\n<pre><code>[int(p == a) for p in predicted for a in actual if a]\n</code></pre>\n\n<p>as a side note, with your particular construct you can add a ternary operation and have an else in your list comprehension</p>\n\n<pre><code>[int(p == a) if a else '' for p in predicted for a in actual if a]\n</code></pre>\n\n<p>adding else to the end of the list comprehension will throw a <code>SyntaxError</code></p>\n"}], "owner": {"reputation": 65, "user_id": 1729218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e266298ae9258d8570ca2f1198d6ac01?s=128&d=identicon&r=PG", "display_name": "Hudson Cooper", "link": "https://stackoverflow.com/users/1729218/hudson-cooper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 927, "favorite_count": 0, "accepted_answer_id": 35466847, "answer_count": 2, "score": 0, "last_activity_date": 1455740571, "creation_date": 1455740069, "question_id": 35466824, "link": "https://stackoverflow.com/questions/35466824/python-list-comprehension-with-conditional-and-double-for-loop-syntax-error", "title": "Python list comprehension with conditional and double for loop syntax error", "body": "<p>I am trying to count the number of times the elements in my list 'predicted' equal the corresponding elements in my list 'actual' when said 'actual' elements equal 1 (the number of 'true positives').</p>\n\n<p>Here's my code:</p>\n\n<pre><code>def F_approx(predicted, actual):\n   est_tp = np.sum([int(p == a) if a for p in predicted for a in actual])\n   est_fn = np.sum([int(p !=a) if a for p in predicted for a in actual])\n   est_recall = est_tp / (est_tp + est_fn)\n   pr_pred_1 = np.sum([int(p == 1) for p in predicted]) / len(predicted)\n   est_f = np.power(est_recall, 2) / pr_pred_1\n   return(est_f)\n</code></pre>\n\n<p>Which looks correct to <em>my</em> eye, but I get an error: </p>\n\n<pre><code>    File \"&lt;ipython-input-17-3e11431566d6&gt;\", line 2\n       est_tp = np.sum([int(p == a) if a for p in predicted for a in actual])\n                                           ^ \n    SyntaxError: invalid syntax\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["python", "excel"], "comments": [{"owner": {"reputation": 3303, "user_id": 1361532, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/733f00fe978dd7a7ce42de3bb9734f6d?s=128&d=identicon&r=PG", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1361532/shawn"}, "edited": false, "score": 0, "creation_date": 1455740654, "post_id": 35466800, "comment_id": 58629656, "body": "Please include an image of what you are getting and what you expect. It is unclear as the question is currently stated."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 3911373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3034965942cb12f02631575e15c4a640?s=128&d=identicon&r=PG&f=1", "display_name": "justjoshingg", "link": "https://stackoverflow.com/users/3911373/justjoshingg"}, "edited": false, "score": 0, "creation_date": 1455832499, "post_id": 35467618, "comment_id": 58679056, "body": "Thank you this was very helpful. I just added another for loop in front of the one you created and it did exactly what I was looking for. Thanks again!!"}, {"owner": {"reputation": 33, "user_id": 3911373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3034965942cb12f02631575e15c4a640?s=128&d=identicon&r=PG&f=1", "display_name": "justjoshingg", "link": "https://stackoverflow.com/users/3911373/justjoshingg"}, "edited": false, "score": 1, "creation_date": 1455897681, "post_id": 35467618, "comment_id": 58710047, "body": "I just added <code>for h in range(1,2000):</code> above your loop and replaced the sheet1 rows to = h instead of i.  To explain my initial goal more clearly: sheet2 was populated with 200 key values (col A) with associated attributes (col B, C). Sheet1 was filled with 2000 key values but no attributes, many were duplicates and all of them matched one of the key values from sheet2. So for every value in sheet1, I needed to search through sheet2 and copy the matching attributes."}, {"owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "reply_to_user": {"reputation": 33, "user_id": 3911373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3034965942cb12f02631575e15c4a640?s=128&d=identicon&r=PG&f=1", "display_name": "justjoshingg", "link": "https://stackoverflow.com/users/3911373/justjoshingg"}, "edited": false, "score": 0, "creation_date": 1455898321, "post_id": 35467618, "comment_id": 58710477, "body": "Great, I am glad I was able to help you out.  All the stuff I learned about the <code>openpyxl</code> module was found here: <a href=\"https://automatetheboringstuff.com/chapter12/\" rel=\"nofollow noreferrer\">automatetheboringstuff.com/chapter12</a> It is a great website and gives a lot of great information. A word of caution: if you use it, some of the data on that website is old and no longer works. The styling for example doesn&#39;t work how they show, however there are other pages about styling with <code>openpyxl</code> so I was able to fix the issues I had. Happy programming!"}], "tags": [], "owner": {"reputation": 2717, "user_id": 5641674, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/syYV6.jpg?s=128&g=1", "display_name": "Mark Skelton", "link": "https://stackoverflow.com/users/5641674/mark-skelton"}, "is_accepted": true, "score": 4, "last_activity_date": 1455742731, "creation_date": 1455742731, "answer_id": 35467618, "question_id": 35466800, "link": "https://stackoverflow.com/questions/35466800/loop-through-and-compare-spreadsheet-cells-in-python/35467618#35467618", "title": "Loop through and compare spreadsheet cells in Python", "body": "<p>Your question is a little unclear but if I understand you correctly this should help:</p>\n\n<pre><code>import openpyxl\n\nwb = openpyxl.load_workbook('spreadsheet.xlsx')\n\nsheet1 = wb.get_sheet_by_name('Sheet1')\nsheet2 = wb.get_sheet_by_name('Sheet2')\n\n\nfor i in range(1, 201):\n    if sheet1.cell(row = i, column = 1).value == sheet2.cell(row = i, column = 1).value:\n        sheet1.cell(row = i, column = 2).value = sheet2.cell(row = i, column = 2).value\n        sheet1.cell(row = i, column = 3).value = sheet2.cell(row = i, column = 3).value\n\n\nwb.save('spreadsheet2.xlsx')\n</code></pre>\n\n<p>I was able to clean up the code by the using the <code>.cell()</code> method.  If this isn't what you need just comment and tell me what exactly you are trying to do.  Hope this helps!</p>\n"}], "owner": {"reputation": 33, "user_id": 3911373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3034965942cb12f02631575e15c4a640?s=128&d=identicon&r=PG&f=1", "display_name": "justjoshingg", "link": "https://stackoverflow.com/users/3911373/justjoshingg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6352, "favorite_count": 2, "accepted_answer_id": 35467618, "answer_count": 1, "score": 3, "last_activity_date": 1580079923, "creation_date": 1455739985, "question_id": 35466800, "link": "https://stackoverflow.com/questions/35466800/loop-through-and-compare-spreadsheet-cells-in-python", "title": "Loop through and compare spreadsheet cells in Python", "body": "<p>Please excuse the crude code and I'm sure there are better ways to accomplish this but I am new to programming. Basically I have an excel file with 2 sheets, sheet 1 is populated in column A, sheet 2 is populated in A, B, and C. I want to run through all of the cells in sheet 1 column A searching for a match in sheet 2 column A and copy the info from B and C to sheet 1 if found. The code below kind of works, it copies some data and populates it but it doesn't really match up correctly and it seems to skip a lot of cells if they are the same value as the previous cell. Any help would be greatly appreciated. </p>\n\n<pre><code>import openpyxl\n\nwb = openpyxl.load_workbook('spreadsheet.xlsx')\n\nsheet1 = wb.get_sheet_by_name('Sheet1')\nsheet2 = wb.get_sheet_by_name('Sheet2')\n\nfor row in sheet1['A1':'A200']:\n    for cell in row:\n        obj1 = cell.value\n        for row2 in sheet2['A1':'A2000']:\n            for cell2 in row2:\n                obj2 = cell2.value\n                if obj1 == obj2:\n                    row = str(cell2.row)\n                    site = 'B' + row\n                    tic = 'C' + row\n                    sheet1[site] = sheet2[site].value\n                    sheet1[tic] = sheet2[tic].value\n\nwb.save('spreadsheet2.xlsx')\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 11, "user_id": 4780036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d2da26c29d813de4fbd950fd0180b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan1", "link": "https://stackoverflow.com/users/4780036/dan1"}, "reply_to_user": {"reputation": 357162, "user_id": 28804, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/015c999a9db79ffb3030b3cc207d0be8?s=128&d=identicon&r=PG", "display_name": "mipadi", "link": "https://stackoverflow.com/users/28804/mipadi"}, "edited": false, "score": 0, "creation_date": 1455739936, "post_id": 35466756, "comment_id": 58629203, "body": "nums1.append(nums[i] ** 2) TypeError: unsupported operand type(s) for ** or pow(): &#39;list&#39; and &#39;int&#39;"}, {"owner": {"reputation": 11, "user_id": 4780036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d2da26c29d813de4fbd950fd0180b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan1", "link": "https://stackoverflow.com/users/4780036/dan1"}, "edited": false, "score": 0, "creation_date": 1455740035, "post_id": 35466756, "comment_id": 58629268, "body": "It&#39;s a text file with a list of ints separated by spaces"}, {"owner": {"reputation": 834, "user_id": 5910968, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-htASUfkNknc/AAAAAAAAAAI/AAAAAAAADrU/8PndtnKlxLE/photo.jpg?sz=128", "display_name": "Colin Dickie", "link": "https://stackoverflow.com/users/5910968/colin-dickie"}, "edited": false, "score": 0, "creation_date": 1455741003, "post_id": 35466756, "comment_id": 58629862, "body": "Could you supply a short example of your input text file and your expected input?  As others have pointed out, you are possibly trying to square a list of strings.  Easily solved but we would know exactly what your inputs and expected outputs are."}], "answers": [{"tags": [], "owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "is_accepted": false, "score": 0, "last_activity_date": 1455740198, "creation_date": 1455740198, "answer_id": 35466864, "question_id": 35466756, "link": "https://stackoverflow.com/questions/35466756/python-squaring-ints-in-a-list-from-a-file/35466864#35466864", "title": "Python squaring ints in a list from a file", "body": "<p><code>data[i].split()</code> returns a <code>list</code>, so you append a <code>list</code> to your variable <code>nums</code>.</p>\n\n<p>Then, you try to <code>nums[i] ** 2</code> . However, nums contains lists of integers, so <code>nums[i]</code> is a list, and you can't square a <code>list</code></p>\n\n<p>Instead of appending <code>data[i].split()</code>, you should append an integer.</p>\n"}, {"tags": [], "owner": {"reputation": 19246, "user_id": 494134, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/3XHKr.png?s=128&g=1", "display_name": "John Gordon", "link": "https://stackoverflow.com/users/494134/john-gordon"}, "is_accepted": false, "score": 0, "last_activity_date": 1455740325, "creation_date": 1455740325, "answer_id": 35466885, "question_id": 35466756, "link": "https://stackoverflow.com/questions/35466756/python-squaring-ints-in-a-list-from-a-file/35466885#35466885", "title": "Python squaring ints in a list from a file", "body": "<p>Assuming your input file looks like this:</p>\n\n<pre><code>1 1\n2 4\n3 9\n4 16\n</code></pre>\n\n<p>Then this line of code:</p>\n\n<pre><code>nums.append(data[i].split())\n</code></pre>\n\n<p>Creates a two-element list such as <code>['4', '16']</code> and puts it in <code>nums</code>.  Therefore, <code>nums</code> is a list of lists, and you'll have to subscript it twice: once to get the desired sublist, and once again to get the element within the sublist, like so:</p>\n\n<pre><code>nums[i][0]\n</code></pre>\n\n<p>And since the items are stored as strings, you'll need to call <code>int()</code> on those values if you want to do calculations.</p>\n"}, {"tags": [], "owner": {"reputation": 834, "user_id": 5910968, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-htASUfkNknc/AAAAAAAAAAI/AAAAAAAADrU/8PndtnKlxLE/photo.jpg?sz=128", "display_name": "Colin Dickie", "link": "https://stackoverflow.com/users/5910968/colin-dickie"}, "is_accepted": false, "score": 0, "last_activity_date": 1455742060, "creation_date": 1455742060, "answer_id": 35467405, "question_id": 35466756, "link": "https://stackoverflow.com/questions/35466756/python-squaring-ints-in-a-list-from-a-file/35467405#35467405", "title": "Python squaring ints in a list from a file", "body": "<p>If the read data is returned in the following format:</p>\n\n<pre><code>data = [\"1 2 3 4 5 6\",\"7 8 9\"]\n</code></pre>\n\n<p>Then the following code would correctly populate two lists, one with the <strong>Integer</strong> values and the second with the <strong>squares</strong>:</p>\n\n<pre><code>num = []\nnum1 = []\n\nfor line in data:\n    for num_string in line.split():\n        integer  = int(num_string)\n        num.append(integer)\n        num1.append(integer**2)\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4780036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26d2da26c29d813de4fbd950fd0180b6?s=128&d=identicon&r=PG&f=1", "display_name": "Dan1", "link": "https://stackoverflow.com/users/4780036/dan1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 3, "score": -5, "last_activity_date": 1455742060, "creation_date": 1455739846, "last_edit_date": 1455739916, "question_id": 35466756, "link": "https://stackoverflow.com/questions/35466756/python-squaring-ints-in-a-list-from-a-file", "title": "Python squaring ints in a list from a file", "body": "<p>I am trying to overwrite the numbers in a list that was inputted through a file with their respective squares. I have:</p>\n\n<pre><code>def squareEach():\n\n    fname = input(\"Enter exact file name: \")\n    infile = open(fname, 'r')\n    data = infile.readlines()\n    nums = []\n    nums1 = []\n\n    for i in range(len(data)):\n        nums.append(data[i].split())\n        nums1.append(nums[i] ** 2)\n\n    print(nums1)\n\nsquareEach()\n</code></pre>\n\n<p>but am getting an error. Any help?</p>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 2, "creation_date": 1455739744, "post_id": 35466676, "comment_id": 58629085, "body": "<code>f.write</code> returns an integer - this code does not do what you think it does."}, {"owner": {"reputation": 47817, "user_id": 2535611, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/d61593cac94336661b986823abb9852e?s=128&d=identicon&r=PG", "display_name": "rafaelc", "link": "https://stackoverflow.com/users/2535611/rafaelc"}, "edited": false, "score": 0, "creation_date": 1455739848, "post_id": 35466676, "comment_id": 58629146, "body": "What about iterate and add <code>&quot;    &quot;</code> (4 spaces) before every line?"}, {"owner": {"reputation": 7440, "user_id": 361883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e158f7f77cfb7400a30b389b68fcf60f?s=128&d=identicon&r=PG", "display_name": "AKor", "link": "https://stackoverflow.com/users/361883/akor"}, "reply_to_user": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 0, "creation_date": 1455739979, "post_id": 35466676, "comment_id": 58629227, "body": "Sorry, @nneonneo fixed."}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 0, "creation_date": 1455740027, "post_id": 35466676, "comment_id": 58629260, "body": "If you want indentation why don&#39;t you add it? Not sure what your question really is, only you know what is in the file and the indentation is up to you to add"}, {"owner": {"reputation": 153402, "user_id": 1204143, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5ca341b160687d99b1317859f91054ee?s=128&d=identicon&r=PG", "display_name": "nneonneo", "link": "https://stackoverflow.com/users/1204143/nneonneo"}, "edited": false, "score": 0, "creation_date": 1455740049, "post_id": 35466676, "comment_id": 58629281, "body": "No, that <i>really</i> doesn&#39;t do what you expect - at this point you&#39;re just writing the file-length to the start of the file. That won&#39;t yield a meaningful script. You say &quot;it sort of makes a mess&quot; - did you test the code?"}, {"owner": {"reputation": 159774, "user_id": 2141635, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/f6yNV.jpg?s=128&g=1", "display_name": "Padraic Cunningham", "link": "https://stackoverflow.com/users/2141635/padraic-cunningham"}, "edited": false, "score": 1, "creation_date": 1455740597, "post_id": 35466676, "comment_id": 58629617, "body": "<code>f.write(&quot;\\n&quot;+text + &quot;\\nwhile True:\\n\\tpass&quot;)</code> forget all the rest bar open and close and read, you might want to do a <code>f.seek(0);f.truncate()</code> before writing and be ready to kill the script"}], "answers": [{"tags": [], "owner": {"reputation": 32921, "user_id": 5771269, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6a5b618f5bd197150a6186318beba7?s=128&d=identicon&r=PG&f=1", "display_name": "cdlane", "link": "https://stackoverflow.com/users/5771269/cdlane"}, "is_accepted": false, "score": 1, "last_activity_date": 1457246158, "creation_date": 1457246158, "answer_id": 35823948, "question_id": 35466676, "link": "https://stackoverflow.com/questions/35466676/programmatically-indenting-python-code-in-a-self-rewriting-script/35823948#35823948", "title": "Programmatically indenting Python code in a self-rewriting script?", "body": "<p>I hope the following is in the spirit of what you're trying to do.  Note I got rid of the <code>while True:</code> as it keeps your program from rerunning itself a second time -- it gets stuck in the infinite loop and never calls <code>os.system()</code> again.  Read the three <code>if</code> clauses carefully before adding anything thing else to this script.  Run at your own risk:</p>\n\n<pre><code>import os\n\ntext = ''\nf = open('rewrite.py', 'r+')\nfor line in f:\n    if line.startswith(\"import\") or line.startswith(\"os.system\"):\n        text += line\n    elif line == \"\\n\":\n        text += line\n        text += \"for i in range(3):\\n\"\n    else:\n        text += ' ' * 4 + line\nf.seek(0)\nf.write(text)\nf.close()\nos.system(\"python rewrite.py\")\n</code></pre>\n\n<p>If all goes well, it should eventually stop with the error:</p>\n\n<pre><code>SystemError: too many statically nested blocks\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2837, "user_id": 5162616, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/980764c4bb1e33d7af3f54e4c44cc891?s=128&d=identicon&r=PG&f=1", "display_name": "Morgan G", "link": "https://stackoverflow.com/users/5162616/morgan-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1457246596, "last_edit_date": 1495540784, "creation_date": 1457246596, "answer_id": 35823988, "question_id": 35466676, "link": "https://stackoverflow.com/questions/35466676/programmatically-indenting-python-code-in-a-self-rewriting-script/35823988#35823988", "title": "Programmatically indenting Python code in a self-rewriting script?", "body": "<p><a href=\"https://stackoverflow.com/questions/11815503/whats-the-best-way-to-write-python-code-into-a-python-file\">Whats the best way to write python code into a python file?</a></p>\n\n<p>The second answer on this is really well done.  I would recommend using the class that he made!</p>\n"}], "owner": {"reputation": 7440, "user_id": 361883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e158f7f77cfb7400a30b389b68fcf60f?s=128&d=identicon&r=PG", "display_name": "AKor", "link": "https://stackoverflow.com/users/361883/akor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1457246596, "creation_date": 1455739562, "last_edit_date": 1455740267, "question_id": 35466676, "link": "https://stackoverflow.com/questions/35466676/programmatically-indenting-python-code-in-a-self-rewriting-script", "title": "Programmatically indenting Python code in a self-rewriting script?", "body": "<p>I'm trying to have some fun so I decided to see what I can do in terms of creating self-rewriting scripts. I made this:</p>\n\n<pre><code>import os\nimport string\n\nf = open('rewrite.py', 'r+')\ntext = f.read()\ntext = str(f.write(\"while True:\" + text))\nf.seek(0)\nf.write(text)\nf.close()\n\nos.system(\"python rewrite.py\")\n</code></pre>\n\n<p>But it sort of makes a mess since it doesn't indent anything after the while loop is inserted. The file itself is also called <strong>rewrite.py</strong>. I know this will be an infinite loop and create a huge file but I wanted to see if it was possible.</p>\n\n<p><strong>Edit:</strong>\nAfter running this script, the file contents now look like this:</p>\n\n<pre><code>Nonert os\nimport string\n\nf = open('rewrite.py', 'r+')\ntext = f.read()\ntext = str(f.write(\"while True:\" + text))\nf.seek(0)\nf.write(text)\nf.close()\n\nos.system(\"python rewrite.py\")\nwhile True:import os\nimport string\n\nf = open('rewrite.py', 'r+')\ntext = f.read()\ntext = str(f.write(\"while True:\" + text))\nf.seek(0)\nf.write(text)\nf.close()\n\nos.system(\"python rewrite.py\")\n</code></pre>\n"}, {"tags": ["python"], "comments": [{"owner": {"reputation": 3649, "user_id": 1133649, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/45ec3802ffba5f1deac11a6a568fd4f7?s=128&d=identicon&r=PG", "display_name": "Roman Susi", "link": "https://stackoverflow.com/users/1133649/roman-susi"}, "edited": false, "score": 2, "creation_date": 1455739714, "post_id": 35466663, "comment_id": 58629068, "body": "This is probably already answered here: <a href=\"http://stackoverflow.com/questions/107705/disable-output-buffering\" title=\"disable output buffering\">stackoverflow.com/questions/107705/disable-output-buffering</a>"}, {"owner": {"reputation": 1875, "user_id": 5057191, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d3a861c87b46363f63080839bbc699f2?s=128&d=identicon&r=PG&f=1", "display_name": "Mr. E", "link": "https://stackoverflow.com/users/5057191/mr-e"}, "edited": false, "score": 0, "creation_date": 1455739780, "post_id": 35466663, "comment_id": 58629104, "body": "I think printing is ok for testing, but the real debugging is with breakpoints and a good old-fashioned log file"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1455739846, "post_id": 35466663, "comment_id": 58629143, "body": "If stdout is a terminal, <code>print</code> output should be showing up immediately."}], "answers": [{"tags": [], "owner": {"reputation": 2240, "user_id": 1907046, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/TS5oO.png?s=128&g=1", "display_name": "Mike Ounsworth", "link": "https://stackoverflow.com/users/1907046/mike-ounsworth"}, "is_accepted": true, "score": 1, "last_activity_date": 1455741057, "creation_date": 1455741057, "answer_id": 35467103, "question_id": 35466663, "link": "https://stackoverflow.com/questions/35466663/python-print-immediately/35467103#35467103", "title": "Python print immediately?", "body": "<p>Exactly how and when stdout will flush itself depends on the implementation of the print function you're using, the string you're trying to print, possibly the OS, etc. </p>\n\n<p>Anecdotally, stdout seems to flush when it hits a newline character, but I don't always trust it, or I won't know until runtime if my string will contain a newline, so I use <code>flush()</code> pretty regularly in C, Java, and Python when I want to be sure that something prints immediately and I am not overly concerned about performance. Places where I've found this especially useful (ie where timing of the messages really matters) is: near code that is likely to throw exceptions, right before blocking IO calls, in multi-threaded sections of code.</p>\n\n<p>As a practical example, something like this seems like a natural usage for <code>flush()</code> (sorry it's in C++ rather than Python)</p>\n\n<pre><code>printf(\"Connecing to IP Camera at %s...\", ipCamAddr);\ncout.flush();\n\n// open a network connection to the camera\n\nprintf(\"Done!\\n\");\n</code></pre>\n\n<p>Because without the flush, it would hold the first string until it gets a <code>\\n</code>, which is <em>after</em> the connection has succeeded / failed.</p>\n"}], "owner": {"reputation": 5638, "user_id": 987706, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/f9c778f2ae5f4b5fde46d5f1720b4a7c?s=128&d=identicon&r=PG", "display_name": "The Oddler", "link": "https://stackoverflow.com/users/987706/the-oddler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 0, "accepted_answer_id": 35467103, "answer_count": 1, "score": 3, "last_activity_date": 1455741057, "creation_date": 1455739526, "question_id": 35466663, "link": "https://stackoverflow.com/questions/35466663/python-print-immediately", "title": "Python print immediately?", "body": "<p>I noticed that in python when I use a print statement, that it doesn't print immediately. I found you can use <code>sys.stdout.flush()</code> to make it show the print in the console.</p>\n\n<p>Is this the proper way of getting immediate feedback from a script, or is there a better way?</p>\n\n<p>I mainly want this for debugging. I had a hang and was trying to find where the code stalled, but since my print statements didn't show up I was searching in the wrong place, thinking my code didn't get to the print statement. (I finally found it with breakpoints, which is perhaps a better way of debugging, but print immediate-prints are just more convenient sometimes.)</p>\n"}, {"tags": ["python", "performance", "numpy", "pandas"], "comments": [{"owner": {"reputation": 289239, "user_id": 704848, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f9be2c2958e208c8d9b629ac43c9c42?s=128&d=identicon&r=PG", "display_name": "EdChum", "link": "https://stackoverflow.com/users/704848/edchum"}, "edited": false, "score": 4, "creation_date": 1455739564, "post_id": 35466651, "comment_id": 58628964, "body": "It would help if you explained what your function is actually trying to do by posting inputs, code and desired output"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 1, "creation_date": 1455739992, "post_id": 35466651, "comment_id": 58629233, "body": "Generally, you&#39;d write your function in such a way that it handles arrays natively. How this works would depend on what your function is. There&#39;s a good chance it handles arrays already, if the operations involved are simple."}, {"owner": {"reputation": 173469, "user_id": 901925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bbd70aaeb3a97d0087daf93c2be8804?s=128&d=identicon&r=PG", "display_name": "hpaulj", "link": "https://stackoverflow.com/users/901925/hpaulj"}, "edited": false, "score": 2, "creation_date": 1455741805, "post_id": 35466651, "comment_id": 58630279, "body": "Are you trying to make <code>Loss_func</code> work with multiple values of <code>y</code>?  Or larger dimensioned <code>X</code> and <code>W</code>?  Give us a concrete example with iteration.  That makes it easier to test alternatives.  We like to copy-n-paste working code."}, {"owner": {"user_type": "does_not_exist", "display_name": "user2379410"}, "edited": false, "score": 0, "creation_date": 1455746591, "post_id": 35466651, "comment_id": 58632986, "body": "Take <code>W.dot(np.transpose(x))</code> out of the loop?"}, {"owner": {"reputation": 83262, "user_id": 772649, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/03ad01df45fef92e267641197ad00e36?s=128&d=identicon&r=PG", "display_name": "HYRY", "link": "https://stackoverflow.com/users/772649/hyry"}, "edited": false, "score": 0, "creation_date": 1455801991, "post_id": 35466651, "comment_id": 58658978, "body": "what&#39;s the shape of scores?"}], "owner": {"reputation": 1549, "user_id": 3302563, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/noftk.jpg?s=128&g=1", "display_name": "Diego Aguado", "link": "https://stackoverflow.com/users/3302563/diego-aguado"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1455740066, "creation_date": 1455739498, "last_edit_date": 1455740066, "question_id": 35466651, "link": "https://stackoverflow.com/questions/35466651/fastest-way-of-avoiding-a-for-loop-in-python", "title": "Fastest way of avoiding a for loop in python", "body": "<p>I have a function which takes a scalar as an argument. I want to map a numpy array as argument of this function. </p>\n\n<pre><code>def myfn(scalar):\n    return transformed_scalar\n</code></pre>\n\n<p>I know about np.vectorize, which I have already used to vectorize it</p>\n\n<pre><code>vmyfunc = np.vectorize(myfn)\nmapped_array = vmyfunc([x1,x2,...,xn])\n</code></pre>\n\n<p>Reading the documentation I realized it's just a for loop, see quote below:</p>\n\n<blockquote>\n  <p>Notes</p>\n  \n  <p>The vectorize function is provided primarily for convenience, not for\n  performance. The implementation is essentially a for loop</p>\n</blockquote>\n\n<p>I'm looking for another way that improves to implement this vectorization of the function that improves the performance of this method.\nMaybe something using pandas?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The function that takes the scalar looks like the following:</p>\n\n<pre><code>def Loss_func(x, y, W):\n  delta = 1.0\n  scores = W.dot(np.transpose(x))\n  margins = np.maximum(0, scores - scores[y] + delta)\n  margins[y] = 0\n  loss_i = np.sum(margins)\n  return loss_i\n</code></pre>\n\n<p>Where y a scalar, X and W 2-D np arrays.</p>\n"}]